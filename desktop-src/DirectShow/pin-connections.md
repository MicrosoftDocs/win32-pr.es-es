---
description: Anclar conexiones
ms.assetid: 1406ade4-77d8-49a7-8f36-cc49ff007a26
title: Anclar conexiones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b509abddf4a915b65dfd322f76b4afb132a7f835
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104422841"
---
# <a name="pin-connections"></a><span data-ttu-id="bb633-103">Anclar conexiones</span><span class="sxs-lookup"><span data-stu-id="bb633-103">Pin Connections</span></span>

<span data-ttu-id="bb633-104">Los filtros se conectan a sus pin a través de la interfaz [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin) .</span><span class="sxs-lookup"><span data-stu-id="bb633-104">Filters connect at their pins, through the [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin) interface.</span></span> <span data-ttu-id="bb633-105">Los pin de salida se conectan a los pin de entrada.</span><span class="sxs-lookup"><span data-stu-id="bb633-105">Output pins connect to input pins.</span></span> <span data-ttu-id="bb633-106">Cada conexión de pin tiene un tipo de medio, descrito por la estructura de [**\_ \_ tipo de medio am**](/windows/win32/api/strmif/ns-strmif-am_media_type) .</span><span class="sxs-lookup"><span data-stu-id="bb633-106">Each pin connection has a media type, described by the [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) structure.</span></span>

<span data-ttu-id="bb633-107">Una aplicación conecta filtros mediante la llamada a métodos en el administrador de gráficos de filtro, nunca llamando a métodos en los filtros o PIN.</span><span class="sxs-lookup"><span data-stu-id="bb633-107">An application connects filters by calling methods on the Filter Graph Manager, never by calling methods on the filters or pins themselves.</span></span> <span data-ttu-id="bb633-108">La aplicación puede especificar directamente los filtros que se van a conectar, llamando al método [**IFilterGraph:: ConnectDirect**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-connectdirect) o [**IGraphBuilder:: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) ; o bien, puede conectar los filtros indirectamente mediante un método de creación de gráficos como [**IGraphBuilder:: RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span><span class="sxs-lookup"><span data-stu-id="bb633-108">The application can directly specify which filters to connect, by calling the [**IFilterGraph::ConnectDirect**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-connectdirect) or [**IGraphBuilder::Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) method; or it can connect filters indirectly, using a graph-building method such as [**IGraphBuilder::RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span></span>

<span data-ttu-id="bb633-109">Para que la conexión se realice correctamente, ambos filtros deben estar en el gráfico de filtro.</span><span class="sxs-lookup"><span data-stu-id="bb633-109">For the connection to succeed, both filters must be in the filter graph.</span></span> <span data-ttu-id="bb633-110">La aplicación puede Agregar un filtro al gráfico llamando al método [**IFilterGraph:: addFilter**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) .</span><span class="sxs-lookup"><span data-stu-id="bb633-110">The application can add a filter to the graph by calling the [**IFilterGraph::AddFilter**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) method.</span></span> <span data-ttu-id="bb633-111">El administrador de gráficos de filtro también puede Agregar filtros al gráfico.</span><span class="sxs-lookup"><span data-stu-id="bb633-111">The Filter Graph Manager may add filters to the graph, as well.</span></span> <span data-ttu-id="bb633-112">Cuando se agrega un filtro, el administrador de gráficos de filtros llama al método [**IBaseFilter:: JoinFilterGraph**](/windows/desktop/api/Strmif/nf-strmif-ibasefilter-joinfiltergraph) del filtro para notificar al filtro.</span><span class="sxs-lookup"><span data-stu-id="bb633-112">When a filter is added, the Filter Graph Manager calls the filter's [**IBaseFilter::JoinFilterGraph**](/windows/desktop/api/Strmif/nf-strmif-ibasefilter-joinfiltergraph) method to notify the filter.</span></span>

<span data-ttu-id="bb633-113">El esquema general del proceso de conexión es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="bb633-113">The general outline of the connection process is the following:</span></span>

1.  <span data-ttu-id="bb633-114">El administrador de gráficos de filtro llama a [**IPin:: Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) en el terminal de salida, pasando un puntero al pin de entrada.</span><span class="sxs-lookup"><span data-stu-id="bb633-114">The Filter Graph Manager calls [**IPin::Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) on the output pin, passing a pointer to the input pin.</span></span>
2.  <span data-ttu-id="bb633-115">Si el PIN de salida acepta la conexión, llama a [**IPin:: ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) en el PIN de entrada.</span><span class="sxs-lookup"><span data-stu-id="bb633-115">If the output pin accepts the connection, it calls [**IPin::ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) on the input pin.</span></span>
3.  <span data-ttu-id="bb633-116">Si el PIN de entrada también acepta la conexión, el intento de conexión se realiza correctamente y los pin están conectados.</span><span class="sxs-lookup"><span data-stu-id="bb633-116">If the input pin also accepts the connection, the connection attempt succeeds and the pins are connected.</span></span>

<span data-ttu-id="bb633-117">Algunos PIN se pueden desconectar y volver a conectar mientras el filtro está activo.</span><span class="sxs-lookup"><span data-stu-id="bb633-117">Some pins can be disconnected and reconnected while the filter is active.</span></span> <span data-ttu-id="bb633-118">Este tipo de reconexión se denomina reconexión *dinámica* .</span><span class="sxs-lookup"><span data-stu-id="bb633-118">This type of reconnection is called a *dynamic* reconnection.</span></span> <span data-ttu-id="bb633-119">Para obtener más información, vea [creación de gráficos dinámicos](dynamic-graph-building.md).</span><span class="sxs-lookup"><span data-stu-id="bb633-119">For more information, see [Dynamic Graph Building](dynamic-graph-building.md).</span></span> <span data-ttu-id="bb633-120">Sin embargo, la mayoría de los filtros no admiten la reconexión dinámica.</span><span class="sxs-lookup"><span data-stu-id="bb633-120">However, most filters do not support dynamic reconnection.</span></span>

<span data-ttu-id="bb633-121">Normalmente, los filtros se conectan en orden descendente; es decir, los pines de entrada del filtro están conectados antes de sus clavijas de salida.</span><span class="sxs-lookup"><span data-stu-id="bb633-121">Filters are usually connected in downstream order—in other words, the filter's input pins are connected before its output pins.</span></span> <span data-ttu-id="bb633-122">Un filtro siempre debe admitir este orden de conexión.</span><span class="sxs-lookup"><span data-stu-id="bb633-122">A filter should always support this order of connection.</span></span> <span data-ttu-id="bb633-123">Algunos filtros también admiten conexiones en el orden opuesto: los pin de salida primero, seguidos de los pin de entrada.</span><span class="sxs-lookup"><span data-stu-id="bb633-123">Some filters also support connections in the opposite order—output pins first, followed by input pins.</span></span> <span data-ttu-id="bb633-124">Por ejemplo, podría ser posible conectar un PIN de salida del filtro MUX al filtro de escritura de archivos antes de conectar los pin de entrada del filtro MUX.</span><span class="sxs-lookup"><span data-stu-id="bb633-124">For example, it might be possible to connect a MUX filter's output pin to the file-writer filter, before connecting the MUX filter's input pins.</span></span>

<span data-ttu-id="bb633-125">Cuando se llama al método **Connect** o **ReceiveConnection** de un PIN, el PIN debe comprobar que puede admitir la conexión.</span><span class="sxs-lookup"><span data-stu-id="bb633-125">When a pin's **Connect** or **ReceiveConnection** method is called, the pin must verify that it can support the connection.</span></span> <span data-ttu-id="bb633-126">Los detalles dependen del filtro determinado.</span><span class="sxs-lookup"><span data-stu-id="bb633-126">The details depend on the particular filter.</span></span> <span data-ttu-id="bb633-127">Entre las tareas más comunes se incluyen las siguientes:</span><span class="sxs-lookup"><span data-stu-id="bb633-127">The most common tasks include the following:</span></span>

-   <span data-ttu-id="bb633-128">Comprobar que el tipo de medio es aceptable</span><span class="sxs-lookup"><span data-stu-id="bb633-128">Check that the media type is acceptable</span></span>
-   <span data-ttu-id="bb633-129">Negociar un asignador</span><span class="sxs-lookup"><span data-stu-id="bb633-129">Negotiate an allocator</span></span>
-   <span data-ttu-id="bb633-130">Consulte el otro PIN para obtener las interfaces necesarias.</span><span class="sxs-lookup"><span data-stu-id="bb633-130">Query the other pin for required interfaces.</span></span>

 

 



