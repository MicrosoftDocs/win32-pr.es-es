---
description: Propiedades de codificación
ms.assetid: 6845c3fb-38a8-4b0d-aea2-e10f7e518653
title: Propiedades de codificación
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 093b72dc37501ca88882c6e3b530cda0eed1baa2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104153665"
---
# <a name="encoding-properties"></a><span data-ttu-id="204c5-103">Propiedades de codificación</span><span class="sxs-lookup"><span data-stu-id="204c5-103">Encoding Properties</span></span>

<span data-ttu-id="204c5-104">Los codificadores Windows Media Audio y Windows Media Video admiten diversos modos de codificación.</span><span class="sxs-lookup"><span data-stu-id="204c5-104">The Windows Media Audio and Windows Media Video encoders support a variety of encoding modes.</span></span> <span data-ttu-id="204c5-105">Estos modos normalmente se configuran mediante el establecimiento de propiedades en el codificador [Media Foundation la transformación](media-foundation-transforms.md) (MFT).</span><span class="sxs-lookup"><span data-stu-id="204c5-105">These modes are generally configured by setting properties on the encoder [Media Foundation transform](media-foundation-transforms.md) (MFT).</span></span> <span data-ttu-id="204c5-106">Para realizar la codificación de archivos, ya sea mediante el uso de componentes de nivel de WMContainer o mediante la creación de una topología parcial, debe configurar el codificador adecuadamente estableciendo las propiedades en función del modo de codificación y el tipo de medio de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="204c5-106">To perform file encoding, whether using WMContainer-level components or by building a partial topology, you must configure the encoder appropriately by setting properties depending on the mode of encoding and the media type of the stream.</span></span> <span data-ttu-id="204c5-107">El mismo conjunto de propiedades debe establecerse tanto en el codificador como en el objeto (receptor de archivos ASF o multiplexor ASF) que se usa para escribir el archivo ASF.</span><span class="sxs-lookup"><span data-stu-id="204c5-107">The same set of properties must be set both on the encoder and the object (ASF file sink or ASF multiplexer) you are using to write the ASF file.</span></span>

<span data-ttu-id="204c5-108">Las propiedades del codificador se definen en wmcodecdsp. h.</span><span class="sxs-lookup"><span data-stu-id="204c5-108">The encoder properties are defined in wmcodecdsp.h.</span></span> <span data-ttu-id="204c5-109">Las propiedades específicas que se usan para configurar el codificador se establecen mediante los métodos de la interfaz [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) .</span><span class="sxs-lookup"><span data-stu-id="204c5-109">The specific properties that are used to configure the encoder are set by using the methods of the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface.</span></span>

-   [<span data-ttu-id="204c5-110">Propiedades de secuencia de audio</span><span class="sxs-lookup"><span data-stu-id="204c5-110">Audio Stream Properties</span></span>](#audio-stream-properties)
-   [<span data-ttu-id="204c5-111">Propiedades de secuencia de vídeo</span><span class="sxs-lookup"><span data-stu-id="204c5-111">Video Stream Properties</span></span>](#video-stream-properties)
-   [<span data-ttu-id="204c5-112">Configurar el almacén de propiedades del codificador</span><span class="sxs-lookup"><span data-stu-id="204c5-112">Configuring the Encoder's Property Store</span></span>](#configuring-the-encoders-property-store)

### <a name="audio-stream-properties"></a><span data-ttu-id="204c5-113">Propiedades de secuencia de audio</span><span class="sxs-lookup"><span data-stu-id="204c5-113">Audio Stream Properties</span></span>

<span data-ttu-id="204c5-114">En la tabla siguiente se muestran las configuraciones del codificador para una secuencia de audio.</span><span class="sxs-lookup"><span data-stu-id="204c5-114">The following table shows the encoder configurations for an audio stream.</span></span>



| <span data-ttu-id="204c5-115">Tipo de codificación</span><span class="sxs-lookup"><span data-stu-id="204c5-115">Encoding type</span></span>                                                                                        | <span data-ttu-id="204c5-116">Nombre de propiedad: valor</span><span class="sxs-lookup"><span data-stu-id="204c5-116">Property name - Value</span></span>                                                                                                                                                                               |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="204c5-117">Codificación de velocidad de bits constante</span><span class="sxs-lookup"><span data-stu-id="204c5-117">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="204c5-118">MFPKEY \_ VBRENABLED- **false** (opcional) de forma predeterminada, MFPKEY \_ VBRENABLED está establecido en **false**.</span><span class="sxs-lookup"><span data-stu-id="204c5-118">MFPKEY\_VBRENABLED - **FALSE** (Optional)By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/>                                                                                             |
| [<span data-ttu-id="204c5-119">Codificación de velocidad de bits variable basada en la calidad</span><span class="sxs-lookup"><span data-stu-id="204c5-119">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="204c5-120">MFPKEY \_ VBRENABLED: **true**</span><span class="sxs-lookup"><span data-stu-id="204c5-120">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="204c5-121">MFPKEY \_ PASSESUSED-1 (opcional)</span><span class="sxs-lookup"><span data-stu-id="204c5-121">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="204c5-122">De forma predeterminada, MFPKEY \_ PASSESUSED se establece en 1.</span><span class="sxs-lookup"><span data-stu-id="204c5-122">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="204c5-123">MFPKEY \_ Desired \_ VBRQUALITY-from 0 to 100</span><span class="sxs-lookup"><span data-stu-id="204c5-123">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="204c5-124">Codificación de velocidad de bits variable sin restricciones</span><span class="sxs-lookup"><span data-stu-id="204c5-124">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="204c5-125">MFPKEY \_ VBRENABLED: **true**</span><span class="sxs-lookup"><span data-stu-id="204c5-125">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="204c5-126">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="204c5-126">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="204c5-127">Codificación de velocidad de bits variable máxima limitada</span><span class="sxs-lookup"><span data-stu-id="204c5-127">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="204c5-128">MFPKEY \_ VBRENABLED: **true**</span><span class="sxs-lookup"><span data-stu-id="204c5-128">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="204c5-129">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="204c5-129">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="204c5-130">MFPKEY \_ RMAX-velocidad de bits máxima</span><span class="sxs-lookup"><span data-stu-id="204c5-130">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="204c5-131">MFPKEY \_ Bmax: ventana de búfer máxima</span><span class="sxs-lookup"><span data-stu-id="204c5-131">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="video-stream-properties"></a><span data-ttu-id="204c5-132">Propiedades de secuencia de vídeo</span><span class="sxs-lookup"><span data-stu-id="204c5-132">Video Stream Properties</span></span>

<span data-ttu-id="204c5-133">En la tabla siguiente se muestran las configuraciones del codificador para una secuencia de vídeo.</span><span class="sxs-lookup"><span data-stu-id="204c5-133">The following table shows the encoder configurations for a video stream.</span></span>



| <span data-ttu-id="204c5-134">Tipo de codificación</span><span class="sxs-lookup"><span data-stu-id="204c5-134">Encoding type</span></span>                                                                                        | <span data-ttu-id="204c5-135">Nombre de propiedad</span><span class="sxs-lookup"><span data-stu-id="204c5-135">Property name</span></span>                                                                                                                                                                                       |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="204c5-136">Codificación de velocidad de bits constante</span><span class="sxs-lookup"><span data-stu-id="204c5-136">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="204c5-137">MFPKEY \_ VBRENABLED- **false** (opcional)</span><span class="sxs-lookup"><span data-stu-id="204c5-137">MFPKEY\_VBRENABLED - **FALSE** (Optional)</span></span><br/> <span data-ttu-id="204c5-138">De forma predeterminada, MFPKEY \_ VBRENABLED se establece en **false**.</span><span class="sxs-lookup"><span data-stu-id="204c5-138">By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/> <span data-ttu-id="204c5-139">MFPKEY \_ VideoWindow: ventana de búfer</span><span class="sxs-lookup"><span data-stu-id="204c5-139">MFPKEY\_VIDEOWINDOW - Buffer window</span></span><br/>                                  |
| [<span data-ttu-id="204c5-140">Codificación de velocidad de bits variable basada en la calidad</span><span class="sxs-lookup"><span data-stu-id="204c5-140">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="204c5-141">MFPKEY \_ VBRENABLED: **true**</span><span class="sxs-lookup"><span data-stu-id="204c5-141">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="204c5-142">MFPKEY \_ PASSESUSED-1 (opcional)</span><span class="sxs-lookup"><span data-stu-id="204c5-142">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="204c5-143">De forma predeterminada, MFPKEY \_ PASSESUSED se establece en 1.</span><span class="sxs-lookup"><span data-stu-id="204c5-143">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="204c5-144">MFPKEY \_ Desired \_ VBRQUALITY-from 0 to 100</span><span class="sxs-lookup"><span data-stu-id="204c5-144">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="204c5-145">Codificación de velocidad de bits variable sin restricciones</span><span class="sxs-lookup"><span data-stu-id="204c5-145">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="204c5-146">MFPKEY \_ VBRENABLED: **true**</span><span class="sxs-lookup"><span data-stu-id="204c5-146">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="204c5-147">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="204c5-147">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="204c5-148">Codificación de velocidad de bits variable máxima limitada</span><span class="sxs-lookup"><span data-stu-id="204c5-148">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="204c5-149">MFPKEY \_ VBRENABLED: **true**</span><span class="sxs-lookup"><span data-stu-id="204c5-149">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="204c5-150">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="204c5-150">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="204c5-151">MFPKEY \_ RMAX-velocidad de bits máxima</span><span class="sxs-lookup"><span data-stu-id="204c5-151">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="204c5-152">MFPKEY \_ Bmax: ventana de búfer máxima</span><span class="sxs-lookup"><span data-stu-id="204c5-152">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="configuring-the-encoders-property-store"></a><span data-ttu-id="204c5-153">Configurar el almacén de propiedades del codificador</span><span class="sxs-lookup"><span data-stu-id="204c5-153">Configuring the Encoder's Property Store</span></span>

<span data-ttu-id="204c5-154">Debe configurar un codificador especificando el tipo de codificación y los distintos valores específicos de la secuencia antes de la sesión de codificación.</span><span class="sxs-lookup"><span data-stu-id="204c5-154">You must configure an encoder by specifying the type of encoding and the various stream-specific settings before the encoding session.</span></span> <span data-ttu-id="204c5-155">También debe establecer las propiedades del codificador en el almacén de propiedades de un [objeto ContentInfo ASF](asf-contentinfo-object.md) que representa el objeto de encabezado ASF del archivo de salida.</span><span class="sxs-lookup"><span data-stu-id="204c5-155">You must also set the encoder properties in the property store of an [ASF ContentInfo Object](asf-contentinfo-object.md) that represents the ASF Header Object of the output file.</span></span>

<span data-ttu-id="204c5-156">Si usa una MFT del codificador:</span><span class="sxs-lookup"><span data-stu-id="204c5-156">If you are using an encoder MFT:</span></span>

1.  <span data-ttu-id="204c5-157">Obtenga una referencia a la interfaz [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) de la MFT del codificador, tal y como se describe en uso de la [interfaz IMFTransform de un codificador](using-an-encoder-s-imftransform--interface.md).</span><span class="sxs-lookup"><span data-stu-id="204c5-157">Get a reference to the encoder MFT's [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface as described in [Using an Encoder's IMFTransform Interface](using-an-encoder-s-imftransform--interface.md).</span></span>
2.  <span data-ttu-id="204c5-158">Consultando la MFT del codificador para la interfaz **IPropertyStore** .</span><span class="sxs-lookup"><span data-stu-id="204c5-158">Querying the encoder MFT for the **IPropertyStore** interface.</span></span>
3.  <span data-ttu-id="204c5-159">Establecer las propiedades necesarias mediante una llamada a **IPropertyStore:: SetValue**.</span><span class="sxs-lookup"><span data-stu-id="204c5-159">Setting the required properties by calling **IPropertyStore::SetValue**.</span></span>

<span data-ttu-id="204c5-160">Si usa los objetos de activación del codificador integrados y ya ha creado un receptor de archivos ASF, puede pasar el almacén de propiedades del receptor de medios ASF a [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) o [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span><span class="sxs-lookup"><span data-stu-id="204c5-160">If you are using the built-in encoder activation objects and have already created an configured the ASF file sink, you can pass the ASF media sink's property store to [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) or [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span></span> <span data-ttu-id="204c5-161">El codificador se configura automáticamente en función de la configuración especificada por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="204c5-161">The encoder is configured automatically based on the settings specified by the application.</span></span> <span data-ttu-id="204c5-162">Para obtener más información, consulte el procedimiento descrito en el uso de los [objetos de activación de un codificador](using-an-encoder-s-activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="204c5-162">For more information, see the procedure described in [Using an Encoder's Activation Objects](using-an-encoder-s-activation-objects.md).</span></span>

<span data-ttu-id="204c5-163">Para obtener más información sobre cómo crear objetos Media Foundation mediante el uso de objetos de activación, vea [objetos de activación](activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="204c5-163">For more information about creating Media Foundation objects by using activation objects, see [Activation Objects](activation-objects.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="204c5-164">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="204c5-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="204c5-165">Crear instancias de una MFT del codificador</span><span class="sxs-lookup"><span data-stu-id="204c5-165">Instantiating an Encoder MFT</span></span>](instantiating-the-encoder-mft.md)
</dt> <dt>

[<span data-ttu-id="204c5-166">Codificadores de Windows Media</span><span class="sxs-lookup"><span data-stu-id="204c5-166">Windows Media Encoders</span></span>](windows-media-encoders.md)
</dt> </dl>

 

 
