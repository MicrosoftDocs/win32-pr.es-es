---
description: El sistema de propiedades de Windows es un sistema de lectura y escritura extensible de definiciones de datos que proporciona una manera uniforme de expresar metadatos sobre los elementos de Shell.
ms.assetid: eb2dc2be-fc53-40aa-81f6-f353ab1d3a57
title: Información general del sistema de propiedades
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dab3a17eacdbaa9a5d0255004ba544b7c3f7ff2b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105706115"
---
# <a name="property-system-overview"></a><span data-ttu-id="3183c-103">Información general del sistema de propiedades</span><span class="sxs-lookup"><span data-stu-id="3183c-103">Property System Overview</span></span>

<span data-ttu-id="3183c-104">El sistema de propiedades de Windows es un sistema de lectura y escritura extensible de definiciones de datos que proporciona una manera uniforme de expresar metadatos sobre los elementos de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-104">The Windows Property System is an extensible read/write system of data definitions that provides a uniform way of expressing metadata about Shell items.</span></span> <span data-ttu-id="3183c-105">El sistema de propiedades de Windows en Windows Vista y versiones posteriores le permite almacenar y recuperar metadatos para elementos de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-105">The Windows Property system in Windows Vista and later enables you to store and retrieve metadata for Shell items.</span></span> <span data-ttu-id="3183c-106">Un elemento de Shell es cualquier parte única de contenido, como un archivo, una carpeta, un correo electrónico o un contacto.</span><span class="sxs-lookup"><span data-stu-id="3183c-106">A Shell item is any single piece of content, such as a file, folder, email, or contact.</span></span> <span data-ttu-id="3183c-107">Una propiedad es una parte individual de los metadatos asociados a un elemento de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-107">A property is an individual piece of metadata associated with a Shell item.</span></span> <span data-ttu-id="3183c-108">Los valores de propiedad se expresan como una estructura [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) .</span><span class="sxs-lookup"><span data-stu-id="3183c-108">Property values are expressed as a [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) structure.</span></span>

<span data-ttu-id="3183c-109">Este tema se organiza de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3183c-109">This topic is organized as follows:</span></span>

-   [<span data-ttu-id="3183c-110">Introducción</span><span class="sxs-lookup"><span data-stu-id="3183c-110">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="3183c-111">Escenarios de desarrollo</span><span class="sxs-lookup"><span data-stu-id="3183c-111">Development Scenarios</span></span>](#development-scenarios)
-   [<span data-ttu-id="3183c-112">Propiedades y búsqueda de Windows</span><span class="sxs-lookup"><span data-stu-id="3183c-112">Properties and Windows Search</span></span>](#properties-and-windows-search)
-   [<span data-ttu-id="3183c-113">Nota para los implementadores</span><span class="sxs-lookup"><span data-stu-id="3183c-113">Note to Implementers</span></span>](#note-to-implementers)
-   [<span data-ttu-id="3183c-114">Documentación del sistema de propiedades de Windows</span><span class="sxs-lookup"><span data-stu-id="3183c-114">Windows Property System Documentation</span></span>](#windows-property-system-documentation)
-   [<span data-ttu-id="3183c-115">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="3183c-115">Additional Resources</span></span>](#additional-resources)
-   [<span data-ttu-id="3183c-116">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="3183c-116">Related topics</span></span>](#related-topics)

## <a name="introduction"></a><span data-ttu-id="3183c-117">Introducción</span><span class="sxs-lookup"><span data-stu-id="3183c-117">Introduction</span></span>

<span data-ttu-id="3183c-118">Las propiedades se identifican de forma única mediante su nombre canónico (como `System.Document.LastAuthor` ) y la clave de propiedad (como `PKEY_Document_LastAuthor` ).</span><span class="sxs-lookup"><span data-stu-id="3183c-118">Properties are uniquely identified by their canonical name (such as `System.Document.LastAuthor`) and property key (such as `PKEY_Document_LastAuthor`).</span></span> <span data-ttu-id="3183c-119">Una clave de propiedad (PKEY) es la parte del nombre de un par nombre-valor que consta de un PKEY/PROPVARIANT o una cadena/PROPVARIANT, donde la cadena es el nombre canónico del PKEY (como `System.Document.LastAuthor` ).</span><span class="sxs-lookup"><span data-stu-id="3183c-119">A property key (PKEY) is the name portion of a name-value pair that consists of a PKEY/PROPVARIANT or a string/PROPVARIANT, where the string is the canonical name of the PKEY (such as `System.Document.LastAuthor`).</span></span> <span data-ttu-id="3183c-120">Un PKEY es una definición que indica al sistema de propiedades todo lo que necesita saber sobre la propiedad, mientras que el valor es una instancia real de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="3183c-120">A PKEY is a definition that tells the property system everything it needs to know about the property, whereas the value is an actual instance of the property.</span></span> <span data-ttu-id="3183c-121">Un PKEY contiene internamente un formatID y un propID.</span><span class="sxs-lookup"><span data-stu-id="3183c-121">A PKEY internally contains a formatID and propID.</span></span>

<span data-ttu-id="3183c-122">Una propiedad individual consta de las tres partes siguientes:</span><span class="sxs-lookup"><span data-stu-id="3183c-122">An individual property consists of the following three pieces:</span></span>

-   <span data-ttu-id="3183c-123">Un nombre canónico, como `System.Music.Artist` .</span><span class="sxs-lookup"><span data-stu-id="3183c-123">A canonical name, such as `System.Music.Artist`.</span></span>
-   <span data-ttu-id="3183c-124">Una descripción de esquema, que se especifica en el formato de archivo XML. propDesc y se expresa mediante programación a través de [**IPropertyDescription**](/windows/desktop/api/Propsys/nn-propsys-ipropertydescription).</span><span class="sxs-lookup"><span data-stu-id="3183c-124">A schema description, which is specified in the .propdesc XML file format and expressed programmatically through [**IPropertyDescription**](/windows/desktop/api/Propsys/nn-propsys-ipropertydescription).</span></span>
-   <span data-ttu-id="3183c-125">Un valor, como el nombre de un cantante.</span><span class="sxs-lookup"><span data-stu-id="3183c-125">A value, such as the name of a singer.</span></span>

<span data-ttu-id="3183c-126">La descripción del esquema consta de información sobre la propiedad, como el nombre de la propiedad, el tipo de datos, las restricciones, la información sobre cómo interactúa la propiedad con las vistas y el sistema de búsqueda, etc.</span><span class="sxs-lookup"><span data-stu-id="3183c-126">The schema description consists of information about the property, such as the property name, data type, constraints, information on how the property interacts with views and the search system, and so forth.</span></span> <span data-ttu-id="3183c-127">El nombre y la descripción del esquema se definen globalmente y son los mismos para todos los elementos y tipos.</span><span class="sxs-lookup"><span data-stu-id="3183c-127">The name and schema description are defined globally, and are the same for all items and types.</span></span> <span data-ttu-id="3183c-128">Un valor es específico de un elemento individual.</span><span class="sxs-lookup"><span data-stu-id="3183c-128">A value is specific to an individual item.</span></span> <span data-ttu-id="3183c-129">Es decir, la `System.Music.Artist` propiedad siempre se define como una cadena de varios valores, pero puede tener un valor diferente (o ningún valor en absoluto) para cada elemento.</span><span class="sxs-lookup"><span data-stu-id="3183c-129">That is, the `System.Music.Artist` property is always defined as a multi-value string, but may have a different value (or no value at all) for each item.</span></span>

<span data-ttu-id="3183c-130">Un controlador de propiedades traduce los datos almacenados en un archivo en un esquema estructurado reconocido por y al que puede tener acceso el explorador de Windows, Windows Search y otras aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="3183c-130">A property handler translates data stored in a file into a structured schema that is recognized by and can be accessed by Windows Explorer, Windows Search, and other applications.</span></span> <span data-ttu-id="3183c-131">Después, estos sistemas pueden interactuar con el controlador de propiedades para escribir y leer las propiedades del archivo.</span><span class="sxs-lookup"><span data-stu-id="3183c-131">These systems can then interact with the property handler to write and read properties to and from the file.</span></span> <span data-ttu-id="3183c-132">Los datos traducidos se exponen mediante programación y se muestran al usuario a través del explorador de Windows en diversos contextos, como vista de detalles, recuadros informativos, panel de detalles, páginas de propiedades, etc.</span><span class="sxs-lookup"><span data-stu-id="3183c-132">The translated data is exposed programmatically and shown to the user through Windows Explorer in a variety of contexts including details view, infotips, details pane, property pages, and so forth.</span></span> <span data-ttu-id="3183c-133">Cada controlador de propiedad está asociado a un tipo de archivo determinado, identificado por la extensión de nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="3183c-133">Each property handler is associated with a particular file type, which is identified by the file name extension.</span></span> <span data-ttu-id="3183c-134">Los desarrolladores deben implementar un controlador de propiedades que genere y consuma el formato nativo de su tipo de archivo, como. jpg o. png, o use el In-Memory almacén de propiedades, que genera y usa el formato binario MS-PROPSTORE.</span><span class="sxs-lookup"><span data-stu-id="3183c-134">Developers should implement a property handler that produces and consumes their file type's native format, such as .jpg or .png, or use the In-Memory Property Store, which produces and consumes the MS-PROPSTORE binary format.</span></span>

<span data-ttu-id="3183c-135">El sistema de propiedades de Windows crea un modelo de datos abstracto que proporciona un nivel de abstracción a partir de formatos de archivo individuales.</span><span class="sxs-lookup"><span data-stu-id="3183c-135">The Windows Property System creates an abstract data model that provides a level of abstraction from individual file formats.</span></span> <span data-ttu-id="3183c-136">El modelo de datos abstracto proporcionado por el sistema de propiedades de Windows es un método para leer y escribir un conjunto extensible de valores con nombre que están asociados a un elemento de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-136">The abstract data model provided by the Windows Property System is a method for reading and writing an extensible set of named values that are associated with a Shell item.</span></span> <span data-ttu-id="3183c-137">La expresión de valor es flexible, admite muchos tipos de datos y es extensible, lo que permite que los datos arbitrarios (**\_ BLOB de VT**) y los objetos se expresen como un valor.</span><span class="sxs-lookup"><span data-stu-id="3183c-137">The value expression is flexible, supporting many data types, and is extensible, enabling arbitrary data (**VT\_BLOB**) and objects to be expressed as a value.</span></span>

<span data-ttu-id="3183c-138">Debido a la abstracción, puede consultar los atributos o metadatos de cualquier elemento.</span><span class="sxs-lookup"><span data-stu-id="3183c-138">Due to the abstraction, you can query the attributes or metadata of any item.</span></span> <span data-ttu-id="3183c-139">Algunos ejemplos de elementos que se pueden abstraer son Microsoft Office documentos, etiquetas ID3 y AutoCAD y otro software de propiedad de terceros.</span><span class="sxs-lookup"><span data-stu-id="3183c-139">Examples of items that can be abstracted include Microsoft Office documents, ID3 tags, and AutoCAD and other third-party proprietary software.</span></span> <span data-ttu-id="3183c-140">Del mismo modo, si tiene un archivo. JPEG, puede usar los códecs. JPEG y EXIF para leer los bytes del archivo para detectar cuáles son las dimensiones de la imagen.</span><span class="sxs-lookup"><span data-stu-id="3183c-140">Similarly, if you have a .jpeg file, you can use the .jpeg and EXIF codecs to read the bytes of the file to discover what the dimensions of the image are.</span></span> <span data-ttu-id="3183c-141">Si tiene un archivo. png en su lugar, necesitará un códec diferente y otro código para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="3183c-141">If you have a .png file instead, you need a different codec and different code to do so.</span></span> <span data-ttu-id="3183c-142">El uso del sistema de propiedades de Windows evita este tipo de problema.</span><span class="sxs-lookup"><span data-stu-id="3183c-142">Using the Windows Property System avoids this sort of problem.</span></span> <span data-ttu-id="3183c-143">Si implementa un nuevo tipo de archivo, tiene la opción de conectarse a la abstracción uniforme ofrecida por el sistema de propiedades de Windows y especificar cómo hacer que los metadatos se consuman.</span><span class="sxs-lookup"><span data-stu-id="3183c-143">If you implement a new file type, you have the option to plug into the uniform abstraction offered by the Windows Property System and specify how to make your metadata consumable.</span></span> <span data-ttu-id="3183c-144">Por estos motivos, siempre es preferible usar la plataforma común que proporciona el sistema de propiedades de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-144">For these reasons, it is always preferable to use the common platform provided by the Windows Property System.</span></span>

## <a name="development-scenarios"></a><span data-ttu-id="3183c-145">Escenarios de desarrollo</span><span class="sxs-lookup"><span data-stu-id="3183c-145">Development Scenarios</span></span>

<span data-ttu-id="3183c-146">Las propiedades las expresan los productores y los consumidores.</span><span class="sxs-lookup"><span data-stu-id="3183c-146">Properties are expressed by producers and by consumers.</span></span> <span data-ttu-id="3183c-147">En este contexto, los productores son los inventarios de propiedades en el sistema de propiedades de Windows y los consumidores son aplicaciones (y sus desarrolladores) que consumen información de propiedades de este sistema.</span><span class="sxs-lookup"><span data-stu-id="3183c-147">In this context, producers are the inventors of properties in the Windows Property System and consumers are applications (and their developers) that consume property information from this system.</span></span> <span data-ttu-id="3183c-148">Los usos de los participantes y en el sistema de propiedades de Windows se identifican en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="3183c-148">Uses of and participants in the Windows Property System are identified in the following table.</span></span>



| <span data-ttu-id="3183c-149">Uso del sistema de propiedades de Windows</span><span class="sxs-lookup"><span data-stu-id="3183c-149">Use of the Windows Property System</span></span>                                                                                                                                                                                            | <span data-ttu-id="3183c-150">Participante</span><span class="sxs-lookup"><span data-stu-id="3183c-150">Participant</span></span> |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|
| <span data-ttu-id="3183c-151">Bloque de creación que proporciona un registro extensible de descripciones de propiedades, una implementación del almacén de propiedades en memoria y servicios para enlazar a controladores de propiedades, convertir tipos y serializar almacenes de propiedades.</span><span class="sxs-lookup"><span data-stu-id="3183c-151">A building block that provides an extensible registry of property descriptions, an in-memory property store implementation, and services for binding to property handlers, converting types, and serializing property stores.</span></span> | <span data-ttu-id="3183c-152">Consumidor</span><span class="sxs-lookup"><span data-stu-id="3183c-152">Consumer</span></span>    |
| <span data-ttu-id="3183c-153">Aplicaciones que quieren leer y escribir propiedades de forma abstracta.</span><span class="sxs-lookup"><span data-stu-id="3183c-153">Applications that want to read and write properties in an abstract way.</span></span>                                                                                                                                                       | <span data-ttu-id="3183c-154">Consumidor</span><span class="sxs-lookup"><span data-stu-id="3183c-154">Consumer</span></span>    |
| <span data-ttu-id="3183c-155">Los inventores de propiedades que definen las nuevas propiedades del sistema de propiedades definiendo esquemas de propiedades personalizadas y desarrollando sus propios controladores de propiedades.</span><span class="sxs-lookup"><span data-stu-id="3183c-155">Property inventors who define new properties for the property system by defining custom property schemas and developing their own property handlers.</span></span>                                                                          | <span data-ttu-id="3183c-156">Productor</span><span class="sxs-lookup"><span data-stu-id="3183c-156">Producer</span></span>    |
| <span data-ttu-id="3183c-157">Propietarios de formato de archivo que desean habilitar el acceso a las propiedades almacenadas en sus formatos de archivo personalizados.</span><span class="sxs-lookup"><span data-stu-id="3183c-157">File format owners who want to enable access to the properties stored in their custom file formats.</span></span>                                                                                                                           | <span data-ttu-id="3183c-158">Productor</span><span class="sxs-lookup"><span data-stu-id="3183c-158">Producer</span></span>    |



 

<span data-ttu-id="3183c-159">Los consumidores consumen propiedades, esquemas y controladores de propiedades existentes.</span><span class="sxs-lookup"><span data-stu-id="3183c-159">Consumers consume existing properties, schemas, and property handlers.</span></span> <span data-ttu-id="3183c-160">Las propiedades disponibles para el consumo incluyen propiedades de lectura y escritura de los controladores de propiedades de los tipos de archivo compatibles y también pueden incluir algunas propiedades personalizadas.</span><span class="sxs-lookup"><span data-stu-id="3183c-160">Properties available for consumption include read/write properties from property handlers for supported file types and may also include some custom properties.</span></span> <span data-ttu-id="3183c-161">Los esquemas disponibles incluyen al menos el esquema del sistema y, a veces, otros también.</span><span class="sxs-lookup"><span data-stu-id="3183c-161">Available schemas include at least the system schema, and sometimes others, too.</span></span> <span data-ttu-id="3183c-162">Un consumidor puede crear una aplicación para consumir metadatos y crear una vista basada en el artista, independientemente de en qué carpetas se almacenan los elementos.</span><span class="sxs-lookup"><span data-stu-id="3183c-162">A consumer can create an application to consume metadata and build a view based on artist, regardless of what folders the items are stored in.</span></span> <span data-ttu-id="3183c-163">La jerarquía de carpetas de archivos es irrelevante.</span><span class="sxs-lookup"><span data-stu-id="3183c-163">The file folder hierarchy is irrelevant.</span></span> <span data-ttu-id="3183c-164">Por ejemplo, puede especificar todos los elementos de la canción por un cantante determinado sin preocuparse por la ubicación de dichos elementos.</span><span class="sxs-lookup"><span data-stu-id="3183c-164">For example, you can specify all song items by a particular singer without being concerned about the location of such items.</span></span> <span data-ttu-id="3183c-165">Este escenario complejo de un extremo a otro no se limita al sistema de propiedades de Windows, sino que implica varios componentes diferentes, como las carpetas de indexación y búsqueda.</span><span class="sxs-lookup"><span data-stu-id="3183c-165">This complex, end-to-end scenario is not limited to the Windows Property System, but involves several different components, such as the indexing and search folders.</span></span>

<span data-ttu-id="3183c-166">Los inventarios de propiedades, o los desarrolladores de terceros, son productores del sistema de propiedades de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-166">Property inventors, or third-party developers, are producers in the Windows Property System.</span></span> <span data-ttu-id="3183c-167">Al preparar la definición de una nueva propiedad, inspeccione primero el conjunto de propiedades que define Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-167">When preparing to define a new property, first inspect the set of properties that Windows defines.</span></span> <span data-ttu-id="3183c-168">Si encuentra una que satisface sus necesidades, del tipo y la semántica que coincida con el uso requerido, use esa propiedad y no inventar una nueva.</span><span class="sxs-lookup"><span data-stu-id="3183c-168">If you find one that meets your needs, of the type and semantics that match your required use, use that property and do not invent a new one.</span></span> <span data-ttu-id="3183c-169">Si está definiendo una nueva propiedad personalizada, intente obtener el acuerdo con otros desarrolladores que puedan querer usarla y publicar el resultado de ese contrato para que puedan unirse a la comunidad de usuarios de esa propiedad.</span><span class="sxs-lookup"><span data-stu-id="3183c-169">If you are defining a new custom property, try to obtain agreement with other developers that might want to use it and publish the result of that agreement so that they can join the community of users of that property.</span></span>

<span data-ttu-id="3183c-170">Los productores pueden aprovechar las ventajas de la funcionalidad del explorador de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-170">Producers can take advantage of Windows Explorer functionality.</span></span> <span data-ttu-id="3183c-171">Por ejemplo, si está escribiendo un nuevo formato de imagen e implementa un controlador de propiedades, el nuevo formato de archivo estará disponible en el explorador de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-171">For example, if you are writing a new image format, and implement a property handler, your new file format becomes available in Windows Explorer.</span></span> <span data-ttu-id="3183c-172">A continuación, los usuarios pueden etiquetar sus fotografías y dinamizar su colección de fotografías en función de cualquier propiedad del sistema de propiedades de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-172">Users can then tag their photographs and pivot their collection of photographs based on any property in the Windows Property System.</span></span> <span data-ttu-id="3183c-173">De hecho, todo lo que hace Shell con las propiedades, los desarrolladores de terceros pueden hacerlo en sus propias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="3183c-173">In fact, anything that Shell does with properties, third-party developers can do in their own applications.</span></span> <span data-ttu-id="3183c-174">Esto incluye la agrupación, ordenación, consulta y visualización de propiedades completas.</span><span class="sxs-lookup"><span data-stu-id="3183c-174">This includes grouping, sorting, querying, and displaying full properties.</span></span> <span data-ttu-id="3183c-175">La experiencia del usuario que proporciona el explorador de Windows se puede implementar en gran medida por parte de terceros con API disponibles públicamente.</span><span class="sxs-lookup"><span data-stu-id="3183c-175">The user experience that Windows Explorer provides can be largely implemented by third parties with publically available APIs.</span></span> <span data-ttu-id="3183c-176">El explorador de Windows se puede reemplazar o extender con estas API.</span><span class="sxs-lookup"><span data-stu-id="3183c-176">Windows Explorer can be replaced or extended using these APIs.</span></span>

<span data-ttu-id="3183c-177">Desde el punto de vista de una aplicación que usa el modelo de datos de Shell, existe una gran variedad de escenarios que implican el uso del sistema de propiedades de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-177">From the point of view of an application that uses the Shell data model, there are a huge variety of scenarios that involve the use of the Windows property system.</span></span> <span data-ttu-id="3183c-178">Las aplicaciones de administración de medios son un ejemplo destacado.</span><span class="sxs-lookup"><span data-stu-id="3183c-178">Media management applications are a prominent example.</span></span> <span data-ttu-id="3183c-179">Los escenarios principales del sistema de propiedades incluyen escenarios como la lectura de la propiedad de palabra clave de una fotografía o la configuración de la propiedad datetaken.</span><span class="sxs-lookup"><span data-stu-id="3183c-179">Core property system scenarios include scenarios such as reading the keyword property of a photograph or setting the datetaken property.</span></span> <span data-ttu-id="3183c-180">Ejemplos de escenarios de integración de un extremo a otro que el sistema de propiedades de Windows habilita, pero que requieren varios componentes para funcionar, incluyen Mostrar todas las imágenes o buscar un documento que contiene una palabra clave.</span><span class="sxs-lookup"><span data-stu-id="3183c-180">Examples of end-to-end integration scenarios that the Windows Property System enables, but that require several other components to function, include showing all pictures, or finding a document that contains a keyword.</span></span>

## <a name="properties-and-windows-search"></a><span data-ttu-id="3183c-181">Propiedades y búsqueda de Windows</span><span class="sxs-lookup"><span data-stu-id="3183c-181">Properties and Windows Search</span></span>

<span data-ttu-id="3183c-182">Las propiedades sirven a productores y consumidores cuando interactúan con búsqueda e indexación de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-182">Properties serve both producers and consumers when they interface with Windows Search and indexing.</span></span> <span data-ttu-id="3183c-183">Windows Search tiene una memoria caché de valores de propiedad que se usan en la implementación de Windows Search Service (WSS).</span><span class="sxs-lookup"><span data-stu-id="3183c-183">Windows Search has a cache of property values that are used in the implementation of the Windows Search Service (WSS).</span></span> <span data-ttu-id="3183c-184">Estos valores de propiedad se pueden consultar mediante programación con el proveedor de OLE DB de Windows Search o a través de [**ISearchFolderItemFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-isearchfolderitemfactory), que representa los elementos de los resultados de la búsqueda y las vistas basadas en consultas.</span><span class="sxs-lookup"><span data-stu-id="3183c-184">These property values can be programmatically queried by using the Windows Search OLE DB provider, or through [**ISearchFolderItemFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-isearchfolderitemfactory), which represents items in search results and query-based views.</span></span> <span data-ttu-id="3183c-185">Windows Search recopila y almacena las propiedades que emiten los controladores de filtro o los controladores de propiedades cuando se indiza un elemento como un documento de Word.</span><span class="sxs-lookup"><span data-stu-id="3183c-185">Windows Search then collects and stores properties emitted by filter handlers or property handlers when an item such as a Word document is indexed.</span></span> <span data-ttu-id="3183c-186">Este almacén se descarta y se vuelve a generar cuando se vuelve a generar el índice.</span><span class="sxs-lookup"><span data-stu-id="3183c-186">This store is discarded and rebuilt when the index is rebuilt.</span></span>

> [!Note]  
> <span data-ttu-id="3183c-187">Recuerde que, al volver a registrar un esquema, el indizador no respeta los cambios realizados en los atributos de propiedades definidas previamente.</span><span class="sxs-lookup"><span data-stu-id="3183c-187">Remember that when you reregister a schema, changes made to attributes of previously defined properties may not be respected by the indexer.</span></span> <span data-ttu-id="3183c-188">La solución consiste en volver a generar el índice o introducir nuevas propiedades que reflejen los cambios en lugar de actualizar los anteriores (no se recomienda).</span><span class="sxs-lookup"><span data-stu-id="3183c-188">The solution is either to rebuild the index, or introduce new properties that reflect the changes instead of updating old ones (not recommended).</span></span> <span data-ttu-id="3183c-189">Para obtener más información, vea la nota de los [implementadores](#note-to-implementers) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="3183c-189">For more information, see [Note to Implementers](#note-to-implementers) later in this topic.</span></span>

 

<span data-ttu-id="3183c-190">Por ejemplo, un desarrollador que crea una aplicación multimedia desea mostrar a los usuarios de la aplicación toda la música disponible por un artista determinado.</span><span class="sxs-lookup"><span data-stu-id="3183c-190">For example, a developer creating a media application wants to show users of the application all available music by a particular artist.</span></span> <span data-ttu-id="3183c-191">La aplicación proporcionará al usuario una lista de intérpretes disponibles y, a continuación, generará una lista de todas las música disponibles por el artista que seleccione el usuario.</span><span class="sxs-lookup"><span data-stu-id="3183c-191">The application would provide the user with a list of available artists, and then generate a list of all available music by the artist that the user selects.</span></span> <span data-ttu-id="3183c-192">O bien, es posible que un usuario final desee realizar una consulta para? artista: Beethoven? y estar expuesto a la lista completa de propiedades disponibles en el transcurso de su búsqueda.</span><span class="sxs-lookup"><span data-stu-id="3183c-192">Or an end user might want to do a query for ?artist:Beethoven?, and be exposed to the full list of available properties in the course of their searche.</span></span> <span data-ttu-id="3183c-193">Este ejemplo implica el uso del espacio de nombres de Shell, los controladores de propiedades y/o la consulta del índice a través de uno de los siguientes elementos:</span><span class="sxs-lookup"><span data-stu-id="3183c-193">This example involves the use of the Shell namespace, property handlers, and/or querying the index through one of the following:</span></span>

-   <span data-ttu-id="3183c-194">Un origen de datos de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-194">A Shell data source.</span></span>
-   <span data-ttu-id="3183c-195">Proveedor OLE DB.</span><span class="sxs-lookup"><span data-stu-id="3183c-195">An OLE DB provider.</span></span>
-   <span data-ttu-id="3183c-196">Un archivo de búsqueda guardado (. Search-MS) que se usa para iniciar una consulta desplazándose hasta el archivo de búsqueda en el explorador de Windows o enlazando a [**IShellFolder**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellfolder) mediante programación.</span><span class="sxs-lookup"><span data-stu-id="3183c-196">A Saved Search file (.search-ms) that is used to initiate a query by navigating to the search file in Windows Explorer or binding to [**IShellFolder**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-ishellfolder) programmatically.</span></span>

> [!Note]  
> <span data-ttu-id="3183c-197">Aunque la `System.Kind` propiedad no participa en este escenario de aplicación multimedia, podría usarse para crear una consulta que devolvería todos los archivos. Search-MS en un ámbito determinado.</span><span class="sxs-lookup"><span data-stu-id="3183c-197">Although the `System.Kind` property does not participate in this media application scenario, it could be used to build a query that would return all of the .search-ms files in a particular scope.</span></span>

 

<span data-ttu-id="3183c-198">La mejor manera de tener acceso a las API de búsqueda y crear aplicaciones de Windows Search es a través de un origen de datos de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-198">The preferred way to access the Search APIs and create Windows Search applications is through a Shell data source.</span></span> <span data-ttu-id="3183c-199">[**ISearchFolderItemFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-isearchfolderitemfactory) es un componente que puede crear instancias del origen de datos de la carpeta de búsqueda, que es un tipo de origen de datos "virtual" proporcionado por el shell que puede ejecutar consultas sobre otros orígenes de datos en el espacio de nombres del shell y enumerar los resultados.</span><span class="sxs-lookup"><span data-stu-id="3183c-199">[**ISearchFolderItemFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-isearchfolderitemfactory) is a component that can create instances of the Search folder data source, which is a sort of "virtual" data source provided by the Shell that can execute queries over other data sources in the Shell namespace and enumerate results.</span></span> <span data-ttu-id="3183c-200">Puede hacerlo mediante el indizador, o bien enumerando e inspeccionando manualmente los elementos de los ámbitos especificados.</span><span class="sxs-lookup"><span data-stu-id="3183c-200">It can do so either by using the indexer, or by manually enumerating and inspecting items in the specified scopes.</span></span>

<span data-ttu-id="3183c-201">Los desarrolladores de terceros pueden crear aplicaciones que consuman los datos en el índice mediante consultas mediante programación y pueden extender los datos del índice para que los tipos de archivo y elemento personalizados los indexe Windows Search.</span><span class="sxs-lookup"><span data-stu-id="3183c-201">Third-party developers can create applications that consume the data in the index through programmatic queries, and can extend the data in the index for custom file and item types to be indexed by Windows Search.</span></span> <span data-ttu-id="3183c-202">Si desea mostrar los resultados de la consulta en el explorador de Windows, debe implementar un origen de datos de Shell antes de poder crear un controlador de protocolo para extender el índice.</span><span class="sxs-lookup"><span data-stu-id="3183c-202">If you want to show query results in Windows Explorer, you must implement a Shell data source before you can create a protocol handler to extend the index.</span></span> <span data-ttu-id="3183c-203">Sin embargo, si todas las consultas se realizarán mediante programación (a través de OLE DB por ejemplo) e interpretadas por el código de la aplicación en lugar del shell, un espacio de nombres del shell sigue siendo preferible, pero no es necesario.</span><span class="sxs-lookup"><span data-stu-id="3183c-203">However, if all queries will be programmatic (through OLE DB for example) and interpreted by the application?s code rather than the Shell, then a Shell namespace is still preferred but not required.</span></span> <span data-ttu-id="3183c-204">Se requiere un controlador de protocolo para que Windows obtenga información sobre el contenido de los archivos, como los elementos de las bases de datos o los tipos de archivo personalizados.</span><span class="sxs-lookup"><span data-stu-id="3183c-204">A protocol handler is required for Windows to obtain information about file contents, such as items in databases or custom file types.</span></span> <span data-ttu-id="3183c-205">Aunque Windows Search puede indizar el nombre y las propiedades del archivo, Windows no tiene información sobre el contenido del archivo.</span><span class="sxs-lookup"><span data-stu-id="3183c-205">While Windows Search can index the name and properties of the file, Windows has no information about the content of the file.</span></span> <span data-ttu-id="3183c-206">Como resultado, estos elementos no se pueden indizar ni exponer en el shell de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-206">As a result, such items cannot be indexed or exposed in the Windows Shell.</span></span> <span data-ttu-id="3183c-207">Al implementar un controlador de protocolo personalizado, puede exponer estos elementos.</span><span class="sxs-lookup"><span data-stu-id="3183c-207">By implementing a custom protocol handler, you can expose these items.</span></span> <span data-ttu-id="3183c-208">Para obtener una lista de los controladores identificados por el escenario de desarrollador que está intentando conseguir, vea "información general de los controladores" en [Windows Search como plataforma de desarrollo](../search/-search-3x-wds-development-ovr.md).</span><span class="sxs-lookup"><span data-stu-id="3183c-208">For a list of handlers identified by the developer scenario you are trying to achieve, see "Overview of Handlers" in [Windows Search as a Development Platform](../search/-search-3x-wds-development-ovr.md).</span></span>

> [!Note]  
> <span data-ttu-id="3183c-209">Un origen de datos de Shell a veces se conoce como una extensión de espacio de nombres de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-209">A Shell data source is sometimes known as a Shell namespace extension.</span></span> <span data-ttu-id="3183c-210">Un controlador a veces se conoce como una extensión de shell o un controlador de extensión de Shell.</span><span class="sxs-lookup"><span data-stu-id="3183c-210">A handler is sometimes known as a Shell extension or a Shell extension handler.</span></span>

 

## <a name="note-to-implementers"></a><span data-ttu-id="3183c-211">Nota para los implementadores</span><span class="sxs-lookup"><span data-stu-id="3183c-211">Note to Implementers</span></span>

<span data-ttu-id="3183c-212">Debido a las posibles dificultades que puede tener el indizador al consumir el esquema del sistema de propiedades, es fundamental que defina los atributos con cuidado y de forma estratégica para la primera versión del esquema.</span><span class="sxs-lookup"><span data-stu-id="3183c-212">Due to potential difficulties that the indexer may have when consuming the property system's schema, it is critical that you define attributes carefully and strategically for the first release of the schema.</span></span> <span data-ttu-id="3183c-213">Cualquier cambio en los atributos (tipo, ancho de columna, si indexable) no se reflejará en la base de datos después de que se haya registrado un esquema.</span><span class="sxs-lookup"><span data-stu-id="3183c-213">Any changes to attributes (type, column width, whether indexible) will not be reflected in the database after a schema has been registered.</span></span> <span data-ttu-id="3183c-214">Las únicas maneras de que estos cambios se reconozcan después de que el esquema se haya registrado una vez en un sistema serían volver a generar el índice y, a continuación, registrar el nuevo esquema, o registrar el esquema y, a continuación, crear una nueva propiedad para cada versión posterior; por ejemplo `PKEY_GroupName_PropertyNameV2` , `PKEY_GroupName_PropertyNameV3` , y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="3183c-214">The only ways to have these changes recognized after the schema has been registered once on a system would be either to rebuild the index and then register the new schema, or to register the schema and then create a new property for each subsequent release; for example `PKEY_GroupName_PropertyNameV2`, `PKEY_GroupName_PropertyNameV3`, and so forth.</span></span> <span data-ttu-id="3183c-215">No se recomienda crear nuevas propiedades de esta manera, ya que varias columnas extrañas pueden afectar al rendimiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="3183c-215">We do not recommend creating new properties in this manner, because multiple extraneous columns may impact system performance.</span></span>

## <a name="windows-property-system-documentation"></a><span data-ttu-id="3183c-216">Documentación del sistema de propiedades de Windows</span><span class="sxs-lookup"><span data-stu-id="3183c-216">Windows Property System Documentation</span></span>

<span data-ttu-id="3183c-217">El resto de esta documentación contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="3183c-217">The remainder of this documentation contains the following sections:</span></span>

-   [<span data-ttu-id="3183c-218">Guía del desarrollador del sistema de propiedades de Windows</span><span class="sxs-lookup"><span data-stu-id="3183c-218">Windows Property System Developer's Guide</span></span>](property-system-developer-s-guide.md)

    <span data-ttu-id="3183c-219">Describe en detalle cómo implementar los escenarios de desarrollo principales con el sistema de propiedades de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-219">Describes in detail how to implement the main development scenarios using the Windows Property System.</span></span>

-   [<span data-ttu-id="3183c-220">Referencia del sistema de propiedades</span><span class="sxs-lookup"><span data-stu-id="3183c-220">Property System Reference</span></span>](property-system-reference.md)

    <span data-ttu-id="3183c-221">Documenta las [propiedades de Windows](props.md), el [esquema de descripción de propiedades](property-description-schema.md), las [interfaces](interfaces.md), [las funciones, las](functions.md) [estructuras](structures.md)y las [constantes, las enumeraciones y las marcas](constants--enumerations--and-flags.md) del sistema de propiedades de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-221">Documents the [Windows Properties](props.md), [Property Description Schema](property-description-schema.md), [Interfaces](interfaces.md), [Functions](functions.md), [Structures](structures.md), and [Constants, Enumerations, and Flags](constants--enumerations--and-flags.md) of the Windows Property System.</span></span>

-   [<span data-ttu-id="3183c-222">Ejemplos de código del sistema de propiedades</span><span class="sxs-lookup"><span data-stu-id="3183c-222">Property System Code Samples</span></span>](property-system-code-samples.md)

    <span data-ttu-id="3183c-223">Describe ejemplos que muestran cómo usar el sistema de propiedades de Windows.</span><span class="sxs-lookup"><span data-stu-id="3183c-223">Describes samples that demonstrate how to use the Windows Property System.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="3183c-224">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="3183c-224">Additional Resources</span></span>

-   <span data-ttu-id="3183c-225">Para obtener información sobre cómo reutilizar el almacén de propiedades In-Memory, vea [inicializar controladores de propiedades](building-property-handlers-property-handlers.md) y [**PSCreateMemoryPropertyStore**](/windows/desktop/api/Propsys/nf-propsys-pscreatememorypropertystore).</span><span class="sxs-lookup"><span data-stu-id="3183c-225">For information about reusing the In-Memory Property Store, see [Initializing Property Handlers](building-property-handlers-property-handlers.md) and [**PSCreateMemoryPropertyStore**](/windows/desktop/api/Propsys/nf-propsys-pscreatememorypropertystore).</span></span>
-   <span data-ttu-id="3183c-226">Para obtener una especificación del formato de archivo binario del almacén de propiedades de Microsoft, consulte [ \[ MS \_ PROPSTORE \] ](/openspecs/windows_protocols/ms-propstore/39ea873f-7af5-44dd-92f9-bc1f293852cc).</span><span class="sxs-lookup"><span data-stu-id="3183c-226">For a specification of the Microsoft Property Store Binary File Format, see [\[MS\_PROPSTORE\]](/openspecs/windows_protocols/ms-propstore/39ea873f-7af5-44dd-92f9-bc1f293852cc).</span></span>
-   <span data-ttu-id="3183c-227">La relación entre la búsqueda de Windows y la indexación, y cómo extender el índice, se explica en los temas siguientes en Windows Search:</span><span class="sxs-lookup"><span data-stu-id="3183c-227">The relationship between Windows Search and indexing, and how to extend the index, are explained in the following topics in Windows Search:</span></span>
    -   [<span data-ttu-id="3183c-228">Desarrollar controladores de filtro para Windows Search</span><span class="sxs-lookup"><span data-stu-id="3183c-228">Developing Filter Handlers for Windows Search</span></span>](../search/-search-ifilter-conceptual.md)
    -   [<span data-ttu-id="3183c-229">Desarrollo de controladores de protocolo para Windows Search</span><span class="sxs-lookup"><span data-stu-id="3183c-229">Developing Protocol Handlers for Windows Search</span></span>](../search/-search-3x-wds-phaddins.md)
    -   [<span data-ttu-id="3183c-230">Desarrollar controladores de propiedades para Windows Search</span><span class="sxs-lookup"><span data-stu-id="3183c-230">Developing Property Handlers for Windows Search</span></span>](../search/-search-3x-wds-extidx-propertyhandlers.md)
    -   <span data-ttu-id="3183c-231">Para Windows 7 o la descarga del SDK de Windows Vista actualizado, consulte la [Windows SDK](https://msdn.microsoft.com/windowsvista/bb980924.aspx).</span><span class="sxs-lookup"><span data-stu-id="3183c-231">For the Windows 7 or updated Windows Vista SDK download, see the [Windows SDK](https://msdn.microsoft.com/windowsvista/bb980924.aspx).</span></span>

## <a name="related-topics"></a><span data-ttu-id="3183c-232">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="3183c-232">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3183c-233">Guía del desarrollador del sistema de propiedades de Windows</span><span class="sxs-lookup"><span data-stu-id="3183c-233">Windows Property System Developer's Guide</span></span>](property-system-developer-s-guide.md)
</dt> <dt>

[<span data-ttu-id="3183c-234">Referencia del sistema de propiedades</span><span class="sxs-lookup"><span data-stu-id="3183c-234">Property System Reference</span></span>](property-system-reference.md)
</dt> <dt>

[<span data-ttu-id="3183c-235">Ejemplos de código del sistema de propiedades</span><span class="sxs-lookup"><span data-stu-id="3183c-235">Property System Code Samples</span></span>](property-system-code-samples.md)
</dt> </dl>

 

 
