---
title: Acerca de los controles de encabezado
description: Un control de encabezado es una ventana que normalmente se coloca encima de las columnas de texto o de números. Contiene un título para cada columna y puede dividirse en partes.
ms.assetid: b464fb9a-e342-4209-ba6f-15b5388f3914
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6d9beaa9dc3bd8eb94d749ec271902a480b853e
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "103793953"
---
# <a name="about-header-controls"></a><span data-ttu-id="b071b-104">Acerca de los controles de encabezado</span><span class="sxs-lookup"><span data-stu-id="b071b-104">About Header Controls</span></span>

<span data-ttu-id="b071b-105">Un control de encabezado es una ventana que normalmente se coloca encima de las columnas de texto o de números.</span><span class="sxs-lookup"><span data-stu-id="b071b-105">A header control is a window that is usually positioned above columns of text or numbers.</span></span> <span data-ttu-id="b071b-106">Contiene un título para cada columna y puede dividirse en partes.</span><span class="sxs-lookup"><span data-stu-id="b071b-106">It contains a title for each column, and it can be divided into parts.</span></span> <span data-ttu-id="b071b-107">El usuario puede arrastrar los divisores que separan los elementos para establecer el ancho de cada columna.</span><span class="sxs-lookup"><span data-stu-id="b071b-107">The user can drag the dividers that separate the parts to set the width of each column.</span></span> <span data-ttu-id="b071b-108">En la ilustración siguiente se muestra un control de encabezado que tiene columnas con etiqueta que proporcionan información detallada acerca de los archivos de un directorio.</span><span class="sxs-lookup"><span data-stu-id="b071b-108">The following illustration shows a header control that has labeled columns that give detailed information about files in a directory.</span></span>

![captura de pantalla de un cuadro de diálogo con un control de encabezado de tres columnas](images/header.png)

<span data-ttu-id="b071b-110">Puede crear un control de encabezado mediante la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , especificando la clase de ventana de [**\_ encabezado WC**](common-control-window-classes.md) y los [estilos de control de encabezado](header-control-styles.md)adecuados.</span><span class="sxs-lookup"><span data-stu-id="b071b-110">You can create a header control by using the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_HEADER**](common-control-window-classes.md) window class and the appropriate [Header Control Styles](header-control-styles.md).</span></span> <span data-ttu-id="b071b-111">Esta clase de ventana se registra cuando se carga el archivo DLL de control común.</span><span class="sxs-lookup"><span data-stu-id="b071b-111">This window class is registered when the common control DLL is loaded.</span></span> <span data-ttu-id="b071b-112">Para asegurarse de que se carga este archivo DLL, utilice la función [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) .</span><span class="sxs-lookup"><span data-stu-id="b071b-112">To ensure that this DLL is loaded, use the [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function.</span></span> <span data-ttu-id="b071b-113">Después de crear un control de encabezado, puede dividirlo en elementos, establecer el texto de cada parte y controlar la apariencia de la ventana mediante mensajes de la ventana de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-113">After you create a header control, you can divide it into parts, set the text in each part, and control the appearance of the window by using header window messages.</span></span>

<span data-ttu-id="b071b-114">Un control de encabezado se puede crear como una ventana secundaria de otro control, como un cuadro de lista.</span><span class="sxs-lookup"><span data-stu-id="b071b-114">A header control can be created as a child window of another control, such as a list box.</span></span> <span data-ttu-id="b071b-115">Sin embargo, el control primario no es consciente del control de encabezado y no permite el espacio ocupado por el encabezado, con el resultado de que los elementos de lista aparecerán detrás del encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-115">However, the parent control is not aware of the header control and does not allow for the space taken up by the header, with the result that list items will appear behind the header.</span></span> <span data-ttu-id="b071b-116">Si desea utilizar un control de encabezado en un cuadro de lista o en otro control, el control primario debe dibujarse en el propietario para que todos los elementos se muestren en la posición correcta.</span><span class="sxs-lookup"><span data-stu-id="b071b-116">If you wish to use a header control in a list box or other control, the parent control must be owner-drawn so that all items are displayed in the correct position.</span></span>

<span data-ttu-id="b071b-117">Los controles de vista de lista ya tienen controles de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-117">List-view controls already have header controls.</span></span> <span data-ttu-id="b071b-118">En lugar de crear un control de encabezado para un control de vista de lista, use [**LVM \_ getheader**](lvm-getheader.md) o [**ListView \_ getheader**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) para recuperar el control existente.</span><span class="sxs-lookup"><span data-stu-id="b071b-118">Instead of creating a header control for a list-view control, you use [**LVM\_GETHEADER**](lvm-getheader.md) or [**ListView\_GetHeader**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) to retrieve the existing control.</span></span>

-   [<span data-ttu-id="b071b-119">Tamaño y posición del control de encabezado</span><span class="sxs-lookup"><span data-stu-id="b071b-119">Header Control Size and Position</span></span>](#header-control-size-and-position)
-   [<span data-ttu-id="b071b-120">Elementos</span><span class="sxs-lookup"><span data-stu-id="b071b-120">Items</span></span>](#items)
-   [<span data-ttu-id="b071b-121">Controles de encabezado dibujados por el propietario</span><span class="sxs-lookup"><span data-stu-id="b071b-121">Owner-Drawn Header Controls</span></span>](#owner-drawn-header-controls)
-   [<span data-ttu-id="b071b-122">Filtros de control de encabezado</span><span class="sxs-lookup"><span data-stu-id="b071b-122">Header Control Filters</span></span>](#header-control-filters)
-   [<span data-ttu-id="b071b-123">Procesamiento de mensajes de control de encabezado predeterminado</span><span class="sxs-lookup"><span data-stu-id="b071b-123">Default Header Control Message Processing</span></span>](#default-header-control-message-processing)

## <a name="header-control-size-and-position"></a><span data-ttu-id="b071b-124">Tamaño y posición del control de encabezado</span><span class="sxs-lookup"><span data-stu-id="b071b-124">Header Control Size and Position</span></span>

<span data-ttu-id="b071b-125">Normalmente, debe establecer el tamaño y la posición de un control de encabezado para ajustarse a los límites de un rectángulo determinado, como el área de cliente de una ventana.</span><span class="sxs-lookup"><span data-stu-id="b071b-125">Typically, you must set the size and position of a header control to fit within the boundaries of a particular rectangle, such as the client area of a window.</span></span> <span data-ttu-id="b071b-126">Mediante el mensaje [**de \_ diseño HDM**](hdm-layout.md) , puede recuperar los valores de tamaño y posición adecuados del control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-126">By using the [**HDM\_LAYOUT**](hdm-layout.md) message, you can retrieve the appropriate size and position values from the header control.</span></span>

<span data-ttu-id="b071b-127">Al enviar [**el \_ diseño HDM**](hdm-layout.md), se especifica la dirección de una estructura [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) que contiene las coordenadas del rectángulo que el control de encabezado va a ocupar y proporciona un puntero a una estructura [**windowpos (**](/windows/win32/api/winuser/ns-winuser-windowpos) .</span><span class="sxs-lookup"><span data-stu-id="b071b-127">When sending [**HDM\_LAYOUT**](hdm-layout.md), you specify the address of an [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) structure that contains the coordinates of the rectangle that the header control is to occupy and provides a pointer to a [**WINDOWPOS**](/windows/win32/api/winuser/ns-winuser-windowpos) structure.</span></span> <span data-ttu-id="b071b-128">El control rellena la estructura **windowpos (** con los valores de tamaño y posición adecuados para colocar el control a lo largo de la parte superior del rectángulo especificado.</span><span class="sxs-lookup"><span data-stu-id="b071b-128">The control fills the **WINDOWPOS** structure with size and position values appropriate for positioning the control along the top of the specified rectangle.</span></span> <span data-ttu-id="b071b-129">El valor de alto es la suma de los altos de los bordes horizontales del control y el alto medio de los caracteres de la fuente actualmente seleccionada en el contexto del dispositivo del control.</span><span class="sxs-lookup"><span data-stu-id="b071b-129">The height value is the sum of the heights of the control's horizontal borders and the average height of characters in the font currently selected into the control's device context.</span></span>

<span data-ttu-id="b071b-130">Si desea usar el [**\_ diseño de HDM**](hdm-layout.md) para establecer el tamaño y la posición iniciales de un control de encabezado, establezca el estado de visibilidad inicial del control para que esté oculto.</span><span class="sxs-lookup"><span data-stu-id="b071b-130">If you want to use [**HDM\_LAYOUT**](hdm-layout.md) to set the initial size and position of a header control, set the initial visibility state of the control so that it is hidden.</span></span> <span data-ttu-id="b071b-131">Después de enviar el **\_ diseño de HDM** para recuperar los valores de tamaño y posición, puede usar la función [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) para establecer el nuevo tamaño, la posición y el estado de visibilidad.</span><span class="sxs-lookup"><span data-stu-id="b071b-131">After sending **HDM\_LAYOUT** to retrieve the size and position values, you can use the [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) function to set the new size, position, and visibility state.</span></span>

## <a name="items"></a><span data-ttu-id="b071b-132">Elementos</span><span class="sxs-lookup"><span data-stu-id="b071b-132">Items</span></span>

<span data-ttu-id="b071b-133">Normalmente, un control de encabezado tiene varios elementos de encabezado que definen las columnas del control.</span><span class="sxs-lookup"><span data-stu-id="b071b-133">A header control typically has several header items that define the columns of the control.</span></span> <span data-ttu-id="b071b-134">Para agregar un elemento a un control de encabezado, envíe el mensaje [**\_ INSERTITEM HDM**](hdm-insertitem.md) al control.</span><span class="sxs-lookup"><span data-stu-id="b071b-134">You add an item to a header control by sending the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to the control.</span></span> <span data-ttu-id="b071b-135">El mensaje incluye la dirección de una estructura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) .</span><span class="sxs-lookup"><span data-stu-id="b071b-135">The message includes the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure.</span></span> <span data-ttu-id="b071b-136">Esta estructura define las propiedades del elemento de encabezado, que puede incluir una cadena, una imagen de mapa de bits, un tamaño inicial y un valor **lParam** definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b071b-136">This structure defines the properties of the header item, which can include a string, a bitmapped image, an initial size, and an application-defined **LPARAM** value.</span></span>

<span data-ttu-id="b071b-137">El miembro **FMT** de la estructura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) de un elemento puede incluir la marca de **mapa de \_ bits** **HDF \_ String** o HDF para indicar si el control muestra la cadena o el mapa de bits del elemento.</span><span class="sxs-lookup"><span data-stu-id="b071b-137">The **fmt** member of an item's [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure can include either the **HDF\_STRING** or **HDF\_BITMAP** flag to indicate whether the control displays the item's string or bitmap.</span></span> <span data-ttu-id="b071b-138">Si desea mostrar una cadena y un mapa de bits, cree un elemento dibujado por el propietario. para ello, establezca el miembro **FMT** para que incluya la marca de **\_ OWNERDRAW HDF** .</span><span class="sxs-lookup"><span data-stu-id="b071b-138">If you want to display both a string and a bitmap, create an owner-drawn item by setting the **fmt** member to include the **HDF\_OWNERDRAW** flag.</span></span> <span data-ttu-id="b071b-139">La estructura **HDITEM** también especifica marcas de formato que indican al control si centrar, alinear a la izquierda o alinear a la derecha la cadena o el mapa de bits en el rectángulo del elemento.</span><span class="sxs-lookup"><span data-stu-id="b071b-139">The **HDITEM** structure also specifies formatting flags that tell the control whether to center, left-align, or right-align the string or bitmap in the item's rectangle.</span></span>

<span data-ttu-id="b071b-140">[**HDM \_ INSERTITEM**](hdm-insertitem.md) devuelve el índice del elemento recién agregado.</span><span class="sxs-lookup"><span data-stu-id="b071b-140">[**HDM\_INSERTITEM**](hdm-insertitem.md) returns the index of the newly added item.</span></span> <span data-ttu-id="b071b-141">Puede usar el índice en otros mensajes para establecer las propiedades o recuperar información sobre el elemento.</span><span class="sxs-lookup"><span data-stu-id="b071b-141">You can use the index in other messages to set properties or retrieve information about the item.</span></span> <span data-ttu-id="b071b-142">Puede eliminar un elemento mediante el mensaje [**HDM \_ DELETEITEM**](hdm-deleteitem.md) , especificando el índice del elemento que se va a eliminar.</span><span class="sxs-lookup"><span data-stu-id="b071b-142">You can delete an item by using the [**HDM\_DELETEITEM**](hdm-deleteitem.md) message, specifying the index of the item to delete.</span></span>

<span data-ttu-id="b071b-143">Puede usar el mensaje [**\_ SETITEM de HDM**](hdm-setitem.md) para establecer las propiedades de un elemento de encabezado existente y el mensaje de [**HDM \_ GETITEM**](hdm-getitem.md) para recuperar las propiedades actuales de un elemento.</span><span class="sxs-lookup"><span data-stu-id="b071b-143">You can use the [**HDM\_SETITEM**](hdm-setitem.md) message to set the properties of an existing header item and the [**HDM\_GETITEM**](hdm-getitem.md) message to retrieve the current properties of an item.</span></span> <span data-ttu-id="b071b-144">Para recuperar un recuento de los elementos de un control de encabezado, use el mensaje [**HDM \_ GETITEMCOUNT**](hdm-getitemcount.md) .</span><span class="sxs-lookup"><span data-stu-id="b071b-144">To retrieve a count of the items in a header control, use the [**HDM\_GETITEMCOUNT**](hdm-getitemcount.md) message.</span></span>

## <a name="owner-drawn-header-controls"></a><span data-ttu-id="b071b-145">Owner-Drawn controles de encabezado</span><span class="sxs-lookup"><span data-stu-id="b071b-145">Owner-Drawn Header Controls</span></span>

<span data-ttu-id="b071b-146">Puede definir elementos individuales de un control de encabezado para que sean elementos dibujados por el propietario.</span><span class="sxs-lookup"><span data-stu-id="b071b-146">You can define individual items of a header control to be owner-drawn items.</span></span> <span data-ttu-id="b071b-147">El uso de esta técnica le proporciona más control de lo que tendría en la apariencia de un elemento de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-147">Using this technique gives you more control than you would otherwise have over the appearance of a header item.</span></span>

<span data-ttu-id="b071b-148">Puede usar el mensaje [**HDM \_ INSERTITEM**](hdm-insertitem.md) para insertar un nuevo elemento dibujado por el propietario en un control de encabezado o el mensaje [**HDM \_ SETITEM**](hdm-setitem.md) para cambiar un elemento existente a un elemento dibujado por el propietario.</span><span class="sxs-lookup"><span data-stu-id="b071b-148">You can use the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to insert a new owner-drawn item into a header control or the [**HDM\_SETITEM**](hdm-setitem.md) message to change an existing item to an owner-drawn item.</span></span> <span data-ttu-id="b071b-149">Ambos mensajes incluyen la dirección de una estructura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) , que debe tener el miembro **FMT** establecido en el **valor \_ OWNERDRAW HDF** .</span><span class="sxs-lookup"><span data-stu-id="b071b-149">Both messages include the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure, which should have the **fmt** member set to the **HDF\_OWNERDRAW** value.</span></span>

<span data-ttu-id="b071b-150">Cuando un control de encabezado debe dibujar un elemento dibujado por el propietario, envía el mensaje de Windows de [**WM \_**](wm-drawitem.md) a la ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="b071b-150">When a header control must draw an owner-drawn item, it sends the [**WM\_DRAWITEM**](wm-drawitem.md) message to the parent window.</span></span> <span data-ttu-id="b071b-151">El parámetro *wParam* del mensaje es el identificador de la ventana secundaria del control de encabezado y el parámetro *lParam* es una dirección de una estructura [**drawitemstruct (**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) .</span><span class="sxs-lookup"><span data-stu-id="b071b-151">The *wParam* parameter of the message is the child window identifier of the header control, and the *lParam* parameter is an address of a [**DRAWITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) structure.</span></span> <span data-ttu-id="b071b-152">La ventana primaria usa la información de la estructura para dibujar el elemento.</span><span class="sxs-lookup"><span data-stu-id="b071b-152">The parent window uses the information in the structure to draw the item.</span></span> <span data-ttu-id="b071b-153">Para un elemento dibujado por el propietario en un control de encabezado, la estructura **drawitemstruct (** contiene la información siguiente.</span><span class="sxs-lookup"><span data-stu-id="b071b-153">For an owner-drawn item in a header control, the **DRAWITEMSTRUCT** structure contains the following information.</span></span>



| <span data-ttu-id="b071b-154">Miembro</span><span class="sxs-lookup"><span data-stu-id="b071b-154">Member</span></span>         | <span data-ttu-id="b071b-155">Descripción</span><span class="sxs-lookup"><span data-stu-id="b071b-155">Description</span></span>                                                                                                                                            |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b071b-156">**CtlType**</span><span class="sxs-lookup"><span data-stu-id="b071b-156">**CtlType**</span></span>    | <span data-ttu-id="b071b-157">[**ODT \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Tipo de control dibujado por el propietario del encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-157">[**ODT\_HEADER**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) owner-drawn control type.</span></span>                                                                                        |
| <span data-ttu-id="b071b-158">**CtlID**</span><span class="sxs-lookup"><span data-stu-id="b071b-158">**CtlID**</span></span>      | <span data-ttu-id="b071b-159">Identificador de la ventana secundaria del control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-159">Child-window identifier of the header control.</span></span>                                                                                                         |
| <span data-ttu-id="b071b-160">**ID**</span><span class="sxs-lookup"><span data-stu-id="b071b-160">**itemID**</span></span>     | <span data-ttu-id="b071b-161">Índice del elemento que se va a dibujar.</span><span class="sxs-lookup"><span data-stu-id="b071b-161">Index of the item to be drawn.</span></span>                                                                                                                         |
| <span data-ttu-id="b071b-162">**Del itemaction**</span><span class="sxs-lookup"><span data-stu-id="b071b-162">**itemAction**</span></span> | <span data-ttu-id="b071b-163">[**Oda \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Marca de acción de dibujo DRAWENTIRE.</span><span class="sxs-lookup"><span data-stu-id="b071b-163">[**ODA\_DRAWENTIRE**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag.</span></span>                                                                                         |
| <span data-ttu-id="b071b-164">**itemState**</span><span class="sxs-lookup"><span data-stu-id="b071b-164">**itemState**</span></span>  | <span data-ttu-id="b071b-165">[**ODS \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Marca de acción de dibujo seleccionada si el cursor está en el elemento y el botón del mouse está presionado.</span><span class="sxs-lookup"><span data-stu-id="b071b-165">[**ODS\_SELECTED**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag if the cursor is on the item and the mouse button is down.</span></span> <span data-ttu-id="b071b-166">De lo contrario, este miembro es cero.</span><span class="sxs-lookup"><span data-stu-id="b071b-166">Otherwise, this member is zero.</span></span> |
| <span data-ttu-id="b071b-167">**hwndItem**</span><span class="sxs-lookup"><span data-stu-id="b071b-167">**hwndItem**</span></span>   | <span data-ttu-id="b071b-168">Identificador del control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-168">Handle to the header control.</span></span>                                                                                                                          |
| <span data-ttu-id="b071b-169">**Cámaras**</span><span class="sxs-lookup"><span data-stu-id="b071b-169">**hDC**</span></span>        | <span data-ttu-id="b071b-170">Identificador del contexto de dispositivo del control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-170">Handle to the device context of the header control.</span></span>                                                                                                    |
| <span data-ttu-id="b071b-171">**rcItem**</span><span class="sxs-lookup"><span data-stu-id="b071b-171">**rcItem**</span></span>     | <span data-ttu-id="b071b-172">Coordenadas del elemento de encabezado que se va a dibujar.</span><span class="sxs-lookup"><span data-stu-id="b071b-172">Coordinates of the header item to be drawn.</span></span> <span data-ttu-id="b071b-173">Las coordenadas son relativas a la esquina superior izquierda del control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-173">The coordinates are relative to the upper-left corner of the header control.</span></span>                               |
| <span data-ttu-id="b071b-174">**itemData**</span><span class="sxs-lookup"><span data-stu-id="b071b-174">**itemData**</span></span>   | <span data-ttu-id="b071b-175">Valor de 32 bits definido por la aplicación asociado al elemento.</span><span class="sxs-lookup"><span data-stu-id="b071b-175">Application-defined 32-bit value associated with the item.</span></span>                                                                                             |



 

## <a name="header-control-filters"></a><span data-ttu-id="b071b-176">Filtros de control de encabezado</span><span class="sxs-lookup"><span data-stu-id="b071b-176">Header Control Filters</span></span>

<span data-ttu-id="b071b-177">Al especificar el estilo de ventana [**\_ FILTERBAR de HDS**](header-control-styles.md) para un control de encabezado, puede habilitar la colocación de los cuadros de edición de filtro debajo de los encabezados de columna.</span><span class="sxs-lookup"><span data-stu-id="b071b-177">By specifying the [**HDS\_FILTERBAR**](header-control-styles.md) window style for a header control, you can enable the placement of filter edit boxes underneath the column headings.</span></span> <span data-ttu-id="b071b-178">Aparece un botón de filtro junto al cuadro de edición.</span><span class="sxs-lookup"><span data-stu-id="b071b-178">A filter button appears beside the edit box.</span></span> <span data-ttu-id="b071b-179">Puede implementar el filtrado respondiendo a los códigos de notificación [HDN \_ BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN \_ ENDFILTEREDIT](hdn-endfilteredit.md), [HDN \_ FILTERBTNCLICK](hdn-filterbtnclick.md)o [HDN \_ FILTERCHANGE](hdn-filterchange.md) .</span><span class="sxs-lookup"><span data-stu-id="b071b-179">You can implement filtering by responding to [HDN\_BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN\_ENDFILTEREDIT](hdn-endfilteredit.md), [HDN\_FILTERBTNCLICK](hdn-filterbtnclick.md), or [HDN\_FILTERCHANGE](hdn-filterchange.md) notification codes.</span></span>

<span data-ttu-id="b071b-180">De forma predeterminada, el cuadro de edición contiene un mensaje para que el usuario escriba texto.</span><span class="sxs-lookup"><span data-stu-id="b071b-180">By default, the edit box contains a prompt for the user to enter text.</span></span> <span data-ttu-id="b071b-181">Puede restaurar el cuadro de edición a este estado predeterminado mediante el [**encabezado \_ ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) o el [**encabezado \_ ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span><span class="sxs-lookup"><span data-stu-id="b071b-181">You can restore the edit box to this default state by using [**Header\_ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) or [**Header\_ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span></span>

<span data-ttu-id="b071b-182">En el ejemplo de código siguiente se muestra cómo recuperar el control de encabezado de un control de vista de lista y cómo agregar una barra de filtros.</span><span class="sxs-lookup"><span data-stu-id="b071b-182">The following code example shows how to retrieve the header control from a list-view control and add a filter bar.</span></span>


```
// hList is the HWND of the list-view control.
HWND hHeader = ListView_GetHeader(hList);
LONG_PTR styles = GetWindowLongPtr(hHeader, GWL_STYLE);
SetWindowLongPtr(g_hHeader, GWL_STYLE, styles | HDS_FILTERBAR);
```



## <a name="default-header-control-message-processing"></a><span data-ttu-id="b071b-183">Procesamiento de mensajes de control de encabezado predeterminado</span><span class="sxs-lookup"><span data-stu-id="b071b-183">Default Header Control Message Processing</span></span>

<span data-ttu-id="b071b-184">En esta sección se describen los mensajes de ventana que se controlan mediante el procedimiento de ventana para la clase de ventana de [**\_ encabezado CT**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="b071b-184">This section describes the window messages handled by the window procedure for the [**WC\_HEADER**](common-control-window-classes.md) window class.</span></span>



| <span data-ttu-id="b071b-185">Message</span><span class="sxs-lookup"><span data-stu-id="b071b-185">Message</span></span>                                            | <span data-ttu-id="b071b-186">Procesamiento realizado</span><span class="sxs-lookup"><span data-stu-id="b071b-186">Processing performed</span></span>                                                                                                                                                                                                                                                                                          |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b071b-187">**creación de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-187">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="b071b-188">Inicializa el control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-188">Initializes the header control.</span></span>                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="b071b-189">**destrucción de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-189">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="b071b-190">Desinicializa el control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-190">Uninitializes the header control.</span></span>                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="b071b-191">**ERASEBKGND de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-191">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="b071b-192">Rellena el fondo del control de encabezado usando el color de fondo actual del control.</span><span class="sxs-lookup"><span data-stu-id="b071b-192">Fills the background of the header control using the control's current background color.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="b071b-193">**GETDLGCODE de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-193">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="b071b-194">Devuelve una combinación de los valores de [**DLGC \_ WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) y [**DLGC \_ WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) .</span><span class="sxs-lookup"><span data-stu-id="b071b-194">Returns a combination of the [**DLGC\_WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) and [**DLGC\_WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) values.</span></span>                                                                                                                     |
| [<span data-ttu-id="b071b-195">**GETFONT de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-195">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="b071b-196">Devuelve el identificador de la fuente actual, que usa el control de encabezado para dibujar su texto.</span><span class="sxs-lookup"><span data-stu-id="b071b-196">Returns the handle to the current font, which is used by the header control to draw its text.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="b071b-197">**LBUTTONDBLCLK de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-197">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="b071b-198">Captura la entrada del mouse.</span><span class="sxs-lookup"><span data-stu-id="b071b-198">Captures mouse input.</span></span> <span data-ttu-id="b071b-199">Si el cursor del mouse está en un divisor, el control envía el código de notificación [ \_ BEGINTRACK de HDN](hdn-begintrack.md) y comienza a arrastrar el divisor.</span><span class="sxs-lookup"><span data-stu-id="b071b-199">If the mouse cursor is on a divider, the control sends the [HDN\_BEGINTRACK](hdn-begintrack.md) notification code and begins dragging the divider.</span></span> <span data-ttu-id="b071b-200">Si el cursor está en un elemento, el elemento se muestra en estado presionado.</span><span class="sxs-lookup"><span data-stu-id="b071b-200">If the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                            |
| [<span data-ttu-id="b071b-201">**LBUTTONDOWN de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-201">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="b071b-202">Igual que el mensaje de [**\_ LBUTTONDBLCLK de WM**](/windows/desktop/inputdev/wm-lbuttondblclk) .</span><span class="sxs-lookup"><span data-stu-id="b071b-202">Same as the [**WM\_LBUTTONDBLCLK**](/windows/desktop/inputdev/wm-lbuttondblclk) message.</span></span>                                                                                                                                                                                                                                       |
| [<span data-ttu-id="b071b-203">**LBUTTONUP de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-203">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)         | <span data-ttu-id="b071b-204">Libera la captura del mouse.</span><span class="sxs-lookup"><span data-stu-id="b071b-204">Releases the mouse capture.</span></span> <span data-ttu-id="b071b-205">Si el control estaba realizando el seguimiento del movimiento del mouse, envía el código de notificación [HDN \_ ENDTRACK](hdn-endtrack.md) y vuelve a dibujar el control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-205">If the control was tracking mouse movement, it sends the [HDN\_ENDTRACK](hdn-endtrack.md) notification code and redraws the header control.</span></span> <span data-ttu-id="b071b-206">De lo contrario, el control envía el código de notificación [HDN \_ ITEMCLICK](hdn-itemclick.md) y vuelve a dibujar el elemento de encabezado en el que se hizo clic.</span><span class="sxs-lookup"><span data-stu-id="b071b-206">Otherwise, the control sends the [HDN\_ITEMCLICK](hdn-itemclick.md) notification code and redraws the header item that was clicked.</span></span> |
| [<span data-ttu-id="b071b-207">**MOUSEMOVE de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-207">**WM\_MOUSEMOVE**</span></span>](/windows/desktop/inputdev/wm-mousemove)         | <span data-ttu-id="b071b-208">Si se está arrastrando un divisor, el control envía el código de notificación de [ \_ seguimiento de HDN](hdn-track.md) y muestra el elemento en la nueva posición.</span><span class="sxs-lookup"><span data-stu-id="b071b-208">If a divider is being dragged, the control sends the [HDN\_TRACK](hdn-track.md) notification code and displays the item at the new position.</span></span> <span data-ttu-id="b071b-209">Si el botón primario del mouse está presionado y el cursor está en un elemento, el elemento se muestra en estado presionado.</span><span class="sxs-lookup"><span data-stu-id="b071b-209">If the left mouse button is down and the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                      |
| [<span data-ttu-id="b071b-210">**NCCREATE de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-210">**WM\_NCCREATE**</span></span>](/windows/desktop/winmsg/wm-nccreate)             | <span data-ttu-id="b071b-211">Asigna e inicializa una estructura de datos interna.</span><span class="sxs-lookup"><span data-stu-id="b071b-211">Allocates and initializes an internal data structure.</span></span>                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="b071b-212">**NCDESTROY de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-212">**WM\_NCDESTROY**</span></span>](/windows/desktop/winmsg/wm-ncdestroy)           | <span data-ttu-id="b071b-213">Libera los recursos asignados por el control de encabezado una vez que no se ha inicializado el control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-213">Frees the resources allocated by the header control after the header control is uninitialized.</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="b071b-214">**pintura de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-214">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="b071b-215">Dibuja la región no válida del control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-215">Paints the invalid region of the header control.</span></span> <span data-ttu-id="b071b-216">Si el parámetro *wParam* no es null, el control supone que el valor es HDC y pinta usando ese contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b071b-216">If the *wParam* parameter is non-NULL, the control assumes that the value is an HDC and paints using that device context.</span></span>                                                                                                                                    |
| [<span data-ttu-id="b071b-217">**SETCURSOR de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-217">**WM\_SETCURSOR**</span></span>](/windows/desktop/menurc/wm-setcursor)           | <span data-ttu-id="b071b-218">Establece la forma del cursor, en función de si el cursor está en un divisor o en un elemento de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-218">Sets the cursor shape, depending on whether the cursor is on a divider or in a header item.</span></span>                                                                                                                                                                                                                   |
| [<span data-ttu-id="b071b-219">**WM \_**</span><span class="sxs-lookup"><span data-stu-id="b071b-219">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="b071b-220">Selecciona un nuevo identificador de fuente en el contexto del dispositivo para el control de encabezado.</span><span class="sxs-lookup"><span data-stu-id="b071b-220">Selects a new font handle into the device context for the header control.</span></span>                                                                                                                                                                                                                                     |



 

 

 