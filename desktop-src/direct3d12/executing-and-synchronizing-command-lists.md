---
title: Ejecución y sincronización de listas de comandos
description: En Microsoft Direct3D 12, el modo inmediato de las versiones anteriores ya no está presente.
ms.assetid: D5013102-2302-4D66-8F59-079C03BA65FD
keywords:
- lista de comandos
- sincronización
- ejecución
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 90d5362d0f093c7c1034e03d396ad28c40d4d600
ms.sourcegitcommit: 170bc12e9724d00cecbb96d57c7226c51e135dee
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/07/2021
ms.locfileid: "113489174"
---
# <a name="executing-and-synchronizing-command-lists"></a><span data-ttu-id="ece9e-106">Ejecución y sincronización de listas de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-106">Executing and Synchronizing Command Lists</span></span>

<span data-ttu-id="ece9e-107">En Microsoft Direct3D 12, el modo inmediato de las versiones anteriores ya no está presente.</span><span class="sxs-lookup"><span data-stu-id="ece9e-107">In Microsoft Direct3D 12, the immediate mode of previous versions is no longer present.</span></span> <span data-ttu-id="ece9e-108">En su lugar, las aplicaciones crean listas de comandos y agrupan y, a continuación, registran conjuntos de comandos de GPU.</span><span class="sxs-lookup"><span data-stu-id="ece9e-108">Instead, apps create command lists and bundles and then record sets of GPU commands.</span></span> <span data-ttu-id="ece9e-109">Las colas de comandos se usan para enviar listas de comandos que se van a ejecutar.</span><span class="sxs-lookup"><span data-stu-id="ece9e-109">Command queues are used to submit command lists to be executed.</span></span> <span data-ttu-id="ece9e-110">Este modelo permite a los desarrolladores tener más control sobre el uso eficaz de la unidad de procesamiento gráfico (GPU) y la CPU.</span><span class="sxs-lookup"><span data-stu-id="ece9e-110">This model allows developers to have more control over the efficient usage of both graphics processing unit (GPU) and CPU.</span></span>

-   [<span data-ttu-id="ece9e-111">Introducción a la cola de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-111">Command queue overview</span></span>](#command-queue-overview)
-   [<span data-ttu-id="ece9e-112">Inicialización de una cola de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-112">Initializing a command queue</span></span>](#initializing-a-command-queue)
-   [<span data-ttu-id="ece9e-113">Ejecutar listas de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-113">Executing command Lists</span></span>](#executing-command-lists)
-   [<span data-ttu-id="ece9e-114">Acceso a recursos desde varias colas de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-114">Accessing resources from multiple command queues</span></span>](#accessing-resources-from-multiple-command-queues)
-   [<span data-ttu-id="ece9e-115">Sincronización de la ejecución de la lista de comandos mediante barreras de cola de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-115">Synchronizing command list execution using command queue fences</span></span>](#synchronizing-command-list-execution-using-command-queue-fences)
-   [<span data-ttu-id="ece9e-116">Sincronización de recursos a los que acceden las colas de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-116">Synchronizing resources accessed by command queues</span></span>](#synchronizing-resources-accessed-by-command-queues)
-   [<span data-ttu-id="ece9e-117">Compatibilidad de la cola de comandos con recursos en mosaico</span><span class="sxs-lookup"><span data-stu-id="ece9e-117">Command queue support for tiled resources</span></span>](#command-queue-support-for-tiled-resources)
-   [<span data-ttu-id="ece9e-118">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ece9e-118">Related topics</span></span>](#related-topics)

## <a name="command-queue-overview"></a><span data-ttu-id="ece9e-119">Introducción a la cola de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-119">Command queue overview</span></span>

<span data-ttu-id="ece9e-120">Las colas de comandos de Direct3D 12 reemplazan el tiempo de ejecución y la sincronización del controlador del envío de trabajo en modo inmediato, que antes no se exponía al desarrollador, por API para administrar explícitamente la simultaneidad, el paralelismo y la sincronización.</span><span class="sxs-lookup"><span data-stu-id="ece9e-120">Direct3D 12 command queues replace runtime and driver synchronization of immediate mode work submission, previously not-exposed to the developer, with APIs for explicitly managing concurrency, parallelism and synchronization.</span></span> <span data-ttu-id="ece9e-121">Las colas de comandos proporcionan las siguientes mejoras para los desarrolladores:</span><span class="sxs-lookup"><span data-stu-id="ece9e-121">Command queues provide the following improvements for developers:</span></span>

-   <span data-ttu-id="ece9e-122">Permite a los desarrolladores evitar ineficiencias accidentales causadas por una sincronización inesperada.</span><span class="sxs-lookup"><span data-stu-id="ece9e-122">Allows developers to avoid accidental inefficiencies caused by unexpected synchronization.</span></span>
-   <span data-ttu-id="ece9e-123">Permite a los desarrolladores introducir la sincronización en un nivel superior donde la sincronización necesaria se puede determinar de forma más eficaz y precisa.</span><span class="sxs-lookup"><span data-stu-id="ece9e-123">Allows developers to introduce synchronization at a higher level where the required synchronization can be determined more efficiently and accurately.</span></span> <span data-ttu-id="ece9e-124">Esto significa que el tiempo de ejecución y el controlador de gráficos dedicarán menos tiempo a la ingeniería de paralelismo.</span><span class="sxs-lookup"><span data-stu-id="ece9e-124">This means the runtime and the graphics driver will spend less time reactively engineering parallelism.</span></span>
-   <span data-ttu-id="ece9e-125">Hace que las operaciones costosas sea más explícita.</span><span class="sxs-lookup"><span data-stu-id="ece9e-125">Makes expensive operations more explicit.</span></span>

<span data-ttu-id="ece9e-126">Estas mejoras permiten o mejoran los escenarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="ece9e-126">These improvements enable or enhance the following scenarios:</span></span>

-   <span data-ttu-id="ece9e-127">Mayor paralelismo: las aplicaciones pueden usar colas más profundas para cargas de trabajo en segundo plano, como lacoding de vídeo, cuando tienen colas independientes para el trabajo en primer plano.</span><span class="sxs-lookup"><span data-stu-id="ece9e-127">Increased parallelism - Applications can use deeper queues for background workloads, such as video decoding, when they have separate queues for foreground work.</span></span>
-   <span data-ttu-id="ece9e-128">Trabajo de GPU asincrónico y de prioridad baja: el modelo de cola de comandos permite la ejecución simultánea de operaciones atómicas y de trabajo de GPU de prioridad baja que permiten que un subproceso de GPU consuma los resultados de otro subproceso sin sincronizar sin bloquear.</span><span class="sxs-lookup"><span data-stu-id="ece9e-128">Asynchronous and low-priority GPU work - The command queue model enables concurrent execution of low-priority GPU work and atomic operations that enable one GPU thread to consume the results of another unsynchronized thread without blocking.</span></span>
-   <span data-ttu-id="ece9e-129">Trabajo de proceso de alta prioridad: este diseño permite que los escenarios que requieren interrumpir la representación en 3D realicen una pequeña cantidad de trabajo de proceso de alta prioridad para que el resultado se pueda obtener pronto para un procesamiento adicional en la CPU.</span><span class="sxs-lookup"><span data-stu-id="ece9e-129">High-priority compute work - This design enables scenarios that require interrupting 3D rendering to do a small amount of high-priority compute work so that the result can be obtained early for additional processing on the CPU.</span></span>

## <a name="initializing-a-command-queue"></a><span data-ttu-id="ece9e-130">Inicialización de una cola de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-130">Initializing a command queue</span></span>

<span data-ttu-id="ece9e-131">Las colas de comandos se pueden crear llamando a [**ID3D12Device::CreateCommandQueue.**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue)</span><span class="sxs-lookup"><span data-stu-id="ece9e-131">Command queues can be created by calling [**ID3D12Device::CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span></span> <span data-ttu-id="ece9e-132">Este método toma un [**D3D12 \_ COMMAND \_ LIST \_ TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) que indica qué tipo de cola se debe crear y, por lo tanto, qué tipo de comandos se pueden enviar a esa cola.</span><span class="sxs-lookup"><span data-stu-id="ece9e-132">This method takes a [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) indicating what type of queue should be created, and therefore, what type of commands can be submitted to that queue.</span></span> <span data-ttu-id="ece9e-133">Recuerde que las agrupaciones solo se pueden llamar desde listas de comandos directos y no se pueden enviar directamente a una cola.</span><span class="sxs-lookup"><span data-stu-id="ece9e-133">Remember that bundles can only be called from direct command lists and can't be submitted directly to a queue.</span></span> <span data-ttu-id="ece9e-134">Los tipos de cola admitidos son:</span><span class="sxs-lookup"><span data-stu-id="ece9e-134">The supported queue types are:</span></span>

-   [<span data-ttu-id="ece9e-135">**D3D12 \_ COMMAND \_ LIST \_ TYPE \_ DIRECT**</span><span class="sxs-lookup"><span data-stu-id="ece9e-135">**D3D12\_COMMAND\_LIST\_TYPE\_DIRECT**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="ece9e-136">**PROCESO DE TIPO DE LISTA DE \_ COMANDOS D3D12 \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="ece9e-136">**D3D12\_COMMAND\_LIST\_TYPE\_COMPUTE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="ece9e-137">**D3D12 \_ COMMAND \_ LIST \_ TYPE \_ COPY**</span><span class="sxs-lookup"><span data-stu-id="ece9e-137">**D3D12\_COMMAND\_LIST\_TYPE\_COPY**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)

<span data-ttu-id="ece9e-138">En general, las colas y listas de comandos de DIRECT aceptan cualquier comando, las colas COMPUTE y las listas de comandos aceptan comandos relacionados con el proceso y la copia, y las colas COPY y las listas de comandos solo aceptan comandos de copia.</span><span class="sxs-lookup"><span data-stu-id="ece9e-138">In general, DIRECT queues and command lists accept any command, COMPUTE queues and command lists accept compute and copy related commands, and COPY queues and command lists accept only copy commands.</span></span>

## <a name="executing-command-lists"></a><span data-ttu-id="ece9e-139">Ejecutar listas de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-139">Executing command Lists</span></span>

<span data-ttu-id="ece9e-140">Después de registrar una lista de comandos y recuperar la cola de comandos predeterminada o de crear una nueva, ejecute listas de comandos mediante una llamada a [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span><span class="sxs-lookup"><span data-stu-id="ece9e-140">After you have recorded a command list and either retrieved the default command queue or created a new one, you execute command lists by calling [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

<span data-ttu-id="ece9e-141">Las aplicaciones pueden enviar listas de comandos a cualquier cola de comandos desde varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-141">Applications can submit command lists to any command queue from multiple threads.</span></span> <span data-ttu-id="ece9e-142">El tiempo de ejecución realizará el trabajo de serializar estas solicitudes en el orden de envío.</span><span class="sxs-lookup"><span data-stu-id="ece9e-142">The runtime will perform the work of serializing these requests in the order of submission.</span></span>

<span data-ttu-id="ece9e-143">El tiempo de ejecución validará la lista de comandos enviados y quitará la llamada a [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) si se infringe alguna de las restricciones.</span><span class="sxs-lookup"><span data-stu-id="ece9e-143">The runtime will validate the submitted command list and will drop the call to [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) if any of the restrictions are violated.</span></span> <span data-ttu-id="ece9e-144">Las llamadas se descartarán por los siguientes motivos:</span><span class="sxs-lookup"><span data-stu-id="ece9e-144">Calls will be dropped for the following reasons:</span></span>

-   <span data-ttu-id="ece9e-145">La lista de comandos proporcionada es una agrupación, no una lista de comandos directos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-145">The supplied command list is a bundle, not a direct command list.</span></span>
-   <span data-ttu-id="ece9e-146">[**No se ha llamado a ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) en la lista de comandos proporcionada para completar la grabación.</span><span class="sxs-lookup"><span data-stu-id="ece9e-146">[**ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) has not been called on the supplied command list to complete recording.</span></span>
-   <span data-ttu-id="ece9e-147">Se ha llamado a [**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) en el asignador de comandos asociado a la lista de comandos desde que se registró.</span><span class="sxs-lookup"><span data-stu-id="ece9e-147">[**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) has been called on the command allocator associated with the command list since it was recorded.</span></span> <span data-ttu-id="ece9e-148">Para obtener más información sobre los asignadores de comandos, vea Creación y grabación de listas [de comandos y agrupaciones.](recording-command-lists-and-bundles.md)</span><span class="sxs-lookup"><span data-stu-id="ece9e-148">For more information about command allocators, see [Creating and recording command lists and bundles](recording-command-lists-and-bundles.md).</span></span>
-   <span data-ttu-id="ece9e-149">La barrera de la cola de comandos indica que aún no se ha completado una ejecución anterior de la lista de comandos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-149">The command queue fence indicates that a previous execution of the command list has not yet completed.</span></span> <span data-ttu-id="ece9e-150">Las barreras de la cola de comandos se de abordan con detalle a continuación.</span><span class="sxs-lookup"><span data-stu-id="ece9e-150">Command queue fences are discussed in detail below.</span></span>
-   <span data-ttu-id="ece9e-151">Los estados antes y después de las consultas, establecidos con llamadas a [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) e [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), no coinciden correctamente.</span><span class="sxs-lookup"><span data-stu-id="ece9e-151">The before and after states of queries, set with calls to [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), are not matched properly.</span></span>
-   <span data-ttu-id="ece9e-152">Los estados antes y después de las barreras de transición de recursos no coinciden correctamente.</span><span class="sxs-lookup"><span data-stu-id="ece9e-152">The before and after states of resource transition barriers are not matched properly.</span></span> <span data-ttu-id="ece9e-153">Para más información, consulte [Uso de barreras de recursos para sincronizar estados de recursos.](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)</span><span class="sxs-lookup"><span data-stu-id="ece9e-153">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="accessing-resources-from-multiple-command-queues"></a><span data-ttu-id="ece9e-154">Acceso a recursos desde varias colas de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-154">Accessing resources from multiple command queues</span></span>

<span data-ttu-id="ece9e-155">Hay un par de reglas impuestas por el tiempo de ejecución que restringen el acceso de recursos desde varias colas de comandos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-155">There are a couple of rules imposed by the runtime that restrict the access of resources from multiple command queues.</span></span> <span data-ttu-id="ece9e-156">Estas reglas son:</span><span class="sxs-lookup"><span data-stu-id="ece9e-156">These rules are as follows:</span></span>

1. <span data-ttu-id="ece9e-157">No se puede escribir un recurso en desde varias colas de comandos simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="ece9e-157">A resource cannot be written to from multiple command queues simultaneously.</span></span> <span data-ttu-id="ece9e-158">Cuando un recurso ha pasado a un estado de escritura en una cola, se considera propiedad exclusiva de esa cola y debe pasar a un estado de lectura o COMMON (consulte [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)) para que otra cola pueda acceder a él.</span><span class="sxs-lookup"><span data-stu-id="ece9e-158">When a resource has transitioned to a writeable state on a queue, it is considered exclusively owned by that queue, and must transition to a read or COMMON state (refer to [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)) before it can be accessed by another queue.</span></span>

2. <span data-ttu-id="ece9e-159">Cuando se encuentra en un estado de lectura, se puede leer un recurso de varias colas de comandos simultáneamente, incluidos los procesos, en función de su estado de lectura.</span><span class="sxs-lookup"><span data-stu-id="ece9e-159">When in a read state, a resource can be read from multiple command queues simultaneously, including across processes, based on its read state.</span></span>

<span data-ttu-id="ece9e-160">Para obtener más información sobre las restricciones de acceso a los recursos y el uso de barreras de recursos para sincronizar el acceso a los recursos, consulte Uso de barreras de recursos [para sincronizar los estados de los recursos.](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)</span><span class="sxs-lookup"><span data-stu-id="ece9e-160">For more information about resource access restrictions and using resource barriers to synchronize access to resources, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="synchronizing-command-list-execution-using-command-queue-fences"></a><span data-ttu-id="ece9e-161">Sincronización de la ejecución de la lista de comandos mediante barreras de cola de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-161">Synchronizing command list execution using command queue fences</span></span>

<span data-ttu-id="ece9e-162">La compatibilidad con varias colas de comandos paralelas en Direct3D 12 proporciona más flexibilidad y control sobre la priorización del trabajo asincrónico en la GPU.</span><span class="sxs-lookup"><span data-stu-id="ece9e-162">The support for multiple parallel command queues in Direct3D 12 gives you more flexibility and control over the prioritization of asynchronous work on the GPU.</span></span> <span data-ttu-id="ece9e-163">Este diseño también significa que las aplicaciones deben administrar explícitamente la sincronización del trabajo, especialmente cuando las listas de comandos de una cola dependen de los recursos en los que opera otra cola de comandos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-163">This design also means that apps need to explicitly manage the synchronization of work, especially when the command lists in one queue depend on resources that are being operated on by another command queue.</span></span> <span data-ttu-id="ece9e-164">Algunos ejemplos de esto incluyen esperar a que se complete una operación en una cola de proceso para que el resultado se pueda usar para una operación de representación en la cola 3D y esperar a que se complete una operación 3D para que una operación en la cola de proceso pueda acceder a un recurso para escritura.</span><span class="sxs-lookup"><span data-stu-id="ece9e-164">Some examples of this include waiting for an operation on a compute queue to complete so that the result can be used for a rendering operation on the 3D queue, and waiting for a 3D operation to complete so that an operation on the compute queue can access a resource for writing.</span></span> <span data-ttu-id="ece9e-165">Para habilitar la sincronización del trabajo entre colas, Direct3D 12 usa el concepto de barreras, que se representan en la API mediante la [**interfaz ID3D12Fence.**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence)</span><span class="sxs-lookup"><span data-stu-id="ece9e-165">To enable the synchronization of work between queues, Direct3D 12 uses the concept of fences, which are represented in the API by the [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) interface.</span></span>

<span data-ttu-id="ece9e-166">Una barrera es un entero que representa la unidad de trabajo actual que se está procesando.</span><span class="sxs-lookup"><span data-stu-id="ece9e-166">A fence is an integer that represents the current unit of work being processed.</span></span> <span data-ttu-id="ece9e-167">Cuando la aplicación avanza la barrera, llamando a [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), se actualiza el entero.</span><span class="sxs-lookup"><span data-stu-id="ece9e-167">When the app advances the fence, by calling [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), the integer is updated.</span></span> <span data-ttu-id="ece9e-168">Las aplicaciones pueden comprobar el valor de una barrera y determinar si se ha completado una unidad de trabajo para decidir si se puede iniciar una operación posterior.</span><span class="sxs-lookup"><span data-stu-id="ece9e-168">Apps can check the value of a fence and determine if a unit of work has been completed in order to decide whether a subsequent operation can be started.</span></span>

## <a name="synchronizing-resources-accessed-by-command-queues"></a><span data-ttu-id="ece9e-169">Sincronización de recursos a los que acceden las colas de comandos</span><span class="sxs-lookup"><span data-stu-id="ece9e-169">Synchronizing resources accessed by command queues</span></span>

<span data-ttu-id="ece9e-170">En Direct3D 12, la sincronización del estado de algunos recursos se implementa con barreras de recursos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-170">In Direct3D 12, synchronizing the state of some resources is implemented with resource barriers.</span></span> <span data-ttu-id="ece9e-171">En cada barrera de recursos, una aplicación declara los estados antes y después de un recurso.</span><span class="sxs-lookup"><span data-stu-id="ece9e-171">At each resource barrier, an app declares the before and after states of a resource.</span></span> <span data-ttu-id="ece9e-172">Un ejemplo común es la transición de un recurso entre una vista de recursos de sombreador y una vista de destino de representación.</span><span class="sxs-lookup"><span data-stu-id="ece9e-172">A common example is for a resource to transition between a shader resource view to a render target view.</span></span> <span data-ttu-id="ece9e-173">En su mayor parte, estas barreras de recursos se administran en listas de comandos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-173">For the most part, these resource barriers are managed within command lists.</span></span> <span data-ttu-id="ece9e-174">Cuando se habilitan las capas de depuración, el sistema exige que los estados antes y después de todos los recursos coincidan, lo que garantiza que el recurso se encuentra en el estado correcto para una operación determinada en una transición de barrera.</span><span class="sxs-lookup"><span data-stu-id="ece9e-174">When the debug layers are enabled, the system enforces that the before and after states of all resources match up, guaranteeing that the resource is in the correct state for a particular operation at a barrier transition.</span></span>

<span data-ttu-id="ece9e-175">Para obtener más información sobre la sincronización del estado de los recursos, consulte [Uso de barreras de recursos para sincronizar estados de recursos.](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)</span><span class="sxs-lookup"><span data-stu-id="ece9e-175">For more information about synchronizing resource state, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="command-queue-support-for-tiled-resources"></a><span data-ttu-id="ece9e-176">Compatibilidad de la cola de comandos con recursos en mosaico</span><span class="sxs-lookup"><span data-stu-id="ece9e-176">Command queue support for tiled resources</span></span>

<span data-ttu-id="ece9e-177">La interfaz [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) de Direct3D 12 proporciona métodos para administrar recursos en mosaico, que se han expuesto a través de la interfaz [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) en Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="ece9e-177">Methods for managing tiled resources, which were exposed through the [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) interface in Direct3D 11, are provided by the [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) interface in Direct3D 12.</span></span> <span data-ttu-id="ece9e-178">Esos métodos incluyen:</span><span class="sxs-lookup"><span data-stu-id="ece9e-178">These methods include:</span></span>



| <span data-ttu-id="ece9e-179">Método</span><span class="sxs-lookup"><span data-stu-id="ece9e-179">Method</span></span>                                                              | <span data-ttu-id="ece9e-180">Descripción</span><span class="sxs-lookup"><span data-stu-id="ece9e-180">Description</span></span>                                                                                              |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ece9e-181">**CopyTileMappings**</span><span class="sxs-lookup"><span data-stu-id="ece9e-181">**CopyTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-copytilemappings)     | <span data-ttu-id="ece9e-182">Copia las asignaciones de un recurso en mosaico de origen a un recurso en mosaico de destino.</span><span class="sxs-lookup"><span data-stu-id="ece9e-182">Copies mappings from a source tiled resource to a destination tiled resource.</span></span><br/>                 |
| [<span data-ttu-id="ece9e-183">**UpdateTileMappings**</span><span class="sxs-lookup"><span data-stu-id="ece9e-183">**UpdateTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) | <span data-ttu-id="ece9e-184">Actualiza las asignaciones de ubicaciones de mosaico de los recursos en mosaico a las ubicaciones de memoria de un montón de recursos.</span><span class="sxs-lookup"><span data-stu-id="ece9e-184">Updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span><br/> |



 

<span data-ttu-id="ece9e-185">Para obtener más información sobre el uso de recursos en mosaico en aplicaciones de Direct3D 12, consulte Recursos en mosaico de [Direct3D11.](/windows/desktop/direct3d11/tiled-resources)</span><span class="sxs-lookup"><span data-stu-id="ece9e-185">For more information about using tiled resources in Direct3D 12 apps, refer to [Direct3D11 Tiled Resources](/windows/desktop/direct3d11/tiled-resources).</span></span>

## <a name="related-topics"></a><span data-ttu-id="ece9e-186">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ece9e-186">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ece9e-187">Envío de trabajo en Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="ece9e-187">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)
</dt> </dl>

 

