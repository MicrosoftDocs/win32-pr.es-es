---
description: Microsoft proporciona separadores de palabras y lematizadores para varios idiomas. En este tema se describe cómo implementar y usar separadores de palabras y lematizadores personalizados para idiomas y configuraciones regionales más allá de las proporcionadas por Microsoft.
ms.assetid: 47768691-7071-440e-bfbf-975713880c00
title: Implementar un separador de palabras y un analizador lingüístico
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4bd4f4e3210e7f4e17bb035115fd694656cc6e6d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104082016"
---
# <a name="implementing-a-word-breaker-and-stemmer"></a><span data-ttu-id="37650-104">Implementar un separador de palabras y un analizador lingüístico</span><span class="sxs-lookup"><span data-stu-id="37650-104">Implementing a Word Breaker and Stemmer</span></span>

<span data-ttu-id="37650-105">Microsoft proporciona separadores de palabras y lematizadores para varios idiomas.</span><span class="sxs-lookup"><span data-stu-id="37650-105">Microsoft provides word breakers and stemmers for a number of languages.</span></span> <span data-ttu-id="37650-106">En este tema se describe cómo implementar y usar separadores de palabras y lematizadores personalizados para idiomas y configuraciones regionales más allá de las proporcionadas por Microsoft.</span><span class="sxs-lookup"><span data-stu-id="37650-106">This topic describes how to implement, and use custom word breakers and stemmers for languages, and locales beyond those provided by Microsoft.</span></span>

> [!Note]
> <span data-ttu-id="37650-107">A partir del 2018 de julio, se realizó un cambio de seguridad en Windows Server 2019 que impide que los archivos DLL que no tengan una firma de Microsoft se carguen mediante SearchIndexer.exe.</span><span class="sxs-lookup"><span data-stu-id="37650-107">As of July 2018 a security change was made to Windows Server 2019 that prevents DLLs without a Microsoft signature from being loaded by SearchIndexer.exe.</span></span> <span data-ttu-id="37650-108">Como resultado, Windows Server 2019 ya no es compatible con los separadores de palabras personalizados firmados que no sean de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="37650-108">As a result Windows Server 2019 no longer supports non-Microsoft signed custom word breakers.</span></span> 

<span data-ttu-id="37650-109">Este tema se organiza de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="37650-109">This topic is organized as follows:</span></span>

-   [<span data-ttu-id="37650-110">Registro de un archivo DLL de recursos de idioma</span><span class="sxs-lookup"><span data-stu-id="37650-110">Registering a Language Resource DLL</span></span>](#registering-a-language-resource-dll)
-   [<span data-ttu-id="37650-111">Registrar un idioma</span><span class="sxs-lookup"><span data-stu-id="37650-111">Registering a Language</span></span>](#registering-a-language-resource-dll)
-   [<span data-ttu-id="37650-112">Implementación de un vaso de palabras</span><span class="sxs-lookup"><span data-stu-id="37650-112">Implementing a Word Beaker</span></span>](#implementing-a-word-beaker)
    -   [<span data-ttu-id="37650-113">WordSink y PhraseSink</span><span class="sxs-lookup"><span data-stu-id="37650-113">WordSink and PhraseSink</span></span>](#wordsink-and-phrasesink)
    -   [<span data-ttu-id="37650-114">Saltos</span><span class="sxs-lookup"><span data-stu-id="37650-114">Breaks</span></span>](#breaks)
    -   [<span data-ttu-id="37650-115">Escalabilidad, performancy y seguridad</span><span class="sxs-lookup"><span data-stu-id="37650-115">Scalability, Performancy, and Security</span></span>](#scalability-performancy-and-security)
-   [<span data-ttu-id="37650-116">Implementación de un analizador lingüístico</span><span class="sxs-lookup"><span data-stu-id="37650-116">Implementing a Stemmer</span></span>](#implementing-a-stemmer)
    -   [<span data-ttu-id="37650-117">Escalabilidad, performancy y seguridad</span><span class="sxs-lookup"><span data-stu-id="37650-117">Scalability, Performancy, and Security</span></span>](#scalability-performancy-and-security)
-   [<span data-ttu-id="37650-118">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="37650-118">Related topics</span></span>](#related-topics)

## <a name="registering-a-language-resource-dll"></a><span data-ttu-id="37650-119">Registro de un archivo DLL de recursos de idioma</span><span class="sxs-lookup"><span data-stu-id="37650-119">Registering a Language Resource DLL</span></span>

<span data-ttu-id="37650-120">Cada archivo DLL de recursos de idioma debe implementar y exportar los siguientes puntos de entrada.</span><span class="sxs-lookup"><span data-stu-id="37650-120">Each language resource DLL must implement and export the following entry points.</span></span> <span data-ttu-id="37650-121">El archivo DLL se puede registrar para que esté en cualquier carpeta.</span><span class="sxs-lookup"><span data-stu-id="37650-121">The DLL can be registered to be in any folder.</span></span>

-   <span data-ttu-id="37650-122">DllMain es el punto de entrada estándar a DLL.</span><span class="sxs-lookup"><span data-stu-id="37650-122">DllMain is the standard entry point to DLL.</span></span>
-   <span data-ttu-id="37650-123">DllRegisterServer registra el archivo DLL en el registro, como `regsvr32.exe %SystemRoot%\MyFolder\wordbreaker.dll`</span><span class="sxs-lookup"><span data-stu-id="37650-123">DllRegisterServer registers the DLL in the registry, such as `regsvr32.exe %SystemRoot%\MyFolder\wordbreaker.dll`</span></span>
-   <span data-ttu-id="37650-124">DllCanUnloadNow permite que los clientes llamen a este punto de entrada a través del modelo de objetos componentes (COM) para determinar si es posible descargar el archivo DLL de recursos de idioma.</span><span class="sxs-lookup"><span data-stu-id="37650-124">DllCanUnloadNow enables clients to call this entry point through Component Object Model (COM) to determine whether it is possible to unload the language resource DLL.</span></span>
-   <span data-ttu-id="37650-125">DllUnRegisterServer quita el archivo DLL del registro.</span><span class="sxs-lookup"><span data-stu-id="37650-125">DllUnRegisterServer removes the DLL from the registry.</span></span>

## <a name="registering-a-language"></a><span data-ttu-id="37650-126">Registrar un idioma</span><span class="sxs-lookup"><span data-stu-id="37650-126">Registering a Language</span></span>

<span data-ttu-id="37650-127">El registro contiene entradas específicas del idioma para el idioma que se está indizando y estas entradas controlan las partes de los procesos de indexación y consulta que son específicos del idioma.</span><span class="sxs-lookup"><span data-stu-id="37650-127">The registry contains language-specific entries for the language being indexed, and these entries control the parts of the indexing and query processes that are language specific.</span></span> <span data-ttu-id="37650-128">Estas entradas del registro pueden encontrarse en la siguiente clave del registro.</span><span class="sxs-lookup"><span data-stu-id="37650-128">These registry entries can be found under the following registry key.</span></span>

```
HKEY_LOCAL_MACHINE
   SYSTEM
      CurrentControlSet
         ContentIndex
            Control
               Language
                  
```

## <a name="implementing-a-word-beaker"></a><span data-ttu-id="37650-129">Implementación de un vaso de palabras</span><span class="sxs-lookup"><span data-stu-id="37650-129">Implementing a Word Beaker</span></span>

<span data-ttu-id="37650-130">Los separadores de palabras implementan [**IWordBreaker**](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordbreaker).</span><span class="sxs-lookup"><span data-stu-id="37650-130">Word breakers implement [**IWordBreaker**](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordbreaker).</span></span> <span data-ttu-id="37650-131">El método [**IWordBreaker:: BreakText**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) realiza todo el procesamiento y el análisis de texto.</span><span class="sxs-lookup"><span data-stu-id="37650-131">The [**IWordBreaker::BreakText**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) method performs all text processing and parsing.</span></span> <span data-ttu-id="37650-132">Para implementar un componente de separador de palabras, debe tener la heurística de idioma para su idioma.</span><span class="sxs-lookup"><span data-stu-id="37650-132">To implement a word breaker component, you must have language heuristics for your language.</span></span> <span data-ttu-id="37650-133">Esto incluye información sobre la sintaxis y la morfología.</span><span class="sxs-lookup"><span data-stu-id="37650-133">This includes information about syntax and morphology.</span></span> <span data-ttu-id="37650-134">También puede necesitar una lista de palabras para excluir o incluir.</span><span class="sxs-lookup"><span data-stu-id="37650-134">You may also need a list of words to exclude or include.</span></span> <span data-ttu-id="37650-135">Cree el archivo de palabras irrelevantes para su configuración regional de idioma en la lista de palabras excluidas.</span><span class="sxs-lookup"><span data-stu-id="37650-135">You build the file of noise words for your language locale from the list of excluded words.</span></span> <span data-ttu-id="37650-136">Para obtener más información sobre las consideraciones lingüísticas y el modo en que estas consideraciones afectan a las implementaciones de separadores de palabras, consulte [consideraciones lingüísticas y Unicode](linguistic-and-unicode-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="37650-136">For more information about linguistic considerations and how these considerations affect word breaker implementations, see [Linguistic and Unicode Considerations](linguistic-and-unicode-considerations.md).</span></span>

<span data-ttu-id="37650-137">El propósito principal de [**IWordBreaker:: BreakText**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) es procesar el texto continuamente desde el [**\_ origen del texto**](/windows/win32/api/indexsrv/ns-indexsrv-text_source) hasta que se procese todo el texto, o hasta que el separador de palabras encuentre un error.</span><span class="sxs-lookup"><span data-stu-id="37650-137">The main purpose of [**IWordBreaker::BreakText**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) is to process text continuously from the [**TEXT\_SOURCE**](/windows/win32/api/indexsrv/ns-indexsrv-text_source) until all the text is processed, or until the word breaker encounters an error.</span></span> <span data-ttu-id="37650-138">En este bucle de procesamiento de datos, **IWordBreaker:: BreakText** llama a métodos de análisis y de utilidad que realizan tareas específicas para ese proceso.</span><span class="sxs-lookup"><span data-stu-id="37650-138">While in this data processing loop, **IWordBreaker::BreakText** calls parsing and utility methods that perform specific tasks for that process.</span></span> <span data-ttu-id="37650-139">Por ejemplo, el separador de palabras en alemán puede controlar palabras compuestas, mientras que el separador de palabras en francés puede procesar [signos diacríticos](surface-form-normalization.md) o [clitics](surface-form-normalization.md).</span><span class="sxs-lookup"><span data-stu-id="37650-139">For example, the German word breaker may handle compound words, whereas the French word breaker may process [diacritics](surface-form-normalization.md) or [clitics](surface-form-normalization.md).</span></span> <span data-ttu-id="37650-140">Las funciones específicas que realiza el separador de palabras y la estrategia que utiliza para realizar estas tareas dependen por completo de los requisitos de ese idioma.</span><span class="sxs-lookup"><span data-stu-id="37650-140">The specific functions that the word breaker performs and the strategy that it uses in performing these tasks depend entirely on the requirements for that language.</span></span>

<span data-ttu-id="37650-141">Al romper texto, los separadores de palabras identifican los formularios "alternativos" para las palabras que pueden tener varias representaciones.</span><span class="sxs-lookup"><span data-stu-id="37650-141">When breaking text, word breakers identify "alternative" forms for words that may have multiple representations.</span></span> <span data-ttu-id="37650-142">No se implica ninguna relación semántica entre las palabras generadas.</span><span class="sxs-lookup"><span data-stu-id="37650-142">No semantic relationship is implied between the generated words.</span></span> <span data-ttu-id="37650-143">De hecho, es posible que la palabra original no esté incluida entre la lista de alternativas.</span><span class="sxs-lookup"><span data-stu-id="37650-143">In fact, the original word may not be included among the list of alternatives.</span></span> <span data-ttu-id="37650-144">Los formularios alternativos se guardan en la misma posición en el índice que la palabra original para indicar que son idénticos.</span><span class="sxs-lookup"><span data-stu-id="37650-144">The alternative forms are saved in the same position in the index as the original word to indicate that they are identical.</span></span>

<span data-ttu-id="37650-145">Cuando se incluye un documento en el índice, se asigna a cada palabra un valor entero que representa el desplazamiento, o la distancia de la palabra desde el principio de un documento.</span><span class="sxs-lookup"><span data-stu-id="37650-145">When a document is included in the index, each word is assigned an integer value that represents the offset, or the distance of the word from the beginning of a document.</span></span> <span data-ttu-id="37650-146">La distancia relativa entre las palabras de una consulta se compara con los desplazamientos almacenados en el índice de texto completo.</span><span class="sxs-lookup"><span data-stu-id="37650-146">The relative distance between words in a query is compared against the offsets stored in the full-text index.</span></span> <span data-ttu-id="37650-147">La consulta "Where is Kyle Document" coincide con cualquier documento con "where" en el desplazamiento n, "is" en n + 1, "Kyle" en n + 2 y "Document" en n + 3.</span><span class="sxs-lookup"><span data-stu-id="37650-147">The query "Where is Kyle's document" matches any document with "Where" at offset n, "is" at n+1, "Kyle's" at n+2, and "document" at n+3.</span></span> <span data-ttu-id="37650-148">"¿Dónde se archivó el documento de Kyle en la base de datos?"</span><span class="sxs-lookup"><span data-stu-id="37650-148">"Where is Kyle's document filed in the data-base?"</span></span> <span data-ttu-id="37650-149">se representa como:</span><span class="sxs-lookup"><span data-stu-id="37650-149">is represented as:</span></span>



|       |     |                        |          |       |     |     |                               |
|-------|-----|------------------------|----------|-------|-----|-----|-------------------------------|
| <span data-ttu-id="37650-150">Where</span><span class="sxs-lookup"><span data-stu-id="37650-150">Where</span></span> | <span data-ttu-id="37650-151">is</span><span class="sxs-lookup"><span data-stu-id="37650-151">is</span></span>  | <span data-ttu-id="37650-152">Kyle Kyle</span><span class="sxs-lookup"><span data-stu-id="37650-152">Kyle Kyle's</span></span><br/> | <span data-ttu-id="37650-153">documento</span><span class="sxs-lookup"><span data-stu-id="37650-153">document</span></span> | <span data-ttu-id="37650-154">registrado</span><span class="sxs-lookup"><span data-stu-id="37650-154">filed</span></span> | <span data-ttu-id="37650-155">in</span><span class="sxs-lookup"><span data-stu-id="37650-155">in</span></span>  | <span data-ttu-id="37650-156">el</span><span class="sxs-lookup"><span data-stu-id="37650-156">the</span></span> | <span data-ttu-id="37650-157">base de datos Database</span><span class="sxs-lookup"><span data-stu-id="37650-157">database data base</span></span><br/> |



 

<span data-ttu-id="37650-158">En este ejemplo, el separador de palabras almacena formularios alternativos para "Kyle" ("Kyle") y "Database" ("base de datos") en el índice.</span><span class="sxs-lookup"><span data-stu-id="37650-158">In this example, the word breaker stores alternative forms for "Kyle" ("Kyle's") and "database" ("data base") in the index.</span></span> <span data-ttu-id="37650-159">El separador de palabras genera y almacena palabras alternativas durante el proceso de creación de índices en las siguientes condiciones:</span><span class="sxs-lookup"><span data-stu-id="37650-159">The word breaker generates and stores alternative words during the index creation process under the following conditions:</span></span>

-   <span data-ttu-id="37650-160">Si es probable que una palabra alternativa aparezca como una sola palabra en una consulta</span><span class="sxs-lookup"><span data-stu-id="37650-160">If an alternative word is likely to appear as a single word in a query</span></span>
-   <span data-ttu-id="37650-161">Si no es probable que un analizador lingüístico derive la palabra original de la alternativa</span><span class="sxs-lookup"><span data-stu-id="37650-161">If a stemmer is not likely to derive the original word from the alternative</span></span>

<span data-ttu-id="37650-162">La generación de formularios de Word alternativos aumenta el número de formas en que las consultas representan y coinciden con una oración, tal y como se muestra en las siguientes variaciones:</span><span class="sxs-lookup"><span data-stu-id="37650-162">Generating alternative word forms increases the number of ways that queries represent and match a sentence, as shown in the following variations:</span></span>

1.  <span data-ttu-id="37650-163">Donde es el documento Kyle almacenado en la base de datos</span><span class="sxs-lookup"><span data-stu-id="37650-163">Where is Kyle document filed in the database</span></span>
2.  <span data-ttu-id="37650-164">Donde es el documento de Kyle en la base de datos</span><span class="sxs-lookup"><span data-stu-id="37650-164">Where is Kyle's document filed in the database</span></span>
3.  <span data-ttu-id="37650-165">Donde es el documento Kyle almacenado en la base de datos</span><span class="sxs-lookup"><span data-stu-id="37650-165">Where is Kyle document filed in the data base</span></span>
4.  <span data-ttu-id="37650-166">Donde es el documento de Kyle en la base de datos</span><span class="sxs-lookup"><span data-stu-id="37650-166">Where is Kyle's document filed in the data base</span></span>

### <a name="wordsink-and-phrasesink"></a><span data-ttu-id="37650-167">WordSink y PhraseSink</span><span class="sxs-lookup"><span data-stu-id="37650-167">WordSink and PhraseSink</span></span>

<span data-ttu-id="37650-168">Los separadores de palabras usan los objetos [**IWordSink**](iwordsink.md) y [**IPhraseSink**](/windows/win32/api/indexsrv/nn-indexsrv-iphrasesink) para recopilar y almacenar todas las palabras y frases que extraen del texto.</span><span class="sxs-lookup"><span data-stu-id="37650-168">Word breakers use the [**IWordSink**](iwordsink.md) and [**IPhraseSink**](/windows/win32/api/indexsrv/nn-indexsrv-iphrasesink) objects to collect and store all words and phrases that they extract from text.</span></span> <span data-ttu-id="37650-169">Un separador de palabras almacena las palabras en un formato lo más cerca posible del formulario de Word original en el documento.</span><span class="sxs-lookup"><span data-stu-id="37650-169">A word breaker stores words in a form that is as close as possible to the original word form in the document.</span></span> <span data-ttu-id="37650-170">**IPhraseSink** almacena frases en el momento de la consulta.</span><span class="sxs-lookup"><span data-stu-id="37650-170">**IPhraseSink** stores phrases at query time.</span></span> <span data-ttu-id="37650-171">Las frases mejoran la relevancia de los resultados de la consulta, ya que las secuencias de palabras más largas son menos frecuentes y ofrecen una distinción mayor que las frases más pequeñas.</span><span class="sxs-lookup"><span data-stu-id="37650-171">Phrases improve the relevance of query results because longer sequences of words are rarer and provide greater distinction than smaller phrases.</span></span> <span data-ttu-id="37650-172">Cuando el indexador coloca una frase en el **IPhraseSink** en el momento de la consulta, crea una instancia del separador de palabras para dividir la frase en palabras.</span><span class="sxs-lookup"><span data-stu-id="37650-172">When the indexer places a phrase in the **IPhraseSink** at query time, it creates an instance of the word breaker to break the phrase into words.</span></span> <span data-ttu-id="37650-173">A continuación, el indexador evalúa la frase comprobando si las palabras de la frase aparecen adyacentes entre sí en el índice.</span><span class="sxs-lookup"><span data-stu-id="37650-173">The indexer then evaluates the phrase by checking whether the words in the phrase occur adjacent to one another in the index.</span></span> <span data-ttu-id="37650-174">Por ejemplo, si "ABCD" aparece en el índice en las posiciones *x*, *x*+ 1, *x*+ 2 y *x*+ 3, la frase se producirá si se envía cualquier subcadena adyacente de "ABCD" en una consulta.</span><span class="sxs-lookup"><span data-stu-id="37650-174">For example, if "ABCD" occurs in the index at positions *x*, *x*+1, *x*+2, and *x*+3, the phrase match will occur if any adjacent substring of "ABCD" is submitted in a query.</span></span> <span data-ttu-id="37650-175">Esta estrategia es eficaz para los separadores de palabras basados en caracteres que dividen frases y largas palabras durante la creación del índice y que generan frases durante el tiempo de consulta.</span><span class="sxs-lookup"><span data-stu-id="37650-175">This strategy is effective for character-based word breakers that split phrases and long words during index creation and that generate phrases during query time.</span></span>

### <a name="breaks"></a><span data-ttu-id="37650-176">Saltos</span><span class="sxs-lookup"><span data-stu-id="37650-176">Breaks</span></span>

<span data-ttu-id="37650-177">Los saltos son los espacios entre las palabras.</span><span class="sxs-lookup"><span data-stu-id="37650-177">Breaks are the spaces between words.</span></span> <span data-ttu-id="37650-178">Los espacios en blanco, los signos de puntuación, los formatos o simplemente la naturaleza del propio idioma pueden provocar interrupciones.</span><span class="sxs-lookup"><span data-stu-id="37650-178">White space, punctuation, formatting, or just the nature of the language itself can cause breaks.</span></span> <span data-ttu-id="37650-179">Hay cuatro tipos diferentes de interrupciones que usa el indexador: final de palabra (EOW), final de frase (EOS), final de párrafo (EOP) y final del capítulo (EOC).</span><span class="sxs-lookup"><span data-stu-id="37650-179">There are four different types of breaks that the indexer uses: end of word (EOW), end of sentence (EOS), end of paragraph (EOP) and end of chapter (EOC).</span></span> <span data-ttu-id="37650-180">La interrupción EOW es la interrupción predeterminada.</span><span class="sxs-lookup"><span data-stu-id="37650-180">The EOW break is the default break.</span></span> <span data-ttu-id="37650-181">Después de cada token, cada interrupción indica una distancia semántica diferente entre las palabras de ambos lados.</span><span class="sxs-lookup"><span data-stu-id="37650-181">After each token, each break indicates a different semantic distance between the words on either side.</span></span> <span data-ttu-id="37650-182">Las palabras separadas por EOW tienen el vínculo semántico más estrecho, seguido de EOS, EOP y EOC.</span><span class="sxs-lookup"><span data-stu-id="37650-182">Words separated by EOW have the tightest semantic link, followed by EOS, EOP, and EOC.</span></span> <span data-ttu-id="37650-183">Varias llamadas a [**IWordSink::P utbreak**](iwordsink-putbreak.md) son acumulativas y son análogas a la inserción de palabras o oraciones nulas.</span><span class="sxs-lookup"><span data-stu-id="37650-183">Multiple calls to [**IWordSink::PutBreak**](iwordsink-putbreak.md) are cumulative, and are analogous to inserting null words or sentences.</span></span>

### <a name="scalability-performancy-and-security"></a><span data-ttu-id="37650-184">Escalabilidad, performancy y seguridad</span><span class="sxs-lookup"><span data-stu-id="37650-184">Scalability, Performancy, and Security</span></span>

<span data-ttu-id="37650-185">La forma en que el separador de palabras responde a las llamadas simultáneas viene determinada en gran medida por el modelo de subprocesos elegido.</span><span class="sxs-lookup"><span data-stu-id="37650-185">The way the word breaker responds to simultaneous calls is largely determined by your choice of threading model.</span></span> <span data-ttu-id="37650-186">El indexador es una aplicación de un solo subproceso.</span><span class="sxs-lookup"><span data-stu-id="37650-186">The indexer is a single-threaded application.</span></span> <span data-ttu-id="37650-187">Para que los separadores de palabras funcionen en un entorno de un solo subproceso, los separadores de palabras se deben escribir con un modelo de subprocesos "Free" o "both".</span><span class="sxs-lookup"><span data-stu-id="37650-187">For word breakers to work in a single-threaded environment, word breakers must be written using a "free" or "both" threading model.</span></span> <span data-ttu-id="37650-188">Los separadores de palabras no deben registrarse con COM mediante el modelo de subprocesos "Apartamento".</span><span class="sxs-lookup"><span data-stu-id="37650-188">Word breakers must not register with COM by using the "apartment" threading model.</span></span>

<span data-ttu-id="37650-189">Se recomienda que los separadores de palabras eviten los Estados globales y almacenen los datos en la instancia del separador de palabras.</span><span class="sxs-lookup"><span data-stu-id="37650-189">We recommend that word breakers avoid global states and store data in the instance for the word breaker.</span></span> <span data-ttu-id="37650-190">El único contenido que debe almacenarse en la implementación del separador de palabras son para los parámetros *fQuery* y *ulMaxTokenSize*.</span><span class="sxs-lookup"><span data-stu-id="37650-190">The only content that should be stored in the word breaker implementation are for the parameters *fQuery* and *ulMaxTokenSize*.</span></span> <span data-ttu-id="37650-191">Los separadores de palabras no deben ser más de dos veces más lentos que la prueba comparativa establecida por el separador de palabras en inglés.</span><span class="sxs-lookup"><span data-stu-id="37650-191">Word breakers should be no more than two times slower than the benchmark established by the English word breaker.</span></span> <span data-ttu-id="37650-192">El rendimiento del separador de palabras también debe mejorar con mayor capacidad de hardware.</span><span class="sxs-lookup"><span data-stu-id="37650-192">Word breaker performance should also improve with increased hardware capability.</span></span>

<span data-ttu-id="37650-193">Los separadores de palabras del indexador se ejecutan en el contexto de seguridad del sistema local.</span><span class="sxs-lookup"><span data-stu-id="37650-193">Word breakers for the indexer run in the Local System security context.</span></span> <span data-ttu-id="37650-194">Se deben escribir para administrar los búferes y para apilarlos correctamente.</span><span class="sxs-lookup"><span data-stu-id="37650-194">They should be written to manage buffers and to stack correctly.</span></span> <span data-ttu-id="37650-195">Todas las copias de cadena deben tener comprobaciones explícitas para evitar las saturaciones del búfer.</span><span class="sxs-lookup"><span data-stu-id="37650-195">All string copies must have explicit checks to guard against buffer overruns.</span></span> <span data-ttu-id="37650-196">Siempre debe comprobar el tamaño asignado del búfer y probar el tamaño de los datos con respecto al tamaño del búfer.</span><span class="sxs-lookup"><span data-stu-id="37650-196">You should always verify the allocated size of the buffer and test the size of the data against the size of the buffer.</span></span> <span data-ttu-id="37650-197">Los separadores de palabras no pueden suponer que el texto que se pasa al método [**IWordBreaker:: BreakText**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) tiene el formato correcto.</span><span class="sxs-lookup"><span data-stu-id="37650-197">Word breakers cannot assume that the text passed to the [**IWordBreaker::BreakText**](/windows/desktop/api/Indexsrv/nf-indexsrv-iwordbreaker-breaktext) method is well formed.</span></span> <span data-ttu-id="37650-198">Para obtener más información acerca de cómo solucionar problemas de los separadores de palabras, consulte [solución de problemas de recursos de lenguaje y procedimientos recomendados](troubleshooting-language-resources.md).</span><span class="sxs-lookup"><span data-stu-id="37650-198">For more information about troubleshooting word breakers, see [Troubleshooting Language Resources and Best Practices](troubleshooting-language-resources.md).</span></span>

## <a name="implementing-a-stemmer"></a><span data-ttu-id="37650-199">Implementación de un analizador lingüístico</span><span class="sxs-lookup"><span data-stu-id="37650-199">Implementing a Stemmer</span></span>

<span data-ttu-id="37650-200">Lematizadores implementa la interfaz [**IStemmer**](/windows/desktop/api/Indexsrv/nn-indexsrv-istemmer) .</span><span class="sxs-lookup"><span data-stu-id="37650-200">Stemmers implement the [**IStemmer**](/windows/desktop/api/Indexsrv/nn-indexsrv-istemmer) interface.</span></span> <span data-ttu-id="37650-201">El método [**IStemmer:: GenerateWordForms**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms) genera una lista de formas de palabras derivadas para una palabra de entrada determinada.</span><span class="sxs-lookup"><span data-stu-id="37650-201">The [**IStemmer::GenerateWordForms**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms) method generates a list of inflected word forms for a particular input word.</span></span> <span data-ttu-id="37650-202">Para implementar un componente lingüístico, debe tener la heurística de idioma para su idioma.</span><span class="sxs-lookup"><span data-stu-id="37650-202">To implement a stemmer component, you must have language heuristics for your language.</span></span> <span data-ttu-id="37650-203">Esto incluye información sobre la morfología.</span><span class="sxs-lookup"><span data-stu-id="37650-203">This includes information about morphology.</span></span> <span data-ttu-id="37650-204">También puede necesitar una lista de palabras para excluir o incluir.</span><span class="sxs-lookup"><span data-stu-id="37650-204">You may also need a list of words to exclude or include.</span></span> <span data-ttu-id="37650-205">Para obtener más información acerca de las consideraciones lingüísticas y el modo en que estas consideraciones afectan a las implementaciones de lingüísticos, consulte [consideraciones lingüísticas y Unicode](linguistic-and-unicode-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="37650-205">For more information about linguistic considerations and how these considerations affect stemmer implementations, see [Linguistic and Unicode Considerations](linguistic-and-unicode-considerations.md).</span></span>

<span data-ttu-id="37650-206">Se recomienda que lematizadores no genere el caso genitivo, o Possessive, para las palabras.</span><span class="sxs-lookup"><span data-stu-id="37650-206">We recommend that stemmers should not generate the genitive, or possessive, case for words.</span></span> <span data-ttu-id="37650-207">Por ejemplo, "David" no se genera como una forma alternativa para "David".</span><span class="sxs-lookup"><span data-stu-id="37650-207">For example, "David" is not generated as an alternative form for "David's."</span></span> <span data-ttu-id="37650-208">El separador de palabras genera "David" y "David" cuando analiza "David".</span><span class="sxs-lookup"><span data-stu-id="37650-208">The word breaker generates both "David" and "David's" when it parses "David's."</span></span>

<span data-ttu-id="37650-209">El analizador lingüístico usa el objeto [IWordFormSink](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordformsink) para recopilar la lista de palabras alternativas.</span><span class="sxs-lookup"><span data-stu-id="37650-209">The stemmer uses the [IWordFormSink](/windows/desktop/api/Indexsrv/nn-indexsrv-iwordformsink) object to gather the list of alternative words.</span></span> <span data-ttu-id="37650-210">[**IWordFormSink::P utword**](iwordformsink-putword.md) genera la palabra final a partir del analizador lingüístico.</span><span class="sxs-lookup"><span data-stu-id="37650-210">[**IWordFormSink::PutWord**](iwordformsink-putword.md) generates the final word from the stemmer.</span></span> <span data-ttu-id="37650-211">En todos los casos, esta palabra final es igual que la palabra de entrada de [**IStemmer:: GenerateWordForms**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms).</span><span class="sxs-lookup"><span data-stu-id="37650-211">In all cases, this final word is the same as the input word from [**IStemmer::GenerateWordForms**](/windows/desktop/api/Indexsrv/nf-indexsrv-istemmer-generatewordforms).</span></span> <span data-ttu-id="37650-212">Por ejemplo, dada la palabra "nadar", el analizador lingüístico genera los siguientes formatos de palabra: "natación", "Swimmer", "nadar", "Swam" y "swum", a través de las llamadas a [**IWordFormSink::P utaltword**](iwordformsink-putphrase.md).</span><span class="sxs-lookup"><span data-stu-id="37650-212">For example, given the word "swim," the stemmer generates the following word forms: "swimming," "swimmer," "swims," "swam," and "swum," through calls to [**IWordFormSink::PutAltWord**](iwordformsink-putphrase.md).</span></span> <span data-ttu-id="37650-213">El analizador lingüístico genera "nadar" a través de **IWordFormSink::P utword**.</span><span class="sxs-lookup"><span data-stu-id="37650-213">The stemmer generates "swim" through **IWordFormSink::PutWord**.</span></span>

### <a name="scalability-performancy-and-security"></a><span data-ttu-id="37650-214">Escalabilidad, performancy y seguridad</span><span class="sxs-lookup"><span data-stu-id="37650-214">Scalability, Performancy, and Security</span></span>

<span data-ttu-id="37650-215">Lematizadores, al igual que los separadores de palabras, deben usar un modelo de subprocesos "gratuito" y registrarse con COM con el modelo de subprocesos establecido en "Free" o "both".</span><span class="sxs-lookup"><span data-stu-id="37650-215">Stemmers, like word breakers, must use a "free" threading model and register with COM with their threading model set to "free" or "both."</span></span> <span data-ttu-id="37650-216">Windows Search llama a instancias independientes del analizador lingüístico desde distintos subprocesos al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="37650-216">Windows Search calls separate instances of the stemmer from different threads at the same time.</span></span> <span data-ttu-id="37650-217">Por lo tanto, lematizadores debe tener datos de instancia mínimos.</span><span class="sxs-lookup"><span data-stu-id="37650-217">Stemmers should therefore have minimal instance data.</span></span>

<span data-ttu-id="37650-218">La precisión de los lingüísticos tiene un impacto significativo en la relevancia de la consulta.</span><span class="sxs-lookup"><span data-stu-id="37650-218">Stemmer accuracy has a significant impact on query relevance.</span></span> <span data-ttu-id="37650-219">Si el analizador lingüístico no tiene el texto correctamente, las consultas pueden devolver resultados imprevisibles e imprecisos.</span><span class="sxs-lookup"><span data-stu-id="37650-219">If the stemmer stems the text incorrectly, queries may return unpredictable and inaccurate results.</span></span> <span data-ttu-id="37650-220">Lematizadores debe controlar cientos de consultas por segundo sin afectar negativamente al rendimiento de las consultas.</span><span class="sxs-lookup"><span data-stu-id="37650-220">Stemmers must handle hundreds of queries per second without negatively affecting query performance.</span></span> <span data-ttu-id="37650-221">El rendimiento del analizador lingüístico debería mejorar con mayor capacidad de hardware.</span><span class="sxs-lookup"><span data-stu-id="37650-221">Stemmer performance should improve with increased hardware capability.</span></span> <span data-ttu-id="37650-222">Para obtener información sobre la solución de problemas de lematizadores, consulte [solución de problemas de recursos de lenguaje y procedimientos recomendados](troubleshooting-language-resources.md).</span><span class="sxs-lookup"><span data-stu-id="37650-222">For information about troubleshooting stemmers, see [Troubleshooting Language Resources and Best Practices](troubleshooting-language-resources.md).</span></span>

<span data-ttu-id="37650-223">Lematizadores para Windows Search se ejecuta en el contexto de seguridad local.</span><span class="sxs-lookup"><span data-stu-id="37650-223">Stemmers for Windows Search run in the Local Security context.</span></span> <span data-ttu-id="37650-224">Se deben escribir para administrar los búferes y para apilarlos correctamente.</span><span class="sxs-lookup"><span data-stu-id="37650-224">They should be written to manage buffers and to stack correctly.</span></span> <span data-ttu-id="37650-225">Todas las copias de cadena deben tener comprobaciones explícitas para evitar las saturaciones del búfer.</span><span class="sxs-lookup"><span data-stu-id="37650-225">All string copies must have explicit checks to guard against buffer overruns.</span></span> <span data-ttu-id="37650-226">Siempre debe comprobar el tamaño asignado del búfer y probar el tamaño de los datos con respecto al tamaño del búfer.</span><span class="sxs-lookup"><span data-stu-id="37650-226">You should always verify the allocated size of the buffer and test the size of the data against the size of the buffer.</span></span>

## <a name="related-topics"></a><span data-ttu-id="37650-227">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="37650-227">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="37650-228">Extensión de recursos de idioma</span><span class="sxs-lookup"><span data-stu-id="37650-228">Extending Language Resources</span></span>](extending-language-resources-in-windows-search.md)
</dt> <dt>

[<span data-ttu-id="37650-229">Descripción de los componentes de recursos de lenguaje</span><span class="sxs-lookup"><span data-stu-id="37650-229">Understanding Language Resource Components</span></span>](understanding-language-resource-components.md)
</dt> <dt>

[<span data-ttu-id="37650-230">Consideraciones lingüísticas y Unicode</span><span class="sxs-lookup"><span data-stu-id="37650-230">Linguistic and Unicode Considerations</span></span>](linguistic-and-unicode-considerations.md)
</dt> <dt>

[<span data-ttu-id="37650-231">Solución de problemas de recursos de lenguaje y procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="37650-231">Troubleshooting Language Resources and Best Practices</span></span>](troubleshooting-language-resources.md)
</dt> </dl>

 

 
