---
description: A partir de Windows Server 2008 y Windows Vista, la API de WinHTTP se ha mejorado para incluir las características siguientes.
ms.assetid: b47a2e38-67bd-4d43-936c-8781641cb7f6
title: Novedades de Windows Server 2008 y Windows Vista
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fac0f274b45e1db79fb79340b7f490de96f57e8f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104497500"
---
# <a name="whats-new-in-windows-server-2008-and-windows-vista"></a><span data-ttu-id="bba49-103">Novedades de Windows Server 2008 y Windows Vista</span><span class="sxs-lookup"><span data-stu-id="bba49-103">What's New in Windows Server 2008 and Windows Vista</span></span>

<span data-ttu-id="bba49-104">A partir de Windows Server 2008 y Windows Vista, la API de WinHTTP se ha mejorado para incluir las características siguientes.</span><span class="sxs-lookup"><span data-stu-id="bba49-104">Starting in Windows Server 2008 and Windows Vista, the WinHTTP API has been enhanced to include the following features.</span></span>

## <a name="greater-than-4-gb-upload"></a><span data-ttu-id="bba49-105">Carga superior a 4 GB.</span><span class="sxs-lookup"><span data-stu-id="bba49-105">Greater Than 4-GB Upload.</span></span>

<span data-ttu-id="bba49-106">[**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) solo puede enviar 4 GB de datos debido a limitaciones en el tamaño del parámetro de longitud total de DWORD.</span><span class="sxs-lookup"><span data-stu-id="bba49-106">[**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) can send only 4 GB of data because of limitations in the size of the DWORD total length parameter.</span></span> <span data-ttu-id="bba49-107">Para permitir que las aplicaciones envíen más de 4 GB de datos, se agrega el encabezado Content-Length a la solicitud especificando datos como grandes como un \_ entero grande (2 ^ 64 bytes).</span><span class="sxs-lookup"><span data-stu-id="bba49-107">To enable applications to send more than 4 GB of data, the Content-Length header is added to the request specifying data as large as a LARGE\_INTEGER (2^64 bytes).</span></span> <span data-ttu-id="bba49-108">Para obtener más información, vea **WinHttpSendRequest**.</span><span class="sxs-lookup"><span data-stu-id="bba49-108">For more information, see **WinHttpSendRequest**.</span></span> <span data-ttu-id="bba49-109">Esta característica no se admite en el objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="bba49-109">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="transfer-encoding-header"></a><span data-ttu-id="bba49-110">Encabezado Transfer-Encoding</span><span class="sxs-lookup"><span data-stu-id="bba49-110">Transfer-Encoding Header</span></span>

<span data-ttu-id="bba49-111">El encabezado Transfer-Encoding permite a las aplicaciones enviar datos fragmentados al servidor.</span><span class="sxs-lookup"><span data-stu-id="bba49-111">The Transfer-Encoding header enables applications to send chunked data to the server.</span></span> <span data-ttu-id="bba49-112">Cuando el encabezado Transfer-Encoding está presente en la solicitud, la aplicación envía la solicitud con un cuerpo de entidad de longitud cero en la llamada a [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest).</span><span class="sxs-lookup"><span data-stu-id="bba49-112">When the Transfer-Encoding header is present on the request, the application sends the request with a zero length entity body in the call to [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest).</span></span> <span data-ttu-id="bba49-113">El cuerpo de la entidad se envía en llamadas posteriores a [**WinHttpWriteData**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpwritedata).</span><span class="sxs-lookup"><span data-stu-id="bba49-113">The entity body is sent in subsequent calls to [**WinHttpWriteData**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpwritedata).</span></span> <span data-ttu-id="bba49-114">Esta característica no se admite en el objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="bba49-114">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="ssl-client-certificate-issuer-list-retrieval"></a><span data-ttu-id="bba49-115">Recuperación de lista de emisores de certificados de cliente SSL</span><span class="sxs-lookup"><span data-stu-id="bba49-115">SSL Client Certificate Issuer List Retrieval</span></span>

<span data-ttu-id="bba49-116">La aplicación puede recuperar la lista de emisores de certificados de cliente SSL cuando se produce un error de [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) con un **certificado de autenticación de \_ \_ cliente WinHTTP \_ \_ \_ necesario**.</span><span class="sxs-lookup"><span data-stu-id="bba49-116">The application can retrieve the SSL client certificate Issuer List when [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) fails with an **ERROR\_WINHTTP\_CLIENT\_AUTH\_CERT\_NEEDED**.</span></span> <span data-ttu-id="bba49-117">Una nueva opción, **la \_ opción \_ WinHTTP \_ \_ \_ lista de emisores de certificados de cliente**, permite a las aplicaciones recuperar la lista de emisores de certificados y filtrar la lista para obtener el certificado óptimo.</span><span class="sxs-lookup"><span data-stu-id="bba49-117">A new option, **WINHTTP\_OPTION\_CLIENT\_CERT\_ISSUER\_LIST**, allows applications to retrieve the certificate Issuer List and filter the list for the optimal certificate.</span></span> <span data-ttu-id="bba49-118">Para obtener más información, consulte los temas de [**Opciones marcas**](option-flags.md) y [recuperación de listas de emisores para la autenticación de cliente SSL](ssl-in-winhttp.md) .</span><span class="sxs-lookup"><span data-stu-id="bba49-118">For more information, see the [**Option Flags**](option-flags.md) and [Issuer List Retrieval for SSL Client Authentication](ssl-in-winhttp.md) topics.</span></span> <span data-ttu-id="bba49-119">Esta característica no se admite en el objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="bba49-119">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="optional-client-certificates"></a><span data-ttu-id="bba49-120">Certificados de cliente opcionales</span><span class="sxs-lookup"><span data-stu-id="bba49-120">Optional Client Certificates</span></span>

<span data-ttu-id="bba49-121">Cuando se produce un error de [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) con un certificado de **\_ \_ autenticación de cliente \_ \_ \_ WinHTTP**, es posible que el servidor no requiera el certificado de cliente SSL.</span><span class="sxs-lookup"><span data-stu-id="bba49-121">When [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) fails with an **ERROR\_WINHTTP\_CLIENT\_AUTH\_CERT\_NEEDED**, the server may not require the SSL client certificate.</span></span> <span data-ttu-id="bba49-122">Es posible que el servidor pueda revertir a otra forma de autenticación, o bien permitir que el cliente continúe con el acceso anónimo.</span><span class="sxs-lookup"><span data-stu-id="bba49-122">The server may be able to revert to another form of authentication, or allow the client to proceed with anonymous access.</span></span> <span data-ttu-id="bba49-123">La aplicación establece la opción de contexto de certificado de cliente de la **\_ opción \_ \_ \_ WinHTTP** y especifica una macro que WinHTTP usa para determinar si el certificado de cliente es necesario.</span><span class="sxs-lookup"><span data-stu-id="bba49-123">The application sets the **WINHTTP\_OPTION\_CLIENT\_CERT\_CONTEXT** option and specifies a macro that WinHttp uses to determine if the client certificate is required.</span></span> <span data-ttu-id="bba49-124">Para obtener más información, vea [**marcas de opciones**](option-flags.md).</span><span class="sxs-lookup"><span data-stu-id="bba49-124">For more information, see [**Option Flags**](option-flags.md).</span></span> <span data-ttu-id="bba49-125">Esta característica no se admite en el objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="bba49-125">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="source-and-destination-ip-addresses"></a><span data-ttu-id="bba49-126">Direcciones IP de origen y de destino</span><span class="sxs-lookup"><span data-stu-id="bba49-126">Source and Destination IP Addresses</span></span>

<span data-ttu-id="bba49-127">Cuando [**WinHttpReceiveResponse**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpreceiveresponse) se completa, la aplicación puede recuperar la dirección IP de origen y de destino y el puerto de la solicitud que generó la respuesta.</span><span class="sxs-lookup"><span data-stu-id="bba49-127">When [**WinHttpReceiveResponse**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpreceiveresponse) completes, the application can retrieve the source and destination IP address and port of the request that generated the response.</span></span> <span data-ttu-id="bba49-128">Se proporciona una nueva estructura para recibir las direcciones de origen y de destino cuando se establece la opción de información de conexión de la **\_ opción \_ \_ WinHTTP** .</span><span class="sxs-lookup"><span data-stu-id="bba49-128">A new structure is provided to receive the source and destination addresses when the **WINHTTP\_OPTION\_CONNECTION\_INFO** option is set.</span></span> <span data-ttu-id="bba49-129">Para obtener más información, vea [**marcas de opciones**](option-flags.md).</span><span class="sxs-lookup"><span data-stu-id="bba49-129">For more information, see [**Option Flags**](option-flags.md).</span></span> <span data-ttu-id="bba49-130">Esta característica no se admite en el objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="bba49-130">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="additional-ssl-client-authentication-errors"></a><span data-ttu-id="bba49-131">Errores de autenticación de cliente SSL adicionales</span><span class="sxs-lookup"><span data-stu-id="bba49-131">Additional SSL Client Authentication Errors</span></span>

<span data-ttu-id="bba49-132">Los errores adicionales de autenticación del cliente SSL proporcionan más información sobre el certificado de cliente SSL.</span><span class="sxs-lookup"><span data-stu-id="bba49-132">Additional SSL client authentication errors provide more information about the SSL Client certificate.</span></span> <span data-ttu-id="bba49-133">**Error \_ de El certificado WINHTTP \_ Client \_ \_ no \_ Private \_ key** y **error \_ WinHTTP \_ CERT \_ no \_ Access \_ private \_ key** Certificate Errors son nuevas para Windows Server 2008 y Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="bba49-133">**ERROR\_WINHTTP\_CLIENT\_CERT\_NO\_PRIVATE\_KEY** and **ERROR\_WINHTTP\_CERT\_NO\_ACCESS\_PRIVATE\_KEY** client certificate errors are new for Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="bba49-134">El objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) devuelve estos errores en HRESULT.</span><span class="sxs-lookup"><span data-stu-id="bba49-134">The [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object returns these errors in an HRESULT.</span></span>

 

 



