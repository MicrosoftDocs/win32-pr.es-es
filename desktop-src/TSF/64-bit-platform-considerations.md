---
title: Consideraciones de 64 bits
description: Con la creciente disponibilidad de Windows de 64 bits, los usuarios esperan métodos de entrada, como teclados internacionales en varios idiomas o editores de métodos de entrada (IME) en idiomas de Asia oriental, para que funcionen correctamente con aplicaciones de 32 y 64 bits.
ms.assetid: 6a99ad45-202c-4fbb-9707-341bc9fde21e
keywords:
- Text Services Framework (TSF), Windows de 64 bits
- TSF (marco de trabajo de servicios de texto), Windows de 64 bits
- servicios de texto, Windows de 64 bits
- Windows de 64 bits
- Text Services Framework (TSF), editor de métodos de entrada (IME)
- TSF (marco de trabajo de servicios de texto), editor de métodos de entrada (IME)
- servicios de texto, editor de métodos de entrada (IME)
- Editor de métodos de entrada (IME)
- IME (editor de métodos de entrada)
- Marco de trabajo de servicios de texto (TSF), teclados internacionales
- TSF (marco de trabajo de servicios de texto), teclados internacionales
- servicios de texto, teclados internacionales
- Teclados internacionales
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 045ec699c7a433f15b92467e3072d30acbf01936
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104420879"
---
# <a name="64-bit-considerations"></a><span data-ttu-id="71838-116">Consideraciones de 64 bits</span><span class="sxs-lookup"><span data-stu-id="71838-116">64-Bit Considerations</span></span>

<span data-ttu-id="71838-117">Con la creciente disponibilidad de Windows de 64 bits, los usuarios esperan métodos de entrada, como teclados internacionales en varios idiomas o editores de métodos de entrada (IME) en idiomas de Asia oriental, para que funcionen correctamente con aplicaciones de 32 y 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-117">With the increasing availability of 64-bit Windows, users expect input methods, such as international keyboards in various languages or Input Method Editors (IMEs) in East Asian languages, to work properly with both 32-bit and 64-bit applications.</span></span> <span data-ttu-id="71838-118">Al desarrollar componentes de métodos de entrada o servicios de texto para Microsoft Windows, es importante tener en cuenta Windows de 64 bits como una posible plataforma de destino para su producto.</span><span class="sxs-lookup"><span data-stu-id="71838-118">When developing input method components or text services for Microsoft Windows, it is important to consider 64-bit Windows as a potential target platform for your product.</span></span>

<span data-ttu-id="71838-119">Dado que los IME y los servicios de texto (basados en el marco de trabajo de servicios de texto) se implementan normalmente como bibliotecas de vínculos dinámicos (dll), es importante tener en cuenta que los archivos DLL se compilan específicamente para su uso en entornos de 32 bits o en entornos de 64 bits; las aplicaciones de 64 bits no pueden usar un archivo DLL creado para su uso en entornos de 32 bits y viceversa.</span><span class="sxs-lookup"><span data-stu-id="71838-119">Because IMEs and text services (based on the Text Services Framework) are typically implemented as dynamic-link libraries (DLLs), it is important to note that DLLs are built specifically for use in either 32-bit environments or 64-bit environments; a DLL built for use in 32-bit environments cannot be used by 64-bit applications, and vice versa.</span></span>

> [!Note]  
> <span data-ttu-id="71838-120">WOW64 no mitiga esta restricción de DLL específica de bits.</span><span class="sxs-lookup"><span data-stu-id="71838-120">WOW64 does not mitigate this bit-specific DLL restriction.</span></span> <span data-ttu-id="71838-121">Para obtener información sobre WOW64, vea [ejecutar aplicaciones de 32 bits](/windows/desktop/WinProg64/running-32-bit-applications).</span><span class="sxs-lookup"><span data-stu-id="71838-121">For information about WOW64, see [Running 32-bit Applications](/windows/desktop/WinProg64/running-32-bit-applications).</span></span>

 

<span data-ttu-id="71838-122">En este tema se describen las consideraciones de diseño importantes para desarrollar IME y servicios de texto para su uso en Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-122">This topic discusses important design considerations for developing IMEs and text services for use on 64-bit Windows.</span></span>

## <a name="64-bit-considerations-for-imes"></a><span data-ttu-id="71838-123">64 consideraciones de bits para los IME</span><span class="sxs-lookup"><span data-stu-id="71838-123">64-Bit Considerations for IMEs</span></span>

<span data-ttu-id="71838-124">En esta sección se describen las consideraciones especiales relacionadas con la creación de IME para su uso con Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-124">This section describes the special considerations involved with building IMEs for use with 64-bit Windows.</span></span> <span data-ttu-id="71838-125">Para obtener información acerca de los IME, consulte [Editor de métodos de entrada](/previous-versions/windows/desktop/dnacc/input-method-editor-and-text-services-framework-accessibility).</span><span class="sxs-lookup"><span data-stu-id="71838-125">For information about IMEs, see [Input Method Editor](/previous-versions/windows/desktop/dnacc/input-method-editor-and-text-services-framework-accessibility).</span></span>

## <a name="building-32-bit-and-64-bit-versions-of-an-ime"></a><span data-ttu-id="71838-126">Compilación de versiones de 32 bits y de 64 bits de un IME</span><span class="sxs-lookup"><span data-stu-id="71838-126">Building 32-Bit and 64-Bit Versions of an IME</span></span>

<span data-ttu-id="71838-127">Debido al problema de compatibilidad mencionado anteriormente de 32 bits y 64 bits con los archivos dll, se deben tomar algunas precauciones para asegurarse de que los IME funcionan de forma transparente con cualquier aplicación (32 bits o 64 bits) que se ejecute en Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-127">Because of the previously mentioned 32-bit/64-bit compatibility issue with DLLs, some precautions must be taken to ensure that IMEs work transparently with any application (32-bit or 64-bit) running on 64-bit Windows.</span></span> <span data-ttu-id="71838-128">La solución recomendada para permitir que el IME funcione de forma transparente con las aplicaciones de 32 bits y 64 bits en una plataforma de 64 bits es crear e instalar las versiones en paralelo de 32 bits y de 64 bits de la DLL de IME.</span><span class="sxs-lookup"><span data-stu-id="71838-128">The recommended solution for enabling your IME to work transparently with both 32-bit and 64-bit applications on a 64-bit platform is to build and install parallel 32-bit and 64-bit versions of the IME DLL.</span></span> <span data-ttu-id="71838-129">Normalmente, los desarrolladores crean archivos dll paralelos desde un único origen mediante el ajuste de la configuración de la plataforma de destino en su entorno de compilación.</span><span class="sxs-lookup"><span data-stu-id="71838-129">Typically, developers build parallel DLLs from a single source by adjusting the target platform settings in their build environment.</span></span> <span data-ttu-id="71838-130">Para obtener más información sobre las aplicaciones de un solo origen de 32 bits y de 64 bits, consulte [preparación para Windows de 64 bits](/windows/desktop/WinProg64/getting-ready-for-64-bit-windows).</span><span class="sxs-lookup"><span data-stu-id="71838-130">For more information about single-sourcing 32-bit and 64-bit applications, see [Getting Ready for 64-bit Windows](/windows/desktop/WinProg64/getting-ready-for-64-bit-windows).</span></span>

## <a name="side-by-side-installation-of-64-bit-and-32-bit-input-method-editors"></a><span data-ttu-id="71838-131">Instalación en paralelo de editores de métodos de entrada de 64 bits y 32 bits</span><span class="sxs-lookup"><span data-stu-id="71838-131">Side-by-Side Installation of 64-Bit and 32-Bit Input Method Editors</span></span>

<span data-ttu-id="71838-132">Los desarrolladores de servicios de texto y IME deben tener en cuenta las consideraciones de 64 bits que se describen en este tema.</span><span class="sxs-lookup"><span data-stu-id="71838-132">Developers of IMEs and text services should be aware of the 64-bit considerations described throughout this topic.</span></span> <span data-ttu-id="71838-133">Afortunadamente, los usuarios finales de estos servicios no deben preocuparse de estos detalles específicos de la implementación.</span><span class="sxs-lookup"><span data-stu-id="71838-133">Fortunately, end users of these services need not be concerned with these implementation-specific details.</span></span> <span data-ttu-id="71838-134">Una característica de Windows de 64 bits es la posibilidad de ocultar las versiones de los archivos DLL del IME de 64 bits y de 32 de los usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="71838-134">A feature of 64-bit Windows is the ability to hide the need for 64-bit and 32-bit-specific versions of the IME DLLs from end users.</span></span> <span data-ttu-id="71838-135">Cuando ambas versiones del IME están instaladas correctamente en paralelo, Windows de 64 bits reconoce la presencia de las versiones de 64 bits y de 32 bits del IME y presenta estos IME específicos de bits al usuario final como un solo IME *lógico* :.</span><span class="sxs-lookup"><span data-stu-id="71838-135">When both versions of the IME are properly installed in a side-by-side manner, 64-bit Windows recognizes the presence of both 64-bit and 32-bit versions of the IME and presents these bit-specific IMEs to the end user as a single *logical* IME.</span></span> <span data-ttu-id="71838-136">Cuando un usuario final necesita usar un IME, Windows de 64 bits elige de forma transparente la versión del IME (32 bits o 64 bits) que sea adecuada para las circunstancias determinadas.</span><span class="sxs-lookup"><span data-stu-id="71838-136">When an end user needs to use an IME, 64-bit Windows transparently chooses the version of the IME (32-bit or 64-bit) that is appropriate for the given circumstances.</span></span>

<span data-ttu-id="71838-137">En el caso de las instalaciones en paralelo de los IME de 64 y 32 bits para que funcionen correctamente (es decir, para representar los dos archivos dll específicos de la plataforma como un solo IME lógico para el usuario), deben cumplirse las siguientes condiciones:</span><span class="sxs-lookup"><span data-stu-id="71838-137">For side-by-side installations of 64-bit and 32-bit IMEs to function properly (that is, to represent the two platform-specific DLLs as a single logical IME to the user), the following conditions must be met:</span></span>

-   <span data-ttu-id="71838-138">Los desarrolladores deben crear versiones específicas de la plataforma (una para Windows de 32 bits y otra para Windows de 64 bits) de la DLL de IME.</span><span class="sxs-lookup"><span data-stu-id="71838-138">Developers must build platform-specific versions (one for 32-bit Windows and one for 64-bit Windows) of the IME DLL.</span></span>
-   <span data-ttu-id="71838-139">Los archivos dll de 32 bits y 64 bits deben compartir el mismo nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="71838-139">The 32-bit and 64-bit DLLs must share the same file name.</span></span>
-   <span data-ttu-id="71838-140">Deben seguirse los requisitos del directorio de instalación.</span><span class="sxs-lookup"><span data-stu-id="71838-140">Installation directory requirements must be followed.</span></span> <span data-ttu-id="71838-141">Para obtener más información, consulte requisitos del directorio de instalación.</span><span class="sxs-lookup"><span data-stu-id="71838-141">For more information, see Installation Directory Requirements.</span></span>

<span data-ttu-id="71838-142">Las instalaciones en paralelo de los archivos dll de IME de 32 y 64 bits comparten la misma clave del registro para almacenar los datos de configuración (incluido el nombre de archivo DLL):</span><span class="sxs-lookup"><span data-stu-id="71838-142">Side-by-side installations of 32-bit and 64-bit IME DLLs share the same registry key for storing configuration data (including the DLL file name):</span></span>


```C++
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layouts
```



<span data-ttu-id="71838-143">La función [**ImmInstallIME**](/windows/desktop/api/imm/nf-imm-imminstallimea) se usa para crear esta clave del registro.</span><span class="sxs-lookup"><span data-stu-id="71838-143">The [**ImmInstallIME**](/windows/desktop/api/imm/nf-imm-imminstallimea) function is used to create this registry key.</span></span> <span data-ttu-id="71838-144">El programa de instalación y configuración de un IME debe llamar a esta función para registrar el IME como una distribución de teclado compatible.</span><span class="sxs-lookup"><span data-stu-id="71838-144">The setup and installation program for an IME must call this function to register the IME as a supported keyboard layout.</span></span> <span data-ttu-id="71838-145">Solo se debe llamar a la función **ImmInstallIME** una vez, ya sea desde la versión de 32 bits o de 64 bits de la dll de IME.</span><span class="sxs-lookup"><span data-stu-id="71838-145">The **ImmInstallIME** function should be called only once, either from the 32-bit or 64-bit version of the IME DLL.</span></span>

## <a name="mismatched-ime-dlls"></a><span data-ttu-id="71838-146">Archivos dll de IME no coincidentes</span><span class="sxs-lookup"><span data-stu-id="71838-146">Mismatched IME DLLs</span></span>

<span data-ttu-id="71838-147">No se recomienda ni se admite la instalación de la versión de 32 bits de un IME en Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-147">Installing only the 32-bit version of an IME on 64-bit Windows is neither recommended nor supported.</span></span> <span data-ttu-id="71838-148">Si una aplicación de 64 bits intenta cargar un IME de 32 bits, el IME produce un error en modo silencioso cuando la aplicación intenta cargar la distribución de teclado asociada.</span><span class="sxs-lookup"><span data-stu-id="71838-148">If a 64-bit application attempts to load a 32-bit IME, the IME fails silently when the application attempts to load the associated keyboard layout.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="71838-149">No se muestra ningún cuadro de diálogo o mensaje de advertencia cuando se produce un error de conflicto de aplicación de 64 bits o de 32 bits de IME.</span><span class="sxs-lookup"><span data-stu-id="71838-149">No warning dialog or message displays when a 64-bit application/32-bit IME conflict error occurs.</span></span>

 

<span data-ttu-id="71838-150">64: consideraciones de bits para servicios de texto</span><span class="sxs-lookup"><span data-stu-id="71838-150">64-Bit Considerations for Text Services</span></span>

<span data-ttu-id="71838-151">En esta sección se describen las consideraciones especiales relacionadas con la creación de servicios de texto para su uso en entornos de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-151">This section describes the special considerations involved with building text services for use in 64-bit environments.</span></span> <span data-ttu-id="71838-152">Para obtener más información sobre los servicios de texto y el marco de trabajo de servicios de texto, vea [Text Services Framework](text-services-framework.md).</span><span class="sxs-lookup"><span data-stu-id="71838-152">For more information about text services and the Text Services Framework, see [Text Services Framework](text-services-framework.md).</span></span>

## <a name="building-32-bit-and-64-bit-text-services"></a><span data-ttu-id="71838-153">Compilación de servicios de texto de 32 y de 64 bits</span><span class="sxs-lookup"><span data-stu-id="71838-153">Building 32-Bit and 64-Bit Text Services</span></span>

<span data-ttu-id="71838-154">Un servicio de texto se implementa como un objeto de modelo de objetos componentes (COM) expuesto en un archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="71838-154">A text service is implemented as a Component Object Model (COM) object exposed on a DLL.</span></span> <span data-ttu-id="71838-155">Por lo tanto, pueden producirse conflictos de DLL de 32 o 64 bits con los servicios de texto instalados en Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-155">Consequently, 32-bit/64-bit DLL conflicts can occur with text services installed on 64-bit Windows.</span></span> <span data-ttu-id="71838-156">Al igual que con los IME, la solución recomendada para permitir que el servicio de texto funcione de forma transparente con las aplicaciones de 32 bits y 64 bits en una plataforma de 64 bits es crear e instalar las versiones en paralelo de 32 bits y de 64 bits de la DLL del servicio de texto.</span><span class="sxs-lookup"><span data-stu-id="71838-156">Just as with IMEs, the recommended solution for enabling your text service to work transparently with both 32-bit and 64-bit applications on a 64-bit platform is to build and install parallel 32-bit and 64-bit versions of the text service DLL.</span></span>

## <a name="side-by-side-installation-of-64-bit-and-32-bit-text-services"></a><span data-ttu-id="71838-157">Instalación en paralelo de los servicios de texto de 64 y 32 bits</span><span class="sxs-lookup"><span data-stu-id="71838-157">Side-by-Side Installation of 64-Bit and 32-Bit Text Services</span></span>

<span data-ttu-id="71838-158">Para una versión de 32 bits y una versión de 64 bits de un servicio de texto que se instalará en paralelo y se representará al usuario como un servicio de texto lógico único, deben cumplirse las siguientes condiciones:</span><span class="sxs-lookup"><span data-stu-id="71838-158">For a 32-bit version and a 64-bit version of a text service to be installed side-by-side and represented to the user as a single, logical text service, the following conditions must be met:</span></span>

-   <span data-ttu-id="71838-159">Ambas versiones del servicio de texto especifican el mismo identificador de clase (CLSID) cuando se registran con el subsistema COM.</span><span class="sxs-lookup"><span data-stu-id="71838-159">Both versions of the text service specify the same class identifier (CLSID) when they are registered with the COM subsystem.</span></span>
-   <span data-ttu-id="71838-160">Ambas versiones del servicio de texto se registran de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="71838-160">Both versions of the text service are registered independently.</span></span> <span data-ttu-id="71838-161">Para obtener más información, vea [registrar aplicaciones com](/windows/desktop/com/registering-com-applications).</span><span class="sxs-lookup"><span data-stu-id="71838-161">For more information, see [Registering COM Applications](/windows/desktop/com/registering-com-applications).</span></span>

<span data-ttu-id="71838-162">Cuando un servicio de texto de 32 bits se registra con Windows de 64 bits, la operación de registro se redirige de forma transparente a la siguiente clave del registro:</span><span class="sxs-lookup"><span data-stu-id="71838-162">When a 32-bit text service is registered with 64-bit Windows, the registration operation is transparently redirected to the following registry key:</span></span>


```C++
HKEY_CLASS_ROOT\Wow6432Node\CLSID
```



[<span data-ttu-id="71838-163">Redirector del registro</span><span class="sxs-lookup"><span data-stu-id="71838-163">Registry Redirector</span></span>](/windows/desktop/WinProg64/registry-redirector)


```C++
HKEY_LOCAL_MACHINE\Software\Microsoft\CTF\TIP
```



<span data-ttu-id="71838-164">[](/windows/desktop/api/Msctf/nn-msctf-itfinputprocessorprofiles)[Registro del servicio de texto](text-service-registration.md) de ITfInputProcessorProfiles</span><span class="sxs-lookup"><span data-stu-id="71838-164">[ITfInputProcessorProfiles](/windows/desktop/api/Msctf/nn-msctf-itfinputprocessorprofiles)[Text Service Registration](text-service-registration.md)</span></span>

<span data-ttu-id="71838-165">La versión de 64 bits y la versión de 32 bits de un servicio de texto pueden estar en uso al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="71838-165">The 64-bit version and the 32-bit version of a text service might be in use simultaneously.</span></span> <span data-ttu-id="71838-166">En los casos en que ambas versiones de un servicio de texto necesitan manipular los objetos compartidos, la coordinación para el acceso a los objetos compartidos debe estar diseñada en el servicio de texto.</span><span class="sxs-lookup"><span data-stu-id="71838-166">In cases where both versions of a text service need to manipulate any shared objects, coordination for access shared objects should be designed into the text service.</span></span> <span data-ttu-id="71838-167">Cada servicio de texto es responsable de administrar los objetos compartidos que se usan o son necesarios.</span><span class="sxs-lookup"><span data-stu-id="71838-167">Each text service is responsible for managing any shared objects that are used or needed.</span></span>

## <a name="installing-only-32-bit-text-services-on-64-bit-windows"></a><span data-ttu-id="71838-168">Instalación de solo servicios de texto de 32 bits en Windows de 64 bits</span><span class="sxs-lookup"><span data-stu-id="71838-168">Installing Only 32-Bit Text Services on 64-Bit Windows</span></span>

<span data-ttu-id="71838-169">No se recomienda ni se admite la instalación de la versión de 32 bits de un servicio de texto en una plataforma de Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-169">Installing only the 32-bit version of a text service on a 64-bit Windows platform is neither recommended nor supported.</span></span> <span data-ttu-id="71838-170">Debido a la asignación de registro que se realiza en las plataformas de Windows de 64 bits, una aplicación de 64 bits puede enumerar los servicios de un servicio de texto de 32 bits a través de la interfaz **ITfInputProcessorProfiles** .</span><span class="sxs-lookup"><span data-stu-id="71838-170">Because of the registration mapping that is done on 64-bit Windows platforms, a 64-bit application can enumerate the services of a 32-bit Text Service through the **ITfInputProcessorProfiles** interface.</span></span> <span data-ttu-id="71838-171">Sin embargo, si una aplicación de 64 bits intenta cargar un servicio de texto de 32 bits, se produce un error en la carga de forma silenciosa.</span><span class="sxs-lookup"><span data-stu-id="71838-171">However, if a 64-bit application attempts to load a 32-bit text service, the load fails silently.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="71838-172">No se muestra ningún cuadro de diálogo o mensaje de advertencia cuando se produce un error de conflicto de aplicación de 64 bits/servicio de texto de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-172">No warning dialog or message displays when a 64-bit application/32-bit text service conflict error occurs.</span></span>

 

<span data-ttu-id="71838-173">Otras consideraciones</span><span class="sxs-lookup"><span data-stu-id="71838-173">Other Considerations</span></span>

## <a name="installation-directory-requirements"></a><span data-ttu-id="71838-174">Requisitos del directorio de instalación</span><span class="sxs-lookup"><span data-stu-id="71838-174">Installation Directory Requirements</span></span>

<span data-ttu-id="71838-175">En esta sección se describen los requisitos para instalar los archivos binarios de IME y de servicio de texto.</span><span class="sxs-lookup"><span data-stu-id="71838-175">This section describes requirements for where to install IME and text service binary files.</span></span> <span data-ttu-id="71838-176">Si no se siguen estos requisitos, es posible que el servicio de texto o el IME no funcionen correctamente.</span><span class="sxs-lookup"><span data-stu-id="71838-176">If these requirements are not followed, your text service or IME might not function correctly.</span></span>

<span data-ttu-id="71838-177">**DLLs IME**</span><span class="sxs-lookup"><span data-stu-id="71838-177">**IME DLLs**</span></span>

<span data-ttu-id="71838-178">En las plataformas de Windows de 64 bits, instale las dll de IME de 32 bits y de 64 bits en los directorios siguientes:</span><span class="sxs-lookup"><span data-stu-id="71838-178">On 64-bit Windows platforms, install the 32-bit and 64-bit IME DLLs in the following directories:</span></span>

-   <span data-ttu-id="71838-179">Instale las dll de IME de 32 bits en el directorio del sistema SysWOW64; Llame a [**GetSystemWow64Directory**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directorya)o a [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) con **CSIDL \_ SYSTEMX86** para recuperar esta ruta de acceso al directorio.</span><span class="sxs-lookup"><span data-stu-id="71838-179">Install 32-bit IME DLLs in the SysWOW64 system directory; call [**GetSystemWow64Directory**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directorya), or [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) with **CSIDL\_SYSTEMX86** to retrieve this directory path.</span></span> <span data-ttu-id="71838-180">Como alternativa, si usa [Windows Installer](/windows/desktop/Msi/about-windows-installer), use la propiedad [**carpetadelsistema**](/windows/desktop/Msi/systemfolder) .</span><span class="sxs-lookup"><span data-stu-id="71838-180">Alternately, if you are using [Windows Installer](/windows/desktop/Msi/about-windows-installer), use the [**SystemFolder**](/windows/desktop/Msi/systemfolder) property.</span></span>
-   <span data-ttu-id="71838-181">Instale las dll de IME de 64 bits en el directorio del sistema system32; Llame a [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya)o a **SHGetFolderPath** con el [ \_ sistema CSIDL](/windows/desktop/shell/csidl) para recuperar esta ruta de acceso al directorio.</span><span class="sxs-lookup"><span data-stu-id="71838-181">Install 64-bit IME DLLs in the System32 system directory; call [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya), or **SHGetFolderPath** with [CSIDL\_SYSTEM](/windows/desktop/shell/csidl) to retrieve this directory path.</span></span> <span data-ttu-id="71838-182">O bien, para Windows Installer, use la propiedad [**System64Folder**](/windows/desktop/Msi/system64folder) .</span><span class="sxs-lookup"><span data-stu-id="71838-182">Or, for Windows Installer, use the [**System64Folder**](/windows/desktop/Msi/system64folder) property.</span></span>

<span data-ttu-id="71838-183">**Archivos dll de servicio de texto y archivos binarios relacionados**</span><span class="sxs-lookup"><span data-stu-id="71838-183">**Text Service DLLs and Related Binary Files**</span></span>

<span data-ttu-id="71838-184">En las plataformas de Windows de 64 bits, instale las dll de servicio de texto de 32 bits y de 64 bits, así como cualquier otro archivo binario relacionado con el servicio de texto o con el IME, en los directorios siguientes:</span><span class="sxs-lookup"><span data-stu-id="71838-184">On 64-bit Windows platforms, install the 32-bit and 64-bit text service DLLs, as well as any other binary files related to your text service or IME, in the following directories:</span></span>

-   <span data-ttu-id="71838-185">Instale los archivos dll de servicio de texto de 32 bits y cualquier otro archivo binario de 32 bits en un subdirectorio en el directorio de archivos de programa (x86). Llame a **SHGetFolderPath** con el programa de la **\_ \_ FILESX86** para recuperar esta ruta de acceso al directorio.</span><span class="sxs-lookup"><span data-stu-id="71838-185">Install 32-bit text service DLLs and any other 32-bit binary files in a subdirectory in the Program Files (x86) directory; call **SHGetFolderPath** with **CSIDL\_PROGRAM\_FILESX86** to retrieve this directory path.</span></span> <span data-ttu-id="71838-186">O bien, para Windows Installer, use la propiedad [**ProgramFilesFolder**](/windows/desktop/Msi/programfilesfolder) .</span><span class="sxs-lookup"><span data-stu-id="71838-186">Or, for Windows Installer, use the [**ProgramFilesFolder**](/windows/desktop/Msi/programfilesfolder) property.</span></span>
-   <span data-ttu-id="71838-187">Instale los archivos dll de servicio de texto de 64 bits y cualquier otro archivo binario de 64 bits en un subdirectorio del directorio archivos de programa; Llame a **SHGetFolderPath** con **\_ \_ los archivos de programa CSIDL** para recuperar esta ruta de acceso al directorio.</span><span class="sxs-lookup"><span data-stu-id="71838-187">Install 64-bit text service DLLs and any other 64-bit binary files in a subdirectory under the Program Files directory; call **SHGetFolderPath** with **CSIDL\_PROGRAM\_FILES** to retrieve this directory path.</span></span> <span data-ttu-id="71838-188">O bien, para Windows Installer, use la propiedad [**ProgramFiles64Folder**](/windows/desktop/Msi/programfiles64folder) .</span><span class="sxs-lookup"><span data-stu-id="71838-188">Or, for Windows Installer, use the [**ProgramFiles64Folder**](/windows/desktop/Msi/programfiles64folder) property.</span></span>

<span data-ttu-id="71838-189">Si no usa un paquete de Windows Installer para instalar el IME o el servicio de texto, es muy recomendado que use una aplicación de instalación de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-189">If you are not using a Windows Installer package to install your IME or text service, it is strongly recommnded that you use a 64-bit installation application.</span></span> <span data-ttu-id="71838-190">El redirector del sistema de archivos WOW64 podría hacer que los instaladores de 32 bits colocaran archivos en directorios incorrectos (por ejemplo, la redirección del sistema de archivos WOW64 podría provocar que los archivos destinados al directorio system32 se instalen en el directorio SysWOW64 en su lugar).</span><span class="sxs-lookup"><span data-stu-id="71838-190">The WOW64 file system redirector might cause 32-bit installers to place files in the wrong directories (for example, WOW64 file system redirection might cause files intended for the System32 directory to be installed in the SysWOW64 directory instead).</span></span> <span data-ttu-id="71838-191">Si debe usar un instalador de 32 bits, deshabilite la redirección de archivos WOW64 durante el proceso de instalación para asegurarse de que el servicio de redireccionamiento de archivos no provoca ninguna redirección imprevista durante el proceso de instalación.</span><span class="sxs-lookup"><span data-stu-id="71838-191">If you must use a 32-bit installer, disable WOW64 file redirection during the installation process to ensure that the file-redirector service does not cause any unintended redirection during the installation process.</span></span> <span data-ttu-id="71838-192">Para obtener información sobre el redirector del sistema de archivos WOW64, consulte [redirector del sistema de archivos](/windows/desktop/WinProg64/file-system-redirector).</span><span class="sxs-lookup"><span data-stu-id="71838-192">For information about the WOW64 file system redirector, see [File System Redirector](/windows/desktop/WinProg64/file-system-redirector).</span></span> <span data-ttu-id="71838-193">Para obtener información sobre cómo deshabilitar o habilitar la redirección del sistema de archivos WOW64, vea [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection).</span><span class="sxs-lookup"><span data-stu-id="71838-193">For information about how to disable or enable WOW64 file system redirection, see [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection).</span></span>

> [!TIP]
>
> <span data-ttu-id="71838-194">Evite las rutas de instalación codificadas de forma rígida.</span><span class="sxs-lookup"><span data-stu-id="71838-194">Avoid hard-coded installation paths.</span></span> <span data-ttu-id="71838-195">Para obtener más información, vea [Buscar directorios mediante la interfaz de programación de aplicaciones no Hard-Coded rutas de](/previous-versions//ms675638(v=vs.85)) acceso</span><span class="sxs-lookup"><span data-stu-id="71838-195">For more information, see [Locate Directories Using the Application Programming Interface Not Hard-Coded Paths](/previous-versions//ms675638(v=vs.85))</span></span>

 

> [!IMPORTANT]
>
> <span data-ttu-id="71838-196">No instale ningún archivo de IME o de servicio de texto en el directorio especial% WINDIR% \\ IME (de forma predeterminada, c: \\ Windows \\ IME).</span><span class="sxs-lookup"><span data-stu-id="71838-196">Do not install any IME or text service files in the special directory %WINDIR%\\IME (by default, c:\\Windows\\IME ).</span></span> <span data-ttu-id="71838-197">Este directorio contiene archivos del sistema que admiten servicios de texto y IME; no está diseñado para contener ningún archivo de IME o de servicio de texto de terceros y no se admite el redireccionamiento del sistema de archivos WOW64 para este directorio.</span><span class="sxs-lookup"><span data-stu-id="71838-197">This directory contains system files that support text services and IMEs; it is not intended to contain any third-party IME or text service files, and WOW64 file system redirection is not supported for this directory.</span></span>

 

## <a name="dual-ctfmonexe-processes-run-on-64-bit-windows-platforms"></a><span data-ttu-id="71838-198">Dos procesos de Ctfmon.exe se ejecutan en plataformas de Windows de 64 bits</span><span class="sxs-lookup"><span data-stu-id="71838-198">Dual Ctfmon.exe Processes Run on 64-Bit Windows Platforms</span></span>

<span data-ttu-id="71838-199">El proceso de ctfmon.exe administra el marco de trabajo de servicios de texto en el escritorio y también proporciona la interfaz de usuario (UI) de la barra de idioma.</span><span class="sxs-lookup"><span data-stu-id="71838-199">The ctfmon.exe process manages the Text Services Framework on the desktop and also provides the language bar user interface (UI).</span></span> <span data-ttu-id="71838-200">En Windows de 64 bits, una versión de 32 bits y una versión de 64 bits del proceso de ctfmon.exe se ejecutan simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="71838-200">On 64-bit Windows, a 32-bit version and a 64-bit version of the ctfmon.exe process run simultaneously.</span></span> <span data-ttu-id="71838-201">El proceso de ctfmon.exe de bits de 64 administra los servicios de texto de 64 bits y, del mismo modo, el proceso de ctfmon.exe de 32 bits administra los servicios de texto de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-201">The 64-bit ctfmon.exe process manages 64-bit text services, and, likewise, the 32-bit ctfmon.exe process manages 32-bit text services.</span></span>

## <a name="display-behavior-for-different-versions-of-the-language-bar-ui"></a><span data-ttu-id="71838-202">Comportamiento de presentación para diferentes versiones de la interfaz de usuario de la barra de idioma</span><span class="sxs-lookup"><span data-stu-id="71838-202">Display Behavior for Different Versions of the Language Bar UI</span></span>

<span data-ttu-id="71838-203">En Windows de 64 bits, siempre se muestra la interfaz de usuario de la barra de idioma asociada a la versión de 64 bits de un servicio de texto.</span><span class="sxs-lookup"><span data-stu-id="71838-203">On 64-bit Windows, only the language bar UI associated with the 64-bit version of a text service is ever shown.</span></span> <span data-ttu-id="71838-204">En los casos en los que una aplicación de 32 bits usa la versión de 32 bits de un servicio de texto, Windows de 64 bits inserta automáticamente la interfaz de usuario de la barra de idioma para el servicio de texto de 64 bits equivalente.</span><span class="sxs-lookup"><span data-stu-id="71838-204">In cases where a 32-bit application is using the 32-bit version of a text service, 64-bit Windows automatically inserts the language bar UI for the equivalent 64-bit text service.</span></span> <span data-ttu-id="71838-205">Esto garantiza que no se requiere ningún trabajo especial para que los servicios de texto de 32 bits aparezcan en la versión de 64 bits de la barra de idioma.</span><span class="sxs-lookup"><span data-stu-id="71838-205">This ensures that no special work is required for 32-bit text services to appear in the 64-bit version of the language bar.</span></span>

## <a name="control-panel-considerations-on-64-bit-windows"></a><span data-ttu-id="71838-206">Consideraciones del panel de control en Windows de 64 bits</span><span class="sxs-lookup"><span data-stu-id="71838-206">Control Panel Considerations on 64-Bit Windows</span></span>

<span data-ttu-id="71838-207">Windows de 64 bits proporciona acceso a las versiones de los servicios de texto y los IME de 32 bits y 64 a través del panel de control.</span><span class="sxs-lookup"><span data-stu-id="71838-207">64-bit Windows provides access to both 32-bit and 64-bit versions of text services and IMEs through the Control Panel.</span></span> <span data-ttu-id="71838-208">Para obtener acceso a la configuración del panel de control para versiones específicas de los servicios de texto o IME, busque en las siguientes ubicaciones.</span><span class="sxs-lookup"><span data-stu-id="71838-208">To access Control Panel settings for specific versions of text services or IMEs, look in the following locations.</span></span>

-   <span data-ttu-id="71838-209">**Acceso al panel de control para los servicios de texto y IME de 32 bits:** Configuración de inicio >-> panel de control-> Ver iconos del panel de control x86</span><span class="sxs-lookup"><span data-stu-id="71838-209">**Control Panel access for 32-bit Text Services and IMEs:** Start -> Settings -> Control Panel -> View x86 Control Panel Icons</span></span>
-   <span data-ttu-id="71838-210">**Acceso al panel de control para los servicios de texto y IME de 64 bits:** Configuración de inicio >-> panel de control-> opciones de configuración regional y de idioma</span><span class="sxs-lookup"><span data-stu-id="71838-210">**Control Panel access for 64-bit Text Services and IMEs:** Start -> Settings -> Control Panel -> Regional and Language Options</span></span>

<span data-ttu-id="71838-211">Puede haber casos en los que algunas opciones de configuración solo estén disponibles a través del panel de control de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-211">There may be circumstances where some settings might be available only through the 32-bit Control Panel.</span></span> <span data-ttu-id="71838-212">En estos casos, asegúrese de que los usuarios del servicio de texto o el IME son conscientes de esto, proporcionando la documentación adecuada o ofreciendo sugerencias de interfaz de usuario en la interfaz de configuración de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="71838-212">In these cases, be sure that users of your text service or IME are aware of this, by providing appropriate documentation or offering UI hints in your 64-bit settings interface.</span></span>

 

 