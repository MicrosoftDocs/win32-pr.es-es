---
description: Para ayudar a mantener un entorno seguro durante la instalación del software, siga estas instrucciones al crear el paquete de Windows Installer.
ms.assetid: 04d91a9b-0528-4acb-8e11-fc817009db1f
title: Directrices para crear instalaciones seguras
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9d18e66c38480149ddad9e381c6461ffe50cf0b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105652829"
---
# <a name="guidelines-for-authoring-secure-installations"></a><span data-ttu-id="92cc2-103">Directrices para crear instalaciones seguras</span><span class="sxs-lookup"><span data-stu-id="92cc2-103">Guidelines for Authoring Secure Installations</span></span>

<span data-ttu-id="92cc2-104">El cumplimiento de las siguientes directrices al crear un paquete de Windows Installer ayuda a mantener un entorno seguro durante la instalación:</span><span class="sxs-lookup"><span data-stu-id="92cc2-104">Adherence to the following guidelines when authoring a Windows Installer package helps maintain a secure environment during installation:</span></span>

-   <span data-ttu-id="92cc2-105">Los administradores deben instalar las aplicaciones administradas en una carpeta de instalación de destino para la que los usuarios que no sean administradores no tengan privilegios de cambio o modificación.</span><span class="sxs-lookup"><span data-stu-id="92cc2-105">Administrators should install managed applications into a target installation folder for which non-admin users do not have change or modify privileges.</span></span>
-   <span data-ttu-id="92cc2-106">Convierta cualquier propiedad establecida por el usuario en una propiedad pública.</span><span class="sxs-lookup"><span data-stu-id="92cc2-106">Make any property set by the user a public property.</span></span> <span data-ttu-id="92cc2-107">Los usuarios que interactúan con la interfaz de usuario no pueden cambiar las propiedades privadas.</span><span class="sxs-lookup"><span data-stu-id="92cc2-107">Private properties cannot be changed by the user interacting with the user interface.</span></span> <span data-ttu-id="92cc2-108">Para obtener información, consulte [acerca de las propiedades](about-properties.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-108">For information, see [About Properties](about-properties.md).</span></span>
-   <span data-ttu-id="92cc2-109">No use propiedades para contraseñas u otra información que deba permanecer segura.</span><span class="sxs-lookup"><span data-stu-id="92cc2-109">Do not use properties for passwords or other information that must remain secure.</span></span> <span data-ttu-id="92cc2-110">El instalador puede escribir el valor de una propiedad creada en la [tabla de propiedades](property-table.md), o bien crearse en tiempo de ejecución, en un registro o en el registro del sistema.</span><span class="sxs-lookup"><span data-stu-id="92cc2-110">The installer may write the value of a property authored into the [Property table](property-table.md), or created at run time, into a log or the system registry.</span></span> <span data-ttu-id="92cc2-111">Para obtener más información, consulte [impedir que se escriba información confidencial en el archivo de registro](preventing-confidential-information-from-being-written-into-the-log-file.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-111">For additional information, see [Preventing Confidential Information from Being Written into the Log File](preventing-confidential-information-from-being-written-into-the-log-file.md).</span></span>
-   <span data-ttu-id="92cc2-112">Cuando la instalación requiere que el instalador use privilegios [*elevados*](e-gly.md) , use [las propiedades públicas restringidas](restricted-public-properties.md) para restringir las propiedades públicas que un usuario puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="92cc2-112">When the installation requires the installer to use [*elevated*](e-gly.md) privileges, use [Restricted Public Properties](restricted-public-properties.md) to restrict the public properties a user can change.</span></span> <span data-ttu-id="92cc2-113">Normalmente, algunas restricciones son necesarias para mantener un entorno seguro cuando la instalación requiere que el instalador use privilegios *elevados* .</span><span class="sxs-lookup"><span data-stu-id="92cc2-113">Some restrictions are commonly necessary to maintain a secure environment when the installation requires the installer to use *elevated* privileges.</span></span>
-   <span data-ttu-id="92cc2-114">Evite la instalación de servicios que suplanten los privilegios de un usuario determinado, ya que esto puede escribir datos de seguridad en un registro o en el registro del sistema.</span><span class="sxs-lookup"><span data-stu-id="92cc2-114">Avoid installing services that impersonate the privileges of a particular user because this may write security data into a log or the system registry.</span></span> <span data-ttu-id="92cc2-115">Esto crea posibles problemas de seguridad, conflictos de contraseñas o la pérdida de datos de configuración cuando se reinicia el sistema.</span><span class="sxs-lookup"><span data-stu-id="92cc2-115">This creates potential for a security problem, password conflict, or the loss of configuration data when the system is restarted.</span></span> <span data-ttu-id="92cc2-116">Para obtener más información, consulte [tabla ServiceInstall](serviceinstall-table.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-116">For details, see [ServiceInstall table](serviceinstall-table.md).</span></span>
-   <span data-ttu-id="92cc2-117">Use la tabla [LockPermissions](lockpermissions-table.md) y la [tabla MsiLockPermissionsEx](msilockpermissionsex-table.md) para proteger servicios, archivos, claves del registro y carpetas creadas en un entorno bloqueado.</span><span class="sxs-lookup"><span data-stu-id="92cc2-117">Use the [LockPermissions table](lockpermissions-table.md) and [MsiLockPermissionsEx table](msilockpermissionsex-table.md) to secure services, files, registry keys, and created folders in a locked-down environment.</span></span>
-   <span data-ttu-id="92cc2-118">Agregue una firma digital a la instalación para asegurar la integridad de los archivos.</span><span class="sxs-lookup"><span data-stu-id="92cc2-118">Add a digital signatures to the installation to ensure the integrity of the files.</span></span> <span data-ttu-id="92cc2-119">Para obtener más información, consulte [firmas digitales y Windows Installer](digital-signatures-and-windows-installer.md) y [crear una instalación firmada completamente comprobada](authoring-a-fully-verified-signed-installation.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-119">For details, see [Digital Signatures and Windows Installer](digital-signatures-and-windows-installer.md) and [Authoring a Fully Verified Signed Installation](authoring-a-fully-verified-signed-installation.md).</span></span>
-   <span data-ttu-id="92cc2-120">Cree el paquete de Windows Installer de modo que, si se deniega el acceso a los recursos, el programa de instalación produce un error de forma que mantiene un entorno seguro.</span><span class="sxs-lookup"><span data-stu-id="92cc2-120">Author your Windows Installer package such that if the user is denied access to resources, the setup fails in a manner that maintains a secure environment.</span></span> <span data-ttu-id="92cc2-121">Compruebe los privilegios de acceso del usuario y determine si hay suficiente espacio en disco antes de comenzar la instalación.</span><span class="sxs-lookup"><span data-stu-id="92cc2-121">Check the user's access privileges and determine whether there is sufficient disk space before installation begins.</span></span> <span data-ttu-id="92cc2-122">Normalmente, el instalador solo debe mostrar un cuadro de diálogo examinar si el usuario actual es un administrador o si la instalación no requiere privilegios [*elevados*](e-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="92cc2-122">Commonly, the installer should only display a browse dialog box if the current user is an administrator or if the installation does not require [*elevated*](e-gly.md) privileges.</span></span> <span data-ttu-id="92cc2-123">Para obtener más información, consulte [resistencia de origen](source-resiliency.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-123">For details, see [Source Resiliency](source-resiliency.md).</span></span>
-   <span data-ttu-id="92cc2-124">Use [transformaciones seguras](secured-transforms.md) para almacenar transformaciones en un sistema de archivos seguro localmente en el equipo del usuario.</span><span class="sxs-lookup"><span data-stu-id="92cc2-124">Use [Secured Transforms](secured-transforms.md) to store transforms in a secure file system locally on the user's computer.</span></span> <span data-ttu-id="92cc2-125">Esto evita que el usuario tenga acceso de escritura a la transformación.</span><span class="sxs-lookup"><span data-stu-id="92cc2-125">This prevents the user from having write access to the transform.</span></span>
-   <span data-ttu-id="92cc2-126">Para obtener información sobre cómo proteger los orígenes multimedia de las aplicaciones administradas, consulte [resistencia de origen](source-resiliency.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-126">For information on how to secure media sources of managed applications, see [Source Resiliency](source-resiliency.md).</span></span>
-   <span data-ttu-id="92cc2-127">Use la propiedad [**Resumen de seguridad**](security-summary.md) para indicar si el paquete debe abrirse como de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="92cc2-127">Use the [**Security Summary**](security-summary.md) Property to indicate whether the package should be opened as read-only.</span></span> <span data-ttu-id="92cc2-128">Esta propiedad debe establecerse en solo lectura como recomendado para una base de datos de instalación y en la aplicación de solo lectura para una transformación o revisión.</span><span class="sxs-lookup"><span data-stu-id="92cc2-128">This property should be set to read-only recommended for an installation database and to read-only enforced for a transform or patch.</span></span>
-   <span data-ttu-id="92cc2-129">De forma predeterminada, el instalador ejecuta acciones personalizadas con privilegios de usuario para limitar el acceso de las acciones personalizadas al sistema.</span><span class="sxs-lookup"><span data-stu-id="92cc2-129">The installer runs custom actions with user privileges by default in order to limit the access of custom actions to the system.</span></span> <span data-ttu-id="92cc2-130">El instalador puede ejecutar acciones personalizadas con privilegios [*elevados*](e-gly.md) si se instala una aplicación administrada o si se ha especificado la Directiva del sistema para privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="92cc2-130">The installer may run custom actions with [*elevated*](e-gly.md) privileges if a managed application is being installed or if the system policy has been specified for elevated privileges.</span></span> <span data-ttu-id="92cc2-131">Para obtener más información, vea seguridad de la [acción personalizada](custom-action-security.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-131">For details, see [Custom Action Security](custom-action-security.md).</span></span>
-   <span data-ttu-id="92cc2-132">Use la directiva [DisablePatch](disablepatch.md) para proporcionar seguridad en entornos en los que se debe restringir la revisión.</span><span class="sxs-lookup"><span data-stu-id="92cc2-132">Use the [DisablePatch](disablepatch.md) policy to provide security in environments where patching must be restricted.</span></span>
-   <span data-ttu-id="92cc2-133">Use la [tabla AppID](appid-table.md) para registrar los valores de configuración y seguridad comunes para los objetos DCOM.</span><span class="sxs-lookup"><span data-stu-id="92cc2-133">Use the [AppId table](appid-table.md) to register common security and configuration settings for DCOM objects.</span></span>
-   <span data-ttu-id="92cc2-134">Para obtener información relacionada, consulte [directrices para proteger las acciones personalizadas](guidelines-for-securing-custom-actions.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-134">For related information, see [Guidelines for Securing Custom Actions](guidelines-for-securing-custom-actions.md).</span></span>
-   <span data-ttu-id="92cc2-135">Para obtener información relacionada, consulte [directrices para proteger paquetes en equipos bloqueados](guidelines-for-securing-packages-on-locked-down-computers.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-135">For related information, see [Guidelines for Securing Packages on Locked-Down Computers](guidelines-for-securing-packages-on-locked-down-computers.md).</span></span>
-   <span data-ttu-id="92cc2-136">A partir de Windows Installer 3,0, la aplicación de [revisiones del control de cuentas de usuario (UAC)](user-account-control--uac--patching.md) permite a los usuarios que no son administradores revisar las aplicaciones instaladas en el contexto por equipo.</span><span class="sxs-lookup"><span data-stu-id="92cc2-136">Starting with Windows Installer 3.0, [User Account Control (UAC) Patching](user-account-control--uac--patching.md) enables non-administrator users to patch applications installed in the per-machine context.</span></span> <span data-ttu-id="92cc2-137">La revisión de UAC se habilita proporcionando un certificado de firmante en la tabla [MsiPatchCertificate](msipatchcertificate-table.md) y firmando las revisiones con el mismo certificado.</span><span class="sxs-lookup"><span data-stu-id="92cc2-137">UAC patching is enabled by providing a signer certificate in the [MsiPatchCertificate](msipatchcertificate-table.md) table and signing patches with the same certificate.</span></span>
-   <span data-ttu-id="92cc2-138">La capacidad del Windows Installer 5,0 para establecer permisos de acceso en servicios, archivos, carpetas creadas y entradas del registro puede ayudar a que las aplicaciones de instalación sean más seguras.</span><span class="sxs-lookup"><span data-stu-id="92cc2-138">The capability of the Windows Installer 5.0 to set access permissions on services, files, created folders, and registry entries can help make installation applications more secure.</span></span> <span data-ttu-id="92cc2-139">Para obtener más información, consulte [protección de recursos](securing-resources-.md).</span><span class="sxs-lookup"><span data-stu-id="92cc2-139">For information, see [Securing Resources](securing-resources-.md).</span></span>

 

 



