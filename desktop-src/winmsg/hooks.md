---
description: En esta sección se describen los enlaces. Un enlace es un punto del mecanismo de control de mensajes del sistema en el que una aplicación puede instalar una subrutina para supervisar el tráfico del mensaje.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\hooks.htm
title: Enlaces
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 74057d25e3152c8782c2be364688bb971b08ddf5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104278626"
---
# <a name="hooks"></a>Enlaces

Un enlace es un punto del mecanismo de control de mensajes del sistema en el que una aplicación puede instalar una subrutina para supervisar el tráfico del mensaje en el sistema y procesar determinados tipos de mensajes antes de que lleguen al procedimiento de ventana de destino.

### <a name="in-this-section"></a>En esta sección



| Nombre                                 | Descripción                                                         |
|--------------------------------------|---------------------------------------------------------------------|
| [Información general sobre enlaces](about-hooks.md)     | Describe cómo se deben usar los enlaces.<br/>                      |
| [Usar enlaces](using-hooks.md)       | Muestra cómo realizar tareas asociadas a enlaces.<br/> |
| [Referencia de enlace](hook-reference.md) | Contiene la referencia de la API.<br/>                              |



 

### <a name="hook-functions"></a>Funciones de enlace



| Nombre                                               | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CallMsgFilter**](/windows/win32/api/winuser/nf-winuser-callmsgfiltera)             | Pasa el mensaje especificado y el código de enlace a los procedimientos de enlace asociados con los procedimientos de enlace [**qu \_ SYSMSGFILTER**](about-hooks.md) y **qu \_ MSGFILTER** .<br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| [**CallNextHookEx**](/windows/win32/api/winuser/nf-winuser-callnexthookex)           | Pasa la información de enlace al siguiente procedimiento de enlace de la cadena de enlace actual. Un procedimiento de enlace puede llamar a esta función antes o después de procesar la información de enlace. <br/>                                                                                                                                                                                                                                                                                                                                                                                                         |
| [*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))                   | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función antes de llamar al procedimiento de ventana para procesar un mensaje enviado al subproceso.<br/>                                                                                                                                                                                                                                                                                                                                               |
| [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc)             | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función después de que se llame a la función [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) . El procedimiento de enlace puede examinar el mensaje; no se puede modificar. <br/>                                                                                                                                                                                                                                                                                         |
| [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))                           | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función antes de activar, crear, destruir, minimizar, maximizar, mover o cambiar el tamaño de una ventana; antes de completar un comando del sistema; antes de quitar un evento del mouse o del teclado de la cola de mensajes del sistema; antes de establecer el foco de teclado; o antes de sincronizar con la cola de mensajes del sistema. Una aplicación de aprendizaje basado en PC (CBT) utiliza este procedimiento de enlace para recibir notificaciones útiles del sistema. <br/> |
| [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))                       | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función antes de llamar a los procedimientos de enlace asociados a cualquier tipo de enlace. El sistema pasa información sobre el enlace que se va a llamar al procedimiento de enlace [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) , que examina la información y determina si se permite que se llame al enlace. <br/>                                                                                                                                                  |
| [*ForegroundIdleProc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))     | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función cada vez que el subproceso en primer plano está a punto de ser inactivo. <br/>                                                                                                                                                                                                                                                                                                                                                                   |
| [*GetMsgProc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))                     | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función siempre que la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) recupere un mensaje de una cola de mensajes de aplicación. Antes de devolver el mensaje recuperado al autor de la llamada, el sistema pasa el mensaje al procedimiento de enlace. <br/>                                                                                                                                                        |
| [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))   | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . Normalmente, una aplicación usa esta función para reproducir una serie de mensajes del mouse y del teclado grabados previamente por el procedimiento de enlace [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) . Siempre que se instale un procedimiento de enlace [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) , se deshabilitará la entrada normal del mouse y del teclado. <br/>                                                                                                                       |
| [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))       | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . La función registra los mensajes que el sistema elimina de la cola de mensajes del sistema. Más adelante, una aplicación puede utilizar un procedimiento de enlace [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) para reproducir los mensajes. <br/>                                                                                                                                                                                                                                               |
| [*KeyboardProc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))                 | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función cada vez que una aplicación llama a la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) y hay un mensaje de teclado ([**WM \_ KEYUP**](/windows/desktop/inputdev/wm-keyup) o [**WM \_ KEYDOWN**](/windows/desktop/inputdev/wm-keydown)) que se va a procesar. <br/>                                                                                                                                                                         |
| [*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85)) | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función cada vez que se va a publicar un nuevo evento de entrada de teclado en una cola de entrada del subproceso.<br/>                                                                                                                                                                                                                                                                                                                                     |
| [*LowLevelMouseProc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))       | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función cada vez que se va a publicar un nuevo evento de entrada del mouse en una cola de entrada del subproceso.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))                   | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función después de que se produzca un evento de entrada en un cuadro de diálogo, un cuadro de mensaje, un menú o una barra de desplazamiento, pero antes de que se procese el mensaje generado por el evento de entrada. El procedimiento de enlace puede supervisar los mensajes de un cuadro de diálogo, un cuadro de mensaje, un menú o una barra de desplazamiento creados por una aplicación determinada o por todas las aplicaciones.<br/>                                                                                                                       |
| [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))                       | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función cada vez que una aplicación llama a la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) y hay un mensaje del mouse que se va a procesar. <br/>                                                                                                                                                                                                                                                           |
| [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa)       | Instala un procedimiento de enlace definido por la aplicación en una cadena de enlaces. Debe instalar un procedimiento de enlace para supervisar el sistema para determinados tipos de eventos. Estos eventos se asocian con un subproceso concreto o con todos los subprocesos del mismo escritorio que el subproceso que realiza la llamada.<br/>                                                                                                                                                                                                                                                                                                           |
| [*ShellProc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))                       | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . La función recibe notificaciones de eventos de Shell del sistema.<br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| [*SysMsgProc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))                     | Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . El sistema llama a esta función después de que se produzca un evento de entrada en un cuadro de diálogo, un cuadro de mensaje, un menú o una barra de desplazamiento, pero antes de que se procese el mensaje generado por el evento de entrada. La función puede supervisar los mensajes de cualquier cuadro de diálogo, cuadro de mensaje, menú o barra de desplazamiento del sistema. <br/>                                                                                                                                                                    |
| [**UnhookWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-unhookwindowshookex) | Quita un procedimiento de enlace instalado en una cadena de enlaces mediante la función [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) . <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



 

### <a name="hook-notifications"></a>Notificaciones de enlace



| Nombre                                          | Descripción                                                                                                                                                                         |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CANCELJOURNAL de WM \_**](wm-canceljournal.md) | Se envía a una aplicación cuando un usuario cancela las actividades de registro en diario de la aplicación. El mensaje se envía con un identificador de ventana **nulo** . <br/>                              |
| [**QUEUESYNC de WM \_**](wm-queuesync.md)         | Lo envía una aplicación CBT para separar los mensajes de entrada del usuario de otros mensajes enviados mediante el procedimiento [**qu \_ JOURNALPLAYBACK**](about-hooks.md) . <br/> |



 

### <a name="hook-structures"></a>Estructuras de enlace



| Nombre                                           | Descripción                                                                                                                                                                                                                 |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CBT \_ CREATEWND**](/windows/win32/api/winuser/ns-winuser-cbt_createwnda)        | Contiene información que se pasa a un procedimiento de enlace de **qu \_** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), antes de que se cree una ventana.<br/>                                                                                               |
| [**CBTACTIVATESTRUCT**](/windows/win32/api/winuser/ns-winuser-cbtactivatestruct) | Contiene información que se pasa a un procedimiento de enlace de **qu \_** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), antes de que se active una ventana. <br/>                                                                                            |
| [**CWPRETSTRUCT**](/windows/win32/api/winuser/ns-winuser-cwpretstruct)           | Define los parámetros de mensaje que se pasan a un procedimiento de enlace **qu \_ CALLWNDPROCRET** , [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc). <br/>                                                                                       |
| [**CWPSTRUCT**](/windows/win32/api/winuser/ns-winuser-cwpstruct)                 | Define los parámetros de mensaje que se pasan a un procedimiento de enlace **qu \_ CALLWNDPROC** , [*CALLWNDPROC*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)). <br/>                                                                                                |
| [**DEBUGHOOKINFO**](/windows/win32/api/winuser/ns-winuser-debughookinfo)         | Contiene la información de depuración que se pasa a un procedimiento de enlace de **\_ depuración** , [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)). <br/>                                                                                                          |
| [**EVENTMSG**](/windows/win32/api/winuser/ns-winuser-eventmsg)                   | Contiene información acerca de un mensaje de hardware enviado a la cola de mensajes del sistema. Esta estructura se usa para almacenar información de mensajes para la función de devolución de llamada [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) . <br/> |
| [**KBDLLHOOKSTRUCT**](/windows/win32/api/winuser/ns-winuser-kbdllhookstruct)     | Contiene información sobre un evento de entrada de teclado de bajo nivel. <br/>                                                                                                                                                    |
| [**MOUSEHOOKSTRUCT**](/windows/win32/api/winuser/ns-winuser-mousehookstruct)     | Contiene información sobre un evento del mouse que se pasa a un procedimiento de enlace **\_ del mouse** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)). <br/>                                                                                                |
| [**MOUSEHOOKSTRUCTEX**](/windows/win32/api/winuser/ns-winuser-mousehookstructex) | Contiene información sobre un evento del mouse que se pasa a un procedimiento de enlace **\_ del mouse** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)). <br/>                                                                                                |
| [**MSLLHOOKSTRUCT**](/windows/win32/api/winuser/ns-winuser-msllhookstruct)       | Contiene información sobre un evento de entrada de mouse de bajo nivel. <br/>                                                                                                                                                       |



 

## <a name="related-topics"></a>Temas relacionados

<dl> <dt>

[**SetWinEventHook**](/windows/desktop/api/winuser/nf-winuser-setwineventhook)
</dt> </dl>

 

