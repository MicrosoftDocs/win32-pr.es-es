---
description: Establecer propiedades de captura de audio
ms.assetid: 81400072-91d7-4db4-86d3-d072663e691f
title: Establecer propiedades de captura de audio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 31afe61d4641906391934bafe4c3acb8a911a9fe
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104274609"
---
# <a name="setting-audio-capture-properties"></a><span data-ttu-id="b8bd3-103">Establecer propiedades de captura de audio</span><span class="sxs-lookup"><span data-stu-id="b8bd3-103">Setting Audio Capture Properties</span></span>

<span data-ttu-id="b8bd3-104">Cada pin de entrada del filtro de captura de audio expone la interfaz [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) .</span><span class="sxs-lookup"><span data-stu-id="b8bd3-104">Each input pin on the Audio Capture Filter exposes the [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) interface.</span></span> <span data-ttu-id="b8bd3-105">Use esta interfaz para habilitar o deshabilitar una entrada determinada, llamando al método [**IAMAudioInputMixer::p UT \_ enable**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) en el PIN.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-105">Use this interface to enable or disable a particular input, by calling the [**IAMAudioInputMixer::put\_Enable**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) method on the pin.</span></span> <span data-ttu-id="b8bd3-106">También puede usar esta interfaz para establecer las propiedades de una entrada, como los niveles de bajos, agudos y volúmenes.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-106">Also use this interface to set properties of an input, such as the bass, treble, and volume levels.</span></span> <span data-ttu-id="b8bd3-107">Si va a capturar varias entradas a la vez, puede controlar los niveles de graves, agudos y volúmenes generales a través de la interfaz **IAMAudioInputMixer** en el propio filtro.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-107">If you are capturing multiple inputs at once, you can control the overall bass, treble, and volume levels through the **IAMAudioInputMixer** interface on the filter itself.</span></span>

<span data-ttu-id="b8bd3-108">La velocidad de muestreo y los formatos de audio disponibles para la captura vienen determinados por el controlador.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-108">The available sampling rates and audio formats for capture are determined by the driver.</span></span> <span data-ttu-id="b8bd3-109">Use la interfaz [**IAMStreamConfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) en el PIN de salida del filtro de captura de audio para enumerar los formatos y las velocidades de muestreo disponibles y establecer el formato deseado.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-109">Use the [**IAMStreamConfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) interface on the Audio Capture Filter's output pin to enumerate the available sampling rates and formats and set the desired format.</span></span> <span data-ttu-id="b8bd3-110">El filtro puede conectarse de nivel inferior a cualquier filtro que acepte el tipo de medio del terminal de salida.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-110">The filter can connect downstream to any filter that accepts the output pin's media type.</span></span>

<span data-ttu-id="b8bd3-111">El filtro de captura de audio también expone la interfaz [**IAMBufferNegotiation**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) .</span><span class="sxs-lookup"><span data-stu-id="b8bd3-111">The Audio Capture Filter also exposes the [**IAMBufferNegotiation**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) interface.</span></span> <span data-ttu-id="b8bd3-112">Esta interfaz es útil para controlar la cantidad de latencia en la vista previa de audio.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-112">This interface is useful for controlling the amount of latency in audio preview.</span></span> <span data-ttu-id="b8bd3-113">De forma predeterminada, el filtro de captura de audio utiliza un tamaño de búfer de medio segundo.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-113">By default, the Audio Capture filter uses a half-second buffer size.</span></span> <span data-ttu-id="b8bd3-114">Este tamaño de búfer es óptimo para la captura, pero produce un retraso de la vista previa de medio segundo.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-114">This buffer size is optimal for capturing but causes a half-second preview delay.</span></span> <span data-ttu-id="b8bd3-115">Para reducir la latencia, llame al método [**IAMBufferNegotiation:: SuggestAllocatorProperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) antes de conectar el PIN de salida del filtro de captura de audio.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-115">To reduce the latency, call the [**IAMBufferNegotiation::SuggestAllocatorProperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) method before you connect the Audio Capture Filter's output pin.</span></span> <span data-ttu-id="b8bd3-116">Este método toma un puntero a la estructura de [**\_ propiedades de asignador**](/windows/win32/api/strmif/ns-strmif-allocator_properties) .</span><span class="sxs-lookup"><span data-stu-id="b8bd3-116">This method takes a pointer to the [**ALLOCATOR\_PROPERTIES**](/windows/win32/api/strmif/ns-strmif-allocator_properties) structure.</span></span> <span data-ttu-id="b8bd3-117">Use el miembro **cbBuffer** para especificar el tamaño del búfer, en bytes.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-117">Use the **cbBuffer** member to specify the buffer size, in bytes.</span></span> <span data-ttu-id="b8bd3-118">Un búfer de 80 milisegundos suele ser seguro, pero los búferes de 30 o 40 milisegundos pueden ser suficientes.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-118">An 80 millisecond buffer is generally safe, but buffers of 30 or 40 milliseconds might be sufficient.</span></span> <span data-ttu-id="b8bd3-119">Si los búferes son demasiado pequeños, la calidad del sonido se degradará.</span><span class="sxs-lookup"><span data-stu-id="b8bd3-119">If the buffers are too small, the sound quality will be degraded.</span></span>

 

 



