---
description: La siguiente funcionalidad se ha agregado o cambiado en Microsoft DirectX Graphics Infrastructure (DXGI) 1,4, en gran medida para admitir Direct3D 12.
ms.assetid: DEA901EA-B0F9-41D9-802C-ED1D6A7888E0
title: Mejoras en DXGI 1,4
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 24e9a8a48dd026248afac7c1a7df23a99176adef
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104079927"
---
# <a name="dxgi-14-improvements"></a><span data-ttu-id="bc814-103">Mejoras en DXGI 1,4</span><span class="sxs-lookup"><span data-stu-id="bc814-103">DXGI 1.4 Improvements</span></span>

<span data-ttu-id="bc814-104">La siguiente funcionalidad se ha agregado o cambiado en Microsoft DirectX Graphics Infrastructure (DXGI) 1,4, en gran medida para admitir Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bc814-104">The following functionality has been added or changed in Microsoft DirectX Graphics Infrastructure (DXGI) 1.4, largely to support Direct3D 12.</span></span>

## <a name="cheaper-adapter-enumeration"></a><span data-ttu-id="bc814-105">Enumeración de adaptadores más barata</span><span class="sxs-lookup"><span data-stu-id="bc814-105">Cheaper adapter enumeration</span></span>

<span data-ttu-id="bc814-106">Para Direct3D 12, ya no es posible retroceder desde un dispositivo a la [**IDXGIAdapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) que se usó para crearlo.</span><span class="sxs-lookup"><span data-stu-id="bc814-106">For Direct3D 12, it’s no longer possible to backtrack from a device to the [**IDXGIAdapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) that was used to create it.</span></span> <span data-ttu-id="bc814-107">Además, ya no es posible proporcionar el \_ tipo de controlador D3D \_ \_ Warp en [**D3D12CreateDevice**](/windows/win32/api/d3d12/nf-d3d12-d3d12createdevice).</span><span class="sxs-lookup"><span data-stu-id="bc814-107">It’s also no longer possible to provide D3D\_DRIVER\_TYPE\_WARP into [**D3D12CreateDevice**](/windows/win32/api/d3d12/nf-d3d12-d3d12createdevice).</span></span> <span data-ttu-id="bc814-108">Para facilitar el desarrollo, puede usar [**IDXGIFactory4**](/windows/win32/api/DXGI1_4/nn-dxgi1_4-idxgifactory4) para tratar ambos.</span><span class="sxs-lookup"><span data-stu-id="bc814-108">To make development easier, you can use [**IDXGIFactory4**](/windows/win32/api/DXGI1_4/nn-dxgi1_4-idxgifactory4) to deal with both of these.</span></span> <span data-ttu-id="bc814-109">[**IDXGIFactory4:: EnumAdapterByLuid**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumadapterbyluid) (diseñado para emparejarse con [**ID3D12Device:: GetAdapterLuid**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getadapterluid)) permite que una aplicación recupere información sobre el adaptador en el que se creó un dispositivo de Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bc814-109">[**IDXGIFactory4::EnumAdapterByLuid**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumadapterbyluid) (designed to be paired with [**ID3D12Device::GetAdapterLuid**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getadapterluid)) enables an app to retrieve information about the adapter where a Direct3D 12 device was created.</span></span> <span data-ttu-id="bc814-110">[**IDXGIFactory4:: EnumWarpAdapter**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumwarpadapter) proporciona un adaptador que se puede proporcionar a **D3D12CreateDevice** para usar el REpresentador de alabeo.</span><span class="sxs-lookup"><span data-stu-id="bc814-110">[**IDXGIFactory4::EnumWarpAdapter**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumwarpadapter) provides an adapter which can be provided to **D3D12CreateDevice** to use the WARP renderer.</span></span>

## <a name="video-memory-budget-tracking"></a><span data-ttu-id="bc814-111">Seguimiento de presupuesto de memoria de vídeo</span><span class="sxs-lookup"><span data-stu-id="bc814-111">Video memory budget tracking</span></span>

<span data-ttu-id="bc814-112">Se recomienda a los desarrolladores de aplicaciones que usen un sistema de reserva de memoria de vídeo para informar al sistema operativo de la cantidad de memoria de vídeo física que no puede tener la aplicación.</span><span class="sxs-lookup"><span data-stu-id="bc814-112">Application developers are encouraged to use a video memory reservation system, to inform the OS of the amount of physical video memory the app cannot go without.</span></span>

<span data-ttu-id="bc814-113">La cantidad de memoria física disponible para un proceso se conoce como el "presupuesto de memoria de vídeo".</span><span class="sxs-lookup"><span data-stu-id="bc814-113">The amount of physical memory available for a process is known as the "video memory budget".</span></span> <span data-ttu-id="bc814-114">El presupuesto puede fluctuar notablemente a medida que los procesos en segundo plano se reactivan y suspenden. y fluctúan drásticamente cuando el usuario cambia a otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="bc814-114">The budget can fluctuate noticeably as background processes wake-up and sleep; and fluctuate dramatically when the user switches away to another application.</span></span> <span data-ttu-id="bc814-115">Se puede notificar a la aplicación cuando el presupuesto cambie y sondee el presupuesto actual y la cantidad de memoria consumida actualmente.</span><span class="sxs-lookup"><span data-stu-id="bc814-115">The application can be notified when the budget changes and poll both the current budget and the currently consumed amount of memory.</span></span> <span data-ttu-id="bc814-116">Si una aplicación no se mantiene dentro de su presupuesto, el proceso se inmovilizará intermitentemente para permitir que se ejecuten otras aplicaciones y/o las API de creación devolverán un error.</span><span class="sxs-lookup"><span data-stu-id="bc814-116">If an application doesn’t stay within its budget, the process will be intermittently frozen to allow other applications to run and/or the creation APIs will return failure.</span></span> <span data-ttu-id="bc814-117">La interfaz [**IDXGIAdapter3**](/windows/win32/api/dxgi1_4/nn-dxgi1_4-idxgiadapter3) proporciona los métodos que pertenecen a esta funcionalidad, en particular [**QueryVideoMemoryInfo**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo) y [**RegisterVideoMemoryBudgetChangeNotificationEvent**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-registervideomemorybudgetchangenotificationevent).</span><span class="sxs-lookup"><span data-stu-id="bc814-117">The [**IDXGIAdapter3**](/windows/win32/api/dxgi1_4/nn-dxgi1_4-idxgiadapter3) interface provides the methods pertaining to this functionality, in particular [**QueryVideoMemoryInfo**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo) and [**RegisterVideoMemoryBudgetChangeNotificationEvent**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-registervideomemorybudgetchangenotificationevent).</span></span>

<span data-ttu-id="bc814-118">Para obtener más información, consulte el tema Direct3D 12 en [residencia](../direct3d12/residency.md).</span><span class="sxs-lookup"><span data-stu-id="bc814-118">For more information, refer to the Direct3D 12 topic on [Residency](../direct3d12/residency.md).</span></span>

## <a name="direct3d-12-swapchain-changes"></a><span data-ttu-id="bc814-119">Cambios de intercambio de Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="bc814-119">Direct3D 12 Swapchain Changes</span></span>

<span data-ttu-id="bc814-120">Parte de la funcionalidad de intercambio de Direct3D 11 existente quedó en desuso para lograr las reducciones de sobrecarga en Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bc814-120">Some of the existing Direct3D 11 swapchain functionality was deprecated to achieve the overhead reductions in Direct3D 12.</span></span> <span data-ttu-id="bc814-121">Mientras que otros cambios se realizaron en alinearse con los conceptos de Direct3D 12 o proporcionar una mejor compatibilidad para las características de Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bc814-121">While other changes were made to either align to Direct3D 12 concepts or provide better support for Direct3D 12 features.</span></span>

<span data-ttu-id="bc814-122">**Identidad de búfer de reserva invariable**</span><span class="sxs-lookup"><span data-stu-id="bc814-122">**Invariant Backbuffer Identity**</span></span>

<span data-ttu-id="bc814-123">En Direct3D 11, las aplicaciones pueden llamar a [**getBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer)(0,...</span><span class="sxs-lookup"><span data-stu-id="bc814-123">In Direct3D 11, applications could call [**GetBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer)( 0, …</span></span> <span data-ttu-id="bc814-124">) una sola vez.</span><span class="sxs-lookup"><span data-stu-id="bc814-124">) only once.</span></span> <span data-ttu-id="bc814-125">Cada llamada a [**presente**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-present) ha cambiado implícitamente la identidad del recurso de la interfaz devuelta.</span><span class="sxs-lookup"><span data-stu-id="bc814-125">Every call to [**Present**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-present) implicitly changed the resource identity of the returned interface.</span></span> <span data-ttu-id="bc814-126">Direct3D 12 ya no admite ese cambio de identidad de recursos implícito, debido a la sobrecarga de CPU necesaria y al diseño flexible del descriptor de recursos.</span><span class="sxs-lookup"><span data-stu-id="bc814-126">Direct3D 12 no longer supports that implicit resource identity change, due to the CPU overhead required and the flexible resource descriptor design.</span></span> <span data-ttu-id="bc814-127">Como resultado, la aplicación debe llamar manualmente a **getBuffer** para cada búfer creado con el intercambio.</span><span class="sxs-lookup"><span data-stu-id="bc814-127">As a result, the application must manually call **GetBuffer** for every each buffer created with the swapchain.</span></span> <span data-ttu-id="bc814-128">La aplicación debe representarse manualmente en el siguiente búfer de la secuencia después de llamar a **present**.</span><span class="sxs-lookup"><span data-stu-id="bc814-128">The application must manually render to the next buffer in the sequence after calling **Present**.</span></span> <span data-ttu-id="bc814-129">Se recomienda que las aplicaciones creen una memoria caché de descriptores para cada búfer, en lugar de volver a crear muchos **objetos.**</span><span class="sxs-lookup"><span data-stu-id="bc814-129">Applications are encouraged to create a cache of descriptors for each buffer, instead of re-creating many objects each **Present**.</span></span>

<span data-ttu-id="bc814-130">**Compatibilidad con varios adaptadores**</span><span class="sxs-lookup"><span data-stu-id="bc814-130">**Multi-Adapter Support**</span></span>

<span data-ttu-id="bc814-131">Cuando se crea un intercambio en un adaptador de varias GPU, los búferes de reserva se crean en el nodo 1 y solo se admite una única cola de comandos.</span><span class="sxs-lookup"><span data-stu-id="bc814-131">When a swapchain is created on a multi-GPU adapter, the backbuffers are all created on node 1 and only a single command queue is supported.</span></span> <span data-ttu-id="bc814-132">[**ResizeBuffers1**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgiswapchain3-resizebuffers1) permite a las aplicaciones crear búferes de reserva en nodos diferentes, lo que permite usar una cola de comandos diferente con cada uno.</span><span class="sxs-lookup"><span data-stu-id="bc814-132">[**ResizeBuffers1**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgiswapchain3-resizebuffers1) enables applications to create backbuffers on different nodes, allowing a different command queue to be used with each.</span></span> <span data-ttu-id="bc814-133">Estas funcionalidades permiten usar técnicas de representación de tramas alternativas (AFR) con intercambio.</span><span class="sxs-lookup"><span data-stu-id="bc814-133">These capabilities enable Alternate Frame Rendering (AFR) techniques to be used with the swapchain.</span></span> <span data-ttu-id="bc814-134">Consulte [sistemas de varios adaptadores](../direct3d12/multi-engine.md).</span><span class="sxs-lookup"><span data-stu-id="bc814-134">Refer to [Multi-adapter systems](../direct3d12/multi-engine.md).</span></span>

<span data-ttu-id="bc814-135">**Varios**</span><span class="sxs-lookup"><span data-stu-id="bc814-135">**Miscellaneous**</span></span>

-   <span data-ttu-id="bc814-136">Un objeto de cola de comandos debe pasarse a métodos [**CreateSwapChain**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-createswapchain) en lugar del objeto de dispositivo Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="bc814-136">A command queue object must be passed to [**CreateSwapChain**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-createswapchain) methods instead of the Direct3D 12 device object.</span></span>
-   <span data-ttu-id="bc814-137">Solo se admiten los dos efectos de intercambio de modelo Flip siguientes:</span><span class="sxs-lookup"><span data-stu-id="bc814-137">Only the following two flip model swap effects are supported:</span></span> <dl> <span data-ttu-id="bc814-138">El \_ efecto de intercambio de DXGI \_ \_ \_ debe ser preferible cuando las aplicaciones se representan por completo en el búfer antes de presentarlos o están interesados en admitir los escenarios de varios adaptadores con facilidad.</span><span class="sxs-lookup"><span data-stu-id="bc814-138">DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD should be preferred when applications fully render over the backbuffer before presenting it or are interested in supporting multi-adapter scenarios easily.</span></span>  
    <span data-ttu-id="bc814-139">La \_ \_ volteo del efecto de intercambio \_ de DXGI \_ debe usarse en las aplicaciones que dependen de las optimizaciones de presentación parciales o que se leen periódicamente de búferes de reserva previamente presentados.</span><span class="sxs-lookup"><span data-stu-id="bc814-139">DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL should be used by applications that rely on partial presentation optimizations or regularly read from previously presented backbuffers.</span></span>  
    </dl>
-   [**SetFullscreenState**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate) no longer exclusively owns the display, so user-initiated operating system elements can seamlessly appear in front of application output. Volume settings is an example of this.

## <a name="related-topics"></a><span data-ttu-id="bc814-140">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="bc814-140">Related topics</span></span>

[<span data-ttu-id="bc814-141">Niveles de características de hardware de Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="bc814-141">Direct3D 12 Hardware Feature Levels</span></span>](../direct3d12/hardware-feature-levels.md)

[<span data-ttu-id="bc814-142">Guía de programación para DXGI</span><span class="sxs-lookup"><span data-stu-id="bc814-142">Programming Guide for DXGI</span></span>](dx-graphics-dxgi-overviews.md)
