---
title: Windows Installer para desarrolladores de juegos
description: En este artículo se proporciona información general de Windows Installer, específicamente destinada a desarrolladores de juegos. Para obtener documentación detallada sobre las características y las API mencionadas en este artículo, consulte el SDK de la plataforma Windows.
ms.assetid: 07401792-b34b-71c9-18f8-a11c916c7d81
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0e44227b633f7f9491b8a69bc06aa7945941a154
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104420966"
---
# <a name="windows-installer-for-game-developers"></a><span data-ttu-id="93ac6-104">Windows Installer para desarrolladores de juegos</span><span class="sxs-lookup"><span data-stu-id="93ac6-104">Windows Installer for Game Developers</span></span>

<span data-ttu-id="93ac6-105">Muestra cómo se puede usar Windows Installer para instalar juegos en equipos de usuario final.</span><span class="sxs-lookup"><span data-stu-id="93ac6-105">Shows how Windows Installer can be used to install games on end-user machines.</span></span> <span data-ttu-id="93ac6-106">Windows Installer ofrece compatibilidad total para una interfaz de usuario personalizada, así como para aplicar revisiones.</span><span class="sxs-lookup"><span data-stu-id="93ac6-106">Windows Installer offers full support for a customized user interface, as well as for patching.</span></span>

<span data-ttu-id="93ac6-107">Microsoft Windows Installer es la API preferida para instalar software en equipos basados en Windows.</span><span class="sxs-lookup"><span data-stu-id="93ac6-107">Microsoft Windows Installer is the preferred API for installing software on Windows-based computers.</span></span> <span data-ttu-id="93ac6-108">Aunque muchas de las características de Windows Installer están diseñadas para admitir la implementación de aplicaciones empresariales en un entorno corporativo, Windows Installer también es totalmente adecuado para instalar juegos en equipos de usuario final.</span><span class="sxs-lookup"><span data-stu-id="93ac6-108">While many of the features of Windows Installer are designed to support deployment of business applications in a corporate environment, Windows Installer is also completely suitable for installing games on end-user machines.</span></span> <span data-ttu-id="93ac6-109">Las principales ventajas de usar Windows Installer para la instalación de juegos son:</span><span class="sxs-lookup"><span data-stu-id="93ac6-109">The primary advantages of using Windows Installer for game installation are:</span></span>

-   <span data-ttu-id="93ac6-110">Desinstalación confiable</span><span class="sxs-lookup"><span data-stu-id="93ac6-110">Reliable uninstall</span></span>
-   <span data-ttu-id="93ac6-111">Capacidad para instalar contenido a petición</span><span class="sxs-lookup"><span data-stu-id="93ac6-111">Ability to install content on demand</span></span>
-   <span data-ttu-id="93ac6-112">Compatibilidad con la interfaz de usuario completamente personalizada</span><span class="sxs-lookup"><span data-stu-id="93ac6-112">Support for completely custom user interface</span></span>
-   <span data-ttu-id="93ac6-113">Revisión eficaz</span><span class="sxs-lookup"><span data-stu-id="93ac6-113">Efficient patching</span></span>

<span data-ttu-id="93ac6-114">En este artículo se proporciona información general de Windows Installer, específicamente destinada a desarrolladores de juegos.</span><span class="sxs-lookup"><span data-stu-id="93ac6-114">This article gives an overview of Windows Installer, specifically targeted to game developers.</span></span> <span data-ttu-id="93ac6-115">Para obtener documentación detallada sobre las características y las API mencionadas en este artículo, consulte el SDK de la plataforma Windows.</span><span class="sxs-lookup"><span data-stu-id="93ac6-115">For detailed documentation on the features and APIs mentioned in this article, please refer to the Windows Platform SDK.</span></span>

-   [<span data-ttu-id="93ac6-116">Información general</span><span class="sxs-lookup"><span data-stu-id="93ac6-116">Overview</span></span>](#overview)
-   [<span data-ttu-id="93ac6-117">Conceptos de Windows Installer clave</span><span class="sxs-lookup"><span data-stu-id="93ac6-117">Key Windows Installer Concepts</span></span>](#key-windows-installer-concepts)
    -   [<span data-ttu-id="93ac6-118">Componentes</span><span class="sxs-lookup"><span data-stu-id="93ac6-118">Components</span></span>](#components)
    -   [<span data-ttu-id="93ac6-119">Características</span><span class="sxs-lookup"><span data-stu-id="93ac6-119">Features</span></span>](#features)
-   [<span data-ttu-id="93ac6-120">Estados de instalación</span><span class="sxs-lookup"><span data-stu-id="93ac6-120">Install States</span></span>](#install-states)
-   [<span data-ttu-id="93ac6-121">Instalación a petición</span><span class="sxs-lookup"><span data-stu-id="93ac6-121">Install on Demand</span></span>](#install-on-demand)
-   [<span data-ttu-id="93ac6-122">Personalización de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="93ac6-122">Custom User Interface</span></span>](#custom-user-interface)
-   [<span data-ttu-id="93ac6-123">Revisiones</span><span class="sxs-lookup"><span data-stu-id="93ac6-123">Patching</span></span>](#patching)
-   [<span data-ttu-id="93ac6-124">Otros recursos</span><span class="sxs-lookup"><span data-stu-id="93ac6-124">Other Resources</span></span>](#other-resources)

## <a name="overview"></a><span data-ttu-id="93ac6-125">Información general</span><span class="sxs-lookup"><span data-stu-id="93ac6-125">Overview</span></span>

<span data-ttu-id="93ac6-126">Todas las configuraciones basadas en Windows Installer usan un archivo de base de datos de instalación denominado archivo MSI para describir cómo se va a instalar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-126">All Windows Installer-based setups use an installation database file called an MSI file to describe how the application is to be installed.</span></span> <span data-ttu-id="93ac6-127">El archivo MSI contiene información sobre qué archivos, claves del registro, accesos directos del escritorio, asociaciones de archivos y otros elementos de la aplicación se van a instalar.</span><span class="sxs-lookup"><span data-stu-id="93ac6-127">The MSI file contains information on what files, registry keys, desktop shortcuts, file associations, and other application elements are to be installed.</span></span> <span data-ttu-id="93ac6-128">Los archivos reales que se van a instalar pueden comprimirse en el propio archivo MSI, empaquetarse y comprimirse en "archivos. cab" independientes, o almacenarse en otro lugar del medio de instalación como archivos individuales sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="93ac6-128">The actual files to be installed can be compressed within the MSI file itself, bundled and compressed into separate "cabinet files", or stored elsewhere on the installation media as individual uncompressed files.</span></span> <span data-ttu-id="93ac6-129">El archivo MSI también puede hacer referencia a acciones personalizadas implementadas externamente, con el fin de permitir acciones para las que el archivo MSI no permite de forma nativa.</span><span class="sxs-lookup"><span data-stu-id="93ac6-129">The MSI file can also reference externally implemented custom actions, in order to allow for actions for which the MSI file does not natively allow.</span></span>

<span data-ttu-id="93ac6-130">Un archivo MSI puede contener opcionalmente una interfaz de usuario para guiar al usuario a través del proceso de instalación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-130">An MSI file can optionally contain a user interface to guide the user through the installation process.</span></span> <span data-ttu-id="93ac6-131">Esta interfaz de usuario es adecuada para la mayoría de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="93ac6-131">This UI is adequate for most applications.</span></span> <span data-ttu-id="93ac6-132">Sin embargo, tiene la apariencia de una aplicación Windows normal y muchos desarrolladores de juegos prefieren que su aplicación de configuración mantenga la apariencia del propio juego, con el fin de proporcionar una experiencia de usuario final más coherente.</span><span class="sxs-lookup"><span data-stu-id="93ac6-132">However, it has the look and feel of a regular Windows application, and many game developers prefer to have their setup application maintain the look and feel of the game itself, in order to provide a more consistent end-user experience.</span></span> <span data-ttu-id="93ac6-133">Para admitir este escenario de interfaz de usuario totalmente personalizada, una aplicación de instalación puede desactivar la interfaz de usuario integrada de Windows Installer y administrar toda la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="93ac6-133">To support this fully custom UI scenario, a setup application can turn off Windows Installer's built-in UI, and handle the entire user interface itself.</span></span> <span data-ttu-id="93ac6-134">La API de Windows Installer expone un mecanismo de devolución de llamada para permitir que una interfaz de usuario de instalación personalizada reciba notificaciones sobre el progreso de la instalación, así como eventos importantes, como las solicitudes de cambio de disco.</span><span class="sxs-lookup"><span data-stu-id="93ac6-134">The Windows Installer API exposes a callback mechanism to allow a custom setup UI to be notified of the progress of the installation, as well as important events such as disk change requests.</span></span>

<span data-ttu-id="93ac6-135">Windows Installer no es una solución de un extremo a otro para la creación de configuraciones.</span><span class="sxs-lookup"><span data-stu-id="93ac6-135">Windows Installer is not an end-to-end solution for creating setups.</span></span> <span data-ttu-id="93ac6-136">Solo es una API que puede utilizar un programa de instalación para realizar la instalación real de archivos, claves del registro, accesos directos del escritorio y otros elementos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-136">It is only an API that can be used by a setup program to do the actual installation of files, registry keys, desktop shortcuts, and other elements of the application.</span></span> <span data-ttu-id="93ac6-137">Las versiones recientes de todas las principales herramientas de configuración comercial (por ejemplo, InstallShield, WISE y Microsoft Visual Studio) admiten Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="93ac6-137">Recent versions of all of the major commercial setup tools (for example, InstallShield, WISE, and Microsoft Visual Studio) support Windows Installer.</span></span> <span data-ttu-id="93ac6-138">Estas herramientas proporcionan interfaces de usuario prácticas para crear el programa de instalación de un juego, pero dependen de la API de Windows Installer para realizar gran parte de la instalación real.</span><span class="sxs-lookup"><span data-stu-id="93ac6-138">These tools provide convenient user interfaces for creating the setup for a game, but they rely on the Windows Installer API to do much of the actual installation.</span></span> <span data-ttu-id="93ac6-139">Estas herramientas también se pueden usar para crear una base de datos MSI que contenga el paquete de instalación, que se puede instalar después desde una interfaz de usuario de instalación personalizada.</span><span class="sxs-lookup"><span data-stu-id="93ac6-139">These tools can also be used just to build an MSI database containing the setup package, which can then be installed from a custom-written setup UI.</span></span> <span data-ttu-id="93ac6-140">Como alternativa a las herramientas de terceros, la API de Windows Installer proporciona todas las funciones necesarias para crear y manipular una base de datos de MSI mediante programación, y el SDK de la plataforma Windows incluye una herramienta de edición de base de datos MSI básica denominada orca.</span><span class="sxs-lookup"><span data-stu-id="93ac6-140">As an alternative to third-party tools, the Windows Installer API provides all of the functions necessary for creating and manipulating an MSI database programmatically, and the Windows Platform SDK includes a bare-bones MSI database-editing tool called Orca.</span></span>

## <a name="key-windows-installer-concepts"></a><span data-ttu-id="93ac6-141">Conceptos de Windows Installer clave</span><span class="sxs-lookup"><span data-stu-id="93ac6-141">Key Windows Installer Concepts</span></span>

<span data-ttu-id="93ac6-142">Estos son los componentes y características de Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="93ac6-142">Here are the Windows Installer components and features.</span></span>

### <a name="components"></a><span data-ttu-id="93ac6-143">Componentes</span><span class="sxs-lookup"><span data-stu-id="93ac6-143">Components</span></span>

<span data-ttu-id="93ac6-144">Una aplicación se compone de uno o más componentes, identificados mediante un identificador de componente GUID.</span><span class="sxs-lookup"><span data-stu-id="93ac6-144">An application is made up of one or more components, identified by a GUID component ID.</span></span> <span data-ttu-id="93ac6-145">Un componente es una unidad atómica; está completamente instalado o no está instalado.</span><span class="sxs-lookup"><span data-stu-id="93ac6-145">A component is an atomic unit; it is either entirely installed or not installed at all.</span></span> <span data-ttu-id="93ac6-146">Un componente puede constar de un solo archivo, varios archivos, claves del registro, métodos abreviados de escritorio o alguna combinación de ellos.</span><span class="sxs-lookup"><span data-stu-id="93ac6-146">A component can consist of a single file, multiple files, registry keys, desktop shortcuts, or some combination thereof.</span></span> <span data-ttu-id="93ac6-147">Los recursos (archivos, etc.) de un componente deben ser únicos para ese componente; dos componentes no pueden contener el mismo recurso.</span><span class="sxs-lookup"><span data-stu-id="93ac6-147">The resources (files, and so on) within a component must be unique to that component-no two components can contain the same resource.</span></span> <span data-ttu-id="93ac6-148">Un componente nunca se instala explícitamente. solo se instala como parte de una característica (consulte a continuación).</span><span class="sxs-lookup"><span data-stu-id="93ac6-148">A component is never installed explicitly; it is only installed as part of a feature (see following).</span></span>

### <a name="features"></a><span data-ttu-id="93ac6-149">Características</span><span class="sxs-lookup"><span data-stu-id="93ac6-149">Features</span></span>

<span data-ttu-id="93ac6-150">Una característica es un grupo de componentes, identificado por un identificador de característica de GUID.</span><span class="sxs-lookup"><span data-stu-id="93ac6-150">A feature is a group of components, identified by a GUID feature ID.</span></span> <span data-ttu-id="93ac6-151">A diferencia de los componentes de, varias características pueden contener el mismo componente.</span><span class="sxs-lookup"><span data-stu-id="93ac6-151">Unlike components, multiple features may contain the same component.</span></span> <span data-ttu-id="93ac6-152">Se instalará un componente compartido entre varias características si alguna de esas características está instalada y se quitará solo cuando se hayan desinstalado todas las características que hacen referencia al componente.</span><span class="sxs-lookup"><span data-stu-id="93ac6-152">A component shared between multiple features will be installed if any of those features is installed, and removed only when all features that reference the component have been uninstalled.</span></span> <span data-ttu-id="93ac6-153">La instalación de una característica puede realizarse automáticamente como parte de la instalación de un producto, o bien puede realizarse manualmente mediante la API de [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) .</span><span class="sxs-lookup"><span data-stu-id="93ac6-153">Installation of a feature can be done automatically as part of the installation of a product, or it can be done manually using the [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) API.</span></span>

<span data-ttu-id="93ac6-154">Aunque pocos juegos tienen varias "características" que se pueden instalar de forma independiente, el concepto de Windows Installer de una característica sigue siendo útil.</span><span class="sxs-lookup"><span data-stu-id="93ac6-154">Although few games have multiple "features" that can be installed independently, the Windows Installer concept of a feature is still useful.</span></span> <span data-ttu-id="93ac6-155">Puesto que una característica Windows Installer no es más que una colección de componentes que se pueden instalar juntos, los juegos pueden usar características para agrupar todo el contenido necesario para una fase determinada del juego.</span><span class="sxs-lookup"><span data-stu-id="93ac6-155">Since a Windows Installer feature is nothing more than a collection of components that can be installed together, games can use features to group together all of the content needed for a particular stage of the game.</span></span> <span data-ttu-id="93ac6-156">Por ejemplo, un juego orientado a niveles podría definir una característica por nivel, que consiste en todo el contenido necesario para ese nivel.</span><span class="sxs-lookup"><span data-stu-id="93ac6-156">For example, a level-oriented game could define one feature per level, consisting of all of the content required for that level.</span></span> <span data-ttu-id="93ac6-157">Esto permitiría al juego instalar el contenido de un nivel a la vez desde dentro del propio juego, en lugar de instalar todo el contenido de todos los niveles durante la instalación inicial.</span><span class="sxs-lookup"><span data-stu-id="93ac6-157">This would allow the game to install the content one level at a time from within the game itself, rather than installing all of the content for all of the levels during the initial installation.</span></span>

## <a name="install-states"></a><span data-ttu-id="93ac6-158">Estados de instalación</span><span class="sxs-lookup"><span data-stu-id="93ac6-158">Install States</span></span>

<span data-ttu-id="93ac6-159">Cada componente o característica tiene un estado de instalación asociado, que determina si el componente o característica está disponible, y si es así, donde se instalan los archivos del componente o característica.</span><span class="sxs-lookup"><span data-stu-id="93ac6-159">Each component or feature has an associated install state, which determines whether the component or feature is available, and if so, where the files for the component or feature are installed.</span></span> <span data-ttu-id="93ac6-160">Los posibles estados de instalación de una característica son:</span><span class="sxs-lookup"><span data-stu-id="93ac6-160">The possible install states for a feature are:</span></span>

<dl> <dt>

<span data-ttu-id="93ac6-161"><span id="Absent"></span><span id="absent"></span><span id="ABSENT"></span>Existe</span><span class="sxs-lookup"><span data-stu-id="93ac6-161"><span id="Absent"></span><span id="absent"></span><span id="ABSENT"></span>Absent</span></span>
</dt> <dd>

<span data-ttu-id="93ac6-162">La característica no está instalada y, por tanto, no se puede obtener acceso a ella.</span><span class="sxs-lookup"><span data-stu-id="93ac6-162">The feature is not installed and is therefore inaccessible.</span></span>

</dd> <dt>

<span data-ttu-id="93ac6-163"><span id="Local"></span><span id="local"></span><span id="LOCAL"></span>Localizar</span><span class="sxs-lookup"><span data-stu-id="93ac6-163"><span id="Local"></span><span id="local"></span><span id="LOCAL"></span>Local</span></span>
</dt> <dd>

<span data-ttu-id="93ac6-164">La característica está disponible y se instala para ejecutarse desde el disco duro local.</span><span class="sxs-lookup"><span data-stu-id="93ac6-164">The feature is available and is installed to run from the local hard drive.</span></span>

</dd> <dt>

<span data-ttu-id="93ac6-165"><span id="Source"></span><span id="source"></span><span id="SOURCE"></span>Fuentes</span><span class="sxs-lookup"><span data-stu-id="93ac6-165"><span id="Source"></span><span id="source"></span><span id="SOURCE"></span>Source</span></span>
</dt> <dd>

<span data-ttu-id="93ac6-166">La característica está disponible y se instala para ejecutarse desde el medio de origen original (normalmente un CD o DVD).</span><span class="sxs-lookup"><span data-stu-id="93ac6-166">The feature is available and is installed to run from the original source media (usually a CD or DVD).</span></span>

</dd> <dt>

<span data-ttu-id="93ac6-167"><span id="Advertised"></span><span id="advertised"></span><span id="ADVERTISED"></span>Anunciados</span><span class="sxs-lookup"><span data-stu-id="93ac6-167"><span id="Advertised"></span><span id="advertised"></span><span id="ADVERTISED"></span>Advertised</span></span>
</dt> <dd>

<span data-ttu-id="93ac6-168">La característica no está instalada, pero se puede instalar a petición mediante la API de [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) .</span><span class="sxs-lookup"><span data-stu-id="93ac6-168">The feature is not installed, but can be installed on demand using the [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) API.</span></span> <span data-ttu-id="93ac6-169">Una vez instalada la característica, se puede instalar en el estado local o de origen.</span><span class="sxs-lookup"><span data-stu-id="93ac6-169">When the feature is actually installed, it can be installed either to the Local or Source state.</span></span>

</dd> </dl>

<span data-ttu-id="93ac6-170">Un componente puede tener cualquiera de los Estados anteriores excepto "anunciado".</span><span class="sxs-lookup"><span data-stu-id="93ac6-170">A component can have any of the above states except for "Advertised."</span></span> <span data-ttu-id="93ac6-171">Si un componente forma parte de una característica anunciada, el componente aparecerá como "ausente" hasta que se instale la característica.</span><span class="sxs-lookup"><span data-stu-id="93ac6-171">If a component is part of an advertised feature, the component will appear as "Absent" until the feature is installed.</span></span>

## <a name="install-on-demand"></a><span data-ttu-id="93ac6-172">Instalación a petición</span><span class="sxs-lookup"><span data-stu-id="93ac6-172">Install on Demand</span></span>

<span data-ttu-id="93ac6-173">Windows Installer permite que una aplicación Marque características como anunciadas, lo que significa que la característica aún no está instalada, pero está disponible para instalar en tiempo de ejecución si es necesario.</span><span class="sxs-lookup"><span data-stu-id="93ac6-173">Windows Installer allows an application to mark features as Advertised, meaning that the feature is not yet installed, but is available to install at runtime if it is needed.</span></span> <span data-ttu-id="93ac6-174">La instalación de características en tiempo de ejecución se conoce como "instalar a petición".</span><span class="sxs-lookup"><span data-stu-id="93ac6-174">Installing features at runtime is known as "Install on Demand."</span></span> <span data-ttu-id="93ac6-175">Los juegos pueden utilizar la instalación a petición para reducir drásticamente el tiempo necesario para la configuración inicial del juego al aplazar la instalación del contenido del juego hasta que sea necesario en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="93ac6-175">Games can use Install on Demand to drastically reduce the time required for the initial game setup by deferring the installation of game content until it is needed at runtime.</span></span> <span data-ttu-id="93ac6-176">El retraso necesario para instalar el contenido en tiempo de ejecución se puede ocultar a menudo parcial o totalmente mediante la instalación a petición en un subproceso en segundo plano, mientras que el usuario está ocupado con el juego.</span><span class="sxs-lookup"><span data-stu-id="93ac6-176">The delay required to install the content at runtime can often be partially or completely hidden by doing the on-demand installation in a background thread, while the user is otherwise occupied with the game.</span></span>

## <a name="custom-user-interface"></a><span data-ttu-id="93ac6-177">Personalización de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="93ac6-177">Custom User Interface</span></span>

<span data-ttu-id="93ac6-178">Aunque Windows Installer proporciona una interfaz de usuario predeterminada que guía al usuario a través de la instalación de la aplicación, esta interfaz es similar a la de una aplicación Windows estándar.</span><span class="sxs-lookup"><span data-stu-id="93ac6-178">Although Windows Installer provides a default user interface that guides the user through the installation of the application, this interface looks like that of a standard Windows application.</span></span> <span data-ttu-id="93ac6-179">Muchos desarrolladores de juegos prefieren que su interfaz de usuario de instalación tenga el mismo aspecto y funcionamiento que el propio juego, para proporcionar al usuario una idea de los Ambiance del juego.</span><span class="sxs-lookup"><span data-stu-id="93ac6-179">Many game developers prefer that their installation UI have the same look and feel as the game itself, to provide the user with a taste of the game's ambiance.</span></span> <span data-ttu-id="93ac6-180">Para admitir esto, Windows Installer permite que su interfaz de usuario integrada esté completamente deshabilitada, lo que permite al desarrollador proporcionar una interfaz de usuario completamente personalizada.</span><span class="sxs-lookup"><span data-stu-id="93ac6-180">To support this, Windows Installer allows its built-in user interface to be completely disabled, allowing the developer to provide a completely custom UI.</span></span>

<span data-ttu-id="93ac6-181">En primer lugar, el programa de instalación personalizado deshabilita la interfaz de usuario integrada de Windows Installer mediante la API de [**MsiSetInternalUI**](/windows/desktop/api/msi/nf-msi-msisetinternalui) para establecer el nivel de la interfaz de usuario en INSTALLUILEVEL \_ None.</span><span class="sxs-lookup"><span data-stu-id="93ac6-181">The custom setup program first disables Windows Installer's built-in user interface using the [**MsiSetInternalUI**](/windows/desktop/api/msi/nf-msi-msisetinternalui) API to set the UI level to INSTALLUILEVEL\_NONE.</span></span> <span data-ttu-id="93ac6-182">A continuación, llama a la API [**MsiSetExternalUI**](/windows/desktop/api/msi/nf-msi-msisetexternaluia) para especificar una función de devolución de llamada a la que se llamará durante el proceso de instalación con el fin de notificar al programa de instalación los eventos clave durante la instalación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-182">It then calls the [**MsiSetExternalUI**](/windows/desktop/api/msi/nf-msi-msisetexternaluia) API to specify a callback function that will be called during the installation process to notify the setup program of key events during the installation.</span></span>

<span data-ttu-id="93ac6-183">El proceso de instalación real se inicia mediante una llamada a la API [**MsiInstallProduct**](/windows/desktop/api/msi/nf-msi-msiinstallproducta) .</span><span class="sxs-lookup"><span data-stu-id="93ac6-183">The actual installation process is then started by calling the [**MsiInstallProduct**](/windows/desktop/api/msi/nf-msi-msiinstallproducta) API.</span></span> <span data-ttu-id="93ac6-184">Esta API acepta una cadena de parámetro que permite al llamador especificar valores para las propiedades con nombre.</span><span class="sxs-lookup"><span data-stu-id="93ac6-184">This API accepts a parameter string that allows the caller to specify values for named properties.</span></span> <span data-ttu-id="93ac6-185">Estas propiedades se pueden usar en la base de datos de instalación para personalizar cómo se va a instalar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-185">These properties can be used within the installation database itself to customize how the application is to be installed.</span></span> <span data-ttu-id="93ac6-186">Estas propiedades se pueden utilizar para especificar:</span><span class="sxs-lookup"><span data-stu-id="93ac6-186">These properties can be used to specify:</span></span>

-   <span data-ttu-id="93ac6-187">Directorio en el que se va a instalar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-187">The directory to which the application is to be installed</span></span>
-   <span data-ttu-id="93ac6-188">Las características que se van a instalar localmente y que se instalarán para ejecutarse desde el CD/DVD (por ejemplo, para habilitar la selección entre una instalación mínima y una instalación completa)</span><span class="sxs-lookup"><span data-stu-id="93ac6-188">Which features are to be installed locally and which are to be installed to run from the CD/DVD (for example, to enable choosing between a minimal install and a full install)</span></span>
-   <span data-ttu-id="93ac6-189">Si la aplicación debe instalarse para todos los usuarios del equipo o solo para el usuario actual</span><span class="sxs-lookup"><span data-stu-id="93ac6-189">Whether the application should be installed for all users of the machine, or for only the current user</span></span>

<span data-ttu-id="93ac6-190">Durante el transcurso de la instalación, el programa de instalación utiliza los mensajes de notificación enviados a su función de devolución de llamada para determinar cuándo actualizar su interfaz de usuario del indicador de progreso, Cuándo se le pedirá al usuario que inserte el siguiente CD, o Cuándo notificará al usuario un error en el proceso de instalación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-190">During the course of the installation, the setup program uses the notification messages sent to its callback function to determine when to update its progress indicator UI, when to prompt the user to insert the next CD, or when to notify the user about an error in the installation process.</span></span>

## <a name="patching"></a><span data-ttu-id="93ac6-191">Aplicación de revisiones</span><span class="sxs-lookup"><span data-stu-id="93ac6-191">Patching</span></span>

<span data-ttu-id="93ac6-192">Windows Installer permite revisar las aplicaciones instaladas aplicando un archivo de revisión.</span><span class="sxs-lookup"><span data-stu-id="93ac6-192">Windows Installer allows installed applications to be patched by applying a patch file.</span></span> <span data-ttu-id="93ac6-193">Un archivo de revisión contiene los nuevos archivos que va a agregar la revisión, los archivos modificados por la revisión y una lista de cambios que se deben realizar en la base de datos de instalación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-193">A patch file contains the new files to be added by the patch, the files that are modified by the patch, and a list of changes to make to the installation database.</span></span> <span data-ttu-id="93ac6-194">Para ahorrar espacio, en lugar de almacenar el contenido completo de un archivo modificado por la revisión, el archivo de revisión contiene realmente solo las diferencias entre la versión original del archivo y la nueva versión del archivo.</span><span class="sxs-lookup"><span data-stu-id="93ac6-194">To conserve space, instead of storing the complete contents of a file changed by the patch, the patch file actually contains only the differences between the original version of the file and the new version of the file.</span></span>

<span data-ttu-id="93ac6-195">Para crear una revisión, necesita la imagen de instalación para cada una de las versiones de la aplicación de la que desea que se actualice la revisión, así como la imagen de configuración de la nueva versión actualizada de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-195">In order to create a patch, you need the setup image for each of the versions of the application that you wish the patch to upgrade from, as well as the setup image for the new, upgraded version of the application.</span></span> <span data-ttu-id="93ac6-196">Una imagen de instalación consta de la base de datos MSI y de todos los archivos de datos reales de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="93ac6-196">A setup image consists of the MSI database and all of the actual data files for the application.</span></span> <span data-ttu-id="93ac6-197">La mejor manera de crear una imagen de instalación para una nueva versión de la aplicación es copiar la imagen de instalación de la versión anterior de la aplicación y, a continuación, realizar los cambios necesarios para actualizar esa copia a la versión revisada.</span><span class="sxs-lookup"><span data-stu-id="93ac6-197">The best way to create a setup image for a new version of the application is to copy the setup image from the previous version of the application, and then make any changes necessary to update that copy to the patched version.</span></span>

<span data-ttu-id="93ac6-198">Una vez que tenga todas las imágenes de instalación necesarias, puede crear las revisiones mediante Msimsp.exe, que es una herramienta de creación de revisiones disponible como parte del SDK de la plataforma.</span><span class="sxs-lookup"><span data-stu-id="93ac6-198">Once you have all of the necessary setup images, you can create the patches using Msimsp.exe, which is a patch creation tool available as part of the Platform SDK.</span></span> <span data-ttu-id="93ac6-199">La herramienta le pedirá las ubicaciones de cada una de las imágenes de instalación y, a continuación, determinará cómo representar eficazmente las diferencias entre las versiones sucesivas.</span><span class="sxs-lookup"><span data-stu-id="93ac6-199">The tool will ask for the locations of each of the setup images, and then determine how to efficiently represent the differences between the successive versions.</span></span> <span data-ttu-id="93ac6-200">La salida de la herramienta es el archivo de revisión final (identificado por la extensión MSP).</span><span class="sxs-lookup"><span data-stu-id="93ac6-200">The output of the tool is the final patch file (identified by the extension MSP).</span></span> <span data-ttu-id="93ac6-201">Para instalar el parche mediante programación, llame a la API [**MsiApplyPatch**](/windows/desktop/api/msi/nf-msi-msiapplypatcha) .</span><span class="sxs-lookup"><span data-stu-id="93ac6-201">In order to install the patch programmatically, call the [**MsiApplyPatch**](/windows/desktop/api/msi/nf-msi-msiapplypatcha) API.</span></span> <span data-ttu-id="93ac6-202">El usuario también puede instalar la revisión manualmente si hace doble clic en el archivo MSP en el explorador.</span><span class="sxs-lookup"><span data-stu-id="93ac6-202">The user can also install the patch manually by double-clicking on the MSP file in Explorer.</span></span>

## <a name="other-resources"></a><span data-ttu-id="93ac6-203">Otros recursos</span><span class="sxs-lookup"><span data-stu-id="93ac6-203">Other Resources</span></span>

-   <span data-ttu-id="93ac6-204">Para obtener información detallada sobre la API de Windows Installer, vea [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="93ac6-204">For detailed info on the Windows Installer API, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>
-   <span data-ttu-id="93ac6-205">Para obtener información sobre los procedimientos recomendados para la instalación de juegos, consulte [instalación y mantenimiento de juegos](/windows/desktop/DxTechArts/installation-and-maintenance-of-games).</span><span class="sxs-lookup"><span data-stu-id="93ac6-205">For info on best practices for game installation, see [Installation and Maintenance of Games](/windows/desktop/DxTechArts/installation-and-maintenance-of-games).</span></span>

 

 