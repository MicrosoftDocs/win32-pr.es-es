---
description: Una cadena de intercambio es una colección de búferes que se usan para mostrar fotogramas al usuario.
ms.assetid: aefc0680-cbe6-42eb-8c00-eaa343eee469
title: ¿Qué es una cadena de intercambio? (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7c8fc1fd2d313c70a680d9b276a3aabedc6d8cff
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104274661"
---
# <a name="what-is-a-swap-chain-direct3d-9"></a><span data-ttu-id="5fca2-104">¿Qué es una cadena de intercambio?</span><span class="sxs-lookup"><span data-stu-id="5fca2-104">What Is a Swap Chain?</span></span> <span data-ttu-id="5fca2-105">(Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="5fca2-105">(Direct3D 9)</span></span>

<span data-ttu-id="5fca2-106">Una cadena de intercambio es una colección de búferes que se usan para mostrar fotogramas al usuario.</span><span class="sxs-lookup"><span data-stu-id="5fca2-106">A swap chain is a collection of buffers that are used for displaying frames to the user.</span></span> <span data-ttu-id="5fca2-107">Cada vez que una aplicación presenta un nuevo fotograma para su presentación, el primer búfer de la cadena de intercambio ocupa el lugar del búfer mostrado.</span><span class="sxs-lookup"><span data-stu-id="5fca2-107">Each time an application presents a new frame for display, the first buffer in the swap chain takes the place of the displayed buffer.</span></span> <span data-ttu-id="5fca2-108">Este proceso se denomina intercambio o volteo.</span><span class="sxs-lookup"><span data-stu-id="5fca2-108">This process is called swapping or flipping.</span></span>

<span data-ttu-id="5fca2-109">Un adaptador de gráficos contiene un puntero a una superficie que representa la imagen que se muestra en el monitor, denominada búfer frontal.</span><span class="sxs-lookup"><span data-stu-id="5fca2-109">A graphics adapter holds a pointer to a surface that represents the image being displayed on the monitor, called a front buffer.</span></span> <span data-ttu-id="5fca2-110">A medida que se actualiza el monitor, la tarjeta de gráficos envía el contenido del búfer frontal al monitor que se va a mostrar.</span><span class="sxs-lookup"><span data-stu-id="5fca2-110">As the monitor is refreshed, the graphics card sends the contents of the front buffer to the monitor to be displayed.</span></span> <span data-ttu-id="5fca2-111">Sin embargo, esto provoca un problema al representar gráficos en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="5fca2-111">However, this leads to a problem when rendering real-time graphics.</span></span> <span data-ttu-id="5fca2-112">La esencia del problema es que la frecuencia de actualización de los monitores es muy lenta en comparación con el resto del equipo.</span><span class="sxs-lookup"><span data-stu-id="5fca2-112">The heart of the problem is that monitor refresh rates are very slow in comparison to the rest of the computer.</span></span> <span data-ttu-id="5fca2-113">Las frecuencias de actualización comunes van desde 60 Hz (60 veces por segundo) a 100 Hz.</span><span class="sxs-lookup"><span data-stu-id="5fca2-113">Common refresh rates range from 60 Hz (60 times per second) to 100 Hz.</span></span> <span data-ttu-id="5fca2-114">Si la aplicación está actualizando el búfer frontal mientras el monitor está en medio de una actualización, la imagen que se muestra se cortará en la mitad con la mitad superior de la pantalla que contiene la imagen anterior y la mitad inferior que contiene la imagen nueva.</span><span class="sxs-lookup"><span data-stu-id="5fca2-114">If your application is updating the front buffer while the monitor is in the middle of a refresh, the image that is displayed will be cut in half with the upper half of the display containing the old image and the lower half containing the new image.</span></span> <span data-ttu-id="5fca2-115">Este problema se conoce como desgarro.</span><span class="sxs-lookup"><span data-stu-id="5fca2-115">This problem is referred to as tearing.</span></span>

<span data-ttu-id="5fca2-116">Direct3D implementa dos opciones para evitar el desgarro:</span><span class="sxs-lookup"><span data-stu-id="5fca2-116">Direct3D implements two options to avoid tearing:</span></span>

-   <span data-ttu-id="5fca2-117">Una opción para permitir solo las actualizaciones del monitor en la operación de reseguimiento vertical (o sincronización vertical).</span><span class="sxs-lookup"><span data-stu-id="5fca2-117">An option to only allow updates of the monitor on the vertical retrace (or vertical sync) operation.</span></span> <span data-ttu-id="5fca2-118">Normalmente, un monitor actualiza su imagen moviendo un PIN de luz horizontalmente, zigzagging desde la parte superior izquierda del monitor y terminando en la parte inferior derecha.</span><span class="sxs-lookup"><span data-stu-id="5fca2-118">A monitor typically refreshes its image by moving a light pin horizontally, zigzagging from the top left of the monitor and ending at the bottom right.</span></span> <span data-ttu-id="5fca2-119">Cuando el PIN de la luz alcanza la parte inferior, el monitor vuelve a calibrar el PIN de luz moviéndolo hacia la parte superior izquierda para que el proceso pueda volver a iniciarse.</span><span class="sxs-lookup"><span data-stu-id="5fca2-119">When the light pin reaches the bottom, the monitor recalibrates the light pin by moving it back to the upper left so that the process can start again.</span></span> <span data-ttu-id="5fca2-120">Esta recalibración se denomina sincronización vertical. Durante una sincronización vertical, el monitor no está dibujando nada, por lo que no se verá ninguna actualización en el búfer frontal hasta que el monitor se vuelva a dibujar.</span><span class="sxs-lookup"><span data-stu-id="5fca2-120">This recalibration is called a vertical sync. During a vertical sync, the monitor is not drawing anything, so any update to the front buffer will not be seen until the monitor starts to draw again.</span></span> <span data-ttu-id="5fca2-121">La sincronización vertical es relativamente lenta; sin embargo, no es suficiente para representar una escena compleja mientras se espera.</span><span class="sxs-lookup"><span data-stu-id="5fca2-121">The vertical sync is relatively slow; however, not slow enough to render a complex scene while waiting.</span></span> <span data-ttu-id="5fca2-122">Lo que se necesita para evitar el desgarro y poder representar escenas complejas es un proceso llamado almacenamiento en búfer de reserva.</span><span class="sxs-lookup"><span data-stu-id="5fca2-122">What is needed to avoid tearing and be able to render complex scenes is a process called back buffering.</span></span>
-   <span data-ttu-id="5fca2-123">Una opción para usar una técnica denominada almacenamiento en búfer de reserva.</span><span class="sxs-lookup"><span data-stu-id="5fca2-123">An option to use a technique called back buffering.</span></span> <span data-ttu-id="5fca2-124">El almacenamiento en búfer de reserva es el proceso de dibujar una escena en una superficie fuera de la pantalla, denominada búfer de reserva.</span><span class="sxs-lookup"><span data-stu-id="5fca2-124">Back buffering is the process of drawing a scene to an off-screen surface, called a back buffer.</span></span> <span data-ttu-id="5fca2-125">Tenga en cuenta que cualquier superficie que no sea el búfer frontal se denomina superficie fuera de la pantalla, ya que nunca la ve directamente el monitor.</span><span class="sxs-lookup"><span data-stu-id="5fca2-125">Note that any surface other than the front buffer is called an off-screen surface because it is never directly viewed by the monitor.</span></span> <span data-ttu-id="5fca2-126">Mediante el uso de un búfer de reserva, una aplicación tiene la libertad de representar una escena cada vez que el sistema está inactivo (es decir, no hay mensajes de Windows en espera) sin tener que tener en cuenta la frecuencia de actualización del monitor.</span><span class="sxs-lookup"><span data-stu-id="5fca2-126">By using a back buffer, an application has the freedom to render a scene whenever the system is idle (that is, no windows messages are waiting) without having to consider the monitor's refresh rate.</span></span> <span data-ttu-id="5fca2-127">El almacenamiento en búfer de reserva conlleva una complicación adicional de cómo y cuándo se debe trasladar el búfer de reserva al búfer frontal.</span><span class="sxs-lookup"><span data-stu-id="5fca2-127">Back buffering brings in an additional complication of how and when to move the back buffer to the front buffer.</span></span>

<span data-ttu-id="5fca2-128">El proceso de mover el búfer de reserva al búfer frontal se denomina volteo superficial.</span><span class="sxs-lookup"><span data-stu-id="5fca2-128">The process of moving the back buffer to the front buffer is called surface flipping.</span></span> <span data-ttu-id="5fca2-129">Dado que la tarjeta gráfica simplemente usa un puntero a una superficie para representar el búfer frontal, un cambio de puntero simple es todo lo que se necesita para establecer el búfer de reserva en el búfer frontal.</span><span class="sxs-lookup"><span data-stu-id="5fca2-129">Because the graphics card simply uses a pointer to a surface to represent the front buffer, a simple pointer change is all that is needed to set the back buffer to the front buffer.</span></span> <span data-ttu-id="5fca2-130">Cuando una aplicación pide a Direct3D que presente el búfer de reserva en el búfer frontal, Direct3D simplemente "voltea" los dos punteros de la superficie.</span><span class="sxs-lookup"><span data-stu-id="5fca2-130">When an application asks Direct3D to present the back buffer to the front buffer, Direct3D simply "flips" the two surface pointers.</span></span> <span data-ttu-id="5fca2-131">El resultado es que el búfer de reserva es ahora el nuevo búfer frontal y el antiguo búfer anterior es el nuevo búfer de reserva.</span><span class="sxs-lookup"><span data-stu-id="5fca2-131">The result is that the back buffer is now the new front buffer, and the old front buffer is the new back buffer.</span></span> <span data-ttu-id="5fca2-132">Se invoca un volteo de superficie siempre que una aplicación pide al dispositivo Direct3D que presente el búfer de reserva; sin embargo, se puede configurar Direct3D para poner en cola las solicitudes hasta que se produzca una sincronización vertical.</span><span class="sxs-lookup"><span data-stu-id="5fca2-132">A surface flip is invoked whenever an application asks the Direct3D device to present the back buffer; however, Direct3D can be set up to queue the requests until a vertical sync occurs.</span></span> <span data-ttu-id="5fca2-133">Esta opción se conoce como el intervalo de presentación del dispositivo Direct3D.</span><span class="sxs-lookup"><span data-stu-id="5fca2-133">This option is referred to as the Direct3D device's presentation interval.</span></span> <span data-ttu-id="5fca2-134">Tenga en cuenta que es posible que los datos del nuevo búfer de reserva no se puedan volver a usar, en función de cómo una aplicación especifique cómo debe controlar Direct3D el volteo de la superficie.</span><span class="sxs-lookup"><span data-stu-id="5fca2-134">Note that the data in the new back buffer may not be reusable, depending on how an application specifies how Direct3D should handle surface flipping.</span></span> <span data-ttu-id="5fca2-135">El volteo de Surface es clave en el software multimedia, de animación y de juegos. es equivalente a la manera en que se puede realizar la animación con un panel de papel.</span><span class="sxs-lookup"><span data-stu-id="5fca2-135">Surface flipping is key in multimedia, animation, and game software; it is equivalent to the way you can do animation with a pad of paper.</span></span> <span data-ttu-id="5fca2-136">En cada página, el artista cambia ligeramente las figuras, de modo que cuando se gira rápidamente entre las hojas, el dibujo aparece animado.</span><span class="sxs-lookup"><span data-stu-id="5fca2-136">On each page, the artist changes the figures slightly, so that when you flip rapidly between sheets, the drawing appears animated.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5fca2-137">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="5fca2-137">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5fca2-138">Superficies de Direct3D</span><span class="sxs-lookup"><span data-stu-id="5fca2-138">Direct3D Surfaces</span></span>](direct3d-surfaces.md)
</dt> <dt>

[<span data-ttu-id="5fca2-139">Voltear superficies (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="5fca2-139">Flipping Surfaces (Direct3D 9)</span></span>](flipping-surfaces.md)
</dt> </dl>

 

 



