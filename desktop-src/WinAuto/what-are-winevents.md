---
title: Qué son WinEvents
description: Las aplicaciones de servidor y el sistema operativo usan WinEvents para notificar a los clientes cuando se produce un cambio en el sistema o en la interfaz de usuario.
ms.assetid: 43723706-a173-4ddc-b135-824a7a8e8b40
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97864f2b1464718680d781ad843345f1e46fce13
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "105704771"
---
# <a name="what-are-winevents"></a><span data-ttu-id="1476f-103">¿Qué son los WinEvents?</span><span class="sxs-lookup"><span data-stu-id="1476f-103">What Are WinEvents?</span></span>

<span data-ttu-id="1476f-104">Las aplicaciones de servidor y el sistema operativo usan WinEvents para notificar a los clientes cuando se produce un cambio en el sistema o en la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="1476f-104">Server applications and the operating system use WinEvents to notify clients when a change occurs in the system or in the user interface.</span></span>

<span data-ttu-id="1476f-105">La compatibilidad con WinEvent es una característica del sistema operativo Windows que proporciona:</span><span class="sxs-lookup"><span data-stu-id="1476f-105">WinEvent support is a feature of the Windows operating system that provides:</span></span>

-   <span data-ttu-id="1476f-106">Una manera sencilla de que los clientes se registren para las notificaciones de eventos.</span><span class="sxs-lookup"><span data-stu-id="1476f-106">A simple way for clients to register for event notifications.</span></span>
-   <span data-ttu-id="1476f-107">Mecanismo para insertar código de cliente en servidores.</span><span class="sxs-lookup"><span data-stu-id="1476f-107">A mechanism for injecting client code into servers.</span></span>
-   <span data-ttu-id="1476f-108">Enrutamiento de eventos de servidores a clientes interesados.</span><span class="sxs-lookup"><span data-stu-id="1476f-108">Routing of events from servers to interested clients.</span></span>
-   <span data-ttu-id="1476f-109">Generación automática de eventos para la mayoría de los controles basados en **hWnd**.</span><span class="sxs-lookup"><span data-stu-id="1476f-109">Automatic event generation for most **HWND**-based controls.</span></span>

<span data-ttu-id="1476f-110">La generación de eventos para los controles basados en **hWnd** es especialmente importante para los desarrolladores de servidor.</span><span class="sxs-lookup"><span data-stu-id="1476f-110">Event generation for **HWND**-based controls is especially important for server developers.</span></span> <span data-ttu-id="1476f-111">El tiempo de ejecución de Microsoft Active Accessibility proporciona proxies [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) para todos los elementos de la interfaz de usuario estándar.</span><span class="sxs-lookup"><span data-stu-id="1476f-111">The Microsoft Active Accessibility run-time provides [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) proxies for all standard UI elements.</span></span> <span data-ttu-id="1476f-112">Del mismo modo, el sistema genera automáticamente el WinEvents adecuado cada vez que crea, destruye, mueve, cambia de tamaño o realiza cualquier otra acción en un control basado en **hWnd**.</span><span class="sxs-lookup"><span data-stu-id="1476f-112">Similarly, the system automatically generates the appropriate WinEvents whenever it creates, destroys, moves, resizes, or performs any other action on an **HWND**-based control.</span></span>

<span data-ttu-id="1476f-113">El sistema admite automáticamente algunos WinEvents, incluidos los eventos de **hWnd** generales.</span><span class="sxs-lookup"><span data-stu-id="1476f-113">Some WinEvents, including general **HWND** events, are automatically supported by the system.</span></span> <span data-ttu-id="1476f-114">Otros tipos de WinEvents, como los cambios de estado o los eventos de selección específicos de un control determinado, son compatibles con los servidores de Microsoft Active Accessibility.</span><span class="sxs-lookup"><span data-stu-id="1476f-114">Other types of WinEvents, such as state changes or selection events specific to a particular control, are supported by Microsoft Active Accessibility servers.</span></span>

<span data-ttu-id="1476f-115">Cuando se produce un evento que afecta a la interfaz de usuario, los servidores pueden difundir una notificación de eventos a todos los clientes interesados llamando a la función [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) .</span><span class="sxs-lookup"><span data-stu-id="1476f-115">When an event occurs that affects the UI, servers can broadcast an event notification to all interested clients by calling the [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) function.</span></span> <span data-ttu-id="1476f-116">La llamada de función incluye información que identifica el tipo de evento que se ha producido y el elemento de la interfaz de usuario al que se aplica el evento.</span><span class="sxs-lookup"><span data-stu-id="1476f-116">The function call includes information that identifies the type of event that occurred, and the UI element to which the event applies.</span></span> <span data-ttu-id="1476f-117">Los clientes pueden usar esta información para recuperar un objeto [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) para el elemento de la interfaz de usuario y recopilar más información.</span><span class="sxs-lookup"><span data-stu-id="1476f-117">Clients can use this information to retrieve an [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) object for the UI element and collect more information.</span></span>

<span data-ttu-id="1476f-118">Por ejemplo, para notificar a los clientes que ha cambiado el nombre de un control, un servidor llama a [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) y pasa el [**objeto de evento \_ \_ NameChange (**](event-constants.md) en el parámetro de evento.</span><span class="sxs-lookup"><span data-stu-id="1476f-118">For example, to notify clients that a control's name has changed, a server calls [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) and passes [**EVENT\_OBJECT\_NAMECHANGE**](event-constants.md) in the event parameter.</span></span> <span data-ttu-id="1476f-119">El sistema responde determinando qué clientes se han registrado para recibir ese evento concreto y llama a su función de devolución de llamada registrada.</span><span class="sxs-lookup"><span data-stu-id="1476f-119">The system responds by determining which clients have registered to receive that particular event and calls their registered callback function.</span></span> <span data-ttu-id="1476f-120">Si no se ha registrado ningún cliente para el evento, la llamada del servidor a **NotifyWinEvent** es comparable a una "sin operación" y el impacto en el rendimiento es insignificante.</span><span class="sxs-lookup"><span data-stu-id="1476f-120">If no clients have registered for the event, the server's call to **NotifyWinEvent** is comparable to a "no operation" and the performance impact is negligible.</span></span>

<span data-ttu-id="1476f-121">Los servidores llaman a [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) para anunciar el evento al sistema después de que se haya producido el evento.</span><span class="sxs-lookup"><span data-stu-id="1476f-121">Servers call [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) to announce the event to the system after the event has occurred.</span></span> <span data-ttu-id="1476f-122">Nunca deben notificar al sistema de un evento antes de que se produzca el evento.</span><span class="sxs-lookup"><span data-stu-id="1476f-122">They must never notify the system of an event before the event occurs.</span></span>

<span data-ttu-id="1476f-123">Para recibir notificaciones de eventos, los clientes registran funciones de enlace de devolución de llamada mediante [**SetWinEventHook**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook).</span><span class="sxs-lookup"><span data-stu-id="1476f-123">To be notified of events, clients register callback hook functions by using [**SetWinEventHook**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook).</span></span> <span data-ttu-id="1476f-124">Los clientes establecen una única función de enlace para todos los posibles eventos o varias funciones de enlace para intervalos de eventos discretos.</span><span class="sxs-lookup"><span data-stu-id="1476f-124">Clients set a single hook function for all possible events or multiple hook functions for discrete ranges of events.</span></span> <span data-ttu-id="1476f-125">Para obtener más información, vea [registrar una función de enlace](registering-a-hook-function.md).</span><span class="sxs-lookup"><span data-stu-id="1476f-125">For more information, see [Registering a Hook Function](registering-a-hook-function.md).</span></span>

<span data-ttu-id="1476f-126">Cuando Microsoft Active Accessibility recibe una notificación de un evento, llama a las funciones de enlace que se registraron para ese evento, pasando a lo largo de los parámetros de [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent).</span><span class="sxs-lookup"><span data-stu-id="1476f-126">When Microsoft Active Accessibility is notified of an event, it calls any hook functions that were registered for that event, passing along the parameters from [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent).</span></span>

 

 




