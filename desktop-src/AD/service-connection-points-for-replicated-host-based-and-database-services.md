---
title: Puntos de conexión de servicio para servicios de base de datos, basados en host y replicados
description: Al publicar un servicio mediante un punto de conexión de servicio (SCP), tenga en cuenta cómo buscarán los clientes el SCP para su servicio.
ms.assetid: 944e8ecd-f8ea-4506-992c-bbbfc82d11f3
ms.tgt_platform: multiple
keywords:
- Puntos de conexión de servicio para AD replicado, basado en host y servicios de base de datos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 63b69491dd84a9367f8fd05e9d23ca771551dfbb
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2020
ms.locfileid: "104077493"
---
# <a name="service-connection-points-for-replicated-host-based-and-database-services"></a><span data-ttu-id="e70bc-104">Puntos de conexión de servicio para servicios de base de datos, basados en host y replicados</span><span class="sxs-lookup"><span data-stu-id="e70bc-104">Service Connection Points for Replicated, Host-based, and Database Services</span></span>

<span data-ttu-id="e70bc-105">Al publicar un servicio mediante un punto de conexión de servicio (SCP), tenga en cuenta cómo buscarán los clientes el SCP para su servicio.</span><span class="sxs-lookup"><span data-stu-id="e70bc-105">When you publish a service using a service connection point (SCP), consider how clients will locate the SCP for your service.</span></span> <span data-ttu-id="e70bc-106">Si existen varias instancias del servicio, tenga en cuenta cómo los clientes distinguirán el servicio con las características deseadas de servicios similares con características diferentes.</span><span class="sxs-lookup"><span data-stu-id="e70bc-106">If multiple instances of the service exist, consider how clients will distinguish the service with the desired features from similar services with different features.</span></span> <span data-ttu-id="e70bc-107">Si publica un servicio replicado, tenga en cuenta cómo un cliente elegirá una réplica.</span><span class="sxs-lookup"><span data-stu-id="e70bc-107">If you publish a replicated service, consider how a client will choose a replica.</span></span> <span data-ttu-id="e70bc-108">En este tema se describen estos problemas para diversos tipos de servicios.</span><span class="sxs-lookup"><span data-stu-id="e70bc-108">This topic discusses these issues for various types of services.</span></span>

## <a name="replicable-services"></a><span data-ttu-id="e70bc-109">Servicios replicables</span><span class="sxs-lookup"><span data-stu-id="e70bc-109">Replicable services</span></span>

<span data-ttu-id="e70bc-110">En el caso de un servicio replicable, puede haber una o varias instancias, o réplicas, del servicio y los clientes no se interesan a la réplica a la que se conectan, ya que cada una proporciona el mismo servicio.</span><span class="sxs-lookup"><span data-stu-id="e70bc-110">For a replicable service there can be one or many instances, or replicas, of the service, and clients do not care which replica they connect to because each provides the same service.</span></span> <span data-ttu-id="e70bc-111">Active Directory Domain Services son ejemplos de servicios replicados: todos los controladores de dominio de un dominio determinado contienen datos idénticos, están sujetos a la latencia de replicación y proporcionan servicios idénticos.</span><span class="sxs-lookup"><span data-stu-id="e70bc-111">Active Directory Domain Services are examples of replicated services: all domain controllers for a given domain hold identical data, subject to replication latency, and provide identical services.</span></span>

<span data-ttu-id="e70bc-112">Los servicios replicables pueden almacenar los SCP y otros objetos específicos del servicio para varias réplicas en un solo contenedor.</span><span class="sxs-lookup"><span data-stu-id="e70bc-112">Replicable services can store the SCPs and other service-specific objects for multiple replicas in a single container.</span></span> <span data-ttu-id="e70bc-113">La aplicación de instalación de la primera réplica puede crear el contenedor como un elemento secundario del contenedor System del dominio local.</span><span class="sxs-lookup"><span data-stu-id="e70bc-113">The setup application for the first replica can create the container as a child of the local domain's System container.</span></span> <span data-ttu-id="e70bc-114">Para obtener más información, vea [publicar en un contenedor de sistema de dominio](publishing-in-a-domain-system-container.md).</span><span class="sxs-lookup"><span data-stu-id="e70bc-114">For more information, see [Publishing in a Domain System Container](publishing-in-a-domain-system-container.md).</span></span> <span data-ttu-id="e70bc-115">Asegúrese de que el descriptor de seguridad del contenedor permita que los programas de instalación de las réplicas posteriores creen sus objetos en el mismo contenedor.</span><span class="sxs-lookup"><span data-stu-id="e70bc-115">Ensure that the security descriptor for your container allows the setup programs for subsequent replicas to create their objects in the same container.</span></span> <span data-ttu-id="e70bc-116">Conceda permisos para que el administrador de instalación especifique los usuarios o grupos que pueden crear o modificar objetos en el contenedor.</span><span class="sxs-lookup"><span data-stu-id="e70bc-116">Grant permissions for the installing administrator to specify the users or groups that can create or modify objects in the container.</span></span>

<span data-ttu-id="e70bc-117">Una estrategia para un servicio replicable es crear un SCP para cada réplica.</span><span class="sxs-lookup"><span data-stu-id="e70bc-117">One strategy for a replicable service is to create an SCP for each replica.</span></span> <span data-ttu-id="e70bc-118">Cuando un cliente consulta el GUID del producto del servicio u otra palabra clave de identificación, busca los objetos SCP para todas las réplicas y selecciona uno de forma aleatoria o con algún algoritmo de equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="e70bc-118">When a client queries for the service's product GUID or other identifying keyword, it finds the SCP objects for all replicas and selects one at random or using some load-balancing algorithm.</span></span> <span data-ttu-id="e70bc-119">Por ejemplo, un administrador puede especificar los datos de equilibrio de carga y prioridad para cada réplica, de forma similar a los campos de prioridad y peso de un registro SRV de DNS.</span><span class="sxs-lookup"><span data-stu-id="e70bc-119">For example, an administrator could specify priority and load-balancing data for each replica, similar to the priority and weight fields of a DNS SRV record.</span></span> <span data-ttu-id="e70bc-120">La aplicación de instalación del servicio puede almacenar estos datos en el atributo **serviceBindingInformation** del SCP de cada réplica.</span><span class="sxs-lookup"><span data-stu-id="e70bc-120">The service's setup application can store this data in the **serviceBindingInformation** attribute of each replica's SCP.</span></span> <span data-ttu-id="e70bc-121">Los clientes recuperan los datos de cada SCP y lo usan para seleccionar una réplica.</span><span class="sxs-lookup"><span data-stu-id="e70bc-121">Clients retrieve the data from each SCP and use it to select a replica.</span></span>

<span data-ttu-id="e70bc-122">Otra estrategia consiste en crear un único SCP para todas las réplicas y establecer el atributo SCP **serviceDNSName** en el nombre de un registro SRV de DNS.</span><span class="sxs-lookup"><span data-stu-id="e70bc-122">Another strategy is to create a single SCP for all replicas and set the SCP **serviceDNSName** attribute to the name of a DNS SRV record.</span></span> <span data-ttu-id="e70bc-123">A continuación, la aplicación de instalación de cada réplica registra un registro SRV con ese nombre.</span><span class="sxs-lookup"><span data-stu-id="e70bc-123">Then the setup application for each replica registers a SRV record with that name.</span></span> <span data-ttu-id="e70bc-124">Cuando un cliente identifica el SCP solitario del servicio, el cliente recupera el nombre del registro SRV y usa la función [**DnsQuery**](/windows/desktop/api/windns/nf-windns-dnsquery_a) para recuperar la matriz de registros SRV para las réplicas.</span><span class="sxs-lookup"><span data-stu-id="e70bc-124">When a client identifies the service's lone SCP, the client retrieves the name of the SRV record and uses the [**DnsQuery**](/windows/desktop/api/windns/nf-windns-dnsquery_a) function to retrieve the array of SRV records for the replicas.</span></span> <span data-ttu-id="e70bc-125">Cada registro SRV contiene el nombre de un equipo host y datos adicionales que el cliente puede usar para seleccionar una réplica.</span><span class="sxs-lookup"><span data-stu-id="e70bc-125">Each SRV record contains the name of a host computer and additional data that the client can use to select a replica.</span></span>

## <a name="database-services"></a><span data-ttu-id="e70bc-126">Servicios de base de datos</span><span class="sxs-lookup"><span data-stu-id="e70bc-126">Database services</span></span>

<span data-ttu-id="e70bc-127">Las distintas instancias de un servicio de base de datos pueden contener datos completamente diferentes, aunque son todo el tipo de servicio, normalmente denominado clase de servicio.</span><span class="sxs-lookup"><span data-stu-id="e70bc-127">Different instances of a database service may contain entirely different data, even though they are all the same kind of service, usually called service class.</span></span> <span data-ttu-id="e70bc-128">Para publicar este tipo de servicio, el atributo **Keywords** del SCP puede identificar la clase de servicio y la base de datos específica.</span><span class="sxs-lookup"><span data-stu-id="e70bc-128">To publish this kind of service, the **keywords** attribute of the SCP can identify both the service class and the specific database.</span></span> <span data-ttu-id="e70bc-129">Un cliente de uso general que conozca solo el GUID de la clase de servicio puede consultar todas las bases de datos publicadas por esa clase de servicio y, a continuación, presentar una interfaz de usuario para permitir que el usuario seleccione una.</span><span class="sxs-lookup"><span data-stu-id="e70bc-129">A general-purpose client that knows only the GUID of the service class can query for all databases published by that service class, and then present a user interface to allow the user to select one.</span></span> <span data-ttu-id="e70bc-130">Para un cliente que está diseñado específicamente para la base de datos de destino, puede codificar el GUID de la base de datos en el código de cliente.</span><span class="sxs-lookup"><span data-stu-id="e70bc-130">For a client that is designed specifically for the target database, you can hard-code the database GUID into the client code.</span></span>

## <a name="host-based-services"></a><span data-ttu-id="e70bc-131">Servicios basados en host</span><span class="sxs-lookup"><span data-stu-id="e70bc-131">Host-based services</span></span>

<span data-ttu-id="e70bc-132">Los servicios basados en host son servicios que están estrechamente vinculados a un único equipo host.</span><span class="sxs-lookup"><span data-stu-id="e70bc-132">Host-based services are services that are closely tied to a single host computer.</span></span> <span data-ttu-id="e70bc-133">Puede instalar instancias de la clase de servicio en muchos equipos y cada instancia proporciona servicios que se identifican con su equipo host.</span><span class="sxs-lookup"><span data-stu-id="e70bc-133">You can install instances of the service class on many computers and each instance provides services that are identified with its host computer.</span></span>

<span data-ttu-id="e70bc-134">Cada instancia de un servicio basado en host debe crear su propio SCP en el objeto de equipo de su host.</span><span class="sxs-lookup"><span data-stu-id="e70bc-134">Each instance of a host-based service should create its own SCP under the computer object of its host.</span></span> <span data-ttu-id="e70bc-135">Los clientes que usan un GUID de producto para buscar el SCP de un servicio basado en host suelen encontrar muchas instancias de la clase de servicio en todo el bosque de la empresa.</span><span class="sxs-lookup"><span data-stu-id="e70bc-135">Clients who use a product GUID to search for the SCP of a host-based service typically find many instances of the service class throughout the enterprise forest.</span></span> <span data-ttu-id="e70bc-136">Después, los clientes pueden usar el atributo **serviceDNSName** de los SCP para buscar el SCP de la instancia de servicio en el equipo host deseado.</span><span class="sxs-lookup"><span data-stu-id="e70bc-136">Clients can then use the **serviceDNSName** attribute of the SCPs to find the SCP for the service instance on the desired host computer.</span></span>

 

 