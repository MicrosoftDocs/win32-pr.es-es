---
description: Los componentes los definen y crean instancias de los escritores en su documento de metadatos del escritor como respuesta a un evento de identificación al inicio de una operación de copia de seguridad (Consulte información general sobre la inicialización de la copia de seguridad) cuando se rellena el documento de metadatos del escritor.
ms.assetid: 5e1c3f9b-ca83-4e70-963b-0a237c6f4b0d
title: Definición de componentes por escritores
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa5383e9bc87620f23bb2a3ab067c1913a323782
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103913381"
---
# <a name="definition-of-components-by-writers"></a><span data-ttu-id="54dc6-103">Definición de componentes por escritores</span><span class="sxs-lookup"><span data-stu-id="54dc6-103">Definition of Components by Writers</span></span>

<span data-ttu-id="54dc6-104">Los componentes los definen y crean instancias de los escritores en su documento de metadatos del escritor como respuesta a un [*evento de identificación*](vssgloss-i.md) al inicio de una operación de copia de seguridad (consulte [información general sobre la inicialización de la copia de seguridad](overview-of-backup-initialization.md)) cuando se rellena el documento de metadatos del escritor.</span><span class="sxs-lookup"><span data-stu-id="54dc6-104">Components are defined by and instantiated by writers in their Writer Metadata Document in response to an [*Identify event*](vssgloss-i.md) at the start of a backup operation (see [Overview of Backup Initialization](overview-of-backup-initialization.md)) when the Writer Metadata Document is populated.</span></span>

<span data-ttu-id="54dc6-105">Al crear un componente en su documento de metadatos de escritura, con [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) y [**IVssCreateWriterMetadata:: AddComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addcomponent), un escritor debe especificar:</span><span class="sxs-lookup"><span data-stu-id="54dc6-105">When creating a component in its Writer Metadata Document, using [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) and [**IVssCreateWriterMetadata::AddComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addcomponent), a writer must specify:</span></span>

-   <span data-ttu-id="54dc6-106">Si el componente es [ *seleccionable para copia de seguridad*](vssgloss-s.md)</span><span class="sxs-lookup"><span data-stu-id="54dc6-106">Whether the component is [*selectable for backup*](vssgloss-s.md)</span></span>
-   <span data-ttu-id="54dc6-107">Un tipo de componente</span><span class="sxs-lookup"><span data-stu-id="54dc6-107">A component type</span></span>
-   <span data-ttu-id="54dc6-108">Un nombre de componente (que debe ser único no solo dentro de una [*instancia de escritor*](vssgloss-w.md) determinada, sino en todas las instancias de escritor)</span><span class="sxs-lookup"><span data-stu-id="54dc6-108">A component name (which must be unique not only within a given [*writer instance*](vssgloss-w.md) but across all writer instances)</span></span>
-   <span data-ttu-id="54dc6-109">Si el componente tiene metadatos específicos del escritor asociados a él</span><span class="sxs-lookup"><span data-stu-id="54dc6-109">Whether the component has any writer-specific metadata associated with it</span></span>
-   <span data-ttu-id="54dc6-110">Si el escritor requiere una notificación después de una copia de seguridad correcta</span><span class="sxs-lookup"><span data-stu-id="54dc6-110">Whether the writer requires notification following a successful backup</span></span>

<span data-ttu-id="54dc6-111">Los escritores pueden especificar opcionalmente:</span><span class="sxs-lookup"><span data-stu-id="54dc6-111">Writers can optionally specify:</span></span>

-   <span data-ttu-id="54dc6-112">La ruta de [*acceso lógica*](vssgloss-l.md) de un componente (que debe ser única no solo dentro de una instancia de escritor determinada, sino en todas las instancias del escritor)</span><span class="sxs-lookup"><span data-stu-id="54dc6-112">A component's [*logical path*](vssgloss-l.md) (which must be unique not only within a given writer instance but across all writer instances)</span></span>
-   <span data-ttu-id="54dc6-113">Una descripción de componente (o título)</span><span class="sxs-lookup"><span data-stu-id="54dc6-113">A component description (or caption)</span></span>
-   <span data-ttu-id="54dc6-114">Un icono que se usará con las GUI para indicar el componente</span><span class="sxs-lookup"><span data-stu-id="54dc6-114">An icon to be used with GUIs to indicate the component</span></span>

<span data-ttu-id="54dc6-115">No es necesario que un componente contenga realmente ningún archivo.</span><span class="sxs-lookup"><span data-stu-id="54dc6-115">It is not necessary for a component to actually contain any files.</span></span> <span data-ttu-id="54dc6-116">Este tipo de componente vacío o "ficticio" puede ser útil para organizar los componentes.</span><span class="sxs-lookup"><span data-stu-id="54dc6-116">This sort of empty or "dummy" component can be useful in organizing components.</span></span> <span data-ttu-id="54dc6-117">Este componente se puede usar para definir un [*conjunto de componentes*](vssgloss-c.md) y un componente del escritor (consulte el apartado [de la acción lógica de los componentes](logical-pathing-of-components.md)).</span><span class="sxs-lookup"><span data-stu-id="54dc6-117">Such a component can be used to define a [*component set*](vssgloss-c.md) and a writer's component (see [Logical Pathing of Components](logical-pathing-of-components.md)).</span></span>

## <a name="setting-up-component-organization"></a><span data-ttu-id="54dc6-118">Configuración de la organización de componentes</span><span class="sxs-lookup"><span data-stu-id="54dc6-118">Setting Up Component Organization</span></span>

<span data-ttu-id="54dc6-119">La configuración de la [*selección*](vssgloss-s.md) de un componente (su [*selección para la copia de seguridad*](vssgloss-s.md)y su [*selección de restauración*](/windows)) y sus rutas de acceso [*lógicas*](vssgloss-l.md) permiten que un escritor exija o haga opcional la inclusión de determinados componentes en una operación de copia de seguridad o restauración, y para agrupar componentes en [*conjuntos de componentes*](vssgloss-c.md) con un componente seleccionable que actúe como punto de entrada para todo el grupo.</span><span class="sxs-lookup"><span data-stu-id="54dc6-119">Setting a component's [*selectability*](vssgloss-s.md) (its [*selectability for backup*](vssgloss-s.md), and its [*selectability for restore*](/windows)) and its [*logical paths*](vssgloss-l.md) allows a writer to mandate or make optional the inclusion of certain components in a backup or restore operation, and to group components into [*component sets*](vssgloss-c.md) with one selectable component acting as an entry point to the whole group.</span></span>

<span data-ttu-id="54dc6-120">La pertenencia a estas agrupaciones determina qué componentes se utilizarán durante las operaciones de copia de seguridad y restauración.</span><span class="sxs-lookup"><span data-stu-id="54dc6-120">Membership in these groupings determines which components will be used during backup and restore operations.</span></span> <span data-ttu-id="54dc6-121">Al usar "Selectable" para hacer que la operación de copia de seguridad sea seleccionable para la operación de copia de seguridad y Selectable para la restauración de la operación de restauración, los desarrolladores deben comprender lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="54dc6-121">Using "selectable" to mean selectable for back for backup operation, and selectable for restore for restore operation, developers should understand that:</span></span>

-   <span data-ttu-id="54dc6-122">Si se realiza una copia de seguridad de los componentes administrados por un escritor determinado, un solicitante debe [*incluir explícitamente*](vssgloss-e.md) todos los [*componentes*](vssgloss-c.md) no seleccionables sin antecesores seleccionables en su [*ruta de acceso lógica*](vssgloss-l.md) al documento componentes de copia de seguridad, así como realizar una copia de seguridad y restaurar esos componentes como un grupo.</span><span class="sxs-lookup"><span data-stu-id="54dc6-122">If any components managed by a given writer are backed up, then a requester must [*explicitly include*](vssgloss-e.md) all nonselectable [*components*](vssgloss-c.md) without selectable ancestors in their [*logical path*](vssgloss-l.md) to the Backup Components Document and back up and restore those components as a group.</span></span>
-   <span data-ttu-id="54dc6-123">Un solicitante tiene la opción de agregar explícitamente componentes seleccionables al documento componentes de copia de seguridad durante las operaciones de copia de seguridad y restauración. una vez agregado, se debe realizar una copia de seguridad o una restauración del componente.</span><span class="sxs-lookup"><span data-stu-id="54dc6-123">A requester has the option of explicitly adding selectable components to the Backup Components Document during backup and restore operations; once added, the component must be backed up or restored.</span></span>
-   <span data-ttu-id="54dc6-124">Si un componente es seleccionable, el componente y todos sus [*subcomponentes*](vssgloss-s.md) (como se define en rutas de acceso lógicas) forman un conjunto de componentes, que se puede tratar como una unidad única que puede participar opcionalmente en operaciones de copia de seguridad y restauración.</span><span class="sxs-lookup"><span data-stu-id="54dc6-124">If a component is selectable, the component and all of its [*subcomponents*](vssgloss-s.md) (as defined by logical paths) form a component set, which can be treated as a single unit that may optionally participate in backup and restore operations.</span></span>
-   <span data-ttu-id="54dc6-125">Un solicitante no agrega nunca explícitamente un componente no seleccionable con antecesores seleccionables, un subcomponente en un conjunto de componentes, a su documento componentes de copia de seguridad durante las operaciones de copia de seguridad y restauración.</span><span class="sxs-lookup"><span data-stu-id="54dc6-125">A requester never explicitly adds a nonselectable component with selectable ancestors, a subcomponent in a component set, to its Backup Components Document during backup and restore operations.</span></span> <span data-ttu-id="54dc6-126">Estos componentes se deben [*incluir implícitamente*](/windows) si su antecesor seleccionable se agrega explícitamente, en cuyo caso se deben realizar copias de seguridad o restaurar (consulte [uso de componentes por parte del solicitante](use-of-components-by-the-requestor.md)).</span><span class="sxs-lookup"><span data-stu-id="54dc6-126">These components must be [*implicitly included*](/windows) if their selectable ancestor is explicitly added, in which case they must be backed up or restored (see [Use of Components by the Requester](use-of-components-by-the-requestor.md)).</span></span>
-   <span data-ttu-id="54dc6-127">Un componente seleccionable con un antecesor seleccionable sigue siendo un [*subcomponente*](vssgloss-s.md) (un miembro de un conjunto de componentes) y puede incluirse implícitamente si su antecesor seleccionable se incluye explícitamente en la operación.</span><span class="sxs-lookup"><span data-stu-id="54dc6-127">A selectable component with a selectable ancestor is still a [*subcomponent*](vssgloss-s.md) (a member of a component set) and may be implicitly included if its selectable ancestor is explicitly included in the operation.</span></span> <span data-ttu-id="54dc6-128">En este caso, su información no se agrega al documento componentes de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="54dc6-128">In this case, its information is not added to the Backup Components Document.</span></span> <span data-ttu-id="54dc6-129">Si su antecesor seleccionable no se incluye en la operación, el componente se puede seleccionar explícitamente para su inclusión en la operación, en cuyo caso su información se incluye en el documento componentes de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="54dc6-129">If its selectable ancestor is not included in the operation, the component can be explicitly selected for inclusion in the operation, in which case its information is included in the Backup Components Document.</span></span>
-   <span data-ttu-id="54dc6-130">Un subcomponente incluido implícitamente en una copia de seguridad se puede incluir explícitamente en una operación de restauración, independientemente del estado de cualquier antecesor seleccionable, si es seleccionable para la restauración.</span><span class="sxs-lookup"><span data-stu-id="54dc6-130">A subcomponent implicitly included in a backup can be explicitly included in a restore operation, regardless of the status of any selectable ancestor, if it is selectable for restore.</span></span> <span data-ttu-id="54dc6-131">Cualquier subcomponente seleccionable para restauración incluido durante una operación de restauración debe agregar su información al documento componentes de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="54dc6-131">Any selectable for restore subcomponent included during a restore operation must have its information added to the Backup Components Document.</span></span>
-   <span data-ttu-id="54dc6-132">Un escritor que no ha agregado explícitamente ningún componente al documento de componentes de copia de seguridad antes de la generación de eventos de [*PrepareForBackup*](vssgloss-p.md) y [*prerestore*](vssgloss-p.md) no recibirá más eventos de VSS.</span><span class="sxs-lookup"><span data-stu-id="54dc6-132">A writer that has had no component explicitly added to the Backup Components Document prior to the generation of [*PrepareForBackup*](vssgloss-p.md) and [*PreRestore*](vssgloss-p.md) events will not receive any further VSS events.</span></span>

<span data-ttu-id="54dc6-133">Para obtener más información, vea [trabajar con la selección y las rutas de acceso lógicas](working-with-selectability-and-logical-paths.md).</span><span class="sxs-lookup"><span data-stu-id="54dc6-133">For more information, see [Working with Selectability and Logical Paths](working-with-selectability-and-logical-paths.md).</span></span>

## <a name="adding-files-to-a-component"></a><span data-ttu-id="54dc6-134">Agregar archivos a un componente</span><span class="sxs-lookup"><span data-stu-id="54dc6-134">Adding Files to a Component</span></span>

<span data-ttu-id="54dc6-135">Un componente contiene información de archivo en forma de un [*conjunto de archivos*](vssgloss-f.md) que contiene:</span><span class="sxs-lookup"><span data-stu-id="54dc6-135">A component contains file information in the form of a [*file set*](vssgloss-f.md) that contains:</span></span>

-   <span data-ttu-id="54dc6-136">Directorio raíz de los archivos del componente.</span><span class="sxs-lookup"><span data-stu-id="54dc6-136">A root directory of the files in the component.</span></span>
-   <span data-ttu-id="54dc6-137">Especificación de archivo para los archivos del componente.</span><span class="sxs-lookup"><span data-stu-id="54dc6-137">A file specification for the files in the component.</span></span>
-   <span data-ttu-id="54dc6-138">Marca que indica si la especificación del componente es recursiva.</span><span class="sxs-lookup"><span data-stu-id="54dc6-138">A flag that indicates whether the component's specification is recursive.</span></span>

<span data-ttu-id="54dc6-139">Dependiendo del tipo de componente, que puede ser una base de datos o un grupo de archivos, y (en el caso de los componentes de base de datos) si los archivos que se van a cargar son archivos de datos o de registro, un escritor llama a [**IVssCreateWriterMetadata:: AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup), [**IVssCreateWriterMetadata:: AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles)o [**IVssCreateWriterMetadata:: AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) para agregar un conjunto de archivos.</span><span class="sxs-lookup"><span data-stu-id="54dc6-139">Depending on component type, which can be a database or a file group, and (in the case of database components) whether the files to be loaded are data or log files, a writer calls [**IVssCreateWriterMetadata::AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup), [**IVssCreateWriterMetadata::AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), or [**IVssCreateWriterMetadata::AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) to add a file set.</span></span>

<span data-ttu-id="54dc6-140">Al usar estas funciones, debe especificar los archivos que se van a agregar al conjunto de archivos como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="54dc6-140">When using these functions, you should specify the files to be added to the file set as follows:</span></span>

-   <span data-ttu-id="54dc6-141">*wszPath*: esta es la ruta de acceso al directorio que contiene los archivos que se van a agregar al conjunto de archivos.</span><span class="sxs-lookup"><span data-stu-id="54dc6-141">*wszPath*: This is the path to the directory that contains the files to be added to the file set.</span></span> <span data-ttu-id="54dc6-142">Si el parámetro *bRecursive* se establece en **true**, el parámetro *wszPath* especifica una jerarquía de directorios que se va a recorrer de forma recursiva y se deben volver a crear todos los directorios, incluidos los directorios vacíos.</span><span class="sxs-lookup"><span data-stu-id="54dc6-142">If the *bRecursive* parameter is set to **true**, the *wszPath* parameter specifies a hierarchy of directories to be traversed recursively, and all directories should be recreated, including empty directories.</span></span>
-   <span data-ttu-id="54dc6-143">*wszFilespec*: esta cadena especifica los archivos de cada directorio que se van a agregar al conjunto de archivos.</span><span class="sxs-lookup"><span data-stu-id="54dc6-143">*wszFilespec*: This string specifies the files in each directory to be added to the file set.</span></span>

<span data-ttu-id="54dc6-144">Por ejemplo, supongamos que existe la siguiente estructura de directorios:</span><span class="sxs-lookup"><span data-stu-id="54dc6-144">For example, suppose the following directory structure exists:</span></span>

<dl> <span data-ttu-id="54dc6-145">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-145">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="54dc6-146">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-146">C:\\Directory1\\File2.txt</span></span>  
<span data-ttu-id="54dc6-147">C: \\ Directory1 \\ Directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-147">C:\\Directory1\\Directory2\\File1.txt</span></span>  
<span data-ttu-id="54dc6-148">C: \\ Directory1 \\ Directory2 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-148">C:\\Directory1\\Directory2\\File2.txt</span></span>  
<span data-ttu-id="54dc6-149">C: \\ Directory1 \\ Directory3</span><span class="sxs-lookup"><span data-stu-id="54dc6-149">C:\\Directory1\\Directory3</span></span>\\  
</dl>

<span data-ttu-id="54dc6-150">Si el escritor especifica "C: \\ Directory1" para *wszPath*, "archivo1. \* " para *wszFilespec* y **true** para *bRecursive*, el solicitante debe incluir estos archivos:</span><span class="sxs-lookup"><span data-stu-id="54dc6-150">If the writer specifies "C:\\Directory1" for *wszPath*, "File1.\*" for *wszFilespec*, and **true** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="54dc6-151">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-151">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="54dc6-152">C: \\ Directory1 \\ Directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-152">C:\\Directory1\\Directory2\\File1.txt</span></span>  
</dl>

<span data-ttu-id="54dc6-153">Si en su lugar el escritor especifica "C: \\ Directory1" para *wszPath*, \* "" para *wszFilespec* y **true** para *bRecursive*, el solicitante debe incluir estos archivos:</span><span class="sxs-lookup"><span data-stu-id="54dc6-153">If the writer instead specifies "C:\\Directory1" for *wszPath*, "\*" for *wszFilespec*, and **true** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="54dc6-154">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-154">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="54dc6-155">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-155">C:\\Directory1\\File2.txt</span></span>  
<span data-ttu-id="54dc6-156">C: \\ Directory1 \\ Directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-156">C:\\Directory1\\Directory2\\File1.txt</span></span>  
<span data-ttu-id="54dc6-157">C: \\ Directory1 \\ Directory2 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-157">C:\\Directory1\\Directory2\\File2.txt</span></span>  
</dl>

<span data-ttu-id="54dc6-158">Si el escritor especifica "C: \\ Directory1" para *wszPath*, " \* " para *wszFilespec* y **false** para *bRecursive*, el solicitante debe incluir estos archivos:</span><span class="sxs-lookup"><span data-stu-id="54dc6-158">If the writer specifies "C:\\Directory1" for *wszPath*, "\*" for *wszFilespec*, and **false** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="54dc6-159">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-159">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="54dc6-160">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="54dc6-160">C:\\Directory1\\File2.txt</span></span>  
</dl>

<span data-ttu-id="54dc6-161">En todos los ejemplos anteriores, siempre que el escritor especifique **true** para *bRecursive*, \\ \\ se debe volver a crear el directorio vacío C: Directory1 Directory3 \\ .</span><span class="sxs-lookup"><span data-stu-id="54dc6-161">In all of the preceding examples, whenever the writer specifies **true** for *bRecursive*, the empty directory C:\\Directory1\\Directory3\\ should be recreated.</span></span>

<span data-ttu-id="54dc6-162">Para un conjunto de archivos agregado a un componente de grupo de archivos, en los casos en los que los archivos que se encuentran actualmente en el disco no están en lo que el escritor consideraría la ubicación adecuada o predeterminada, un escritor tiene la opción de agregar una ruta de acceso alternativa.</span><span class="sxs-lookup"><span data-stu-id="54dc6-162">For a file set added to a file group component, in cases where files currently on disk are not in what the writer would consider the appropriate or default location, a writer has the option of adding an alternate path.</span></span> <span data-ttu-id="54dc6-163">En estos casos, la definición del conjunto de archivos de la ruta de acceso contiene la ubicación normal de los archivos y el lugar donde se deben restaurar los archivos, mientras que la ruta de acceso alternativa contiene la ubicación actual de los archivos de los que se va a hacer una copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="54dc6-163">In these cases, the file set's definition of the path contains the normal location of the files and to where files should be restored, while the alternate path contains the current location of files to be backed up.</span></span>

<span data-ttu-id="54dc6-164">Todos los archivos del conjunto de archivos deben existir en el momento de la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="54dc6-164">All files in the file set must exist at the time of the backup.</span></span> <span data-ttu-id="54dc6-165">Los solicitantes deben suponer que todos los archivos enumerados en el conjunto de archivos son necesarios para la copia de seguridad y que no se realizará la copia de seguridad si faltan archivos.</span><span class="sxs-lookup"><span data-stu-id="54dc6-165">Requesters must assume that all files listed in the file set are required for the backup and will fail the backup if any files are missing.</span></span> <span data-ttu-id="54dc6-166">Tenga en cuenta que cuando \* se especifica "" para el parámetro *wszFilespec* , puede coincidir con cero o más archivos.</span><span class="sxs-lookup"><span data-stu-id="54dc6-166">Note that when "\*" is specified for the *wszFilespec* parameter, it can match zero or more files.</span></span>

<span data-ttu-id="54dc6-167">Tenga en cuenta que estos atributos de documento de metadatos de escritor como asignaciones de ubicación alternativas, archivos incluidos y excluidos explícitamente y métodos de restauración se establecen en el nivel del escritor, no en el nivel de componente.</span><span class="sxs-lookup"><span data-stu-id="54dc6-167">Note that such Writer Metadata Document attributes as alternate location mappings, explicitly included and excluded files, and restore methods are set at the writer level, not the component level.</span></span> <span data-ttu-id="54dc6-168">(Para obtener más información, vea [trabajar con el documento de metadatos del escritor](working-with-the-writer-metadata-document.md)).</span><span class="sxs-lookup"><span data-stu-id="54dc6-168">(For more information, see [Working with the Writer Metadata Document](working-with-the-writer-metadata-document.md).)</span></span>

## <a name="component-definition-for-backup-and-restore-operations"></a><span data-ttu-id="54dc6-169">Definición de componentes para operaciones de copia de seguridad y restauración</span><span class="sxs-lookup"><span data-stu-id="54dc6-169">Component Definition for Backup and Restore Operations</span></span>

<span data-ttu-id="54dc6-170">Las operaciones de restauración y de copia de seguridad generan necesariamente un [*evento de identificación*](vssgloss-i.md)y, para las copias de seguridad y las restauraciones, se controlarán mediante el mismo método [**CVssWriter::**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) .</span><span class="sxs-lookup"><span data-stu-id="54dc6-170">Both restore and backup operations necessarily generate an [*Identify event*](vssgloss-i.md), and for both backups and restores it will be handled by the same [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) method.</span></span>

<span data-ttu-id="54dc6-171">Durante las operaciones de copia de seguridad, los solicitantes utilizan la información devuelta por los métodos [**CVssWriter::**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) de un escritor para determinar qué escritores están presentes en el sistema y, a continuación, determinar de qué archivos se debe hacer una copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="54dc6-171">During backup operations, requesters use the information returned by a writer's [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) methods to determine which writers are present on the system and then to determine which of their files to back up.</span></span>

<span data-ttu-id="54dc6-172">Durante las operaciones de restauración, la información devuelta por el evento [**CVssWriter:: he Identify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) de un escritor se utiliza únicamente para establecer la identidad y el estado de los escritores actualmente presentes en el sistema. no se utiliza la información de especificación de archivo generada durante una restauración.</span><span class="sxs-lookup"><span data-stu-id="54dc6-172">During restore operations, the information returned by a writer's [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) event is used only to establish the identity and status of writers currently present on the system; the file specification information generated during a restore is not used.</span></span> <span data-ttu-id="54dc6-173">En su lugar, los documentos de metadatos de escritor almacenados en el momento de la copia de seguridad se usan para obtener estos datos.</span><span class="sxs-lookup"><span data-stu-id="54dc6-173">Instead, Writer Metadata Documents stored at backup time are used to obtain this data.</span></span>

<span data-ttu-id="54dc6-174">Una vez que se genera durante una operación de copia de seguridad, se guarda la información del componente de escritor, junto con el resto de la información del escritor, para que se recupere para admitir las operaciones de restauración.</span><span class="sxs-lookup"><span data-stu-id="54dc6-174">Once generated during a backup operation, the writer component information, along with the rest of the writer information, is saved to be retrieved to support restore operations.</span></span> <span data-ttu-id="54dc6-175">Normalmente, es responsabilidad del solicitante almacenar esta información.</span><span class="sxs-lookup"><span data-stu-id="54dc6-175">It is typically the responsibility of the requester to store this information.</span></span>

 

 
