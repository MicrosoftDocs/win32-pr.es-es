---
title: Reproducción de archivos de un origen de red
description: Reproducción de archivos de un origen de red
ms.assetid: 72f2d685-56fc-4da2-8372-3774cc65f59d
keywords:
- SDK de Windows Media Format, lectura de datos ASF
- SDK de Windows Media Format, reproducir archivos de orígenes de red
- Advanced Systems Format (ASF), lectura de datos
- ASF (formato de sistemas avanzados), lectura de datos
- Advanced Systems Format (ASF), reproducir archivos de orígenes de red
- ASF (formato de sistemas avanzados), reproducir archivos de orígenes de red
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8f1e4e41ddf94498ddeddf90e64439c1b11b7ba8
ms.sourcegitcommit: ad672d3a10192c5ccac619ad2524407109266e93
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/25/2020
ms.locfileid: "105704924"
---
# <a name="playing-files-from-a-network-source"></a><span data-ttu-id="b79d4-109">Reproducción de archivos de un origen de red</span><span class="sxs-lookup"><span data-stu-id="b79d4-109">Playing Files from a Network Source</span></span>

<span data-ttu-id="b79d4-110">Leer desde una red no es fundamentalmente diferente de leer un archivo local.</span><span class="sxs-lookup"><span data-stu-id="b79d4-110">Reading from a network is not fundamentally different from reading a local file.</span></span> <span data-ttu-id="b79d4-111">La aplicación pasa la dirección URL al método [**IWMReader:: Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) del objeto lector y el objeto lector controla los detalles de los protocolos de red.</span><span class="sxs-lookup"><span data-stu-id="b79d4-111">The application passes the URL to the reader object's [**IWMReader::Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) method, and the reader object handles the details of the network protocols.</span></span> <span data-ttu-id="b79d4-112">El objeto lector utiliza la administración de búfer inteligente para proporcionar la reproducción más fluida posible.</span><span class="sxs-lookup"><span data-stu-id="b79d4-112">The reader object uses intelligent buffer management to provide the smoothest playback possible.</span></span> <span data-ttu-id="b79d4-113">Si la aplicación necesita más control sobre la configuración de red del objeto del lector, estas están disponibles a través de las interfaces [**IWMReaderNetworkConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig) y [**IWMReaderNetworkConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig2) .</span><span class="sxs-lookup"><span data-stu-id="b79d4-113">If the application needs more control over the reader object's network settings, these are available through the [**IWMReaderNetworkConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig) and [**IWMReaderNetworkConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig2) interfaces.</span></span>

<span data-ttu-id="b79d4-114">El contenido de un origen de red se divide en una de las dos categorías siguientes:</span><span class="sxs-lookup"><span data-stu-id="b79d4-114">Content from a network source falls into one of the following two categories:</span></span>

-   <span data-ttu-id="b79d4-115">Difusión.</span><span class="sxs-lookup"><span data-stu-id="b79d4-115">Streaming.</span></span> <span data-ttu-id="b79d4-116">Los datos se transmiten justo a tiempo para reproducirse en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="b79d4-116">The data is transmitted just in time to be played on the local machine.</span></span> <span data-ttu-id="b79d4-117">Los servidores que ejecutan Windows Media Services pueden proporcionar datos de streaming.</span><span class="sxs-lookup"><span data-stu-id="b79d4-117">Servers running Windows Media Services can provide streaming data.</span></span> <span data-ttu-id="b79d4-118">Si el contenido de la velocidad de bits múltiple (MBR) se transmite, el cliente puede solicitar una velocidad de bits diferente del servidor a medida que progresa el streaming.</span><span class="sxs-lookup"><span data-stu-id="b79d4-118">If multiple bit rate (MBR) content is streamed, the client can request a different bit rate from the server as streaming progresses.</span></span>
-   <span data-ttu-id="b79d4-119">Fiere.</span><span class="sxs-lookup"><span data-stu-id="b79d4-119">Downloaded.</span></span> <span data-ttu-id="b79d4-120">Todos los datos se transmiten lo más rápido posible para que se puedan guardar como un archivo en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="b79d4-120">All the data is transmitted as quickly as possible so that it can be saved as a file on the local machine.</span></span> <span data-ttu-id="b79d4-121">Los servidores Web proporcionan datos descargados.</span><span class="sxs-lookup"><span data-stu-id="b79d4-121">Web servers provide downloaded data.</span></span> <span data-ttu-id="b79d4-122">No hay ninguna comunicación desde el cliente al servidor una vez iniciada la descarga.</span><span class="sxs-lookup"><span data-stu-id="b79d4-122">There is no communication from the client to the server after the download begins.</span></span>

<span data-ttu-id="b79d4-123">Cuando el objeto lector descarga un archivo de un servidor Web, usa una técnica denominada transmisión por secuencias progresiva, que permite que un reproductor empiece a representar el contenido antes de que se complete la descarga.</span><span class="sxs-lookup"><span data-stu-id="b79d4-123">When the reader object downloads a file from a Web server, it uses a technique called progressive streaming, which allows a player to begin rendering the content before downloading is complete.</span></span> <span data-ttu-id="b79d4-124">Los datos se almacenan en búfer para proporcionar un flujo de datos ininterrumpido al reproductor.</span><span class="sxs-lookup"><span data-stu-id="b79d4-124">Data is buffered to provide an uninterrupted flow of data to the player.</span></span> <span data-ttu-id="b79d4-125">La información como la velocidad de transferencia y la duración del contenido se usa para determinar durante cuánto tiempo se almacenan en búfer los datos antes de enviarlos al reproductor.</span><span class="sxs-lookup"><span data-stu-id="b79d4-125">Information such as the transfer rate and duration of the content is used to determine how long to buffer the data before giving it to the player.</span></span>

<span data-ttu-id="b79d4-126">Para abrir un archivo o una secuencia a través de una red, llame al método **IWMReader:: Open** del objeto lector con la dirección URL adecuada.</span><span class="sxs-lookup"><span data-stu-id="b79d4-126">To open a file or stream over a network, call the reader object's **IWMReader::Open** method with the appropriate URL.</span></span> <span data-ttu-id="b79d4-127">**Open** es una llamada asincrónica, por lo que se devuelve inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="b79d4-127">**Open** is an asynchronous call, so it returns immediately.</span></span> <span data-ttu-id="b79d4-128">Cuando el origen está listo para la lectura, el objeto de lectura envía una \_ notificación abierta de WMT al método de devolución de llamada [**IWMStatusCallback::**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) en el estado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b79d4-128">When the source is ready for reading, the reader object sends a WMT\_OPENED notification to the application's [**IWMStatusCallback::OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) callback method.</span></span> <span data-ttu-id="b79d4-129">En este punto, la aplicación puede consultar el lector para el modo de entrega mediante una llamada a [**IWMReaderAdvanced2:: GetPlayMode**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode).</span><span class="sxs-lookup"><span data-stu-id="b79d4-129">At this point, the application can query the reader for the delivery mode by calling [**IWMReaderAdvanced2::GetPlayMode**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode).</span></span> <span data-ttu-id="b79d4-130">Para el contenido de la red, este método devolverá la \_ \_ descarga del modo de reproducción WMT \_ , indicando el contenido descargado o el \_ \_ modo de reproducción WMT \_ , que indica el contenido transmitido por secuencias.</span><span class="sxs-lookup"><span data-stu-id="b79d4-130">For network content, this method will return either WMT\_PLAY\_MODE\_DOWNLOAD, indicating downloaded content, or WMT\_PLAY\_MODE\_STREAMING, indicating streamed content.</span></span>

<span data-ttu-id="b79d4-131">Para empezar a leer el archivo o la secuencia, llame al método [**IWMReader:: Start**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-start) .</span><span class="sxs-lookup"><span data-stu-id="b79d4-131">To begin reading the file or stream, call the [**IWMReader::Start**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-start) method.</span></span> <span data-ttu-id="b79d4-132">El lector envía una notificación de inicio del almacenamiento en búfer de WMT \_ \_ cuando comienza a almacenar en búfer el contenido y una notificación de detención del almacenamiento en búfer de WMT \_ \_ cuando se completa el almacenamiento en búfer.</span><span class="sxs-lookup"><span data-stu-id="b79d4-132">The reader sends a WMT\_BUFFERING\_START notification when it starts to buffer the content, and a WMT\_BUFFERING\_STOP notification when buffering is complete.</span></span> <span data-ttu-id="b79d4-133">Mientras el lector almacena en búfer el contenido (es decir, entre estas dos notificaciones), es posible que desee mostrar el progreso del almacenamiento en búfer al usuario.</span><span class="sxs-lookup"><span data-stu-id="b79d4-133">While the reader is buffering content (that is, between these two notifications), you might want to display the buffering progress to the user.</span></span> <span data-ttu-id="b79d4-134">El método [**IWMReaderAdvanced2:: GetBufferProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress) devuelve el porcentaje de datos que se han almacenado en búfer y el tiempo estimado que queda.</span><span class="sxs-lookup"><span data-stu-id="b79d4-134">The [**IWMReaderAdvanced2::GetBufferProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress) method returns the percentage of data that has been buffered and the estimated time that remains.</span></span> <span data-ttu-id="b79d4-135">Para el contenido descargado, también puede llamar a [**IWMReaderAdvanced2:: GetDownloadProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress) para obtener el progreso de la descarga.</span><span class="sxs-lookup"><span data-stu-id="b79d4-135">For downloaded content, you can also call [**IWMReaderAdvanced2::GetDownloadProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress) to get the download progress.</span></span> <span data-ttu-id="b79d4-136">Llame a estos métodos varias veces para actualizar la pantalla hasta que se haya completado el almacenamiento en búfer.</span><span class="sxs-lookup"><span data-stu-id="b79d4-136">Call these methods repeatedly to update your display, until buffering has completed.</span></span> <span data-ttu-id="b79d4-137">El almacenamiento en búfer puede producirse de nuevo durante la reproducción, debido a factores como la congestión de la red.</span><span class="sxs-lookup"><span data-stu-id="b79d4-137">Buffering can occur again during playback, due to factors such as network congestion.</span></span> <span data-ttu-id="b79d4-138">Si esto ocurre, la aplicación recibe otra notificación de inicio del almacenamiento en búfer de WMT \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="b79d4-138">If this occurs, the application receives another WMT\_BUFFERING\_START notification.</span></span>

<span data-ttu-id="b79d4-139">Cuando el objeto lector comienza a reproducir el contenido, envía una notificación de \_ Inicio de WMT.</span><span class="sxs-lookup"><span data-stu-id="b79d4-139">When the reader object begins to play the content, it sends a WMT\_STARTED notification.</span></span> <span data-ttu-id="b79d4-140">Como cada ejemplo está descodificado y está disponible para la representación, el lector lo pasa a la aplicación a través del método de devolución de llamada [**IWMReaderCallback::**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample) OnRender.</span><span class="sxs-lookup"><span data-stu-id="b79d4-140">As each sample is decoded and becomes available for rendering, the reader passes it to the application through the [**IWMReaderCallback::OnSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample) callback method.</span></span> <span data-ttu-id="b79d4-141">En este momento, el proceso es el mismo que para la reproducción de archivos locales.</span><span class="sxs-lookup"><span data-stu-id="b79d4-141">At this point, the process is the same as it is for local file playback.</span></span> <span data-ttu-id="b79d4-142">Cuando se detiene la reproducción, el lector envía un \_ final \_ de la \_ notificación de streaming de WMT.</span><span class="sxs-lookup"><span data-stu-id="b79d4-142">When playback stops, the reader sends a WMT\_END\_OF\_STREAMING notification.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b79d4-143">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="b79d4-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b79d4-144">**Leer archivos ASF**</span><span class="sxs-lookup"><span data-stu-id="b79d4-144">**Reading ASF Files**</span></span>](reading-asf-files.md)
</dt> </dl>

 

 




