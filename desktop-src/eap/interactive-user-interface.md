---
title: Interfaz de usuario interactiva
description: El proveedor que implementa el protocolo de autenticación también puede proporcionar una interfaz de usuario (UI) interactiva para el protocolo.
ms.assetid: 4f8ba0a4-3b52-4e7c-9e67-748f8d81d7a2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 761799969f4e439a65534ab551f09b3788e95ba7
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "105714357"
---
# <a name="interactive-user-interface"></a><span data-ttu-id="17a96-103">Interfaz de usuario interactiva</span><span class="sxs-lookup"><span data-stu-id="17a96-103">Interactive User Interface</span></span>

<span data-ttu-id="17a96-104">El proveedor que implementa el protocolo de autenticación también puede proporcionar una interfaz de usuario (UI) interactiva para el protocolo.</span><span class="sxs-lookup"><span data-stu-id="17a96-104">The vendor that implements the authentication protocol may also provide an interactive user interface (UI) for the protocol.</span></span> <span data-ttu-id="17a96-105">La interfaz de usuario interactiva permite que el protocolo de autenticación obtenga información adicional del usuario según sea necesario durante el transcurso de la sesión de autenticación.</span><span class="sxs-lookup"><span data-stu-id="17a96-105">The interactive UI allows the authentication protocol to obtain additional information from the user as needed during the course of the authentication session.</span></span>

<span data-ttu-id="17a96-106">La interfaz de usuario interactiva se puede implementar en el mismo archivo DLL que el protocolo de autenticación o en un archivo DLL independiente.</span><span class="sxs-lookup"><span data-stu-id="17a96-106">The interactive UI can be implemented in the same DLL as the authentication protocol or in a separate DLL.</span></span> <span data-ttu-id="17a96-107">Además, el archivo DLL que implementa la interfaz de usuario interactiva puede admitir más de un protocolo de autenticación.</span><span class="sxs-lookup"><span data-stu-id="17a96-107">Also, the DLL that implements the interactive UI can support more than one authentication protocol.</span></span> <span data-ttu-id="17a96-108">La ruta de acceso al archivo DLL para la interfaz de usuario interactiva se almacena en el valor del registro [ras \_ EAP \_ ValueName \_ INTERACTIVEUI](authentication-protocol-registry-values.md) , en la clave del Protocolo de autenticación.</span><span class="sxs-lookup"><span data-stu-id="17a96-108">The path to the DLL for the interactive UI is stored in the [RAS\_EAP\_VALUENAME\_INTERACTIVEUI](authentication-protocol-registry-values.md) registry value, under the key for the authentication protocol.</span></span> <span data-ttu-id="17a96-109">Para obtener más información acerca de cómo crear este valor del registro, vea [instalación de EAP](eap-installation.md).</span><span class="sxs-lookup"><span data-stu-id="17a96-109">For more information about creating this registry value, see [EAP Installation](eap-installation.md).</span></span>

<span data-ttu-id="17a96-110">El archivo DLL de la interfaz de usuario interactiva debe exportar puntos de entrada para las siguientes funciones:</span><span class="sxs-lookup"><span data-stu-id="17a96-110">The DLL for the interactive UI should export entry points for the following functions:</span></span><dl>

[<span data-ttu-id="17a96-111">**RasEapInvokeInteractiveUI**</span><span class="sxs-lookup"><span data-stu-id="17a96-111">**RasEapInvokeInteractiveUI**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeinteractiveui)  
[<span data-ttu-id="17a96-112">**RasEapFreeMemory**</span><span class="sxs-lookup"><span data-stu-id="17a96-112">**RasEapFreeMemory**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory)  
</dl>

<span data-ttu-id="17a96-113">La interfaz de usuario interactiva debe admitir mensajes de [**\_ comandos de WM**](../menurc/wm-command.md) en los que [**LOWORD**](/previous-versions/windows/desktop/legacy/ms632659(v=vs.85))(*wParam*) es igual a IDCANCEL.</span><span class="sxs-lookup"><span data-stu-id="17a96-113">The interactive user interface must support [**WM\_COMMAND**](../menurc/wm-command.md) messages where [**LOWORD**](/previous-versions/windows/desktop/legacy/ms632659(v=vs.85))(*wParam*) equals IDCANCEL.</span></span>

<span data-ttu-id="17a96-114">Para mostrar la interfaz de usuario interactiva, el protocolo de autenticación debe establecer el miembro **fInvokeInteractiveUI** de la estructura de [**\_ \_ salida EAP de PPP**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_output) en **true**.</span><span class="sxs-lookup"><span data-stu-id="17a96-114">To display the interactive UI, the authentication protocol should set the **fInvokeInteractiveUI** member of the [**PPP\_EAP\_OUTPUT**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_output) structure to **TRUE**.</span></span> <span data-ttu-id="17a96-115">Opcionalmente, el protocolo de autenticación también puede establecer los miembros **pUIContextData** y **dwSizeOfUIContextData** en **true** .</span><span class="sxs-lookup"><span data-stu-id="17a96-115">The authentication protocol may optionally set the **pUIContextData** and **dwSizeOfUIContextData** members to **TRUE** as well.</span></span> <span data-ttu-id="17a96-116">El servicio de autenticación usa los valores de estos miembros para pasar datos de contexto a la interfaz de usuario interactiva.</span><span class="sxs-lookup"><span data-stu-id="17a96-116">The authentication service uses the values of these members to pass context data to the interactive UI.</span></span> <span data-ttu-id="17a96-117">El protocolo de autenticación devuelve la estructura de **\_ \_ salida EAP de PPP** como parámetro en la función [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="17a96-117">The authentication protocol returns the **PPP\_EAP\_OUTPUT** structure as a parameter in the [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)) function.</span></span>

<span data-ttu-id="17a96-118">El servicio de autenticación invoca la interfaz de usuario interactiva mediante una llamada a [**RasEapInvokeInteractiveUI**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeinteractiveui).</span><span class="sxs-lookup"><span data-stu-id="17a96-118">The authentication service invokes the interactive UI by calling [**RasEapInvokeInteractiveUI**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapinvokeinteractiveui).</span></span> <span data-ttu-id="17a96-119">A continuación, el servicio pasa el protocolo de autenticación un puntero a los datos devueltos por la interfaz de usuario interactiva en la siguiente llamada a [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="17a96-119">The service then passes the authentication protocol a pointer to the data returned by the interactive UI in the subsequent call to [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)).</span></span> <span data-ttu-id="17a96-120">El puntero se pasa como un miembro de una estructura de [**\_ \_ entrada EAP de PPP**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) .</span><span class="sxs-lookup"><span data-stu-id="17a96-120">The pointer is passed as a member of a [**PPP\_EAP\_INPUT**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) structure.</span></span> <span data-ttu-id="17a96-121">Una vez que **RasEapMakeMessage** devuelve, el servicio llama a [**RasEapFreeMemory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) para liberar la memoria ocupada por la información.</span><span class="sxs-lookup"><span data-stu-id="17a96-121">After **RasEapMakeMessage** returns, the service calls [**RasEapFreeMemory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) to free the memory occupied by the information.</span></span> <span data-ttu-id="17a96-122">Por lo tanto, el protocolo de autenticación debe copiar la información en un búfer de memoria privado durante la llamada a **RasEapMakeMessage**.</span><span class="sxs-lookup"><span data-stu-id="17a96-122">Therefore, the authentication protocol should copy the information into a private memory buffer during the call to **RasEapMakeMessage**.</span></span>

 

 