---
description: El fondo de la ventana es el color o el patrón que se usa para rellenar el área de cliente antes de que se inicie el dibujo de una ventana.
ms.assetid: d0613f9b-e65b-4de2-887d-2b642d36b22d
title: Fondo de la ventana
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32d567b0bdc38866cd9332ff8ed399bfb23f53c8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103908938"
---
# <a name="window-background"></a><span data-ttu-id="6eb02-103">Fondo de la ventana</span><span class="sxs-lookup"><span data-stu-id="6eb02-103">Window Background</span></span>

<span data-ttu-id="6eb02-104">El fondo de la ventana es el color o el patrón que se usa para rellenar el área de cliente antes de que se inicie el dibujo de una ventana.</span><span class="sxs-lookup"><span data-stu-id="6eb02-104">The window background is the color or pattern used to fill the client area before a window begins drawing.</span></span> <span data-ttu-id="6eb02-105">El fondo de la ventana cubre lo que estaba en la pantalla antes de que la ventana se moviera allí, borrando las imágenes existentes e impidiendo que la nueva salida de la aplicación se mezcle con información no relacionada.</span><span class="sxs-lookup"><span data-stu-id="6eb02-105">The window background covers whatever was on the screen before the window was moved there, erasing existing images and preventing the application's new output from being mixed with unrelated information.</span></span>

<span data-ttu-id="6eb02-106">El sistema pinta el fondo de una ventana o le da la oportunidad de hacerlo mediante el envío de un mensaje de [**WM \_ ERASEBKGND**](../winmsg/wm-erasebkgnd.md) cuando la aplicación llama a [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint).</span><span class="sxs-lookup"><span data-stu-id="6eb02-106">The system paints the background for a window or gives the window the opportunity to do so by sending it a [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message when the application calls [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint).</span></span> <span data-ttu-id="6eb02-107">Si una aplicación no procesa el mensaje pero lo pasa a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca), el sistema borra el fondo rellenándolo con el patrón del pincel de fondo especificado por la clase de la ventana.</span><span class="sxs-lookup"><span data-stu-id="6eb02-107">If an application does not process the message but passes it to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca), the system erases the background by filling it with the pattern in the background brush specified by the window's class.</span></span> <span data-ttu-id="6eb02-108">Si el pincel no es válido o la clase no tiene un pincel de fondo, el sistema establece el miembro **fErase** de la estructura [**paintstruct (**](/windows/win32/api/winuser/ns-winuser-paintstruct) que se devuelve **BeginPaint** , pero no realiza ninguna otra acción.</span><span class="sxs-lookup"><span data-stu-id="6eb02-108">If the brush is not valid or the class has no background brush, the system sets the **fErase** member in the [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) structure that **BeginPaint** returns, but carries out no other action.</span></span> <span data-ttu-id="6eb02-109">A continuación, la aplicación tiene una segunda oportunidad para dibujar el fondo de la ventana, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="6eb02-109">The application then has a second chance to draw the window background, if necessary.</span></span>

<span data-ttu-id="6eb02-110">Si procesa [**WM \_ ERASEBKGND**](../winmsg/wm-erasebkgnd.md), la aplicación debe utilizar el parámetro *wParam* del mensaje para dibujar el fondo.</span><span class="sxs-lookup"><span data-stu-id="6eb02-110">If it processes [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md), the application should use the message's *wParam* parameter to draw the background.</span></span> <span data-ttu-id="6eb02-111">Este parámetro contiene un identificador para mostrar el contexto de dispositivo para la ventana.</span><span class="sxs-lookup"><span data-stu-id="6eb02-111">This parameter contains a handle to the display device context for the window.</span></span> <span data-ttu-id="6eb02-112">Después de dibujar el fondo, la aplicación debe devolver un valor distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="6eb02-112">After drawing the background, the application should return a nonzero value.</span></span> <span data-ttu-id="6eb02-113">Esto garantiza que [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) no establezca erróneamente el miembro **fErase** de la estructura [**paintstruct (**](/windows/win32/api/winuser/ns-winuser-paintstruct) en un valor distinto de cero (lo que indica que se debe borrar el fondo) cuando la aplicación procese el mensaje de [**\_ dibujo de WM**](wm-paint.md) subsiguiente.</span><span class="sxs-lookup"><span data-stu-id="6eb02-113">This ensures that [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) does not erroneously set the **fErase** member of the [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) structure to a nonzero value (indicating the background should be erased) when the application processes the subsequent [**WM\_PAINT**](wm-paint.md) message.</span></span>

<span data-ttu-id="6eb02-114">Una aplicación puede definir un pincel de fondo de clase asignando un identificador de pincel o un valor de color del sistema al miembro **hbrBackground** de la estructura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) al registrar la clase con la función [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) .</span><span class="sxs-lookup"><span data-stu-id="6eb02-114">An application can define a class background brush by assigning a brush handle or a system color value to the **hbrBackground** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure when registering the class with the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="6eb02-115">La función [**GetStockObject**](/windows/desktop/api/Wingdi/nf-wingdi-getstockobject) o [**CreateSolidBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush) se puede usar para crear un controlador de pincel.</span><span class="sxs-lookup"><span data-stu-id="6eb02-115">The [**GetStockObject**](/windows/desktop/api/Wingdi/nf-wingdi-getstockobject) or [**CreateSolidBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush) function can be used to create a brush handle.</span></span> <span data-ttu-id="6eb02-116">Un valor de color del sistema puede ser uno de los definidos para la función [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) .</span><span class="sxs-lookup"><span data-stu-id="6eb02-116">A system color value can be one of those defined for the [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) function.</span></span> <span data-ttu-id="6eb02-117">(El valor debe aumentarse en uno antes de que se asigne al miembro).</span><span class="sxs-lookup"><span data-stu-id="6eb02-117">(The value must be increased by one before it is assigned to the member.)</span></span>

<span data-ttu-id="6eb02-118">Una aplicación puede procesar el mensaje de [**\_ ERASEBKGND de WM**](../winmsg/wm-erasebkgnd.md) aunque se haya definido un pincel de fondo de clase.</span><span class="sxs-lookup"><span data-stu-id="6eb02-118">An application can process the [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message even though a class background brush is defined.</span></span> <span data-ttu-id="6eb02-119">Esto es típico en aplicaciones que permiten al usuario cambiar el color de fondo o el patrón de una ventana especificada sin afectar a otras ventanas de la clase.</span><span class="sxs-lookup"><span data-stu-id="6eb02-119">This is typical in applications that enable the user to change the window background color or pattern for a specified window without affecting other windows in the class.</span></span> <span data-ttu-id="6eb02-120">En tales casos, la aplicación no debe pasar el mensaje a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="6eb02-120">In such cases, the application must not pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span>

<span data-ttu-id="6eb02-121">No es necesario que una aplicación Alinee los pinceles, ya que el sistema dibuja el pincel mediante el origen de la ventana como punto de referencia.</span><span class="sxs-lookup"><span data-stu-id="6eb02-121">It is not necessary for an application to align brushes, because the system draws the brush using the window origin as the point of reference.</span></span> <span data-ttu-id="6eb02-122">Dado esto, el usuario puede desplace la ventana sin que ello afecte a la alineación de los pinceles de patrón.</span><span class="sxs-lookup"><span data-stu-id="6eb02-122">Given this, the user can move the window without affecting the alignment of pattern brushes.</span></span>

 

 
