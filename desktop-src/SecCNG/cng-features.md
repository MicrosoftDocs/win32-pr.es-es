---
description: CNG tiene las siguientes características.
ms.assetid: 400a2b6e-6bbe-4ba4-abde-a2f625007517
title: Características de CNG
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df40606a255adc90bd36540571979c1c34579611
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105666261"
---
# <a name="cng-features"></a><span data-ttu-id="73dba-103">Características de CNG</span><span class="sxs-lookup"><span data-stu-id="73dba-103">CNG Features</span></span>

<span data-ttu-id="73dba-104">CNG tiene las siguientes características.</span><span class="sxs-lookup"><span data-stu-id="73dba-104">CNG has the following features.</span></span>

-   [<span data-ttu-id="73dba-105">Agilidad criptográfica</span><span class="sxs-lookup"><span data-stu-id="73dba-105">Cryptographic Agility</span></span>](#cryptographic-agility)
-   [<span data-ttu-id="73dba-106">Certificación y cumplimiento</span><span class="sxs-lookup"><span data-stu-id="73dba-106">Certification and Compliance</span></span>](#certification-and-compliance)
-   [<span data-ttu-id="73dba-107">Compatibilidad con Suite B</span><span class="sxs-lookup"><span data-stu-id="73dba-107">Suite B Support</span></span>](#suite-b-support)
-   [<span data-ttu-id="73dba-108">Compatibilidad heredada</span><span class="sxs-lookup"><span data-stu-id="73dba-108">Legacy Support</span></span>](#legacy-support)
-   [<span data-ttu-id="73dba-109">Compatibilidad con el modo kernel</span><span class="sxs-lookup"><span data-stu-id="73dba-109">Kernel Mode Support</span></span>](#kernel-mode-support)
-   [<span data-ttu-id="73dba-110">Auditoría</span><span class="sxs-lookup"><span data-stu-id="73dba-110">Auditing</span></span>](#auditing)
-   [<span data-ttu-id="73dba-111">Generadores de números aleatorios reemplazables</span><span class="sxs-lookup"><span data-stu-id="73dba-111">Replaceable Random Number Generators</span></span>](#replaceable-random-number-generators)
-   [<span data-ttu-id="73dba-112">Seguridad para subprocesos</span><span class="sxs-lookup"><span data-stu-id="73dba-112">Thread Safety</span></span>](#thread-safety)
-   [<span data-ttu-id="73dba-113">Modo de operación</span><span class="sxs-lookup"><span data-stu-id="73dba-113">Mode of Operation</span></span>](#mode-of-operation)

## <a name="cryptographic-agility"></a><span data-ttu-id="73dba-114">Agilidad criptográfica</span><span class="sxs-lookup"><span data-stu-id="73dba-114">Cryptographic Agility</span></span>

<span data-ttu-id="73dba-115">Una de las propuestas de valor clave de CNG es la agilidad criptográfica, que a veces se denomina "independiente criptográfica".</span><span class="sxs-lookup"><span data-stu-id="73dba-115">One of the key value propositions of CNG is cryptographic agility, sometimes called cryptographic agnosticism.</span></span> <span data-ttu-id="73dba-116">Sin embargo, para convertir la implementación de protocolos, como [*Protocolo de capa de sockets seguros*](/windows/desktop/SecGloss/s-gly) (SSL) o seguridad de la [*capa de transporte*](/windows/desktop/SecGloss/t-gly) (TLS), CMS (S/MIME), IPSec, Kerberos, etc., en CNG, era necesario.</span><span class="sxs-lookup"><span data-stu-id="73dba-116">Converting implementation of protocols like [*Secure Sockets Layer protocol*](/windows/desktop/SecGloss/s-gly) (SSL) or [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), CMS (S/MIME), IPsec, Kerberos, and so on, to CNG, however, was required to make this ability valuable.</span></span> <span data-ttu-id="73dba-117">En el nivel de CNG, era necesario proporcionar sustitución y detección para todos los tipos de algoritmo (funciones simétricas, asimétricas y hash), la generación de números aleatorios y otras funciones de utilidad.</span><span class="sxs-lookup"><span data-stu-id="73dba-117">At the CNG level, it was necessary to provide substitution and discoverability for all the algorithm types (symmetric, asymmetric, hash functions), random number generation, and other utility functions.</span></span> <span data-ttu-id="73dba-118">Los cambios de nivel de protocolo son más importantes porque, en muchos casos, las API de protocolo necesarias para agregar la selección del algoritmo y otras opciones de flexibilidad que no existían previamente.</span><span class="sxs-lookup"><span data-stu-id="73dba-118">The protocol-level changes are more significant because in many cases the protocol APIs needed to add algorithm selection and other flexibility options that did not previously exist.</span></span>

<span data-ttu-id="73dba-119">CNG está disponible en primer lugar en Windows Vista y está posicionado para reemplazar los usos existentes de [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) en la pila de software de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="73dba-119">CNG is first available in Windows Vista and is positioned to replace existing uses of [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) throughout the Microsoft software stack.</span></span> <span data-ttu-id="73dba-120">Los desarrolladores de terceros encontrarán muchas características nuevas en CNG, entre las que se incluyen:</span><span class="sxs-lookup"><span data-stu-id="73dba-120">Third-party developers will find lots of new features in CNG, including:</span></span>

-   <span data-ttu-id="73dba-121">Un nuevo sistema de configuración de cifrado, que admite una mejor agilidad criptográfica.</span><span class="sxs-lookup"><span data-stu-id="73dba-121">A new crypto configuration system, supporting better cryptographic agility.</span></span>
-   <span data-ttu-id="73dba-122">Abstracción más específica para el almacenamiento de claves (y separación del almacenamiento de las operaciones de algoritmo).</span><span class="sxs-lookup"><span data-stu-id="73dba-122">Finer-grained abstraction for key storage (and separation of storage from algorithm operations).</span></span>
-   <span data-ttu-id="73dba-123">Aislamiento del proceso para las operaciones con claves a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="73dba-123">Process isolation for operations with long-term keys.</span></span>
-   <span data-ttu-id="73dba-124">Generadores de números aleatorios reemplazables.</span><span class="sxs-lookup"><span data-stu-id="73dba-124">Replaceable random number generators.</span></span>
-   <span data-ttu-id="73dba-125">Desahogo de las restricciones de la firma de exportación.</span><span class="sxs-lookup"><span data-stu-id="73dba-125">Relief from export signing restrictions.</span></span>
-   <span data-ttu-id="73dba-126">Seguridad para subprocesos en toda la pila.</span><span class="sxs-lookup"><span data-stu-id="73dba-126">Thread-safety throughout the stack.</span></span>
-   <span data-ttu-id="73dba-127">API criptográfica de modo kernel.</span><span class="sxs-lookup"><span data-stu-id="73dba-127">Kernel-mode cryptographic API.</span></span>

<span data-ttu-id="73dba-128">Además, CNG incluye compatibilidad con todos los algoritmos de Suite B necesarios, como la [*criptografía de curva elíptica*](/windows/desktop/SecGloss/e-gly) (ECC).</span><span class="sxs-lookup"><span data-stu-id="73dba-128">In addition, CNG includes support for all required Suite B algorithms, including [*elliptic curve cryptography*](/windows/desktop/SecGloss/e-gly) (ECC).</span></span> <span data-ttu-id="73dba-129">Las aplicaciones CryptoAPI existentes seguirán funcionando a medida que CNG esté disponible.</span><span class="sxs-lookup"><span data-stu-id="73dba-129">Existing CryptoAPI applications will continue to work as CNG becomes available.</span></span>

## <a name="certification-and-compliance"></a><span data-ttu-id="73dba-130">Certificación y cumplimiento</span><span class="sxs-lookup"><span data-stu-id="73dba-130">Certification and Compliance</span></span>

<span data-ttu-id="73dba-131">CNG se valida con los estándares federales de procesamiento de información (FIPS) 140-2 y forma parte del objetivo de evaluación de la certificación de criterios comunes de Windows.</span><span class="sxs-lookup"><span data-stu-id="73dba-131">CNG is validated to Federal Information Processing Standards (FIPS) 140-2 and is part of the Target of Evaluation for the Windows Common Criteria certification.</span></span> <span data-ttu-id="73dba-132">CNG se diseñó para ser utilizable como componente en un sistema validado de nivel 2 de FIPS.</span><span class="sxs-lookup"><span data-stu-id="73dba-132">CNG was designed to be usable as a component in a FIPS level 2 validated system.</span></span>

<span data-ttu-id="73dba-133">CNG cumple los requisitos de criterios comunes mediante el almacenamiento y el uso de claves de larga duración en un proceso seguro.</span><span class="sxs-lookup"><span data-stu-id="73dba-133">CNG complies with Common Criteria requirements by storing and using long lived keys in a secure process.</span></span>

## <a name="suite-b-support"></a><span data-ttu-id="73dba-134">Compatibilidad con Suite B</span><span class="sxs-lookup"><span data-stu-id="73dba-134">Suite B Support</span></span>

<span data-ttu-id="73dba-135">Una característica importante de CNG es su compatibilidad con los algoritmos de Suite B.</span><span class="sxs-lookup"><span data-stu-id="73dba-135">An important feature of CNG is its support for the Suite B algorithms.</span></span> <span data-ttu-id="73dba-136">En febrero de 2005, la Agencia de seguridad nacional (NSA) de la Estados Unidos anunció un conjunto coordinado de cifrado simétrico, el acuerdo secreto asimétrico (también conocido como intercambio de claves), las funciones de firma digital y hash para el uso futuro de la administración pública de EE. UU. denominada *Suite B*. La NSA ha anunciado que las implementaciones de Suite B certificadas se pueden usar para la protección de la información designada como secreto, secreto e información privada que, en el pasado, se describía como sensible, pero sin clasificar.</span><span class="sxs-lookup"><span data-stu-id="73dba-136">In February of 2005, the National Security Agency (NSA) of the United States announced a coordinated set of symmetric encryption, asymmetric secret agreement (also known as key exchange), digital signature and hash functions for future U.S. government use called *Suite B*. The NSA has announced that certified Suite B implementations can and will be used for the protection of information designated as Top Secret, Secret, and private information that, in the past was described as Sensitive-But-Unclassified.</span></span> <span data-ttu-id="73dba-137">Por este motivo, la compatibilidad con Suite B es muy importante para los proveedores de software de aplicaciones e integradores de sistemas, así como para Microsoft.</span><span class="sxs-lookup"><span data-stu-id="73dba-137">Because of this, Suite B support is very important to application software vendors and system integrators as well as to Microsoft.</span></span>

<span data-ttu-id="73dba-138">Todos los algoritmos de Suite B se conocen públicamente.</span><span class="sxs-lookup"><span data-stu-id="73dba-138">All Suite B algorithms are publicly known.</span></span> <span data-ttu-id="73dba-139">Se han desarrollado fuera del ámbito del secreto gubernamental históricamente asociado al desarrollo de algoritmos criptográficos.</span><span class="sxs-lookup"><span data-stu-id="73dba-139">They have been developed outside the scope of the government secrecy historically associated with cryptographic algorithm development.</span></span> <span data-ttu-id="73dba-140">En este mismo período de tiempo, algunos países y regiones europeos también han propuesto los mismos requisitos Suite B para proteger su información.</span><span class="sxs-lookup"><span data-stu-id="73dba-140">In this same time frame, some European countries and regions have also proposed the same Suite B requirements for protecting their information.</span></span>

<span data-ttu-id="73dba-141">Suite B criptografía recomienda el uso de Diffie-Hellman de curva elíptica (ECDH) en muchos protocolos existentes como el Intercambio de claves por red (IKE, principalmente usado en IPsec), la seguridad de la [*capa de transporte*](/windows/desktop/SecGloss/t-gly) (TLS) y MIME seguro (S/MIME).</span><span class="sxs-lookup"><span data-stu-id="73dba-141">Suite B cryptography recommends use of elliptic curve Diffie-Hellman (ECDH) in many existing protocols such as the Internet Key Exchange (IKE, mainly used in IPsec), [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), and Secure MIME (S/MIME).</span></span>

<span data-ttu-id="73dba-142">CNG incluye compatibilidad con Suite B que se extiende a todos los algoritmos necesarios: AES (todos los tamaños de clave), la familia SHA-2 (SHA-256, SHA-384 y SHA-512) de algoritmos hash, ECDH y el DSA de curva elíptica (ECDSA) sobre las curvas primos estándar de NIST P-256, P-384 y P-521.</span><span class="sxs-lookup"><span data-stu-id="73dba-142">CNG includes support for Suite B that extends to all required algorithms: AES (all key sizes), the SHA-2 family (SHA-256, SHA-384 and SHA-512) of hashing algorithms, ECDH, and elliptic curve DSA (ECDSA) over the NIST-standard prime curves P-256, P-384, and P-521.</span></span> <span data-ttu-id="73dba-143">Los proveedores de algoritmos de Microsoft que se incluyen con Windows Vista no admiten curvas binarias, curvas de Koblitz, curvas principales personalizadas y curvas elípticas Menezes-qu-Vanstone (ECMQV).</span><span class="sxs-lookup"><span data-stu-id="73dba-143">Binary curves, Koblitz curves, custom prime curves, and elliptic curve Menezes-Qu-Vanstone (ECMQV) are not supported by the Microsoft algorithm providers included with Windows Vista.</span></span>

## <a name="legacy-support"></a><span data-ttu-id="73dba-144">Compatibilidad heredada</span><span class="sxs-lookup"><span data-stu-id="73dba-144">Legacy Support</span></span>

<span data-ttu-id="73dba-145">CNG proporciona compatibilidad con el conjunto actual de algoritmos en [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1,0.</span><span class="sxs-lookup"><span data-stu-id="73dba-145">CNG provides support for the current set of algorithms in [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1.0.</span></span> <span data-ttu-id="73dba-146">Todos los algoritmos que se admiten actualmente en *CryptoAPI* 1,0 seguirán siendo compatibles con CNG.</span><span class="sxs-lookup"><span data-stu-id="73dba-146">Every algorithm that is currently supported in *CryptoAPI* 1.0 will continue to be supported in CNG.</span></span>

## <a name="kernel-mode-support"></a><span data-ttu-id="73dba-147">Compatibilidad con el modo kernel</span><span class="sxs-lookup"><span data-stu-id="73dba-147">Kernel Mode Support</span></span>

<span data-ttu-id="73dba-148">CNG admite la criptografía en modo kernel.</span><span class="sxs-lookup"><span data-stu-id="73dba-148">CNG supports cryptography in kernel mode.</span></span> <span data-ttu-id="73dba-149">Se usan las mismas API en el modo de kernel y usuario para admitir todas las características de criptografía.</span><span class="sxs-lookup"><span data-stu-id="73dba-149">The same APIs are used in both kernel and user mode to fully support the cryptography features.</span></span> <span data-ttu-id="73dba-150">SSL/TLS e IPsec funcionan en modo kernel, además de los procesos de arranque que utilizarán CNG.</span><span class="sxs-lookup"><span data-stu-id="73dba-150">Both SSL/TLS and IPsec operate in kernel mode in addition to boot processes that will be using CNG.</span></span> <span data-ttu-id="73dba-151">No todas las funciones de CNG pueden llamarse desde el modo kernel.</span><span class="sxs-lookup"><span data-stu-id="73dba-151">Not all CNG functions can be called from kernel mode.</span></span> <span data-ttu-id="73dba-152">El tema de referencia de las funciones a las que no se puede llamar desde el modo kernel indica explícitamente que no se puede llamar a la función desde el modo kernel.</span><span class="sxs-lookup"><span data-stu-id="73dba-152">The reference topic for the functions that cannot be called from kernel mode will explicitly state that the function cannot be called from kernel mode.</span></span> <span data-ttu-id="73dba-153">De lo contrario, se puede llamar a todas las funciones de CNG desde el modo kernel si el autor de la llamada se ejecuta en el [*IRQL*](/windows/desktop/SecGloss/i-gly)de **\_ nivel pasivo** .</span><span class="sxs-lookup"><span data-stu-id="73dba-153">Otherwise, all CNG functions can be called from kernel mode if the caller is running at **PASSIVE\_LEVEL** [*IRQL*](/windows/desktop/SecGloss/i-gly).</span></span> <span data-ttu-id="73dba-154">Además, algunas funciones CNG de modo kernel pueden ser Invocables en el **\_ IRQL de nivel de envío**, dependiendo de las capacidades del proveedor.</span><span class="sxs-lookup"><span data-stu-id="73dba-154">In addition, some kernel mode CNG functions may be callable at **DISPATCH\_LEVEL IRQL**, depending on the provider's capabilities.</span></span>

<span data-ttu-id="73dba-155">La interfaz del proveedor de compatibilidad para seguridad (Ksecdd.sys) del kernel de Microsoft es un módulo criptográfico basado en software y de uso general que reside en el nivel de modo kernel de Windows.</span><span class="sxs-lookup"><span data-stu-id="73dba-155">The Microsoft kernel security support provider interface (Ksecdd.sys) is a general purpose, software-based, cryptographic module residing at the kernel mode level of Windows.</span></span> <span data-ttu-id="73dba-156">Ksecdd.sys se ejecuta como un controlador de exportación del modo kernel y proporciona servicios de cifrado a través de las interfaces documentadas a los componentes de kernel.</span><span class="sxs-lookup"><span data-stu-id="73dba-156">Ksecdd.sys runs as a kernel mode export driver, and provides cryptographic services through their documented interfaces to kernel components.</span></span> <span data-ttu-id="73dba-157">El único algoritmo de proveedor de Microsoft integrado que no es compatible con Ksecdd.sys es DSA.</span><span class="sxs-lookup"><span data-stu-id="73dba-157">The only built-in Microsoft provider algorithm that is not supported by Ksecdd.sys is DSA.</span></span>

<span data-ttu-id="73dba-158">**Windows Server 2008 y Windows Vista:** CNG no es compatible con los algoritmos y los proveedores conectables en modo kernel.</span><span class="sxs-lookup"><span data-stu-id="73dba-158">**Windows Server 2008 and Windows Vista:** CNG does not support pluggable algorithms and providers in kernel mode.</span></span> <span data-ttu-id="73dba-159">Los únicos algoritmos criptográficos admitidos disponibles en modo kernel son las implementaciones proporcionadas por Microsoft a través de las API de CNG en modo kernel.</span><span class="sxs-lookup"><span data-stu-id="73dba-159">The only supported cryptographic algorithms available in kernel mode are those implementations provided by Microsoft through the kernel mode CNG APIs.</span></span>

## <a name="auditing"></a><span data-ttu-id="73dba-160">Auditoría</span><span class="sxs-lookup"><span data-stu-id="73dba-160">Auditing</span></span>

<span data-ttu-id="73dba-161">Para cumplir algunos de los requisitos de criterios comunes además de proporcionar una seguridad completa, muchas de las acciones que se producen en el nivel de CNG se auditan en el proveedor de almacenamiento de claves (KSP) de software de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="73dba-161">To comply with some of the Common Criteria requirements in addition to providing comprehensive security, many actions that happen in the CNG layer are audited in the Microsoft software key storage provider (KSP).</span></span> <span data-ttu-id="73dba-162">El KSP de Microsoft cumple las siguientes directrices para crear registros de auditoría en el registro de seguridad:</span><span class="sxs-lookup"><span data-stu-id="73dba-162">The Microsoft KSP adheres to the following guidelines to create audit records in the security log:</span></span>

-   <span data-ttu-id="73dba-163">Los errores de generación de claves y pares de claves, incluidos los errores de prueba automática, se deben auditar.</span><span class="sxs-lookup"><span data-stu-id="73dba-163">Key and key-pair generation failures, including self-test failures, must be audited.</span></span>
-   <span data-ttu-id="73dba-164">Se debe auditar la importación y exportación de claves.</span><span class="sxs-lookup"><span data-stu-id="73dba-164">Key import and export must be audited.</span></span>
-   <span data-ttu-id="73dba-165">Los errores de destrucción de claves se deben auditar.</span><span class="sxs-lookup"><span data-stu-id="73dba-165">Key destruction failures must be audited.</span></span>
-   <span data-ttu-id="73dba-166">Las claves persistentes se deben auditar cuando se escriben y se leen de los archivos.</span><span class="sxs-lookup"><span data-stu-id="73dba-166">Persistent keys need to be audited when they are written to and read from files.</span></span>
-   <span data-ttu-id="73dba-167">Los errores de comprobación de coherencia en pares se deben auditar.</span><span class="sxs-lookup"><span data-stu-id="73dba-167">Pair-wise consistency check failures must be audited.</span></span>
-   <span data-ttu-id="73dba-168">Los errores de validación de clave secreta, si los hay, se deben auditar, por ejemplo, comprobaciones de paridad en claves 3DES.</span><span class="sxs-lookup"><span data-stu-id="73dba-168">Secret key validation failures, if any, must be audited, for example, parity checks on 3DES keys.</span></span>
-   <span data-ttu-id="73dba-169">Se deben auditar los errores de cifrado, descifrado, hash, firma, comprobación, intercambio de claves y generación de números aleatorios.</span><span class="sxs-lookup"><span data-stu-id="73dba-169">Failures in encryption, decryption, hashing, signature, verification, key exchange, and random number generation must be audited.</span></span>
-   <span data-ttu-id="73dba-170">Las pruebas automáticas criptográficas se deben auditar.</span><span class="sxs-lookup"><span data-stu-id="73dba-170">Cryptographic self-tests must be audited.</span></span>

<span data-ttu-id="73dba-171">En general, si una clave no tiene un nombre, es una clave efímera.</span><span class="sxs-lookup"><span data-stu-id="73dba-171">In general, if a key does not have a name, it is an ephemeral key.</span></span> <span data-ttu-id="73dba-172">No se conserva una clave efímera y el KSP de Microsoft no genera registros de auditoría para claves efímeras.</span><span class="sxs-lookup"><span data-stu-id="73dba-172">An ephemeral key does not persist, and the Microsoft KSP does not generate audit records for ephemeral keys.</span></span> <span data-ttu-id="73dba-173">El KSP de Microsoft genera registros de auditoría en modo de usuario solo en el proceso LSA.</span><span class="sxs-lookup"><span data-stu-id="73dba-173">The Microsoft KSP generates audit records in user mode in the LSA process only.</span></span> <span data-ttu-id="73dba-174">CNG de modo kernel no genera ningún registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="73dba-174">No audit record is generated by kernel mode CNG.</span></span> <span data-ttu-id="73dba-175">Los administradores tienen que configurar la Directiva de auditoría para obtener todos los registros de auditoría de KSP del registro de seguridad.</span><span class="sxs-lookup"><span data-stu-id="73dba-175">Administrators need to configure the audit policy to obtain all KSP audit logs from the security log.</span></span> <span data-ttu-id="73dba-176">Un administrador debe ejecutar la siguiente línea de comandos para configurar las auditorías adicionales generadas por KSP:</span><span class="sxs-lookup"><span data-stu-id="73dba-176">An administrator must run the following command line to configure additional audits generated by KSPs:</span></span>

<span data-ttu-id="73dba-177">**AuditPol/Set/subcategory: "otros eventos del sistema"/Success: enable/Failure: enable**</span><span class="sxs-lookup"><span data-stu-id="73dba-177">**auditpol /set /subcategory:"other system events" /success:enable /failure:enable**</span></span>

## <a name="replaceable-random-number-generators"></a><span data-ttu-id="73dba-178">Generadores de números aleatorios reemplazables</span><span class="sxs-lookup"><span data-stu-id="73dba-178">Replaceable Random Number Generators</span></span>

<span data-ttu-id="73dba-179">Otra mejora que CNG proporciona es la posibilidad de reemplazar el generador de números aleatorios (RNG) predeterminado.</span><span class="sxs-lookup"><span data-stu-id="73dba-179">Another improvement that CNG provides is the ability to replace the default random number generator (RNG).</span></span> <span data-ttu-id="73dba-180">En CryptoAPI, es posible proporcionar una RNG alternativa como parte de un proveedor de servicios criptográficos (CSP), pero no es posible redirigir a los CSP de base de Microsoft para que usen otra RNG.</span><span class="sxs-lookup"><span data-stu-id="73dba-180">In CryptoAPI, it is possible to provide an alternate RNG as part of a cryptographic service provider (CSP), but it is not possible to redirect the Microsoft Base CSPs to use another RNG.</span></span> <span data-ttu-id="73dba-181">CNG permite especificar explícitamente una RNG determinada para usarla en llamadas particulares.</span><span class="sxs-lookup"><span data-stu-id="73dba-181">CNG makes it possible to explicitly specify a particular RNG to use within particular calls.</span></span>

## <a name="thread-safety"></a><span data-ttu-id="73dba-182">Seguridad para subprocesos</span><span class="sxs-lookup"><span data-stu-id="73dba-182">Thread Safety</span></span>

<span data-ttu-id="73dba-183">Las funciones que modifican la misma área de memoria al mismo tiempo (secciones críticas) cuando se llaman desde subprocesos independientes no son seguras para subprocesos.</span><span class="sxs-lookup"><span data-stu-id="73dba-183">Any functions that modify the same area of memory at the same time (critical sections) when being called from separate threads are not thread safe.</span></span>

## <a name="mode-of-operation"></a><span data-ttu-id="73dba-184">Modo de operación</span><span class="sxs-lookup"><span data-stu-id="73dba-184">Mode of Operation</span></span>

<span data-ttu-id="73dba-185">CNG admite cinco modos de operaciones que se pueden usar con cifrados de bloques simétricos a través de las API de cifrado.</span><span class="sxs-lookup"><span data-stu-id="73dba-185">CNG supports five modes of operations that can be used with symmetric block ciphers through the encryption APIs.</span></span> <span data-ttu-id="73dba-186">Estos modos y su compatibilidad se muestran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="73dba-186">These modes and their supportability are listed in the following table.</span></span> <span data-ttu-id="73dba-187">El modo de operación se puede cambiar estableciendo la propiedad [**de \_ \_ modo de encadenamiento BCRYPT**](cng-property-identifiers.md) para el proveedor de algoritmos mediante la función [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) .</span><span class="sxs-lookup"><span data-stu-id="73dba-187">The mode of operation can be changed by setting the [**BCRYPT\_CHAINING\_MODE**](cng-property-identifiers.md) property for the algorithm provider by using the [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) function.</span></span>



| <span data-ttu-id="73dba-188">Modo de operación</span><span class="sxs-lookup"><span data-stu-id="73dba-188">Mode of operation</span></span>           | <span data-ttu-id="73dba-189">\_Valor del modo de encadenamiento BCRYPT \_</span><span class="sxs-lookup"><span data-stu-id="73dba-189">BCRYPT\_CHAINING\_MODE value</span></span> | <span data-ttu-id="73dba-190">Algoritmos</span><span class="sxs-lookup"><span data-stu-id="73dba-190">Algorithms</span></span>              | <span data-ttu-id="73dba-191">Estándar</span><span class="sxs-lookup"><span data-stu-id="73dba-191">Standard</span></span>  |
|-----------------------------|------------------------------|-------------------------|-----------|
| <span data-ttu-id="73dba-192">ECB (Electronic Codebook)</span><span class="sxs-lookup"><span data-stu-id="73dba-192">ECB (Electronic Codebook)</span></span>   | <span data-ttu-id="73dba-193">**\_ECB del \_ modo de cadena BCRYPT \_**</span><span class="sxs-lookup"><span data-stu-id="73dba-193">**BCRYPT\_CHAIN\_MODE\_ECB**</span></span> | <span data-ttu-id="73dba-194">Cifrado de bloques simétricos</span><span class="sxs-lookup"><span data-stu-id="73dba-194">Symmetric block ciphers</span></span> | <span data-ttu-id="73dba-195">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="73dba-195">SP800-38A</span></span> |
| <span data-ttu-id="73dba-196">CBC (encadenamiento de bloques de cifrado)</span><span class="sxs-lookup"><span data-stu-id="73dba-196">CBC (Cipher Block Chaining)</span></span> | <span data-ttu-id="73dba-197">**\_modo de cadena BCRYPT \_ \_ CBC**</span><span class="sxs-lookup"><span data-stu-id="73dba-197">**BCRYPT\_CHAIN\_MODE\_CBC**</span></span> | <span data-ttu-id="73dba-198">Cifrado de bloques simétricos</span><span class="sxs-lookup"><span data-stu-id="73dba-198">Symmetric block ciphers</span></span> | <span data-ttu-id="73dba-199">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="73dba-199">SP800-38A</span></span> |
| <span data-ttu-id="73dba-200">CFB (comentarios de cifrado)</span><span class="sxs-lookup"><span data-stu-id="73dba-200">CFB (Cipher Feedback)</span></span>       | <span data-ttu-id="73dba-201">**\_modo de cadena BCRYPT \_ \_ CFB**</span><span class="sxs-lookup"><span data-stu-id="73dba-201">**BCRYPT\_CHAIN\_MODE\_CFB**</span></span> | <span data-ttu-id="73dba-202">Cifrado de bloques simétricos</span><span class="sxs-lookup"><span data-stu-id="73dba-202">Symmetric block ciphers</span></span> | <span data-ttu-id="73dba-203">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="73dba-203">SP800-38A</span></span> |
| <span data-ttu-id="73dba-204">CCM (contador con CBC)</span><span class="sxs-lookup"><span data-stu-id="73dba-204">CCM (Counter with CBC)</span></span>      | <span data-ttu-id="73dba-205">**\_CCM del \_ modo de cadena BCRYPT \_**</span><span class="sxs-lookup"><span data-stu-id="73dba-205">**BCRYPT\_CHAIN\_MODE\_CCM**</span></span> | <span data-ttu-id="73dba-206">AES</span><span class="sxs-lookup"><span data-stu-id="73dba-206">AES</span></span>                     | <span data-ttu-id="73dba-207">SP800-38C</span><span class="sxs-lookup"><span data-stu-id="73dba-207">SP800-38C</span></span> |
| <span data-ttu-id="73dba-208">GCM (modo Galois/Counter)</span><span class="sxs-lookup"><span data-stu-id="73dba-208">GCM (Galois/Counter Mode)</span></span>   | <span data-ttu-id="73dba-209">**\_modo de cadena BCRYPT \_ \_ GCM**</span><span class="sxs-lookup"><span data-stu-id="73dba-209">**BCRYPT\_CHAIN\_MODE\_GCM**</span></span> | <span data-ttu-id="73dba-210">AES</span><span class="sxs-lookup"><span data-stu-id="73dba-210">AES</span></span>                     | <span data-ttu-id="73dba-211">SP800-38D</span><span class="sxs-lookup"><span data-stu-id="73dba-211">SP800-38D</span></span> |



 

> [!Note]  
> <span data-ttu-id="73dba-212">Solo los modos de operación ECB, CBC y CFB se definen en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="73dba-212">Only ECB, CBC, and CFB modes of operation are defined in Windows Vista.</span></span> <span data-ttu-id="73dba-213">GCM y CCM requieren Windows Vista con Service Pack 1 (SP1) o Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="73dba-213">GCM and CCM require Windows Vista with Service Pack 1 (SP1) or Windows Server 2008.</span></span>

 

 

 
