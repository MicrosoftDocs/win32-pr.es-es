---
title: Acerca de los controles de barra de herramientas
description: Una barra de herramientas es un control que contiene uno o varios botones.
ms.assetid: b5a00a81-8d23-4844-8b0a-776e7cceced8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 263d95b13ddee54561cf1b0bb9d003d5d34cdf8d
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "103995653"
---
# <a name="about-toolbar-controls"></a><span data-ttu-id="27b37-103">Acerca de los controles de barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-103">About Toolbar Controls</span></span>

<span data-ttu-id="27b37-104">Una barra de herramientas es un control que contiene uno o varios botones.</span><span class="sxs-lookup"><span data-stu-id="27b37-104">A toolbar is a control that contains one or more buttons.</span></span> <span data-ttu-id="27b37-105">Cada botón, cuando un usuario hace clic en él, envía un mensaje de comando a la ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="27b37-105">Each button, when clicked by a user, sends a command message to the parent window.</span></span> <span data-ttu-id="27b37-106">Normalmente, los botones de una barra de herramientas corresponden a elementos del menú de la aplicación, lo que proporciona una forma adicional y más directa para que el usuario tenga acceso a los comandos de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="27b37-106">Typically, the buttons in a toolbar correspond to items in the application's menu, providing an additional and more direct way for the user to access an application's commands.</span></span>

<span data-ttu-id="27b37-107">En la captura de pantalla siguiente se muestra una ventana que contiene una barra de herramientas simple para las operaciones de archivo.</span><span class="sxs-lookup"><span data-stu-id="27b37-107">The following screen shot shows a window that contains a simple toolbar for file operations.</span></span> <span data-ttu-id="27b37-108">La aplicación ha habilitado los estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="27b37-108">The application has enabled visual styles.</span></span> <span data-ttu-id="27b37-109">El botón Guardar está "activo" porque el cursor se mantiene sobre él cuando se tomó la captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="27b37-109">The Save button is "hot" because the cursor was hovering over it when the screen shot was taken.</span></span> <span data-ttu-id="27b37-110">La apariencia real del control varía en función del sistema operativo y del tema seleccionado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="27b37-110">The actual appearance of the control varies depending on the operating system and the user-selected theme.</span></span>

![captura de pantalla de una ventana con una barra de herramientas de tres botones; un botón está activo](images/tb-withstyles.png)

<span data-ttu-id="27b37-112">En la captura de pantalla siguiente se muestra el mismo control en una aplicación que se compiló sin estilos visuales habilitados.</span><span class="sxs-lookup"><span data-stu-id="27b37-112">The following screen shot shows the same control in an application that was compiled without visual styles enabled.</span></span>

![captura de pantalla de una ventana sin estilos visuales: ninguno de los botones tiene un aspecto activo](images/tb-wostyles.png)

<span data-ttu-id="27b37-114">En los temas siguientes se describen las características que se deben tener en cuenta al planear una barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-114">The following topics discuss features to consider when planning a toolbar.</span></span> <span data-ttu-id="27b37-115">Para obtener información específica sobre la implementación de y el código de ejemplo, vea [usar controles de barra de herramientas](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-115">For specific information on implementation, and example code, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

-   [<span data-ttu-id="27b37-116">Especificar el tamaño y la posición de la barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-116">Specifying Toolbar Size and Position</span></span>](#specifying-toolbar-size-and-position)
-   [<span data-ttu-id="27b37-117">Barras de herramientas transparentes</span><span class="sxs-lookup"><span data-stu-id="27b37-117">Transparent Toolbars</span></span>](#transparent-toolbars)
-   [<span data-ttu-id="27b37-118">Barras de herramientas de estilo de lista</span><span class="sxs-lookup"><span data-stu-id="27b37-118">List-style Toolbars</span></span>](#list-style-toolbars)
-   [<span data-ttu-id="27b37-119">Definir imágenes de botón</span><span class="sxs-lookup"><span data-stu-id="27b37-119">Defining Button Images</span></span>](#defining-button-images)
    -   [<span data-ttu-id="27b37-120">Definir imágenes de botón mediante mapas de bits</span><span class="sxs-lookup"><span data-stu-id="27b37-120">Defining Button Images by Using Bitmaps</span></span>](#defining-button-images-by-using-bitmaps)
    -   [<span data-ttu-id="27b37-121">Definir imágenes de botón mediante listas de imágenes</span><span class="sxs-lookup"><span data-stu-id="27b37-121">Defining Button Images by Using Image Lists</span></span>](#defining-button-images-by-using-image-lists)
-   [<span data-ttu-id="27b37-122">Definir texto para botones</span><span class="sxs-lookup"><span data-stu-id="27b37-122">Defining Text for Buttons</span></span>](#defining-text-for-buttons)
-   [<span data-ttu-id="27b37-123">Agregar botones de barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-123">Adding Toolbar Buttons</span></span>](#adding-toolbar-buttons)
    -   [<span data-ttu-id="27b37-124">Estilos de botón de barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-124">Toolbar Button Styles</span></span>](#toolbar-button-styles)
    -   [<span data-ttu-id="27b37-125">Estados del botón de la barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-125">Toolbar Button States</span></span>](#toolbar-button-states)
    -   [<span data-ttu-id="27b37-126">Identificador de comando</span><span class="sxs-lookup"><span data-stu-id="27b37-126">Command Identifier</span></span>](#command-identifier)
    -   [<span data-ttu-id="27b37-127">Tamaño y posición del botón</span><span class="sxs-lookup"><span data-stu-id="27b37-127">Button Size and Position</span></span>](#button-size-and-position)
-   [<span data-ttu-id="27b37-128">Habilitar la personalización</span><span class="sxs-lookup"><span data-stu-id="27b37-128">Enabling Customization</span></span>](#enabling-customization)
-   [<span data-ttu-id="27b37-129">Habilitación del seguimiento activo</span><span class="sxs-lookup"><span data-stu-id="27b37-129">Enabling Hot-tracking</span></span>](#enabling-hot-tracking)

## <a name="specifying-toolbar-size-and-position"></a><span data-ttu-id="27b37-130">Especificar el tamaño y la posición de la barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-130">Specifying Toolbar Size and Position</span></span>

<span data-ttu-id="27b37-131">Si crea una barra de herramientas mediante [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), la función le permite especificar en píxeles el alto y el ancho de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-131">If you create a toolbar using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), the function enables you to specify in pixels the height and width of the toolbar.</span></span>

> [!Note]  
> <span data-ttu-id="27b37-132">No se recomienda usar [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) , ya que no es compatible con las nuevas características de las barras de herramientas, incluidas las listas de imágenes.</span><span class="sxs-lookup"><span data-stu-id="27b37-132">Using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) is not recommended, as it does not support new features of toolbars, including image lists.</span></span> <span data-ttu-id="27b37-133">Para obtener más información sobre la creación de barras de herramientas, vea [usar controles de barra de herramientas](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-133">For more information about creating toolbars, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

<span data-ttu-id="27b37-134">La función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) no tiene parámetros para especificar el tamaño de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-134">The [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have parameters for specifying toolbar size.</span></span> <span data-ttu-id="27b37-135">El procedimiento de ventana barra de herramientas establece automáticamente el tamaño y la posición de la ventana de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-135">The toolbar window procedure automatically sets the size and position of the toolbar window.</span></span> <span data-ttu-id="27b37-136">El alto se basa en el alto de los botones de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-136">The height is based on the height of the buttons in the toolbar.</span></span> <span data-ttu-id="27b37-137">El ancho es el mismo que el ancho del área cliente de la ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="27b37-137">The width is the same as the width of the parent window's client area.</span></span> <span data-ttu-id="27b37-138">Para cambiar la configuración de tamaño automático, envíe un mensaje de [**TB \_ SETBUTTONSIZE**](tb-setbuttonsize.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-138">To change the automatic size settings, send a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span> <span data-ttu-id="27b37-139">Los estilos de control comunes de los controles [**CCS \_ Top**](common-control-styles.md) y [**CCS \_ inferiores**](common-control-styles.md) determinan si la barra de herramientas se coloca a lo largo de la parte superior o inferior del área cliente.</span><span class="sxs-lookup"><span data-stu-id="27b37-139">The [**CCS\_TOP**](common-control-styles.md) and [**CCS\_BOTTOM**](common-control-styles.md) common control styles determine whether the toolbar is positioned along the top or bottom of the client area.</span></span> <span data-ttu-id="27b37-140">De forma predeterminada, una barra de herramientas tiene el estilo de **CCS \_ superior** .</span><span class="sxs-lookup"><span data-stu-id="27b37-140">By default, a toolbar has the **CCS\_TOP** style.</span></span>

<span data-ttu-id="27b37-141">Además, el procedimiento de ventana de la barra de herramientas ajusta automáticamente el tamaño de la barra de herramientas cada vez que recibe un mensaje de tamaño de [**WM \_**](/windows/desktop/winmsg/wm-size) o [**\_ tamaño**](tb-autosize.md) automático de TB.</span><span class="sxs-lookup"><span data-stu-id="27b37-141">Also, the toolbar window procedure automatically adjusts the size of the toolbar whenever it receives a [**WM\_SIZE**](/windows/desktop/winmsg/wm-size) or [**TB\_AUTOSIZE**](tb-autosize.md) message.</span></span> <span data-ttu-id="27b37-142">Una aplicación debe enviar cualquiera de estos mensajes cada vez que cambie el tamaño de la ventana primaria o después de enviar un mensaje que requiera ajustar el tamaño de la barra de herramientas, por ejemplo, un mensaje de [**TB \_ SETBUTTONSIZE**](tb-setbuttonsize.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-142">An application should send either of these messages whenever the size of the parent window changes or after sending a message that requires adjusting the size of the toolbar—for example, a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span>

<span data-ttu-id="27b37-143">Los comportamientos de ajuste de tamaño y posición predeterminados de la barra de herramientas se pueden desactivar estableciendo los estilos de control comunes de [**CCS \_ NORESIZE**](common-control-styles.md) y [**CCS \_ NOPARENTALIGN**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-143">The toolbar default sizing and positioning behaviors can be turned off by setting the [**CCS\_NORESIZE**](common-control-styles.md) and [**CCS\_NOPARENTALIGN**](common-control-styles.md) common control styles.</span></span> <span data-ttu-id="27b37-144">Los controles de barra de herramientas hospedados por controles rebar deben establecer estos estilos porque el control rebar dimensiona y coloca la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-144">Toolbar controls that are hosted by rebar controls must set these styles because the rebar control sizes and positions the toolbar.</span></span>

## <a name="transparent-toolbars"></a><span data-ttu-id="27b37-145">Barras de herramientas transparentes</span><span class="sxs-lookup"><span data-stu-id="27b37-145">Transparent Toolbars</span></span>

<span data-ttu-id="27b37-146">Los controles de barra de herramientas admiten una apariencia transparente que permite que el área cliente de la barra de herramientas se muestre.</span><span class="sxs-lookup"><span data-stu-id="27b37-146">Toolbar controls support a transparent look that allows the client area under the toolbar to show through.</span></span> <span data-ttu-id="27b37-147">Hay dos tipos de barras de herramientas transparentes, unas con botones planos y otras con botones tridimensionales.</span><span class="sxs-lookup"><span data-stu-id="27b37-147">There are two kinds of transparent toolbars, ones with flat buttons and ones with three-dimensional buttons.</span></span> <span data-ttu-id="27b37-148">Si desea que la aplicación coincida con la interfaz de Windows, use la barra de herramientas estilo transparente.</span><span class="sxs-lookup"><span data-stu-id="27b37-148">If you want your application to match the Windows interface, use the flat transparent style toolbar.</span></span>

<span data-ttu-id="27b37-149">En la captura de pantalla siguiente se muestran los dos tipos de barras de herramientas transparentes, no el uso de estilos visuales.</span><span class="sxs-lookup"><span data-stu-id="27b37-149">The following screen shot shows the two kinds of transparent toolbars, not using visual styles.</span></span>

![captura de pantalla de dos ventanas con distintos estilos de barras de herramientas, pero ambas barras de herramientas son transparentes](images/toolbartrans.jpg)

<span data-ttu-id="27b37-151">En la siguiente captura de pantalla se muestra una barra de herramientas transparente como podría aparecer en Windows Vista, con los estilos visuales habilitados.</span><span class="sxs-lookup"><span data-stu-id="27b37-151">The following screen shot shows a transparent toolbar as it might appear in Windows Vista, with visual styles enabled.</span></span> <span data-ttu-id="27b37-152">El color de fondo del cuadro de diálogo se ha cambiado para que la transparencia sea más obvia.</span><span class="sxs-lookup"><span data-stu-id="27b37-152">The background color of the dialog box has been changed to make the transparency more obvious.</span></span>

![captura de pantalla de una ventana en Windows Vista con una barra de herramientas transparente](images/tb-transparent.png)

<span data-ttu-id="27b37-154">Para crear una barra de herramientas transparente, lo único que debe hacer es agregar [**TBSTYLE \_ plano**](toolbar-control-and-button-styles.md) o [**TBSTYLE \_ transparente**](toolbar-control-and-button-styles.md) al parámetro de estilo de ventana de [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="27b37-154">To create a transparent toolbar, all you need to do is add [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) or [**TBSTYLE\_TRANSPARENT**](toolbar-control-and-button-styles.md) to the window style parameter of [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span> <span data-ttu-id="27b37-155">Si no desea que aparezca una línea para indicar la parte inferior de la barra de herramientas, no use el estilo de ventana de [**\_ borde de WS**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="27b37-155">If you do not want a line to appear to indicate the bottom of the toolbar, do not use the [**WS\_BORDER**](/windows/desktop/winmsg/window-styles) window style.</span></span>

> [!Note]  
> <span data-ttu-id="27b37-156">Al usar estilos visuales, las barras de herramientas pueden ser planas de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="27b37-156">When using visual styles, toolbars may be flat by default.</span></span>

 

## <a name="list-style-toolbars"></a><span data-ttu-id="27b37-157">Barras de herramientas de estilo de lista</span><span class="sxs-lookup"><span data-stu-id="27b37-157">List-style Toolbars</span></span>

<span data-ttu-id="27b37-158">Los botones de la barra de herramientas le permiten mostrar tanto el texto como los mapas de bits.</span><span class="sxs-lookup"><span data-stu-id="27b37-158">Toolbar buttons enable you to display both text and bitmaps.</span></span> <span data-ttu-id="27b37-159">Los botones de una barra de herramientas creada con el estilo de [**\_ lista TBSTYLE**](toolbar-control-and-button-styles.md) colocan el texto a la derecha del mapa de bits en lugar de debajo de él.</span><span class="sxs-lookup"><span data-stu-id="27b37-159">The buttons on a toolbar created with the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) style place text to the right of the bitmap instead of under it.</span></span>

<span data-ttu-id="27b37-160">En la captura de pantalla siguiente se muestra una barra de herramientas con el estilo de lista.</span><span class="sxs-lookup"><span data-stu-id="27b37-160">The following screen shot shows a toolbar with the list style.</span></span>

![captura de pantalla de una barra de herramientas con el texto a la derecha de cada icono](images/tb-liststyle.png)

<span data-ttu-id="27b37-162">Puede usar el estilo de la barra de herramientas de [**\_ lista TBSTYLE**](toolbar-control-and-button-styles.md) en combinación con el estilo [**\_ plano TBSTYLE**](toolbar-control-and-button-styles.md) para crear una barra de herramientas con botones planos.</span><span class="sxs-lookup"><span data-stu-id="27b37-162">You can use the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) toolbar style in combination with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style to create a toolbar with flat buttons.</span></span>

## <a name="defining-button-images"></a><span data-ttu-id="27b37-163">Definir imágenes de botón</span><span class="sxs-lookup"><span data-stu-id="27b37-163">Defining Button Images</span></span>

<span data-ttu-id="27b37-164">Hay dos maneras de especificar las imágenes de los botones, por mapas de bits o por listas de imágenes.</span><span class="sxs-lookup"><span data-stu-id="27b37-164">There are two ways to specify the images for buttons—by bitmaps or by image lists.</span></span> <span data-ttu-id="27b37-165">Una aplicación debe elegir el método que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="27b37-165">An application must choose which method to use.</span></span> <span data-ttu-id="27b37-166">No puede utilizar ambos métodos con el mismo control Toolbar.</span><span class="sxs-lookup"><span data-stu-id="27b37-166">It cannot use both methods with the same toolbar control.</span></span> <span data-ttu-id="27b37-167">Tenga en cuenta que la función [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) usa el método Bitmap.</span><span class="sxs-lookup"><span data-stu-id="27b37-167">Note that the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function uses the bitmap method.</span></span> <span data-ttu-id="27b37-168">Las aplicaciones que deseen usar el método de lista de imágenes deben usar la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) para crear el control de barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-168">Applications that want to use the image list method must use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create the toolbar control.</span></span>

### <a name="defining-button-images-by-using-bitmaps"></a><span data-ttu-id="27b37-169">Definir imágenes de botón mediante mapas de bits</span><span class="sxs-lookup"><span data-stu-id="27b37-169">Defining Button Images by Using Bitmaps</span></span>

<span data-ttu-id="27b37-170">Cada botón de una barra de herramientas puede incluir una imagen de mapa de imágenes.</span><span class="sxs-lookup"><span data-stu-id="27b37-170">Each button in a toolbar can include a bitmapped image.</span></span> <span data-ttu-id="27b37-171">Una barra de herramientas usa una lista interna para almacenar la información que necesita para dibujar las imágenes.</span><span class="sxs-lookup"><span data-stu-id="27b37-171">A toolbar uses an internal list to store the information that it needs to draw the images.</span></span> <span data-ttu-id="27b37-172">Cuando se llama a la función [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) , se especifica un mapa de bits monocromo o de color que contiene las imágenes iniciales y la barra de herramientas agrega la información a la lista interna de imágenes.</span><span class="sxs-lookup"><span data-stu-id="27b37-172">When you call the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function, you specify a monochrome or color bitmap that contains the initial images, and the toolbar adds the information to the internal list of images.</span></span> <span data-ttu-id="27b37-173">Puede agregar más imágenes más adelante mediante el mensaje [**TB \_ ADDBITMAP**](tb-addbitmap.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-173">You can add additional images later by using the [**TB\_ADDBITMAP**](tb-addbitmap.md) message.</span></span>

<span data-ttu-id="27b37-174">Cada imagen tiene un índice basado en cero.</span><span class="sxs-lookup"><span data-stu-id="27b37-174">Each image has a zero-based index.</span></span> <span data-ttu-id="27b37-175">La primera imagen agregada a la lista interna tiene un índice de 0, la segunda imagen tiene un índice de 1, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="27b37-175">The first image added to the internal list has an index of 0, the second image has an index of 1, and so on.</span></span> <span data-ttu-id="27b37-176">[**TB \_ ADDBITMAP**](tb-addbitmap.md) agrega imágenes al final de la lista y devuelve el índice de la primera imagen nueva que se ha agregado.</span><span class="sxs-lookup"><span data-stu-id="27b37-176">[**TB\_ADDBITMAP**](tb-addbitmap.md) adds images to the end of the list and returns the index of the first new image that it added.</span></span> <span data-ttu-id="27b37-177">Para asociar la imagen con un botón, debe enviar un mensaje [**TB \_ ADDBUTTONS**](tb-addbuttons.md) y especificar el índice de la imagen después de agregar mapas de bits a la lista de imágenes internas.</span><span class="sxs-lookup"><span data-stu-id="27b37-177">To associate the image with a button, you must send a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message and specify the image's index after you add bitmaps to the internal image list.</span></span>

<span data-ttu-id="27b37-178">Windows supone que todas las imágenes de mapa de la barra de herramientas tienen el mismo tamaño.</span><span class="sxs-lookup"><span data-stu-id="27b37-178">Windows assumes that all of a toolbar's bitmapped images are the same size.</span></span> <span data-ttu-id="27b37-179">El tamaño se especifica al crear la barra de herramientas mediante [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span><span class="sxs-lookup"><span data-stu-id="27b37-179">You specify the size when you create the toolbar by using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span></span> <span data-ttu-id="27b37-180">Si usa la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) para crear una barra de herramientas, el tamaño de las imágenes se establece en las dimensiones predeterminadas de 16 por 15 píxeles.</span><span class="sxs-lookup"><span data-stu-id="27b37-180">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, the size of the images is set to the default dimensions of 16 by 15 pixels.</span></span> <span data-ttu-id="27b37-181">Puede usar el mensaje de [**TB \_ SETBITMAPSIZE**](tb-setbitmapsize.md) para cambiar las dimensiones de las imágenes de mapa Dete, pero debe hacerlo antes de agregar imágenes a la lista interna.</span><span class="sxs-lookup"><span data-stu-id="27b37-181">You can use the [**TB\_SETBITMAPSIZE**](tb-setbitmapsize.md) message to change the dimensions of the bitmapped images, but you must do so before adding any images to the internal list.</span></span>

### <a name="defining-button-images-by-using-image-lists"></a><span data-ttu-id="27b37-182">Definir imágenes de botón mediante listas de imágenes</span><span class="sxs-lookup"><span data-stu-id="27b37-182">Defining Button Images by Using Image Lists</span></span>

<span data-ttu-id="27b37-183">También puede almacenar imágenes de botón en un conjunto de [listas de imágenes](image-lists.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-183">You can also store button images in a set of [Image Lists](image-lists.md).</span></span> <span data-ttu-id="27b37-184">Una lista de imágenes es una colección de imágenes del mismo tamaño, a las que se puede hacer referencia a través de su índice.</span><span class="sxs-lookup"><span data-stu-id="27b37-184">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="27b37-185">Las listas de imágenes se utilizan para administrar grandes conjuntos de iconos o mapas de bits.</span><span class="sxs-lookup"><span data-stu-id="27b37-185">Image lists are used to manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="27b37-186">Puede usar hasta tres listas de imágenes diferentes para mostrar botones en varios Estados, como se muestra en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="27b37-186">You can use up to three different image lists to display buttons in various states, as shown in the following table.</span></span>



|          |                                                                                                                                                                                              |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="27b37-187">Normal</span><span class="sxs-lookup"><span data-stu-id="27b37-187">Normal</span></span>   | <span data-ttu-id="27b37-188">Botones en su estado predeterminado.</span><span class="sxs-lookup"><span data-stu-id="27b37-188">Buttons in their default state.</span></span>                                                                                                                                                              |
| <span data-ttu-id="27b37-189">Acceso frecuente</span><span class="sxs-lookup"><span data-stu-id="27b37-189">Hot</span></span>      | <span data-ttu-id="27b37-190">Botones que están debajo del puntero o presionados.</span><span class="sxs-lookup"><span data-stu-id="27b37-190">Buttons that are under the pointer or pressed.</span></span> <span data-ttu-id="27b37-191">Los elementos de acceso frecuente solo se admiten en los controles de barra de herramientas que tienen el estilo [**\_ plano TBSTYLE**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-191">Hot items are supported only in toolbar controls that have the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style.</span></span> |
| <span data-ttu-id="27b37-192">Disabled</span><span class="sxs-lookup"><span data-stu-id="27b37-192">Disabled</span></span> | <span data-ttu-id="27b37-193">Botones que están deshabilitados.</span><span class="sxs-lookup"><span data-stu-id="27b37-193">Buttons that are disabled.</span></span>                                                                                                                                                                   |



 

<span data-ttu-id="27b37-194">Una vez destruida la barra de herramientas, las aplicaciones deben liberar las listas de imágenes que hayan creado.</span><span class="sxs-lookup"><span data-stu-id="27b37-194">After the toolbar is destroyed, applications must free any image lists they have created.</span></span>

## <a name="defining-text-for-buttons"></a><span data-ttu-id="27b37-195">Definir texto para botones</span><span class="sxs-lookup"><span data-stu-id="27b37-195">Defining Text for Buttons</span></span>

<span data-ttu-id="27b37-196">Cada botón puede mostrar una cadena además de o en lugar de una imagen.</span><span class="sxs-lookup"><span data-stu-id="27b37-196">Each button can display a string in addition to, or instead of, an image.</span></span> <span data-ttu-id="27b37-197">Una barra de herramientas mantiene una lista interna que contiene todas las cadenas disponibles para los botones de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-197">A toolbar maintains an internal list that contains all the strings available to toolbar buttons.</span></span> <span data-ttu-id="27b37-198">Puede Agregar cadenas a la lista interna mediante el mensaje de [**TB \_ ADDSTRING**](tb-addstring.md) , especificando la dirección del búfer que contiene las cadenas que se van a agregar.</span><span class="sxs-lookup"><span data-stu-id="27b37-198">You add strings to the internal list by using the [**TB\_ADDSTRING**](tb-addstring.md) message, specifying the address of the buffer containing the strings to add.</span></span> <span data-ttu-id="27b37-199">Cada cadena debe terminar en NULL y la última cadena debe terminar con dos caracteres null.</span><span class="sxs-lookup"><span data-stu-id="27b37-199">Each string must be null-terminated, and the last string must be terminated with two null characters.</span></span>

<span data-ttu-id="27b37-200">Cada cadena tiene un índice basado en cero.</span><span class="sxs-lookup"><span data-stu-id="27b37-200">Each string has a zero-based index.</span></span> <span data-ttu-id="27b37-201">La primera cadena agregada a la lista interna de cadenas tiene un índice de 0, la segunda cadena tiene un índice de 1, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="27b37-201">The first string added to the internal list of strings has an index of 0, the second string has an index of 1, and so on.</span></span> <span data-ttu-id="27b37-202">[**TB \_ ADDSTRING**](tb-addstring.md) agrega cadenas al final de la lista y devuelve el índice de la primera cadena nueva.</span><span class="sxs-lookup"><span data-stu-id="27b37-202">[**TB\_ADDSTRING**](tb-addstring.md) adds strings to the end of the list and returns the index of the first new string.</span></span> <span data-ttu-id="27b37-203">El índice de una cadena se usa para asociar la cadena con un botón.</span><span class="sxs-lookup"><span data-stu-id="27b37-203">You use a string's index to associate the string with a button.</span></span>

<span data-ttu-id="27b37-204">El uso de [**TB \_ ADDSTRING**](tb-addstring.md) no es la única manera de agregar cadenas a una barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-204">Using [**TB\_ADDSTRING**](tb-addstring.md) is not the only way to add strings to a toolbar.</span></span> <span data-ttu-id="27b37-205">Puede mostrar una cadena en un botón pasando un puntero de cadena en el miembro **iString** de la estructura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) que se pasa a [**TB \_ ADDBUTTONS**](tb-addbuttons.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-205">You can display a string in a button by passing a string pointer in the **iString** member of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure that is passed to [**TB\_ADDBUTTONS**](tb-addbuttons.md).</span></span> <span data-ttu-id="27b37-206">Además, puede usar [**TB \_ SETBUTTONINFO**](tb-setbuttoninfo.md) para asignar texto a un botón de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-206">Additionally, you can use [**TB\_SETBUTTONINFO**](tb-setbuttoninfo.md) to assign text to a toolbar button.</span></span>

## <a name="adding-toolbar-buttons"></a><span data-ttu-id="27b37-207">Agregar botones de barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-207">Adding Toolbar Buttons</span></span>

<span data-ttu-id="27b37-208">Si usa la función [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) para crear una barra de herramientas, puede agregar botones a la barra de herramientas rellenando una matriz de estructuras [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) y especificando la dirección de la matriz en la llamada de función.</span><span class="sxs-lookup"><span data-stu-id="27b37-208">If you use the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function to create a toolbar, you can add buttons to the toolbar by filling an array of [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structures and specifying the address of the array in the function call.</span></span> <span data-ttu-id="27b37-209">Sin embargo, la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) no tiene un parámetro para pasar una estructura **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="27b37-209">However, the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have a parameter for passing a **TBBUTTON** structure.</span></span> <span data-ttu-id="27b37-210">**CreateWindowEx** crea una barra de herramientas vacía que se rellena mediante el envío de un mensaje de [**TB \_ ADDBUTTONS**](tb-addbuttons.md) , que especifica la dirección de una estructura **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="27b37-210">**CreateWindowEx** creates an empty toolbar that you fill by sending a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message, specifying the address of a **TBBUTTON** structure.</span></span>

<span data-ttu-id="27b37-211">Después de crear una barra de herramientas, puede agregar botones mediante el envío de un mensaje [**TB \_ INSERTBUTTON**](tb-insertbutton.md) o [**TB \_ ADDBUTTONS**](tb-addbuttons.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-211">After a toolbar is created, you can add buttons by sending a [**TB\_INSERTBUTTON**](tb-insertbutton.md) or [**TB\_ADDBUTTONS**](tb-addbuttons.md) message.</span></span> <span data-ttu-id="27b37-212">Cada botón se describe mediante una estructura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) , que define los atributos del botón, incluidos los índices de su cadena y mapa de bits, así como su estilo, estado, identificador de comando y valor de 32 bits definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="27b37-212">Each button is described by a [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure, which defines the attributes of the button, including the indexes of its string and bitmap as well as its style, state, command identifier, and application-defined 32-bit value.</span></span>

> [!Note]  
> <span data-ttu-id="27b37-213">Si usa la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) para crear una barra de herramientas, debe enviar el mensaje de [**TB \_ BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) antes de agregar cualquier botón.</span><span class="sxs-lookup"><span data-stu-id="27b37-213">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, you must send the [**TB\_BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) message before adding any buttons.</span></span> <span data-ttu-id="27b37-214">El mensaje pasa el tamaño de la estructura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) a la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-214">The message passes the size of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure to the toolbar.</span></span>

 

### <a name="toolbar-button-styles"></a><span data-ttu-id="27b37-215">Estilos de botón de barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-215">Toolbar Button Styles</span></span>

<span data-ttu-id="27b37-216">El estilo de un botón determina cómo aparece el botón y cómo responde a los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="27b37-216">A button's style determines how the button appears and how it responds to user input.</span></span> <span data-ttu-id="27b37-217">Por ejemplo, el estilo de [**\_ botón BTNS**](toolbar-control-and-button-styles.md) crea un botón de barra de herramientas que se comporta como un botón de tecla de preinstalación estándar.</span><span class="sxs-lookup"><span data-stu-id="27b37-217">For instance, the [**BTNS\_BUTTON**](toolbar-control-and-button-styles.md) style creates a toolbar button that behaves like a standard push button.</span></span> <span data-ttu-id="27b37-218">Un botón que tiene el estilo de [**\_ comprobación BTNS**](toolbar-control-and-button-styles.md) es similar a un botón de comando de inserción estándar, salvo que alterna entre los Estados presionado y sin presionar cada vez que el usuario hace clic en él.</span><span class="sxs-lookup"><span data-stu-id="27b37-218">A button that has the [**BTNS\_CHECK**](toolbar-control-and-button-styles.md) style is similar to a standard push button, except it toggles between the pressed and nonpressed states each time the user clicks it.</span></span>

<span data-ttu-id="27b37-219">Puede crear grupos de botones de la barra de herramientas que actúen como botones de radio mediante el [**\_ Grupo BTNS**](toolbar-control-and-button-styles.md) o el estilo [**\_ CHECKGROUP BTNS**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-219">You can create groups of toolbar buttons that act like radio buttons by using the [**BTNS\_GROUP**](toolbar-control-and-button-styles.md) or [**BTNS\_CHECKGROUP**](toolbar-control-and-button-styles.md) style.</span></span> <span data-ttu-id="27b37-220">Esto hace que se mantenga presionado un botón hasta que el usuario elija otro botón del grupo.</span><span class="sxs-lookup"><span data-stu-id="27b37-220">This causes a button to stay pressed until the user chooses another button in the group.</span></span> <span data-ttu-id="27b37-221">Un grupo se define como una colección contigua de botones, todos con el **BTNS \_** o el estilo **BTNS \_ CHECKGROUP** .</span><span class="sxs-lookup"><span data-stu-id="27b37-221">A group is defined as a contiguous collection of buttons, all with the **BTNS\_GROUP** or **BTNS\_CHECKGROUP** style.</span></span>

<span data-ttu-id="27b37-222">El estilo [**BTNS \_ Sep**](toolbar-control-and-button-styles.md) crea un pequeño espacio entre los botones o dibuja un grabado entre los botones de las barras de herramientas sin formato.</span><span class="sxs-lookup"><span data-stu-id="27b37-222">The [**BTNS\_SEP**](toolbar-control-and-button-styles.md) style creates a small gap between buttons or draws an etch between buttons on flat toolbars.</span></span> <span data-ttu-id="27b37-223">Un botón con el estilo **BTNS \_ Sep** no recibe datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="27b37-223">A button with the **BTNS\_SEP** style does not receive user input.</span></span>

<span data-ttu-id="27b37-224">En la versión 5,80 de los controles comunes se introdujeron algunos estilos de botón de la barra de herramientas nuevos y se cambió el nombre de algunos de los estilos anteriores.</span><span class="sxs-lookup"><span data-stu-id="27b37-224">Version 5.80 of the common controls introduced some new toolbar button styles and renamed some of the older styles.</span></span> <span data-ttu-id="27b37-225">Ahora, todas las marcas de estilo de botón comienzan por BTNS \_ XXX en lugar de TBSTYLE \_ xxx.</span><span class="sxs-lookup"><span data-stu-id="27b37-225">All button style flags now begin with BTNS\_XXX instead of TBSTYLE\_XXX.</span></span> <span data-ttu-id="27b37-226">Para obtener una lista y una descripción de los estilos de botón, vea [control de barra de herramientas y estilos de botón](toolbar-control-and-button-styles.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-226">For a listing and discussion of the button styles, see [Toolbar Control and Button Styles](toolbar-control-and-button-styles.md).</span></span>

### <a name="toolbar-button-states"></a><span data-ttu-id="27b37-227">Estados del botón de la barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="27b37-227">Toolbar Button States</span></span>

<span data-ttu-id="27b37-228">Cada botón de una barra de herramientas tiene un estado.</span><span class="sxs-lookup"><span data-stu-id="27b37-228">Each button in a toolbar has a state.</span></span> <span data-ttu-id="27b37-229">La barra de herramientas actualiza el estado de un botón para reflejar las acciones del usuario, como hacer clic en el botón.</span><span class="sxs-lookup"><span data-stu-id="27b37-229">The toolbar updates a button's state to reflect user actions, such as clicking the button.</span></span> <span data-ttu-id="27b37-230">El estado indica si el botón está actualmente presionado o no presionado, habilitado o deshabilitado, oculto o visible.</span><span class="sxs-lookup"><span data-stu-id="27b37-230">The state indicates whether the button is currently pressed or not pressed, enabled or disabled, hidden or visible.</span></span> <span data-ttu-id="27b37-231">Aunque una aplicación establece el estado inicial de un botón al agregar el botón a la barra de herramientas, puede cambiar y recuperar el estado mediante el envío de los mensajes [**TB \_ GETSTATE**](tb-getstate.md) y [**TB \_ SETSTATE**](tb-setstate.md) a la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-231">Although an application sets a button's initial state when adding the button to the toolbar, it can change and retrieve the state by sending [**TB\_GETSTATE**](tb-getstate.md) and [**TB\_SETSTATE**](tb-setstate.md) messages to the toolbar.</span></span> <span data-ttu-id="27b37-232">Para obtener una lista de Estados de botones de la barra de herramientas, vea Estados de la [barra de herramientas](toolbar-button-states.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-232">For a list of toolbar button states, see [Toolbar States](toolbar-button-states.md).</span></span>

### <a name="command-identifier"></a><span data-ttu-id="27b37-233">Identificador de comando</span><span class="sxs-lookup"><span data-stu-id="27b37-233">Command Identifier</span></span>

<span data-ttu-id="27b37-234">Cada botón tiene asociado un identificador de comando definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="27b37-234">Each button has an application-defined command identifier associated with it.</span></span> <span data-ttu-id="27b37-235">Los identificadores de botón normalmente se definen en un archivo de encabezado de aplicación.</span><span class="sxs-lookup"><span data-stu-id="27b37-235">Button identifiers are usually defined in an application header file.</span></span> <span data-ttu-id="27b37-236">Por ejemplo, un botón pegar se puede definir de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="27b37-236">For example, a Paste button can be defined as:</span></span>


```
#define ID_PASTE 100
```



<span data-ttu-id="27b37-237">Cuando el usuario selecciona un botón, la barra de herramientas envía a la ventana primaria un [**\_ comando de WM**](/windows/desktop/menurc/wm-command) o un mensaje de [**\_ notificación de WM**](wm-notify.md) que incluye el identificador de comando del botón.</span><span class="sxs-lookup"><span data-stu-id="27b37-237">When the user selects a button, the toolbar sends the parent window a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) message that includes the command identifier of the button.</span></span> <span data-ttu-id="27b37-238">La ventana primaria examina el identificador de comando y realiza el comando asociado al botón.</span><span class="sxs-lookup"><span data-stu-id="27b37-238">The parent window examines the command identifier and carries out the command associated with the button.</span></span> <span data-ttu-id="27b37-239">Para obtener información acerca de cuándo los controles envían mensajes de **\_ comandos de WM** y cuándo envían la **\_ notificación de WM**, consulte la sección Comentarios de la documentación de [**\_ notificaciones de WM**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-239">For information about when controls send **WM\_COMMAND** messages and when they send **WM\_NOTIFY**, see the Remarks section of the [**WM\_NOTIFY**](wm-notify.md) documentation.</span></span>

### <a name="button-size-and-position"></a><span data-ttu-id="27b37-240">Tamaño y posición del botón</span><span class="sxs-lookup"><span data-stu-id="27b37-240">Button Size and Position</span></span>

<span data-ttu-id="27b37-241">Una barra de herramientas realiza un seguimiento de sus botones asignando cada botón a un índice de posición.</span><span class="sxs-lookup"><span data-stu-id="27b37-241">A toolbar keeps track of its buttons by assigning each button a position index.</span></span> <span data-ttu-id="27b37-242">El índice es de base cero; es decir, el botón situado más a la izquierda tiene un índice de 0, el botón siguiente a la derecha tiene un índice de 1, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="27b37-242">The index is zero-based; that is, the leftmost button has an index of 0, the next button to the right has an index of 1, and so on.</span></span> <span data-ttu-id="27b37-243">Una aplicación debe especificar el índice de un botón al enviar mensajes para recuperar información sobre el botón o para establecer los atributos del botón.</span><span class="sxs-lookup"><span data-stu-id="27b37-243">An application must specify the index of a button when sending messages to retrieve information about the button or to set the button's attributes.</span></span>

<span data-ttu-id="27b37-244">Una barra de herramientas actualiza los índices de posición a medida que se insertan y se quitan botones.</span><span class="sxs-lookup"><span data-stu-id="27b37-244">A toolbar updates the position indexes as buttons are inserted and removed.</span></span> <span data-ttu-id="27b37-245">Una aplicación puede recuperar el índice de posición actual de un botón mediante el mensaje [**TB \_ COMMANDTOINDEX**](tb-commandtoindex.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-245">An application can retrieve the current position index of a button by using the [**TB\_COMMANDTOINDEX**](tb-commandtoindex.md) message.</span></span> <span data-ttu-id="27b37-246">El mensaje especifica el identificador de comando de un botón y la ventana de la barra de herramientas usa el identificador para buscar el botón y devolver su índice de posición.</span><span class="sxs-lookup"><span data-stu-id="27b37-246">The message specifies the command identifier of a button, and the toolbar window uses the identifier to locate the button and return its position index.</span></span>

<span data-ttu-id="27b37-247">Todos los botones de una barra de herramientas tienen el mismo tamaño.</span><span class="sxs-lookup"><span data-stu-id="27b37-247">All buttons in a toolbar are the same size.</span></span> <span data-ttu-id="27b37-248">La función [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) requiere que se establezca el tamaño inicial de los botones al crear la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-248">The [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function requires you to set the initial size of the buttons when you create the toolbar.</span></span> <span data-ttu-id="27b37-249">Cuando se usa la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , el tamaño inicial se establece en las dimensiones predeterminadas de 24 por 22 píxeles.</span><span class="sxs-lookup"><span data-stu-id="27b37-249">When you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, the initial size is set to the default dimensions of 24 by 22 pixels.</span></span> <span data-ttu-id="27b37-250">Puede usar el mensaje de [**TB \_ SETBUTTONSIZE**](tb-setbuttonsize.md) para cambiar el tamaño del botón, pero debe hacerlo antes de agregar botones a la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-250">You can use the [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message to change the button size, but you must do so before adding any buttons to the toolbar.</span></span> <span data-ttu-id="27b37-251">El mensaje [**TB \_ GETITEMRECT**](tb-getitemrect.md) recupera las dimensiones actuales de los botones.</span><span class="sxs-lookup"><span data-stu-id="27b37-251">The [**TB\_GETITEMRECT**](tb-getitemrect.md) message retrieves the current dimensions of the buttons.</span></span>

<span data-ttu-id="27b37-252">Cuando se agrega una cadena que es más larga que cualquier cadena que se encuentre actualmente en la barra de herramientas, la barra de herramientas restablece automáticamente el ancho de sus botones.</span><span class="sxs-lookup"><span data-stu-id="27b37-252">When you add a string that is longer than any string currently in the toolbar, the toolbar automatically resets the width of its buttons.</span></span> <span data-ttu-id="27b37-253">El ancho se establece para alojar la cadena más larga en la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-253">The width is set to accommodate the longest string in the toolbar.</span></span>

## <a name="enabling-customization"></a><span data-ttu-id="27b37-254">Habilitar la personalización</span><span class="sxs-lookup"><span data-stu-id="27b37-254">Enabling Customization</span></span>

<span data-ttu-id="27b37-255">Una barra de herramientas tiene características de personalización integradas que puede poner a disposición del usuario. para ello, proporcione a la barra de herramientas el estilo de control común de [**CCS \_ ajustable**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-255">A toolbar has built-in customization features that you can make available to the user by giving the toolbar the [**CCS\_ADJUSTABLE**](common-control-styles.md) common control style.</span></span> <span data-ttu-id="27b37-256">Las características de personalización permiten al usuario arrastrar un botón a una nueva posición o quitar un botón arrastrándolo fuera de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-256">The customization features allow the user to drag a button to a new position or to remove a button by dragging it off the toolbar.</span></span> <span data-ttu-id="27b37-257">Además, el usuario puede hacer doble clic en la barra de herramientas para mostrar el cuadro de diálogo Personalizar barra de herramientas, que permite al usuario agregar, eliminar y reorganizar botones de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-257">In addition, the user can double-click the toolbar to display the Customize Toolbar dialog box, which allows the user to add, delete, and rearrange toolbar buttons.</span></span> <span data-ttu-id="27b37-258">Para mostrar el cuadro de diálogo, use el mensaje de [**\_ Personalización de TB**](tb-customize.md) .</span><span class="sxs-lookup"><span data-stu-id="27b37-258">To display the dialog box, use the [**TB\_CUSTOMIZE**](tb-customize.md) message.</span></span> <span data-ttu-id="27b37-259">Una aplicación determina si las características de personalización están disponibles para el usuario y controla la medida en la que el usuario puede personalizar la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-259">An application determines whether the customization features are available to the user and controls the extent to which the user can customize the toolbar.</span></span>

<span data-ttu-id="27b37-260">Como parte del proceso de personalización, las aplicaciones suelen necesitar guardar y restaurar el estado de una barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="27b37-260">As part of the customization process, applications often need to save and restore a toolbar's state.</span></span> <span data-ttu-id="27b37-261">Por ejemplo, muchas aplicaciones almacenan el estado de la barra de herramientas antes de que el usuario comience a personalizar la barra de herramientas en caso de que el usuario desee restaurar la barra de herramientas a su estado original.</span><span class="sxs-lookup"><span data-stu-id="27b37-261">For instance, many applications store the toolbar state before the user begins customizing the toolbar in case the user later wants to restore the toolbar to its original state.</span></span> <span data-ttu-id="27b37-262">El control de barra de herramientas no mantiene automáticamente un registro de su estado de personalización.</span><span class="sxs-lookup"><span data-stu-id="27b37-262">The toolbar control does not automatically keep a record of its precustomization state.</span></span> <span data-ttu-id="27b37-263">La aplicación debe guardar el estado de la barra de herramientas para restaurarlo.</span><span class="sxs-lookup"><span data-stu-id="27b37-263">Your application must save the toolbar state in order to restore it.</span></span> <span data-ttu-id="27b37-264">Para obtener más información, vea [usar controles Toolbar](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-264">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

## <a name="enabling-hot-tracking"></a><span data-ttu-id="27b37-265">Habilitación del seguimiento activo</span><span class="sxs-lookup"><span data-stu-id="27b37-265">Enabling Hot-tracking</span></span>

<span data-ttu-id="27b37-266">El seguimiento activo significa que cuando el puntero se mueve sobre un elemento, cambia la apariencia del botón.</span><span class="sxs-lookup"><span data-stu-id="27b37-266">Hot-tracking means that when the pointer moves over an item, the button's appearance changes.</span></span> <span data-ttu-id="27b37-267">Cuando los estilos visuales están habilitados, las barras de herramientas admiten el seguimiento activo de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="27b37-267">When visual styles are enabled, toolbars support hot-tracking by default.</span></span> <span data-ttu-id="27b37-268">De lo contrario, solo los controles de barra de herramientas creados con el estilo [**\_ plano TBSTYLE**](toolbar-control-and-button-styles.md) admiten el seguimiento activo.</span><span class="sxs-lookup"><span data-stu-id="27b37-268">Otherwise, only toolbar controls created with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style support hot-tracking.</span></span> <span data-ttu-id="27b37-269">Puede usar otros estilos de ventana en combinación con **TBSTYLE \_ plano** para generar barras de herramientas que habiliten el seguimiento activo, pero que tengan una apariencia diferente a la de una barra de herramientas plana.</span><span class="sxs-lookup"><span data-stu-id="27b37-269">You can use other window styles in combination with **TBSTYLE\_FLAT** to produce toolbars that enable hot-tracking but have a different appearance from a flat toolbar.</span></span> <span data-ttu-id="27b37-270">Para obtener más información, vea [usar controles Toolbar](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="27b37-270">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

 