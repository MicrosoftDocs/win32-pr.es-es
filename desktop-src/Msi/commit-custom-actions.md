---
description: La confirmación de acciones personalizadas se ejecuta cuando se completa correctamente el script de instalación.
ms.assetid: ad766585-e8ac-44b6-9717-7979f803886c
title: Confirmar acciones personalizadas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 174af16a84f71ff90a1fc35c76054ee503449b8a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105666831"
---
# <a name="commit-custom-actions"></a><span data-ttu-id="1a11f-103">Confirmar acciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="1a11f-103">Commit Custom Actions</span></span>

<span data-ttu-id="1a11f-104">La confirmación de acciones personalizadas se ejecuta cuando se completa correctamente el script de instalación.</span><span class="sxs-lookup"><span data-stu-id="1a11f-104">Commit Custom actions are executed upon successful completion of the installation script.</span></span> <span data-ttu-id="1a11f-105">Si la [acción InstallFinalize](installfinalize-action.md) es correcta, el instalador ejecutará las acciones personalizadas commit existentes.</span><span class="sxs-lookup"><span data-stu-id="1a11f-105">If the [InstallFinalize action](installfinalize-action.md) is successful, the installer will then run any existing Commit Custom actions.</span></span> <span data-ttu-id="1a11f-106">El único parámetro de modo que establece el instalador en este caso es MSIRUNMODE \_ commit.</span><span class="sxs-lookup"><span data-stu-id="1a11f-106">The only mode parameter the installer sets in this case is MSIRUNMODE\_COMMIT.</span></span> <span data-ttu-id="1a11f-107">Consulte [**MsiGetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode) para obtener una descripción de los parámetros de modo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="1a11f-107">See [**MsiGetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode) for a description of the run mode parameters.</span></span>

<span data-ttu-id="1a11f-108">Se puede especificar una acción personalizada commit agregando una marca de opción al campo Type de la [tabla CustomAction](customaction-table.md).</span><span class="sxs-lookup"><span data-stu-id="1a11f-108">A commit custom action can be specified by adding an option flag to the Type field of the [CustomAction table](customaction-table.md).</span></span> <span data-ttu-id="1a11f-109">Consulte [acción personalizada In-Script opciones de ejecución](custom-action-in-script-execution-options.md) para la marca de opción que designa una acción personalizada commit.</span><span class="sxs-lookup"><span data-stu-id="1a11f-109">See [Custom Action In-Script Execution Options](custom-action-in-script-execution-options.md) for the option flag designating a commit custom action.</span></span>

<span data-ttu-id="1a11f-110">Una acción personalizada commit es el complemento de una [acción de reversión personalizada](rollback-custom-actions.md) y se puede usar con las acciones personalizadas de reversión para invertir acciones personalizadas que realizan cambios directamente en el sistema.</span><span class="sxs-lookup"><span data-stu-id="1a11f-110">A commit custom action is the complement to a [rollback custom action](rollback-custom-actions.md) and can be used with rollback custom actions to reverse custom actions that make changes directly to the system.</span></span>

<span data-ttu-id="1a11f-111">Tenga en cuenta que es posible que una acción personalizada de reversión no pueda quitar todos los cambios realizados por las acciones de confirmación personalizadas.</span><span class="sxs-lookup"><span data-stu-id="1a11f-111">Note that a rollback custom action may not be able to remove all of the changes made by commit custom actions.</span></span> <span data-ttu-id="1a11f-112">Aunque el instalador escribe las acciones personalizadas de reversión y confirmación en el script de reversión, la confirmación de acciones personalizadas solo se ejecuta después de que el instalador haya procesado correctamente el script de instalación.</span><span class="sxs-lookup"><span data-stu-id="1a11f-112">Although the installer writes both rollback and commit custom actions into the rollback script, commit custom actions only run after the installer has successfully processed the installation script.</span></span> <span data-ttu-id="1a11f-113">La confirmación de acciones personalizadas son las primeras acciones que se ejecutan en el script de reversión.</span><span class="sxs-lookup"><span data-stu-id="1a11f-113">Commit custom actions are the first actions to run in the rollback script.</span></span> <span data-ttu-id="1a11f-114">Si se produce un error en una acción personalizada commit, el instalador inicia la reversión, pero solo puede revertir las operaciones ya escritas en el script de reversión.</span><span class="sxs-lookup"><span data-stu-id="1a11f-114">If a commit custom action fails, the installer initiates rollback but can only rollback those operations already written to the rollback script.</span></span> <span data-ttu-id="1a11f-115">Esto significa que, dependiendo de la acción personalizada commit, es posible que una operación de reversión no pueda deshacer los cambios realizados por la acción.</span><span class="sxs-lookup"><span data-stu-id="1a11f-115">This means that depending on the commit custom action, a rollback may not be able to undo the changes made by the action.</span></span> <span data-ttu-id="1a11f-116">Puede omitir los errores en confirmar acciones personalizadas mediante la creación de la acción personalizada para omitir los códigos de retorno.</span><span class="sxs-lookup"><span data-stu-id="1a11f-116">You can ignore failures in commit custom actions by authoring the custom action to ignore return codes.</span></span>

<span data-ttu-id="1a11f-117">Las acciones personalizadas de reversión y confirmación no se ejecutan cuando la reversión está deshabilitada.</span><span class="sxs-lookup"><span data-stu-id="1a11f-117">Rollback and commit custom actions do not run when rollback is disabled.</span></span> <span data-ttu-id="1a11f-118">Si un autor de paquetes requiere estos tipos de acciones personalizadas para una instalación adecuada, deben usar la propiedad [**RollbackDisabled**](rollbackdisabled.md) en una condición que impida que la instalación continúe cuando la reversión está deshabilitada.</span><span class="sxs-lookup"><span data-stu-id="1a11f-118">If a package author requires these types of custom actions for proper installation, they should use the [**RollbackDisabled**](rollbackdisabled.md) Property in a condition that prevents the installation from continuing when rollback is disabled.</span></span>

 

 



