---
description: El modelo de seguridad de Windows permite controlar el acceso a los objetos de asignación de archivos. Para obtener más información, vea modelo de Access-Control.
ms.assetid: 8bbf7c98-ff83-4ed9-8b82-f08dcd31295c
title: Derechos de acceso y seguridad de asignación de archivos
ms.topic: article
ms.date: 10/06/2018
ms.openlocfilehash: 65d520e12d1b555e7c633f0d1e0ba5142c330ce8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105677357"
---
# <a name="file-mapping-security-and-access-rights"></a><span data-ttu-id="8f707-104">Derechos de acceso y seguridad de asignación de archivos</span><span class="sxs-lookup"><span data-stu-id="8f707-104">File-mapping security and access rights</span></span>

<span data-ttu-id="8f707-105">El modelo de seguridad de Windows permite controlar el acceso a los objetos de asignación de archivos.</span><span class="sxs-lookup"><span data-stu-id="8f707-105">The Windows security model lets you control access to file-mapping objects.</span></span> <span data-ttu-id="8f707-106">Para obtener más información, vea [modelo de control de acceso](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="8f707-106">For more information, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="8f707-107">Puede especificar un [descriptor de seguridad](../secauthz/security-descriptors.md) para un objeto de asignación de archivos al llamar a la función [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="8f707-107">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a file-mapping object when you call the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span> <span data-ttu-id="8f707-108">Si especifica **null**, el objeto obtiene un descriptor de seguridad predeterminado.</span><span class="sxs-lookup"><span data-stu-id="8f707-108">If you specify **NULL**, the object gets a default security descriptor.</span></span> <span data-ttu-id="8f707-109">Las ACL del descriptor de seguridad predeterminado para un objeto de asignación de archivos proceden del token principal o de suplantación del creador.</span><span class="sxs-lookup"><span data-stu-id="8f707-109">The ACLs in the default security descriptor for a file-mapping object come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="8f707-110">Para recuperar el descriptor de seguridad de un objeto de asignación de archivos, llame a la función [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa) o [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="8f707-110">To retrieve the security descriptor of a file-mapping object, call the [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa) or [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="8f707-111">Para establecer el descriptor de seguridad de un objeto de asignación de archivos, llame a la función [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa) o [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="8f707-111">To set the security descriptor of a file-mapping object, call the [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa) or [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="8f707-112">Los derechos de acceso válidos para los objetos de asignación de archivos incluyen los [derechos de acceso](../secauthz/standard-access-rights.md)de **eliminación**, **\_ control de lectura**, **\_ DAC de escritura** y **\_ propietario de escritura** .</span><span class="sxs-lookup"><span data-stu-id="8f707-112">The valid access rights for file-mapping objects include the **DELETE**, **READ\_CONTROL**, **WRITE\_DAC**, and **WRITE\_OWNER** [standard access rights](../secauthz/standard-access-rights.md).</span></span> <span data-ttu-id="8f707-113">Los objetos de asignación de archivos no admiten el derecho **sincronizar** el acceso estándar.</span><span class="sxs-lookup"><span data-stu-id="8f707-113">File mapping objects do not support the **SYNCHRONIZE** standard access right.</span></span> <span data-ttu-id="8f707-114">En la tabla siguiente se enumeran los derechos de acceso que son específicos de los objetos de asignación de archivos.</span><span class="sxs-lookup"><span data-stu-id="8f707-114">The following table lists the access rights that are specific to file-mapping objects.</span></span>

| <span data-ttu-id="8f707-115">Derecho de acceso</span><span class="sxs-lookup"><span data-stu-id="8f707-115">Access right</span></span> | <span data-ttu-id="8f707-116">Significado</span><span class="sxs-lookup"><span data-stu-id="8f707-116">Meaning</span></span> |
|-|-|
| <span data-ttu-id="8f707-117">**asignación de archivos \_ \_ todos los \_ accesos**</span><span class="sxs-lookup"><span data-stu-id="8f707-117">**FILE\_MAP\_ALL\_ACCESS**</span></span> | <span data-ttu-id="8f707-118">Incluye todos los derechos de acceso a un objeto de asignación de archivos, excepto la **\_ \_ ejecución de asignación de archivos**.</span><span class="sxs-lookup"><span data-stu-id="8f707-118">Includes all access rights to a file-mapping object except **FILE\_MAP\_EXECUTE**.</span></span> <span data-ttu-id="8f707-119">Las funciones [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) y [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) tratan esto igual que si se especifica **la \_ \_ escritura de asignación de archivos**.</span><span class="sxs-lookup"><span data-stu-id="8f707-119">The [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) and [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) functions treat this the same as specifying **FILE\_MAP\_WRITE**.</span></span> |
| <span data-ttu-id="8f707-120">**\_ejecución de asignación de archivos \_**</span><span class="sxs-lookup"><span data-stu-id="8f707-120">**FILE\_MAP\_EXECUTE**</span></span> | <span data-ttu-id="8f707-121">Permite la asignación de vistas ejecutables del objeto de asignación de archivos.</span><span class="sxs-lookup"><span data-stu-id="8f707-121">Allows mapping of executable views of the file-mapping object.</span></span> <span data-ttu-id="8f707-122">El objeto se debe haber creado con protección de página que permita el acceso de ejecución, como **Page \_ Execute \_ Read**, **Page \_ Execute \_ WRITECOPY** o **Page \_ Execute \_ ReadWrite** Protection.</span><span class="sxs-lookup"><span data-stu-id="8f707-122">The object must have been created with page protection that allows execute access, such as **PAGE\_EXECUTE\_READ**, **PAGE\_EXECUTE\_WRITECOPY**, or **PAGE\_EXECUTE\_READWRITE** protection.</span></span>  |
| <span data-ttu-id="8f707-123">**\_lectura del mapa de archivos \_**</span><span class="sxs-lookup"><span data-stu-id="8f707-123">**FILE\_MAP\_READ**</span></span> | <span data-ttu-id="8f707-124">Permite la asignación de vistas de solo lectura o de copia en escritura del objeto de asignación de archivos.</span><span class="sxs-lookup"><span data-stu-id="8f707-124">Allows mapping of read-only or copy-on-write views of the file-mapping object.</span></span>  |
| <span data-ttu-id="8f707-125">**\_escritura de asignación de archivos \_**</span><span class="sxs-lookup"><span data-stu-id="8f707-125">**FILE\_MAP\_WRITE**</span></span> | <span data-ttu-id="8f707-126">Permite asignar vistas de solo lectura, de copia en escritura o de lectura y escritura de un objeto de asignación de archivos.</span><span class="sxs-lookup"><span data-stu-id="8f707-126">Allows mapping of read-only, copy-on-write, or read/write views of a file-mapping object.</span></span> <span data-ttu-id="8f707-127">El objeto se debe haber creado con protección de página que permita el acceso de escritura, como la **página \_ ReadWrite** o la protección **\_ \_ ReadWrite de ejecución de página** .</span><span class="sxs-lookup"><span data-stu-id="8f707-127">The object must have been created with page protection that allows write access, such as **PAGE\_READWRITE** or **PAGE\_EXECUTE\_READWRITE** protection.</span></span> |

<span data-ttu-id="8f707-128">La asignación de una vista de copia en escritura de un objeto de asignación de archivos requiere el mismo acceso que la asignación de una vista de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="8f707-128">Mapping a copy-on-write view of a file-mapping object requires the same access as mapping a read-only view.</span></span> <span data-ttu-id="8f707-129">La marca de **\_ \_ copia del mapa de archivos** no es un derecho de acceso y no debe especificarse como parte de una DACL en un descriptor de seguridad.</span><span class="sxs-lookup"><span data-stu-id="8f707-129">The **FILE\_MAP\_COPY** flag is not an access right, and it should not be specified as part of a DACL in a security descriptor.</span></span> <span data-ttu-id="8f707-130">Este valor solo se puede usar con funciones que asignan una vista de un objeto de asignación de archivos, como las funciones [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) y [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) , o con la función [**OpenFileMapping**](/windows/desktop/api/WinBase/nf-winbase-openfilemappinga) , que trata la **copia del \_ mapa \_ de archivos** de la misma forma que trata la **lectura del \_ mapa \_ de archivos**.</span><span class="sxs-lookup"><span data-stu-id="8f707-130">This value can be used only with functions that map a view of a file-mapping object, such as the [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) and [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) functions, or with the [**OpenFileMapping**](/windows/desktop/api/WinBase/nf-winbase-openfilemappinga) function, which treats **FILE\_MAP\_COPY** the same way it treats **FILE\_MAP\_READ**.</span></span>

<span data-ttu-id="8f707-131">Puede solicitar el derecho de acceso de **\_ \_ seguridad del sistema de acceso** a un objeto de asignación de archivos si desea leer o escribir la SACL del objeto.</span><span class="sxs-lookup"><span data-stu-id="8f707-131">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a file-mapping object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="8f707-132">Para obtener más información, consulte derechos [de acceso de las listas de control de acceso (ACL)](../secauthz/access-control-lists.md) y [SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="8f707-132">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>
