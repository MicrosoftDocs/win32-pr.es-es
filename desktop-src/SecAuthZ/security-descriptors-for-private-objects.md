---
description: Para crear un descriptor de seguridad, un servidor protegido puede usar el mismo procedimiento que usaría una aplicación para crear un descriptor de seguridad para un objeto protegible.
ms.assetid: f40c4b62-a3f0-4e66-875e-2ef904d052e5
title: Descriptores de seguridad para objetos privados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97c40dc5c4e9f0a3d0e641874153d2862d038a19
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104001279"
---
# <a name="security-descriptors-for-private-objects"></a><span data-ttu-id="addd2-103">Descriptores de seguridad para objetos privados</span><span class="sxs-lookup"><span data-stu-id="addd2-103">Security Descriptors for Private Objects</span></span>

<span data-ttu-id="addd2-104">Para crear un [*descriptor de seguridad*](/windows/desktop/SecGloss/s-gly), un servidor protegido puede usar el mismo procedimiento que usaría una aplicación para crear un descriptor de seguridad para un objeto protegible.</span><span class="sxs-lookup"><span data-stu-id="addd2-104">To create a [*security descriptor*](/windows/desktop/SecGloss/s-gly), a protected server can use the same procedure that an application would use to create a security descriptor for a securable object.</span></span> <span data-ttu-id="addd2-105">Para obtener código de ejemplo, vea [crear un descriptor de seguridad para un nuevo objeto en C++](creating-a-security-descriptor-for-a-new-object-in-c--.md).</span><span class="sxs-lookup"><span data-stu-id="addd2-105">For sample code, see [Creating a Security Descriptor for a New Object in C++](creating-a-security-descriptor-for-a-new-object-in-c--.md).</span></span> <span data-ttu-id="addd2-106">Como alternativa, una aplicación de servidor protegido puede llamar a la función [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="addd2-106">Alternatively, a protected server application can call the [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) function to do this.</span></span> <span data-ttu-id="addd2-107">Si se proporciona un puntero a un [*descriptor de seguridad autorelativo*](/windows/desktop/SecGloss/s-gly) existente a **BuildSecurityDescriptor**, se generará el nuevo descriptor de seguridad con la información tomada de ese descriptor de seguridad combinada con la nueva información de control de acceso pasada como parámetros en la llamada de función.</span><span class="sxs-lookup"><span data-stu-id="addd2-107">If a pointer to an existing [*self-relative security descriptor*](/windows/desktop/SecGloss/s-gly) is supplied to **BuildSecurityDescriptor**, it will build the new security descriptor with information taken from that security descriptor merged with new access control information passed as parameters in the function call.</span></span> <span data-ttu-id="addd2-108">El propietario y el grupo se especifican opcionalmente mediante las estructuras de [**confianza**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) que se pasan a la función.</span><span class="sxs-lookup"><span data-stu-id="addd2-108">The owner and group are optionally specified by [**TRUSTEE**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) structures passed to the function.</span></span> <span data-ttu-id="addd2-109">El descriptor de seguridad creado por **BuildSecurityDescriptor** está en formato *autorelativo* .</span><span class="sxs-lookup"><span data-stu-id="addd2-109">The security descriptor created by **BuildSecurityDescriptor** is in *self-relative* format.</span></span>

<span data-ttu-id="addd2-110">Además, la API de Windows proporciona un conjunto de funciones para combinar información de seguridad del cliente con la información heredada del descriptor de seguridad de un objeto primario o de un descriptor de seguridad predeterminado.</span><span class="sxs-lookup"><span data-stu-id="addd2-110">In addition, the Windows API provides a set of functions for merging client security information with information inherited from the security descriptor for a parent object or from a default security descriptor.</span></span> <span data-ttu-id="addd2-111">Las funciones [**CreatePrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createprivateobjectsecurity), [**GetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getprivateobjectsecurity), [**SetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setprivateobjectsecurity)y [**DestroyPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-destroyprivateobjectsecurity) proporcionan la capacidad de recuperar información predeterminada de un [*token de acceso*](/windows/desktop/SecGloss/a-gly), admitir la herencia y manipular partes específicas del descriptor de seguridad.</span><span class="sxs-lookup"><span data-stu-id="addd2-111">The [**CreatePrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createprivateobjectsecurity), [**GetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getprivateobjectsecurity), [**SetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setprivateobjectsecurity), and [**DestroyPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-destroyprivateobjectsecurity) functions provide the ability to retrieve default information from an [*access token*](/windows/desktop/SecGloss/a-gly), support inheritance, and manipulate specific parts of the security descriptor.</span></span> <span data-ttu-id="addd2-112">Esto puede ser útil cuando un cliente crea un objeto privado en una jerarquía de objetos protegidos.</span><span class="sxs-lookup"><span data-stu-id="addd2-112">This can be useful when a client creates a private object in a hierarchy of secured objects.</span></span> <span data-ttu-id="addd2-113">Por ejemplo, puede usar la función **CreatePrivateObjectSecurity** para crear un descriptor de seguridad que contenía las ACE especificadas por el cliente, las ACE heredadas de un objeto primario y el propietario predeterminado del token de acceso del cliente de creación.</span><span class="sxs-lookup"><span data-stu-id="addd2-113">For example, you could use the **CreatePrivateObjectSecurity** function to create a security descriptor that contained ACEs specified by the client, ACEs inherited from a parent object, and the default owner from the creating client's access token.</span></span> <span data-ttu-id="addd2-114">Aunque [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) crea descriptores de seguridad de la información de control de acceso que se pasa a la llamada de función o de un descriptor de seguridad existente, **CreatePrivateObjectSecurity** crea un descriptor de seguridad únicamente a partir de la información de los descriptores de seguridad existentes.</span><span class="sxs-lookup"><span data-stu-id="addd2-114">While [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) creates security descriptors either from access control information passed into the function call or from an existing security descriptor, **CreatePrivateObjectSecurity** creates a security descriptor solely from the information in existing security descriptors.</span></span>

<span data-ttu-id="addd2-115">La función [**LookupSecurityDescriptorParts**](/windows/desktop/api/Aclapi/nf-aclapi-lookupsecuritydescriptorpartsa) obtiene información del descriptor de seguridad de un [*descriptor de seguridad autorelativo*](/windows/desktop/SecGloss/s-gly)existente.</span><span class="sxs-lookup"><span data-stu-id="addd2-115">[**LookupSecurityDescriptorParts**](/windows/desktop/api/Aclapi/nf-aclapi-lookupsecuritydescriptorpartsa) function obtains security descriptor information from an existing [*self-relative security descriptor*](/windows/desktop/SecGloss/s-gly).</span></span> <span data-ttu-id="addd2-116">Esta información incluye las especificaciones de propietario y de grupo, el número de ACE en la SACL o DACL, y la lista de ACE en la SACL o DACL.</span><span class="sxs-lookup"><span data-stu-id="addd2-116">This information includes the owner and group specification, the number of ACEs in the SACL or DACL, and the list of ACEs in the SACL or DACL.</span></span>

 

 
