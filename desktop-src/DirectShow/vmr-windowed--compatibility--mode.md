---
description: Modo de ventana de VMR (compatibilidad)
ms.assetid: e9fb1c83-860a-44c1-9633-c86f5d0fdadd
title: Modo de ventana de VMR (compatibilidad)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7312274881642d15b844e0fa950f72e52f92db8f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104571680"
---
# <a name="vmr-windowed-compatibility-mode"></a><span data-ttu-id="66e0a-103">Modo de ventana de VMR (compatibilidad)</span><span class="sxs-lookup"><span data-stu-id="66e0a-103">VMR Windowed (Compatibility) Mode</span></span>

<span data-ttu-id="66e0a-104">VMR está diseñado para ser compatible con todas las aplicaciones de DirectShow existentes.</span><span class="sxs-lookup"><span data-stu-id="66e0a-104">The VMR is designed to be compatible with all existing DirectShow applications.</span></span> <span data-ttu-id="66e0a-105">Cuando se usa con una aplicación existente, VMR funciona en modo de ventana con un solo flujo de vídeo, también denominado modo de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="66e0a-105">When it is used with an existing application, the VMR operates in windowed mode with a single video stream, also called compatibility mode.</span></span> <span data-ttu-id="66e0a-106">Este modo se proporciona porque VMR-7 es el representador predeterminado en Windows XP y, por lo tanto, se usa automáticamente en llamadas a métodos de [conexión inteligentes](intelligent-connect.md) como [**IGraphBuilder:: RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span><span class="sxs-lookup"><span data-stu-id="66e0a-106">This mode is provided because the VMR-7 is the default renderer on Windows XP, and is therefore automatically used in calls to [Intelligent Connect](intelligent-connect.md) methods such as [**IGraphBuilder::RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span></span> <span data-ttu-id="66e0a-107">Si la aplicación usa conexión inteligente y solo requiere capacidades de representación básicas, no es necesario que el código especial se represente correctamente con VMR-7 en Windows XP.</span><span class="sxs-lookup"><span data-stu-id="66e0a-107">If your application uses Intelligent Connect and requires only basic rendering capabilities, you do not need any special code to render correctly with the VMR-7 on Windows XP.</span></span>

<span data-ttu-id="66e0a-108">VMR-9 también se ejecuta en modo de ventana/compatibilidad de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="66e0a-108">The VMR-9 also runs in windowed/compatibility mode by default.</span></span> <span data-ttu-id="66e0a-109">Sin embargo, VMR-9 nunca es el representador de vídeo predeterminado.</span><span class="sxs-lookup"><span data-stu-id="66e0a-109">However, the VMR-9 is never the default video renderer.</span></span> <span data-ttu-id="66e0a-110">Para usar VMR-9 en una aplicación, debe agregarla explícitamente al gráfico de filtro.</span><span class="sxs-lookup"><span data-stu-id="66e0a-110">To use the VMR-9 in an application, you must explicitly add it to the filter graph.</span></span> <span data-ttu-id="66e0a-111">Por ese motivo, y dado que el modo sin ventanas proporciona una mejor funcionalidad que el modo de ventana, no hay ninguna ventaja especial en el uso de VMR-9 en el modo de compatibilidad con ventanas.</span><span class="sxs-lookup"><span data-stu-id="66e0a-111">For that reason, and because windowless mode provides better functionality than windowed mode, there is no particular advantage to using the VMR-9 in windowed/compatibility mode.</span></span>

<span data-ttu-id="66e0a-112">**Usar la VMR-7 en el modo de compatibilidad con ventanas**</span><span class="sxs-lookup"><span data-stu-id="66e0a-112">**Using the VMR-7 in Windowed/Compatibility Mode**</span></span>

<span data-ttu-id="66e0a-113">No es necesaria ninguna programación especial para configurar o controlar el modelo VMR-7 en modo de compatibilidad con ventanas.</span><span class="sxs-lookup"><span data-stu-id="66e0a-113">No special programming is required to set up or control the VMR-7 in windowed/compatibility mode.</span></span> <span data-ttu-id="66e0a-114">Basta con compilar el gráfico de filtro mediante las llamadas estándar de generación de gráficos y el valor de VMR-7 se establecerá de forma predeterminada en este modo.</span><span class="sxs-lookup"><span data-stu-id="66e0a-114">Simply build the filter graph using the standard graph-building calls, and the VMR-7 will default to this mode.</span></span>

<span data-ttu-id="66e0a-115">En el modo de compatibilidad con ventanas, VMR-7 crea su propia ventana para mostrar el vídeo.</span><span class="sxs-lookup"><span data-stu-id="66e0a-115">In windowed/compatibility mode, the VMR-7 creates its own window to display the video.</span></span> <span data-ttu-id="66e0a-116">Para ello, carga el componente de administrador de ventanas, que expone las interfaces [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) y [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo) .</span><span class="sxs-lookup"><span data-stu-id="66e0a-116">To do so, it loads the Window Manager component, which exposes the [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) and [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo) interfaces.</span></span> <span data-ttu-id="66e0a-117">La aplicación puede consultar el administrador de gráficos de filtro para estas interfaces, exactamente como lo haría con el filtro de representador de vídeo anterior.</span><span class="sxs-lookup"><span data-stu-id="66e0a-117">Your application can query the Filter Graph Manager for these interfaces, exactly as you would with the old Video Renderer filter.</span></span> <span data-ttu-id="66e0a-118">Para obtener más información, vea [usar el modo de ventana](using-windowed-mode.md).</span><span class="sxs-lookup"><span data-stu-id="66e0a-118">For more information, see [Using Windowed Mode](using-windowed-mode.md).</span></span>

<span data-ttu-id="66e0a-119">En la ilustración siguiente se muestra la imagen VMR-7 en modo de compatibilidad con ventanas.</span><span class="sxs-lookup"><span data-stu-id="66e0a-119">The following illustration shows the VMR-7 in windowed/compatibility mode.</span></span>

![VMR en modo de compatibilidad](images/vmr-compat-mode.png)

<span data-ttu-id="66e0a-121">Para garantizar el máximo nivel de compatibilidad, la ventana de vídeo tiene el mismo nombre de clase que la creada por el filtro de representador de vídeo anterior y la mayor parte del código del administrador de ventanas del representador de vídeo anterior todavía se usa en la VMR.</span><span class="sxs-lookup"><span data-stu-id="66e0a-121">To guarantee the maximum level of compatibility, the video window has the same class name as the one created by the old Video Renderer filter, and most of the Window Manager code from the old Video Renderer is still used by the VMR.</span></span> <span data-ttu-id="66e0a-122">En el modo de compatibilidad con ventanas, el VMR no consume más recursos del sistema que el anterior representador de vídeo.</span><span class="sxs-lookup"><span data-stu-id="66e0a-122">In windowed/compatibility mode, the VMR consumes no more system resources than the old Video Renderer.</span></span> <span data-ttu-id="66e0a-123">Dado que VMR-7 solo tiene un flujo de entrada en modo de ventana/compatibilidad, no carga sus componentes de mezclador o compositor.</span><span class="sxs-lookup"><span data-stu-id="66e0a-123">Since the VMR-7 has only one input stream in windowed/compatibility mode, it does not load its mixer or compositor components.</span></span>

<span data-ttu-id="66e0a-124">De forma predeterminada, la VMR amplía la imagen para rellenar la ventana de vídeo.</span><span class="sxs-lookup"><span data-stu-id="66e0a-124">By default, the VMR stretches the image to fill the video window.</span></span> <span data-ttu-id="66e0a-125">Para conservar la relación de aspecto del origen, llame al método [**IVMRAspectRatioControl:: SetAspectRatioMode**](/windows/desktop/api/Strmif/nf-strmif-ivmraspectratiocontrol-setaspectratiomode) con la marca de cuadro de letra de VMR \_ ARMODE \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="66e0a-125">To preserve the aspect ratio of the source, call the [**IVMRAspectRatioControl::SetAspectRatioMode**](/windows/desktop/api/Strmif/nf-strmif-ivmraspectratiocontrol-setaspectratiomode) method with the VMR\_ARMODE\_LETTER\_BOX flag.</span></span>

> [!Note]  
> <span data-ttu-id="66e0a-126">Las aplicaciones MFC que colocan la ventana de vídeo en una ventana secundaria deben definir un controlador de mensajes ERASEBKGND de WM vacío \_ , o el área de presentación de vídeo no volverá a dibujarse correctamente.</span><span class="sxs-lookup"><span data-stu-id="66e0a-126">MFC applications that place the video window in a child window must define an empty WM\_ERASEBKGND message handler, or the video display area will not repaint correctly.</span></span>

 

<span data-ttu-id="66e0a-127">**Usar VMR-7 en modo de ventana/compatibilidad con varias secuencias**</span><span class="sxs-lookup"><span data-stu-id="66e0a-127">**Using the VMR-7 in Windowed/Compatibility Mode with Multiple Streams**</span></span>

<span data-ttu-id="66e0a-128">En el modo de compatibilidad/ventanas, el VMR-7 crea un solo PIN de entrada de forma predeterminada y deshabilita el modo de combinación.</span><span class="sxs-lookup"><span data-stu-id="66e0a-128">In windowed/compatibility mode, the VMR-7 creates a single input pin by default, and disables mixing mode.</span></span> <span data-ttu-id="66e0a-129">Para habilitar el modo de combinación, debe configurar el VMR antes de conectarlo.</span><span class="sxs-lookup"><span data-stu-id="66e0a-129">To enable mixing mode, you must configure the VMR before you connect it.</span></span> <span data-ttu-id="66e0a-130">Para obtener más información, consulte [VMR con varias secuencias (modo de combinación)](vmr-with-multiple-streams--mixing-mode.md).</span><span class="sxs-lookup"><span data-stu-id="66e0a-130">For more information, see [VMR with Multiple Streams (Mixing Mode)](vmr-with-multiple-streams--mixing-mode.md).</span></span> <span data-ttu-id="66e0a-131">En el modo de combinación, VMR carga los componentes de mezcla y compositor, que requieren más recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="66e0a-131">In mixing mode, the VMR loads the mixing and compositor components, which require more system resources.</span></span>

<span data-ttu-id="66e0a-132">**Usar VMR-9 en modo de ventana**</span><span class="sxs-lookup"><span data-stu-id="66e0a-132">**Using the VMR-9 in Windowed Mode**</span></span>

<span data-ttu-id="66e0a-133">Dado que VMR-9 no es el representador predeterminado, no tiene un modo de compatibilidad como tal.</span><span class="sxs-lookup"><span data-stu-id="66e0a-133">Because the VMR-9 is not the default renderer, it does not have a compatibility mode as such.</span></span> <span data-ttu-id="66e0a-134">En su lugar, el valor predeterminado de VMR-9 es el modo de ventana con cuatro clavijas de entrada.</span><span class="sxs-lookup"><span data-stu-id="66e0a-134">Instead, the VMR-9 defaults to windowed mode with four input pins.</span></span> <span data-ttu-id="66e0a-135">Puede usar este modo para mezclar hasta cuatro secuencias de vídeo.</span><span class="sxs-lookup"><span data-stu-id="66e0a-135">You can use this mode to mix up to four video streams.</span></span> <span data-ttu-id="66e0a-136">Si necesita mezclar un número mayor de secuencias, debe configurarla como se describe en [VMR con varias secuencias (modo de combinación)](vmr-with-multiple-streams--mixing-mode.md).</span><span class="sxs-lookup"><span data-stu-id="66e0a-136">If you need to mix a larger number of streams, you must configure it as described in [VMR with Multiple Streams (Mixing Mode)](vmr-with-multiple-streams--mixing-mode.md).</span></span> <span data-ttu-id="66e0a-137">De lo contrario, el modelo VMR-9 en modo de ventana se comporta exactamente igual que VMR-7 en modo de compatibilidad con ventanas.</span><span class="sxs-lookup"><span data-stu-id="66e0a-137">Otherwise, the VMR-9 in windowed mode behaves exactly like the VMR-7 in windowed/compatibility mode.</span></span>

 

 



