---
description: En el núcleo de cualquier instalador se encuentra la instalación real de los archivos.
ms.assetid: e6f6d6a5-bdb0-4866-8d2c-56313d92c94c
title: Reglas de control de versiones de archivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 67c6f8e59b4f15774f898217690dbb1c4d57b1bf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105687184"
---
# <a name="file-versioning-rules"></a><span data-ttu-id="91fc5-103">Reglas de control de versiones de archivo</span><span class="sxs-lookup"><span data-stu-id="91fc5-103">File Versioning Rules</span></span>

<span data-ttu-id="91fc5-104">En el núcleo de cualquier instalador se encuentra la instalación real de los archivos.</span><span class="sxs-lookup"><span data-stu-id="91fc5-104">At the core of any installer is the actual installation of files.</span></span> <span data-ttu-id="91fc5-105">Determinar si se debe instalar un archivo es un proceso complejo.</span><span class="sxs-lookup"><span data-stu-id="91fc5-105">Determining whether to install a file is a complex process.</span></span> <span data-ttu-id="91fc5-106">En el nivel más alto, esta determinación depende de si el componente al que pertenece un archivo está marcado para su instalación.</span><span class="sxs-lookup"><span data-stu-id="91fc5-106">At the highest level, this determination depends on whether the component to which a file belongs is marked for installation.</span></span> <span data-ttu-id="91fc5-107">Una vez que haya determinado que se debe copiar un archivo, el proceso es complicado si existe otro archivo con el mismo nombre en la carpeta de destino.</span><span class="sxs-lookup"><span data-stu-id="91fc5-107">Once determined that a file should be copied, the process is complicated if another file with the same name exists in the target folder.</span></span> <span data-ttu-id="91fc5-108">En estas situaciones, la realización de la determinación requiere un conjunto de reglas que impliquen las siguientes propiedades:</span><span class="sxs-lookup"><span data-stu-id="91fc5-108">In such situations, making the determination requires a set of rules involving the following properties:</span></span>

-   <span data-ttu-id="91fc5-109">Versión</span><span class="sxs-lookup"><span data-stu-id="91fc5-109">Version</span></span>
-   <span data-ttu-id="91fc5-110">Fecha</span><span class="sxs-lookup"><span data-stu-id="91fc5-110">Date</span></span>
-   <span data-ttu-id="91fc5-111">Idioma</span><span class="sxs-lookup"><span data-stu-id="91fc5-111">Language</span></span>

<span data-ttu-id="91fc5-112">El instalador solo utiliza estas reglas al intentar instalar un archivo en una ubicación que ya contiene un archivo con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="91fc5-112">The installer only uses these rules when trying to install a file to a location that already contains a file with the same name.</span></span> <span data-ttu-id="91fc5-113">En este caso, el Windows Installer usa las siguientes reglas, todas las demás cosas son iguales, para determinar si se debe instalar.</span><span class="sxs-lookup"><span data-stu-id="91fc5-113">In this case, the Windows Installer uses the following rules, all other things being equal, to determine whether to install.</span></span>

<span data-ttu-id="91fc5-114">La versión más alta gana, es decir, el archivo con la versión más alta gana, aunque el archivo del equipo tenga la versión más alta.</span><span class="sxs-lookup"><span data-stu-id="91fc5-114">Highest Version Wins—All other things being equal, the file with the highest version wins, even if the file on the computer has the highest version.</span></span>

<span data-ttu-id="91fc5-115">Archivos con versiones Win: un archivo con versiones se instala en un archivo que no tiene versiones.</span><span class="sxs-lookup"><span data-stu-id="91fc5-115">Versioned Files Win—A versioned file gets installed over a nonversioned file.</span></span>

<span data-ttu-id="91fc5-116">Favorecer el idioma del producto: Si el archivo que se está instalando tiene un idioma diferente al del archivo en el equipo, favorece el archivo con el idioma que coincida con el producto que se va a instalar.</span><span class="sxs-lookup"><span data-stu-id="91fc5-116">Favor Product Language—If the file being installed has a different language than the file on the computer, favor the file with the language that matches the product being installed.</span></span> <span data-ttu-id="91fc5-117">Los archivos independientes del idioma se tratan como un solo otro idioma, por lo que el producto que se está instalando se vuelve a favorecer.</span><span class="sxs-lookup"><span data-stu-id="91fc5-117">Language-neutral files are treated as just another language so the product being installed is favored again.</span></span>

<span data-ttu-id="91fc5-118">Varios idiomas no coincidentes: después de factorizar los idiomas comunes entre el archivo que se está instalando y el archivo en el equipo, se favorece el resto de idiomas según lo que necesite el producto que se está instalando.</span><span class="sxs-lookup"><span data-stu-id="91fc5-118">Mismatched Multiple Languages—After factoring out any common languages between the file being installed and the file on the computer, any remaining languages are favored according to what is needed by the product being installed.</span></span>

<span data-ttu-id="91fc5-119">Conservar idiomas de superconjunto: conserva el archivo que admite varios idiomas, independientemente de si ya está en el equipo o se está instalando.</span><span class="sxs-lookup"><span data-stu-id="91fc5-119">Preserve Superset Languages—Preserve the file that supports multiple languages regardless of whether it is already on the computer or is being installed.</span></span>

<span data-ttu-id="91fc5-120">Los archivos sin versión son datos de usuario: Si la fecha modificada es posterior a la fecha de creación del archivo en el equipo, no instale el archivo porque se eliminarán las personalizaciones de usuario.</span><span class="sxs-lookup"><span data-stu-id="91fc5-120">Nonversioned Files are User Data—If the Modified date is later than the Create date for the file on the computer, do not install the file because user customizations would be deleted.</span></span> <span data-ttu-id="91fc5-121">Si las fechas de creación y modificación son las mismas, instale el archivo.</span><span class="sxs-lookup"><span data-stu-id="91fc5-121">If the Modified and Create dates are the same, install the file.</span></span> <span data-ttu-id="91fc5-122">Si la fecha de creación es posterior a la fecha de modificación, el archivo se considera no modificado, instálelo.</span><span class="sxs-lookup"><span data-stu-id="91fc5-122">If the Create date is later than the Modified date, the file is considered unmodified, install the file.</span></span>

<span data-ttu-id="91fc5-123">La instalación de un [archivo complementario](companion-files.md) no depende de su propia información de versión del archivo, sino de la versión de su complemento principal.</span><span class="sxs-lookup"><span data-stu-id="91fc5-123">The installation of a [Companion File](companion-files.md) depends not on its own file versioning information, but on the versioning of its companion parent.</span></span> <span data-ttu-id="91fc5-124">En el caso de los archivos complementarios, la instalación se omite solo si el archivo primario tiene una versión superior.</span><span class="sxs-lookup"><span data-stu-id="91fc5-124">In the case of Companion Files, the installation is skipped only if the parent file has a higher version.</span></span> <span data-ttu-id="91fc5-125">Tenga en cuenta que un archivo que es la ruta de acceso de la clave de su componente no debe ser un archivo complementario porque esto da como resultado la lógica de control de versiones del archivo de ruta de acceso de la clave que está determinando el archivo principal complementario.</span><span class="sxs-lookup"><span data-stu-id="91fc5-125">Note that a file that is the key path for its component must not be a companion file because this results in the versioning logic of the key path file being determined by the companion parent file.</span></span>

<span data-ttu-id="91fc5-126">Archivos sin control de versiones con [archivos complementarios](companion-files.md): un archivo sin versión que está asociado a un archivo con versión que usa el mecanismo complementario se atiene a las reglas del archivo con versión.</span><span class="sxs-lookup"><span data-stu-id="91fc5-126">Nonversioned Files Using [Companion Files](companion-files.md)-A nonversioned file that is associated with a versioned file using the companion mechanism abides by the rules for the versioned file.</span></span> <span data-ttu-id="91fc5-127">La única excepción es que el archivo con versión del equipo y el archivo con versión que se está instalando tienen la misma versión y el mismo idioma, pero el archivo complementario falta en el equipo.</span><span class="sxs-lookup"><span data-stu-id="91fc5-127">The only exception is if the versioned file on the computer and the versioned file being installed have the same version and language but the companion file is missing on the computer.</span></span> <span data-ttu-id="91fc5-128">En este caso, se usa el archivo complementario que se está instalando aunque se use el archivo con versión del equipo.</span><span class="sxs-lookup"><span data-stu-id="91fc5-128">In this case the companion file being installed is used even though the versioned file on the computer is used.</span></span> <span data-ttu-id="91fc5-129">Además, se instala un archivo sin versión mediante un archivo complementario si la propiedad [**REINSTALLMODE**](reinstallmode.md) incluye las opciones sobrescribir versiones anteriores ("o" o "e") y la versión del archivo complementario es igual a un archivo que ya está en el equipo.</span><span class="sxs-lookup"><span data-stu-id="91fc5-129">Additionally, a nonversioned file using a companion file is installed if the [**REINSTALLMODE**](reinstallmode.md) property includes the overwrite older versions options ("o" or "e") and the companion file's version is equal to a file already on the machine.</span></span>

<span data-ttu-id="91fc5-130">Las reglas son globales: las reglas para determinar cuándo instalar un archivo residen en un solo lugar dentro del instalador y son globales, lo que significa que se aplican a todos los archivos de forma equitativa.</span><span class="sxs-lookup"><span data-stu-id="91fc5-130">Rules are Global—The rules for determining when to install a file reside in one place within the installer and are global, meaning they apply to all files equally.</span></span>

<span data-ttu-id="91fc5-131">Para obtener ejemplos del formato utilizado para las versiones de archivo, vea el tipo de datos [version](version.md) .</span><span class="sxs-lookup"><span data-stu-id="91fc5-131">For examples of the format used for file versions, see the [Version](version.md) data type.</span></span> <span data-ttu-id="91fc5-132">Para obtener información más específica, vea [reemplazar archivos existentes](replacing-existing-files.md) o [versiones de archivo predeterminadas](default-file-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="91fc5-132">For more specific information, see [Replacing Existing Files](replacing-existing-files.md) or [Default File Versioning](default-file-versioning.md).</span></span>

 

 



