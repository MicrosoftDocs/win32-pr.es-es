---
title: Referencias (ADSI)
description: Las referencias se producen cuando el servidor que está consultando no contiene esos datos, pero puede encontrarlos.
ms.assetid: 2068ce7a-0b94-4d25-a18f-97f26863bd1d
ms.tgt_platform: multiple
keywords:
- ADSI de referencia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e79e6b2e8a737f6bb40386effd68f7f31d8d490d
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104149618"
---
# <a name="referrals-adsi"></a><span data-ttu-id="f94b1-104">Referencias (ADSI)</span><span class="sxs-lookup"><span data-stu-id="f94b1-104">Referrals (ADSI)</span></span>

<span data-ttu-id="f94b1-105">Las referencias se producen cuando el servidor que está consultando no contiene esos datos, pero puede encontrarlos.</span><span class="sxs-lookup"><span data-stu-id="f94b1-105">Referrals occur when the server you are querying does not contain that data, but can find it.</span></span> <span data-ttu-id="f94b1-106">El servidor de destino devuelve el conjunto de resultados, que puede incluir los datos reales y una referencia a otro servidor para recuperar los datos adicionales.</span><span class="sxs-lookup"><span data-stu-id="f94b1-106">The target server returns the result set, which may include both the actual data and a referral to another server to retrieve the additional data.</span></span> <span data-ttu-id="f94b1-107">Al habilitar el *seguimiento de referencias*, el código de cliente ADSI subyacente usará esos datos de referencia para intentar recuperar el objeto de destino del servidor descrito en los datos de referencia.</span><span class="sxs-lookup"><span data-stu-id="f94b1-107">By enabling *referral chasing*, the underlying ADSI client code will use that referral data to attempt to retrieve the target object from the server described in the referral data.</span></span> <span data-ttu-id="f94b1-108">Tenga en cuenta que la deshabilitación del seguimiento de la referencia puede dar lugar a un conjunto de resultados más pequeño, mientras que habilitar el seguimiento de la referencia puede hacer que una consulta abarque muchos servidores.</span><span class="sxs-lookup"><span data-stu-id="f94b1-108">Be aware that the disabling referral chasing may result in a smaller result set, whereas enabling referral chasing may cause a query to span many servers.</span></span> <span data-ttu-id="f94b1-109">Siempre que sea posible, la solución recomendada es usar el catálogo global.</span><span class="sxs-lookup"><span data-stu-id="f94b1-109">When possible, the recommended solution is to use the global catalog.</span></span>

<span data-ttu-id="f94b1-110">Para obtener más información sobre las referencias y el seguimiento de referencias en Active Directory, vea [Referrals](/windows/desktop/AD/referrals).</span><span class="sxs-lookup"><span data-stu-id="f94b1-110">For more information about referrals and referral chasing in Active Directory, see [Referrals](/windows/desktop/AD/referrals).</span></span>

<span data-ttu-id="f94b1-111">Por ejemplo, cuando un cliente indica al servidor a (a) que consulte un objeto de usuario (U), puede sugerir que el cliente continúe la búsqueda en el servidor B (B) si U no reside en, pero se sabe que está en B. El cliente tiene la opción de proseguir con la referencia o no.</span><span class="sxs-lookup"><span data-stu-id="f94b1-111">For example, when a client instructs Server A (A) to query a user object (U), A can suggest that the client continue the search on Server B (B) if U does not reside on A, but is known to be on B. The client has the choice of pursuing the referral or not.</span></span> <span data-ttu-id="f94b1-112">Las referencias de búsqueda liberan al cliente para que requiera un reconocimiento avanzado de la capacidad de cada servidor.</span><span class="sxs-lookup"><span data-stu-id="f94b1-112">Search referrals free the client from requiring advanced recognition of the capability of each server.</span></span> <span data-ttu-id="f94b1-113">Sin embargo, el cliente debe especificar el tipo de referencias que debe crear un servidor.</span><span class="sxs-lookup"><span data-stu-id="f94b1-113">However, the client must specify the type of referrals a server should make.</span></span>

<span data-ttu-id="f94b1-114">Active Directory ofrece servicios de referencia de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f94b1-114">Active Directory offers search referral services.</span></span> <span data-ttu-id="f94b1-115">Un cliente puede elegir cualquiera de los siguientes tipos de seguimiento de referencia:</span><span class="sxs-lookup"><span data-stu-id="f94b1-115">A client can choose any of the following types of referral chasing:</span></span>

-   <span data-ttu-id="f94b1-116">Nunca: el servidor no debe generar una referencia a un cliente aunque reconozca que otro servidor almacena los datos solicitados.</span><span class="sxs-lookup"><span data-stu-id="f94b1-116">Never: The server should not generate a referral to a client even though it recognizes that another server stores the requested data.</span></span>
-   <span data-ttu-id="f94b1-117">External: el servidor debe generar referencias si la solicitud se puede resolver en otro servidor de un árbol de directorios diferente.</span><span class="sxs-lookup"><span data-stu-id="f94b1-117">External: The server should generate referrals if the request can be resolved on another server of a different directory tree.</span></span> <span data-ttu-id="f94b1-118">Por ejemplo, un cliente consulta "OU = sales, DC = Fabrikam, DC = COM" en el servidor "fab01" en el dominio "Fabrikam.com".</span><span class="sxs-lookup"><span data-stu-id="f94b1-118">For example, a client queries "OU=Sales,DC=Fabrikam,DC=COM" on the "fab01" server on the "Fabrikam.com" domain.</span></span> <span data-ttu-id="f94b1-119">Sin embargo, el objeto no pertenece a "fab01", pero se sabe que está en el servidor "arc01" en el dominio "Fabrikam.com".</span><span class="sxs-lookup"><span data-stu-id="f94b1-119">However, the object does not belong to "fab01", but is known to be on the "arc01" server on the "Fabrikam.com" domain.</span></span> <span data-ttu-id="f94b1-120">Por lo tanto, "fab01" hace referencia al cliente en "arc01".</span><span class="sxs-lookup"><span data-stu-id="f94b1-120">Thus, "fab01" refers the client to "arc01".</span></span>
-   <span data-ttu-id="f94b1-121">Subordinado: el servidor debe generar referencias si la solicitud se puede resolver en un servidor cuyo nombre forme una ruta de acceso contigua desde el servidor de origen.</span><span class="sxs-lookup"><span data-stu-id="f94b1-121">Subordinate: The server should generate referrals if the request can be resolved on a server whose name forms a contiguous path from the originating server.</span></span> <span data-ttu-id="f94b1-122">El ámbito de búsqueda debe estar en el nivel de subárbol.</span><span class="sxs-lookup"><span data-stu-id="f94b1-122">The search scope must be at the subtree level.</span></span>

    <span data-ttu-id="f94b1-123">Por ejemplo, el servidor A contiene objetos en "DC = sales, DC = Fabrikam, DC = com".</span><span class="sxs-lookup"><span data-stu-id="f94b1-123">For example, Server A contains objects in "DC=Sales,DC=Fabrikam,DC=Com".</span></span> <span data-ttu-id="f94b1-124">El servidor B contiene objetos en "DC = Seattle, DC = sales, DC = Fabrikam, DC = com".</span><span class="sxs-lookup"><span data-stu-id="f94b1-124">Server B contains objects in "DC=Seattle,DC=Sales,DC=Fabrikam,DC=Com".</span></span> <span data-ttu-id="f94b1-125">Tenga en cuenta que el nombre del servidor B forma una ruta de acceso contigua al servidor A. Cuando un cliente se pone en contacto con el servidor A, solicita una búsqueda de subárbol en "DC = sales, DC = Fabrikam, DC = com" y especifica que la referencia sea un tipo subordinado, se produce el siguiente evento:</span><span class="sxs-lookup"><span data-stu-id="f94b1-125">Be aware that the name of Server B forms a contiguous path from Server A. When a client contacts Server A, requests a subtree search on "DC=Sales,DC=Fabrikam,DC=Com", and specifies the referral to be a subordinate type, the following event occurs:</span></span>

    -   <span data-ttu-id="f94b1-126">El servidor A devuelve todos los objetos que conoce dentro de su ámbito.</span><span class="sxs-lookup"><span data-stu-id="f94b1-126">Server A returns all objects that it knows within its scope.</span></span>
    -   <span data-ttu-id="f94b1-127">El servidor A informa al cliente de que los objetos de "DC = Seattle, DC = sales, DC = Fabrikam, DC = COM" se pueden encontrar en el servidor B.</span><span class="sxs-lookup"><span data-stu-id="f94b1-127">Server A informs the client that objects in "DC=Seattle,DC=Sales,DC=Fabrikam,DC=COM" can be found on Server B.</span></span>

    <span data-ttu-id="f94b1-128">El cliente puede elegir ponerse en contacto con el servidor B. Si es así, se produce el evento siguiente:</span><span class="sxs-lookup"><span data-stu-id="f94b1-128">The client can choose to contact Server B. If so, the following event occurs:</span></span>

    -   <span data-ttu-id="f94b1-129">El servidor B responde con los objetos solicitados.</span><span class="sxs-lookup"><span data-stu-id="f94b1-129">Server B responds with the requested objects.</span></span>
    -   <span data-ttu-id="f94b1-130">Si el servidor B detecta otros servidores en la ruta de acceso de nomenclatura contigua y el proceso continúa.</span><span class="sxs-lookup"><span data-stu-id="f94b1-130">If Server B detects other servers on the contiguous naming path and the process continues.</span></span>

-   <span data-ttu-id="f94b1-131">Siempre: el servidor genera referencias si la búsqueda se puede resolver en función del tipo externo o del tipo subordinado.</span><span class="sxs-lookup"><span data-stu-id="f94b1-131">Always: The server generates referrals if the search can be resolved based on either the external type or the subordinate type.</span></span>

> [!Note]  
> <span data-ttu-id="f94b1-132">En Active Directory, el catálogo global contiene todos los objetos de una empresa determinada.</span><span class="sxs-lookup"><span data-stu-id="f94b1-132">In Active Directory, the global catalog contains all objects in a given enterprise.</span></span> <span data-ttu-id="f94b1-133">La búsqueda de un servidor de catálogo global produce un mejor rendimiento que la realización de referencias de un servidor a otro.</span><span class="sxs-lookup"><span data-stu-id="f94b1-133">Searching a global catalog server yields better performance than pursuing referrals from one server to another.</span></span>

 

<span data-ttu-id="f94b1-134">En la mayoría de los casos, el seguimiento de la referencia será transparente para el autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="f94b1-134">In most cases, the referral chasing will be transparent to the caller.</span></span> <span data-ttu-id="f94b1-135">Si la referencia es a un objeto de un dominio o bosque diferente, la API de LDAP subyacente intentará utilizar las credenciales actuales para enlazar con el destino de la referencia.</span><span class="sxs-lookup"><span data-stu-id="f94b1-135">If the referral is to an object in a different domain or forest, the underlying LDAP API will attempt to use the current credentials to bind to the target of the referral.</span></span> <span data-ttu-id="f94b1-136">Si esto se realiza correctamente, el seguimiento de la referencia será transparente.</span><span class="sxs-lookup"><span data-stu-id="f94b1-136">If this is successful, the referral chasing will be transparent.</span></span> <span data-ttu-id="f94b1-137">Si no se realiza correctamente, se devolverá el código de error de referencia y de referencia.</span><span class="sxs-lookup"><span data-stu-id="f94b1-137">If this is not successful, the referral and a referral error code will be returned.</span></span>

<span data-ttu-id="f94b1-138">Para obtener más información sobre el uso de las opciones de búsqueda de referencias con una interfaz de búsqueda específica, vea:</span><span class="sxs-lookup"><span data-stu-id="f94b1-138">For more information about using the referral chasing options with a specific search interface, see:</span></span>

-   [<span data-ttu-id="f94b1-139">Referencia sobre el seguimiento con IDirectorySearch</span><span class="sxs-lookup"><span data-stu-id="f94b1-139">Referral Chasing with IDirectorySearch</span></span>](referral-chasing-with-idirectorysearch.md)
-   [<span data-ttu-id="f94b1-140">Buscar con Objetos de datos ActiveX</span><span class="sxs-lookup"><span data-stu-id="f94b1-140">Searching with ActiveX Data Objects</span></span>](searching-with-activex-data-objects-ado.md)
-   [<span data-ttu-id="f94b1-141">Buscar con OLE DB</span><span class="sxs-lookup"><span data-stu-id="f94b1-141">Searching with OLE DB</span></span>](searching-with-ole-db.md)

 

 