---
title: Establecimiento de la seguridad en el nivel de proxy de interfaz
description: A veces, el cliente necesita un control específico sobre la seguridad en las llamadas a interfaces determinadas.
ms.assetid: 72925ca2-78c9-47d9-8760-63f6379326d2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b38fe83e8ce8841cc9029808a6947ec67d4eaf4
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "105705037"
---
# <a name="setting-security-at-the-interface-proxy-level"></a><span data-ttu-id="56383-103">Establecimiento de la seguridad en el nivel de proxy de interfaz</span><span class="sxs-lookup"><span data-stu-id="56383-103">Setting Security at the Interface Proxy Level</span></span>

<span data-ttu-id="56383-104">A veces, el cliente necesita un control específico sobre la seguridad en las llamadas a interfaces determinadas.</span><span class="sxs-lookup"><span data-stu-id="56383-104">Sometimes the client needs fine-grained control over the security on calls to particular interfaces.</span></span> <span data-ttu-id="56383-105">Por ejemplo, la seguridad se podría establecer en un nivel bajo para el proceso, pero las llamadas a una interfaz determinada podrían requerir un nivel de autenticación superior, como el cifrado.</span><span class="sxs-lookup"><span data-stu-id="56383-105">For example, security might be set at a low level for the process but calls to a particular interface might require a higher authentication level, such as encryption.</span></span> <span data-ttu-id="56383-106">Los métodos de la interfaz [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) permiten al cliente cambiar la configuración de seguridad asociada a las llamadas a una interfaz determinada mediante el control de la configuración de seguridad en el nivel de proxy de interfaz.</span><span class="sxs-lookup"><span data-stu-id="56383-106">The methods of the [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) interface allow the client to change the security settings associated with calls to a particular interface by controlling the security settings at the interface-proxy level.</span></span>

<span data-ttu-id="56383-107">El cliente puede consultar un objeto existente para [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) y, a continuación, llamar al método [**IClientSecurity:: QueryBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-queryblanket) para averiguar cuál es la configuración de seguridad actual para un proxy de interfaz determinado.</span><span class="sxs-lookup"><span data-stu-id="56383-107">The client can query an existing object for [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) and then call the [**IClientSecurity::QueryBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-queryblanket) method to find out what the current security settings are for a particular interface proxy.</span></span> <span data-ttu-id="56383-108">El método [**IClientSecurity:: SetBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) se puede usar para modificar la configuración de seguridad de un proxy de interfaz individual en el objeto antes de llamar a uno de los métodos de la interfaz.</span><span class="sxs-lookup"><span data-stu-id="56383-108">The [**IClientSecurity::SetBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) method can be used to modify the security settings for an individual interface proxy on the object before calling one of the interface's methods.</span></span> <span data-ttu-id="56383-109">La nueva configuración se aplica a todos los llamadores futuros de esta interfaz concreta.</span><span class="sxs-lookup"><span data-stu-id="56383-109">The new settings apply to any future callers of this particular interface.</span></span> <span data-ttu-id="56383-110">El método [**IClientSecurity:: CopyProxy**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-copyproxy) proporciona una manera para que el cliente Copie un proxy de interfaz de modo que las llamadas subsiguientes a **SetBlanket** en la copia no afecten a los llamadores del proxy original.</span><span class="sxs-lookup"><span data-stu-id="56383-110">The [**IClientSecurity::CopyProxy**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-copyproxy) method provides a way for the client to copy an interface proxy so that subsequent calls to **SetBlanket** on the copy do not affect callers of the original proxy.</span></span>

<span data-ttu-id="56383-111">[**SetBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) se suele usar para elevar el nivel de autenticación de un proxy de interfaz determinado a un nivel más alto de protección de seguridad.</span><span class="sxs-lookup"><span data-stu-id="56383-111">[**SetBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) is commonly used to raise the authentication level for a particular interface proxy to a higher level of security protection.</span></span> <span data-ttu-id="56383-112">Sin embargo, en algunas situaciones, también puede resultar útil reducir el nivel de autenticación de un proxy de interfaz determinado.</span><span class="sxs-lookup"><span data-stu-id="56383-112">However, in some situations, it might also be helpful to lower the authentication level for a particular interface proxy.</span></span> <span data-ttu-id="56383-113">Por ejemplo, supongamos que el nivel de autenticación predeterminado para el proceso es un valor que no es el nivel ninguno de autenticación RPC \_ C \_ \_ \_ y el cliente y el servidor están en dominios independientes que no confían entre sí.</span><span class="sxs-lookup"><span data-stu-id="56383-113">For instance, suppose the default authentication level for the process is some value other than RPC\_C\_AUTHN\_LEVEL\_NONE and the client and server are in separate domains that do not trust each other.</span></span> <span data-ttu-id="56383-114">En este caso, se producirá un error en las llamadas al servidor a menos que el cliente llame a **SetBlanket** para reducir el nivel de autenticación a \_ \_ \_ nivel none de autenticación de RPC C \_ .</span><span class="sxs-lookup"><span data-stu-id="56383-114">In this case, calls to the server will fail unless the client calls **SetBlanket** to lower the authentication level to RPC\_C\_AUTHN\_LEVEL\_NONE.</span></span>

<span data-ttu-id="56383-115">Los clientes que usan la implementación predeterminada de [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) que proporciona el administrador del proxy pueden llamar a las funciones auxiliares [**CoQueryProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket), [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket)y [**CoCopyProxy**](/windows/desktop/api/combaseapi/nf-combaseapi-cocopyproxy) en lugar de llamar a métodos **IClientSecurity** directamente.</span><span class="sxs-lookup"><span data-stu-id="56383-115">Clients using the default implementation of [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) provided by the proxy manager can call the [**CoQueryProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket), [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket), and [**CoCopyProxy**](/windows/desktop/api/combaseapi/nf-combaseapi-cocopyproxy) helper functions instead of calling **IClientSecurity** methods directly.</span></span> <span data-ttu-id="56383-116">Las funciones auxiliares simplifican el código pero son ligeramente menos eficientes que llamar directamente a los métodos **IClientSecurity** correspondientes.</span><span class="sxs-lookup"><span data-stu-id="56383-116">The helper functions simplify the code but are slightly less efficient than calling the corresponding **IClientSecurity** methods directly.</span></span>

<span data-ttu-id="56383-117">El administrador del proxy implementa la interfaz [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) localmente para el cliente.</span><span class="sxs-lookup"><span data-stu-id="56383-117">The [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) interface is implemented locally for the client by the proxy manager.</span></span> <span data-ttu-id="56383-118">Es posible que algunos objetos personalizados de serialización no admitan **IClientSecurity**.</span><span class="sxs-lookup"><span data-stu-id="56383-118">Some custom marshaled objects might not support **IClientSecurity**.</span></span>

<span data-ttu-id="56383-119">[**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) funciona con todos los servicios de autenticación admitidos (actualmente NTLMSSP, Schannel y el protocolo Kerberos V5).</span><span class="sxs-lookup"><span data-stu-id="56383-119">[**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) works with all supported authentication services (currently NTLMSSP, Schannel, and the Kerberos v5 protocol).</span></span>

## <a name="related-topics"></a><span data-ttu-id="56383-120">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="56383-120">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="56383-121">Establecer la seguridad de las aplicaciones COM</span><span class="sxs-lookup"><span data-stu-id="56383-121">Setting Security for COM Applications</span></span>](setting-security-for-com-applications.md)
</dt> </dl>

 

 