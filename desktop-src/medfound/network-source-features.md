---
description: Características de origen de red
ms.assetid: a4e20ecb-c145-4823-ae59-f6fc88593d86
title: Características de origen de red
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8e937a97cf743740d9cebf84ad477c52cdee5083
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104554025"
---
# <a name="network-source-features"></a><span data-ttu-id="5330c-103">Características de origen de red</span><span class="sxs-lookup"><span data-stu-id="5330c-103">Network Source Features</span></span>

<span data-ttu-id="5330c-104">El origen de red proporciona la implementación base para la transmisión por secuencias de archivos multimedia y expone la interfaz [**IMFMediaSource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) .</span><span class="sxs-lookup"><span data-stu-id="5330c-104">The network source provides the base implementation for streaming media files and exposes the [**IMFMediaSource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) interface.</span></span> <span data-ttu-id="5330c-105">La implementación de origen de red específica depende del protocolo utilizado para abrir el origen como RTSP o HTTP.</span><span class="sxs-lookup"><span data-stu-id="5330c-105">The specific network source implementation depends on the protocol used to open the source such as RTSP or HTTP.</span></span> <span data-ttu-id="5330c-106">Los orígenes de red específicos del protocolo amplían la funcionalidad de red básica.</span><span class="sxs-lookup"><span data-stu-id="5330c-106">The protocol-specific network sources extend the basic network functionality.</span></span> <span data-ttu-id="5330c-107">Para obtener información sobre los esquemas y los protocolos admitidos, consulte [protocolos admitidos](supported-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="5330c-107">For information about the supported schemes and protocols, see [Supported Protocols](supported-protocols.md).</span></span>

<span data-ttu-id="5330c-108">El origen de red:</span><span class="sxs-lookup"><span data-stu-id="5330c-108">The network source:</span></span>

-   <span data-ttu-id="5330c-109">Implementa características como el almacenamiento en caché, la detección de proxy y la reconexión automática.</span><span class="sxs-lookup"><span data-stu-id="5330c-109">Implements features such as caching, proxy detection, and auto-reconnection.</span></span>
-   <span data-ttu-id="5330c-110">Convierte las llamadas independientes del Protocolo de la resolución de origen a llamadas específicas del protocolo.</span><span class="sxs-lookup"><span data-stu-id="5330c-110">Converts protocol-independent calls from the source resolver to protocol-specific calls.</span></span>
-   <span data-ttu-id="5330c-111">Interactúa con la capa de sockets y el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="5330c-111">Interacts with the socket layer and the operating system.</span></span> <span data-ttu-id="5330c-112">Analiza la descripción de SDP y la usa como datos de configuración y Lee los datos de secuencia de la capa de sockets subyacentes.</span><span class="sxs-lookup"><span data-stu-id="5330c-112">Parses the SDP description and uses it as configuration data, and reads stream data from the underlying sockets layer.</span></span> <span data-ttu-id="5330c-113">Al recibir, el origen de red es responsable de reordenar y solicitar las retransmisiones de paquetes.</span><span class="sxs-lookup"><span data-stu-id="5330c-113">When receiving, the network source is responsible for reordering and requesting retransmissions of packets.</span></span>

## <a name="network-source-creation"></a><span data-ttu-id="5330c-114">Creación de origen de red</span><span class="sxs-lookup"><span data-stu-id="5330c-114">Network Source Creation</span></span>

<span data-ttu-id="5330c-115">La creación de un origen de medios para un origen de la red no es diferente de un origen de medios para un archivo local.</span><span class="sxs-lookup"><span data-stu-id="5330c-115">Creating a media source for a source from the network is not different from a media source for a local file.</span></span> <span data-ttu-id="5330c-116">La aplicación pasa la dirección URL del origen a los métodos de [resolución de origen](source-resolver.md) como [**IMFSourceResolver:: CreateObjectFromURL**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfromurl) o [**IMFSourceResolver:: BeginCreateObjectFromURL**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-begincreateobjectfromurl) y especifica la \_ marca MEDIASOURCE de la resolución MF \_ .</span><span class="sxs-lookup"><span data-stu-id="5330c-116">The application passes the URL for the source to [Source Resolver](source-resolver.md) methods such as [**IMFSourceResolver::CreateObjectFromURL**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfromurl) or [**IMFSourceResolver::BeginCreateObjectFromURL**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-begincreateobjectfromurl) and specifies the MF\_RESOLUTION\_MEDIASOURCE flag.</span></span> <span data-ttu-id="5330c-117">Para obtener más información sobre el uso de esta marca, vea [usar el solucionador de origen](using-the-source-resolver.md).</span><span class="sxs-lookup"><span data-stu-id="5330c-117">For more information about using this flag, see [Using the Source Resolver](using-the-source-resolver.md).</span></span>

<span data-ttu-id="5330c-118">Dependiendo del esquema proporcionado por la aplicación, la resolución de origen carga el objeto de controlador de esquema adecuado, que expone la interfaz [**IMFSchemeHandler**](/windows/desktop/api/mfidl/nn-mfidl-imfschemehandler) .</span><span class="sxs-lookup"><span data-stu-id="5330c-118">Depending on the scheme provided by the application, the source resolver loads the appropriate the scheme handler object, which exposes the [**IMFSchemeHandler**](/windows/desktop/api/mfidl/nn-mfidl-imfschemehandler) interface.</span></span> <span data-ttu-id="5330c-119">La aplicación también puede usar el controlador de esquema directamente para crear el origen de red mediante una llamada a [**IMFSchemeHandler:: BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject).</span><span class="sxs-lookup"><span data-stu-id="5330c-119">The application can also use the scheme handler directly to create the network source by calling [**IMFSchemeHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject).</span></span>

<span data-ttu-id="5330c-120">Para obtener más información, vea [controladores de esquema y controladores de Byte-Stream](scheme-handlers-and-byte-stream-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="5330c-120">For more information, see [Scheme Handlers and Byte-Stream Handlers](scheme-handlers-and-byte-stream-handlers.md).</span></span>

<span data-ttu-id="5330c-121">Media Foundation no admite secuencias de bytes para orígenes de red.</span><span class="sxs-lookup"><span data-stu-id="5330c-121">Media Foundation does not support byte streams for network sources.</span></span> <span data-ttu-id="5330c-122">El objeto de flujo de bytes solo se admite en el escenario de contenido descargado.</span><span class="sxs-lookup"><span data-stu-id="5330c-122">The byte stream object is only supported in the downloaded content scenario.</span></span> <span data-ttu-id="5330c-123">Todos los datos se transmiten lo más rápido posible para que se puedan guardar como un archivo en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="5330c-123">All the data is transmitted as quickly as possible so that it can be saved as a file on the local machine.</span></span> <span data-ttu-id="5330c-124">los servidores Web proporcionan datos descargados.</span><span class="sxs-lookup"><span data-stu-id="5330c-124">web servers provide downloaded data.</span></span> <span data-ttu-id="5330c-125">No hay ninguna comunicación desde el cliente al servidor una vez iniciada la descarga.</span><span class="sxs-lookup"><span data-stu-id="5330c-125">There is no communication from the client to the server after the download begins.</span></span> <span data-ttu-id="5330c-126">En este caso, se usa el protocolo de descarga HTTP.</span><span class="sxs-lookup"><span data-stu-id="5330c-126">In this case the HTTP download protocol is used.</span></span>

<span data-ttu-id="5330c-127">Si la aplicación solicita que el solucionador de origen cree un objeto de flujo de bytes para los esquemas "http:", "MMS:" o "rtsp:", se produce un error en la llamada con el \_ error de esquema MF E \_ no compatible \_ .</span><span class="sxs-lookup"><span data-stu-id="5330c-127">If the application requests the source resolver to create a byte stream object for "http:", "mms:", or "rtsp:" schemes, then the call fails with the MF\_E\_UNSUPPORTED\_SCHEME error.</span></span>

> [!Note]  
> <span data-ttu-id="5330c-128">En Windows 7, el origen de red es compatible con los archivos de la estación de Windows Media (. NSC).</span><span class="sxs-lookup"><span data-stu-id="5330c-128">In Windows 7, the network source supports Windows Media Station files (.NSC).</span></span> <span data-ttu-id="5330c-129">Estos archivos se usan en la transmisión por secuencias de multidifusión del contenido multimedia a través de una red.</span><span class="sxs-lookup"><span data-stu-id="5330c-129">These files are used in multicast streaming of media content over a network.</span></span> <span data-ttu-id="5330c-130">Para crear el origen de red para un especificado. Archivo NSC, la aplicación debe utilizar la resolución de origen.</span><span class="sxs-lookup"><span data-stu-id="5330c-130">To create the network source for a specified .NSC file, the application must use the source resolver.</span></span>

 

<span data-ttu-id="5330c-131">Si la aplicación usa el controlador de esquema, la llamada asincrónica omite el parámetro *dwFlags* y devuelve un puntero al origen de red al finalizar.</span><span class="sxs-lookup"><span data-stu-id="5330c-131">If the application is using the scheme handler, then the asynchronous call ignores the *dwFlags* parameter and returns a pointer to the network source on completion.</span></span>

<span data-ttu-id="5330c-132">En la ilustración siguiente se muestra el flujo de datos para el streaming multimedia mediante el origen de red.</span><span class="sxs-lookup"><span data-stu-id="5330c-132">The following illustration shows the data flow for media streaming using the network source.</span></span>

![diagrama de flujo que muestra las rutas de acceso de la aplicación al servidor de streaming, con un bucle entre el origen de red y la sesión multimedia](images/3f9186ea-53ed-4a31-a097-92f39fa08624.gif)

## <a name="network-source-configuration"></a><span data-ttu-id="5330c-134">Configuración de origen de red</span><span class="sxs-lookup"><span data-stu-id="5330c-134">Network Source Configuration</span></span>

<span data-ttu-id="5330c-135">En este tema se describen las características admitidas por el origen de red y las opciones de configuración asociadas.</span><span class="sxs-lookup"><span data-stu-id="5330c-135">This topic describes the features supported by the network source and the associated configuration options.</span></span> <span data-ttu-id="5330c-136">Una aplicación puede configurar el origen de red al crear el objeto de origen de red.</span><span class="sxs-lookup"><span data-stu-id="5330c-136">An application can configure the network source when creating the network source object.</span></span> <span data-ttu-id="5330c-137">Estas opciones se almacenan en un objeto **IPropertyStore** , que la aplicación debe pasar en el parámetro *pProps* de los métodos de resolución de origen o [**IMFSchemeHandler:: BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject).</span><span class="sxs-lookup"><span data-stu-id="5330c-137">These options are stored in an **IPropertyStore** object, which the application must pass in the *pProps* parameter of the source resolver methods or [**IMFSchemeHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject).</span></span>

### <a name="auto-reconnect"></a><span data-ttu-id="5330c-138">Reconexión automática</span><span class="sxs-lookup"><span data-stu-id="5330c-138">Auto-Reconnect</span></span>

<span data-ttu-id="5330c-139">La característica de reconexión automática del origen de red permite a un cliente volver a conectarse al servidor multimedia automáticamente cuando se produce un error en la conexión TCP al servidor o cuando el cliente no puede recibir paquetes.</span><span class="sxs-lookup"><span data-stu-id="5330c-139">The auto-reconnect feature of the network source enables a client to reconnect to the media server automatically when the TCP connection to the server fails or the client fails to receive packets.</span></span> <span data-ttu-id="5330c-140">Cuando se produce un error en la conexión, el origen de red intenta volver a conectarse al servidor multimedia con la misma configuración que se usó en la conexión anterior.</span><span class="sxs-lookup"><span data-stu-id="5330c-140">When connection fails, the network source attempts to reconnect to the media server using the same configuration that was used in the previous connection.</span></span> <span data-ttu-id="5330c-141">El proceso de reconexión es asincrónico.</span><span class="sxs-lookup"><span data-stu-id="5330c-141">The reconnection process is asynchronous.</span></span> <span data-ttu-id="5330c-142">El origen de red genera el evento [MEReconnectStart](mereconnectstart.md) cuando se inicia la reconexión y el evento [MEReconnectEnd](mereconnectend.md) cuando la reconexión se realiza correctamente o produce un error.</span><span class="sxs-lookup"><span data-stu-id="5330c-142">The network source raises the [MEReconnectStart](mereconnectstart.md) event when it begins reconnection and the [MEReconnectEnd](mereconnectend.md) event when the reconnection succeeds or fails.</span></span>

<span data-ttu-id="5330c-143">Si el número de intentos de reconexión supera el valor máximo especificado por la propiedad [**\_ AUTORECONNECTLIMIT de MFNETSOURCE**](mfnetsource-autoreconnectlimit-property.md) , se cancela la operación de reconexión.</span><span class="sxs-lookup"><span data-stu-id="5330c-143">If the number of reconnection attempts exceeds the maximum value specified by the [**MFNETSOURCE\_AUTORECONNECTLIMIT**](mfnetsource-autoreconnectlimit-property.md) property, the reconnection operation is canceled.</span></span> <span data-ttu-id="5330c-144">El número de intentos de reconexión se almacena en la propiedad [**MFNETSOURCE \_ AUTORECONNECTPROGRESS**](mfnetsource-autoreconnectprogress-property.md) .</span><span class="sxs-lookup"><span data-stu-id="5330c-144">The number of reconnection attempts is stored in the [**MFNETSOURCE\_AUTORECONNECTPROGRESS**](mfnetsource-autoreconnectprogress-property.md) property.</span></span>

<span data-ttu-id="5330c-145">La reconexión automática permite la reproducción fluida de contenido multimedia incluso cuando se produce un error en la conexión TCP al servidor multimedia.</span><span class="sxs-lookup"><span data-stu-id="5330c-145">Auto-reconnect enables smooth playback of media content even when the TCP connection to the media server fails.</span></span> <span data-ttu-id="5330c-146">Para una experiencia de reproducción fluida, el cliente debe tener suficientes datos, al menos de 1 a 2 minutos, en su caché para continuar la reproducción hasta la reconexión.</span><span class="sxs-lookup"><span data-stu-id="5330c-146">For a smooth playback experience, the client must have sufficient data, at least 1 to 2 minutes, in its cache to continue playback until reconnection.</span></span> <span data-ttu-id="5330c-147">La cantidad máxima de datos que puede almacenar en búfer el origen de red se puede establecer en la propiedad [**MFNETSOURCE \_ MAXBUFFERTIMEMS**](mfnetsource-maxbuffertimems-property.md) .</span><span class="sxs-lookup"><span data-stu-id="5330c-147">The maximum amount of data that the network source can buffer can be set in the [**MFNETSOURCE\_MAXBUFFERTIMEMS**](mfnetsource-maxbuffertimems-property.md) property.</span></span>

### <a name="fast-streaming"></a><span data-ttu-id="5330c-148">Transmisión por secuencias rápida</span><span class="sxs-lookup"><span data-stu-id="5330c-148">Fast Streaming</span></span>

<span data-ttu-id="5330c-149">El cliente de origen de red solicita al servidor que transmita algunos de los datos al principio del contenido con una tasa más rápida que la especificada en la velocidad de bits del contenido.</span><span class="sxs-lookup"><span data-stu-id="5330c-149">The network source client requests the server to stream some of the data at the beginning of the content at a faster rate than that specified by the bit rate of the content.</span></span> <span data-ttu-id="5330c-150">Si el *Inicio rápido* está habilitado en el servidor, el servidor envía una secuencia de velocidad de bits acelerada para que el cliente pueda almacenar en búfer una cantidad suficiente de datos más rápido que en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="5330c-150">If *Fast Startup* is enabled on the server, the server sends an accelerated bit-rate stream so that the client can buffer a sufficient amount of data faster than in real time.</span></span> <span data-ttu-id="5330c-151">Esto mejora la experiencia del usuario al minimizar los retrasos de almacenamiento en búfer iniciales, lo que puede deberse a diversos factores, como la baja velocidad del equipo cliente o la red, y el ancho de banda disponible.</span><span class="sxs-lookup"><span data-stu-id="5330c-151">This improves user experience by minimizing initial buffering delays, which can be caused by various factors such as low speed of the client computer or the network, and available bandwidth.</span></span>

<span data-ttu-id="5330c-152">Para especificar la cantidad de datos de streaming rápido que el cliente puede solicitar, establezca la propiedad [**MFNETSOURCE \_ ACCELERATEDSTREAMINGDURATION**](mfnetsource-acceleratedstreamingduration-property.md) .</span><span class="sxs-lookup"><span data-stu-id="5330c-152">To specify the amount of fast-streaming data that the client can request, set the [**MFNETSOURCE\_ACCELERATEDSTREAMINGDURATION**](mfnetsource-acceleratedstreamingduration-property.md) property.</span></span> <span data-ttu-id="5330c-153">Si el origen de red usa UDP como protocolo de transporte, especifique la cantidad máxima de datos de streaming rápido mediante el establecimiento de la propiedad [**MFNETSOURCE \_ MAXUDPACCELERATEDSTREAMINGDURATION**](mfnetsource-maxudpacceleratedstreamingduration-property.md) en su lugar.</span><span class="sxs-lookup"><span data-stu-id="5330c-153">If the network source is using UDP as the transport protocol, specify the maximum amount of fast-streaming data by setting the [**MFNETSOURCE\_MAXUDPACCELERATEDSTREAMINGDURATION**](mfnetsource-maxudpacceleratedstreamingduration-property.md) property instead.</span></span>

<span data-ttu-id="5330c-154">El streaming rápido en el cliente también es posible a través de la característica de *caché rápida* : streaming a petición más rápido que el tiempo real y el almacenamiento en caché de los datos en la memoria caché local del cliente.</span><span class="sxs-lookup"><span data-stu-id="5330c-154">Fast streaming on the client is also possible through the *Fast Cache* feature—streaming on-demand content faster than real time and caching data on the client's local cache.</span></span> <span data-ttu-id="5330c-155">Para usar este tipo de streaming rápido, la memoria caché rápida debe estar habilitada en el origen de red y el servidor debe ser compatible con ella.</span><span class="sxs-lookup"><span data-stu-id="5330c-155">To use this type of fast streaming, Fast Cache must be enabled on the network source, and the server must support it.</span></span> <span data-ttu-id="5330c-156">Cuando el cliente solicita contenido del servidor, el origen de red primero comprueba para ver si el contenido ya está en la memoria caché del cliente.</span><span class="sxs-lookup"><span data-stu-id="5330c-156">When the client requests content from the server, the network source first checks to see whether the content is already in the client's cache.</span></span> <span data-ttu-id="5330c-157">Si el contenido está en la caché local del cliente y no ha expirado, se representa.</span><span class="sxs-lookup"><span data-stu-id="5330c-157">If the content is in the client's local cache and has not expired, it is rendered.</span></span> <span data-ttu-id="5330c-158">Si el contenido no está en la memoria caché local o ya expiró, el contenido se transmite y se almacena en caché, y el origen de red lo reproduce desde la memoria caché local.</span><span class="sxs-lookup"><span data-stu-id="5330c-158">If the content is not in the local cache or has already expired, the content is streamed and cached, and the network source plays it from the local cache.</span></span> <span data-ttu-id="5330c-159">En las solicitudes posteriores, para las listas de reproducción, solo se almacenan en caché y se reproducen las entradas que faltan.</span><span class="sxs-lookup"><span data-stu-id="5330c-159">In subsequent requests, for playlists, only missing entries are cached and then played.</span></span> <span data-ttu-id="5330c-160">Si ya hay una entrada de lista de reproducción en la caché local del cliente, se reproduce desde allí y no se vuelve a almacenar en caché.</span><span class="sxs-lookup"><span data-stu-id="5330c-160">If a playlist entry is already in the client's local cache, it is played from there and not cached again.</span></span>

<span data-ttu-id="5330c-161">De forma predeterminada, la memoria caché rápida está habilitada en el cliente de origen de red.</span><span class="sxs-lookup"><span data-stu-id="5330c-161">By default, Fast Cache is enabled on the network source client.</span></span> <span data-ttu-id="5330c-162">Sin embargo, los siguientes factores también determinan si se usa la característica:</span><span class="sxs-lookup"><span data-stu-id="5330c-162">However, the following factors also determine whether the feature is used:</span></span>

-   <span data-ttu-id="5330c-163">El cliente debe tener un ancho de banda adicional disponible para descargar y almacenar en caché el contenido más rápido que la velocidad normal.</span><span class="sxs-lookup"><span data-stu-id="5330c-163">The client must have extra bandwidth available to download and cache the content faster than the normal speed.</span></span>
-   <span data-ttu-id="5330c-164">El cliente debe tener suficiente espacio en disco.</span><span class="sxs-lookup"><span data-stu-id="5330c-164">The client must have sufficient disk space.</span></span> <span data-ttu-id="5330c-165">Si el cliente tiene menos de 100 MB de espacio libre en disco después de almacenar en caché el contenido a petición solicitado, no se almacena en caché, sino que se transmite y se representa simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="5330c-165">If the client has less than 100 MB of free disk space after caching the requested on-demand content, it is not cached, but is streamed and rendered simultaneously.</span></span>

<span data-ttu-id="5330c-166">La característica de caché rápida se controla mediante la propiedad [**MFNETSOURCE \_ CACHEENABLED**](mfnetsource-cacheenabled-property.md) .</span><span class="sxs-lookup"><span data-stu-id="5330c-166">The Fast Cache feature is controlled by the [**MFNETSOURCE\_CACHEENABLED**](mfnetsource-cacheenabled-property.md) property.</span></span>

### <a name="buffer-management"></a><span data-ttu-id="5330c-167">Administración de búfer</span><span class="sxs-lookup"><span data-stu-id="5330c-167">Buffer Management</span></span>

<span data-ttu-id="5330c-168">El origen de red proporciona una administración de búfer eficaz que supervisa el estado de búfer en el cliente.</span><span class="sxs-lookup"><span data-stu-id="5330c-168">The network source provides efficient buffer management that monitors the buffer state on the client.</span></span> <span data-ttu-id="5330c-169">De forma predeterminada, el origen de red almacena en búfer 5 segundos de datos en el inicio.</span><span class="sxs-lookup"><span data-stu-id="5330c-169">By default, the network source buffers 5 seconds of data at startup.</span></span> <span data-ttu-id="5330c-170">Este valor se puede configurar estableciendo la propiedad [**MFNETSOURCE \_ BUFFERINGTIME**](mfnetsource-bufferingtime-property.md) .</span><span class="sxs-lookup"><span data-stu-id="5330c-170">This value can be configured by setting the [**MFNETSOURCE\_BUFFERINGTIME**](mfnetsource-bufferingtime-property.md) property.</span></span> <span data-ttu-id="5330c-171">Según el valor de esta propiedad, el origen de red calcula el tamaño de búfer suficiente para garantizar la reproducción fluida y sin interrupciones del contenido multimedia.</span><span class="sxs-lookup"><span data-stu-id="5330c-171">Based on this property value, the network source computes the buffer size that is sufficient to ensure smooth and uninterrupted playback of the media content.</span></span> <span data-ttu-id="5330c-172">Si esta propiedad se establece en 0, la administración del búfer está deshabilitada.</span><span class="sxs-lookup"><span data-stu-id="5330c-172">If this property is set to 0, buffer management is disabled.</span></span> <span data-ttu-id="5330c-173">Cuando la cantidad de contenido del búfer es baja, el origen de red comienza el almacenamiento en búfer y genera el evento [MEBufferingStarted](mebufferingstarted.md) para indicar que se ha iniciado el almacenamiento en búfer.</span><span class="sxs-lookup"><span data-stu-id="5330c-173">When the amount of content in the buffer is low, the network source starts buffering and raises the [MEBufferingStarted](mebufferingstarted.md) event to indicate that buffering has begun.</span></span> <span data-ttu-id="5330c-174">Al recibir este evento, la canalización detiene la representación.</span><span class="sxs-lookup"><span data-stu-id="5330c-174">Upon receiving this event, the pipeline stops rendering.</span></span> <span data-ttu-id="5330c-175">Cuando se completa el almacenamiento en búfer, el origen de red genera el evento [MEBufferingStopped](mebufferingstopped.md) y el cliente puede comenzar a representarse de nuevo.</span><span class="sxs-lookup"><span data-stu-id="5330c-175">When buffering is complete, the network source raises the [MEBufferingStopped](mebufferingstopped.md) event, and the client can start rendering again.</span></span>

<span data-ttu-id="5330c-176">El cliente comienza a representar el contenido una vez que ha acumulado la cantidad de datos indicada por el tamaño del búfer de la primera muestra.</span><span class="sxs-lookup"><span data-stu-id="5330c-176">The client starts rendering the content after it has accumulated the amount of data indicated by the buffer size of the first sample.</span></span> <span data-ttu-id="5330c-177">Si este valor es menor que el tamaño de búfer calculado, la reproducción se inicia inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="5330c-177">If this value is lower than the calculated buffer size, then the playback starts immediately.</span></span> <span data-ttu-id="5330c-178">Este comportamiento es muy similar a la característica de inicio rápido.</span><span class="sxs-lookup"><span data-stu-id="5330c-178">This behavior is very similar to the Fast Startup feature.</span></span>

<span data-ttu-id="5330c-179">La propiedad [**MFNETSOURCE \_ MAXBUFFERTIMEMS**](mfnetsource-maxbuffertimems-property.md) almacena la cantidad máxima de datos que se pueden almacenar en búfer.</span><span class="sxs-lookup"><span data-stu-id="5330c-179">The [**MFNETSOURCE\_MAXBUFFERTIMEMS**](mfnetsource-maxbuffertimems-property.md) property stores the maximum amount of data that can be buffered.</span></span>

### <a name="bandwidth-selection"></a><span data-ttu-id="5330c-180">Selección de ancho de banda</span><span class="sxs-lookup"><span data-stu-id="5330c-180">Bandwidth Selection</span></span>

<span data-ttu-id="5330c-181">Cuando un cliente se conecta al servidor multimedia, como parte de la configuración de la conexión, el origen *de red realiza una medición de pares de paquetes estáticos* para calcular el ancho de banda inicial del vínculo entre el cliente y el servidor.</span><span class="sxs-lookup"><span data-stu-id="5330c-181">When a client connects to the media server, as part of the connection setup, the network source performs *static packet-pair* measurement to estimate the initial link bandwidth between client and server.</span></span> <span data-ttu-id="5330c-182">En función del resultado de esta medición, el cliente puede seleccionar secuencias de audio y vídeo que se ajusten al ancho de banda estimado.</span><span class="sxs-lookup"><span data-stu-id="5330c-182">Based on the result of this measurement, the client can select audio and video streams that fit within the estimated bandwidth.</span></span> <span data-ttu-id="5330c-183">Esto garantiza una reproducción fluida del contenido multimedia de streaming.</span><span class="sxs-lookup"><span data-stu-id="5330c-183">This ensures smooth playback of the streaming media content.</span></span>

<span data-ttu-id="5330c-184">Durante la fase de inicio rápido, se realiza la medición *dinámica de pares de paquetes* .</span><span class="sxs-lookup"><span data-stu-id="5330c-184">During the Fast Startup stage, *dynamic packet-pair* measurement is performed.</span></span> <span data-ttu-id="5330c-185">En este proceso, el cliente recibe grandes cantidades de datos, que pueden ser varios paquetes o muestras.</span><span class="sxs-lookup"><span data-stu-id="5330c-185">In this process, the client receives large amounts of data, which can be multiple packets or samples.</span></span>

<span data-ttu-id="5330c-186">El resultado de la medición dinámica de pares de paquetes es más preciso que la estimación de ancho de banda de vínculo devuelta por la medición de pares de paquetes estáticos porque el proceso de pares de paquetes estáticos envía un único paquete de tamaño fijo, lo que puede no producir resultados precisos para redes de ancho de banda alto.</span><span class="sxs-lookup"><span data-stu-id="5330c-186">The result of dynamic packet-pair measurement is more accurate than the link bandwidth estimate returned by static packet-pair measurement because the static packet-pair process sends a single packet of fixed size, which may not yield accurate results for high bandwidth networks.</span></span>

<span data-ttu-id="5330c-187">La aplicación puede obtener el ancho de banda estimado mediante el uso de la propiedad [**MFNETSOURCE \_ PPBANDWIDTH**](mfnetsource-ppbandwidth-property.md) .</span><span class="sxs-lookup"><span data-stu-id="5330c-187">The application can get the estimated bandwidth by using the [**MFNETSOURCE\_PPBANDWIDTH**](mfnetsource-ppbandwidth-property.md) property.</span></span>

<span data-ttu-id="5330c-188">Las condiciones de red pueden cambiar dinámicamente, lo que provoca problemas de reproducción del origen de red.</span><span class="sxs-lookup"><span data-stu-id="5330c-188">Network conditions may change dynamically, causing glitches in playback of the network source.</span></span> <span data-ttu-id="5330c-189">El origen de red puede cambiar la selección de flujo inicial del cliente en función de la velocidad de recepción y el estado del búfer.</span><span class="sxs-lookup"><span data-stu-id="5330c-189">The network source can change the client's initial stream selection based on the receiving rate and the buffer state.</span></span> <span data-ttu-id="5330c-190">Por ejemplo, el cliente podría cambiar a una velocidad de bits inferior durante la congestión de la red y cambiar a una velocidad de bits más alta cuando el tráfico de red ha mejorado y el cliente ha acumulado una cantidad suficiente de contenido almacenado en búfer.</span><span class="sxs-lookup"><span data-stu-id="5330c-190">For example, the client might switch to a lower bit rate during network congestion and switch back to a higher bit rate when network traffic has improved and the client has accumulated a sufficient amount of buffered content.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5330c-191">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="5330c-191">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5330c-192">Funciones de red en Media Foundation</span><span class="sxs-lookup"><span data-stu-id="5330c-192">Networking in Media Foundation</span></span>](networking-in-media-foundation.md)
</dt> </dl>

 

 



