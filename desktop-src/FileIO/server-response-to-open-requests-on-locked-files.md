---
description: Puede minimizar el impacto que tiene la aplicación en otros clientes y el impacto que tienen en la aplicación al conceder tantos recursos compartidos como sea posible, solicitar el nivel de acceso mínimo necesario y usar el menos bloqueo oportunista intrusivo adecuado para su aplicación.
ms.assetid: c28b0ae0-0d35-4b59-9f54-87c55ca72716
title: Respuesta del servidor para abrir solicitudes en archivos bloqueados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d397613f6b54f2b42c26a5674a787b796f5f19e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104542502"
---
# <a name="server-response-to-open-requests-on-locked-files"></a><span data-ttu-id="27475-103">Respuesta del servidor para abrir solicitudes en archivos bloqueados</span><span class="sxs-lookup"><span data-stu-id="27475-103">Server Response to Open Requests on Locked Files</span></span>

<span data-ttu-id="27475-104">La duración de un bloqueo oportunista incluye tres intervalos de tiempo distintos.</span><span class="sxs-lookup"><span data-stu-id="27475-104">The life of an opportunistic lock includes three distinct time spans.</span></span> <span data-ttu-id="27475-105">Durante cada una de ellas, el servidor determina por diferentes significa su reacción a una solicitud de un cliente para abrir un archivo bloqueado por otro cliente.</span><span class="sxs-lookup"><span data-stu-id="27475-105">During each, the server determines by different means its reaction to a request from a client to open a file locked by another client.</span></span> <span data-ttu-id="27475-106">En general, puede minimizar el impacto que tiene la aplicación en otros clientes y el impacto que tienen en la aplicación al conceder tantos recursos compartidos como sea posible, solicitar el nivel de acceso mínimo necesario y usar el menor bloqueo oportunista intrusivo adecuado para su aplicación.</span><span class="sxs-lookup"><span data-stu-id="27475-106">In general, you can minimize the impact your application has on other clients and the impact they have on your application by granting as much sharing as possible, requesting the minimum access level necessary, and using the least intrusive opportunistic lock suitable for your application.</span></span>

<span data-ttu-id="27475-107">El primero es el período después de que el servidor abra un archivo para un cliente, pero antes de conceder un bloqueo.</span><span class="sxs-lookup"><span data-stu-id="27475-107">First is the period after the server opens a file for a client but before it grants a lock.</span></span> <span data-ttu-id="27475-108">Durante este tiempo, no hay ningún bloqueo en el archivo y el servidor depende del uso compartido, los modos de acceso y el tipo de bloqueo oportunista que solicita para determinar su reacción a otra solicitud para abrir el mismo archivo.</span><span class="sxs-lookup"><span data-stu-id="27475-108">During this time, no lock exists on the file, and the server depends on sharing, access modes, and the type of opportunistic lock you request to determine its reaction to another request to open the same file.</span></span> <span data-ttu-id="27475-109">Por ejemplo, si abre el archivo en cuestión para el acceso de escritura, puede impedir la concesión de bloqueos oportunistas que permitan el acceso al almacenamiento en caché de lectura a otros clientes.</span><span class="sxs-lookup"><span data-stu-id="27475-109">For example, if you open the file in question for write access, you may inhibit granting opportunistic locks that allow read caching access to other clients.</span></span> <span data-ttu-id="27475-110">El intervalo de tiempo antes de que el servidor conceda un bloqueo normalmente está en el intervalo de milisegundos, pero puede ser más largo.</span><span class="sxs-lookup"><span data-stu-id="27475-110">The time span before the server grants a lock is typically in the millisecond range but may be longer.</span></span>

<span data-ttu-id="27475-111">Una vez concedido el bloqueo oportunista, el servidor examina el bloqueo para determinar la reacción del servidor a una solicitud abierta en un archivo bloqueado.</span><span class="sxs-lookup"><span data-stu-id="27475-111">After the opportunistic lock is granted, the server examines the lock to determine server reaction to an open request on a locked file.</span></span> <span data-ttu-id="27475-112">De nuevo, el modo en que la aplicación abrió el archivo y el tipo de bloqueo que contiene afecta a la respuesta del servidor.</span><span class="sxs-lookup"><span data-stu-id="27475-112">Again, how your application opened the file and the type of lock it holds affects how the server responds.</span></span> <span data-ttu-id="27475-113">Para obtener más información sobre cómo responde el servidor en cada caso, consulte [tipos de bloqueos oportunistas](types-of-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="27475-113">For more information on how the server responds in each case, see [Types of Opportunistic Locks](types-of-opportunistic-locks.md).</span></span>

<span data-ttu-id="27475-114">Por último, hay un intervalo después de que el servidor determine que el bloqueo se debe interrumpir (finaliza), pero antes de que la aplicación complete su reacción a la interrupción.</span><span class="sxs-lookup"><span data-stu-id="27475-114">Finally, there is the span after the server determines that your lock should be broken (ended) but before your application completes its reaction to the break.</span></span> <span data-ttu-id="27475-115">Dependiendo del tipo de bloqueo, la aplicación puede degradar el bloqueo a un nivel inferior o a ninguno.</span><span class="sxs-lookup"><span data-stu-id="27475-115">Depending on the type of lock, your application can downgrade the lock to a lower level or to none at all.</span></span> <span data-ttu-id="27475-116">La aplicación también puede cerrar el archivo y el bloqueo.</span><span class="sxs-lookup"><span data-stu-id="27475-116">Your application can also close the file and the lock.</span></span> <span data-ttu-id="27475-117">Durante este tiempo, el servidor mantiene en abeyance cualquier solicitud de otros clientes para abrir el archivo previamente bloqueado.</span><span class="sxs-lookup"><span data-stu-id="27475-117">During this time, the server holds in abeyance any requests from other clients to open the formerly locked file.</span></span> <span data-ttu-id="27475-118">Este intervalo de tiempo puede oscilar entre milisegundos y decenas de segundos.</span><span class="sxs-lookup"><span data-stu-id="27475-118">This time span may range from milliseconds to tens of seconds.</span></span> <span data-ttu-id="27475-119">Para obtener más información, vea [interrumpir bloqueos oportunistas](breaking-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="27475-119">For more information, see [Breaking Opportunistic Locks](breaking-opportunistic-locks.md).</span></span>

 

 



