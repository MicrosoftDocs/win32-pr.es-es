---
description: Uso de SymSrv
ms.assetid: d400f222-c50c-4c7b-8f8a-0c3ed3bba3b9
title: Uso de SymSrv
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bbaf68e80555629db8bc9a2a21394b95fe6fb85
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/27/2021
ms.locfileid: "110550040"
---
# <a name="using-symsrv"></a><span data-ttu-id="26450-103">Uso de SymSrv</span><span class="sxs-lookup"><span data-stu-id="26450-103">Using SymSrv</span></span>

<span data-ttu-id="26450-104">SymSrv entrega archivos de símbolos desde almacenes de símbolos centralizados.</span><span class="sxs-lookup"><span data-stu-id="26450-104">SymSrv delivers symbol files from centralized symbol stores.</span></span> <span data-ttu-id="26450-105">Estos almacenes pueden contener cualquier número de archivos de símbolos, correspondientes a cualquier número de programas o sistemas operativos.</span><span class="sxs-lookup"><span data-stu-id="26450-105">These stores can contain any number of symbol files, corresponding to any number of programs or operating systems.</span></span> <span data-ttu-id="26450-106">Los almacenes también pueden contener archivos binarios, que son especialmente útiles al depurar archivos de minivolfón.</span><span class="sxs-lookup"><span data-stu-id="26450-106">The stores can also contain binary files, which are particularly useful when debugging minidump files.</span></span>

<span data-ttu-id="26450-107">Los almacenes pueden contener los archivos binarios y de símbolos reales o simplemente punteros a archivos de símbolos.</span><span class="sxs-lookup"><span data-stu-id="26450-107">The stores can contain the actual symbol and binary files or simply pointers to symbol files.</span></span> <span data-ttu-id="26450-108">Si el almacén contiene punteros, SymSrv recuperará los archivos reales directamente de sus orígenes.</span><span class="sxs-lookup"><span data-stu-id="26450-108">If the store contains pointers, SymSrv will retrieve the actual files directly from their sources.</span></span>

<span data-ttu-id="26450-109">SymSrv también puede separar un almacén de símbolos grande en un subconjunto más pequeño que sea adecuado para una tarea de depuración especializada.</span><span class="sxs-lookup"><span data-stu-id="26450-109">SymSrv can also separate a large symbol store into a smaller subset that is appropriate for a specialized debugging task.</span></span>

<span data-ttu-id="26450-110">Por último, SymSrv puede obtener archivos de símbolos de un origen HTTP o HTTPS mediante la información de inicio de sesión proporcionada por el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="26450-110">Finally, SymSrv can obtain symbol files from an HTTP or HTTPS source using the logon information provided by the operating system.</span></span> <span data-ttu-id="26450-111">SymSrv admite sitios HTTPS protegidos por tarjetas inteligentes, certificados e inicios de sesión y contraseñas normales.</span><span class="sxs-lookup"><span data-stu-id="26450-111">SymSrv supports HTTPS sites protected by smartcards, certificates, and regular logins and passwords.</span></span>

## <a name="setting-the-symbol-path"></a><span data-ttu-id="26450-112">Establecer la ruta de acceso del símbolo</span><span class="sxs-lookup"><span data-stu-id="26450-112">Setting the Symbol Path</span></span>

<span data-ttu-id="26450-113">Como se describe en [Rutas](symbol-paths.md)de acceso de símbolos , la ruta de acceso de símbolos (variable de entorno NT SYMBOL PATH) puede estar integrada por varios elementos path separados por \_ punto y \_ \_ coma.</span><span class="sxs-lookup"><span data-stu-id="26450-113">As described in [Symbol Paths](symbol-paths.md), the symbol path (\_NT\_SYMBOL\_PATH environment variable) can be made up of several path elements separated by semicolons.</span></span> <span data-ttu-id="26450-114">Si uno o varios de estos elementos de ruta de acceso comienzan con el texto "srv", el elemento es un servidor de símbolos y usará SymSrv para buscar archivos \* de símbolos.</span><span class="sxs-lookup"><span data-stu-id="26450-114">If any one or more of these path elements begins with the text "srv\*", then the element is a symbol server and will use SymSrv to locate symbol files.</span></span>

> [!Note]  
> <span data-ttu-id="26450-115">Si no se especifica el texto "srv", pero el elemento path real es un almacén de servidores de símbolos, el controlador de símbolos actuará como si se hubiera especificado \* \* "srv".</span><span class="sxs-lookup"><span data-stu-id="26450-115">If the "srv\*" text is not specified but the actual path element is a symbol server store, then the symbol handler will act as if "srv\*" were specified.</span></span> <span data-ttu-id="26450-116">El controlador de símbolos realiza esta determinación buscando la existencia de un archivo denominado "pingme.txt" en el directorio raíz de la ruta de acceso especificada.</span><span class="sxs-lookup"><span data-stu-id="26450-116">The symbol handler makes this determination by searching for the existence of a file called "pingme.txt" in the root directory of the specified path.</span></span>

 

<span data-ttu-id="26450-117">Al igual que las rutas de acceso de símbolos se realizan con elementos de ruta de acceso de símbolos separados por punto y coma, los servidores de símbolos se realizan con elementos de almacén de símbolos separados por asteriscos.</span><span class="sxs-lookup"><span data-stu-id="26450-117">Just as symbol paths are made up of symbol path elements separated by semicolons, symbol servers are made up of symbol store elements separated by asterisks.</span></span> <span data-ttu-id="26450-118">Puede haber hasta 10 almacenes de símbolos después del prefijo \* "srv".</span><span class="sxs-lookup"><span data-stu-id="26450-118">There can be up to 10 symbol stores after the "srv\*" prefix.</span></span> <span data-ttu-id="26450-119">Los almacenes que aparecen a  la izquierda de la lista se denominan almacenes de nivel inferior y los almacenes de la derecha se denominan *almacenes ascendentes.*</span><span class="sxs-lookup"><span data-stu-id="26450-119">Stores listed to the left of the list are called *downstream* stores and stores to the right are called *upstream* stores.</span></span>

<dl> <span data-ttu-id="26450-120">srv \* *SymbolStore*</span><span class="sxs-lookup"><span data-stu-id="26450-120">srv\**SymbolStore*</span></span>  
<span data-ttu-id="26450-121">srv \* *SymbolStore1* \* *SymbolStoreN*  
</span><span class="sxs-lookup"><span data-stu-id="26450-121">srv\**SymbolStore1*\**SymbolStoreN*  
</span></span></dl>

<span data-ttu-id="26450-122">Si solo se incluye un elemento de almacén de símbolos en la ruta de acceso, SymSrv intentará usar cualquier archivo solicitado directamente desde ese almacén.</span><span class="sxs-lookup"><span data-stu-id="26450-122">If only one symbol store element is included in the path, then SymSrv will attempt to use the any requested file directly from that store.</span></span>

<span data-ttu-id="26450-123">Si hay dos almacenes de símbolos en la ruta de acceso, SymSrv busca el archivo de símbolos en el almacén de símbolos situado más a la izquierda.</span><span class="sxs-lookup"><span data-stu-id="26450-123">If there are two symbol stores in the path, SymSrv looks for the symbol file in the leftmost symbol store.</span></span> <span data-ttu-id="26450-124">Si el archivo está ahí, se usa.</span><span class="sxs-lookup"><span data-stu-id="26450-124">If the file is there, it is used.</span></span> <span data-ttu-id="26450-125">Si no está ahí, SymSrv busca en el almacén de símbolos inmediatamente a la derecha.</span><span class="sxs-lookup"><span data-stu-id="26450-125">If it is not there, SymSrv looks in the symbol store immediately to the right.</span></span> <span data-ttu-id="26450-126">Si el archivo está ahí, se copia en el almacén izquierdo y se abre desde allí.</span><span class="sxs-lookup"><span data-stu-id="26450-126">If the file is there, it is copied to the left store and opened from there.</span></span>

<span data-ttu-id="26450-127">Si hay más de dos almacenes, este comportamiento continúa a la derecha hasta que se encuentra el archivo o no hay más almacenes en la lista.</span><span class="sxs-lookup"><span data-stu-id="26450-127">If there are more than two stores, this behavior continues to the right until the file is found or there are no more stores in the list.</span></span>

<span data-ttu-id="26450-128">El archivo nunca se abre desde ningún almacén, sino desde el almacén situado más a la izquierda.</span><span class="sxs-lookup"><span data-stu-id="26450-128">The file is never opened from any store but the leftmost store.</span></span> <span data-ttu-id="26450-129">Si el archivo se encuentra en cualquier otro lugar de la cadena, se copia en cada almacén situado a la izquierda.</span><span class="sxs-lookup"><span data-stu-id="26450-129">If the file is found anywhere else in the chain, it is copied to every store to the left of it.</span></span> <span data-ttu-id="26450-130">Este proceso de copia se denomina "en cascada" y proporciona ciertas ventajas que se declararán más adelante en este documento.</span><span class="sxs-lookup"><span data-stu-id="26450-130">This copy process is called "cascading" and provides certain benefits that will clarfied later in this document.</span></span>

## <a name="types-of-symbol-stores"></a><span data-ttu-id="26450-131">Tipos de almacenes de símbolos</span><span class="sxs-lookup"><span data-stu-id="26450-131">Types of Symbol Stores</span></span>

<span data-ttu-id="26450-132">En la tabla siguiente se muestran ejemplos de los tipos de almacén de símbolos admitidos.</span><span class="sxs-lookup"><span data-stu-id="26450-132">The following table displays examples of the supported symbol store types.</span></span>

|  <span data-ttu-id="26450-133">Tipo de almacén de símbolos</span><span class="sxs-lookup"><span data-stu-id="26450-133">Symbol store type</span></span>       |  <span data-ttu-id="26450-134">Descripción</span><span class="sxs-lookup"><span data-stu-id="26450-134">Description</span></span> |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="26450-135">\\\\recurso \\ compartido de servidor</span><span class="sxs-lookup"><span data-stu-id="26450-135">\\\\server\\share</span></span>          | <span data-ttu-id="26450-136">Una ruta de acceso UNC completa a un recurso compartido en un servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="26450-136">A fully qualified UNC path to a share on a remote server.</span></span>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="26450-137">c: \\ LocalCache</span><span class="sxs-lookup"><span data-stu-id="26450-137">c:\\LocalCache</span></span>             | <span data-ttu-id="26450-138">Ruta de acceso a un directorio en el equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="26450-138">A path to a directory on the client computer.</span></span>                                                                                                                                                                                                                                                                                                             |
| https://InternetSite        | <span data-ttu-id="26450-139">Dirección URL de un sitio web que hospeda los símbolos.</span><span class="sxs-lookup"><span data-stu-id="26450-139">The URL to a web site hosting the symbols.</span></span> <span data-ttu-id="26450-140">Debe ser el almacén más a la derecha de la lista y no debe ser el único almacén de la lista.</span><span class="sxs-lookup"><span data-stu-id="26450-140">Must be the rightmost store in the list and should not be the only store in the list.</span></span>                                                                                                                                                                                                                          |
| https://SecureInternetSite | <span data-ttu-id="26450-141">Dirección URL de un sitio web seguro que hospeda los símbolos.</span><span class="sxs-lookup"><span data-stu-id="26450-141">The URL to a secure web site hosting the symbols.</span></span> <span data-ttu-id="26450-142">Esto puede admitir contraseñas, credenciales de inicio de sesión de Windows, certificados y tarjetas inteligentes.</span><span class="sxs-lookup"><span data-stu-id="26450-142">This can support passwords, Windows login credentials, certificates, and smartcards.</span></span> <span data-ttu-id="26450-143">Debe ser el almacén más a la derecha de la lista y no debe ser el único almacén de la lista.</span><span class="sxs-lookup"><span data-stu-id="26450-143">Must be the rightmost store in the list and should not be the only store in the list.</span></span>                                                                                                                              |
| <blank>              | <span data-ttu-id="26450-144">Si no hay texto entre dos asteriscos, esto indica el *almacén de nivel inferior predeterminado.*</span><span class="sxs-lookup"><span data-stu-id="26450-144">If there is no text between two asterisks, this indicates the *default downstream store*.</span></span> <span data-ttu-id="26450-145">La ubicación se establece mediante una llamada [**a SymSetHomeDirectory**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory).</span><span class="sxs-lookup"><span data-stu-id="26450-145">The location is set by calling [**SymSetHomeDirectory**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory).</span></span> <span data-ttu-id="26450-146">El valor predeterminado es un directorio denominado "sym" inmediatamente debajo del directorio del programa de la aplicación que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="26450-146">The default value is a directory named "sym" immediately below the program directory of the calling application.</span></span> <span data-ttu-id="26450-147">Esto se conoce a veces como caché *local predeterminada.*</span><span class="sxs-lookup"><span data-stu-id="26450-147">This is sometimes referred to as the *default local cache*.</span></span> |



 

<span data-ttu-id="26450-148">Dado que no se puede escribir en un almacén de símbolos basado en HTTP, debe ser el almacén situado más a la derecha de la lista.</span><span class="sxs-lookup"><span data-stu-id="26450-148">Because an HTTP-based symbol store cannot be written to, it must be the rightmost store in the list.</span></span> <span data-ttu-id="26450-149">Si un almacén de símbolos basado en HTTP se encuentra en el centro o la izquierda de la lista de tiendas, no sería posible copiar en él los archivos encontrados y la cadena se dividiría.</span><span class="sxs-lookup"><span data-stu-id="26450-149">If an HTTP-based symbol store was located in the middle or the left of the store list, it would not be possible to copy any found files to it and the chain would be broken.</span></span> <span data-ttu-id="26450-150">Además, dado que el controlador de símbolos no puede abrir un archivo desde un sitio web, un almacén basado en HTTP no debe ser el almacén más a la izquierda o solo el almacén de la lista.</span><span class="sxs-lookup"><span data-stu-id="26450-150">Furthermore, because the symbol handler cannot open a file from a web site, an HTTP-based store should not be the leftmost or only store on the list.</span></span> <span data-ttu-id="26450-151">Si SymSrv se presenta alguna vez con esta ruta de acceso de símbolos, intentará recuperarse copiando el archivo en el almacén de nivel inferior predeterminado y ábralo desde allí, independientemente de si el almacén de nivel inferior predeterminado se indica en la ruta de acceso del símbolo o no.</span><span class="sxs-lookup"><span data-stu-id="26450-151">If SymSrv is ever presented with this symbol path, it will attempt to recover by copying the file to the default downstream store and open it from there, regardless of whether the default downstream store is indicated in the symbol path or not.</span></span>

## <a name="examples"></a><span data-ttu-id="26450-152">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="26450-152">Examples</span></span>

<span data-ttu-id="26450-153">Para usar SymSrv con un almacén de símbolos en \\ \\ mybuilds \\ mysymbols, establezca la siguiente ruta de acceso de símbolos:</span><span class="sxs-lookup"><span data-stu-id="26450-153">To use SymSrv with a symbol store on \\\\mybuilds\\mysymbols, set the following symbol path:</span></span>

<span data-ttu-id="26450-154">**set \_ NT \_ SYMBOL \_ PATH= srv \* \\ \\ mybuilds \\ mysymbols**</span><span class="sxs-lookup"><span data-stu-id="26450-154">**set \_NT\_SYMBOL\_PATH= srv\*\\\\mybuilds\\mysymbols**</span></span>

<span data-ttu-id="26450-155">Para establecer la ruta de acceso de símbolos para que el depurador copie los archivos de símbolos de un almacén de símbolos en \\ \\ mybuilds mysymbols en el directorio \\ local c: \\ localsymbols, use:</span><span class="sxs-lookup"><span data-stu-id="26450-155">To set the symbol path so that the debugger will copy symbol files from a symbol store on \\\\mybuilds\\mysymbols to your local directory c:\\localsymbols, use:</span></span>

<span data-ttu-id="26450-156">**set \_ NT \_ SYMBOL \_ PATH=srv \* c: \\ localsymbols \* \\ \\ mybuilds \\ mysymbols**</span><span class="sxs-lookup"><span data-stu-id="26450-156">**set \_NT\_SYMBOL\_PATH=srv\*c:\\localsymbols\*\\\\mybuilds\\mysymbols**</span></span>

<span data-ttu-id="26450-157">Para establecer la ruta de acceso de símbolos para que el depurador copie los archivos de símbolos de un almacén de símbolos en \\ mybuilds mysymbols en el almacén de nivel inferior predeterminado \\ \\ (normalmente c: \\ depuradores \\ sym), use:</span><span class="sxs-lookup"><span data-stu-id="26450-157">To set the symbol path so that the debugger will copy symbol files from a symbol store on \\\\mybuilds\\mysymbols to the default downstream store (typically c:\\debuggers\\sym), use:</span></span>

<span data-ttu-id="26450-158">**set \_ NT \_ SYMBOL \_ PATH=srv \* \* \\ \\ mybuilds \\ mysymbols**</span><span class="sxs-lookup"><span data-stu-id="26450-158">**set \_NT\_SYMBOL\_PATH=srv\*\*\\\\mybuilds\\mysymbols**</span></span>

<span data-ttu-id="26450-159">Para usar un almacén en cascada, establezca la siguiente ruta de acceso de símbolos:</span><span class="sxs-lookup"><span data-stu-id="26450-159">To use a cascading store, set the following symbol path:</span></span>

<span data-ttu-id="26450-160">**set \_ NT SYMBOL PATH = \_ \_ srv \* c: \\ localsymbols \* \\ \\ NearbyServer \\ store\*https://DistantServer**</span><span class="sxs-lookup"><span data-stu-id="26450-160">**set \_NT\_SYMBOL\_PATH = srv\*c:\\localsymbols\*\\\\NearbyServer\\store\*https://DistantServer**</span></span>

<span data-ttu-id="26450-161">En este ejemplo, SymSrv busca primero el archivo en c: \\ localsymbols.</span><span class="sxs-lookup"><span data-stu-id="26450-161">In this example, SymSrv first looks for the file in c:\\localsymbols.</span></span> <span data-ttu-id="26450-162">Si se encuentra allí, devolverá una ruta de acceso al archivo.</span><span class="sxs-lookup"><span data-stu-id="26450-162">If it is found there, it will return a path to the file.</span></span> <span data-ttu-id="26450-163">De lo contrario, SymSrv busca el archivo en \\ \\ el almacén \\ NearbyServer.</span><span class="sxs-lookup"><span data-stu-id="26450-163">Otherwise, SymSrv looks for the file in \\\\NearbyServer\\store.</span></span> <span data-ttu-id="26450-164">Si se encuentra allí, SymSrv copia el archivo en c: localsymbols y devuelve una ruta de acceso al archivo; si no se encuentra, SymSrv busca el archivo en y, si se encuentra allí, SymSrv copia el archivo en el almacén \\ NearbyServer y, a continuación, en https://DistantServer \\ \\ \\ c: \\ localsymbols.</span><span class="sxs-lookup"><span data-stu-id="26450-164">If it is found there, SymSrv copies the file to c:\\localsymbols and returns a path to the file; if it is not found, SymSrv looks for the file in https://DistantServer, and if it is found there, SymSrv copies the file to \\\\NearbyServer\\store, then to c:\\localsymbols.</span></span>

<span data-ttu-id="26450-165">En este último ejemplo se muestra cómo se puede usar el diseño desaconsciente de una ruta de acceso de símbolos para optimizar la descarga de símbolos.</span><span class="sxs-lookup"><span data-stu-id="26450-165">This last example shows how judicious design of a symbol path can be used to optimize the downloading of symbols.</span></span> <span data-ttu-id="26450-166">Si tiene un sitio de trabajo con un grupo de depuradores y todos necesitan obtener símbolos de una ubicación lejana, puede configurar un servidor común con un almacén de símbolos cerca de todos los depuradores.</span><span class="sxs-lookup"><span data-stu-id="26450-166">If you have a work site with a group of debuggers and they all need to get symbols from a distant location, you can set up a common server with a symbol store near all the debuggers.</span></span> <span data-ttu-id="26450-167">A continuación, configure cada depurador con la ruta de acceso de símbolos anterior.</span><span class="sxs-lookup"><span data-stu-id="26450-167">Then setup every debugger with the symbol path above.</span></span> <span data-ttu-id="26450-168">El primer depurador que requiere una versión determinada de foo.pdb la descargará desde en el almacén NearbyServer y, a continuación, en su propia máquina https://DistantServer \\ \\ \\ en c: \\ localsymbols.</span><span class="sxs-lookup"><span data-stu-id="26450-168">The first debugger that requires a certain version of foo.pdb will download it from https://DistantServer to \\\\NearbyServer\\store and then to its own machine in c:\\localsymbols.</span></span> <span data-ttu-id="26450-169">El siguiente depurador que requiere el mismo archivo podrá descargarlo desde el almacén NearbyServer porque el depurador anterior ya lo descargó en \\ \\ \\ esa ubicación.</span><span class="sxs-lookup"><span data-stu-id="26450-169">The next debugger that requires the same file will be able to download it from \\\\NearbyServer\\store because it was already downloaded to that location by the previous debugger.</span></span> <span data-ttu-id="26450-170">Este almacenamiento en caché de varios niveles ahorra mucho tiempo y ancho de banda de red.</span><span class="sxs-lookup"><span data-stu-id="26450-170">This multi-level caching saves significant time and network bandwidth.</span></span>

## <a name="microsoft-symbol-store"></a><span data-ttu-id="26450-171">Almacén de símbolos de Microsoft</span><span class="sxs-lookup"><span data-stu-id="26450-171">Microsoft Symbol Store</span></span>

<span data-ttu-id="26450-172">Microsoft proporciona acceso a un servidor de símbolos de Internet que contiene archivos de símbolos para las distintas versiones del sistema operativo Windows.</span><span class="sxs-lookup"><span data-stu-id="26450-172">Microsoft provides access to an Internet symbol server that contains symbol files for the many versions of the Windows operating system.</span></span> <span data-ttu-id="26450-173">No se garantiza que este catálogo de símbolos esté completo, pero es amplio.</span><span class="sxs-lookup"><span data-stu-id="26450-173">This catalog of symbols is not guaranteed to be complete, but it is extensive.</span></span> <span data-ttu-id="26450-174">También se representan otros productos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="26450-174">Other Microsoft products are also represented.</span></span>

<span data-ttu-id="26450-175">El servidor de símbolos de Internet se rellena con una variedad de símbolos de Windows para sistemas operativos Microsoft Windows, incluidas correcciones de accesos temporales, Service Packs, paquetes de paquetes acumulativos de seguridad y versiones comerciales.</span><span class="sxs-lookup"><span data-stu-id="26450-175">The Internet symbol server is populated with a variety of Windows symbols for Microsoft Windows operating systems, including hot fixes, Service Packs, Security Rollup Packages, and retail releases.</span></span> <span data-ttu-id="26450-176">Los símbolos también están disponibles en el servidor para las versiones beta actuales y los candidatos de lanzamiento para productos de Windows, además de una variedad de otros productos de Microsoft, como Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="26450-176">Symbols are also available on the server for current Betas and Release Candidates for Windows products, plus a variety of other Microsoft products, such as Microsoft Internet Explorer.</span></span>

<span data-ttu-id="26450-177">Si tiene acceso a Internet durante la depuración, puede configurar el depurador para descargar símbolos según sea necesario durante una sesión de depuración, en lugar de descargar archivos de símbolos por separado antes de una sesión de depuración.</span><span class="sxs-lookup"><span data-stu-id="26450-177">If you have access to the Internet during debugging, you can configure the debugger to download symbols as needed during a debugging session, rather than downloading symbol files separately before a debugging session.</span></span> <span data-ttu-id="26450-178">Los símbolos se descargan en una ubicación de directorio que especifique y, a continuación, el depurador los carga desde allí.</span><span class="sxs-lookup"><span data-stu-id="26450-178">The symbols are downloaded to a directory location that you specify and then the debugger loads them from there.</span></span>

<span data-ttu-id="26450-179">La dirección URL del almacén de símbolos de Microsoft es https://msdl.microsoft.com/download/symbols .</span><span class="sxs-lookup"><span data-stu-id="26450-179">The URL for the Microsoft symbol store is https://msdl.microsoft.com/download/symbols.</span></span> <span data-ttu-id="26450-180">En el ejemplo siguiente se muestra cómo establecer la ruta de acceso de símbolos del depurador (sustituya la ruta de acceso del almacén de nivel inferior por *c: \\ DownstreamStore*):</span><span class="sxs-lookup"><span data-stu-id="26450-180">The following example shows how to set the debugger symbol path (substitute your downstream store path for *c:\\DownstreamStore*):</span></span>

``` syntax
srv*c:\DownstreamStore*https://msdl.microsoft.com/download/symbols
```

## <a name="compressed-files"></a><span data-ttu-id="26450-181">Archivos comprimidos</span><span class="sxs-lookup"><span data-stu-id="26450-181">Compressed Files</span></span>

<span data-ttu-id="26450-182">SymSrv es compatible con los almacenes de símbolos que contienen archivos comprimidos, siempre que esta compresión se haya creado previamente con la herramienta compress.exe que se distribuyó con el Kit de recursos de Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="26450-182">SymSrv is compatible with symbol stores that contain compressed files, as long as this compression has been preformed with the compress.exe tool that was distributed with the Windows Server 2003 Resource Kit.</span></span> <span data-ttu-id="26450-183">Los archivos comprimidos deben tener un carácter de subrayado como último carácter en sus extensiones de archivo (por ejemplo, module1.pd \_ o module2.db). \_</span><span class="sxs-lookup"><span data-stu-id="26450-183">Compressed files should have an underscore as the last character in their file extensions (for example, module1.pd\_ or module2.db\_).</span></span> <span data-ttu-id="26450-184">Para más información, consulte [Uso de SymStore.](using-symstore.md)</span><span class="sxs-lookup"><span data-stu-id="26450-184">For details, see [Using SymStore](using-symstore.md).</span></span>

<span data-ttu-id="26450-185">Cuando se encuentran en cascada, los archivos no se comprimen a menos que el almacén de destino sea el almacén situado más a la izquierda en la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="26450-185">When cascading, files are not uncompressed unless the target store is the leftmost store in the path.</span></span> <span data-ttu-id="26450-186">Si solo hay un almacén en la ruta de acceso y contiene un archivo comprimido, SymSrv copiará el archivo en el almacén de nivel inferior predeterminado y lo abrirá desde allí, aunque el almacén de nivel inferior predeterminado no se indique en la ruta de acceso de símbolos.</span><span class="sxs-lookup"><span data-stu-id="26450-186">If there is only one store in the path and it contains a compressed file, SymSrv will copy the file to the default downstream store and open it from there, even though the default downstream store is not indicated in they symbol path.</span></span>

<span data-ttu-id="26450-187">**DbgHelp 6.1 y versiones anteriores:** Si los archivos del almacén maestro están comprimidos, debe usar un almacén de nivel inferior.</span><span class="sxs-lookup"><span data-stu-id="26450-187">**DbgHelp 6.1 and earlier.:** If the files in the master store are compressed, you must use a downstream store.</span></span> <span data-ttu-id="26450-188">SymSrv descomprimirá todos los archivos antes de copiarlos en el almacén de nivel inferior.</span><span class="sxs-lookup"><span data-stu-id="26450-188">SymSrv will uncompress all files before copying them to the downstream store.</span></span>

## <a name="deleting-the-cache"></a><span data-ttu-id="26450-189">Eliminación de la caché</span><span class="sxs-lookup"><span data-stu-id="26450-189">Deleting the Cache</span></span>

<span data-ttu-id="26450-190">Si usa un almacén de bajada como caché, puede eliminar este directorio en cualquier momento para ahorrar espacio en disco.</span><span class="sxs-lookup"><span data-stu-id="26450-190">If you are using a downstream store as a cache, you can delete this directory at any time to save disk space.</span></span>

<span data-ttu-id="26450-191">Es posible tener un gran almacén de símbolos que incluya archivos de símbolos para muchos programas diferentes o versiones de Windows.</span><span class="sxs-lookup"><span data-stu-id="26450-191">It is possible to have a vast symbol store that includes symbol files for many different programs or Windows versions.</span></span> <span data-ttu-id="26450-192">Si actualiza la versión de Windows usada en el equipo de destino, todos los archivos de símbolos almacenados en caché coincidirán con la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="26450-192">If you upgrade the version of Windows used on your target computer, the cached symbol files will all match the earlier version.</span></span> <span data-ttu-id="26450-193">Estos archivos almacenados en caché no serán de ningún uso adicional y, por lo tanto, podría ser un buen momento para eliminar la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="26450-193">These cached files will not be of any further use, and therefore this might be a good time to delete the cache.</span></span>

<span data-ttu-id="26450-194">Herramientas de depuración para Windows incluye una utilidad denominada agestore.exe que quitará selectivamente los archivos de un árbol de directorios, dejando los archivos usados más recientemente.</span><span class="sxs-lookup"><span data-stu-id="26450-194">Debugging Tools for Windows comes with a utility called agestore.exe that will selectively remove files from a directory tree, leaving the most recently used files.</span></span> <span data-ttu-id="26450-195">Esta herramienta está diseñada para la eliminación de archivos no usados de almacenes de servidores de símbolos.</span><span class="sxs-lookup"><span data-stu-id="26450-195">This tool is designed for pruning out unused files from symbol server stores.</span></span> <span data-ttu-id="26450-196">Permite controlar muchas opciones, incluidos los algoritmos de fecha límite y tamaño de directorio.</span><span class="sxs-lookup"><span data-stu-id="26450-196">It allows you to control many options including cut off date and directory size algorithms.</span></span>

## <a name="flat-cache-directory"></a><span data-ttu-id="26450-197">Directorio de caché plana</span><span class="sxs-lookup"><span data-stu-id="26450-197">Flat Cache Directory</span></span>

<span data-ttu-id="26450-198">Es posible declarar el almacén de bajada predeterminado como un directorio plano, en lugar de una estructura de árbol de símbolos estándar.</span><span class="sxs-lookup"><span data-stu-id="26450-198">It is possible to declare the default downstream store as a flat directory, rather than a standard symbol tree structure.</span></span> <span data-ttu-id="26450-199">Para ello, llame a la función [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) con **SYMOPT \_ FLAT \_ DIRECTORY** (esto también establece la opción **SSRVOPT \_ FLAT DEFAULT \_ \_ STORE** en SymSrv).</span><span class="sxs-lookup"><span data-stu-id="26450-199">To do so, call the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function with **SYMOPT\_FLAT\_DIRECTORY** (this also sets the **SSRVOPT\_FLAT\_DEFAULT\_STORE** option in SymSrv).</span></span> <span data-ttu-id="26450-200">Asegúrese de llamar a [**SymSetHomeDirectory antes**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory) de hacerlo; De lo contrario, los archivos de símbolos se pueden escribir en el directorio del programa.</span><span class="sxs-lookup"><span data-stu-id="26450-200">Be sure to call [**SymSetHomeDirectory**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory) before doing so; otherwise, the symbol files can be written to the program directory.</span></span>

## <a name="pointer-files"></a><span data-ttu-id="26450-201">Archivos de puntero</span><span class="sxs-lookup"><span data-stu-id="26450-201">Pointer Files</span></span>

<span data-ttu-id="26450-202">SymStore puede crear y usar archivos que apunten a un archivo de destino en lugar del propio archivo de destino.</span><span class="sxs-lookup"><span data-stu-id="26450-202">SymStore can create and use files that point to a target file rather than the target file itself.</span></span> <span data-ttu-id="26450-203">Si un almacén de símbolos contiene este tipo de archivo de puntero, el valor predeterminado es copiar el archivo desde la ubicación indicada en el archivo de puntero al almacén.</span><span class="sxs-lookup"><span data-stu-id="26450-203">If a symbol store contains such a pointer file, the default is to copy the file from the location indicated in the pointer file to the store.</span></span> <span data-ttu-id="26450-204">Para configurar un almacén de forma que se copie el archivo de puntero en lugar del archivo al que apunta, cree un archivo denominado wantsptr.txt en la raíz del almacén de destino.</span><span class="sxs-lookup"><span data-stu-id="26450-204">To configure a store such that the pointer file is copied instead of the file it points to, create a file named wantsptr.txt in the root of the target store.</span></span> <span data-ttu-id="26450-205">El contenido de wantsptr.txt no es importante, solo la presencia del archivo.</span><span class="sxs-lookup"><span data-stu-id="26450-205">The contents of wantsptr.txt are not important, only the presence of the file.</span></span>

## <a name="excluding-files-from-symbols-list"></a><span data-ttu-id="26450-206">Exclusión de archivos de la lista de símbolos</span><span class="sxs-lookup"><span data-stu-id="26450-206">Excluding Files from Symbols List</span></span>

<span data-ttu-id="26450-207">Para excluir archivos de una búsqueda de símbolos, puede especificar sus nombres en symsrv.ini o en el Registro.</span><span class="sxs-lookup"><span data-stu-id="26450-207">To exclude files from a symbols search, you can specify their names in symsrv.ini or in the registry.</span></span> <span data-ttu-id="26450-208">Para especificar los archivos en symsrv.ini, cree una sección denominada Exclusiones y enumó los archivos.</span><span class="sxs-lookup"><span data-stu-id="26450-208">To specify the files in symsrv.ini, create a section named Exclusions and list the files.</span></span> <span data-ttu-id="26450-209">Los nombres de archivo pueden contener caracteres comodín, como se muestra en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="26450-209">The file names can contain wildcards, as shown in the following example:</span></span>

``` syntax
[Exclusions]
dbghelp.pdb
symsrv.*
mso*
```

<span data-ttu-id="26450-210">Symsrv.ini debe encontrarse en el mismo directorio que symsrv.dll reside.</span><span class="sxs-lookup"><span data-stu-id="26450-210">Symsrv.ini should be located in the same directory that symsrv.dll resides.</span></span> <span data-ttu-id="26450-211">En la mayoría de las instalaciones, el archivo no existe y tendrá que crear uno nuevo.</span><span class="sxs-lookup"><span data-stu-id="26450-211">In most installations, the file does not exist and you will need to create a new one.</span></span>

<span data-ttu-id="26450-212">Como alternativa, puede almacenar los archivos que se excluirán en el Registro.</span><span class="sxs-lookup"><span data-stu-id="26450-212">Alternatively, you can store the files to be excluded in the registry.</span></span> <span data-ttu-id="26450-213">Cree la siguiente clave del Registro: **HKEY \_ LOCAL MACHINE Software Microsoft Symbol Server \_ \\ \\ \\ \\ Exclusions**.</span><span class="sxs-lookup"><span data-stu-id="26450-213">Create the following registry key: **HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Symbol Server\\Exclusions**.</span></span> <span data-ttu-id="26450-214">Almacene cada nombre de archivo como un valor de cadena (REG \_ SZ) dentro de esta clave.</span><span class="sxs-lookup"><span data-stu-id="26450-214">Store each file name as a string value (REG\_SZ) within this key.</span></span> <span data-ttu-id="26450-215">El nombre del valor de cadena especifica el nombre del archivo que se va a excluir.</span><span class="sxs-lookup"><span data-stu-id="26450-215">The name of the string value specifies the name of the file to be excluded.</span></span> <span data-ttu-id="26450-216">Puede usar el contenido del valor de cadena para almacenar un comentario que describa por qué se excluye el archivo.</span><span class="sxs-lookup"><span data-stu-id="26450-216">You can use the contents of the string value to store a comment describing why the file is being excluded.</span></span>

## <a name="installation"></a><span data-ttu-id="26450-217">Instalación</span><span class="sxs-lookup"><span data-stu-id="26450-217">Installation</span></span>

<span data-ttu-id="26450-218">El servidor de símbolos SymSrv (symsrv.dll) se incluye en el paquete Herramientas de depuración para Windows.</span><span class="sxs-lookup"><span data-stu-id="26450-218">The SymSrv (symsrv.dll) symbol server is included in the Debugging Tools for Windows package.</span></span> <span data-ttu-id="26450-219">Debe instalarse en el mismo directorio que la copia de dbghelp.dll que está cargando.</span><span class="sxs-lookup"><span data-stu-id="26450-219">It must be installed in the same directory as the copy of dbghelp.dll that you are loading.</span></span> <span data-ttu-id="26450-220">Para obtener más información, vea [Llamar a la biblioteca DbgHelp](calling-the-dbghelp-library.md).</span><span class="sxs-lookup"><span data-stu-id="26450-220">For more details, see [Calling the DbgHelp Library](calling-the-dbghelp-library.md).</span></span>

 

 



