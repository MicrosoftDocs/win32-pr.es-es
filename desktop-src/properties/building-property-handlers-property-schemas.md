---
description: Las propiedades que se usan en el sistema de propiedades de Windows Vista y versiones posteriores se declaran en los esquemas de propiedades.
ms.assetid: 4e301210-df3a-41db-a58e-015ee8d41714
title: Crear propiedades personalizadas.
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 90849383e25889edf7f3abd4704c36354eff153c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104360928"
---
# <a name="creating-custom-properties"></a><span data-ttu-id="c9bc5-103">Crear propiedades personalizadas.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-103">Creating Custom Properties</span></span>

<span data-ttu-id="c9bc5-104">Las propiedades que se usan en el sistema de propiedades de Windows Vista y versiones posteriores se declaran en los esquemas de propiedades.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-104">Properties used in the property system of Windows Vista and later are declared in property schemas.</span></span> <span data-ttu-id="c9bc5-105">Estos esquemas de propiedades se definen en archivos XML y describen diversos aspectos de una propiedad, incluido su tipo (incluida información sobre su tipo primitivo y si es de varios valores), cómo se puede mostrar en la interfaz de usuario de Windows, qué tipo de etiquetas (cadenas de edición descriptivas) se usarán con ella y cómo se almacena en caché en el almacén de búsqueda para obtener un acceso más</span><span class="sxs-lookup"><span data-stu-id="c9bc5-105">These property schemas are defined in XML files and describe various aspects of a property including its type (including information on its primitive type and whether it is multi-valued), how it can be displayed in the Windows UI, what kind of labels (user-friendly editing strings) are to be used with it, and how it is cached in the search store for faster access.</span></span> <span data-ttu-id="c9bc5-106">Las propiedades se identifican por su nombre canónico o su clave de propiedad (PKEY).</span><span class="sxs-lookup"><span data-stu-id="c9bc5-106">Properties are identified by their Canonical Name or their Property Key (PKEY).</span></span>

<span data-ttu-id="c9bc5-107">Un nombre canónico es el nombre descriptivo del lector de la propiedad y utiliza una Convención de espacio de nombres similar a la que se usa en Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-107">A canonical name is the reader-friendly name of the property and uses a namespace convention similar to that used in Microsoft .NET.</span></span> <span data-ttu-id="c9bc5-108">En el caso de las propiedades definidas por el sistema (las que se incluyen con Windows), la Convención es `System.GroupName.PropertyName` .</span><span class="sxs-lookup"><span data-stu-id="c9bc5-108">For system-defined properties (those that are included with Windows), the convention is `System.GroupName.PropertyName`.</span></span> <span data-ttu-id="c9bc5-109">Tenga en cuenta que el esquema de mayúsculas y minúsculas Pascal, que pone en mayúsculas las letras al principio de cada palabra, se usa en estos nombres.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-109">Note that the Pascal casing scheme, which capitalizes letters at the beginning of each word, is used in these names.</span></span> <span data-ttu-id="c9bc5-110">Los nombres canónicos se utilizan en varios lugares, como las listas de propiedades y los nombres de columna en la caché de propiedades.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-110">Canonical names are used in various places including property lists and column names in the property cache.</span></span> <span data-ttu-id="c9bc5-111">Por lo tanto, se usan en consultas de Lenguaje de consulta estructurado (SQL) para recuperar un valor de propiedad.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-111">They are therefore used in Structured Query Language (SQL) queries to retrieve a property value.</span></span>

<span data-ttu-id="c9bc5-112">Un PKEY es un par de valores que se componen de un GUID y un **valor DWORD**, al que se hace referencia como *formatID* y *propID* , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-112">A PKEY is a pair of values consisting of a GUID and a **DWORD**, referred to as a *formatID* and *propID* respectively.</span></span> <span data-ttu-id="c9bc5-113">Se representa mediante una estructura [**PROPERTYKEY**](/windows/win32/api/wtypes/ns-wtypes-propertykey) .</span><span class="sxs-lookup"><span data-stu-id="c9bc5-113">It is represented by a [**PROPERTYKEY**](/windows/win32/api/wtypes/ns-wtypes-propertykey) structure.</span></span> <span data-ttu-id="c9bc5-114">La mayoría de las API del sistema de propiedades aceptan estas claves de propiedad.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-114">Most of the property system APIs accept these property keys.</span></span> <span data-ttu-id="c9bc5-115">El kit de desarrollo de software (SDK) de Windows incluye el archivo de encabezado Propkey. h, que incluye una definición de macro de cada una de las `System` claves de propiedad con la Convención de `PKEY_GroupName_PropertyName` .</span><span class="sxs-lookup"><span data-stu-id="c9bc5-115">The Windows Software Development Kit (SDK) includes the header file Propkey.h that includes a macro definition of each of the `System` property keys with the convention of `PKEY_GroupName_PropertyName`.</span></span> <span data-ttu-id="c9bc5-116">Por ejemplo, `PKEY_Photo_DateTaken` es la clave de la propiedad de la propiedad con el nombre canónico `System.Photo.DateTaken` .</span><span class="sxs-lookup"><span data-stu-id="c9bc5-116">For example, `PKEY_Photo_DateTaken` is the property key for the property with canonical name `System.Photo.DateTaken`.</span></span> <span data-ttu-id="c9bc5-117">Los valores de propiedad se almacenan en forma de una estructura [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) , que es una extensión de los tipos de variante OLE.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-117">Property values are stored in the form of a [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) structure, which is an extension of the OLE VARIANT types.</span></span>

<span data-ttu-id="c9bc5-118">Esta sección contiene el tema siguiente, que es integral para crear propiedades personalizadas:</span><span class="sxs-lookup"><span data-stu-id="c9bc5-118">This section contains the following topic, which is integral to creating custom properties:</span></span>

-   [<span data-ttu-id="c9bc5-119">Descripción del esquema de descripción de propiedad</span><span class="sxs-lookup"><span data-stu-id="c9bc5-119">Understanding the Property Description Schema</span></span>](./propdesc-schema-entry.md)

> [!Note]  
> <span data-ttu-id="c9bc5-120">Debido a las posibles dificultades que puede tener el indizador al consumir el esquema del sistema de propiedades, es fundamental que defina los atributos con cuidado y de forma estratégica para la primera versión del esquema.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-120">Due to potential difficulties that the indexer may have when consuming the property system's schema, it is critical that you define attributes carefully and strategically for the first release of the schema.</span></span> <span data-ttu-id="c9bc5-121">Cualquier cambio en los atributos (tipo, ancho de columna, si indexable) no se reflejará en la base de datos después de que se haya registrado un esquema.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-121">Any changes to attributes (type, column width, whether indexible) will not be reflected in the database after a schema has been registered.</span></span> <span data-ttu-id="c9bc5-122">Las únicas maneras de que estos cambios se reconozcan después de que el esquema se haya registrado una vez en un sistema serían volver a generar el índice y, a continuación, registrar el nuevo esquema, o registrar el esquema y, a continuación, crear una nueva propiedad para cada versión posterior; por ejemplo `PKEY_GroupName_PropertyNameV2` , `PKEY_GroupName_PropertyNameV3` , y así sucesivamente).</span><span class="sxs-lookup"><span data-stu-id="c9bc5-122">The only ways to have these changes recognized after the schema has been registered once on a system would be either to rebuild the index and then register the new schema, or to register the schema and then create a new property for each subsequent release; for example `PKEY_GroupName_PropertyNameV2`, `PKEY_GroupName_PropertyNameV3`, and so forth).</span></span> <span data-ttu-id="c9bc5-123">No se recomienda crear nuevas propiedades de esta manera, ya que varias columnas extrañas pueden afectar al rendimiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="c9bc5-123">We do not recommend creating new properties in this manner, because multiple extraneous columns may impact system performance.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="c9bc5-124">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c9bc5-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c9bc5-125">Implementar controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="c9bc5-125">Implementing Property Handlers</span></span>](./building-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="c9bc5-126">Esquema de descripción de propiedad</span><span class="sxs-lookup"><span data-stu-id="c9bc5-126">Property Description Schema</span></span>](./propdesc-schema-entry.md)
</dt> </dl>

 

 
