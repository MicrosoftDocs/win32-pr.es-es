---
description: La aplicación puede restaurar un equipo que está en estado de suspensión con el estado de funcionamiento mediante un temporizador programado o un evento de dispositivo.
ms.assetid: b7326b09-0829-4e76-80d0-e4ecdf7f556e
title: Eventos de reactivación del sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f13332305ef023d932f2912f7299aa12cd402733
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105677885"
---
# <a name="system-wake-up-events"></a><span data-ttu-id="b711d-103">Eventos de reactivación del sistema</span><span class="sxs-lookup"><span data-stu-id="b711d-103">System Wake-up Events</span></span>

<span data-ttu-id="b711d-104">La siguiente información se aplica a las reactivaciones desde [suspensión (S3) e hibernación (S4)](/windows-hardware/drivers/kernel/system-sleeping-states).</span><span class="sxs-lookup"><span data-stu-id="b711d-104">The following information applies to wakes from [sleep (S3) and hibernate (S4)](/windows-hardware/drivers/kernel/system-sleeping-states).</span></span> <span data-ttu-id="b711d-105">En el caso de las reactivaciones desde el estado de espera moderno (S0 de baja energía inactiva), consulte las [transiciones de inactividad a activa](/windows-hardware/design/device-experiences/transition-from-idle-to-active).</span><span class="sxs-lookup"><span data-stu-id="b711d-105">For wakes from Modern Standby (S0 Low Power Idle), please refer to [transitions from idle to active](/windows-hardware/design/device-experiences/transition-from-idle-to-active).</span></span>

<span data-ttu-id="b711d-106">La aplicación puede restaurar un equipo que está en estado de suspensión con el estado de funcionamiento mediante un temporizador programado o un evento de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b711d-106">Your application can restore a computer that is in a sleep state to the working state by using a scheduled timer or a device event.</span></span> <span data-ttu-id="b711d-107">Esto se conoce como un *evento de reactivación*.</span><span class="sxs-lookup"><span data-stu-id="b711d-107">This is known as a *wake-up event*.</span></span> <span data-ttu-id="b711d-108">Use un [objeto de temporizador](/windows/desktop/Sync/waitable-timer-objects) que se pueda esperar para especificar la hora a la que se debe reactivar el sistema.</span><span class="sxs-lookup"><span data-stu-id="b711d-108">Use a [waitable timer object](/windows/desktop/Sync/waitable-timer-objects) to specify the time at which the system should wake.</span></span> <span data-ttu-id="b711d-109">Para crear el objeto, use la función [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) .</span><span class="sxs-lookup"><span data-stu-id="b711d-109">To create the object, use the [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) function.</span></span> <span data-ttu-id="b711d-110">Para establecer el temporizador, utilice la función [**SetWaitableTimer**](/windows/desktop/api/synchapi/nf-synchapi-setwaitabletimer) .</span><span class="sxs-lookup"><span data-stu-id="b711d-110">To set the timer, use the [**SetWaitableTimer**](/windows/desktop/api/synchapi/nf-synchapi-setwaitabletimer) function.</span></span> <span data-ttu-id="b711d-111">El parámetro *pDueTime* especifica cuándo se señalará el temporizador.</span><span class="sxs-lookup"><span data-stu-id="b711d-111">The *pDueTime* parameter specifies when the timer will be signaled.</span></span> <span data-ttu-id="b711d-112">Para especificar que el sistema se debe reactivar cuando se señala el temporizador, establezca el parámetro *fResume* en **true**.</span><span class="sxs-lookup"><span data-stu-id="b711d-112">To specify that the system should wake when the timer is signaled, set the *fResume* parameter to **TRUE**.</span></span>

<span data-ttu-id="b711d-113">Cuando el sistema se reactiva automáticamente debido a un evento (distinto del interruptor de alimentación o la actividad de usuario), el sistema establece automáticamente un temporizador de inactividad desatendido en 2 minutos como mínimo.</span><span class="sxs-lookup"><span data-stu-id="b711d-113">When the system wakes automatically because of an event (other than power switch or user activity), the system automatically sets an unattended idle timer to at least 2 minutes.</span></span> <span data-ttu-id="b711d-114">Este temporizador proporciona a las aplicaciones el tiempo suficiente para llamar a la función [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) para indicar que están ocupados.</span><span class="sxs-lookup"><span data-stu-id="b711d-114">This timer gives applications sufficient time to call the [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) function to indicate that they are busy.</span></span> <span data-ttu-id="b711d-115">Esta vez permite que el sistema vuelva al estado de suspensión rápidamente después de que el equipo deje de ser necesario.</span><span class="sxs-lookup"><span data-stu-id="b711d-115">This time enables the system to return to the sleep state quickly after the computer is no longer required.</span></span> <span data-ttu-id="b711d-116">Los criterios siguientes determinan si el sistema vuelve al estado de suspensión:</span><span class="sxs-lookup"><span data-stu-id="b711d-116">The following criteria determine whether the system returns to the sleep state:</span></span>

-   <span data-ttu-id="b711d-117">Si el sistema se reactiva automáticamente (es decir, no hay ninguna actividad de usuario), se cierra en cuanto expira el temporizador de inactividad desatendido, suponiendo que ninguna aplicación ha llamado a [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) para indicar que el sistema es obligatorio.</span><span class="sxs-lookup"><span data-stu-id="b711d-117">If the system wakes automatically (that is, no user activity is present), it shuts down as soon as the unattended idle timer expires, assuming that no applications have called [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) to indicate that the system is required.</span></span>
-   <span data-ttu-id="b711d-118">Las reactivaciones basadas en dispositivos desencadenan el temporizador de inactividad desatendido de forma predeterminada a menos que el controlador de dispositivo indique la presencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="b711d-118">Device-based wakes trigger the unattended idle timer by default unless the device driver indicates user presence.</span></span> <span data-ttu-id="b711d-119">Si el controlador indica la presencia del usuario, se usa el temporizador inactivo del sistema.</span><span class="sxs-lookup"><span data-stu-id="b711d-119">If the driver indicates user presence, then the system idle timer is used.</span></span>
-   <span data-ttu-id="b711d-120">Si el sistema se reactiva automáticamente, pero el usuario proporciona una nueva entrada mientras se controla el evento, el sistema no vuelve automáticamente a la suspensión según el temporizador de inactividad desatendido.</span><span class="sxs-lookup"><span data-stu-id="b711d-120">If the system wakes automatically, but the user provides new input while the event is handled, the system does not automatically return to sleep based on the unattended idle timer.</span></span> <span data-ttu-id="b711d-121">En su lugar, el sistema vuelve a la suspensión según el temporizador de inactividad del sistema.</span><span class="sxs-lookup"><span data-stu-id="b711d-121">Instead, the system returns to sleep based on the system idle timer.</span></span>
-   <span data-ttu-id="b711d-122">Si el sistema se reactiva debido a la actividad del usuario, el sistema no vuelve automáticamente a la suspensión según el temporizador de inactividad desatendido.</span><span class="sxs-lookup"><span data-stu-id="b711d-122">If the system wakes due to user activity, the system does not automatically return to sleep based on the unattended idle timer.</span></span> <span data-ttu-id="b711d-123">En su lugar, el sistema vuelve a la suspensión según el temporizador de inactividad del sistema.</span><span class="sxs-lookup"><span data-stu-id="b711d-123">Instead the system returns to sleep based on the system idle timer.</span></span>

<span data-ttu-id="b711d-124">Cuando el sistema se reactiva automáticamente, difunde el evento [PBT \_ APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) a todas las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="b711d-124">When the system wakes automatically, it broadcasts the [PBT\_APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) event to all applications.</span></span> <span data-ttu-id="b711d-125">Dado que el usuario no está presente, la mayoría de las aplicaciones no deben hacer nada.</span><span class="sxs-lookup"><span data-stu-id="b711d-125">Because the user is not present, most applications should do nothing.</span></span> <span data-ttu-id="b711d-126">Las aplicaciones de control de eventos, como los servidores de fax, deben controlar sus eventos.</span><span class="sxs-lookup"><span data-stu-id="b711d-126">Event-handling applications, such as fax servers, should handle their events.</span></span> <span data-ttu-id="b711d-127">Para determinar si el sistema está en este estado, llame a la función [**IsSystemResumeAutomatic**](/windows/desktop/api/Winbase/nf-winbase-issystemresumeautomatic) .</span><span class="sxs-lookup"><span data-stu-id="b711d-127">To determine whether the system is in this state, call the [**IsSystemResumeAutomatic**](/windows/desktop/api/Winbase/nf-winbase-issystemresumeautomatic) function.</span></span> <span data-ttu-id="b711d-128">Cuando el sistema se reactiva automáticamente, la pantalla no se activa automáticamente.</span><span class="sxs-lookup"><span data-stu-id="b711d-128">When the system wakes automatically, the display is not automatically turned on.</span></span>

<span data-ttu-id="b711d-129">Si el sistema se reactiva debido a la actividad del usuario, el sistema difundirá primero el evento [PBT \_ APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) seguido de un evento [PBT \_ APMRESUMESUSPEND](pbt-apmresumesuspend.md) .</span><span class="sxs-lookup"><span data-stu-id="b711d-129">If the system wakes due to user activity, the system will first broadcast the [PBT\_APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) event followed by a [PBT\_APMRESUMESUSPEND](pbt-apmresumesuspend.md) event.</span></span> <span data-ttu-id="b711d-130">Además, el sistema activará la pantalla.</span><span class="sxs-lookup"><span data-stu-id="b711d-130">In addition, the system will turn on the display.</span></span> <span data-ttu-id="b711d-131">La aplicación debe volver a abrir los archivos que cerró cuando el sistema entró en suspensión y prepararse para los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="b711d-131">Your application should reopen files that it closed when the system entered sleep and prepare for user input.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b711d-132">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="b711d-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b711d-133">Acerca de la administración de energía</span><span class="sxs-lookup"><span data-stu-id="b711d-133">About Power Management</span></span>](about-power-management.md)
</dt> <dt>

[<span data-ttu-id="b711d-134">Criterios de suspensión del sistema</span><span class="sxs-lookup"><span data-stu-id="b711d-134">System Sleep Criteria</span></span>](system-sleep-criteria.md)
</dt> </dl>

 

 
