---
description: A partir de Windows Installer&\# 160; versión&\# 160; 3.0, es posible crear e instalar revisiones que se pueden desinstalar de forma individual y en cualquier orden, sin tener que desinstalar y volver a instalar toda la aplicación y otras revisiones.
ms.assetid: 2ad30ac9-eac9-49cf-98ae-5c053a0b500a
title: Quitar revisiones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7cd54db3bde3a356a0c3adb299555248bbc87a0b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105652784"
---
# <a name="removing-patches"></a><span data-ttu-id="ff395-103">Quitar revisiones</span><span class="sxs-lookup"><span data-stu-id="ff395-103">Removing Patches</span></span>

<span data-ttu-id="ff395-104">A partir de Windows Installer versión 3,0, es posible crear e instalar revisiones que se pueden desinstalar de forma individual y en cualquier orden, sin tener que desinstalar y volver a instalar toda la aplicación y otras revisiones.</span><span class="sxs-lookup"><span data-stu-id="ff395-104">Beginning with Windows Installer version 3.0, it is possible to create and install patches that can be uninstalled singly, and in any order, without having to uninstall and reinstall the entire application and other patches.</span></span> <span data-ttu-id="ff395-105">Windows Installer 3,0 también permite crear [paquetes de revisiones](patch-packages.md) con una [tabla MsiPatchSequence](msipatchsequence-table.md) que contiene información sobre la secuenciación de revisiones.</span><span class="sxs-lookup"><span data-stu-id="ff395-105">Windows Installer 3.0 also enables [Patch Packages](patch-packages.md) to be authored with a [MsiPatchSequence Table](msipatchsequence-table.md) that contains patch sequencing information.</span></span> <span data-ttu-id="ff395-106">Con las versiones de Windows Installer anteriores a Windows Installer 3,0, el único método para quitar revisiones concretas de una aplicación consiste en desinstalar toda la aplicación con revisión y, a continuación, volver a instalar sin volver a aplicar las revisiones que se van a quitar.</span><span class="sxs-lookup"><span data-stu-id="ff395-106">With versions of Windows Installer earlier than Windows Installer 3.0, the only method to remove particular patches from an application is to uninstall the entire patched application and then reinstall without reapplying any patches being removed.</span></span>

<span data-ttu-id="ff395-107">El hecho de que una revisión se pueda desinstalar depende de cómo se haya creado la revisión, la versión de Windows Installer utilizada para instalar la revisión y los cambios realizados por la revisión en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ff395-107">Whether a patch can be uninstalled depends upon how the patch was authored, the version of Windows Installer used to install the patch, and the changes made by the patch to the application.</span></span> <span data-ttu-id="ff395-108">Si no se instala una revisión, la única manera de quitar la revisión es desinstalar toda la aplicación y reinstalar sin aplicar la revisión que se va a quitar.</span><span class="sxs-lookup"><span data-stu-id="ff395-108">If a patch is not uninstallable, then the only way to remove the patch is to uninstall the entire application and reinstall without applying the patch being removed.</span></span>

<span data-ttu-id="ff395-109">Puede desinstalar una o varias revisiones mediante una opción de línea de comandos, la interfaz de scripting o llamando a [**MsiRemovePatches**](/windows/desktop/api/Msi/nf-msi-msiremovepatchesa) desde otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="ff395-109">You can uninstall one or more patches using a command line option, the scripting interface, or by calling [**MsiRemovePatches**](/windows/desktop/api/Msi/nf-msi-msiremovepatchesa) from another application.</span></span> <span data-ttu-id="ff395-110">Consulte [desinstalación de revisiones](uninstalling-patches.md) para obtener más información sobre cómo desinstalar revisiones.</span><span class="sxs-lookup"><span data-stu-id="ff395-110">See [Uninstalling Patches](uninstalling-patches.md) for more information about how to uninstall patches.</span></span>

<span data-ttu-id="ff395-111">El valor de la propiedad [**MSIPATCHREMOVE**](msipatchremove.md) muestra las revisiones que se van a desinstalar.</span><span class="sxs-lookup"><span data-stu-id="ff395-111">The value of the [**MSIPATCHREMOVE**](msipatchremove.md) property lists the patches to be uninstalled.</span></span> <span data-ttu-id="ff395-112">Para cada revisión de la lista, el instalador comprueba que la revisión no se pueda instalar.</span><span class="sxs-lookup"><span data-stu-id="ff395-112">For each patch in the list, the installer verifies that the patch is uninstallable.</span></span> <span data-ttu-id="ff395-113">Si el usuario no tiene privilegios para quitar la revisión, la revisión es desconocida para el producto, la Directiva de revisión impide la eliminación o la revisión se marcó como no desinstalable, el instalador devuelve un error que indica que se ha producido un error en la transacción de instalación.</span><span class="sxs-lookup"><span data-stu-id="ff395-113">If the user does not have privileges to remove the patch, the patch is unknown for the product, patch policy prevents removal, or the patch was marked as not uninstallable, the installer returns an error that indicates a failed installation transaction.</span></span> <span data-ttu-id="ff395-114">Vea [revisiones desinstalables](uninstallable-patches.md) para obtener más información acerca de qué determina si una revisión no se instala.</span><span class="sxs-lookup"><span data-stu-id="ff395-114">See [Uninstallable Patches](uninstallable-patches.md) for more information about what determines whether a patch is not uninstallable.</span></span>

<span data-ttu-id="ff395-115">Una vez comprobada la revisión como extraíble, el instalador quita la revisión de la secuencia de aplicación de revisión.</span><span class="sxs-lookup"><span data-stu-id="ff395-115">Once the patch is verified as removable, the installer removes the patch from the patch application sequence.</span></span> <span data-ttu-id="ff395-116">Para obtener más información sobre cómo Windows Installer 3,0 determina la secuencia que se va a usar al aplicar revisiones, consulte [secuenciación de revisiones](sequencing-patches.md).</span><span class="sxs-lookup"><span data-stu-id="ff395-116">For more information about how Windows Installer 3.0 determines what sequence to use when applying patches see [Sequencing Patches](sequencing-patches.md).</span></span> <span data-ttu-id="ff395-117">Tenga en cuenta que la eliminación de revisiones de la secuencia puede hacer que las revisiones estén marcadas como obsoletas o reemplazadas por activas.</span><span class="sxs-lookup"><span data-stu-id="ff395-117">Note that removing patches from the sequence can cause patches marked obsolete or superseded to become active.</span></span>

<span data-ttu-id="ff395-118">Todas las revisiones seleccionadas para su eliminación se muestran en la propiedad [**MsiPatchRemovalList**](msipatchremovallist.md) .</span><span class="sxs-lookup"><span data-stu-id="ff395-118">All patches selected for removal are listed in the [**MsiPatchRemovalList**](msipatchremovallist.md) property.</span></span> <span data-ttu-id="ff395-119">Esta propiedad es una propiedad privada establecida por el instalador y se puede usar en expresiones condicionales o consultarse mediante [acciones personalizadas](custom-actions.md).</span><span class="sxs-lookup"><span data-stu-id="ff395-119">This property is a private property that is set by the installer and can be used in conditional expressions or queried by [custom actions](custom-actions.md).</span></span> <span data-ttu-id="ff395-120">La propiedad contiene la lista de GUID de código de revisión de las revisiones que se van a quitar.</span><span class="sxs-lookup"><span data-stu-id="ff395-120">The property contains the list of patch code GUIDs of patches to be removed.</span></span> <span data-ttu-id="ff395-121">Una acción personalizada puede determinar si el estado de instalación de la revisión se aplica, está obsoleto o se ha reemplazado llamando a la propiedad [**MsiGetPatchInfoEx**](/windows/desktop/api/Msi/nf-msi-msigetpatchinfoexa) o [**PatchProperty**](patch-patchproperty.md) del [objeto patch](patch-object.md).</span><span class="sxs-lookup"><span data-stu-id="ff395-121">A custom action can determine whether the installation state of the patch is applied, obsolete or superseded by calling the [**MsiGetPatchInfoEx**](/windows/desktop/api/Msi/nf-msi-msigetpatchinfoexa) or the [**PatchProperty**](patch-patchproperty.md) property of the [Patch Object](patch-object.md).</span></span>

<span data-ttu-id="ff395-122">Después de quitar una revisión, el estado de la aplicación es el mismo que si la revisión no se hubiera instalado nunca.</span><span class="sxs-lookup"><span data-stu-id="ff395-122">After a patch is removed the state of the application is the same as if the patch was never installed.</span></span> <span data-ttu-id="ff395-123">Si es posible, el instalador restringe el proceso al subconjunto de características afectadas por la revisión que se va a quitar.</span><span class="sxs-lookup"><span data-stu-id="ff395-123">If possible, the installer restricts the process to the subset of features affected by the patch being removed.</span></span> <span data-ttu-id="ff395-124">El instalador establece automáticamente la propiedad [**REINSTALL**](reinstall.md) en la lista de características afectadas.</span><span class="sxs-lookup"><span data-stu-id="ff395-124">The installer automatically sets the [**REINSTALL**](reinstall.md) property to the list of affected features.</span></span> <span data-ttu-id="ff395-125">Los archivos que se agregaron mediante la revisión se quitan y se sobrescriben los archivos modificados por la revisión.</span><span class="sxs-lookup"><span data-stu-id="ff395-125">Files that were added by the patch are removed and files that were modified by the patch are overwritten.</span></span> <span data-ttu-id="ff395-126">Los archivos y las entradas del registro se restauran a la versión esperada por el producto menos la revisión.</span><span class="sxs-lookup"><span data-stu-id="ff395-126">Files and registry entries are restored to the version expected by the product minus the patch.</span></span> <span data-ttu-id="ff395-127">Las características y los componentes que se agregaron mediante la revisión se anulan del registro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ff395-127">Features and components that were added by the patch are unregistered from the application.</span></span> <span data-ttu-id="ff395-128">Tenga en cuenta que el contenido adicional agregado por la revisión puede permanecer en el equipo del usuario si otro parche lo usa, pero todavía es aplicable.</span><span class="sxs-lookup"><span data-stu-id="ff395-128">Note that additional content added by the patch can remain on the user's computer if the content is used by another patch that is still applicable.</span></span>

<span data-ttu-id="ff395-129">Si un archivo de un componente compartido se actualiza mediante una revisión, el cambio afecta a todas las aplicaciones que comparten el componente.</span><span class="sxs-lookup"><span data-stu-id="ff395-129">If a file of a shared component is updated by a patch, the change affects all applications that share the component.</span></span> <span data-ttu-id="ff395-130">Cuando se quita la revisión, el cambio afecta a todas las aplicaciones que comparten el componente.</span><span class="sxs-lookup"><span data-stu-id="ff395-130">When the patch is removed, again, the change affects all applications that share the component.</span></span> <span data-ttu-id="ff395-131">Esto significa que la eliminación de una revisión por parte de una aplicación puede restaurar el archivo del componente compartido a una versión inferior a la que requiere otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="ff395-131">This means that removal of a patch by one application can restore the file of the shared component to a lower version than required by another application.</span></span> <span data-ttu-id="ff395-132">Esto podría corregir la primera aplicación, pero hace que la segunda aplicación deje de funcionar.</span><span class="sxs-lookup"><span data-stu-id="ff395-132">This could fix the first application, but cause the second application to stop working.</span></span> <span data-ttu-id="ff395-133">En este caso, la segunda aplicación se puede reparar reinstalando la segunda aplicación con los métodos descritos en [reinstalar una característica o aplicación](reinstalling-a-feature-or-application.md).</span><span class="sxs-lookup"><span data-stu-id="ff395-133">In this case, the second application can be repaired by reinstalling the second application using the methods describe in [Reinstalling a Feature or Application](reinstalling-a-feature-or-application.md).</span></span> <span data-ttu-id="ff395-134">Se restaurará la versión revisada del archivo.</span><span class="sxs-lookup"><span data-stu-id="ff395-134">This will restore the patched version of the file.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ff395-135">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ff395-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ff395-136">**MsiEnumapplicationsEx**</span><span class="sxs-lookup"><span data-stu-id="ff395-136">**MsiEnumapplicationsEx**</span></span>](/windows/desktop/api/Msi/nf-msi-msienumproductsexa)
</dt> <dt>

[<span data-ttu-id="ff395-137">**MsiGetPatchInfoEx**</span><span class="sxs-lookup"><span data-stu-id="ff395-137">**MsiGetPatchInfoEx**</span></span>](/windows/desktop/api/Msi/nf-msi-msigetpatchinfoexa)
</dt> <dt>

[<span data-ttu-id="ff395-138">**MSIPATCHREMOVE**</span><span class="sxs-lookup"><span data-stu-id="ff395-138">**MSIPATCHREMOVE**</span></span>](msipatchremove.md)
</dt> <dt>

[<span data-ttu-id="ff395-139">**MsiRemovePatches**</span><span class="sxs-lookup"><span data-stu-id="ff395-139">**MsiRemovePatches**</span></span>](/windows/desktop/api/Msi/nf-msi-msiremovepatchesa)
</dt> <dt>

[<span data-ttu-id="ff395-140">Secuenciación de revisiones</span><span class="sxs-lookup"><span data-stu-id="ff395-140">Patch Sequencing</span></span>](sequencing-patches.md)
</dt> <dt>

[<span data-ttu-id="ff395-141">Revisión de desinstalación de acciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="ff395-141">Patch Uninstall Custom Actions</span></span>](patch-uninstall-custom-actions.md)
</dt> <dt>

[<span data-ttu-id="ff395-142">Revisiones desinstalables</span><span class="sxs-lookup"><span data-stu-id="ff395-142">Uninstallable Patches</span></span>](uninstallable-patches.md)
</dt> <dt>

[<span data-ttu-id="ff395-143">Desinstalación de revisiones</span><span class="sxs-lookup"><span data-stu-id="ff395-143">Uninstalling Patches</span></span>](uninstalling-patches.md)
</dt> </dl>

 

 



