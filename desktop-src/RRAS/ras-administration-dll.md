---
title: Acerca de los archivos dll de administración de RAS
description: La DLL de administración de RAS exporta las funciones a las que el servidor RAS llama cuando un usuario intenta conectarse o desconectarse.
ms.assetid: c15c6e2d-3bb6-4583-9ac3-19528feb863f
keywords:
- RRAS de administración RAS, DLL de administración de RAS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1cb170e8cfa331ab9591aa509772c6f6a743fa49
ms.sourcegitcommit: cba7f424a292fd7f3a8518947b9466439b455419
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/23/2019
ms.locfileid: "104532914"
---
# <a name="about-ras-administration-dlls"></a><span data-ttu-id="69496-104">Acerca de los archivos dll de administración de RAS</span><span class="sxs-lookup"><span data-stu-id="69496-104">About RAS administration DLLs</span></span>

<span data-ttu-id="69496-105">La DLL de administración de RAS exporta las funciones a las que el servidor RAS llama cuando un usuario intenta conectarse o desconectarse.</span><span class="sxs-lookup"><span data-stu-id="69496-105">The RAS Administration DLL exports functions that the RAS server calls whenever a user tries to connect or disconnect.</span></span> <span data-ttu-id="69496-106">Estos son algunos de los usos posibles de un archivo DLL de administración de RAS:</span><span class="sxs-lookup"><span data-stu-id="69496-106">Here are some of the possible uses for a RAS administration DLL:</span></span>

-   <span data-ttu-id="69496-107">Decida si desea permitir que un usuario se conecte al servidor.</span><span class="sxs-lookup"><span data-stu-id="69496-107">Decide whether to allow a user to connect to the server.</span></span> <span data-ttu-id="69496-108">El archivo DLL de administración puede proporcionar una comprobación de seguridad además de la autenticación de usuario de RAS estándar.</span><span class="sxs-lookup"><span data-stu-id="69496-108">The administration DLL can provide a security check in addition to the standard RAS user authentication.</span></span>
-   <span data-ttu-id="69496-109">Registra la hora a la que cada usuario se conecta y desconecta del servidor.</span><span class="sxs-lookup"><span data-stu-id="69496-109">Record the time that each user connects to and disconnects from the server.</span></span> <span data-ttu-id="69496-110">Esto puede ser útil para fines de facturación o auditoría.</span><span class="sxs-lookup"><span data-stu-id="69496-110">This can be useful for billing or auditing purposes.</span></span>
-   <span data-ttu-id="69496-111">Asigne una dirección IP a cada usuario.</span><span class="sxs-lookup"><span data-stu-id="69496-111">Assign an IP address to each user.</span></span> <span data-ttu-id="69496-112">Esto resulta útil para la seguridad, ya que esta característica se usa para asignar la conexión de un usuario a un equipo específico.</span><span class="sxs-lookup"><span data-stu-id="69496-112">This is useful for security, because this feature is used to map a user's connection to a specific computer.</span></span>

<span data-ttu-id="69496-113">La ubicación del archivo DLL de administración de RAS se especifica en el registro; vea [configuración del registro del archivo dll de administración de Ras](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="69496-113">The location of the RAS Administration DLL is specified in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="69496-114">RAS admite varios archivos dll de administración.</span><span class="sxs-lookup"><span data-stu-id="69496-114">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="69496-115">El registro admite varias ubicaciones de DLL.</span><span class="sxs-lookup"><span data-stu-id="69496-115">The registry supports multiple DLL locations.</span></span> <span data-ttu-id="69496-116">RAS llama a las funciones de los archivos dll en el orden en que se enumeran en el registro. vea [configuración del registro del archivo dll de administración de Ras](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="69496-116">RAS calls the functions in the DLLs in the order in which the DLLs are listed in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="69496-117">**Windows 2000 Server:** RAS no admite varios archivos dll.</span><span class="sxs-lookup"><span data-stu-id="69496-117">**Windows 2000 Server:** RAS does not support multiple DLLs.</span></span>

<span data-ttu-id="69496-118">Un archivo DLL de administración de RAS debe implementar y exportar todas las funciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="69496-118">A RAS administration DLL must implement and export all of the following functions:</span></span>

[<span data-ttu-id="69496-119">**MprAdminAcceptNewLink**</span><span class="sxs-lookup"><span data-stu-id="69496-119">**MprAdminAcceptNewLink**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink)

[<span data-ttu-id="69496-120">**MprAdminInitializeDll**</span><span class="sxs-lookup"><span data-stu-id="69496-120">**MprAdminInitializeDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll)

[<span data-ttu-id="69496-121">**MprAdminLinkHangupNotification**</span><span class="sxs-lookup"><span data-stu-id="69496-121">**MprAdminLinkHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification)

[<span data-ttu-id="69496-122">**MprAdminTerminateDll**</span><span class="sxs-lookup"><span data-stu-id="69496-122">**MprAdminTerminateDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll)

<span data-ttu-id="69496-123">Además, el archivo DLL de administración de RAS debe implementar y exportar</span><span class="sxs-lookup"><span data-stu-id="69496-123">In addition, the RAS administration DLL must implement and export either</span></span>

<span data-ttu-id="69496-124">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) y</span><span class="sxs-lookup"><span data-stu-id="69496-124">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and</span></span>

[<span data-ttu-id="69496-125">**MprAdminConnectionHangupNotification**</span><span class="sxs-lookup"><span data-stu-id="69496-125">**MprAdminConnectionHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification)

<span data-ttu-id="69496-126">or</span><span class="sxs-lookup"><span data-stu-id="69496-126">or</span></span>

<span data-ttu-id="69496-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) y</span><span class="sxs-lookup"><span data-stu-id="69496-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and</span></span>

[<span data-ttu-id="69496-128">**MprAdminConnectionHangupNotification2**</span><span class="sxs-lookup"><span data-stu-id="69496-128">**MprAdminConnectionHangupNotification2**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2)

<span data-ttu-id="69496-129">Si no se implementan todas las funciones necesarias, RAS no se inicia.</span><span class="sxs-lookup"><span data-stu-id="69496-129">If all of the required functions are not implemented, RAS fails to start.</span></span>

<span data-ttu-id="69496-130">**Windows 2000 Server:** Un archivo DLL de administración debe implementar las funciones [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) y [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) .</span><span class="sxs-lookup"><span data-stu-id="69496-130">**Windows 2000 Server:** An administration DLL must implement the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions.</span></span> <span data-ttu-id="69496-131">Si el archivo DLL implementa una de estas funciones, también debe implementar el otro.</span><span class="sxs-lookup"><span data-stu-id="69496-131">If the DLL implements one of these functions it must implement the other as well.</span></span>

<span data-ttu-id="69496-132">RAS llama a la función [**MprAdminInitializeDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) cuando el servicio de enrutamiento y acceso remoto se inicia por primera vez.</span><span class="sxs-lookup"><span data-stu-id="69496-132">RAS calls the [**MprAdminInitializeDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) function when the Routing and Remote Access Service first starts up.</span></span> <span data-ttu-id="69496-133">La función **MprAdminInitializeDll** proporciona una oportunidad para que el archivo dll de administración realice cualquier inicialización necesaria.</span><span class="sxs-lookup"><span data-stu-id="69496-133">The **MprAdminInitializeDll** function provides an opportunity for the administration DLL to do any necessary initialization.</span></span> <span data-ttu-id="69496-134">Del mismo modo, RAS llama al servicio [**MprAdminTerminateDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) cuando se cierra el servicio de enrutamiento y acceso remoto.</span><span class="sxs-lookup"><span data-stu-id="69496-134">Similarly, RAS calls the [**MprAdminTerminateDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) service when the Routing and Remote Access Service shuts down.</span></span> <span data-ttu-id="69496-135">Esta función permite que el archivo DLL de administración realice cualquier limpieza necesaria antes de salir.</span><span class="sxs-lookup"><span data-stu-id="69496-135">This function allows the administration DLL to perform any necessary cleanup before exiting.</span></span>

<span data-ttu-id="69496-136">Las funciones [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) y [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) permiten a la dll auditar las conexiones de usuario al servidor.</span><span class="sxs-lookup"><span data-stu-id="69496-136">The [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) functions enable the DLL to audit user connections to the server.</span></span> <span data-ttu-id="69496-137">Un servidor RAS llama a la función **MprAdminAcceptNewConnection** cada vez que un usuario intenta conectarse.</span><span class="sxs-lookup"><span data-stu-id="69496-137">A RAS server calls the **MprAdminAcceptNewConnection** function whenever a user tries to connect.</span></span> <span data-ttu-id="69496-138">Esta función permite impedir que el usuario se conecte.</span><span class="sxs-lookup"><span data-stu-id="69496-138">This function makes it possible to prevent the user from connecting.</span></span> <span data-ttu-id="69496-139">La función **MprAdminAcceptNewConnection** también podría generar entradas de registro para la facturación o la auditoría.</span><span class="sxs-lookup"><span data-stu-id="69496-139">The **MprAdminAcceptNewConnection** function could also generate log entries for billing or auditing.</span></span> <span data-ttu-id="69496-140">Cuando el usuario se desconecta, el servidor RAS llama a la función **MprAdminConnectionHangupNotification** , que puede registrar la hora a la que el usuario se desconectó.</span><span class="sxs-lookup"><span data-stu-id="69496-140">When the user disconnects, the RAS server calls the **MprAdminConnectionHangupNotification** function, which can log the time at which the user disconnected.</span></span>

<span data-ttu-id="69496-141">Las funciones [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) y [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) son similares a **MprAdminAcceptNewConnection** y [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span><span class="sxs-lookup"><span data-stu-id="69496-141">The [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) functions are similar to **MprAdminAcceptNewConnection** and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span></span> <span data-ttu-id="69496-142">Sin embargo, cuando RAS llama a las funciones **MprAdminAcceptNewConnection2** y **MprAdminConnectionHangupNotification2** , Ras pasa un parámetro adicional del [**tipo \_ conexión RAS \_ 2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span><span class="sxs-lookup"><span data-stu-id="69496-142">However, when RAS calls the **MprAdminAcceptNewConnection2** and **MprAdminConnectionHangupNotification2** functions, RAS passes in an additional parameter of type [**RAS\_CONNECTION\_2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span></span>

<span data-ttu-id="69496-143">RAS admite varios archivos dll de administración.</span><span class="sxs-lookup"><span data-stu-id="69496-143">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="69496-144">El usuario de acceso remoto solo puede conectarse si la implementación de la función [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) o [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) en cada uno de los archivos dll acepta la conexión.</span><span class="sxs-lookup"><span data-stu-id="69496-144">The remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="69496-145">En otras palabras, cada DLL debe aceptar la conexión para que el usuario pueda conectarse.</span><span class="sxs-lookup"><span data-stu-id="69496-145">In other words, every DLL must accept the connection in order for the user to be allowed to connect.</span></span>

<span data-ttu-id="69496-146">Es posible que una sola conexión RAS use varios vínculos al conectarse a un servidor RAS.</span><span class="sxs-lookup"><span data-stu-id="69496-146">It is possible for a single RAS connection to use multiple links when connecting to a RAS server.</span></span> <span data-ttu-id="69496-147">Las funciones [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) y [**MprAdminLinkHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) permiten que el archivo dll de administración administre los vínculos individuales de una conexión.</span><span class="sxs-lookup"><span data-stu-id="69496-147">The [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) and [**MprAdminLinkHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) functions make it possible for the Administration DLL to manage individual links in a connection.</span></span> <span data-ttu-id="69496-148">RAS llama a **MprAdminAcceptNewLink** cada vez que se establece un nuevo vínculo para una conexión.</span><span class="sxs-lookup"><span data-stu-id="69496-148">RAS calls **MprAdminAcceptNewLink** whenever a new link is established for a connection.</span></span> <span data-ttu-id="69496-149">Dado que todas las conexiones incluyen al menos un vínculo, RAS siempre llama a **MprAdminAcceptNewLink** una vez inmediatamente después de que [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) o [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) devuelvan, siempre que [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) o [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) acepten la conexión.</span><span class="sxs-lookup"><span data-stu-id="69496-149">Because all connections involve at least one link, RAS always calls **MprAdminAcceptNewLink** once immediately after [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) returns, provided that [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) accepted the connection.</span></span> <span data-ttu-id="69496-150">RAS llama a **MprAdminLinkHangupNotification** siempre que se cierra un vínculo para una conexión.</span><span class="sxs-lookup"><span data-stu-id="69496-150">RAS calls **MprAdminLinkHangupNotification** whenever a link for a connection is shutdown.</span></span>

<span data-ttu-id="69496-151">Como RAS admite varios archivos dll de administración, el usuario de acceso remoto solo puede conectarse si la implementación de la función [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) en cada uno de los archivos dll acepta la conexión.</span><span class="sxs-lookup"><span data-stu-id="69496-151">Because RAS supports multiple Administration DLLs, the remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="69496-152">En otras palabras, cada archivo DLL debe aceptar el vínculo para que se establezca el vínculo.</span><span class="sxs-lookup"><span data-stu-id="69496-152">In other words, every DLL must accept the link in order for the link to be established.</span></span>

<span data-ttu-id="69496-153">Una vez que el servidor RAS ha autenticado a un usuario, llama a la función [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) para obtener una dirección IP para el cliente remoto.</span><span class="sxs-lookup"><span data-stu-id="69496-153">After the RAS server has authenticated a user, it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) function to get an IP address for the remote client.</span></span> <span data-ttu-id="69496-154">Esta función proporciona un esquema alternativo para asignar una dirección IP a un usuario de acceso telefónico.</span><span class="sxs-lookup"><span data-stu-id="69496-154">This function provides an alternate scheme for mapping an IP address to a dial-in user.</span></span> <span data-ttu-id="69496-155">Si **MprAdminGetIpAddressForUser** no está implementado, un servidor RAS asocia el usuario remoto a una dirección IP que se selecciona de un grupo estático de direcciones IP, o bien uno seleccionado por un servidor de protocolo de configuración dinámica de host (DHCP).</span><span class="sxs-lookup"><span data-stu-id="69496-155">If **MprAdminGetIpAddressForUser** is not implemented, a RAS server associates the remote user with an IP address that is selected from a static pool of IP addresses, or one selected by a Dynamic Host Configuration Protocol (DHCP) server.</span></span> <span data-ttu-id="69496-156">La función **MprAdminGetIpAddressForUser** permite que el archivo dll invalide esta dirección IP predeterminada y especifique una dirección IP determinada para cada usuario.</span><span class="sxs-lookup"><span data-stu-id="69496-156">The **MprAdminGetIpAddressForUser** function allows the DLL to override this default IP address and specify a particular IP address for each user.</span></span> <span data-ttu-id="69496-157">La función **MprAdminGetIpAddressForUser** puede establecer una marca que haga que ras llame a la función [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) cuando el usuario se desconecte.</span><span class="sxs-lookup"><span data-stu-id="69496-157">The **MprAdminGetIpAddressForUser** function can set a flag that causes RAS to call the [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) function when the user disconnects.</span></span> <span data-ttu-id="69496-158">Después, el archivo DLL puede utilizar **MprAdminReleaseIpAddress** para actualizar su asignación de usuario a dirección IP.</span><span class="sxs-lookup"><span data-stu-id="69496-158">The DLL can then use **MprAdminReleaseIpAddress** to update its user-to-IP-address mapping.</span></span>

<span data-ttu-id="69496-159">RAS admite varios archivos dll de administración, pero llama a las funciones [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) y [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) solo en el primer archivo DLL que implementa y exporta.</span><span class="sxs-lookup"><span data-stu-id="69496-159">RAS supports multiple Administration DLLs, but it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions only in the first DLL that implements and export them.</span></span> <span data-ttu-id="69496-160">RAS omite las implementaciones de estas funciones en los otros archivos dll.</span><span class="sxs-lookup"><span data-stu-id="69496-160">RAS ignores implementations of these functions in the other DLLs.</span></span> <span data-ttu-id="69496-161">RAS comprueba las DLL para estas funciones en el orden en el que aparecen en el [registro](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="69496-161">RAS checks the DLLs for these functions in the order in which they are listed in the [registry](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="69496-162">RAS serializa las llamadas en el archivo DLL de administración.</span><span class="sxs-lookup"><span data-stu-id="69496-162">RAS serializes calls into the administration DLL.</span></span> <span data-ttu-id="69496-163">Una llamada a una de las funciones del archivo DLL para un cliente RAS determinado no tiene preferencia sobre una llamada a esa función para un cliente RAS diferente; RAS no llama a la función para el otro cliente hasta que se complete la llamada inicial.</span><span class="sxs-lookup"><span data-stu-id="69496-163">A call into one of the DLL's functions for a given RAS client does not preempt a call to that function for a different RAS client; RAS does not call the function for the other client until the initial call is complete.</span></span> <span data-ttu-id="69496-164">Además, la serialización se extiende a determinados grupos de funciones.</span><span class="sxs-lookup"><span data-stu-id="69496-164">Furthermore, serialization extends to certain groups of functions.</span></span> <span data-ttu-id="69496-165">Las funciones de dirección IP se serializan como un grupo; una llamada a [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) o [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) bloquea las llamadas en ambas funciones hasta que se devuelve la llamada inicial.</span><span class="sxs-lookup"><span data-stu-id="69496-165">The IP address functions are serialized as a group; a call into either [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) or [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) blocks calls into both functions until the initial call has returned.</span></span> <span data-ttu-id="69496-166">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) y [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) también se serializan como un grupo.</span><span class="sxs-lookup"><span data-stu-id="69496-166">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) are also serialized as a group.</span></span>

<span data-ttu-id="69496-167">RAS ejecuta las funciones que asignan direcciones IP en un proceso. las funciones para las notificaciones de conexión y desconexión se ejecutan en otro proceso.</span><span class="sxs-lookup"><span data-stu-id="69496-167">RAS executes the functions that assign IP addresses in one process; the functions for connection and disconnection notifications are executed in another process.</span></span> <span data-ttu-id="69496-168">Por consiguiente, el archivo DLL no depende de los datos compartidos entre estos dos conjuntos de funciones.</span><span class="sxs-lookup"><span data-stu-id="69496-168">Consequently, the DLL does not depend on shared data between these two sets of functions.</span></span>

<span data-ttu-id="69496-169">No llame a ninguna de las funciones de [Administración de Ras](ras-administration-functions.md) ni a [las funciones de administración de usuarios de Ras](ras-user-administration-functions.md) desde una función de llamada.</span><span class="sxs-lookup"><span data-stu-id="69496-169">Do not call any of the [RAS Administration Functions](ras-administration-functions.md) or [RAS User Administration Functions](ras-user-administration-functions.md) from inside a callout function.</span></span> <span data-ttu-id="69496-170">Las llamadas a estas funciones no devolverán cuando se realicen desde una función de llamada.</span><span class="sxs-lookup"><span data-stu-id="69496-170">Calls to these functions will not return when made from within a callout function.</span></span>

<span data-ttu-id="69496-171">El servidor RAS registra un error en el registro de eventos del sistema si se produce un error al intentar cargar un archivo DLL de administración de RAS o al llamar a una de las funciones del archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="69496-171">The RAS server logs an error in the system event log if an error occurs when it tries to load a RAS administration DLL or when calling one of the DLL's functions.</span></span> <span data-ttu-id="69496-172">Esto puede ocurrir, por ejemplo, si el archivo DLL especifica un nombre incorrecto para una función exportada, o si no incluyó el nombre de función en el archivo DEF.</span><span class="sxs-lookup"><span data-stu-id="69496-172">This can happen, for example, if the DLL specified the wrong name for an exported function, or if it did not include the function name in the DEF file.</span></span> <span data-ttu-id="69496-173">La entrada del registro de eventos indica el motivo del error.</span><span class="sxs-lookup"><span data-stu-id="69496-173">The entry in the event log indicates the reason for the failure.</span></span>

<span data-ttu-id="69496-174">**Windows 2000/NT:** No se admiten varios archivos dll de administración.</span><span class="sxs-lookup"><span data-stu-id="69496-174">**Windows 2000/NT:** Multiple administration DLLs are not supported.</span></span>

 

 




