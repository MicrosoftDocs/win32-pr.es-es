---
description: A medida que crece el número de certificados, las listas de revocación de certificados (CRL) y la lista de certificados de confianza (CTL) de la colección de un usuario, la organización de esos certificados se convierte en un problema.
ms.assetid: 13e7e077-e8be-4ba4-99e1-08421fd2452e
title: Almacenes de colección
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bfeb8ef071d7a5ccf6bc7ce43ba418117879536
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911777"
---
# <a name="collection-stores"></a><span data-ttu-id="de126-103">Almacenes de colección</span><span class="sxs-lookup"><span data-stu-id="de126-103">Collection Stores</span></span>

<span data-ttu-id="de126-104">A medida que crece el número de [*certificados*](../secgloss/c-gly.md), [*las listas de revocación de certificados*](../secgloss/c-gly.md) (CRL) y la [*lista de certificados de confianza*](../secgloss/c-gly.md) (CTL) de la colección de un usuario, la organización de esos certificados se convierte en un problema.</span><span class="sxs-lookup"><span data-stu-id="de126-104">As the number of [*certificates*](../secgloss/c-gly.md), [*certificate revocation lists*](../secgloss/c-gly.md) (CRLs), and [*certificate trust list*](../secgloss/c-gly.md) (CTLs) in a user's collection grows, the organization of those certificates becomes an issue.</span></span> <span data-ttu-id="de126-105">Una posible solución es crear almacenes de certificados independientes para mantener distintos tipos de certificados.</span><span class="sxs-lookup"><span data-stu-id="de126-105">One possible solution is to create separate certificate stores to keep different kinds of certificates.</span></span> <span data-ttu-id="de126-106">Esta solución crea un nuevo problema porque es posible que una aplicación necesite buscar en varios almacenes distintos para encontrar un certificado específico.</span><span class="sxs-lookup"><span data-stu-id="de126-106">This solution creates a new problem because an application might need to search several different stores to find a specific certificate.</span></span> <span data-ttu-id="de126-107">En el uso de almacenes lógicos o de colecciones se resuelve este problema.</span><span class="sxs-lookup"><span data-stu-id="de126-107">The use of logical or collection stores solves this problem.</span></span>

<span data-ttu-id="de126-108">Un almacén [*lógico*](../secgloss/l-gly.md) y un almacén de certificados de colección son grupos de almacenes físicos que se muestran en una aplicación como un único almacén.</span><span class="sxs-lookup"><span data-stu-id="de126-108">A [*logical store*](../secgloss/l-gly.md) and a collection certificate store are groups of physical stores that appears to an application as a single store.</span></span> <span data-ttu-id="de126-109">Todos los almacenes de miembros de un almacén lógico o de colección se pueden buscar o enumerar con una única llamada de función a [**CertFindCertificateInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfindcertificateinstore) o [**CertEnumCertificatesInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumcertificatesinstore).</span><span class="sxs-lookup"><span data-stu-id="de126-109">All member stores of a logical or collection store can be searched or enumerated with a single function call to either [**CertFindCertificateInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfindcertificateinstore) or [**CertEnumCertificatesInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumcertificatesinstore).</span></span>

<span data-ttu-id="de126-110">El uso de almacenes lógicos o de colecciones también proporciona flexibilidad que es difícil de lograr con los registros de papel.</span><span class="sxs-lookup"><span data-stu-id="de126-110">The use of logical or collection stores also provides flexibility that is difficult to achieve with paper records.</span></span> <span data-ttu-id="de126-111">Es posible que un certificado de un solo almacén físico tenga que ser miembro de varios grupos lógicos diferentes.</span><span class="sxs-lookup"><span data-stu-id="de126-111">A certificate in a single physical store might need to be a member of several different logical groups.</span></span> <span data-ttu-id="de126-112">Por lo tanto, un almacén físico individual puede ser miembro de más de un almacén lógico o de colección, tal y como se muestra en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="de126-112">Therefore, an individual physical store can be a member of more than one logical or collection store as shown in the following illustration.</span></span>

![almacenes de colección](images/mancert.png)

<span data-ttu-id="de126-114">En esta ilustración se presentan los siguientes conceptos básicos del almacén de certificados lógicos:</span><span class="sxs-lookup"><span data-stu-id="de126-114">This illustration presents the following basic, logical certificate store concepts:</span></span>

-   <span data-ttu-id="de126-115">Un almacén de certificados de colección tiene un puntero al primer bloque de puntero para ese almacén de recopilación.</span><span class="sxs-lookup"><span data-stu-id="de126-115">A collection certificate store has a pointer to the first pointer block for that collection store.</span></span>
-   <span data-ttu-id="de126-116">Cada bloque de puntero de un almacén de colección tiene un puntero a un almacén relacionado y un puntero al siguiente bloque de puntero de la colección.</span><span class="sxs-lookup"><span data-stu-id="de126-116">Each pointer block of a collection store has a pointer to a sibling store and a pointer to the next pointer block of the collection.</span></span>
-   <span data-ttu-id="de126-117">Cada almacén relacionado de una colección es un almacén de certificados físico simple.</span><span class="sxs-lookup"><span data-stu-id="de126-117">Each sibling store in a collection is a simple physical certificate store.</span></span>
-   <span data-ttu-id="de126-118">Un almacén de certificados simple puede ser un almacén miembro del mismo nivel en muchos almacenes de colecciones diferentes.</span><span class="sxs-lookup"><span data-stu-id="de126-118">A simple certificate store can be a member sibling store in many different collection stores.</span></span>
-   <span data-ttu-id="de126-119">Los certificados agregados a un almacén de recopilación se agregan físicamente a uno de los almacenes del mismo nivel de la colección.</span><span class="sxs-lookup"><span data-stu-id="de126-119">Certificates added to a collection store are physically added to one of the sibling stores in the collection.</span></span>
-   <span data-ttu-id="de126-120">Puede tener acceso a los certificados de un almacén relacionado cualquier almacén de recopilación en el que el almacén relacionado sea miembro.</span><span class="sxs-lookup"><span data-stu-id="de126-120">Certificates in a sibling store can be accessed by any collection store in which the sibling store is a member.</span></span>

<span data-ttu-id="de126-121">Los almacenes de colecciones se compilan en una aplicación abriendo un almacén de recopilación mediante [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) y, a continuación, usando [**CertAddStoreToCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certaddstoretocollection) para agregar un almacén del mismo nivel abierto al almacén de recopilación.</span><span class="sxs-lookup"><span data-stu-id="de126-121">Collection stores are built within an application by opening a collection store by using [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) and then using [**CertAddStoreToCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certaddstoretocollection) to add an open sibling store to the collection store.</span></span> <span data-ttu-id="de126-122">Un almacén relacionado se puede eliminar de un almacén de colección mediante una llamada a [**CertRemoveStoreFromCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certremovestorefromcollection).</span><span class="sxs-lookup"><span data-stu-id="de126-122">A sibling store can be deleted from a collection store by calling [**CertRemoveStoreFromCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certremovestorefromcollection).</span></span>

 

 
