---
description: El administrador de ámbito de rastreo (CSM) es un conjunto de interfaces que proporciona métodos para informar al motor de búsqueda de Windows acerca de los contenedores para rastrear y los elementos de esos contenedores que se van a incluir o excluir en el catálogo.
ms.assetid: 7d65d00a-7294-4718-b593-89394b2e416f
title: Usar el administrador de ámbito de rastreo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef79c9e5a2a4b1dda97bf8a8be7bbaa35d5ecd2c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104153993"
---
# <a name="using-the-crawl-scope-manager"></a><span data-ttu-id="9a4eb-103">Usar el administrador de ámbito de rastreo</span><span class="sxs-lookup"><span data-stu-id="9a4eb-103">Using the Crawl Scope Manager</span></span>

<span data-ttu-id="9a4eb-104">El administrador de ámbito de rastreo (CSM) es un conjunto de interfaces que proporciona métodos para informar al motor de búsqueda de Windows acerca de los contenedores para rastrear y los elementos de esos contenedores que se van a incluir o excluir en el catálogo.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-104">The Crawl Scope Manager (CSM) is a set of interfaces that provides methods to inform the Windows Search engine about containers to crawl and items under those containers to include or exclude in the catalog.</span></span> <span data-ttu-id="9a4eb-105">Los desarrolladores pueden usar CSM para definir un ámbito de rastreo mediante programación para un nuevo almacén de datos o controlador de protocolo.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-105">Developers can use the CSM to define a crawl scope programmatically for a new data store or protocol handler.</span></span> <span data-ttu-id="9a4eb-106">Los administradores pueden usar CSM para ver los índices de los usuarios, las raíces de búsqueda y las reglas de ámbito.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-106">Administrators can use the CSM to view all users' indexes, search roots, and scope rules.</span></span>

<span data-ttu-id="9a4eb-107">Esta sección está organizada de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="9a4eb-107">This section is organized as follows:</span></span>

-   [<span data-ttu-id="9a4eb-108">¿Qué es el administrador de ámbito de rastreo?</span><span class="sxs-lookup"><span data-stu-id="9a4eb-108">What is the Crawl Scope Manager?</span></span>](#what-is-the-crawl-scope-manager)
-   [<span data-ttu-id="9a4eb-109">Buscar raíces y reglas de ámbito</span><span class="sxs-lookup"><span data-stu-id="9a4eb-109">Search Roots and Scope Rules</span></span>](#search-roots-and-scope-rules)
    -   [<span data-ttu-id="9a4eb-110">Buscar raíces</span><span class="sxs-lookup"><span data-stu-id="9a4eb-110">Search Roots</span></span>](#search-roots-and-scope-rules)
    -   [<span data-ttu-id="9a4eb-111">Reglas de ámbito</span><span class="sxs-lookup"><span data-stu-id="9a4eb-111">Scope Rules</span></span>](#scope-rules)
-   [<span data-ttu-id="9a4eb-112">Directivas de grupo admitidas por el administrador de ámbito de rastreo</span><span class="sxs-lookup"><span data-stu-id="9a4eb-112">Group Policies Supported by the Crawl Scope Manager</span></span>](#group-policies-supported-by-the-crawl-scope-manager)
-   [<span data-ttu-id="9a4eb-113">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="9a4eb-113">Related topics</span></span>](#related-topics)

## <a name="what-is-the-crawl-scope-manager"></a><span data-ttu-id="9a4eb-114">¿Qué es el administrador de ámbito de rastreo?</span><span class="sxs-lookup"><span data-stu-id="9a4eb-114">What is the Crawl Scope Manager?</span></span>

<span data-ttu-id="9a4eb-115">Para comprender el administrador del ámbito de rastreo, debe comprender los siguientes términos:</span><span class="sxs-lookup"><span data-stu-id="9a4eb-115">To understand the Crawl Scope Manager, you must understand the following terms:</span></span>

-   <span data-ttu-id="9a4eb-116">Un *ámbito de rastreo* es un conjunto de direcciones URL que apuntan a almacenes de datos o contenedores (almacenes de datos de correo electrónico, bases de datos, recursos compartidos de archivos de red, etc.) que el indexador rastrea a los elementos de índice.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-116">A *crawl scope* is a set of URLs pointing to data stores or containers (email data stores, databases, network file shares, and so on) that the indexer crawls to index items.</span></span> <span data-ttu-id="9a4eb-117">En el caso de un almacén de datos jerárquico, el ámbito de rastreo puede incluir una dirección URL principal, pero excluir una dirección URL secundaria y viceversa.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-117">For a hierarchical data store, the crawl scope can include a parent URL but exclude a child URL and vice versa.</span></span> <span data-ttu-id="9a4eb-118">Los elementos dentro del ámbito de rastreo se indizan; los elementos que se encuentran fuera del ámbito de rastreo se omiten.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-118">Items within the crawl scope are indexed; items outside the crawl scope are ignored.</span></span>
-   <span data-ttu-id="9a4eb-119">Una *raíz de búsqueda* es la dirección URL de nivel superior que identifica un contenedor o almacén de datos que está asociado a un controlador de protocolo determinado.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-119">A *search root* is the top-level URL identifying a container or data store that is associated with a particular protocol handler.</span></span> <span data-ttu-id="9a4eb-120">Las raíces de búsqueda pueden identificar ubicaciones que son específicas de un usuario, que se encuentran en un equipo remoto o que coinciden con un patrón de caracteres comodín.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-120">Search roots can identify locations that are specific to a user, that are on a remote computer, or that match a wildcard pattern.</span></span> <span data-ttu-id="9a4eb-121">Al agregar un nuevo controlador de almacenamiento de datos o de protocolo, también debe agregar una raíz de búsqueda al ámbito de rastreo.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-121">When you add a new data store or protocol handler, you should also add a search root to the crawl scope.</span></span>
-   <span data-ttu-id="9a4eb-122">Una *regla de ámbito* es una regla que incluye o excluye las direcciones URL de una raíz de búsqueda que se rastrean e indexan.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-122">A *scope rule* is a rule that includes or excludes URLs within a search root from being crawled and indexed.</span></span> <span data-ttu-id="9a4eb-123">Por ejemplo, supongamos que desea indizar todo el contenido de la carpeta ProjectFiles, excepto los prototipos de la subcarpeta.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-123">For example, suppose you want everything within the ProjectFiles folder indexed except for the subfolder Prototypes.</span></span> <span data-ttu-id="9a4eb-124">Necesitaría una regla de inclusión para file:///C: \\ WorkteamA \\ ProjectFiles \\ y una regla de exclusión para los \\ prototipos File:///C: WorkteamA \\ ProjectFiles \\ \\ .</span><span class="sxs-lookup"><span data-stu-id="9a4eb-124">You would need an inclusion rule for file:///C:\\WorkteamA\\ProjectFiles\\ and an exclusion rule for file:///C:\\WorkteamA\\ProjectFiles\\Prototypes\\.</span></span>

<span data-ttu-id="9a4eb-125">El **Administrador de ámbito de rastreo (CSM)** es un conjunto de API que le permite agregar, quitar y enumerar las reglas de ámbito y las raíces de búsqueda para el indizador de Windows Search.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-125">The **Crawl Scope Manager (CSM)** is a set of APIs that lets you add, remove, and enumerate search roots and scope rules for the Windows Search indexer.</span></span> <span data-ttu-id="9a4eb-126">Si desea que el indexador empiece a rastrear un nuevo contenedor, puede usar CSM para establecer las reglas de ámbito y raíz de búsqueda para las rutas de acceso dentro de las raíces de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-126">When you want the indexer to begin crawling a new container, you can use the CSM to set the search root(s) and scope rules for paths within the search root(s).</span></span> <span data-ttu-id="9a4eb-127">Por ejemplo, si instala un nuevo controlador de protocolo, puede crear una raíz de búsqueda y agregar una o varias reglas de inclusión. después, el indexador puede iniciar un rastreo para la indexación inicial.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-127">For example, if you install a new protocol handler, you can create a search root and add one or more inclusion rules; then the indexer can start a crawl for the initial indexing.</span></span> <span data-ttu-id="9a4eb-128">CSM ofrece las siguientes interfaces para ayudarle a hacerlo mediante programación.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-128">The CSM offers the following interfaces to help you do this programmatically.</span></span>

-   [<span data-ttu-id="9a4eb-129">**IEnumSearchRoots**</span><span class="sxs-lookup"><span data-stu-id="9a4eb-129">**IEnumSearchRoots**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-ienumsearchroots)
-   [<span data-ttu-id="9a4eb-130">IEnumSearchScopeRules</span><span class="sxs-lookup"><span data-stu-id="9a4eb-130">IEnumSearchScopeRules</span></span>](/windows/win32/api/searchapi/nn-searchapi-ienumsearchscoperules)
-   [<span data-ttu-id="9a4eb-131">**ISearchCrawlScopeManager**</span><span class="sxs-lookup"><span data-stu-id="9a4eb-131">**ISearchCrawlScopeManager**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager)
-   [<span data-ttu-id="9a4eb-132">ISearchCrawlScopeManager2</span><span class="sxs-lookup"><span data-stu-id="9a4eb-132">ISearchCrawlScopeManager2</span></span>](/windows/win32/api/searchapi/nn-searchapi-isearchcrawlscopemanager2)
-   [<span data-ttu-id="9a4eb-133">**ISearchRoot**</span><span class="sxs-lookup"><span data-stu-id="9a4eb-133">**ISearchRoot**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot)
-   [<span data-ttu-id="9a4eb-134">**ISearchScopeRule**</span><span class="sxs-lookup"><span data-stu-id="9a4eb-134">**ISearchScopeRule**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchscoperule)
-   [<span data-ttu-id="9a4eb-135">ISearchItem</span><span class="sxs-lookup"><span data-stu-id="9a4eb-135">ISearchItem</span></span>](./-search-isearchitem.md)

<span data-ttu-id="9a4eb-136">Aunque puede usar las API de CSM para definir un ámbito de rastreo mediante programación, el CSM se diseñó para admitir también usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-136">While you can use the CSM APIs to define a crawl scope programmatically, the CSM was designed to support end users as well.</span></span> <span data-ttu-id="9a4eb-137">Por ejemplo, supongamos que ha desarrollado un controlador de protocolo para un nuevo almacén de datos y desea permitir que los usuarios o administradores administren qué rutas de acceso deben indexarse.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-137">For example, suppose you have developed a protocol handler for a new data store, and you want to let users or administrators manage which paths should be indexed.</span></span> <span data-ttu-id="9a4eb-138">Puede usar el administrador de ámbito de rastreo para establecer una o más raíces de búsqueda (por ejemplo, File:///C: Configurator \\ \\ ) y la interfaz de usuario de búsqueda de Windows para establecer las opciones de indización mostrará cada raíz de búsqueda con una casilla.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-138">You can use the Crawl Scope Manager to set one or more search roots (for example, file:///C:\\MyContainer\\), and the Windows Search user interface for setting indexing options will display each search root with a check box.</span></span> <span data-ttu-id="9a4eb-139">Los usuarios pueden incluir o excluir la ruta de acceso o los elementos secundarios de dicha ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-139">Users can then include or exclude that path or children of that path.</span></span>

## <a name="search-roots-and-scope-rules"></a><span data-ttu-id="9a4eb-140">Buscar raíces y reglas de ámbito</span><span class="sxs-lookup"><span data-stu-id="9a4eb-140">Search Roots and Scope Rules</span></span>

<span data-ttu-id="9a4eb-141">Las reglas de ámbito y las raíces de búsqueda definen un conjunto de trabajo de direcciones URL que componen el ámbito de rastreo del indexador.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-141">Search roots and scope rules together define a working set of URLs that comprise the indexer's crawl scope.</span></span>

### <a name="search-roots"></a><span data-ttu-id="9a4eb-142">Buscar raíces</span><span class="sxs-lookup"><span data-stu-id="9a4eb-142">Search Roots</span></span>

<span data-ttu-id="9a4eb-143">La configuración de una raíz de búsqueda no especifica qué partes de este almacén se deben indizar; simplemente indica que existe un almacén de contenido y está asociado a un controlador de protocolo registrado.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-143">Setting a search root does not specify which parts of this store should be indexed; it merely signals that a content store exists and is associated with a registered protocol handler.</span></span> <span data-ttu-id="9a4eb-144">La sintaxis de una raíz de búsqueda incluye un protocolo, un identificador de seguridad de sitio o usuario y una ruta de acceso a las ubicaciones que se van a rastrear.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-144">The syntax of a search root includes a protocol, a site or user security identifier, and a path to the location(s) to be crawled.</span></span>

<span data-ttu-id="9a4eb-145">Debe crear nuevas raíces de búsqueda cuando:</span><span class="sxs-lookup"><span data-stu-id="9a4eb-145">You should create new search roots when you:</span></span>

-   <span data-ttu-id="9a4eb-146">Instalar un controlador de protocolo o</span><span class="sxs-lookup"><span data-stu-id="9a4eb-146">Install a protocol handler OR</span></span>
-   <span data-ttu-id="9a4eb-147">Quiere indexar un nuevo almacén de datos</span><span class="sxs-lookup"><span data-stu-id="9a4eb-147">Want to index a new data store</span></span>

<span data-ttu-id="9a4eb-148">y</span><span class="sxs-lookup"><span data-stu-id="9a4eb-148">AND</span></span>

-   <span data-ttu-id="9a4eb-149">ese almacén de datos aún no está en el ámbito de rastreo del indexador.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-149">that data store is not already in the indexer's crawl scope.</span></span>

<span data-ttu-id="9a4eb-150">Consulte [Administración de raíces de búsqueda](-search-3x-wds-extidx-csm-searchroots.md) para obtener instrucciones sobre cómo agregar, quitar y enumerar raíces de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-150">Refer to [Managing Search Roots](-search-3x-wds-extidx-csm-searchroots.md) for instructions on adding, removing, and enumerating search roots.</span></span>

### <a name="scope-rules"></a><span data-ttu-id="9a4eb-151">Reglas de ámbito</span><span class="sxs-lookup"><span data-stu-id="9a4eb-151">Scope Rules</span></span>

<span data-ttu-id="9a4eb-152">Las reglas de ámbito incluyen o excluyen las direcciones URL de una raíz de búsqueda que se van a rastrear e indexar.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-152">Scope rules include or exclude URLs within a search root from being crawled and indexed.</span></span> <span data-ttu-id="9a4eb-153">Los usuarios finales, la Directiva de grupo o los desarrolladores de terceros pueden establecer las reglas de ámbito.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-153">Scope rules can be set by end users, by group policy, or by third-party developers.</span></span> <span data-ttu-id="9a4eb-154">Debe definir las reglas de ámbito mediante programación cuando defina una nueva raíz de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-154">You should define scope rules programmatically when you define a new search root.</span></span> <span data-ttu-id="9a4eb-155">Las reglas de ámbito y las raíces de búsqueda comprenden el ámbito de rastreo predeterminado para el almacén de datos y el controlador de protocolo.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-155">Your search roots and scope rules comprise the default crawl scope for your data store and protocol handler.</span></span>

> [!Note]  
> <span data-ttu-id="9a4eb-156">Los usuarios con acceso al panel de control pueden modificar el ámbito de rastreo predeterminado.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-156">Users with access to Control Panel can modify the default crawl scope.</span></span> <span data-ttu-id="9a4eb-157">Por lo tanto, cualquier aplicación que ofrezca administración de ámbitos siempre debe obtener las reglas directamente de CSM mediante los métodos de enumeración en lugar de confiar en su propia copia guardada de las reglas del usuario.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-157">Therefore, any application that offers scope management should always get the rules directly from the CSM by using the enumeration methods instead of relying on its own saved copy of the user's rules.</span></span>

 

<span data-ttu-id="9a4eb-158">Consulte [Administración de reglas de ámbito](-search-3x-wds-extidx-csm-scoperules.md) para obtener instrucciones sobre cómo agregar, quitar, revertir y enumerar reglas de ámbito.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-158">Refer to [Managing Scope Rules](-search-3x-wds-extidx-csm-scoperules.md) for instructions on adding, removing, reverting, and enumerating scope rules.</span></span>

## <a name="group-policies-supported-by-the-crawl-scope-manager"></a><span data-ttu-id="9a4eb-159">Directivas de grupo admitidas por el administrador de ámbito de rastreo</span><span class="sxs-lookup"><span data-stu-id="9a4eb-159">Group Policies Supported by the Crawl Scope Manager</span></span>

<span data-ttu-id="9a4eb-160">Los administradores del sistema pueden definir ámbitos de rastreo en sus organizaciones mediante el uso de directivas de grupo.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-160">System administrators can define crawl scopes across their organizations by using Group Policies.</span></span> <span data-ttu-id="9a4eb-161">Estas reglas de directiva de grupo también pueden actuar como reglas predeterminadas, que los usuarios pueden invalidar.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-161">These group policy rules can also act as default rules, which users can override.</span></span> <span data-ttu-id="9a4eb-162">Por ejemplo, puede tener un conjunto de directorios indizado para un grupo de usuarios y otro distinto para otro grupo de usuarios, lo que permite a los usuarios anular la selección de estos valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-162">For example, you can have one set of directories indexed for one group of users and a different set for another group of users, allowing the users to deselect these defaults.</span></span> <span data-ttu-id="9a4eb-163">Las reglas de directiva de grupo también pueden actuar como reglas de exclusión forzada que los usuarios no pueden invalidar, evitando que determinados usuarios indexen determinados recursos compartidos de red, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="9a4eb-163">Group policy rules can also act as forced exclusion rules that users cannot override, preventing certain users from indexing certain network shares, for example.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9a4eb-164">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="9a4eb-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9a4eb-165">Administración de raíces de búsqueda</span><span class="sxs-lookup"><span data-stu-id="9a4eb-165">Managing Search Roots</span></span>](-search-3x-wds-extidx-csm-searchroots.md)
</dt> <dt>

[<span data-ttu-id="9a4eb-166">Administrar reglas de ámbito</span><span class="sxs-lookup"><span data-stu-id="9a4eb-166">Managing Scope Rules</span></span>](-search-3x-wds-extidx-csm-scoperules.md)
</dt> <dt>

[<span data-ttu-id="9a4eb-167">Proceso de indización</span><span class="sxs-lookup"><span data-stu-id="9a4eb-167">The Indexing Process</span></span>](-search-indexing-process-overview.md)
</dt> </dl>

 

 
