---
description: Proveedores de credenciales en Windows 10
ms.assetid: BCF69196-D4E4-41D0-B372-5000FD50164B
title: Proveedores de credenciales en Windows 10
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 12a7947000e5d5a989f71dcdddd808a8e1d5ab3f
ms.sourcegitcommit: cd9672511263d04c0e4bc41758dd1d9e89ea92b4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/29/2021
ms.locfileid: "104361764"
---
# <a name="credential-providers-in-windows-10"></a><span data-ttu-id="fd262-103">Proveedores de credenciales en Windows 10</span><span class="sxs-lookup"><span data-stu-id="fd262-103">Credential Providers in Windows 10</span></span>

<span data-ttu-id="fd262-104">Los proveedores de credenciales son el mecanismo principal para la autenticación de usuarios: actualmente son el único método para que los usuarios demuestren su identidad, lo cual es necesario para los escenarios de inicio de sesión y otros tipos de autenticación del sistema.</span><span class="sxs-lookup"><span data-stu-id="fd262-104">Credential providers are the primary mechanism for user authentication—they currently are the only method for users to prove their identity which is required for logon and other system authentication scenarios.</span></span> <span data-ttu-id="fd262-105">Con Windows 10 y la introducción de Microsoft Passport, los proveedores de credenciales son más importantes que nunca. se usarán para la autenticación en aplicaciones, sitios web, etc.</span><span class="sxs-lookup"><span data-stu-id="fd262-105">With Windows 10 and the introduction of Microsoft Passport, credential providers are more important than ever; they will be used for authentication into apps, websites, and more.</span></span>

<span data-ttu-id="fd262-106">Microsoft proporciona una variedad de proveedores de credenciales como parte de Windows, como la contraseña, el PIN, la tarjeta inteligente y el reconocimiento de huellas digitales, caras y iris.</span><span class="sxs-lookup"><span data-stu-id="fd262-106">Microsoft provides a variety of credential providers as part of Windows, such as password, PIN, smartcard, and Windows Hello (Fingerprint, Face, and Iris recognition).</span></span> <span data-ttu-id="fd262-107">Estos se conocen como "proveedores de credenciales del sistema" en este artículo.</span><span class="sxs-lookup"><span data-stu-id="fd262-107">These are referred to as "system credential providers" in this article.</span></span> <span data-ttu-id="fd262-108">Los OEM, las empresas y otras entidades pueden escribir sus propios proveedores de credenciales e integrarlos fácilmente en Windows.</span><span class="sxs-lookup"><span data-stu-id="fd262-108">OEMs, Enterprises, and other entities can write their own credential providers and integrate them easily into Windows.</span></span> <span data-ttu-id="fd262-109">Estos se conocen como "proveedores de credenciales de terceros" en este artículo.</span><span class="sxs-lookup"><span data-stu-id="fd262-109">These are referred to as "third-party credential providers" in this article.</span></span> <span data-ttu-id="fd262-110">Tenga en cuenta que los proveedores de credenciales V1 y V2 se admiten en Windows 10.</span><span class="sxs-lookup"><span data-stu-id="fd262-110">Note that both V1 and V2 credential providers are supported in Windows 10.</span></span> <span data-ttu-id="fd262-111">Es importante que los creadores y administradores de proveedores de credenciales de terceros conozcan estas recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="fd262-111">It is important for creators and managers of third-party credential providers to understand these recommendations.</span></span>

## <a name="system-credential-providers"></a><span data-ttu-id="fd262-112">Proveedores de credenciales del sistema</span><span class="sxs-lookup"><span data-stu-id="fd262-112">System credential providers</span></span>

<span data-ttu-id="fd262-113">Se recomienda encarecidamente que siempre haya al menos un proveedor de credenciales del sistema disponible para todos los usuarios del dispositivo, además de los proveedores de credenciales de terceros.</span><span class="sxs-lookup"><span data-stu-id="fd262-113">We strongly recommend that there always be at least one system credential provider available for every user on the device in addition to any third-party credential providers.</span></span> <span data-ttu-id="fd262-114">Además, durante la configuración del proveedor de credenciales de terceros, se debe solicitar a cada usuario del dispositivo que configure al menos un proveedor de credenciales del sistema (si no hay otras opciones de recuperación disponibles; consulte el escenario A a continuación).</span><span class="sxs-lookup"><span data-stu-id="fd262-114">Additionally, during the set-up of the third-party credential provider, each user on the device should be prompted to set up at least one system credential provider (if no other recovery options are available; see Scenario A, below).</span></span>

### <a name="scenario-a"></a><span data-ttu-id="fd262-115">Escenario A</span><span class="sxs-lookup"><span data-stu-id="fd262-115">Scenario A</span></span>

<span data-ttu-id="fd262-116">Un usuario de la cuenta local ha configurado un proveedor de credenciales de terceros y lo usa con regularidad para iniciar sesión en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fd262-116">A local account user has set up a third-party credential provider and regularly uses it to log into the device.</span></span> <span data-ttu-id="fd262-117">Un día, el usuario instala algunas actualizaciones en el dispositivo que interrumpen el proveedor de credenciales de terceros y el usuario no es consciente de este cambio antes de reiniciar el equipo.</span><span class="sxs-lookup"><span data-stu-id="fd262-117">One day, the user installs some update to the device that breaks the third-party credential provider, and the user is unaware of this change before restarting the machine.</span></span>

<span data-ttu-id="fd262-118">En el siguiente reinicio, el usuario se encuentra en la pantalla de inicio de sesión y no puede usar el proveedor de credenciales de terceros esperado.</span><span class="sxs-lookup"><span data-stu-id="fd262-118">On the next restart, the user is on the logon screen and is unable to use the expected third-party credential provider.</span></span> <span data-ttu-id="fd262-119">Si el usuario ha configurado un proveedor de credenciales del sistema, el usuario podrá iniciar sesión en el equipo con él.</span><span class="sxs-lookup"><span data-stu-id="fd262-119">If the user has set up a system credential provider, the user will be able to log into the machine using it.</span></span> <span data-ttu-id="fd262-120">Si no es así, el usuario no tiene ninguna manera de recuperar la cuenta en el equipo.</span><span class="sxs-lookup"><span data-stu-id="fd262-120">If not, the user has no way to recover the account on the machine.</span></span>

### <a name="scenario-b"></a><span data-ttu-id="fd262-121">Escenario B</span><span class="sxs-lookup"><span data-stu-id="fd262-121">Scenario B</span></span>

<span data-ttu-id="fd262-122">Un usuario de la cuenta de MSA/AD/AAD ha configurado un proveedor de credenciales de terceros y lo usa con regularidad para iniciar sesión en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fd262-122">An MSA/AD/AAD account user has set up a third-party credential provider and regularly uses it to log into the device.</span></span> <span data-ttu-id="fd262-123">Un día, el usuario instala algunas actualizaciones en el dispositivo que interrumpen el proveedor de credenciales de terceros y el usuario no es consciente de este cambio antes de reiniciar el equipo.</span><span class="sxs-lookup"><span data-stu-id="fd262-123">One day, the user installs some update to the device that breaks the third -party credential provider, and the user is unaware of this change before restarting the machine.</span></span>

<span data-ttu-id="fd262-124">En el siguiente reinicio, el usuario se encuentra en la pantalla de inicio de sesión y no puede usar el proveedor de credenciales de terceros esperado.</span><span class="sxs-lookup"><span data-stu-id="fd262-124">On the next restart, the user is on the logon screen and is unable to use the expected third-party credential provider.</span></span> <span data-ttu-id="fd262-125">Si el usuario ha configurado un proveedor de credenciales del sistema, el usuario podrá iniciar sesión en el equipo con él.</span><span class="sxs-lookup"><span data-stu-id="fd262-125">If the user has set up a system credential provider, the user will be able to log into the machine using it.</span></span> <span data-ttu-id="fd262-126">Como alternativa, si el proveedor de credenciales de contraseña del sistema está disponible, el usuario puede solicitar o restablecer la contraseña de forma remota y usarla para iniciar sesión en la máquina.</span><span class="sxs-lookup"><span data-stu-id="fd262-126">Alternatively, if the system's password credential provider is available, the user can remotely request/reset the password and use that to log into the machine.</span></span> <span data-ttu-id="fd262-127">Si ninguna de las opciones está disponible, el usuario no tiene ninguna manera de recuperar la cuenta en el equipo.</span><span class="sxs-lookup"><span data-stu-id="fd262-127">If neither option is available, the user has no way to recover the account on the machine.</span></span>

### <a name="conclusion"></a><span data-ttu-id="fd262-128">Conclusión</span><span class="sxs-lookup"><span data-stu-id="fd262-128">Conclusion</span></span>

<span data-ttu-id="fd262-129">En Resumen, queremos deshabilitar la deshabilitación de todos los proveedores de credenciales del sistema en un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fd262-129">In summary, we want to discourage the disabling of all system credential providers on a device.</span></span> <span data-ttu-id="fd262-130">Aunque los proveedores de credenciales de terceros pueden cumplir requisitos de autenticación adicionales para grupos concretos de usuarios, es muy importante asegurarse de que el usuario siempre puede recuperar el acceso a su equipo cuando se produce un cambio importante.</span><span class="sxs-lookup"><span data-stu-id="fd262-130">While third-party credential providers may fulfill additional authentication requirements for particular groups of users, it is very important to ensure that the user can always regain access to their machine when a breaking change occurs.</span></span> <span data-ttu-id="fd262-131">Los proveedores de credenciales del sistema proporcionan esta garantía.</span><span class="sxs-lookup"><span data-stu-id="fd262-131">System credential providers provide this guarantee.</span></span>

## <a name="custom-credential-providers"></a><span data-ttu-id="fd262-132">Proveedores de credenciales personalizadas</span><span class="sxs-lookup"><span data-stu-id="fd262-132">Custom credential providers</span></span>

<span data-ttu-id="fd262-133">El marco de trabajo del proveedor de credenciales de Windows permite a los desarrolladores crear proveedores de credenciales personalizados.</span><span class="sxs-lookup"><span data-stu-id="fd262-133">The Windows credential provider framework enables developers to create custom credential providers.</span></span> <span data-ttu-id="fd262-134">Cuando [Winlogon](winlogon.md) desea recopilar credenciales, la interfaz de usuario de inicio de sesión consulta cada proveedor de credenciales para conocer el número de credenciales que desea enumerar.</span><span class="sxs-lookup"><span data-stu-id="fd262-134">When [Winlogon](winlogon.md) wants to collect credentials, the Logon UI queries each credential provider for the number of credentials that it wishes to enumerate.</span></span> <span data-ttu-id="fd262-135">Una vez que todos los proveedores han enumerado sus iconos, la interfaz de usuario de inicio de sesión los muestra al usuario.</span><span class="sxs-lookup"><span data-stu-id="fd262-135">After all providers have enumerated their tiles, the Logon UI displays them to the user.</span></span> <span data-ttu-id="fd262-136">Después, el usuario interactúa con un icono para proporcionar las credenciales necesarias.</span><span class="sxs-lookup"><span data-stu-id="fd262-136">The user then interacts with a tile to supply the necessary credentials.</span></span> <span data-ttu-id="fd262-137">La interfaz de usuario de inicio de sesión envía estas credenciales para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="fd262-137">The Logon UI submits these credentials for authentication.</span></span> <span data-ttu-id="fd262-138">La interfaz de usuario de credenciales también puede usar los proveedores de credenciales cuando se necesitan credenciales.</span><span class="sxs-lookup"><span data-stu-id="fd262-138">Credential providers can also be used by the Credential UI when credentials are necessary.</span></span> <span data-ttu-id="fd262-139">Consulte [**\_ escenario de \_ uso \_ del proveedor de credenciales**](/windows/desktop/api/credentialprovider/ne-credentialprovider-credential_provider_usage_scenario) para obtener una lista de escenarios en los que se puede admitir un proveedor de credenciales.</span><span class="sxs-lookup"><span data-stu-id="fd262-139">See [**CREDENTIAL\_PROVIDER\_USAGE\_SCENARIO**](/windows/desktop/api/credentialprovider/ne-credentialprovider-credential_provider_usage_scenario) for a list of scenarios where a credential provider can be supported.</span></span>

<span data-ttu-id="fd262-140">Gracias a este sistema, es mucho más fácil crear un proveedor de credenciales de lo que históricamente.</span><span class="sxs-lookup"><span data-stu-id="fd262-140">Thanks to this system, it is much easier to create a credential provider than it was historically.</span></span> <span data-ttu-id="fd262-141">Gran parte del trabajo se controla mediante la combinación de [Winlogon](winlogon.md), la interfaz de usuario de inicio de sesión y la interfaz de usuario de credenciales.</span><span class="sxs-lookup"><span data-stu-id="fd262-141">Much of the work is handled by the combination of [Winlogon](winlogon.md), the Logon UI and the Credential UI.</span></span> <span data-ttu-id="fd262-142">Para ello, tendrá que crear su propia implementación de [**ICredentialProvider**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovider) y [**ICredentialProviderCredential**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovidercredential).</span><span class="sxs-lookup"><span data-stu-id="fd262-142">In order to do so, you will need to create your own implementation of [**ICredentialProvider**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovider) and [**ICredentialProviderCredential**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovidercredential).</span></span> <span data-ttu-id="fd262-143">Si está implementando un proveedor de credenciales V2, lo que se recomienda, también tendrá que implementar [**ICredentialProviderCredential2**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovidercredential2).</span><span class="sxs-lookup"><span data-stu-id="fd262-143">If you are implementing a V2 credential provider, which is recommended, you will also need to implement [**ICredentialProviderCredential2**](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovidercredential2).</span></span>

<span data-ttu-id="fd262-144">Es importante tener en cuenta que los proveedores de credenciales no son mecanismos de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="fd262-144">It is important to note that credential providers are not enforcement mechanisms.</span></span> <span data-ttu-id="fd262-145">Simplemente se usan para recopilar y serializar las credenciales, y enviarlas para la autorización.</span><span class="sxs-lookup"><span data-stu-id="fd262-145">They are simply used to gather and serialize credentials, submitting them for authorization.</span></span> <span data-ttu-id="fd262-146">La autoridad local y los paquetes de autenticación controlarán y cualquier aplicación de seguridad necesaria.</span><span class="sxs-lookup"><span data-stu-id="fd262-146">The local authority and authentication packages will handle and any necessary security enforcement.</span></span>

<span data-ttu-id="fd262-147">Al combinar proveedores de credenciales con hardware compatible, puede extender Windows para admitir el inicio de sesión con información biométrica, contraseñas, PIN, certificados de tarjeta inteligente o cualquier paquete de autenticación personalizado que decida crear.</span><span class="sxs-lookup"><span data-stu-id="fd262-147">Combining credential providers with supported hardware, you can extend Windows to support logging on with biometric information, passwords, PINs, Smart Card certificates, or any custom authentication package you choose to create.</span></span> <span data-ttu-id="fd262-148">También puede personalizar la experiencia de inicio de sesión del usuario de diversas maneras.</span><span class="sxs-lookup"><span data-stu-id="fd262-148">You can customize the logon experience for the user in a variety of ways as well.</span></span> <span data-ttu-id="fd262-149">Por ejemplo, cuando la interfaz de usuario de inicio de sesión consulta el proveedor de credenciales para los iconos de credenciales, puede especificar un icono predeterminado para proporcionar una experiencia personalizada a un usuario.</span><span class="sxs-lookup"><span data-stu-id="fd262-149">For example, when the Logon UI queries your credential provider for the credential tiles, you can specify a default tile to provide a customized experience for a user.</span></span> <span data-ttu-id="fd262-150">Los proveedores de credenciales pueden incluso diseñarse para admitir el inicio de sesión único (SSO), autenticar a los usuarios en un punto de acceso seguro, así como iniciar sesión en el equipo.</span><span class="sxs-lookup"><span data-stu-id="fd262-150">Credential providers can even be designed to support single sign on (SSO), authenticating users to a secure access point as well as machine logon.</span></span>

<span data-ttu-id="fd262-151">Los proveedores de credenciales se registran en un equipo Windows y son responsables de lo siguiente.</span><span class="sxs-lookup"><span data-stu-id="fd262-151">Credential providers are registered on a Windows machine and are responsible for the following.</span></span>

-   <span data-ttu-id="fd262-152">Que describe la información de credenciales necesaria para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="fd262-152">Describing the credential information required for authentication.</span></span>
-   <span data-ttu-id="fd262-153">Control de la comunicación y la lógica con cualquier entidad de autenticación externa.</span><span class="sxs-lookup"><span data-stu-id="fd262-153">Handling the communication and logic with any external authentication authorities.</span></span>
-   <span data-ttu-id="fd262-154">Empaquetar las credenciales para el inicio de sesión interactivo y de red.</span><span class="sxs-lookup"><span data-stu-id="fd262-154">Packaging the credentials for interactive and network logon.</span></span>

> [!TIP]
>
> <span data-ttu-id="fd262-155">Tenga en cuenta que se pueden instalar varios proveedores de credenciales en un único equipo.</span><span class="sxs-lookup"><span data-stu-id="fd262-155">Keep in mind that multiple credential providers can be installed on a single machine.</span></span>

## <a name="wrapping-credential-providers"></a><span data-ttu-id="fd262-156">Encapsular proveedores de credenciales</span><span class="sxs-lookup"><span data-stu-id="fd262-156">Wrapping credential providers</span></span>

<span data-ttu-id="fd262-157">Se puede ajustar un proveedor de credenciales del sistema para agregar funcionalidad a ese proveedor de credenciales que no se admite de forma nativa.</span><span class="sxs-lookup"><span data-stu-id="fd262-157">Wrapping a system credential provider can be done to add functionality to that credential provider that is not natively supported.</span></span> <span data-ttu-id="fd262-158">Esto no es recomendable porque puede dar lugar a un comportamiento problemático.</span><span class="sxs-lookup"><span data-stu-id="fd262-158">This is not recommended because it can lead to problematic behavior.</span></span> <span data-ttu-id="fd262-159">Se pueden realizar cambios en el proveedor de credenciales, lo que puede entrar en conflicto con el contenedor, lo que produce una mala experiencia del usuario o incluso impedir que el usuario entre en su dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fd262-159">Changes can be made to the credential provider which may conflict with the wrapper causing a poor user experience or even preventing the user from getting into their device.</span></span> <span data-ttu-id="fd262-160">Esto es especialmente cierto con la cadencia de actualización frecuente de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="fd262-160">This is especially true with the frequent update cadence of Windows 10.</span></span>

<span data-ttu-id="fd262-161">Si se necesita funcionalidad en un proveedor de credenciales que no se incluye de forma nativa, la ruta de acceso recomendada es crear un proveedor de credenciales personalizado.</span><span class="sxs-lookup"><span data-stu-id="fd262-161">If functionality in a credential provider is needed that is not included natively, the recommended path is to create a custom credential provider.</span></span> <span data-ttu-id="fd262-162">Se trata de un enfoque más estable que no tiene dependencias en los proveedores del sistema.</span><span class="sxs-lookup"><span data-stu-id="fd262-162">This is a more stable approach that does not take dependencies on the system providers.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fd262-163">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="fd262-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fd262-164">Experiencia de inicio de sesión Windows controlada por el proveedor de credenciales</span><span class="sxs-lookup"><span data-stu-id="fd262-164">Credential Provider driven Windows Logon Experience</span></span>](https://go.microsoft.com/fwlink/?LinkId=717287)
</dt> <dt>

[<span data-ttu-id="fd262-165">ICredentialProvider</span><span class="sxs-lookup"><span data-stu-id="fd262-165">ICredentialProvider</span></span>](/windows/desktop/api/credentialprovider/nn-credentialprovider-icredentialprovider)
</dt> <dt>

[<span data-ttu-id="fd262-166">\_ \_ serialización de credenciales del proveedor de credenciales \_</span><span class="sxs-lookup"><span data-stu-id="fd262-166">CREDENTIAL\_PROVIDER\_CREDENTIAL\_SERIALIZATION</span></span>](/windows/desktop/api/credentialprovider/ns-credentialprovider-credential_provider_credential_serialization)
</dt> <dt>

[<span data-ttu-id="fd262-167">\_escenario de \_ uso del proveedor de credenciales \_</span><span class="sxs-lookup"><span data-stu-id="fd262-167">CREDENTIAL\_PROVIDER\_USAGE\_SCENARIO</span></span>](/windows/desktop/api/credentialprovider/ne-credentialprovider-credential_provider_usage_scenario)
</dt> </dl>

 

 
