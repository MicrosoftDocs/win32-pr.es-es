---
title: Cuadro de diálogo Imprimir
description: El cuadro de diálogo Imprimir permite al usuario seleccionar opciones para un trabajo de impresión determinado.
ms.assetid: 34f69b25-8a89-4322-af4c-a80b85a4a973
keywords:
- Interfaz de usuario de Windows, entrada de usuario
- Interfaz de usuario de Windows, biblioteca de cuadros de diálogo comunes
- entrada de usuario, biblioteca de cuadros de diálogo comunes
- capturar la entrada del usuario, la biblioteca de cuadros de diálogo comunes
- Biblioteca de cuadros de diálogo comunes
- cuadros de diálogo comunes
- Cuadro de diálogo Imprimir
- Cuadro de diálogo Configurar impresión
- personalizar cuadro de diálogo Imprimir
- cuadros de diálogo predefinidos
- cuadros de diálogo, imprimir
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4fae1dd244391ea16478a0cb4f10803cf622dc64
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104149602"
---
# <a name="print-dialog-box"></a><span data-ttu-id="47252-114">Cuadro de diálogo Imprimir</span><span class="sxs-lookup"><span data-stu-id="47252-114">Print Dialog Box</span></span>

<span data-ttu-id="47252-115">El cuadro de diálogo **Imprimir** permite al usuario seleccionar opciones para un trabajo de impresión determinado.</span><span class="sxs-lookup"><span data-stu-id="47252-115">The **Print** dialog box lets the user select options for a particular print job.</span></span> <span data-ttu-id="47252-116">Por ejemplo, el usuario puede especificar la impresora que se va a usar, el intervalo de páginas que se va a imprimir y el número de copias.</span><span class="sxs-lookup"><span data-stu-id="47252-116">For example, the user can specify the printer to use, the range of pages to print, and the number of copies.</span></span>

<span data-ttu-id="47252-117">Puede usar la función [**PrintDlgEx**](/previous-versions/windows/desktop/legacy/ms646942(v=vs.85)) para mostrar una [hoja de propiedades de impresión](print-property-sheet.md), que tiene una página **General** que contiene controles similares al cuadro de diálogo **Imprimir** .</span><span class="sxs-lookup"><span data-stu-id="47252-117">You can use the [**PrintDlgEx**](/previous-versions/windows/desktop/legacy/ms646942(v=vs.85)) function to display a [Print Property Sheet](print-property-sheet.md), which has a **General** page containing controls similar to the **Print** dialog box.</span></span> <span data-ttu-id="47252-118">La hoja de propiedades también puede tener páginas de propiedades adicionales específicas de la aplicación y específicas del controlador después de la página **General** .</span><span class="sxs-lookup"><span data-stu-id="47252-118">The property sheet can also have additional application-specific and driver-specific property pages following the **General** page.</span></span>

<span data-ttu-id="47252-119">Para crear y mostrar un cuadro de diálogo de **impresión** , inicialice una estructura [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) y pase la estructura a la función [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="47252-119">You create and display a **Print** dialog box by initializing a [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure and passing the structure to the [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) function.</span></span>

<span data-ttu-id="47252-120">En la ilustración siguiente se muestra un cuadro de diálogo de **impresión** típico.</span><span class="sxs-lookup"><span data-stu-id="47252-120">The following illustration shows a typical **Print** dialog box.</span></span>

![cuadro de diálogo Imprimir](images/printdialogboxxp.png)

<span data-ttu-id="47252-122">Si el usuario hace clic en el botón **Aceptar** , [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) devuelve **true** y usa la estructura [**PrintDlg**](/windows/win32/api/commdlg/ns-commdlg-printdlga) para devolver información sobre las selecciones del usuario.</span><span class="sxs-lookup"><span data-stu-id="47252-122">If the user clicks the **OK** button, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns **TRUE** and uses the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure to return information about the user's selections.</span></span> <span data-ttu-id="47252-123">Por ejemplo, los miembros **hDevMode** y **hDevNames** normalmente devuelven los identificadores de memoria globales para las estructuras y [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) .</span><span class="sxs-lookup"><span data-stu-id="47252-123">For example, the **hDevMode** and **hDevNames** members typically return global memory handles for and [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) structures.</span></span> <span data-ttu-id="47252-124">Puede usar la información de estas estructuras para crear un contexto de dispositivo o un contexto de información para la impresora seleccionada.</span><span class="sxs-lookup"><span data-stu-id="47252-124">You can use the information in these structures to create a device context or an information context for the selected printer.</span></span>

<span data-ttu-id="47252-125">Si el usuario cancela el cuadro de diálogo **Imprimir** o se produce un error, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) devuelve **false**.</span><span class="sxs-lookup"><span data-stu-id="47252-125">If the user cancels the **Print** dialog box or an error occurs, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns **FALSE**.</span></span> <span data-ttu-id="47252-126">Puede determinar la causa de un error mediante la función [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) para recuperar el valor de error extendido.</span><span class="sxs-lookup"><span data-stu-id="47252-126">You can determine the cause of an error by using the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="47252-127">El cuadro de diálogo **Imprimir** incluye un grupo de **intervalo de impresión** de botones de radio que indican si el usuario desea imprimir todas las páginas, un intervalo de páginas o solo el texto seleccionado.</span><span class="sxs-lookup"><span data-stu-id="47252-127">The **Print** dialog box includes a **Print Range** group of radio buttons that indicate whether the user wants to print all pages, a range of pages, or only the selected text.</span></span> <span data-ttu-id="47252-128">Antes de llamar a [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)), puede establecer una de las marcas **PD \_ ALLPAGES**, **PD \_ Selection** o **PD \_ PAGENUMS** para indicar qué botón está seleccionado inicialmente.</span><span class="sxs-lookup"><span data-stu-id="47252-128">Before calling [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)), you can set one of the **PD\_ALLPAGES**, **PD\_SELECTION**, or **PD\_PAGENUMS** flags to indicate which button is initially selected.</span></span> <span data-ttu-id="47252-129">Cuando **PrintDlg** devuelve **true**, la función establece una de estas marcas para indicar las selecciones del usuario.</span><span class="sxs-lookup"><span data-stu-id="47252-129">When **PrintDlg** returns **TRUE**, the function sets one of these flags to indicate the user's selections.</span></span> <span data-ttu-id="47252-130">Si se establece **PD \_ PAGENUMS** , los miembros **nFromPage** y **nToPage** de la estructura [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) contienen las páginas de inicio y finalización especificadas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="47252-130">If **PD\_PAGENUMS** is set, the **nFromPage** and **nToPage** members of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure contain the starting and ending pages specified by the user.</span></span> <span data-ttu-id="47252-131">Para deshabilitar el botón **de** radio **páginas** y su asociado de y **a** los controles de edición, establezca la marca **PD \_ NOPAGENUMS** .</span><span class="sxs-lookup"><span data-stu-id="47252-131">To disable the **Pages** radio button and its associated **From** and **To** edit controls, set the **PD\_NOPAGENUMS** flag.</span></span> <span data-ttu-id="47252-132">Para deshabilitar el botón de radio **selección** , establezca la marca **PD \_ noselect** .</span><span class="sxs-lookup"><span data-stu-id="47252-132">To disable the **Selection** radio button, set the **PD\_NOSELECTION** flag.</span></span>

<span data-ttu-id="47252-133">El cuadro de diálogo incluye un control de edición en el que el usuario puede escribir el número de copias que se van a imprimir.</span><span class="sxs-lookup"><span data-stu-id="47252-133">The dialog box includes an edit control in which the user can type the number of copies to print.</span></span> <span data-ttu-id="47252-134">Si el miembro **hDevMode** de la estructura [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) no es **null**, el miembro **dmCopies** de la estructura especifica el valor inicial de este control de edición.</span><span class="sxs-lookup"><span data-stu-id="47252-134">If the **hDevMode** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure is non-**NULL**, the **dmCopies** member of the structure specifies the initial value for this edit control.</span></span> <span data-ttu-id="47252-135">Si **hDevMode** es **null**, el miembro **nCopies** de la estructura **PRINTDLG** especifica el valor inicial.</span><span class="sxs-lookup"><span data-stu-id="47252-135">If **hDevMode** is **NULL**, the **nCopies** member of the **PRINTDLG** structure specifies the initial value.</span></span> <span data-ttu-id="47252-136">Cuando [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) devuelve, **nCopies** normalmente indica el número de copias especificadas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="47252-136">When [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns, **nCopies** typically indicates the number of copies specified by the user.</span></span> <span data-ttu-id="47252-137">Sin embargo, si se establece la marca **PD \_ USEDEVMODECOPIESANDCOLLATE** al crear el cuadro de diálogo, **nCopies** siempre se establece en 1 en la devolución y el miembro **dmCopies** de [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) indica el número de copias que se van a imprimir.</span><span class="sxs-lookup"><span data-stu-id="47252-137">However, if you set the **PD\_USEDEVMODECOPIESANDCOLLATE** flag when you create the dialog box, **nCopies** is always set to 1 on return and the **dmCopies** member of [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) indicates the number of copies to print.</span></span>

<span data-ttu-id="47252-138">La casilla **intercalar** indica si el usuario desea intercalar las páginas si se imprimen varias copias.</span><span class="sxs-lookup"><span data-stu-id="47252-138">The **Collate** check box indicates whether the user wants to collate the pages if multiple copies are being printed.</span></span> <span data-ttu-id="47252-139">La marca de **\_ Intercalación PD** se establece si la casilla **intercalar** está activada.</span><span class="sxs-lookup"><span data-stu-id="47252-139">The **PD\_COLLATE** flag is set if the **Collate** check box is selected.</span></span> <span data-ttu-id="47252-140">Si la aplicación no admite varias copias o intercalación simulada, establezca la marca **PD \_ USEDEVMODECOPIESANDCOLLATE** en el miembro **Flags** de la estructura [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) .</span><span class="sxs-lookup"><span data-stu-id="47252-140">If your application does not support multiple copies or simulated collation, set the **PD\_USEDEVMODECOPIESANDCOLLATE** flag in the **Flags** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure.</span></span> <span data-ttu-id="47252-141">Esto deshabilita la casilla de verificación **intercalar** y el control **de edición número de copias** , a menos que el controlador de impresora admita varias copias e intercalación.</span><span class="sxs-lookup"><span data-stu-id="47252-141">This disables the **Collate** check box and the **Number of Copies** edit control unless the printer driver supports multiple copies and collation.</span></span>

<span data-ttu-id="47252-142">La casilla **imprimir en archivo** indica si el usuario desea enviar la salida a un archivo en lugar de a una impresora.</span><span class="sxs-lookup"><span data-stu-id="47252-142">The **Print To File** check box indicates whether the user wants to send output to a file rather than to a printer.</span></span> <span data-ttu-id="47252-143">Puede establecer la marca **PD \_ PRINTTOFILE** de modo que la casilla esté activada inicialmente.</span><span class="sxs-lookup"><span data-stu-id="47252-143">You can set the **PD\_PRINTTOFILE** flag so the check box is initially selected.</span></span> <span data-ttu-id="47252-144">Para ocultar la casilla, establezca la marca **PD \_ HIDEPRINTTOFILE** .</span><span class="sxs-lookup"><span data-stu-id="47252-144">To hide the check box, set the **PD\_HIDEPRINTTOFILE** flag.</span></span> <span data-ttu-id="47252-145">Para deshabilitarlo, establezca la marca **PD \_ DISABLEPRINTTOFILE** .</span><span class="sxs-lookup"><span data-stu-id="47252-145">To disable it, set the **PD\_DISABLEPRINTTOFILE** flag.</span></span> <span data-ttu-id="47252-146">Si el usuario selecciona la opción **imprimir a un archivo** , [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) establece la marca **PD \_ PRINTTOFILE** y devuelve "File:" en el desplazamiento indicado por el miembro **wOutputOffset** de la estructura [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) .</span><span class="sxs-lookup"><span data-stu-id="47252-146">If the user selects the **Print To File** option, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) sets the **PD\_PRINTTOFILE** flag and returns "FILE:" at the offset indicated by the **wOutputOffset** member of the [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) structure.</span></span> <span data-ttu-id="47252-147">Cuando llame a la función para iniciar la operación de impresión, especifique la cadena "FILE:" en el miembro **lpszOutput** de la estructura.</span><span class="sxs-lookup"><span data-stu-id="47252-147">When you call the function to start the printing operation, specify this "FILE:" string in the **lpszOutput** member of the structure.</span></span> <span data-ttu-id="47252-148">Al especificar esta cadena, el subsistema de impresión consulta al usuario el nombre del archivo de salida.</span><span class="sxs-lookup"><span data-stu-id="47252-148">Specifying this string causes the print subsystem to query the user for the name of the output file.</span></span>

<span data-ttu-id="47252-149">De forma predeterminada, el cuadro de diálogo **Imprimir** muestra información sobre la impresora predeterminada actual.</span><span class="sxs-lookup"><span data-stu-id="47252-149">By default, the **Print** dialog box initially displays information about the current default printer.</span></span> <span data-ttu-id="47252-150">Para mostrar información de otra impresora instalada, inicialice y una estructura [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) y asigne el identificador de memoria global a la estructura a los miembros **hDevMode** y **hDevNames** .</span><span class="sxs-lookup"><span data-stu-id="47252-150">To display information for another installed printer, initialize a and a [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) structure and assign the global memory handle to the structure to the **hDevMode** and **hDevNames** members.</span></span> <span data-ttu-id="47252-151">El nombre del dispositivo que especifique en el miembro **dmDeviceName** de la estructura [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) y en el miembro **wDriverOffset** de la estructura **DEVNAMES** debe identificar un dispositivo de impresora que también aparezca en \[ la \] sección dispositivos del archivo de Win.ini.</span><span class="sxs-lookup"><span data-stu-id="47252-151">The device name you specify in the **dmDeviceName** member of the [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) structure and in the **wDriverOffset** member of the **DEVNAMES** structure must identify a printer device that is also listed in the \[Devices\] section of the Win.ini file.</span></span> <span data-ttu-id="47252-152">Si el dispositivo no aparece en la lista, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) devuelve un error.</span><span class="sxs-lookup"><span data-stu-id="47252-152">If the device is not listed, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns an error.</span></span>

<span data-ttu-id="47252-153">Puede dirigir [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) para crear un contexto de información o contexto de dispositivo para la impresora mediante el establecimiento de la **marca \_ devuelta** de **PD \_ RETURNDC** o PD en el miembro **Flags** de la estructura [**PrintDlg**](/windows/win32/api/commdlg/ns-commdlg-printdlga) .</span><span class="sxs-lookup"><span data-stu-id="47252-153">You can direct [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) to create a device context or information context for the printer by setting the **PD\_RETURNDC** or **PD\_RETURNIC** flag in the **Flags** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure.</span></span> <span data-ttu-id="47252-154">La función devuelve un identificador para el contexto del dispositivo o el contexto de información en el miembro **HDC** .</span><span class="sxs-lookup"><span data-stu-id="47252-154">The function returns a handle to the device context or information context in the **hDC** member.</span></span> <span data-ttu-id="47252-155">Si usa la marca **PD \_ RETURNDC** , puede utilizar el contexto de dispositivo para generar la salida de la impresora.</span><span class="sxs-lookup"><span data-stu-id="47252-155">If you use the **PD\_RETURNDC** flag, you can use the device context to generate output for the printer.</span></span>

<span data-ttu-id="47252-156">Para recuperar información acerca de la impresora predeterminada sin mostrar el cuadro de diálogo **Imprimir** , establezca la marca **PD \_ RETURNDEFAULT** .</span><span class="sxs-lookup"><span data-stu-id="47252-156">To retrieve information about the default printer without displaying the **Print** dialog box, set the **PD\_RETURNDEFAULT** flag.</span></span> <span data-ttu-id="47252-157">En este caso, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) devuelve inmediatamente después de establecer los miembros **hDevMode** y **hDevNames** en los identificadores de las estructuras que contienen la información.</span><span class="sxs-lookup"><span data-stu-id="47252-157">In this case, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns immediately after setting the **hDevMode** and **hDevNames** members to handles for structures containing the information.</span></span>

<span data-ttu-id="47252-158">De forma predeterminada, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) muestra cuadros de mensaje cuando se producen errores.</span><span class="sxs-lookup"><span data-stu-id="47252-158">By default, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) displays message boxes when errors occur.</span></span> <span data-ttu-id="47252-159">Por ejemplo, la función muestra un mensaje de error si no hay ninguna impresora instalada.</span><span class="sxs-lookup"><span data-stu-id="47252-159">For example, the function displays an error message if no printers are installed.</span></span> <span data-ttu-id="47252-160">Para evitar que la función muestre estos mensajes de advertencia, establezca la marca **PD \_ nowarning** .</span><span class="sxs-lookup"><span data-stu-id="47252-160">To prevent the function from displaying these warning messages, set the **PD\_NOWARNING** flag.</span></span>

<span data-ttu-id="47252-161">Los temas siguientes se describen en esta sección.</span><span class="sxs-lookup"><span data-stu-id="47252-161">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="47252-162">Personalización del cuadro de diálogo Imprimir</span><span class="sxs-lookup"><span data-stu-id="47252-162">Customizing the Print Dialog Box</span></span>](#customizing-the-print-dialog-box)
-   [<span data-ttu-id="47252-163">Cuadro de diálogo Configurar impresión</span><span class="sxs-lookup"><span data-stu-id="47252-163">Print Setup Dialog Box</span></span>](#print-setup-dialog-box)

## <a name="customizing-the-print-dialog-box"></a><span data-ttu-id="47252-164">Personalización del cuadro de diálogo Imprimir</span><span class="sxs-lookup"><span data-stu-id="47252-164">Customizing the Print Dialog Box</span></span>

<span data-ttu-id="47252-165">Puede proporcionar una plantilla personalizada para el cuadro de diálogo **Imprimir** , por ejemplo, si desea incluir controles adicionales que sean únicos para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="47252-165">You can provide a custom template for the **Print** dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="47252-166">La función [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) usa la plantilla personalizada en lugar de la plantilla predeterminada.</span><span class="sxs-lookup"><span data-stu-id="47252-166">The [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) function uses your custom template in place of the default template.</span></span>

<span data-ttu-id="47252-167">Para proporcionar una plantilla personalizada para el cuadro de diálogo **Imprimir** :</span><span class="sxs-lookup"><span data-stu-id="47252-167">To provide a custom template for the **Print** dialog box:</span></span>

1.  <span data-ttu-id="47252-168">Cree la plantilla personalizada modificando la plantilla predeterminada especificada en el archivo prnsetup. Dlg.</span><span class="sxs-lookup"><span data-stu-id="47252-168">Create the custom template by modifying the default template specified in the Prnsetup.dlg file.</span></span> <span data-ttu-id="47252-169">Los identificadores de control que se usan en la plantilla de cuadro de diálogo de **impresión** predeterminada se definen en el archivo Dlgs. h.</span><span class="sxs-lookup"><span data-stu-id="47252-169">The control identifiers used in the default **Print** dialog template are defined in the Dlgs.h file.</span></span>
2.  <span data-ttu-id="47252-170">Use la estructura [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) para habilitar la plantilla de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="47252-170">Use the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="47252-171">Si la plantilla personalizada es un recurso de una biblioteca de vínculos dinámicos o de aplicación, establezca la marca **PD \_ ENABLEPRINTTEMPLATE** en el miembro **Flags** .</span><span class="sxs-lookup"><span data-stu-id="47252-171">If your custom template is a resource in an application or dynamic-link library, set the **PD\_ENABLEPRINTTEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="47252-172">Use los miembros **hInstance** y **lpPrintTemplateName** de la estructura para identificar el nombre del módulo y del recurso.</span><span class="sxs-lookup"><span data-stu-id="47252-172">Use the **hInstance** and **lpPrintTemplateName** members of the structure to identify the module and resource name.</span></span>

        <span data-ttu-id="47252-173">-O bien-</span><span class="sxs-lookup"><span data-stu-id="47252-173">-Or-</span></span>

    -   <span data-ttu-id="47252-174">Si la plantilla personalizada ya está en la memoria, establezca la marca **PD \_ ENABLEPRINTTEMPLATEHANDLE** .</span><span class="sxs-lookup"><span data-stu-id="47252-174">If your custom template is already in memory, set the **PD\_ENABLEPRINTTEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="47252-175">Use el miembro **hPrintTemplate** para identificar el objeto de memoria que contiene la plantilla.</span><span class="sxs-lookup"><span data-stu-id="47252-175">Use the **hPrintTemplate** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="47252-176">Puede proporcionar un procedimiento de enlace [**PrintHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpprinthookproc) para el cuadro de diálogo **Imprimir** .</span><span class="sxs-lookup"><span data-stu-id="47252-176">You can provide a [**PrintHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpprinthookproc) hook procedure for the **Print** dialog box.</span></span> <span data-ttu-id="47252-177">El procedimiento de enlace puede procesar los mensajes enviados al cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="47252-177">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="47252-178">También puede enviar mensajes al cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="47252-178">It can also send messages to the dialog box.</span></span> <span data-ttu-id="47252-179">Si usa una plantilla personalizada para definir controles adicionales, debe proporcionar un procedimiento de enlace para procesar la entrada para los controles.</span><span class="sxs-lookup"><span data-stu-id="47252-179">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

<span data-ttu-id="47252-180">Para habilitar un procedimiento de enlace para el cuadro de diálogo **Imprimir** :</span><span class="sxs-lookup"><span data-stu-id="47252-180">To enable a hook procedure for the **Print** dialog box:</span></span>

1.  <span data-ttu-id="47252-181">Establezca la marca **PD \_ ENABLEPRINTHOOK** en el miembro **Flags** de la estructura [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) .</span><span class="sxs-lookup"><span data-stu-id="47252-181">Set the **PD\_ENABLEPRINTHOOK** flag in the **Flags** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure.</span></span>
2.  <span data-ttu-id="47252-182">Especifique la dirección del procedimiento de enlace en el miembro **lpfnPrintHook** .</span><span class="sxs-lookup"><span data-stu-id="47252-182">Specify the address of the hook procedure in the **lpfnPrintHook** member.</span></span>

<span data-ttu-id="47252-183">Después de procesar el mensaje de [**\_ INITDIALOG de WM**](wm-initdialog.md) , el procedimiento de cuadro de diálogo envía un mensaje de **WM \_ INITDIALOG** al procedimiento de enlace.</span><span class="sxs-lookup"><span data-stu-id="47252-183">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="47252-184">El parámetro *lParam* de este mensaje es un puntero a la estructura [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) que se usa para inicializar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="47252-184">The *lParam* parameter of this message is a pointer to the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure used to initialize the dialog box.</span></span>

## <a name="print-setup-dialog-box"></a><span data-ttu-id="47252-185">Cuadro de diálogo Configurar impresión</span><span class="sxs-lookup"><span data-stu-id="47252-185">Print Setup Dialog Box</span></span>

<span data-ttu-id="47252-186">Puede crear y mostrar un cuadro de diálogo de **configuración de impresión** estableciendo la marca **PD \_ PRINTSETUP** en una llamada a la función [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="47252-186">You can create and display a **Print Setup** dialog box by setting the **PD\_PRINTSETUP** flag in a call to the [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) function.</span></span> <span data-ttu-id="47252-187">Sin embargo, el cuadro de diálogo Configuración de **impresión** ha sido sustituido por el cuadro de diálogo **Configurar página** y no debe usarse en aplicaciones nuevas.</span><span class="sxs-lookup"><span data-stu-id="47252-187">However, the **Print Setup** dialog box has been superseded by the **Page Setup** dialog box and should not be used in new applications.</span></span>

<span data-ttu-id="47252-188">Las marcas siguientes solo se aplican al cuadro de diálogo **Configurar impresión** :</span><span class="sxs-lookup"><span data-stu-id="47252-188">The following flags apply only to the **Print Setup** dialog box:</span></span>

-   <span data-ttu-id="47252-189">**PD \_ ENABLESETUPHOOK**</span><span class="sxs-lookup"><span data-stu-id="47252-189">**PD\_ENABLESETUPHOOK**</span></span>
-   <span data-ttu-id="47252-190">**PD \_ ENABLESETUPTEMPLATE**</span><span class="sxs-lookup"><span data-stu-id="47252-190">**PD\_ENABLESETUPTEMPLATE**</span></span>
-   <span data-ttu-id="47252-191">**PD \_ ENABLESETUPTEMPLATEHANDLE**</span><span class="sxs-lookup"><span data-stu-id="47252-191">**PD\_ENABLESETUPTEMPLATEHANDLE**</span></span>

 

 