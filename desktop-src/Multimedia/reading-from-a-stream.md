---
title: Leer de una secuencia
description: Leer de una secuencia
ms.assetid: be961f06-cf5f-4093-9b31-7d1d69e62fec
keywords:
- AVIStreamInfo función)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3cc7ecd606a33503557e7c7209bff68015756523
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "103995252"
---
# <a name="reading-from-a-stream"></a><span data-ttu-id="c4dc5-104">Leer de una secuencia</span><span class="sxs-lookup"><span data-stu-id="c4dc5-104">Reading from a Stream</span></span>

<span data-ttu-id="c4dc5-105">Puede recuperar información sobre un flujo abierto mediante la función [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-105">You can retrieve information about an open stream by using the [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) function.</span></span> <span data-ttu-id="c4dc5-106">Esta función rellena la estructura [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) con información como el tipo de datos de la secuencia, el método de compresión que se usa al escribir datos de flujo, el tamaño de búfer sugerido, la velocidad de reproducción y una descripción de texto de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-106">This function fills the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure with information such as the type of data in the stream, the compression method used when writing stream data, the suggested buffer size, the playback rate, and a text description of the stream.</span></span>

<span data-ttu-id="c4dc5-107">Algunos miembros de la estructura [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) también están presentes en la estructura [**AVIFILEINFO**](/windows/desktop/api/Vfw/ns-vfw-avifileinfoa) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-107">Some members of the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure are also present in the [**AVIFILEINFO**](/windows/desktop/api/Vfw/ns-vfw-avifileinfoa) structure.</span></span> <span data-ttu-id="c4dc5-108">La información de la estructura **AVIFILEINFO** se aplica a todo el archivo.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-108">The information in the **AVIFILEINFO** structure applies to the entire file.</span></span> <span data-ttu-id="c4dc5-109">La información de la estructura **AVISTREAMINFO** es específica de la secuencia a la que se accede y tiene prioridad sobre la información de la estructura **AVIFILEINFO** .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-109">The information in the **AVISTREAMINFO** structure is specific to the accessed stream and has precedence over the information in the **AVIFILEINFO** structure.</span></span>

<span data-ttu-id="c4dc5-110">Si una secuencia tiene asociada información complementaria, puede recuperar esta información mediante la función [**AVIStreamReadData**](/windows/desktop/api/Vfw/nf-vfw-avistreamreaddata) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-110">If a stream has supplementary information associated with it, you can retrieve this information by using the [**AVIStreamReadData**](/windows/desktop/api/Vfw/nf-vfw-avistreamreaddata) function.</span></span> <span data-ttu-id="c4dc5-111">Esta función devuelve la información en un búfer proporcionado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-111">This function returns the information in an application-supplied buffer.</span></span> <span data-ttu-id="c4dc5-112">La información de la secuencia complementaria podría incluir la configuración de los métodos de compresión y descompresión usados en una secuencia.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-112">Supplementary stream information might include configuration settings for the compression and decompression methods used on a stream.</span></span> <span data-ttu-id="c4dc5-113">Puede obtener el tamaño de búfer necesario mediante la macro [**AVIStreamDataSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamdatasize) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-113">You can obtain the required buffer size by using the [**AVIStreamDataSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamdatasize) macro.</span></span>

<span data-ttu-id="c4dc5-114">Puede recuperar información de formato sobre una secuencia mediante la función [**AVIStreamReadFormat**](/windows/desktop/api/Vfw/nf-vfw-avistreamreadformat) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-114">You can retrieve formatting information about a stream by using the [**AVIStreamReadFormat**](/windows/desktop/api/Vfw/nf-vfw-avistreamreadformat) function.</span></span> <span data-ttu-id="c4dc5-115">Esta función devuelve una estructura específica de la secuencia en un búfer proporcionado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-115">This function returns a stream-specific structure in an application-supplied buffer.</span></span> <span data-ttu-id="c4dc5-116">En el caso de una secuencia de vídeo, el búfer contiene información de formato en una estructura [**bitmapinfo (**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-116">For a video stream, the buffer contains formatting information in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure.</span></span> <span data-ttu-id="c4dc5-117">En el caso de una secuencia de audio, el búfer contiene información de formato en una estructura [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) o [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-117">For an audio stream, the buffer contains formatting information in a [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) or [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) structure.</span></span> <span data-ttu-id="c4dc5-118">Para otros tipos de secuencias, el controlador de flujo devuelve información específica de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-118">For other stream types, the stream handler returns information specific to the stream.</span></span> <span data-ttu-id="c4dc5-119">Puede determinar el tamaño de búfer necesario usando **AVIStreamReadFormat** y especificando una dirección de búfer **null** o mediante la macro [**AVIStreamFormatSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamformatsize) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-119">You can determine the required buffer size by using **AVIStreamReadFormat** and specifying a **NULL** buffer address or by using the [**AVIStreamFormatSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamformatsize) macro.</span></span>

<span data-ttu-id="c4dc5-120">Puede recuperar el contenido multimedia de una secuencia mediante la función [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-120">You can retrieve the multimedia content in a stream by using the [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function.</span></span> <span data-ttu-id="c4dc5-121">Esta función copia los datos sin procesar de la secuencia en un búfer proporcionado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-121">This function copies raw data from the stream into an application-supplied buffer.</span></span> <span data-ttu-id="c4dc5-122">En el caso de las secuencias de vídeo, esta función recupera las imágenes de mapa Dete que componen el contenido del marco.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-122">For video streams, this function retrieves the bitmapped images that make up the frame content.</span></span> <span data-ttu-id="c4dc5-123">En el caso de las secuencias de audio, esta función recupera muestras de audio de forma de onda que componen el contenido del sonido.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-123">For audio streams, this function retrieves waveform-audio samples that make up the sound content.</span></span> <span data-ttu-id="c4dc5-124">Puede determinar el tamaño de búfer necesario usando **AVIStreamRead** y especificando una dirección de búfer **null** o mediante la macro [**AVIStreamSampleSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamsamplesize) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-124">You can determine the required buffer size by using **AVIStreamRead** and specifying a **NULL** buffer address or by using the [**AVIStreamSampleSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamsamplesize) macro.</span></span>

<span data-ttu-id="c4dc5-125">Algunos controladores de secuencias AVI presentan retrasos asociados con la inicialización o la inicialización de software y hardware.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-125">Some AVI stream handlers introduce delays associated with software and hardware initialization or coordination.</span></span> <span data-ttu-id="c4dc5-126">Puede informar a estos controladores para prepararse para el streaming de datos mediante la función [**AVIStreamBeginStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreambeginstreaming) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-126">You can inform these handlers to prepare for data streaming by using the [**AVIStreamBeginStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreambeginstreaming) function.</span></span> <span data-ttu-id="c4dc5-127">Esta función permite al controlador de flujo asignar e inicializar los recursos que necesita.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-127">This function lets the stream handler allocate and initialize the resources it needs.</span></span> <span data-ttu-id="c4dc5-128">Para informar a estos controladores cuando ha finalizado el streaming, utilice la función [**AVIStreamEndStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreamendstreaming) .</span><span class="sxs-lookup"><span data-stu-id="c4dc5-128">To inform these handlers when streaming has ended, use the [**AVIStreamEndStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreamendstreaming) function.</span></span> <span data-ttu-id="c4dc5-129">Esta función permite al controlador de secuencias desasignar los recursos asignados para **AVIStreamBeginStreaming**.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-129">This function lets the stream handler deallocate the resources it allocated for **AVIStreamBeginStreaming**.</span></span>

<span data-ttu-id="c4dc5-130">La función [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) no proporciona servicios de descompresión.</span><span class="sxs-lookup"><span data-stu-id="c4dc5-130">The [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function does not provide decompression services.</span></span> <span data-ttu-id="c4dc5-131">Para obtener información sobre cómo comprimir y descomprimir secuencias de audio, consulte [Administrador de compresión de audio](audio-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="c4dc5-131">For information about compressing and decompressing audio streams, see [Audio Compression Manager](audio-compression-manager.md).</span></span> <span data-ttu-id="c4dc5-132">Para obtener información sobre cómo comprimir y descomprimir secuencias de vídeo, consulte [Administrador de compresión de vídeo](video-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="c4dc5-132">For information about compressing and decompressing video streams, see [Video Compression Manager](video-compression-manager.md).</span></span> <span data-ttu-id="c4dc5-133">Para obtener información sobre cómo comprimir y descomprimir fotogramas individuales en una secuencia de vídeo, consulte [trabajar con datos de vídeo comprimidos en un flujo](working-with-compressed-video-data-in-a-stream.md).</span><span class="sxs-lookup"><span data-stu-id="c4dc5-133">For information about compressing and decompressing individual frames in a video stream, see [Working with Compressed Video Data in a Stream](working-with-compressed-video-data-in-a-stream.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="c4dc5-134">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c4dc5-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c4dc5-135">Operaciones con secuencias</span><span class="sxs-lookup"><span data-stu-id="c4dc5-135">Stream Operations</span></span>](stream-operations.md)
</dt> </dl>

 

 