---
title: Colocar en secuencias
description: Colocar en secuencias
ms.assetid: 97ab491d-1a58-4b4b-a13a-215be24dac1c
keywords:
- AVIStreamStart función)
- AVIStreamFindSample función)
- AVIStreamSampleToTime función)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5252aa938d32c323da9fcf7ae106d11db0ff2fb4
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "103775402"
---
# <a name="positioning-in-streams"></a><span data-ttu-id="b8b6c-106">Colocar en secuencias</span><span class="sxs-lookup"><span data-stu-id="b8b6c-106">Positioning in Streams</span></span>

<span data-ttu-id="b8b6c-107">AVIFile proporciona varias maneras de buscar y mover a una posición en un flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-107">AVIFile provides several ways to locate and move to a position in a data stream.</span></span> <span data-ttu-id="b8b6c-108">Las funciones y macros de esta sección permiten que la aplicación busque la posición inicial, la longitud y los fotogramas clave (que contienen una imagen completa en el ejemplo) dentro de un flujo.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-108">The functions and macros in this section let your application find the starting position, length, and key frames (containing a complete image in the sample) within a stream.</span></span> <span data-ttu-id="b8b6c-109">Las funciones y macros también asocian el tiempo a las posiciones de una secuencia calculando el tiempo transcurrido necesario para reproducir un flujo desde el principio hasta cualquier punto de una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-109">The functions and macros also associate time with positions in a stream by calculating the elapsed time needed to play a stream from its beginning to any point in a stream.</span></span>

## <a name="finding-the-starting-position"></a><span data-ttu-id="b8b6c-110">Buscar la posición inicial</span><span class="sxs-lookup"><span data-stu-id="b8b6c-110">Finding the Starting Position</span></span>

<span data-ttu-id="b8b6c-111">Puede recuperar el número de muestra del primer fotograma en una secuencia de vídeo mediante la función [**AVIStreamStart**](/windows/desktop/api/Vfw/nf-vfw-avistreamstart) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-111">You can retrieve the sample number of the first frame in a video stream by using the [**AVIStreamStart**](/windows/desktop/api/Vfw/nf-vfw-avistreamstart) function.</span></span> <span data-ttu-id="b8b6c-112">(Los fotogramas de una película pueden comenzar en el ejemplo 0 o 1, dependiendo de la preferencia del autor). También puede obtener esta información mediante la función [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-112">(The frames of a movie might start at sample 0 or 1, depending on the preference of the author.) You can also obtain this information by using the [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) function.</span></span> <span data-ttu-id="b8b6c-113">Esta función almacena el número de muestra en el miembro **dwStart** de la estructura [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-113">This function stores the sample number in the **dwStart** member of the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure.</span></span> <span data-ttu-id="b8b6c-114">Puede recuperar la hora de inicio del primer ejemplo de una secuencia mediante la macro [**AVIStreamStartTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamstarttime) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-114">You can retrieve the starting time of a stream's first sample by using the [**AVIStreamStartTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamstarttime) macro.</span></span>

<span data-ttu-id="b8b6c-115">Puede recuperar la longitud de la secuencia mediante la función [**AVIStreamLength**](/windows/desktop/api/Vfw/nf-vfw-avistreamlength) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-115">You can retrieve the stream length by using the [**AVIStreamLength**](/windows/desktop/api/Vfw/nf-vfw-avistreamlength) function.</span></span> <span data-ttu-id="b8b6c-116">Esta función devuelve el número de muestras de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-116">This function returns the number of samples in the stream.</span></span> <span data-ttu-id="b8b6c-117">También puede obtener esta información mediante la función **AVIStreamInfo** .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-117">You can also obtain this information by using the **AVIStreamInfo** function.</span></span> <span data-ttu-id="b8b6c-118">Esta función almacena la longitud del flujo en el miembro **dwLength** de la estructura **AVISTREAMINFO** .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-118">This function stores the stream length in the **dwLength** member of the **AVISTREAMINFO** structure.</span></span> <span data-ttu-id="b8b6c-119">Para recuperar la longitud de una secuencia en milisegundos, utilice la macro [**AVIStreamLengthTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamlengthtime) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-119">To retrieve the length of a stream in milliseconds, use the [**AVIStreamLengthTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamlengthtime) macro.</span></span>

<span data-ttu-id="b8b6c-120">En una secuencia de vídeo, cada ejemplo suele corresponder a un fotograma de vídeo.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-120">In a video stream, each sample generally corresponds to a frame of video.</span></span> <span data-ttu-id="b8b6c-121">Sin embargo, podría haber ejemplos para los que no hay datos de vídeo.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-121">There might, however, be samples for which no video data is present.</span></span> <span data-ttu-id="b8b6c-122">Si llama a la función [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) que especifica una de esas posiciones, devuelve una longitud de datos de 0 bytes.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-122">If you call the [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function specifying one of those positions, it returns a data length of 0 bytes.</span></span> <span data-ttu-id="b8b6c-123">Puede encontrar ejemplos que contengan datos mediante la función [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) y especificando la \_ marca buscar cualquier.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-123">You can find samples that contain data by using the [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) function and specifying the FIND\_ANY flag.</span></span>

<span data-ttu-id="b8b6c-124">En una secuencia de audio, cada ejemplo corresponde a un bloque de datos de datos de audio.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-124">In an audio stream, each sample corresponds to one data block of audio data.</span></span> <span data-ttu-id="b8b6c-125">Por ejemplo, si los datos de audio tienen un formato ADPCM de 22 kHz (modulación de código de impulso diferencial adaptable), cada ejemplo de **AVIStreamLength** se corresponde con un bloque de 256 bytes de datos de audio comprimidos.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-125">For example, if the audio data has a 22 kHz ADPCM (Adaptive Differential Pulse Code Modulation) format, each sample for **AVIStreamLength** corresponds to a block of 256 bytes of compressed audio data.</span></span> <span data-ttu-id="b8b6c-126">Este bloque de datos de audio contiene aproximadamente 500 muestras de audio cuando están sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-126">This block of audio data contains approximately 500 audio samples when uncompressed.</span></span> <span data-ttu-id="b8b6c-127">Sin embargo, las funciones y macros de AVIFile tratan cada bloque de 256 bytes como un único ejemplo.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-127">The functions and macros of AVIFile, however, treat each 256-byte block as a single sample.</span></span>

> [!Note]  
> <span data-ttu-id="b8b6c-128">Posiciones válidas dentro de un intervalo de flujo desde el principio hasta el final de la secuencia, que es la suma del punto inicial de la secuencia y su longitud.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-128">Valid positions within a stream range from the beginning to the end of the stream, which is the sum of the stream starting point and its length.</span></span> <span data-ttu-id="b8b6c-129">La posición representada por la suma de la posición inicial y la longitud corresponde a una hora después de que se hayan representado los últimos datos; no contiene ningún dato.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-129">The position represented by the sum of the starting position and the length corresponds to a time after the last data has been rendered; it does not contain any data.</span></span> <span data-ttu-id="b8b6c-130">Puede recuperar el número de muestra que representa el final de la secuencia con la macro [**AVIStreamEnd**](/windows/desktop/api/Vfw/nf-vfw-avistreamend) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-130">You can retrieve the sample number that represents the end of the stream by using the [**AVIStreamEnd**](/windows/desktop/api/Vfw/nf-vfw-avistreamend) macro.</span></span> <span data-ttu-id="b8b6c-131">Puede recuperar el valor de tiempo en milisegundos que representa el final de la secuencia mediante la macro [**AVIStreamEndTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamendtime) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-131">You can retrieve the time value in milliseconds that represents the end of the stream by using the [**AVIStreamEndTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamendtime) macro.</span></span>

 

## <a name="finding-sample-and-key-frames"></a><span data-ttu-id="b8b6c-132">Buscar fotogramas de ejemplo y clave</span><span class="sxs-lookup"><span data-stu-id="b8b6c-132">Finding Sample and Key Frames</span></span>

<span data-ttu-id="b8b6c-133">Puede buscar distintos tipos de ejemplos en una secuencia mediante la función [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-133">You can search for different types of samples in a stream by using the [**AVIStreamFindSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamfindsample) function.</span></span> <span data-ttu-id="b8b6c-134">Esta función busca hacia atrás o hacia delante a través de una secuencia para obtener un ejemplo del tipo adecuado, empezando por el número de muestra que especifique.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-134">This function searches backward or forward through a stream for a sample of the appropriate type, beginning with the sample number you specify.</span></span> <span data-ttu-id="b8b6c-135">Puede buscar distintos tipos de ejemplos en una secuencia especificando una marca en la secuencia de llamada de **AVIStreamFindSample** .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-135">You can search for different types of samples in a stream by specifying a flag in the **AVIStreamFindSample** calling sequence.</span></span> <span data-ttu-id="b8b6c-136">Especifique la \_ marca buscar cualquier para buscar ejemplos no vacíos o para omitir ejemplos que carecen de datos.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-136">Specify the FIND\_ANY flag to locate nonempty samples or to skip samples that lack data.</span></span> <span data-ttu-id="b8b6c-137">Especifique la \_ marca buscar clave para buscar fotogramas clave que contengan los datos para representar una imagen completa sin necesidad de hacer referencia a fotogramas anteriores.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-137">Specify the FIND\_KEY flag to search for key frames that contain the data to render a complete image without needing to reference previous frames.</span></span> <span data-ttu-id="b8b6c-138">Especifique la \_ marca buscar formato para buscar cambios en el formato.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-138">Specify the FIND\_FORMAT flag to search for changes to the format.</span></span> <span data-ttu-id="b8b6c-139">**AVIStreamFindSample** se usa principalmente con secuencias de vídeo.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-139">**AVIStreamFindSample** is used mainly with video streams.</span></span>

<span data-ttu-id="b8b6c-140">Varias macros que usan funciones AVIFile complementan las características de búsqueda de secuencias.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-140">Several macros that use AVIFile functions supplement the stream search features.</span></span> <span data-ttu-id="b8b6c-141">En la lista siguiente se proporciona una breve descripción de cada una de las macros.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-141">The following list provides a brief description of each macro.</span></span> <span data-ttu-id="b8b6c-142">Las macros que buscan una posición o un tipo de datos específico requieren que se especifique una ubicación de inicio en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-142">The macros that search for a specific position or type of data require a starting location to be specified in the stream.</span></span>



| <span data-ttu-id="b8b6c-143">Macro</span><span class="sxs-lookup"><span data-stu-id="b8b6c-143">Macro</span></span>                                                                | <span data-ttu-id="b8b6c-144">Descripción</span><span class="sxs-lookup"><span data-stu-id="b8b6c-144">Description</span></span>                                                                                                                 |
|----------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b8b6c-145">**AVIStreamIsKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-145">**AVIStreamIsKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamiskeyframe)                   | <span data-ttu-id="b8b6c-146">Indica si un ejemplo de una secuencia especificada es un fotograma clave.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-146">Indicates whether a sample in a specified stream is a key frame.</span></span>                                                            |
| [<span data-ttu-id="b8b6c-147">**AVIStreamNearestKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-147">**AVIStreamNearestKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestkeyframe)         | <span data-ttu-id="b8b6c-148">Busca el fotograma clave en la posición especificada o delante de ella en una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-148">Locates the key frame at or preceding a specified position in a stream.</span></span>                                                     |
| [<span data-ttu-id="b8b6c-149">**AVIStreamNearestKeyFrameTime**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-149">**AVIStreamNearestKeyFrameTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestkeyframetime) | <span data-ttu-id="b8b6c-150">Determina la hora correspondiente al principio del fotograma clave más cercano (a o anterior) de una hora especificada en un flujo.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-150">Determines the time corresponding to the beginning of the key frame nearest (at or preceding) a specified time in a stream.</span></span> |
| [<span data-ttu-id="b8b6c-151">**AVIStreamNearestSample**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-151">**AVIStreamNearestSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestsample)             | <span data-ttu-id="b8b6c-152">Busca el ejemplo no vacío más próximo en o delante de una posición especificada de una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-152">Locates the nearest nonempty sample at or preceding a specified position in a stream.</span></span>                                       |
| [<span data-ttu-id="b8b6c-153">**AVIStreamNearestSampleTime**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-153">**AVIStreamNearestSampleTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnearestsampletime)     | <span data-ttu-id="b8b6c-154">Determina la hora correspondiente al inicio de una muestra más cercana a un tiempo especificado en una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-154">Determines the time corresponding to the beginning of a sample that is nearest to a specified time in a stream.</span></span>             |
| [<span data-ttu-id="b8b6c-155">**AVIStreamNextKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-155">**AVIStreamNextKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextkeyframe)               | <span data-ttu-id="b8b6c-156">Busca el siguiente fotograma clave después de una posición especificada en una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-156">Locates the next key frame following a specified position in a stream.</span></span>                                                      |
| [<span data-ttu-id="b8b6c-157">**AVIStreamNextKeyFrameTime**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-157">**AVIStreamNextKeyFrameTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextkeyframetime)       | <span data-ttu-id="b8b6c-158">Devuelve la hora del siguiente fotograma clave de una secuencia, comenzando en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-158">Returns the time of the next key frame in a stream, starting at a given time.</span></span>                                               |
| [<span data-ttu-id="b8b6c-159">**AVIStreamNextSample**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-159">**AVIStreamNextSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextsample)                   | <span data-ttu-id="b8b6c-160">Busca el siguiente ejemplo no vacío de una posición especificada de una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-160">Locates the next nonempty sample from a specified position in a stream.</span></span>                                                     |
| [<span data-ttu-id="b8b6c-161">**AVIStreamNextSampleTime**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-161">**AVIStreamNextSampleTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamnextsampletime)           | <span data-ttu-id="b8b6c-162">Devuelve la hora en que un ejemplo cambia al siguiente ejemplo de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-162">Returns the time that a sample changes to the next sample in the stream.</span></span>                                                    |
| [<span data-ttu-id="b8b6c-163">**AVIStreamPrevKeyFrame**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-163">**AVIStreamPrevKeyFrame**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevkeyframe)               | <span data-ttu-id="b8b6c-164">Busca el fotograma clave que precede a una posición especificada en una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-164">Locates the key frame that precedes a specified position in a stream.</span></span>                                                       |
| [<span data-ttu-id="b8b6c-165">**AVIStreamPrevKeyFrameTime**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-165">**AVIStreamPrevKeyFrameTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevkeyframetime)       | <span data-ttu-id="b8b6c-166">Devuelve la hora del fotograma clave anterior en la secuencia, comenzando en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-166">Returns the time of the previous key frame in the stream, starting at a given time.</span></span>                                         |
| [<span data-ttu-id="b8b6c-167">**AVIStreamPrevSample**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-167">**AVIStreamPrevSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevsample)                   | <span data-ttu-id="b8b6c-168">Busca el ejemplo no vacío que precede a una posición especificada en una secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-168">Locates the nonempty sample that precedes a specified position in a stream.</span></span>                                                 |
| [<span data-ttu-id="b8b6c-169">**AVIStreamPrevSampleTime**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-169">**AVIStreamPrevSampleTime**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamprevsampletime)           | <span data-ttu-id="b8b6c-170">Determina la hora a la que el ejemplo anterior reemplaza su predecesor en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-170">Determines the time at which the previous sample replaces its predecessor in the stream.</span></span>                                    |
| [<span data-ttu-id="b8b6c-171">**AVIStreamSampleToSample**</span><span class="sxs-lookup"><span data-stu-id="b8b6c-171">**AVIStreamSampleToSample**</span></span>](/windows/desktop/api/Vfw/nf-vfw-avistreamsampletosample)           | <span data-ttu-id="b8b6c-172">Devuelve el ejemplo de un flujo que se produce al mismo tiempo que un ejemplo que se produce en una segunda secuencia.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-172">Returns the sample in a stream that occurs at the same time as a sample that occurs in a second stream.</span></span>                     |



 

## <a name="switching-between-samples-and-time"></a><span data-ttu-id="b8b6c-173">Cambiar entre muestras y hora</span><span class="sxs-lookup"><span data-stu-id="b8b6c-173">Switching Between Samples and Time</span></span>

<span data-ttu-id="b8b6c-174">Puede determinar el tiempo transcurrido desde el inicio de una secuencia a un ejemplo mediante la función [**AVIStreamSampleToTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamsampletotime) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-174">You can determine the elapsed time from the beginning of a stream to a sample using the [**AVIStreamSampleToTime**](/windows/desktop/api/Vfw/nf-vfw-avistreamsampletotime) function.</span></span> <span data-ttu-id="b8b6c-175">Esta función convierte el número de muestra en un valor de hora expresado en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-175">This function converts the sample number to a time value expressed in milliseconds.</span></span> <span data-ttu-id="b8b6c-176">En el caso de un fotograma de vídeo (que abarca varios milisegundos), este valor representa la hora a la que comienza la reproducción de la muestra desde que comenzó la reproducción y presupone que el clip de vídeo se reproduce a velocidad normal.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-176">For a video frame (which spans several milliseconds), this value represents the time the sample begins to play since playback began and assumes the video clip plays at normal speed.</span></span> <span data-ttu-id="b8b6c-177">Para un ejemplo de audio (que tiene varios ejemplos en milisegundos), el valor de hora corresponde a la hora a la que comienza la reproducción de la muestra y asume que la secuencia de audio se reproduce a velocidad normal.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-177">For an audio sample (which has several samples in a millisecond), the time value corresponds to the time at which the sample begins to play and assumes the audio stream plays at normal speed.</span></span>

<span data-ttu-id="b8b6c-178">Por el contrario, puede encontrar el número de ejemplo asociado a un valor de tiempo mediante la función [**AVIStreamTimeToSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamtimetosample) .</span><span class="sxs-lookup"><span data-stu-id="b8b6c-178">Conversely, you can find the sample number associated with a time value by using the [**AVIStreamTimeToSample**](/windows/desktop/api/Vfw/nf-vfw-avistreamtimetosample) function.</span></span> <span data-ttu-id="b8b6c-179">Esta función convierte el valor de milisegundos en un número de muestra y da por supuesto que el clip de vídeo se reproduce a velocidad normal.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-179">This function converts the millisecond value to a sample number and assumes the video clip plays at normal speed.</span></span>

<span data-ttu-id="b8b6c-180">Dado que **AVIStreamSampleToTime** devuelve la hora a la que comienza a reproducirse un fotograma, la relación entre **AVIStreamSampleToTime** y **AVIStreamTimeToSample** no es realmente inversa.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-180">Because **AVIStreamSampleToTime** returns the time at which a frame begins to play, the relationship between **AVIStreamSampleToTime** and **AVIStreamTimeToSample** is not truly inverse.</span></span> <span data-ttu-id="b8b6c-181">Determinan la posición en un archivo más acurately de lo que determinan la hora.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-181">They determine the position in a file more acurately than they determine time.</span></span> <span data-ttu-id="b8b6c-182">Por ejemplo, dos muestras de audio consecutivas pueden reproducirse en el mismo milisegundo.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-182">For example, two consecutive audio samples might both play in the same millisecond.</span></span> <span data-ttu-id="b8b6c-183">El uso de **AVIStreamSampleToTime** para convertir los números de ejemplo produciría valores de hora idénticos.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-183">Using **AVIStreamSampleToTime** to convert the sample numbers would result in identical time values.</span></span> <span data-ttu-id="b8b6c-184">Si vuelve a convertir el valor de tiempo a un número de ejemplo mediante **AVIStreamTimeToSample**, se hará referencia a una sola muestra.</span><span class="sxs-lookup"><span data-stu-id="b8b6c-184">If you convert the time value back to a sample number by using **AVIStreamTimeToSample**, a single sample would be referenced.</span></span>

 

 




