---
title: Mensajes de ventana (Introducción a Win32 y C++)
description: Mensajes de ventana (Introducción a Win32 y C++)
ms.assetid: 90c20456-44ed-4f0f-a6d3-b6c5660f0bc7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c00da564396e0f95947e33fb7d8db8b217ac5cdf
ms.sourcegitcommit: 95685061d5b0333bbf9e6ebd208dde8190f97005
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/28/2021
ms.locfileid: "108103843"
---
# <a name="window-messages-get-started-with-win32-and-c"></a><span data-ttu-id="d14d2-103">Mensajes de ventana (Introducción a Win32 y C++)</span><span class="sxs-lookup"><span data-stu-id="d14d2-103">Window Messages (Get Started with Win32 and C++)</span></span>

<span data-ttu-id="d14d2-104">Una aplicación guia debe responder a eventos del usuario y del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="d14d2-104">A GUI application must respond to events from the user and from the operating system.</span></span>

- <span data-ttu-id="d14d2-105">**Los eventos del usuario** incluyen todas las formas en que alguien puede interactuar con el programa: clics del mouse, trazos de teclas, gestos de pantalla táctil, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="d14d2-105">**Events from the user** include all the ways that someone can interact with your program: mouse clicks, key strokes, touch-screen gestures, and so on.</span></span>
- <span data-ttu-id="d14d2-106">**Los eventos del sistema operativo incluyen** cualquier cosa "fuera" del programa que pueda afectar a cómo se comporta el programa.</span><span class="sxs-lookup"><span data-stu-id="d14d2-106">**Events from the operating system** include anything "outside" of the program that can affect how the program behaves.</span></span> <span data-ttu-id="d14d2-107">Por ejemplo, el usuario podría conectar un nuevo dispositivo de hardware o Windows podría entrar en un estado de menor potencia (suspensión o hibernación).</span><span class="sxs-lookup"><span data-stu-id="d14d2-107">For example, the user might plug in a new hardware device, or Windows might enter a lower-power state (sleep or hibernate).</span></span>

<span data-ttu-id="d14d2-108">Estos eventos pueden producirse en cualquier momento mientras se ejecuta el programa, en casi cualquier orden.</span><span class="sxs-lookup"><span data-stu-id="d14d2-108">These events can occur at any time while the program is running, in almost any order.</span></span> <span data-ttu-id="d14d2-109">¿Cómo se estructura un programa cuyo flujo de ejecución no se puede predecir de antemano?</span><span class="sxs-lookup"><span data-stu-id="d14d2-109">How do you structure a program whose flow of execution cannot be predicted in advance?</span></span>

<span data-ttu-id="d14d2-110">Para resolver este problema, Windows usa un modelo de paso de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d14d2-110">To solve this problem, Windows uses a message-passing model.</span></span> <span data-ttu-id="d14d2-111">El sistema operativo se comunica con la ventana de la aplicación pasando mensajes a ella.</span><span class="sxs-lookup"><span data-stu-id="d14d2-111">The operating system communicates with your application window by passing messages to it.</span></span> <span data-ttu-id="d14d2-112">Un mensaje es simplemente un código numérico que designa un evento determinado.</span><span class="sxs-lookup"><span data-stu-id="d14d2-112">A message is simply a numeric code that designates a particular event.</span></span> <span data-ttu-id="d14d2-113">Por ejemplo, si el usuario presiona el botón izquierdo del mouse, la ventana recibe un mensaje que tiene el siguiente código de mensaje.</span><span class="sxs-lookup"><span data-stu-id="d14d2-113">For example, if the user presses the left mouse button, the window receives a message that has the following message code.</span></span>

```C++
#define WM_LBUTTONDOWN    0x0201
```

<span data-ttu-id="d14d2-114">Algunos mensajes tienen datos asociados.</span><span class="sxs-lookup"><span data-stu-id="d14d2-114">Some messages have data associated with them.</span></span> <span data-ttu-id="d14d2-115">Por ejemplo, el [**mensaje \_ WM LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) incluye la coordenada x e y del cursor del mouse.</span><span class="sxs-lookup"><span data-stu-id="d14d2-115">For example, the [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) message includes the x-coordinate and y-coordinate of the mouse cursor.</span></span>

<span data-ttu-id="d14d2-116">Para pasar un mensaje a una ventana, el sistema operativo llama al procedimiento de ventana registrado para esa ventana.</span><span class="sxs-lookup"><span data-stu-id="d14d2-116">To pass a message to a window, the operating system calls the window procedure registered for that window.</span></span> <span data-ttu-id="d14d2-117">(Y ahora sabe para qué es el procedimiento de ventana).</span><span class="sxs-lookup"><span data-stu-id="d14d2-117">(And now you know what the window procedure is for.)</span></span>

## <a name="the-message-loop"></a><span data-ttu-id="d14d2-118">El bucle de mensajes</span><span class="sxs-lookup"><span data-stu-id="d14d2-118">The Message Loop</span></span>

<span data-ttu-id="d14d2-119">Una aplicación recibirá miles de mensajes mientras se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="d14d2-119">An application will receive thousands of messages while it runs.</span></span> <span data-ttu-id="d14d2-120">(Tenga en cuenta que cada pulsación de tecla y clic del botón del mouse genera un mensaje). Además, una aplicación puede tener varias ventanas, cada una con su propio procedimiento de ventana.</span><span class="sxs-lookup"><span data-stu-id="d14d2-120">(Consider that every keystroke and mouse-button click generates a message.) Additionally, an application can have several windows, each with its own window procedure.</span></span> <span data-ttu-id="d14d2-121">¿Cómo recibe el programa todos estos mensajes y los entrega al procedimiento de ventana correcto?</span><span class="sxs-lookup"><span data-stu-id="d14d2-121">How does the program receive all these messages and deliver them to the correct window procedure?</span></span> <span data-ttu-id="d14d2-122">La aplicación necesita un bucle para recuperar los mensajes y enviarlos a las ventanas correctas.</span><span class="sxs-lookup"><span data-stu-id="d14d2-122">The application needs a loop to retrieve the messages and dispatch them to the correct windows.</span></span>

<span data-ttu-id="d14d2-123">Para cada subproceso que crea una ventana, el sistema operativo crea una cola para los mensajes de ventana.</span><span class="sxs-lookup"><span data-stu-id="d14d2-123">For each thread that creates a window, the operating system creates a queue for window messages.</span></span> <span data-ttu-id="d14d2-124">Esta cola contiene mensajes para todas las ventanas que se crean en ese subproceso.</span><span class="sxs-lookup"><span data-stu-id="d14d2-124">This queue holds messages for all the windows that are created on that thread.</span></span> <span data-ttu-id="d14d2-125">La propia cola está oculta del programa.</span><span class="sxs-lookup"><span data-stu-id="d14d2-125">The queue itself is hidden from your program.</span></span> <span data-ttu-id="d14d2-126">No se puede manipular la cola directamente.</span><span class="sxs-lookup"><span data-stu-id="d14d2-126">You cannot manipulate the queue directly.</span></span> <span data-ttu-id="d14d2-127">Sin embargo, puede extraer un mensaje de la cola llamando a la [**función GetMessage.**](/windows/desktop/api/winuser/nf-winuser-getmessage)</span><span class="sxs-lookup"><span data-stu-id="d14d2-127">However, you can pull a message from the queue by calling the [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) function.</span></span>

```C++
MSG msg;
GetMessage(&msg, NULL, 0, 0);
```

<span data-ttu-id="d14d2-128">Esta función quita el primer mensaje del principio de la cola.</span><span class="sxs-lookup"><span data-stu-id="d14d2-128">This function removes the first message from the head of the queue.</span></span> <span data-ttu-id="d14d2-129">Si la cola está vacía, la función se bloquea hasta que se pone en cola otro mensaje.</span><span class="sxs-lookup"><span data-stu-id="d14d2-129">If the queue is empty, the function blocks until another message is queued.</span></span> <span data-ttu-id="d14d2-130">El hecho de [**que los bloques GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) no hagan que el programa deje de responder.</span><span class="sxs-lookup"><span data-stu-id="d14d2-130">The fact that [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) blocks will not make your program unresponsive.</span></span> <span data-ttu-id="d14d2-131">Si no hay ningún mensaje, no hay nada que hacer para el programa.</span><span class="sxs-lookup"><span data-stu-id="d14d2-131">If there are no messages, there is nothing for the program to do.</span></span> <span data-ttu-id="d14d2-132">Si tiene que realizar el procesamiento en segundo plano, puede crear subprocesos adicionales que sigan en ejecución mientras **GetMessage** espera otro mensaje.</span><span class="sxs-lookup"><span data-stu-id="d14d2-132">If you have to perform background processing, you can create additional threads that continue to run while **GetMessage** waits for another message.</span></span> <span data-ttu-id="d14d2-133">(Vea [Evitar cuellos de botella en el procedimiento de la ventana).](writing-the-window-procedure.md)</span><span class="sxs-lookup"><span data-stu-id="d14d2-133">(See [Avoiding Bottlenecks in Your Window Procedure](writing-the-window-procedure.md).)</span></span>

<span data-ttu-id="d14d2-134">El primer parámetro de [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) es la dirección de una [**estructura MSG.**](/windows/win32/api/winuser/ns-winuser-msg)</span><span class="sxs-lookup"><span data-stu-id="d14d2-134">The first parameter of [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) is the address of a [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span> <span data-ttu-id="d14d2-135">Si la función se realiza correctamente, rellena la estructura **MSG** con información sobre el mensaje.</span><span class="sxs-lookup"><span data-stu-id="d14d2-135">If the function succeeds, it fills in the **MSG** structure with information about the message.</span></span> <span data-ttu-id="d14d2-136">Esto incluye la ventana de destino y el código del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d14d2-136">This includes the target window and the message code.</span></span> <span data-ttu-id="d14d2-137">Los otros tres parámetros permiten filtrar qué mensajes se obtienen de la cola.</span><span class="sxs-lookup"><span data-stu-id="d14d2-137">The other three parameters let you filter which messages you get from the queue.</span></span> <span data-ttu-id="d14d2-138">En casi todos los casos, establecerá estos parámetros en cero.</span><span class="sxs-lookup"><span data-stu-id="d14d2-138">In almost all cases, you will set these parameters to zero.</span></span>

<span data-ttu-id="d14d2-139">Aunque la [**estructura MSG**](/windows/win32/api/winuser/ns-winuser-msg) contiene información sobre el mensaje, casi nunca examinará esta estructura directamente.</span><span class="sxs-lookup"><span data-stu-id="d14d2-139">Although the [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure contains information about the message, you will almost never examine this structure directly.</span></span> <span data-ttu-id="d14d2-140">En su lugar, la pasará directamente a otras dos funciones.</span><span class="sxs-lookup"><span data-stu-id="d14d2-140">Instead, you will pass it directly to two other functions.</span></span>

```C++
TranslateMessage(&msg); 
DispatchMessage(&msg);
```

<span data-ttu-id="d14d2-141">La [**función TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) está relacionada con la entrada de teclado.</span><span class="sxs-lookup"><span data-stu-id="d14d2-141">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function is related to keyboard input.</span></span> <span data-ttu-id="d14d2-142">Convierte las pulsaciones de tecla (tecla abajo, tecla arriba) en caracteres.</span><span class="sxs-lookup"><span data-stu-id="d14d2-142">It translates keystrokes (key down, key up) into characters.</span></span> <span data-ttu-id="d14d2-143">Realmente no tiene que saber cómo funciona esta función. recuerde llamarlo antes de [**DispatchMessage.**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)</span><span class="sxs-lookup"><span data-stu-id="d14d2-143">You do not really have to know how this function works; just remember to call it before [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage).</span></span> <span data-ttu-id="d14d2-144">El vínculo a la documentación de MSDN le dará más información, si tiene curiosidad.</span><span class="sxs-lookup"><span data-stu-id="d14d2-144">The link to the MSDN documentation will give you more information, if you are curious.</span></span>

<span data-ttu-id="d14d2-145">La [**función DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) indica al sistema operativo que llame al procedimiento de ventana de la ventana que es el destino del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d14d2-145">The [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) function tells the operating system to call the window procedure of the window that is the target of the message.</span></span> <span data-ttu-id="d14d2-146">En otras palabras, el sistema operativo busca el identificador de ventana en su tabla de ventanas, busca el puntero de función asociado a la ventana e invoca la función.</span><span class="sxs-lookup"><span data-stu-id="d14d2-146">In other words, the operating system looks up the window handle in its table of windows, finds the function pointer associated with the window, and invokes the function.</span></span>

<span data-ttu-id="d14d2-147">Por ejemplo, suponga que el usuario presiona el botón izquierdo del mouse.</span><span class="sxs-lookup"><span data-stu-id="d14d2-147">For example, suppose that the user presses the left mouse button.</span></span> <span data-ttu-id="d14d2-148">Esto provoca una cadena de eventos:</span><span class="sxs-lookup"><span data-stu-id="d14d2-148">This causes a chain of events:</span></span>

1. <span data-ttu-id="d14d2-149">El sistema operativo coloca un [**mensaje \_ WM LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) en la cola de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d14d2-149">The operating system puts a [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) message on the message queue.</span></span>
2. <span data-ttu-id="d14d2-150">El programa llama a la [**función GetMessage.**](/windows/desktop/api/winuser/nf-winuser-getmessage)</span><span class="sxs-lookup"><span data-stu-id="d14d2-150">Your program calls the [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) function.</span></span>
3. <span data-ttu-id="d14d2-151">[**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) extrae el mensaje [**\_ WM LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) de la cola y rellena la [**estructura MSG.**](/windows/win32/api/winuser/ns-winuser-msg)</span><span class="sxs-lookup"><span data-stu-id="d14d2-151">[**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) pulls the [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) message from the queue and fills in the [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span>
4. <span data-ttu-id="d14d2-152">El programa llama a [**las funciones TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) [**y DispatchMessage.**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)</span><span class="sxs-lookup"><span data-stu-id="d14d2-152">Your program calls the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) and [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) functions.</span></span>
5. <span data-ttu-id="d14d2-153">Dentro [**de DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage), el sistema operativo llama al procedimiento de ventana.</span><span class="sxs-lookup"><span data-stu-id="d14d2-153">Inside [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage), the operating system calls your window procedure.</span></span>
6. <span data-ttu-id="d14d2-154">El procedimiento de ventana puede responder al mensaje o omitirlo.</span><span class="sxs-lookup"><span data-stu-id="d14d2-154">Your window procedure can either respond to the message or ignore it.</span></span>

<span data-ttu-id="d14d2-155">Cuando se devuelve el procedimiento de ventana, vuelve a [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage).</span><span class="sxs-lookup"><span data-stu-id="d14d2-155">When the window procedure returns, it returns back to [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage).</span></span> <span data-ttu-id="d14d2-156">Esto devuelve al bucle de mensajes para el mensaje siguiente.</span><span class="sxs-lookup"><span data-stu-id="d14d2-156">This returns to the message loop for the next message.</span></span> <span data-ttu-id="d14d2-157">Mientras el programa se esté ejecutando, los mensajes seguirán llegando a la cola.</span><span class="sxs-lookup"><span data-stu-id="d14d2-157">As long as your program is running, messages will continue to arrive on the queue.</span></span> <span data-ttu-id="d14d2-158">Por lo tanto, debe tener un bucle que extraiga continuamente los mensajes de la cola y los envíe.</span><span class="sxs-lookup"><span data-stu-id="d14d2-158">Therefore, you must have a loop that continually pulls messages from the queue and dispatches them.</span></span> <span data-ttu-id="d14d2-159">Puede pensar que el bucle hace lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d14d2-159">You can think of the loop as doing the following:</span></span>

```C++
// WARNING: Don't actually write your loop this way.

while (1)      
{
    GetMessage(&msg, NULL, 0,  0);
    TranslateMessage(&msg); 
    DispatchMessage(&msg);
}
```

<span data-ttu-id="d14d2-160">Como se ha escrito, por supuesto, este bucle nunca terminaría.</span><span class="sxs-lookup"><span data-stu-id="d14d2-160">As written, of course, this loop would never end.</span></span> <span data-ttu-id="d14d2-161">Aquí es donde entra en funcionamiento el valor devuelto para la función [**GetMessage.**](/windows/desktop/api/winuser/nf-winuser-getmessage)</span><span class="sxs-lookup"><span data-stu-id="d14d2-161">That is where the return value for the [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) function comes in.</span></span> <span data-ttu-id="d14d2-162">Normalmente, **GetMessage** devuelve un valor distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="d14d2-162">Normally, **GetMessage** returns a nonzero value.</span></span> <span data-ttu-id="d14d2-163">Si desea salir de la aplicación y salir del bucle de mensajes, llame a la [**función PostQuitMessage.**](/windows/desktop/api/winuser/nf-winuser-postquitmessage)</span><span class="sxs-lookup"><span data-stu-id="d14d2-163">When you want to exit the application and break out of the message loop, call the [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage) function.</span></span>

```C++
        PostQuitMessage(0);
```

<span data-ttu-id="d14d2-164">La [**función PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage) coloca un mensaje [**WM \_ QUIT**](/windows/desktop/winmsg/wm-quit) en la cola de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d14d2-164">The [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage) function puts a [**WM\_QUIT**](/windows/desktop/winmsg/wm-quit) message on the message queue.</span></span> <span data-ttu-id="d14d2-165">**WM \_ QUIT** es un mensaje especial: hace que [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) devuelva cero, lo que indica el final del bucle de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d14d2-165">**WM\_QUIT** is a special message: It causes [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) to return zero, signaling the end of the message loop.</span></span> <span data-ttu-id="d14d2-166">Este es el bucle de mensajes revisado.</span><span class="sxs-lookup"><span data-stu-id="d14d2-166">Here is the revised message loop.</span></span>

```C++
// Correct.

MSG msg = { };
while (GetMessage(&msg, NULL, 0, 0) > 0)
{
    TranslateMessage(&msg);
    DispatchMessage(&msg);
}
```

<span data-ttu-id="d14d2-167">Siempre que [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) devuelva un valor distinto de cero, la expresión del **bucle while** se evalúa como true.</span><span class="sxs-lookup"><span data-stu-id="d14d2-167">As long as [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) returns a nonzero value, the expression in the **while** loop evaluates to true.</span></span> <span data-ttu-id="d14d2-168">Después de llamar a [**PostQuitMessage,**](/windows/desktop/api/winuser/nf-winuser-postquitmessage)la expresión se convierte en false y el programa se interrumpe del bucle.</span><span class="sxs-lookup"><span data-stu-id="d14d2-168">After you call [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage), the expression becomes false and the program breaks out of the loop.</span></span> <span data-ttu-id="d14d2-169">(Un resultado interesante de este comportamiento es que el procedimiento de ventana nunca recibe un [**mensaje DE SALIDA \_ de WM.**](/windows/desktop/winmsg/wm-quit)</span><span class="sxs-lookup"><span data-stu-id="d14d2-169">(One interesting result of this behavior is that your window procedure never receives a [**WM\_QUIT**](/windows/desktop/winmsg/wm-quit) message.</span></span> <span data-ttu-id="d14d2-170">Por lo tanto, no es necesario tener una instrucción case para este mensaje en el procedimiento de la ventana).</span><span class="sxs-lookup"><span data-stu-id="d14d2-170">Therefore, you do not have to have a case statement for this message in your window procedure.)</span></span>

<span data-ttu-id="d14d2-171">La siguiente pregunta obvia es cuándo llamar a [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage).</span><span class="sxs-lookup"><span data-stu-id="d14d2-171">The next obvious question is when to call [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage).</span></span> <span data-ttu-id="d14d2-172">Volveremos a esta pregunta en el tema Cerrar la [ventana,](closing-the-window.md)pero primero tenemos que escribir nuestro procedimiento de ventana.</span><span class="sxs-lookup"><span data-stu-id="d14d2-172">We'll return to this question in the topic [Closing the Window](closing-the-window.md), but first we have to write our window procedure.</span></span>

## <a name="posted-messages-versus-sent-messages"></a><span data-ttu-id="d14d2-173">Mensajes publicados frente a mensajes enviados</span><span class="sxs-lookup"><span data-stu-id="d14d2-173">Posted Messages versus Sent Messages</span></span>

<span data-ttu-id="d14d2-174">En la sección anterior se ha hablado de los mensajes que van a una cola.</span><span class="sxs-lookup"><span data-stu-id="d14d2-174">The previous section talked about messages going onto a queue.</span></span> <span data-ttu-id="d14d2-175">A veces, el sistema operativo llamará directamente a un procedimiento de ventana, omitiendo la cola.</span><span class="sxs-lookup"><span data-stu-id="d14d2-175">Sometimes, the operating system will call a window procedure directly, bypassing the queue.</span></span>

<span data-ttu-id="d14d2-176">La terminología de esta distinción puede ser confusa:</span><span class="sxs-lookup"><span data-stu-id="d14d2-176">The terminology for this distinction can be confusing:</span></span>

-   <span data-ttu-id="d14d2-177">*Publicar* un mensaje significa que el mensaje entra en la cola de mensajes y se envía a través del bucle de mensajes ([**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) y [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)).</span><span class="sxs-lookup"><span data-stu-id="d14d2-177">*Posting* a message means the message goes on the message queue, and is dispatched through the message loop ([**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) and [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)).</span></span>
-   <span data-ttu-id="d14d2-178">*Enviar* un mensaje significa que el mensaje omite la cola y el sistema operativo llama directamente al procedimiento de ventana.</span><span class="sxs-lookup"><span data-stu-id="d14d2-178">*Sending* a message means the message skips the queue, and the operating system calls the window procedure directly.</span></span>

<span data-ttu-id="d14d2-179">Por ahora, la diferencia no es muy importante.</span><span class="sxs-lookup"><span data-stu-id="d14d2-179">For now, the difference is not very important.</span></span> <span data-ttu-id="d14d2-180">El procedimiento de ventana controla todos los mensajes.</span><span class="sxs-lookup"><span data-stu-id="d14d2-180">The window procedure handles all messages.</span></span> <span data-ttu-id="d14d2-181">Sin embargo, algunos mensajes omiten la cola y van directamente al procedimiento de la ventana.</span><span class="sxs-lookup"><span data-stu-id="d14d2-181">However, some messages bypass the queue and go directly to your window procedure.</span></span> <span data-ttu-id="d14d2-182">Sin embargo, puede marcar una diferencia si la aplicación se comunica entre ventanas.</span><span class="sxs-lookup"><span data-stu-id="d14d2-182">However, it can make a difference if your application communicates between windows.</span></span> <span data-ttu-id="d14d2-183">Puede encontrar una explicación más exhaustiva de este problema en el tema Acerca de [mensajes y colas de mensajes.](/windows/desktop/winmsg/about-messages-and-message-queues)</span><span class="sxs-lookup"><span data-stu-id="d14d2-183">You can find a more thorough discussion of this issue in the topic [About Messages and Message Queues](/windows/desktop/winmsg/about-messages-and-message-queues).</span></span>

## <a name="next"></a><span data-ttu-id="d14d2-184">Siguientes</span><span class="sxs-lookup"><span data-stu-id="d14d2-184">Next</span></span>

[<span data-ttu-id="d14d2-185">Escribir el procedimiento de ventana</span><span class="sxs-lookup"><span data-stu-id="d14d2-185">Writing the Window Procedure</span></span>](writing-the-window-procedure.md)
