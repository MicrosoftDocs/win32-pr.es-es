---
description: Las luces se usan para iluminar los objetos de una escena.
ms.assetid: 0751bb76-611a-41c4-aab2-aa6f68b61b0e
title: Luces y materiales (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d6f44a12c1be1e7a14f7bfe176d7f391901d2dac
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104422750"
---
# <a name="lights-and-materials-direct3d-9"></a><span data-ttu-id="fe94a-103">Luces y materiales (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="fe94a-103">Lights and Materials (Direct3D 9)</span></span>

<span data-ttu-id="fe94a-104">Las luces se usan para iluminar los objetos de una escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-104">Lights are used to illuminate objects in a scene.</span></span> <span data-ttu-id="fe94a-105">Cuando se habilita la iluminación, Direct3D calcula el color de cada vértice del objeto en función de una combinación de:</span><span class="sxs-lookup"><span data-stu-id="fe94a-105">When lighting is enabled, Direct3D calculates the color of each object vertex based on a combination of:</span></span>

> [!Note]  
> <span data-ttu-id="fe94a-106">Esta sección es solo para la canalización de funciones fijas.</span><span class="sxs-lookup"><span data-stu-id="fe94a-106">This section is only for the fixed-function pipeline.</span></span> <span data-ttu-id="fe94a-107">Los sombreadores programables realizan toda la iluminación explícitamente.</span><span class="sxs-lookup"><span data-stu-id="fe94a-107">Programmable shaders perform all lighting explicitly.</span></span>

 

-   <span data-ttu-id="fe94a-108">El color del material actual y el textura de un mapa de texturas asociado.</span><span class="sxs-lookup"><span data-stu-id="fe94a-108">The current material color and the texels in an associated texture map.</span></span>
-   <span data-ttu-id="fe94a-109">Colores difusos y especulares en el vértice, si se especifican.</span><span class="sxs-lookup"><span data-stu-id="fe94a-109">The diffuse and specular colors at the vertex, if specified.</span></span>
-   <span data-ttu-id="fe94a-110">El color y la intensidad de la luz producidos por las fuentes luminosas de la escena o el nivel de luz ambiente de la escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-110">The color and intensity of light produced by light sources in the scene or the scene's ambient light level.</span></span>

<span data-ttu-id="fe94a-111">Al usar la iluminación y los materiales de Direct3D, permite que Direct3D controle los detalles de la iluminación.</span><span class="sxs-lookup"><span data-stu-id="fe94a-111">When you use Direct3D lighting and materials, you allow Direct3D to handle the details of illumination for you.</span></span> <span data-ttu-id="fe94a-112">Los usuarios avanzados pueden realizar la iluminación por sí solos, si lo desea.</span><span class="sxs-lookup"><span data-stu-id="fe94a-112">Advanced users can perform lighting on their own, if desired.</span></span>

<span data-ttu-id="fe94a-113">La forma de trabajar con la iluminación y los materiales hace una gran diferencia en la apariencia de la escena representada.</span><span class="sxs-lookup"><span data-stu-id="fe94a-113">How you work with lighting and materials makes a big difference in the appearance of the rendered scene.</span></span> <span data-ttu-id="fe94a-114">Los materiales definen cómo se refleja la luz en una superficie.</span><span class="sxs-lookup"><span data-stu-id="fe94a-114">Materials define how light reflects off a surface.</span></span> <span data-ttu-id="fe94a-115">Los niveles de luz directa y de luz ambiente definen la luz que se refleja.</span><span class="sxs-lookup"><span data-stu-id="fe94a-115">Direct light and ambient light levels define the light that is reflected.</span></span> <span data-ttu-id="fe94a-116">Debe usar materiales para representar una escena si está habilitada la iluminación.</span><span class="sxs-lookup"><span data-stu-id="fe94a-116">You must use materials to render a scene if lighting is enabled.</span></span> <span data-ttu-id="fe94a-117">No se necesitan luces para representar una escena, pero los detalles de una escena representada sin luz no son visibles.</span><span class="sxs-lookup"><span data-stu-id="fe94a-117">Lights are not required to render a scene, but details in a scene rendered without light are not visible.</span></span> <span data-ttu-id="fe94a-118">Como mejor, la representación de una escena de sin iluminación da como resultado una silueta de los objetos de la escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-118">At best, rendering an unlit scene results in a silhouette of the objects in the scene.</span></span> <span data-ttu-id="fe94a-119">Esto no es suficiente para la mayoría de los propósitos.</span><span class="sxs-lookup"><span data-stu-id="fe94a-119">This is not enough detail for most purposes.</span></span>

## <a name="direct-light-vs-ambient-light"></a><span data-ttu-id="fe94a-120">Luz directa frente a luz ambiente</span><span class="sxs-lookup"><span data-stu-id="fe94a-120">Direct Light vs. Ambient Light</span></span>

<span data-ttu-id="fe94a-121">Aunque la luz directa y ambiente iluminan objetos en una escena, son independientes entre sí, tienen efectos muy diferentes y requieren que trabaje con ellos de maneras completamente diferentes.</span><span class="sxs-lookup"><span data-stu-id="fe94a-121">Although both direct and ambient light illuminate objects in a scene, they are independent of one another, they have very different effects, and they require that you work with them in completely different ways.</span></span>

<span data-ttu-id="fe94a-122">Direct Light es justamente eso: Direct.</span><span class="sxs-lookup"><span data-stu-id="fe94a-122">Direct light is just that: direct.</span></span> <span data-ttu-id="fe94a-123">Direct Light siempre tiene la dirección y el color, y es un factor para los algoritmos de sombreado, como el sombreado Gouraud.</span><span class="sxs-lookup"><span data-stu-id="fe94a-123">Direct light always has direction and color, and it is a factor for shading algorithms, such as Gouraud shading.</span></span> <span data-ttu-id="fe94a-124">Los diferentes tipos de luces emiten luz directa de maneras diferentes, lo que crea efectos de atenuación especiales.</span><span class="sxs-lookup"><span data-stu-id="fe94a-124">Different types of lights emit direct light in different ways, creating special attenuation effects.</span></span> <span data-ttu-id="fe94a-125">Puede crear un conjunto de parámetros de luz para la luz directa llamando al método [**IDirect3DDevice9:: SetLight**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setlight) .</span><span class="sxs-lookup"><span data-stu-id="fe94a-125">You create a set of light parameters for direct light by calling the [**IDirect3DDevice9::SetLight**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setlight) method.</span></span>

<span data-ttu-id="fe94a-126">La luz ambiente es eficaz en cualquier parte de una escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-126">Ambient light is effectively everywhere in a scene.</span></span> <span data-ttu-id="fe94a-127">Puede considerarse como un nivel general de luz que rellena toda una escena, independientemente de los objetos y sus ubicaciones en esa escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-127">You can think of it as a general level of light that fills an entire scene, regardless of the objects and their locations in that scene.</span></span> <span data-ttu-id="fe94a-128">La luz ambiente no tiene posición ni dirección, solo el color y la intensidad.</span><span class="sxs-lookup"><span data-stu-id="fe94a-128">Ambient light has no position or direction, only color and intensity.</span></span> <span data-ttu-id="fe94a-129">Cada luz se agrega a la luz ambiente global de una escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-129">Each light adds to the overall ambient light in a scene.</span></span> <span data-ttu-id="fe94a-130">Establezca el nivel de luz ambiente con una llamada al método [**IDirect3DDevice9:: SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) , especificando D3DRS \_ ambiente como el parámetro de *Estado* y el color RGBA deseado como parámetro de valor.</span><span class="sxs-lookup"><span data-stu-id="fe94a-130">Set the ambient light level with a call to the [**IDirect3DDevice9::SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) method, specifying D3DRS\_AMBIENT as the *State* parameter, and the desired RGBA color as the Value parameter.</span></span>

<span data-ttu-id="fe94a-131">El color de luz ambiente adopta la forma de un valor RGBA, donde cada componente es un valor entero comprendido entre 0 y 255.</span><span class="sxs-lookup"><span data-stu-id="fe94a-131">Ambient light color takes the form of an RGBA value, where each component is an integer value from 0 to 255.</span></span> <span data-ttu-id="fe94a-132">Esto no es lo mismo que la mayoría de los valores de color de Direct3D.</span><span class="sxs-lookup"><span data-stu-id="fe94a-132">This is unlike most color values in Direct3D.</span></span>

<span data-ttu-id="fe94a-133">Puede usar la macro [**D3DCOLOR \_ RGBA**](d3dcolor-rgba.md) para generar valores RGBA.</span><span class="sxs-lookup"><span data-stu-id="fe94a-133">You can use the [**D3DCOLOR\_RGBA**](d3dcolor-rgba.md) macro to generate RGBA values.</span></span> <span data-ttu-id="fe94a-134">Los componentes rojo, verde y azul se combinan para crear el color final de la luz ambiente.</span><span class="sxs-lookup"><span data-stu-id="fe94a-134">The red, green, and blue components combine to make the final color of the ambient light.</span></span> <span data-ttu-id="fe94a-135">El componente alfa controla la transparencia del color.</span><span class="sxs-lookup"><span data-stu-id="fe94a-135">The alpha component controls the transparency of the color.</span></span> <span data-ttu-id="fe94a-136">Cuando se usa la aceleración de hardware o la emulación de RGB, se omite el componente alfa.</span><span class="sxs-lookup"><span data-stu-id="fe94a-136">When using hardware acceleration or RGB emulation, the alpha component is ignored.</span></span>

## <a name="direct3d-light-model-vs-nature"></a><span data-ttu-id="fe94a-137">Modelo de Direct3D Light frente a naturaleza</span><span class="sxs-lookup"><span data-stu-id="fe94a-137">Direct3D Light Model vs. Nature</span></span>

<span data-ttu-id="fe94a-138">Por naturaleza, cuando se emite Light desde un origen, se refleja en cientos, si no miles o millones de objetos antes de llegar al ojo del usuario.</span><span class="sxs-lookup"><span data-stu-id="fe94a-138">In nature, when light is emitted from a source, it is reflected off of hundreds, if not thousands or millions of objects before reaching the user's eye.</span></span> <span data-ttu-id="fe94a-139">Cada vez que se refleja, algunas luces se absorben por una superficie, algunas están dispersas en direcciones aleatorias y el resto se dirige a otra superficie o al ojo del usuario.</span><span class="sxs-lookup"><span data-stu-id="fe94a-139">Each time it is reflected, some light is absorbed by a surface, some is scattered in random directions, and the rest goes on to another surface or to the user's eye.</span></span> <span data-ttu-id="fe94a-140">Este proceso continúa hasta que la luz se reduce a nada o el usuario percibe la luz.</span><span class="sxs-lookup"><span data-stu-id="fe94a-140">This process continues until the light is reduced to nothing or a user perceives the light.</span></span>

<span data-ttu-id="fe94a-141">Obviamente, los cálculos necesarios para simular perfectamente el comportamiento natural de Light son demasiado lentos para usarlos en los gráficos de Direct3D en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="fe94a-141">Obviously, the calculations required to perfectly simulate the natural behavior of light are too time-consuming to use for real-time Direct3D graphics.</span></span> <span data-ttu-id="fe94a-142">Por lo tanto, teniendo en cuenta la velocidad, el modelo de Direct3D Light se aproxima a la manera en que funciona la luz en el mundo natural.</span><span class="sxs-lookup"><span data-stu-id="fe94a-142">Therefore, with speed in mind, the Direct3D light model approximates the way light works in the natural world.</span></span> <span data-ttu-id="fe94a-143">Direct3D describe la luz en términos de componentes rojo, verde y azul que se combinan para crear un color final.</span><span class="sxs-lookup"><span data-stu-id="fe94a-143">Direct3D describes light in terms of red, green, and blue components that combine to create a final color.</span></span>

<span data-ttu-id="fe94a-144">En Direct3D, cuando la luz se refleja fuera de una superficie, el color claro interactúa matemáticamente con la propia superficie para crear el color que se muestra en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="fe94a-144">In Direct3D, when light reflects off a surface, the light color interacts mathematically with the surface itself to create the color eventually displayed on the screen.</span></span> <span data-ttu-id="fe94a-145">Para obtener información específica sobre los algoritmos que usa Direct3D, vea [matemáticas de iluminación (Direct3D 9)](mathematics-of-lighting.md).</span><span class="sxs-lookup"><span data-stu-id="fe94a-145">For specific information about the algorithms Direct3D uses, see [Mathematics of Lighting (Direct3D 9)](mathematics-of-lighting.md).</span></span>

<span data-ttu-id="fe94a-146">El modelo Direct3D Light generaliza la luz en dos tipos: luz ambiente y luz directa.</span><span class="sxs-lookup"><span data-stu-id="fe94a-146">The Direct3D light model generalizes light into two types: ambient light and direct light.</span></span> <span data-ttu-id="fe94a-147">Cada una tiene atributos diferentes, y cada interactúa con el material de una superficie de maneras diferentes.</span><span class="sxs-lookup"><span data-stu-id="fe94a-147">Each has different attributes, and each interacts with the material of a surface in different ways.</span></span> <span data-ttu-id="fe94a-148">La luz ambiente es una luz que se ha disperso, de modo que su dirección y origen son indeterminados: mantiene un nivel bajo de intensidad en todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="fe94a-148">Ambient light is light that has been scattered so much that its direction and source are indeterminate: it maintains a low level of intensity everywhere.</span></span> <span data-ttu-id="fe94a-149">La iluminación indirecta utilizada por los fotógrafos es un buen ejemplo de luz ambiente.</span><span class="sxs-lookup"><span data-stu-id="fe94a-149">The indirect lighting used by photographers is a good example of ambient light.</span></span> <span data-ttu-id="fe94a-150">Luz ambiente en Direct3D, como por naturaleza, no tiene ninguna dirección o origen real, solo un color e intensidad.</span><span class="sxs-lookup"><span data-stu-id="fe94a-150">Ambient light in Direct3D, as in nature, has no real direction or source, only a color and intensity.</span></span> <span data-ttu-id="fe94a-151">De hecho, el nivel de luz ambiente es completamente independiente de los objetos de una escena que generan luz.</span><span class="sxs-lookup"><span data-stu-id="fe94a-151">In fact, the ambient light level is completely independent of any objects in a scene that generate light.</span></span> <span data-ttu-id="fe94a-152">La luz ambiente no contribuye a la reflexión especular.</span><span class="sxs-lookup"><span data-stu-id="fe94a-152">Ambient light does not contribute to specular reflection.</span></span>

<span data-ttu-id="fe94a-153">Direct Light es la luz generada por un origen dentro de una escena. siempre tiene color e intensidad y se desplaza en una dirección especificada.</span><span class="sxs-lookup"><span data-stu-id="fe94a-153">Direct light is the light generated by a source within a scene; it always has color and intensity, and it travels in a specified direction.</span></span> <span data-ttu-id="fe94a-154">Direct Light interactúa con el material de una superficie para crear reflejos especulares y su dirección se usa como un factor en los algoritmos de sombreado, incluido el sombreado Gouraud.</span><span class="sxs-lookup"><span data-stu-id="fe94a-154">Direct light interacts with the material of a surface to create specular highlights, and its direction is used as a factor in shading algorithms, including Gouraud shading.</span></span> <span data-ttu-id="fe94a-155">Cuando se refleja la luz directa, no contribuye al nivel de luz ambiente en una escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-155">When direct light is reflected, it does not contribute to the ambient light level in a scene.</span></span> <span data-ttu-id="fe94a-156">Los orígenes de una escena que generan luz directa tienen características diferentes que afectan al modo en que iluminan una escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-156">The sources in a scene that generate direct light have different characteristics that affect how they illuminate a scene.</span></span>

<span data-ttu-id="fe94a-157">Además, el material de un polígono tiene propiedades que afectan al modo en que ese polígono refleja la luz que recibe.</span><span class="sxs-lookup"><span data-stu-id="fe94a-157">Additionally, a polygon's material has properties that affect how that polygon reflects the light it receives.</span></span> <span data-ttu-id="fe94a-158">Establezca un rasgo de reflectancia único que describa cómo refleja el material la luz ambiente y establezca rasgos individuales para determinar la reflexión especular y difusa del material.</span><span class="sxs-lookup"><span data-stu-id="fe94a-158">You set a single reflectance trait that describes how the material reflects ambient light, and you set individual traits to determine the material's specular and diffuse reflectance.</span></span> <span data-ttu-id="fe94a-159">Para obtener más información, vea [materiales (Direct3D 9)](materials.md).</span><span class="sxs-lookup"><span data-stu-id="fe94a-159">For more information, see [Materials (Direct3D 9)](materials.md).</span></span>

## <a name="color-values-for-lights-and-materials"></a><span data-ttu-id="fe94a-160">Valores de color para las luces y los materiales</span><span class="sxs-lookup"><span data-stu-id="fe94a-160">Color Values for Lights and Materials</span></span>

<span data-ttu-id="fe94a-161">Direct3D describe el color en términos de cuatro componentes (rojo, verde, azul y alfa) que se combinan para crear un color final.</span><span class="sxs-lookup"><span data-stu-id="fe94a-161">Direct3D describes color in terms of four components-red, green, blue, and alpha-that combine to make a final color.</span></span> <span data-ttu-id="fe94a-162">La estructura de C++ de [**D3DCOLORVALUE**](d3dcolorvalue.md) se define para que contenga valores para cada componente.</span><span class="sxs-lookup"><span data-stu-id="fe94a-162">The [**D3DCOLORVALUE**](d3dcolorvalue.md) C++ structure is defined to contain values for each component.</span></span> <span data-ttu-id="fe94a-163">Cada miembro es un valor de punto flotante que suele oscilar entre 0,0 y 1,0, ambos incluidos.</span><span class="sxs-lookup"><span data-stu-id="fe94a-163">Each member is a floating-point value that typically ranges from 0.0 to 1.0, inclusive.</span></span> <span data-ttu-id="fe94a-164">Aunque tanto las luces como los materiales utilizan la misma estructura para describir el color, cada uno de los valores de la estructura se utiliza de forma ligeramente diferente.</span><span class="sxs-lookup"><span data-stu-id="fe94a-164">Although both lights and materials use the same structure to describe color, the values in the structure are used a little differently by each.</span></span>

<span data-ttu-id="fe94a-165">Los valores de color de las fuentes de luz representan la cantidad de un componente de luz determinado que emite.</span><span class="sxs-lookup"><span data-stu-id="fe94a-165">Color values for light sources represent the amount of a particular light component it emits.</span></span> <span data-ttu-id="fe94a-166">Dado que las luces no usan un componente alfa, solo son relevantes los componentes rojo, verde y azul del color.</span><span class="sxs-lookup"><span data-stu-id="fe94a-166">Because lights don't use an alpha component, only the red, green, and blue components of the color are relevant.</span></span> <span data-ttu-id="fe94a-167">Puede visualizar los tres componentes como los lentes rojo, verde y azul en un televisor de proyección.</span><span class="sxs-lookup"><span data-stu-id="fe94a-167">You can visualize the three components as the red, green, and blue lenses on a projection television.</span></span> <span data-ttu-id="fe94a-168">Es posible que cada lente esté desactivada (un valor de 0,0 en el miembro adecuado), podría ser tan brillante como sea posible (un valor de 1,0) o podría ser un cierto nivel entre.</span><span class="sxs-lookup"><span data-stu-id="fe94a-168">Each lens might be off (a 0.0 value in the appropriate member), it might be as bright as possible (a 1.0 value), or it might be some level in between.</span></span> <span data-ttu-id="fe94a-169">Los colores que entran en los objetivos se combinan para crear el color final de la luz.</span><span class="sxs-lookup"><span data-stu-id="fe94a-169">The colors coming through the lenses combine to make the light's final color.</span></span> <span data-ttu-id="fe94a-170">Una combinación como R (1.0), G (1.0), B (1.0) crea una luz blanca, donde R (0,0), G (0,0), B (0,0) no emite luz en absoluto.</span><span class="sxs-lookup"><span data-stu-id="fe94a-170">A combination like R(1.0), G(1.0), B(1.0) creates a white light, where R(0.0), G(0.0), B(0.0) doesn't emit light at all.</span></span> <span data-ttu-id="fe94a-171">Puede crear una luz que emita un solo componente, lo que dará lugar a una luz roja, verde o azul pura; o bien, la luz podría usar combinaciones para emitir colores como amarillo o púrpura.</span><span class="sxs-lookup"><span data-stu-id="fe94a-171">You can make a light that emits only one component, resulting in a pure red, green, or blue light; or, the light could use combinations to emit colors like yellow or purple.</span></span> <span data-ttu-id="fe94a-172">Incluso puede establecer valores de componentes de color negativos para crear una "luz oscura" que realmente quita la luz de una escena.</span><span class="sxs-lookup"><span data-stu-id="fe94a-172">You can even set negative color component values to create a "dark light" that actually removes light from a scene.</span></span> <span data-ttu-id="fe94a-173">O bien, puede establecer los componentes en un valor superior a 1,0 para crear una luz muy brillante.</span><span class="sxs-lookup"><span data-stu-id="fe94a-173">Or, you might set the components to some value larger than 1.0 to create an extremely bright light.</span></span>

<span data-ttu-id="fe94a-174">Por otro lado, con materiales, los valores de color representan la cantidad de un componente de luz que se refleja en una superficie que se representa con ese material.</span><span class="sxs-lookup"><span data-stu-id="fe94a-174">With materials, on the other hand, color values represent how much of a light component is reflected by a surface that is rendered with that material.</span></span> <span data-ttu-id="fe94a-175">Un material cuyos componentes de color son R (1.0), G (1.0), B (1.0), A (1,0) refleja toda la luz que llega A su camino.</span><span class="sxs-lookup"><span data-stu-id="fe94a-175">A material whose color components are R(1.0), G(1.0), B(1.0), A(1.0) reflects all the light that comes its way.</span></span> <span data-ttu-id="fe94a-176">Del mismo modo, un material con R (0,0), G (1.0), B (0,0), A (1,0) refleja toda la luz verde que se dirige a él.</span><span class="sxs-lookup"><span data-stu-id="fe94a-176">Likewise, a material with R(0.0), G(1.0), B(0.0), A(1.0) reflects all the green light that is directed at it.</span></span> <span data-ttu-id="fe94a-177">Los materiales tienen varios valores de reflectancia para crear varios tipos de efectos.</span><span class="sxs-lookup"><span data-stu-id="fe94a-177">Materials have multiple reflectance values to create various types of effects.</span></span>

<span data-ttu-id="fe94a-178">Se incluye información adicional en: [tipos de luz (Direct3D 9)](light-types.md)y [propiedades de luz (Direct3D 9)](light-properties.md).</span><span class="sxs-lookup"><span data-stu-id="fe94a-178">Additional information is contained in: [Light Types (Direct3D 9)](light-types.md), and [Light Properties (Direct3D 9)](light-properties.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="fe94a-179">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="fe94a-179">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fe94a-180">Introducción</span><span class="sxs-lookup"><span data-stu-id="fe94a-180">Getting Started</span></span>](getting-started.md)
</dt> </dl>

 

 
