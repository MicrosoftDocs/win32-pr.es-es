---
description: Describe cómo almacenar datos de Windows Media en un archivo AVI.
ms.assetid: f2a9d9ff-4876-4f24-b96a-5d89e42fa3d5
title: Almacenar medios comprimidos en archivos AVI (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 080524a47b4295517d50705f6aeb125d085a8346
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/03/2021
ms.locfileid: "104361898"
---
# <a name="storing-compressed-media-in-avi-files-microsoft-media-foundation"></a><span data-ttu-id="64c4d-103">Almacenar medios comprimidos en archivos AVI (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="64c4d-103">Storing Compressed Media in AVI Files (Microsoft Media Foundation)</span></span>

<span data-ttu-id="64c4d-104">Cualquier contenido que se comprime con los códecs de Windows Media Audio y vídeo debe colocarse en un formato de contenedor.</span><span class="sxs-lookup"><span data-stu-id="64c4d-104">Any of the content that you compress using the Windows Media Audio and Video codecs must be put in some container format.</span></span> <span data-ttu-id="64c4d-105">Uno de los formatos más populares es audio de vídeo entrelazado o AVI.</span><span class="sxs-lookup"><span data-stu-id="64c4d-105">One of the most popular formats is Audio Video Interleave, or AVI.</span></span> <span data-ttu-id="64c4d-106">Puede usar Microsoft vídeo para Windows (VfW) o Microsoft DirectShow para crear archivos AVI.</span><span class="sxs-lookup"><span data-stu-id="64c4d-106">You can use Microsoft Video for Windows (VfW) or Microsoft DirectShow to create AVI files.</span></span> <span data-ttu-id="64c4d-107">Para obtener más información acerca del uso de vídeo para Windows o DirectShow, consulte la documentación del producto en MSDN.</span><span class="sxs-lookup"><span data-stu-id="64c4d-107">For more information about using Video for Windows or DirectShow, refer to the product documentation on MSDN.</span></span>

<span data-ttu-id="64c4d-108">Los códecs de Windows Media Audio y vídeo se han desarrollado para usar las propiedades de Advanced Systems Format (ASF), que es el contenedor que usa Windows Media.</span><span class="sxs-lookup"><span data-stu-id="64c4d-108">The Windows Media Audio and Video codecs have been developed to use the properties of the Advanced Systems Format (ASF), which is the container used by Windows Media.</span></span> <span data-ttu-id="64c4d-109">Debido a que AVI y ASF almacenan el contenido de forma diferente, surgen algunas dificultades al almacenar el contenido comprimido con los códecs de vídeo y Windows Media Audio en un archivo AVI.</span><span class="sxs-lookup"><span data-stu-id="64c4d-109">Because AVI and ASF store content differently, some difficulties arise when storing content compressed with the Windows Media Audio and Video codecs in an AVI file.</span></span>

<span data-ttu-id="64c4d-110">Los códecs Windows Media Audio comprimen el contenido de audio de forma que no se pueda descomprimir correctamente sin las marcas de tiempo de los ejemplos individuales.</span><span class="sxs-lookup"><span data-stu-id="64c4d-110">The Windows Media Audio codecs compress audio content in such a way that it cannot be properly decompressed without time stamps for the individual samples.</span></span> <span data-ttu-id="64c4d-111">Esto habilita algunas optimizaciones en los medios comprimidos.</span><span class="sxs-lookup"><span data-stu-id="64c4d-111">This enables some optimization in the compressed media.</span></span> <span data-ttu-id="64c4d-112">Dado que el contenedor ASF mantiene marcas de tiempo con todas las muestras, esta característica de los algoritmos de audio siempre ha funcionado bien.</span><span class="sxs-lookup"><span data-stu-id="64c4d-112">Because the ASF container keeps time stamps with all samples, this characteristic of the audio algorithms has always worked well.</span></span>

<span data-ttu-id="64c4d-113">Sin embargo, los archivos AVI no conservan las marcas de tiempo con ejemplos.</span><span class="sxs-lookup"><span data-stu-id="64c4d-113">AVI files, however, do not keep time stamps with samples.</span></span> <span data-ttu-id="64c4d-114">Esto significa que Windows Media Audio contenido no se puede descomprimir correctamente cuando se almacena en un archivo AVI.</span><span class="sxs-lookup"><span data-stu-id="64c4d-114">This means that Windows Media Audio content cannot be decompressed properly when stored in an AVI file.</span></span> <span data-ttu-id="64c4d-115">Windows Media Video contenido no tiene esta limitación y se puede incluir en archivos AVI.</span><span class="sxs-lookup"><span data-stu-id="64c4d-115">Windows Media Video content does not have this limitation, and can be included in AVI files.</span></span> <span data-ttu-id="64c4d-116">Para codificar Windows Media Video contenido en un archivo AVI con sonido sincronizado, debe usar otro códec de audio.</span><span class="sxs-lookup"><span data-stu-id="64c4d-116">To encode Windows Media Video content to an AVI file with synchronized sound, you must use another audio codec.</span></span>

<span data-ttu-id="64c4d-117">El otro problema con el uso de un archivo AVI como contenedor para Windows Media se refiere al vídeo de velocidad de bits bajo.</span><span class="sxs-lookup"><span data-stu-id="64c4d-117">The other issue with using an AVI file as a container for Windows Media concerns low-bit-rate video.</span></span> <span data-ttu-id="64c4d-118">Una de las formas en que los códecs Windows Media Video producen el contenido de vídeo para velocidades de bits bajas es quitando fotogramas duplicados.</span><span class="sxs-lookup"><span data-stu-id="64c4d-118">One of the ways in which the Windows Media Video codecs produce video content for low bit rates is by dropping duplicate frames.</span></span> <span data-ttu-id="64c4d-119">Si desea colocar Windows Media Video contenido en un archivo ASF, debe configurar el codificador para proporcionar tramas ficticias para fotogramas duplicados (establezca [MFPKEY \_ PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) en Variant \_ true) de modo que cada fotograma se represente en el archivo.</span><span class="sxs-lookup"><span data-stu-id="64c4d-119">If you want to put Windows Media Video content in an ASF file, you need to set the encoder to deliver dummy frames for duplicate frames (set [MFPKEY\_PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) to VARIANT\_TRUE) so that every frame is represented in the file.</span></span> <span data-ttu-id="64c4d-120">Los fotogramas ficticios generados por el códec tienen un tamaño de 8 bytes.</span><span class="sxs-lookup"><span data-stu-id="64c4d-120">The dummy frames produced by the codec are 8 bytes in size.</span></span> <span data-ttu-id="64c4d-121">Sin embargo, el marco escrito en el archivo por el multiplexor de AVI puede ser de cientos de bytes mayor y rellenarse con datos aleatorios.</span><span class="sxs-lookup"><span data-stu-id="64c4d-121">However, the frame written to file by the AVI multiplexer can be hundreds of bytes larger, and filled with random data.</span></span> <span data-ttu-id="64c4d-122">Un archivo AVI creado de esta manera se podrá reproducir, pero será mucho mayor de lo esperado.</span><span class="sxs-lookup"><span data-stu-id="64c4d-122">An AVI file made in this way will still be playable, but it will be much larger than expected.</span></span> <span data-ttu-id="64c4d-123">Puede evitar este problema si usa velocidades de bits más altas al codificar vídeo para el almacenamiento en archivos AVI.</span><span class="sxs-lookup"><span data-stu-id="64c4d-123">You can avoid this problem by using higher bit rates when encoding video for storage in AVI files.</span></span>

## <a name="related-topics"></a><span data-ttu-id="64c4d-124">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="64c4d-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="64c4d-125">Códecs de Windows Media</span><span class="sxs-lookup"><span data-stu-id="64c4d-125">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 



