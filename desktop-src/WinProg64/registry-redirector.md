---
title: Redirector del registro
description: El redirector del registro aísla las aplicaciones de 32 y 64 bits proporcionando vistas lógicas independientes de ciertas partes del registro en WOW64.
ms.assetid: b3989f79-0439-485a-96c1-4f2227d48653
keywords:
- Guía de programación de Windows de 64 bits guía de programación de Windows de 64 bits, redirector del registro
- redirector del registro 64 programación de Windows de bits
- redirección 64 programación de Windows de bits
- La programación de Windows de 64 bits de WOW64, redirector del registro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 04c11e68f307aa014adb7cae8415f1baba155678
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104418798"
---
# <a name="registry-redirector"></a><span data-ttu-id="4abf8-107">Redirector del registro</span><span class="sxs-lookup"><span data-stu-id="4abf8-107">Registry Redirector</span></span>

<span data-ttu-id="4abf8-108">El redirector del registro aísla las aplicaciones de 32 y 64 bits proporcionando vistas lógicas independientes de ciertas partes del registro en WOW64.</span><span class="sxs-lookup"><span data-stu-id="4abf8-108">The registry redirector isolates 32-bit and 64-bit applications by providing separate logical views of certain portions of the registry on WOW64.</span></span> <span data-ttu-id="4abf8-109">El redirector del registro intercepta las llamadas del registro de 32 bits y 64 bits a sus respectivas vistas del registro lógicas y las asigna a la ubicación física del registro correspondiente.</span><span class="sxs-lookup"><span data-stu-id="4abf8-109">The registry redirector intercepts 32-bit and 64-bit registry calls to their respective logical registry views and maps them to the corresponding physical registry location.</span></span> <span data-ttu-id="4abf8-110">El proceso de redireccionamiento es transparente para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4abf8-110">The redirection process is transparent to the application.</span></span> <span data-ttu-id="4abf8-111">Por lo tanto, una aplicación de 32 bits puede tener acceso a los datos del registro como si se ejecutara en Windows de 32 bits aunque los datos se almacenen en una ubicación diferente en Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="4abf8-111">Therefore, a 32-bit application can access registry data as if it were running on 32-bit Windows even if the data is stored in a different location on 64-bit Windows.</span></span>

<span data-ttu-id="4abf8-112">**Windows 10 en ARM:** Además de la vista lógica de 32 bits para las aplicaciones x86, Windows 10 en ARM incluye una vista lógica independiente para las aplicaciones ARM de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="4abf8-112">**Windows 10 on ARM:** In addition to the 32-bit logical view for x86 applications, Windows 10 on ARM includes a separate logical view for 32-bit ARM applications.</span></span>

<span data-ttu-id="4abf8-113">Se comparte un subconjunto de claves en las rutas de acceso redirigidas del registro.</span><span class="sxs-lookup"><span data-stu-id="4abf8-113">A subset of keys under redirected registry paths are shared.</span></span> <span data-ttu-id="4abf8-114">no se redirigen las llamadas del registro de 32 bits a claves compartidas.</span><span class="sxs-lookup"><span data-stu-id="4abf8-114">32-bit registry calls to shared keys are not redirected.</span></span> <span data-ttu-id="4abf8-115">En su lugar, se asigna una copia física de la clave a cada vista lógica del registro.</span><span class="sxs-lookup"><span data-stu-id="4abf8-115">Instead, one physical copy of the key is mapped into each logical view of the registry.</span></span> <span data-ttu-id="4abf8-116">Para obtener una lista de claves redirigidas y claves compartidas, consulte [claves del registro afectadas por WOW64](shared-registry-keys.md).</span><span class="sxs-lookup"><span data-stu-id="4abf8-116">For a list of redirected keys and shared keys, see [Registry Keys Affected by WOW64](shared-registry-keys.md).</span></span>

<span data-ttu-id="4abf8-117">**Windows server 2008, Windows Vista, Windows server 2003 y Windows XP:** Para habilitar la interoperabilidad de la aplicación a través de COM y otros mecanismos, también se *refleja* un subconjunto de claves del registro redirigidas.</span><span class="sxs-lookup"><span data-stu-id="4abf8-117">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** To enable application interoperability through COM and other mechanisms, a subset of redirected registry keys are also *reflected*.</span></span> <span data-ttu-id="4abf8-118">El proceso de reflexión del registro copia las claves y los valores del registro entre dos vistas del registro para mantenerlas sincronizadas.</span><span class="sxs-lookup"><span data-stu-id="4abf8-118">The process of registry reflection copies registry keys and values between two registry views to keep them synchronized.</span></span> <span data-ttu-id="4abf8-119">La reflexión del registro se quitó a partir de Windows 7 y Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="4abf8-119">Registry reflection was removed starting with Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="4abf8-120">Para obtener más información, vea [reflexión del registro](registry-reflection.md).</span><span class="sxs-lookup"><span data-stu-id="4abf8-120">For more information, see [Registry Reflection](registry-reflection.md).</span></span>

<span data-ttu-id="4abf8-121">En el escenario siguiente se muestra el uso de estas vistas lógicas:</span><span class="sxs-lookup"><span data-stu-id="4abf8-121">The following scenario illustrates the use of these logical views:</span></span>

-   <span data-ttu-id="4abf8-122">Una aplicación x86 de 32 bits comprueba la existencia de la siguiente clave del registro: **HKEY \_ local \_ Machine \\ software \\ Hello**.</span><span class="sxs-lookup"><span data-stu-id="4abf8-122">A 32-bit x86 application checks for the existence of the following registry key: **HKEY\_LOCAL\_MACHINE\\Software\\Hello**.</span></span> <span data-ttu-id="4abf8-123">Si la clave no existe, la aplicación la crea con un valor predeterminado de "Hello 32-bit x86 World"; de lo contrario, Lee y muestra el valor.</span><span class="sxs-lookup"><span data-stu-id="4abf8-123">If the key does not exist, the application creates it with a default value of "Hello 32-bit x86 world"; otherwise, it reads and displays the value.</span></span>
-   <span data-ttu-id="4abf8-124">La misma aplicación se modifica para escribir "Hello 64-bit World" en lugar de "Hello 32-bit x86 World" y se vuelve a compilar como una aplicación de 64 bits x64 o ARM64.</span><span class="sxs-lookup"><span data-stu-id="4abf8-124">The same application is modified to write "Hello 64-bit world" instead of "Hello 32-bit x86 world" and recompiled as a 64-bit x64 or ARM64 application.</span></span>
-   <span data-ttu-id="4abf8-125">**Windows 10 en ARM:** Se modifica la misma aplicación para escribir "Hello 32-bit ARM World" y se vuelve a compilar como una aplicación de ARM de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="4abf8-125">**Windows 10 on ARM:** The same application is modified to write “Hello 32-bit ARM world” and recompiled as a 32-bit ARM application.</span></span>
-   <span data-ttu-id="4abf8-126">Cuando se ejecuta la aplicación x86 de 32 bits en Windows de 64 bits, se muestra "Hello 32-bit x86 World".</span><span class="sxs-lookup"><span data-stu-id="4abf8-126">When the 32-bit x86 application is run on 64-bit Windows, it displays "Hello 32-bit x86 world".</span></span> <span data-ttu-id="4abf8-127">Cuando se ejecuta la aplicación de 64 bits, se muestra "Hello 64-bit World".</span><span class="sxs-lookup"><span data-stu-id="4abf8-127">When the 64-bit application is run, it displays "Hello 64-bit world".</span></span> <span data-ttu-id="4abf8-128">**Windows 10 en ARM:** Cuando la aplicación de ARM de 32 bits se ejecuta en Windows de 64 bits ARM64, muestra "Hello 32-bit ARM World".</span><span class="sxs-lookup"><span data-stu-id="4abf8-128">**Windows 10 on ARM:** When the 32-bit ARM application is run on 64-bit ARM64 Windows, it displays "Hello 32-bit ARM world".</span></span> <span data-ttu-id="4abf8-129">Todas las aplicaciones llaman a las mismas funciones del registro con el mismo identificador predefinido y el mismo nombre de clave. la diferencia es que cada aplicación opera en su vista lógica del registro y cada vista se asigna a una ubicación física independiente del registro, lo que mantiene todas las versiones de la cadena intactas.</span><span class="sxs-lookup"><span data-stu-id="4abf8-129">All applications call the same registry functions with the same predefined handle and the same key name; the difference is that each application operates on its logical view of registry, and each view is mapped to a separate physical location of the registry, which keeps all versions of the string intact.</span></span>

<span data-ttu-id="4abf8-130">Las claves redirigidas se asignan a ubicaciones físicas en **Wow6432Node**.</span><span class="sxs-lookup"><span data-stu-id="4abf8-130">Redirected keys are mapped to physical locations under **Wow6432Node**.</span></span> <span data-ttu-id="4abf8-131">Por ejemplo, **HKEY \_ local \_ Machine \\ software** se redirige a **HKEY \_ local \_ Machine \\ software \\ Wow6432Node**.</span><span class="sxs-lookup"><span data-stu-id="4abf8-131">For example, **HKEY\_LOCAL\_MACHINE\\Software** is redirected to **HKEY\_LOCAL\_MACHINE\\Software\\Wow6432Node**.</span></span> <span data-ttu-id="4abf8-132">Sin embargo, el sistema debe tener en cuenta la ubicación física de las claves redirigidas.</span><span class="sxs-lookup"><span data-stu-id="4abf8-132">However, the physical location of redirected keys should be considered reserved by the system.</span></span> <span data-ttu-id="4abf8-133">Las aplicaciones no deben tener acceso directamente a la ubicación física de una clave, ya que esta ubicación puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="4abf8-133">Applications should not access a key's physical location directly, because this location may change.</span></span> <span data-ttu-id="4abf8-134">Para obtener más información, vea [obtener acceso a una vista del registro alternativa](accessing-an-alternate-registry-view.md).</span><span class="sxs-lookup"><span data-stu-id="4abf8-134">For more information, see [Accessing an Alternate Registry View](accessing-an-alternate-registry-view.md).</span></span>

<span data-ttu-id="4abf8-135">**Windows 10 en ARM:** Las claves de ARM de 32 bits redirigidas se asignan a ubicaciones físicas en WowAA32Node.</span><span class="sxs-lookup"><span data-stu-id="4abf8-135">**Windows 10 on ARM:** Redirected 32-bit ARM keys are mapped to physical locations under WowAA32Node.</span></span>

<span data-ttu-id="4abf8-136">Para ayudar a las aplicaciones de 32 bits que escriben los datos de **reg \_ SZ** o **reg \_ Expand \_** SZ que contienen% ProgramFiles% o% COMMONPROGRAMFILES% en el registro, WOW64 intercepta estas operaciones de escritura y las reemplaza por "% ProgramFiles (x86)%" y "% COMMONPROGRAMFILES (x86)%".</span><span class="sxs-lookup"><span data-stu-id="4abf8-136">To help 32-bit applications that write **REG\_SZ** or **REG\_EXPAND\_SZ** data containing %ProgramFiles% or %commonprogramfiles% to the registry, WOW64 intercepts these write operations and replaces them with "%ProgramFiles(x86)%" and "%commonprogramfiles(x86)%".</span></span> <span data-ttu-id="4abf8-137">Por ejemplo, si el directorio archivos de programa se encuentra en la unidad C, "% ProgramFiles (x86)%" se expande a "C: \\ archivos de programa (x86)".</span><span class="sxs-lookup"><span data-stu-id="4abf8-137">For example, if the Program Files directory is on the C drive, then "%ProgramFiles(x86)%" expands to "C:\\Program Files (x86)".</span></span> <span data-ttu-id="4abf8-138">El reemplazo solo se produce si se cumplen las condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="4abf8-138">The replacement occurs only if the following conditions are met:</span></span>

-   <span data-ttu-id="4abf8-139">La cadena debe comenzar con% ProgramFiles% o% COMMONPROGRAMFILES%.</span><span class="sxs-lookup"><span data-stu-id="4abf8-139">The string must begin with %ProgramFiles% or %commonprogramfiles%.</span></span> <span data-ttu-id="4abf8-140">Si la cadena comienza con un espacio o un carácter distinto de%, no se reemplaza.</span><span class="sxs-lookup"><span data-stu-id="4abf8-140">If the string begins with a space or any character other than %, it is not replaced.</span></span>
-   <span data-ttu-id="4abf8-141">El caso de% ProgramFiles% o% COMMONPROGRAMFILES% debe ser exactamente como se muestra porque la comparación de cadenas distingue entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="4abf8-141">The case of %ProgramFiles% or %commonprogramfiles% must be exactly as shown because the string comparison is case-sensitive.</span></span> <span data-ttu-id="4abf8-142">Por ejemplo, si la cadena comienza con% CommonProgramFiles% en lugar de% CommonProgramFiles%, no se reemplaza.</span><span class="sxs-lookup"><span data-stu-id="4abf8-142">For example, if the string begins with %CommonProgramFiles% instead of %commonprogramfiles%, it is not replaced.</span></span>
-   <span data-ttu-id="4abf8-143">La cadena no puede superar la ruta de acceso máxima de \_ \* 2 + 15 caracteres.</span><span class="sxs-lookup"><span data-stu-id="4abf8-143">The string cannot exceed MAX\_PATH\*2+15 characters.</span></span> <span data-ttu-id="4abf8-144">Si supera esta longitud, no se reemplaza.</span><span class="sxs-lookup"><span data-stu-id="4abf8-144">If it exceeds this length, it is not replaced.</span></span>
-   <span data-ttu-id="4abf8-145">No se puede abrir la clave con la clave \_ WOW64 \_ 64KEY.</span><span class="sxs-lookup"><span data-stu-id="4abf8-145">The key cannot be opened with KEY\_WOW64\_64KEY.</span></span> <span data-ttu-id="4abf8-146">Esta marca especifica que las operaciones en la clave deben realizarse en la vista del registro de 64 bits, por lo que no se reemplaza.</span><span class="sxs-lookup"><span data-stu-id="4abf8-146">This flag specifies that operations on the key should be performed on the 64-bit registry view, so it is not replaced.</span></span> <span data-ttu-id="4abf8-147">Para obtener más información, vea [obtener acceso a una vista del registro alternativa](accessing-an-alternate-registry-view.md).</span><span class="sxs-lookup"><span data-stu-id="4abf8-147">For more information, see [Accessing an Alternate Registry View](accessing-an-alternate-registry-view.md).</span></span>

<span data-ttu-id="4abf8-148">**Windows server 2008, Windows Vista, Windows server 2003 y Windows XP:** La \_ marca Key WOW \_ 64 \_ 64KEY no afecta a si se reemplaza una clave.</span><span class="sxs-lookup"><span data-stu-id="4abf8-148">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** The KEY\_WOW\_64\_64KEY flag does not affect whether a key is replaced.</span></span> <span data-ttu-id="4abf8-149">Esta marca afecta a la sustitución a partir de Windows 7 y Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="4abf8-149">This flag affects replacement starting with Windows 7 and Windows Server 2008 R2.</span></span>

<span data-ttu-id="4abf8-150">Además, \_ las claves reg SZ o REG \_ Expand \_ que contienen system32 se reemplazan por SysWow64.</span><span class="sxs-lookup"><span data-stu-id="4abf8-150">In addition, REG\_SZ or REG\_EXPAND\_SZ keys containing system32 are replaced with syswow64.</span></span> <span data-ttu-id="4abf8-151">La cadena debe comenzar por la ruta de acceso que señala a o en% WINDIR% \\ system32.</span><span class="sxs-lookup"><span data-stu-id="4abf8-151">The string must begin with the path pointing to or under %windir%\\system32.</span></span> <span data-ttu-id="4abf8-152">La comparación de cadenas no distingue entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="4abf8-152">The string comparison is not case-sensitive.</span></span> <span data-ttu-id="4abf8-153">Las variables de entorno se expanden antes de que coincidan con la ruta de acceso, por lo que se reemplazan todas las siguientes rutas de acceso:% WINDIR% \\ system32,% SystemRoot% \\ system32 y C: \\ Windows \\ system32.</span><span class="sxs-lookup"><span data-stu-id="4abf8-153">Environment variables are expanded before matching the path, so all of the following paths are replaced: %windir%\\system32, %SystemRoot%\\system32, and C:\\windows\\system32.</span></span> <span data-ttu-id="4abf8-154">Esta revisión solo se aplica a las claves que se han reflejado antes de Windows 7.</span><span class="sxs-lookup"><span data-stu-id="4abf8-154">This patch is applied only to the keys that were reflected prior to Windows 7.</span></span>

<span data-ttu-id="4abf8-155">Para obtener más información, vea los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="4abf8-155">For more information, see the following topics:</span></span>

-   [<span data-ttu-id="4abf8-156">Reflexión del registro</span><span class="sxs-lookup"><span data-stu-id="4abf8-156">Registry Reflection</span></span>](registry-reflection.md)
-   [<span data-ttu-id="4abf8-157">Claves del Registro afectadas por WOW64</span><span class="sxs-lookup"><span data-stu-id="4abf8-157">Registry Keys Affected by WOW64</span></span>](shared-registry-keys.md)
-   [<span data-ttu-id="4abf8-158">Obtener acceso a una vista del registro alternativa</span><span class="sxs-lookup"><span data-stu-id="4abf8-158">Accessing an Alternate Registry View</span></span>](accessing-an-alternate-registry-view.md)
-   [<span data-ttu-id="4abf8-159">Ejemplo de redirección del registro en WOW64</span><span class="sxs-lookup"><span data-stu-id="4abf8-159">Example of Registry Redirection on WOW64</span></span>](example-of-registry-reflection-and-redirection-on-wow64.md)
-   [<span data-ttu-id="4abf8-160">Acceso remoto al registro en Windows de 64 bits</span><span class="sxs-lookup"><span data-stu-id="4abf8-160">Remote Registry Access in 64-bit Windows</span></span>](remote-registry-access-in-64-bit-windows.md)

 

 




