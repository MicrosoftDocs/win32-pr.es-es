---
title: Información del conjunto de trabajo
description: El espacio de trabajo de un proceso es la cantidad de memoria asignada físicamente a su contexto de proceso. PSAPI permite tomar instantáneas del conjunto de trabajo o supervisar el conjunto de trabajo.
ms.assetid: 33c42f79-cc77-4d44-84c3-8bf0a4a60019
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b56e1e4dc0a68a9d4507a94ad1f5356432f8488a
ms.sourcegitcommit: b01ad017c152c6756f3638623fe335877644d414
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/06/2021
ms.locfileid: "111549867"
---
# <a name="working-set-information"></a><span data-ttu-id="e15ba-104">Información del conjunto de trabajo</span><span class="sxs-lookup"><span data-stu-id="e15ba-104">Working Set Information</span></span>

<span data-ttu-id="e15ba-105">El espacio de trabajo de un proceso es la cantidad de memoria asignada físicamente a su contexto de proceso.</span><span class="sxs-lookup"><span data-stu-id="e15ba-105">The working set of a process is the amount of memory physically mapped to its process context.</span></span> <span data-ttu-id="e15ba-106">PSAPI permite tomar instantáneas del conjunto de trabajo o supervisar el conjunto de trabajo.</span><span class="sxs-lookup"><span data-stu-id="e15ba-106">PSAPI enables you to take snapshots of the working set or to monitor the working set.</span></span>

<span data-ttu-id="e15ba-107">Las [**funciones QueryWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) o [**QueryWorkingSetEx**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) rellenan un búfer con una instantánea de la información de cada página del conjunto de trabajo actual del proceso especificado.</span><span class="sxs-lookup"><span data-stu-id="e15ba-107">The [**QueryWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) or [**QueryWorkingSetEx**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) function fills a buffer with a snapshot of the information for every page in the current working set of the specified process.</span></span> <span data-ttu-id="e15ba-108">La función notifica solo las páginas que están físicamente presentes en el momento exacto en que se llama.</span><span class="sxs-lookup"><span data-stu-id="e15ba-108">The function reports only those pages that are physically present at the exact moment it is called.</span></span>

<span data-ttu-id="e15ba-109">Puede usar la supervisión del espacio de trabajo para averiguar cuánta RAM adicional toma una operación determinada (por ejemplo, guardar un archivo).</span><span class="sxs-lookup"><span data-stu-id="e15ba-109">You can use working set monitoring to find out how much additional RAM a particular operation takes (for example, saving a file).</span></span> <span data-ttu-id="e15ba-110">Para empezar a supervisar el conjunto de trabajo, llame a [**la función InitializeProcessForWsWatch.**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch)</span><span class="sxs-lookup"><span data-stu-id="e15ba-110">To begin monitoring the working set, call the [**InitializeProcessForWsWatch**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch) function.</span></span> <span data-ttu-id="e15ba-111">No todos los procesos permiten leer la información del conjunto de trabajo, así que asegúrese de que la función devuelve un valor distinto de cero antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="e15ba-111">Not all processes let you read their working set information, so be sure that the function returns a nonzero value before you continue.</span></span> <span data-ttu-id="e15ba-112">A continuación, llame [**a la función GetWsChanges.**](/windows/desktop/api/Psapi/nf-psapi-getwschanges)</span><span class="sxs-lookup"><span data-stu-id="e15ba-112">Next, call the [**GetWsChanges**](/windows/desktop/api/Psapi/nf-psapi-getwschanges) function.</span></span> <span data-ttu-id="e15ba-113">Esta función notifica solo las páginas que se han cargado en memoria desde que empezó a supervisar el espacio de trabajo.</span><span class="sxs-lookup"><span data-stu-id="e15ba-113">This function reports only the pages that have been loaded in memory since you began monitoring the working set.</span></span> <span data-ttu-id="e15ba-114">La función devuelve datos en una matriz de estructuras DE INFORMACIÓN de [**\_ PSAPI WS \_ WATCH, \_**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) una estructura para cada nueva página agregada al conjunto de trabajo del proceso.</span><span class="sxs-lookup"><span data-stu-id="e15ba-114">The function returns data in an array of [**PSAPI\_WS\_WATCH\_INFORMATION**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) structures, one structure for each new page added to the working set of the process.</span></span> <span data-ttu-id="e15ba-115">La estructura indica qué páginas están en memoria y qué hizo que el sistema las paginase.</span><span class="sxs-lookup"><span data-stu-id="e15ba-115">The structure tells you which pages are in memory, and what caused the system to page them in.</span></span>

<span data-ttu-id="e15ba-116">La [**función EmptyWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) toma un identificador de proceso.</span><span class="sxs-lookup"><span data-stu-id="e15ba-116">The [**EmptyWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) function takes a process handle.</span></span> <span data-ttu-id="e15ba-117">Quita tantas páginas como sea posible del conjunto de trabajo del proceso.</span><span class="sxs-lookup"><span data-stu-id="e15ba-117">It removes as many pages as possible from the process working set.</span></span> <span data-ttu-id="e15ba-118">Esta operación es útil principalmente para las pruebas y el ajuste.</span><span class="sxs-lookup"><span data-stu-id="e15ba-118">This operation is useful primarily for testing and tuning.</span></span> <span data-ttu-id="e15ba-119">Tenga en cuenta que la función [**SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize) hace lo mismo si se pasa -1 para los tamaños mínimo y máximo.</span><span class="sxs-lookup"><span data-stu-id="e15ba-119">Note that the [**SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize) function does the same thing if you pass it -1 for the minimum and maximum sizes.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e15ba-120">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e15ba-120">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e15ba-121">Espacio de trabajo</span><span class="sxs-lookup"><span data-stu-id="e15ba-121">Working Set</span></span>](/windows/desktop/Memory/working-set)
</dt> </dl>

 

 