---
description: Configuración de códecs DMOs
ms.assetid: 431b33f1-ceb0-4f1b-a9f2-72e88b63f973
title: Configuración de códecs DMOs
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 564c0e6c566d9f583a495238f3ea6f0716d7adde
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104496816"
---
# <a name="configuring-codec-dmos"></a><span data-ttu-id="27b3f-103">Configuración de códecs DMOs</span><span class="sxs-lookup"><span data-stu-id="27b3f-103">Configuring Codec DMOs</span></span>

<span data-ttu-id="27b3f-104">En este tema se describe el proceso de configuración del códec DMOs.</span><span class="sxs-lookup"><span data-stu-id="27b3f-104">This topic describes the process of configuring the codec DMOs.</span></span> <span data-ttu-id="27b3f-105">Cada códec tiene procedimientos específicos, pero la información común a todos se describe aquí.</span><span class="sxs-lookup"><span data-stu-id="27b3f-105">Each codec has specific procedures, but the information common to all is described here.</span></span>

## <a name="configuring-dmo-inputs-and-outputs"></a><span data-ttu-id="27b3f-106">Configuración de entradas y salidas de DMO</span><span class="sxs-lookup"><span data-stu-id="27b3f-106">Configuring DMO Inputs and Outputs</span></span>

<span data-ttu-id="27b3f-107">Cada DMO admite tipos de entrada y salida concretos.</span><span class="sxs-lookup"><span data-stu-id="27b3f-107">Every DMO supports specific input and output types.</span></span> <span data-ttu-id="27b3f-108">Puede recuperar los tipos admitidos para las entradas y salidas llamando a [**IMediaObject:: GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) para las entradas y [**IMediaObject:: GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype) para las salidas.</span><span class="sxs-lookup"><span data-stu-id="27b3f-108">You can retrieve supported types for inputs and outputs by calling [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) for inputs and [**IMediaObject::GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype) for outputs.</span></span> <span data-ttu-id="27b3f-109">Puede enumerar los formatos admitidos realizando llamadas repetidas a cualquier método, incrementando el índice de tipo con cada llamada.</span><span class="sxs-lookup"><span data-stu-id="27b3f-109">You can enumerate the supported formats by making repeated calls to either method, incrementing the type index with each call.</span></span> <span data-ttu-id="27b3f-110">Cuando el índice supera el del tipo compatible final, la llamada devuelve DMO \_ E \_ no hay \_ más \_ elementos.</span><span class="sxs-lookup"><span data-stu-id="27b3f-110">When the index exceeds that of the final supported type, the call returns DMO\_E\_NO\_MORE\_ITEMS.</span></span>

<span data-ttu-id="27b3f-111">En el caso de los códecs de vídeo, solo se enumera un tipo de salida o de entrada para un subtipo de medio determinado.</span><span class="sxs-lookup"><span data-stu-id="27b3f-111">For the video codecs, only one output type or input type is enumerated for a given media subtype.</span></span> <span data-ttu-id="27b3f-112">En el caso de los códecs de audio, se enumera cada tipo compatible individual.</span><span class="sxs-lookup"><span data-stu-id="27b3f-112">For the audio codecs, each individual supported type is enumerated.</span></span> <span data-ttu-id="27b3f-113">Para obtener más información sobre los tipos admitidos para códecs individuales, consulte [trabajar con audio](workingwithaudio.md) y [trabajar con vídeo](workingwithvideo.md).</span><span class="sxs-lookup"><span data-stu-id="27b3f-113">For more information about supported types for individual codecs, see [Working with Audio](workingwithaudio.md) and [Working with Video](workingwithvideo.md).</span></span>

<span data-ttu-id="27b3f-114">Después de configurar los tipos de medios para los flujos de entrada y salida, establézcalo llamando a [**IMediaObject:: SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) y [**IMediaObject:: SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype) respectivamente.</span><span class="sxs-lookup"><span data-stu-id="27b3f-114">After you configure the media types for the input and output streams, set them by calling [**IMediaObject::SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) and [**IMediaObject::SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype) respectively.</span></span> <span data-ttu-id="27b3f-115">Ambos métodos devuelven **el \_ tipo DMO E \_ \_ no \_ aceptado** si el tipo especificado no es válido.</span><span class="sxs-lookup"><span data-stu-id="27b3f-115">Both of these methods return **DMO\_E\_TYPE\_NOT\_ACCEPTED** if the specified type is invalid.</span></span>

## <a name="configuring-the-codec-dmos-for-encoding"></a><span data-ttu-id="27b3f-116">Configuración del códec DMOs para la codificación</span><span class="sxs-lookup"><span data-stu-id="27b3f-116">Configuring the Codec DMOs for Encoding</span></span>

<span data-ttu-id="27b3f-117">Todos los códecs de Windows Media Audio y vídeo admiten una variedad de características de codificación.</span><span class="sxs-lookup"><span data-stu-id="27b3f-117">All of the Windows Media Audio and Video codecs support a variety of encoding features.</span></span> <span data-ttu-id="27b3f-118">Estas características se configuran generalmente mediante el establecimiento de propiedades en DMO mediante los métodos de la interfaz **IPropertyBag** .</span><span class="sxs-lookup"><span data-stu-id="27b3f-118">These features are generally configured by setting properties on the DMO by using the methods of the **IPropertyBag** interface.</span></span> <span data-ttu-id="27b3f-119">Algunas propiedades se configuran mediante interfaces de códec especializadas.</span><span class="sxs-lookup"><span data-stu-id="27b3f-119">Some properties are configured using specialized codec interfaces.</span></span> <span data-ttu-id="27b3f-120">Estas interfaces se enumeran para cada códec en la sección [objetos de códec](codecobjects.md).</span><span class="sxs-lookup"><span data-stu-id="27b3f-120">These interfaces are listed for each codec in the section [Codec Objects](codecobjects.md).</span></span>

<span data-ttu-id="27b3f-121">El orden general de las operaciones para configurar DMO de codificación es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="27b3f-121">The general order of operations for configuring an encoding DMO is as follows:</span></span>

1.  <span data-ttu-id="27b3f-122">Configure las características del códec según sea necesario mediante los métodos de **IPropertyBag**.</span><span class="sxs-lookup"><span data-stu-id="27b3f-122">Configure codec features as desired by using the methods of **IPropertyBag**.</span></span>
2.  <span data-ttu-id="27b3f-123">Use las interfaces de códec DMO para configurar características adicionales, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="27b3f-123">Use the codec DMO interfaces to configure additional features, if needed.</span></span>
3.  <span data-ttu-id="27b3f-124">Configure los tipos de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="27b3f-124">Configure the input and output types.</span></span> <span data-ttu-id="27b3f-125">El orden en que deben configurarse los tipos varía en los códecs individuales.</span><span class="sxs-lookup"><span data-stu-id="27b3f-125">The order in which the types should be configured varies for individual codecs.</span></span> <span data-ttu-id="27b3f-126">Para obtener más información, consulte [trabajar con audio](workingwithaudio.md) y [trabajar con vídeo](workingwithvideo.md).</span><span class="sxs-lookup"><span data-stu-id="27b3f-126">For more information, see [Working with Audio](workingwithaudio.md) and [Working with Video](workingwithvideo.md).</span></span>

## <a name="configuring-the-codec-dmos-for-decoding"></a><span data-ttu-id="27b3f-127">Configuración del códec DMOs para la descodificación</span><span class="sxs-lookup"><span data-stu-id="27b3f-127">Configuring the Codec DMOs for Decoding</span></span>

<span data-ttu-id="27b3f-128">La descodificación es más sencilla que la codificación, ya que se admiten menos características de descodificador.</span><span class="sxs-lookup"><span data-stu-id="27b3f-128">Decoding is simpler than encoding, as fewer decoder features are supported.</span></span>

<span data-ttu-id="27b3f-129">El orden general de las operaciones para configurar una DMO de descodificación es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="27b3f-129">The general order of operations for configuring a decoding DMO is as follows:</span></span>

1.  <span data-ttu-id="27b3f-130">Configure las características del descodificador según sea necesario mediante los métodos de **IPropertyBag**.</span><span class="sxs-lookup"><span data-stu-id="27b3f-130">Configure decoder features as desired by using the methods of **IPropertyBag**.</span></span>
2.  <span data-ttu-id="27b3f-131">Establezca el tipo de entrada en el tipo que se usa para la salida del codificador.</span><span class="sxs-lookup"><span data-stu-id="27b3f-131">Set the input type to the type used for the encoder output.</span></span>
3.  <span data-ttu-id="27b3f-132">Configure el tipo de salida.</span><span class="sxs-lookup"><span data-stu-id="27b3f-132">Configure the output type.</span></span> <span data-ttu-id="27b3f-133">Los tipos de salida admitidos son diferentes para las distintas entradas.</span><span class="sxs-lookup"><span data-stu-id="27b3f-133">The supported output types are different for different inputs.</span></span>

> [!Note]  
> <span data-ttu-id="27b3f-134">Es importante usar el mismo tipo de medio para la entrada del descodificador que se usó para la salida del codificador.</span><span class="sxs-lookup"><span data-stu-id="27b3f-134">It is important to use the same media type for the decoder input as was used for the encoder output.</span></span> <span data-ttu-id="27b3f-135">Esto se debe a que los códecs de Windows Media Audio y vídeo usan formatos de medios con datos adicionales.</span><span class="sxs-lookup"><span data-stu-id="27b3f-135">This is because the Windows Media Audio and Video codecs use media formats with extra data.</span></span> <span data-ttu-id="27b3f-136">Estos datos se anexan a la estructura a la que apunta el miembro **pbFormat** de la estructura de [**\_ \_ tipo de medio DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) (normalmente [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) o [**WAVEFORMATEX**](/previous-versions/dd757713(v=vs.85))).</span><span class="sxs-lookup"><span data-stu-id="27b3f-136">This data is appended to the structure pointed to by the **pbFormat** member of the [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure (usually [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) or [**WAVEFORMATEX**](/previous-versions/dd757713(v=vs.85))).</span></span> <span data-ttu-id="27b3f-137">Para algunos tipos, los datos adicionales forman parte del tipo de salida del codificador enumerado.</span><span class="sxs-lookup"><span data-stu-id="27b3f-137">For some types the extra data is part of the enumerated encoder output type.</span></span> <span data-ttu-id="27b3f-138">Otros tipos requieren que anexe estos datos manualmente.</span><span class="sxs-lookup"><span data-stu-id="27b3f-138">Other types require you to append this data manually.</span></span> <span data-ttu-id="27b3f-139">Sin los datos de formato extendido, no se puede descodificar el contenido comprimido.</span><span class="sxs-lookup"><span data-stu-id="27b3f-139">Without the extended format data, you cannot decode the compressed content.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="27b3f-140">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="27b3f-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="27b3f-141">Trabajar con códec DMOs</span><span class="sxs-lookup"><span data-stu-id="27b3f-141">Working with Codec DMOs</span></span>](workingwithcodecdmos.md)
</dt> </dl>

 

 
