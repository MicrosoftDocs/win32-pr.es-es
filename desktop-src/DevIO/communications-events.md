---
description: Un proceso puede supervisar un conjunto de eventos que se producen en un recurso de comunicaciones. Por ejemplo, una aplicación puede usar la supervisión de eventos para determinar si las señales CTS (Clear-to-send) y DSR (conjunto de datos preparado) cambian de estado.
ms.assetid: 5d2a7bf3-a972-474b-b8ca-da3351f1e59c
title: Eventos de comunicaciones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 466bd5076405427c7c348c1df3706cb7b5c3edc4
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104153097"
---
# <a name="communications-events"></a><span data-ttu-id="5c55d-104">Eventos de comunicaciones</span><span class="sxs-lookup"><span data-stu-id="5c55d-104">Communications Events</span></span>

<span data-ttu-id="5c55d-105">Un proceso puede supervisar un conjunto de eventos que se producen en un recurso de comunicaciones.</span><span class="sxs-lookup"><span data-stu-id="5c55d-105">A process can monitor a set of events that occur in a communications resource.</span></span> <span data-ttu-id="5c55d-106">Por ejemplo, una aplicación puede usar la supervisión de eventos para determinar si las señales CTS (Clear-to-send) y DSR (conjunto de datos preparado) cambian de estado.</span><span class="sxs-lookup"><span data-stu-id="5c55d-106">For example, an application can use event monitoring to determine when the CTS (clear-to-send) and DSR (data-set-ready) signals change state.</span></span>

<span data-ttu-id="5c55d-107">Un proceso puede supervisar eventos en un recurso de comunicaciones determinado mediante la función [**SetCommMask**](/windows/desktop/api/Winbase/nf-winbase-setcommmask) para crear una máscara de eventos.</span><span class="sxs-lookup"><span data-stu-id="5c55d-107">A process can monitor events on a given communications resource by using the [**SetCommMask**](/windows/desktop/api/Winbase/nf-winbase-setcommmask) function to create an event mask.</span></span> <span data-ttu-id="5c55d-108">Para determinar la máscara de eventos actual para un recurso de comunicaciones, un proceso puede utilizar la función [**GetCommMask**](/windows/desktop/api/Winbase/nf-winbase-getcommmask) .</span><span class="sxs-lookup"><span data-stu-id="5c55d-108">To determine the current event mask for a communications resource, a process can use the [**GetCommMask**](/windows/desktop/api/Winbase/nf-winbase-getcommmask) function.</span></span> <span data-ttu-id="5c55d-109">Los valores siguientes especifican los eventos que se pueden supervisar.</span><span class="sxs-lookup"><span data-stu-id="5c55d-109">The following values specify events that can be monitored.</span></span>



| <span data-ttu-id="5c55d-110">Value</span><span class="sxs-lookup"><span data-stu-id="5c55d-110">Value</span></span>           | <span data-ttu-id="5c55d-111">Significado</span><span class="sxs-lookup"><span data-stu-id="5c55d-111">Meaning</span></span>                                                                                                                                                                                                                                           |
|-----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5c55d-112">**interrupción de EV \_**</span><span class="sxs-lookup"><span data-stu-id="5c55d-112">**EV\_BREAK**</span></span>   | <span data-ttu-id="5c55d-113">Se ha detectado una interrupción en la entrada.</span><span class="sxs-lookup"><span data-stu-id="5c55d-113">A break was detected on input.</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="5c55d-114">**EV \_ CTS**</span><span class="sxs-lookup"><span data-stu-id="5c55d-114">**EV\_CTS**</span></span>     | <span data-ttu-id="5c55d-115">El estado de la señal CTS (Clear-to-send) cambió.</span><span class="sxs-lookup"><span data-stu-id="5c55d-115">The CTS (clear-to-send) signal changed state.</span></span>                                                                                                                                                                                                     |
| <span data-ttu-id="5c55d-116">**DSR de EV \_**</span><span class="sxs-lookup"><span data-stu-id="5c55d-116">**EV\_DSR**</span></span>     | <span data-ttu-id="5c55d-117">El estado de la señal DSR (preparado para conjuntos de datos) cambió.</span><span class="sxs-lookup"><span data-stu-id="5c55d-117">The DSR (data-set-ready) signal changed state.</span></span>                                                                                                                                                                                                    |
| <span data-ttu-id="5c55d-118">**error de EV \_**</span><span class="sxs-lookup"><span data-stu-id="5c55d-118">**EV\_ERR**</span></span>     | <span data-ttu-id="5c55d-119">Se produjo un error de estado de línea.</span><span class="sxs-lookup"><span data-stu-id="5c55d-119">A line-status error occurred.</span></span> <span data-ttu-id="5c55d-120">Los errores de estado de línea son **\_ fotograma CE**, **\_ saturación de CE** y **\_ RXPARITY de CE**.</span><span class="sxs-lookup"><span data-stu-id="5c55d-120">Line-status errors are **CE\_FRAME**, **CE\_OVERRUN**, and **CE\_RXPARITY**.</span></span>                                                                                                                                        |
| <span data-ttu-id="5c55d-121">**\_anillo EV**</span><span class="sxs-lookup"><span data-stu-id="5c55d-121">**EV\_RING**</span></span>    | <span data-ttu-id="5c55d-122">Se ha detectado un indicador de llamada.</span><span class="sxs-lookup"><span data-stu-id="5c55d-122">A ring indicator was detected.</span></span>                                                                                                                                                                                                                    |
| <span data-ttu-id="5c55d-123">**RLSD de EV \_**</span><span class="sxs-lookup"><span data-stu-id="5c55d-123">**EV\_RLSD**</span></span>    | <span data-ttu-id="5c55d-124">El estado de la señal RLSD (recepción-línea-señal-detección) cambió.</span><span class="sxs-lookup"><span data-stu-id="5c55d-124">The RLSD (receive-line-signal-detect) signal changed state.</span></span>                                                                                                                                                                                       |
| <span data-ttu-id="5c55d-125">**EV \_ RXCHAR**</span><span class="sxs-lookup"><span data-stu-id="5c55d-125">**EV\_RXCHAR**</span></span>  | <span data-ttu-id="5c55d-126">Se ha recibido y colocado un carácter en el búfer de entrada.</span><span class="sxs-lookup"><span data-stu-id="5c55d-126">A character was received and placed in the input buffer.</span></span>                                                                                                                                                                                          |
| <span data-ttu-id="5c55d-127">**EV \_ RXFLAG**</span><span class="sxs-lookup"><span data-stu-id="5c55d-127">**EV\_RXFLAG**</span></span>  | <span data-ttu-id="5c55d-128">El carácter de evento se ha recibido y colocado en el búfer de entrada.</span><span class="sxs-lookup"><span data-stu-id="5c55d-128">The event character was received and placed in the input buffer.</span></span> <span data-ttu-id="5c55d-129">El carácter de evento se especifica en la estructura [**DCB**](/windows/desktop/api/Winbase/ns-winbase-dcb) del dispositivo, que se aplica a un puerto serie mediante la función [**SetCommState**](/windows/desktop/api/Winbase/nf-winbase-setcommstate) .</span><span class="sxs-lookup"><span data-stu-id="5c55d-129">The event character is specified in the device's [**DCB**](/windows/desktop/api/Winbase/ns-winbase-dcb) structure, which is applied to a serial port by using the [**SetCommState**](/windows/desktop/api/Winbase/nf-winbase-setcommstate) function.</span></span> |
| <span data-ttu-id="5c55d-130">**EV \_ TXEMPTY**</span><span class="sxs-lookup"><span data-stu-id="5c55d-130">**EV\_TXEMPTY**</span></span> | <span data-ttu-id="5c55d-131">Se envió el último carácter del búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="5c55d-131">The last character in the output buffer was sent.</span></span>                                                                                                                                                                                                 |



 

<span data-ttu-id="5c55d-132">Una vez que se especifica un conjunto de eventos, un proceso utiliza la función [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) para esperar a que se produzca uno de los eventos.</span><span class="sxs-lookup"><span data-stu-id="5c55d-132">After a set of events is specified, a process uses the [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) function to wait for one of the events to occur.</span></span> <span data-ttu-id="5c55d-133">**WaitCommEvent** se puede utilizar sincrónicamente o como una operación superpuesta.</span><span class="sxs-lookup"><span data-stu-id="5c55d-133">**WaitCommEvent** can be used synchronously or as an overlapped operation.</span></span> <span data-ttu-id="5c55d-134">Para obtener información adicional sobre la ejecución de una función como una operación superpuesta, vea [Synchronization](/windows/desktop/Sync/synchronization).</span><span class="sxs-lookup"><span data-stu-id="5c55d-134">For additional information about executing a function as an overlapped operation, see [Synchronization](/windows/desktop/Sync/synchronization).</span></span>

<span data-ttu-id="5c55d-135">Cuando se produce uno de los eventos especificados en la máscara de eventos, el proceso completa la operación de espera y establece una variable de máscara de eventos para indicar el tipo de evento detectado.</span><span class="sxs-lookup"><span data-stu-id="5c55d-135">When one of the events specified in the event mask occurs, the process completes the wait operation and sets an event mask variable to indicate the type of event detected.</span></span> <span data-ttu-id="5c55d-136">Si se llama a [**SetCommMask**](/windows/desktop/api/Winbase/nf-winbase-setcommmask) para un recurso de comunicaciones mientras hay una espera pendiente para ese recurso, [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) devuelve un error.</span><span class="sxs-lookup"><span data-stu-id="5c55d-136">If the [**SetCommMask**](/windows/desktop/api/Winbase/nf-winbase-setcommmask) is called for a communications resource while a wait is pending for that resource, [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) returns an error.</span></span>

<span data-ttu-id="5c55d-137">La función [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) detecta eventos que se han producido desde la última llamada a [**SetCommMask**](/windows/desktop/api/Winbase/nf-winbase-setcommmask) o **WaitCommEvent**.</span><span class="sxs-lookup"><span data-stu-id="5c55d-137">The [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) function detects events that have occurred since the last call to [**SetCommMask**](/windows/desktop/api/Winbase/nf-winbase-setcommmask) or **WaitCommEvent**.</span></span> <span data-ttu-id="5c55d-138">Por ejemplo, si especifica el evento **EV \_ RXCHAR** como evento de espera, se cumplirá una llamada a **WaitCommEvent** si hay caracteres en el búfer de entrada del controlador que han llegado desde la última llamada a **WaitCommEvent** o **SetCommMask**.</span><span class="sxs-lookup"><span data-stu-id="5c55d-138">For example, if you specify the **EV\_RXCHAR** event as a wait-satisfying event, a call to **WaitCommEvent** will be satisfied if there are characters in the driver's input buffer that have arrived since the last call to **WaitCommEvent** or **SetCommMask**.</span></span> <span data-ttu-id="5c55d-139">Por lo tanto, en el siguiente pseudocódigo, los caracteres recibidos entre T1 y T2 satisfarán la siguiente llamada a **WaitCommEvent**.</span><span class="sxs-lookup"><span data-stu-id="5c55d-139">Thus, given the following pseudocode, any characters received between T1 and T2 will satisfy the next call to **WaitCommEvent**.</span></span>


```C++
while (!bFinished) 
{ 
    WaitCommEvent(args)
 
T1: // Read bytes 
    // Process bytes 

T2: 
}
```



<span data-ttu-id="5c55d-140">Al supervisar un evento que se produce cuando cambia el estado de una señal (CTS, DSR, etc.), [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) informa del cambio, pero no del estado actual.</span><span class="sxs-lookup"><span data-stu-id="5c55d-140">When monitoring an event that occurs when a signal (CTS, DSR, and so on) changes state, [**WaitCommEvent**](/windows/desktop/api/Winbase/nf-winbase-waitcommevent) reports the change, but not the current state.</span></span> <span data-ttu-id="5c55d-141">Para consultar el estado actual de las señales CTS (Clear-to-send), DSR (conjunto de datos preparado), RLSD (Receive-line-Signal-detect) y de indicador de anillo, un proceso puede usar la función [**GetCommModemStatus**](/windows/desktop/api/Winbase/nf-winbase-getcommmodemstatus) .</span><span class="sxs-lookup"><span data-stu-id="5c55d-141">To query the current state of the CTS (clear-to-send), DSR (data-set-ready), RLSD (receive-line-signal-detect), and ring indicator signals, a process can use the [**GetCommModemStatus**](/windows/desktop/api/Winbase/nf-winbase-getcommmodemstatus) function.</span></span>

 

 
