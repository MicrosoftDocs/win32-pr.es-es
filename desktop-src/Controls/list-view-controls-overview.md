---
title: Acerca de List-View controles
description: Un control de vista de lista es una ventana que muestra una colección de elementos.
ms.assetid: 163f7778-690c-4166-b0c5-c7be1a03ae98
ms.topic: article
ms.date: 05/31/2018
ms.custom: project-verbatim
ms.openlocfilehash: 592684378b4264319d790b1e2e05eb9e0ae37f28
ms.sourcegitcommit: 0f7a8198bacd5493ab1e78a9583c7a3578794765
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/25/2021
ms.locfileid: "110424335"
---
# <a name="about-list-view-controls"></a><span data-ttu-id="815e7-103">Acerca de List-View controles</span><span class="sxs-lookup"><span data-stu-id="815e7-103">About List-View Controls</span></span>

<span data-ttu-id="815e7-104">Consulte el [ejemplo de control ListView virtual](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span><span class="sxs-lookup"><span data-stu-id="815e7-104">See the [Virtual listview control sample](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span></span>

<span data-ttu-id="815e7-105">Un control de vista de lista es una ventana que muestra una colección de elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-105">A list-view control is a window that displays a collection of items.</span></span> <span data-ttu-id="815e7-106">Los controles de vista de lista proporcionan varias maneras de organizar y mostrar elementos y son mucho más flexibles que los [cuadros de lista simples.](list-boxes.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-106">List-view controls provide several ways to arrange and display items and are much more flexible than simple [List Boxes](list-boxes.md).</span></span> <span data-ttu-id="815e7-107">Por ejemplo, se puede mostrar información adicional sobre cada elemento en columnas a la derecha del icono y la etiqueta.</span><span class="sxs-lookup"><span data-stu-id="815e7-107">For example, additional information about each item can be displayed in columns to the right of the icon and label.</span></span>

-   [<span data-ttu-id="815e7-108">Estilos y vistas de vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-108">List-View Styles and Views</span></span>](#list-view-styles-and-views)
    -   [<span data-ttu-id="815e7-109">Estilos de List-View extendidos</span><span class="sxs-lookup"><span data-stu-id="815e7-109">Extended List-View Styles</span></span>](#extended-list-view-styles)
-   [<span data-ttu-id="815e7-110">Estilo List-View virtual</span><span class="sxs-lookup"><span data-stu-id="815e7-110">Virtual List-View Style</span></span>](#virtual-list-view-style)
    -   [<span data-ttu-id="815e7-111">Crear un control de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="815e7-111">Creating a Virtual List-View Control</span></span>](#creating-a-virtual-list-view-control)
    -   [<span data-ttu-id="815e7-112">Problemas de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="815e7-112">Compatibility Issues</span></span>](#compatibility-issues)
    -   [<span data-ttu-id="815e7-113">Control de códigos de notificación List-View control virtual</span><span class="sxs-lookup"><span data-stu-id="815e7-113">Handling Virtual List-View Control Notification Codes</span></span>](#handling-virtual-list-view-control-notification-codes)
    -   [<span data-ttu-id="815e7-114">Administración de caché</span><span class="sxs-lookup"><span data-stu-id="815e7-114">Cache Management</span></span>](#cache-management)
-   [<span data-ttu-id="815e7-115">Áreas de trabajo con vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-115">List-View Working Areas</span></span>](#list-view-working-areas)
-   [<span data-ttu-id="815e7-116">Listas de imágenes de vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-116">List-View Image Lists</span></span>](#list-view-image-lists)
-   [<span data-ttu-id="815e7-117">Elementos y subelementos de vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-117">List-View Items and Subitems</span></span>](#list-view-items-and-subitems)
    -   [<span data-ttu-id="815e7-118">Estados del elemento List-View</span><span class="sxs-lookup"><span data-stu-id="815e7-118">List-View Item States</span></span>](#list-view-item-states)
    -   [<span data-ttu-id="815e7-119">Elementos de devolución de llamada y la máscara de devolución de llamada</span><span class="sxs-lookup"><span data-stu-id="815e7-119">Callback Items and the Callback Mask</span></span>](#callback-items-and-the-callback-mask)
    -   [<span data-ttu-id="815e7-120">Posición del elemento List-View</span><span class="sxs-lookup"><span data-stu-id="815e7-120">List-View Item Position</span></span>](#list-view-item-position)
    -   [<span data-ttu-id="815e7-121">Organizar, ordenar y buscar elementos</span><span class="sxs-lookup"><span data-stu-id="815e7-121">Arranging, Sorting, and Finding Items</span></span>](#arranging-sorting-and-finding-items)
-   [<span data-ttu-id="815e7-122">Columnas de vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-122">List-View Columns</span></span>](#list-view-columns)
-   [<span data-ttu-id="815e7-123">Posición de desplazamiento de la vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-123">List-View Scroll Position</span></span>](#list-view-scroll-position)
-   [<span data-ttu-id="815e7-124">Edición de etiquetas de vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-124">List-View Label Editing</span></span>](#list-view-label-editing)
-   [<span data-ttu-id="815e7-125">Colores de la vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-125">List-View Colors</span></span>](#list-view-colors)
-   [<span data-ttu-id="815e7-126">Organizar elementos de lista por grupo</span><span class="sxs-lookup"><span data-stu-id="815e7-126">Arranging List Items by Group</span></span>](#arranging-list-items-by-group)
-   [<span data-ttu-id="815e7-127">Marcas de inserción</span><span class="sxs-lookup"><span data-stu-id="815e7-127">Insertion Marks</span></span>](#insertion-marks)

## <a name="list-view-styles-and-views"></a><span data-ttu-id="815e7-128">List-View estilos y vistas</span><span class="sxs-lookup"><span data-stu-id="815e7-128">List-View Styles and Views</span></span>

<span data-ttu-id="815e7-129">Los controles de vista de lista pueden mostrar elementos en cinco vistas diferentes.</span><span class="sxs-lookup"><span data-stu-id="815e7-129">List-view controls can display items in five different views.</span></span> <span data-ttu-id="815e7-130">El estilo de ventana del control especifica la vista predeterminada.</span><span class="sxs-lookup"><span data-stu-id="815e7-130">The control's window style specifies the default view.</span></span> <span data-ttu-id="815e7-131">Los estilos de ventana adicionales especifican la alineación de elementos y características específicas del control.</span><span class="sxs-lookup"><span data-stu-id="815e7-131">Additional window styles specify the alignment of items and control-specific features.</span></span> <span data-ttu-id="815e7-132">En la tabla siguiente se describen las vistas.</span><span class="sxs-lookup"><span data-stu-id="815e7-132">The following table describes the views.</span></span>



| <span data-ttu-id="815e7-133">Nombre de vista</span><span class="sxs-lookup"><span data-stu-id="815e7-133">View Name</span></span>             | <span data-ttu-id="815e7-134">Descripción</span><span class="sxs-lookup"><span data-stu-id="815e7-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="815e7-135">Vista de iconos</span><span class="sxs-lookup"><span data-stu-id="815e7-135">Icon view</span></span>             | <span data-ttu-id="815e7-136">Se especifica mediante el [**estilo de ventana LVS \_ ICON**](list-view-window-styles.md) o pasando **LV VIEW \_ \_ ICON** con el [**mensaje \_ SETVIEW de LVM.**](lvm-setview.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-136">Specified by the [**LVS\_ICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_ICON** with the [**LVM\_SETVIEW**](lvm-setview.md) message.</span></span> <span data-ttu-id="815e7-137">Cada elemento aparece como un icono de tamaño normal debajo del cual figura una etiqueta.</span><span class="sxs-lookup"><span data-stu-id="815e7-137">Each item appears as a full-sized icon with a label below it.</span></span> <span data-ttu-id="815e7-138">El usuario puede arrastrar los elementos a cualquier ubicación de la ventana de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-138">The user can drag the items to any location in the list-view window.</span></span>                                                                                                                                                                                                                                         |
| <span data-ttu-id="815e7-139">Vista de icono pequeño</span><span class="sxs-lookup"><span data-stu-id="815e7-139">Small icon view</span></span>       | <span data-ttu-id="815e7-140">Especificado por el estilo [**de ventana LVS \_ SMALLICON**](list-view-window-styles.md) o pasando **LV VIEW \_ \_ SMALLICON** con [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-140">Specified by the [**LVS\_SMALLICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_SMALLICON** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="815e7-141">Cada elemento aparece como un icono pequeño con la etiqueta a la derecha.</span><span class="sxs-lookup"><span data-stu-id="815e7-141">Each item appears as a small icon with the label to the right of it.</span></span> <span data-ttu-id="815e7-142">El usuario puede arrastrar los elementos a cualquier ubicación.</span><span class="sxs-lookup"><span data-stu-id="815e7-142">The user can drag the items to any location.</span></span>                                                                                                                                                                                                                                                       |
| <span data-ttu-id="815e7-143">Vista de lista</span><span class="sxs-lookup"><span data-stu-id="815e7-143">List view</span></span>             | <span data-ttu-id="815e7-144">Especificado por el estilo [**de ventana LVS \_ LIST**](list-view-window-styles.md) o pasando **LV VIEW \_ \_ LIST** con [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-144">Specified by the [**LVS\_LIST**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_LIST** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="815e7-145">Cada elemento aparece como un icono pequeño con una etiqueta a la derecha.</span><span class="sxs-lookup"><span data-stu-id="815e7-145">Each item appears as a small icon with a label to the right of it.</span></span> <span data-ttu-id="815e7-146">Los elementos se organizan en columnas y el usuario no puede arrastrarlos a una ubicación arbitraria.</span><span class="sxs-lookup"><span data-stu-id="815e7-146">Items are arranged in columns and the user cannot drag them to an arbitrary location.</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="815e7-147">Vista Informe (detalles)</span><span class="sxs-lookup"><span data-stu-id="815e7-147">Report (details) view</span></span> | <span data-ttu-id="815e7-148">Especificado por el estilo de [**ventana \_ INFORME de LVS**](list-view-window-styles.md) o pasando **LV VIEW \_ \_ DETAILS** con [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-148">Specified by the [**LVS\_REPORT**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_DETAILS** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="815e7-149">Cada elemento aparece en su propia línea, con información organizada en columnas.</span><span class="sxs-lookup"><span data-stu-id="815e7-149">Each item appears on its own line, with information arranged in columns.</span></span> <span data-ttu-id="815e7-150">La columna situada más a la izquierda siempre se justifica a la izquierda y contiene el icono pequeño y la etiqueta.</span><span class="sxs-lookup"><span data-stu-id="815e7-150">The leftmost column is always left justified and contains the small icon and label.</span></span> <span data-ttu-id="815e7-151">Las columnas posteriores contienen subelementos según lo especificado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="815e7-151">Subsequent columns contain subitems as specified by the application.</span></span> <span data-ttu-id="815e7-152">Cada columna tiene un encabezado , a menos que también especifique el [**estilo de ventana \_ LVS NOCOLUMNHEADER.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-152">Each column has a header, unless you also specify the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style.</span></span> |
| <span data-ttu-id="815e7-153">Vista de mosaico</span><span class="sxs-lookup"><span data-stu-id="815e7-153">Tile View</span></span>             | <span data-ttu-id="815e7-154">**Versión 6 y posteriores.**</span><span class="sxs-lookup"><span data-stu-id="815e7-154">**Version 6 and later.**</span></span> <span data-ttu-id="815e7-155">Se especifica pasando **LV \_ VIEW \_ TILE** con [**LVM \_ SETVIEW.**](lvm-setview.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-155">Specified by passing **LV\_VIEW\_TILE** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="815e7-156">Cada elemento aparece como un icono de tamaño completo con una etiqueta de una o más líneas junto a él.</span><span class="sxs-lookup"><span data-stu-id="815e7-156">Each item appears as a full-sized icon with a label of one or more lines beside it.</span></span>                                                                                                                                                                                                                                                                                                                                                        |



 

<span data-ttu-id="815e7-157">Las siguientes capturas de pantalla usan vistas para mostrar diferentes cantidades de información sobre cada una de las siete mascotas.</span><span class="sxs-lookup"><span data-stu-id="815e7-157">The following screen shots use views to show different amounts of information about each of seven pets.</span></span> <span data-ttu-id="815e7-158">Las vistas muestran cómo podría aparecer la información en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="815e7-158">The views demonstrate how the information might appear on Windows Vista.</span></span> <span data-ttu-id="815e7-159">Los estilos visuales del control se han establecido en el tema "Explorer" mediante [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span><span class="sxs-lookup"><span data-stu-id="815e7-159">The visual styles for the control have been set to the "Explorer" theme by using [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span></span>

<span data-ttu-id="815e7-160">En la siguiente captura de pantalla se muestra la vista de detalles.</span><span class="sxs-lookup"><span data-stu-id="815e7-160">The following screen shot shows the details view.</span></span>

![captura de pantalla que muestra información en cinco columnas y siete filas](images/lv-detailsview.png)

<span data-ttu-id="815e7-162">En la siguiente captura de pantalla se muestra la vista de iconos.</span><span class="sxs-lookup"><span data-stu-id="815e7-162">The following screen shot shows the icon view.</span></span>

![captura de pantalla que muestra solo el nombre de cada mascota y un icono que indica la especie](images/lv-iconview.png)

<span data-ttu-id="815e7-164">En la siguiente captura de pantalla se muestra la vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-164">The following screen shot shows the list view.</span></span>

![captura de pantalla que muestra, para cada mascota, un icono grande junto al texto del nombre, la variedad y el precio de la mascota.](images/lv-listview.png)

<span data-ttu-id="815e7-166">En la siguiente captura de pantalla se muestra la vista de mosaico.</span><span class="sxs-lookup"><span data-stu-id="815e7-166">The following screen shot shows the tile view.</span></span>

![vista de mosaico.](images/lv-tileview.png)

<span data-ttu-id="815e7-168">Puede cambiar el tipo de vista después de crear un control list-view.</span><span class="sxs-lookup"><span data-stu-id="815e7-168">You can change the view type after you create a list-view control.</span></span> <span data-ttu-id="815e7-169">Para recuperar y cambiar el estilo de la ventana, use las [**funciones GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) [**y SetWindowLong.**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)</span><span class="sxs-lookup"><span data-stu-id="815e7-169">To retrieve and change the window style, use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span> <span data-ttu-id="815e7-170">Para determinar los estilos de ventana de la vista actual, use el [**valor LVS \_ TYPEMASK.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-170">To determine the window styles of the current view, use the [**LVS\_TYPEMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="815e7-171">Puede controlar la forma en que los elementos se organizan en la vista de icono o icono pequeño especificando el estilo de [**ventana LVS \_ ALIGNTOP**](list-view-window-styles.md) (valor predeterminado) o [**LVS \_ ALIGNLEFT.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-171">You can control the way items are arranged in icon or small icon view by specifying either the [**LVS\_ALIGNTOP**](list-view-window-styles.md) (default) or [**LVS\_ALIGNLEFT**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="815e7-172">Puede cambiar la alineación después de crear un control list-view.</span><span class="sxs-lookup"><span data-stu-id="815e7-172">You can change the alignment after you create a list-view control.</span></span> <span data-ttu-id="815e7-173">Para determinar la alineación actual, use el [**valor \_ ALIGNMASK de LVS.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-173">To determine the current alignment, use the [**LVS\_ALIGNMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="815e7-174">Los estilos de ventana adicionales proporcionan otras opciones, como si un usuario puede editar etiquetas o seleccionar más de un elemento a la vez.</span><span class="sxs-lookup"><span data-stu-id="815e7-174">Additional window styles provide other options, such as whether a user can edit labels or select more than one item at a time.</span></span> <span data-ttu-id="815e7-175">Para obtener una lista completa, vea [Estilos de ventana de vista de lista.](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-175">For a complete list, see [List-View Window Styles](list-view-window-styles.md).</span></span>

### <a name="extended-list-view-styles"></a><span data-ttu-id="815e7-176">Estilos de List-View extendidos</span><span class="sxs-lookup"><span data-stu-id="815e7-176">Extended List-View Styles</span></span>

<span data-ttu-id="815e7-177">Los estilos de control de vista de lista extendidos proporcionan opciones como casillas, barras de desplazamiento planas, líneas de cuadrícula y seguimiento rápido.</span><span class="sxs-lookup"><span data-stu-id="815e7-177">The extended list-view control styles provide options such as check boxes, flat scroll bars, grid lines, and hot-tracking.</span></span> <span data-ttu-id="815e7-178">Para obtener una lista completa, vea [Extended List-View Styles](extended-list-view-styles.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-178">For a complete list, see [Extended List-View Styles](extended-list-view-styles.md).</span></span> <span data-ttu-id="815e7-179">No se accede a los estilos de vista de lista extendidos de la misma manera que los estilos de ventana estándar.</span><span class="sxs-lookup"><span data-stu-id="815e7-179">You do not access extended list-view styles in the same manner as standard window styles.</span></span> <span data-ttu-id="815e7-180">No se usan las [**funciones GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) [**y SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) para realizar cambios de estilo extendidos.</span><span class="sxs-lookup"><span data-stu-id="815e7-180">You do not use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions to make extended style changes.</span></span>

<span data-ttu-id="815e7-181">Hay dos mensajes que establecen y recuperan información de estilo extendida, [**LVM \_ SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) y [**LVM \_ GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-181">There are two messages that set and retrieve extended style information, [**LVM\_SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) and [**LVM\_GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span></span> <span data-ttu-id="815e7-182">En lugar de enviar los mensajes explícitamente, puede usar las siguientes macros correspondientes: [**ListView \_ SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**\_ ListView SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex)y [**ListView \_ GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span><span class="sxs-lookup"><span data-stu-id="815e7-182">Instead of sending the messages explicitly, you can use the following corresponding macros: [**ListView\_SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView\_SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex), and [**ListView\_GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span></span>

## <a name="virtual-list-view-style"></a><span data-ttu-id="815e7-183">Estilo List-View virtual</span><span class="sxs-lookup"><span data-stu-id="815e7-183">Virtual List-View Style</span></span>

<span data-ttu-id="815e7-184">Una vista de lista virtual es un control de vista de lista que tiene el [**estilo \_ LVS OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-184">A virtual list view is a list-view control that has the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="815e7-185">Este estilo permite al control controlar millones de elementos porque el propietario recibe la carga de administrar los datos de los elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-185">This style enables the control to handle millions of items because the owner receives the burden of managing item data.</span></span> <span data-ttu-id="815e7-186">Esto le permite usar el control de vista de lista virtual con grandes bases de datos de información, donde ya existen métodos específicos de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="815e7-186">This allows you to use the virtual list-view control with large databases of information, where specific methods of data access are already in place.</span></span>

<span data-ttu-id="815e7-187">Un control de vista de lista virtual mantiene muy poca información sobre los elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-187">A virtual list-view control maintains very little item information itself.</span></span> <span data-ttu-id="815e7-188">Excepto para la selección de elementos y la información de foco, el propietario del control debe administrar toda la información del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-188">Except for the item selection and focus information, the owner of the control must manage all item information.</span></span> <span data-ttu-id="815e7-189">Otros procesos solicitan información del elemento al propietario mediante los códigos [de notificación \_ GETDISPINFO de LVN.](lvn-getdispinfo.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-189">Other processes request item information from the owner by using [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes.</span></span>

<span data-ttu-id="815e7-190">Dado que este tipo de control de lista está pensado para grandes conjuntos de datos, se recomienda almacenar en caché los datos de elementos solicitados para mejorar el rendimiento de recuperación.</span><span class="sxs-lookup"><span data-stu-id="815e7-190">Because this type of list control is intended for large data sets, it is recommended that you cache requested item data to improve retrieval performance.</span></span> <span data-ttu-id="815e7-191">La vista de lista proporciona un mecanismo de sugerencias de caché para ayudar a optimizar la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="815e7-191">The list view provides a cache-hinting mechanism to assist in optimizing the cache.</span></span> <span data-ttu-id="815e7-192">La sugerencia se implementa en forma de código de [notificación LVN \_ ODCACHEHINT.](lvn-odcachehint.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-192">The hint is implemented in the form of an [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code.</span></span>

### <a name="creating-a-virtual-list-view-control"></a><span data-ttu-id="815e7-193">Crear un control de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="815e7-193">Creating a Virtual List-View Control</span></span>

<span data-ttu-id="815e7-194">Los controles de vista de lista virtuales se crean mediante las funciones [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx,**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) especificando el estilo de [**ventana LVS \_ OWNERDATA**](list-view-window-styles.md) como parte del *parámetro de función dwStyle.*</span><span class="sxs-lookup"><span data-stu-id="815e7-194">You create virtual list-view controls using the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**LVS\_OWNERDATA**](list-view-window-styles.md) window style as part of the *dwStyle* function parameter.</span></span> <span data-ttu-id="815e7-195">No se admite el cambio dinámico a y desde **el estilo \_ OWNERDATA de LVS.**</span><span class="sxs-lookup"><span data-stu-id="815e7-195">Dynamically switching to and from the **LVS\_OWNERDATA** style is not supported.</span></span>

<span data-ttu-id="815e7-196">Puede usar el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) en combinación con la mayoría de los demás estilos de ventana, excepto el estilo [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-196">You can use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style in combination with most other window styles, except the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="815e7-197">Todos los controles de vista de lista virtuales tienen como valor predeterminado [**el estilo LVS \_ AUTOARRANGE.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-197">All virtual list-view controls default to the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="815e7-198">Para permitir que los elementos se muestren en la lista, primero debe enviar el mensaje [**LVM \_ SETITEMCOUNT,**](lvm-setitemcount.md) ya sea explícitamente o mediante la macro [**\_ ListView SetItemCountEx.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex)</span><span class="sxs-lookup"><span data-stu-id="815e7-198">To enable items to be displayed in the list, you must first send the [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, either explicitly or by using the [**ListView\_SetItemCountEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) macro.</span></span>

<span data-ttu-id="815e7-199">Los mensajes siguientes no se admiten en el estilo [**LVS \_ OWNERDATA: LVM**](list-view-window-styles.md) [**\_ ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM \_ GETITEMTEXT,**](lvm-getitemtext.md) [**LVM \_ SETTILEINFO**](lvm-settileinfo.md)y [**LVM \_ MAPIDTOINDEX**](lvm-mapidtoindex.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-199">The following messages are not supported under the [**LVS\_OWNERDATA**](list-view-window-styles.md) style: [**LVM\_ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM\_GETITEMTEXT**](lvm-getitemtext.md), [**LVM\_SETTILEINFO**](lvm-settileinfo.md), and [**LVM\_MAPIDTOINDEX**](lvm-mapidtoindex.md).</span></span>

### <a name="compatibility-issues"></a><span data-ttu-id="815e7-200">Problemas de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="815e7-200">Compatibility Issues</span></span>

<span data-ttu-id="815e7-201">Los cuatro estilos de vista de lista (icono, icono pequeño, lista y vista de informe) admiten el estilo [**\_ OWNERDATA de LVS.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-201">All four of the list-view styles—icon, small icon, list, and report view—support the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="815e7-202">Los controles de vista de lista que tienen **el estilo \_ OWNERDATA de LVS** no almacenan ninguna información específica del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-202">List-view controls that have the **LVS\_OWNERDATA** style do not store any item-specific information.</span></span> <span data-ttu-id="815e7-203">Por lo tanto, las únicas marcas de estado de elemento válidas que se pueden aplicar a un elemento son [**LVIS \_ SELECTED**](list-view-item-states.md) y [**LVIS \_ FOCUSED**](list-view-item-states.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-203">Therefore, the only valid item state flags that you can apply to an item are [**LVIS\_SELECTED**](list-view-item-states.md) and [**LVIS\_FOCUSED**](list-view-item-states.md).</span></span> <span data-ttu-id="815e7-204">No se almacena ninguna otra información de estado.</span><span class="sxs-lookup"><span data-stu-id="815e7-204">No other state information is stored.</span></span> <span data-ttu-id="815e7-205">En concreto, el control list-view no mantiene imágenes de estado ni superpuestas para cada elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-205">In particular, the list-view control does not maintain state or overlay images for each item.</span></span> <span data-ttu-id="815e7-206">Sin embargo, puede hacer que el control list-view consulte estas imágenes en la aplicación enviándole un mensaje [**\_ LVM SETCALLBACKMASK.**](lvm-setcallbackmask.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-206">However, you can have the list-view control query your application for these images by sending it an [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message.</span></span>

<span data-ttu-id="815e7-207">La mayoría de los mensajes de control de vista de lista y las macros asociadas son totalmente compatibles.</span><span class="sxs-lookup"><span data-stu-id="815e7-207">Most list-view control messages and the associated macros are fully supported.</span></span> <span data-ttu-id="815e7-208">Sin embargo, algunos mensajes tienen limitaciones o no se admiten cuando se usa el [**estilo \_ OWNERDATA de LVS.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-208">However, some messages have limitations or are unsupported when you use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="815e7-209">En la tabla siguiente se resumen los mensajes afectados.</span><span class="sxs-lookup"><span data-stu-id="815e7-209">The following table summarizes the affected messages.</span></span>



| <span data-ttu-id="815e7-210">Mensaje</span><span class="sxs-lookup"><span data-stu-id="815e7-210">Message</span></span>                                             | <span data-ttu-id="815e7-211">Limitación</span><span class="sxs-lookup"><span data-stu-id="815e7-211">Limitation</span></span>                                                                                                                                                                                                                                                      |
|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="815e7-212">**LVM \_ ARRANGE**</span><span class="sxs-lookup"><span data-stu-id="815e7-212">**LVM\_ARRANGE**</span></span>](lvm-arrange.md)                 | <span data-ttu-id="815e7-213">No admite el **estilo \_ SNAPTOGRID de LVA.**</span><span class="sxs-lookup"><span data-stu-id="815e7-213">Does not support the **LVA\_SNAPTOGRID** style.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="815e7-214">**LVM \_ DELETEALLITEMS**</span><span class="sxs-lookup"><span data-stu-id="815e7-214">**LVM\_DELETEALLITEMS**</span></span>](lvm-deleteallitems.md)   | <span data-ttu-id="815e7-215">Establece el recuento de elementos en cero y borra todas las variables de selección internas, pero realmente no elimina ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-215">Sets the item count to zero and clears all internal selection variables, but it does not actually delete any items.</span></span> <span data-ttu-id="815e7-216">Realiza una devolución de llamada de notificación.</span><span class="sxs-lookup"><span data-stu-id="815e7-216">It makes a notification callback.</span></span>                                                                                                           |
| [<span data-ttu-id="815e7-217">**LVM \_ DELETEITEM**</span><span class="sxs-lookup"><span data-stu-id="815e7-217">**LVM\_DELETEITEM**</span></span>](lvm-deleteitem.md)           | <span data-ttu-id="815e7-218">Solo se admite para la integridad de selección y no elimina realmente un elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-218">Is supported for selection integrity only and does not actually delete an item.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="815e7-219">**LVM \_ GETITEMSTATE**</span><span class="sxs-lookup"><span data-stu-id="815e7-219">**LVM\_GETITEMSTATE**</span></span>](lvm-getitemstate.md)       | <span data-ttu-id="815e7-220">Devuelve solo los estados de selección y de foco (es decir, los estados almacenados por el control de vista de lista).</span><span class="sxs-lookup"><span data-stu-id="815e7-220">Returns only focus and selection states (that is, those states stored by the list-view control).</span></span>                                                                                                                                                                |
| [<span data-ttu-id="815e7-221">**LVM \_ GETNEXTITEM**</span><span class="sxs-lookup"><span data-stu-id="815e7-221">**LVM\_GETNEXTITEM**</span></span>](lvm-getnextitem.md)         | <span data-ttu-id="815e7-222">No admite los criterios de búsqueda de vista de lista **LVNI \_ CUT,** **LVNI \_ HIDDEN** o **LVNI \_ DROPHILITED.**</span><span class="sxs-lookup"><span data-stu-id="815e7-222">Does not support the list-view search criteria **LVNI\_CUT**, **LVNI\_HIDDEN**, or **LVNI\_DROPHILITED**.</span></span> <span data-ttu-id="815e7-223">Se admiten todos los demás criterios.</span><span class="sxs-lookup"><span data-stu-id="815e7-223">All other criteria are supported.</span></span>                                                                                                                     |
| [<span data-ttu-id="815e7-224">**LVM \_ GETWORKAREAS**</span><span class="sxs-lookup"><span data-stu-id="815e7-224">**LVM\_GETWORKAREAS**</span></span>](lvm-getworkareas.md)       | <span data-ttu-id="815e7-225">No se admite.</span><span class="sxs-lookup"><span data-stu-id="815e7-225">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="815e7-226">**LVM \_ INSERTITEM**</span><span class="sxs-lookup"><span data-stu-id="815e7-226">**LVM\_INSERTITEM**</span></span>](lvm-insertitem.md)           | <span data-ttu-id="815e7-227">Solo se admite para la integridad de selección.</span><span class="sxs-lookup"><span data-stu-id="815e7-227">Is supported for selection integrity only.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="815e7-228">**LVM \_ SETITEM**</span><span class="sxs-lookup"><span data-stu-id="815e7-228">**LVM\_SETITEM**</span></span>](lvm-setitem.md)                 | <span data-ttu-id="815e7-229">No se admite.</span><span class="sxs-lookup"><span data-stu-id="815e7-229">Is not supported.</span></span> <span data-ttu-id="815e7-230">Para establecer el estado del elemento, use el [**mensaje ListView \_ SetItemState.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate)</span><span class="sxs-lookup"><span data-stu-id="815e7-230">To set the item state, use the [**ListView\_SetItemState**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) message.</span></span>                                                                                                                                               |
| [<span data-ttu-id="815e7-231">**LVM \_ SETITEMCOUNT**</span><span class="sxs-lookup"><span data-stu-id="815e7-231">**LVM\_SETITEMCOUNT**</span></span>](lvm-setitemcount.md)       | <span data-ttu-id="815e7-232">Establece el número de elementos que hay actualmente en la lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-232">Sets the number of items currently in the list.</span></span> <span data-ttu-id="815e7-233">Si el control de vista de lista envía una notificación que solicita datos para cualquier elemento hasta el máximo establecido, el propietario debe estar preparado para proporcionar los datos.</span><span class="sxs-lookup"><span data-stu-id="815e7-233">If the list-view control sends a notification that requests data for any item up to the maximum set, the owner must be prepared to supply that data.</span></span> <span data-ttu-id="815e7-234">Los parámetros del mensaje admiten controles de vista de lista virtual.</span><span class="sxs-lookup"><span data-stu-id="815e7-234">The message parameters support virtual list-view controls.</span></span> |
| [<span data-ttu-id="815e7-235">**LVM \_ SETITEMPOSITION**</span><span class="sxs-lookup"><span data-stu-id="815e7-235">**LVM\_SETITEMPOSITION**</span></span>](lvm-setitemposition.md) | <span data-ttu-id="815e7-236">No se admite.</span><span class="sxs-lookup"><span data-stu-id="815e7-236">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="815e7-237">**LVM \_ SETITEMSTATE**</span><span class="sxs-lookup"><span data-stu-id="815e7-237">**LVM\_SETITEMSTATE**</span></span>](lvm-setitemstate.md)       | <span data-ttu-id="815e7-238">Permite cambiar solo los estados de selección y foco para el elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-238">Allows only the selection and focus states to be changed for the item.</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="815e7-239">**LVM \_ SETITEMTEXT**</span><span class="sxs-lookup"><span data-stu-id="815e7-239">**LVM\_SETITEMTEXT**</span></span>](lvm-setitemtext.md)         | <span data-ttu-id="815e7-240">No se admite.</span><span class="sxs-lookup"><span data-stu-id="815e7-240">Is not supported.</span></span> <span data-ttu-id="815e7-241">Es responsabilidad de la aplicación mantener los textos de los elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-241">It is the application's responsibility to maintain the item texts.</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="815e7-242">**LVM \_ SETWORKAREAS**</span><span class="sxs-lookup"><span data-stu-id="815e7-242">**LVM\_SETWORKAREAS**</span></span>](lvm-setworkareas.md)       | <span data-ttu-id="815e7-243">No se admite.</span><span class="sxs-lookup"><span data-stu-id="815e7-243">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="815e7-244">**LVM \_ SORTITEMS**</span><span class="sxs-lookup"><span data-stu-id="815e7-244">**LVM\_SORTITEMS**</span></span>](lvm-sortitems.md)             | <span data-ttu-id="815e7-245">No se admite.</span><span class="sxs-lookup"><span data-stu-id="815e7-245">Is not supported.</span></span> <span data-ttu-id="815e7-246">Es responsabilidad de la aplicación presentar los elementos en el orden deseado.</span><span class="sxs-lookup"><span data-stu-id="815e7-246">It is the application's responsibility to present the items in the desired order.</span></span>                                                                                                                                                             |



 

### <a name="handling-virtual-list-view-control-notification-codes"></a><span data-ttu-id="815e7-247">Control de códigos de notificación List-View control virtual</span><span class="sxs-lookup"><span data-stu-id="815e7-247">Handling Virtual List-View Control Notification Codes</span></span>

<span data-ttu-id="815e7-248">Los controles de vista de lista con el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) envían los mismos códigos de notificación que otros controles de vista de lista y dos controles adicionales: [LVN \_ ODCACHEHINT](lvn-odcachehint.md) y [LVN \_ ODFINDITEM](lvn-odfinditem.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-248">List-view controls with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style send the same notification codes as other list-view controls and two additional ones: [LVN\_ODCACHEHINT](lvn-odcachehint.md) and [LVN\_ODFINDITEM](lvn-odfinditem.md).</span></span> <span data-ttu-id="815e7-249">A continuación se presentan las notificaciones más comunes que envía el control list-view con **el estilo \_ OWNERDATA de LVS.**</span><span class="sxs-lookup"><span data-stu-id="815e7-249">The following are the most common notifications that the list-view control with the **LVS\_OWNERDATA** style sends.</span></span>



|      <span data-ttu-id="815e7-250">Notificación</span><span class="sxs-lookup"><span data-stu-id="815e7-250">Notification</span></span>                    |     <span data-ttu-id="815e7-251">Descripción</span><span class="sxs-lookup"><span data-stu-id="815e7-251">Description</span></span>                         |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="815e7-252">LVN \_ GETDISPINFO</span><span class="sxs-lookup"><span data-stu-id="815e7-252">LVN\_GETDISPINFO</span></span>](lvn-getdispinfo.md) | <span data-ttu-id="815e7-253">Un control de vista de lista virtual mantiene muy poca información de elementos por sí mismo.</span><span class="sxs-lookup"><span data-stu-id="815e7-253">A virtual list-view control maintains very little item information on its own.</span></span> <span data-ttu-id="815e7-254">Como resultado, a menudo envía el código [de notificación LVN \_ GETDISPINFO](lvn-getdispinfo.md) para solicitar información del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-254">As a result, it often sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to request item information.</span></span> <span data-ttu-id="815e7-255">Este mensaje se controla de la misma manera que los elementos de devolución de llamada en un control de lista estándar.</span><span class="sxs-lookup"><span data-stu-id="815e7-255">This message is handled in much the same way as callback items in a standard list control.</span></span> <span data-ttu-id="815e7-256">Dado que el número de elementos admitidos por el control puede ser muy grande, el almacenamiento en caché de los datos de los elementos mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="815e7-256">Because the number of items supported by the control can be very large, caching item data improves performance.</span></span> <span data-ttu-id="815e7-257">Al controlar LVN GETDISPINFO, el propietario del control intenta proporcionar primero la información de elemento solicitada de la memoria caché (para obtener más \_ información, vea [Administración de caché).](#cache-management)</span><span class="sxs-lookup"><span data-stu-id="815e7-257">When handling LVN\_GETDISPINFO, the owner of the control first attempts to supply requested item information from the cache (for more information, see [Cache Management](#cache-management)).</span></span> <span data-ttu-id="815e7-258">Si el elemento solicitado no se almacena en caché, el propietario debe estar preparado para proporcionar la información por otros medios.</span><span class="sxs-lookup"><span data-stu-id="815e7-258">If the requested item is not cached, the owner must be prepared to supply the information by other means.</span></span> |
| [<span data-ttu-id="815e7-259">LVN \_ ODCACHEHINT</span><span class="sxs-lookup"><span data-stu-id="815e7-259">LVN\_ODCACHEHINT</span></span>](lvn-odcachehint.md) | <span data-ttu-id="815e7-260">Una vista de lista virtual envía el [código de notificación \_ LVN ODCACHEHINT](lvn-odcachehint.md) para ayudar a optimizar la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="815e7-260">A virtual list view sends the [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code to assist in optimizing the cache.</span></span> <span data-ttu-id="815e7-261">El código de notificación proporciona valores de índice inclusivos para un intervalo de elementos que recomienda almacenar en caché.</span><span class="sxs-lookup"><span data-stu-id="815e7-261">The notification code provides inclusive index values for a range of items that it recommends be cached.</span></span> <span data-ttu-id="815e7-262">Tras recibir el código de notificación, el propietario debe estar preparado para cargar la memoria caché con información de elementos para el intervalo solicitado, de modo que la información esté disponible fácilmente cuando se envíe un mensaje [ \_ GETDISPINFO de LVN.](lvn-getdispinfo.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-262">Upon receiving the notification code, the owner must be prepared to load the cache with item information for the requested range so that the information will be readily available when an [LVN\_GETDISPINFO](lvn-getdispinfo.md) message is sent.</span></span>                                                                                                                                                                                                                                   |
| [<span data-ttu-id="815e7-263">LVN \_ ODFINDITEM</span><span class="sxs-lookup"><span data-stu-id="815e7-263">LVN\_ODFINDITEM</span></span>](lvn-odfinditem.md)   | <span data-ttu-id="815e7-264">Un control de vista de lista virtual envía el código de notificación [LVN \_ ODFINDITEM](lvn-odfinditem.md) cuando el control necesita que el propietario encuentre un elemento de devolución de llamada determinado.</span><span class="sxs-lookup"><span data-stu-id="815e7-264">The [LVN\_ODFINDITEM](lvn-odfinditem.md) notification code is sent by a virtual list-view control when the control needs the owner to find a particular callback item.</span></span> <span data-ttu-id="815e7-265">El código de notificación se envía cuando el control list-view recibe acceso rápido a la clave o cuando recibe un mensaje [**\_ LVM FINDITEM.**](lvm-finditem.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-265">The notification code is sent when the list-view control receives quick key access or when it receives an [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="815e7-266">La información de búsqueda se envía en forma de [**una estructura LVFINDINFO,**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) que es miembro de la estructura [**NMLVFINDITEM.**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema)</span><span class="sxs-lookup"><span data-stu-id="815e7-266">Search information is sent in the form of an [**LVFINDINFO**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) structure, which is a member of the [**NMLVFINDITEM**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema) structure.</span></span> <span data-ttu-id="815e7-267">El propietario debe estar preparado para buscar un elemento que coincida con la información que proporciona el control list-view.</span><span class="sxs-lookup"><span data-stu-id="815e7-267">The owner must be prepared to search for an item that matches the information given by the list-view control.</span></span> <span data-ttu-id="815e7-268">El propietario devuelve el índice del elemento si se realiza correctamente o -1 si no se encuentra ningún elemento correspondiente.</span><span class="sxs-lookup"><span data-stu-id="815e7-268">The owner returns the index of the item if successful, or -1 if no matching item is found.</span></span>               |



 

### <a name="cache-management"></a><span data-ttu-id="815e7-269">Administración de caché</span><span class="sxs-lookup"><span data-stu-id="815e7-269">Cache Management</span></span>

<span data-ttu-id="815e7-270">Un control de vista de lista con el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) genera un gran número de códigos de notificación [ \_ GETDISPINFO](lvn-getdispinfo.md) de LVN y, para ayudar a optimizar la memoria caché, un mensaje [ \_ ODCACHEHINT de LVN.](lvn-odcachehint.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-270">A list-view control with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style produces a large number of [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes and, to assist in optimizing the cache, an [LVN\_ODCACHEHINT](lvn-odcachehint.md) message.</span></span> <span data-ttu-id="815e7-271">Los mensajes \_ de LVN ODCACHEHINT proporcionan información sobre los elementos recomendados que se deben incluir en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="815e7-271">LVN\_ODCACHEHINT messages provide information about the recommended items to include within the cache.</span></span> <span data-ttu-id="815e7-272">Estos mensajes se envían como [**mensajes \_ WM NOTIFY,**](wm-notify.md) con el valor *lParam* que actúa como la dirección de una [**estructura NMLVCACHEHINT.**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint)</span><span class="sxs-lookup"><span data-stu-id="815e7-272">These messages are sent as [**WM\_NOTIFY**](wm-notify.md) messages, with the *lParam* value acting as the address of an [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure.</span></span>

<span data-ttu-id="815e7-273">La [**estructura NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) incluye dos miembros enteros, **iFrom** e **iTo**, que representan los puntos de conexión inclusivos de un intervalo de elementos que probablemente se necesiten.</span><span class="sxs-lookup"><span data-stu-id="815e7-273">The [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure includes two integer members, **iFrom** and **iTo**, that represent the inclusive endpoints of a range of items that most likely will be needed.</span></span> <span data-ttu-id="815e7-274">El propietario debe estar preparado para cargar la memoria caché con la información del elemento para cada uno de los elementos dentro del intervalo recomendado.</span><span class="sxs-lookup"><span data-stu-id="815e7-274">The owner must be prepared to load the cache with the item information for each of the items within the recommended range.</span></span>

<span data-ttu-id="815e7-275">El control de lista a menudo necesita información del elemento para el primer elemento (desplazamiento 0).</span><span class="sxs-lookup"><span data-stu-id="815e7-275">The list control often needs item information for the first item (offset 0).</span></span> <span data-ttu-id="815e7-276">Es [posible que el código de notificación \_ LVN ODCACHEHINT](lvn-odcachehint.md) no incluya siempre el elemento 0, pero siempre debe incluirse en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="815e7-276">The [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code might not always include item 0, but it must always be included in the cache.</span></span>

<span data-ttu-id="815e7-277">A menudo se accede a los últimos elementos de la lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-277">The last items in the list are accessed often.</span></span> <span data-ttu-id="815e7-278">Por lo tanto, es posible que el propietario quiera mantener una segunda caché que incluya los elementos al final de la lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-278">Therefore, the owner might want to keep a second cache that includes the items at the end of the list.</span></span> <span data-ttu-id="815e7-279">El intervalo solicitado de [LVN \_ ODCACHEHINT](lvn-odcachehint.md) se puede comprobar en la caché final para que esté disponible automáticamente en lugar de volver a cargar el mismo intervalo final cada vez.</span><span class="sxs-lookup"><span data-stu-id="815e7-279">The requested range from [LVN\_ODCACHEHINT](lvn-odcachehint.md) can be checked against the end cache to make it available automatically instead of reloading the same end range each time.</span></span>

## <a name="list-view-working-areas"></a><span data-ttu-id="815e7-280">List-View áreas de trabajo</span><span class="sxs-lookup"><span data-stu-id="815e7-280">List-View Working Areas</span></span>

<span data-ttu-id="815e7-281">Los controles de vista de lista admiten áreas de trabajo, que son áreas virtuales rectangulares que el control de vista de lista usa para organizar sus elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-281">List-view controls support working areas, which are rectangular virtual areas that the list-view control uses to arrange its items.</span></span> <span data-ttu-id="815e7-282">Un área de trabajo no es una ventana y no puede tener un borde visible.</span><span class="sxs-lookup"><span data-stu-id="815e7-282">A working area is not a window and cannot have a visible border.</span></span> <span data-ttu-id="815e7-283">De forma predeterminada, el control list-view no tiene áreas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="815e7-283">By default, the list-view control has no working areas.</span></span> <span data-ttu-id="815e7-284">Al crear un área de trabajo, puede crear un borde vacío en la parte izquierda, superior o derecha de los elementos o hacer que se muestre una barra de desplazamiento horizontal cuando normalmente no hubiera uno.</span><span class="sxs-lookup"><span data-stu-id="815e7-284">By creating a working area, you can create an empty border on the left, top, or right of the items or cause a horizontal scroll bar to be displayed when there normally would not be one.</span></span>

<span data-ttu-id="815e7-285">Cuando se crea un área de trabajo, los elementos que se encuentran dentro del área de trabajo se convierten en miembros del área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="815e7-285">When a working area is created, items that lie within the working area become members of the working area.</span></span> <span data-ttu-id="815e7-286">De forma similar, si un elemento se mueve a un área de trabajo, el elemento se convierte en miembro de ese área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="815e7-286">Similarly, if an item is moved into a working area, the item becomes a member of that working area.</span></span> <span data-ttu-id="815e7-287">Si un elemento no se encuentra dentro de ningún área de trabajo, se convierte automáticamente en miembro del primer área de trabajo (índice 0).</span><span class="sxs-lookup"><span data-stu-id="815e7-287">If an item does not lie within any working area, it automatically becomes a member of the first (index 0) working area.</span></span> <span data-ttu-id="815e7-288">Para colocar un nuevo elemento dentro de un área de trabajo específica, primero debe crear el elemento y, a continuación, usar el mensaje [**LVM \_ SETITEMPOSITION**](lvm-setitemposition.md) o [**LVM \_ SETITEMPOSITION32**](lvm-setitemposition32.md) para moverlo al área de trabajo deseada.</span><span class="sxs-lookup"><span data-stu-id="815e7-288">To place new item within a specific working area, you must first create the item and then use either the [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) or the [**LVM\_SETITEMPOSITION32**](lvm-setitemposition32.md) message to move it into the desired working area.</span></span>

<span data-ttu-id="815e7-289">La siguiente ilustración es un ejemplo de un control de vista de lista que contiene cuatro áreas de trabajo, cada una en un cuadrante diferente del área cliente.</span><span class="sxs-lookup"><span data-stu-id="815e7-289">The following illustration is an example of a list-view control that contains four working areas, each in a different quadrant of the client area.</span></span>

![captura de pantalla de un control de vista de lista con un área de trabajo en cada cuadrante del área cliente](images/working.jpg)

<span data-ttu-id="815e7-291">Se pueden usar varias áreas de trabajo para crear áreas diferentes dentro de una vista.</span><span class="sxs-lookup"><span data-stu-id="815e7-291">Multiple working areas can be used for creating different areas within one view.</span></span> <span data-ttu-id="815e7-292">Puede crear áreas en una sola vista que tengan significados diferentes.</span><span class="sxs-lookup"><span data-stu-id="815e7-292">You can create areas in a single view that have different meanings.</span></span> <span data-ttu-id="815e7-293">Por ejemplo, una vista de un sistema de archivos podría tener un área para archivos de lectura y escritura y otra área para archivos de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="815e7-293">For example, a view of a file system might have an area for read/write files and another area for read-only files.</span></span> <span data-ttu-id="815e7-294">El usuario puede clasificar los elementos colocándolos en diferentes áreas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="815e7-294">The user can categorize items by placing them in different working areas.</span></span> <span data-ttu-id="815e7-295">Si un archivo se mueve al área de solo lectura, se convertirá automáticamente en de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="815e7-295">If a file is moved into the read-only area, it will automatically become read-only.</span></span>

<span data-ttu-id="815e7-296">Varias áreas de trabajo pueden formar intersección, pero los elementos que se encuentran dentro de la intersección se convierten en miembros del área con el índice inferior. por lo tanto, es mejor evitar esta situación.</span><span class="sxs-lookup"><span data-stu-id="815e7-296">Multiple working areas can intersect, but any items that lie within the intersection become members of the area with the lower index; therefore, it is best to avoid this situation.</span></span> <span data-ttu-id="815e7-297">Al ordenar varias áreas de trabajo, los elementos se ordenan en comparación con los demás elementos de la misma área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="815e7-297">When sorting multiple work areas, the items are sorted compared to the other items in the same working area.</span></span>

<span data-ttu-id="815e7-298">El número de áreas de trabajo se puede recuperar con el mensaje [**\_ LVM GETNUMBEROFWORKAREAS.**](lvm-getnumberofworkareas.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-298">The number of working areas can be retrieved with the [**LVM\_GETNUMBEROFWORKAREAS**](lvm-getnumberofworkareas.md) message.</span></span> <span data-ttu-id="815e7-299">Las áreas de trabajo se cambian con el mensaje [**\_ SETWORKAREAS**](lvm-setworkareas.md) de LVM y se pueden recuperar con el [**mensaje \_ LVM GETWORKAREAS.**](lvm-getworkareas.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-299">The working areas are changed with the [**LVM\_SETWORKAREAS**](lvm-setworkareas.md) message and can be retrieved with the [**LVM\_GETWORKAREAS**](lvm-getworkareas.md) message.</span></span> <span data-ttu-id="815e7-300">Ambos mensajes toman la dirección de una matriz de estructuras [**RECT**](/previous-versions//dd162897(v=vs.85)) como *lParam* y el número de estructuras **RECT** como *wParam*.</span><span class="sxs-lookup"><span data-stu-id="815e7-300">Both of these messages take the address of an array of [**RECT**](/previous-versions//dd162897(v=vs.85)) structures as the *lParam* and the number of **RECT** structures as the *wParam*.</span></span> <span data-ttu-id="815e7-301">Los **miembros** izquierdo y superior de estas estructuras especifican las coordenadas de la esquina superior  izquierda (el origen) del área de trabajo y los miembros derecho e inferior especifican la esquina inferior derecha del área de trabajo.  </span><span class="sxs-lookup"><span data-stu-id="815e7-301">The **left** and **top** members of these structures specify the coordinates of the upper-left corner (the origin) of the working area, and the **right** and **bottom** members specify the lower-right corner of the working area.</span></span> <span data-ttu-id="815e7-302">Todas las coordenadas están en coordenadas de cliente de la vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-302">All the coordinates are in client coordinates of the list view.</span></span> <span data-ttu-id="815e7-303">El número máximo de áreas de trabajo permitidas se define mediante el valor **DE LV \_ MAX \_ WORKAREAS.**</span><span class="sxs-lookup"><span data-stu-id="815e7-303">The maximum number of working areas allowed is defined by the **LV\_MAX\_WORKAREAS** value.</span></span>

<span data-ttu-id="815e7-304">Cambiar el área de trabajo no tiene ningún efecto en los controles de vista de lista que tienen la vista [**LVS \_ LIST**](list-view-window-styles.md) o [**LVS \_ REPORT,**](list-view-window-styles.md) pero las áreas de trabajo se mantendrán cuando se cambie el tipo de vista.</span><span class="sxs-lookup"><span data-stu-id="815e7-304">Changing the working area has no effect on list-view controls that have the [**LVS\_LIST**](list-view-window-styles.md) or [**LVS\_REPORT**](list-view-window-styles.md) view, but the working areas will be maintained when the view type is changed.</span></span> <span data-ttu-id="815e7-305">Con las [**vistas LVS \_ ICON**](list-view-window-styles.md) y [**LVS \_ SMALLICON,**](list-view-window-styles.md) el área de trabajo se puede modificar para cambiar la forma en que se muestran los elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-305">With the [**LVS\_ICON**](list-view-window-styles.md) and [**LVS\_SMALLICON**](list-view-window-styles.md) views, the working area can be modified to change the way the items are displayed.</span></span> <span data-ttu-id="815e7-306">Si el ancho del área de trabajo (derecha a izquierda) es mayor que el ancho del cliente del control, los elementos se ajustarán a ese ancho y se mostrará la barra de desplazamiento horizontal.</span><span class="sxs-lookup"><span data-stu-id="815e7-306">Making the width of the working area (right - left) greater than the client width of the control causes the items to be wrapped at that width and the horizontal scroll bar to be displayed.</span></span> <span data-ttu-id="815e7-307">Hacer que el ancho del área de trabajo sea más estrecho que el ancho del área de cliente del control hace que los elementos se ajusten dentro del área de trabajo y no del área de cliente.</span><span class="sxs-lookup"><span data-stu-id="815e7-307">Making the width of the working area narrower than the width of the control's client area causes the items to be wrapped within the working area and not the client area.</span></span> <span data-ttu-id="815e7-308">Al establecer **el miembro** **izquierdo** o superior en un valor positivo, los elementos se muestran a partir del área de trabajo, lo que crea un espacio vacío entre el borde del control y los elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-308">Setting the **left** or **top** member to a positive value causes the items to be displayed starting at the working area, creating an empty space between the edge of the control and the items.</span></span> <span data-ttu-id="815e7-309">También se puede crear un espacio vacío entre el borde derecho del control y los elementos haciendo que el ancho del área de trabajo sea menor que el ancho del cliente del control.</span><span class="sxs-lookup"><span data-stu-id="815e7-309">An empty space can also be created between the right edge of the control and the items by making the width of the working area less than the client width of the control.</span></span>

## <a name="list-view-image-lists"></a><span data-ttu-id="815e7-310">List-View de imágenes</span><span class="sxs-lookup"><span data-stu-id="815e7-310">List-View Image Lists</span></span>

<span data-ttu-id="815e7-311">De forma predeterminada, un control de vista de lista no muestra imágenes de elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-311">By default, a list-view control does not display item images.</span></span> <span data-ttu-id="815e7-312">Para mostrar imágenes de elementos, debe crear listas de imágenes y asociarlas al control .</span><span class="sxs-lookup"><span data-stu-id="815e7-312">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="815e7-313">Un control list-view puede tener tres listas de imágenes:</span><span class="sxs-lookup"><span data-stu-id="815e7-313">A list-view control can have three image lists:</span></span>

-   <span data-ttu-id="815e7-314">Lista de imágenes que contiene iconos de tamaño completo que se muestran cuando el control está en la vista de iconos.</span><span class="sxs-lookup"><span data-stu-id="815e7-314">An image list that contains full-sized icons displayed when the control is in icon view.</span></span>
-   <span data-ttu-id="815e7-315">Lista de imágenes que contiene iconos pequeños que se muestran cuando el control está en una vista de iconos pequeña, vista de lista o vista de informe.</span><span class="sxs-lookup"><span data-stu-id="815e7-315">An image list that contains small icons displayed when the control is in small icon view, list view, or report view.</span></span>
-   <span data-ttu-id="815e7-316">Lista de imágenes que contiene imágenes de estado, que se muestran a la izquierda del icono de tamaño completo o pequeño.</span><span class="sxs-lookup"><span data-stu-id="815e7-316">An image list that contains state images, which are displayed to the left of the full-sized or small icon.</span></span> <span data-ttu-id="815e7-317">Puede usar imágenes de estado, como las casillas activadas y desactivadas, para indicar los estados de los elementos definidos por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="815e7-317">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span> <span data-ttu-id="815e7-318">Las imágenes de estado se muestran en la vista de iconos, la vista de iconos pequeños, la vista de lista y la vista de informe.</span><span class="sxs-lookup"><span data-stu-id="815e7-318">State images are displayed in icon view, small icon view, list view, and report view.</span></span>

<span data-ttu-id="815e7-319">Las listas de imágenes de iconos pequeños y de tamaño completo también pueden contener imágenes superpuestas, que están diseñadas para dibujarse de forma transparente sobre los iconos de elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-319">The full-sized and small icon image lists can also contain *overlay images*, which are designed to be drawn transparently over the item icons.</span></span>

<span data-ttu-id="815e7-320">Para usar imágenes superpuestas en un control de vista de lista:</span><span class="sxs-lookup"><span data-stu-id="815e7-320">To use overlay images in a list-view control:</span></span>

1.  <span data-ttu-id="815e7-321">Llame a [**la función ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) para asignar un índice de imagen superpuesto a una imagen en las listas de imágenes de iconos pequeños y de tamaño completo.</span><span class="sxs-lookup"><span data-stu-id="815e7-321">Call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function to assign an overlay image index to an image in the full-sized and small icon image lists.</span></span> <span data-ttu-id="815e7-322">Una imagen superpuesta se identifica mediante un índice basado en uno.</span><span class="sxs-lookup"><span data-stu-id="815e7-322">An overlay image is identified by a one-based index.</span></span>
2.  <span data-ttu-id="815e7-323">Puede asociar un índice de imagen superpuesta a un elemento al llamar a la macro [**\_ ListView InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) o [**ListView \_ SetItem.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem)</span><span class="sxs-lookup"><span data-stu-id="815e7-323">You can associate an overlay image index with an item when you call the [**ListView\_InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) or [**ListView\_SetItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem) macro.</span></span> <span data-ttu-id="815e7-324">Use la [**macro INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) para especificar  un índice de imagen superpuesta en el miembro de estado de la estructura [**LVITEM del**](/windows/win32/api/commctrl/ns-commctrl-lvitema) elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-324">Use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay image index in the **state** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="815e7-325">También debe establecer los bits [**\_ OVERLAYMASK**](list-view-item-states.md) de LVIS en el **miembro stateMask.**</span><span class="sxs-lookup"><span data-stu-id="815e7-325">You must also set the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) bits in the **stateMask** member.</span></span>

<span data-ttu-id="815e7-326">Si se especifica una lista de imágenes de estado, un control de vista de lista reserva espacio a la izquierda del icono de cada elemento para una imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="815e7-326">If a state image list is specified, a list-view control reserves space to the left of each item's icon for a state image.</span></span>

<span data-ttu-id="815e7-327">Para asociar una imagen de estado a un elemento, use la macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) para especificar un índice de imagen de estado en el miembro de estado de la [**estructura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema) </span><span class="sxs-lookup"><span data-stu-id="815e7-327">To associate a state image with an item, use the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro to specify a state image index in the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="815e7-328">El índice identifica una imagen en la lista de imágenes de estado del control.</span><span class="sxs-lookup"><span data-stu-id="815e7-328">The index identifies an image in the control's state image list.</span></span> <span data-ttu-id="815e7-329">Aunque los índices de lista de imágenes están basados en cero, el control usa índices basados en uno para identificar imágenes de estado.</span><span class="sxs-lookup"><span data-stu-id="815e7-329">Although image list indexes are zero-based, the control uses one-based indexes to identify state images.</span></span> <span data-ttu-id="815e7-330">Un índice de imagen de estado de cero indica que un elemento no tiene ninguna imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="815e7-330">A state image index of zero indicates that an item has no state image.</span></span>

<span data-ttu-id="815e7-331">De forma predeterminada, cuando se destruye un control de vista de lista, destruye las listas de imágenes asignadas a él.</span><span class="sxs-lookup"><span data-stu-id="815e7-331">By default, when a list-view control is destroyed, it destroys the image lists assigned to it.</span></span> <span data-ttu-id="815e7-332">Sin embargo, si un control de vista de lista tiene el estilo de ventana [**LVS \_ SHAREIMAGELISTS,**](list-view-window-styles.md) la aplicación es responsable de destruir las listas de imágenes cuando ya no están en uso.</span><span class="sxs-lookup"><span data-stu-id="815e7-332">However, if a list-view control has the [**LVS\_SHAREIMAGELISTS**](list-view-window-styles.md) window style, the application is responsible for destroying the image lists when they are no longer in use.</span></span> <span data-ttu-id="815e7-333">Debe especificar este estilo si asigna la misma lista de imágenes a varios controles de vista de lista; De lo contrario, más de un control podría intentar destruir la misma lista de imágenes.</span><span class="sxs-lookup"><span data-stu-id="815e7-333">You should specify this style if you assign the same image lists to multiple list-view controls; otherwise, more than one control might try to destroy the same image list.</span></span>

## <a name="list-view-items-and-subitems"></a><span data-ttu-id="815e7-334">List-View elementos y subelementos</span><span class="sxs-lookup"><span data-stu-id="815e7-334">List-View Items and Subitems</span></span>

<span data-ttu-id="815e7-335">Cada elemento de un control de vista de lista tiene un icono, una etiqueta, un estado actual y un valor definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="815e7-335">Each item in a list-view control has an icon, a label, a current state, and an application-defined value.</span></span> <span data-ttu-id="815e7-336">Mediante el uso de mensajes de vista de lista, puede agregar, modificar y eliminar elementos, así como recuperar información sobre los elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-336">By using list-view messages, you can add, modify, and delete items as well as retrieve information about items.</span></span>

<span data-ttu-id="815e7-337">Cada elemento puede tener uno o varios *subelementos*.</span><span class="sxs-lookup"><span data-stu-id="815e7-337">Each item can have one or more *subitems*.</span></span> <span data-ttu-id="815e7-338">Un subelemento es una cadena que, en la vista de informe, se muestra en una columna independiente del icono y la etiqueta del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-338">A subitem is a string that, in report view, is displayed in a column separate from the item's icon and label.</span></span> <span data-ttu-id="815e7-339">Para especificar el texto de un subelemento, use el [**mensaje LVM \_ SETITEMTEXT**](lvm-setitemtext.md) [**o LVM \_ SETITEM.**](lvm-setitem.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-339">To specify the text of a subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) or [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="815e7-340">Todos los elementos de un control de vista de lista tienen el mismo número de subelementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-340">All items in a list-view control have the same number of subitems.</span></span> <span data-ttu-id="815e7-341">El número de subelementos viene determinado por el número de columnas del control list-view.</span><span class="sxs-lookup"><span data-stu-id="815e7-341">The number of subitems is determined by the number of columns in the list-view control.</span></span> <span data-ttu-id="815e7-342">Al agregar una columna a un control de vista de lista, se especifica su índice de subelementos asociado.</span><span class="sxs-lookup"><span data-stu-id="815e7-342">When you add a column to a list-view control, you specify its associated subitem index.</span></span>

<span data-ttu-id="815e7-343">La [**estructura LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) define un elemento de vista de lista o un subelemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-343">The [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure defines a list-view item or subitem.</span></span> <span data-ttu-id="815e7-344">El **miembro iItem** es el índice de base cero del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-344">The **iItem** member is the zero-based index of the item.</span></span> <span data-ttu-id="815e7-345">El **miembro iSubItem** es el índice basado en uno de un subelemento o cero si la estructura contiene información sobre un elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-345">The **iSubItem** member is the one-based index of a subitem or zero if the structure contains information about an item.</span></span> <span data-ttu-id="815e7-346">Los miembros adicionales especifican el texto, el icono, el estado y los datos del elemento del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-346">Additional members specify the item's text, icon, state, and item data.</span></span> <span data-ttu-id="815e7-347">*Los datos de* elementos son un valor definido por la aplicación asociado a un elemento de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-347">*Item data* is an application-defined value associated with a list-view item.</span></span>

<span data-ttu-id="815e7-348">Para agregar un elemento a un control de vista de lista, use el mensaje [**\_ LVM INSERTITEM,**](lvm-insertitem.md) especificando la dirección de una [**estructura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="815e7-348">To add an item to a list-view control, use the [**LVM\_INSERTITEM**](lvm-insertitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="815e7-349">Antes de agregar varios elementos, puede enviar al control un mensaje [**LVM \_ SETITEMCOUNT,**](lvm-setitemcount.md) especificando el número de elementos que el control contendrá en última instancia.</span><span class="sxs-lookup"><span data-stu-id="815e7-349">Before adding multiple items, you can send the control an [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, specifying the number of items the control will ultimately contain.</span></span> <span data-ttu-id="815e7-350">Este mensaje permite al control de vista de lista volver a crear sus estructuras de datos internas solo una vez en lugar de cada vez que se agrega un elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-350">This message enables the list-view control to reallocate its internal data structures only once rather than every time you add an item.</span></span> <span data-ttu-id="815e7-351">Puede determinar el número de elementos de un control de vista de lista mediante el mensaje [**LVM \_ GETITEMCOUNT.**](lvm-getitemcount.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-351">You can determine the number of items in a list-view control by using the [**LVM\_GETITEMCOUNT**](lvm-getitemcount.md) message.</span></span> <span data-ttu-id="815e7-352">Si va a agregar un gran número de elementos a un control de vista de lista, puede acelerar el proceso deshabilitando volver a dibujar antes de agregar los elementos y, a continuación, habilitar el nuevo dibujo después de agregar los elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-352">If you are adding a large number of items to a list-view control, you can speed up the process by disabling redrawing before adding the items, then enable redrawing after the items are added.</span></span> <span data-ttu-id="815e7-353">Use el [**mensaje WM \_ SETREDRAW**](/windows/desktop/gdi/wm-setredraw) para habilitar y deshabilitar el nuevo dibujo.</span><span class="sxs-lookup"><span data-stu-id="815e7-353">Use the [**WM\_SETREDRAW**](/windows/desktop/gdi/wm-setredraw) message to enable and disable redrawing.</span></span>

<span data-ttu-id="815e7-354">Para cambiar los atributos de un elemento de vista de lista, use el mensaje [**LVM \_ SETITEM,**](lvm-setitem.md) especificando la dirección de una [**estructura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="815e7-354">To change the attributes of a list-view item, use the [**LVM\_SETITEM**](lvm-setitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="815e7-355">El **miembro mask** de esta estructura especifica los atributos de elemento que desea cambiar.</span><span class="sxs-lookup"><span data-stu-id="815e7-355">The **mask** member of this structure specifies the item attributes you want to change.</span></span> <span data-ttu-id="815e7-356">Por ejemplo, para cambiar solo el texto de un elemento o subelemento, use el mensaje [**\_ LVM SETITEMTEXT.**](lvm-setitemtext.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-356">For example, to change only the text of an item or subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) message.</span></span>

<span data-ttu-id="815e7-357">Para recuperar información sobre un elemento de vista de lista, use el mensaje [**LVM \_ GETITEM**](lvm-getitem.md) y especifique la dirección de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) que se rellenará.</span><span class="sxs-lookup"><span data-stu-id="815e7-357">To retrieve information about a list-view item, use the [**LVM\_GETITEM**](lvm-getitem.md) message, specifying the address of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to fill in.</span></span> <span data-ttu-id="815e7-358">El **miembro mask** de esta estructura especifica los atributos de elemento que se recuperarán.</span><span class="sxs-lookup"><span data-stu-id="815e7-358">The **mask** member of this structure specifies the item attributes to be retrieved.</span></span> <span data-ttu-id="815e7-359">Para recuperar solo el texto de un elemento o subelemento, use el [**mensaje \_ LVM GETITEMTEXT.**](lvm-getitemtext.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-359">To retrieve only an item or subitem's text, use the [**LVM\_GETITEMTEXT**](lvm-getitemtext.md) message.</span></span>

<span data-ttu-id="815e7-360">Para eliminar un elemento de vista de lista, use [**el mensaje \_ LVM DELETEITEM.**](lvm-deleteitem.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-360">To delete a list-view item, use the [**LVM\_DELETEITEM**](lvm-deleteitem.md) message.</span></span> <span data-ttu-id="815e7-361">Puede eliminar todos los elementos de un control de vista de lista mediante el mensaje [**\_ LVM DELETEALLITEMS.**](lvm-deleteallitems.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-361">You can delete all items in a list-view control by using the [**LVM\_DELETEALLITEMS**](lvm-deleteallitems.md) message.</span></span>

### <a name="list-view-item-states"></a><span data-ttu-id="815e7-362">List-View de elementos</span><span class="sxs-lookup"><span data-stu-id="815e7-362">List-View Item States</span></span>

<span data-ttu-id="815e7-363">El estado de un elemento es un valor que especifica la disponibilidad del elemento, indica las acciones del usuario o, de lo contrario, refleja el estado del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-363">An item's state is a value that specifies the item's availability, indicates user actions, or otherwise reflects the item's status.</span></span> <span data-ttu-id="815e7-364">Un control de vista de lista cambia algunos bits de estado, como cuando el usuario selecciona un elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-364">A list-view control changes some state bits, such as when the user selects an item.</span></span> <span data-ttu-id="815e7-365">Una aplicación puede cambiar otros bits de estado para deshabilitar u ocultar el elemento o para especificar una imagen superpuesta o una imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="815e7-365">An application might change other state bits to disable or hide the item or to specify an overlay image or state image.</span></span> <span data-ttu-id="815e7-366">Para obtener más información sobre las imágenes superpuestas y las imágenes de estado, vea [List-View Image Lists](#list-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="815e7-366">For more information about overlay images and state images, see [List-View Image Lists](#list-view-image-lists).</span></span>

<span data-ttu-id="815e7-367">El miembro de estado de  la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) especifica el estado de un elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-367">An item's state is specified by the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="815e7-368">Al especificar o cambiar el estado de un elemento, el **miembro stateMask** especifica qué bits de estado debe cambiar.</span><span class="sxs-lookup"><span data-stu-id="815e7-368">When you specify or change an item's state, the **stateMask** member specifies which state bits you need to change.</span></span> <span data-ttu-id="815e7-369">Puede cambiar el estado de un elemento mediante el mensaje [**LVM \_ SETITEMSTATE.**](lvm-setitemstate.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-369">You can change an item's state by using the [**LVM\_SETITEMSTATE**](lvm-setitemstate.md) message.</span></span> <span data-ttu-id="815e7-370">Puede especificar el estado de un elemento al crearlo o al cambiar sus atributos mediante el mensaje [**LVM \_ SETITEM.**](lvm-setitem.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-370">You can specify an item's state when you create it or when you change its attributes by using the [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="815e7-371">Para determinar el estado actual de un elemento, use el [**mensaje \_ GETITEMSTATE**](lvm-getitemstate.md) o [**LVM \_ GETITEM de LVM.**](lvm-getitem.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-371">To determine an item's current state, use the [**LVM\_GETITEMSTATE**](lvm-getitemstate.md) or [**LVM\_GETITEM**](lvm-getitem.md) message.</span></span>

<span data-ttu-id="815e7-372">Para establecer la imagen de superposición de un elemento, el miembro  **stateMask** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) debe incluir el valor [**LVIS \_ OVERLAYMASK**](list-view-item-states.md) y el miembro de estado debe incluir el índice basado en uno de la imagen de superposición desplazado a la izquierda 8 bits mediante la macro [**INDEXTOOVERLAYMASK.**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask)</span><span class="sxs-lookup"><span data-stu-id="815e7-372">To set an item's overlay image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="815e7-373">El índice puede ser cero para no especificar ninguna imagen superpuesta.</span><span class="sxs-lookup"><span data-stu-id="815e7-373">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="815e7-374">Para establecer la imagen de estado de un elemento, el miembro **stateMask** de la estructura  [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) debe incluir el valor [**LVIS \_ STATEIMAGEMASK**](list-view-item-states.md) y el miembro de estado debe incluir el índice basado en uno de la imagen de estado desplazado a la izquierda de 12 bits mediante la macro [**INDEXTOSTATEIMAGEMASK.**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask)</span><span class="sxs-lookup"><span data-stu-id="815e7-374">To set an item's state image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_STATEIMAGEMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the state image shifted left 12 bits by using the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro.</span></span> <span data-ttu-id="815e7-375">El índice puede ser cero para no especificar ninguna imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="815e7-375">The index can be zero to specify no state image.</span></span>

### <a name="callback-items-and-the-callback-mask"></a><span data-ttu-id="815e7-376">Elementos de devolución de llamada y máscara de devolución de llamada</span><span class="sxs-lookup"><span data-stu-id="815e7-376">Callback Items and the Callback Mask</span></span>

<span data-ttu-id="815e7-377">Para cada uno de sus elementos, un control de vista de lista suele almacenar el texto de la etiqueta, el índice de la lista de imágenes de los iconos del elemento y un conjunto de marcas de bits para el estado del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-377">For each of its items, a list-view control typically stores the label text, the image list index of the item's icons, and a set of bit flags for the item's state.</span></span> <span data-ttu-id="815e7-378">Puede definir elementos de devolución de llamada o cambiar la máscara de devolución de llamada del control para indicar que la aplicación, en lugar del control , almacena parte o toda esta información.</span><span class="sxs-lookup"><span data-stu-id="815e7-378">You can define callback items or change the control's callback mask to indicate that the application, rather than the control, stores some or all of this information.</span></span> <span data-ttu-id="815e7-379">Es posible que quiera usar devoluciones de llamada si la aplicación almacena parte de esta información.</span><span class="sxs-lookup"><span data-stu-id="815e7-379">You might want to use callbacks if your application stores some of this information.</span></span>

<span data-ttu-id="815e7-380">Un *elemento de devolución de* llamada en un control de vista de lista es un elemento para el que la aplicación almacena el índice de texto o icono, o ambos.</span><span class="sxs-lookup"><span data-stu-id="815e7-380">A *callback item* in a list-view control is an item for which the application stores the text or icon index, or both.</span></span> <span data-ttu-id="815e7-381">Puede definir elementos de devolución de llamada al enviar el [**mensaje \_ LVM INSERTITEM**](lvm-insertitem.md) para agregar un elemento al control list-view.</span><span class="sxs-lookup"><span data-stu-id="815e7-381">You can define callback items when you send the [**LVM\_INSERTITEM**](lvm-insertitem.md) message to add an item to the list-view control.</span></span> <span data-ttu-id="815e7-382">Si la aplicación almacena el texto del elemento o subelemento, establezca el miembro **pszText** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) del elemento en **LPSTR \_ TEXTCALLBACK**.</span><span class="sxs-lookup"><span data-stu-id="815e7-382">If the application stores the text for the item or subitem, set the **pszText** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to **LPSTR\_TEXTCALLBACK**.</span></span> <span data-ttu-id="815e7-383">Si la aplicación almacena el índice de icono de un elemento, establezca el miembro **iImage** de la estructura **LVITEM** del elemento en **I \_ IMAGECALLBACK**.</span><span class="sxs-lookup"><span data-stu-id="815e7-383">If the application stores the icon index for an item, set the **iImage** member of the item's **LVITEM** structure to **I\_IMAGECALLBACK**.</span></span>

<span data-ttu-id="815e7-384">La *máscara de devolución* de llamada de un control de vista de lista es un conjunto de marcas de bits que especifican los estados de elemento para los que la aplicación, en lugar del control , almacena los datos actuales.</span><span class="sxs-lookup"><span data-stu-id="815e7-384">The *callback mask* of a list-view control is a set of bit flags that specify the item states for which the application, rather than the control, stores the current data.</span></span> <span data-ttu-id="815e7-385">La máscara de devolución de llamada se aplica a todos los elementos del control, a diferencia de la designación de elementos de devolución de llamada, que se aplica a un elemento específico.</span><span class="sxs-lookup"><span data-stu-id="815e7-385">The callback mask applies to all of the control's items, unlike the callback item designation, which applies to a specific item.</span></span> <span data-ttu-id="815e7-386">La máscara de devolución de llamada es cero de forma predeterminada, lo que significa que el control de vista de lista almacena toda la información de estado del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-386">The callback mask is zero by default, meaning that the list-view control stores all item state information.</span></span> <span data-ttu-id="815e7-387">Después de crear un control de vista de lista e inicializar sus elementos, puede enviar el mensaje [**\_ LVM SETCALLBACKMASK**](lvm-setcallbackmask.md) para cambiar la máscara de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="815e7-387">After creating a list-view control and initializing its items, you can send the [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message to change the callback mask.</span></span> <span data-ttu-id="815e7-388">Para recuperar la máscara de devolución de llamada actual, envíe el [**mensaje \_ LVM GETCALLBACKMASK.**](lvm-getcallbackmask.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-388">To retrieve the current callback mask, send the [**LVM\_GETCALLBACKMASK**](lvm-getcallbackmask.md) message.</span></span>

<span data-ttu-id="815e7-389">Cuando un control de vista de lista debe mostrar u ordenar un elemento de vista de lista para el que la aplicación almacena información de devolución de llamada, el control envía el código de notificación [ \_ LVN GETDISPINFO](lvn-getdispinfo.md) a la ventana primaria del control.</span><span class="sxs-lookup"><span data-stu-id="815e7-389">When a list-view control must display or sort a list-view item for which the application stores callback information, the control sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to the control's parent window.</span></span> <span data-ttu-id="815e7-390">Este mensaje especifica una estructura [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) que contiene el tipo de información necesaria e identifica el elemento o subelemento que se va a recuperar.</span><span class="sxs-lookup"><span data-stu-id="815e7-390">This message specifies an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure that contains the type of information required and identifies the item or subitem to retrieve.</span></span> <span data-ttu-id="815e7-391">La ventana primaria debe procesar LVN \_ GETDISPINFO para proporcionar los datos solicitados.</span><span class="sxs-lookup"><span data-stu-id="815e7-391">The parent window must process LVN\_GETDISPINFO to provide the requested data.</span></span>

<span data-ttu-id="815e7-392">Si el control de vista de lista detecta un cambio en la información de devolución de llamada de un elemento, como un cambio en la información de texto, icono o estado, el control envía un código de notificación [ \_ LVN SETDISPINFO](lvn-setdispinfo.md) para notificarle del cambio.</span><span class="sxs-lookup"><span data-stu-id="815e7-392">If the list-view control detects a change in an item's callback information, such as a change in the text, icon, or state information, the control sends an [LVN\_SETDISPINFO](lvn-setdispinfo.md) notification code to notify you of the change.</span></span>

<span data-ttu-id="815e7-393">Si cambia los atributos o bits de estado de un elemento de devolución de llamada, use el mensaje [**\_ LVM UPDATE**](lvm-update.md) para forzar que el control vuelva a dibujar el elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-393">If you change a callback item's attributes or state bits, you use the [**LVM\_UPDATE**](lvm-update.md) message to force the control to repaint the item.</span></span> <span data-ttu-id="815e7-394">Este mensaje también hace que el control organice sus elementos si tiene el estilo [**\_ LVS AUTOARRANGE.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-394">This message also causes the control to arrange its items if it has the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="815e7-395">Puede usar el [**mensaje LVM \_ REDRAWITEMS**](lvm-redrawitems.md) para volver a dibujar un intervalo de elementos invalidando las partes correspondientes del área de cliente del control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-395">You can use the [**LVM\_REDRAWITEMS**](lvm-redrawitems.md) message to redraw a range of items by invalidating the corresponding portions of the list-view control's client area.</span></span>

<span data-ttu-id="815e7-396">Mediante el uso eficaz de elementos de devolución de llamada y la máscara de devolución de llamada, puede asegurarse de que cada atributo de elemento se mantiene en un solo lugar.</span><span class="sxs-lookup"><span data-stu-id="815e7-396">By effectively using callback items and the callback mask, you can ensure that each item attribute is maintained in only one place.</span></span> <span data-ttu-id="815e7-397">Esto puede simplificar la aplicación, pero el único espacio guardado es la memoria que, de lo contrario, sería necesaria para almacenar etiquetas de elementos y texto de subelemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-397">Doing this can simplify your application, but the only space saved is the memory that would otherwise be required to store item labels and subitem text.</span></span>

### <a name="list-view-item-position"></a><span data-ttu-id="815e7-398">List-View posición del elemento</span><span class="sxs-lookup"><span data-stu-id="815e7-398">List-View Item Position</span></span>

<span data-ttu-id="815e7-399">Cada elemento de vista de lista tiene una posición y un tamaño, que puede recuperar y establecer mediante mensajes.</span><span class="sxs-lookup"><span data-stu-id="815e7-399">Every list-view item has a position and size, which you can retrieve and set using messages.</span></span> <span data-ttu-id="815e7-400">También puede determinar qué elemento, si existe, está en una posición especificada.</span><span class="sxs-lookup"><span data-stu-id="815e7-400">You can also determine which item, if any, is at a specified position.</span></span> <span data-ttu-id="815e7-401">La posición de los elementos de vista de lista se especifica en coordenadas *de vista*, que son coordenadas de cliente desplazadas por la posición de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="815e7-401">The position of list-view items is specified in *view coordinates*, which are client coordinates offset by the scroll position.</span></span>

<span data-ttu-id="815e7-402">Para recuperar y establecer la posición de un elemento, use los mensajes [**LVM \_ GETITEMPOSITION**](lvm-getitemposition.md) y [**LVM \_ SETITEMPOSITION.**](lvm-setitemposition.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-402">To retrieve and set an item's position, use the [**LVM\_GETITEMPOSITION**](lvm-getitemposition.md) and [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) messages.</span></span> <span data-ttu-id="815e7-403">**LVM \_ GETITEMPOSITION funciona para** todas las vistas, pero **LVM \_ SETITEMPOSITION** solo funciona para vistas de icono y de icono pequeño.</span><span class="sxs-lookup"><span data-stu-id="815e7-403">**LVM\_GETITEMPOSITION** works for all views, but **LVM\_SETITEMPOSITION** works only for icon and small icon views.</span></span>

<span data-ttu-id="815e7-404">Puede determinar qué elemento, si existe, está en una ubicación determinada mediante el mensaje [**LVM \_ HITTEST.**](lvm-hittest.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-404">You can determine which item, if any, is at a particular location by using the [**LVM\_HITTEST**](lvm-hittest.md) message.</span></span>

<span data-ttu-id="815e7-405">Para recuperar el rectángulo delimitador de un elemento de lista o solo para su icono o etiqueta, use el mensaje [**\_ GETITEMRECT de LVM.**](lvm-getitemrect.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-405">To retrieve the bounding rectangle for a list item or only for its icon or label, use the [**LVM\_GETITEMRECT**](lvm-getitemrect.md) message.</span></span>

### <a name="arranging-sorting-and-finding-items"></a><span data-ttu-id="815e7-406">Organización, ordenación y búsqueda de elementos</span><span class="sxs-lookup"><span data-stu-id="815e7-406">Arranging, Sorting, and Finding Items</span></span>

<span data-ttu-id="815e7-407">Puede usar mensajes de vista de lista para organizar y ordenar elementos y para buscar elementos en función de sus atributos o posiciones.</span><span class="sxs-lookup"><span data-stu-id="815e7-407">You can use list-view messages to arrange and sort items and to find items based on their attributes or positions.</span></span> <span data-ttu-id="815e7-408">Organizar las reposiciones de los elementos para alinearlos en una cuadrícula, pero los índices de los elementos no cambian.</span><span class="sxs-lookup"><span data-stu-id="815e7-408">Arranging repositions items to align on a grid, but the indexes of the items do not change.</span></span> <span data-ttu-id="815e7-409">La ordenación cambia la secuencia de elementos (y sus índices correspondientes) y, a continuación, los cambia de posición en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="815e7-409">Sorting changes the sequence of items (and their corresponding indexes) and then repositions them accordingly.</span></span> <span data-ttu-id="815e7-410">Solo puede organizar elementos en vistas de icono y de icono pequeño, pero puede ordenar elementos en cualquier vista.</span><span class="sxs-lookup"><span data-stu-id="815e7-410">You can arrange items only in icon and small icon views, but you can sort items in any view.</span></span> <span data-ttu-id="815e7-411">Para buscar elementos, envíe mensajes de vista de lista que especifiquen una propiedad o ubicación de elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-411">To find items, you send list-view messages that specify an item location or property.</span></span>

<span data-ttu-id="815e7-412">Para organizar los elementos, use el [**mensaje LVM \_ ARRANGE.**](lvm-arrange.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-412">To arrange items, use the [**LVM\_ARRANGE**](lvm-arrange.md) message.</span></span> <span data-ttu-id="815e7-413">Puede asegurarse de que los elementos se organizan en todo momento especificando el estilo de [**ventana LVS \_ AUTOARRANGE.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-413">You can ensure that items are arranged at all times by specifying the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="815e7-414">Para ordenar elementos, use el [**mensaje \_ LVM SORTITEMS.**](lvm-sortitems.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-414">To sort items, use the [**LVM\_SORTITEMS**](lvm-sortitems.md) message.</span></span> <span data-ttu-id="815e7-415">Al ordenar con este mensaje, se especifica una función de devolución de llamada definida por la aplicación a la que llama el control list-view para comparar el orden relativo de dos elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-415">When you sort using this message, you specify an application-defined callback function that the list-view control calls to compare the relative order of any two items.</span></span> <span data-ttu-id="815e7-416">El control pasa a la función de comparación los datos de elemento asociados a cada uno de los dos elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-416">The control passes to the comparison function the item data associated with each of the two items.</span></span> <span data-ttu-id="815e7-417">Los datos del elemento son el valor que se especificó en el **miembro lParam** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) del elemento cuando se insertó en la lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-417">The item data is the value that was specified in the **lParam** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure when it was inserted into the list.</span></span> <span data-ttu-id="815e7-418">Al especificar los datos de elemento adecuados y proporcionar una función de comparación adecuada, puede ordenar los elementos por su etiqueta, por cualquier subelemento o por cualquier otra propiedad.</span><span class="sxs-lookup"><span data-stu-id="815e7-418">By specifying the appropriate item data and supplying an appropriate comparison function, you can sort items by their label, by any subitem, or by any other property.</span></span> <span data-ttu-id="815e7-419">Tenga en cuenta que la ordenación de elementos no reordena los subelementos correspondientes.</span><span class="sxs-lookup"><span data-stu-id="815e7-419">Note that sorting items does not reorder the corresponding subitems.</span></span> <span data-ttu-id="815e7-420">Cuando se reordenan los elementos, sus subelementos correspondientes se llevan con ellos; es decir, las filas completas se mantienen juntas.</span><span class="sxs-lookup"><span data-stu-id="815e7-420">When items are reordered, their corresponding subitems are carried with them; that is, whole rows are kept together.</span></span> <span data-ttu-id="815e7-421">Para ordenar las columnas por separado entre sí, desasoyendo los subelementos de sus elementos, debe volver a generar las columnas después de ordenar mediante [**LVM \_ SETITEM**](lvm-setitem.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-421">To order the columns separately from one another, detaching the subitems from their items, you must regenerate the columns after sorting using [**LVM\_SETITEM**](lvm-setitem.md).</span></span>

<span data-ttu-id="815e7-422">Puede asegurarse de que un control de vista de lista siempre está ordenado especificando el estilo de ventana [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-422">You can ensure that a list-view control is always sorted by specifying the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) window style.</span></span> <span data-ttu-id="815e7-423">Los controles con estos estilos usan el texto de etiqueta de los elementos para ordenarlos en orden ascendente o descendente.</span><span class="sxs-lookup"><span data-stu-id="815e7-423">Controls with these styles use the label text of the items to sort them in ascending or descending order.</span></span> <span data-ttu-id="815e7-424">No se puede proporcionar una función de comparación cuando se usan estos estilos de ventana.</span><span class="sxs-lookup"><span data-stu-id="815e7-424">You cannot supply a comparison function when using these window styles.</span></span> <span data-ttu-id="815e7-425">Si un control de vista de lista tiene cualquiera de estos estilos, se producirá un error en un mensaje [**\_ LVM INSERTITEM**](lvm-insertitem.md) si intenta insertar un elemento que tenga **LPSTR \_ TEXTCALLBACK** como miembro **pszText** de su estructura [**LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="815e7-425">If a list-view control has either of these styles, an [**LVM\_INSERTITEM**](lvm-insertitem.md) message will fail if you try to insert an item that has **LPSTR\_TEXTCALLBACK** as the **pszText** member of its [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span>

<span data-ttu-id="815e7-426">Puede encontrar un elemento de vista de lista con propiedades específicas mediante el mensaje [**\_ LVM FINDITEM.**](lvm-finditem.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-426">You can find a list-view item with specific properties by using the [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="815e7-427">Puede encontrar un elemento de vista de lista que se encuentra en un estado especificado y tiene una relación especificada con un elemento determinado mediante el mensaje [**\_ LVM GETNEXTITEM.**](lvm-getnextitem.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-427">You can find a list-view item that is in a specified state and has a specified relationship to a given item by using the [**LVM\_GETNEXTITEM**](lvm-getnextitem.md) message.</span></span> <span data-ttu-id="815e7-428">Por ejemplo, puede recuperar el siguiente elemento seleccionado a la derecha de un elemento especificado.</span><span class="sxs-lookup"><span data-stu-id="815e7-428">For example, you can retrieve the next selected item to the right of a specified item.</span></span>

## <a name="list-view-columns"></a><span data-ttu-id="815e7-429">List-View columnas</span><span class="sxs-lookup"><span data-stu-id="815e7-429">List-View Columns</span></span>

<span data-ttu-id="815e7-430">Las columnas controlan la forma en que los elementos y sus subelementos se muestran en la vista de informe.</span><span class="sxs-lookup"><span data-stu-id="815e7-430">Columns control the way items and their subitems are displayed in report view.</span></span> <span data-ttu-id="815e7-431">Cada columna tiene un título y un ancho y está asociada a un subelemento específico; el subelemento cero es el icono y la etiqueta del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-431">Each column has a title and width and is associated with a specific subitem; subitem zero is the item's icon and label.</span></span> <span data-ttu-id="815e7-432">Los atributos de una columna se definen mediante una [**estructura LVCOLUMN.**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna)</span><span class="sxs-lookup"><span data-stu-id="815e7-432">The attributes of a column are defined by an [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="815e7-433">Para agregar una columna a un control list-view, use el [**mensaje \_ LVM INSERTCOLUMN.**](lvm-insertcolumn.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-433">To add a column to a list-view control, use the [**LVM\_INSERTCOLUMN**](lvm-insertcolumn.md) message.</span></span> <span data-ttu-id="815e7-434">Para eliminar una columna, use el [**mensaje \_ LVM DELETECOLUMN.**](lvm-deletecolumn.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-434">To delete a column, use the [**LVM\_DELETECOLUMN**](lvm-deletecolumn.md) message.</span></span>

> [!Note]  
> <span data-ttu-id="815e7-435">La eliminación de la columna cero de un control de vista de lista solo se admite ComCtl32.dll versión 6 y posteriores.</span><span class="sxs-lookup"><span data-stu-id="815e7-435">Deleting column zero of a list-view control is supported only in ComCtl32.dll version 6 and later.</span></span> <span data-ttu-id="815e7-436">La versión 5 también admite la eliminación de la columna cero, pero solo después de usar [**CCM \_ SETVERSION**](ccm-setversion.md) para establecer la versión en 5 o posterior.</span><span class="sxs-lookup"><span data-stu-id="815e7-436">Version 5 also supports deleting column zero, but only after you use [**CCM\_SETVERSION**](ccm-setversion.md) to set the version to 5 or later.</span></span> <span data-ttu-id="815e7-437">Las versiones anteriores a la versión 5 no admiten la eliminación de la columna cero.</span><span class="sxs-lookup"><span data-stu-id="815e7-437">Versions prior to version 5 do not support deleting column zero.</span></span>

 

<span data-ttu-id="815e7-438">Puede recuperar y cambiar las propiedades de una columna existente mediante los mensajes [**LVM \_ GETCOLUMN**](lvm-getcolumn.md) y [**LVM \_ SETCOLUMN.**](lvm-setcolumn.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-438">You can retrieve and change the properties of an existing column by using the [**LVM\_GETCOLUMN**](lvm-getcolumn.md) and [**LVM\_SETCOLUMN**](lvm-setcolumn.md) messages.</span></span> <span data-ttu-id="815e7-439">Para recuperar o cambiar el ancho de una columna, use los mensajes [**LVM \_ GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) y [**LVM \_ SETCOLUMNWIDTH.**](lvm-setcolumnwidth.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-439">To retrieve or change a column's width, use the [**LVM\_GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) and [**LVM\_SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) messages.</span></span>

<span data-ttu-id="815e7-440">A menos [**que se especifique el estilo de ventana \_ LVS NOCOLUMNHEADER,**](list-view-window-styles.md) los encabezados de columna aparecen en la vista de informe.</span><span class="sxs-lookup"><span data-stu-id="815e7-440">Unless the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style is specified, column headers appear in report view.</span></span> <span data-ttu-id="815e7-441">El usuario puede hacer clic en un encabezado de columna, lo que hace que se envíe un código de [**notificación \_ LVN COLUMNCLICK**](lvn-columnclick.md) a la ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="815e7-441">The user can click a column header, causing an [**LVN\_COLUMNCLICK**](lvn-columnclick.md) notification code to be sent to the parent window.</span></span> <span data-ttu-id="815e7-442">Normalmente, la ventana primaria ordena el control de vista de lista por la columna especificada cuando se produce este clic.</span><span class="sxs-lookup"><span data-stu-id="815e7-442">Typically, the parent window sorts the list-view control by the specified column when this clicking occurs.</span></span> <span data-ttu-id="815e7-443">El usuario también puede arrastrar las guías de columna entre los encabezados para cambiar el tamaño de las columnas.</span><span class="sxs-lookup"><span data-stu-id="815e7-443">The user can also drag the column guides between the headers to size the columns.</span></span>

<span data-ttu-id="815e7-444">Los controles de vista de lista pueden mostrar imágenes junto a los títulos de columna.</span><span class="sxs-lookup"><span data-stu-id="815e7-444">List-view controls can display images next to column titles.</span></span> <span data-ttu-id="815e7-445">Para implementar esta característica, especifique el valor **LVCF \_ IMAGE** y asigne el índice de la imagen al **miembro iImage** en la [**estructura LVCOLUMN.**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna)</span><span class="sxs-lookup"><span data-stu-id="815e7-445">To implement this feature, specify the **LVCF\_IMAGE** value and assign the index of the image to the **iImage** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="815e7-446">Los controles de vista de lista pueden establecer el orden en el que se muestran las columnas.</span><span class="sxs-lookup"><span data-stu-id="815e7-446">List-view controls can set the order in which columns are displayed.</span></span> <span data-ttu-id="815e7-447">Para implementar esta característica, especifique el valor **LVCF \_ ORDER** y asigne el orden de columna al **miembro iOrder** en la [**estructura LVCOLUMN.**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna)</span><span class="sxs-lookup"><span data-stu-id="815e7-447">To implement this feature, specify the **LVCF\_ORDER** value and assign the column order to the **iOrder** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span> <span data-ttu-id="815e7-448">El orden de las columnas está basado en cero y está en orden de izquierda a derecha.</span><span class="sxs-lookup"><span data-stu-id="815e7-448">The column order is zero-based and is in left-to-right order.</span></span> <span data-ttu-id="815e7-449">Por ejemplo, cero indica la columna situada más a la izquierda.</span><span class="sxs-lookup"><span data-stu-id="815e7-449">For example, zero indicates the leftmost column.</span></span>

## <a name="list-view-scroll-position"></a><span data-ttu-id="815e7-450">List-View posición de desplazamiento</span><span class="sxs-lookup"><span data-stu-id="815e7-450">List-View Scroll Position</span></span>

<span data-ttu-id="815e7-451">A menos que se especifique el estilo de [**\_ ventana LVS NOSCROLL,**](list-view-window-styles.md) se puede desplazar un control de vista de lista para mostrar más elementos de los que caben en el área cliente del control.</span><span class="sxs-lookup"><span data-stu-id="815e7-451">Unless the [**LVS\_NOSCROLL**](list-view-window-styles.md) window style is specified, a list-view control can be scrolled to show more items than can fit in the client area of the control.</span></span> <span data-ttu-id="815e7-452">Puede recuperar la posición de desplazamiento de un control de vista de lista y la información relacionada, desplazar un control de vista de lista por una cantidad especificada o desplazarse por un control de vista de lista para que un elemento de lista especificado esté visible.</span><span class="sxs-lookup"><span data-stu-id="815e7-452">You can retrieve a list-view control's scroll position and related information, scroll a list-view control by a specified amount, or scroll a list-view control so that a specified list item is visible.</span></span>

<span data-ttu-id="815e7-453">En la vista de iconos o en la vista de icono pequeño, la posición de desplazamiento actual se define mediante el *origen de la vista.*</span><span class="sxs-lookup"><span data-stu-id="815e7-453">In icon view or small icon view, the current scroll position is defined by the *view origin*.</span></span> <span data-ttu-id="815e7-454">El origen de la vista es el conjunto de coordenadas, en relación con el área visible del control list-view, que se corresponden con las coordenadas de vista (0, 0).</span><span class="sxs-lookup"><span data-stu-id="815e7-454">The view origin is the set of coordinates, relative to the visible area of the list-view control, that correspond to the view coordinates (0, 0).</span></span> <span data-ttu-id="815e7-455">Para recuperar el origen de la vista actual, use [**el \_ mensaje LVM GETORIGIN.**](lvm-getorigin.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-455">To retrieve the current view origin, use the [**LVM\_GETORIGIN**](lvm-getorigin.md) message.</span></span> <span data-ttu-id="815e7-456">Este mensaje solo debe usarse en la vista icono o icono pequeño; devuelve un error en la vista de lista o informe.</span><span class="sxs-lookup"><span data-stu-id="815e7-456">This message should be used only in icon or small icon view; it returns an error in list or report view.</span></span>

<span data-ttu-id="815e7-457">En la vista de lista o informe, la posición de desplazamiento actual se define mediante el *índice superior*.</span><span class="sxs-lookup"><span data-stu-id="815e7-457">In list or report view, the current scroll position is defined by the *top index*.</span></span> <span data-ttu-id="815e7-458">El índice superior es el índice del primer elemento visible en el control list-view.</span><span class="sxs-lookup"><span data-stu-id="815e7-458">The top index is the index of the first visible item in the list-view control.</span></span> <span data-ttu-id="815e7-459">Para recuperar el índice superior actual, use el [**mensaje \_ LVM GETTOPINDEX.**](lvm-gettopindex.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-459">To retrieve the current top index, use the [**LVM\_GETTOPINDEX**](lvm-gettopindex.md) message.</span></span> <span data-ttu-id="815e7-460">Este mensaje devuelve un resultado válido solo en la vista de lista o informe; devuelve cero en la vista icono o icono pequeño.</span><span class="sxs-lookup"><span data-stu-id="815e7-460">This message returns a valid result only in list or report view; it returns zero in icon or small icon view.</span></span>

<span data-ttu-id="815e7-461">Puede usar el mensaje [**\_ LVM GETVIEWRECT**](lvm-getviewrect.md) para recuperar el rectángulo delimitador de todos los elementos de un control de vista de lista, en relación con el área visible del control.</span><span class="sxs-lookup"><span data-stu-id="815e7-461">You can use the [**LVM\_GETVIEWRECT**](lvm-getviewrect.md) message to retrieve the bounding rectangle of all items in a list-view control, relative to the visible area of the control.</span></span>

<span data-ttu-id="815e7-462">El [**mensaje LVM \_ GETCOUNTPERPAGE**](lvm-getcountperpage.md) devuelve el número de elementos que caben en una página del control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-462">The [**LVM\_GETCOUNTPERPAGE**](lvm-getcountperpage.md) message returns the number of items that fit in one page of the list-view control.</span></span> <span data-ttu-id="815e7-463">Este mensaje devuelve un resultado válido solo en vistas de lista e informe; en las vistas de icono y icono pequeño, devuelve el número total de elementos.</span><span class="sxs-lookup"><span data-stu-id="815e7-463">This message returns a valid result only in list and report views; in icon and small icon views, it returns the total number of items.</span></span>

<span data-ttu-id="815e7-464">Para desplazar un control de vista de lista por una cantidad específica, use el [**mensaje LVM \_ SCROLL.**](lvm-scroll.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-464">To scroll a list-view control by a specific amount, use the [**LVM\_SCROLL**](lvm-scroll.md) message.</span></span> <span data-ttu-id="815e7-465">Con el [**mensaje LVM \_ ENSUREVISIBLE,**](lvm-ensurevisible.md) puede desplazarse por el control de vista de lista, si es necesario, para asegurarse de que un elemento especificado está visible.</span><span class="sxs-lookup"><span data-stu-id="815e7-465">Using the [**LVM\_ENSUREVISIBLE**](lvm-ensurevisible.md) message, you can scroll the list-view control, if necessary, to ensure that a specified item is visible.</span></span>

## <a name="list-view-label-editing"></a><span data-ttu-id="815e7-466">List-View edición de etiquetas</span><span class="sxs-lookup"><span data-stu-id="815e7-466">List-View Label Editing</span></span>

<span data-ttu-id="815e7-467">Un control de vista de lista que tiene el estilo de [**ventana LVS \_ EDITLABELS**](list-view-window-styles.md) permite al usuario editar etiquetas de elemento en su lugar.</span><span class="sxs-lookup"><span data-stu-id="815e7-467">A list-view control that has the [**LVS\_EDITLABELS**](list-view-window-styles.md) window style enables a user to edit item labels in place.</span></span> <span data-ttu-id="815e7-468">El usuario comienza a editar haciendo clic en la etiqueta de un elemento que tiene el foco.</span><span class="sxs-lookup"><span data-stu-id="815e7-468">The user begins editing by clicking the label of an item that has the focus.</span></span> <span data-ttu-id="815e7-469">Como alternativa, una aplicación puede empezar a editar automáticamente mediante el mensaje [**LVM \_ EDITLABEL.**](lvm-editlabel.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-469">Alternatively, an application can begin editing automatically by using the [**LVM\_EDITLABEL**](lvm-editlabel.md) message.</span></span> <span data-ttu-id="815e7-470">El control list-view notifica a la ventana primaria cuándo comienza la edición y cuándo se cancela o se completa.</span><span class="sxs-lookup"><span data-stu-id="815e7-470">The list-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="815e7-471">Cuando se completa la edición, la ventana primaria es responsable de actualizar la etiqueta del elemento, si procede.</span><span class="sxs-lookup"><span data-stu-id="815e7-471">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="815e7-472">Cuando comienza la edición de etiquetas, se crea, se coloca e inicializa un [control](edit-controls.md) de edición.</span><span class="sxs-lookup"><span data-stu-id="815e7-472">When label editing begins, an [edit control](edit-controls.md) is created, positioned, and initialized.</span></span> <span data-ttu-id="815e7-473">Antes de que se muestre, el control list-view envía a su ventana primaria un código [de notificación \_ LVN BEGINLABELEDIT.](lvn-beginlabeledit.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-473">Before it is displayed, the list-view control sends its parent window an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification code.</span></span> <span data-ttu-id="815e7-474">Si necesita modificar el proceso de edición de etiquetas, puede implementar un controlador para esta notificación.</span><span class="sxs-lookup"><span data-stu-id="815e7-474">If you need to modify the label editing process, you can implement a handler for this notification.</span></span>

<span data-ttu-id="815e7-475">Un uso para un controlador [de notificaciones \_ BEGINLABELEDIT de LVN](lvn-beginlabeledit.md) es controlar qué etiquetas puede editar el usuario.</span><span class="sxs-lookup"><span data-stu-id="815e7-475">One use for an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification handler is to control which labels the user can edit.</span></span> <span data-ttu-id="815e7-476">Para evitar la edición de etiquetas, devuelva un valor distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="815e7-476">To prevent label editing, return a nonzero value.</span></span> <span data-ttu-id="815e7-477">Para personalizar la edición de etiquetas, haga que el controlador de notificaciones recupere un identificador para el control de edición mediante el envío de un mensaje [**\_ GETEDITCONTROL**](lvm-geteditcontrol.md) de LVM al control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-477">To customize label editing, have the notification handler retrieve a handle to the edit control by sending an [**LVM\_GETEDITCONTROL**](lvm-geteditcontrol.md) message to the list-view control.</span></span> <span data-ttu-id="815e7-478">Una vez que tenga ese identificador, puede personalizar el control de edición mediante el envío de los mensajes EM \_ XXX habituales.</span><span class="sxs-lookup"><span data-stu-id="815e7-478">Once you have that handle, you can customize the edit control by sending the usual EM\_XXX messages.</span></span> <span data-ttu-id="815e7-479">Por ejemplo, para limitar la cantidad de texto que un usuario puede escribir, envíe al control de edición un [**mensaje EM \_ LIMITTEXT.**](em-limittext.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-479">For instance, to limit the amount of text a user can enter, send the edit control an [**EM\_LIMITTEXT**](em-limittext.md) message.</span></span> <span data-ttu-id="815e7-480">Puede cambiar el texto predeterminado del control de edición [**con SetWindowText.**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta)</span><span class="sxs-lookup"><span data-stu-id="815e7-480">You can change the edit control's default text with [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span></span> <span data-ttu-id="815e7-481">Incluso puede crear subclases del control de edición para interceptar y descartar caracteres no válidos.</span><span class="sxs-lookup"><span data-stu-id="815e7-481">You can even subclass the edit control to intercept and discard invalid characters.</span></span>

<span data-ttu-id="815e7-482">Cuando se cancela o se completa la edición de etiquetas, un control de vista de lista envía a su ventana primaria un [código de notificación \_ LVN ENDLABELEDIT.](lvn-endlabeledit.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-482">When label editing is canceled or completed, a list-view control sends its parent window an [LVN\_ENDLABELEDIT](lvn-endlabeledit.md) notification code.</span></span> <span data-ttu-id="815e7-483">El *parámetro lParam* es la dirección de una [**estructura NMLVDISPINFO.**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa)</span><span class="sxs-lookup"><span data-stu-id="815e7-483">The *lParam* parameter is the address of an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure.</span></span> <span data-ttu-id="815e7-484">El **miembro** de elemento de esta estructura es [**una estructura LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) cuyo **miembro iItem** identifica el elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-484">The **item** member of this structure is an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure whose **iItem** member identifies the item.</span></span> <span data-ttu-id="815e7-485">Si se cancela la edición, el **miembro pszText** de la **estructura LVITEM** es **NULL**; De lo contrario, **pszText** es la dirección del texto editado.</span><span class="sxs-lookup"><span data-stu-id="815e7-485">If editing is canceled, the **pszText** member of the **LVITEM** structure is **NULL**; otherwise, **pszText** is the address of the edited text.</span></span> <span data-ttu-id="815e7-486">La ventana primaria es responsable de actualizar la etiqueta del elemento si desea mantener la nueva etiqueta.</span><span class="sxs-lookup"><span data-stu-id="815e7-486">The parent window is responsible for updating the item's label if it wants to keep the new label.</span></span>

## <a name="list-view-colors"></a><span data-ttu-id="815e7-487">List-View colores</span><span class="sxs-lookup"><span data-stu-id="815e7-487">List-View Colors</span></span>

<span data-ttu-id="815e7-488">Una aplicación puede recuperar y establecer tres colores para un control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-488">An application can retrieve and set three colors for a list-view control.</span></span>



| <span data-ttu-id="815e7-489">Color</span><span class="sxs-lookup"><span data-stu-id="815e7-489">Color</span></span>                   | <span data-ttu-id="815e7-490">Mensajes usados para recuperar y establecer colores</span><span class="sxs-lookup"><span data-stu-id="815e7-490">Messages used to retrieve and set colors</span></span>                                                             |
|-------------------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="815e7-491">Color del texto</span><span class="sxs-lookup"><span data-stu-id="815e7-491">Text color</span></span>              | <span data-ttu-id="815e7-492">[**LVM \_ GETTEXTCOLOR**](lvm-gettextcolor.md), [ **LVM \_ SETTEXTCOLOR**](lvm-settextcolor.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-492">[**LVM\_GETTEXTCOLOR**](lvm-gettextcolor.md), [**LVM\_SETTEXTCOLOR**](lvm-settextcolor.md)</span></span>         |
| <span data-ttu-id="815e7-493">Color de fondo del texto</span><span class="sxs-lookup"><span data-stu-id="815e7-493">Text background color</span></span>   | <span data-ttu-id="815e7-494">[**LVM \_ GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [ **LVM \_ SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-494">[**LVM\_GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [**LVM\_SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span></span> |
| <span data-ttu-id="815e7-495">Color de fondo de la ventana</span><span class="sxs-lookup"><span data-stu-id="815e7-495">Window background color</span></span> | <span data-ttu-id="815e7-496">[**LVM \_ GETBKCOLOR**](lvm-getbkcolor.md), [ **LVM \_ SETBKCOLOR**](lvm-setbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-496">[**LVM\_GETBKCOLOR**](lvm-getbkcolor.md), [**LVM\_SETBKCOLOR**](lvm-setbkcolor.md)</span></span>                 |



 

<span data-ttu-id="815e7-497">Para personalizar la apariencia de un control de vista de lista de forma más [](themes-overview.md) significativa, use [NM \_ CUSTOMDRAW (vista](nm-customdraw-list-view.md) de lista) o use estilos visuales (vea Estilos visuales y Habilitar estilos [visuales).](cookbook-overview.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-497">To customize the appearance of a list-view control more significantly, use [NM\_CUSTOMDRAW (list view)](nm-customdraw-list-view.md) or use visual styles (see [Visual Styles](themes-overview.md) and [Enabling Visual Styles](cookbook-overview.md)).</span></span>

## <a name="arranging-list-items-by-group"></a><span data-ttu-id="815e7-498">Organizar elementos de lista por grupo</span><span class="sxs-lookup"><span data-stu-id="815e7-498">Arranging List Items by Group</span></span>

<span data-ttu-id="815e7-499">Las características de agrupación del control list-view permiten agrupar visualmente conjuntos de elementos relacionados lógicamente.</span><span class="sxs-lookup"><span data-stu-id="815e7-499">The grouping features of the list-view control enable you to visually group logically related sets of items.</span></span> <span data-ttu-id="815e7-500">Los grupos se pueden crear en función de las propiedades, atributos u otras características del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-500">Groups can be created based on item properties, attributes, or other characteristics.</span></span> <span data-ttu-id="815e7-501">Estos grupos suelen estar separados en la pantalla por un encabezado horizontal que contiene el nombre del grupo.</span><span class="sxs-lookup"><span data-stu-id="815e7-501">These groups are typically separated on the screen by a horizontal header that contains the name of the group.</span></span> <span data-ttu-id="815e7-502">En la siguiente captura de pantalla se muestran los elementos agrupados.</span><span class="sxs-lookup"><span data-stu-id="815e7-502">The following screen shot shows grouped items.</span></span>

![captura de pantalla de un control de vista de lista, con perros en un grupo y gatos en otro grupo](images/lv-groups.png)

<span data-ttu-id="815e7-504">Use la estructura [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) para almacenar información sobre un grupo, como el texto de encabezado y pie de página, el estado actual del grupo, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="815e7-504">You use the [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) structure to store information about a group, such as the header and footer text, the current state of the group, and so on.</span></span> <span data-ttu-id="815e7-505">La API de agrupación incluye mensajes que permiten administrar grupos y elementos de grupo mediante la adición de elementos a grupos, la adición de grupos a vistas, la ordenación de elementos de grupo y la consulta de grupos de tamaño de elemento y otra información.</span><span class="sxs-lookup"><span data-stu-id="815e7-505">The grouping API includes messages that enable you to manage groups and group elements by adding items to groups, adding groups to views, sorting group items, and querying groups for item size and other information.</span></span> <span data-ttu-id="815e7-506">Por ejemplo, puede establecer y recuperar parámetros de presentación para cada grupo mediante las macros [**\_ ListView SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) y [**ListView \_ GetGroupMetrics.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics)</span><span class="sxs-lookup"><span data-stu-id="815e7-506">For example, you can set and retrieve display parameters for each group by using the [**ListView\_SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) and [**ListView\_GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) macros.</span></span>

<span data-ttu-id="815e7-507">La agrupación está disponible en todas las vistas excepto en la vista de lista.</span><span class="sxs-lookup"><span data-stu-id="815e7-507">Grouping is available in all views except list view.</span></span> <span data-ttu-id="815e7-508">No está disponible en los controles que tienen [**el estilo \_ OWNERDATA de LVS.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="815e7-508">It is not available on controls that have the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="815e7-509">Para obtener más información, [vea Using List-View Controls](using-list-view-controls.md).</span><span class="sxs-lookup"><span data-stu-id="815e7-509">For more information, see [Using List-View Controls](using-list-view-controls.md).</span></span>

## <a name="insertion-marks"></a><span data-ttu-id="815e7-510">Marcas de inserción</span><span class="sxs-lookup"><span data-stu-id="815e7-510">Insertion Marks</span></span>

<span data-ttu-id="815e7-511">Las marcas de inserción muestran los usuarios donde se colocarán los elementos arrastrados.</span><span class="sxs-lookup"><span data-stu-id="815e7-511">Insertion marks show users where dragged items will be placed.</span></span> <span data-ttu-id="815e7-512">Las marcas de inserción se muestran actualmente cuando el usuario arrastra un elemento al **menú** Inicio o a inicio rápido barra.</span><span class="sxs-lookup"><span data-stu-id="815e7-512">Insertion marks currently display when the user drags an item into the **Start** menu or Quick Launch bar.</span></span> <span data-ttu-id="815e7-513">La marca de inserción también funciona para las listas que se establecen en autoarrange.</span><span class="sxs-lookup"><span data-stu-id="815e7-513">The insertion mark also works for lists that are set to autoarrange.</span></span> <span data-ttu-id="815e7-514">Cuando un usuario arrastra un elemento a un punto entre otros dos elementos, la marca de inserción muestra la nueva ubicación esperada del elemento.</span><span class="sxs-lookup"><span data-stu-id="815e7-514">When a user drags an item to a point between two other items, the insertion mark shows the item's expected new location.</span></span> <span data-ttu-id="815e7-515">En la siguiente captura de pantalla se muestra una marca de inserción.</span><span class="sxs-lookup"><span data-stu-id="815e7-515">The following screen shot shows an insertion mark.</span></span>

![captura de pantalla que muestra una marca de inserción al arrastrar un archivo entre otros dos en un control de vista de lista](images/insertmark.png)

<span data-ttu-id="815e7-517">Los elementos de la API de marca de inserción permiten la colocación de marcas de inserción proporcionando mensajes y marcas que realizan la detección de llamadas, que especifican la ubicación y la apariencia de la marca de inserción por elemento, y que consultan información sobre el tamaño actual y la apariencia de la marca de inserción.</span><span class="sxs-lookup"><span data-stu-id="815e7-517">The insertion mark API elements enable placement of insertion marks by providing messages and flags that perform hit detection, that specify the location and appearance of the insertion mark by item, and that query for information about the current size and appearance of the insertion mark.</span></span>

## <a name="see-also"></a><span data-ttu-id="815e7-518">Consulte también</span><span class="sxs-lookup"><span data-stu-id="815e7-518">See also</span></span>

* [<span data-ttu-id="815e7-519">Ejemplo de control listview virtual</span><span class="sxs-lookup"><span data-stu-id="815e7-519">Virtual listview control sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw)
