---
title: Direcciones Teredo
ms.assetid: e2e185c2-e53d-471d-aedb-54d75f9db0bb
description: 'Más información acerca de: direcciones Teredo'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc08a53da2f710423d948e9479df2aeb08f20178
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104361528"
---
# <a name="teredo-addresses"></a><span data-ttu-id="07413-103">Direcciones Teredo</span><span class="sxs-lookup"><span data-stu-id="07413-103">Teredo Addresses</span></span>

<span data-ttu-id="07413-104">Una dirección Teredo consta de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="07413-104">A Teredo address consists of the following:</span></span>

-   <span data-ttu-id="07413-105">**Prefijo Teredo**</span><span class="sxs-lookup"><span data-stu-id="07413-105">**Teredo prefix**</span></span>

    <span data-ttu-id="07413-106">Los primeros 32 bits son para el prefijo Teredo, que es el mismo para todas las direcciones Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-106">The first 32 bits are for the Teredo prefix, which is the same for all Teredo addresses.</span></span> <span data-ttu-id="07413-107">Windows XP y Windows Server 2003 inicialmente usaban el prefijo de Teredo 3FFE: 831F::/32.</span><span class="sxs-lookup"><span data-stu-id="07413-107">Windows XP and Windows Server 2003 initially used the 3FFE:831F::/32 Teredo prefix.</span></span> <span data-ttu-id="07413-108">El prefijo definido para Teredo en RFC 4380 es 2001::/32 y es el prefijo usado por Teredo en Windows Vista y Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="07413-108">The prefix defined for Teredo in RFC 4380 is 2001::/32 and is the prefix used by Teredo in Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="07413-109">Los equipos que ejecutan Windows XP y Windows Server 2003 usarán el prefijo de Teredo 2001::/32 cuando se actualicen con el boletín de seguridad de Microsoft MS06-064.</span><span class="sxs-lookup"><span data-stu-id="07413-109">Computers running Windows XP and Windows Server 2003 will use the 2001::/32 Teredo prefix when updated with Microsoft Security Bulletin MS06-064.</span></span>

-   <span data-ttu-id="07413-110">**Dirección IPv4 del servidor Teredo**</span><span class="sxs-lookup"><span data-stu-id="07413-110">**Teredo server IPv4 address**</span></span>

    <span data-ttu-id="07413-111">Los siguientes 32 bits contienen la dirección IPv4 pública del servidor Teredo que ayudó a configurar esta dirección Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-111">The next 32 bits contain the IPv4 public address of the Teredo server that helped configure this Teredo address.</span></span> <span data-ttu-id="07413-112">Para obtener más información, consulte "configuración inicial para clientes Teredo" en este artículo.</span><span class="sxs-lookup"><span data-stu-id="07413-112">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

-   <span data-ttu-id="07413-113">**Marcas**</span><span class="sxs-lookup"><span data-stu-id="07413-113">**Flags**</span></span>

    <span data-ttu-id="07413-114">Los 16 bits siguientes para están reservados para las marcas de Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-114">The next 16 bits for are reserved for Teredo flags.</span></span> <span data-ttu-id="07413-115">En el caso de los clientes Teredo basados en Windows XP, la única marca definida es el bit de orden superior conocido como marca cónica.</span><span class="sxs-lookup"><span data-stu-id="07413-115">For Windows XP-based Teredo clients, the only defined flag is the high order bit known as the Cone flag.</span></span> <span data-ttu-id="07413-116">La marca cónica se establece cuando el cliente Teredo está detrás de un NAT cónico.</span><span class="sxs-lookup"><span data-stu-id="07413-116">The Cone flag is set when Teredo client is behind a cone NAT.</span></span> <span data-ttu-id="07413-117">La determinación de si el NAT conectado a Internet es una NAT cónica que se produce durante la configuración inicial del cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-117">The determination of whether the NAT connected to the Internet is a cone NAT occurs during the Teredo client's initial configuration.</span></span> <span data-ttu-id="07413-118">Para obtener más información, consulte "configuración inicial para clientes Teredo" en este artículo.</span><span class="sxs-lookup"><span data-stu-id="07413-118">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

    <span data-ttu-id="07413-119">En el caso de los clientes Teredo basados en Windows Vista y Windows Server 2008, los bits no usados dentro del campo marcas proporcionan un nivel de protección de los exámenes de direcciones por parte de usuarios malintencionados.</span><span class="sxs-lookup"><span data-stu-id="07413-119">For Windows Vista and Windows Server 2008-based Teredo clients, unused bits within the Flags field provide a level of protection from address scans by malicious users.</span></span> <span data-ttu-id="07413-120">Los 16 bits del campo Flags para los clientes Teredo basados en Windows Vista y Windows Server 2008 se componen de lo siguiente: CRAAAAUG AAAAAAAA.</span><span class="sxs-lookup"><span data-stu-id="07413-120">The 16 bits within the Flags field for Windows Vista and Windows Server 2008-based Teredo clients consists of the following: CRAAAAUG AAAAAAAA.</span></span> <span data-ttu-id="07413-121">El bit C es para la marca de cono.</span><span class="sxs-lookup"><span data-stu-id="07413-121">The C bit is for the Cone flag.</span></span> <span data-ttu-id="07413-122">El bit R está reservado para un uso futuro.</span><span class="sxs-lookup"><span data-stu-id="07413-122">The R bit is reserved for future use.</span></span> <span data-ttu-id="07413-123">El bit U es para la marca universal/local (establecido en 0).</span><span class="sxs-lookup"><span data-stu-id="07413-123">The U bit is for the Universal/Local flag (set to 0).</span></span> <span data-ttu-id="07413-124">El bit G es una marca individual o de grupo (establecida en 0).</span><span class="sxs-lookup"><span data-stu-id="07413-124">The G bit is Individual/Group flag (set to 0).</span></span> <span data-ttu-id="07413-125">Los bits A se establecen en un número generado aleatoriamente de 12 bits.</span><span class="sxs-lookup"><span data-stu-id="07413-125">The A bits are set to a 12-bit randomly generated number.</span></span> <span data-ttu-id="07413-126">Mediante el uso de un número aleatorio para los bits A, un usuario malintencionado que ha determinado el resto de la dirección Teredo mediante la captura del intercambio de configuración inicial de paquetes entre el cliente Teredo y el servidor Teredo tendrá que probar hasta 4.096 (212) diferentes direcciones para determinar la dirección de un cliente Teredo durante un examen de direcciones.</span><span class="sxs-lookup"><span data-stu-id="07413-126">By using a random number for the A bits, a malicious user that has determined the rest of the Teredo address by capturing the initial configuration exchange of packets between the Teredo client and Teredo server will have to try up to 4,096 (212) different addresses to determine a Teredo client's address during an address scan.</span></span>

-   <span data-ttu-id="07413-127">**Puerto externo oculto**</span><span class="sxs-lookup"><span data-stu-id="07413-127">**Obscured external port**</span></span>

    <span data-ttu-id="07413-128">Los 16 bits siguientes almacenan una versión oculta del puerto UDP externo correspondiente a todo el tráfico Teredo de este cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-128">The next 16 bits store an obscured version of the external UDP port corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="07413-129">Cuando el cliente Teredo envía su paquete inicial a un servidor Teredo, el puerto UDP de origen del paquete se asigna mediante NAT a un puerto UDP externo diferente.</span><span class="sxs-lookup"><span data-stu-id="07413-129">When the Teredo client sends its initial packet to a Teredo server, the source UDP port of the packet is mapped by the NAT to a different, external UDP port.</span></span> <span data-ttu-id="07413-130">El cliente Teredo mantiene esta asignación de puerto para que permanezca en la tabla de traducción de NAT.</span><span class="sxs-lookup"><span data-stu-id="07413-130">The Teredo client maintains this port mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="07413-131">Por lo tanto, todo el tráfico Teredo del host utiliza el mismo puerto UDP asignado externo.</span><span class="sxs-lookup"><span data-stu-id="07413-131">Therefore, all Teredo traffic for the host uses the same external, mapped UDP port.</span></span> <span data-ttu-id="07413-132">El puerto UDP externo viene determinado por el servidor Teredo del puerto UDP de origen del paquete inicial entrante enviado por el cliente Teredo y enviado de vuelta al cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-132">The external UDP port is determined by the Teredo server from the source UDP port of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="07413-133">El puerto externo está oculto XORing el puerto externo con 0xFFFF.</span><span class="sxs-lookup"><span data-stu-id="07413-133">The external port is obscured by XORing the external port with 0xFFFF.</span></span> <span data-ttu-id="07413-134">Por ejemplo, la versión oculta del puerto externo 5000 en formato hexadecimal es EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span><span class="sxs-lookup"><span data-stu-id="07413-134">For example, the obscured version of the external port 5000 in hexadecimal format is EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span></span> <span data-ttu-id="07413-135">La ocultación del puerto externo impide que los NAT contengan el puerto externo dentro de la carga de los paquetes que se reenvían.</span><span class="sxs-lookup"><span data-stu-id="07413-135">Obscuring the external port prevents NATs from translating the external port within the payload of the packets that they are forwarding.</span></span>

-   <span data-ttu-id="07413-136">**Dirección externa oculta**</span><span class="sxs-lookup"><span data-stu-id="07413-136">**Obscured external address**</span></span>

    <span data-ttu-id="07413-137">Los últimos 32 bits almacenan una versión oculta de la dirección IPv4 externa correspondiente a todo el tráfico Teredo de este cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-137">The last 32 bits store an obscured version of the external IPv4 address corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="07413-138">Al igual que el puerto externo, cuando el cliente Teredo envía su paquete inicial a un servidor Teredo, la dirección IP de origen del paquete se asigna mediante el NAT a una dirección externa (pública) distinta.</span><span class="sxs-lookup"><span data-stu-id="07413-138">Just like the external port, when the Teredo client sends its initial packet to a Teredo server, the source IP address of the packet is mapped by the NAT to a different, external (public) address.</span></span> <span data-ttu-id="07413-139">El cliente Teredo mantiene esta asignación de direcciones para que permanezca en la tabla de traducción de NAT.</span><span class="sxs-lookup"><span data-stu-id="07413-139">The Teredo client maintains this address mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="07413-140">Por lo tanto, todo el tráfico de Teredo para el host utiliza la misma dirección IPv4 pública, asignada y externa.</span><span class="sxs-lookup"><span data-stu-id="07413-140">Therefore, all Teredo traffic for the host uses the same external, mapped, public IPv4 address.</span></span> <span data-ttu-id="07413-141">La dirección IPv4 externa viene determinada por el servidor Teredo de la dirección IPv4 de origen del paquete inicial entrante enviado por el cliente Teredo y que se devuelve al cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="07413-141">The external IPv4 address is determined by the Teredo server from the source IPv4 address of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="07413-142">La dirección externa está oscurecida por XORing la dirección externa con 0xFFFFFFFF.</span><span class="sxs-lookup"><span data-stu-id="07413-142">The external address is obscured by XORing the external address with 0xFFFFFFFF.</span></span> <span data-ttu-id="07413-143">Por ejemplo, la versión oculta de la dirección IPv4 pública 131.107.0.1 en formato hexadecimal con dos puntos es 7C94: FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span><span class="sxs-lookup"><span data-stu-id="07413-143">For example, the obscured version of the public IPv4 address 131.107.0.1 in colon-hexadecimal format is 7C94:FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span></span> <span data-ttu-id="07413-144">La ocultación de la dirección externa impide que los NAT contengan la dirección externa dentro de la carga de los paquetes que se reenvían.</span><span class="sxs-lookup"><span data-stu-id="07413-144">Obscuring the external address prevents NATs from translating the external address within the payload of the packets that they are forwarding.</span></span>

 

 




