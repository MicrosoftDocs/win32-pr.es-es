---
description: Controlador MSDV
ms.assetid: 146ca753-fe41-49d3-8b1c-077e10a28192
title: Controlador MSDV
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6b7c1bda24980abe84a11613126476ccfe35380d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104422762"
---
# <a name="msdv-driver"></a><span data-ttu-id="8b034-103">Controlador MSDV</span><span class="sxs-lookup"><span data-stu-id="8b034-103">MSDV Driver</span></span>

<span data-ttu-id="8b034-104">MSDV es el controlador de Microsoft Modelo de controlador de Windows (WDM) para camascopios DV.</span><span class="sxs-lookup"><span data-stu-id="8b034-104">MSDV is the Microsoft Windows Driver Model (WDM) driver for DV camcorders.</span></span> <span data-ttu-id="8b034-105">El controlador aparece como un filtro DirectShow cuando el dispositivo está conectado.</span><span class="sxs-lookup"><span data-stu-id="8b034-105">The driver appears as a DirectShow filter when the device is plugged in.</span></span> <span data-ttu-id="8b034-106">Se enumera en dos categorías de filtro:</span><span class="sxs-lookup"><span data-stu-id="8b034-106">It is enumerated in two filter categories:</span></span>

-   <span data-ttu-id="8b034-107">CLSID \_ VideoInputDeviceCategory ("orígenes de captura de vídeo")</span><span class="sxs-lookup"><span data-stu-id="8b034-107">CLSID\_VideoInputDeviceCategory ("Video Capture Sources")</span></span>
-   <span data-ttu-id="8b034-108">\_Representación de KSCATEGORY AM \_ ("dispositivos de representación de transmisión por secuencias WDM")</span><span class="sxs-lookup"><span data-stu-id="8b034-108">AM\_KSCATEGORY\_RENDER ("WDM Streaming Rendering Devices")</span></span>

<span data-ttu-id="8b034-109">El nombre descriptivo del filtro es `Microsoft DV Camera and VCR` o un equivalente localizado.</span><span class="sxs-lookup"><span data-stu-id="8b034-109">The filter's friendly name is `Microsoft DV Camera and VCR`, or a localized equivalent.</span></span> <span data-ttu-id="8b034-110">En algunos dispositivos, la propiedad **Description** contiene una descripción del modelo específico, que se puede usar en lugar del nombre descriptivo genérico.</span><span class="sxs-lookup"><span data-stu-id="8b034-110">In some devices, the **Description** property contains a description of the specific model, which can be used instead of the generic friendly name.</span></span> <span data-ttu-id="8b034-111">Para obtener más información, consulte [seleccionar un dispositivo de captura](selecting-a-capture-device.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-111">For more information, see [Selecting a Capture Device](selecting-a-capture-device.md).</span></span>

<span data-ttu-id="8b034-112">MSDV tiene dos clavijas de salida.</span><span class="sxs-lookup"><span data-stu-id="8b034-112">MSDV has two output pins.</span></span> <span data-ttu-id="8b034-113">Un PIN ofrece fotogramas DV que contienen datos de audio y vídeo intercalados.</span><span class="sxs-lookup"><span data-stu-id="8b034-113">One pin delivers DV frames that contain interleaved audio and video data.</span></span> <span data-ttu-id="8b034-114">El otro PIN ofrece fotogramas solo de vídeo sin audio.</span><span class="sxs-lookup"><span data-stu-id="8b034-114">The other pin delivers video-only frames with no audio.</span></span> <span data-ttu-id="8b034-115">MSDV no puede transmitir desde ambos PIN a la vez, por lo que solo se puede conectar un PIN de salida a la vez.</span><span class="sxs-lookup"><span data-stu-id="8b034-115">MSDV cannot stream from both pins at once, so only one output pin can be connected at a time.</span></span> <span data-ttu-id="8b034-116">Para obtener más información acerca de la captura de vídeo desde un dispositivo DV, consulte [Capture DV to file](capture-dv-to-file.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-116">For more information about capturing video from a DV device, see [Capture DV to File](capture-dv-to-file.md).</span></span>

![capturar datos de DV desde el dispositivo](images/dv-filters4.png)

<span data-ttu-id="8b034-118">La mayoría de los camcorders DV tienen una subunidad de grabadora de cintas de vídeo (VTR), que puede transmitir datos desde la cinta al equipo.</span><span class="sxs-lookup"><span data-stu-id="8b034-118">Most DV camcorders have a video tape recorder (VTR) subunit, which can transmit data from tape to the computer.</span></span> <span data-ttu-id="8b034-119">Para la aplicación, la captura desde cinta funciona igual que la captura de vídeo en directo.</span><span class="sxs-lookup"><span data-stu-id="8b034-119">For the application, capturing from tape works the same as capturing live video.</span></span> <span data-ttu-id="8b034-120">La única diferencia es que la aplicación debe controlar el transporte de cinta externo: iniciar y detener la cinta, rebobinar, etc.</span><span class="sxs-lookup"><span data-stu-id="8b034-120">The only difference is that the application must control the external tape transport — start and stop the tape, rewind, and so forth.</span></span> <span data-ttu-id="8b034-121">Para este propósito, MSDV expone las interfaces [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport)y [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) .</span><span class="sxs-lookup"><span data-stu-id="8b034-121">For this purpose, MSDV exposes the [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport), and [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) interfaces.</span></span> <span data-ttu-id="8b034-122">Para obtener más información acerca del control de un VTR, consulte [control de una videocámara DV](controlling-a-dv-camcorder.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-122">For more information about controlling a VTR, see [Controlling a DV Camcorder](controlling-a-dv-camcorder.md).</span></span>

<span data-ttu-id="8b034-123">También puede transmitir DV desde el equipo a la videocámara.</span><span class="sxs-lookup"><span data-stu-id="8b034-123">You can also transmit DV from the computer to the camcorder.</span></span> <span data-ttu-id="8b034-124">Después, el vídeo se puede ver en la pantalla incorporada del camascopio o grabarse en una cinta.</span><span class="sxs-lookup"><span data-stu-id="8b034-124">The video can then be viewed in the camcorder's onboard screen, or recorded to tape.</span></span> <span data-ttu-id="8b034-125">Para admitir esta funcionalidad, MSDV tiene un PIN de entrada que puede recibir un flujo DV intercalado.</span><span class="sxs-lookup"><span data-stu-id="8b034-125">To support this functionality, MSDV has an input pin that can receive an interleaved DV stream.</span></span> <span data-ttu-id="8b034-126">Cuando el PIN de entrada está conectado, MSDV actúa como un filtro de representador en lugar de un filtro de captura.</span><span class="sxs-lookup"><span data-stu-id="8b034-126">When the input pin is connected, MSDV acts as a renderer filter instead of a capture filter.</span></span> <span data-ttu-id="8b034-127">MSDV no admite búsquedas en este modo.</span><span class="sxs-lookup"><span data-stu-id="8b034-127">MSDV does not support seeking in this mode.</span></span> <span data-ttu-id="8b034-128">Para obtener más información acerca del envío de DV al dispositivo, consulte [transmisión de DV desde un archivo a una cinta](transmit-dv-from-file-to-tape.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-128">For more information about sending DV to the device, see [Transmit DV from File to Tape](transmit-dv-from-file-to-tape.md).</span></span>

![transmisión de datos de DV al dispositivo](images/dv-filters5.png)

<span data-ttu-id="8b034-130">Tenga en cuenta que los pin de entrada y salida no se pueden conectar al mismo tiempo, ya que el dispositivo no puede transmitir en ambas direcciones al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="8b034-130">Note that the input and output pins cannot be connected at the same time, because the device cannot stream in both directions at the same time.</span></span>

<span data-ttu-id="8b034-131">En muchos camcorders, cambiar entre el modo VTR y el modo de cámara hace que el dispositivo se apague.</span><span class="sxs-lookup"><span data-stu-id="8b034-131">In many camcorders, switching between VTR mode and camera mode causes the device to switch off.</span></span> <span data-ttu-id="8b034-132">Por lo tanto, es posible que DirectShow pierda el dispositivo cuando el usuario cambie de modo.</span><span class="sxs-lookup"><span data-stu-id="8b034-132">Therefore, DirectShow may lose the device when the user switches modes.</span></span> <span data-ttu-id="8b034-133">Para obtener información sobre los eventos de eliminación de dispositivos, consulte [notificación de eliminación de dispositivos](device-removal-notification.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-133">For information about device removal events, see [Device Removal Notification](device-removal-notification.md).</span></span>

## <a name="remarks"></a><span data-ttu-id="8b034-134">Observaciones</span><span class="sxs-lookup"><span data-stu-id="8b034-134">Remarks</span></span>

<span data-ttu-id="8b034-135">Para obtener información acerca de los formatos DV que admite el controlador MSDV, consulte [**subtipos de vídeo DV**](dv-video-subtypes.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-135">For information about which DV formats are supported by the MSDV driver, see [**DV Video Subtypes**](dv-video-subtypes.md).</span></span>

<span data-ttu-id="8b034-136">Algunas sugerencias sobre la creación de gráficos de filtro con MSDV:</span><span class="sxs-lookup"><span data-stu-id="8b034-136">Some tips on building filter graphs with MSDV:</span></span>

-   <span data-ttu-id="8b034-137">No se puede usar [**IGraphBuilder:: Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) para representar un PIN de salida en MSDV.</span><span class="sxs-lookup"><span data-stu-id="8b034-137">You cannot use [**IGraphBuilder::Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) to render an output pin on MSDV.</span></span> <span data-ttu-id="8b034-138">(Filter Graph Manager intenta conectar el PIN de salida al pin de entrada de MSDV, que produce un error). En su lugar, use [**IGraphBuilder:: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) o [**ICaptureGraphBuilder2:: RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span><span class="sxs-lookup"><span data-stu-id="8b034-138">(The Filter Graph Manager tries to connect the output pin to MSDV's input pin, which fails.) Instead, use [**IGraphBuilder::Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) or [**ICaptureGraphBuilder2::RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span></span>
-   <span data-ttu-id="8b034-139">Cuando un gráfico de filtros contiene MSDV, MSDV debe proporcionar el reloj de referencia para el gráfico.</span><span class="sxs-lookup"><span data-stu-id="8b034-139">When a filter graph contains MSDV, MSDV should supply the reference clock for the graph.</span></span> <span data-ttu-id="8b034-140">A partir de DirectX 8,0, el administrador de gráficos de filtros elegirá automáticamente MSDV como el reloj de referencia.</span><span class="sxs-lookup"><span data-stu-id="8b034-140">As of DirectX 8.0, the Filter Graph Manager will automatically choose MSDV as the reference clock.</span></span> <span data-ttu-id="8b034-141">Con versiones anteriores, debería llamar al método [**IMediaFilter:: SetSyncSource**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) en el administrador de gráficos de filtro.</span><span class="sxs-lookup"><span data-stu-id="8b034-141">With earlier versions, you should call the [**IMediaFilter::SetSyncSource**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) method on the Filter Graph Manager.</span></span> <span data-ttu-id="8b034-142">Para obtener más información sobre los relojes, consulte [hora y relojes en DirectShow](time-and-clocks-in-directshow.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-142">For more information about clocks, see [Time and Clocks in DirectShow](time-and-clocks-in-directshow.md).</span></span>
-   <span data-ttu-id="8b034-143">En función del dispositivo, algunos métodos de **IAMExtDevice**, **IAMExtTransport** y **IAMTimeCodeReader** pueden devolver códigos de error de Windows en lugar de valores **HRESULT** .</span><span class="sxs-lookup"><span data-stu-id="8b034-143">Depending on the device, some methods in **IAMExtDevice**, **IAMExtTransport**, and **IAMTimeCodeReader** might return Windows error codes instead of **HRESULT** values.</span></span> <span data-ttu-id="8b034-144">Entre los posibles códigos de error se incluyen los siguientes.</span><span class="sxs-lookup"><span data-stu-id="8b034-144">Possible error codes include the following.</span></span>

    | <span data-ttu-id="8b034-145">Código de error</span><span class="sxs-lookup"><span data-stu-id="8b034-145">Error Code</span></span>              | <span data-ttu-id="8b034-146">Descripción</span><span class="sxs-lookup"><span data-stu-id="8b034-146">Description</span></span>                                                                                      |
    |-------------------------|--------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="8b034-147">tiempo de espera de ERROR \_</span><span class="sxs-lookup"><span data-stu-id="8b034-147">ERROR\_TIMEOUT</span></span>          | <span data-ttu-id="8b034-148">Se agotó el tiempo de espera de un comando de dispositivo externo.</span><span class="sxs-lookup"><span data-stu-id="8b034-148">An external device command has timed out.</span></span>                                                        |
    | <span data-ttu-id="8b034-149">ERROR \_ req \_ no \_ ACCEP</span><span class="sxs-lookup"><span data-stu-id="8b034-149">ERROR\_REQ\_NOT\_ACCEP</span></span>  | <span data-ttu-id="8b034-150">El dispositivo no aceptó este comando de dispositivo externo.</span><span class="sxs-lookup"><span data-stu-id="8b034-150">The device did not accept this external device command.</span></span>                                          |
    | <span data-ttu-id="8b034-151">ERROR \_ no \_ admitido</span><span class="sxs-lookup"><span data-stu-id="8b034-151">ERROR\_NOT\_SUPPORTED</span></span>   | <span data-ttu-id="8b034-152">El dispositivo no admite este comando de dispositivo externo.</span><span class="sxs-lookup"><span data-stu-id="8b034-152">The device does not support this external device command.</span></span>                                        |
    | <span data-ttu-id="8b034-153">solicitud de ERROR \_ \_ anulada</span><span class="sxs-lookup"><span data-stu-id="8b034-153">ERROR\_REQUEST\_ABORTED</span></span> | <span data-ttu-id="8b034-154">Se anuló un comando de dispositivo externo.</span><span class="sxs-lookup"><span data-stu-id="8b034-154">An external device command was aborted.</span></span> <span data-ttu-id="8b034-155">Es posible que se haya quitado el dispositivo o que se haya restablecido el bus.</span><span class="sxs-lookup"><span data-stu-id="8b034-155">Possibly the device was removed or a bus reset occurred.</span></span> |

    

     

### <a name="device-information"></a><span data-ttu-id="8b034-156">Información del dispositivo</span><span class="sxs-lookup"><span data-stu-id="8b034-156">Device Information</span></span>

<span data-ttu-id="8b034-157">En Windows Millennium Edition y Windows XP, el moniker de dispositivo del filtro DV admite una propiedad **Description** además de la propiedad **FriendlyName** .</span><span class="sxs-lookup"><span data-stu-id="8b034-157">In Windows Millennium Edition and Windows XP, the DV filter's device moniker supports a **Description** property in addition to the **FriendlyName** property.</span></span> <span data-ttu-id="8b034-158">Esta propiedad devuelve una descripción del dispositivo, tomada del archivo INF, que normalmente contiene el nombre de marca del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8b034-158">This property returns a description of the device, taken from the INF file, which usually contains the brand name of the device.</span></span> <span data-ttu-id="8b034-159">Sin embargo, esta propiedad no es compatible con todos los modelos de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="8b034-159">This property is not supported for all device models, however.</span></span>

<span data-ttu-id="8b034-160">Para obtener más información acerca de los monikers de dispositivo, consulte [usar el enumerador de dispositivos del sistema](using-the-system-device-enumerator.md).</span><span class="sxs-lookup"><span data-stu-id="8b034-160">For more information about device monikers, see [Using the System Device Enumerator](using-the-system-device-enumerator.md).</span></span>

### <a name="clock-times"></a><span data-ttu-id="8b034-161">Horas de reloj</span><span class="sxs-lookup"><span data-stu-id="8b034-161">Clock Times</span></span>

<span data-ttu-id="8b034-162">El controlador MSDV usa el reloj de bus 1394 incluido en los paquetes de datos de 1394 para obtener el reloj.</span><span class="sxs-lookup"><span data-stu-id="8b034-162">The MSDV driver uses the 1394 bus clock that is contained in the 1394 data packets to derive the clock.</span></span> <span data-ttu-id="8b034-163">Utiliza estos valores para la marca de tiempo de los ejemplos de medios DV.</span><span class="sxs-lookup"><span data-stu-id="8b034-163">It uses these values to time stamp the DV media samples.</span></span> <span data-ttu-id="8b034-164">Dado que este reloj de origen no es el reloj del sistema, las horas se desplazarán finalmente desde el reloj del sistema del equipo.</span><span class="sxs-lookup"><span data-stu-id="8b034-164">Because this source clock is not the computer system clock, the times will eventually drift from the computer system clock.</span></span> <span data-ttu-id="8b034-165">No obstante, como se indicó anteriormente, el administrador de gráficos de filtros seleccionará MSDV como el reloj de referencia del gráfico.</span><span class="sxs-lookup"><span data-stu-id="8b034-165">As noted above, however, by default the Filter Graph Manager will select MSDV as the graph reference clock.</span></span>

<span data-ttu-id="8b034-166">La interfaz [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) notifica la medida actual del controlador de los fotogramas descartados; es posible que este valor no esté perfectamente sincronizado con el número real de fotogramas colocados en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="8b034-166">The [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) interface reports the driver's current measure of dropped frames; this value may not be perfectly synchronized with the actual number of dropped frames at a given time.</span></span> <span data-ttu-id="8b034-167">Si se quitan los marcos, indica que el sistema no está equilibrado (la producción de datos supera el consumo de datos).</span><span class="sxs-lookup"><span data-stu-id="8b034-167">If frames are dropped, it indicates that the system is not balanced (data production exceeds data consumption).</span></span> <span data-ttu-id="8b034-168">Por ejemplo, es posible que el disco duro del usuario no sea lo suficientemente rápido como para admitir velocidades de captura de DV.</span><span class="sxs-lookup"><span data-stu-id="8b034-168">For example, the user's hard disk may not be fast enough to support DV capture rates.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8b034-169">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="8b034-169">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8b034-170">Filtros de DirectShow</span><span class="sxs-lookup"><span data-stu-id="8b034-170">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="8b034-171">Vídeo digital en DirectShow</span><span class="sxs-lookup"><span data-stu-id="8b034-171">Digital Video in DirectShow</span></span>](digital-video-in-directshow.md)
</dt> </dl>

 

 



