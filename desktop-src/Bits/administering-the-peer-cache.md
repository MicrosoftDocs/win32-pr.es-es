---
title: Administrar la caché del mismo nivel
description: Nota a partir de Windows 7, el modelo de almacenamiento en caché del mismo nivel de Servicio de transferencia inteligente en segundo plano (BITS) 3,0 está en desuso.
ms.assetid: a33a43e5-02f9-4902-ad3a-ec65b0d80520
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 40b3ea1dd19c9aca855ffd73e174dcb3b588a54d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "103773909"
---
# <a name="administering-the-peer-cache"></a><span data-ttu-id="26343-103">Administrar la caché del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="26343-103">Administering the Peer Cache</span></span>

> [!Note]  
> <span data-ttu-id="26343-104">A partir de Windows 7, el modelo de almacenamiento en caché del mismo nivel de Servicio de transferencia inteligente en segundo plano (BITS) 3,0 está en desuso.</span><span class="sxs-lookup"><span data-stu-id="26343-104">Starting with Windows 7, the Background Intelligent Transfer Service (BITS) 3.0 peer caching model is deprecated.</span></span> <span data-ttu-id="26343-105">Si BITS 4,0 está instalado, el modelo de almacenamiento en caché del mismo nivel de BITS 3,0 no está disponible.</span><span class="sxs-lookup"><span data-stu-id="26343-105">If BITS 4.0 is installed, the BITS 3.0 peer caching model is unavailable.</span></span>

 

<span data-ttu-id="26343-106">Para mejorar el rendimiento de la descarga, BITS permite descargar contenido de equipos del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="26343-106">To improve download performance, BITS lets you download content from peer computers.</span></span> <span data-ttu-id="26343-107">Para habilitar esta característica, el administrador debe habilitar la configuración de directiva de grupo de EnablePeerCaching.</span><span class="sxs-lookup"><span data-stu-id="26343-107">To enable this feature, the administrator must enable the EnablePeerCaching group policy setting.</span></span> <span data-ttu-id="26343-108">Si está habilitada, el elemento del mismo nivel puede descargar el contenido de los elementos del mismo nivel y servir contenido a los elementos del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="26343-108">If enabled, the peer can download content from peers and serve content to peers.</span></span> <span data-ttu-id="26343-109">El administrador también puede usar la configuración de la Directiva DisablePeerCachingClient y DisablePeerCachingServer para evitar la descarga de contenido de un elemento del mismo nivel o el contenido del mismo a los equipos del mismo nivel, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="26343-109">The administrator can also use the DisablePeerCachingClient and DisablePeerCachingServer policy settings to prevent downloading content from a peer or serving content to peers, respectively.</span></span>

<span data-ttu-id="26343-110">Si no se configuran las opciones de directiva de grupo, una aplicación puede llamar al método [**IBitsPeerCacheAdministration:: SetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setconfigurationflags) para establecer la preferencia de almacenamiento en caché del mismo nivel para el equipo.</span><span class="sxs-lookup"><span data-stu-id="26343-110">If the group policy settings are not configured, an application can call the [**IBitsPeerCacheAdministration::SetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setconfigurationflags) method to set the peer caching preference for the computer.</span></span> <span data-ttu-id="26343-111">Tenga en cuenta que estas preferencias se invalidan mediante la configuración de directiva de grupo si se establecen posteriormente.</span><span class="sxs-lookup"><span data-stu-id="26343-111">Note that these preferences are overridden by the group policy settings if they are set later.</span></span> <span data-ttu-id="26343-112">Para determinar si el equipo habilita el almacenamiento en caché del mismo nivel, llame al método [**IBitsPeerCacheAdministration:: GetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-getconfigurationflags) .</span><span class="sxs-lookup"><span data-stu-id="26343-112">To determine if the computer enables peer caching, call the [**IBitsPeerCacheAdministration::GetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-getconfigurationflags) method.</span></span>

<span data-ttu-id="26343-113">Si el almacenamiento en caché del mismo nivel está habilitado, BITS solo almacenará en caché el contenido de un trabajo si el trabajo permite que el contenido se almacene en caché.</span><span class="sxs-lookup"><span data-stu-id="26343-113">If peer caching is enabled, BITS will only cache the contents of a job if the job explicitly allows its content to be cached.</span></span> <span data-ttu-id="26343-114">BITS también descargará el contenido de un elemento del mismo nivel si el trabajo lo permite explícitamente.</span><span class="sxs-lookup"><span data-stu-id="26343-114">BITS will also only download content from a peer if the job explicitly allows it.</span></span> <span data-ttu-id="26343-115">Para habilitar el almacenamiento en caché del mismo nivel para un trabajo, llame al método [**IBackgroundCopyJob4:: SetPeerCachingFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibackgroundcopyjob4-setpeercachingflags) .</span><span class="sxs-lookup"><span data-stu-id="26343-115">To enable peer caching for a job, call the [**IBackgroundCopyJob4::SetPeerCachingFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibackgroundcopyjob4-setpeercachingflags) method.</span></span>

<span data-ttu-id="26343-116">Además de usar directiva de grupo o la interfaz [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) para habilitar el almacenamiento en caché del mismo nivel, también puede usar cualquiera de los métodos para cambiar el tamaño de caché predeterminado y la cantidad de tiempo que un archivo sin acceso permanece en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="26343-116">In addition to using Group Policy or the [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) interface to enable peer caching, you can also use either method to change the default cache size and length of time that a non-accessed file remains in the cache.</span></span> <span data-ttu-id="26343-117">Para cambiar los valores predeterminados mediante la interfaz **IBitsPeerCacheAdministration** , llame a los métodos [**SetMaximumCacheSize**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcachesize) y [**SetMaximumContentAge**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcontentage) .</span><span class="sxs-lookup"><span data-stu-id="26343-117">To change the defaults using the **IBitsPeerCacheAdministration** interface, call the [**SetMaximumCacheSize**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcachesize) and [**SetMaximumContentAge**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcontentage) methods.</span></span> <span data-ttu-id="26343-118">Dado que estos métodos establecen la configuración de preferencias, se invalidan mediante la configuración de directiva de grupo.</span><span class="sxs-lookup"><span data-stu-id="26343-118">Since these methods set the preference settings, they are overridden by the group policy settings.</span></span>

<span data-ttu-id="26343-119">Para enumerar los elementos del mismo nivel de los que BITS intentará descargar contenido, llame al método [**IBitsPeerCacheAdministration:: EnumPeers**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumpeers) .</span><span class="sxs-lookup"><span data-stu-id="26343-119">To list the peers from whom BITS will try to download content, call the [**IBitsPeerCacheAdministration::EnumPeers**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumpeers) method.</span></span>

<span data-ttu-id="26343-120">Para enumerar los archivos de la memoria caché que los BITS atenderán a los elementos del mismo nivel, llame al método [**IBitsPeerCacheAdministration:: EnumRecords**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumrecords) .</span><span class="sxs-lookup"><span data-stu-id="26343-120">To list the files in the cache that BITS will serve to peers, call the [**IBitsPeerCacheAdministration::EnumRecords**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumrecords) method.</span></span>

<span data-ttu-id="26343-121">Nunca debe tener que administrar la caché del mismo nivel con respecto a la detección de elementos del mismo nivel o la eliminación de registros de caché.</span><span class="sxs-lookup"><span data-stu-id="26343-121">You should never have to manage the peer cache with regards to discovering peers or deleting cache records.</span></span> <span data-ttu-id="26343-122">Esta funcionalidad se incluyó en la interfaz [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) para la integridad.</span><span class="sxs-lookup"><span data-stu-id="26343-122">This functionality was included in the [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) interface for completeness.</span></span>

 

 




