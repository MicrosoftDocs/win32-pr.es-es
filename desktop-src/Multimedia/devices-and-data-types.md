---
title: Dispositivos y tipos de datos
description: Dispositivos y tipos de datos
ms.assetid: 46247983-19c3-4c7a-a615-ba6cd8bd3289
keywords:
- audio de onda, abrir dispositivos de salida
- interfaz de audio de onda, abrir dispositivos de salida
- abrir dispositivos de salida de audio y forma de onda
- audio de onda, consulta de dispositivos de salida
- interfaz de audio de onda, consulta de dispositivos de salida
- consultar dispositivos de salida de audio de forma de onda
- audio de forma de onda, identificadores de dispositivo
- interfaz de audio de onda, identificadores de dispositivo
- audio de forma de onda, identificadores de dispositivo
- interfaz de audio de onda, identificadores de dispositivo
- audio de forma de onda, tipos de datos de salida
- interfaz de audio de forma de onda, tipos de datos de salida
- audio de forma de onda, formatos de datos
- interfaz de audio de forma de onda, formatos de datos
- escribir datos de audio de forma de onda
- audio de forma de onda, escribir datos
- interfaz de audio de onda, escribir datos
- Datos de audio de forma de onda de PCM
- audio de forma de onda, datos de PCM
- interfaz de audio de onda, datos de PCM
- audio de onda, cierre de dispositivos de salida
- interfaz de audio de onda, cerrar dispositivos de salida
- cerrar dispositivos de salida de audio y forma de onda
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2abe0c2c20c52f4498316fb619885d41f85e41d6
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120250"
---
# <a name="devices-and-data-types"></a><span data-ttu-id="f8998-126">Dispositivos y tipos de datos</span><span class="sxs-lookup"><span data-stu-id="f8998-126">Devices and Data Types</span></span>

<span data-ttu-id="f8998-127">En esta sección se describe cómo trabajar con dispositivos de audio de forma de onda e incluye información sobre cómo abrirlos, cerrarlos y consultar sus funcionalidades.</span><span class="sxs-lookup"><span data-stu-id="f8998-127">This section describes working with waveform-audio devices, and includes information on how to open, close and query them for their capabilities.</span></span> <span data-ttu-id="f8998-128">También se describe cómo realizar un seguimiento de los dispositivos de un sistema mediante identificadores de dispositivo e identificadores de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-128">It also describes how to keep track of the devices in a system by using device handles and device identifiers.</span></span>

## <a name="opening-waveform-audio-output-devices"></a><span data-ttu-id="f8998-129">Apertura de Waveform-Audio de salida</span><span class="sxs-lookup"><span data-stu-id="f8998-129">Opening Waveform-Audio Output Devices</span></span>

<span data-ttu-id="f8998-130">Use la [**función waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) para abrir un dispositivo de salida de audio de forma de onda para la reproducción.</span><span class="sxs-lookup"><span data-stu-id="f8998-130">Use the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a waveform-audio output device for playback.</span></span> <span data-ttu-id="f8998-131">Esta función abre el dispositivo asociado al identificador de dispositivo especificado y devuelve un identificador del dispositivo abierto escribiendo el identificador de una ubicación de memoria especificada.</span><span class="sxs-lookup"><span data-stu-id="f8998-131">This function opens the device associated with the specified device identifier and returns a handle of the open device by writing the handle of a specified memory location.</span></span>

<span data-ttu-id="f8998-132">Algunos equipos multimedia tienen varios dispositivos de salida de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-132">Some multimedia computers have multiple waveform-audio output devices.</span></span> <span data-ttu-id="f8998-133">A menos que desee abrir un dispositivo de salida de audio de forma de onda específico en un sistema, debe usar la marca WAVE MAPPER para el identificador de dispositivo al \_ abrir un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-133">Unless you want to open a specific waveform-audio output device in a system, you should use the WAVE\_MAPPER flag for the device identifier when you open a device.</span></span> <span data-ttu-id="f8998-134">La **función waveOutOpen** elige el dispositivo del sistema que mejor puede reproducir el formato de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="f8998-134">The **waveOutOpen** function chooses the device in the system that is best able to play the specified data format.</span></span>

## <a name="querying-audio-devices"></a><span data-ttu-id="f8998-135">Consulta de dispositivos de audio</span><span class="sxs-lookup"><span data-stu-id="f8998-135">Querying Audio Devices</span></span>

<span data-ttu-id="f8998-136">Windows proporciona las siguientes funciones para determinar cuántos dispositivos de un tipo determinado están disponibles en un sistema.</span><span class="sxs-lookup"><span data-stu-id="f8998-136">Windows provides the following functions to determine how many devices of a certain type are available in a system.</span></span>



| <span data-ttu-id="f8998-137">Función</span><span class="sxs-lookup"><span data-stu-id="f8998-137">Function</span></span>                                       | <span data-ttu-id="f8998-138">Descripción</span><span class="sxs-lookup"><span data-stu-id="f8998-138">Description</span></span>                                                                  |
|------------------------------------------------|------------------------------------------------------------------------------|
| [<span data-ttu-id="f8998-139">**auxGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="f8998-139">**auxGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs)         | <span data-ttu-id="f8998-140">Recupera el número de dispositivos de salida auxiliares presentes en el sistema.</span><span class="sxs-lookup"><span data-stu-id="f8998-140">Retrieves the number of auxiliary output devices present in the system.</span></span>      |
| [<span data-ttu-id="f8998-141">**waveInGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="f8998-141">**waveInGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)   | <span data-ttu-id="f8998-142">Recupera el número de dispositivos de entrada de audio de forma de onda presentes en el sistema.</span><span class="sxs-lookup"><span data-stu-id="f8998-142">Retrieves the number of waveform-audio input devices present in the system.</span></span>  |
| [<span data-ttu-id="f8998-143">**waveOutGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="f8998-143">**waveOutGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) | <span data-ttu-id="f8998-144">Recupera el número de dispositivos de salida de audio de forma de onda presentes en el sistema.</span><span class="sxs-lookup"><span data-stu-id="f8998-144">Retrieves the number of waveform-audio output devices present in the system.</span></span> |



 

<span data-ttu-id="f8998-145">Los dispositivos de audio se identifican mediante un identificador de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-145">Audio devices are identified by a device identifier.</span></span> <span data-ttu-id="f8998-146">El identificador de dispositivo se determina implícitamente a partir del número de dispositivos presentes en un sistema.</span><span class="sxs-lookup"><span data-stu-id="f8998-146">The device identifier is determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="f8998-147">Los identificadores de dispositivo oscilan entre cero y uno menos que el número de dispositivos presentes.</span><span class="sxs-lookup"><span data-stu-id="f8998-147">Device identifiers range from zero to one less than the number of devices present.</span></span> <span data-ttu-id="f8998-148">Por ejemplo, si hay dos dispositivos de salida de audio de forma de onda en un sistema, los identificadores de dispositivo válidos son 0 y 1.</span><span class="sxs-lookup"><span data-stu-id="f8998-148">For example, if there are two waveform-audio output devices in a system, valid device identifiers are 0 and 1.</span></span>

<span data-ttu-id="f8998-149">Después de determinar cuántos dispositivos de un tipo determinado están presentes en un sistema, puede usar una de las siguientes funciones para consultar las funcionalidades de cada dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-149">After you determine how many devices of a certain type are present in a system, you can use one of the following functions to query the capabilities of each device.</span></span>



| <span data-ttu-id="f8998-150">Función</span><span class="sxs-lookup"><span data-stu-id="f8998-150">Function</span></span>                                       | <span data-ttu-id="f8998-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="f8998-151">Description</span></span>                                                             |
|------------------------------------------------|-------------------------------------------------------------------------|
| [<span data-ttu-id="f8998-152">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="f8998-152">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | <span data-ttu-id="f8998-153">Recupera las funciones de un dispositivo de salida auxiliar especificado.</span><span class="sxs-lookup"><span data-stu-id="f8998-153">Retrieves the capabilities of a specified auxiliary output device.</span></span>      |
| [<span data-ttu-id="f8998-154">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="f8998-154">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | <span data-ttu-id="f8998-155">Recupera las funciones de un dispositivo de entrada de audio de forma de onda especificado.</span><span class="sxs-lookup"><span data-stu-id="f8998-155">Retrieves the capabilities of a specified waveform-audio input device.</span></span>  |
| [<span data-ttu-id="f8998-156">**waveOutGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="f8998-156">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | <span data-ttu-id="f8998-157">Recupera las funciones de un dispositivo de salida de audio de forma de onda especificado.</span><span class="sxs-lookup"><span data-stu-id="f8998-157">Retrieves the capabilities of a specified waveform-audio output device.</span></span> |



 

<span data-ttu-id="f8998-158">Cada una de estas funciones rellena una estructura con información sobre las funcionalidades de un dispositivo especificado.</span><span class="sxs-lookup"><span data-stu-id="f8998-158">Each of these functions fills a structure with information about the capabilities of a specified device.</span></span> <span data-ttu-id="f8998-159">En la tabla siguiente se enumeran las estructuras que corresponden a cada una de estas funciones.</span><span class="sxs-lookup"><span data-stu-id="f8998-159">The following table lists the structures that correspond to each of these functions.</span></span>



|  <span data-ttu-id="f8998-160">Función</span><span class="sxs-lookup"><span data-stu-id="f8998-160">Function</span></span>                                              |  <span data-ttu-id="f8998-161">Estructura</span><span class="sxs-lookup"><span data-stu-id="f8998-161">Structure</span></span>                                  |
|------------------------------------------------|------------------------------------|
| [<span data-ttu-id="f8998-162">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="f8998-162">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | [<span data-ttu-id="f8998-163">**AUXCAPS**</span><span class="sxs-lookup"><span data-stu-id="f8998-163">**AUXCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-auxcaps)         |
| [<span data-ttu-id="f8998-164">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="f8998-164">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | [<span data-ttu-id="f8998-165">**WAVEINCAPS**</span><span class="sxs-lookup"><span data-stu-id="f8998-165">**WAVEINCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveincaps)   |
| [<span data-ttu-id="f8998-166">**waveOutGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="f8998-166">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | [<span data-ttu-id="f8998-167">**WAVEOUTCAPS**</span><span class="sxs-lookup"><span data-stu-id="f8998-167">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) |



 

<span data-ttu-id="f8998-168">Los formatos estándar se enumeran en el **miembro dwFormats** de la **estructura WAVEOUTCAPS.**</span><span class="sxs-lookup"><span data-stu-id="f8998-168">Standard formats are listed in the **dwFormats** member of the **WAVEOUTCAPS** structure.</span></span> <span data-ttu-id="f8998-169">Los dispositivos de audio de onda pueden admitir formatos no estándar.</span><span class="sxs-lookup"><span data-stu-id="f8998-169">Waveform-audio devices can support nonstandard formats.</span></span> <span data-ttu-id="f8998-170">Para determinar si un dispositivo admite un formato determinado (estándar o no estándar), puede llamar a la función [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) con la marca WAVE \_ FORMAT \_ QUERY.</span><span class="sxs-lookup"><span data-stu-id="f8998-170">To determine whether a particular format (standard or nonstandard) is supported by a device, you can call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function with the WAVE\_FORMAT\_QUERY flag.</span></span> <span data-ttu-id="f8998-171">Esta marca no abre el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-171">This flag does not open the device.</span></span> <span data-ttu-id="f8998-172">Especifique el formato en cuestión en la estructura [**DESACTEATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) a la que apunta el parámetro *pwfx* pasado **a waveOutOpen**.</span><span class="sxs-lookup"><span data-stu-id="f8998-172">You specify the format in question in the [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure pointed to by the *pwfx* parameter passed to **waveOutOpen**.</span></span>

<span data-ttu-id="f8998-173">Los dispositivos de salida de audio de forma de onda varían en función de las funcionalidades que admiten.</span><span class="sxs-lookup"><span data-stu-id="f8998-173">Waveform-audio output devices vary in the capabilities they support.</span></span> <span data-ttu-id="f8998-174">El **miembro dwSupport** de la [**estructura WAVEOUTCAPS**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) indica si un dispositivo admite funcionalidades como cambios de volumen y tono.</span><span class="sxs-lookup"><span data-stu-id="f8998-174">The **dwSupport** member of the [**WAVEOUTCAPS**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) structure indicates whether a device supports such capabilities as volume and pitch changes.</span></span>

## <a name="device-handles-and-device-identifiers"></a><span data-ttu-id="f8998-175">Identificadores de dispositivo e identificadores de dispositivo</span><span class="sxs-lookup"><span data-stu-id="f8998-175">Device Handles and Device Identifiers</span></span>

<span data-ttu-id="f8998-176">Cada función que abre un dispositivo de audio especifica un identificador de dispositivo, un puntero a una ubicación de memoria y algunos parámetros que son únicos para cada tipo de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-176">Each function that opens an audio device specifies a device identifier, a pointer to a memory location, and some parameters that are unique to each type of device.</span></span> <span data-ttu-id="f8998-177">La ubicación de memoria se rellena con un identificador de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-177">The memory location is filled with a device handle.</span></span> <span data-ttu-id="f8998-178">Use este identificador de dispositivo para identificar el dispositivo de audio abierto al llamar a otras funciones de audio.</span><span class="sxs-lookup"><span data-stu-id="f8998-178">Use this device handle to identify the open audio device when calling other audio functions.</span></span>

<span data-ttu-id="f8998-179">La diferencia entre los identificadores y los identificadores de los dispositivos de audio es sutil pero importante:</span><span class="sxs-lookup"><span data-stu-id="f8998-179">The difference between identifiers and handles for audio devices is subtle but important:</span></span>

-   <span data-ttu-id="f8998-180">Los identificadores de dispositivo se determinan implícitamente a partir del número de dispositivos presentes en un sistema.</span><span class="sxs-lookup"><span data-stu-id="f8998-180">Device identifiers are determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="f8998-181">Este número se obtiene mediante la función [**auxGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs), [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)o [**waveOutGetNumDevs.**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs)</span><span class="sxs-lookup"><span data-stu-id="f8998-181">This number is obtained by using the [**auxGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs), [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs), or [**waveOutGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) function.</span></span>
-   <span data-ttu-id="f8998-182">Los identificadores de dispositivo se devuelven cuando se abren los controladores de dispositivo mediante la [**función waveInOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) [**o waveOutOpen.**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen)</span><span class="sxs-lookup"><span data-stu-id="f8998-182">Device handles are returned when device drivers are opened by using the [**waveInOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) or [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function.</span></span>

<span data-ttu-id="f8998-183">No hay funciones que abran o cierren dispositivos de audio auxiliares.</span><span class="sxs-lookup"><span data-stu-id="f8998-183">There are no functions that open or close auxiliary audio devices.</span></span> <span data-ttu-id="f8998-184">Los dispositivos de audio auxiliares no deben abrirse y cerrarse como dispositivos de audio de forma de onda porque no hay ninguna transferencia de datos continua asociada a ellos.</span><span class="sxs-lookup"><span data-stu-id="f8998-184">Auxiliary audio devices need not be opened and closed like waveform-audio devices because there is no continuous data transfer associated with them.</span></span> <span data-ttu-id="f8998-185">Todas las funciones de audio auxiliares usan identificadores de dispositivo para identificar dispositivos.</span><span class="sxs-lookup"><span data-stu-id="f8998-185">All auxiliary audio functions use device identifiers to identify devices.</span></span>

## <a name="waveform-audio-output-data-types"></a><span data-ttu-id="f8998-186">Waveform-Audio de datos de salida</span><span class="sxs-lookup"><span data-stu-id="f8998-186">Waveform-Audio Output Data Types</span></span>

<span data-ttu-id="f8998-187">Los siguientes tipos de datos se definen para las funciones de salida de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-187">The following data types are defined for waveform-audio output functions.</span></span>



| <span data-ttu-id="f8998-188">Tipo</span><span class="sxs-lookup"><span data-stu-id="f8998-188">Type</span></span>                                 | <span data-ttu-id="f8998-189">Descripción</span><span class="sxs-lookup"><span data-stu-id="f8998-189">Description</span></span>                                                                                                                                                   |
|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f8998-190">**HWAVEOUT**</span><span class="sxs-lookup"><span data-stu-id="f8998-190">**HWAVEOUT**</span></span>                         | <span data-ttu-id="f8998-191">Controle un dispositivo abierto de salida de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-191">Handle to an open waveform-audio output device.</span></span>                                                                                                               |
| [<span data-ttu-id="f8998-192">**FORMA DE ONDAATEX**</span><span class="sxs-lookup"><span data-stu-id="f8998-192">**WAVEFORMATEX**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) | <span data-ttu-id="f8998-193">Estructura que especifica los formatos de datos admitidos por un dispositivo de entrada de audio de forma de onda determinado.</span><span class="sxs-lookup"><span data-stu-id="f8998-193">Structure that specifies the data formats supported by a particular waveform-audio input device.</span></span> <span data-ttu-id="f8998-194">Esta estructura también se usa para dispositivos de entrada de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-194">This structure is also usedfor waveform-audio input devices.</span></span> |
| [<span data-ttu-id="f8998-195">**WAVEHDR**</span><span class="sxs-lookup"><span data-stu-id="f8998-195">**WAVEHDR**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr)           | <span data-ttu-id="f8998-196">Estructura utilizada como encabezado para un bloque de datos de entrada de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-196">Structure used as a header for a block of waveform-audio input data.</span></span> <span data-ttu-id="f8998-197">Esta estructura también se usa para dispositivos de entrada de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-197">This structure is also used for waveform-audio input devices.</span></span>                            |
| [<span data-ttu-id="f8998-198">**WAVEOUTCAPS**</span><span class="sxs-lookup"><span data-stu-id="f8998-198">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps)   | <span data-ttu-id="f8998-199">Estructura que se usa para consultar las funcionalidades de un dispositivo de salida de audio de forma de onda determinado.</span><span class="sxs-lookup"><span data-stu-id="f8998-199">Structure used to query the capabilities of a particular waveform-audio output device.</span></span>                                                                        |



 

## <a name="specifying-waveform-audio-data-formats"></a><span data-ttu-id="f8998-200">Especificación de Waveform-Audio formatos de datos</span><span class="sxs-lookup"><span data-stu-id="f8998-200">Specifying Waveform-Audio Data Formats</span></span>

<span data-ttu-id="f8998-201">Cuando se llama a la función [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) para abrir un controlador de dispositivo para su reproducción o para consultar si el controlador admite un formato de datos determinado, use el parámetro *pwfx* para especificar un puntero a una estructura [**WAVEATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) que contenga el formato de datos de audio de forma de onda solicitado.</span><span class="sxs-lookup"><span data-stu-id="f8998-201">When you call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a device driver for playback or to query whether the driver supports a particular data format, use the *pwfx* parameter to specify a pointer to a [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure containing the requested waveform-audio data format.</span></span> <span data-ttu-id="f8998-202">**DESATEX reemplaza** las estructuras [**WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-waveformat) [**y PCMWAVEFORMAT.**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat)</span><span class="sxs-lookup"><span data-stu-id="f8998-202">**WAVEFORMATEX** supersedes the [**WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-waveformat) and [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) structures.</span></span>

<span data-ttu-id="f8998-203">Para los datos de audio que se separan en más de dos canales o tienen un tamaño de muestra que no es un múltiplo de 8, debe usar [**ESTANDOATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span><span class="sxs-lookup"><span data-stu-id="f8998-203">For audio data that is separated into more than two channels or has a sample size that is not a multiple of 8, you should use [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span> <span data-ttu-id="f8998-204">Esta estructura simplemente configura los bytes adicionales a los que apunta el **miembro cbSize** de **DESATEX** para proporcionar información adicional sobre el formato.</span><span class="sxs-lookup"><span data-stu-id="f8998-204">This structure simply configures the extra bytes pointed to by the **cbSize** member of **WAVEFORMATEX** to give extra information about the format.</span></span> <span data-ttu-id="f8998-205">**SE puede convertir LA FORMA DE TRABAJOATEXTENSIBLE** **como FORMA DE ONDAATEX.**</span><span class="sxs-lookup"><span data-stu-id="f8998-205">**WAVEFORMATEXTENSIBLE** can be cast as **WAVEFORMATEX**.</span></span>

<span data-ttu-id="f8998-206">También hay dos formatos de Portapapeles que puede usar para representar datos de audio: CF \_ WAVE y CF \_ RIFF.</span><span class="sxs-lookup"><span data-stu-id="f8998-206">There are also two clipboard formats you can use to represent audio data: CF\_WAVE and CF\_RIFF.</span></span> <span data-ttu-id="f8998-207">Use el formato CF WAVE para representar los datos en uno de los formatos estándar, como PCM de \_ 11 kHz o 22 kHz.</span><span class="sxs-lookup"><span data-stu-id="f8998-207">Use the CF\_WAVE format to represent data in one of the standard formats, such as 11 kHz or 22 kHz PCM.</span></span> <span data-ttu-id="f8998-208">Use el formato CF RIFF para representar formatos de datos más complejos que no se \_ pueden representar como archivos estándar de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-208">Use the CF\_RIFF format to represent more complex data formats that cannot be represented as standard waveform-audio files.</span></span>

## <a name="writing-waveform-audio-data"></a><span data-ttu-id="f8998-209">Escribir Waveform-Audio datos</span><span class="sxs-lookup"><span data-stu-id="f8998-209">Writing Waveform-Audio Data</span></span>

<span data-ttu-id="f8998-210">Después de abrir correctamente un controlador de dispositivo de salida de audio de forma de onda, puede empezar a reproducir un sonido.</span><span class="sxs-lookup"><span data-stu-id="f8998-210">After successfully opening a waveform-audio output device driver, you can begin playing a sound.</span></span> <span data-ttu-id="f8998-211">Windows proporciona la función [**waveOutWrite para**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) enviar bloques de datos a dispositivos de salida de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-211">Windows provides the [**waveOutWrite**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) function for sending data blocks to waveform-audio output devices.</span></span>

<span data-ttu-id="f8998-212">Use la [**estructura WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) para especificar el bloque de datos de audio de forma de onda que va a enviar mediante **waveOutWrite**.</span><span class="sxs-lookup"><span data-stu-id="f8998-212">Use the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure to specify the waveform-audio data block you are sending using **waveOutWrite**.</span></span> <span data-ttu-id="f8998-213">Esta estructura contiene un puntero a un bloque de datos bloqueado, la longitud del bloque de datos y algunas marcas.</span><span class="sxs-lookup"><span data-stu-id="f8998-213">This structure contains a pointer to a locked data block, the length of the data block, and some flags.</span></span> <span data-ttu-id="f8998-214">Este bloque de datos debe estar preparado antes de usarlo; Para obtener información sobre cómo preparar un bloque de datos, vea [Bloques de datos de audio](audio-data-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="f8998-214">This data block must be prepared before you use it; for information about preparing a data block, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

<span data-ttu-id="f8998-215">Después de enviar un bloque de datos a un dispositivo de salida mediante **waveOutWrite**, debe esperar hasta que el controlador de dispositivo finalice con el bloque de datos antes de liberarlo.</span><span class="sxs-lookup"><span data-stu-id="f8998-215">After you send a data block to an output device by using **waveOutWrite**, you must wait until the device driver is finished with the data block before freeing it.</span></span> <span data-ttu-id="f8998-216">Si va a enviar varios bloques de datos, debe supervisar la finalización de bloques de datos para saber cuándo enviar bloques adicionales.</span><span class="sxs-lookup"><span data-stu-id="f8998-216">If you are sending multiple data blocks, you must monitor the completion of data blocks to know when to send additional blocks.</span></span> <span data-ttu-id="f8998-217">Para obtener más información sobre los bloques de datos, vea [Bloques de datos de audio.](audio-data-blocks.md)</span><span class="sxs-lookup"><span data-stu-id="f8998-217">For more information about data blocks, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

## <a name="pcm-waveform-audio-data-format"></a><span data-ttu-id="f8998-218">Formato de datos Waveform-Audio PCM</span><span class="sxs-lookup"><span data-stu-id="f8998-218">PCM Waveform-Audio Data Format</span></span>

<span data-ttu-id="f8998-219">El **miembro lpData** de la [**estructura WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) apunta a los ejemplos de datos de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="f8998-219">The **lpData** member of the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure pointsetts to the waveform-audio data samples.</span></span> <span data-ttu-id="f8998-220">En el caso de los datos PCM de 8 bits, cada ejemplo se representa mediante un solo byte de datos sin signo.</span><span class="sxs-lookup"><span data-stu-id="f8998-220">For 8-bit PCM data, each sample is represented by a single unsigned data byte.</span></span> <span data-ttu-id="f8998-221">Para los datos PCM de 16 bits, cada ejemplo se representa mediante un valor de 16 bits con firma.</span><span class="sxs-lookup"><span data-stu-id="f8998-221">For 16-bit PCM data, each sample is represented by a 16-bit signed value.</span></span> <span data-ttu-id="f8998-222">En la tabla siguiente se resumen los valores máximo, mínimo y medio de los datos de audio de forma de onda de PCM.</span><span class="sxs-lookup"><span data-stu-id="f8998-222">The following table summarizes the maximum, minimum, and midpoint values for PCM waveform-audio data.</span></span>



| <span data-ttu-id="f8998-223">Formato de datos</span><span class="sxs-lookup"><span data-stu-id="f8998-223">Data format</span></span> | <span data-ttu-id="f8998-224">Valor máximo</span><span class="sxs-lookup"><span data-stu-id="f8998-224">Maximum value</span></span>   | <span data-ttu-id="f8998-225">Valor mínimo</span><span class="sxs-lookup"><span data-stu-id="f8998-225">Minimum value</span></span>    | <span data-ttu-id="f8998-226">Valor de punto medio</span><span class="sxs-lookup"><span data-stu-id="f8998-226">Midpoint value</span></span> |
|-------------|-----------------|------------------|----------------|
| <span data-ttu-id="f8998-227">PCM de 8 bits</span><span class="sxs-lookup"><span data-stu-id="f8998-227">8-bit PCM</span></span>   | <span data-ttu-id="f8998-228">255 (0xFF)</span><span class="sxs-lookup"><span data-stu-id="f8998-228">255 (0xFF)</span></span>      | <span data-ttu-id="f8998-229">0</span><span class="sxs-lookup"><span data-stu-id="f8998-229">0</span></span>                | <span data-ttu-id="f8998-230">128 (0x80)</span><span class="sxs-lookup"><span data-stu-id="f8998-230">128 (0x80)</span></span>     |
| <span data-ttu-id="f8998-231">PCM de 16 bits</span><span class="sxs-lookup"><span data-stu-id="f8998-231">16-bit PCM</span></span>  | <span data-ttu-id="f8998-232">32 767 (0x7FFF)</span><span class="sxs-lookup"><span data-stu-id="f8998-232">32,767 (0x7FFF)</span></span> | <span data-ttu-id="f8998-233">–32 768 (0x8000)</span><span class="sxs-lookup"><span data-stu-id="f8998-233">–32,768 (0x8000)</span></span> | <span data-ttu-id="f8998-234">0</span><span class="sxs-lookup"><span data-stu-id="f8998-234">0</span></span>              |



 

## <a name="pcm-data-packing"></a><span data-ttu-id="f8998-235">Empaquetado de datos de PCM</span><span class="sxs-lookup"><span data-stu-id="f8998-235">PCM Data Packing</span></span>

<span data-ttu-id="f8998-236">El orden de los bytes de datos varía entre los formatos de 8 y 16 bits y entre los formatos mono y estéreo.</span><span class="sxs-lookup"><span data-stu-id="f8998-236">The order of the data bytes varies between 8-bit and 16-bit formats and between mono and stereo formats.</span></span> <span data-ttu-id="f8998-237">En la lista siguiente se describe el empaquetado de datos para los diferentes formatos de datos de audio y forma de onda de PCM.</span><span class="sxs-lookup"><span data-stu-id="f8998-237">The following list describes data packing for the different PCM waveform-audio data formats.</span></span>



| <span data-ttu-id="f8998-238">Formato de audio de forma de onda de PCM</span><span class="sxs-lookup"><span data-stu-id="f8998-238">PCM waveform-audio format</span></span> | <span data-ttu-id="f8998-239">Descripción</span><span class="sxs-lookup"><span data-stu-id="f8998-239">Description</span></span>                                                                                                                                                                                                                                                                                                                                     |
|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f8998-240">Mono de 8 bits</span><span class="sxs-lookup"><span data-stu-id="f8998-240">8-bit mono</span></span>                | <span data-ttu-id="f8998-241">Cada muestra es de 1 byte que corresponde a un único canal de audio.</span><span class="sxs-lookup"><span data-stu-id="f8998-241">Each sample is 1 byte that corresponds to a single audio channel.</span></span> <span data-ttu-id="f8998-242">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="f8998-242">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span>                                                                                                                                                                                                                           |
| <span data-ttu-id="f8998-243">Estéreo de 8 bits</span><span class="sxs-lookup"><span data-stu-id="f8998-243">8-bit stereo</span></span>              | <span data-ttu-id="f8998-244">Cada ejemplo es de 2 bytes.</span><span class="sxs-lookup"><span data-stu-id="f8998-244">Each sample is 2 bytes.</span></span> <span data-ttu-id="f8998-245">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="f8998-245">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="f8998-246">Para cada ejemplo, el primer byte es el canal 0 (el canal izquierdo) y el segundo byte es el canal 1 (el canal derecho).</span><span class="sxs-lookup"><span data-stu-id="f8998-246">For each sample, the first byte is channel 0 (the left channel) and the second byte is channel 1 (the right channel).</span></span>                                                                                                                                               |
| <span data-ttu-id="f8998-247">Mono de 16 bits</span><span class="sxs-lookup"><span data-stu-id="f8998-247">16-bit mono</span></span>               | <span data-ttu-id="f8998-248">Cada ejemplo es de 2 bytes.</span><span class="sxs-lookup"><span data-stu-id="f8998-248">Each sample is 2 bytes.</span></span> <span data-ttu-id="f8998-249">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="f8998-249">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="f8998-250">Para cada ejemplo, el primer byte es el byte de orden bajo del canal 0 y el segundo byte es el byte de orden superior del canal 0.</span><span class="sxs-lookup"><span data-stu-id="f8998-250">For each sample, the first byte is the low-order byte of channel 0 and the second byte is the high-order byte of channel 0.</span></span>                                                                                                                                         |
| <span data-ttu-id="f8998-251">Estéreo de 16 bits</span><span class="sxs-lookup"><span data-stu-id="f8998-251">16-bit stereo</span></span>             | <span data-ttu-id="f8998-252">Cada ejemplo es de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="f8998-252">Each sample is 4 bytes.</span></span> <span data-ttu-id="f8998-253">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="f8998-253">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="f8998-254">Para cada ejemplo, el primer byte es el byte de orden inferior del canal 0 (canal izquierdo); el segundo byte es el byte de orden superior del canal 0; el tercer byte es el byte de orden inferior del canal 1 (canal derecho); y el cuarto byte es el byte de orden superior del canal 1.</span><span class="sxs-lookup"><span data-stu-id="f8998-254">For each sample, the first byte is the low-order byte of channel 0 (left channel); the second byte is the high-order byte of channel 0; the third byte is the low-order byte of channel 1 (right channel); and the fourth byte is the high-order byte of channel 1.</span></span> |
| <span data-ttu-id="f8998-255">Otros</span><span class="sxs-lookup"><span data-stu-id="f8998-255">Others</span></span>                    | <span data-ttu-id="f8998-256">Cada muestra está contenida en un bloque que es un múltiplo de 4 bytes, pero las muestras pueden no estar alineadas en bytes.</span><span class="sxs-lookup"><span data-stu-id="f8998-256">Each sample is contained in a block that is a multiple of 4 bytes, but the samples may be non-byte-aligned.</span></span> <span data-ttu-id="f8998-257">La organización de los canales se especifica mediante una máscara.</span><span class="sxs-lookup"><span data-stu-id="f8998-257">The arrangement of channels is specified by a mask.</span></span> <span data-ttu-id="f8998-258">Para obtener más información, [**vea ESTANDOATEXTENSIBLE.**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible)</span><span class="sxs-lookup"><span data-stu-id="f8998-258">For more information, see [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span>                                                                                                 |



 

## <a name="closing-waveform-audio-output-devices"></a><span data-ttu-id="f8998-259">Cerrar dispositivos Waveform-Audio salida</span><span class="sxs-lookup"><span data-stu-id="f8998-259">Closing Waveform-Audio Output Devices</span></span>

<span data-ttu-id="f8998-260">Una vez completada la reproducción de audio de forma de onda, llame [**a waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) para cerrar el dispositivo de salida.</span><span class="sxs-lookup"><span data-stu-id="f8998-260">After waveform-audio playback is complete, call [**waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) to close the output device.</span></span> <span data-ttu-id="f8998-261">Si se llama a **waveOutClose** mientras se reproduce un archivo de audio de forma de onda, se produce un error en la operación de cierre y la función devuelve un código de error que indica que el dispositivo no se ha cerrado.</span><span class="sxs-lookup"><span data-stu-id="f8998-261">If **waveOutClose** is called while a waveform-audio file is playing, the close operation fails and the function returns an error code indicating that the device was not closed.</span></span> <span data-ttu-id="f8998-262">Si no desea esperar a que finalice la reproducción antes de cerrar el dispositivo, llame a la [**función waveOutReset**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) antes de cerrar.</span><span class="sxs-lookup"><span data-stu-id="f8998-262">If you do not want to wait for playback to end before closing the device, call the [**waveOutReset**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) function before closing.</span></span> <span data-ttu-id="f8998-263">Esto finaliza la reproducción y permite cerrar el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-263">This ends playback and allows the device to be closed.</span></span> <span data-ttu-id="f8998-264">Asegúrese de usar la [**función waveOutUnprepareHeader**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) para limpiar la preparación en todos los bloques de datos antes de cerrar el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f8998-264">Be sure to use the [**waveOutUnprepareHeader**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) function to clean up the preparation on all data blocks before closing the device.</span></span>

 

 