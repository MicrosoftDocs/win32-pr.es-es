---
title: Información general sobre guiones gráficos
description: Esta información general se centra en cómo se usan las transiciones y los guiones gráficos en la animación de Windows.
ms.assetid: d37718ac-0256-4a24-a26c-d29173593be0
keywords:
- Animación de Windows Animación de Windows, información general sobre guiones gráficos
- storyboards Animación de Windows , descrito
- transiciones animación de Windows , descrito
- transiciones animación de Windows , personalizado
- interpoladores de animación de Windows , descrito
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 58210ae98f6d3a96c554276466ad72b3364d72a1
ms.sourcegitcommit: 8ebcf6cd36f67f8bcf78e76ae8923d65b8995c8a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/05/2021
ms.locfileid: "111524289"
---
# <a name="storyboard-overview"></a><span data-ttu-id="5cebf-108">Información general sobre guiones gráficos</span><span class="sxs-lookup"><span data-stu-id="5cebf-108">Storyboard Overview</span></span>

<span data-ttu-id="5cebf-109">Esta información general se centra en cómo se usan las transiciones y los guiones gráficos en la animación de Windows.</span><span class="sxs-lookup"><span data-stu-id="5cebf-109">This overview focuses on how transitions and storyboards are used in Windows Animation.</span></span> <span data-ttu-id="5cebf-110">Para obtener información general sobre los componentes de animación de Windows, vea [Información general sobre animaciones de Windows.](scenic-animation-api-overview.md)</span><span class="sxs-lookup"><span data-stu-id="5cebf-110">For an overview of the components of Windows Animation, see [Windows Animation Overview](scenic-animation-api-overview.md).</span></span>

<span data-ttu-id="5cebf-111">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="5cebf-111">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="5cebf-112">Transiciones</span><span class="sxs-lookup"><span data-stu-id="5cebf-112">Transitions</span></span>](#custom-transitions)
    -   [<span data-ttu-id="5cebf-113">Biblioteca de transición</span><span class="sxs-lookup"><span data-stu-id="5cebf-113">Transition Library</span></span>](#transition-library)
    -   [<span data-ttu-id="5cebf-114">Transiciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="5cebf-114">Custom Transitions</span></span>](#custom-transitions)
-   [<span data-ttu-id="5cebf-115">Storyboards</span><span class="sxs-lookup"><span data-stu-id="5cebf-115">Storyboards</span></span>](#storyboards)
    -   [<span data-ttu-id="5cebf-116">Creación de un guión gráfico simple</span><span class="sxs-lookup"><span data-stu-id="5cebf-116">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
    -   [<span data-ttu-id="5cebf-117">Usar una duración Context-Sensitive datos</span><span class="sxs-lookup"><span data-stu-id="5cebf-117">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
    -   [<span data-ttu-id="5cebf-118">Creación de un guión gráfico más complejo</span><span class="sxs-lookup"><span data-stu-id="5cebf-118">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
    -   [<span data-ttu-id="5cebf-119">Uso de fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="5cebf-119">Using Keyframes</span></span>](#using-keyframes)
    -   [<span data-ttu-id="5cebf-120">Mantener variables</span><span class="sxs-lookup"><span data-stu-id="5cebf-120">Holding Variables</span></span>](#holding-variables)
    -   [<span data-ttu-id="5cebf-121">Programar un guión gráfico</span><span class="sxs-lookup"><span data-stu-id="5cebf-121">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)
-   [<span data-ttu-id="5cebf-122">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="5cebf-122">Related topics</span></span>](#related-topics)

## <a name="transitions"></a><span data-ttu-id="5cebf-123">Transiciones</span><span class="sxs-lookup"><span data-stu-id="5cebf-123">Transitions</span></span>

<span data-ttu-id="5cebf-124">Una transición define cómo cambia una variable de animación única durante un intervalo de tiempo determinado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-124">A transition defines how a single animation variable changes over a particular time interval.</span></span> <span data-ttu-id="5cebf-125">Animación de Windows incluye una biblioteca de transiciones comunes que los desarrolladores pueden aplicar a una o varias variables de animación.</span><span class="sxs-lookup"><span data-stu-id="5cebf-125">Windows Animation includes a library of common transitions that developers can apply to one or more animation variables.</span></span> <span data-ttu-id="5cebf-126">Los distintos tipos de transiciones tienen conjuntos de parámetros diferentes, que pueden incluir el valor de la variable cuando se completa la transición, la duración de la transición o cantidades únicas para la función matemática subyacente, como la aceleración o el intervalo de oscilación.</span><span class="sxs-lookup"><span data-stu-id="5cebf-126">Different kinds of transitions have different sets of parameters, which may include the value of the variable when the transition completes, the duration of the transition, or quantities unique to the underlying mathematical function, such as acceleration or range of oscillation.</span></span>

<span data-ttu-id="5cebf-127">Todas las transiciones comparten dos parámetros implícitos: el valor inicial y la velocidad inicial (pendiente) de la función matemática.</span><span class="sxs-lookup"><span data-stu-id="5cebf-127">All transitions share two implicit parameters: the initial value and initial velocity (slope) of the mathematical function.</span></span> <span data-ttu-id="5cebf-128">La aplicación puede especificar estos valores explícitamente, pero normalmente los establece el administrador de animaciones en el valor y la velocidad de la variable de animación cuando comienza la transición.</span><span class="sxs-lookup"><span data-stu-id="5cebf-128">These may be specified explicitly by the application, but are typically set by the animation manager to the value and velocity of the animation variable when the transition begins.</span></span>

-   [<span data-ttu-id="5cebf-129">Biblioteca de transición</span><span class="sxs-lookup"><span data-stu-id="5cebf-129">Transition Library</span></span>](#transition-library)
-   [<span data-ttu-id="5cebf-130">Transiciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="5cebf-130">Custom Transitions</span></span>](#custom-transitions)

### <a name="transition-library"></a><span data-ttu-id="5cebf-131">Biblioteca de transición</span><span class="sxs-lookup"><span data-stu-id="5cebf-131">Transition Library</span></span>

<span data-ttu-id="5cebf-132">La biblioteca de transición proporciona actualmente las siguientes transiciones.</span><span class="sxs-lookup"><span data-stu-id="5cebf-132">The following transitions are currently provided by the transition library.</span></span> <span data-ttu-id="5cebf-133">Si una aplicación requiere un efecto que no se puede especificar mediante la biblioteca de transición, los desarrolladores pueden crear otros tipos de transiciones implementando un interpolador personalizado para la aplicación o usando una biblioteca de transición de un tercero.</span><span class="sxs-lookup"><span data-stu-id="5cebf-133">If an application requires an effect that cannot be specified by using the transition library, developers can create other kinds of transitions by implementing a custom interpolator for the application, or using a transition library from a third party.</span></span>



| <span data-ttu-id="5cebf-134">Nombre de la transición</span><span class="sxs-lookup"><span data-stu-id="5cebf-134">Transition Name</span></span>                        | <span data-ttu-id="5cebf-135">Descripción</span><span class="sxs-lookup"><span data-stu-id="5cebf-135">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5cebf-136">aceleración y ralentización</span><span class="sxs-lookup"><span data-stu-id="5cebf-136">accelerate-decelerate</span></span><br/>       | <span data-ttu-id="5cebf-137">La variable de animación se acelera y, a continuación, se ralentiza durante una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-137">The animation variable speeds up and then slows down over a given duration.</span></span><br/>                                                                                                               |
| <span data-ttu-id="5cebf-138">constant</span><span class="sxs-lookup"><span data-stu-id="5cebf-138">constant</span></span><br/>                    | <span data-ttu-id="5cebf-139">La variable de animación permanece en su valor inicial a lo largo de la transición.</span><span class="sxs-lookup"><span data-stu-id="5cebf-139">The animation variable remains at its initial value throughout the transition.</span></span><br/>                                                                                                            |
| <span data-ttu-id="5cebf-140">cúbicas</span><span class="sxs-lookup"><span data-stu-id="5cebf-140">cubic</span></span><br/>                       | <span data-ttu-id="5cebf-141">La variable de animación cambia de su valor inicial a un valor final especificado, con una velocidad final especificada, durante una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-141">The animation variable changes from its initial value to a specified final value, with a specified final velocity, over a given duration.</span></span><br/>                                                 |
| <span data-ttu-id="5cebf-142">Discreta</span><span class="sxs-lookup"><span data-stu-id="5cebf-142">discrete</span></span><br/>                    | <span data-ttu-id="5cebf-143">La variable de animación permanece en su valor inicial durante un tiempo de retraso especificado y, a continuación, cambia instantáneamente a un valor final especificado y permanece en ese valor durante un tiempo de retención determinado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-143">The animation variable remains at its initial value for a specified delay time, then switches instantaneously to a specified final value and remains at that value for a given hold time.</span></span><br/> |
| <span data-ttu-id="5cebf-144">Instantánea</span><span class="sxs-lookup"><span data-stu-id="5cebf-144">instantaneous</span></span><br/>               | <span data-ttu-id="5cebf-145">La variable de animación cambia al instante de su valor actual a un valor final especificado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-145">The animation variable changes instantly from its current value to a specified final value.</span></span><br/>                                                                                               |
| <span data-ttu-id="5cebf-146">linear</span><span class="sxs-lookup"><span data-stu-id="5cebf-146">linear</span></span><br/>                      | <span data-ttu-id="5cebf-147">La variable de animación pasa linealmente de su valor inicial a un valor final especificado durante una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-147">The animation variable transitions linearly from its initial value to a specified final value over a given duration.</span></span><br/>                                                                      |
| <span data-ttu-id="5cebf-148">lineal desde la velocidad</span><span class="sxs-lookup"><span data-stu-id="5cebf-148">linear from speed</span></span><br/>           | <span data-ttu-id="5cebf-149">La variable de animación pasa linealmente de su valor inicial a un valor final especificado con una velocidad especificada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-149">The animation variable transitions linearly from its initial value to a specified final value with a specified speed.</span></span><br/>                                                                     |
| <span data-ttu-id="5cebf-150">parabólica desde la aceleración</span><span class="sxs-lookup"><span data-stu-id="5cebf-150">parabolic from acceleration</span></span><br/> | <span data-ttu-id="5cebf-151">La variable de animación pasa de su valor inicial a un valor final especificado, con una velocidad final especificada, cambiando su velocidad con una aceleración especificada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-151">The animation variable transitions from its initial value to a specified final value, with a specified final velocity, changing its velocity with a specified acceleration.</span></span><br/>               |
| <span data-ttu-id="5cebf-152">Revocación</span><span class="sxs-lookup"><span data-stu-id="5cebf-152">reversal</span></span><br/>                    | <span data-ttu-id="5cebf-153">La variable cambia de dirección durante una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-153">The variable changes direction over a given duration.</span></span> <span data-ttu-id="5cebf-154">El valor final será el mismo que el valor inicial y la velocidad final será la negativa de la velocidad inicial.</span><span class="sxs-lookup"><span data-stu-id="5cebf-154">The final value will be the same as the initial value and the final velocity will be the negative of the initial velocity.</span></span><br/>          |
| <span data-ttu-id="5cebf-155">sinusoidal desde intervalo</span><span class="sxs-lookup"><span data-stu-id="5cebf-155">sinusoidal from range</span></span><br/>       | <span data-ttu-id="5cebf-156">La variable oscila dentro de un intervalo determinado de valores, con un período de oscilación especificado, durante una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-156">The variable oscillates within a given range of values, with a specified period of oscillation, for a given duration.</span></span><br/>                                                                     |
| <span data-ttu-id="5cebf-157">sinusoidal desde la velocidad</span><span class="sxs-lookup"><span data-stu-id="5cebf-157">sinusoidal from velocity</span></span><br/>    | <span data-ttu-id="5cebf-158">La variable oscila con un período especificado de oscilación, durante una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-158">The variable oscillates with a specified period of oscillation, for a given duration.</span></span> <span data-ttu-id="5cebf-159">La amplitud de la oscilación viene determinada por la velocidad inicial de la variable.</span><span class="sxs-lookup"><span data-stu-id="5cebf-159">The amplitude of oscillation is determined by the variable's initial velocity.</span></span><br/>                      |
| <span data-ttu-id="5cebf-160">smooth stop</span><span class="sxs-lookup"><span data-stu-id="5cebf-160">smooth stop</span></span><br/>                 | <span data-ttu-id="5cebf-161">La variable de animación se detiene sin problemas en un valor final especificado, dentro de una duración máxima de tiempo.</span><span class="sxs-lookup"><span data-stu-id="5cebf-161">The animation variable comes to a smooth stop at a specified final value, within a maximum duration of time.</span></span><br/>                                                                              |



 

<span data-ttu-id="5cebf-162">La tabla siguiente contiene ilustraciones para cada una de estas transiciones.</span><span class="sxs-lookup"><span data-stu-id="5cebf-162">The following table contains illustrations for each of these transitions.</span></span>



|    <span data-ttu-id="5cebf-163">Ilustraciones</span><span class="sxs-lookup"><span data-stu-id="5cebf-163">Illustrations</span></span>                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![ilustración de una transición instantánea](images/instantaneoustransition.png)  ![ilustración de una transición constante](images/constanttransition.png)  ![ilustración de una transición lineal](images/lineartransition.png)  ![ilustración de una transición de lineat desde la velocidad](images/lineartransitionfromspeed.png)  ![ilustración de una transición discreta](images/discretetransition.png) |
| ![ilustración de una transición parabólica de la aceleración](images/parabolictransitionfromacceleration.png)  ![ilustración de una transición cúbica](images/cubictransition.png)  ![ilustración de una transición de detención sin problemas](images/smoothstoptransition.png)                                                                                                                                       |
| ![ilustración de una transición de inversión](images/reversaltransition.png)  ![ilustración de una transición sinusoidal desde la velocidad](images/sinusolidaltransitionfromvelocity.png)  ![ilustración de una transición sinusoidal desde el intervalo](images/sinusolidaltransitionfromrange.png)                                                                                                                  |
| ![ilustración de las transiciones de aceleración y deceleración](images/acceleratedeceleratetransition.png)                                                                                                                                                                                                                                                                                               |



 

### <a name="custom-transitions"></a><span data-ttu-id="5cebf-176">Transiciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="5cebf-176">Custom Transitions</span></span>

<span data-ttu-id="5cebf-177">Un *interpolador define* la función matemática que determina cómo cambia una variable de animación con el tiempo a medida que progresa de su valor inicial a un valor final.</span><span class="sxs-lookup"><span data-stu-id="5cebf-177">An *interpolator* defines the mathematical function that determines how an animation variable changes over time as it progresses from its initial value to a final value.</span></span> <span data-ttu-id="5cebf-178">Cada transición de la biblioteca de transición tiene un objeto interpolador asociado proporcionado por el sistema e implementa la función de interpolador.</span><span class="sxs-lookup"><span data-stu-id="5cebf-178">Each transition in the transition library has an associated interpolator object that is provided by the system and implements the interpolator function.</span></span> <span data-ttu-id="5cebf-179">Si una aplicación requiere un efecto que no se puede especificar mediante la biblioteca de transición, puede implementar una o varias transiciones personalizadas implementando un objeto interpolador para cada nueva transición.</span><span class="sxs-lookup"><span data-stu-id="5cebf-179">If an application requires an effect that cannot be specified using the transition library, it can implement one or more custom transitions by implementing an interpolator object for each new transition.</span></span> <span data-ttu-id="5cebf-180">Las aplicaciones no pueden usar objetos interpoladores directamente y, en su lugar, deben encapsularse en una transición asociada.</span><span class="sxs-lookup"><span data-stu-id="5cebf-180">Interpolator objects cannot be used directly by applications and must instead be wrapped in an associated transition.</span></span> <span data-ttu-id="5cebf-181">Un *generador de transición* se usa para generar transiciones desde un objeto interpolador.</span><span class="sxs-lookup"><span data-stu-id="5cebf-181">A *transition factory* is used to generate transitions from an interpolator object.</span></span> <span data-ttu-id="5cebf-182">Vea [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) e [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="5cebf-182">See [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) and [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) for more details.</span></span>

<span data-ttu-id="5cebf-183">Tenga en cuenta que la mayoría de las aplicaciones tendrán todas las transiciones que necesitan mediante la biblioteca de transición y, por lo tanto, no tendrían que implementar un interpolador.</span><span class="sxs-lookup"><span data-stu-id="5cebf-183">Note that most applications will have all of the transitions they need by using the transition library, and therefore would not need to implement an interpolator.</span></span>

## <a name="storyboards"></a><span data-ttu-id="5cebf-184">Storyboards</span><span class="sxs-lookup"><span data-stu-id="5cebf-184">Storyboards</span></span>

<span data-ttu-id="5cebf-185">Un guión gráfico es una colección de transiciones aplicadas a una o varias variables de animación a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="5cebf-185">A storyboard is a collection of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="5cebf-186">Se garantiza que las transiciones de un guión gráfico permanecen sincronizadas entre sí y que el guión gráfico se programa o cancela como una unidad.</span><span class="sxs-lookup"><span data-stu-id="5cebf-186">The transitions in a storyboard are guaranteed to remain synchronized relative to one another, and the storyboard is scheduled or canceled as a unit.</span></span> <span data-ttu-id="5cebf-187">Después de crear las transiciones deseadas, una aplicación crea un guión gráfico mediante el administrador de animaciones, agrega las transiciones al guión gráfico, configura el guión gráfico adecuadamente y lo programa para reproducirlo lo antes posible.</span><span class="sxs-lookup"><span data-stu-id="5cebf-187">After creating the desired transitions, an application creates a storyboard using the animation manager, adds the transitions to the storyboard, configures the storyboard appropriately, and schedules it to play as soon as possible.</span></span> <span data-ttu-id="5cebf-188">El administrador de animaciones determina la hora de inicio real del guión gráfico, ya que puede haber contención con otros guiones gráficos que animan actualmente las mismas variables.</span><span class="sxs-lookup"><span data-stu-id="5cebf-188">The animation manager determines the storyboard's actual start time, because there may be contention with other storyboards currently animating the same variables.</span></span>

<span data-ttu-id="5cebf-189">La duración general de un guión gráfico depende de las duraciones de las transiciones dentro del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-189">The overall duration of a storyboard depends on the durations of the transitions within the storyboard.</span></span> <span data-ttu-id="5cebf-190">No es necesario solucionar la duración de una transición; puede determinarse por el valor y la velocidad de las variables animadas cuando comienza la transición.</span><span class="sxs-lookup"><span data-stu-id="5cebf-190">The duration of a transition need not be fixed; it can be determined by the value and velocity of the animated variables when the transition begins.</span></span> <span data-ttu-id="5cebf-191">Por lo tanto, la duración de un guión gráfico también puede depender del estado de las variables que anima.</span><span class="sxs-lookup"><span data-stu-id="5cebf-191">So, the duration of a storyboard can also depend on the state of the variables it animates.</span></span>

<span data-ttu-id="5cebf-192">En los ejemplos siguientes se supone que se han creado un administrador de animaciones, una biblioteca de transición y un temporizador.</span><span class="sxs-lookup"><span data-stu-id="5cebf-192">The following examples assume that an animation manager, transition library, and timer have been created.</span></span> <span data-ttu-id="5cebf-193">Para obtener más información, vea [Crear los objetos de animación principales](adding-animation-to-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="5cebf-193">For more information, see [Create the Main Animation Objects](adding-animation-to-an-application.md).</span></span> <span data-ttu-id="5cebf-194">En los ejemplos también se supone que la aplicación ha creado tres variables de animación (X, Y y Z) mediante el método [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) y cinco transiciones (T1, T2, T3, T4 y T5) mediante el uso de uno de los métodos de la interfaz [**IUIAnimationTransitionLibrary.**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)</span><span class="sxs-lookup"><span data-stu-id="5cebf-194">The examples also assume that the application has created three animation variables (X, Y and Z) by using the [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) method, and five transitions (T1, T2, T3, T4, and T5) by using the one of the methods of the [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) interface.</span></span>

-   [<span data-ttu-id="5cebf-195">Creación de un guión gráfico simple</span><span class="sxs-lookup"><span data-stu-id="5cebf-195">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
-   [<span data-ttu-id="5cebf-196">Usar una duración Context-Sensitive datos</span><span class="sxs-lookup"><span data-stu-id="5cebf-196">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
-   [<span data-ttu-id="5cebf-197">Creación de un guión gráfico más complejo</span><span class="sxs-lookup"><span data-stu-id="5cebf-197">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
-   [<span data-ttu-id="5cebf-198">Uso de fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="5cebf-198">Using Keyframes</span></span>](#using-keyframes)
-   [<span data-ttu-id="5cebf-199">Mantener variables</span><span class="sxs-lookup"><span data-stu-id="5cebf-199">Holding Variables</span></span>](#holding-variables)
-   [<span data-ttu-id="5cebf-200">Programar un guión gráfico</span><span class="sxs-lookup"><span data-stu-id="5cebf-200">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)

### <a name="building-a-simple-storyboard"></a><span data-ttu-id="5cebf-201">Creación de un guión gráfico simple</span><span class="sxs-lookup"><span data-stu-id="5cebf-201">Building a Simple Storyboard</span></span>

<span data-ttu-id="5cebf-202">Para crear un guión gráfico simple, use el método [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) para crear un guión gráfico, el método [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) para crear una transición lineal, T1 y el método [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) para aplicar la transición T1 a la variable X y agregar la transición resultante al guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-202">To build a simple storyboard, use the [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) method to create a new storyboard, the [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) method to create a linear transition, T1, and the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method to apply the T1 transition to the variable X and add the resulting transition to the storyboard.</span></span>

<span data-ttu-id="5cebf-203">Este proceso produce un guión gráfico simple, como se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="5cebf-203">This process yields a simple storyboard, as shown in the following figure.</span></span> <span data-ttu-id="5cebf-204">El guión gráfico contiene una transición, T1, de modo que el valor de la variable X cambia linealmente durante un período de tiempo fijo.</span><span class="sxs-lookup"><span data-stu-id="5cebf-204">The storyboard contains one transition, T1, such that the value of variable X changes linearly over a fixed duration of time.</span></span>

![ilustración que muestra un guión gráfico simple con una duración fija](images/simplestoryboardfixedduration.png)

<span data-ttu-id="5cebf-206">Tenga en cuenta que, en un escenario tan sencillo, una opción alternativa es usar el [**método IUIAnimationManager::ScheduleTransition.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition)</span><span class="sxs-lookup"><span data-stu-id="5cebf-206">Note that for such a simple scenario, an alternative option is to use the [**IUIAnimationManager::ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) method.</span></span>

### <a name="using-a-context-sensitive-duration"></a><span data-ttu-id="5cebf-207">Uso de una Context-Sensitive duración</span><span class="sxs-lookup"><span data-stu-id="5cebf-207">Using a Context-Sensitive Duration</span></span>

<span data-ttu-id="5cebf-208">Aunque algunas transiciones tienen una duración fija, la duración de otras depende del valor inicial o la velocidad de la variable animada cuando comienza la transición.</span><span class="sxs-lookup"><span data-stu-id="5cebf-208">While some transitions have a fixed duration, the duration of others depends on the initial value or velocity of the animated variable when the transition begins.</span></span> <span data-ttu-id="5cebf-209">Por ejemplo, el método [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) crea una transición con una duración proporcional a la diferencia entre el valor inicial de la variable de animación y el valor final especificado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-209">For example, the [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) method creates a transition with a duration that is proportional to the difference between the initial value of the animation variable and the specified final value.</span></span> <span data-ttu-id="5cebf-210">En esta ilustración, y las ilustraciones restantes, estas transiciones con duraciones arbitrarias se muestran con un signo de interrogación (?) y sus duraciones reales se determinan cuando se reproduce el guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-210">In this illustration, and the remaining illustrations, such transitions with arbitrary durations are shown with a question mark (?), and their actual durations are determined when the storyboard plays.</span></span>

![ilustración que muestra un guión gráfico simple con una duración desconocida](images/simplestoryboardunknownduration.png)

### <a name="building-a-more-complex-storyboard"></a><span data-ttu-id="5cebf-212">Creación de un guión gráfico más complejo</span><span class="sxs-lookup"><span data-stu-id="5cebf-212">Building a More Complex Storyboard</span></span>

<span data-ttu-id="5cebf-213">Después de crear un guión gráfico y agregar una única transición, T1, puede anexar una segunda transición para la variable X llamando de nuevo al método [**IUIAnimationStoryboard::AddTransition,**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) pero con T2 en lugar de T1.</span><span class="sxs-lookup"><span data-stu-id="5cebf-213">After creating a storyboard and adding a single transition, T1, you can append a second transition for the X variable by calling the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method again, but with T2 instead of T1.</span></span>

<span data-ttu-id="5cebf-214">Suponiendo que la transición T2 tenga una duración que tenga en cuenta el contexto, el guión gráfico ahora contiene dos transiciones de back-to-back de duración arbitraria que afectan a la variable X.</span><span class="sxs-lookup"><span data-stu-id="5cebf-214">Assuming that the T2 transition has a duration that is context-sensitive, the storyboard now contains two back-to-back transitions of arbitrary duration affecting the variable X.</span></span>

![ilustración que muestra un guión gráfico que contiene dos transiciones en la misma variable](images/appendingwithaddtransition.png)

<span data-ttu-id="5cebf-216">Llamar [**a AddTransition de**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) nuevo con la variable Y y la transición T3 agrega una tercera transición al principio del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-216">Calling [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) again with variable Y and transition T3 adds a third transition at the start of the storyboard.</span></span> <span data-ttu-id="5cebf-217">Dependiendo de los valores de X e Y cuando se reproduce el guión gráfico, T3 puede terminar después de T1 o incluso después de T2.</span><span class="sxs-lookup"><span data-stu-id="5cebf-217">Depending on the values of X and Y when the storyboard plays, T3 may end after T1 or even after T2.</span></span>

![ilustración que muestra un guión gráfico que contiene transiciones entre varias variables](images/multivariablestoryboard.png)

### <a name="using-keyframes"></a><span data-ttu-id="5cebf-219">Uso de fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="5cebf-219">Using Keyframes</span></span>

<span data-ttu-id="5cebf-220">Para agregar una transición en un desplazamiento desde el inicio del guión gráfico, primero debe agregar un fotograma clave.</span><span class="sxs-lookup"><span data-stu-id="5cebf-220">To add a transition at an offset from the start of the storyboard, you must first add a keyframe.</span></span> <span data-ttu-id="5cebf-221">Los fotogramas clave representan instantes en el tiempo y, por sí mismos, no tienen ningún efecto en el comportamiento del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-221">Keyframes represent instants in time and by themselves have no effect on the behavior of the storyboard.</span></span> <span data-ttu-id="5cebf-222">Cada guión gráfico tiene un fotograma clave implícito que representa el inicio del guión gráfico, UI [**\_ ANIMATION FRAME STORYBOARD \_ \_ \_ START;**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85))puede agregar nuevos fotogramas clave en desplazamientos desde el principio llamando al método [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) con UI **ANIMATION KEYFRAME STORYBOARD \_ \_ \_ \_ START**.</span><span class="sxs-lookup"><span data-stu-id="5cebf-222">Every storyboard has an implicit keyframe representing the start of the storyboard, [**UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); you can add new keyframes at offsets from the start by calling the [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) method with **UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**.</span></span>

<span data-ttu-id="5cebf-223">El desplazamiento en el que se agrega un fotograma clave siempre es relativo a otro fotograma clave.</span><span class="sxs-lookup"><span data-stu-id="5cebf-223">The offset at which you add a keyframe is always relative to another keyframe.</span></span> <span data-ttu-id="5cebf-224">En el diagrama siguiente se muestra el resultado de agregar fotograma clave1 y la transición T4, que se aplica a la variable Z, se alinea con fotograma clave1 y se crea con una duración fija.</span><span class="sxs-lookup"><span data-stu-id="5cebf-224">The following diagram shows the result of adding keyframe1 and transition T4, which is applied to variable Z, aligned with keyframe1, and created with a fixed duration.</span></span> <span data-ttu-id="5cebf-225">Por supuesto, dado que todavía no se conocen las duraciones de las otras transiciones, T4 podría no ser la última transición en finalizar.</span><span class="sxs-lookup"><span data-stu-id="5cebf-225">Of course, because the durations of the other transitions are not yet known, T4 might not be the last transition to finish.</span></span>

![ilustración que muestra la adición de una transición alineada en un fotograma clave](images/addtransitionatkeyframe.png)

<span data-ttu-id="5cebf-227">Los fotogramas clave también se pueden colocar en los extremos de las transiciones, mediante el método [**IUIAnimationStoryboard::AddKeyframeAfterTransition.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition)</span><span class="sxs-lookup"><span data-stu-id="5cebf-227">Keyframes can also be placed at the ends of transitions, using the [**IUIAnimationStoryboard::AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) method.</span></span> <span data-ttu-id="5cebf-228">En el diagrama siguiente se muestra el resultado de agregar fotograma clave2 después de T1 y fotograma clave3 después de T2.</span><span class="sxs-lookup"><span data-stu-id="5cebf-228">The following diagram shows the result of adding keyframe2 after T1 and keyframe3 after T2.</span></span>

![ilustración que muestra la adición de fotogramas clave después de varias transiciones](images/addkeyframeaftertransition.png)

<span data-ttu-id="5cebf-230">Dado que las duraciones de T1 y T2 no se conocen hasta que se reproduce el guión gráfico, los desplazamientos de fotograma clave2 y fotograma clave3 tampoco se determinan hasta entonces.</span><span class="sxs-lookup"><span data-stu-id="5cebf-230">Because the durations of T1 and T2 are not known until the storyboard plays, the offsets of keyframe2 and keyframe3 also are not determined until then.</span></span> <span data-ttu-id="5cebf-231">Por lo tanto, los fotogramas clave2 e incluso los fotogramas clave3 pueden producirse antes que el fotograma clave1.</span><span class="sxs-lookup"><span data-stu-id="5cebf-231">Consequently, keyframe2 and even keyframe3 can occur earlier than keyframe1.</span></span>

<span data-ttu-id="5cebf-232">Tanto el inicio como el final de una transición se pueden alinear con fotogramas clave mediante el método [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes)</span><span class="sxs-lookup"><span data-stu-id="5cebf-232">Both the start and end of a transition can be aligned with keyframes by using the [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) method.</span></span> <span data-ttu-id="5cebf-233">En el diagrama siguiente se muestra el resultado de agregar una quinta transición, T5, en la variable Y, entre fotograma clave2 y fotograma clave3.</span><span class="sxs-lookup"><span data-stu-id="5cebf-233">The following diagram shows the result of adding a fifth transition, T5, on variable Y, between keyframe2 and keyframe3.</span></span> <span data-ttu-id="5cebf-234">Esto modifica la duración de T5, lo que hace que sea más larga o más corta en función de los desplazamientos relativos de fotograma clave2 y fotograma clave3.</span><span class="sxs-lookup"><span data-stu-id="5cebf-234">This alters the duration of T5, making it longer or shorter depending on the relative offsets of keyframe2 and keyframe3.</span></span>

![ilustración que muestra la adición de una transición entre fotogramas clave](images/addtransitionbetweenkeyframes.png)

### <a name="holding-variables"></a><span data-ttu-id="5cebf-236">Mantener variables</span><span class="sxs-lookup"><span data-stu-id="5cebf-236">Holding Variables</span></span>

<span data-ttu-id="5cebf-237">Si T4 finaliza después de T2 y T5, el guión gráfico deja de animar las variables X e Y, lo que hace que estén disponibles para que otros guiones gráficos se animarán.</span><span class="sxs-lookup"><span data-stu-id="5cebf-237">If T4 does end after T2 and T5, the storyboard stops animating variables X and Y, making them available for other storyboards to animate.</span></span> <span data-ttu-id="5cebf-238">Sin embargo, la aplicación puede llamar al método [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) para solicitar que el guión gráfico contiene algunas o todas las variables que anima en sus valores finales hasta que el guión gráfico se ha completado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-238">However, the application can call the [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) method to request that the storyboard hold some or all of the variables it animates at their final values until the storyboard has completed.</span></span> <span data-ttu-id="5cebf-239">En el diagrama siguiente se muestra el resultado de mantener X y Z cuando T4 finaliza por última vez.</span><span class="sxs-lookup"><span data-stu-id="5cebf-239">The following diagram shows the result of holding X and Z when T4 finishes last.</span></span> <span data-ttu-id="5cebf-240">Observe que el guión gráfico contiene X en su valor final hasta que el guión gráfico se ha completado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-240">Notice that the storyboard holds X at its final value until the storyboard has completed.</span></span> <span data-ttu-id="5cebf-241">La retención no tiene ningún efecto en Z porque el guión gráfico finaliza cuando finaliza T4.</span><span class="sxs-lookup"><span data-stu-id="5cebf-241">The hold has no effect on Z because the storyboard ends when T4 finishes.</span></span>

![ilustración que muestra la retención de variables en los valores finales hasta que se ha completado el guión gráfico](images/holdvariable.png)

<span data-ttu-id="5cebf-243">Aunque este guión gráfico no mantiene Y, su valor no cambia después de que T5 se complete a menos que otro guión gráfico lo anima.</span><span class="sxs-lookup"><span data-stu-id="5cebf-243">Even though Y is not held by this storyboard, its value does not change after T5 completes unless another storyboard animates it.</span></span> <span data-ttu-id="5cebf-244">Dado que Y no se mantiene, cualquier otro guión gráfico, independientemente de la prioridad, puede animar Y después de que T5 haya finalizado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-244">Because Y is not held, any other storyboard, regardless of priority, can animate Y after T5 has finished.</span></span> <span data-ttu-id="5cebf-245">Por el contrario, dado que se mantiene X, un guión gráfico de prioridad inferior no puede animar X hasta que este guión gráfico haya finalizado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-245">In contrast, because X is held, a lower-priority storyboard cannot animate X until this storyboard is finished.</span></span>

<span data-ttu-id="5cebf-246">Todas estas ilustraciones han supuesto un conjunto arbitrario de valores actuales para las variables cuando el guión gráfico comienza a reproducirse.</span><span class="sxs-lookup"><span data-stu-id="5cebf-246">All of these illustrations have assumed an arbitrary set of current values for the variables when the storyboard starts playing.</span></span> <span data-ttu-id="5cebf-247">Si se encuentran otros valores, es probable que las duraciones de las transiciones contextuales sean diferentes, como se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="5cebf-247">If other values are encountered, the durations of the context-sensitive transitions are likely to be different, as shown in the following illustration.</span></span>

![ilustración que muestra el resultado de cambiar las condiciones iniciales usadas para la ilustración anterior](images/holdvariablez.png)

<span data-ttu-id="5cebf-249">En este escenario, T5 comienza antes de que T3 haya finalizado y, por tanto, T3 se recorta.</span><span class="sxs-lookup"><span data-stu-id="5cebf-249">In this scenario, T5 begins before T3 has finished, and T3 is therefore trimmed.</span></span> <span data-ttu-id="5cebf-250">Dado que T4 finaliza antes que T2 y T5, el valor de Z se mantiene hasta el final del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-250">Because T4 finishes earlier than T2 and T5, the value of Z is held until the end of the storyboard.</span></span> <span data-ttu-id="5cebf-251">En general, los valores y las velocidades de las variables cuando un guión gráfico comienza a reproducirse pueden afectar al orden de los fotogramas clave y a la longitud y forma generales del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-251">In general, the values and velocities of variables when a storyboard starts playing can affect keyframe ordering and the overall length and shape of the storyboard.</span></span>

### <a name="scheduling-a-storyboard"></a><span data-ttu-id="5cebf-252">Programar un guión gráfico</span><span class="sxs-lookup"><span data-stu-id="5cebf-252">Scheduling a Storyboard</span></span>

<span data-ttu-id="5cebf-253">Al programar un guión gráfico, su hora de inicio viene determinada por su esquema y los esquemas de los guiones gráficos que están actualmente en la programación.</span><span class="sxs-lookup"><span data-stu-id="5cebf-253">When scheduling a storyboard, its start time is determined by its outline and the outlines of the storyboards that are currently in the schedule.</span></span> <span data-ttu-id="5cebf-254">En concreto, el primer y el último momento en que el guión gráfico anima cada variable individual determinan si dos guiones gráficos y cuándo colisionan, pero los detalles internos de las transiciones dentro de no son importantes.</span><span class="sxs-lookup"><span data-stu-id="5cebf-254">Specifically, the first and last moments when the storyboard animates each individual variable determine whether and when two storyboards collide, but the internal details of the transitions within are not important.</span></span>

<span data-ttu-id="5cebf-255">En la ilustración siguiente se muestra el esquema de un guión gráfico con cinco transiciones que animan tres variables.</span><span class="sxs-lookup"><span data-stu-id="5cebf-255">The following illustration shows the outline of a storyboard with five transitions animating three variables.</span></span>

![ilustración en la que se muestra un guión gráfico con cinco transiciones que animan tres variables](images/storyboardwithoutline.png)

<span data-ttu-id="5cebf-257">Una de las piedras angulares de la plataforma animación de Windows es su compatibilidad para permitir que una animación se complete antes de que comience otra, cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="5cebf-257">A cornerstone of the Windows Animation platform is its support for letting one animation complete before another begins, when necessary.</span></span> <span data-ttu-id="5cebf-258">Aunque esto elimina muchos problemas lógicos, también introduce una latencia arbitraria en la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="5cebf-258">While this eliminates many logical problems, it also introduces arbitrary latency in the UI.</span></span> <span data-ttu-id="5cebf-259">Para solucionar este problema,  las aplicaciones pueden especificar el retraso más largo aceptable para que se inicie un guión gráfico, mediante el método [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) y el administrador de animaciones usa esta información para programar el guión gráfico antes de que transcurra el período de latencia especificado.</span><span class="sxs-lookup"><span data-stu-id="5cebf-259">To address this, applications can specify the *longest acceptable delay* for a storyboard to start, using the [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) method, and the animation manager uses this information to schedule the storyboard before the specified latency period elapses.</span></span> <span data-ttu-id="5cebf-260">Cuando se programa un guión gráfico, el administrador de animaciones determina si primero se deben cancelar, recortar, concluir o comprimir otros guiones gráficos.</span><span class="sxs-lookup"><span data-stu-id="5cebf-260">When a storyboard is scheduled, the animation manager determines if other storyboards must first be canceled, trimmed, concluded, and/or compressed.</span></span>

<span data-ttu-id="5cebf-261">Una aplicación puede registrar un controlador al que se llamará cuando cambie el estado de un guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="5cebf-261">An application can register a handler that will be called when a storyboard's status changes.</span></span> <span data-ttu-id="5cebf-262">Esto permite a la aplicación responder cuando el guión gráfico comienza a reproducirse, se ejecuta hasta su finalización, se quita completamente de la programación o se impide que se complete debido a la interrupción de un guión gráfico de mayor prioridad.</span><span class="sxs-lookup"><span data-stu-id="5cebf-262">This enables the application to respond when the storyboard starts playing, runs to completion, is removed entirely from the schedule, or is prevented from completing due to interruption by a higher-priority storyboard.</span></span> <span data-ttu-id="5cebf-263">Para identificar los guiones gráficos pasados a controladores de eventos de guión gráfico (o comparaciones de prioridad), una aplicación puede usar el método [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) para aplicar etiquetas a guiones gráficos, similares a los que se pueden usar para identificar variables.</span><span class="sxs-lookup"><span data-stu-id="5cebf-263">To identify the storyboards passed to storyboard event handlers (or priority comparisons), an application can use the [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) method to apply tags to storyboards, similar to those that can be used to identify variables.</span></span> <span data-ttu-id="5cebf-264">Al igual que con el uso de guiones gráficos, los desarrolladores deben tener cuidado al usar etiquetas para identificar guiones gráficos y asegurarse de que no surjan ambigüedades cuando las acciones del usuario hagan que muchos guiones gráficos se ponen en cola.</span><span class="sxs-lookup"><span data-stu-id="5cebf-264">As with storyboard re-use, developers must exercise caution when using tags to identify storyboards, and be sure that ambiguities do not arise when user actions result in many storyboards being queued.</span></span>

<span data-ttu-id="5cebf-265">En los ejemplos siguientes se muestran dos variaciones de un intento de programar el guión gráfico creado en las secciones anteriores de este tema.</span><span class="sxs-lookup"><span data-stu-id="5cebf-265">The following examples show two variations of an attempt to schedule the storyboard built in the earlier sections of this topic.</span></span>

<span data-ttu-id="5cebf-266">En este escenario, ya se han programado seis guiones gráficos, de A a F, para animar variables W, X, Y y Z, pero solo A y B han empezado a reproducirse.</span><span class="sxs-lookup"><span data-stu-id="5cebf-266">In this scenario, six storyboards, A through F, have already been scheduled to animate variables W, X, Y and Z, but only A and B have started playing.</span></span> <span data-ttu-id="5cebf-267">El nuevo guión gráfico, etiquetado como G, tiene su retraso aceptable más largo establecido en la duración que se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="5cebf-267">The new storyboard, labeled G, has its longest acceptable delay set to the duration shown in the following illustration.</span></span>

![ilustración que muestra la adición de un nuevo guión gráfico a la programación existente](images/existingschedule1withlines.png)

<span data-ttu-id="5cebf-269">La aplicación ha registrado comparaciones de prioridad que incluyen la siguiente lógica:</span><span class="sxs-lookup"><span data-stu-id="5cebf-269">The application has registered priority comparisons that include the following logic:</span></span>

-   <span data-ttu-id="5cebf-270">G solo puede cancelar C y E, y solo para evitar errores.</span><span class="sxs-lookup"><span data-stu-id="5cebf-270">G can cancel only C and E, and only to prevent failure.</span></span>
-   <span data-ttu-id="5cebf-271">G solo puede recortar A, C, E y F, y solo para evitar errores.</span><span class="sxs-lookup"><span data-stu-id="5cebf-271">G can trim only A, C, E and F, and only to prevent failure.</span></span>
-   <span data-ttu-id="5cebf-272">Cualquier guión gráfico puede comprimir cualquier otro guión gráfico (la compresión siempre se realiza solo para evitar errores).</span><span class="sxs-lookup"><span data-stu-id="5cebf-272">Any storyboard can compress any other storyboard (compression is always done only to prevent failure).</span></span>

> [!Note]  
> <span data-ttu-id="5cebf-273">El calificador "solo para evitar errores" significa que las comparaciones de prioridad registradas devuelven S OK solo cuando el parámetro \_ *priorityEffect* es UI **ANIMATION PRIORITY \_ EFFECT \_ \_ \_ FAILURE**.</span><span class="sxs-lookup"><span data-stu-id="5cebf-273">The qualifier "only to prevent failure" means that the registered priority comparisons return S\_OK only when the *priorityEffect* parameter is **UI\_ANIMATION\_PRIORITY\_EFFECT\_FAILURE**.</span></span> <span data-ttu-id="5cebf-274">Consulte el [**método IUIAnimationPriorityComparison::HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="5cebf-274">See the [**IUIAnimationPriorityComparison::HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) method for details.</span></span>

 

<span data-ttu-id="5cebf-275">Para iniciar G antes de que haya transcurrido el retraso más largo aceptable, el administrador de animación debe hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="5cebf-275">To start G before the longest acceptable delay has elapsed, the animation manager must do the following:</span></span>

-   <span data-ttu-id="5cebf-276">Recortar F</span><span class="sxs-lookup"><span data-stu-id="5cebf-276">Trim F</span></span>
-   <span data-ttu-id="5cebf-277">Cancelar E</span><span class="sxs-lookup"><span data-stu-id="5cebf-277">Cancel E</span></span>

<span data-ttu-id="5cebf-278">Cuando se cancela E, D y F se descubren y vuelven a sus esquemas originales:</span><span class="sxs-lookup"><span data-stu-id="5cebf-278">When E is canceled, D and F are uncovered and revert to their original outlines:</span></span>

![ilustración en la que se muestran los contornos originales](images/existingschedule1bwithlines.png)

<span data-ttu-id="5cebf-280">El administrador de animaciones no necesita cancelar ni recortar C para programar antes de que haya transcurrido su retraso más largo aceptable, por lo que la reunión de C y G determina cuándo se inicia G.</span><span class="sxs-lookup"><span data-stu-id="5cebf-280">The animation manager does not need to cancel or trim C to schedule before its longest acceptable delay has elapsed, so the meeting of C and G determines when G starts.</span></span>

![ilustración en la que se muestra que f se recorta para permitir que c y g se cumplan](images/schedule1withgwithlines.png)

<span data-ttu-id="5cebf-282">Una vez que G se ha programado correctamente, se pueden determinar las duraciones de sus transiciones y, por tanto, se conoce el resto de su esquema.</span><span class="sxs-lookup"><span data-stu-id="5cebf-282">After G has been successfully scheduled, the durations of its transitions can be determined, and the remainder of its outline is therefore known.</span></span> <span data-ttu-id="5cebf-283">Sin embargo, el esquema puede cambiar si se quita posteriormente otro guión gráfico de la programación.</span><span class="sxs-lookup"><span data-stu-id="5cebf-283">However, the outline can change if another storyboard is subsequently removed from the schedule.</span></span>

<span data-ttu-id="5cebf-284">Como segundo ejemplo, considere un escenario como el anterior, pero con un retraso aceptable más corto y más largo especificado para G.</span><span class="sxs-lookup"><span data-stu-id="5cebf-284">As a second example, consider a scenario like that above, but with a shorter longest acceptable delay specified for G.</span></span>

![ilustración que muestra el escenario anterior, pero con un retraso aceptable más corto más largo para g](images/existingschedule2withlines.png)

<span data-ttu-id="5cebf-286">En este caso, se toman las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="5cebf-286">In this case, the following actions are taken:</span></span>

-   <span data-ttu-id="5cebf-287">Recortar F</span><span class="sxs-lookup"><span data-stu-id="5cebf-287">Trim F</span></span>
-   <span data-ttu-id="5cebf-288">Cancelar E</span><span class="sxs-lookup"><span data-stu-id="5cebf-288">Cancel E</span></span>
-   <span data-ttu-id="5cebf-289">Cancelar C</span><span class="sxs-lookup"><span data-stu-id="5cebf-289">Cancel C</span></span>

<span data-ttu-id="5cebf-290">Además, el administrador de animaciones debe comprimir D según la cantidad que se muestra para permitir que G se inicie después de su retraso más largo aceptable y no más adelante.</span><span class="sxs-lookup"><span data-stu-id="5cebf-290">Also, the animation manager must compress D by the amount shown to enable G to start after its longest acceptable delay, and no later.</span></span>

![ilustración en la que se muestra dónde d debe comprimirse para permitir que g se inicie en su retraso aceptable más largo.](images/trimmedandcancelledwithlines.png)

<span data-ttu-id="5cebf-292">Para conservar su tiempo relativo, también se comprimen A, B y F.</span><span class="sxs-lookup"><span data-stu-id="5cebf-292">To preserve their relative timing, A, B, and F are compressed as well.</span></span>

![ilustración que muestra a, b, d y f comprimidos](images/schedule2withgwithlines.png)

<span data-ttu-id="5cebf-294">Sin embargo, los guiones gráficos en variables no relacionadas (no se muestran) no se comprimirían.</span><span class="sxs-lookup"><span data-stu-id="5cebf-294">However, storyboards on unrelated variables (not shown) would not be compressed.</span></span>

<span data-ttu-id="5cebf-295">Una vez más, el esquema de G se conoce ahora y es diferente del resultado en el primer escenario porque las variables tienen valores diferentes cuando comienza G.</span><span class="sxs-lookup"><span data-stu-id="5cebf-295">Once again, the outline of G is now known and is different from the result in the first scenario because the variables have different values when G begins.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5cebf-296">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="5cebf-296">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5cebf-297">**IUIAnimationManager**</span><span class="sxs-lookup"><span data-stu-id="5cebf-297">**IUIAnimationManager**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationmanager)
</dt> <dt>

[<span data-ttu-id="5cebf-298">**IUIAnimationPriorityComparison**</span><span class="sxs-lookup"><span data-stu-id="5cebf-298">**IUIAnimationPriorityComparison**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationprioritycomparison)
</dt> <dt>

[<span data-ttu-id="5cebf-299">**IUIAnimationStoryboard**</span><span class="sxs-lookup"><span data-stu-id="5cebf-299">**IUIAnimationStoryboard**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationstoryboard)
</dt> <dt>

[<span data-ttu-id="5cebf-300">**IUIAnimationTransitionLibrary**</span><span class="sxs-lookup"><span data-stu-id="5cebf-300">**IUIAnimationTransitionLibrary**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)
</dt> </dl>

 

