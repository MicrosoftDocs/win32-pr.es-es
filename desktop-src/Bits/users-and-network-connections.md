---
title: Usuarios y conexiones de red
description: BITS transfiere archivos solo cuando el propietario del trabajo inicia sesión y se establece una conexión de red.
ms.assetid: b31fc04f-8fa8-407f-9380-ca6b09589c46
keywords:
- BITS de conexiones de red
- transferir BITS de trabajo, propiedad
- transferir BITS de trabajo, propiedad, cuenta de usuario
ms.topic: article
ms.date: 10/04/2018
ms.openlocfilehash: 7f841e3bf92004b62f3bbb576f71a45ac6b4a6bc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104149572"
---
# <a name="users-and-network-connections"></a><span data-ttu-id="fb93a-106">Usuarios y conexiones de red</span><span class="sxs-lookup"><span data-stu-id="fb93a-106">Users and Network Connections</span></span>

<span data-ttu-id="fb93a-107">BITS transfiere archivos solo cuando el propietario del trabajo inicia sesión y se establece una conexión de red.</span><span class="sxs-lookup"><span data-stu-id="fb93a-107">BITS transfers files only when the job owner is logged on and a network connection is established.</span></span> <span data-ttu-id="fb93a-108">BITS procesa el trabajo de transferencia mediante el contexto de seguridad del propietario del trabajo.</span><span class="sxs-lookup"><span data-stu-id="fb93a-108">BITS processes the transfer job using the security context of the job owner.</span></span> <span data-ttu-id="fb93a-109">El usuario que creó el trabajo se considera el propietario del trabajo.</span><span class="sxs-lookup"><span data-stu-id="fb93a-109">The user who created the job is considered the owner of the job.</span></span> <span data-ttu-id="fb93a-110">Sin embargo, un usuario con privilegios de administrador puede [**tomar posesión**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-takeownership) del trabajo de otro usuario.</span><span class="sxs-lookup"><span data-stu-id="fb93a-110">However, a user with administrator privileges can [**take ownership**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-takeownership) of another user's job.</span></span>

<span data-ttu-id="fb93a-111">BITS suspende un trabajo cuando el propietario cierra la sesión o si se pierde la conexión de red (BITS no forzará una conexión de red).</span><span class="sxs-lookup"><span data-stu-id="fb93a-111">BITS suspends a job when the owner logs off or if the network connection is lost (BITS will not force a network connection).</span></span> <span data-ttu-id="fb93a-112">BITS reanuda el trabajo cuando el propietario vuelve a iniciar sesión y se establece una conexión de red.</span><span class="sxs-lookup"><span data-stu-id="fb93a-112">BITS resumes the job when the owner logs back on and a network connection is established.</span></span> <span data-ttu-id="fb93a-113">Una vez establecida la conexión de red, se puede producir un breve retraso antes de que BITS empiece a transferir datos.</span><span class="sxs-lookup"><span data-stu-id="fb93a-113">After the network connection is established, a short delay may occur before BITS begins transferring data.</span></span>

<span data-ttu-id="fb93a-114">Si se pierde la conexión de red, todos los trabajos cuyo estado es [**Estado de trabajo de BG \_ \_ \_ en cola**](/windows/desktop/api/Bits/ne-bits-bg_job_state) o estado de trabajo de BG que se **\_ \_ \_ transfieren** se mueven al estado de **\_ \_ \_ \_ error transitorio de estado de trabajo de BG** con un código de error de [red BG \_ E \_ \_ desconectado](bits-return-values.md) .</span><span class="sxs-lookup"><span data-stu-id="fb93a-114">If the network connection is lost, all jobs whose state is [**BG\_JOB\_STATE\_QUEUED**](/windows/desktop/api/Bits/ne-bits-bg_job_state) or **BG\_JOB\_STATE\_TRANSFERRING** are moved to the **BG\_JOB\_STATE\_TRANSIENT\_ERROR** state with a [BG\_E\_NETWORK\_DISCONNECTED](bits-return-values.md) error code.</span></span> <span data-ttu-id="fb93a-115">Cuando se establece una conexión de red, todos los trabajos en un estado de **\_ \_ \_ \_ error transitorio de estado de trabajo de BG** , que puede incluir cualquier código de error, se mueven al estado de trabajo de BG en **\_ \_ \_ cola** .</span><span class="sxs-lookup"><span data-stu-id="fb93a-115">When a network connection is established, all jobs in a **BG\_JOB\_STATE\_TRANSIENT\_ERROR** state, which may include any error code, are moved to the **BG\_JOB\_STATE\_QUEUED** state.</span></span>

<span data-ttu-id="fb93a-116">Para que BITS detecte que un usuario ha iniciado sesión, el usuario debe usar una de las siguientes opciones de inicio de sesión interactivo:</span><span class="sxs-lookup"><span data-stu-id="fb93a-116">For BITS to detect that a user is logged on, the user must use one of the following interactive logon options:</span></span>

-   <span data-ttu-id="fb93a-117">Inicie sesión a través de la pantalla de bienvenida.</span><span class="sxs-lookup"><span data-stu-id="fb93a-117">Log on through the Welcome screen.</span></span>
-   <span data-ttu-id="fb93a-118">Inicie sesión en un cliente de [Terminal Services](../termserv/terminal-services-portal.md) .</span><span class="sxs-lookup"><span data-stu-id="fb93a-118">Log on to a [terminal service](../termserv/terminal-services-portal.md) client.</span></span>
-   <span data-ttu-id="fb93a-119">Usar [cambio rápido de usuario](../shell/fast-user-switching.md).</span><span class="sxs-lookup"><span data-stu-id="fb93a-119">Use [fast user switching](../shell/fast-user-switching.md).</span></span>
-   <span data-ttu-id="fb93a-120">A partir de Windows 10, versión 1607, inicie sesión desde otro dispositivo mediante PowerShell remoto.</span><span class="sxs-lookup"><span data-stu-id="fb93a-120">Starting with Windows 10, version 1607, log on from another device using Remote Powershell.</span></span> <span data-ttu-id="fb93a-121">Vea [para administrar sesiones remotas de PowerShell](using-windows-powershell-to-create-bits-transfer-jobs.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="fb93a-121">See [To manage PowerShell Remote sessions](using-windows-powershell-to-create-bits-transfer-jobs.md) for details.</span></span>

<span data-ttu-id="fb93a-122">La ejecución de una aplicación como otro usuario (mediante el comando **runas** ) no es un inicio de sesión interactivo; BITS no ejecutará los trabajos asociados al usuario especificado.</span><span class="sxs-lookup"><span data-stu-id="fb93a-122">Running an application as another user (by using the **RunAs** command) is not an interactive logon; BITS will not run jobs associated with the specified user.</span></span>

<span data-ttu-id="fb93a-123">Las cuentas del sistema LocalSystem, LocalService y NetworkService siempre inician sesión. por lo tanto, los trabajos enviados por un servicio mediante estas cuentas siempre se ejecutan.</span><span class="sxs-lookup"><span data-stu-id="fb93a-123">The LocalSystem, LocalService, and NetworkService system accounts are always logged on; therefore, jobs submitted by a service using these accounts always run.</span></span> <span data-ttu-id="fb93a-124">Para obtener información y conocer las limitaciones sobre el uso de cuentas de servicio, vea [Service accounts and bits](service-accounts-and-bits.md).</span><span class="sxs-lookup"><span data-stu-id="fb93a-124">For information and limitations on using service accounts, see [Service Accounts and BITS](service-accounts-and-bits.md).</span></span>

<span data-ttu-id="fb93a-125">Los propietarios de los trabajos pueden proporcionar un token auxiliar que se usará en situaciones en las que se necesitan varios tokens para completar una transferencia, por ejemplo, para la autenticación con un host remoto.</span><span class="sxs-lookup"><span data-stu-id="fb93a-125">Job owners can provide a helper token to be used in situations where multiple tokens are needed to complete a transfer, such as for authentication with a remote host.</span></span> <span data-ttu-id="fb93a-126">Consulte [tokens de aplicación auxiliar para trabajos de transferencia de bits](helper-tokens-for-bits-transfer-jobs.md) para más información.</span><span class="sxs-lookup"><span data-stu-id="fb93a-126">See [Helper Tokens for BITS Transfer Jobs](helper-tokens-for-bits-transfer-jobs.md) for details.</span></span> <span data-ttu-id="fb93a-127">En versiones anteriores de Windows, el propietario del trabajo tenía que tener privilegios de administrador para iniciar un trabajo que usaba un token de aplicación auxiliar.</span><span class="sxs-lookup"><span data-stu-id="fb93a-127">In earlier versions of Windows, the job owner effectively had to have administrator privileges to start a job that used a helper token.</span></span> <span data-ttu-id="fb93a-128">En Windows 10, versión 1607, ahora es posible que un propietario del trabajo de BITS establezca tokens auxiliares sin ser un administrador, siempre que el token auxiliar no tenga funciones de administrador.</span><span class="sxs-lookup"><span data-stu-id="fb93a-128">In Windows 10, version 1607, it is now possible for a BITS job owner to set helper tokens without being an administrator, as long as the helper token does not have administrator capabilities.</span></span> <span data-ttu-id="fb93a-129">Esto reduce la superficie de vulnerabilidad de las herramientas de descarga o actualización en segundo plano, ya que permite que se ejecuten con la cuenta NetworkService con menos privilegios, en lugar de con una cuenta con privilegios administrativos.</span><span class="sxs-lookup"><span data-stu-id="fb93a-129">This reduces the vulnerability footprint of background download or update tools by enabling them to run under the lower-privileged NetworkService account rather than under an account with administrative privileges.</span></span>

<span data-ttu-id="fb93a-130">Los usuarios con un [token restringido](../secauthz/restricted-tokens.md) (un token que contenga SID restrictivos) no pueden crear ni modificar trabajos.</span><span class="sxs-lookup"><span data-stu-id="fb93a-130">Users with a [restricted token](../secauthz/restricted-tokens.md) (a token that contains restricting SIDs) cannot create or modify jobs.</span></span>
 

 