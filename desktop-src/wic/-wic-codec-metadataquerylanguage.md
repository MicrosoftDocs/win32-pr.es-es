---
description: En este tema se presenta el lenguaje de consulta de metadatos para Windows Imaging Component (WIC).
ms.assetid: 5ffa0a69-b53d-4be3-b802-deaaa743e6bd
title: Información general del lenguaje de consulta de metadatos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ee4b55bdc7079565f98411e28977d3d8c41e191f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104554815"
---
# <a name="metadata-query-language-overview"></a><span data-ttu-id="0c710-103">Información general del lenguaje de consulta de metadatos</span><span class="sxs-lookup"><span data-stu-id="0c710-103">Metadata Query Language Overview</span></span>

<span data-ttu-id="0c710-104">En este tema se presenta el lenguaje de consulta de metadatos para Windows Imaging Component (WIC).</span><span class="sxs-lookup"><span data-stu-id="0c710-104">This topic introduces the metadata query language for Windows Imaging Component (WIC).</span></span> <span data-ttu-id="0c710-105">El lenguaje de consulta de metadatos se usa para crear expresiones que busquen datos específicos (elementos de metadatos) y ubicaciones (bloques de metadatos) dentro de los metadatos de una imagen.</span><span class="sxs-lookup"><span data-stu-id="0c710-105">You use the metadata query language to create expressions that find specific data (metadata items) and locations (metadata blocks) within the metadata of an image.</span></span>

<span data-ttu-id="0c710-106">En este tema se incluyen las siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="0c710-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="0c710-107">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="0c710-107">Prerequisites</span></span>](#prerequisites)
-   [<span data-ttu-id="0c710-108">Introducción</span><span class="sxs-lookup"><span data-stu-id="0c710-108">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="0c710-109">Anatomía de una expresión de ruta de acceso</span><span class="sxs-lookup"><span data-stu-id="0c710-109">Anatomy of a Path Expression</span></span>](#anatomy-of-a-path-expression)
    -   [<span data-ttu-id="0c710-110">Selección de bloques</span><span class="sxs-lookup"><span data-stu-id="0c710-110">Block Selection</span></span>](#block-selection)
    -   [<span data-ttu-id="0c710-111">Selección de elementos</span><span class="sxs-lookup"><span data-stu-id="0c710-111">Item Selection</span></span>](#item-selection)
    -   [<span data-ttu-id="0c710-112">Carácter de escape</span><span class="sxs-lookup"><span data-stu-id="0c710-112">Escape Character</span></span>](#escape-character)
    -   [<span data-ttu-id="0c710-113">Ejemplos de expresiones</span><span class="sxs-lookup"><span data-stu-id="0c710-113">Sample Expressions</span></span>](#sample-expressions)
-   [<span data-ttu-id="0c710-114">Expresiones de la Directiva de metadatos de fotos</span><span class="sxs-lookup"><span data-stu-id="0c710-114">Photo Metadata Policy Expressions</span></span>](#photo-metadata-policy-expressions)
-   [<span data-ttu-id="0c710-115">Resumen del lenguaje de consulta de metadatos</span><span class="sxs-lookup"><span data-stu-id="0c710-115">Metadata Query Language Summary</span></span>](#metadata-query-language-summary)
-   [<span data-ttu-id="0c710-116">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0c710-116">Related topics</span></span>](#related-topics)

## <a name="prerequisites"></a><span data-ttu-id="0c710-117">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="0c710-117">Prerequisites</span></span>

<span data-ttu-id="0c710-118">Para entender este tema, debe estar familiarizado con el sistema de metadatos de WIC tal y como se describe en [información general sobre metadatos de WIC](-wic-about-metadata.md) y acceso a los metadatos, como se describe en [información general sobre la lectura y escritura de metadatos de imagen](-wic-codec-readingwritingmetadata.md).</span><span class="sxs-lookup"><span data-stu-id="0c710-118">To understand this topic, you should be familiar with the WIC metadata system as described in the [WIC Metadata Overview](-wic-about-metadata.md) and accessing metadata, as described in the [Overview of Reading and Writing Image Metadata](-wic-codec-readingwritingmetadata.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="0c710-119">Introducción</span><span class="sxs-lookup"><span data-stu-id="0c710-119">Introduction</span></span>

<span data-ttu-id="0c710-120">Interactúe con la plataforma de metadatos principalmente a través de dos componentes del modelo de objetos componentes (COM): un lector de consultas, representado por la interfaz [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) y un escritor de consultas, representado por la interfaz [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) .</span><span class="sxs-lookup"><span data-stu-id="0c710-120">You interact with the metadata platform primarily through two Component Object Model (COM) components: a query reader, represented by the [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) interface, and a query writer, represented by the [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) interface.</span></span> <span data-ttu-id="0c710-121">Estos componentes permiten leer o escribir metadatos mediante el lenguaje de consulta de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-121">These components enable you to read or write metadata using the metadata query language.</span></span> <span data-ttu-id="0c710-122">El lenguaje de consulta describe la sintaxis de una expresión de ruta de acceso y los componentes de la consulta usan esta expresión de ruta de acceso para acceder a los metadatos deseados.</span><span class="sxs-lookup"><span data-stu-id="0c710-122">The query language describes the syntax of a path expression and the query components use this path expression to access the desired metadata.</span></span> <span data-ttu-id="0c710-123">Esta expresión de ruta de acceso describe la ubicación de un bloque o elemento de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-123">This path expression describes the location of a metadata block or item.</span></span>

<span data-ttu-id="0c710-124">Un bloque de metadatos es un grupo con nombre de metadatos en un formato específico.</span><span class="sxs-lookup"><span data-stu-id="0c710-124">A metadata block is a named group of metadata in a specific format.</span></span> <span data-ttu-id="0c710-125">Un bloque de metadatos puede contener elementos de metadatos individuales, como un autor o una hora de creación y bloques de metadatos adicionales.</span><span class="sxs-lookup"><span data-stu-id="0c710-125">A metadata block can contain individual metadata items such as an author or creation time and additional metadata blocks.</span></span> <span data-ttu-id="0c710-126">El nombre de un bloque de metadatos se determina por su formato.</span><span class="sxs-lookup"><span data-stu-id="0c710-126">A metadata block's name is determined by its format.</span></span> <span data-ttu-id="0c710-127">Por ejemplo, un bloque de metadatos que contiene los metadatos de app1 se denominará "app1".</span><span class="sxs-lookup"><span data-stu-id="0c710-127">For example, a metadata block containing App1 metadata would be named "app1".</span></span> <span data-ttu-id="0c710-128">Los formatos de metadatos comunes incluyen app1, EXIF, IFD y XMP.</span><span class="sxs-lookup"><span data-stu-id="0c710-128">Common metadata formats include App1, Exif, IFD, and XMP.</span></span>

<span data-ttu-id="0c710-129">Un elemento de metadatos es un par nombre-valor que describe características como autor, título y clasificación.</span><span class="sxs-lookup"><span data-stu-id="0c710-129">A metadata item is a name/value pair that describes characteristics like author, title, and rating.</span></span>

<span data-ttu-id="0c710-130">Una expresión de ruta de acceso contiene uno o varios nombres de bloques de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-130">A path expression contains one or more metadata block names.</span></span> <span data-ttu-id="0c710-131">También puede especificar un elemento de metadatos dentro de un bloque de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-131">It can also specify a metadata item within a metadata block.</span></span> <span data-ttu-id="0c710-132">La siguiente expresión de ruta de acceso representa un bloque app1 que contiene un bloque IFD que contiene el elemento de metadatos:</span><span class="sxs-lookup"><span data-stu-id="0c710-132">The following path expression represents an App1 block which contains an IFD block which contains the metadata item:</span></span>

-   <span data-ttu-id="0c710-133">/app1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="0c710-133">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="0c710-134">En el diagrama siguiente se muestra la composición de una imagen JPEG de ejemplo con cuatro bloques de metadatos raíz: App0, app1, XMP y un bloque desconocido.</span><span class="sxs-lookup"><span data-stu-id="0c710-134">The following diagram illustrates the makeup of an example JPEG image with four root metadata blocks: App0, App1, XMP, and an unknown block.</span></span> <span data-ttu-id="0c710-135">Cada elemento resaltado anota el tipo de metadatos (bloque o elemento) y la expresión de consulta utilizada para recuperar los datos.</span><span class="sxs-lookup"><span data-stu-id="0c710-135">Each highlighted item notes the type of metadata (block or item) and the query expression used to retrieve the data.</span></span>

![imagen JPEG con llamadas de metadatos](graphics/jpegwithcallouts.png)

> [!Note]  
> <span data-ttu-id="0c710-137">El contenido de este diagrama se hace referencia en este documento y se usa en muchos de los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="0c710-137">The contents of this diagram are referenced throughout this document and are used in many of the examples.</span></span>

 

## <a name="anatomy-of-a-path-expression"></a><span data-ttu-id="0c710-138">Anatomía de una expresión de ruta de acceso</span><span class="sxs-lookup"><span data-stu-id="0c710-138">Anatomy of a Path Expression</span></span>

<span data-ttu-id="0c710-139">Para tener acceso a los metadatos mediante las API de WIC, en la mayoría de los casos se debe usar una expresión de consulta completa.</span><span class="sxs-lookup"><span data-stu-id="0c710-139">To access metadata using the WIC APIs, a fully qualified query expression must be used in most cases.</span></span> <span data-ttu-id="0c710-140">En este tema se describen las expresiones completas para tener acceso a los metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-140">This topic discusses fully qualified expressions for accessing metadata.</span></span> <span data-ttu-id="0c710-141">Si necesita información sobre los casos en los que se usan expresiones no completas, consulte la sección expresión de la Directiva de metadatos de fotos más adelante en este documento.</span><span class="sxs-lookup"><span data-stu-id="0c710-141">If you need information about the cases in which non-fully qualified expressions are used, refer to the Photo Metadata Policy Expression section later in this document.</span></span>

<span data-ttu-id="0c710-142">¿Qué es una expresión de consulta completa?</span><span class="sxs-lookup"><span data-stu-id="0c710-142">What is a fully qualified query expression?</span></span> <span data-ttu-id="0c710-143">En WIC, una expresión completa es una cadena que comienza con la barra diagonal de caracteres de ruta de acceso (/), seguida de una ruta de navegación a un bloque de metadatos o a un elemento de metadatos específico.</span><span class="sxs-lookup"><span data-stu-id="0c710-143">In WIC, a fully qualified expression is a string that begins with the path character slash (/), followed by a navigation path to a metadata block or a specific metadata item.</span></span> <span data-ttu-id="0c710-144">Cada paso dentro de la ruta de navegación está separado por una barra diagonal, formando una expresión para tener acceso a un bloque de metadatos o a un elemento de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-144">Each step within the navigation path is separated by a slash, forming an expression for accessing a metadata block or a metadata item.</span></span> <span data-ttu-id="0c710-145">Por ejemplo, la siguiente es una expresión de consulta completa que tiene acceso a la clasificación de fotos de Microsoft en un bloque de IFD que está anidado en un bloque app1:</span><span class="sxs-lookup"><span data-stu-id="0c710-145">For example, the following is a fully qualified query expression that accesses the Microsoft Photo Rating in an IFD block that is nested in an App1 block:</span></span>

-   <span data-ttu-id="0c710-146">/app1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="0c710-146">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="0c710-147">Cuando WIC analiza esta expresión, busca primero el bloque de metadatos de app1 dentro de los metadatos de la imagen.</span><span class="sxs-lookup"><span data-stu-id="0c710-147">When WIC parses this expression, it first searches for the App1 metadata block within the image's metadata.</span></span> <span data-ttu-id="0c710-148">Si se encuentra el bloque app1, continúa buscando el bloque de metadatos IFD anidado.</span><span class="sxs-lookup"><span data-stu-id="0c710-148">If the App1 block is found, it continues its search looking for the nested IFD metadata block.</span></span> <span data-ttu-id="0c710-149">Si se encuentra el bloque IFD, busca el elemento de metadatos específico, en este caso, la clasificación MicrosoftPhoto en la etiqueta 18249, dentro del bloque de metadatos de IFD.</span><span class="sxs-lookup"><span data-stu-id="0c710-149">If the IFD block is found, it then looks for the specific metadata item, in this case the MicrosoftPhoto rating under the tag 18249, within the IFD metadata block.</span></span> <span data-ttu-id="0c710-150">Si en algún momento WIC no encuentra un elemento o bloque de metadatos, anula la consulta.</span><span class="sxs-lookup"><span data-stu-id="0c710-150">If at any time WIC does not find a metadata block or item, it aborts the query.</span></span>

### <a name="block-selection"></a><span data-ttu-id="0c710-151">Selección de bloques</span><span class="sxs-lookup"><span data-stu-id="0c710-151">Block Selection</span></span>

<span data-ttu-id="0c710-152">La expresión de consulta de metadatos de WIC más sencilla es una expresión para obtener un lector/escritor de consultas para un bloque de metadatos específico.</span><span class="sxs-lookup"><span data-stu-id="0c710-152">The simplest WIC metadata query expression is an expression to obtain a query reader/writer for a specific metadata block.</span></span> <span data-ttu-id="0c710-153">Obtener un lector/escritor de consultas permite dirigir las consultas posteriores directamente a un bloque de metadatos anidado sin tratar con su bloque primario.</span><span class="sxs-lookup"><span data-stu-id="0c710-153">Obtaining a query reader/writer enables you to direct subsequent queries directly to a nested metadata block without dealing with its parent block.</span></span> <span data-ttu-id="0c710-154">Una expresión de consulta de selección de bloques es una ruta de navegación al bloque de metadatos deseado.</span><span class="sxs-lookup"><span data-stu-id="0c710-154">A block selection query expression is a navigation path to the desired metadata block.</span></span> <span data-ttu-id="0c710-155">Por ejemplo, en la ilustración anterior hay cinco bloques de metadatos, dos de los cuales están anidados en otros bloques de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-155">For example, in the previous illustration there are five metadata blocks, two of which are nested in other metadata blocks.</span></span> <span data-ttu-id="0c710-156">A continuación se muestran las expresiones de ruta de acceso a cada bloque de metadatos del ejemplo JPEG:</span><span class="sxs-lookup"><span data-stu-id="0c710-156">The following are the path expressions to each metadata block in the JPEG example:</span></span>

-   <span data-ttu-id="0c710-157">/app0</span><span class="sxs-lookup"><span data-stu-id="0c710-157">/app0</span></span>
-   <span data-ttu-id="0c710-158">/app1</span><span class="sxs-lookup"><span data-stu-id="0c710-158">/app1</span></span>
-   <span data-ttu-id="0c710-159">/app1/ifd</span><span class="sxs-lookup"><span data-stu-id="0c710-159">/app1/ifd</span></span>
-   <span data-ttu-id="0c710-160">/app1/ifd/exif</span><span class="sxs-lookup"><span data-stu-id="0c710-160">/app1/ifd/exif</span></span>
-   <span data-ttu-id="0c710-161">/xmp</span><span class="sxs-lookup"><span data-stu-id="0c710-161">/xmp</span></span>

<span data-ttu-id="0c710-162">Cuando se usa un lector/escritor de consultas para ejecutar una consulta, devuelve un nuevo lector/escritor de consultas que da servicio a las consultas dentro del ámbito del bloque de metadatos especificado.</span><span class="sxs-lookup"><span data-stu-id="0c710-162">When you use a query reader/writer to execute a query, it returns a new query reader/writer that services queries within the scope of the specified metadata block.</span></span> <span data-ttu-id="0c710-163">Por ejemplo, si ejecuta la consulta "/app1", se obtiene un nuevo lector de consultas y las consultas al nuevo lector son relativas al bloque app1.</span><span class="sxs-lookup"><span data-stu-id="0c710-163">For instance, if you execute the query "/app1" , a new query reader is obtained and queries to the new reader are relative to the App1 block.</span></span> <span data-ttu-id="0c710-164">Esto significa que la consulta "/IFD" es válida para el nuevo lector porque el bloque app1 contiene un bloque IFD.</span><span class="sxs-lookup"><span data-stu-id="0c710-164">This means that the query "/ifd" is valid for the new reader because the App1 block contains an IFD block.</span></span> <span data-ttu-id="0c710-165">Sin embargo, "/XMP" no funcionaría porque este bloque app1 no contiene un bloque de metadatos XMP.</span><span class="sxs-lookup"><span data-stu-id="0c710-165">However, "/xmp" would not work because this App1 block does not contain an XMP metadata block.</span></span>

<span data-ttu-id="0c710-166">El lenguaje de consulta también admite una notación de índice.</span><span class="sxs-lookup"><span data-stu-id="0c710-166">The query language also supports an index notation.</span></span> <span data-ttu-id="0c710-167">La notación de índice proporciona acceso a un bloque de metadatos específico cuando existen varios bloques del mismo tipo.</span><span class="sxs-lookup"><span data-stu-id="0c710-167">Index notation provides access to a specific metadata block when multiple blocks of the same type exist.</span></span> <span data-ttu-id="0c710-168">En el ejemplo JPEG, se puede usar la siguiente expresión de ruta de acceso indizada:</span><span class="sxs-lookup"><span data-stu-id="0c710-168">For the JPEG example, the following indexed path expression can be used:</span></span>

-   <span data-ttu-id="0c710-169">/\[0 \] app1/ \[ 0 \] IFD</span><span class="sxs-lookup"><span data-stu-id="0c710-169">/\[0\]app1/\[0\]ifd</span></span>

<span data-ttu-id="0c710-170">En el lenguaje de consulta, todos los índices comienzan en cero.</span><span class="sxs-lookup"><span data-stu-id="0c710-170">In the query language, all indexes start at zero.</span></span> <span data-ttu-id="0c710-171">En la expresión anterior, las primeras cero consultas del primer bloque app1 y el segundo cero consultan el primer bloque IFD anidado.</span><span class="sxs-lookup"><span data-stu-id="0c710-171">In the previous expression, the first zero queries for the first App1 block and the second zero queries the first nested IFD block.</span></span> <span data-ttu-id="0c710-172">Aún se puede usar la notación de índice aunque no existan varios bloques del mismo tipo.</span><span class="sxs-lookup"><span data-stu-id="0c710-172">Index notation can still be used even when multiple blocks of the same type do not exist.</span></span> <span data-ttu-id="0c710-173">Si el ejemplo JPEG incluía un segundo bloque app1 con un bloque IFD incrustado, se utilizaría la expresión "/ \[ 1 \] app1/IFD" para tener acceso al segundo bloque app1.</span><span class="sxs-lookup"><span data-stu-id="0c710-173">If the example JPEG included a second App1 block with an embedded IFD block, the expression "/\[1\]app1/ifd" would be used to access the second App1 block.</span></span>

<span data-ttu-id="0c710-174">La notación de índice es más común cuando se trabaja con fragmentos de texto PNG, ya que es probable que la imagen PNG tenga más de un fragmento de texto.</span><span class="sxs-lookup"><span data-stu-id="0c710-174">Index notation becomes more common when dealing with PNG tEXt chunks because it is likely that the PNG image will have more than one tEXt chunk.</span></span>

> [!Note]  
> <span data-ttu-id="0c710-175">No se admiten índices de matriz multidimensionales.</span><span class="sxs-lookup"><span data-stu-id="0c710-175">Multidimensional array indexes are not supported.</span></span>

 

### <a name="item-selection"></a><span data-ttu-id="0c710-176">Selección de elementos</span><span class="sxs-lookup"><span data-stu-id="0c710-176">Item Selection</span></span>

<span data-ttu-id="0c710-177">Puede acceder a los elementos de metadatos en un bloque de metadatos mediante la generación de expresiones de selección de bloques.</span><span class="sxs-lookup"><span data-stu-id="0c710-177">You can access the metadata items in a metadata block by building on the block selection expressions.</span></span> <span data-ttu-id="0c710-178">Considere las propiedades XMP y Microsoft Photo rating en el ejemplo JPEG.</span><span class="sxs-lookup"><span data-stu-id="0c710-178">Consider the XMP and Microsoft Photo rating properties in the JPEG example.</span></span> <span data-ttu-id="0c710-179">Estos metadatos existen en dos bloques de metadatos: los bloques app1/IFD y XMP.</span><span class="sxs-lookup"><span data-stu-id="0c710-179">This metadata exists in two metadata blocks: the App1/IFD and XMP blocks.</span></span> <span data-ttu-id="0c710-180">Por lo tanto, se puede utilizar más de una expresión para tener acceso a los mismos datos.</span><span class="sxs-lookup"><span data-stu-id="0c710-180">Therefore, more than one expression can be used to access the same data.</span></span> <span data-ttu-id="0c710-181">La siguiente expresión tiene acceso a la clasificación MicrosoftPhoto en el bloque XMP:</span><span class="sxs-lookup"><span data-stu-id="0c710-181">The following expression accesses the MicrosoftPhoto rating in the XMP block:</span></span>

-   <span data-ttu-id="0c710-182">/XMP/XMP: clasificación</span><span class="sxs-lookup"><span data-stu-id="0c710-182">/xmp/xmp:Rating</span></span>

<span data-ttu-id="0c710-183">La parte "XMP:" de la expresión es un identificador descriptivo del esquema.</span><span class="sxs-lookup"><span data-stu-id="0c710-183">The "xmp:" part of the expression is a schema friendly identifier.</span></span> <span data-ttu-id="0c710-184">XMP es un estándar extensible que permite a las entidades de terceros publicar sus propios esquemas, que definen cómo almacenar determinados elementos de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-184">XMP is an extensible standard and allows third party entities to publish their own schemas which define how to store certain metadata items.</span></span> <span data-ttu-id="0c710-185">Un esquema XMP se identifica por completo mediante una dirección URL, pero WIC proporciona un conjunto de identificadores descriptivos para los esquemas conocidos.</span><span class="sxs-lookup"><span data-stu-id="0c710-185">An XMP schema is fully identified by a URL, but WIC provides a set of friendly identifiers for well-known schemas.</span></span> <span data-ttu-id="0c710-186">Para obtener más información, vea el tema [consultas de metadatos de formato de imagen nativa](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="0c710-186">For more information, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

<span data-ttu-id="0c710-187">En el caso de las imágenes JPEG, la información de clasificación también puede almacenarse en el bloque IFD anidado de app1.</span><span class="sxs-lookup"><span data-stu-id="0c710-187">For JPEG images, rating information can also be stored within the App1 nested IFD block.</span></span> <span data-ttu-id="0c710-188">Sin embargo, a diferencia del ejemplo de clasificación XMP, el bloque IFD no usa un nombre de esquema para tener acceso a la información de clasificación.</span><span class="sxs-lookup"><span data-stu-id="0c710-188">However, unlike the XMP rating example, the IFD block does not use a schema name to access the rating information.</span></span> <span data-ttu-id="0c710-189">En su lugar, se usa una expresión de datos.</span><span class="sxs-lookup"><span data-stu-id="0c710-189">You use a data expression instead.</span></span> <span data-ttu-id="0c710-190">La siguiente expresión se usa para acceder a la clasificación MicrosoftPhoto en el bloque IFD anidado de app1:</span><span class="sxs-lookup"><span data-stu-id="0c710-190">The following expression is used to access the MicrosoftPhoto rating in the App1 nested IFD block:</span></span>

-   <span data-ttu-id="0c710-191">/app1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="0c710-191">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="0c710-192">En esta expresión, la parte "/app1/IFD" de la expresión es la ruta de navegación al bloque IFD (como se explicó anteriormente en la sección selección de bloques).</span><span class="sxs-lookup"><span data-stu-id="0c710-192">In this expression, the "/app1/ifd" part of the expression is the navigation path to the IFD block (as discussed previously in the Block Selection section).</span></span> <span data-ttu-id="0c710-193">La segunda parte de la expresión "/{ushort = 18249}" tiene acceso a los datos.</span><span class="sxs-lookup"><span data-stu-id="0c710-193">The second part of the expression "/{ushort=18249}" accesses the data.</span></span> <span data-ttu-id="0c710-194">Esta parte de la expresión indica al analizador de consultas que busque los datos incrustados en la etiqueta corta sin signo que tiene el identificador de etiqueta 18249.</span><span class="sxs-lookup"><span data-stu-id="0c710-194">This part of the expression instructs the query parser to find the data embedded in the unsigned short tag that has the tag identifier 18249.</span></span>

> [!Note]  
> <span data-ttu-id="0c710-195">Para obtener una lista de formatos de metadatos comunes admitidos por cada formato de imagen en, vea el tema [consultas de metadatos de formato de imagen nativa](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="0c710-195">For a list of common metadata formats supported by each image format at, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

 

<span data-ttu-id="0c710-196">{Ushort = 18249} es una expresión de datos y puede adoptar varias formas.</span><span class="sxs-lookup"><span data-stu-id="0c710-196">The {ushort=18249} is a data expression and can take several forms.</span></span> <span data-ttu-id="0c710-197">Una expresión de datos es una expresión de dos partes que contiene la etiqueta o la clave de metadatos solicitada, en este caso "18249", y el tipo de datos de la clave, en este caso "ushort".</span><span class="sxs-lookup"><span data-stu-id="0c710-197">A data expression is a two part expression containing the requested metadata tag or key, in this case "18249", and the data type of the key, in this case "ushort".</span></span> <span data-ttu-id="0c710-198">Las dos partes se separan con un signo igual (=).</span><span class="sxs-lookup"><span data-stu-id="0c710-198">The two parts are separated by an equal sign (=).</span></span> <span data-ttu-id="0c710-199">WICsupports la mayoría de los tipos de datos comunes de C/C++.</span><span class="sxs-lookup"><span data-stu-id="0c710-199">WICsupports a majority of the common C/C++ data types.</span></span> <span data-ttu-id="0c710-200">El lenguaje de consulta acepta los siguientes tipos de datos:</span><span class="sxs-lookup"><span data-stu-id="0c710-200">The following data types are accepted by the query language:</span></span>

-   <span data-ttu-id="0c710-201">char</span><span class="sxs-lookup"><span data-stu-id="0c710-201">char</span></span>
-   <span data-ttu-id="0c710-202">uchar</span><span class="sxs-lookup"><span data-stu-id="0c710-202">uchar</span></span>
-   <span data-ttu-id="0c710-203">short</span><span class="sxs-lookup"><span data-stu-id="0c710-203">short</span></span>
-   <span data-ttu-id="0c710-204">ushort</span><span class="sxs-lookup"><span data-stu-id="0c710-204">ushort</span></span>
-   <span data-ttu-id="0c710-205">long</span><span class="sxs-lookup"><span data-stu-id="0c710-205">long</span></span>
-   <span data-ttu-id="0c710-206">ulong</span><span class="sxs-lookup"><span data-stu-id="0c710-206">ulong</span></span>
-   <span data-ttu-id="0c710-207">int</span><span class="sxs-lookup"><span data-stu-id="0c710-207">int</span></span>
-   <span data-ttu-id="0c710-208">uint</span><span class="sxs-lookup"><span data-stu-id="0c710-208">uint</span></span>
-   <span data-ttu-id="0c710-209">longlong</span><span class="sxs-lookup"><span data-stu-id="0c710-209">longlong</span></span>
-   <span data-ttu-id="0c710-210">FLOAT</span><span class="sxs-lookup"><span data-stu-id="0c710-210">float</span></span>
-   <span data-ttu-id="0c710-211">double</span><span class="sxs-lookup"><span data-stu-id="0c710-211">double</span></span>
-   <span data-ttu-id="0c710-212">str</span><span class="sxs-lookup"><span data-stu-id="0c710-212">str</span></span>
-   <span data-ttu-id="0c710-213">wstr</span><span class="sxs-lookup"><span data-stu-id="0c710-213">wstr</span></span>
-   <span data-ttu-id="0c710-214">guid</span><span class="sxs-lookup"><span data-stu-id="0c710-214">guid</span></span>
-   <span data-ttu-id="0c710-215">bool</span><span class="sxs-lookup"><span data-stu-id="0c710-215">bool</span></span>

> [!Note]  
> <span data-ttu-id="0c710-216">En esta lista solo se especifican los tipos de datos admitidos por el lenguaje de consulta de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-216">This list only specifies the data types supported by the metadata query language.</span></span> <span data-ttu-id="0c710-217">Use estos tipos de datos al crear una expresión de datos de consulta de metadatos, como {ushort = 18249}.</span><span class="sxs-lookup"><span data-stu-id="0c710-217">Use these data types when creating a metadata query data expression such as {ushort=18249}.</span></span> <span data-ttu-id="0c710-218">WIC devuelve el valor del elemento de metadatos en forma de PROPVARIANT, que define su propio sistema de tipos.</span><span class="sxs-lookup"><span data-stu-id="0c710-218">The WIC returns the metadata item's value in the form of PROPVARIANT, which defines its own type system.</span></span>

 

<span data-ttu-id="0c710-219">"18249" en el ejemplo es la etiqueta de datos.</span><span class="sxs-lookup"><span data-stu-id="0c710-219">The "18249" in the example is the data tag.</span></span> <span data-ttu-id="0c710-220">Microsoft define este número concreto para que contenga la clasificación MicrosoftPhoto.</span><span class="sxs-lookup"><span data-stu-id="0c710-220">This particular number is defined by Microsoft to contain the MicrosoftPhoto rating.</span></span> <span data-ttu-id="0c710-221">La etiqueta de datos puede ser cualquier número, cadena o GUID según el elemento de datos que esté buscando.</span><span class="sxs-lookup"><span data-stu-id="0c710-221">The data tag can be any number, string, or GUID depending on the data item you are looking for</span></span>

<span data-ttu-id="0c710-222">A diferencia del ejemplo de clasificación XMP, no hay ningún conflicto de nombres para el valor de clasificación en el bloque app1/IFD.</span><span class="sxs-lookup"><span data-stu-id="0c710-222">Unlike the XMP Rating example, there is no name collision for the rating value in the App1/IFD block.</span></span> <span data-ttu-id="0c710-223">Esto se debe a que el valor de clasificación XMP se almacena realmente en una etiqueta ushort diferente, 18246.</span><span class="sxs-lookup"><span data-stu-id="0c710-223">This is because the XMP rating value is actually stored under a different ushort tag, 18246.</span></span> <span data-ttu-id="0c710-224">Por lo tanto, la expresión para tener acceso a la clasificación XMP en el bloque app1/IFD es:</span><span class="sxs-lookup"><span data-stu-id="0c710-224">Thus, the expression to access the XMP rating in the App1/IFD block is:</span></span>

-   <span data-ttu-id="0c710-225">/app1/IFD/{ushort = 18246}</span><span class="sxs-lookup"><span data-stu-id="0c710-225">/app1/ifd/{ushort=18246}</span></span>

> [!Note]  
> <span data-ttu-id="0c710-226">Para obtener una descripción formal del lenguaje de consulta de metadatos, vea la sección Resumen del lenguaje de consulta de metadatos más adelante en este documento.</span><span class="sxs-lookup"><span data-stu-id="0c710-226">For a formal description of the metadata query language, see the Metadata Query Language Summary section later in this document.</span></span>

 

### <a name="escape-character"></a><span data-ttu-id="0c710-227">Carácter de escape</span><span class="sxs-lookup"><span data-stu-id="0c710-227">Escape Character</span></span>

<span data-ttu-id="0c710-228">El lenguaje de consulta no distingue entre mayúsculas y minúsculas y trata todos los caracteres en minúsculas.</span><span class="sxs-lookup"><span data-stu-id="0c710-228">The query language is not case sensitive and treats all characters as lowercase.</span></span> <span data-ttu-id="0c710-229">Sin embargo, algunos formatos de metadatos (como XMP) distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="0c710-229">However, some metadata formats (such as XMP) are case sensitive.</span></span> <span data-ttu-id="0c710-230">Cuando trabaje con un formato de metadatos que distinga entre mayúsculas y minúsculas, utilice el carácter de barra diagonal inversa ( \\ ) Si desea especificar un carácter en mayúsculas.</span><span class="sxs-lookup"><span data-stu-id="0c710-230">When working with a case-sensitive metadata format, use the backslash (\\) character when you want to specify an uppercase character.</span></span>

<span data-ttu-id="0c710-231">El analizador de lenguaje usa el carácter de escape y el siguiente carácter se interpreta directamente.</span><span class="sxs-lookup"><span data-stu-id="0c710-231">The escape character is consumed by the language parser and the following character that follows it is interpreted directly.</span></span> <span data-ttu-id="0c710-232">Por ejemplo, la expresión {char = \\ \\ } se resuelve como ' \\ ' y {char = \\ C} se resuelve como una C en mayúsculas. Sin el carácter de escape, {Char = \\ } sería una expresión no válida y {char = C} se interpretaría como C minúscula.</span><span class="sxs-lookup"><span data-stu-id="0c710-232">For example, the expression {char=\\\\} is resolved as '\\'and {char=\\C} is resolved as an uppercase C. Without the escape character, {char=\\} would be an invalid expression and {char=C} would be interpreted as a lowercase c.</span></span> <span data-ttu-id="0c710-233">Asegúrese de usar el carácter de escape de barra diagonal inversa delante de todas las letras mayúsculas en formatos de metadatos que distinguen mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="0c710-233">Be sure to use the backslash escape character before all uppercase letters in metadata formats that are case sensitive.</span></span>

### <a name="sample-expressions"></a><span data-ttu-id="0c710-234">Ejemplos de expresiones</span><span class="sxs-lookup"><span data-stu-id="0c710-234">Sample Expressions</span></span>

<span data-ttu-id="0c710-235">En la tabla siguiente se proporcionan algunas expresiones de ejemplo y descripciones de sus interpretaciones por parte del analizador del lenguaje de consulta.</span><span class="sxs-lookup"><span data-stu-id="0c710-235">The following table provides some example expressions and descriptions of their interpretations by the query language parser.</span></span> 

| <span data-ttu-id="0c710-236">Expression</span><span class="sxs-lookup"><span data-stu-id="0c710-236">Expression</span></span>                     | <span data-ttu-id="0c710-237">Descripción</span><span class="sxs-lookup"><span data-stu-id="0c710-237">Description</span></span>                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0c710-238">IFD/XMP/Exif: autor</span><span class="sxs-lookup"><span data-stu-id="0c710-238">ifd/xmp/exif:Author</span></span>            | <span data-ttu-id="0c710-239">Corresponde a la siguiente ruta de navegación: IFD Block-> XMP Block-> la propiedad "author" del esquema "EXIF".</span><span class="sxs-lookup"><span data-stu-id="0c710-239">Corresponds to the following navigation path: IFD block -> XMP block -> "Author" property in the "Exif" schema.</span></span>                                                                                                                                                                                                                                            |
| <span data-ttu-id="0c710-240">/\[1 \] IFD/ \[ 0 \] XMP/Exif: autor</span><span class="sxs-lookup"><span data-stu-id="0c710-240">/\[1\]ifd/\[0\]xmp/exif:Author</span></span> | <span data-ttu-id="0c710-241">Igual que el primer elemento de esta tabla, salvo que el \[ \# \] prefijo describe el elemento al que se debe navegar en caso de que se produzca un conflicto de nombres.</span><span class="sxs-lookup"><span data-stu-id="0c710-241">Same as the first item in this table except that the \[\#\] prefix describes which item to navigate in event of a name collision.</span></span>                                                                                                                                                                                                                                |
| <span data-ttu-id="0c710-242">/IFD/{ushort = 700}/Author</span><span class="sxs-lookup"><span data-stu-id="0c710-242">/ifd/{ushort=700}/Author</span></span>       | <span data-ttu-id="0c710-243">Igual que el primer elemento de esta tabla, salvo que usa una expresión de datos para hacer referencia al bloque XMP en lugar del nombre de bloque "XMP" (el bloque XMP se inserta en el identificador de etiqueta corto sin signo 700).</span><span class="sxs-lookup"><span data-stu-id="0c710-243">Same as the first item in this table except that it uses a data expression to reference the XMP block instead of the block name "xmp" (XMP block is embedded under the unsigned short tag identifier 700).</span></span> <span data-ttu-id="0c710-244">Además, la propiedad "author" no especifica un esquema.</span><span class="sxs-lookup"><span data-stu-id="0c710-244">Also, the "Author" property does not specify a schema.</span></span> <span data-ttu-id="0c710-245">El analizador de consultas intentará hacer coincidir la propiedad en todos los esquemas y devolverá la primera coincidencia.</span><span class="sxs-lookup"><span data-stu-id="0c710-245">The query parser will try to match the property across all schemas and return the first match.</span></span> |
| <span data-ttu-id="0c710-246">/ifd/xmp</span><span class="sxs-lookup"><span data-stu-id="0c710-246">/ifd/xmp</span></span>                       | <span data-ttu-id="0c710-247">Proporciona una ruta de navegación a un bloque de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-247">Provides a navigation path to a metadata block.</span></span> <span data-ttu-id="0c710-248">Si se encuentra el bloque, se devuelve un nuevo lector/escritor de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-248">If the block is found, a new metadata reader/writer is returned.</span></span>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="0c710-249">/\[\*\]Texto/palabra clave</span><span class="sxs-lookup"><span data-stu-id="0c710-249">/\[\*\]tEXt/Keyword</span></span>            | <span data-ttu-id="0c710-250">Obtiene o establece la propiedad de palabra clave para un fragmento PNG.</span><span class="sxs-lookup"><span data-stu-id="0c710-250">Gets or sets the Keyword property for a PNG chunk.</span></span> <span data-ttu-id="0c710-251">Dado que la especificación de metadatos PNG permite varios fragmentos de un tipo determinado, la \[ \* \] notación obtiene o establece el fragmento PNG de datos con la propiedad adecuada.</span><span class="sxs-lookup"><span data-stu-id="0c710-251">Because the PNG metadata specification allows for multiple chunks of a particular type, the \[\*\] notation gets/sets the data PNG chunk with the appropriate property.</span></span> <span data-ttu-id="0c710-252">Según la especificación PNG, dos fragmentos no pueden tener las mismas propiedades.</span><span class="sxs-lookup"><span data-stu-id="0c710-252">Per the PNG specification, no two chunks can have the same properties.</span></span>                                                                |



 

<span data-ttu-id="0c710-253">Cada bloque de metadatos también se identifica de forma única mediante el GUID de metadatos que se puede utilizar en lugar del nombre descriptivo del bloque.</span><span class="sxs-lookup"><span data-stu-id="0c710-253">Each metadata block is also uniquely identified by the metadata GUID which can be used in place of the friendly block name.</span></span> <span data-ttu-id="0c710-254">Se puede usar la sintaxis siguiente en lugar de proporcionar nombres de bloque: "/{GUID = GUID}/ \[ n \] {GUID = GUID}/Schema: tagidentifier"</span><span class="sxs-lookup"><span data-stu-id="0c710-254">The following syntax can be used in place of providing block names: "/{guid=GUID}/\[n\]{guid=GUID}/schema:tagidentifier"</span></span>

<span data-ttu-id="0c710-255">En la tabla siguiente se proporcionan algunos ejemplos no válidos y los motivos por los que se rechazarán.</span><span class="sxs-lookup"><span data-stu-id="0c710-255">The following table provides some invalid examples and the reasons they would be rejected.</span></span> 

| <span data-ttu-id="0c710-256">Expresión no válida</span><span class="sxs-lookup"><span data-stu-id="0c710-256">Invalid Expression</span></span>         | <span data-ttu-id="0c710-257">Descripción de rechazo</span><span class="sxs-lookup"><span data-stu-id="0c710-257">Rejection description</span></span>                                                                                                                                                  |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0c710-258">/IFD/ \[ 0 \] \[ 2 \] EXIF/</span><span class="sxs-lookup"><span data-stu-id="0c710-258">/ifd/\[0\]\[2\]exif/</span></span>       | <span data-ttu-id="0c710-259">Rechazado porque no se admiten índices de matriz multidimensionales.</span><span class="sxs-lookup"><span data-stu-id="0c710-259">Rejected because multi dimensional array indexes are not supported.</span></span>                                                                                                    |
| <span data-ttu-id="0c710-260">/IFD/{ushort = 1}/{ushort = 2}</span><span class="sxs-lookup"><span data-stu-id="0c710-260">/ifd/{ushort=1}/{ushort=2}</span></span> | <span data-ttu-id="0c710-261">Rechazado a menos que el IFD tenga un tagID = 1 que sea un controlador de metadatos que contenga un elemento de metadatos con tagID = 2.</span><span class="sxs-lookup"><span data-stu-id="0c710-261">Rejected unless the IFD has a tagID=1 which is a metadata handler that contains a metadata item with a tagID=2.</span></span>                                                        |
| <span data-ttu-id="0c710-262">/{ushort = 1}</span><span class="sxs-lookup"><span data-stu-id="0c710-262">/{ushort=1}</span></span>                | <span data-ttu-id="0c710-263">Se rechaza si el procesamiento de la consulta es relativo a un nivel superior de la jerarquía de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-263">Rejected if the query processing is relative to a top level of the metadata hierarchy.</span></span> <span data-ttu-id="0c710-264">Esto se debe a que el nivel superior solo contiene bloques de metadatos y no elementos de datos.</span><span class="sxs-lookup"><span data-stu-id="0c710-264">This is because the top level contains only metadata blocks and not data items.</span></span> |



 

## <a name="photo-metadata-policy-expressions"></a><span data-ttu-id="0c710-265">Expresiones de la Directiva de metadatos de fotos</span><span class="sxs-lookup"><span data-stu-id="0c710-265">Photo Metadata Policy Expressions</span></span>

<span data-ttu-id="0c710-266">Como se indicó anteriormente, una expresión de consulta completa se inicia con una barra diagonal (/).</span><span class="sxs-lookup"><span data-stu-id="0c710-266">As noted previously, a fully qualified query expression starts with a slash (/).</span></span> <span data-ttu-id="0c710-267">Las expresiones que no comienzan con la barra diagonal se evalúan como expresiones de directiva.</span><span class="sxs-lookup"><span data-stu-id="0c710-267">Expressions that do not begin with the slash are evaluated as policy expressions.</span></span> <span data-ttu-id="0c710-268">Una expresión de directiva le permite consultar los metadatos de la fotografía para [las propiedades del shell](https://msdn.microsoft.com/library/ms788673(VS.85).aspx)de Windows relacionadas con la imagen.</span><span class="sxs-lookup"><span data-stu-id="0c710-268">A policy expression enables you to query the photo metadata for image-related Windows [Shell Properties](https://msdn.microsoft.com/library/ms788673(VS.85).aspx).</span></span> <span data-ttu-id="0c710-269">En la sección de selección de datos anteriormente en este documento, se usó la expresión "/XMP/XMP: rating" para tener acceso a la propiedad de clasificación XMP.</span><span class="sxs-lookup"><span data-stu-id="0c710-269">In the Data Selection section earlier in this document, the expression "/xmp/xmp:Rating" was used to access the XMP rating property.</span></span> <span data-ttu-id="0c710-270">Esta propiedad también se puede consultar mediante la siguiente expresión de directiva:</span><span class="sxs-lookup"><span data-stu-id="0c710-270">This property can also be queried using the following policy expression:</span></span>

-   <span data-ttu-id="0c710-271">System. SimpleRating</span><span class="sxs-lookup"><span data-stu-id="0c710-271">System.SimpleRating</span></span>

<span data-ttu-id="0c710-272">Para tener acceso a la propiedad rating del esquema MicrosoftPhoto, se puede usar la siguiente expresión de consulta:</span><span class="sxs-lookup"><span data-stu-id="0c710-272">To access the rating property from the MicrosoftPhoto schema, the following query expression can be used:</span></span>

-   <span data-ttu-id="0c710-273">System. Rating</span><span class="sxs-lookup"><span data-stu-id="0c710-273">System.Rating</span></span>

<span data-ttu-id="0c710-274">Las expresiones de directiva de metadatos de fotos se comportan de manera diferente a las consultas de metadatos completas de algunas maneras importantes.</span><span class="sxs-lookup"><span data-stu-id="0c710-274">Photo metadata policy expressions behave differently from fully qualified metadata queries in a few notable ways.</span></span>

<span data-ttu-id="0c710-275">En primer lugar, al tener acceso a los metadatos mediante una expresión de Directiva, WIC realiza el arbitraje y la resolución de conflictos en caso de que la misma propiedad esté disponible en varios bloques de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-275">First, when accessing metadata using a policy expression, WIC performs arbitration and conflict resolution in the case that the same property is available in multiple metadata blocks.</span></span> <span data-ttu-id="0c710-276">Por ejemplo, los valores de clasificación MicrosoftPhoto y XMP se almacenan en el bloque app1/IFD y en el bloque XMP.</span><span class="sxs-lookup"><span data-stu-id="0c710-276">For instance, both the MicrosoftPhoto and the XMP rating values are stored in both the App1/IFD block and the XMP block.</span></span> <span data-ttu-id="0c710-277">La Directiva de metadatos de fotos determina la prioridad para la que se devuelve el valor de bloque al leer los metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-277">The photo metadata policy determines the precedence for which block value is returned when reading metadata.</span></span> <span data-ttu-id="0c710-278">Cuando se escriben metadatos, la Directiva de metadatos de fotos garantiza que las mismas propiedades en diferentes bloques sean coherentes.</span><span class="sxs-lookup"><span data-stu-id="0c710-278">When you are writing metadata, the photo metadata policy ensures that the same properties in different blocks are consistent.</span></span> <span data-ttu-id="0c710-279">Si usa una consulta de metadatos como "/XMP/XMP: rating", es responsabilidad suya arbitrar entre las distintas ubicaciones de los metadatos.</span><span class="sxs-lookup"><span data-stu-id="0c710-279">If you use a metadata query such as "/xmp/xmp:Rating", you are responsible for arbitrating between the various metadata locations.</span></span>

> [!Note]  
> <span data-ttu-id="0c710-280">Para obtener una lista de las expresiones de directiva admitidas y sus directivas de asignación, consulte el tema sobre las [directivas de metadatos de fotos](photo-metadata-policies.md) .</span><span class="sxs-lookup"><span data-stu-id="0c710-280">For a list of the supported policy expressions and their mapping policies, see the [Photo Metadata Policies](photo-metadata-policies.md) topic.</span></span>

 

<span data-ttu-id="0c710-281">En segundo lugar, las expresiones de directiva de metadatos de fotos son independientes del formato de imagen, mientras que las consultas de metadatos completas no lo son.</span><span class="sxs-lookup"><span data-stu-id="0c710-281">Second, photo metadata policy expressions are independent of the image format, while fully qualified metadata queries are not.</span></span> <span data-ttu-id="0c710-282">Por ejemplo, la consulta "/XMP/XMP: rating" es específica del formato JPEG.</span><span class="sxs-lookup"><span data-stu-id="0c710-282">For example, the "/xmp/xmp:Rating" query is specific to the JPEG format.</span></span> <span data-ttu-id="0c710-283">Las imágenes TIFF también admiten metadatos XMP, pero se almacenan de forma diferente en comparación con JPEG, por lo que la consulta TIFF sería "/IFD/XMP/XMP: rating".</span><span class="sxs-lookup"><span data-stu-id="0c710-283">TIFF images also support XMP metadata, but it is stored differently compared to JPEG, so the TIFF query would be “/ifd/xmp/xmp:Rating”.</span></span> <span data-ttu-id="0c710-284">Sin embargo, en ambos casos la expresión de directiva sería "System. SimpleRating".</span><span class="sxs-lookup"><span data-stu-id="0c710-284">However, in both cases the policy expression would be “System.SimpleRating”.</span></span>

<span data-ttu-id="0c710-285">Las expresiones de las directivas de metadatos de fotos proporcionan un nivel más alto de abstracción y simplicidad cuando se comparan con las consultas de metadatos completas, por lo que es preferible en los casos en los que no se necesita acceso a los metadatos de bajo nivel.</span><span class="sxs-lookup"><span data-stu-id="0c710-285">Photo metadata policy expressions provide a higher level of abstraction and simplicity when compared to fully qualified metadata queries, and so should be preferred in cases where low-level metadata access is not needed.</span></span> <span data-ttu-id="0c710-286">Sin embargo, las expresiones de directiva solo proporcionan acceso a un conjunto limitado de metadatos de imagen, mientras que el lenguaje de consulta de metadatos proporciona acceso a casi todos los metadatos almacenados en un archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="0c710-286">However, policy expressions only provide access to a limited set of image metadata, whereas the metadata query language provides access to nearly all of the metadata stored within an image file.</span></span>

## <a name="metadata-query-language-summary"></a><span data-ttu-id="0c710-287">Resumen del lenguaje de consulta de metadatos</span><span class="sxs-lookup"><span data-stu-id="0c710-287">Metadata Query Language Summary</span></span>

<span data-ttu-id="0c710-288">La tabla siguiente es una definición formal del lenguaje de consulta de metadatos de WIC.</span><span class="sxs-lookup"><span data-stu-id="0c710-288">The following table is a formal definition of the WIC metadata query language.</span></span> <span data-ttu-id="0c710-289">Cada símbolo de gramática representa una expresión formada por otros símbolos.</span><span class="sxs-lookup"><span data-stu-id="0c710-289">Each grammar symbol represents an expression made up of other symbols.</span></span> <span data-ttu-id="0c710-290">La expresión puede ser otro símbolo o una secuencia de otros símbolos separados por la barra vertical ( \| ), lo que indica una opción "or".</span><span class="sxs-lookup"><span data-stu-id="0c710-290">The expression can be another symbol or a sequence of other symbols separated by the vertical bar (\|), indicating an "or" choice.</span></span> <span data-ttu-id="0c710-291">Toda la expresión de la derecha es una sustitución posible para el símbolo especificado de la izquierda.</span><span class="sxs-lookup"><span data-stu-id="0c710-291">The whole expression on the right is a possible substitution for the specified symbol on the left.</span></span> 

| <span data-ttu-id="0c710-292">Símbolo</span><span class="sxs-lookup"><span data-stu-id="0c710-292">Symbol</span></span>                   | <span data-ttu-id="0c710-293">Expression</span><span class="sxs-lookup"><span data-stu-id="0c710-293">Expression</span></span>                                                                                                                                                                  |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \<path>             | <span data-ttu-id="0c710-294">\<name> \| '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="0c710-294">\<name> \| '/' \<property path></span></span>                                                                                                                                   |
| \<property path>    | <span data-ttu-id="0c710-295">\<metadata item> \| \<property path> '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="0c710-295">\<metadata item> \| \<property path> '/' \<property path></span></span>                                                                                                    |
| \<metadata item>    | <span data-ttu-id="0c710-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span><span class="sxs-lookup"><span data-stu-id="0c710-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span></span>                                                                                        |
| \<schema name>      | \<item name>                                                                                                                                                           |
| \<item name>        | <span data-ttu-id="0c710-297">\<metadata item> \| <indexed item><index></span><span class="sxs-lookup"><span data-stu-id="0c710-297">\<metadata item> \| <indexed item><index></span></span>                                                                                                                  |
| \<indexed item>     | <span data-ttu-id="0c710-298">\<item> \| \<implied metadata>\<item></span><span class="sxs-lookup"><span data-stu-id="0c710-298">\<item> \| \<implied metadata>\<item></span></span>                                                                                                                        |
| \<implied metadata> | <span data-ttu-id="0c710-299">' < ' \<name> ' > '</span><span class="sxs-lookup"><span data-stu-id="0c710-299">'<'\<name>'>'</span></span>                                                                                                                                                    |
| \<item>             | <span data-ttu-id="0c710-300">\<name> \| \<index> \<data> \| \<data></span><span class="sxs-lookup"><span data-stu-id="0c710-300">\<name> \| \<index> \<data> \| \<data></span></span>                                                                                                                  |
| \<data>             | <span data-ttu-id="0c710-301">'{' \<data type> '=' \<value> '}'</span><span class="sxs-lookup"><span data-stu-id="0c710-301">'{' \<data type> '=' \<value> '}'</span></span>                                                                                                                                 |
| \<index>            | <span data-ttu-id="0c710-302">'\[' \<number> \| \<star> '\]'</span><span class="sxs-lookup"><span data-stu-id="0c710-302">'\[' \<number> \| \<star> '\]'</span></span>                                                                                                                                    |
| \<data type>        | <span data-ttu-id="0c710-303">' char ' \| ' uchar ' \| ' Short ' \| ' ushort ' \| ' Long ' ' \| ULong ' \| ' int ' \| ' uint ' \| ' LongLong ' ' \| ulonglong ' \| ' Float ' \| ' Double ' \| ' str ' \| ' wstr ' \| ' GUID ' \| ' bool '</span><span class="sxs-lookup"><span data-stu-id="0c710-303">'char' \| 'uchar' \| 'short' \| 'ushort' \| 'long' \| 'ulong' \| 'int' \| 'uint' \| 'longlong' \| 'ulonglong' \| 'float' \| 'double' \| 'str' \| 'wstr' \| 'guid' \| 'bool'</span></span> |
| \<data value>       | <span data-ttu-id="0c710-304">\<number> \| \<name> \| \<guid></span><span class="sxs-lookup"><span data-stu-id="0c710-304">\<number> \| \<name> \| \<guid></span></span>                                                                                                                              |
| \<star>             | <span data-ttu-id="0c710-305">'\*'</span><span class="sxs-lookup"><span data-stu-id="0c710-305">'\*'</span></span>                                                                                                                                                                        |
| \<number>           | <span data-ttu-id="0c710-306">number</span><span class="sxs-lookup"><span data-stu-id="0c710-306">number</span></span>                                                                                                                                                                      |
| \<name>             | <span data-ttu-id="0c710-307">string</span><span class="sxs-lookup"><span data-stu-id="0c710-307">string</span></span>                                                                                                                                                                      |
| \<guid>             | <span data-ttu-id="0c710-308">guid</span><span class="sxs-lookup"><span data-stu-id="0c710-308">guid</span></span>                                                                                                                                                                        |



 

## <a name="related-topics"></a><span data-ttu-id="0c710-309">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0c710-309">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="0c710-310">**Vista**</span><span class="sxs-lookup"><span data-stu-id="0c710-310">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="0c710-311">Información general sobre componentes de Windows Imaging</span><span class="sxs-lookup"><span data-stu-id="0c710-311">Windows Imaging Component Overview</span></span>](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[<span data-ttu-id="0c710-312">Información general sobre metadatos de WIC</span><span class="sxs-lookup"><span data-stu-id="0c710-312">WIC Metadata Overview</span></span>](-wic-about-metadata.md)
</dt> <dt>

[<span data-ttu-id="0c710-313">Información general sobre la lectura y escritura de metadatos de imagen</span><span class="sxs-lookup"><span data-stu-id="0c710-313">Overview of Reading and Writing Image Metadata</span></span>](-wic-codec-readingwritingmetadata.md)
</dt> <dt>

[<span data-ttu-id="0c710-314">Información general sobre la extensibilidad de metadatos</span><span class="sxs-lookup"><span data-stu-id="0c710-314">Metadata Extensibility Overview</span></span>](-wic-codec-metadatahandlers.md)
</dt> <dt>

[<span data-ttu-id="0c710-315">Cómo volver a codificar una imagen JPEG con metadatos</span><span class="sxs-lookup"><span data-stu-id="0c710-315">How-to: Re-encode a JPEG Image with Metadata</span></span>](-wic-codec-jpegmetadataencoding.md)
</dt> </dl>

 

 



