---
description: Acerca de las topologías
ms.assetid: 4f69b099-0ca7-4ea6-8412-0f1ea02e1600
title: Acerca de las topologías
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35008d839e8054554370039dd13297ae7a1f0b0a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104562295"
---
# <a name="about-topologies"></a><span data-ttu-id="da126-103">Acerca de las topologías</span><span class="sxs-lookup"><span data-stu-id="da126-103">About Topologies</span></span>

<span data-ttu-id="da126-104">Una topología es un objeto que representa cómo fluyen los datos en la canalización.</span><span class="sxs-lookup"><span data-stu-id="da126-104">A topology is an object that represents how data flows in the pipeline.</span></span> <span data-ttu-id="da126-105">Una aplicación crea una topología para describir la ruta de acceso que cada flujo toma del origen de medios a un receptor de medios.</span><span class="sxs-lookup"><span data-stu-id="da126-105">An application creates a topology to describe the path that each stream takes from the media source to a media sink.</span></span> <span data-ttu-id="da126-106">La aplicación pasa la topología a la sesión multimedia y la sesión multimedia utiliza la topología para controlar el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="da126-106">The application passes the topology to the Media Session, and the Media Session uses the topology to control the data flow.</span></span>

<span data-ttu-id="da126-107">Los componentes de procesamiento de datos de la canalización (orígenes multimedia, transformaciones y receptores multimedia) se representan en la topología como *nodos*.</span><span class="sxs-lookup"><span data-stu-id="da126-107">The data-processing components in the pipeline (media sources, transforms, and media sinks) are represented in the topology as *nodes*.</span></span> <span data-ttu-id="da126-108">El flujo de datos de un componente a otro se representa mediante una conexión entre los nodos.</span><span class="sxs-lookup"><span data-stu-id="da126-108">The flow of data from one component to another is represented by a connection between the nodes.</span></span> <span data-ttu-id="da126-109">Se definen los siguientes tipos de nodo:</span><span class="sxs-lookup"><span data-stu-id="da126-109">The following node types are defined:</span></span>

-   <span data-ttu-id="da126-110">Nodo de origen: representa una secuencia de medios en un origen de multimedia.</span><span class="sxs-lookup"><span data-stu-id="da126-110">Source node: Represents a media stream on a media source.</span></span>
-   <span data-ttu-id="da126-111">Nodo de transformación: representa una transformación de Media Foundation (MFT).</span><span class="sxs-lookup"><span data-stu-id="da126-111">Transform node: Represents a Media Foundation transform (MFT).</span></span>
-   <span data-ttu-id="da126-112">Nodo de salida: representa un receptor de flujo en un receptor de multimedia.</span><span class="sxs-lookup"><span data-stu-id="da126-112">Output node: Represents a stream sink on a media sink.</span></span>
-   <span data-ttu-id="da126-113">Tee node: representa una bifurcación en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="da126-113">Tee node: Represents a fork in the stream.</span></span> <span data-ttu-id="da126-114">Los nodos Tee son una excepción a la regla de que un nodo representa un objeto de canalización.</span><span class="sxs-lookup"><span data-stu-id="da126-114">Tee nodes are an exception to the rule that a node represents a pipeline object.</span></span> <span data-ttu-id="da126-115">A diferencia de otros tipos de nodo, el nodo Tee simplemente dirige el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="da126-115">Unlike other node types, the tee node simply directs the flow of data.</span></span>

<span data-ttu-id="da126-116">Una topología funcional debe contener al menos un nodo de origen conectado a un nodo de salida, posiblemente a través de uno o varios nodos de transformación.</span><span class="sxs-lookup"><span data-stu-id="da126-116">A functioning topology must contain at least one source node connected to an output node, possibly through one or more transform nodes.</span></span> <span data-ttu-id="da126-117">Por ejemplo, en el diagrama siguiente se muestra una topología simple con una secuencia.</span><span class="sxs-lookup"><span data-stu-id="da126-117">For example, the following diagram shows a simple topology with one stream.</span></span>

![diagrama que muestra una topología con un flujo.](images/topology01.png)

<span data-ttu-id="da126-119">En la reproducción de archivos, el nodo de transformación podría representar un descodificador y el nodo de salida representaría el representador de audio o vídeo.</span><span class="sxs-lookup"><span data-stu-id="da126-119">For file playback, the transform node might represent a decoder and the output node would represent the audio or video renderer.</span></span> <span data-ttu-id="da126-120">En cuanto a la codificación de archivos, el nodo de transformación representaría un codificador y el nodo de salida representaría un receptor de archivo, como el receptor de archivos ASF.</span><span class="sxs-lookup"><span data-stu-id="da126-120">For file encoding, the transform node would represent an encoder and the output node would represent an archive sink, such as the ASF file sink.</span></span>

<span data-ttu-id="da126-121">Si dos nodos están conectados, el nodo que produce los datos se denomina nodo *ascendente* y el nodo que recibe los datos se denomina nodo de *nivel inferior* .</span><span class="sxs-lookup"><span data-stu-id="da126-121">If two nodes are connected, the node that produces data is called the *upstream* node, and the node that receives data is called the *downstream* node.</span></span> <span data-ttu-id="da126-122">Por ejemplo, en el diagrama anterior, el nodo de origen se encuentra en el flujo ascendente del nodo de transformación.</span><span class="sxs-lookup"><span data-stu-id="da126-122">For example, in the previous diagram, the source node is upstream from the transform node.</span></span>

<span data-ttu-id="da126-123">En un par de nodos conectados, el punto de conexión en el nodo de nivel superior se denomina *salida*.</span><span class="sxs-lookup"><span data-stu-id="da126-123">In a pair of connected nodes, the connection point on the upstream node is called an *output*.</span></span> <span data-ttu-id="da126-124">El punto de conexión en el nodo de nivel inferior se denomina *entrada*.</span><span class="sxs-lookup"><span data-stu-id="da126-124">The connection point on the downstream node is called an *input*.</span></span> <span data-ttu-id="da126-125">En el diagrama siguiente se muestra un par de nodos con sus puntos de conexión y el flujo de datos entre ellos.</span><span class="sxs-lookup"><span data-stu-id="da126-125">The following diagram shows a pair of nodes with their connection points, and the flow of data between them.</span></span> <span data-ttu-id="da126-126">Los puntos de conexión no se representan como objetos independientes en la topología.</span><span class="sxs-lookup"><span data-stu-id="da126-126">The connection points are not represented as separate objects in the topology.</span></span> <span data-ttu-id="da126-127">Se especifican mediante el valor de índice en el objeto node.</span><span class="sxs-lookup"><span data-stu-id="da126-127">They are specified by index value on the node object.</span></span>

![diagrama que muestra dos nodos conectados.](images/topology04.png)

<span data-ttu-id="da126-129">Un nodo de origen no puede tener ninguna entrada.</span><span class="sxs-lookup"><span data-stu-id="da126-129">A source node cannot have any inputs.</span></span> <span data-ttu-id="da126-130">Por lo tanto, no puede haber ningún nodo de nivel superior desde un nodo de origen.</span><span class="sxs-lookup"><span data-stu-id="da126-130">Therefore, there cannot be any nodes upstream from a source node.</span></span> <span data-ttu-id="da126-131">De forma similar, un nodo de salida no puede tener salidas y no puede haber ningún nodo de nivel inferior desde un nodo de salida.</span><span class="sxs-lookup"><span data-stu-id="da126-131">Similarly, an output node cannot have outputs, and there cannot be any nodes downstream from an output node.</span></span> <span data-ttu-id="da126-132">Una cadena de nodos de un nodo de origen a un nodo de salida se denomina *rama* de la topología.</span><span class="sxs-lookup"><span data-stu-id="da126-132">A chain of nodes from a source node to an output node is called a *branch* of the topology.</span></span> <span data-ttu-id="da126-133">En el primer diagrama de este tema se muestra una topología con una sola rama.</span><span class="sxs-lookup"><span data-stu-id="da126-133">The first diagram in this topic shows a topology with a single branch.</span></span> <span data-ttu-id="da126-134">Por lo general, hay una rama por secuencia.</span><span class="sxs-lookup"><span data-stu-id="da126-134">Generally there is one branch per stream.</span></span> <span data-ttu-id="da126-135">Para reproducir un archivo con una secuencia de audio y una secuencia de vídeo, por ejemplo, se requiere una topología con dos bifurcaciones.</span><span class="sxs-lookup"><span data-stu-id="da126-135">To play a file with one audio stream and one video stream, for example, requires a topology with two branches.</span></span>

## <a name="partial-topologies"></a><span data-ttu-id="da126-136">Topologías parciales</span><span class="sxs-lookup"><span data-stu-id="da126-136">Partial Topologies</span></span>

<span data-ttu-id="da126-137">Una topología completa *o completa* contiene un nodo para cada objeto de canalización que se necesita.</span><span class="sxs-lookup"><span data-stu-id="da126-137">A complete or *full* topology contains a node for every pipeline object that is needed.</span></span> <span data-ttu-id="da126-138">Sin embargo, la aplicación no siempre tiene que crear una topología completa.</span><span class="sxs-lookup"><span data-stu-id="da126-138">However, the application does not always need to create a full topology.</span></span> <span data-ttu-id="da126-139">En su lugar, crea una topología *parcial* que omite uno o varios nodos de transformación.</span><span class="sxs-lookup"><span data-stu-id="da126-139">Instead, it creates a *partial* topology that omits one or more transform nodes.</span></span>

<span data-ttu-id="da126-140">La sesión multimedia completa la topología mediante un objeto denominado *cargador de topología*.</span><span class="sxs-lookup"><span data-stu-id="da126-140">The Media Session completes the topology by using an object called the *topology loader*.</span></span> <span data-ttu-id="da126-141">El cargador de topología convierte las topologías parciales en topologías completas insertando las transformaciones necesarias.</span><span class="sxs-lookup"><span data-stu-id="da126-141">The topology loader converts partial topologies into full topologies by inserting the needed transforms.</span></span> <span data-ttu-id="da126-142">El proceso de conversión se denomina *resolver* la topología.</span><span class="sxs-lookup"><span data-stu-id="da126-142">The process of conversion is called *resolving* the topology.</span></span>

<span data-ttu-id="da126-143">Por ejemplo, para reproducir una secuencia de audio codificada, la topología debe tener un descodificador entre los nodos de origen y de salida.</span><span class="sxs-lookup"><span data-stu-id="da126-143">For example, to play an encoded audio stream, the topology must have a decoder between the source and output nodes.</span></span> <span data-ttu-id="da126-144">La aplicación crea una topología parcial que conecta el nodo de origen directamente con el nodo de salida, sin el descodificador.</span><span class="sxs-lookup"><span data-stu-id="da126-144">The application creates a partial topology that connects the source node directly to the output node, without the decoder.</span></span> <span data-ttu-id="da126-145">El cargador de topología examina los formatos de flujo, encuentra el descodificador correcto e inserta un nodo de transformación en la topología.</span><span class="sxs-lookup"><span data-stu-id="da126-145">The topology loader examines the stream formats, finds the right decoder, and inserts a transform node into the topology.</span></span>

<span data-ttu-id="da126-146">En el diagrama siguiente se muestra la topología parcial creada por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="da126-146">The following diagram shows the partial topology created by the application.</span></span>

![diagrama que muestra una parcial con un nodo de origen y un nodo de salida.](images/topology02.png)

<span data-ttu-id="da126-148">En el diagrama siguiente se muestra la topología completa después de que el cargador de topología la resuelva.</span><span class="sxs-lookup"><span data-stu-id="da126-148">The next diagram shows the full topology after the topology loader resolves it.</span></span> <span data-ttu-id="da126-149">En este ejemplo, el cargador de topología ha insertado un nodo de transformación para el descodificador.</span><span class="sxs-lookup"><span data-stu-id="da126-149">In this example, the topology loader has inserted a transform node for the decoder.</span></span>

![diagrama que muestra una topología completa.](images/topology03.png)

<span data-ttu-id="da126-151">En la versión actual de Media Foundation, el cargador de topología admite topologías para la reproducción.</span><span class="sxs-lookup"><span data-stu-id="da126-151">In the current version of Media Foundation, the topology loader supports topologies for playback.</span></span> <span data-ttu-id="da126-152">En cuanto a la codificación de archivos y otros escenarios, la aplicación debe construir una topología completa.</span><span class="sxs-lookup"><span data-stu-id="da126-152">For file encoding and other scenarios, the application must construct a full topology.</span></span>

<span data-ttu-id="da126-153">Las aplicaciones también pueden crear el cargador de topología y usarlo directamente.</span><span class="sxs-lookup"><span data-stu-id="da126-153">Applications can also create the topology loader and use it directly.</span></span> <span data-ttu-id="da126-154">Por ejemplo, puede usar el cargador de topología para resolver una topología parcial y, a continuación, modificar la topología completa antes de asignarla a la sesión multimedia.</span><span class="sxs-lookup"><span data-stu-id="da126-154">For example, you can use the topology loader to resolve a partial topology and then modify the full topology before giving it to the Media Session.</span></span> <span data-ttu-id="da126-155">Para crear el cargador de topología, llame a [**MFCreateTopoLoader**](/windows/desktop/api/mfidl/nf-mfidl-mfcreatetopoloader).</span><span class="sxs-lookup"><span data-stu-id="da126-155">To create the topology loader, call [**MFCreateTopoLoader**](/windows/desktop/api/mfidl/nf-mfidl-mfcreatetopoloader).</span></span>

## <a name="related-topics"></a><span data-ttu-id="da126-156">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="da126-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="da126-157">Topologías</span><span class="sxs-lookup"><span data-stu-id="da126-157">Topologies</span></span>](topologies.md)
</dt> </dl>

 

 



