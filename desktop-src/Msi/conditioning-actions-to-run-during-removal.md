---
description: Hay dos maneras de crear la base de datos de instalación de Windows Installer de forma que solo se llame a una acción cuando se desinstale el paquete.
ms.assetid: 67b205bb-11d8-454f-b5d5-93330219f6cc
title: Acciones de acondicionamiento que se ejecutan durante la eliminación
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ad0e84f21b42f569744af9b8a7a46bb1e3df7a85
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104544886"
---
# <a name="conditioning-actions-to-run-during-removal"></a><span data-ttu-id="f5e86-103">Acciones de acondicionamiento que se ejecutan durante la eliminación</span><span class="sxs-lookup"><span data-stu-id="f5e86-103">Conditioning Actions to Run During Removal</span></span>

<span data-ttu-id="f5e86-104">Hay dos maneras de crear la base de datos de instalación de forma que solo se llame a una acción cuando se desinstale el paquete:</span><span class="sxs-lookup"><span data-stu-id="f5e86-104">There are two ways to author the installation database such that an action is only called when the package is uninstalled:</span></span>

-   <span data-ttu-id="f5e86-105">Si la acción se secuencia después de la [acción InstallValidate](installvalidate-action.md) en la [tabla InstallExecuteSequence](installexecutesequence-table.md), el autor del paquete puede especificar una condición de Remove = "All" para la acción en la columna condition.</span><span class="sxs-lookup"><span data-stu-id="f5e86-105">If the action is sequenced after the [InstallValidate action](installvalidate-action.md) in the [InstallExecuteSequence table](installexecutesequence-table.md), the package author may specify a condition of REMOVE="ALL" for the action in the Condition column.</span></span> <span data-ttu-id="f5e86-106">Tenga en cuenta que no se garantiza que la propiedad [**Remove**](remove.md) se establezca en All durante la desinstalación antes de que el instalador ejecute la acción InstallValidate.</span><span class="sxs-lookup"><span data-stu-id="f5e86-106">Note that the [**REMOVE**](remove.md) property is not guaranteed to be set to ALL during an uninstall before the installer executes the InstallValidate action.</span></span> <span data-ttu-id="f5e86-107">Tenga en cuenta que en este caso se requieren marcas de comillas alrededor del valor.</span><span class="sxs-lookup"><span data-stu-id="f5e86-107">Note that the quote marks around the value ALL are required in this case.</span></span>
-   <span data-ttu-id="f5e86-108">Si la acción se secuencia después de la [acción CostFinalize](costfinalize-action.md) y cualquier acción que pudiera cambiar el estado de la característica, como la [acción MigrateFeatureStates](migratefeaturestates-action.md), la acción puede estar condicionada en el estado de una característica o componente determinado.</span><span class="sxs-lookup"><span data-stu-id="f5e86-108">If the action is sequenced after the [CostFinalize action](costfinalize-action.md) and any actions that could change the feature state, such as [MigrateFeatureStates action](migratefeaturestates-action.md), the action can be conditioned on the state of a particular feature or component.</span></span> <span data-ttu-id="f5e86-109">Consulte [Sintaxis de la instrucción condicional](conditional-statement-syntax.md).</span><span class="sxs-lookup"><span data-stu-id="f5e86-109">See [Conditional Statement Syntax](conditional-statement-syntax.md).</span></span> <span data-ttu-id="f5e86-110">Use esta opción para llamar a una acción durante la eliminación de una característica o componente determinado, que puede producirse fuera de la eliminación completa de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="f5e86-110">Use this option to call an action during the removal of a particular feature or component, which may occur outside of the complete removal of the application.</span></span>

<span data-ttu-id="f5e86-111">Tenga en cuenta que la propiedad [**installed**](installed.md) se puede usar en expresiones condicionales para determinar si un producto está instalado por equipo o para el usuario actual.</span><span class="sxs-lookup"><span data-stu-id="f5e86-111">Note that the [**Installed**](installed.md) property can be used in conditional expressions to determine whether a product is installed per-computer or for the current user.</span></span> <span data-ttu-id="f5e86-112">Para determinar si el producto está instalado para un usuario diferente, Compruebe la propiedad [**ProductState**](productstate.md) .</span><span class="sxs-lookup"><span data-stu-id="f5e86-112">To determine whether the product is installed for a different user, check the [**ProductState**](productstate.md) property.</span></span>

<span data-ttu-id="f5e86-113">Tenga en cuenta que las versiones anteriores de un producto pueden quitarse durante una actualización mediante la [acción RemoveExistingProducts](removeexistingproducts-action.md).</span><span class="sxs-lookup"><span data-stu-id="f5e86-113">Note that older versions of a product may be removed during an upgrade by the [RemoveExistingProducts action](removeexistingproducts-action.md).</span></span> <span data-ttu-id="f5e86-114">En este caso, la [tabla de actualización](upgrade-table.md) también puede establecer la propiedad [**Remove**](remove.md) en ALL.</span><span class="sxs-lookup"><span data-stu-id="f5e86-114">The [Upgrade table](upgrade-table.md) may also set the [**REMOVE**](remove.md) property to ALL in this case.</span></span> <span data-ttu-id="f5e86-115">Para determinar si una actualización está quitando un producto, Compruebe la propiedad [**UPGRADINGPRODUCTCODE**](upgradingproductcode.md) .</span><span class="sxs-lookup"><span data-stu-id="f5e86-115">To determine whether a product is being removed by an upgrade, check the [**UPGRADINGPRODUCTCODE**](upgradingproductcode.md) property.</span></span> <span data-ttu-id="f5e86-116">El instalador solo establece esta propiedad cuando RemoveExistingProducts quita el producto.</span><span class="sxs-lookup"><span data-stu-id="f5e86-116">The installer only sets this property when RemoveExistingProducts removes the product.</span></span> <span data-ttu-id="f5e86-117">El instalador no establece la propiedad durante una desinstalación normal, como la eliminación con agregar o quitar programas.</span><span class="sxs-lookup"><span data-stu-id="f5e86-117">The installer does not set the property during a normal uninstall, such as removal with Add/Remove programs.</span></span>

 

 



