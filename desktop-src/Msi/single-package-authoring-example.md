---
description: El PUASample.msi de ejemplo es un ejemplo de un paquete de Windows Installer 5,0 dual que es capaz de instalarse en el contexto de instalación por usuario o por equipo en Windows Server 2008 R2 y Windows 7.
ms.assetid: be018e8a-ca5f-4135-a019-970ec4173f23
title: Ejemplo de creación de un solo paquete
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0e0ed56b8d7aaf8793416ba3ecab24c1f2a48ffe
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105652851"
---
# <a name="single-package-authoring-example"></a><span data-ttu-id="591ac-103">Ejemplo de creación de un solo paquete</span><span class="sxs-lookup"><span data-stu-id="591ac-103">Single Package Authoring Example</span></span>

<span data-ttu-id="591ac-104">El PUASample.msi de ejemplo es un ejemplo de un paquete de Windows Installer 5,0 dual que es capaz de instalarse en el [contexto de instalación](installation-context.md) por usuario o por equipo en windows Server 2008 R2 y Windows 7.</span><span class="sxs-lookup"><span data-stu-id="591ac-104">The sample PUASample.msi is an example of a dual-purpose Windows Installer 5.0 package that is capable of being installed in either the per-user or per-machine [installation context](installation-context.md) on Windows Server 2008 R2 and Windows 7.</span></span> <span data-ttu-id="591ac-105">Este paquete de ejemplo sigue las instrucciones de desarrollo descritas en [creación de un solo paquete](single-package-authoring.md).</span><span class="sxs-lookup"><span data-stu-id="591ac-105">This sample package follows the development guidelines described in [Single Package Authoring](single-package-authoring.md).</span></span>

## <a name="obtaining-a-copy-of-the-sample"></a><span data-ttu-id="591ac-106">Obtener una copia del ejemplo</span><span class="sxs-lookup"><span data-stu-id="591ac-106">Obtaining a copy of the sample</span></span>

<span data-ttu-id="591ac-107">Una copia de este ejemplo y un editor de tablas de Windows Installer Database, Orca.exe, se encuentran en los [componentes Windows SDK para los programadores de Windows Installer](platform-sdk-components-for-windows-installer-developers.md).</span><span class="sxs-lookup"><span data-stu-id="591ac-107">A copy of this sample and a Windows Installer database table editor, Orca.exe, are in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md).</span></span> <span data-ttu-id="591ac-108">El ejemplo y el editor de tablas se proporcionan con el kit de desarrollo de software de Windows para Windows Server 2008 R2 y Windows 7, ya que los archivos de instalación de Windows Installer PUASample1.msi y Orca.msi.</span><span class="sxs-lookup"><span data-stu-id="591ac-108">The sample and table editor are provided with the Windows Software Development Kit for Windows Server 2008 R2 and Windows 7 as the Windows Installer installation files PUASample1.msi and Orca.msi.</span></span>

## <a name="system-requirements"></a><span data-ttu-id="591ac-109">Requisitos del sistema</span><span class="sxs-lookup"><span data-stu-id="591ac-109">System Requirements</span></span>

<span data-ttu-id="591ac-110">El editor de base de datos, [Orca.exe](orca-exe.md), requiere windows Server 2008 R2 y versiones anteriores, y Windows 7 y versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="591ac-110">The database editor, [Orca.exe](orca-exe.md), requires Windows Server 2008 R2 and earlier and Windows 7 and earlier.</span></span> <span data-ttu-id="591ac-111">El paquete de doble propósito, PUASample1.msi, puede instalarse en el [contexto de instalación](installation-context.md) por equipo o por usuario en windows Server 2008 R2 y Windows 7.</span><span class="sxs-lookup"><span data-stu-id="591ac-111">The dual-purpose package, PUASample1.msi, can be installed in either the per-machine or per-user [installation context](installation-context.md) on Windows Server 2008 R2 and Windows 7.</span></span> <span data-ttu-id="591ac-112">PUASample1.msi solo se puede instalar en el contexto por equipo en Windows Server 2008 y versiones anteriores, y en Windows Vista y versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="591ac-112">PUASample1.msi can be installed only in the per-machine context on Windows Server 2008 and earlier and Windows Vista and earlier.</span></span> <span data-ttu-id="591ac-113">Puede instalar el editor de base de datos para examinar el contenido de PUASample1.msi sin instalar el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="591ac-113">You can install the database editor to examine the contents of PUASample1.msi without installing the sample.</span></span> <span data-ttu-id="591ac-114">Para instalar los paquetes del editor o del ejemplo, asegúrese de que la directiva [DisableMSI](disablemsi.md) no esté establecida en un valor que bloquee las instalaciones de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="591ac-114">To install the sample or editor packages, ensure that the [DisableMSI](disablemsi.md) policy is not set to a value that blocks application installations.</span></span>

## <a name="identifying-a-dual-purpose-package"></a><span data-ttu-id="591ac-115">Identificar un paquete de Dual-Purpose</span><span class="sxs-lookup"><span data-stu-id="591ac-115">Identifying a Dual-Purpose Package</span></span>

<span data-ttu-id="591ac-116">Los paquetes de doble propósito deben inicializar el valor de la propiedad [**MSIINSTALLPERUSER**](msiinstallperuser.md) en 1.</span><span class="sxs-lookup"><span data-stu-id="591ac-116">Dual-purpose packages should initialize the value of the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property to 1.</span></span> <span data-ttu-id="591ac-117">Esto identifica el paquete como capaz de instalarse en el contexto por equipo o por usuario en Windows Server 2008 R2 y Windows 7.</span><span class="sxs-lookup"><span data-stu-id="591ac-117">This identifies the package as capable of being installed in either the per-machine or per-user context on Windows Server 2008 R2 and Windows 7.</span></span> <span data-ttu-id="591ac-118">Establezca la propiedad **MSIINSTALLPERUSER** en el paquete solo si se ha escrito siguiendo las instrucciones de desarrollo descritas en [creación de paquetes única](single-package-authoring.md) y si desea proporcionar a los usuarios la opción de instalar el paquete en el contexto por usuario o por equipo.</span><span class="sxs-lookup"><span data-stu-id="591ac-118">Set the **MSIINSTALLPERUSER** property in the package only if it has been written following the development guidelines described in [Single Package Authoring](single-package-authoring.md) and if you intend to provide users with the option to install the package in either the per-user or per-machine context.</span></span> <span data-ttu-id="591ac-119">Un paquete de uso doble también debe inicializar el valor de la propiedad [**AllUsers**](allusers.md) en 2.</span><span class="sxs-lookup"><span data-stu-id="591ac-119">A dual-purpose package should also initialize the value of the [**ALLUSERS**](allusers.md) property to 2.</span></span> <span data-ttu-id="591ac-120">Esto especifica por usuario como el contexto de instalación predeterminado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="591ac-120">This specifies per-user as the default installation context for the application.</span></span> <span data-ttu-id="591ac-121">Si el valor de la propiedad **AllUsers** es cualquier valor distinto de 2, Windows Installer omite la propiedad **MSIINSTALLPERUSER** .</span><span class="sxs-lookup"><span data-stu-id="591ac-121">If the value of the **ALLUSERS** property is any value other than 2, Windows Installer ignores the **MSIINSTALLPERUSER** property.</span></span>

<span data-ttu-id="591ac-122">Use un editor de base de datos de Windows Installer, como [Orca.exe](orca-exe.md), para examinar el contenido de PUASample1.msi.</span><span class="sxs-lookup"><span data-stu-id="591ac-122">Use a Windows Installer database editor, such as [Orca.exe](orca-exe.md), to examine the contents of PUASample1.msi.</span></span> <span data-ttu-id="591ac-123">La tabla de [propiedades](property-table.md) del paquete de ejemplo contiene las dos entradas siguientes.</span><span class="sxs-lookup"><span data-stu-id="591ac-123">The [Property](property-table.md) table in the sample package contains the following two entries.</span></span>

<span data-ttu-id="591ac-124">[Propiedad](property-table.md) Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-124">[Property](property-table.md) Table (partial)</span></span>

| <span data-ttu-id="591ac-125">Propiedad</span><span class="sxs-lookup"><span data-stu-id="591ac-125">Property</span></span>          | <span data-ttu-id="591ac-126">Value</span><span class="sxs-lookup"><span data-stu-id="591ac-126">Value</span></span> |
|-------------------|-------|
| <span data-ttu-id="591ac-127">ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="591ac-127">ALLUSERS</span></span>          | <span data-ttu-id="591ac-128">2</span><span class="sxs-lookup"><span data-stu-id="591ac-128">2</span></span>     |
| <span data-ttu-id="591ac-129">MSIINSTALLPERUSER</span><span class="sxs-lookup"><span data-stu-id="591ac-129">MSIINSTALLPERUSER</span></span> | <span data-ttu-id="591ac-130">1</span><span class="sxs-lookup"><span data-stu-id="591ac-130">1</span></span>     |



 

## <a name="custom-dialog-box-for-installation-context"></a><span data-ttu-id="591ac-131">Cuadro de diálogo personalizado para el contexto de instalación</span><span class="sxs-lookup"><span data-stu-id="591ac-131">Custom Dialog Box for Installation Context</span></span>

<span data-ttu-id="591ac-132">La [interfaz de usuario](user-interface.md) del paquete de ejemplo incluye un ejemplo de un cuadro de diálogo personalizado, VerifyReadyDialog, que permite a los usuarios seleccionar el contexto de instalación por usuario o por equipo en el momento de la instalación.</span><span class="sxs-lookup"><span data-stu-id="591ac-132">The [user interface](user-interface.md) of the sample package includes an example of a custom dialog box, VerifyReadyDialog, that enables users to select either the per-user or per-machine installation context at installation time.</span></span> <span data-ttu-id="591ac-133">La tabla de cuadro de [diálogo](dialog-table.md) contiene un registro que describe el cuadro de diálogo VerifyReadyDialog.</span><span class="sxs-lookup"><span data-stu-id="591ac-133">The [Dialog](dialog-table.md) table contains a record that describes the VerifyReadyDialog dialog box.</span></span> <span data-ttu-id="591ac-134">El valor especificado en el campo atributos es 39 porque este cuadro de diálogo usa los [bits de estilo](dialog-style-bits.md)de cuadro de diálogo msidbDialogAttributesVisible (1), msidbDialogAttributesModal (2), msidbDialogAttributesMinimize (4) y msidbDialogAttributesTrackDiskSpace (32).</span><span class="sxs-lookup"><span data-stu-id="591ac-134">The value entered in the Attributes field is 39 because this dialog box uses the msidbDialogAttributesVisible (1), msidbDialogAttributesModal (2), msidbDialogAttributesMinimize (4), and msidbDialogAttributesTrackDiskSpace (32) [dialog style bits](dialog-style-bits.md).</span></span> <span data-ttu-id="591ac-135">La barra de título del cuadro de diálogo muestra un título dado por el valor de la propiedad [**ProductName**](productname.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-135">The title bar of the dialog box displays a title given by the value of the [**ProductName**](productname.md) property.</span></span>

<span data-ttu-id="591ac-136">[Cuadro de diálogo](dialog-table.md) Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-136">[Dialog](dialog-table.md) Table (partial)</span></span> 

| <span data-ttu-id="591ac-137">Diálogo</span><span class="sxs-lookup"><span data-stu-id="591ac-137">Dialog</span></span>            | <span data-ttu-id="591ac-138">HCentering</span><span class="sxs-lookup"><span data-stu-id="591ac-138">HCentering</span></span> | <span data-ttu-id="591ac-139">VCentering</span><span class="sxs-lookup"><span data-stu-id="591ac-139">VCentering</span></span> | <span data-ttu-id="591ac-140">Ancho</span><span class="sxs-lookup"><span data-stu-id="591ac-140">Width</span></span> | <span data-ttu-id="591ac-141">Alto</span><span class="sxs-lookup"><span data-stu-id="591ac-141">Height</span></span> | <span data-ttu-id="591ac-142">Atributos</span><span class="sxs-lookup"><span data-stu-id="591ac-142">Attributes</span></span> | <span data-ttu-id="591ac-143">Title</span><span class="sxs-lookup"><span data-stu-id="591ac-143">Title</span></span>           | <span data-ttu-id="591ac-144">Controlar \_ primero</span><span class="sxs-lookup"><span data-stu-id="591ac-144">Control\_First</span></span> | <span data-ttu-id="591ac-145">\_Valor predeterminado del control</span><span class="sxs-lookup"><span data-stu-id="591ac-145">Control\_Default</span></span> | <span data-ttu-id="591ac-146">\_Cancelar control</span><span class="sxs-lookup"><span data-stu-id="591ac-146">Control\_Cancel</span></span> |
|-------------------|------------|------------|-------|--------|------------|-----------------|----------------|------------------|-----------------|
| <span data-ttu-id="591ac-147">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-147">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-148">50</span><span class="sxs-lookup"><span data-stu-id="591ac-148">50</span></span>         | <span data-ttu-id="591ac-149">50</span><span class="sxs-lookup"><span data-stu-id="591ac-149">50</span></span>         | <span data-ttu-id="591ac-150">480</span><span class="sxs-lookup"><span data-stu-id="591ac-150">480</span></span>   | <span data-ttu-id="591ac-151">280</span><span class="sxs-lookup"><span data-stu-id="591ac-151">280</span></span>    | <span data-ttu-id="591ac-152">39</span><span class="sxs-lookup"><span data-stu-id="591ac-152">39</span></span>         | <span data-ttu-id="591ac-153">\[ProductName\]</span><span class="sxs-lookup"><span data-stu-id="591ac-153">\[ProductName\]</span></span> | <span data-ttu-id="591ac-154">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-154">InstallPerUser</span></span> | <span data-ttu-id="591ac-155">Siguientes</span><span class="sxs-lookup"><span data-stu-id="591ac-155">Next</span></span>             | <span data-ttu-id="591ac-156">Cancelar</span><span class="sxs-lookup"><span data-stu-id="591ac-156">Cancel</span></span>          |



 

<span data-ttu-id="591ac-157">La tabla de [control](control-table.md) contiene entradas para los [controles](controls.md) que se muestran en el cuadro de diálogo VerifyReadyDialog.</span><span class="sxs-lookup"><span data-stu-id="591ac-157">The [Control](control-table.md) table contains entries for the [controls](controls.md) displayed by the VerifyReadyDialog dialog box.</span></span> <span data-ttu-id="591ac-158">En el cuadro de diálogo se muestran controles [Pushbutton](pushbutton-control.md) y un control de [texto](text-control.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-158">The dialog box displays [PushButton](pushbutton-control.md) controls and a [Text](text-control.md) control.</span></span> <span data-ttu-id="591ac-159">Todos los controles usan los [atributos de control](control-attributes.md)msidbControlAttributesEnabled (2) y msidbControlAttributesVisible (1).</span><span class="sxs-lookup"><span data-stu-id="591ac-159">All the controls use the msidbControlAttributesEnabled (2) and msidbControlAttributesVisible (1) [control attributes](control-attributes.md).</span></span> <span data-ttu-id="591ac-160">El control InstallPerMachine también usa el atributo de control [ElevationShield](elevationshield-attribute.md) , msidbControlAttributesElevationShield (8388608). Este atributo de control agrega el icono de elevación de [*control de cuentas de usuario*](u-gly.md) (UAC) al control InstallPerMachine e informa al usuario de que las credenciales de UAC son necesarias para instalar la aplicación en el contexto por equipo.</span><span class="sxs-lookup"><span data-stu-id="591ac-160">The InstallPerMachine control also uses the [ElevationShield](elevationshield-attribute.md) control attribute, msidbControlAttributesElevationShield (8388608.) This control attribute adds the [*User Account Control*](u-gly.md) (UAC) elevation icon (shield icon) to the InstallPerMachine control and informs the user that UAC credentials are required to install the application in the per-machine context.</span></span> <span data-ttu-id="591ac-161">El valor del campo de texto de la tabla de control es el estilo de texto y el texto que muestra el control.</span><span class="sxs-lookup"><span data-stu-id="591ac-161">The value in the Text field of the Control table is the text-style and text displayed by the control.</span></span> <span data-ttu-id="591ac-162">Vea la descripción del campo de texto en el tema de la tabla de control para obtener más información sobre cómo agregar texto a un control mediante estilos predefinidos.</span><span class="sxs-lookup"><span data-stu-id="591ac-162">See the description of the Text field in the Control table topic for more information about adding text to a control using predefined styles.</span></span>

<span data-ttu-id="591ac-163">[Control](control-table.md) de Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-163">[Control](control-table.md) Table (partial)</span></span>

| <span data-ttu-id="591ac-164">Diálogo\_</span><span class="sxs-lookup"><span data-stu-id="591ac-164">Dialog\_</span></span>          | <span data-ttu-id="591ac-165">Control</span><span class="sxs-lookup"><span data-stu-id="591ac-165">Control</span></span>           | <span data-ttu-id="591ac-166">Tipo</span><span class="sxs-lookup"><span data-stu-id="591ac-166">Type</span></span>       | <span data-ttu-id="591ac-167">Atributo</span><span class="sxs-lookup"><span data-stu-id="591ac-167">Attribute</span></span> | <span data-ttu-id="591ac-168">Texto</span><span class="sxs-lookup"><span data-stu-id="591ac-168">Text</span></span>                                                   | <span data-ttu-id="591ac-169">Control \_ siguiente</span><span class="sxs-lookup"><span data-stu-id="591ac-169">Control\_Next</span></span>     |
|-------------------|-------------------|------------|-----------|--------------------------------------------------------|-------------------|
| <span data-ttu-id="591ac-170">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-170">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-171">Cancelar</span><span class="sxs-lookup"><span data-stu-id="591ac-171">Cancel</span></span>            | <span data-ttu-id="591ac-172">Botones</span><span class="sxs-lookup"><span data-stu-id="591ac-172">PushButton</span></span> | <span data-ttu-id="591ac-173">3</span><span class="sxs-lookup"><span data-stu-id="591ac-173">3</span></span>         | <span data-ttu-id="591ac-174">{ \\ Tahoma10} &cancelar</span><span class="sxs-lookup"><span data-stu-id="591ac-174">{\\Tahoma10}&Cancel</span></span>                                    | <span data-ttu-id="591ac-175">Siguientes</span><span class="sxs-lookup"><span data-stu-id="591ac-175">Next</span></span>              |
| <span data-ttu-id="591ac-176">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-176">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-177">Anterior</span><span class="sxs-lookup"><span data-stu-id="591ac-177">Previous</span></span>          | <span data-ttu-id="591ac-178">Botones</span><span class="sxs-lookup"><span data-stu-id="591ac-178">PushButton</span></span> | <span data-ttu-id="591ac-179">3</span><span class="sxs-lookup"><span data-stu-id="591ac-179">3</span></span>         | <span data-ttu-id="591ac-180">{ \\ Tahoma10} <<&anterior</span><span class="sxs-lookup"><span data-stu-id="591ac-180">{\\Tahoma10}<<&Previous</span></span>                          | <span data-ttu-id="591ac-181">Cancelar</span><span class="sxs-lookup"><span data-stu-id="591ac-181">Cancel</span></span>            |
| <span data-ttu-id="591ac-182">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-182">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-183">Siguientes</span><span class="sxs-lookup"><span data-stu-id="591ac-183">Next</span></span>              | <span data-ttu-id="591ac-184">Botones</span><span class="sxs-lookup"><span data-stu-id="591ac-184">PushButton</span></span> | <span data-ttu-id="591ac-185">3</span><span class="sxs-lookup"><span data-stu-id="591ac-185">3</span></span>         | <span data-ttu-id="591ac-186">{ \\ Tahoma10} &siguiente >></span><span class="sxs-lookup"><span data-stu-id="591ac-186">{\\Tahoma10}&Next >></span></span>                             | <span data-ttu-id="591ac-187">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-187">InstallPerUser</span></span>    |
| <span data-ttu-id="591ac-188">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-188">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-189">Text2</span><span class="sxs-lookup"><span data-stu-id="591ac-189">Text2</span></span>             | <span data-ttu-id="591ac-190">Texto</span><span class="sxs-lookup"><span data-stu-id="591ac-190">Text</span></span>       | <span data-ttu-id="591ac-191">3</span><span class="sxs-lookup"><span data-stu-id="591ac-191">3</span></span>         | <span data-ttu-id="591ac-192">¿Está listo para completar la instalación suspendida?</span><span class="sxs-lookup"><span data-stu-id="591ac-192">Are you ready to complete your suspended installation?</span></span> |                   |
| <span data-ttu-id="591ac-193">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-193">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-194">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-194">InstallPerUser</span></span>    | <span data-ttu-id="591ac-195">Botones</span><span class="sxs-lookup"><span data-stu-id="591ac-195">PushButton</span></span> | <span data-ttu-id="591ac-196">3</span><span class="sxs-lookup"><span data-stu-id="591ac-196">3</span></span>         | <span data-ttu-id="591ac-197">{ \\ Tahoma10} instalación solo para &me</span><span class="sxs-lookup"><span data-stu-id="591ac-197">{\\Tahoma10}Install Only for &Me</span></span>                       | <span data-ttu-id="591ac-198">InstallPerMachine</span><span class="sxs-lookup"><span data-stu-id="591ac-198">InstallPerMachine</span></span> |
| <span data-ttu-id="591ac-199">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-199">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-200">InstallPerMachine</span><span class="sxs-lookup"><span data-stu-id="591ac-200">InstallPerMachine</span></span> | <span data-ttu-id="591ac-201">Botones</span><span class="sxs-lookup"><span data-stu-id="591ac-201">PushButton</span></span> | <span data-ttu-id="591ac-202">8388611</span><span class="sxs-lookup"><span data-stu-id="591ac-202">8388611</span></span>   | <span data-ttu-id="591ac-203">{ \\ Tahoma10} instalación para &todos</span><span class="sxs-lookup"><span data-stu-id="591ac-203">{\\Tahoma10}Install for &Everyone</span></span>                      | <span data-ttu-id="591ac-204">Anterior</span><span class="sxs-lookup"><span data-stu-id="591ac-204">Previous</span></span>          |
| <span data-ttu-id="591ac-205">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-205">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-206">Cancelar</span><span class="sxs-lookup"><span data-stu-id="591ac-206">Cancel</span></span>            | <span data-ttu-id="591ac-207">Botones</span><span class="sxs-lookup"><span data-stu-id="591ac-207">PushButton</span></span> | <span data-ttu-id="591ac-208">3</span><span class="sxs-lookup"><span data-stu-id="591ac-208">3</span></span>         | <span data-ttu-id="591ac-209">{ \\ Tahoma10} &cancelar</span><span class="sxs-lookup"><span data-stu-id="591ac-209">{\\Tahoma10}&Cancel</span></span>                                    | <span data-ttu-id="591ac-210">Siguientes</span><span class="sxs-lookup"><span data-stu-id="591ac-210">Next</span></span>              |



 

<span data-ttu-id="591ac-211">La tabla [ControlEvent,](controlevent-table.md) especifica el [ControlEvents](control-events.md), o las acciones que realiza el instalador cuando el usuario interactúa con un control.</span><span class="sxs-lookup"><span data-stu-id="591ac-211">The [ControlEvent](controlevent-table.md) table specifies the [ControlEvents](control-events.md), or actions, the installer performs when the user interacts with a control.</span></span> <span data-ttu-id="591ac-212">Cuando un usuario activa el Pushbutton de InstallPerUser, la interfaz de usuario muestra un cuadro de diálogo de OutOfDisk si la propiedad [**OutOfDiskSpace**](outofdiskspace.md) es 1, establece el valor de la propiedad [**MSIINSTALLPERUSER**](msiinstallperuser.md) en 1, establece el valor de la propiedad [**AllUsers**](allusers.md) en 2, establece la propiedad [**MSIFASTINSTALL**](msifastinstall.md) en 1 y devuelve.</span><span class="sxs-lookup"><span data-stu-id="591ac-212">When a user activates the InstallPerUser pushbutton, the user interface displays an OutOfDisk dialog box if the [**OutOfDiskSpace**](outofdiskspace.md) property is 1, sets the value of the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property to 1, sets the value of the [**ALLUSERS**](allusers.md) property to 2, sets the [**MSIFASTINSTALL**](msifastinstall.md) property to 1, and returns .</span></span> <span data-ttu-id="591ac-213">Dado que la propiedad **MSIFASTINSTALL** está establecida, no se genera ningún punto de restauración del sistema para la instalación.</span><span class="sxs-lookup"><span data-stu-id="591ac-213">Because the **MSIFASTINSTALL** property is set, no System Restore point is generated for the installation.</span></span> <span data-ttu-id="591ac-214">Cuando un usuario activa el pulsador InstallPerMachine, la interfaz de usuario muestra un cuadro de diálogo OutOfDisk si la propiedad **OutOfDiskSpace** es 1, establece el valor de la propiedad **AllUsers** en 1 y devuelve.</span><span class="sxs-lookup"><span data-stu-id="591ac-214">When a user activates the InstallPerMachine pushbutton, the user interface displays an OutOfDisk dialog box if the **OutOfDiskSpace** property is 1, sets the value of the **ALLUSERS** property to 1, and returns.</span></span>

<span data-ttu-id="591ac-215">[ControlEvent,](controlevent-table.md) Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-215">[ControlEvent](controlevent-table.md) Table (partial)</span></span> 

| <span data-ttu-id="591ac-216">Diálogo\_</span><span class="sxs-lookup"><span data-stu-id="591ac-216">Dialog\_</span></span>          | <span data-ttu-id="591ac-217">control\_</span><span class="sxs-lookup"><span data-stu-id="591ac-217">Control\_</span></span>         | <span data-ttu-id="591ac-218">Evento</span><span class="sxs-lookup"><span data-stu-id="591ac-218">Event</span></span>                 | <span data-ttu-id="591ac-219">Argumento</span><span class="sxs-lookup"><span data-stu-id="591ac-219">Argument</span></span>  | <span data-ttu-id="591ac-220">Condición</span><span class="sxs-lookup"><span data-stu-id="591ac-220">Condition</span></span>                 | <span data-ttu-id="591ac-221">Pedido</span><span class="sxs-lookup"><span data-stu-id="591ac-221">Order</span></span> |
|-------------------|-------------------|-----------------------|-----------|---------------------------|-------|
| <span data-ttu-id="591ac-222">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-222">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-223">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-223">InstallPerUser</span></span>    | <span data-ttu-id="591ac-224">SpawnDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-224">SpawnDialog</span></span>           | <span data-ttu-id="591ac-225">OutOfDisk</span><span class="sxs-lookup"><span data-stu-id="591ac-225">OutOfDisk</span></span> | <span data-ttu-id="591ac-226">OutOfDiskSpace = 1</span><span class="sxs-lookup"><span data-stu-id="591ac-226">OutOfDiskSpace = 1</span></span>        | <span data-ttu-id="591ac-227">1</span><span class="sxs-lookup"><span data-stu-id="591ac-227">1</span></span>     |
| <span data-ttu-id="591ac-228">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-228">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-229">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-229">InstallPerUser</span></span>    | <span data-ttu-id="591ac-230">EndDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-230">EndDialog</span></span>             | <span data-ttu-id="591ac-231">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="591ac-231">Return</span></span>    | <span data-ttu-id="591ac-232">OutOfDiskSpace <> 1</span><span class="sxs-lookup"><span data-stu-id="591ac-232">OutOfDiskSpace <> 1</span></span> | <span data-ttu-id="591ac-233">5</span><span class="sxs-lookup"><span data-stu-id="591ac-233">5</span></span>     |
| <span data-ttu-id="591ac-234">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-234">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-235">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-235">InstallPerUser</span></span>    | <span data-ttu-id="591ac-236">\[MSIINSTALLPERUSER\]</span><span class="sxs-lookup"><span data-stu-id="591ac-236">\[MSIINSTALLPERUSER\]</span></span> | <span data-ttu-id="591ac-237">1</span><span class="sxs-lookup"><span data-stu-id="591ac-237">1</span></span>         | <span data-ttu-id="591ac-238">1</span><span class="sxs-lookup"><span data-stu-id="591ac-238">1</span></span>                         | <span data-ttu-id="591ac-239">2</span><span class="sxs-lookup"><span data-stu-id="591ac-239">2</span></span>     |
| <span data-ttu-id="591ac-240">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-240">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-241">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-241">InstallPerUser</span></span>    | <span data-ttu-id="591ac-242">\[ALLUSERS\]</span><span class="sxs-lookup"><span data-stu-id="591ac-242">\[ALLUSERS\]</span></span>          | <span data-ttu-id="591ac-243">2</span><span class="sxs-lookup"><span data-stu-id="591ac-243">2</span></span>         | <span data-ttu-id="591ac-244">1</span><span class="sxs-lookup"><span data-stu-id="591ac-244">1</span></span>                         | <span data-ttu-id="591ac-245">3</span><span class="sxs-lookup"><span data-stu-id="591ac-245">3</span></span>     |
| <span data-ttu-id="591ac-246">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-246">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-247">InstallPerMachine</span><span class="sxs-lookup"><span data-stu-id="591ac-247">InstallPerMachine</span></span> | <span data-ttu-id="591ac-248">SpawnDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-248">SpawnDialog</span></span>           | <span data-ttu-id="591ac-249">OutOfDisk</span><span class="sxs-lookup"><span data-stu-id="591ac-249">OutOfDisk</span></span> | <span data-ttu-id="591ac-250">OutOfDiskSpace = 1</span><span class="sxs-lookup"><span data-stu-id="591ac-250">OutOfDiskSpace = 1</span></span>        | <span data-ttu-id="591ac-251">1</span><span class="sxs-lookup"><span data-stu-id="591ac-251">1</span></span>     |
| <span data-ttu-id="591ac-252">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-252">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-253">InstallPerMachine</span><span class="sxs-lookup"><span data-stu-id="591ac-253">InstallPerMachine</span></span> | <span data-ttu-id="591ac-254">EndDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-254">EndDialog</span></span>             | <span data-ttu-id="591ac-255">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="591ac-255">Return</span></span>    | <span data-ttu-id="591ac-256">OutOfDiskSpace <> 1</span><span class="sxs-lookup"><span data-stu-id="591ac-256">OutOfDiskSpace <> 1</span></span> | <span data-ttu-id="591ac-257">3</span><span class="sxs-lookup"><span data-stu-id="591ac-257">3</span></span>     |
| <span data-ttu-id="591ac-258">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-258">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-259">InstallPerMachine</span><span class="sxs-lookup"><span data-stu-id="591ac-259">InstallPerMachine</span></span> | <span data-ttu-id="591ac-260">\[ALLUSERS\]</span><span class="sxs-lookup"><span data-stu-id="591ac-260">\[ALLUSERS\]</span></span>          | <span data-ttu-id="591ac-261">1</span><span class="sxs-lookup"><span data-stu-id="591ac-261">1</span></span>         | <span data-ttu-id="591ac-262">1</span><span class="sxs-lookup"><span data-stu-id="591ac-262">1</span></span>                         | <span data-ttu-id="591ac-263">2</span><span class="sxs-lookup"><span data-stu-id="591ac-263">2</span></span>     |
| <span data-ttu-id="591ac-264">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-264">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-265">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-265">InstallPerUser</span></span>    | <span data-ttu-id="591ac-266">\[MSIFASTINSTALL\]</span><span class="sxs-lookup"><span data-stu-id="591ac-266">\[MSIFASTINSTALL\]</span></span>    | <span data-ttu-id="591ac-267">1</span><span class="sxs-lookup"><span data-stu-id="591ac-267">1</span></span>         | <span data-ttu-id="591ac-268">1</span><span class="sxs-lookup"><span data-stu-id="591ac-268">1</span></span>                         | <span data-ttu-id="591ac-269">4</span><span class="sxs-lookup"><span data-stu-id="591ac-269">4</span></span>     |



 

<span data-ttu-id="591ac-270">El control InstallPerUser se debe quitar de la interfaz de usuario de cualquier instalación con una versión de Windows Installer anterior a Windows Installer Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="591ac-270">The InstallPerUser control should be removed from the user interface of any installation using a Windows Installer version earlier than Windows Installer Windows Installer 5.0.</span></span> <span data-ttu-id="591ac-271">La tabla [ControlCondition](controlcondition-table.md) del paquete de ejemplo contiene cuatro entradas que deshabilitan y ocultan el control InstallPerUser si la versión actual es inferior a Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="591ac-271">The [ControlCondition](controlcondition-table.md) table in the sample package contains four entries that disable and hide the InstallPerUser control if the current version is less than Windows Installer 5.0.</span></span> <span data-ttu-id="591ac-272">La tabla usa el valor de la propiedad [**VersionMsi**](versionmsi.md) y la [Sintaxis de la instrucción condicional](conditional-statement-syntax.md) para definir esta condición.</span><span class="sxs-lookup"><span data-stu-id="591ac-272">The table uses the value of the [**VersionMsi**](versionmsi.md) property and the [conditional statement syntax](conditional-statement-syntax.md) to define this condition.</span></span> <span data-ttu-id="591ac-273">La acción especificada en el campo acción solo se realiza si la instrucción del campo condición es true.</span><span class="sxs-lookup"><span data-stu-id="591ac-273">The action specified in the Action field is performed only if the statement in the Condition field is true.</span></span>

<span data-ttu-id="591ac-274">[ControlCondition](controlcondition-table.md) Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-274">[ControlCondition](controlcondition-table.md) Table (partial)</span></span>

| <span data-ttu-id="591ac-275">Diálogo\_</span><span class="sxs-lookup"><span data-stu-id="591ac-275">Dialog\_</span></span>          | <span data-ttu-id="591ac-276">control\_</span><span class="sxs-lookup"><span data-stu-id="591ac-276">Control\_</span></span>      | <span data-ttu-id="591ac-277">Acción</span><span class="sxs-lookup"><span data-stu-id="591ac-277">Action</span></span>  | <span data-ttu-id="591ac-278">Condición</span><span class="sxs-lookup"><span data-stu-id="591ac-278">Condition</span></span>               |
|-------------------|----------------|---------|-------------------------|
| <span data-ttu-id="591ac-279">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-279">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-280">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-280">InstallPerUser</span></span> | <span data-ttu-id="591ac-281">Habilitar</span><span class="sxs-lookup"><span data-stu-id="591ac-281">Enable</span></span>  | <span data-ttu-id="591ac-282">VersionMsi >= "5,00"</span><span class="sxs-lookup"><span data-stu-id="591ac-282">VersionMsi >= "5.00"</span></span> |
| <span data-ttu-id="591ac-283">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-283">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-284">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-284">InstallPerUser</span></span> | <span data-ttu-id="591ac-285">Disable</span><span class="sxs-lookup"><span data-stu-id="591ac-285">Disable</span></span> | <span data-ttu-id="591ac-286">VersionMsi < "5,00"</span><span class="sxs-lookup"><span data-stu-id="591ac-286">VersionMsi < "5.00"</span></span>  |
| <span data-ttu-id="591ac-287">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-287">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-288">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-288">InstallPerUser</span></span> | <span data-ttu-id="591ac-289">Mostrar</span><span class="sxs-lookup"><span data-stu-id="591ac-289">Show</span></span>    | <span data-ttu-id="591ac-290">VersionMsi >= "5,00"</span><span class="sxs-lookup"><span data-stu-id="591ac-290">VersionMsi >= "5.00"</span></span> |
| <span data-ttu-id="591ac-291">VerifyReadyDialog</span><span class="sxs-lookup"><span data-stu-id="591ac-291">VerifyReadyDialog</span></span> | <span data-ttu-id="591ac-292">InstallPerUser</span><span class="sxs-lookup"><span data-stu-id="591ac-292">InstallPerUser</span></span> | <span data-ttu-id="591ac-293">Ocultar</span><span class="sxs-lookup"><span data-stu-id="591ac-293">Hide</span></span>    | <span data-ttu-id="591ac-294">VersionMsi < "5,00"</span><span class="sxs-lookup"><span data-stu-id="591ac-294">VersionMsi < "5.00"</span></span>  |



 

## <a name="specifying-directory-structure"></a><span data-ttu-id="591ac-295">Especificar la estructura de directorios</span><span class="sxs-lookup"><span data-stu-id="591ac-295">Specifying Directory Structure</span></span>

<span data-ttu-id="591ac-296">Utilice el editor de base de datos para examinar la tabla de [directorios](directory-table.md) de PUASample1.msi.</span><span class="sxs-lookup"><span data-stu-id="591ac-296">Use the database editor to examine the [Directory](directory-table.md) table of PUASample1.msi.</span></span> <span data-ttu-id="591ac-297">El registro de la tabla de directorio que tiene una cadena vacía en su \_ campo principal de directorio representa el directorio raíz de los árboles de directorio de origen y de destino.</span><span class="sxs-lookup"><span data-stu-id="591ac-297">The record of the Directory Table having an empty string in its Directory\_Parent field represents the root directory of both the source and target directory trees.</span></span> <span data-ttu-id="591ac-298">Si la propiedad [**targetDir**](targetdir.md) es undefined, el instalador establece su valor en el momento de la instalación en el valor de la propiedad [**ROOTDRIVE**](rootdrive.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-298">If the [**TARGETDIR**](targetdir.md) property is undefined, the installer sets its value at installation time to the value of the [**ROOTDRIVE**](rootdrive.md) property.</span></span> <span data-ttu-id="591ac-299">Si la propiedad [**SourceDir**](sourcedir.md) no está definida, el instalador establece su valor en la ubicación del directorio que contiene el paquete de Windows Installer (archivo. msi). Los nombres de directorio se especifican con el \| formato largo corto.</span><span class="sxs-lookup"><span data-stu-id="591ac-299">If the [**SourceDir**](sourcedir.md) property is undefined, the installer sets its value to the location of the directory containing the Windows Installer package (.msi file.) The directory names are specified using the short\|long format.</span></span>

<span data-ttu-id="591ac-300">[Directorio](directory-table.md) de Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-300">[Directory](directory-table.md) Table (partial)</span></span>

| <span data-ttu-id="591ac-301">Directorio</span><span class="sxs-lookup"><span data-stu-id="591ac-301">Directory</span></span>          | <span data-ttu-id="591ac-302">Directorio \_ primario</span><span class="sxs-lookup"><span data-stu-id="591ac-302">Directory\_Parent</span></span>  | <span data-ttu-id="591ac-303">DefaultDir</span><span class="sxs-lookup"><span data-stu-id="591ac-303">DefaultDir</span></span>               |
|--------------------|--------------------|--------------------------|
| <span data-ttu-id="591ac-304">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-304">TARGETDIR</span></span>          |                    | <span data-ttu-id="591ac-305">SourceDir</span><span class="sxs-lookup"><span data-stu-id="591ac-305">SourceDir</span></span>                |
| <span data-ttu-id="591ac-306">ProgramFilesFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-306">ProgramFilesFolder</span></span> | <span data-ttu-id="591ac-307">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-307">TARGETDIR</span></span>          | <span data-ttu-id="591ac-308">.</span><span class="sxs-lookup"><span data-stu-id="591ac-308">.</span></span>                        |
| <span data-ttu-id="591ac-309">ProgramMenuFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-309">ProgramMenuFolder</span></span>  | <span data-ttu-id="591ac-310">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-310">TARGETDIR</span></span>          | <span data-ttu-id="591ac-311">.</span><span class="sxs-lookup"><span data-stu-id="591ac-311">.</span></span>                        |
| <span data-ttu-id="591ac-312">INSTALLLOCATION</span><span class="sxs-lookup"><span data-stu-id="591ac-312">INSTALLLOCATION</span></span>    | <span data-ttu-id="591ac-313">Mi proveedor</span><span class="sxs-lookup"><span data-stu-id="591ac-313">MyVendor</span></span>           | <span data-ttu-id="591ac-314">Sample1 \| MSDN-PUASample1</span><span class="sxs-lookup"><span data-stu-id="591ac-314">Sample1\|MSDN-PUASample1</span></span> |
| <span data-ttu-id="591ac-315">Mi proveedor</span><span class="sxs-lookup"><span data-stu-id="591ac-315">MyVendor</span></span>           | <span data-ttu-id="591ac-316">ProgramFilesFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-316">ProgramFilesFolder</span></span> | <span data-ttu-id="591ac-317">Msft \| Microsoft</span><span class="sxs-lookup"><span data-stu-id="591ac-317">Msft\|Microsoft</span></span>          |



 

<span data-ttu-id="591ac-318">En el origen, esta tabla de [directorio](directory-table.md) se resuelve en las siguientes rutas de acceso de directorio.</span><span class="sxs-lookup"><span data-stu-id="591ac-318">At the source, this [Directory](directory-table.md) table resolves to the following directory paths.</span></span>

<dl> <span data-ttu-id="591ac-319">\[SourceDir \] \\ msft \\ Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-319">\[SourceDir\]\\Msft\\Sample1</span></span>  
<span data-ttu-id="591ac-320">\[SourceDir\]</span><span class="sxs-lookup"><span data-stu-id="591ac-320">\[SourceDir\]</span></span>  
</dl>

<span data-ttu-id="591ac-321">En el destino, la tabla de [directorio](directory-table.md) se resuelve en las rutas de acceso de la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="591ac-321">At the target, the [Directory](directory-table.md) table resolves to the paths in the following table.</span></span> <span data-ttu-id="591ac-322">El instalador establece los valores de las propiedades [**ProgramFilesFolder**](programfilesfolder.md) y [**ProgramMenuFolder**](programmenufolder.md) en ubicaciones que dependen del [contexto de instalación](installation-context.md) y de si el sistema es la versión de 32 bits o de 64 bits de Windows Server 2008 R2 y Windows 7.</span><span class="sxs-lookup"><span data-stu-id="591ac-322">The installer sets the values of the [**ProgramFilesFolder**](programfilesfolder.md) and [**ProgramMenuFolder**](programmenufolder.md) properties to locations that depend upon the [installation context](installation-context.md) and whether the system is the 32-bit or 64-bit versions of Windows Server 2008 R2 and Windows 7.</span></span> <span data-ttu-id="591ac-323">Las rutas de acceso a las carpetas de destino dependen de si el usuario selecciona una instalación por usuario o por equipo.</span><span class="sxs-lookup"><span data-stu-id="591ac-323">The paths to the target folders depend on whether the user selects a per-user or per-machine installation.</span></span>

| <span data-ttu-id="591ac-324">Contexto de instalación</span><span class="sxs-lookup"><span data-stu-id="591ac-324">Installation Context</span></span> | <span data-ttu-id="591ac-325">System</span><span class="sxs-lookup"><span data-stu-id="591ac-325">System</span></span>                                                                              | <span data-ttu-id="591ac-326">Rutas de acceso de ejemplo</span><span class="sxs-lookup"><span data-stu-id="591ac-326">Example Paths</span></span>                                                                                                                    |
|----------------------|-------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="591ac-327">Per-Machine</span><span class="sxs-lookup"><span data-stu-id="591ac-327">Per-Machine</span></span>          | <span data-ttu-id="591ac-328">Windows Server 2008 R2 y Windows 7</span><span class="sxs-lookup"><span data-stu-id="591ac-328">Windows Server 2008 R2 and Windows 7</span></span><br/> <span data-ttu-id="591ac-329">versión de 32 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-329">32-bit version</span></span><br/>           | <span data-ttu-id="591ac-330">% ProgramFiles% \\ msft \\ Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-330">%ProgramFiles%\\Msft\\Sample1</span></span><br/> <span data-ttu-id="591ac-331">% ALLUSERSPROFILE% \\ \\ programas del \\ menú Inicio de Microsoft Windows \\</span><span class="sxs-lookup"><span data-stu-id="591ac-331">%ALLUSERSPROFILE%\\Microsoft\\Windows\\Start Menu\\Programs</span></span><br/>                  |
| <span data-ttu-id="591ac-332">Per-Machine</span><span class="sxs-lookup"><span data-stu-id="591ac-332">Per-Machine</span></span>          | <span data-ttu-id="591ac-333">Windows Server 2008 R2 y Windows 7</span><span class="sxs-lookup"><span data-stu-id="591ac-333">Windows Server 2008 R2 and Windows 7</span></span><br/> <span data-ttu-id="591ac-334">versión de 64 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-334">64-bit version</span></span><br/>           | <span data-ttu-id="591ac-335">% ProgramFiles (x86)% \\ msft \\ Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-335">%ProgramFiles(x86)%\\Msft\\Sample1</span></span><br/> <span data-ttu-id="591ac-336">% ALLUSERSPROFILE% \\ \\ programas del \\ menú Inicio de Microsoft Windows \\</span><span class="sxs-lookup"><span data-stu-id="591ac-336">%ALLUSERSPROFILE%\\Microsoft\\Windows\\Start Menu\\Programs</span></span><br/>             |
| <span data-ttu-id="591ac-337">Per-User</span><span class="sxs-lookup"><span data-stu-id="591ac-337">Per-User</span></span>             | <span data-ttu-id="591ac-338">Windows Server 2008 R2 y Windows 7</span><span class="sxs-lookup"><span data-stu-id="591ac-338">Windows Server 2008 R2 and Windows 7</span></span><br/> <span data-ttu-id="591ac-339">versión de 32 bits o de 64 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-339">32-bit or 64-bit version</span></span><br/> | <span data-ttu-id="591ac-340">% USERPROFILE% \\ AppData \\ \\ programas locales \\ msft \\ Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-340">%USERPROFILE%\\AppData\\Local\\Programs\\Msft\\Sample1</span></span><br/> <span data-ttu-id="591ac-341">% APPDATA% \\ \\ programas del \\ menú Inicio de Microsoft Windows \\</span><span class="sxs-lookup"><span data-stu-id="591ac-341">%APPDATA%\\Microsoft\\Windows\\Start Menu\\Programs</span></span><br/> |



 

<span data-ttu-id="591ac-342">Las aplicaciones por usuario deben almacenarse en subcarpetas en la carpeta programas especificada por el valor de la propiedad [**ProgramFilesFolder**](programfilesfolder.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-342">Per-user applications should be stored in subfolders under the Programs folder specified by the value of [**ProgramFilesFolder**](programfilesfolder.md) property.</span></span> <span data-ttu-id="591ac-343">Normalmente, la ruta de acceso a la aplicación tiene el formato siguiente.</span><span class="sxs-lookup"><span data-stu-id="591ac-343">Typically, the path to the application takes the following form.</span></span>

<span data-ttu-id="591ac-344">% LOCALAPPDATA% \\ Programs \\ *ISV Name* \\ *appname*.</span><span class="sxs-lookup"><span data-stu-id="591ac-344">%LOCALAPPDATA%\\Programs\\*ISV name*\\*AppName*.</span></span>

<span data-ttu-id="591ac-345">Los datos de configuración por usuario deben almacenarse en la carpeta programas especificada por el valor de la propiedad [**ProgramMenuFolder**](programmenufolder.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-345">Per-user configuration data should be stored in the Programs folder specified by the value of the [**ProgramMenuFolder**](programmenufolder.md) property.</span></span> <span data-ttu-id="591ac-346">Normalmente, esta carpeta se encuentra en la siguiente ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="591ac-346">Typically, this folder is located at the following path.</span></span>

<span data-ttu-id="591ac-347">% APPDATA% \\ \\ programas del \\ menú Inicio de Microsoft Windows \\</span><span class="sxs-lookup"><span data-stu-id="591ac-347">%APPDATA%\\Microsoft\\Windows\\Start Menu\\Programs</span></span>

<span data-ttu-id="591ac-348">Si instala componentes de [paquete de Windows Installer de 32 bits](32-bit-windows-installer-packages.md) , utilice la propiedad [**ProgramFilesFolder**](programfilesfolder.md) y [**CommonFilesFolder**](commonfilesfolder.md) en la tabla de [directorio](directory-table.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-348">If installing [32-bit Windows Installer Package](32-bit-windows-installer-packages.md) components, use the [**ProgramFilesFolder**](programfilesfolder.md) and [**CommonFilesFolder**](commonfilesfolder.md) property in the [Directory](directory-table.md) table.</span></span> <span data-ttu-id="591ac-349">Si instala componentes [de paquete de Windows Installer de 64 bits](64-bit-windows-installer-packages.md) , use las propiedades [**ProgramFiles64Folder**](programfiles64folder.md) y [**CommonFiles64Folder**](commonfiles64folder.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-349">If installing [64-bit Windows Installer Package](64-bit-windows-installer-packages.md) components, use the [**ProgramFiles64Folder**](programfiles64folder.md) and [**CommonFiles64Folder**](commonfiles64folder.md) properties.</span></span> <span data-ttu-id="591ac-350">Si la aplicación contiene versiones de 32 bits y de 64 bits del mismo componente, con el mismo nombre, asegúrese de que estas versiones se guardan en directorios diferentes o asígneles nombres diferentes.</span><span class="sxs-lookup"><span data-stu-id="591ac-350">If your application contains 32-bit and 64-bit versions of the same component, with the same name, ensure that these versions are saved in different directories or give them different names.</span></span>

<span data-ttu-id="591ac-351">La siguiente tabla de [directorio](directory-table.md) proporciona un ejemplo de un diseño de directorio compatible con un paquete que incluye componentes de 32 y 64 bits e incluye algunos componentes que se comparten entre las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="591ac-351">The following [Directory](directory-table.md) table provides an example of a directory layout compatible with a package that includes 32-bit and 64-bit components and includes some components that are shared across applications.</span></span>

| <span data-ttu-id="591ac-352">Directorio</span><span class="sxs-lookup"><span data-stu-id="591ac-352">Directory</span></span>            | <span data-ttu-id="591ac-353">Directorio \_ primario</span><span class="sxs-lookup"><span data-stu-id="591ac-353">Directory\_Parent</span></span>    | <span data-ttu-id="591ac-354">DefaultDir</span><span class="sxs-lookup"><span data-stu-id="591ac-354">DefaultDir</span></span>                        |
|----------------------|----------------------|-----------------------------------|
| <span data-ttu-id="591ac-355">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-355">TARGETDIR</span></span>            |                      | <span data-ttu-id="591ac-356">SourceDir</span><span class="sxs-lookup"><span data-stu-id="591ac-356">SourceDir</span></span>                         |
| <span data-ttu-id="591ac-357">ProgramFilesFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-357">ProgramFilesFolder</span></span>   | <span data-ttu-id="591ac-358">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-358">TARGETDIR</span></span>            | <span data-ttu-id="591ac-359">.:P rog32</span><span class="sxs-lookup"><span data-stu-id="591ac-359">.:Prog32</span></span>                          |
| <span data-ttu-id="591ac-360">ProgramFiles64Folder</span><span class="sxs-lookup"><span data-stu-id="591ac-360">ProgramFiles64Folder</span></span> | <span data-ttu-id="591ac-361">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-361">TARGETDIR</span></span>            | <span data-ttu-id="591ac-362">.:P rog64</span><span class="sxs-lookup"><span data-stu-id="591ac-362">.:Prog64</span></span>                          |
| <span data-ttu-id="591ac-363">CommonFilesFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-363">CommonFilesFolder</span></span>    | <span data-ttu-id="591ac-364">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-364">TARGETDIR</span></span>            | <span data-ttu-id="591ac-365">.:Share32</span><span class="sxs-lookup"><span data-stu-id="591ac-365">.:Share32</span></span>                         |
| <span data-ttu-id="591ac-366">CommonFiles64Folder</span><span class="sxs-lookup"><span data-stu-id="591ac-366">CommonFiles64Folder</span></span>  | <span data-ttu-id="591ac-367">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-367">TARGETDIR</span></span>            | <span data-ttu-id="591ac-368">.:Share64</span><span class="sxs-lookup"><span data-stu-id="591ac-368">.:Share64</span></span>                         |
| <span data-ttu-id="591ac-369">ProgramMenuFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-369">ProgramMenuFolder</span></span>    | <span data-ttu-id="591ac-370">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="591ac-370">TARGETDIR</span></span>            | <span data-ttu-id="591ac-371">.: Sample1 \| MSDN-PUASample1</span><span class="sxs-lookup"><span data-stu-id="591ac-371">.:Sample1\|MSDN-PUASample1</span></span>        |
| <span data-ttu-id="591ac-372">INSTALLLOCATION</span><span class="sxs-lookup"><span data-stu-id="591ac-372">INSTALLLOCATION</span></span>      | <span data-ttu-id="591ac-373">Mi proveedor</span><span class="sxs-lookup"><span data-stu-id="591ac-373">MyVendor</span></span>             | <span data-ttu-id="591ac-374">Sample1 \| MSDN-PUASample1</span><span class="sxs-lookup"><span data-stu-id="591ac-374">Sample1\|MSDN-PUASample1</span></span>          |
| <span data-ttu-id="591ac-375">INSTALLLOCATIONX64</span><span class="sxs-lookup"><span data-stu-id="591ac-375">INSTALLLOCATIONX64</span></span>   | <span data-ttu-id="591ac-376">Vendorx64</span><span class="sxs-lookup"><span data-stu-id="591ac-376">Vendorx64</span></span>            | <span data-ttu-id="591ac-377">Sample1 \| MSDN-PUASample1</span><span class="sxs-lookup"><span data-stu-id="591ac-377">Sample1\|MSDN-PUASample1</span></span>          |
| <span data-ttu-id="591ac-378">SHAREDLOCATION</span><span class="sxs-lookup"><span data-stu-id="591ac-378">SHAREDLOCATION</span></span>       | <span data-ttu-id="591ac-379">ShVendor</span><span class="sxs-lookup"><span data-stu-id="591ac-379">ShVendor</span></span>             | <span data-ttu-id="591ac-380">Sample1 \| MSDN-PUASample1</span><span class="sxs-lookup"><span data-stu-id="591ac-380">Sample1\|MSDN-PUASample1</span></span>          |
| <span data-ttu-id="591ac-381">SHAREDLOCATIONX64</span><span class="sxs-lookup"><span data-stu-id="591ac-381">SHAREDLOCATIONX64</span></span>    | <span data-ttu-id="591ac-382">ShVendorx64</span><span class="sxs-lookup"><span data-stu-id="591ac-382">ShVendorx64</span></span>          | <span data-ttu-id="591ac-383">Sample1 \| MSDN-PUASample1</span><span class="sxs-lookup"><span data-stu-id="591ac-383">Sample1\|MSDN-PUASample1</span></span>          |
| <span data-ttu-id="591ac-384">Mi proveedor</span><span class="sxs-lookup"><span data-stu-id="591ac-384">MyVendor</span></span>             | <span data-ttu-id="591ac-385">ProgramFilesFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-385">ProgramFilesFolder</span></span>   | <span data-ttu-id="591ac-386">Msft \| Microsoft</span><span class="sxs-lookup"><span data-stu-id="591ac-386">Msft\|Microsoft</span></span>                   |
| <span data-ttu-id="591ac-387">Vendorx64</span><span class="sxs-lookup"><span data-stu-id="591ac-387">Vendorx64</span></span>            | <span data-ttu-id="591ac-388">ProgramFiles64Folder</span><span class="sxs-lookup"><span data-stu-id="591ac-388">ProgramFiles64Folder</span></span> | <span data-ttu-id="591ac-389">Msft \| Microsoft</span><span class="sxs-lookup"><span data-stu-id="591ac-389">Msft\|Microsoft</span></span>                   |
| <span data-ttu-id="591ac-390">ShVendor</span><span class="sxs-lookup"><span data-stu-id="591ac-390">ShVendor</span></span>             | <span data-ttu-id="591ac-391">CommonFilesFolder</span><span class="sxs-lookup"><span data-stu-id="591ac-391">CommonFilesFolder</span></span>    | <span data-ttu-id="591ac-392">Msft \| Microsoft</span><span class="sxs-lookup"><span data-stu-id="591ac-392">Msft\|Microsoft</span></span>                   |
| <span data-ttu-id="591ac-393">ShVendorx64</span><span class="sxs-lookup"><span data-stu-id="591ac-393">ShVendorx64</span></span>          | <span data-ttu-id="591ac-394">CommonFiles64Folder</span><span class="sxs-lookup"><span data-stu-id="591ac-394">CommonFiles64Folder</span></span>  | <span data-ttu-id="591ac-395">Msft \| Microsoft</span><span class="sxs-lookup"><span data-stu-id="591ac-395">Msft\|Microsoft</span></span>                   |
| <span data-ttu-id="591ac-396">Shrx86</span><span class="sxs-lookup"><span data-stu-id="591ac-396">Shrx86</span></span>               | <span data-ttu-id="591ac-397">SHAREDLOCATION</span><span class="sxs-lookup"><span data-stu-id="591ac-397">SHAREDLOCATION</span></span>       | <span data-ttu-id="591ac-398">\|componentes x32 32 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-398">x32\|32-bit components</span></span>            |
| <span data-ttu-id="591ac-399">Shrx64</span><span class="sxs-lookup"><span data-stu-id="591ac-399">Shrx64</span></span>               | <span data-ttu-id="591ac-400">SHAREDLOCATIONX64</span><span class="sxs-lookup"><span data-stu-id="591ac-400">SHAREDLOCATIONX64</span></span>    | <span data-ttu-id="591ac-401">\|componentes de 64 bits de 64</span><span class="sxs-lookup"><span data-stu-id="591ac-401">x64\|64-bit components</span></span>            |
| <span data-ttu-id="591ac-402">Binx86</span><span class="sxs-lookup"><span data-stu-id="591ac-402">Binx86</span></span>               | <span data-ttu-id="591ac-403">INSTALLLOCATION</span><span class="sxs-lookup"><span data-stu-id="591ac-403">INSTALLLOCATION</span></span>      | <span data-ttu-id="591ac-404">\|componentes x32 32 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-404">x32\|32-bit components</span></span>            |
| <span data-ttu-id="591ac-405">Binx64</span><span class="sxs-lookup"><span data-stu-id="591ac-405">Binx64</span></span>               | <span data-ttu-id="591ac-406">INSTALLLOCATIONX64</span><span class="sxs-lookup"><span data-stu-id="591ac-406">INSTALLLOCATIONX64</span></span>   | <span data-ttu-id="591ac-407">\|componentes de 64 bits de 64</span><span class="sxs-lookup"><span data-stu-id="591ac-407">x64\|64-bit components</span></span>            |
| <span data-ttu-id="591ac-408">App32</span><span class="sxs-lookup"><span data-stu-id="591ac-408">App32</span></span>                | <span data-ttu-id="591ac-409">Binx86</span><span class="sxs-lookup"><span data-stu-id="591ac-409">Binx86</span></span>               | <span data-ttu-id="591ac-410">MyApp \| unshared 32 componentes de bits</span><span class="sxs-lookup"><span data-stu-id="591ac-410">myapp\|unshared 32-bit components</span></span> |
| <span data-ttu-id="591ac-411">App64</span><span class="sxs-lookup"><span data-stu-id="591ac-411">App64</span></span>                | <span data-ttu-id="591ac-412">Binx64</span><span class="sxs-lookup"><span data-stu-id="591ac-412">Binx64</span></span>               | <span data-ttu-id="591ac-413">MyApp \| unshared 64 componentes de bits</span><span class="sxs-lookup"><span data-stu-id="591ac-413">myapp\|unshared 64-bit components</span></span> |
| <span data-ttu-id="591ac-414">Share32</span><span class="sxs-lookup"><span data-stu-id="591ac-414">Share32</span></span>              | <span data-ttu-id="591ac-415">Shrx86</span><span class="sxs-lookup"><span data-stu-id="591ac-415">Shrx86</span></span>               | <span data-ttu-id="591ac-416">componentes compartidos compartidos \| de 32 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-416">shared\|shared 32-bit components</span></span>  |
| <span data-ttu-id="591ac-417">Share64</span><span class="sxs-lookup"><span data-stu-id="591ac-417">Share64</span></span>              | <span data-ttu-id="591ac-418">Shrx64</span><span class="sxs-lookup"><span data-stu-id="591ac-418">Shrx64</span></span>               | <span data-ttu-id="591ac-419">componentes compartidos compartidos \| de 64 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-419">shared\|shared 64-bit components</span></span>  |



 

<span data-ttu-id="591ac-420">En el origen, esta tabla de [directorio](directory-table.md) se resuelve en las siguientes rutas de acceso de directorio.</span><span class="sxs-lookup"><span data-stu-id="591ac-420">At the source, this [Directory](directory-table.md) table resolves to the following directory paths.</span></span>

<dl> <span data-ttu-id="591ac-421">\[SourceDir \] Prog32 \\ msft \\ Sample1 \\ x32 \\ MyApp</span><span class="sxs-lookup"><span data-stu-id="591ac-421">\[SourceDir\]Prog32\\Msft\\Sample1\\x32\\myapp</span></span>  
<span data-ttu-id="591ac-422">\[\]Archivos comunes de SourceDir Share32 \\ \\ msft \\ Sample1 \\ x32 \\ compartidos</span><span class="sxs-lookup"><span data-stu-id="591ac-422">\[SourceDir\]Share32\\Common Files\\Msft\\Sample1\\x32\\shared</span></span>  
<span data-ttu-id="591ac-423">\[SourceDir \] Prog64 \\ msft \\ Sample1 \\ x64 \\</span><span class="sxs-lookup"><span data-stu-id="591ac-423">\[SourceDir\]Prog64\\Msft\\Sample1\\x64\\myapp</span></span>  
<span data-ttu-id="591ac-424">\[\]Archivos comunes de SourceDir Share64 \\ \\ msft \\ Sample1 \\ x64 \\ compartidos</span><span class="sxs-lookup"><span data-stu-id="591ac-424">\[SourceDir\]Share64\\Common Files\\Msft\\Sample1\\x64\\shared</span></span>  
<span data-ttu-id="591ac-425">\[SourceDir \] Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-425">\[SourceDir\]Sample1</span></span>  
</dl>

<span data-ttu-id="591ac-426">En el destino, esta tabla de [directorio](directory-table.md) se resuelve en las siguientes rutas de acceso de directorio.</span><span class="sxs-lookup"><span data-stu-id="591ac-426">At the target, this [Directory](directory-table.md) table resolves to the following directory paths.</span></span> <span data-ttu-id="591ac-427">Las rutas de acceso de destino dependen del [contexto de instalación](installation-context.md) y del sistema.</span><span class="sxs-lookup"><span data-stu-id="591ac-427">The target paths depend on the [installation context](installation-context.md) and system.</span></span>

| <span data-ttu-id="591ac-428">Contexto de instalación</span><span class="sxs-lookup"><span data-stu-id="591ac-428">Installation Context</span></span> | <span data-ttu-id="591ac-429">System</span><span class="sxs-lookup"><span data-stu-id="591ac-429">System</span></span>                                                                              | <span data-ttu-id="591ac-430">Rutas de acceso de ejemplo</span><span class="sxs-lookup"><span data-stu-id="591ac-430">Example Paths</span></span>                                                                                                                                                                                                                                                                                                                                         |
|----------------------|-------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="591ac-431">Per-Machine</span><span class="sxs-lookup"><span data-stu-id="591ac-431">Per-Machine</span></span>          | <span data-ttu-id="591ac-432">Windows Server 2008 R2 y Windows 7</span><span class="sxs-lookup"><span data-stu-id="591ac-432">Windows Server 2008 R2 and Windows 7</span></span><br/> <span data-ttu-id="591ac-433">versión de 32 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-433">32-bit version</span></span><br/>           | <span data-ttu-id="591ac-434">% ProgramFiles% \\ msft \\ Sample1 \\ x32 \\ MyApp</span><span class="sxs-lookup"><span data-stu-id="591ac-434">%ProgramFiles%\\Msft\\Sample1\\x32\\myapp</span></span><br/> <span data-ttu-id="591ac-435">% ProgramFiles% \\ archivos comunes \\ msft \\ Sample1 \\ x32 \\ compartidos</span><span class="sxs-lookup"><span data-stu-id="591ac-435">%ProgramFiles%\\Common Files\\Msft\\Sample1\\x32\\shared</span></span><br/> <span data-ttu-id="591ac-436">% ProgramFiles (x86)% \\ msft \\ Sample1 \\ x64 \\ MyApp</span><span class="sxs-lookup"><span data-stu-id="591ac-436">%ProgramFiles(x86)%\\Msft\\Sample1\\x64\\myapp</span></span><br/> <span data-ttu-id="591ac-437">% ProgramFiles (x86)% \\ archivos comunes \\ msft \\ Sample1 \\ x64 \\ compartidos</span><span class="sxs-lookup"><span data-stu-id="591ac-437">%ProgramFiles(x86)%\\Common Files\\Msft\\Sample1\\x64\\shared</span></span><br/> <span data-ttu-id="591ac-438">% ProgramData% \\ \\ programas del \\ menú Inicio de Microsoft Windows \\ \\ Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-438">%ProgramData%\\Microsoft\\Windows\\Start Menu\\Programs\\Sample1</span></span><br/>               |
| <span data-ttu-id="591ac-439">Per-Machine</span><span class="sxs-lookup"><span data-stu-id="591ac-439">Per-Machine</span></span>          | <span data-ttu-id="591ac-440">Windows Server 2008 R2 y Windows 7</span><span class="sxs-lookup"><span data-stu-id="591ac-440">Windows Server 2008 R2 and Windows 7</span></span><br/> <span data-ttu-id="591ac-441">versión de 64 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-441">64-bit version</span></span><br/>           | <span data-ttu-id="591ac-442">% ProgramFiles (x86)% \\ msft \\ Sample1 \\ x32 \\ MyApp</span><span class="sxs-lookup"><span data-stu-id="591ac-442">%ProgramFiles(x86)%\\Msft\\Sample1\\x32\\myapp</span></span><br/> <span data-ttu-id="591ac-443">% ProgramFiles (x86)% \\ archivos comunes \\ msft \\ Sample1 \\ x32 \\ compartidos</span><span class="sxs-lookup"><span data-stu-id="591ac-443">%ProgramFiles(x86)%\\Common Files\\Msft\\Sample1\\x32\\shared</span></span><br/> <span data-ttu-id="591ac-444">% ProgramFiles% \\ msft \\ Sample1 \\ x64 \\ MyApp</span><span class="sxs-lookup"><span data-stu-id="591ac-444">%ProgramFiles%\\Msft\\Sample1\\x64\\myapp</span></span><br/> <span data-ttu-id="591ac-445">% ProgramFiles% \\ archivos comunes \\ msft \\ Sample1 \\ x64 \\ compartidos</span><span class="sxs-lookup"><span data-stu-id="591ac-445">%ProgramFiles%\\Common Files\\Msft\\Sample1\\x64\\shared</span></span><br/> <span data-ttu-id="591ac-446">% ProgramData% \\ \\ programas del \\ menú Inicio de Microsoft Windows \\ \\ Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-446">%ProgramData%\\Microsoft\\Windows\\Start Menu\\Programs\\Sample1</span></span><br/>               |
| <span data-ttu-id="591ac-447">Per-User</span><span class="sxs-lookup"><span data-stu-id="591ac-447">Per-User</span></span>             | <span data-ttu-id="591ac-448">Windows Server 2008 R2 y Windows 7</span><span class="sxs-lookup"><span data-stu-id="591ac-448">Windows Server 2008 R2 and Windows 7</span></span><br/> <span data-ttu-id="591ac-449">versión de 32 bits o de 64 bits</span><span class="sxs-lookup"><span data-stu-id="591ac-449">32-bit or 64-bit version</span></span><br/> | <span data-ttu-id="591ac-450">% LOCALAPPDATA% \\ Programs \\ msft \\ Sample1 \\ x32 \\ MyApp</span><span class="sxs-lookup"><span data-stu-id="591ac-450">%LOCALAPPDATA%\\Programs\\Msft\\Sample1\\x32\\myapp</span></span><br/> <span data-ttu-id="591ac-451">% LOCALAPPDATA% \\ Programs \\ Common \\ msft \\ Sample1 \\ x32 \\ Shared</span><span class="sxs-lookup"><span data-stu-id="591ac-451">%LOCALAPPDATA%\\Programs\\Common\\Msft\\Sample1\\x32\\shared</span></span><br/> <span data-ttu-id="591ac-452">% LOCALAPPDATA% \\ programas \\ msft \\ Sample1 \\ x64 \\ MyApp</span><span class="sxs-lookup"><span data-stu-id="591ac-452">%LOCALAPPDATA%\\Programs\\Msft\\Sample1\\x64\\myapp</span></span><br/> <span data-ttu-id="591ac-453">% LOCALAPPDATA% \\ Programs \\ Common \\ msft \\ Sample1 \\ x64 \\ compartidos</span><span class="sxs-lookup"><span data-stu-id="591ac-453">%LOCALAPPDATA%\\Programs\\Common\\Msft\\Sample1\\x64\\shared</span></span><br/> <span data-ttu-id="591ac-454">% APPDATA% \\ \\ programas del \\ menú Inicio de Microsoft Windows \\ \\ Sample1</span><span class="sxs-lookup"><span data-stu-id="591ac-454">%APPDATA%\\Microsoft\\Windows\\Start Menu\\Programs\\Sample1</span></span><br/> |



 

## <a name="application-registration"></a><span data-ttu-id="591ac-455">Registro de la aplicación</span><span class="sxs-lookup"><span data-stu-id="591ac-455">Application Registration</span></span>

<span data-ttu-id="591ac-456">El PUASample.msi agrega una subclave a la clave del registro de las rutas de acceso de la aplicación y realiza registros que permiten guardar la información de la aplicación en el registro bajo esta clave.</span><span class="sxs-lookup"><span data-stu-id="591ac-456">The PUASample.msi adds a subkey to the App Paths registry key for the application and performs registrations that enable application information to be saved in the registry under this key.</span></span> <span data-ttu-id="591ac-457">Para obtener más información sobre las rutas de acceso de la aplicación y el registro de aplicaciones, consulte [PerceivedTypes, SystemFileAssociations y registro de aplicaciones](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)) en la sección [extensibilidad de Shell](https://msdn.microsoft.com/library/bb762762.aspx) de la [Guía del desarrollador de Shell](/previous-versions/windows/desktop/legacy/bb776778(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="591ac-457">For more information about App Paths and application registration, see the [PerceivedTypes, SystemFileAssociations, and Application Registration](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)) in the [shell extensibility](https://msdn.microsoft.com/library/bb762762.aspx) section of the [Shell Developer's Guide](/previous-versions/windows/desktop/legacy/bb776778(v=vs.85)).</span></span> <span data-ttu-id="591ac-458">En el momento de la instalación, el usuario toma la decisión de instalar la aplicación en el contexto de instalación por usuario o por equipo.</span><span class="sxs-lookup"><span data-stu-id="591ac-458">At installation time, the user makes the decision to install the application in either the per-user or per-machine installation context.</span></span> <span data-ttu-id="591ac-459">En el momento en que se crea el paquete de doble propósito, el desarrollador de paquetes no puede saber si los registros deben realizarse en las claves de usuario de la \_ máquina local HKEY \_ o HKEY \_ actual \_ .</span><span class="sxs-lookup"><span data-stu-id="591ac-459">At the time the dual-purpose package is authored, the package developer cannot know if the registrations should be performed under the HKEY\_LOCAL\_MACHINE or HKEY\_CURRENT\_USER keys.</span></span>

<span data-ttu-id="591ac-460">El desarrollador de paquetes define el identificador de archivo del archivo ejecutable de la aplicación en el campo de archivo de la tabla de [archivos](file-table.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-460">The package developer defines the file identifier for the application's executable file in the File field of the [File](file-table.md) Table.</span></span>

<span data-ttu-id="591ac-461">[Archivo](file-table.md) de Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-461">[File](file-table.md) Table (partial)</span></span> 

| <span data-ttu-id="591ac-462">Archivo</span><span class="sxs-lookup"><span data-stu-id="591ac-462">File</span></span>      | <span data-ttu-id="591ac-463">Componente\_</span><span class="sxs-lookup"><span data-stu-id="591ac-463">Component\_</span></span>      | <span data-ttu-id="591ac-464">FileName</span><span class="sxs-lookup"><span data-stu-id="591ac-464">FileName</span></span>                     | <span data-ttu-id="591ac-465">FileSize</span><span class="sxs-lookup"><span data-stu-id="591ac-465">FileSize</span></span> | <span data-ttu-id="591ac-466">Versión</span><span class="sxs-lookup"><span data-stu-id="591ac-466">Version</span></span> | <span data-ttu-id="591ac-467">Idioma</span><span class="sxs-lookup"><span data-stu-id="591ac-467">Language</span></span> | <span data-ttu-id="591ac-468">Atributos</span><span class="sxs-lookup"><span data-stu-id="591ac-468">Attributes</span></span> | <span data-ttu-id="591ac-469">Secuencia</span><span class="sxs-lookup"><span data-stu-id="591ac-469">Sequence</span></span> |
|-----------|------------------|------------------------------|----------|---------|----------|------------|----------|
| <span data-ttu-id="591ac-470">MyAppFile</span><span class="sxs-lookup"><span data-stu-id="591ac-470">MyAppFile</span></span> | <span data-ttu-id="591ac-471">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-471">ProductComponent</span></span> | <span data-ttu-id="591ac-472">PUASAMP1.EXE\|PUASample1.exe</span><span class="sxs-lookup"><span data-stu-id="591ac-472">PUASAMP1.EXE\|PUASample1.exe</span></span> | <span data-ttu-id="591ac-473">81920</span><span class="sxs-lookup"><span data-stu-id="591ac-473">81920</span></span>    |         |          | <span data-ttu-id="591ac-474">0</span><span class="sxs-lookup"><span data-stu-id="591ac-474">0</span></span>          | <span data-ttu-id="591ac-475">1</span><span class="sxs-lookup"><span data-stu-id="591ac-475">1</span></span>        |



 

<span data-ttu-id="591ac-476">Los valores que se van a guardar en el registro se pueden especificar en el campo de valor de la tabla [del registro](registry-table.md) como una cadena [con formato](formatted.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-476">Values to be saved in the registry can be specified in the Value field of the [Registry](registry-table.md) table as a [Formatted](formatted.md) string.</span></span> <span data-ttu-id="591ac-477">Use el identificador de archivo definido en el campo de archivo de la tabla de [archivos](file-table.md) y la \[ \#  \] Convención filekey del tipo con formato para especificar el valor predeterminado de la clave del registro de rutas de acceso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="591ac-477">Use the file identifier defined in the File field of the [File](file-table.md) table, and the \[\#*filekey*\] convention of the Formatted type, to specify the default value for the App Paths registry key.</span></span> <span data-ttu-id="591ac-478">La acción de [instalación](install-action.md) de nivel superior realiza las acciones en la tabla [InstallExecuteSequence](installexecutesequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-478">The top-level [INSTALL](install-action.md) action performs the actions in the [InstallExecuteSequence](installexecutesequence-table.md) table.</span></span> <span data-ttu-id="591ac-479">Una vez completadas las acciones [CostInitialize](costinitialize-action.md), [FileCost](filecost-action.md)y [InstallFinalize](installfinalize-action.md) en esta tabla, la Windows Installer reemplaza la subcadena con formato \[ \# MyAppFile \] en la tabla del registro con la ruta de acceso completa al archivo de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="591ac-479">After the [CostInitialize](costinitialize-action.md), [FileCost](filecost-action.md), and [InstallFinalize](installfinalize-action.md) actions in this table have completed, the Windows Installer replaces the formatted substring \[\#MyAppFile\] in the Registry table with the full path to the application file.</span></span>

<span data-ttu-id="591ac-480">El ejemplo define una propiedad personalizada, RegRoot, para que contenga la ubicación de la clave raíz y utiliza una acción personalizada para restablecer el valor de la propiedad si el usuario elige una instalación por equipo.</span><span class="sxs-lookup"><span data-stu-id="591ac-480">The sample defines a custom property, RegRoot, to contain the location of the root key and uses a custom action to reset the property value if the user chooses a per-machine installation.</span></span> <span data-ttu-id="591ac-481">Use la propiedad personalizada RegRoot en cualquier valor de cadena con formato que haga referencia a la ubicación raíz.</span><span class="sxs-lookup"><span data-stu-id="591ac-481">Use the custom property, RegRoot, in any formatted string values that reference the root location.</span></span> <span data-ttu-id="591ac-482">En la tabla de [propiedades](property-table.md) , el paquete de PUASample.msi define la propiedad personalizada y establece el valor de REGROOT en HKCU.</span><span class="sxs-lookup"><span data-stu-id="591ac-482">In the [Property](property-table.md) table the PUASample.msi package defines the custom property and sets the value of RegRoot to HKCU.</span></span> <span data-ttu-id="591ac-483">Esto inicializa el valor de la propiedad para el contexto de instalación por usuario, el contexto predeterminado recomendado para los paquetes de doble finalidad.</span><span class="sxs-lookup"><span data-stu-id="591ac-483">This initializes the value of the property for the per-user installation context, the recommended default context for dual-purpose packages.</span></span>

<span data-ttu-id="591ac-484">[Propiedad](property-table.md) Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-484">[Property](property-table.md) Table (partial)</span></span>

| <span data-ttu-id="591ac-485">Propiedad</span><span class="sxs-lookup"><span data-stu-id="591ac-485">Property</span></span> | <span data-ttu-id="591ac-486">Value</span><span class="sxs-lookup"><span data-stu-id="591ac-486">Value</span></span> |
|----------|-------|
| <span data-ttu-id="591ac-487">RegRoot</span><span class="sxs-lookup"><span data-stu-id="591ac-487">RegRoot</span></span>  | <span data-ttu-id="591ac-488">HKCU</span><span class="sxs-lookup"><span data-stu-id="591ac-488">HKCU</span></span>  |



 

<span data-ttu-id="591ac-489">En la tabla [CustomAction](customaction-table.md) , el paquete define una acción personalizada denominada set \_ RegRoot \_ HKLM.</span><span class="sxs-lookup"><span data-stu-id="591ac-489">In the [CustomAction](customaction-table.md) table the package defines a custom action named Set\_RegRoot\_HKLM.</span></span> <span data-ttu-id="591ac-490">El valor del campo tipo lo identifica como una acción personalizada 51 estándar de [tipo acción personalizada](custom-action-type-51.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-490">The value in the Type field identifies this as a [Custom Action Type 51](custom-action-type-51.md) standard custom action.</span></span> <span data-ttu-id="591ac-491">El significado de los campos de origen y de destino de la tabla CustomAction depende del tipo de acción personalizada.</span><span class="sxs-lookup"><span data-stu-id="591ac-491">The meaning of the Source and Target fields in the CustomAction table depend upon the custom action type.</span></span> <span data-ttu-id="591ac-492">Para obtener más información sobre los tipos estándar de acciones personalizadas, consulte [tipos de acción personalizados](summary-list-of-all-custom-action-types.md).</span><span class="sxs-lookup"><span data-stu-id="591ac-492">For more information about the standard types of custom actions, see [Custom Action Types](summary-list-of-all-custom-action-types.md).</span></span> <span data-ttu-id="591ac-493">El campo de origen de la \_ \_ acción personalizada Set RegRoot HKLM especifica que el valor de la propiedad RegRoot.</span><span class="sxs-lookup"><span data-stu-id="591ac-493">The Source field for the Set\_RegRoot\_HKLM custom action specifies that the value of the RegRoot property.</span></span> <span data-ttu-id="591ac-494">Si el instalador realiza la \_ \_ acción personalizada Set RegRoot HKLM, se restablece el valor de la propiedad REGROOT en HKLM.</span><span class="sxs-lookup"><span data-stu-id="591ac-494">If the installer performs the Set\_RegRoot\_HKLM custom action, this resets the value of the RegRoot property to HKLM.</span></span>

<span data-ttu-id="591ac-495">[CustomAction](customaction-table.md) Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-495">[CustomAction](customaction-table.md) Table (partial)</span></span>

| <span data-ttu-id="591ac-496">Acción</span><span class="sxs-lookup"><span data-stu-id="591ac-496">Action</span></span>             | <span data-ttu-id="591ac-497">Tipo</span><span class="sxs-lookup"><span data-stu-id="591ac-497">Type</span></span> | <span data-ttu-id="591ac-498">Source</span><span class="sxs-lookup"><span data-stu-id="591ac-498">Source</span></span>      | <span data-ttu-id="591ac-499">Destino</span><span class="sxs-lookup"><span data-stu-id="591ac-499">Target</span></span> |
|--------------------|------|-------------|--------|
| <span data-ttu-id="591ac-500">Establecer \_ RegRoot \_ HKLM</span><span class="sxs-lookup"><span data-stu-id="591ac-500">Set\_RegRoot\_HKLM</span></span> | <span data-ttu-id="591ac-501">51</span><span class="sxs-lookup"><span data-stu-id="591ac-501">51</span></span>   | <span data-ttu-id="591ac-502">\[RegRoot\]</span><span class="sxs-lookup"><span data-stu-id="591ac-502">\[RegRoot\]</span></span> | <span data-ttu-id="591ac-503">HKLM</span><span class="sxs-lookup"><span data-stu-id="591ac-503">HKLM</span></span>   |



 

<span data-ttu-id="591ac-504">La acción de [instalación](install-action.md) de nivel superior realiza las acciones de la tabla [InstallExecuteSequence](installexecutesequence-table.md) , en la secuencia especificada en el campo secuencia de esa tabla.</span><span class="sxs-lookup"><span data-stu-id="591ac-504">The top-level [INSTALL](install-action.md) action performs the actions in the [InstallExecuteSequence](installexecutesequence-table.md) table, in the sequence specified in the Sequence field of that table.</span></span> <span data-ttu-id="591ac-505">El valor creado en el campo Sequence de la \_ \_ acción personalizada Set RegRoot HKLM (1501) especifica que esta acción personalizada se realizará después de la acción [InstallInitialize](installinitialize-action.md) (1500) y antes de la acción [ProcessComponents](processcomponents-action.md) (1600). Esta secuencia garantiza que el registro de la \_ \_ acción personalizada Set RegRoot HKLM se evalúe en el momento de la instalación.</span><span class="sxs-lookup"><span data-stu-id="591ac-505">The value authored in the Sequence field for the Set\_RegRoot\_HKLM custom action (1501) specifies that this custom action be performed after the [InstallInitialize](installinitialize-action.md) action (1500) and before the [ProcessComponents](processcomponents-action.md) action (1600.) This sequence ensures that the record for the Set\_RegRoot\_HKLM custom action is evaluated at installation time.</span></span> <span data-ttu-id="591ac-506">Para obtener más información sobre la secuencia recomendada de acciones en la tabla InstallExecuteSequence, consulte el tema [InstallExecuteSequence sugerido](suggested-installexecutesequence.md) .</span><span class="sxs-lookup"><span data-stu-id="591ac-506">For more information about the recommended sequence of actions in the InstallExecuteSequence table, see the [Suggested InstallExecuteSequence](suggested-installexecutesequence.md) topic.</span></span> <span data-ttu-id="591ac-507">La [Sintaxis de la instrucción condicional](conditional-statement-syntax.md) creada en el campo condición especifica que la \_ acción Set RegRoot \_ HKLM se realice solo si el valor de la propiedad [**AllUsers**](allusers.md) se evalúa como 1 en el momento de la instalación.</span><span class="sxs-lookup"><span data-stu-id="591ac-507">The [conditional statement syntax](conditional-statement-syntax.md) authored in the Condition field specifies that the Set\_RegRoot\_HKLM action be performed only if the value of the [**ALLUSERS**](allusers.md) property evaluates to 1 at installation time.</span></span> <span data-ttu-id="591ac-508">El valor 1 de la propiedad **AllUsers** especifica una instalación por equipo.</span><span class="sxs-lookup"><span data-stu-id="591ac-508">An **ALLUSERS** property value of 1 specifies a per-machine installation.</span></span>

<span data-ttu-id="591ac-509">[InstallExecuteSequence](installexecutesequence-table.md) Tabla (parcial)</span><span class="sxs-lookup"><span data-stu-id="591ac-509">[InstallExecuteSequence](installexecutesequence-table.md) Table (partial)</span></span>

| <span data-ttu-id="591ac-510">Acción</span><span class="sxs-lookup"><span data-stu-id="591ac-510">Action</span></span>             | <span data-ttu-id="591ac-511">Condición</span><span class="sxs-lookup"><span data-stu-id="591ac-511">Condition</span></span>  | <span data-ttu-id="591ac-512">Secuencia</span><span class="sxs-lookup"><span data-stu-id="591ac-512">Sequence</span></span> |
|--------------------|------------|----------|
| <span data-ttu-id="591ac-513">Establecer \_ RegRoot \_ HKLM</span><span class="sxs-lookup"><span data-stu-id="591ac-513">Set\_RegRoot\_HKLM</span></span> | <span data-ttu-id="591ac-514">ALLUSERS = 1</span><span class="sxs-lookup"><span data-stu-id="591ac-514">ALLUSERS=1</span></span> | <span data-ttu-id="591ac-515">1501</span><span class="sxs-lookup"><span data-stu-id="591ac-515">1501</span></span>     |



 

<span data-ttu-id="591ac-516">Los registros siguientes de la tabla [del registro](registry-table.md) realizan los registros si el componente ProductComponent está instalado.</span><span class="sxs-lookup"><span data-stu-id="591ac-516">The following records in the [Registry](registry-table.md) table perform the registrations if the ProductComponent component is installed.</span></span> <span data-ttu-id="591ac-517">El valor-1 en el campo raíz es necesario para realizar el registro en HKEY \_ local \_ Machine para una instalación por usuario y en HKEY \_ Current \_ User para una instalación por usuario.</span><span class="sxs-lookup"><span data-stu-id="591ac-517">The value -1 in the Root field is required to perform the registration under HKEY\_LOCAL\_MACHINE for a per-user installation and under HKEY\_CURRENT\_USER for a per-user installation.</span></span> <span data-ttu-id="591ac-518">El registro con una cadena vacía en el campo registro agrega una subclave para la aplicación en la clave del registro AppPaths y establece el valor "(default)" en la ruta de acceso completa del archivo ejecutable de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="591ac-518">The record with an empty string in the Registry field adds a subkey for the application under the AppPaths registry key and sets the "(Default)" value to the full path of the application's executable file.</span></span> <span data-ttu-id="591ac-519">El registro MyAppPathAlias asigna el archivo ejecutable a un alias de aplicación y permite que se inicie la aplicación si el usuario escribe el alias "puapct" en un símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="591ac-519">The MyAppPathAlias registration maps the executable file to an application alias and enables the application to be launched if the user types the alias "puapct" at a command line prompt.</span></span> <span data-ttu-id="591ac-520">El registro MyAppPathRegistration asigna el nombre del archivo ejecutable a la ruta de acceso completa del archivo.</span><span class="sxs-lookup"><span data-stu-id="591ac-520">The MyAppPathRegistration registration maps the name of the executable file to the file's full path.</span></span>



| <span data-ttu-id="591ac-521">Registro</span><span class="sxs-lookup"><span data-stu-id="591ac-521">Registry</span></span>              | <span data-ttu-id="591ac-522">Root</span><span class="sxs-lookup"><span data-stu-id="591ac-522">Root</span></span> | <span data-ttu-id="591ac-523">Clave</span><span class="sxs-lookup"><span data-stu-id="591ac-523">Key</span></span>                                                                     | <span data-ttu-id="591ac-524">Nombre</span><span class="sxs-lookup"><span data-stu-id="591ac-524">Name</span></span> | <span data-ttu-id="591ac-525">Value</span><span class="sxs-lookup"><span data-stu-id="591ac-525">Value</span></span>                                                                            | <span data-ttu-id="591ac-526">Componente</span><span class="sxs-lookup"><span data-stu-id="591ac-526">Component</span></span>        |
|-----------------------|------|-------------------------------------------------------------------------|------|----------------------------------------------------------------------------------|------------------|
|                       | <span data-ttu-id="591ac-527">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-527">-1</span></span>   | <span data-ttu-id="591ac-528">Software \\ Microsoft \\ MyAppPathRegistrationLocation</span><span class="sxs-lookup"><span data-stu-id="591ac-528">Software\\Microsoft\\MyAppPathRegistrationLocation</span></span>                      |      | <span data-ttu-id="591ac-529">\[RegRoot \] \\ software \\ Microsoft \\ Windows \\ CurrentVersion apps \\ paths \\PUAPCT.exe</span><span class="sxs-lookup"><span data-stu-id="591ac-529">\[RegRoot\]\\Software\\Microsoft\\Windows\\CurrentVersion\\App Paths\\PUAPCT.exe</span></span> | <span data-ttu-id="591ac-530">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-530">ProductComponent</span></span> |
| <span data-ttu-id="591ac-531">MyAppPathAlias</span><span class="sxs-lookup"><span data-stu-id="591ac-531">MyAppPathAlias</span></span>        | <span data-ttu-id="591ac-532">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-532">-1</span></span>   | <span data-ttu-id="591ac-533">Software \\ Microsoft \\ Windows \\ CurrentVersion apps \\ paths \\PUAPCT.exe</span><span class="sxs-lookup"><span data-stu-id="591ac-533">Software\\Microsoft\\Windows\\CurrentVersion\\App Paths\\PUAPCT.exe</span></span>     |      | <span data-ttu-id="591ac-534">\[\#MyAppFile\]</span><span class="sxs-lookup"><span data-stu-id="591ac-534">\[\#MyAppFile\]</span></span>                                                                  | <span data-ttu-id="591ac-535">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-535">ProductComponent</span></span> |
| <span data-ttu-id="591ac-536">MyAppPathRegistration</span><span class="sxs-lookup"><span data-stu-id="591ac-536">MyAppPathRegistration</span></span> | <span data-ttu-id="591ac-537">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-537">-1</span></span>   | <span data-ttu-id="591ac-538">Software \\ Microsoft \\ Windows \\ CurrentVersion apps \\ paths \\PUASample1.exe</span><span class="sxs-lookup"><span data-stu-id="591ac-538">Software\\Microsoft\\Windows\\CurrentVersion\\App Paths\\PUASample1.exe</span></span> |      | <span data-ttu-id="591ac-539">\[\#MyAppFile\]</span><span class="sxs-lookup"><span data-stu-id="591ac-539">\[\#MyAppFile\]</span></span>                                                                  | <span data-ttu-id="591ac-540">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-540">ProductComponent</span></span> |



 

## <a name="autoplay-cancel-registration"></a><span data-ttu-id="591ac-541">Cancelación del registro de reproducción automática</span><span class="sxs-lookup"><span data-stu-id="591ac-541">AutoPlay Cancel Registration</span></span>

<span data-ttu-id="591ac-542">El PUASample.msi realiza registros que permiten al usuario de la aplicación impedir que se inicie la [reproducción automática de hardware](/previous-versions/windows/desktop/legacy/cc144210(v=vs.85)) para los dispositivos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="591ac-542">The PUASample.msi performs registrations that enable the application user to prevent [Hardware Autoplay](/previous-versions/windows/desktop/legacy/cc144210(v=vs.85)) from launching for selected devices.</span></span> <span data-ttu-id="591ac-543">Para obtener información sobre cómo registrar un controlador para cancelar la reproducción automática en respuesta a un evento, consulte el tema [preparación del hardware y el software para su uso con reproducción automática](/previous-versions//cc144208(v=vs.85)) en la sección [extensibilidad de Shell](https://msdn.microsoft.com/library/bb762762.aspx) de la [Guía del desarrollador de Shell](/previous-versions/windows/desktop/legacy/bb776778(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="591ac-543">For information about registering a handler to cancel Autoplay in response to an event, see the [Preparing Hardware and Software for Use with AutoPlay](/previous-versions//cc144208(v=vs.85)) topic in the [shell extensibility](https://msdn.microsoft.com/library/bb762762.aspx) section of the [Shell Developer's Guide](/previous-versions/windows/desktop/legacy/bb776778(v=vs.85)).</span></span> <span data-ttu-id="591ac-544">El Registro siguiente registra el controlador especificado en el campo nombre cuando se instala el componente ProductComponent.</span><span class="sxs-lookup"><span data-stu-id="591ac-544">The following record registers the handler specified in the Name field when the ProductComponent component is installed.</span></span> <span data-ttu-id="591ac-545">El valor-1 en el campo raíz es necesario para especificar el Windows Installer que el registro se debe redirigir a una ubicación que depende del contexto de instalación.</span><span class="sxs-lookup"><span data-stu-id="591ac-545">The value -1 in the Root field is required to specify to the Windows Installer that the registration should be redirected to a location that depends upon the installation context.</span></span>

<span data-ttu-id="591ac-546">[Registro](registry-table.md) de Cuadro</span><span class="sxs-lookup"><span data-stu-id="591ac-546">[Registry](registry-table.md) Table</span></span> 

| <span data-ttu-id="591ac-547">Registro</span><span class="sxs-lookup"><span data-stu-id="591ac-547">Registry</span></span>                     | <span data-ttu-id="591ac-548">Root</span><span class="sxs-lookup"><span data-stu-id="591ac-548">Root</span></span> | <span data-ttu-id="591ac-549">Clave</span><span class="sxs-lookup"><span data-stu-id="591ac-549">Key</span></span>                                                                                             | <span data-ttu-id="591ac-550">Nombre</span><span class="sxs-lookup"><span data-stu-id="591ac-550">Name</span></span>                                 | <span data-ttu-id="591ac-551">Value</span><span class="sxs-lookup"><span data-stu-id="591ac-551">Value</span></span> | <span data-ttu-id="591ac-552">Componente</span><span class="sxs-lookup"><span data-stu-id="591ac-552">Component</span></span>        |
|------------------------------|------|-------------------------------------------------------------------------------------------------|--------------------------------------|-------|------------------|
| <span data-ttu-id="591ac-553">MyAutoplayCancelRegistration</span><span class="sxs-lookup"><span data-stu-id="591ac-553">MyAutoplayCancelRegistration</span></span> | <span data-ttu-id="591ac-554">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-554">-1</span></span>   | <span data-ttu-id="591ac-555">SOFTWARE \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ AutoplayHandlers \\ CancelAutoplay \\ CLSID</span><span class="sxs-lookup"><span data-stu-id="591ac-555">SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\AutoplayHandlers\\CancelAutoplay\\CLSID</span></span> | <span data-ttu-id="591ac-556">66A32FE6-229D-427b-A608-D273F40C034C</span><span class="sxs-lookup"><span data-stu-id="591ac-556">66A32FE6-229D-427b-A608-D273F40C034C</span></span> |       | <span data-ttu-id="591ac-557">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-557">ProductComponent</span></span> |



 

## <a name="preview-handler-registration"></a><span data-ttu-id="591ac-558">Registro del controlador de vista previa</span><span class="sxs-lookup"><span data-stu-id="591ac-558">Preview Handler Registration</span></span>

<span data-ttu-id="591ac-559">El PUASample.msi realiza registros necesarios para instalar un [controlador de vista previa](../shell/preview-handlers.md) que habilita una vista previa de solo lectura de archivos. PUA sin iniciar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="591ac-559">The PUASample.msi performs registrations that are required to install a [preview handler](../shell/preview-handlers.md) that enables a read-only preview of .pua files without launching the application.</span></span> <span data-ttu-id="591ac-560">Para obtener información sobre el registro de controladores de vista previa, consulte el tema [registrar controladores de vista previa](../shell/how-to-register-a-preview-handler.md) en la sección [extensibilidad de Shell](https://msdn.microsoft.com/library/bb762762.aspx) de la [Guía del desarrollador de Shell](/previous-versions/windows/desktop/legacy/bb776778(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="591ac-560">For information about registering preview handlers, see the [Registering Preview Handlers](../shell/how-to-register-a-preview-handler.md) topic in the [shell extensibility](https://msdn.microsoft.com/library/bb762762.aspx) section of the [Shell Developer's Guide](/previous-versions/windows/desktop/legacy/bb776778(v=vs.85)).</span></span> <span data-ttu-id="591ac-561">Los registros siguientes de la tabla [del registro](registry-table.md) registran el controlador cuando se instala el componente ProductComponent.</span><span class="sxs-lookup"><span data-stu-id="591ac-561">The following records in the [Registry](registry-table.md) table register the handler when the ProductComponent component is installed.</span></span> <span data-ttu-id="591ac-562">El valor-1 en el campo raíz es necesario para especificar el Windows Installer que el registro se debe redirigir a una ubicación que depende del contexto de instalación.</span><span class="sxs-lookup"><span data-stu-id="591ac-562">The value -1 in the Root field is required to specify to the Windows Installer that the registration should be redirected to a location that depends upon the installation context.</span></span>

<span data-ttu-id="591ac-563">[Registro](registry-table.md) de Cuadro</span><span class="sxs-lookup"><span data-stu-id="591ac-563">[Registry](registry-table.md) Table</span></span>

| <span data-ttu-id="591ac-564">Registro</span><span class="sxs-lookup"><span data-stu-id="591ac-564">Registry</span></span>                       | <span data-ttu-id="591ac-565">Root</span><span class="sxs-lookup"><span data-stu-id="591ac-565">Root</span></span> | <span data-ttu-id="591ac-566">Clave</span><span class="sxs-lookup"><span data-stu-id="591ac-566">Key</span></span>                                                                              | <span data-ttu-id="591ac-567">Nombre</span><span class="sxs-lookup"><span data-stu-id="591ac-567">Name</span></span>                                   | <span data-ttu-id="591ac-568">Value</span><span class="sxs-lookup"><span data-stu-id="591ac-568">Value</span></span>                                        | <span data-ttu-id="591ac-569">Componente</span><span class="sxs-lookup"><span data-stu-id="591ac-569">Component</span></span>        |
|--------------------------------|------|----------------------------------------------------------------------------------|----------------------------------------|----------------------------------------------|------------------|
| <span data-ttu-id="591ac-570">MyPreviewHandlerRegistration1</span><span class="sxs-lookup"><span data-stu-id="591ac-570">MyPreviewHandlerRegistration1</span></span>  | <span data-ttu-id="591ac-571">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-571">-1</span></span>   | <span data-ttu-id="591ac-572">Clases de software \\ \\ . PUA</span><span class="sxs-lookup"><span data-stu-id="591ac-572">Software\\Classes\\.pua</span></span>                                                          |                                        | <span data-ttu-id="591ac-573">puafile</span><span class="sxs-lookup"><span data-stu-id="591ac-573">puafile</span></span>                                      | <span data-ttu-id="591ac-574">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-574">ProductComponent</span></span> |
| <span data-ttu-id="591ac-575">MyPreviewHandlerRegistration2</span><span class="sxs-lookup"><span data-stu-id="591ac-575">MyPreviewHandlerRegistration2</span></span>  | <span data-ttu-id="591ac-576">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-576">-1</span></span>   | <span data-ttu-id="591ac-577">Software \\ Microsoft \\ Windows \\ CurrentVersion \\ PreviewHandlers</span><span class="sxs-lookup"><span data-stu-id="591ac-577">Software\\Microsoft\\Windows\\CurrentVersion\\PreviewHandlers</span></span>                    | <span data-ttu-id="591ac-578">{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span><span class="sxs-lookup"><span data-stu-id="591ac-578">{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span></span> | <span data-ttu-id="591ac-579">Controlador de vista previa de pruebas de Microsoft Windows PUA</span><span class="sxs-lookup"><span data-stu-id="591ac-579">Microsoft Windows PUA TEST Preview Handler</span></span>   | <span data-ttu-id="591ac-580">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-580">ProductComponent</span></span> |
| <span data-ttu-id="591ac-581">MyPreviewHandlerRegistration3</span><span class="sxs-lookup"><span data-stu-id="591ac-581">MyPreviewHandlerRegistration3</span></span>  | <span data-ttu-id="591ac-582">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-582">-1</span></span>   | <span data-ttu-id="591ac-583">Clases de software \\ \\ puafile \\ ShellEx \\ {8895b1c6-b41f-4c1c-a562-0d564250836f}</span><span class="sxs-lookup"><span data-stu-id="591ac-583">Software\\Classes\\puafile\\ShellEx\\{8895b1c6-b41f-4c1c-a562-0d564250836f}</span></span>      |                                        | <span data-ttu-id="591ac-584">{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span><span class="sxs-lookup"><span data-stu-id="591ac-584">{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span></span>       | <span data-ttu-id="591ac-585">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-585">ProductComponent</span></span> |
| <span data-ttu-id="591ac-586">MyPreviewHandlerRegistration4</span><span class="sxs-lookup"><span data-stu-id="591ac-586">MyPreviewHandlerRegistration4</span></span>  | <span data-ttu-id="591ac-587">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-587">-1</span></span>   | <span data-ttu-id="591ac-588">Clases de software \\ \\ CLSID \\ {1531d583-8375-4d3f-b5fb-d23bbd169f22}</span><span class="sxs-lookup"><span data-stu-id="591ac-588">Software\\Classes\\CLSID\\{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span></span>                 |                                        | <span data-ttu-id="591ac-589">Per-User el controlador de vista previa de la presentación del ejemplo 1</span><span class="sxs-lookup"><span data-stu-id="591ac-589">Per-User Applicaton Sample 1 Preview Handler</span></span> | <span data-ttu-id="591ac-590">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-590">ProductComponent</span></span> |
| <span data-ttu-id="591ac-591">MyPreviewHandlerRegistration5</span><span class="sxs-lookup"><span data-stu-id="591ac-591">MyPreviewHandlerRegistration5</span></span>  | <span data-ttu-id="591ac-592">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-592">-1</span></span>   | <span data-ttu-id="591ac-593">Clases de software \\ \\ CLSID \\ {1531d583-8375-4d3f-b5fb-d23bbd169f22}</span><span class="sxs-lookup"><span data-stu-id="591ac-593">Software\\Classes\\CLSID\\{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span></span>                 | <span data-ttu-id="591ac-594">AppID</span><span class="sxs-lookup"><span data-stu-id="591ac-594">AppID</span></span>                                  | <span data-ttu-id="591ac-595">{6d2b5079-2f0b-48dd-ab7f-97cec514d30b}</span><span class="sxs-lookup"><span data-stu-id="591ac-595">{6d2b5079-2f0b-48dd-ab7f-97cec514d30b}</span></span>       | <span data-ttu-id="591ac-596">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-596">ProductComponent</span></span> |
| <span data-ttu-id="591ac-597">MyPreviewHandlerRegistration6</span><span class="sxs-lookup"><span data-stu-id="591ac-597">MyPreviewHandlerRegistration6</span></span>  | <span data-ttu-id="591ac-598">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-598">-1</span></span>   | <span data-ttu-id="591ac-599">Clases de software \\ \\ CLSID \\ {1531d583-8375-4d3f-b5fb-d23bbd169f22}</span><span class="sxs-lookup"><span data-stu-id="591ac-599">Software\\Classes\\CLSID\\{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span></span>                 | <span data-ttu-id="591ac-600">DisplayName</span><span class="sxs-lookup"><span data-stu-id="591ac-600">DisplayName</span></span>                            | <span data-ttu-id="591ac-601">@shell32,-38242</span><span class="sxs-lookup"><span data-stu-id="591ac-601">@shell32,-38242</span></span>                              | <span data-ttu-id="591ac-602">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-602">ProductComponent</span></span> |
| <span data-ttu-id="591ac-603">MyPreviewHandlerRegistration7</span><span class="sxs-lookup"><span data-stu-id="591ac-603">MyPreviewHandlerRegistration7</span></span>  | <span data-ttu-id="591ac-604">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-604">-1</span></span>   | <span data-ttu-id="591ac-605">Clases de software \\ \\ CLSID \\ {1531d583-8375-4d3f-b5fb-d23bbd169f22}</span><span class="sxs-lookup"><span data-stu-id="591ac-605">Software\\Classes\\CLSID\\{1531d583-8375-4d3f-b5fb-d23bbd169f22}</span></span>                 | <span data-ttu-id="591ac-606">Icono</span><span class="sxs-lookup"><span data-stu-id="591ac-606">Icon</span></span>                                   | <span data-ttu-id="591ac-607">notepad.exe, 2</span><span class="sxs-lookup"><span data-stu-id="591ac-607">notepad.exe,2</span></span>                                | <span data-ttu-id="591ac-608">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-608">ProductComponent</span></span> |
| <span data-ttu-id="591ac-609">MyPreviewHandlerRegistration8</span><span class="sxs-lookup"><span data-stu-id="591ac-609">MyPreviewHandlerRegistration8</span></span>  | <span data-ttu-id="591ac-610">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-610">-1</span></span>   | <span data-ttu-id="591ac-611">Clases de software \\ \\ CLSID \\ {1531d583-8375-4d3f-b5fb-d23bbd169f22} \\ InProcServer32</span><span class="sxs-lookup"><span data-stu-id="591ac-611">Software\\Classes\\CLSID\\{1531d583-8375-4d3f-b5fb-d23bbd169f22}\\InProcServer32</span></span> | <span data-ttu-id="591ac-612">ThreadingModel</span><span class="sxs-lookup"><span data-stu-id="591ac-612">ThreadingModel</span></span>                         | <span data-ttu-id="591ac-613">Procesamiento</span><span class="sxs-lookup"><span data-stu-id="591ac-613">Apartment</span></span>                                    | <span data-ttu-id="591ac-614">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-614">ProductComponent</span></span> |
| <span data-ttu-id="591ac-615">MyPreviewHandlerRegistration9</span><span class="sxs-lookup"><span data-stu-id="591ac-615">MyPreviewHandlerRegistration9</span></span>  | <span data-ttu-id="591ac-616">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-616">-1</span></span>   | <span data-ttu-id="591ac-617">Clases de software \\ \\ CLSID \\ {1531d583-8375-4d3f-b5fb-d23bbd169f22} \\ InProcServer32</span><span class="sxs-lookup"><span data-stu-id="591ac-617">Software\\Classes\\CLSID\\{1531d583-8375-4d3f-b5fb-d23bbd169f22}\\InProcServer32</span></span> |                                        | <span data-ttu-id="591ac-618">\#%% SystemRoot% \\ system32 \\shell32.dll</span><span class="sxs-lookup"><span data-stu-id="591ac-618">\#%%SystemRoot%\\system32\\shell32.dll</span></span>       | <span data-ttu-id="591ac-619">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-619">ProductComponent</span></span> |
| <span data-ttu-id="591ac-620">MyPreviewHandlerRegistration10</span><span class="sxs-lookup"><span data-stu-id="591ac-620">MyPreviewHandlerRegistration10</span></span> | <span data-ttu-id="591ac-621">-1</span><span class="sxs-lookup"><span data-stu-id="591ac-621">-1</span></span>   | <span data-ttu-id="591ac-622">Clases de software \\ \\ CLSID \\ {1531d583-8375-4d3f-b5fb-d23bbd169f22} \\ InProcServer32</span><span class="sxs-lookup"><span data-stu-id="591ac-622">Software\\Classes\\CLSID\\{1531d583-8375-4d3f-b5fb-d23bbd169f22}\\InProcServer32</span></span> | <span data-ttu-id="591ac-623">ProgID</span><span class="sxs-lookup"><span data-stu-id="591ac-623">ProgID</span></span>                                 | <span data-ttu-id="591ac-624">puafile</span><span class="sxs-lookup"><span data-stu-id="591ac-624">puafile</span></span>                                      | <span data-ttu-id="591ac-625">ProductComponent</span><span class="sxs-lookup"><span data-stu-id="591ac-625">ProductComponent</span></span> |



 

 

 
