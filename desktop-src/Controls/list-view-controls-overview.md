---
title: Acerca de los controles List-View
description: Un control de vista de lista es una ventana que muestra una colección de elementos.
ms.assetid: 163f7778-690c-4166-b0c5-c7be1a03ae98
ms.topic: article
ms.date: 05/31/2018
ms.custom: project-verbatim
ms.openlocfilehash: fe1b953bf7d7204a3afffcfa0bc5aa5af9bf94fa
ms.sourcegitcommit: af120ad5c30da2fc5eb717ca2a1c4c45878efd71
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/20/2021
ms.locfileid: "105649465"
---
# <a name="about-list-view-controls"></a><span data-ttu-id="7c4e7-103">Acerca de los controles List-View</span><span class="sxs-lookup"><span data-stu-id="7c4e7-103">About List-View Controls</span></span>

<span data-ttu-id="7c4e7-104">Vea el [ejemplo de control ListView virtual](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-104">See the [Virtual listview control sample](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span></span>

<span data-ttu-id="7c4e7-105">Un control de vista de lista es una ventana que muestra una colección de elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-105">A list-view control is a window that displays a collection of items.</span></span> <span data-ttu-id="7c4e7-106">Los controles de vista de lista proporcionan varias maneras de organizar y mostrar los elementos, y son mucho más flexibles que los sencillos [cuadros de lista](list-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-106">List-view controls provide several ways to arrange and display items and are much more flexible than simple [List Boxes](list-boxes.md).</span></span> <span data-ttu-id="7c4e7-107">Por ejemplo, se puede mostrar información adicional sobre cada elemento en columnas a la derecha del icono y la etiqueta.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-107">For example, additional information about each item can be displayed in columns to the right of the icon and label.</span></span>

-   [<span data-ttu-id="7c4e7-108">Estilos y vistas de la vista de lista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-108">List-View Styles and Views</span></span>](#list-view-styles-and-views)
    -   [<span data-ttu-id="7c4e7-109">Estilos de List-View extendidos</span><span class="sxs-lookup"><span data-stu-id="7c4e7-109">Extended List-View Styles</span></span>](#extended-list-view-styles)
-   [<span data-ttu-id="7c4e7-110">Estilo de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="7c4e7-110">Virtual List-View Style</span></span>](#virtual-list-view-style)
    -   [<span data-ttu-id="7c4e7-111">Crear un control de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="7c4e7-111">Creating a Virtual List-View Control</span></span>](#creating-a-virtual-list-view-control)
    -   [<span data-ttu-id="7c4e7-112">Problemas de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="7c4e7-112">Compatibility Issues</span></span>](#compatibility-issues)
    -   [<span data-ttu-id="7c4e7-113">Controlar los códigos de notificación de control de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="7c4e7-113">Handling Virtual List-View Control Notification Codes</span></span>](#handling-virtual-list-view-control-notification-codes)
    -   [<span data-ttu-id="7c4e7-114">Administración de caché</span><span class="sxs-lookup"><span data-stu-id="7c4e7-114">Cache Management</span></span>](#cache-management)
-   [<span data-ttu-id="7c4e7-115">Mostrar y Mostrar áreas de trabajo</span><span class="sxs-lookup"><span data-stu-id="7c4e7-115">List-View Working Areas</span></span>](#list-view-working-areas)
-   [<span data-ttu-id="7c4e7-116">Listas de imágenes de vista de lista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-116">List-View Image Lists</span></span>](#list-view-image-lists)
-   [<span data-ttu-id="7c4e7-117">Lista-ver elementos y subelementos</span><span class="sxs-lookup"><span data-stu-id="7c4e7-117">List-View Items and Subitems</span></span>](#list-view-items-and-subitems)
    -   [<span data-ttu-id="7c4e7-118">Enumerar Estados de elemento de vista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-118">List-View Item States</span></span>](#list-view-item-states)
    -   [<span data-ttu-id="7c4e7-119">Elementos de devolución de llamada y máscara de devolución de llamada</span><span class="sxs-lookup"><span data-stu-id="7c4e7-119">Callback Items and the Callback Mask</span></span>](#callback-items-and-the-callback-mask)
    -   [<span data-ttu-id="7c4e7-120">Mostrar la posición del elemento de vista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-120">List-View Item Position</span></span>](#list-view-item-position)
    -   [<span data-ttu-id="7c4e7-121">Organizar, ordenar y buscar elementos</span><span class="sxs-lookup"><span data-stu-id="7c4e7-121">Arranging, Sorting, and Finding Items</span></span>](#arranging-sorting-and-finding-items)
-   [<span data-ttu-id="7c4e7-122">Columnas de la vista de lista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-122">List-View Columns</span></span>](#list-view-columns)
-   [<span data-ttu-id="7c4e7-123">Posición de desplazamiento de la vista de lista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-123">List-View Scroll Position</span></span>](#list-view-scroll-position)
-   [<span data-ttu-id="7c4e7-124">Edición de etiquetas de vista de lista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-124">List-View Label Editing</span></span>](#list-view-label-editing)
-   [<span data-ttu-id="7c4e7-125">Ver y mostrar colores</span><span class="sxs-lookup"><span data-stu-id="7c4e7-125">List-View Colors</span></span>](#list-view-colors)
-   [<span data-ttu-id="7c4e7-126">Organizar elementos de lista por grupo</span><span class="sxs-lookup"><span data-stu-id="7c4e7-126">Arranging List Items by Group</span></span>](#arranging-list-items-by-group)
-   [<span data-ttu-id="7c4e7-127">Marcas de inserción</span><span class="sxs-lookup"><span data-stu-id="7c4e7-127">Insertion Marks</span></span>](#insertion-marks)

## <a name="list-view-styles-and-views"></a><span data-ttu-id="7c4e7-128">List-View estilos y vistas</span><span class="sxs-lookup"><span data-stu-id="7c4e7-128">List-View Styles and Views</span></span>

<span data-ttu-id="7c4e7-129">Los controles de vista de lista pueden mostrar elementos en cinco vistas diferentes.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-129">List-view controls can display items in five different views.</span></span> <span data-ttu-id="7c4e7-130">El estilo de ventana del control especifica la vista predeterminada.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-130">The control's window style specifies the default view.</span></span> <span data-ttu-id="7c4e7-131">Los estilos de ventana adicionales especifican la alineación de los elementos y las características específicas del control.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-131">Additional window styles specify the alignment of items and control-specific features.</span></span> <span data-ttu-id="7c4e7-132">En la tabla siguiente se describen las vistas.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-132">The following table describes the views.</span></span>



| <span data-ttu-id="7c4e7-133">Nombre de vista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-133">View Name</span></span>             | <span data-ttu-id="7c4e7-134">Descripción</span><span class="sxs-lookup"><span data-stu-id="7c4e7-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7c4e7-135">Vista de iconos</span><span class="sxs-lookup"><span data-stu-id="7c4e7-135">Icon view</span></span>             | <span data-ttu-id="7c4e7-136">Especificado por el estilo de la ventana del [**\_ icono de LVS**](list-view-window-styles.md) o pasando el icono de la **\_ vista \_ LV** con el mensaje [**\_ SETVIEW de LVM**](lvm-setview.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-136">Specified by the [**LVS\_ICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_ICON** with the [**LVM\_SETVIEW**](lvm-setview.md) message.</span></span> <span data-ttu-id="7c4e7-137">Cada elemento aparece como un icono de tamaño normal debajo del cual figura una etiqueta.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-137">Each item appears as a full-sized icon with a label below it.</span></span> <span data-ttu-id="7c4e7-138">El usuario puede arrastrar los elementos a cualquier ubicación de la ventana de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-138">The user can drag the items to any location in the list-view window.</span></span>                                                                                                                                                                                                                                         |
| <span data-ttu-id="7c4e7-139">Vista de iconos pequeños</span><span class="sxs-lookup"><span data-stu-id="7c4e7-139">Small icon view</span></span>       | <span data-ttu-id="7c4e7-140">Especificado por el estilo de la ventana de [**LVS \_ SmallIcon**](list-view-window-styles.md) o pasando la vista de LV en el [**\_ SETVIEW de LVM**](lvm-setview.md). **\_ \_**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-140">Specified by the [**LVS\_SMALLICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_SMALLICON** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="7c4e7-141">Cada elemento aparece como un icono pequeño con la etiqueta a la derecha.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-141">Each item appears as a small icon with the label to the right of it.</span></span> <span data-ttu-id="7c4e7-142">El usuario puede arrastrar los elementos a cualquier ubicación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-142">The user can drag the items to any location.</span></span>                                                                                                                                                                                                                                                       |
| <span data-ttu-id="7c4e7-143">Vista de lista</span><span class="sxs-lookup"><span data-stu-id="7c4e7-143">List view</span></span>             | <span data-ttu-id="7c4e7-144">Especificado por el estilo de la ventana [**\_ lista de LVS**](list-view-window-styles.md) o pasando la **lista de \_ vistas \_ de LV** con el [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-144">Specified by the [**LVS\_LIST**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_LIST** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="7c4e7-145">Cada elemento aparece como un icono pequeño con una etiqueta a la derecha.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-145">Each item appears as a small icon with a label to the right of it.</span></span> <span data-ttu-id="7c4e7-146">Los elementos se organizan en columnas y el usuario no puede arrastrarlos a una ubicación arbitraria.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-146">Items are arranged in columns and the user cannot drag them to an arbitrary location.</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="7c4e7-147">Vista informe (detalles)</span><span class="sxs-lookup"><span data-stu-id="7c4e7-147">Report (details) view</span></span> | <span data-ttu-id="7c4e7-148">Lo especifica el estilo de la ventana de [**\_ Informe LVS**](list-view-window-styles.md) o pasando los detalles de la **\_ vista \_ LV** con el [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-148">Specified by the [**LVS\_REPORT**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_DETAILS** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="7c4e7-149">Cada elemento aparece en su propia línea, con información organizada en columnas.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-149">Each item appears on its own line, with information arranged in columns.</span></span> <span data-ttu-id="7c4e7-150">La columna situada más a la izquierda siempre está justificada y contiene el icono y la etiqueta pequeños.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-150">The leftmost column is always left justified and contains the small icon and label.</span></span> <span data-ttu-id="7c4e7-151">Las columnas subsiguientes contienen los subelementos especificados por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-151">Subsequent columns contain subitems as specified by the application.</span></span> <span data-ttu-id="7c4e7-152">Cada columna tiene un encabezado, a menos que especifique también el estilo de ventana de [**LVS \_ NOCOLUMNHEADER**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-152">Each column has a header, unless you also specify the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style.</span></span> |
| <span data-ttu-id="7c4e7-153">Vista de mosaico</span><span class="sxs-lookup"><span data-stu-id="7c4e7-153">Tile View</span></span>             | <span data-ttu-id="7c4e7-154">**Versión 6 y posteriores.**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-154">**Version 6 and later.**</span></span> <span data-ttu-id="7c4e7-155">Se especifica al pasar el **\_ \_ icono de la vista LV** con el [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-155">Specified by passing **LV\_VIEW\_TILE** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="7c4e7-156">Cada elemento aparece como un icono de tamaño completo con una etiqueta de una o varias líneas junto a él.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-156">Each item appears as a full-sized icon with a label of one or more lines beside it.</span></span>                                                                                                                                                                                                                                                                                                                                                        |



 

<span data-ttu-id="7c4e7-157">Las capturas de pantalla siguientes usan vistas para mostrar diferentes cantidades de información sobre cada una de las siete mascotas.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-157">The following screen shots use views to show different amounts of information about each of seven pets.</span></span> <span data-ttu-id="7c4e7-158">Las vistas muestran cómo podría aparecer la información en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-158">The views demonstrate how the information might appear on Windows Vista.</span></span> <span data-ttu-id="7c4e7-159">Los estilos visuales del control se han establecido en el tema "explorador" mediante [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-159">The visual styles for the control have been set to the "Explorer" theme by using [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span></span>

<span data-ttu-id="7c4e7-160">En la captura de pantalla siguiente se muestra la vista detalles.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-160">The following screen shot shows the details view.</span></span>

![captura de pantalla que muestra información en cinco columnas y siete filas](images/lv-detailsview.png)

<span data-ttu-id="7c4e7-162">En la captura de pantalla siguiente se muestra la vista de iconos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-162">The following screen shot shows the icon view.</span></span>

![captura de pantalla que muestra solo el nombre de cada mascota y un icono que indica la especie](images/lv-iconview.png)

<span data-ttu-id="7c4e7-164">En la captura de pantalla siguiente se muestra la vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-164">The following screen shot shows the list view.</span></span>

![captura de pantalla que muestra, para cada mascota, un icono grande junto al texto del nombre, la raza y el precio de la mascota](images/lv-listview.png)

<span data-ttu-id="7c4e7-166">En la captura de pantalla siguiente se muestra la vista de mosaico.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-166">The following screen shot shows the tile view.</span></span>

![vista en mosaico.](images/lv-tileview.png)

<span data-ttu-id="7c4e7-168">Puede cambiar el tipo de vista después de crear un control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-168">You can change the view type after you create a list-view control.</span></span> <span data-ttu-id="7c4e7-169">Para recuperar y cambiar el estilo de ventana, utilice las funciones [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) y [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-169">To retrieve and change the window style, use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span> <span data-ttu-id="7c4e7-170">Para determinar los estilos de ventana de la vista actual, use el valor de [**\_ TYPEMASK de LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-170">To determine the window styles of the current view, use the [**LVS\_TYPEMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="7c4e7-171">Puede controlar la forma en que los elementos se organizan en la vista de iconos o iconos pequeños especificando el estilo de ventana [**LVS \_ ALIGNTOP**](list-view-window-styles.md) (predeterminado) o el valor de [**LVS \_ ALIGNLEFT**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-171">You can control the way items are arranged in icon or small icon view by specifying either the [**LVS\_ALIGNTOP**](list-view-window-styles.md) (default) or [**LVS\_ALIGNLEFT**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="7c4e7-172">Puede cambiar la alineación después de crear un control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-172">You can change the alignment after you create a list-view control.</span></span> <span data-ttu-id="7c4e7-173">Para determinar la alineación actual, use el valor de [**LVS \_ ALIGNMASK**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-173">To determine the current alignment, use the [**LVS\_ALIGNMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="7c4e7-174">Los estilos de ventana adicionales proporcionan otras opciones, como si un usuario puede editar etiquetas o seleccionar más de un elemento a la vez.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-174">Additional window styles provide other options, such as whether a user can edit labels or select more than one item at a time.</span></span> <span data-ttu-id="7c4e7-175">Para obtener una lista completa, consulte [estilos de la ventana de la vista de lista](list-view-window-styles.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-175">For a complete list, see [List-View Window Styles](list-view-window-styles.md).</span></span>

### <a name="extended-list-view-styles"></a><span data-ttu-id="7c4e7-176">Estilos de List-View extendidos</span><span class="sxs-lookup"><span data-stu-id="7c4e7-176">Extended List-View Styles</span></span>

<span data-ttu-id="7c4e7-177">Los estilos extendidos de control de vista de lista proporcionan opciones como casillas, barras de desplazamiento plana, líneas de cuadrícula y seguimientos activos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-177">The extended list-view control styles provide options such as check boxes, flat scroll bars, grid lines, and hot-tracking.</span></span> <span data-ttu-id="7c4e7-178">Para obtener una lista completa, consulte [estilos de List-View extendidos](extended-list-view-styles.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-178">For a complete list, see [Extended List-View Styles](extended-list-view-styles.md).</span></span> <span data-ttu-id="7c4e7-179">No tiene acceso a los estilos extendidos de la vista de lista de la misma manera que a los estilos de ventana estándar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-179">You do not access extended list-view styles in the same manner as standard window styles.</span></span> <span data-ttu-id="7c4e7-180">No se usan las funciones [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) y [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) para realizar cambios de estilo extendido.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-180">You do not use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions to make extended style changes.</span></span>

<span data-ttu-id="7c4e7-181">Hay dos mensajes que establecen y recuperan información de estilo extendido, [**LVM \_ SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) y [**LVM \_ GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-181">There are two messages that set and retrieve extended style information, [**LVM\_SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) and [**LVM\_GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span></span> <span data-ttu-id="7c4e7-182">En lugar de enviar los mensajes explícitamente, puede utilizar las siguientes macros correspondientes: [**ListView \_ SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView \_ SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex)y [**ListView \_ GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-182">Instead of sending the messages explicitly, you can use the following corresponding macros: [**ListView\_SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView\_SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex), and [**ListView\_GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span></span>

## <a name="virtual-list-view-style"></a><span data-ttu-id="7c4e7-183">Estilo de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="7c4e7-183">Virtual List-View Style</span></span>

<span data-ttu-id="7c4e7-184">Una vista de lista virtual es un control de vista de lista que tiene el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-184">A virtual list view is a list-view control that has the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="7c4e7-185">Este estilo permite al control administrar millones de elementos porque el propietario recibe la carga de administrar los datos de los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-185">This style enables the control to handle millions of items because the owner receives the burden of managing item data.</span></span> <span data-ttu-id="7c4e7-186">Esto le permite usar el control de vista de lista virtual con bases de datos de gran tamaño, donde ya están implementados determinados métodos de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-186">This allows you to use the virtual list-view control with large databases of information, where specific methods of data access are already in place.</span></span>

<span data-ttu-id="7c4e7-187">Un control de vista de lista virtual mantiene muy poca información de elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-187">A virtual list-view control maintains very little item information itself.</span></span> <span data-ttu-id="7c4e7-188">A excepción de la selección de elementos y la información de foco, el propietario del control debe administrar toda la información de los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-188">Except for the item selection and focus information, the owner of the control must manage all item information.</span></span> <span data-ttu-id="7c4e7-189">Otros procesos solicitan información del elemento al propietario mediante los códigos de notificación de [LVN \_ GETDISPINFO](lvn-getdispinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-189">Other processes request item information from the owner by using [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes.</span></span>

<span data-ttu-id="7c4e7-190">Dado que este tipo de control de lista está pensado para conjuntos de datos grandes, se recomienda almacenar en caché los datos de elementos solicitados para mejorar el rendimiento de la recuperación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-190">Because this type of list control is intended for large data sets, it is recommended that you cache requested item data to improve retrieval performance.</span></span> <span data-ttu-id="7c4e7-191">La vista de lista proporciona un mecanismo de sugerencias de caché para ayudar a optimizar la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-191">The list view provides a cache-hinting mechanism to assist in optimizing the cache.</span></span> <span data-ttu-id="7c4e7-192">La sugerencia se implementa en forma de un código de notificación [ \_ ODCACHEHINT de LVN](lvn-odcachehint.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-192">The hint is implemented in the form of an [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code.</span></span>

### <a name="creating-a-virtual-list-view-control"></a><span data-ttu-id="7c4e7-193">Crear un control de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="7c4e7-193">Creating a Virtual List-View Control</span></span>

<span data-ttu-id="7c4e7-194">Puede crear controles de vista de lista virtual mediante la función [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , especificando el estilo de ventana de [**LVS \_ OWNERDATA**](list-view-window-styles.md) como parte del parámetro de función *dwStyle* .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-194">You create virtual list-view controls using the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**LVS\_OWNERDATA**](list-view-window-styles.md) window style as part of the *dwStyle* function parameter.</span></span> <span data-ttu-id="7c4e7-195">No se admite el cambio dinámico al estilo **LVS \_ OWNERDATA** .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-195">Dynamically switching to and from the **LVS\_OWNERDATA** style is not supported.</span></span>

<span data-ttu-id="7c4e7-196">Puede usar el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) en combinación con la mayoría de los demás estilos de ventana, excepto el estilo [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-196">You can use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style in combination with most other window styles, except the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="7c4e7-197">Todos los controles virtuales de vista de lista virtual tienen como valor predeterminado el estilo de [**\_ organización LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-197">All virtual list-view controls default to the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="7c4e7-198">Para habilitar que los elementos se muestren en la lista, primero debe enviar el mensaje [**LVM \_ SETITEMCOUNT**](lvm-setitemcount.md) , ya sea explícitamente o mediante la macro [**\_ SetItemCountEx de ListView**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-198">To enable items to be displayed in the list, you must first send the [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, either explicitly or by using the [**ListView\_SetItemCountEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) macro.</span></span>

<span data-ttu-id="7c4e7-199">Los mensajes siguientes no son compatibles con el [**estilo LVS \_ OWNERDATA**](list-view-window-styles.md) : [**LVM \_ ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM \_ GETITEMTEXT**](lvm-getitemtext.md), [**LVM \_ SETTILEINFO**](lvm-settileinfo.md)y [**LVM \_ MAPIDTOINDEX**](lvm-mapidtoindex.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-199">The following messages are not supported under the [**LVS\_OWNERDATA**](list-view-window-styles.md) style: [**LVM\_ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM\_GETITEMTEXT**](lvm-getitemtext.md), [**LVM\_SETTILEINFO**](lvm-settileinfo.md), and [**LVM\_MAPIDTOINDEX**](lvm-mapidtoindex.md).</span></span>

### <a name="compatibility-issues"></a><span data-ttu-id="7c4e7-200">Problemas de compatibilidad</span><span class="sxs-lookup"><span data-stu-id="7c4e7-200">Compatibility Issues</span></span>

<span data-ttu-id="7c4e7-201">Los cuatro estilos de vista de lista (icono, icono pequeño, lista y vista de informe) admiten el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-201">All four of the list-view styles—icon, small icon, list, and report view—support the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="7c4e7-202">Los controles de vista de lista que tienen el estilo **LVS \_ OWNERDATA** no almacenan ninguna información específica del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-202">List-view controls that have the **LVS\_OWNERDATA** style do not store any item-specific information.</span></span> <span data-ttu-id="7c4e7-203">Por lo tanto, las únicas marcas de estado de los elementos válidos que se pueden aplicar a un elemento son [**LVIS \_ selected**](list-view-item-states.md) y [**LVIS \_ Focused**](list-view-item-states.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-203">Therefore, the only valid item state flags that you can apply to an item are [**LVIS\_SELECTED**](list-view-item-states.md) and [**LVIS\_FOCUSED**](list-view-item-states.md).</span></span> <span data-ttu-id="7c4e7-204">No se almacena ninguna otra información de estado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-204">No other state information is stored.</span></span> <span data-ttu-id="7c4e7-205">En concreto, el control de vista de lista no mantiene las imágenes de estado o de superposición para cada elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-205">In particular, the list-view control does not maintain state or overlay images for each item.</span></span> <span data-ttu-id="7c4e7-206">Sin embargo, puede hacer que el control de vista de lista consulte la aplicación para estas imágenes mediante el envío de un mensaje [**\_ SETCALLBACKMASK LVM**](lvm-setcallbackmask.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-206">However, you can have the list-view control query your application for these images by sending it an [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message.</span></span>

<span data-ttu-id="7c4e7-207">La mayoría de los mensajes de control de vista de lista y las macros asociadas son totalmente compatibles.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-207">Most list-view control messages and the associated macros are fully supported.</span></span> <span data-ttu-id="7c4e7-208">Sin embargo, algunos mensajes tienen limitaciones o no se admiten cuando se usa el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-208">However, some messages have limitations or are unsupported when you use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="7c4e7-209">En la tabla siguiente se resumen los mensajes afectados.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-209">The following table summarizes the affected messages.</span></span>



| <span data-ttu-id="7c4e7-210">Message</span><span class="sxs-lookup"><span data-stu-id="7c4e7-210">Message</span></span>                                             | <span data-ttu-id="7c4e7-211">Limitación</span><span class="sxs-lookup"><span data-stu-id="7c4e7-211">Limitation</span></span>                                                                                                                                                                                                                                                      |
|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7c4e7-212">**organización del LVM \_**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-212">**LVM\_ARRANGE**</span></span>](lvm-arrange.md)                 | <span data-ttu-id="7c4e7-213">No admite el estilo de **LVA \_ SNAPTOGRID** .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-213">Does not support the **LVA\_SNAPTOGRID** style.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="7c4e7-214">**\_DELETEALLITEMS LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-214">**LVM\_DELETEALLITEMS**</span></span>](lvm-deleteallitems.md)   | <span data-ttu-id="7c4e7-215">Establece el recuento de elementos en cero y borra todas las variables de selección internas, pero realmente no elimina ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-215">Sets the item count to zero and clears all internal selection variables, but it does not actually delete any items.</span></span> <span data-ttu-id="7c4e7-216">Crea una devolución de llamada de notificación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-216">It makes a notification callback.</span></span>                                                                                                           |
| [<span data-ttu-id="7c4e7-217">**LVM \_ DELETEITEM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-217">**LVM\_DELETEITEM**</span></span>](lvm-deleteitem.md)           | <span data-ttu-id="7c4e7-218">Solo se admite para la integridad de la selección y realmente no elimina un elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-218">Is supported for selection integrity only and does not actually delete an item.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="7c4e7-219">**\_GETITEMSTATE LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-219">**LVM\_GETITEMSTATE**</span></span>](lvm-getitemstate.md)       | <span data-ttu-id="7c4e7-220">Devuelve solo los Estados de foco y selección (es decir, los Estados almacenados por el control de vista de lista).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-220">Returns only focus and selection states (that is, those states stored by the list-view control).</span></span>                                                                                                                                                                |
| [<span data-ttu-id="7c4e7-221">**\_GETNEXTITEM LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-221">**LVM\_GETNEXTITEM**</span></span>](lvm-getnextitem.md)         | <span data-ttu-id="7c4e7-222">No admite los criterios de búsqueda de la vista de lista **LVNI \_ CUT**, **LVNI \_ Hidden** o **LVNI \_ DROPHILITED**.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-222">Does not support the list-view search criteria **LVNI\_CUT**, **LVNI\_HIDDEN**, or **LVNI\_DROPHILITED**.</span></span> <span data-ttu-id="7c4e7-223">Se admiten todos los demás criterios.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-223">All other criteria are supported.</span></span>                                                                                                                     |
| [<span data-ttu-id="7c4e7-224">**\_GETWORKAREAS LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-224">**LVM\_GETWORKAREAS**</span></span>](lvm-getworkareas.md)       | <span data-ttu-id="7c4e7-225">No se admite.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-225">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="7c4e7-226">**el LVM \_ INSERTITEM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-226">**LVM\_INSERTITEM**</span></span>](lvm-insertitem.md)           | <span data-ttu-id="7c4e7-227">Solo se admite para la integridad de la selección.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-227">Is supported for selection integrity only.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="7c4e7-228">**\_SETITEM LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-228">**LVM\_SETITEM**</span></span>](lvm-setitem.md)                 | <span data-ttu-id="7c4e7-229">No se admite.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-229">Is not supported.</span></span> <span data-ttu-id="7c4e7-230">Para establecer el estado del elemento, use el mensaje [**\_ SetItemState de ListView**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-230">To set the item state, use the [**ListView\_SetItemState**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) message.</span></span>                                                                                                                                               |
| [<span data-ttu-id="7c4e7-231">**\_SETITEMCOUNT LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-231">**LVM\_SETITEMCOUNT**</span></span>](lvm-setitemcount.md)       | <span data-ttu-id="7c4e7-232">Establece el número de elementos que hay actualmente en la lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-232">Sets the number of items currently in the list.</span></span> <span data-ttu-id="7c4e7-233">Si el control de vista de lista envía una notificación que solicita datos para cualquier elemento hasta el máximo establecido, el propietario debe estar preparado para proporcionar los datos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-233">If the list-view control sends a notification that requests data for any item up to the maximum set, the owner must be prepared to supply that data.</span></span> <span data-ttu-id="7c4e7-234">Los parámetros de mensaje admiten controles de vista de lista virtual.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-234">The message parameters support virtual list-view controls.</span></span> |
| [<span data-ttu-id="7c4e7-235">**\_SETITEMPOSITION LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-235">**LVM\_SETITEMPOSITION**</span></span>](lvm-setitemposition.md) | <span data-ttu-id="7c4e7-236">No se admite.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-236">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="7c4e7-237">**\_SETITEMSTATE LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-237">**LVM\_SETITEMSTATE**</span></span>](lvm-setitemstate.md)       | <span data-ttu-id="7c4e7-238">Solo permite cambiar los Estados de selección y foco para el elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-238">Allows only the selection and focus states to be changed for the item.</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="7c4e7-239">**\_SETITEMTEXT LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-239">**LVM\_SETITEMTEXT**</span></span>](lvm-setitemtext.md)         | <span data-ttu-id="7c4e7-240">No se admite.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-240">Is not supported.</span></span> <span data-ttu-id="7c4e7-241">Es responsabilidad de la aplicación mantener los textos del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-241">It is the application's responsibility to maintain the item texts.</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="7c4e7-242">**\_SETWORKAREAS LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-242">**LVM\_SETWORKAREAS**</span></span>](lvm-setworkareas.md)       | <span data-ttu-id="7c4e7-243">No se admite.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-243">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="7c4e7-244">**\_SORTITEMS LVM**</span><span class="sxs-lookup"><span data-stu-id="7c4e7-244">**LVM\_SORTITEMS**</span></span>](lvm-sortitems.md)             | <span data-ttu-id="7c4e7-245">No se admite.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-245">Is not supported.</span></span> <span data-ttu-id="7c4e7-246">Es responsabilidad de la aplicación presentar los elementos en el orden deseado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-246">It is the application's responsibility to present the items in the desired order.</span></span>                                                                                                                                                             |



 

### <a name="handling-virtual-list-view-control-notification-codes"></a><span data-ttu-id="7c4e7-247">Controlar los códigos de notificación de control de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="7c4e7-247">Handling Virtual List-View Control Notification Codes</span></span>

<span data-ttu-id="7c4e7-248">Los controles de vista de lista con el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) envían los mismos códigos de notificación que otros controles de vista de lista y dos adicionales: [LVN \_ ODCACHEHINT](lvn-odcachehint.md) y [LVN \_ ODFINDITEM](lvn-odfinditem.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-248">List-view controls with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style send the same notification codes as other list-view controls and two additional ones: [LVN\_ODCACHEHINT](lvn-odcachehint.md) and [LVN\_ODFINDITEM](lvn-odfinditem.md).</span></span> <span data-ttu-id="7c4e7-249">A continuación se muestran las notificaciones más comunes que envía el control de vista de lista con el estilo **LVS \_ OWNERDATA** .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-249">The following are the most common notifications that the list-view control with the **LVS\_OWNERDATA** style sends.</span></span>



|                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7c4e7-250">LVN \_ GETDISPINFO</span><span class="sxs-lookup"><span data-stu-id="7c4e7-250">LVN\_GETDISPINFO</span></span>](lvn-getdispinfo.md) | <span data-ttu-id="7c4e7-251">Un control de vista de lista virtual mantiene muy poca información del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-251">A virtual list-view control maintains very little item information on its own.</span></span> <span data-ttu-id="7c4e7-252">Como resultado, a menudo envía el código de notificación [LVN \_ GETDISPINFO](lvn-getdispinfo.md) para solicitar información del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-252">As a result, it often sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to request item information.</span></span> <span data-ttu-id="7c4e7-253">Este mensaje se administra de forma muy similar a los elementos de devolución de llamada de un control de lista estándar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-253">This message is handled in much the same way as callback items in a standard list control.</span></span> <span data-ttu-id="7c4e7-254">Dado que el número de elementos que admite el control puede ser muy grande, el almacenamiento en caché de los datos del elemento mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-254">Because the number of items supported by the control can be very large, caching item data improves performance.</span></span> <span data-ttu-id="7c4e7-255">Al controlar LVN \_ GETDISPINFO, el propietario del control primero intenta proporcionar la información de los elementos solicitados desde la memoria caché (para obtener más información, vea [Administración de caché](#cache-management)).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-255">When handling LVN\_GETDISPINFO, the owner of the control first attempts to supply requested item information from the cache (for more information, see [Cache Management](#cache-management)).</span></span> <span data-ttu-id="7c4e7-256">Si el elemento solicitado no está almacenado en caché, el propietario debe estar preparado para proporcionar la información por otros medios.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-256">If the requested item is not cached, the owner must be prepared to supply the information by other means.</span></span> |
| [<span data-ttu-id="7c4e7-257">LVN \_ ODCACHEHINT</span><span class="sxs-lookup"><span data-stu-id="7c4e7-257">LVN\_ODCACHEHINT</span></span>](lvn-odcachehint.md) | <span data-ttu-id="7c4e7-258">Una vista de lista virtual envía el código de notificación [LVN \_ ODCACHEHINT](lvn-odcachehint.md) para ayudar a optimizar la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-258">A virtual list view sends the [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code to assist in optimizing the cache.</span></span> <span data-ttu-id="7c4e7-259">El código de notificación proporciona valores de índice inclusivos para un intervalo de elementos que recomienda almacenar en caché.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-259">The notification code provides inclusive index values for a range of items that it recommends be cached.</span></span> <span data-ttu-id="7c4e7-260">Tras recibir el código de notificación, el propietario debe estar preparado para cargar la memoria caché con información del elemento para el intervalo solicitado, de modo que la información estará disponible fácilmente cuando se envíe un mensaje [ \_ GETDISPINFO de LVN](lvn-getdispinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-260">Upon receiving the notification code, the owner must be prepared to load the cache with item information for the requested range so that the information will be readily available when an [LVN\_GETDISPINFO](lvn-getdispinfo.md) message is sent.</span></span>                                                                                                                                                                                                                                   |
| [<span data-ttu-id="7c4e7-261">LVN \_ ODFINDITEM</span><span class="sxs-lookup"><span data-stu-id="7c4e7-261">LVN\_ODFINDITEM</span></span>](lvn-odfinditem.md)   | <span data-ttu-id="7c4e7-262">El código de notificación de [ \_ ODFINDITEM de LVN](lvn-odfinditem.md) se envía mediante un control de vista de lista virtual cuando el control necesita que el propietario busque un elemento de devolución de llamada determinado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-262">The [LVN\_ODFINDITEM](lvn-odfinditem.md) notification code is sent by a virtual list-view control when the control needs the owner to find a particular callback item.</span></span> <span data-ttu-id="7c4e7-263">El código de notificación se envía cuando el control de vista de lista recibe el acceso rápido a la tecla o cuando recibe un mensaje [**\_ FINDITEM de LVM**](lvm-finditem.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-263">The notification code is sent when the list-view control receives quick key access or when it receives an [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="7c4e7-264">La información de búsqueda se envía en forma de una estructura [**LVFINDINFO**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) , que es un miembro de la estructura [**NMLVFINDITEM**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-264">Search information is sent in the form of an [**LVFINDINFO**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) structure, which is a member of the [**NMLVFINDITEM**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema) structure.</span></span> <span data-ttu-id="7c4e7-265">El propietario debe estar preparado para buscar un elemento que coincida con la información proporcionada por el control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-265">The owner must be prepared to search for an item that matches the information given by the list-view control.</span></span> <span data-ttu-id="7c4e7-266">El propietario devuelve el índice del elemento si se realiza correctamente, o-1 si no se encuentra ningún elemento coincidente.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-266">The owner returns the index of the item if successful, or -1 if no matching item is found.</span></span>               |



 

### <a name="cache-management"></a><span data-ttu-id="7c4e7-267">Administración de caché</span><span class="sxs-lookup"><span data-stu-id="7c4e7-267">Cache Management</span></span>

<span data-ttu-id="7c4e7-268">Un control de vista de lista con el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) produce un gran número de códigos de notificación de [LVN \_ GETDISPINFO](lvn-getdispinfo.md) y, para ayudar a optimizar la memoria caché, un mensaje [LVN \_ ODCACHEHINT](lvn-odcachehint.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-268">A list-view control with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style produces a large number of [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes and, to assist in optimizing the cache, an [LVN\_ODCACHEHINT](lvn-odcachehint.md) message.</span></span> <span data-ttu-id="7c4e7-269">\_Los mensajes de LVN ODCACHEHINT proporcionan información sobre los elementos recomendados que se van a incluir en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-269">LVN\_ODCACHEHINT messages provide information about the recommended items to include within the cache.</span></span> <span data-ttu-id="7c4e7-270">Estos mensajes se envían como mensajes de [**\_ notificación de WM**](wm-notify.md) , donde el valor *lParam* actúa como la dirección de una estructura [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-270">These messages are sent as [**WM\_NOTIFY**](wm-notify.md) messages, with the *lParam* value acting as the address of an [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure.</span></span>

<span data-ttu-id="7c4e7-271">La estructura [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) incluye dos miembros enteros, **iFrom** y **iTo**, que representan los puntos de conexión inclusivos de un intervalo de elementos que es más probable que se necesiten.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-271">The [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure includes two integer members, **iFrom** and **iTo**, that represent the inclusive endpoints of a range of items that most likely will be needed.</span></span> <span data-ttu-id="7c4e7-272">El propietario debe estar preparado para cargar la memoria caché con la información del elemento para cada uno de los elementos del intervalo recomendado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-272">The owner must be prepared to load the cache with the item information for each of the items within the recommended range.</span></span>

<span data-ttu-id="7c4e7-273">El control de lista suele necesitar información del primer elemento (desplazamiento 0).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-273">The list control often needs item information for the first item (offset 0).</span></span> <span data-ttu-id="7c4e7-274">El código de notificación de [LVN \_ ODCACHEHINT](lvn-odcachehint.md) podría no incluir siempre el elemento 0, pero siempre debe incluirse en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-274">The [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code might not always include item 0, but it must always be included in the cache.</span></span>

<span data-ttu-id="7c4e7-275">A menudo se tiene acceso a los últimos elementos de la lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-275">The last items in the list are accessed often.</span></span> <span data-ttu-id="7c4e7-276">Por lo tanto, es posible que el propietario desee mantener una segunda caché que incluya los elementos al final de la lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-276">Therefore, the owner might want to keep a second cache that includes the items at the end of the list.</span></span> <span data-ttu-id="7c4e7-277">El intervalo solicitado de [LVN \_ ODCACHEHINT](lvn-odcachehint.md) puede comprobarse con la memoria caché final para que esté disponible automáticamente en lugar de volver a cargar el mismo intervalo de finalización cada vez.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-277">The requested range from [LVN\_ODCACHEHINT](lvn-odcachehint.md) can be checked against the end cache to make it available automatically instead of reloading the same end range each time.</span></span>

## <a name="list-view-working-areas"></a><span data-ttu-id="7c4e7-278">List-View áreas de trabajo</span><span class="sxs-lookup"><span data-stu-id="7c4e7-278">List-View Working Areas</span></span>

<span data-ttu-id="7c4e7-279">Los controles de vista de lista admiten áreas de trabajo, que son áreas virtuales rectangulares que usa el control de vista de lista para organizar sus elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-279">List-view controls support working areas, which are rectangular virtual areas that the list-view control uses to arrange its items.</span></span> <span data-ttu-id="7c4e7-280">Un área de trabajo no es una ventana y no puede tener un borde visible.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-280">A working area is not a window and cannot have a visible border.</span></span> <span data-ttu-id="7c4e7-281">De forma predeterminada, el control de vista de lista no tiene áreas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-281">By default, the list-view control has no working areas.</span></span> <span data-ttu-id="7c4e7-282">Al crear un área de trabajo, puede crear un borde vacío en la parte izquierda, superior o derecha de los elementos, o hacer que se muestre una barra de desplazamiento horizontal cuando normalmente no hubiera ninguno.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-282">By creating a working area, you can create an empty border on the left, top, or right of the items or cause a horizontal scroll bar to be displayed when there normally would not be one.</span></span>

<span data-ttu-id="7c4e7-283">Cuando se crea un área de trabajo, los elementos que se encuentran dentro del área de trabajo se convierten en miembros del área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-283">When a working area is created, items that lie within the working area become members of the working area.</span></span> <span data-ttu-id="7c4e7-284">Del mismo modo, si un elemento se mueve a un área de trabajo, el elemento se convierte en un miembro de ese área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-284">Similarly, if an item is moved into a working area, the item becomes a member of that working area.</span></span> <span data-ttu-id="7c4e7-285">Si un elemento no se encuentra dentro de un área de trabajo, se convierte automáticamente en miembro del primer área de trabajo (índice 0).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-285">If an item does not lie within any working area, it automatically becomes a member of the first (index 0) working area.</span></span> <span data-ttu-id="7c4e7-286">Para colocar un nuevo elemento dentro de un área de trabajo específica, primero debe crear el elemento y, a continuación, usar el [**\_ SETITEMPOSITION LVM**](lvm-setitemposition.md) o el mensaje [**\_ SETITEMPOSITION32 de LVM**](lvm-setitemposition32.md) para moverlo al área de trabajo deseada.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-286">To place new item within a specific working area, you must first create the item and then use either the [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) or the [**LVM\_SETITEMPOSITION32**](lvm-setitemposition32.md) message to move it into the desired working area.</span></span>

<span data-ttu-id="7c4e7-287">La siguiente ilustración es un ejemplo de un control de vista de lista que contiene cuatro áreas de trabajo, cada una en un cuadrante diferente del área cliente.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-287">The following illustration is an example of a list-view control that contains four working areas, each in a different quadrant of the client area.</span></span>

![captura de pantalla de un control de vista de lista con un área de trabajo en cada cuadrante del área cliente](images/working.jpg)

<span data-ttu-id="7c4e7-289">Se pueden usar varias áreas de trabajo para crear áreas diferentes dentro de una vista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-289">Multiple working areas can be used for creating different areas within one view.</span></span> <span data-ttu-id="7c4e7-290">Puede crear áreas en una sola vista que tengan diferentes significados.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-290">You can create areas in a single view that have different meanings.</span></span> <span data-ttu-id="7c4e7-291">Por ejemplo, una vista de un sistema de archivos puede tener un área para los archivos de lectura/escritura y otra para los archivos de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-291">For example, a view of a file system might have an area for read/write files and another area for read-only files.</span></span> <span data-ttu-id="7c4e7-292">El usuario puede clasificar los elementos colocándolos en áreas de trabajo diferentes.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-292">The user can categorize items by placing them in different working areas.</span></span> <span data-ttu-id="7c4e7-293">Si un archivo se mueve al área de solo lectura, se convertirá automáticamente en solo lectura.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-293">If a file is moved into the read-only area, it will automatically become read-only.</span></span>

<span data-ttu-id="7c4e7-294">Varias áreas de trabajo pueden intersectar, pero los elementos que se encuentran dentro de la intersección se convierten en miembros del área con el índice inferior; por lo tanto, es mejor evitar esta situación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-294">Multiple working areas can intersect, but any items that lie within the intersection become members of the area with the lower index; therefore, it is best to avoid this situation.</span></span> <span data-ttu-id="7c4e7-295">Al ordenar varias áreas de trabajo, los elementos se ordenan en comparación con los demás elementos de la misma área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-295">When sorting multiple work areas, the items are sorted compared to the other items in the same working area.</span></span>

<span data-ttu-id="7c4e7-296">El número de áreas de trabajo se puede recuperar con el mensaje [**LVM \_ GETNUMBEROFWORKAREAS**](lvm-getnumberofworkareas.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-296">The number of working areas can be retrieved with the [**LVM\_GETNUMBEROFWORKAREAS**](lvm-getnumberofworkareas.md) message.</span></span> <span data-ttu-id="7c4e7-297">Las áreas de trabajo se cambian con el mensaje [**LVM \_ SETWORKAREAS**](lvm-setworkareas.md) y se pueden recuperar con el mensaje [**LVM \_ GETWORKAREAS**](lvm-getworkareas.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-297">The working areas are changed with the [**LVM\_SETWORKAREAS**](lvm-setworkareas.md) message and can be retrieved with the [**LVM\_GETWORKAREAS**](lvm-getworkareas.md) message.</span></span> <span data-ttu-id="7c4e7-298">Ambos mensajes toman la dirección de una matriz de estructuras [**Rect**](/previous-versions//dd162897(v=vs.85)) como *lParam* y el número de estructuras **Rect** como *wParam*.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-298">Both of these messages take the address of an array of [**RECT**](/previous-versions//dd162897(v=vs.85)) structures as the *lParam* and the number of **RECT** structures as the *wParam*.</span></span> <span data-ttu-id="7c4e7-299">Los miembros **izquierdo** y **superior** de estas estructuras especifican las coordenadas de la esquina superior izquierda (el origen) del área de trabajo, y los miembros **derecho** e **inferior** especifican la esquina inferior derecha del área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-299">The **left** and **top** members of these structures specify the coordinates of the upper-left corner (the origin) of the working area, and the **right** and **bottom** members specify the lower-right corner of the working area.</span></span> <span data-ttu-id="7c4e7-300">Todas las coordenadas están en coordenadas de cliente de la vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-300">All the coordinates are in client coordinates of the list view.</span></span> <span data-ttu-id="7c4e7-301">El número máximo de áreas de trabajo permitido se define mediante el valor de **LV \_ Max \_ WORKAREAS** .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-301">The maximum number of working areas allowed is defined by the **LV\_MAX\_WORKAREAS** value.</span></span>

<span data-ttu-id="7c4e7-302">Cambiar el área de trabajo no tiene ningún efecto en los controles de vista de lista que tienen la vista de [**\_ Informe**](list-view-window-styles.md) LVS o la [**\_ lista**](list-view-window-styles.md) de LVS, pero las áreas de trabajo se mantendrán cuando se cambie el tipo de vista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-302">Changing the working area has no effect on list-view controls that have the [**LVS\_LIST**](list-view-window-styles.md) or [**LVS\_REPORT**](list-view-window-styles.md) view, but the working areas will be maintained when the view type is changed.</span></span> <span data-ttu-id="7c4e7-303">Con el [**\_ icono de LVS**](list-view-window-styles.md) y las vistas de [**LVS \_ SmallIcon**](list-view-window-styles.md) , el área de trabajo se puede modificar para cambiar la forma en que se muestran los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-303">With the [**LVS\_ICON**](list-view-window-styles.md) and [**LVS\_SMALLICON**](list-view-window-styles.md) views, the working area can be modified to change the way the items are displayed.</span></span> <span data-ttu-id="7c4e7-304">Si se hace que el ancho del área de trabajo (derecha a la izquierda) sea mayor que el ancho del cliente del control, los elementos se ajustan en ese ancho y se muestra la barra de desplazamiento horizontal.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-304">Making the width of the working area (right - left) greater than the client width of the control causes the items to be wrapped at that width and the horizontal scroll bar to be displayed.</span></span> <span data-ttu-id="7c4e7-305">Al reducir el ancho del área de trabajo más estrecha que el ancho del área cliente del control, los elementos se ajustan en el área de trabajo y no en el área cliente.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-305">Making the width of the working area narrower than the width of the control's client area causes the items to be wrapped within the working area and not the client area.</span></span> <span data-ttu-id="7c4e7-306">Si se establece el miembro **izquierdo** o **superior** en un valor positivo, se mostrarán los elementos a partir del área de trabajo, creando un espacio vacío entre el borde del control y los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-306">Setting the **left** or **top** member to a positive value causes the items to be displayed starting at the working area, creating an empty space between the edge of the control and the items.</span></span> <span data-ttu-id="7c4e7-307">También se puede crear un espacio vacío entre el borde derecho del control y los elementos haciendo que el ancho del área de trabajo sea menor que el ancho del cliente del control.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-307">An empty space can also be created between the right edge of the control and the items by making the width of the working area less than the client width of the control.</span></span>

## <a name="list-view-image-lists"></a><span data-ttu-id="7c4e7-308">List-View listas de imágenes</span><span class="sxs-lookup"><span data-stu-id="7c4e7-308">List-View Image Lists</span></span>

<span data-ttu-id="7c4e7-309">De forma predeterminada, un control de vista de lista no muestra imágenes de elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-309">By default, a list-view control does not display item images.</span></span> <span data-ttu-id="7c4e7-310">Para mostrar imágenes de elementos, debe crear listas de imágenes y asociarlas al control.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-310">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="7c4e7-311">Un control de vista de lista puede tener tres listas de imágenes:</span><span class="sxs-lookup"><span data-stu-id="7c4e7-311">A list-view control can have three image lists:</span></span>

-   <span data-ttu-id="7c4e7-312">Una lista de imágenes que contiene iconos de tamaño completo que se muestran cuando el control está en la vista de iconos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-312">An image list that contains full-sized icons displayed when the control is in icon view.</span></span>
-   <span data-ttu-id="7c4e7-313">Una lista de imágenes que contiene iconos pequeños que se muestran cuando el control está en la vista de iconos pequeños, en la vista de lista o en la vista de informe.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-313">An image list that contains small icons displayed when the control is in small icon view, list view, or report view.</span></span>
-   <span data-ttu-id="7c4e7-314">Una lista de imágenes que contiene imágenes de estado, que se muestran a la izquierda del icono pequeño o de tamaño completo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-314">An image list that contains state images, which are displayed to the left of the full-sized or small icon.</span></span> <span data-ttu-id="7c4e7-315">Puede usar las imágenes de estado, como las casillas activada y desactivada, para indicar los Estados de los elementos definidos por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-315">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span> <span data-ttu-id="7c4e7-316">Las imágenes de estado se muestran en la vista de iconos, en la vista de iconos pequeños, en la vista de lista y en la vista de informe.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-316">State images are displayed in icon view, small icon view, list view, and report view.</span></span>

<span data-ttu-id="7c4e7-317">Las listas de imágenes de iconos completos y de tamaño completo también pueden contener *imágenes superpuestas*, que están diseñadas para dibujarse de forma transparente sobre los iconos de los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-317">The full-sized and small icon image lists can also contain *overlay images*, which are designed to be drawn transparently over the item icons.</span></span>

<span data-ttu-id="7c4e7-318">Para usar imágenes superpuestas en un control de vista de lista:</span><span class="sxs-lookup"><span data-stu-id="7c4e7-318">To use overlay images in a list-view control:</span></span>

1.  <span data-ttu-id="7c4e7-319">Llame a la función [**ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) para asignar un índice de imagen de superposición a una imagen en las listas de imágenes de iconos de tamaño completo y pequeño.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-319">Call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function to assign an overlay image index to an image in the full-sized and small icon image lists.</span></span> <span data-ttu-id="7c4e7-320">Una imagen de superposición se identifica mediante un índice basado en uno.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-320">An overlay image is identified by a one-based index.</span></span>
2.  <span data-ttu-id="7c4e7-321">Puede asociar un índice de imagen de superposición a un elemento cuando se llama a la macro de [**ListView \_ InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) o [**ListView \_ SetItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-321">You can associate an overlay image index with an item when you call the [**ListView\_InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) or [**ListView\_SetItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem) macro.</span></span> <span data-ttu-id="7c4e7-322">Use la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) para especificar un índice de imagen de superposición en el miembro **State** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-322">Use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay image index in the **state** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="7c4e7-323">También debe establecer los bits [**LVIS \_ OVERLAYMASK**](list-view-item-states.md) en el miembro **stateMask** .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-323">You must also set the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) bits in the **stateMask** member.</span></span>

<span data-ttu-id="7c4e7-324">Si se especifica una lista de imágenes de estado, un control de vista de lista Reserva espacio a la izquierda del icono de cada elemento en una imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-324">If a state image list is specified, a list-view control reserves space to the left of each item's icon for a state image.</span></span>

<span data-ttu-id="7c4e7-325">Para asociar una imagen de estado a un elemento, utilice la macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) para especificar un índice de imagen de estado en el miembro **State** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-325">To associate a state image with an item, use the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro to specify a state image index in the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="7c4e7-326">El Índice identifica una imagen en la lista de imágenes de estado del control.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-326">The index identifies an image in the control's state image list.</span></span> <span data-ttu-id="7c4e7-327">Aunque los índices de la lista de imágenes son de base cero, el control utiliza índices basados en uno para identificar las imágenes de estado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-327">Although image list indexes are zero-based, the control uses one-based indexes to identify state images.</span></span> <span data-ttu-id="7c4e7-328">Un índice de imagen de estado cero indica que un elemento no tiene ninguna imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-328">A state image index of zero indicates that an item has no state image.</span></span>

<span data-ttu-id="7c4e7-329">De forma predeterminada, cuando se destruye un control de vista de lista, destruye las listas de imágenes asignadas a él.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-329">By default, when a list-view control is destroyed, it destroys the image lists assigned to it.</span></span> <span data-ttu-id="7c4e7-330">Sin embargo, si un control de vista de lista tiene el estilo de ventana [**LVS \_ SHAREIMAGELISTS**](list-view-window-styles.md) , la aplicación es responsable de destruir las listas de imágenes cuando ya no se usan.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-330">However, if a list-view control has the [**LVS\_SHAREIMAGELISTS**](list-view-window-styles.md) window style, the application is responsible for destroying the image lists when they are no longer in use.</span></span> <span data-ttu-id="7c4e7-331">Debe especificar este estilo si asigna las mismas listas de imágenes a varios controles de vista de lista. de lo contrario, es posible que más de un control intente destruir la misma lista de imágenes.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-331">You should specify this style if you assign the same image lists to multiple list-view controls; otherwise, more than one control might try to destroy the same image list.</span></span>

## <a name="list-view-items-and-subitems"></a><span data-ttu-id="7c4e7-332">List-View elementos y subelementos</span><span class="sxs-lookup"><span data-stu-id="7c4e7-332">List-View Items and Subitems</span></span>

<span data-ttu-id="7c4e7-333">Cada elemento de un control de vista de lista tiene un icono, una etiqueta, un estado actual y un valor definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-333">Each item in a list-view control has an icon, a label, a current state, and an application-defined value.</span></span> <span data-ttu-id="7c4e7-334">Mediante el uso de mensajes de vista de lista, puede Agregar, modificar y eliminar elementos, así como recuperar información sobre los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-334">By using list-view messages, you can add, modify, and delete items as well as retrieve information about items.</span></span>

<span data-ttu-id="7c4e7-335">Cada elemento puede tener uno o más *subelementos*.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-335">Each item can have one or more *subitems*.</span></span> <span data-ttu-id="7c4e7-336">Un subelemento es una cadena que, en la vista de informe, se muestra en una columna independiente del icono y la etiqueta del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-336">A subitem is a string that, in report view, is displayed in a column separate from the item's icon and label.</span></span> <span data-ttu-id="7c4e7-337">Para especificar el texto de un subelemento, use el mensaje [**LVM \_ SETITEMTEXT**](lvm-setitemtext.md) o [**LVM \_ SETITEM**](lvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-337">To specify the text of a subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) or [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="7c4e7-338">Todos los elementos de un control de vista de lista tienen el mismo número de subelementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-338">All items in a list-view control have the same number of subitems.</span></span> <span data-ttu-id="7c4e7-339">El número de subelementos viene determinado por el número de columnas en el control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-339">The number of subitems is determined by the number of columns in the list-view control.</span></span> <span data-ttu-id="7c4e7-340">Cuando se agrega una columna a un control de vista de lista, se especifica su índice de subelemento asociado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-340">When you add a column to a list-view control, you specify its associated subitem index.</span></span>

<span data-ttu-id="7c4e7-341">La estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) define un elemento o subelemento de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-341">The [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure defines a list-view item or subitem.</span></span> <span data-ttu-id="7c4e7-342">El miembro **iItem** es el índice de base cero del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-342">The **iItem** member is the zero-based index of the item.</span></span> <span data-ttu-id="7c4e7-343">El miembro **iSubItem** es el índice basado en uno de un subelemento o cero si la estructura contiene información sobre un elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-343">The **iSubItem** member is the one-based index of a subitem or zero if the structure contains information about an item.</span></span> <span data-ttu-id="7c4e7-344">Los miembros adicionales especifican el texto, el icono, el estado y los datos del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-344">Additional members specify the item's text, icon, state, and item data.</span></span> <span data-ttu-id="7c4e7-345">Los *datos de elemento* son un valor definido por la aplicación asociado a un elemento de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-345">*Item data* is an application-defined value associated with a list-view item.</span></span>

<span data-ttu-id="7c4e7-346">Para agregar un elemento a un control de vista de lista, use el mensaje de [**LVM \_ INSERTITEM**](lvm-insertitem.md) , especificando la dirección de una estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-346">To add an item to a list-view control, use the [**LVM\_INSERTITEM**](lvm-insertitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="7c4e7-347">Antes de agregar varios elementos, puede enviar el control a un mensaje [**\_ SETITEMCOUNT LVM**](lvm-setitemcount.md) , especificando el número de elementos que el control va a contener en última instancia.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-347">Before adding multiple items, you can send the control an [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, specifying the number of items the control will ultimately contain.</span></span> <span data-ttu-id="7c4e7-348">Este mensaje permite al control de vista de lista reasignar sus estructuras de datos internas solo una vez en lugar de cada vez que se agrega un elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-348">This message enables the list-view control to reallocate its internal data structures only once rather than every time you add an item.</span></span> <span data-ttu-id="7c4e7-349">Puede determinar el número de elementos en un control de vista de lista mediante el mensaje [**LVM \_ GETITEMCOUNT**](lvm-getitemcount.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-349">You can determine the number of items in a list-view control by using the [**LVM\_GETITEMCOUNT**](lvm-getitemcount.md) message.</span></span> <span data-ttu-id="7c4e7-350">Si va a agregar un gran número de elementos a un control de vista de lista, puede acelerar el proceso desactivando volver a dibujar antes de agregar los elementos y, a continuación, habilitar el redibujo después de agregar los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-350">If you are adding a large number of items to a list-view control, you can speed up the process by disabling redrawing before adding the items, then enable redrawing after the items are added.</span></span> <span data-ttu-id="7c4e7-351">Use el mensaje de [**\_ SETREDRAW de WM**](/windows/desktop/gdi/wm-setredraw) para habilitar y deshabilitar el redibujo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-351">Use the [**WM\_SETREDRAW**](/windows/desktop/gdi/wm-setredraw) message to enable and disable redrawing.</span></span>

<span data-ttu-id="7c4e7-352">Para cambiar los atributos de un elemento de vista de lista, use el mensaje [**LVM \_ SETITEM**](lvm-setitem.md) , especificando la dirección de una estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-352">To change the attributes of a list-view item, use the [**LVM\_SETITEM**](lvm-setitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="7c4e7-353">El miembro de **máscara** de esta estructura especifica los atributos de elemento que desea cambiar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-353">The **mask** member of this structure specifies the item attributes you want to change.</span></span> <span data-ttu-id="7c4e7-354">Por ejemplo, para cambiar solo el texto de un elemento o subelemento, use el [**mensaje \_ SETITEMTEXT de LVM**](lvm-setitemtext.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-354">For example, to change only the text of an item or subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) message.</span></span>

<span data-ttu-id="7c4e7-355">Para recuperar información sobre un elemento de vista de lista, use el mensaje [**\_ GETITEM de LVM**](lvm-getitem.md) , especificando la dirección de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) que se va a rellenar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-355">To retrieve information about a list-view item, use the [**LVM\_GETITEM**](lvm-getitem.md) message, specifying the address of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to fill in.</span></span> <span data-ttu-id="7c4e7-356">El miembro de **máscara** de esta estructura especifica los atributos de elemento que se van a recuperar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-356">The **mask** member of this structure specifies the item attributes to be retrieved.</span></span> <span data-ttu-id="7c4e7-357">Para recuperar solo el texto de un elemento o subelemento, use el mensaje [**\_ GETITEMTEXT de LVM**](lvm-getitemtext.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-357">To retrieve only an item or subitem's text, use the [**LVM\_GETITEMTEXT**](lvm-getitemtext.md) message.</span></span>

<span data-ttu-id="7c4e7-358">Para eliminar un elemento de vista de lista, use el mensaje de [**LVM \_ DELETEITEM**](lvm-deleteitem.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-358">To delete a list-view item, use the [**LVM\_DELETEITEM**](lvm-deleteitem.md) message.</span></span> <span data-ttu-id="7c4e7-359">Puede eliminar todos los elementos de un control de vista de lista mediante el mensaje [**LVM \_ DELETEALLITEMS**](lvm-deleteallitems.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-359">You can delete all items in a list-view control by using the [**LVM\_DELETEALLITEMS**](lvm-deleteallitems.md) message.</span></span>

### <a name="list-view-item-states"></a><span data-ttu-id="7c4e7-360">List-View Estados de elemento</span><span class="sxs-lookup"><span data-stu-id="7c4e7-360">List-View Item States</span></span>

<span data-ttu-id="7c4e7-361">El estado de un elemento es un valor que especifica la disponibilidad del elemento, indica las acciones del usuario o, de lo contrario, refleja el estado del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-361">An item's state is a value that specifies the item's availability, indicates user actions, or otherwise reflects the item's status.</span></span> <span data-ttu-id="7c4e7-362">Un control de vista de lista cambia algunos bits de estado, como cuando el usuario selecciona un elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-362">A list-view control changes some state bits, such as when the user selects an item.</span></span> <span data-ttu-id="7c4e7-363">Una aplicación podría cambiar otros bits de estado para deshabilitar u ocultar el elemento o especificar una imagen de superposición o imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-363">An application might change other state bits to disable or hide the item or to specify an overlay image or state image.</span></span> <span data-ttu-id="7c4e7-364">Para obtener más información sobre las imágenes de superposición y las imágenes de estado, consulte [listas de imágenes de vista de lista](#list-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-364">For more information about overlay images and state images, see [List-View Image Lists](#list-view-image-lists).</span></span>

<span data-ttu-id="7c4e7-365">El estado de un elemento se especifica mediante el miembro de **Estado** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-365">An item's state is specified by the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="7c4e7-366">Al especificar o cambiar el estado de un elemento, el miembro **stateMask** especifica qué bits de Estado debe cambiar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-366">When you specify or change an item's state, the **stateMask** member specifies which state bits you need to change.</span></span> <span data-ttu-id="7c4e7-367">Puede cambiar el estado de un elemento mediante el mensaje [**LVM \_ SETITEMSTATE**](lvm-setitemstate.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-367">You can change an item's state by using the [**LVM\_SETITEMSTATE**](lvm-setitemstate.md) message.</span></span> <span data-ttu-id="7c4e7-368">Puede especificar el estado de un elemento al crearlo o al cambiar sus atributos mediante el mensaje SETITEM de [**LVM \_**](lvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-368">You can specify an item's state when you create it or when you change its attributes by using the [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="7c4e7-369">Para determinar el estado actual de un elemento, use el mensaje [**LVM \_ GETITEMSTATE**](lvm-getitemstate.md) o [**LVM \_ GETITEM**](lvm-getitem.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-369">To determine an item's current state, use the [**LVM\_GETITEMSTATE**](lvm-getitemstate.md) or [**LVM\_GETITEM**](lvm-getitem.md) message.</span></span>

<span data-ttu-id="7c4e7-370">Para establecer la imagen de superposición de un elemento, el miembro **stateMask** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) debe incluir el valor [**\_ OVERLAYMASK de LVIS**](list-view-item-states.md) y el miembro **State** debe incluir el índice basado en uno de la imagen de superposición desplazada a la izquierda 8 bits mediante la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-370">To set an item's overlay image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="7c4e7-371">El índice puede ser cero para no especificar ninguna imagen de superposición.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-371">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="7c4e7-372">Para establecer la imagen de estado de un elemento, el miembro **stateMask** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) debe incluir el valor [**\_ STATEIMAGEMASK de LVIS**](list-view-item-states.md) y el miembro **State** debe incluir el índice basado en uno de la imagen de estado desplazada a la izquierda 12 bits mediante la macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-372">To set an item's state image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_STATEIMAGEMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the state image shifted left 12 bits by using the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro.</span></span> <span data-ttu-id="7c4e7-373">El índice puede ser cero para no especificar ninguna imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-373">The index can be zero to specify no state image.</span></span>

### <a name="callback-items-and-the-callback-mask"></a><span data-ttu-id="7c4e7-374">Elementos de devolución de llamada y máscara de devolución de llamada</span><span class="sxs-lookup"><span data-stu-id="7c4e7-374">Callback Items and the Callback Mask</span></span>

<span data-ttu-id="7c4e7-375">Para cada uno de sus elementos, un control de vista de lista normalmente almacena el texto de la etiqueta, el índice de la lista de imágenes de los iconos del elemento y un conjunto de marcadores de bits para el estado del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-375">For each of its items, a list-view control typically stores the label text, the image list index of the item's icons, and a set of bit flags for the item's state.</span></span> <span data-ttu-id="7c4e7-376">Puede definir los elementos de devolución de llamada o cambiar la máscara de devolución de llamada del control para indicar que la aplicación, en lugar del control, almacena parte o toda esta información.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-376">You can define callback items or change the control's callback mask to indicate that the application, rather than the control, stores some or all of this information.</span></span> <span data-ttu-id="7c4e7-377">Es posible que desee usar devoluciones de llamada si la aplicación almacena parte de esta información.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-377">You might want to use callbacks if your application stores some of this information.</span></span>

<span data-ttu-id="7c4e7-378">Un *elemento de devolución de llamada* de un control de vista de lista es un elemento para el que la aplicación almacena el índice de texto o icono, o ambos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-378">A *callback item* in a list-view control is an item for which the application stores the text or icon index, or both.</span></span> <span data-ttu-id="7c4e7-379">Puede definir los elementos de devolución de llamada cuando envíe el mensaje de [**LVM \_ INSERTITEM**](lvm-insertitem.md) para agregar un elemento al control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-379">You can define callback items when you send the [**LVM\_INSERTITEM**](lvm-insertitem.md) message to add an item to the list-view control.</span></span> <span data-ttu-id="7c4e7-380">Si la aplicación almacena el texto del elemento o subelemento, establezca el miembro **miembros pszText** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) del elemento en **LPSTR \_ TEXTCALLBACK**.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-380">If the application stores the text for the item or subitem, set the **pszText** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to **LPSTR\_TEXTCALLBACK**.</span></span> <span data-ttu-id="7c4e7-381">Si la aplicación almacena el índice de icono de un elemento, establezca el miembro **iImage** de la estructura **LVITEM** del elemento en **I \_ IMAGECALLBACK**.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-381">If the application stores the icon index for an item, set the **iImage** member of the item's **LVITEM** structure to **I\_IMAGECALLBACK**.</span></span>

<span data-ttu-id="7c4e7-382">La *máscara de devolución de llamada* de un control de vista de lista es un conjunto de marcadores de bits que especifican los Estados del elemento para los que la aplicación, en lugar del control, almacena los datos actuales.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-382">The *callback mask* of a list-view control is a set of bit flags that specify the item states for which the application, rather than the control, stores the current data.</span></span> <span data-ttu-id="7c4e7-383">La máscara de devolución de llamada se aplica a todos los elementos del control, a diferencia de la designación del elemento de devolución de llamada, que se aplica a un elemento específico.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-383">The callback mask applies to all of the control's items, unlike the callback item designation, which applies to a specific item.</span></span> <span data-ttu-id="7c4e7-384">De forma predeterminada, la máscara de devolución de llamada es cero, lo que significa que el control de vista de lista almacena toda la información de estado de los elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-384">The callback mask is zero by default, meaning that the list-view control stores all item state information.</span></span> <span data-ttu-id="7c4e7-385">Después de crear un control de vista de lista e inicializar sus elementos, puede enviar el mensaje [**LVM \_ SETCALLBACKMASK**](lvm-setcallbackmask.md) para cambiar la máscara de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-385">After creating a list-view control and initializing its items, you can send the [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message to change the callback mask.</span></span> <span data-ttu-id="7c4e7-386">Para recuperar la máscara de devolución de llamada actual, envíe el mensaje [**LVM \_ GETCALLBACKMASK**](lvm-getcallbackmask.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-386">To retrieve the current callback mask, send the [**LVM\_GETCALLBACKMASK**](lvm-getcallbackmask.md) message.</span></span>

<span data-ttu-id="7c4e7-387">Cuando un control de vista de lista debe mostrar u ordenar un elemento de vista de lista para el que la aplicación almacena información de devolución de llamada, el control envía el código de notificación [LVN \_ GETDISPINFO](lvn-getdispinfo.md) a la ventana primaria del control.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-387">When a list-view control must display or sort a list-view item for which the application stores callback information, the control sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to the control's parent window.</span></span> <span data-ttu-id="7c4e7-388">Este mensaje especifica una estructura [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) que contiene el tipo de información requerida e identifica el elemento o subelemento que se va a recuperar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-388">This message specifies an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure that contains the type of information required and identifies the item or subitem to retrieve.</span></span> <span data-ttu-id="7c4e7-389">La ventana primaria debe procesar LVN \_ GETDISPINFO para proporcionar los datos solicitados.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-389">The parent window must process LVN\_GETDISPINFO to provide the requested data.</span></span>

<span data-ttu-id="7c4e7-390">Si el control de vista de lista detecta un cambio en la información de devolución de llamada de un elemento, como un cambio en el texto, el icono o la información de estado, el control envía un código de notificación [ \_ SETDISPINFO de LVN](lvn-setdispinfo.md) para notificar el cambio.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-390">If the list-view control detects a change in an item's callback information, such as a change in the text, icon, or state information, the control sends an [LVN\_SETDISPINFO](lvn-setdispinfo.md) notification code to notify you of the change.</span></span>

<span data-ttu-id="7c4e7-391">Si se cambian los atributos de un elemento de devolución de llamada o los bits de estado, se usa el mensaje de [**\_ actualización LVM**](lvm-update.md) para forzar que el control vuelva a dibujar el elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-391">If you change a callback item's attributes or state bits, you use the [**LVM\_UPDATE**](lvm-update.md) message to force the control to repaint the item.</span></span> <span data-ttu-id="7c4e7-392">Este mensaje también hace que el control organice sus elementos si tiene el estilo [**LVS \_ AutoArrange**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-392">This message also causes the control to arrange its items if it has the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="7c4e7-393">Puede usar el mensaje [**\_ REDRAWITEMS LVM**](lvm-redrawitems.md) para volver a dibujar un intervalo de elementos invalidando las partes correspondientes del área cliente del control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-393">You can use the [**LVM\_REDRAWITEMS**](lvm-redrawitems.md) message to redraw a range of items by invalidating the corresponding portions of the list-view control's client area.</span></span>

<span data-ttu-id="7c4e7-394">Mediante el uso eficaz de elementos de devolución de llamada y la máscara de devolución de llamada, puede asegurarse de que cada atributo de elemento se mantiene en un solo lugar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-394">By effectively using callback items and the callback mask, you can ensure that each item attribute is maintained in only one place.</span></span> <span data-ttu-id="7c4e7-395">Esto puede simplificar la aplicación, pero el único espacio guardado es la memoria que de otro modo sería necesaria para almacenar etiquetas de elementos y texto de subelemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-395">Doing this can simplify your application, but the only space saved is the memory that would otherwise be required to store item labels and subitem text.</span></span>

### <a name="list-view-item-position"></a><span data-ttu-id="7c4e7-396">List-View posición del elemento</span><span class="sxs-lookup"><span data-stu-id="7c4e7-396">List-View Item Position</span></span>

<span data-ttu-id="7c4e7-397">Cada elemento de vista de lista tiene una posición y un tamaño, que puede recuperar y establecer mediante mensajes.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-397">Every list-view item has a position and size, which you can retrieve and set using messages.</span></span> <span data-ttu-id="7c4e7-398">También puede determinar qué elemento, si existe, está en una posición especificada.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-398">You can also determine which item, if any, is at a specified position.</span></span> <span data-ttu-id="7c4e7-399">La posición de los elementos de vista de lista se especifica en coordenadas de la *vista*, que son coordenadas de cliente desplazadas por la posición de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-399">The position of list-view items is specified in *view coordinates*, which are client coordinates offset by the scroll position.</span></span>

<span data-ttu-id="7c4e7-400">Para recuperar y establecer la posición de un elemento, use los mensajes [**\_ GETITEMPOSITION**](lvm-getitemposition.md) y [**LVM \_ SETITEMPOSITION**](lvm-setitemposition.md) de LVM.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-400">To retrieve and set an item's position, use the [**LVM\_GETITEMPOSITION**](lvm-getitemposition.md) and [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) messages.</span></span> <span data-ttu-id="7c4e7-401">**LVM \_ GETITEMPOSITION** funciona para todas las vistas, pero el **\_ SETITEMPOSITION de LVM** solo funciona para vistas de iconos y pequeños iconos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-401">**LVM\_GETITEMPOSITION** works for all views, but **LVM\_SETITEMPOSITION** works only for icon and small icon views.</span></span>

<span data-ttu-id="7c4e7-402">Puede determinar qué elemento, si existe, está en una ubicación determinada mediante el mensaje de [**LVM \_ HITTEST**](lvm-hittest.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-402">You can determine which item, if any, is at a particular location by using the [**LVM\_HITTEST**](lvm-hittest.md) message.</span></span>

<span data-ttu-id="7c4e7-403">Para recuperar el rectángulo delimitador de un elemento de lista o solo para su icono o etiqueta, use el mensaje [**\_ GETITEMRECT de LVM**](lvm-getitemrect.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-403">To retrieve the bounding rectangle for a list item or only for its icon or label, use the [**LVM\_GETITEMRECT**](lvm-getitemrect.md) message.</span></span>

### <a name="arranging-sorting-and-finding-items"></a><span data-ttu-id="7c4e7-404">Organizar, ordenar y buscar elementos</span><span class="sxs-lookup"><span data-stu-id="7c4e7-404">Arranging, Sorting, and Finding Items</span></span>

<span data-ttu-id="7c4e7-405">Puede usar mensajes de vista de lista para organizar y ordenar los elementos, así como para buscar elementos en función de sus atributos o posiciones.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-405">You can use list-view messages to arrange and sort items and to find items based on their attributes or positions.</span></span> <span data-ttu-id="7c4e7-406">La organización de las reposiciones de los elementos se alinean en una cuadrícula, pero los índices de los elementos no cambian.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-406">Arranging repositions items to align on a grid, but the indexes of the items do not change.</span></span> <span data-ttu-id="7c4e7-407">La ordenación cambia la secuencia de elementos (y sus índices correspondientes) y, a continuación, cambia su posición en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-407">Sorting changes the sequence of items (and their corresponding indexes) and then repositions them accordingly.</span></span> <span data-ttu-id="7c4e7-408">Los elementos solo se pueden organizar en vistas de iconos y iconos pequeños, pero se pueden ordenar elementos en cualquier vista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-408">You can arrange items only in icon and small icon views, but you can sort items in any view.</span></span> <span data-ttu-id="7c4e7-409">Para buscar elementos, se envían mensajes de vista de lista que especifican la ubicación o la propiedad de un elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-409">To find items, you send list-view messages that specify an item location or property.</span></span>

<span data-ttu-id="7c4e7-410">Para organizar los elementos, use el mensaje de [**\_ organización del LVM**](lvm-arrange.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-410">To arrange items, use the [**LVM\_ARRANGE**](lvm-arrange.md) message.</span></span> <span data-ttu-id="7c4e7-411">Puede asegurarse de que los elementos se organizan en todo momento especificando el estilo de ventana [**LVS \_ AutoArrange**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-411">You can ensure that items are arranged at all times by specifying the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="7c4e7-412">Para ordenar los elementos, use el mensaje [**\_ SORTITEMS de LVM**](lvm-sortitems.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-412">To sort items, use the [**LVM\_SORTITEMS**](lvm-sortitems.md) message.</span></span> <span data-ttu-id="7c4e7-413">Al ordenar con este mensaje, se especifica una función de devolución de llamada definida por la aplicación a la que llama el control de vista de lista para comparar el orden relativo de dos elementos cualesquiera.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-413">When you sort using this message, you specify an application-defined callback function that the list-view control calls to compare the relative order of any two items.</span></span> <span data-ttu-id="7c4e7-414">El control pasa a la función de comparación los datos de elemento asociados a cada uno de los dos elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-414">The control passes to the comparison function the item data associated with each of the two items.</span></span> <span data-ttu-id="7c4e7-415">Los datos del elemento son el valor que se especificó en el miembro **lParam** de la estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) del elemento cuando se insertó en la lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-415">The item data is the value that was specified in the **lParam** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure when it was inserted into the list.</span></span> <span data-ttu-id="7c4e7-416">Al especificar los datos de elemento adecuados y proporcionar una función de comparación adecuada, puede ordenar los elementos por su etiqueta, por cualquier subelemento o por cualquier otra propiedad.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-416">By specifying the appropriate item data and supplying an appropriate comparison function, you can sort items by their label, by any subitem, or by any other property.</span></span> <span data-ttu-id="7c4e7-417">Tenga en cuenta que la ordenación de elementos no reordena los subelementos correspondientes.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-417">Note that sorting items does not reorder the corresponding subitems.</span></span> <span data-ttu-id="7c4e7-418">Cuando se reordenan los elementos, se transfieren sus subelementos correspondientes. es decir, las filas enteras se mantienen juntas.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-418">When items are reordered, their corresponding subitems are carried with them; that is, whole rows are kept together.</span></span> <span data-ttu-id="7c4e7-419">Para ordenar las columnas por separado entre sí, desasociando los subelementos de sus elementos, debe volver a generar las columnas después de ordenar mediante [**el \_ SETITEM de LVM**](lvm-setitem.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-419">To order the columns separately from one another, detaching the subitems from their items, you must regenerate the columns after sorting using [**LVM\_SETITEM**](lvm-setitem.md).</span></span>

<span data-ttu-id="7c4e7-420">Puede asegurarse de que un control de vista de lista se ordene siempre especificando el estilo de ventana [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-420">You can ensure that a list-view control is always sorted by specifying the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) window style.</span></span> <span data-ttu-id="7c4e7-421">Los controles con estos estilos usan el texto de la etiqueta de los elementos para ordenarlos en orden ascendente o descendente.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-421">Controls with these styles use the label text of the items to sort them in ascending or descending order.</span></span> <span data-ttu-id="7c4e7-422">No se puede proporcionar una función de comparación al utilizar estos estilos de ventana.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-422">You cannot supply a comparison function when using these window styles.</span></span> <span data-ttu-id="7c4e7-423">Si un control de vista de lista tiene cualquiera de estos estilos, se producirá un error en un mensaje [**\_ INSERTITEM de LVM**](lvm-insertitem.md) si intenta insertar un elemento que tenga **LPSTR \_ TEXTCALLBACK** como miembro **miembros pszText** de su estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-423">If a list-view control has either of these styles, an [**LVM\_INSERTITEM**](lvm-insertitem.md) message will fail if you try to insert an item that has **LPSTR\_TEXTCALLBACK** as the **pszText** member of its [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span>

<span data-ttu-id="7c4e7-424">Puede buscar un elemento de vista de lista con propiedades específicas mediante el mensaje [**\_ FINDITEM LVM**](lvm-finditem.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-424">You can find a list-view item with specific properties by using the [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="7c4e7-425">Puede encontrar un elemento de vista de lista que se encuentra en un estado especificado y que tiene una relación especificada con un elemento determinado mediante el mensaje [**\_ GETNEXTITEM de LVM**](lvm-getnextitem.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-425">You can find a list-view item that is in a specified state and has a specified relationship to a given item by using the [**LVM\_GETNEXTITEM**](lvm-getnextitem.md) message.</span></span> <span data-ttu-id="7c4e7-426">Por ejemplo, puede recuperar el siguiente elemento seleccionado a la derecha de un elemento especificado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-426">For example, you can retrieve the next selected item to the right of a specified item.</span></span>

## <a name="list-view-columns"></a><span data-ttu-id="7c4e7-427">Columnas List-View</span><span class="sxs-lookup"><span data-stu-id="7c4e7-427">List-View Columns</span></span>

<span data-ttu-id="7c4e7-428">Las columnas controlan la manera en que se muestran los elementos y sus subelementos en la vista de informe.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-428">Columns control the way items and their subitems are displayed in report view.</span></span> <span data-ttu-id="7c4e7-429">Cada columna tiene un título y un ancho y está asociada a un subelemento específico; el subelemento cero es el icono y la etiqueta del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-429">Each column has a title and width and is associated with a specific subitem; subitem zero is the item's icon and label.</span></span> <span data-ttu-id="7c4e7-430">Los atributos de una columna se definen mediante una estructura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-430">The attributes of a column are defined by an [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="7c4e7-431">Para agregar una columna a un control de vista de lista, use el mensaje [**LVM \_ INSERTCOLUMN**](lvm-insertcolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-431">To add a column to a list-view control, use the [**LVM\_INSERTCOLUMN**](lvm-insertcolumn.md) message.</span></span> <span data-ttu-id="7c4e7-432">Para eliminar una columna, use el mensaje [**LVM \_ DELETECOLUMN**](lvm-deletecolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-432">To delete a column, use the [**LVM\_DELETECOLUMN**](lvm-deletecolumn.md) message.</span></span>

> [!Note]  
> <span data-ttu-id="7c4e7-433">La eliminación de la columna cero de un control de vista de lista solo se admite en ComCtl32.dll versión 6 y posteriores.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-433">Deleting column zero of a list-view control is supported only in ComCtl32.dll version 6 and later.</span></span> <span data-ttu-id="7c4e7-434">La versión 5 también admite la eliminación de la columna cero, pero solo después de usar [**CCM \_ SETVERSION**](ccm-setversion.md) para establecer la versión en 5 o posterior.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-434">Version 5 also supports deleting column zero, but only after you use [**CCM\_SETVERSION**](ccm-setversion.md) to set the version to 5 or later.</span></span> <span data-ttu-id="7c4e7-435">Las versiones anteriores a la versión 5 no admiten la eliminación de la columna cero.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-435">Versions prior to version 5 do not support deleting column zero.</span></span>

 

<span data-ttu-id="7c4e7-436">Puede recuperar y cambiar las propiedades de una columna existente mediante los mensajes [**LVM \_ Getcolumn (**](lvm-getcolumn.md) y [**LVM \_ SETCOLUMN**](lvm-setcolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-436">You can retrieve and change the properties of an existing column by using the [**LVM\_GETCOLUMN**](lvm-getcolumn.md) and [**LVM\_SETCOLUMN**](lvm-setcolumn.md) messages.</span></span> <span data-ttu-id="7c4e7-437">Para recuperar o cambiar el ancho de una columna, use los mensajes [**\_ GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) y [**LVM \_ SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) de LVM.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-437">To retrieve or change a column's width, use the [**LVM\_GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) and [**LVM\_SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) messages.</span></span>

<span data-ttu-id="7c4e7-438">A menos que se especifique el estilo de ventana [**LVS \_ NOCOLUMNHEADER**](list-view-window-styles.md) , los encabezados de columna aparecen en la vista de informe.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-438">Unless the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style is specified, column headers appear in report view.</span></span> <span data-ttu-id="7c4e7-439">El usuario puede hacer clic en un encabezado de columna, lo que hace que se envíe un código de notificación [**\_ COLUMNCLICK de LVN**](lvn-columnclick.md) a la ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-439">The user can click a column header, causing an [**LVN\_COLUMNCLICK**](lvn-columnclick.md) notification code to be sent to the parent window.</span></span> <span data-ttu-id="7c4e7-440">Normalmente, la ventana primaria ordena el control de vista de lista por la columna especificada cuando se hace clic en él.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-440">Typically, the parent window sorts the list-view control by the specified column when this clicking occurs.</span></span> <span data-ttu-id="7c4e7-441">El usuario también puede arrastrar las guías de columna entre los encabezados para ajustar el tamaño de las columnas.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-441">The user can also drag the column guides between the headers to size the columns.</span></span>

<span data-ttu-id="7c4e7-442">Los controles de vista de lista pueden mostrar imágenes junto a los títulos de columna.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-442">List-view controls can display images next to column titles.</span></span> <span data-ttu-id="7c4e7-443">Para implementar esta característica, especifique el valor de **\_ imagen LVCF** y asigne el índice de la imagen al miembro **IImage** en la estructura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-443">To implement this feature, specify the **LVCF\_IMAGE** value and assign the index of the image to the **iImage** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="7c4e7-444">Los controles de vista de lista pueden establecer el orden en el que se muestran las columnas.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-444">List-view controls can set the order in which columns are displayed.</span></span> <span data-ttu-id="7c4e7-445">Para implementar esta característica, especifique el valor de **\_ orden LVCF** y asigne el orden de las columnas al miembro **IOrder** en la estructura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-445">To implement this feature, specify the **LVCF\_ORDER** value and assign the column order to the **iOrder** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span> <span data-ttu-id="7c4e7-446">El orden de las columnas es de base cero y está en orden de izquierda a derecha.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-446">The column order is zero-based and is in left-to-right order.</span></span> <span data-ttu-id="7c4e7-447">Por ejemplo, cero indica la columna situada más a la izquierda.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-447">For example, zero indicates the leftmost column.</span></span>

## <a name="list-view-scroll-position"></a><span data-ttu-id="7c4e7-448">List-View posición de desplazamiento</span><span class="sxs-lookup"><span data-stu-id="7c4e7-448">List-View Scroll Position</span></span>

<span data-ttu-id="7c4e7-449">A menos que se especifique el estilo de ventana [**LVS \_ noscroll**](list-view-window-styles.md) , se puede desplazar un control de vista de lista para mostrar más elementos de los que caben en el área cliente del control.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-449">Unless the [**LVS\_NOSCROLL**](list-view-window-styles.md) window style is specified, a list-view control can be scrolled to show more items than can fit in the client area of the control.</span></span> <span data-ttu-id="7c4e7-450">Puede recuperar la posición de desplazamiento y la información relacionada de un control de vista de lista, desplazar un control de vista de lista en una cantidad especificada o desplazarse por un control de vista de lista para que el elemento de lista especificado esté visible.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-450">You can retrieve a list-view control's scroll position and related information, scroll a list-view control by a specified amount, or scroll a list-view control so that a specified list item is visible.</span></span>

<span data-ttu-id="7c4e7-451">En la vista de iconos o en la vista de iconos pequeños, la posición de desplazamiento actual se define en el origen de la *vista*.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-451">In icon view or small icon view, the current scroll position is defined by the *view origin*.</span></span> <span data-ttu-id="7c4e7-452">El origen de la vista es el conjunto de coordenadas, en relación con el área visible del control de vista de lista, que corresponden a las coordenadas de la vista (0,0).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-452">The view origin is the set of coordinates, relative to the visible area of the list-view control, that correspond to the view coordinates (0, 0).</span></span> <span data-ttu-id="7c4e7-453">Para recuperar el origen de la vista actual, use el mensaje [**\_ GETORIGIN de LVM**](lvm-getorigin.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-453">To retrieve the current view origin, use the [**LVM\_GETORIGIN**](lvm-getorigin.md) message.</span></span> <span data-ttu-id="7c4e7-454">Este mensaje solo se debe usar en la vista icono o pequeño icono. Devuelve un error en la vista de lista o informe.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-454">This message should be used only in icon or small icon view; it returns an error in list or report view.</span></span>

<span data-ttu-id="7c4e7-455">En la vista de lista o de informe, la posición de desplazamiento actual se define en el *Índice superior*.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-455">In list or report view, the current scroll position is defined by the *top index*.</span></span> <span data-ttu-id="7c4e7-456">El índice superior es el índice del primer elemento visible en el control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-456">The top index is the index of the first visible item in the list-view control.</span></span> <span data-ttu-id="7c4e7-457">Para recuperar el índice superior actual, use el [**mensaje \_ GETTOPINDEX de LVM**](lvm-gettopindex.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-457">To retrieve the current top index, use the [**LVM\_GETTOPINDEX**](lvm-gettopindex.md) message.</span></span> <span data-ttu-id="7c4e7-458">Este mensaje solo devuelve un resultado válido en la vista de lista o informe; devuelve cero en el icono o en la vista de iconos pequeños.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-458">This message returns a valid result only in list or report view; it returns zero in icon or small icon view.</span></span>

<span data-ttu-id="7c4e7-459">Puede usar el mensaje [**LVM \_ GETVIEWRECT**](lvm-getviewrect.md) para recuperar el rectángulo delimitador de todos los elementos de un control de vista de lista, en relación con el área visible del control.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-459">You can use the [**LVM\_GETVIEWRECT**](lvm-getviewrect.md) message to retrieve the bounding rectangle of all items in a list-view control, relative to the visible area of the control.</span></span>

<span data-ttu-id="7c4e7-460">El mensaje [**LVM \_ GETCOUNTPERPAGE**](lvm-getcountperpage.md) devuelve el número de elementos que caben en una página del control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-460">The [**LVM\_GETCOUNTPERPAGE**](lvm-getcountperpage.md) message returns the number of items that fit in one page of the list-view control.</span></span> <span data-ttu-id="7c4e7-461">Este mensaje solo devuelve un resultado válido en las vistas de lista y informe; en las vistas icono y pequeño, devuelve el número total de elementos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-461">This message returns a valid result only in list and report views; in icon and small icon views, it returns the total number of items.</span></span>

<span data-ttu-id="7c4e7-462">Para desplazar un control de vista de lista en una cantidad específica, utilice el mensaje de [**\_ desplazamiento del LVM**](lvm-scroll.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-462">To scroll a list-view control by a specific amount, use the [**LVM\_SCROLL**](lvm-scroll.md) message.</span></span> <span data-ttu-id="7c4e7-463">Con el [**mensaje \_ ENSUREVISIBLE de LVM**](lvm-ensurevisible.md) , puede desplazarse por el control de vista de lista, si es necesario, para asegurarse de que un elemento especificado esté visible.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-463">Using the [**LVM\_ENSUREVISIBLE**](lvm-ensurevisible.md) message, you can scroll the list-view control, if necessary, to ensure that a specified item is visible.</span></span>

## <a name="list-view-label-editing"></a><span data-ttu-id="7c4e7-464">Edición de List-View etiqueta</span><span class="sxs-lookup"><span data-stu-id="7c4e7-464">List-View Label Editing</span></span>

<span data-ttu-id="7c4e7-465">Un control de vista de lista que tiene el estilo de ventana [**LVS \_ EDITLABELS**](list-view-window-styles.md) permite a un usuario editar etiquetas de elementos en su lugar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-465">A list-view control that has the [**LVS\_EDITLABELS**](list-view-window-styles.md) window style enables a user to edit item labels in place.</span></span> <span data-ttu-id="7c4e7-466">El usuario comienza a editar haciendo clic en la etiqueta de un elemento que tiene el foco.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-466">The user begins editing by clicking the label of an item that has the focus.</span></span> <span data-ttu-id="7c4e7-467">Como alternativa, una aplicación puede comenzar a editarse automáticamente mediante el mensaje [**LVM \_ EDITLABEL**](lvm-editlabel.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-467">Alternatively, an application can begin editing automatically by using the [**LVM\_EDITLABEL**](lvm-editlabel.md) message.</span></span> <span data-ttu-id="7c4e7-468">El control de vista de lista notifica a la ventana primaria cuando comienza la edición y cuando se cancela o se completa.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-468">The list-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="7c4e7-469">Cuando se completa la edición, la ventana primaria es responsable de actualizar la etiqueta del elemento, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-469">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="7c4e7-470">Cuando comienza la edición de etiquetas, se crea, coloca y Inicializa un [control de edición](edit-controls.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-470">When label editing begins, an [edit control](edit-controls.md) is created, positioned, and initialized.</span></span> <span data-ttu-id="7c4e7-471">Antes de que se muestre, el control de vista de lista envía a su ventana primaria un código de notificación [LVN \_ BEGINLABELEDIT](lvn-beginlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-471">Before it is displayed, the list-view control sends its parent window an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification code.</span></span> <span data-ttu-id="7c4e7-472">Si necesita modificar el proceso de edición de etiquetas, puede implementar un controlador para esta notificación.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-472">If you need to modify the label editing process, you can implement a handler for this notification.</span></span>

<span data-ttu-id="7c4e7-473">Uno de los usos de un controlador de notificaciones de [LVN \_ BEGINLABELEDIT](lvn-beginlabeledit.md) es controlar las etiquetas que el usuario puede editar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-473">One use for an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification handler is to control which labels the user can edit.</span></span> <span data-ttu-id="7c4e7-474">Para evitar la edición de etiquetas, devuelva un valor distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-474">To prevent label editing, return a nonzero value.</span></span> <span data-ttu-id="7c4e7-475">Para personalizar la edición de etiquetas, haga que el controlador de notificación recupere un identificador para el control de edición mediante el envío de un mensaje [**\_ GETEDITCONTROL LVM**](lvm-geteditcontrol.md) al control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-475">To customize label editing, have the notification handler retrieve a handle to the edit control by sending an [**LVM\_GETEDITCONTROL**](lvm-geteditcontrol.md) message to the list-view control.</span></span> <span data-ttu-id="7c4e7-476">Una vez que tenga ese identificador, puede personalizar el control de edición mediante el envío de los mensajes de EM \_ XXX habituales.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-476">Once you have that handle, you can customize the edit control by sending the usual EM\_XXX messages.</span></span> <span data-ttu-id="7c4e7-477">Por ejemplo, para limitar la cantidad de texto que un usuario puede escribir, envíe un mensaje de [**\_ LIMITTEXT em**](em-limittext.md) a un control de edición.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-477">For instance, to limit the amount of text a user can enter, send the edit control an [**EM\_LIMITTEXT**](em-limittext.md) message.</span></span> <span data-ttu-id="7c4e7-478">Puede cambiar el texto predeterminado del control de edición con [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-478">You can change the edit control's default text with [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span></span> <span data-ttu-id="7c4e7-479">Incluso puede subclaser el control de edición para interceptar y descartar los caracteres no válidos.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-479">You can even subclass the edit control to intercept and discard invalid characters.</span></span>

<span data-ttu-id="7c4e7-480">Cuando la edición de etiquetas se cancela o se completa, un control de vista de lista envía a su ventana primaria un código de notificación [LVN \_ ENDLABELEDIT](lvn-endlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-480">When label editing is canceled or completed, a list-view control sends its parent window an [LVN\_ENDLABELEDIT](lvn-endlabeledit.md) notification code.</span></span> <span data-ttu-id="7c4e7-481">El parámetro *lParam* es la dirección de una estructura [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-481">The *lParam* parameter is the address of an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure.</span></span> <span data-ttu-id="7c4e7-482">El miembro del **elemento** de esta estructura es una estructura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) cuyo miembro **iItem** identifica el elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-482">The **item** member of this structure is an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure whose **iItem** member identifies the item.</span></span> <span data-ttu-id="7c4e7-483">Si se cancela la edición, el miembro **miembros pszText** de la estructura **LVITEM** es **null**. de lo contrario, **miembros pszText** es la dirección del texto editado.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-483">If editing is canceled, the **pszText** member of the **LVITEM** structure is **NULL**; otherwise, **pszText** is the address of the edited text.</span></span> <span data-ttu-id="7c4e7-484">La ventana primaria es responsable de actualizar la etiqueta del elemento si desea conservar la nueva etiqueta.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-484">The parent window is responsible for updating the item's label if it wants to keep the new label.</span></span>

## <a name="list-view-colors"></a><span data-ttu-id="7c4e7-485">List-View colores</span><span class="sxs-lookup"><span data-stu-id="7c4e7-485">List-View Colors</span></span>

<span data-ttu-id="7c4e7-486">Una aplicación puede recuperar y establecer tres colores para un control de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-486">An application can retrieve and set three colors for a list-view control.</span></span>



| <span data-ttu-id="7c4e7-487">Color</span><span class="sxs-lookup"><span data-stu-id="7c4e7-487">Color</span></span>                   | <span data-ttu-id="7c4e7-488">Mensajes usados para recuperar y establecer colores</span><span class="sxs-lookup"><span data-stu-id="7c4e7-488">Messages used to retrieve and set colors</span></span>                                                             |
|-------------------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7c4e7-489">Color del texto</span><span class="sxs-lookup"><span data-stu-id="7c4e7-489">Text color</span></span>              | <span data-ttu-id="7c4e7-490">[**LVM \_ GETTEXTCOLOR**](lvm-gettextcolor.md), [ **LVM \_ SETTEXTCOLOR**](lvm-settextcolor.md)</span><span class="sxs-lookup"><span data-stu-id="7c4e7-490">[**LVM\_GETTEXTCOLOR**](lvm-gettextcolor.md), [**LVM\_SETTEXTCOLOR**](lvm-settextcolor.md)</span></span>         |
| <span data-ttu-id="7c4e7-491">Color de fondo del texto</span><span class="sxs-lookup"><span data-stu-id="7c4e7-491">Text background color</span></span>   | <span data-ttu-id="7c4e7-492">[**LVM \_ GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [ **LVM \_ SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="7c4e7-492">[**LVM\_GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [**LVM\_SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span></span> |
| <span data-ttu-id="7c4e7-493">Color de fondo de la ventana</span><span class="sxs-lookup"><span data-stu-id="7c4e7-493">Window background color</span></span> | <span data-ttu-id="7c4e7-494">[**LVM \_ GETBKCOLOR**](lvm-getbkcolor.md), [ **LVM \_ SETBKCOLOR**](lvm-setbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="7c4e7-494">[**LVM\_GETBKCOLOR**](lvm-getbkcolor.md), [**LVM\_SETBKCOLOR**](lvm-setbkcolor.md)</span></span>                 |



 

<span data-ttu-id="7c4e7-495">Para personalizar la apariencia de un control de vista de lista de forma más significativa, use [nm \_ CUSTOMDRAW (vista de lista)](nm-customdraw-list-view.md) o use los estilos visuales (vea [estilos visuales](themes-overview.md) y [habilitar estilos visuales](cookbook-overview.md)).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-495">To customize the appearance of a list-view control more significantly, use [NM\_CUSTOMDRAW (list view)](nm-customdraw-list-view.md) or use visual styles (see [Visual Styles](themes-overview.md) and [Enabling Visual Styles](cookbook-overview.md)).</span></span>

## <a name="arranging-list-items-by-group"></a><span data-ttu-id="7c4e7-496">Organizar elementos de lista por grupo</span><span class="sxs-lookup"><span data-stu-id="7c4e7-496">Arranging List Items by Group</span></span>

<span data-ttu-id="7c4e7-497">Las características de agrupación del control de vista de lista permiten agrupar visualmente conjuntos de elementos relacionados lógicamente.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-497">The grouping features of the list-view control enable you to visually group logically related sets of items.</span></span> <span data-ttu-id="7c4e7-498">Los grupos se pueden crear en función de las propiedades de los elementos, los atributos u otras características.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-498">Groups can be created based on item properties, attributes, or other characteristics.</span></span> <span data-ttu-id="7c4e7-499">Estos grupos normalmente se separan en la pantalla mediante un encabezado horizontal que contiene el nombre del grupo.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-499">These groups are typically separated on the screen by a horizontal header that contains the name of the group.</span></span> <span data-ttu-id="7c4e7-500">En la captura de pantalla siguiente se muestran los elementos agrupados.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-500">The following screen shot shows grouped items.</span></span>

![captura de pantalla de un control de vista de lista, con perros en un grupo y gatos en otro grupo](images/lv-groups.png)

<span data-ttu-id="7c4e7-502">La estructura [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) se usa para almacenar información sobre un grupo, como el texto del encabezado y del pie de página, el estado actual del grupo, etc.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-502">You use the [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) structure to store information about a group, such as the header and footer text, the current state of the group, and so on.</span></span> <span data-ttu-id="7c4e7-503">La API de agrupación incluye mensajes que permiten administrar grupos y elementos de grupo mediante la adición de elementos a grupos, la adición de grupos a vistas, la ordenación de elementos de grupo y la consulta de grupos para el tamaño del elemento y otra información.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-503">The grouping API includes messages that enable you to manage groups and group elements by adding items to groups, adding groups to views, sorting group items, and querying groups for item size and other information.</span></span> <span data-ttu-id="7c4e7-504">Por ejemplo, puede establecer y recuperar los parámetros de presentación de cada grupo mediante las macros [**ListView \_ SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) y [**ListView \_ GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-504">For example, you can set and retrieve display parameters for each group by using the [**ListView\_SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) and [**ListView\_GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) macros.</span></span>

<span data-ttu-id="7c4e7-505">La agrupación está disponible en todas las vistas excepto en la vista de lista.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-505">Grouping is available in all views except list view.</span></span> <span data-ttu-id="7c4e7-506">No está disponible en los controles que tienen el estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="7c4e7-506">It is not available on controls that have the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="7c4e7-507">Para obtener más información, vea [usar controles List-View](using-list-view-controls.md).</span><span class="sxs-lookup"><span data-stu-id="7c4e7-507">For more information, see [Using List-View Controls](using-list-view-controls.md).</span></span>

## <a name="insertion-marks"></a><span data-ttu-id="7c4e7-508">Marcas de inserción</span><span class="sxs-lookup"><span data-stu-id="7c4e7-508">Insertion Marks</span></span>

<span data-ttu-id="7c4e7-509">Las marcas de inserción muestran los usuarios en los que se colocarán los elementos arrastrados.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-509">Insertion marks show users where dragged items will be placed.</span></span> <span data-ttu-id="7c4e7-510">Las marcas de inserción se muestran actualmente cuando el usuario arrastra un elemento al menú **Inicio** o a la barra de inicio rápido.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-510">Insertion marks currently display when the user drags an item into the **Start** menu or Quick Launch bar.</span></span> <span data-ttu-id="7c4e7-511">La marca de inserción también funciona para las listas que están configuradas para autoorganizar.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-511">The insertion mark also works for lists that are set to autoarrange.</span></span> <span data-ttu-id="7c4e7-512">Cuando un usuario arrastra un elemento a un punto entre otros dos elementos, la marca de inserción muestra la nueva ubicación esperada del elemento.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-512">When a user drags an item to a point between two other items, the insertion mark shows the item's expected new location.</span></span> <span data-ttu-id="7c4e7-513">En la captura de pantalla siguiente se muestra una marca de inserción.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-513">The following screen shot shows an insertion mark.</span></span>

![captura de pantalla que muestra una marca de inserción al arrastrar un archivo entre otros dos en un control de vista de lista](images/insertmark.png)

<span data-ttu-id="7c4e7-515">Los elementos de la API de marca de inserción permiten colocar marcas de inserción proporcionando mensajes y marcas que realizan la detección de aciertos, que especifican la ubicación y la apariencia de la marca de inserción por elemento, y la consulta para obtener información sobre el tamaño actual y la apariencia de la marca de inserción.</span><span class="sxs-lookup"><span data-stu-id="7c4e7-515">The insertion mark API elements enable placement of insertion marks by providing messages and flags that perform hit detection, that specify the location and appearance of the insertion mark by item, and that query for information about the current size and appearance of the insertion mark.</span></span>

## <a name="see-also"></a><span data-ttu-id="7c4e7-516">Vea también</span><span class="sxs-lookup"><span data-stu-id="7c4e7-516">See also</span></span>

* [<span data-ttu-id="7c4e7-517">Ejemplo de control ListView virtual</span><span class="sxs-lookup"><span data-stu-id="7c4e7-517">Virtual listview control sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw)
