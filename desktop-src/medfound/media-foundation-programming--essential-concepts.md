---
description: Si no está familiarizado con los medios digitales, en este tema se presentan algunos conceptos que debe conocer antes de escribir una aplicación Media Foundation.
ms.assetid: d76d655e-23f3-407c-97a1-be015b0de37d
title: 'Media Foundation: conceptos esenciales'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0298a20518df91dab4439770e0f1193802969ae8
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/03/2021
ms.locfileid: "104424111"
---
# <a name="media-foundation-essential-concepts"></a><span data-ttu-id="6b4f3-103">Media Foundation: conceptos esenciales</span><span class="sxs-lookup"><span data-stu-id="6b4f3-103">Media Foundation: Essential Concepts</span></span>

<span data-ttu-id="6b4f3-104">Si no está familiarizado con los medios digitales, en este tema se presentan algunos conceptos que debe conocer antes de escribir una aplicación Media Foundation.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-104">If you are new to digital media, this topic introduces some concepts that you will need to understand before writing a Media Foundation application.</span></span>

-   [<span data-ttu-id="6b4f3-105">Secuencias</span><span class="sxs-lookup"><span data-stu-id="6b4f3-105">Streams</span></span>](#streams)
-   [<span data-ttu-id="6b4f3-106">Compresión</span><span class="sxs-lookup"><span data-stu-id="6b4f3-106">Compression</span></span>](#compression)
-   [<span data-ttu-id="6b4f3-107">Contenedores de medios</span><span class="sxs-lookup"><span data-stu-id="6b4f3-107">Media Containers</span></span>](#media-containers)
-   [<span data-ttu-id="6b4f3-108">Formatos</span><span class="sxs-lookup"><span data-stu-id="6b4f3-108">Formats</span></span>](#formats)
-   [<span data-ttu-id="6b4f3-109">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6b4f3-109">Related topics</span></span>](#related-topics)

## <a name="streams"></a><span data-ttu-id="6b4f3-110">Secuencias</span><span class="sxs-lookup"><span data-stu-id="6b4f3-110">Streams</span></span>

<span data-ttu-id="6b4f3-111">Una *secuencia* es una secuencia de datos multimedia con un tipo uniforme.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-111">A *stream* is a sequence of media data with a uniform type.</span></span> <span data-ttu-id="6b4f3-112">Los tipos más comunes son audio y vídeo, pero un flujo puede contener casi cualquier tipo de datos, incluidos texto, comandos de script y imágenes fijas.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-112">The most common types are audio and video, but a stream can contain almost any kind of data, including text, script commands, and still images.</span></span> <span data-ttu-id="6b4f3-113">La *secuencia* de términos de esta documentación no implica la entrega a través de una red.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-113">The term *stream* in this documentation does not imply delivery over a network.</span></span> <span data-ttu-id="6b4f3-114">Un archivo multimedia diseñado para la reproducción local también contiene secuencias.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-114">A media file intended for local playback also contains streams.</span></span>

<span data-ttu-id="6b4f3-115">Normalmente, un archivo multimedia contiene una sola secuencia de audio o exactamente una secuencia de vídeo y una secuencia de audio.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-115">Usually, a media file contains either a single audio stream, or exactly one video stream and one audio stream.</span></span> <span data-ttu-id="6b4f3-116">Sin embargo, un archivo multimedia podría contener varios flujos del mismo tipo.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-116">However, a media file might contain several streams of the same type.</span></span> <span data-ttu-id="6b4f3-117">Por ejemplo, un archivo de vídeo puede contener secuencias de audio en varios idiomas distintos.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-117">For example, a video file might contain audio streams in several different languages.</span></span> <span data-ttu-id="6b4f3-118">En tiempo de ejecución, la aplicación seleccionaría la secuencia que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-118">At run time, the application would select which stream to use.</span></span>

## <a name="compression"></a><span data-ttu-id="6b4f3-119">Compresión</span><span class="sxs-lookup"><span data-stu-id="6b4f3-119">Compression</span></span>

<span data-ttu-id="6b4f3-120">La *compresión* hace referencia a cualquier proceso que reduzca el tamaño de un flujo de datos mediante la eliminación de información redundante.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-120">*Compression* refers to any process that reduces the size of a data stream by removing redundant information.</span></span> <span data-ttu-id="6b4f3-121">Los algoritmos de compresión se dividen en dos amplias categorías:</span><span class="sxs-lookup"><span data-stu-id="6b4f3-121">Compression algorithms fall into two broad categories:</span></span>

-   <span data-ttu-id="6b4f3-122">Compresión sin *pérdida* .</span><span class="sxs-lookup"><span data-stu-id="6b4f3-122">*Lossless* compression.</span></span> <span data-ttu-id="6b4f3-123">Con un algoritmo sin pérdida, los datos reconstruidos son idénticos a los originales.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-123">Using a lossless algorithm, the reconstructed data is identical to the original.</span></span>
-   <span data-ttu-id="6b4f3-124">Compresión de *pérdida* .</span><span class="sxs-lookup"><span data-stu-id="6b4f3-124">*Lossy* compression.</span></span> <span data-ttu-id="6b4f3-125">Con un algoritmo de pérdida, los datos reconstruidos son una aproximación del original, pero no es una coincidencia exacta.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-125">Using a lossy algorithm, the reconstructed data is an approximation of the original, but is not an exact match.</span></span>

<span data-ttu-id="6b4f3-126">En la mayoría de los demás dominios, la compresión con pérdida no es aceptable.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-126">In most other domains, lossy compression is not acceptable.</span></span> <span data-ttu-id="6b4f3-127">(Imagínese obtener una "aproximación" de una hoja de cálculo) Sin embargo, los esquemas de compresión con pérdida son adecuados para audio y vídeo, por un par de razones.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-127">(Imagine getting back an "approximation" of a spreadsheet!) But lossy compression schemes are well-suited to audio and video, for a couple of reasons.</span></span>

<span data-ttu-id="6b4f3-128">La primera razón tiene que hacer con la física de la percepción humana.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-128">The first reason has to do with the physics of human perception.</span></span> <span data-ttu-id="6b4f3-129">Cuando escuchamos un sonido complejo, como una grabación de música, parte de la información contenida en ese sonido no es perceptible a la lengüeta.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-129">When we listen to a complex sound, like a music recording, some of the information contained in that sound is not perceptible to the ear.</span></span> <span data-ttu-id="6b4f3-130">Con la ayuda de la teoría del procesamiento de señales, es posible analizar y separar las frecuencias que no se pueden percibir.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-130">With the help of signal processing theory, it is possible to analyze and separate the frequencies that cannot be perceived.</span></span> <span data-ttu-id="6b4f3-131">Estas frecuencias se pueden quitar sin ningún efecto perceptual.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-131">These frequencies can be removed with no perceptual effect.</span></span> <span data-ttu-id="6b4f3-132">Aunque el audio reconstruido no coincidirá exactamente con el original, *sonará* igual al agente de escucha.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-132">Although the reconstructed audio will not match the original exactly, it will *sound* the same to the listener.</span></span> <span data-ttu-id="6b4f3-133">Se aplican principios similares al vídeo.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-133">Similar principles apply to video.</span></span>

<span data-ttu-id="6b4f3-134">En segundo lugar, es posible que se produzca una degradación de la calidad de imagen o sonido, según el propósito previsto.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-134">Second, some degradation in sound or image quality may be acceptable, depending on the intended purpose.</span></span> <span data-ttu-id="6b4f3-135">Por ejemplo, en telefonía, el audio suele ser muy comprimido.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-135">In telephony, for example, audio is often highly compressed.</span></span> <span data-ttu-id="6b4f3-136">El resultado es lo suficientemente bueno para una conversación telefónica, pero no desearía escuchar una orquestación de Symphony a través de un teléfono.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-136">The result is good enough for a phone conversation—but you wouldn't want to listen to a symphony orchestra over a telephone.</span></span>

<span data-ttu-id="6b4f3-137">La compresión también se denomina *codificación* y un dispositivo que codifica se denomina *codificador*.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-137">Compression is also called *encoding*, and a device that encodes is called an *encoder*.</span></span> <span data-ttu-id="6b4f3-138">El proceso inverso se está *descodificando* y el dispositivo es un *descodificador* que se denomina de forma natural.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-138">The reverse process is *decoding*, and the device is a naturally called a *decoder*.</span></span> <span data-ttu-id="6b4f3-139">El término general para ambos codificadores y descodificadores es *codec*.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-139">The general term for both encoders and decoders is *codec*.</span></span> <span data-ttu-id="6b4f3-140">Los códecs se pueden implementar en hardware o software.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-140">Codecs can be implemented in hardware or software.</span></span>

<span data-ttu-id="6b4f3-141">La tecnología de compresión ha cambiado rápidamente desde la llegada de los medios digitales y actualmente se usa un gran número de esquemas de compresión.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-141">Compression technology has changed rapidly since the advent of digital media, and a large number of compression schemes are in use today.</span></span> <span data-ttu-id="6b4f3-142">Este hecho es uno de los principales desafíos de la programación multimedia digital.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-142">This fact is one of the main challenges for digital media programming.</span></span>

## <a name="media-containers"></a><span data-ttu-id="6b4f3-143">Contenedores de medios</span><span class="sxs-lookup"><span data-stu-id="6b4f3-143">Media Containers</span></span>

<span data-ttu-id="6b4f3-144">No es raro almacenar una secuencia de audio o de vídeo sin procesar como un archivo de equipo o enviar una directamente a través de la red.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-144">It is rare to store a raw audio or video stream as a computer file, or to send one directly over the network.</span></span> <span data-ttu-id="6b4f3-145">Por un lado, sería imposible descodificar este tipo de flujo, sin conocer por adelantado el códec que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-145">For one thing, it would be impossible to decode such a stream, without knowing in advance which codec to use.</span></span> <span data-ttu-id="6b4f3-146">Por lo tanto, los archivos multimedia normalmente contienen al menos algunos de los siguientes elementos:</span><span class="sxs-lookup"><span data-stu-id="6b4f3-146">Therefore, media files usually contain at least some of the following elements:</span></span>

-   <span data-ttu-id="6b4f3-147">Encabezados de archivo que describen el número de flujos, el formato de cada flujo, etc.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-147">File headers that describe the number of streams, the format of each stream, and so on.</span></span>
-   <span data-ttu-id="6b4f3-148">Índice que permite el acceso aleatorio al contenido.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-148">An index that enables random access to the content.</span></span>
-   <span data-ttu-id="6b4f3-149">Metadatos que describen el contenido (por ejemplo, el artista o el título).</span><span class="sxs-lookup"><span data-stu-id="6b4f3-149">Metadata that describes the content (for example, the artist or title).</span></span>
-   <span data-ttu-id="6b4f3-150">Encabezados de paquetes, para habilitar la transmisión de red o el acceso aleatorio.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-150">Packet headers, to enable network transmission or random access.</span></span>

<span data-ttu-id="6b4f3-151">En esta documentación se usa el término *contenedor* para describir todo el paquete de secuencias, encabezados, índices, metadatos, etc.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-151">This documentation uses the term *container* to describe the entire package of streams, headers, indexes, metadata, and so forth.</span></span> <span data-ttu-id="6b4f3-152">La razón para usar el término *contenedor* en lugar de un *archivo* es que algunos formatos de contenedor están diseñados para la difusión en directo.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-152">The reason for using the term *container* rather than *file* is that some container formats are designed for live broadcast.</span></span> <span data-ttu-id="6b4f3-153">Una aplicación podría generar el contenedor en tiempo real, nunca almacenarlo en un archivo.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-153">An application could generate the container in real time, never storing it to a file.</span></span>

<span data-ttu-id="6b4f3-154">Un ejemplo temprano de un contenedor multimedia es el formato de archivo AVI.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-154">An early example of a media container is the AVI file format.</span></span> <span data-ttu-id="6b4f3-155">Otros ejemplos incluyen MP4 y Advanced Systems Format (ASF).</span><span class="sxs-lookup"><span data-stu-id="6b4f3-155">Other examples include MP4 and Advanced Systems Format (ASF).</span></span> <span data-ttu-id="6b4f3-156">Los contenedores se pueden identificar por extensión de nombre de archivo (por ejemplo,. mp4) o por tipo MIME.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-156">Containers can be identified by file name extension (for example, .mp4) or by MIME type.</span></span>

<span data-ttu-id="6b4f3-157">En el diagrama siguiente se muestra una estructura típica para un contenedor de medios.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-157">The following diagram shows a typical structure for a media container.</span></span> <span data-ttu-id="6b4f3-158">El diagrama no representa ningún formato específico; los detalles de cada formato varían considerablemente.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-158">The diagram does not represent any specific format; the details of each format vary widely.</span></span>

![diagrama que muestra un contenedor multimedia típico](images/concepts01.png)

<span data-ttu-id="6b4f3-160">Observe que la estructura que se muestra en el diagrama es jerárquica, con información de encabezado que aparece al principio del contenedor.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-160">Notice that the structure shown in the diagram is hierarchical, with header information appearing at the start of the container.</span></span> <span data-ttu-id="6b4f3-161">Esta estructura es típica de muchos formatos de contenedor (pero no todos).</span><span class="sxs-lookup"><span data-stu-id="6b4f3-161">This structure is typical of many (but not all) container formats.</span></span> <span data-ttu-id="6b4f3-162">Observe también que la sección de datos contiene paquetes de audio y vídeo intercalados.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-162">Also notice that the data section contains interleaved audio and video packets.</span></span> <span data-ttu-id="6b4f3-163">Este tipo de intercalación es común en los contenedores de multimedia.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-163">This type of interleaving is common in media containers.</span></span>

<span data-ttu-id="6b4f3-164">El término *multiplexación* se refiere al proceso de paquetes de secuencias de audio y vídeo y la intercalación de los paquetes en el contenedor.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-164">The term *multiplexing* refers to the process of packetizing the audio and video streams and interleaving the packets into the container.</span></span> <span data-ttu-id="6b4f3-165">El proceso inverso, el reensamblado de los flujos de datos de paquetes, se denomina *demultiplexación*.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-165">The reverse process, reassembling the streams from the packetized data, is called *demultiplexing*.</span></span>

## <a name="formats"></a><span data-ttu-id="6b4f3-166">Formatos</span><span class="sxs-lookup"><span data-stu-id="6b4f3-166">Formats</span></span>

<span data-ttu-id="6b4f3-167">En los medios digitales, el *formato* del término es ambiguo.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-167">In digital media, the term *format* is ambiguous.</span></span> <span data-ttu-id="6b4f3-168">Un formato puede hacer referencia al tipo de *codificación*, como el vídeo H. 264 o el *contenedor*, como MP4.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-168">A format can refer to the type of *encoding*, such as H.264 video, or the *container*, such as MP4.</span></span> <span data-ttu-id="6b4f3-169">Esta distinción suele ser confusa para los usuarios normales.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-169">This distinction is often confusing for ordinary users.</span></span> <span data-ttu-id="6b4f3-170">Los nombres asignados a formatos multimedia no siempre son de ayuda.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-170">The names given to media formats do not always help.</span></span> <span data-ttu-id="6b4f3-171">Por ejemplo, *mp3* hace referencia a un formato de codificación (nivel 3 de audio MPEG-1) y a un formato de archivo.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-171">For example, *MP3* refers both to an encoding format (MPEG-1 Audio Layer 3) and a file format.</span></span>

<span data-ttu-id="6b4f3-172">Sin embargo, la distinción es importante, ya que la lectura de un archivo multimedia implica realmente dos fases:</span><span class="sxs-lookup"><span data-stu-id="6b4f3-172">The distinction is important, however, because reading a media file actually involves two stages:</span></span>

1.  <span data-ttu-id="6b4f3-173">En primer lugar, se debe analizar el contenedor.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-173">First, the container must be parsed.</span></span> <span data-ttu-id="6b4f3-174">En la mayoría de los casos, no se puede conocer el número de flujos y el formato de cada flujo hasta que se complete este paso.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-174">In most cases, the number of streams and the format of each stream cannot be known until this step is complete.</span></span>
2.  <span data-ttu-id="6b4f3-175">Después, si las secuencias están comprimidas, deben descodificarse mediante los descodificadores adecuados.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-175">Next, if the streams are compressed, they must be decoded using the appropriate decoders.</span></span>

<span data-ttu-id="6b4f3-176">Este hecho conduce de forma bastante natural a un diseño de software en el que se usan componentes independientes para analizar contenedores y descodificar flujos.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-176">This fact leads quite naturally to a software design where separate components are used to parse containers and decode streams.</span></span> <span data-ttu-id="6b4f3-177">Además, este enfoque se presta a un modelo de complemento, por lo que los terceros pueden proporcionar sus propios analizadores y códecs.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-177">Further, this approach lends itself to a plug-in model, so that third parties can provide their own parsers and codecs.</span></span> <span data-ttu-id="6b4f3-178">En Windows, el modelo de objetos componentes (COM) proporciona una manera estándar de separar una API de su implementación, que es un requisito para cualquier modelo de complemento.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-178">On Windows, the Component Object Model (COM) provides a standard way to separate an API from its implementation, which is a requirement for any plug-in model.</span></span> <span data-ttu-id="6b4f3-179">Por esta razón (entre otras), Media Foundation usa interfaces COM.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-179">For this reason (among others), Media Foundation uses COM interfaces.</span></span>

<span data-ttu-id="6b4f3-180">En el diagrama siguiente se muestran los componentes que se usan para leer un archivo multimedia:</span><span class="sxs-lookup"><span data-stu-id="6b4f3-180">The following diagram shows the components used to read a media file:</span></span>

![diagrama que muestra los componentes para leer un archivo multimedia](images/concepts02.png)

<span data-ttu-id="6b4f3-182">La escritura de un archivo multimedia también requiere dos pasos:</span><span class="sxs-lookup"><span data-stu-id="6b4f3-182">Writing a media file also requires two steps:</span></span>

1.  <span data-ttu-id="6b4f3-183">Codificar los datos de audio y vídeo sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-183">Encoding the uncompressed audio/video data.</span></span>
2.  <span data-ttu-id="6b4f3-184">Colocar los datos comprimidos en un formato de contenedor determinado.</span><span class="sxs-lookup"><span data-stu-id="6b4f3-184">Putting the compressed data into a particular container format.</span></span>

<span data-ttu-id="6b4f3-185">En el diagrama siguiente se muestran los componentes que se usan para escribir un archivo multimedia:</span><span class="sxs-lookup"><span data-stu-id="6b4f3-185">The following diagram shows the components used to write a media file:</span></span>

![diagrama que muestra los componentes para escribir un archivo multimedia.](images/concepts03.png)

## <a name="related-topics"></a><span data-ttu-id="6b4f3-187">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6b4f3-187">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6b4f3-188">Guía de programación de Media Foundation</span><span class="sxs-lookup"><span data-stu-id="6b4f3-188">Media Foundation Programming Guide</span></span>](media-foundation-programming-guide.md)
</dt> </dl>

 

 



