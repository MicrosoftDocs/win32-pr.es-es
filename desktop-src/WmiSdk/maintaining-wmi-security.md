---
description: La seguridad de WMI se centra en proteger el acceso a los datos del espacio de nombres. En primer lugar, WMI concede acceso a grupos de usuarios según lo especificado por el control WMI y la configuración de DCOM y, a continuación, los proveedores determinan si el usuario debe tener acceso a los datos del espacio de nombres.
ms.assetid: 88a2538a-ae30-4a1a-9d16-f0cd9419b2ed
ms.tgt_platform: multiple
title: Mantenimiento de la seguridad de WMI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f25cbf4a29567b263d6bd279aac9e2e6e21c523e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105697418"
---
# <a name="maintaining-wmi-security"></a><span data-ttu-id="e1edb-104">Mantenimiento de la seguridad de WMI</span><span class="sxs-lookup"><span data-stu-id="e1edb-104">Maintaining WMI Security</span></span>

<span data-ttu-id="e1edb-105">La seguridad de WMI se centra en proteger el acceso a los datos del espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="e1edb-105">WMI security focuses on protecting access to namespace data.</span></span> <span data-ttu-id="e1edb-106">En primer lugar, WMI concede acceso a grupos de usuarios según lo especificado por el [*control WMI*](gloss-w.md) y la configuración de DCOM y, a continuación, los proveedores determinan si el usuario debe tener acceso a los datos del espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="e1edb-106">WMI first grants access to groups of users as specified by the [*WMI Control*](gloss-w.md) and DCOM settings and then providers determine if the user should have access to namespace data.</span></span>

<span data-ttu-id="e1edb-107">En este tema se describen las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="e1edb-107">The following sections are discussed in this topic:</span></span>

-   [<span data-ttu-id="e1edb-108">Seguridad del espacio de nombres</span><span class="sxs-lookup"><span data-stu-id="e1edb-108">Namespace Security</span></span>](#namespace-security)
-   [<span data-ttu-id="e1edb-109">Configuración de seguridad del modelo de objetos componentes distribuido (DCOM).</span><span class="sxs-lookup"><span data-stu-id="e1edb-109">Distributed Component Object Model (DCOM) Security Settings.</span></span>](#distributed-component-object-model-dcom-security-settings)
-   [<span data-ttu-id="e1edb-110">WMI, hosts de servicio compartido y autenticación</span><span class="sxs-lookup"><span data-stu-id="e1edb-110">WMI, Shared Service Hosts, and Authentication</span></span>](#wmi-shared-service-hosts-and-authentication)
-   [<span data-ttu-id="e1edb-111">Seguridad de las aplicaciones y scripts de cliente WMI</span><span class="sxs-lookup"><span data-stu-id="e1edb-111">Security for WMI Client Scripts and Applications</span></span>](#security-for-wmi-client-scripts-and-applications)
-   [<span data-ttu-id="e1edb-112">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e1edb-112">Related topics</span></span>](#related-topics)

## <a name="namespace-security"></a><span data-ttu-id="e1edb-113">Seguridad del espacio de nombres</span><span class="sxs-lookup"><span data-stu-id="e1edb-113">Namespace Security</span></span>

<span data-ttu-id="e1edb-114">La seguridad del espacio de nombres depende de los [*identificadores de seguridad de usuario (SID)*](gloss-s.md) de Windows estándar y el [*descriptor de seguridad*](gloss-s.md) para el espacio de nombres WMI.</span><span class="sxs-lookup"><span data-stu-id="e1edb-114">Namespace security depends on standard Windows user [*security identifiers (SID)*](gloss-s.md) and the [*security descriptor*](gloss-s.md) for the WMI namespace.</span></span>

<span data-ttu-id="e1edb-115">Para establecer la seguridad de los espacios de nombres, realice las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="e1edb-115">You can set namespace security by performing the following actions:</span></span>

-   <span data-ttu-id="e1edb-116">Conceda o deniegue derechos de acceso a los espacios de nombres de los usuarios mediante el control WMI o cuando se cree el espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="e1edb-116">Grant or deny access rights to namespaces for users using the WMI Control or when the namespace is created.</span></span> <span data-ttu-id="e1edb-117">Para obtener más información, vea [establecer la seguridad del espacio de nombres con el control WMI](setting-namespace-security-with-the-wmi-control.md) y [establecer la seguridad del espacio de nombres cuando se crea el espacio de nombres](setting-namespace-security-when-the-namespace-is-created.md).</span><span class="sxs-lookup"><span data-stu-id="e1edb-117">For more information, see [Setting Namespace Security with the WMI Control](setting-namespace-security-with-the-wmi-control.md) and [Setting Namespace Security When the Namespace is Created](setting-namespace-security-when-the-namespace-is-created.md).</span></span>
-   <span data-ttu-id="e1edb-118">Use la pestaña seguridad del control WMI para establecer la auditoría de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e1edb-118">Use the WMI Control Security tab to establish security auditing.</span></span> <span data-ttu-id="e1edb-119">La auditoría de seguridad produce entradas en el registro de eventos cuando un usuario produce un error o se ejecuta correctamente en una acción auditada, como la escritura de datos en un objeto WMI o la lectura del descriptor de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e1edb-119">Security auditing results in event log entries when a user fails or succeeds in an audited action, such as writing data to a WMI object or reading the security descriptor.</span></span> <span data-ttu-id="e1edb-120">Para obtener más información, vea [acceso a los espacios de nombres WMI](access-to-wmi-namespaces.md).</span><span class="sxs-lookup"><span data-stu-id="e1edb-120">For more information, see [Access to WMI Namespaces](access-to-wmi-namespaces.md).</span></span>
-   <span data-ttu-id="e1edb-121">Use el archivo MOF que define el espacio de nombres para requerir que un usuario realice una conexión cifrada.</span><span class="sxs-lookup"><span data-stu-id="e1edb-121">Use the MOF file that defines the namespace to require a user to make an encrypted connection.</span></span> <span data-ttu-id="e1edb-122">Para obtener más información, vea [requerir una conexión cifrada a un espacio de nombres](requiring-an-encrypted-connection-to-a-namespace.md).</span><span class="sxs-lookup"><span data-stu-id="e1edb-122">For more information, see [Requiring an Encrypted Connection to a Namespace](requiring-an-encrypted-connection-to-a-namespace.md).</span></span>

## <a name="distributed-component-object-model-dcom-security-settings"></a><span data-ttu-id="e1edb-123">Configuración de seguridad del modelo de objetos componentes distribuido (DCOM).</span><span class="sxs-lookup"><span data-stu-id="e1edb-123">Distributed Component Object Model (DCOM) Security Settings.</span></span>

<span data-ttu-id="e1edb-124">La seguridad de DCOM requiere una configuración de autenticación y una configuración de suplantación.</span><span class="sxs-lookup"><span data-stu-id="e1edb-124">DCOM security requires an authentication setting and an impersonation setting.</span></span> <span data-ttu-id="e1edb-125">La autenticación significa que un proceso se identifica a sí mismo en otro.</span><span class="sxs-lookup"><span data-stu-id="e1edb-125">Authentication means that one process identifies itself to another.</span></span> <span data-ttu-id="e1edb-126">La suplantación identifica la autoridad que un cliente concede a un servidor para que llame a distintos procesos.</span><span class="sxs-lookup"><span data-stu-id="e1edb-126">Impersonation identifies the authority that a client grants a server to call different processes.</span></span> <span data-ttu-id="e1edb-127">Durante una comprobación de seguridad, el servidor suplanta al cliente.</span><span class="sxs-lookup"><span data-stu-id="e1edb-127">During a security check, the server impersonates the client.</span></span> <span data-ttu-id="e1edb-128">Para obtener más información, vea [proteger clientes y proveedores de C++](securing-c---clients-and-providers.md) o [proteger los clientes de scripting](securing-scripting-clients.md).</span><span class="sxs-lookup"><span data-stu-id="e1edb-128">For more information, see [Securing C++ Clients and Providers](securing-c---clients-and-providers.md) or [Securing Scripting Clients](securing-scripting-clients.md).</span></span>

<span data-ttu-id="e1edb-129">Los scripts y las aplicaciones de C/C++/C # establecen un nivel de autenticación y suplantación cuando se conectan a un espacio de nombres WMI o utilizan la configuración predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e1edb-129">Scripts and C/C++/C# applications either establish an authentication and impersonation levels when they connect to a WMI namespace or they use the default settings.</span></span> <span data-ttu-id="e1edb-130">Las conexiones a equipos remotos requieren una configuración diferente de la de los espacios de nombres de WMI en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="e1edb-130">Connections to remote computers require different settings than to the WMI namespaces on the local computer.</span></span> <span data-ttu-id="e1edb-131">Para obtener más información, consulte [Conexión a WMI en un equipo remoto](connecting-to-wmi-on-a-remote-computer.md) (puede estar en inglés).</span><span class="sxs-lookup"><span data-stu-id="e1edb-131">For more information, see [Connecting to WMI on a Remote Computer](connecting-to-wmi-on-a-remote-computer.md).</span></span>

## <a name="wmi-shared-service-hosts-and-authentication"></a><span data-ttu-id="e1edb-132">WMI, hosts de servicio compartido y autenticación</span><span class="sxs-lookup"><span data-stu-id="e1edb-132">WMI, Shared Service Hosts, and Authentication</span></span>

<span data-ttu-id="e1edb-133">WMI reside en un host de servicio compartido con otros servicios que se ejecutan con la cuenta NetworkService.</span><span class="sxs-lookup"><span data-stu-id="e1edb-133">WMI resides in a shared service host with several other services running under the NetworkService account.</span></span> <span data-ttu-id="e1edb-134">En un proceso svchost, WMI comparte la misma autenticación que los demás procesos del host.</span><span class="sxs-lookup"><span data-stu-id="e1edb-134">In a Svchost process, WMI shares the same authentication as the other processes in the host.</span></span>

<span data-ttu-id="e1edb-135">Los archivos dll de proveedor se cargan en procesos de host de servicio independientes desde WMI.</span><span class="sxs-lookup"><span data-stu-id="e1edb-135">Provider DLLs are loaded into separate service host processes from WMI.</span></span> <span data-ttu-id="e1edb-136">La propiedad **HostingModel** de la clase del sistema [**\_ \_ Win32Provider**](--win32provider.md) que representa un proveedor especifica la cuenta del sistema en la que se ejecuta el proveedor.</span><span class="sxs-lookup"><span data-stu-id="e1edb-136">The **HostingModel** property in the [**\_\_Win32Provider**](--win32provider.md) system class that represents a provider specifies the system account under which the provider runs.</span></span> <span data-ttu-id="e1edb-137">Al establecer esta propiedad, el proveedor se carga en un proceso de host compartido que tiene un nivel de privilegios especificado.</span><span class="sxs-lookup"><span data-stu-id="e1edb-137">Setting this property causes the provider to be loaded into a shared host process that has a specified level of privilege.</span></span> <span data-ttu-id="e1edb-138">Para obtener más información, vea [hospedaje y seguridad de proveedores](provider-hosting-and-security.md).</span><span class="sxs-lookup"><span data-stu-id="e1edb-138">For more information, see [Provider Hosting and Security](provider-hosting-and-security.md).</span></span>

## <a name="security-for-wmi-client-scripts-and-applications"></a><span data-ttu-id="e1edb-139">Seguridad de las aplicaciones y scripts de cliente WMI</span><span class="sxs-lookup"><span data-stu-id="e1edb-139">Security for WMI Client Scripts and Applications</span></span>

<span data-ttu-id="e1edb-140">Los scripts y las aplicaciones deben establecer la seguridad correcta para conectarse a los espacios de nombres WMI en equipos locales y remotos.</span><span class="sxs-lookup"><span data-stu-id="e1edb-140">Scripts and applications must establish the correct security to connect to WMI namespaces on local and remote computers.</span></span> <span data-ttu-id="e1edb-141">Para obtener más información, consulte [protección de clientes y proveedores de C++](securing-c---clients-and-providers.md), protección de [los clientes de scripting](securing-scripting-clients.md)y [protección de eventos de WMI](securing-wmi-events.md).</span><span class="sxs-lookup"><span data-stu-id="e1edb-141">For more information, see [Securing C++ Clients and Providers](securing-c---clients-and-providers.md), [Securing Scripting Clients](securing-scripting-clients.md), and [Securing WMI Events](securing-wmi-events.md).</span></span>

<span data-ttu-id="e1edb-142">En la tabla siguiente se enumeran los temas sobre el mantenimiento de la seguridad de WMI.</span><span class="sxs-lookup"><span data-stu-id="e1edb-142">The following table lists the topics on maintaining WMI security.</span></span>



| <span data-ttu-id="e1edb-143">Tema</span><span class="sxs-lookup"><span data-stu-id="e1edb-143">Topic</span></span>                                                                                              | <span data-ttu-id="e1edb-144">Descripción</span><span class="sxs-lookup"><span data-stu-id="e1edb-144">Description</span></span>                                                                                                                                                           |
|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e1edb-145">Proteger los espacios de nombres de WMI</span><span class="sxs-lookup"><span data-stu-id="e1edb-145">Securing WMI Namespaces</span></span>](securing-wmi-namespaces.md)                                             | <span data-ttu-id="e1edb-146">Puede limitar el acceso a los datos del espacio de nombres a los usuarios autorizados a través del control WMI.</span><span class="sxs-lookup"><span data-stu-id="e1edb-146">You can limit namespace data access to authorized users through the WMI Control.</span></span>                                                                                      |
| [<span data-ttu-id="e1edb-147">Protección del proveedor</span><span class="sxs-lookup"><span data-stu-id="e1edb-147">Securing Your Provider</span></span>](securing-your-provider.md)                                               | <span data-ttu-id="e1edb-148">Información sobre cómo escribir proveedores seguros.</span><span class="sxs-lookup"><span data-stu-id="e1edb-148">Information about writing secure providers.</span></span>                                                                                                                           |
| [<span data-ttu-id="e1edb-149">Protección de clientes y proveedores de C++</span><span class="sxs-lookup"><span data-stu-id="e1edb-149">Securing C++ Clients and Providers</span></span>](securing-c---clients-and-providers.md)                       | <span data-ttu-id="e1edb-150">Tanto los proveedores de C++ como las aplicaciones cliente deben realizar muchas de las mismas operaciones para mantener la seguridad de WMI.</span><span class="sxs-lookup"><span data-stu-id="e1edb-150">Both C++ providers and client applications must perform many of the same operations to maintain WMI security.</span></span>                                                         |
| [<span data-ttu-id="e1edb-151">Protección de los clientes de scripting</span><span class="sxs-lookup"><span data-stu-id="e1edb-151">Securing Scripting Clients</span></span>](securing-scripting-clients.md)                                       | <span data-ttu-id="e1edb-152">Los scripts y las aplicaciones de Visual Basic (clientes de automatización) deben establecer la seguridad adecuada para obtener acceso a los eventos y datos de WMI.</span><span class="sxs-lookup"><span data-stu-id="e1edb-152">Scripts and Visual Basic applications (automation clients) must set appropriate security to get access to WMI data and events.</span></span>                                        |
| [<span data-ttu-id="e1edb-153">Proteger eventos WMI</span><span class="sxs-lookup"><span data-stu-id="e1edb-153">Securing WMI Events</span></span>](securing-wmi-events.md)                                                     | <span data-ttu-id="e1edb-154">El proveedor de eventos entrega los eventos WMI a un consumidor temporal o permanente.</span><span class="sxs-lookup"><span data-stu-id="e1edb-154">WMI events are delivered by the event provider to a temporary or permanent consumer.</span></span> <span data-ttu-id="e1edb-155">Los eventos se entregan en forma de una instancia de una clase de eventos.</span><span class="sxs-lookup"><span data-stu-id="e1edb-155">Events are delivered in the form of an instance of an event class.</span></span>               |
| [<span data-ttu-id="e1edb-156">Cambiar la seguridad de acceso en objetos protegibles</span><span class="sxs-lookup"><span data-stu-id="e1edb-156">Changing Access Security on Securable Objects</span></span>](changing-access-security-on-securable-objects.md) | <span data-ttu-id="e1edb-157">Con los permisos adecuados, puede llamar a métodos en los objetos WMI que representan objetos protegibles que leen o modifican los descriptores de seguridad de los objetos protegibles.</span><span class="sxs-lookup"><span data-stu-id="e1edb-157">With appropriate permissions, you can call methods on the WMI objects that represent securable objects that read or change security descriptors on securable objects.</span></span> |



 

## <a name="related-topics"></a><span data-ttu-id="e1edb-158">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e1edb-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e1edb-159">Usar WMI</span><span class="sxs-lookup"><span data-stu-id="e1edb-159">Using WMI</span></span>](using-wmi.md)
</dt> </dl>

 

 



