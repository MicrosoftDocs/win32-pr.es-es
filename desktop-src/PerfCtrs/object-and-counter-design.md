---
description: Un objeto de rendimiento es una entidad para la que los datos de rendimiento están disponibles.
ms.assetid: 97b9c9ec-e758-4928-b3fa-90d220bca5fb
title: Diseño de objetos y contadores
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9556882f5dd6c323697d9d41fa80727895550a5d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104001976"
---
# <a name="object-and-counter-design"></a><span data-ttu-id="8f637-103">Diseño de objetos y contadores</span><span class="sxs-lookup"><span data-stu-id="8f637-103">Object and Counter Design</span></span>

<span data-ttu-id="8f637-104">Un objeto de rendimiento es una entidad para la que los datos de rendimiento están disponibles.</span><span class="sxs-lookup"><span data-stu-id="8f637-104">A performance object is an entity for which performance data is available.</span></span> <span data-ttu-id="8f637-105">Los contadores de rendimiento definen el tipo de datos que están disponibles para un objeto de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8f637-105">Performance counters define the type of data that is available for a performance object.</span></span> <span data-ttu-id="8f637-106">Una aplicación puede proporcionar información para varios objetos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8f637-106">An application can provide information for multiple performance objects.</span></span> <span data-ttu-id="8f637-107">Los objetos de rendimiento pueden contener contadores de una sola instancia o varios contadores de instancias.</span><span class="sxs-lookup"><span data-stu-id="8f637-107">Performance objects can contain either single instance counters or multiple instance counters.</span></span> <span data-ttu-id="8f637-108">Un objeto de instancia única devuelve un único conjunto de valores de contador.</span><span class="sxs-lookup"><span data-stu-id="8f637-108">A single instance object returns a single set of counter values.</span></span>

<span data-ttu-id="8f637-109">Un objeto de varias instancias devuelve una instancia del objeto para cada repetición del objeto que controla la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8f637-109">A multiple instance object returns an instance of the object for each occurrence of the object that the application controls.</span></span> <span data-ttu-id="8f637-110">Por ejemplo, una aplicación SCSI podría definir un objeto de unidad con dos contadores, como bytes leídos y bytes escritos.</span><span class="sxs-lookup"><span data-stu-id="8f637-110">For example, a SCSI application could define a drive object with two counters, such as Bytes Read and Bytes Written.</span></span> <span data-ttu-id="8f637-111">Cuando el consumidor consulta el objeto, el archivo DLL de rendimiento devuelve una instancia del objeto para cada unidad que controla la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8f637-111">When the consumer queries the object, the performance DLL returns an instance of the object for each drive that the application controls.</span></span>

<span data-ttu-id="8f637-112">Después de decidir si el objeto admite una o varias instancias, debe decidir el tipo de contadores que desea que proporcione el objeto.</span><span class="sxs-lookup"><span data-stu-id="8f637-112">After deciding if your object supports a single instance or multiple instances, you need to decide on the type of counters that you want the object to provide.</span></span> <span data-ttu-id="8f637-113">Por ejemplo, puede proporcionar valores de contador que se muestran como valores sin formato, como tasas o como porcentajes.</span><span class="sxs-lookup"><span data-stu-id="8f637-113">For example, you can provide counter values that are displayed as raw values, as rates, or as percentages.</span></span>

<span data-ttu-id="8f637-114">Para obtener una lista de tipos de contadores predefinidos que debe elegir, consulte la sección tipos de contadores del [Kit de implementación de Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="8f637-114">For a list of predefined counter types that you should choose from, see the Counter Types section of the [Windows Server 2003 Deployment Kit](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span></span> <span data-ttu-id="8f637-115">Dependiendo del tipo de contador, es posible que simplemente proporcione los datos sin procesar o que también tenga que proporcionar información de hora y frecuencia y datos de contador adicionales usados por el consumidor para calcular un valor que se pueda mostrar.</span><span class="sxs-lookup"><span data-stu-id="8f637-115">Depending on the counter type, you may simply provide the raw data, or you may also have to provide time and frequency information and additional counter data used by the consumer to calculate a displayable value.</span></span>

<span data-ttu-id="8f637-116">El método que se usa para recopilar los datos puede ser tan sencillo como incrementar un contador cada vez que se llama a una rutina determinada de la aplicación, o puede implicar cálculos que consumen mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="8f637-116">The method you use to collect the data can be as simple as incrementing a counter each time a particular routine in the application is called, or it can involve time-consuming calculations.</span></span> <span data-ttu-id="8f637-117">Los contadores y temporizadores deben incrementarse y nunca deben borrarse.</span><span class="sxs-lookup"><span data-stu-id="8f637-117">Counters and timers should increment and never be cleared.</span></span> <span data-ttu-id="8f637-118">Los contadores se pueden ajustar, siempre y cuando no se ajusten dos veces entre el consumidor.</span><span class="sxs-lookup"><span data-stu-id="8f637-118">Counters can wrap, as long as they do not wrap twice between being sampled by the consumer.</span></span> <span data-ttu-id="8f637-119">La aplicación puede recopilar y almacenar datos durante su ejecución normal, siempre y cuando no afecte a su rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8f637-119">Your application can collect and store data during its normal execution, as long as it does not affect its performance.</span></span>

<span data-ttu-id="8f637-120">En el caso de algunos tipos de datos, puede ser más eficaz o adecuado recopilar los datos a petición.</span><span class="sxs-lookup"><span data-stu-id="8f637-120">For some types of data, it may be more efficient or appropriate to collect the data on demand.</span></span> <span data-ttu-id="8f637-121">En esta situación, el archivo DLL de rendimiento debe comunicarse con la aplicación para la que se han solicitado los datos.</span><span class="sxs-lookup"><span data-stu-id="8f637-121">In this situation, the performance DLL must communicate to the application that the data has been requested.</span></span> <span data-ttu-id="8f637-122">En el caso de los datos que son caros de recopilar (en términos de tiempo de procesador o uso de memoria), considere la posibilidad de recopilar datos solo cuando el consumidor solicite datos **costosos** .</span><span class="sxs-lookup"><span data-stu-id="8f637-122">For data that is expensive to collect (in terms of processor time or memory usage), consider collecting data only when the consumer requests **Costly** data.</span></span> <span data-ttu-id="8f637-123">Esto permite a un consumidor solicitar datos de forma rutinaria para todos los contadores que no son costosos.</span><span class="sxs-lookup"><span data-stu-id="8f637-123">This allows a consumer to routinely request data for all counters that are not costly.</span></span> <span data-ttu-id="8f637-124">Los datos se pueden solicitar solo cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="8f637-124">The data can be requested only when needed.</span></span> <span data-ttu-id="8f637-125">La herramienta rendimiento no recopila datos **costosos** .</span><span class="sxs-lookup"><span data-stu-id="8f637-125">The Performance tool does not collect **Costly** data.</span></span>

 

 
