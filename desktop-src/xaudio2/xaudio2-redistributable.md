---
description: Guía del desarrollador para la versión redistribuible de XAudio 2.9
ms.assetid: ''
title: Guía del desarrollador para la versión redistribuible de XAudio 2.9
ms.topic: article
ms.date: 10/17/2019
ms.openlocfilehash: a87c2dc44179f2c189270dfa91d2cf2696ea98a7
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/05/2021
ms.locfileid: "104003470"
---
# <a name="developer-guide-for-redistributable-version-of-xaudio-29"></a><span data-ttu-id="e90d4-103">Guía del desarrollador para la versión redistribuible de XAudio 2.9</span><span class="sxs-lookup"><span data-stu-id="e90d4-103">Developer guide for redistributable version of XAudio 2.9</span></span>

<span data-ttu-id="e90d4-104">Hay disponible una versión de XAudio 2,9 como [paquete NuGet](/nuget/what-is-nuget).</span><span class="sxs-lookup"><span data-stu-id="e90d4-104">A version of XAudio 2.9 is available as a [NuGet package](/nuget/what-is-nuget).</span></span> <span data-ttu-id="e90d4-105">Los desarrolladores pueden redistribuir esta versión de XAudio 2,9 con sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e90d4-105">Developers can redistribute this version of XAudio 2.9 with their apps.</span></span> <span data-ttu-id="e90d4-106">Esto permite que una aplicación use XAudio 2,9 en versiones anteriores de Windows que no incluyen XAudio 2,9 como parte de la imagen de sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e90d4-106">This allows an app to use XAudio 2.9 on older versions of Windows that do no not include XAudio 2.9 as part of the operating system image.</span></span> <span data-ttu-id="e90d4-107">El uso de este redistribuible es preferible que redistribuir XAudio 2,7 desde el SDK de DirectX, ya que XAudio 2,7 no se ha actualizado desde 2010.</span><span class="sxs-lookup"><span data-stu-id="e90d4-107">Use of this redistributable is preferred over redistributing XAudio 2.7 from the DirectX SDK, as XAudio 2.7 has not been updated since 2010.</span></span>

## <a name="supported-platforms"></a><span data-ttu-id="e90d4-108">Plataformas compatibles</span><span class="sxs-lookup"><span data-stu-id="e90d4-108">Supported platforms</span></span>

<span data-ttu-id="e90d4-109">El paquete NuGet XAudio 2,9 (*Microsoft. XAudio2. Redist. \* . nupkg*) incluye una versión de 32 bits y una versión de 64 bits de un archivo DLL que implementa la API de XAudio 2,9.</span><span class="sxs-lookup"><span data-stu-id="e90d4-109">The XAudio 2.9 NuGet package (*Microsoft.XAudio2.Redist.\*.nupkg*) includes a 32-bit and a 64-bit version of a DLL that implements the XAudio 2.9 API.</span></span> <span data-ttu-id="e90d4-110">El archivo DLL se denomina XAUDIO2 \_9REDIST.DLL.</span><span class="sxs-lookup"><span data-stu-id="e90d4-110">The DLL is called XAUDIO2\_9REDIST.DLL.</span></span> <span data-ttu-id="e90d4-111">Este archivo DLL funcionará en Windows 7 SP1, Windows 8, Windows 8.1 y Windows 10.</span><span class="sxs-lookup"><span data-stu-id="e90d4-111">This DLL will work on Windows 7 SP1, Windows 8, Windows 8.1 and Windows 10.</span></span>

<span data-ttu-id="e90d4-112">Cuando el archivo DLL se usa en un sistema de Windows 10, comprueba el número de versión del \_9.DLL de XAUDIO2 que forma parte del sistema operativo y, si el sistema operativo es más reciente, delegará todas las llamadas de API a XAUDIO2 \_9.DLL en el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e90d4-112">When the DLL is used on a Windows 10 system, it checks the version number of the XAUDIO2\_9.DLL that is part of the operating system, and if the operating system is newer, it will delegate all API calls to XAUDIO2\_9.DLL in the operating system.</span></span> <span data-ttu-id="e90d4-113">Esto garantiza que las aplicaciones siempre usen la versión más reciente de XAudio 2,9 que está disponible en la plataforma actual.</span><span class="sxs-lookup"><span data-stu-id="e90d4-113">This ensures that apps always use the latest version of XAudio 2.9 that is available on the current platform.</span></span>

<span data-ttu-id="e90d4-114">La DLL no está pensada para Xbox One.</span><span class="sxs-lookup"><span data-stu-id="e90d4-114">The DLL is not intended for Xbox One.</span></span> <span data-ttu-id="e90d4-115">Si se usa en Xbox One, el archivo DLL siempre delegará todas las llamadas de API a XAUDIO2 \_9.DLL en el sistema operativo Xbox One.</span><span class="sxs-lookup"><span data-stu-id="e90d4-115">If used on Xbox One, the DLL will always delegate all API calls to XAUDIO2\_9.DLL in the Xbox One operating system.</span></span>

<span data-ttu-id="e90d4-116">El archivo DLL no está diseñado para aplicaciones UWP.</span><span class="sxs-lookup"><span data-stu-id="e90d4-116">The DLL is not intended for UWP apps.</span></span> <span data-ttu-id="e90d4-117">Las aplicaciones UWP deben usar el \_9.DLL de XAUDIO2 que forma parte del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="e90d4-117">UWP apps should use the XAUDIO2\_9.DLL that is part of the operating system.</span></span>

## <a name="installing-the-nuget-package"></a><span data-ttu-id="e90d4-118">Instalación del paquete de NuGet</span><span class="sxs-lookup"><span data-stu-id="e90d4-118">Installing the NuGet package</span></span>

<span data-ttu-id="e90d4-119">La forma más fácil de instalar el paquete NuGet es usar el [Administrador de paquetes Nuget](/nuget/consume-packages/install-use-packages-visual-studio) en Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e90d4-119">The easiest way to install the NuGet package is to use the [NuGet Package Manager](/nuget/consume-packages/install-use-packages-visual-studio) in Microsoft Visual Studio.</span></span> <span data-ttu-id="e90d4-120">Si lo hace, el archivo de proyecto de Visual Studio se actualizará automáticamente para incluir *Microsoft. XAudio2. Redist. targets*.</span><span class="sxs-lookup"><span data-stu-id="e90d4-120">If you do this, your Visual Studio project file will be automatically updated to include *Microsoft.XAudio2.Redist.targets*.</span></span> <span data-ttu-id="e90d4-121">El archivo *. targets* agrega la carpeta include con los archivos de encabezado de XAudio2 a la colección de rutas de acceso de inclusión del proyecto.</span><span class="sxs-lookup"><span data-stu-id="e90d4-121">The *.targets* file adds the Include folder with the header files for the XAudio2 to your collection of project include paths.</span></span> <span data-ttu-id="e90d4-122">El archivo *. targets* también realizará su. DLL o. Vínculo EXE con XAUDIO2REDIST. LIB y XAPOBASEREDIST. Obj.</span><span class="sxs-lookup"><span data-stu-id="e90d4-122">The *.targets* file will also make your .DLL or .EXE link with XAUDIO2REDIST.LIB and XAPOBASEREDIST.LIB.</span></span>

<span data-ttu-id="e90d4-123">La biblioteca XAPOBASEREDIST. LIB solo es necesario si tiene previsto impement un objeto de procesamiento de XAudio personalizado (XAPO) y puede quitarlo de *Microsoft. XAudio2. Redist. targets* si no se usa.</span><span class="sxs-lookup"><span data-stu-id="e90d4-123">The library XAPOBASEREDIST.LIB is only needed if you intend to impement a custom XAudio Processing Object (XAPO) and you can remove it from the *Microsoft.XAudio2.Redist.targets* if it is unused.</span></span>

<span data-ttu-id="e90d4-124">También puede usar otras herramientas para extraer el contenido del paquete de NuGet, o incluso cambiar el nombre de la extensión de archivo a. zip y extraer los archivos con cualquier herramienta de extractor de ZIP.</span><span class="sxs-lookup"><span data-stu-id="e90d4-124">You can also use other tools to extract the contents of the NuGet package, or even rename the file extension to .zip and extract the files with any ZIP extractor tool.</span></span>

## <a name="compiling-your-app"></a><span data-ttu-id="e90d4-125">Compilar la aplicación</span><span class="sxs-lookup"><span data-stu-id="e90d4-125">Compiling your app</span></span>

### <a name="choosing-which-headers-to-include"></a><span data-ttu-id="e90d4-126">Elección de los encabezados que se van a incluir</span><span class="sxs-lookup"><span data-stu-id="e90d4-126">Choosing which headers to include</span></span>

<span data-ttu-id="e90d4-127">El paquete NuGet de XAudio 2,9 incluye los mismos archivos de encabezado de XAudio2 que se incluyen en el SDK de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="e90d4-127">The XAudio 2.9 NuGet package includes the same XAudio2 header files that are included in the Windows 10 SDK.</span></span> <span data-ttu-id="e90d4-128">Sin embargo, los archivos de encabezado se han realizado algunos ajustes para asegurarse de que puede usarlos mientras se dirigen explícitamente a todas las [plataformas compatibles](#supported-platforms), incluidas las versiones anteriores de Windows.</span><span class="sxs-lookup"><span data-stu-id="e90d4-128">However, the header files have had some adjustments to them to make sure that you can use them while explicitly targeting all [supported platforms](#supported-platforms), including older versions of Windows.</span></span>

<span data-ttu-id="e90d4-129">Si [instala el paquete de Nuget](#installing-the-nuget-package) con el administrador de paquetes de nuget en Microsoft Visual Studio, la ruta de acceso a los archivos de encabezado se coloca delante de la ruta de acceso a los archivos de encabezado de Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="e90d4-129">If you [install the NuGet package](#installing-the-nuget-package) using the NuGet Package Manager in Microsoft Visual Studio then the path to the header files is placed in front of the path to the Windows SDK header files.</span></span> <span data-ttu-id="e90d4-130">Esto significa que si el código del proyecto incluye XAUDIO2. H, se recogerá el encabezado multiplataforma del paquete NuGet.</span><span class="sxs-lookup"><span data-stu-id="e90d4-130">That means that if code in your project includes the XAUDIO2.H header, it will pick up the cross-platform header from the NuGet package.</span></span> <span data-ttu-id="e90d4-131">Este suele ser el comportamiento deseado.</span><span class="sxs-lookup"><span data-stu-id="e90d4-131">This is normally the desired behavior.</span></span>

<span data-ttu-id="e90d4-132">Debe tener cuidado si agregar la ruta de acceso a los encabezados de inclusión manualmente en el proyecto, ya que si se especifican en el orden equivocado, pueden producirse las XAUDIO2 específicas de la versión del sistema operativo [. H](/windows/win32/api/xaudio2/) que se va a incluir en el Windows SDK, en lugar de la versión multiplataforma de XAUDIO2. H.</span><span class="sxs-lookup"><span data-stu-id="e90d4-132">You should be careful if adding the path to the include headers manually to the project, as specifying them in the wrong order can cause the OS-version specific [XAUDIO2.H](/windows/win32/api/xaudio2/) to be included from the Windows SDK, rather than the cross-platform version of XAUDIO2.H.</span></span>

<span data-ttu-id="e90d4-133">Para que la inclusión de encabezados sea menos propensa a errores, el paquete NuGet contiene una versión de cada encabezado con "Redist" anexado.</span><span class="sxs-lookup"><span data-stu-id="e90d4-133">To make the inclusion of headers less error-prone, the NuGet package contains a version of each header with "REDIST" appended to it.</span></span> <span data-ttu-id="e90d4-134">Por ejemplo, además de XAUDIO2. H, el paquete NuGet también incluye XAUDIO2REDIST. H.</span><span class="sxs-lookup"><span data-stu-id="e90d4-134">For example, in addition to XAUDIO2.H, the NuGet package also includes XAUDIO2REDIST.H.</span></span> <span data-ttu-id="e90d4-135">Si lo prefiere, el código puede incluir XAUDIO2REDIST directamente. H para eliminar cualquier ambigüedad sobre el archivo de encabezado que se está usando.</span><span class="sxs-lookup"><span data-stu-id="e90d4-135">If you prefer, your code can directly include XAUDIO2REDIST.H to eliminate any ambiguity about which header file is being used.</span></span> <span data-ttu-id="e90d4-136">Al incluir-Redist. Versión H de un archivo de encabezado, el orden en el que se enumeran los directorios de archivos de inclusión en el archivo del proyecto no importa.</span><span class="sxs-lookup"><span data-stu-id="e90d4-136">When including the -REDIST.H version of a header file, the order in which the include file directories are listed in the project file do not matter.</span></span>

<span data-ttu-id="e90d4-137">Tenga en cuenta que si la aplicación también se compila para Xbox One, debe seguir incluyendo XAUDIO2. H al compilar para Xbox One, como algunas API específicas de Xbox One se excluyen de XAUDIO2REDIST. H.</span><span class="sxs-lookup"><span data-stu-id="e90d4-137">Note that if your app is also being compiled for Xbox One, you should continue to include XAUDIO2.H when compiling for Xbox One, as some Xbox One-specific APIs are excluded from XAUDIO2REDIST.H.</span></span> <span data-ttu-id="e90d4-138">Este paquete de NuGet no está diseñado para Xbox One.</span><span class="sxs-lookup"><span data-stu-id="e90d4-138">This NuGet package is not intended for Xbox One.</span></span>

### <a name="loading-the-dll"></a><span data-ttu-id="e90d4-139">Cargar el archivo DLL</span><span class="sxs-lookup"><span data-stu-id="e90d4-139">Loading the DLL</span></span>

<span data-ttu-id="e90d4-140">Se recomienda vincular la aplicación con XAUDIO2REDIST. LIB e instalar XAUDIO2 \_9REDIST.DLL en la misma carpeta que el ejecutable de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e90d4-140">We recommend that you link your app with XAUDIO2REDIST.LIB and install XAUDIO2\_9REDIST.DLL in the same folder as your app's executable.</span></span> <span data-ttu-id="e90d4-141">Esto hará que se \_ carguen las9REDIST.DLL de XAUDIO2 en cuanto se inicie el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="e90d4-141">This will cause XAUDIO2\_9REDIST.DLL to be loaded as soon as your executable is launched.</span></span> <span data-ttu-id="e90d4-142">Sin embargo, si lo prefiere, puede usar [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) y [**GETPROCADDRESS**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) para cargar XAUDIO2 \_9REDIST.DLL a petición.</span><span class="sxs-lookup"><span data-stu-id="e90d4-142">However, if you prefer, you may use [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) and [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) to load XAUDIO2\_9REDIST.DLL on demand.</span></span> <span data-ttu-id="e90d4-143">Esta es una buena solución si la aplicación no siempre necesita usar las API de XAudio2.</span><span class="sxs-lookup"><span data-stu-id="e90d4-143">This is a good solution if your app does not always need to use the XAudio2 APIs.</span></span> <span data-ttu-id="e90d4-144">Pero si lo hace, debe mantener las9REDIST.DLL de XAUDIO2 \_ cargadas hasta que se cierre la aplicación, ya que al intentar descargar el archivo dll se puede producir un bloqueo si un subproceso en segundo plano sigue ejecutando código en el archivo dll.</span><span class="sxs-lookup"><span data-stu-id="e90d4-144">But if you do this, you should keep the XAUDIO2\_9REDIST.DLL loaded until the app exits, as attempting to unload the DLL can cause a crash if a background thread is still executing code in the DLL.</span></span>

<span data-ttu-id="e90d4-145">A diferencia de la versión anterior de XAudio 2,7, no es posible usar CoCreateInstance para cargar el archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="e90d4-145">Unlike the older XAudio 2.7, it is not possible to use CoCreateInstance to load the DLL.</span></span>

### <a name="verifying-the-dll-signature"></a><span data-ttu-id="e90d4-146">Comprobando la firma de DLL</span><span class="sxs-lookup"><span data-stu-id="e90d4-146">Verifying the DLL signature</span></span>

<span data-ttu-id="e90d4-147">El \_ archivo binario9REDIST.DLL de XAUDIO2 está firmado por Microsoft con una firma Sha-2.</span><span class="sxs-lookup"><span data-stu-id="e90d4-147">The XAUDIO2\_9REDIST.DLL binary is signed by Microsoft using a SHA-2 signature.</span></span> <span data-ttu-id="e90d4-148">Cualquier código que intente validar la firma, por ejemplo, los módulos de protección contra los juegos, debe admitir SHA-2.</span><span class="sxs-lookup"><span data-stu-id="e90d4-148">Any code that attempts to validate the signature, e.g., anti-cheat modules for games, therefore needs to support SHA-2.</span></span> <span data-ttu-id="e90d4-149">Tenga en cuenta que Windows 7 SP1 no admitía originalmente SHA-2 y requiere una actualización para agregar esa funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="e90d4-149">Note that Windows 7 SP1 did not originally support SHA-2 and requires an update to add that functionality.</span></span> <span data-ttu-id="e90d4-150">La actualización está disponible como [KB4474419](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update).</span><span class="sxs-lookup"><span data-stu-id="e90d4-150">The update is available as [KB4474419](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update).</span></span>

## <a name="testing"></a><span data-ttu-id="e90d4-151">Prueba</span><span class="sxs-lookup"><span data-stu-id="e90d4-151">Testing</span></span>

### <a name="spatial-sound-in-newer-versions-of-windows-10"></a><span data-ttu-id="e90d4-152">Sonido espacial en las versiones más recientes de Windows 10</span><span class="sxs-lookup"><span data-stu-id="e90d4-152">Spatial sound in newer versions of Windows 10</span></span>

<span data-ttu-id="e90d4-153">A partir de la actualización 10 1903 de Windows, XAudio 2,9 utiliza automáticamente el [sonido envolvente virtual](#spatial-sound-and-virtual-surround), si se cumplen ciertas condiciones.</span><span class="sxs-lookup"><span data-stu-id="e90d4-153">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses [virtual surround sound](#spatial-sound-and-virtual-surround), if certain conditions are satisfied.</span></span> <span data-ttu-id="e90d4-154">Se recomienda probar el juego que genera sonido multicanal en Windows 10 1903 (o posterior) para comprobar que el juego suena según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="e90d4-154">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span>

#### <a name="enabling-spatial-sound"></a><span data-ttu-id="e90d4-155">Habilitar el sonido espacial</span><span class="sxs-lookup"><span data-stu-id="e90d4-155">Enabling spatial sound</span></span>

<span data-ttu-id="e90d4-156">Para habilitar un formato de sonido espacial, el usuario puede hacer clic con el botón derecho en el icono de altavoz en la bandeja del sistema de Windows.</span><span class="sxs-lookup"><span data-stu-id="e90d4-156">The user can enable a spatial sound format by right-clicking on the speaker icon in the Windows system tray.</span></span> 

<span data-ttu-id="e90d4-157">XAudio 2,9 solo usará el formato de sonido espacial seleccionado del usuario si el proceso que usa la API de XAudio2 se reconoce como un juego en la barra de juegos de Windows.</span><span class="sxs-lookup"><span data-stu-id="e90d4-157">XAudio 2.9 will only use the user's selected spatial sound format if the process that is using the XAudio2 API is recognized as a game by the Windows Game Bar.</span></span> <span data-ttu-id="e90d4-158">Durante el desarrollo, es posible que la barra de juego aún no reconozca el proceso como un juego.</span><span class="sxs-lookup"><span data-stu-id="e90d4-158">During development, it is possible that the process is not yet recognized as a game by the Game Bar.</span></span> <span data-ttu-id="e90d4-159">Para cambiar esta configuración, use el corte de teclado Win + G para abrir la barra de juego mientras el juego se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="e90d4-159">To change this, use the Win+G keyboard short-cut to bring up the Game Bar while the game is running.</span></span> <span data-ttu-id="e90d4-160">Después, haga clic en el icono "configuración" y active la casilla que dice "Recuerde que se trata de un juego".</span><span class="sxs-lookup"><span data-stu-id="e90d4-160">Then click on the "Settings" icon and check the checkbox that says, "Remember that this is a game".</span></span>

#### <a name="opting-out-from-spatial-sound"></a><span data-ttu-id="e90d4-161">No participar en el sonido espacial</span><span class="sxs-lookup"><span data-stu-id="e90d4-161">Opting out from spatial sound</span></span>

<span data-ttu-id="e90d4-162">Hay una manera de dejar de hacer que XAudio2 use el codificador de sonido espacial especificando ciertos valores para el parámetro [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) en [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span><span class="sxs-lookup"><span data-stu-id="e90d4-162">There is a way to opt out from having XAudio2 use the spatial sound encoder by specifying certain values for the [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) parameter in [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span> 

<span data-ttu-id="e90d4-163">El sonido espacial está habilitado para estas categorías:</span><span class="sxs-lookup"><span data-stu-id="e90d4-163">Spatial sound is enabled for these categories:</span></span>

* <span data-ttu-id="e90d4-164">AudioCategory_ForegroundOnlyMedia</span><span class="sxs-lookup"><span data-stu-id="e90d4-164">AudioCategory_ForegroundOnlyMedia</span></span>
* <span data-ttu-id="e90d4-165">AudioCategory_GameEffects</span><span class="sxs-lookup"><span data-stu-id="e90d4-165">AudioCategory_GameEffects</span></span>
* <span data-ttu-id="e90d4-166">AudioCategory_GameMedia</span><span class="sxs-lookup"><span data-stu-id="e90d4-166">AudioCategory_GameMedia</span></span>
* <span data-ttu-id="e90d4-167">AudioCategory_Movie</span><span class="sxs-lookup"><span data-stu-id="e90d4-167">AudioCategory_Movie</span></span>
* <span data-ttu-id="e90d4-168">AudioCategory_Media</span><span class="sxs-lookup"><span data-stu-id="e90d4-168">AudioCategory_Media</span></span>

<span data-ttu-id="e90d4-169">El sonido espacial no está habilitado si se especifica alguna de las siguientes categorías:</span><span class="sxs-lookup"><span data-stu-id="e90d4-169">Spatial sound is not enabled if any of the following categories are specified:</span></span>

* <span data-ttu-id="e90d4-170">AudioCategory_Other</span><span class="sxs-lookup"><span data-stu-id="e90d4-170">AudioCategory_Other</span></span>
* <span data-ttu-id="e90d4-171">AudioCategory_Communications</span><span class="sxs-lookup"><span data-stu-id="e90d4-171">AudioCategory_Communications</span></span>
* <span data-ttu-id="e90d4-172">AudioCategory_Alerts</span><span class="sxs-lookup"><span data-stu-id="e90d4-172">AudioCategory_Alerts</span></span>
* <span data-ttu-id="e90d4-173">AudioCategory_SoundEffects</span><span class="sxs-lookup"><span data-stu-id="e90d4-173">AudioCategory_SoundEffects</span></span>
* <span data-ttu-id="e90d4-174">AudioCategory_GameChat</span><span class="sxs-lookup"><span data-stu-id="e90d4-174">AudioCategory_GameChat</span></span>
* <span data-ttu-id="e90d4-175">AudioCategory_Speech</span><span class="sxs-lookup"><span data-stu-id="e90d4-175">AudioCategory_Speech</span></span>

### <a name="error-handling"></a><span data-ttu-id="e90d4-176">Control de errores</span><span class="sxs-lookup"><span data-stu-id="e90d4-176">Error handling</span></span>

<span data-ttu-id="e90d4-177">Es importante probar que el juego puede controlar un cambio en el dispositivo de audio, por ejemplo, cuando los auriculares están enchufados o desconectados.</span><span class="sxs-lookup"><span data-stu-id="e90d4-177">It is important to test that you game can handle a change in audio device, for example, when headphones are plugged in, or unplugged.</span></span> <span data-ttu-id="e90d4-178">Esto se debe probar con auriculares que solo admiten la velocidad de muestreo de 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="e90d4-178">This should be tested with headphones that only support 44.1 kHz sampling rate.</span></span> <span data-ttu-id="e90d4-179">Muchos auriculares USB de low-end y auriculares Bluetooth solo admiten 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="e90d4-179">Many low-end USB headphones and Bluetooth headsets only support 44.1 kHz.</span></span> <span data-ttu-id="e90d4-180">La transición entre la velocidad de muestreo de 48 kHz y la velocidad de muestreo de 44,1 kHz puede producir un error aunque se use la característica de [punto de conexión de audio virtual](#virtual-audio-endpoint) .</span><span class="sxs-lookup"><span data-stu-id="e90d4-180">The transition between 48 kHz sampling rate and 44.1 kHz sampling rate can cause an error even when the [virtual audio endpoint](#virtual-audio-endpoint) feature is used.</span></span> <span data-ttu-id="e90d4-181">El error no se producirá si los auriculares también admiten 48 kHz.</span><span class="sxs-lookup"><span data-stu-id="e90d4-181">The error will not happen if the headphones also support 48 kHz.</span></span> <span data-ttu-id="e90d4-182">Tenga en cuenta que la característica de punto de conexión de audio virtual no está disponible en Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="e90d4-182">Note that the virtual audio endpoint feature is not available on Windows 7 SP1.</span></span>

<span data-ttu-id="e90d4-183">El código de error devuelto por XAudio 2,9 cuando no se puede recuperar automáticamente de un cambio en el punto de conexión de audio es el [ \_ dispositivo XAUDIO2 E \_ \_ invalidado](xaudio2-error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="e90d4-183">The error code returned by XAudio 2.9 when it cannot automatically recover from a change in audio endpoint is [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md).</span></span> <span data-ttu-id="e90d4-184">Sin embargo, se recomienda que las aplicaciones no codifiquen de forma rígida una dependencia del código de error que tenga un valor específico.</span><span class="sxs-lookup"><span data-stu-id="e90d4-184">However, we recommend that apps do not hard-code a dependency on the error code having a specific value.</span></span>

<span data-ttu-id="e90d4-185">Para recibir una notificación del error, la aplicación debe implementar la interfaz [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) y proporcionar un puntero a esa interfaz mediante la invocación del método [**IXAudio2:: RegisterForCallbacks**](xaudio2-callbacks.md) .</span><span class="sxs-lookup"><span data-stu-id="e90d4-185">To be notified of the error, the app should implement the [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) interface and provide a pointer to that interface by invoking the [**IXAudio2::RegisterForCallbacks**](xaudio2-callbacks.md) method.</span></span> <span data-ttu-id="e90d4-186">La API de XAudio2 invocará la implementación de la aplicación de [**IXAudio2EngineCallback:: OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) si se produce un error durante la reproducción.</span><span class="sxs-lookup"><span data-stu-id="e90d4-186">The app's implementation of the [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) will be invoked by the XAudio2 API if an error occurs during playback.</span></span>

<span data-ttu-id="e90d4-187">Tenga en cuenta que [**IXAudio2EngineCallback:: OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) no se invoca necesariamente si la canalización de audio está en pausa.</span><span class="sxs-lookup"><span data-stu-id="e90d4-187">Note that [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) is not necessarily invoked if the audio pipeline is paused.</span></span> <span data-ttu-id="e90d4-188">Por ejemplo, si el usuario minimiza la aplicación o la aplicación se suspende por cualquier motivo, la reproducción de audio podría estar en pausa.</span><span class="sxs-lookup"><span data-stu-id="e90d4-188">For example, if the user minimizes the app, or the app gets suspended for any reason, audio playback might be paused.</span></span> <span data-ttu-id="e90d4-189">Si el cambio en el dispositivo de audio ocurre durante este tiempo, el error solo se devuelve cuando la aplicación invoca [**IXAudio2:: StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) o invoca [**IXAudio2SourceVoice:: Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span><span class="sxs-lookup"><span data-stu-id="e90d4-189">If the change in audio device happens during this time, the error is only returned when the app invokes [**IXAudio2::StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) and/or invokes [**IXAudio2SourceVoice::Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span></span> <span data-ttu-id="e90d4-190">Si la reproducción se puede pausar con la aplicación, debe probar a cambiar el dispositivo de audio mientras se pausa la reproducción, para comprobar que la aplicación todavía puede recuperarse de esta situación.</span><span class="sxs-lookup"><span data-stu-id="e90d4-190">If playback can be paused with your app, you should test changing the audio device while the playback is paused, to verify that the app still can recover from this situation.</span></span>

## <a name="xaudio-29-api-differences-compared-to-xaudio-27"></a><span data-ttu-id="e90d4-191">Diferencias de la API de XAudio 2,9 en comparación con XAudio 2,7</span><span class="sxs-lookup"><span data-stu-id="e90d4-191">XAudio 2.9 API differences compared to XAudio 2.7</span></span>

<span data-ttu-id="e90d4-192">En esta sección se proporciona un resumen de algunas de las diferencias de API entre XAudio 2,7 y la versión redistribuible de XAudio 2,9.</span><span class="sxs-lookup"><span data-stu-id="e90d4-192">This section provides a summary of some of the API differences between XAudio 2.7 and the redistributable version of XAudio 2.9.</span></span>

### <a name="supported-formats"></a><span data-ttu-id="e90d4-193">Formatos compatibles</span><span class="sxs-lookup"><span data-stu-id="e90d4-193">Supported formats</span></span>

<span data-ttu-id="e90d4-194">XAudio 2,9 admite estos formatos de entrada en PC:</span><span class="sxs-lookup"><span data-stu-id="e90d4-194">XAudio 2.9 supports these input formats on PC:</span></span>

* <span data-ttu-id="e90d4-195">PCM lineal de 16 bits</span><span class="sxs-lookup"><span data-stu-id="e90d4-195">Linear 16-bit PCM</span></span>
* <span data-ttu-id="e90d4-196">PCM lineal de 32 bits Float</span><span class="sxs-lookup"><span data-stu-id="e90d4-196">Linear 32-bit Float PCM</span></span>
* <span data-ttu-id="e90d4-197">ADPCM de 16 bits</span><span class="sxs-lookup"><span data-stu-id="e90d4-197">16-bit ADPCM</span></span>
* <span data-ttu-id="e90d4-198">xWMA</span><span class="sxs-lookup"><span data-stu-id="e90d4-198">xWMA</span></span>

<span data-ttu-id="e90d4-199">El formato XMA solo se admite en Xbox One.</span><span class="sxs-lookup"><span data-stu-id="e90d4-199">The XMA format is only supported on Xbox One.</span></span>

### <a name="preferred-cpu-core"></a><span data-ttu-id="e90d4-200">Núcleo de CPU preferido</span><span class="sxs-lookup"><span data-stu-id="e90d4-200">Preferred CPU core</span></span>

<span data-ttu-id="e90d4-201">Es posible especificar qué núcleo de CPU XAudio 2,9 debe usar para su subproceso de procesamiento de audio.</span><span class="sxs-lookup"><span data-stu-id="e90d4-201">It is possible to specify which CPU core XAudio 2.9 should use for its audio processing thread.</span></span> <span data-ttu-id="e90d4-202">Sin embargo, suele ser preferible dejar que XAudio 2,9 Elija este valor por sí solo.</span><span class="sxs-lookup"><span data-stu-id="e90d4-202">However, it is usually preferred to let XAudio 2.9 choose this value by itself.</span></span> <span data-ttu-id="e90d4-203">Esto se hace estableciendo el parámetro **XAudio2Processor** en la llamada a [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) a XAUDIO2 \_ usar el \_ \_ procesador predeterminado.</span><span class="sxs-lookup"><span data-stu-id="e90d4-203">This is done by setting the **XAudio2Processor** parameter in the call to [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) to XAUDIO2\_USE\_DEFAULT\_PROCESSOR.</span></span> 

<span data-ttu-id="e90d4-204">XAudio 2,9 elegirá un núcleo de CPU diferente en la Xbox uno que en PC.</span><span class="sxs-lookup"><span data-stu-id="e90d4-204">XAudio 2.9 will choose a different CPU core on Xbox One than on PC.</span></span> <span data-ttu-id="e90d4-205">El método IXAudio2Extension:: GetProcessor se puede usar para determinar qué núcleo de CPU ha elegido.</span><span class="sxs-lookup"><span data-stu-id="e90d4-205">The IXAudio2Extension::GetProcessor method can be used to determine which CPU core XAudio2 has chosen.</span></span>

### <a name="virtual-audio-endpoint"></a><span data-ttu-id="e90d4-206">Extremo de audio virtual</span><span class="sxs-lookup"><span data-stu-id="e90d4-206">Virtual audio endpoint</span></span>

<span data-ttu-id="e90d4-207">XAudio 2,9 usará un punto de conexión de audio virtual de forma predeterminada cuando se ejecute en Windows 8 o posterior.</span><span class="sxs-lookup"><span data-stu-id="e90d4-207">XAudio 2.9 will use a virtual audio endpoint by default, when running on Windows 8 or later.</span></span> <span data-ttu-id="e90d4-208">Esto significa que si el punto de conexión de audio predeterminado cambia mientras se usa XAudio 2,9, intentará cambiar automáticamente al nuevo punto de conexión de audio.</span><span class="sxs-lookup"><span data-stu-id="e90d4-208">This means that if the default audio endpoint changes while XAudio 2.9 is used, it will attempt to automatically switch to the new audio endpoint.</span></span> <span data-ttu-id="e90d4-209">Un ejemplo de Cuándo esto puede ocurrir cuando el punto de conexión de audio predeterminado es un par de auriculares conectados a través de USB y, a continuación, el usuario desconecta los auriculares.</span><span class="sxs-lookup"><span data-stu-id="e90d4-209">An example of when this can happen when the default audio endpoint is a pair of headphones that are connected over USB, and then the user unplugs the headphones.</span></span> <span data-ttu-id="e90d4-210">Esto hará que los altavoces sean el nuevo punto de conexión de audio predeterminado.</span><span class="sxs-lookup"><span data-stu-id="e90d4-210">This will cause the speakers to be the new default audio endpoint.</span></span>

<span data-ttu-id="e90d4-211">Si la aplicación especifica un formato de audio específico al invocar [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice), es posible que XAudio 2,9 no pueda realizar este modificador.</span><span class="sxs-lookup"><span data-stu-id="e90d4-211">If the app specifies a specific audio format when invoking [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice), it may not be possible for XAudio 2.9 to perform this switch.</span></span> <span data-ttu-id="e90d4-212">Por ejemplo, si la aplicación especificó que la voz de mastering debe usar una velocidad de muestreo de 48 kHz y el dispositivo de audio nuevo solo admite 44,1 kHz, se producirá un error en el conmutador automático y XAudio 2,9 informará del error [ \_ \_ \_ invalidado del dispositivo XAUDIO2 e](xaudio2-error-codes.md) .</span><span class="sxs-lookup"><span data-stu-id="e90d4-212">For example, if the app specified that the Mastering Voice shall use a 48 kHz sampling rate and the new audio device only supports 44.1 kHz, then the automatic switch will fail, and XAudio 2.9 will report the [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md) error.</span></span>

<span data-ttu-id="e90d4-213">Es posible que la aplicación no pueda usar el punto de conexión de audio virtual pasando la marca [**XAUDIO2 \_ no \_ virtual \_ audio \_ Client**](xaudio2-boundary-values-and-flags.md) a [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span><span class="sxs-lookup"><span data-stu-id="e90d4-213">It is possible for the app to opt out of using the virtual audio endpoint by passing in the [**XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT**](xaudio2-boundary-values-and-flags.md) flag to [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span>

<span data-ttu-id="e90d4-214">Los puntos de conexión de audio virtual no están disponibles en Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="e90d4-214">Virtual audio endpoints are not available on Windows 7 SP1.</span></span> <span data-ttu-id="e90d4-215">La marca **XAUDIO2 \_ no \_ virtual \_ audio \_ Client** no tiene ningún efecto en Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="e90d4-215">The **XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT** flag has no effect on Windows 7 SP1.</span></span>

### <a name="audio-categories"></a><span data-ttu-id="e90d4-216">Categorías de audio</span><span class="sxs-lookup"><span data-stu-id="e90d4-216">Audio categories</span></span>

<span data-ttu-id="e90d4-217">La aplicación debe especificar una categoría para su flujo de audio.</span><span class="sxs-lookup"><span data-stu-id="e90d4-217">The app should specify a category for its audio stream.</span></span> <span data-ttu-id="e90d4-218">Esto se hace proporcionando un valor de la enumeración AudioCategory al invocar el método [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) .</span><span class="sxs-lookup"><span data-stu-id="e90d4-218">This is done by providing a value from the AudioCategory enumeration when invoking the [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) method.</span></span> <span data-ttu-id="e90d4-219">Por ejemplo, AudioCategory_GameEffects.</span><span class="sxs-lookup"><span data-stu-id="e90d4-219">For example, AudioCategory_GameEffects.</span></span> <span data-ttu-id="e90d4-220">La categoría audio puede afectar a la forma en que Windows procesa el sonido o cómo representa la secuencia de audio en el panel de control del volumen.</span><span class="sxs-lookup"><span data-stu-id="e90d4-220">The audio category can affect how Windows processes the sound or how it represents the audio stream in the volume control panel.</span></span> <span data-ttu-id="e90d4-221">La categoría audio también afecta a si el [sonido envolvente virtual](#spatial-sound-and-virtual-surround) se habilita automáticamente.</span><span class="sxs-lookup"><span data-stu-id="e90d4-221">The audio category also affects if [virtual surround sound](#spatial-sound-and-virtual-surround) is automatically enabled.</span></span>

### <a name="duration-of-audio-processing-quantum"></a><span data-ttu-id="e90d4-222">Duración del Quantum de procesamiento de audio</span><span class="sxs-lookup"><span data-stu-id="e90d4-222">Duration of audio processing quantum</span></span>

<span data-ttu-id="e90d4-223">En la mayoría de los equipos, XAudio 2,9 procesa el audio en fragmentos de 10 milisegundos.</span><span class="sxs-lookup"><span data-stu-id="e90d4-223">On most PCs, XAudio 2.9 processes audio in 10 millisecond chunks.</span></span> <span data-ttu-id="e90d4-224">Esto se denomina Quantum de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="e90d4-224">This is called the processing quantum.</span></span> <span data-ttu-id="e90d4-225">Sin embargo, la duración de este Quantum puede ser diferente de 10 milisegundos en el hardware.</span><span class="sxs-lookup"><span data-stu-id="e90d4-225">However, the duration of this quantum may be different than 10 milliseconds on some hardware.</span></span> <span data-ttu-id="e90d4-226">Las aplicaciones que necesitan conocer el cuanto exacto pueden invocar el método IXAudio2Extension:: GetProcessingQuantum para recuperar el valor.</span><span class="sxs-lookup"><span data-stu-id="e90d4-226">Apps that need to know the exact quantum can invoke the IXAudio2Extension::GetProcessingQuantum method to retrieve the value.</span></span>

### <a name="spatial-sound-and-virtual-surround"></a><span data-ttu-id="e90d4-227">Sonido espacial y envolvente virtual</span><span class="sxs-lookup"><span data-stu-id="e90d4-227">Spatial sound and virtual surround</span></span>

<span data-ttu-id="e90d4-228">A partir de la actualización 10 1903 de Windows, XAudio 2,9 utiliza automáticamente el sonido envolvente virtual, si se cumplen ciertas condiciones.</span><span class="sxs-lookup"><span data-stu-id="e90d4-228">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses virtual surround sound, if certain conditions are satisfied.</span></span> <span data-ttu-id="e90d4-229">Se recomienda probar el juego que genera sonido multicanal en Windows 10 1903 (o posterior) para comprobar que el juego suena según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="e90d4-229">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span> <span data-ttu-id="e90d4-230">Consulte la sección [prueba del sonido espacial](#spatial-sound-in-newer-versions-of-windows-10) para obtener una explicación sobre cómo probar esta característica.</span><span class="sxs-lookup"><span data-stu-id="e90d4-230">See the [testing spatial sound](#spatial-sound-in-newer-versions-of-windows-10) section for a discussion about how to test this feature.</span></span>

<span data-ttu-id="e90d4-231">Normalmente, XAudio 2,9 realiza un doblado de cualquier audio multicanal para que coincida con el número "físico" de canales de audio admitidos por el punto de conexión de audio.</span><span class="sxs-lookup"><span data-stu-id="e90d4-231">Normally, XAudio 2.9 performs a folds down any multi-channel audio to match the "physical" number of audio channels that are supported by the audio endpoint.</span></span> <span data-ttu-id="e90d4-232">Por ejemplo, si el juego proporciona un origen de audio de canal 7,1, pero el sonido se reproduce en auriculares, XAudio 2,9 repliega el audio de canal 7,1 en estéreo mediante una matriz de subconjuntos estándar del sector.</span><span class="sxs-lookup"><span data-stu-id="e90d4-232">For example, if the game provides a 7.1 channel audio source, but the sound is played on headphones, XAudio 2.9 will fold down the 7.1 channel audio into stereo, using an industry standard fold-down matrix.</span></span> <span data-ttu-id="e90d4-233">Si el equipo está conectado a un punto de conexión de audio HDMI, el audio del canal 7,1 se transmitirá tal cual a través de la conexión HDMI.</span><span class="sxs-lookup"><span data-stu-id="e90d4-233">If the PC is connected to a HDMI audio endpoint, then the 7.1 channel audio will be transmitted as-is over the HDMI connection.</span></span>

<span data-ttu-id="e90d4-234">Windows 10 agrega compatibilidad con el audio espacial mediante un codificador centralizado que codifica el audio en un formato de [sonido espacial](../coreaudio/spatial-sound.md) seleccionado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="e90d4-234">Windows 10 adds support for spatial audio, using a centralized encoder that encodes audio into a user-selected [spatial sound](../coreaudio/spatial-sound.md) format.</span></span> <span data-ttu-id="e90d4-235">Windows 10 incluye un formato de sonido espacial denominado Windows Sonic.</span><span class="sxs-lookup"><span data-stu-id="e90d4-235">Windows 10 comes included with a spatial sound format called Windows Sonic.</span></span> <span data-ttu-id="e90d4-236">Otros formatos, como Dolby Atmos para auriculares, se pueden descargar desde el Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="e90d4-236">Other formats, such as Dolby Atmos for Headphones, can be downloaded from the Microsoft Store.</span></span> <span data-ttu-id="e90d4-237">Algunos de los formatos de sonido espacial, como Windows Sonic y Dolby Atmos para auriculares, están diseñados para usarse en extremos de audio estéreo.</span><span class="sxs-lookup"><span data-stu-id="e90d4-237">Some of the spatial sound formats, such as Windows Sonic and Dolby Atmos for Headphones, are designed to be used on stereo audio endpoints.</span></span> <span data-ttu-id="e90d4-238">Estos formatos repliegan el sonido envolvente en estéreo mediante algoritmos de propiedad que logran un efecto de sonido envolvente "virtual".</span><span class="sxs-lookup"><span data-stu-id="e90d4-238">These formats fold down surround sound to stereo using proprietary algorithms that achieve a "virtual" surround sound effect.</span></span> <span data-ttu-id="e90d4-239">En otras palabras, el agente de escucha puede percibir un sonido que aparece desde diferentes posiciones en el espacio 3D, incluso aunque solo contenga auriculares o mientras escucha en un solo par de altavoces estéreo.</span><span class="sxs-lookup"><span data-stu-id="e90d4-239">In other words, the listener can perceive sound appearing from different positions in 3D space even while only wearing headphones, or while listening on a single pair of stereo speakers.</span></span>

<span data-ttu-id="e90d4-240">Se pueden lograr efectos similares mediante las API de [X3DAudio](x3daudio.md) que se incluyen con XAudio 2,9.</span><span class="sxs-lookup"><span data-stu-id="e90d4-240">Similar effects can be achieved using the [X3DAudio](x3daudio.md) APIs that are included with XAudio 2.9.</span></span> <span data-ttu-id="e90d4-241">La principal diferencia es que X3DAudio requiere que el desarrollador de la aplicación programe explícitamente el audio 3D, mientras que el sonido envolvente virtual se aplica automáticamente a cualquier origen de sonido basado en canal de tradional.</span><span class="sxs-lookup"><span data-stu-id="e90d4-241">The main difference is that X3DAudio requires the app developer to explicitly program for 3D audio, whereas virtual surround sound is applied automatically to any tradional channel-based sound source.</span></span>

<span data-ttu-id="e90d4-242">En Windows 10 1903 y versiones más recientes, los juegos que usan XAudio 2,9 usarán el formato de sonido espacial para todo el sistema que el usuario haya habilitado en el punto de conexión de audio, si existe.</span><span class="sxs-lookup"><span data-stu-id="e90d4-242">On Windows 10 1903, and newer, games that use XAudio 2.9 will use the system-wide spatial sound format that the user has enabled on the audio endpoint, if any.</span></span> <span data-ttu-id="e90d4-243">Esto significa que XAudio 2,9 no realizará el plegado habitual del sonido envolvente en estéreo.</span><span class="sxs-lookup"><span data-stu-id="e90d4-243">This means that XAudio 2.9 will not perform the usual fold-down of surround sound to stereo.</span></span> <span data-ttu-id="e90d4-244">En su lugar, la señal de sonido envolvente se entregará al codificador de sonido espacial (por ejemplo, Windows Sonic) para lograr un efecto de sonido envolvente virtual.</span><span class="sxs-lookup"><span data-stu-id="e90d4-244">Instead, the surround sound signal will be delivered to the spatial sound encoder (e.g., Windows Sonic) to achieve a virtual surround sound effect.</span></span>

### <a name="createhrtfapo"></a><span data-ttu-id="e90d4-245">CreateHrtfApo</span><span class="sxs-lookup"><span data-stu-id="e90d4-245">CreateHrtfApo</span></span>

<span data-ttu-id="e90d4-246">La función [**CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) solo está disponible en Windows 10.</span><span class="sxs-lookup"><span data-stu-id="e90d4-246">The [**CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) function is only available on Windows 10.</span></span> <span data-ttu-id="e90d4-247">No se implementa en XAudio 2,9 Redistributable.</span><span class="sxs-lookup"><span data-stu-id="e90d4-247">It is not implemented in the XAudio 2.9 redistributable.</span></span>
