---
description: Un evento de administración de energía del sistema es un cambio en el estado de la alimentación del sistema, el modo operativo de un dispositivo o el sistema o el valor de una configuración de energía.
ms.assetid: f73b072a-1f69-4e26-9712-dab428edca18
title: Eventos de administración de energía del sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7ab18fad9116cfff9e1cd35703e32a49e3b12c8b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105667195"
---
# <a name="system-power-management-events"></a><span data-ttu-id="8d806-103">Eventos de administración de energía del sistema</span><span class="sxs-lookup"><span data-stu-id="8d806-103">System Power Management Events</span></span>

<span data-ttu-id="8d806-104">Un evento de administración de energía del sistema es un cambio en el estado de la alimentación del sistema, el modo operativo de un dispositivo o el sistema o el valor de una configuración de energía.</span><span class="sxs-lookup"><span data-stu-id="8d806-104">A system power management event is a change in the system power status, the operational mode of a device or the system, or the value of a power setting.</span></span> <span data-ttu-id="8d806-105">Dado que estos eventos pueden afectar al funcionamiento de las aplicaciones y los controladores instalables, el sistema notifica a todas las aplicaciones y controladores instalables mediante la difusión de una notificación para cada evento.</span><span class="sxs-lookup"><span data-stu-id="8d806-105">Because these events can affect the operation of applications and installable drivers, the system notifies all applications and installable drivers by broadcasting a notification for each event.</span></span> <span data-ttu-id="8d806-106">Las aplicaciones y los servicios se registran para las notificaciones mediante la función [**RegisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-registerpowersettingnotification) .</span><span class="sxs-lookup"><span data-stu-id="8d806-106">Applications and services register for notifications by using the [**RegisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-registerpowersettingnotification) function.</span></span> <span data-ttu-id="8d806-107">Las notificaciones se reciben a través del mensaje de [**\_ POWERBROADCAST de WM**](wm-powerbroadcast.md) , que contiene el evento de administración de energía y los datos específicos del evento asociados.</span><span class="sxs-lookup"><span data-stu-id="8d806-107">Notifications are received via the [**WM\_POWERBROADCAST**](wm-powerbroadcast.md) message, which contains the power management event and any associated event-specific data.</span></span>

## <a name="system-power-status-events"></a><span data-ttu-id="8d806-108">Eventos de estado de alimentación del sistema</span><span class="sxs-lookup"><span data-stu-id="8d806-108">System Power Status Events</span></span>

<span data-ttu-id="8d806-109">Un *evento de estado de energía del sistema* se produce cuando hay un cambio en la fuente de alimentación o en el estado de la batería del sistema.</span><span class="sxs-lookup"><span data-stu-id="8d806-109">A *system power status event* occurs when there is a change in the power supply or in the system battery status.</span></span> <span data-ttu-id="8d806-110">Por ejemplo, el sistema difunde un evento [PBT \_ APMPOWERSTATUSCHANGE](pbt-apmpowerstatuschange.md) cada vez que el usuario cambia de la batería a la corriente alterna, o viceversa.</span><span class="sxs-lookup"><span data-stu-id="8d806-110">For example, the system broadcasts a [PBT\_APMPOWERSTATUSCHANGE](pbt-apmpowerstatuschange.md) event whenever the user switches from battery to AC power or vice versa.</span></span> <span data-ttu-id="8d806-111">El sistema difunde también este evento cuando la energía de la batería restante queda por debajo del umbral especificado por el usuario o cuando la energía de la batería cambia en un porcentaje especificado.</span><span class="sxs-lookup"><span data-stu-id="8d806-111">The system also broadcasts this event when remaining battery power slips below the threshold specified by the user or if the battery power changes by a specified percentage.</span></span>

## <a name="operational-mode-events"></a><span data-ttu-id="8d806-112">Eventos de modo operativo</span><span class="sxs-lookup"><span data-stu-id="8d806-112">Operational Mode Events</span></span>

<span data-ttu-id="8d806-113">Un *evento de modo operativo* se produce cuando hay un cambio en el consumo de energía, como el cambio del sistema a un estado de suspensión debido a la inactividad o al usuario que coloca el sistema de forma manual en modo de suspensión.</span><span class="sxs-lookup"><span data-stu-id="8d806-113">An *operational mode event* occurs when there is a change in power consumption, such as the system switching to a sleep state due to inactivity or the user manually putting the system to sleep.</span></span> <span data-ttu-id="8d806-114">El sistema difunde eventos sobre estos cambios antes de que se realice el cambio de consumo de energía.</span><span class="sxs-lookup"><span data-stu-id="8d806-114">The system broadcasts events about these changes before the change in power consumption is made.</span></span> <span data-ttu-id="8d806-115">Por ejemplo, si el sistema determina que está inactivo, difunde un evento [PBT \_ APMSUSPEND](pbt-apmsuspend.md) que notifica a las aplicaciones y los controladores que está a punto de suspender la operación y la suspensión para ahorrar energía.</span><span class="sxs-lookup"><span data-stu-id="8d806-115">For example, if the system determines that it is idle, it broadcasts a [PBT\_APMSUSPEND](pbt-apmsuspend.md) event that notifies applications and drivers that it is about to suspend operation and sleep to conserve power.</span></span> <span data-ttu-id="8d806-116">Las aplicaciones y los controladores se pueden preparar para la suspensión cerrando los archivos y guardando los datos para evitar la posible pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="8d806-116">Applications and drivers can prepare for sleep by closing files and saving data to avoid potential data loss.</span></span>

<span data-ttu-id="8d806-117">Cuando el sistema realiza una *suspensión crítica*, el sistema se pone inmediatamente en suspensión debido a una condición crítica, como una alarma de batería crítica.</span><span class="sxs-lookup"><span data-stu-id="8d806-117">When the system carries out a *critical suspension*, the system is immediately put to sleep due to a critical condition such as a critical battery alarm.</span></span> <span data-ttu-id="8d806-118">A diferencia de una transición de suspensión normal, el sistema no notifica a las aplicaciones y controladores antes de llevar a cabo una suspensión crítica.</span><span class="sxs-lookup"><span data-stu-id="8d806-118">In contrast to a normal sleep transition, the system does not notify applications and drivers before carrying out a critical suspension.</span></span> <span data-ttu-id="8d806-119">Por lo tanto, las aplicaciones deben estar preparadas para controlar las suspensiones críticas.</span><span class="sxs-lookup"><span data-stu-id="8d806-119">Therefore, applications must be prepared to handle critical suspensions.</span></span>

<span data-ttu-id="8d806-120">Cuando se restaura la operación del sistema después de haber sido suspendida, el sistema notifica a todas las aplicaciones y controladores.</span><span class="sxs-lookup"><span data-stu-id="8d806-120">When system operation is restored after having been suspended, the system notifies all applications and drivers.</span></span> <span data-ttu-id="8d806-121">También indica si el sistema se está reanudando a partir de una suspensión crítica, por lo que la aplicación o el controlador pueden tomar los pasos adecuados para restaurar los datos y continuar con la operación.</span><span class="sxs-lookup"><span data-stu-id="8d806-121">It also indicates whether the system is resuming from a critical suspension so the application or driver can take appropriate steps to restore its data and continue operation.</span></span>

<span data-ttu-id="8d806-122">Las aplicaciones deben realizar cada intento de controlar la transición al estado de suspensión sin intervención del usuario, ya que es posible que el usuario no pueda responder.</span><span class="sxs-lookup"><span data-stu-id="8d806-122">Applications should make every attempt to handle the transition to the sleep state without any user intervention because it may not be possible for the user to respond.</span></span> <span data-ttu-id="8d806-123">Por ejemplo, la tapa del equipo portátil puede estar cerrada.</span><span class="sxs-lookup"><span data-stu-id="8d806-123">For example, the lid on the notebook computer may be closed.</span></span> <span data-ttu-id="8d806-124">Cuando una aplicación recibe una notificación de que el sistema está a punto de entrar en modo de suspensión, debe realizar las operaciones necesarias rápidamente y devolver el bucle de mensajes.</span><span class="sxs-lookup"><span data-stu-id="8d806-124">When an application receives notification that the system is about to enter sleep, it should perform any necessary operations quickly and return out of the message loop.</span></span> <span data-ttu-id="8d806-125">El sistema permite un máximo de dos segundos por aplicación al controlar este mensaje antes de que se agote el tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="8d806-125">The system allows for a maximum of two seconds per application when handling this message before timing out.</span></span>

## <a name="power-setting-change-events"></a><span data-ttu-id="8d806-126">Eventos de cambio de configuración de energía</span><span class="sxs-lookup"><span data-stu-id="8d806-126">Power Setting Change Events</span></span>

<span data-ttu-id="8d806-127">Un evento de cambio de configuración de energía se produce cuando hay un cambio en el valor de una configuración de energía.</span><span class="sxs-lookup"><span data-stu-id="8d806-127">A power setting change event occurs when there is a change in the value of a power setting.</span></span> <span data-ttu-id="8d806-128">Por ejemplo, el usuario cambia el plan de energía de alto rendimiento a equilibrado en la aplicación opciones de energía del panel de control.</span><span class="sxs-lookup"><span data-stu-id="8d806-128">For example, the user changes the power plan from High Performance to Balanced in the Power Options application in Control Panel.</span></span> <span data-ttu-id="8d806-129">En este caso, el sistema difundiría un evento que indica que el plan de energía ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="8d806-129">In this case, the system would broadcast an event that indicates that the power plan has changed.</span></span> <span data-ttu-id="8d806-130">Este evento incluye el nuevo valor de la configuración de energía.</span><span class="sxs-lookup"><span data-stu-id="8d806-130">This event includes the new value for the power setting.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8d806-131">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="8d806-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8d806-132">Acerca de la administración de energía</span><span class="sxs-lookup"><span data-stu-id="8d806-132">About Power Management</span></span>](about-power-management.md)
</dt> </dl>

 

 



