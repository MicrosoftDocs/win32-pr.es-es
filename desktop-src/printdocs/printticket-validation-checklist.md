---
description: Este tema no está actualizado. Para obtener la información más reciente, consulte la especificación del esquema de impresión.
ms.assetid: 4698f151-2237-4d16-b32f-4d15024cd063
title: Lista de comprobación de validación de PrintTicket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 160a0e9f3eb71b1e9a3b670456e04e2efa3c8b15
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/05/2021
ms.locfileid: "105717418"
---
# <a name="printticket-validation-checklist"></a><span data-ttu-id="ee96e-104">Lista de comprobación de validación de PrintTicket</span><span class="sxs-lookup"><span data-stu-id="ee96e-104">PrintTicket Validation Checklist</span></span>

<span data-ttu-id="ee96e-105">Este tema no está actualizado.</span><span class="sxs-lookup"><span data-stu-id="ee96e-105">This topic is not current.</span></span> <span data-ttu-id="ee96e-106">Para obtener la información más reciente, consulte la [especificación del esquema de impresión](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="ee96e-106">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="ee96e-107">Los proveedores de PrintTicket deben validar el objeto PrintTicket antes de usarlo con cualquier fin.</span><span class="sxs-lookup"><span data-stu-id="ee96e-107">PrintTicket providers must validate the PrintTicket prior to using it for any purpose.</span></span> <span data-ttu-id="ee96e-108">Una vez validado el PrintTicket, se puede devolver al cliente o se puede descartar después del uso.</span><span class="sxs-lookup"><span data-stu-id="ee96e-108">After the PrintTicket is validated, it may be returned to the client, or it may be discarded after use.</span></span> <span data-ttu-id="ee96e-109">Esta lista de comprobación cubre las tareas que el proveedor debe realizar durante la validación.</span><span class="sxs-lookup"><span data-stu-id="ee96e-109">This checklist covers the tasks the provider must perform during validation.</span></span> <span data-ttu-id="ee96e-110">El proceso de validación modificará con frecuencia el contenido del PrintTicket, aunque no modificará un PrintTicket validado previamente.</span><span class="sxs-lookup"><span data-stu-id="ee96e-110">The validation process will frequently alter the content of the PrintTicket, although it will not alter a previously-validated PrintTicket.</span></span>

<span data-ttu-id="ee96e-111">La validación siempre se realiza en un dispositivo específico que tiene un conjunto de instancias de Feature, Option y ParameterDef definidas en un documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-111">Validation is always performed against a specific device that has a set of Feature, Option and ParameterDef instances defined in a PrintCapabilities document.</span></span> <span data-ttu-id="ee96e-112">El código de validación debe tener acceso al conjunto de instancias de características (y a las instancias de las opciones contenidas) e instancias de ParameterDef para el dispositivo específico, y no debe tener acceso a la PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-112">The validation code should have access to the set of Feature instances (and the contained Option instances) and ParameterDef instances for the specific device, and should not need to access the PrintCapabilities.</span></span> <span data-ttu-id="ee96e-113">La información de las instancias de Feature, Option y ParameterDef es necesaria en determinadas partes del proceso de validación.</span><span class="sxs-lookup"><span data-stu-id="ee96e-113">The information from the Feature, Option, and ParameterDef instances is needed in certain parts of the validation process.</span></span>

1.  <span data-ttu-id="ee96e-114">Durante los intentos de buscar elementos correspondientes o coincidentes, tenga en cuenta que los espacios de nombres de los elementos deben coincidir antes de que cualquier nombre completo pueda considerarse una coincidencia.</span><span class="sxs-lookup"><span data-stu-id="ee96e-114">During attempts to locate corresponding or matching elements, note that the namespaces of the elements must match before any Qualified Name can be considered a match.</span></span> <span data-ttu-id="ee96e-115">Todos los nombres de elemento, nombres de atributo y nombres de instancia están calificados con el espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="ee96e-115">All element names, Attribute names, and instance names are namespace-qualified.</span></span> <span data-ttu-id="ee96e-116">En el caso de los elementos que están anidados, sus ubicaciones deben coincidir antes de que los elementos se consideren una coincidencia.</span><span class="sxs-lookup"><span data-stu-id="ee96e-116">For elements that are nested, their locations must match before the elements are considered a match.</span></span>

2.  <span data-ttu-id="ee96e-117">Compruebe que todas las etiquetas de elemento están en el espacio de nombres público, que están definidas por el esquema PrintTicket, contienen los atributos XML y los valores de atributo adecuados, y que la ubicación de cada tipo de elemento cumple el uso definido por el esquema PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-117">Verify that all element tags are in the public namespace, are defined by the PrintTicket Schema, contain the proper XML Attributes and Attribute Values, and that the location of each element type conforms to the PrintTicket Schema-defined usage.</span></span>

3.  <span data-ttu-id="ee96e-118">Determinar todos los espacios de nombres informados por el documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-118">Determine all namespaces reported by PrintCapabilities document.</span></span> <span data-ttu-id="ee96e-119">Quite todos los elementos (y sus descendientes) del PrintTicket cuyos nombres de instancia pertenezcan a los espacios de nombres no comunicados por el documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-119">Remove all elements (and their descendants) from the PrintTicket whose instance names belong to namespaces not reported by PrintCapabilities document.</span></span> <span data-ttu-id="ee96e-120">Observe la diferencia entre este caso y el siguiente, que incluye nombres de instancia no reconocidos dentro de un espacio de nombres conocido.</span><span class="sxs-lookup"><span data-stu-id="ee96e-120">Note the difference between this case and the following case, which involves unrecognized instance names within a known namespace.</span></span>

4.  <span data-ttu-id="ee96e-121">Debido al hecho de que los esquemas se amplían continuamente con la adición de nuevas definiciones de instancia de elemento, el código de validación no debe escribirse bajo la suposición de que se conoce cada nombre de instancia en un espacio de nombres determinado.</span><span class="sxs-lookup"><span data-stu-id="ee96e-121">Due to the fact that the schemas are continually being extended with the addition of new element instance definitions, the validation code should not be written under the assumption that every instance name in a given namespace is known.</span></span> <span data-ttu-id="ee96e-122">El código de validación no puede tratar nombres de instancia no reconocidos en un espacio de nombres conocido como errores, ni puede eliminarlos del PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-122">The validation code cannot treat unrecognized instance names within a known namespace as errors, nor can it delete them from the PrintTicket.</span></span>

5.  <span data-ttu-id="ee96e-123">Si alguna instancia de elemento tiene un elemento relacionado duplicado no permitido por el esquema PrintTicket, mantenga solo la primera aparición y elimine los duplicados, incluido el contenido del elemento duplicado.</span><span class="sxs-lookup"><span data-stu-id="ee96e-123">If any element instance has a duplicate sibling that is not permitted by the PrintTicket Schema, keep only the first occurrence and delete the duplicates, including the contents of the duplicated element.</span></span>

6.  <span data-ttu-id="ee96e-124">Quite de la característica o subcaracterística de PrintTicket (y de todos sus elementos secundarios) que no tenga ninguna característica correspondiente en el documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-124">Remove from the PrintTicket any Feature or subfeature (and all its children) that has no corresponding Feature in the PrintCapabilities document.</span></span>

7.  <span data-ttu-id="ee96e-125">Compruebe la propiedad SelectionType definida en el documento PrintCapabilities para cada una de las instancias de características restantes en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-125">Check the SelectionType Property defined in the PrintCapabilities document for each of the remaining Feature instances in the PrintTicket.</span></span> <span data-ttu-id="ee96e-126">Cualquier característica cuya propiedad SelectionType esté establecida en PickOne debe tener exactamente una instancia de opción presente en el PrintTicket, mientras que una característica cuya propiedad SelectionType es PickMany puede tener más de una.</span><span class="sxs-lookup"><span data-stu-id="ee96e-126">Any Feature whose SelectionType Property is set to PickOne must have exactly one Option instance present in the PrintTicket, while a Feature whose SelectionType Property is PickMany may have more than one.</span></span> <span data-ttu-id="ee96e-127">Si una característica de PrintTicket no tiene ninguna instancia de opción, proporcione la instancia de la opción predeterminada.</span><span class="sxs-lookup"><span data-stu-id="ee96e-127">If a PrintTicket Feature has no Option instance, supply the default Option instance.</span></span> <span data-ttu-id="ee96e-128">Como es el proveedor, sabe qué opción es la opción predeterminada para cada característica.</span><span class="sxs-lookup"><span data-stu-id="ee96e-128">Since you are the provider, you know which Option is the default Option for every Feature.</span></span>

    <span data-ttu-id="ee96e-129">En el caso de una característica cuya propiedad SelectionType es PickMany, con más de una opción seleccionada en el PrintTicket, compruebe que ninguna opción está designada como IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="ee96e-129">For a Feature whose SelectionType Property is PickMany, with more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="ee96e-130">En caso de que haya, elimine todas las demás opciones, y solo la IdentityOption designada.</span><span class="sxs-lookup"><span data-stu-id="ee96e-130">If there is, delete every other Option, leaving only the one designated IdentityOption.</span></span>

8.  <span data-ttu-id="ee96e-131">Quite cualquier instancia de ParameterInit del PrintTicket que no tenga ninguna instancia de ParameterDef correspondiente en el documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-131">Remove any ParameterInit instance in the PrintTicket that has no corresponding ParameterDef instance in the PrintCapabilities document.</span></span>

    <span data-ttu-id="ee96e-132">Para cualquier otra instancia de ParameterInit del PrintTicket, compruebe que el valor de cada se ajusta a la instancia de ParameterDef del documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-132">For any other ParameterInit instances in the PrintTicket, verify that the Value for each conforms to the PrintCapabilities document's ParameterDef instance.</span></span> <span data-ttu-id="ee96e-133">Si falta un valor, proporcione el valor predeterminado que se proporciona en ParameterDef.</span><span class="sxs-lookup"><span data-stu-id="ee96e-133">If a Value is missing, supply the default that is provided in the ParameterDef.</span></span>

9.  <span data-ttu-id="ee96e-134">Empareje cada instancia de opción en el PrintTicket con una opción que se muestra en la característica correspondiente del documento de PrintCapabilities, en función de los resultados del proceso de puntuación.</span><span class="sxs-lookup"><span data-stu-id="ee96e-134">Pair each Option instance in the PrintTicket with an Option listed in the corresponding Feature in the PrintCapabilities document, based on the results of the scoring process.</span></span> <span data-ttu-id="ee96e-135">La puntuación es el proceso de encontrar la opción en el documento de PrintCapabilities que mejor coincida con la opción indicada en el PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-135">Scoring is the process of finding the Option in the PrintCapabilities document that best matches the Option named in the PrintTicket.</span></span> <span data-ttu-id="ee96e-136">Para obtener una descripción de lo que se tiene en cuenta durante el proceso de puntuación, vea [definiciones de opciones](option-definitions.md).</span><span class="sxs-lookup"><span data-stu-id="ee96e-136">For a description of what is taken into account during the scoring process, see [Option Definitions](option-definitions.md).</span></span> <span data-ttu-id="ee96e-137">Reemplace cada opción de referencia en el PrintTicket por la opción correspondiente del documento de PrintCapabilities de candidato mejor coincidente.</span><span class="sxs-lookup"><span data-stu-id="ee96e-137">Replace each reference Option in the PrintTicket by the corresponding best matching candidate PrintCapabilities document Option.</span></span> <span data-ttu-id="ee96e-138">También puede clasificar todos los candidatos por puntuación y pasar esta información a la fase de resolución en caso de que se produzca un conflicto de restricción que evite que se utilice el mejor candidato coincidente.</span><span class="sxs-lookup"><span data-stu-id="ee96e-138">You may also rank all of the candidates by score and pass this information on to the resolving stage in case a constraint conflict prevents the best matching candidate from being used.</span></span> <span data-ttu-id="ee96e-139">En tales casos, el proceso de resolución puede usar el segundo candidato mejor en lugar de elegir otro candidato de forma aleatoria.</span><span class="sxs-lookup"><span data-stu-id="ee96e-139">In such cases, the resolving process can use the second-best candidate rather than pick another candidate at random.</span></span>

10. <span data-ttu-id="ee96e-140">En el caso de una característica cuya propiedad SelectionType esté establecida en PickMany y que tenga más de una opción seleccionada en el PrintTicket, compruebe que ninguna opción está designada como IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="ee96e-140">For a Feature whose SelectionType Property is set to PickMany, and that has more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="ee96e-141">Si existe una opción de este tipo, elimine todas las demás opciones, dejándoa solo la IdentityOption designada.</span><span class="sxs-lookup"><span data-stu-id="ee96e-141">If such an Option exists, delete every other Option, leaving only the one designated IdentityOption.</span></span> <span data-ttu-id="ee96e-142">Este paso debe realizarse antes y después de aplicar el proceso de puntuación.</span><span class="sxs-lookup"><span data-stu-id="ee96e-142">This step must be performed before and after the scoring process is applied.</span></span>

    <span data-ttu-id="ee96e-143">La razón por la que este paso debe realizarse dos veces es que es posible que el proceso de puntuación asigne varias instancias de opción de referencia a la misma opción candidata.</span><span class="sxs-lookup"><span data-stu-id="ee96e-143">The reason that this step must be performed twice is that it is possible for the scoring process to map multiple reference Option instances to the same candidate Option.</span></span> <span data-ttu-id="ee96e-144">Si esto ocurre, elimine las instancias de opción duplicadas para que las opciones enumeradas para una determinada característica de PickMany sean únicas.</span><span class="sxs-lookup"><span data-stu-id="ee96e-144">If that happens, delete any duplicate Option instances so that the Options listed for a particular PickMany Feature are unique.</span></span>

11. <span data-ttu-id="ee96e-145">Agregue al PrintTicket cualquier característica presente en el documento de PrintCapabilities que no aparezca en el PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-145">Add to the PrintTicket any Feature present in the PrintCapabilities document that does not appear in the PrintTicket.</span></span> <span data-ttu-id="ee96e-146">Para esta característica, designe la opción predeterminada como la opción seleccionada.</span><span class="sxs-lookup"><span data-stu-id="ee96e-146">For such a Feature, designate the default Option as the selected Option.</span></span>

12. <span data-ttu-id="ee96e-147">Determine si hay instancias de ParameterDef que cumplan todos los criterios siguientes:</span><span class="sxs-lookup"><span data-stu-id="ee96e-147">Determine whether there are any ParameterDef instances that meet all of the following criteria:</span></span>

    -   <span data-ttu-id="ee96e-148">La instancia de ParameterDef aparece en el documento de PrintCapabilities, pero no en el PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-148">The ParameterDef instance appears in the PrintCapabilities document, but not in the PrintTicket.</span></span>

    -   <span data-ttu-id="ee96e-149">La propiedad obligatoria de la instancia de ParameterDef se establece en incondicional o en condicional.</span><span class="sxs-lookup"><span data-stu-id="ee96e-149">The Mandatory Property of the ParameterDef instance is set to either Unconditional or Conditional.</span></span>

    -   <span data-ttu-id="ee96e-150">Se hace referencia a la instancia de ParameterDef mediante una instancia de ParameterRef en el PrintTicket dentro de una instancia de la opción.</span><span class="sxs-lookup"><span data-stu-id="ee96e-150">The ParameterDef instance is referenced by a ParameterRef instance in the PrintTicket within an Option instance.</span></span>

    <span data-ttu-id="ee96e-151">Para cada instancia de ParameterDef del documento PrintCapabilities, agregue al PrintTicket una instancia ParameterInit correspondiente.</span><span class="sxs-lookup"><span data-stu-id="ee96e-151">For each such ParameterDef instance in the PrintCapabilities document, add to the PrintTicket a corresponding ParameterInit instance.</span></span> <span data-ttu-id="ee96e-152">Establezca el valor de las instancias de ParameterInit recién agregadas en el valor predeterminado especificado por las instancias de ParameterDef correspondientes.</span><span class="sxs-lookup"><span data-stu-id="ee96e-152">Set the Value of the newly added ParameterInit instances to the default Value specified by the corresponding ParameterDef instances.</span></span>

13. <span data-ttu-id="ee96e-153">Realice la detección de conflictos de restricciones y modifique la configuración para eliminar estos conflictos.</span><span class="sxs-lookup"><span data-stu-id="ee96e-153">Perform constraint conflict detection and modify the configuration to eliminate any such conflicts.</span></span> <span data-ttu-id="ee96e-154">En este tema no se define un proceso concreto que se utiliza para resolver conflictos de restricción.</span><span class="sxs-lookup"><span data-stu-id="ee96e-154">This topic does not define a particular process to use to resolve constraint conflicts.</span></span> <span data-ttu-id="ee96e-155">Debe decidir qué característica o instancia de ParameterInit se puede cambiar y una opción o valor adecuado, respectivamente, para seleccionar que tenga el menor impacto en el intento general de la configuración especificada en el PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-155">You need to decide which Feature or ParameterInit instance can be changed, and an appropriate Option or Value, respectively, to select that has the least impact on the overall intent of the configuration specified in the PrintTicket.</span></span> <span data-ttu-id="ee96e-156">Como se mencionó anteriormente, puede que desee usar la puntuación de asignación de cada opción y usar la opción con la segunda puntuación más alta.</span><span class="sxs-lookup"><span data-stu-id="ee96e-156">As mentioned earlier, you might wish to make use of the mapping score of each Option, and use the Option with the second highest score.</span></span> <span data-ttu-id="ee96e-157">Para determinar qué característica o ParameterInit cambiar, puede que desee definir una propiedad privada que el cliente pueda agregar al PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-157">To determine which Feature or ParameterInit to change, you might want to define a private Property that the client can add to the PrintTicket.</span></span> <span data-ttu-id="ee96e-158">Esta propiedad puede definir una prioridad para las instancias de Feature y ParameterInit, de modo que el proceso de resolución esté informado de qué instancias de características o ParameterInit son importantes para el cliente (y deben conservarse en el PrintTicket) y cuáles son menos importantes.</span><span class="sxs-lookup"><span data-stu-id="ee96e-158">This Property can define a priority for Feature and ParameterInit instances so that the resolver process is informed of which Feature or ParameterInit instances are important to the client (and need to be preserved in the PrintTicket), and which are less important.</span></span>

14. <span data-ttu-id="ee96e-159">Si el proceso de resolución de restricciones ha provocado cambios en el PrintTicket en cualquier instancia de ParameterRef para la que la propiedad Mandatory esté establecida en Conditional, agregue instancias de ParameterInit con valores predeterminados para los que ahora aparecen y quite cualquier instancia de ParameterInit para una instancia de ParameterRef que ya no aparezca.</span><span class="sxs-lookup"><span data-stu-id="ee96e-159">If the constraint resolution process has caused changes in the PrintTicket to any ParameterRef instances for which the Mandatory Property is set to Conditional, add ParameterInit instances with default Values for those that now appear, and remove any ParameterInit instance for a ParameterRef instance that no longer appears.</span></span>

15. <span data-ttu-id="ee96e-160">Quite todas las instancias de propiedad y su contenido que aparecen dentro de las instancias de opción en el PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-160">Remove all Property instances and their contents that appear within Option instances in the PrintTicket.</span></span> <span data-ttu-id="ee96e-161">Los elementos de propiedad no tienen ningún rol en el PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ee96e-161">Property elements have no role in the PrintTicket.</span></span> <span data-ttu-id="ee96e-162">Si la opción validada para una característica determinada coincide perfectamente con la opción prevalidada, transfiera todas las instancias de propiedad de esa opción desde el PrintTicket de prevalidación al PrintTicket validado ahora, en función de la condición en la que se registran los espacios de nombres de las instancias de propiedad en el documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="ee96e-162">If the validated Option for a particular Feature perfectly matches the prevalidated Option, transfer all of the Property instances in that Option from the prevalidation PrintTicket to the now-validated PrintTicket, subject to the condition that namespaces of Property instances are registered in the PrintCapabilities document.</span></span> <span data-ttu-id="ee96e-163">Tenga en cuenta que para que dos instancias de opciones se consideren una coincidencia perfecta, para cada ScoredProperty que se encuentre en una opción, debe haber un ScoredProperty correspondiente en la otra opción y los valores de ambas instancias de ScoredProperty deben ser iguales.</span><span class="sxs-lookup"><span data-stu-id="ee96e-163">Note that for two Option instances to be considered a perfect match, for every ScoredProperty found in one Option, there must be a corresponding ScoredProperty in the other Option, and the Values of both ScoredProperty instances must be the same.</span></span>

16. <span data-ttu-id="ee96e-164">Si el proveedor de PrintTicket reconoce y admite cualquier instancia de propiedad pública o privada que haya sobrevivido a este punto, realice la validación en ellos.</span><span class="sxs-lookup"><span data-stu-id="ee96e-164">If your PrintTicket provider recognizes and supports any private or public Property instances that have survived to this point, perform validation on them.</span></span> <span data-ttu-id="ee96e-165">No elimine una propiedad en este momento, ya que no la reconoce, podría estar pensada para otra fase de procesamiento de documentos.</span><span class="sxs-lookup"><span data-stu-id="ee96e-165">Do not delete a Property at this point just because you do not recognize it, it might be intended for another phase of document processing.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ee96e-166">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ee96e-166">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ee96e-167">Especificación del esquema de impresión</span><span class="sxs-lookup"><span data-stu-id="ee96e-167">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



