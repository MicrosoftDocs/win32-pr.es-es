---
description: Windows Installer cumple con el control de cuentas de usuario (UAC) en Windows Vista.
ms.assetid: 13955ded-6b7f-475f-bb0f-6530a0b4963f
title: Uso de Windows Installer con UAC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 77a05dcd2fb33eff24fb17702af1cb306f81002d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104155113"
---
# <a name="using-windows-installer-with-uac"></a><span data-ttu-id="42bd0-103">Uso de Windows Installer con UAC</span><span class="sxs-lookup"><span data-stu-id="42bd0-103">Using Windows Installer with UAC</span></span>

<span data-ttu-id="42bd0-104">Windows Installer cumple con el [*control de cuentas de usuario*](u-gly.md) (UAC) en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="42bd0-104">Windows Installer complies with [*User Account Control*](u-gly.md) (UAC) in Windows Vista.</span></span> <span data-ttu-id="42bd0-105">Con la autorización de un administrador, el Windows Installer puede instalar aplicaciones o revisiones en nombre de un usuario que no sea miembro del grupo administradores.</span><span class="sxs-lookup"><span data-stu-id="42bd0-105">With authorization from an administrator, the Windows Installer can install applications or patches on behalf of a user that may not be a member of the Administrators group.</span></span> <span data-ttu-id="42bd0-106">Esto se conoce como una instalación con [*privilegios elevados*](e-gly.md) porque el Windows Installer realiza cambios en el sistema en nombre del usuario que normalmente no se permitiría si el usuario realizara los cambios directamente.</span><span class="sxs-lookup"><span data-stu-id="42bd0-106">This is referred to as an [*elevated*](e-gly.md) installation because the Windows Installer makes changes to the system on behalf of the user that would not normally be allowed if the user were making the changes directly.</span></span>

-   <span data-ttu-id="42bd0-107">Cuando se usa Windows Vista en un entorno corporativo, las aplicaciones se pueden designar como aplicaciones administradas.</span><span class="sxs-lookup"><span data-stu-id="42bd0-107">When using Windows Vista in a corporate environment, applications can be designated as managed applications.</span></span> <span data-ttu-id="42bd0-108">Mediante la implementación de la aplicación y el [Directiva de grupo](/previous-versions/windows/desktop/Policy/group-policy-start-page), los administradores pueden bloquear directorios y, a continuación, asignar o publicar las aplicaciones administradas en esos directorios a [*los usuarios estándar*](s-gly.md) para su instalación, reparación o eliminación.</span><span class="sxs-lookup"><span data-stu-id="42bd0-108">Using application deployment and [Group Policy](/previous-versions/windows/desktop/Policy/group-policy-start-page), administrators can lockdown directories and then assign or publish the managed applications in those directories to [*standard users*](s-gly.md) for install, repair, or removal.</span></span> <span data-ttu-id="42bd0-109">Las aplicaciones administradas se registran en el subárbol del registro **HKEY \_ local \_ Machine** .</span><span class="sxs-lookup"><span data-stu-id="42bd0-109">Managed applications are registered in the **HKEY\_LOCAL\_MACHINE** registry hive.</span></span> <span data-ttu-id="42bd0-110">Una vez que se ha registrado una aplicación como una aplicación administrada, las operaciones de instalación posteriores siempre se ejecutan con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="42bd0-110">Once an application has been registered as a managed application, subsequent installation operations always run with elevated privileges.</span></span> <span data-ttu-id="42bd0-111">Si el usuario se ejecuta como administrador, no se requiere ninguna solicitud para continuar con la instalación.</span><span class="sxs-lookup"><span data-stu-id="42bd0-111">If the user is running as an administrator, no prompting is required to continue the installation.</span></span> <span data-ttu-id="42bd0-112">Si el usuario se ejecuta como un usuario estándar y la aplicación ya se ha asignado o publicado, la instalación de la aplicación administrada puede continuar sin preguntar.</span><span class="sxs-lookup"><span data-stu-id="42bd0-112">If the user is running as a standard user, and the application has already been assigned or published, the installation of the managed application can continue without prompting.</span></span>
-   <span data-ttu-id="42bd0-113">Al usar Windows Vista en un entorno no corporativo, UAC controla la elevación de la instalación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="42bd0-113">When using Windows Vista in a non-corporate environment, UAC handles the elevation of application installation.</span></span> <span data-ttu-id="42bd0-114">Windows Installer 4,0 puede llamar al [*servicio de información*](a-gly.md) de la aplicación (AIS) para solicitar la autorización del administrador para elevar una instalación.</span><span class="sxs-lookup"><span data-stu-id="42bd0-114">Windows Installer 4.0 can call to the [*Application Information Service*](a-gly.md) (AIS) to request administrator authorization to elevate an installation.</span></span> <span data-ttu-id="42bd0-115">Antes de que se pueda ejecutar una instalación identificada como que requiere privilegios de administrador, UAC solicita al usuario que dé su consentimiento para elevar la instalación.</span><span class="sxs-lookup"><span data-stu-id="42bd0-115">Before an installation identified as requiring administrator privileges can be run, UAC prompts the user for consent to elevate the installation.</span></span> <span data-ttu-id="42bd0-116">La solicitud de consentimiento se muestra de forma predeterminada, incluso si el usuario es miembro del grupo local de administradores, ya que los administradores ejecutan como usuarios estándar hasta que una aplicación o un componente del sistema que requiere credenciales administrativas solicita permiso para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="42bd0-116">The consent prompt is displayed by default, even if the user is a member of the local Administrators group, because administrators run as standard users until an application or system component that requires administrative credential requests permission to run.</span></span> <span data-ttu-id="42bd0-117">Esta experiencia de usuario se denomina [*modo de aprobación de administrador*](a-gly.md) (AAM).</span><span class="sxs-lookup"><span data-stu-id="42bd0-117">This user experience is called [*Admin Approval Mode*](a-gly.md) (AAM).</span></span> <span data-ttu-id="42bd0-118">Si un usuario estándar intenta instalar la aplicación, el usuario tiene que obtener privilegios de administrador para proporcionarle sus credenciales de administrador para continuar con la instalación.</span><span class="sxs-lookup"><span data-stu-id="42bd0-118">If a standard user attempts to install the application, the user has to get a person with administrator privilege to provide them their administrator credentials to continue the installation.</span></span> <span data-ttu-id="42bd0-119">Esta experiencia de usuario se denomina [*a través de la petición de credenciales de hombro*](o-gly.md) (OTS).</span><span class="sxs-lookup"><span data-stu-id="42bd0-119">This user experience is called an [*Over the Shoulder*](o-gly.md) (OTS) credential prompt.</span></span>
-   <span data-ttu-id="42bd0-120">Dado que UAC restringe los privilegios durante las fases de una instalación, los desarrolladores de Windows Installer paquetes no deben suponer que su instalación siempre tendrá acceso a todas las partes del sistema.</span><span class="sxs-lookup"><span data-stu-id="42bd0-120">Because UAC restricts privileges during the stages of an installation, developers of Windows Installer packages should not assume that their installation will always have access to all parts of the system.</span></span> <span data-ttu-id="42bd0-121">Por lo tanto, los desarrolladores de paquetes de Windows Installer deben cumplir las directrices de los paquetes que se describen en las [instrucciones para asegurarse de](guidelines-for-packages.md) que su paquete funciona con UAC y Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="42bd0-121">Windows Installer package developers should therefore adhere to the package guidelines described in [Guidelines for Packages](guidelines-for-packages.md) to ensure their package works with UAC and Windows Vista.</span></span> <span data-ttu-id="42bd0-122">Un paquete que se ha creado y probado para cumplir con UAC debe contener la propiedad [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) establecida en 1.</span><span class="sxs-lookup"><span data-stu-id="42bd0-122">A package that has been authored and tested to comply with UAC should contain the [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) property set to 1.</span></span>
-   <span data-ttu-id="42bd0-123">Un administrador también puede usar los métodos descritos en la sección: [instalar un paquete con privilegios elevados para un usuario que no sea](installing-a-package-with-elevated-privileges-for-a-non-admin.md) de administrador para permitir a un usuario que no sea administrador instalar una aplicación con privilegios del sistema elevados.</span><span class="sxs-lookup"><span data-stu-id="42bd0-123">An administrator can also use the methods described in the section: [Installing a Package with Elevated Privileges for a Non-Admin](installing-a-package-with-elevated-privileges-for-a-non-admin.md) to enable a non-administrator user to install an application with elevated system privileges.</span></span>
-   <span data-ttu-id="42bd0-124">Los privilegios son necesarios para instalar una aplicación en el contexto administrado por el usuario y, Windows Installer por lo tanto, las reinstalaciones o reparaciones de la aplicación también se realizan mediante el instalador con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="42bd0-124">Privileges are required to install an application in the per-user-managed context, and therefore subsequent Windows Installer reinstallations or repairs of the application are also performed by the installer using elevated privileges.</span></span> <span data-ttu-id="42bd0-125">Esto significa que solo se pueden aplicar revisiones de orígenes de confianza a una aplicación en el estado administrado por usuario.</span><span class="sxs-lookup"><span data-stu-id="42bd0-125">This means that only patches from trusted sources can be applied to an application in the per-user-managed state.</span></span> <span data-ttu-id="42bd0-126">A partir de Windows Installer 3,0, puede aplicar una revisión a una aplicación administrada por usuario después de haber registrado la revisión como con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="42bd0-126">Beginning with Windows Installer 3.0, you can apply a patch to a per-user managed application after the patch has been registered as having elevated privileges.</span></span> <span data-ttu-id="42bd0-127">Para obtener información, consulte [aplicación de revisiones Per-User aplicaciones administradas](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="42bd0-127">For information see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span>

> [!Note]  
> <span data-ttu-id="42bd0-128">Cuando no se necesitan privilegios elevados para instalar un paquete de Windows Installer, el autor del paquete puede suprimir el cuadro de diálogo que UAC muestra para solicitar autorización de administrador al usuario.</span><span class="sxs-lookup"><span data-stu-id="42bd0-128">When elevated privileges are not required to install a Windows Installer package, the author of the package can suppress the dialog box that UAC displays to prompt users for administrator authorization.</span></span> <span data-ttu-id="42bd0-129">Para obtener más información, vea [crear paquetes sin el cuadro de diálogo de UAC](authoring-packages-without-the-uac-dialog-box.md).</span><span class="sxs-lookup"><span data-stu-id="42bd0-129">For more information, see [Authoring Packages without the UAC Dialog Box](authoring-packages-without-the-uac-dialog-box.md).</span></span>

 

 

 
