---
description: Supongamos, por ejemplo, que la aplicación llama a la función lineConfigDialog de TAPI, que está diseñada para abrir un cuadro de diálogo con el fin de permitir la configuración de las opciones del proveedor de servicios relacionadas con el dispositivo de línea especificado.
ms.assetid: a388d192-a327-4e67-968b-344d80c19fb1
title: Funciones diseñadas para generar la interfaz de usuario
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa360effd2a1504d2325be2131c430664f1e7a5c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104001155"
---
# <a name="functions-designed-to-generate-ui"></a><span data-ttu-id="049b7-103">Funciones diseñadas para generar la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="049b7-103">Functions Designed to Generate UI</span></span>

<span data-ttu-id="049b7-104">Supongamos, por ejemplo, que la aplicación llama a la función [**lineConfigDialog**](/windows/win32/api/tapi/nf-tapi-lineconfigdialog) de TAPI, que está diseñada para abrir un cuadro de diálogo con el fin de permitir la configuración de las opciones del proveedor de servicios relacionadas con el dispositivo de línea especificado.</span><span class="sxs-lookup"><span data-stu-id="049b7-104">Assume for the purposes of an example that the application calls the TAPI [**lineConfigDialog**](/windows/win32/api/tapi/nf-tapi-lineconfigdialog) function, which is designed to open a dialog box to allow configuration of service provider options related to the specified line device.</span></span> <span data-ttu-id="049b7-105">En respuesta a esta llamada, TAPI solicita a TAPISRV que llame a [**TSPI \_ providerUIIdentify**](/windows/win32/api/tspi/nf-tspi-tspi_provideruiidentify) en el proveedor de servicios de telefonía, obteniendo el nombre del archivo dll de la interfaz de usuario de TSP.</span><span class="sxs-lookup"><span data-stu-id="049b7-105">In response to this call, TAPI requests TAPISRV to call [**TSPI\_providerUIIdentify**](/windows/win32/api/tspi/nf-tspi-tspi_provideruiidentify) in the telephony service provider, obtaining the name of the TSP UI DLL.</span></span>

<span data-ttu-id="049b7-106">En el contexto de la aplicación, TAPI carga el archivo DLL de la interfaz de usuario de TSP y llama a la función [**\_ LineConfigDialog de TUISPI**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog) con los parámetros proporcionados por la aplicación, e incluye un puntero a la función [*DllCallbackProc*](/windows/win32/api/tspi/nc-tspi-tuispidllcallback) de TAPI.</span><span class="sxs-lookup"><span data-stu-id="049b7-106">In the application's context, TAPI loads the TSP UI DLL and calls the [**TUISPI\_lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog) function with the parameters supplied by the application, and including a pointer to the TAPI [*DllCallbackProc*](/windows/win32/api/tspi/nc-tspi-tuispidllcallback) function.</span></span> <span data-ttu-id="049b7-107">El archivo DLL de la interfaz de usuario de TSP muestra el cuadro de diálogo Configuración, que llama a la función *DllCallbackProc* según sea necesario para obtener del proveedor de servicios de telefonía la información que se va a mostrar.</span><span class="sxs-lookup"><span data-stu-id="049b7-107">The TSP UI DLL displays the configuration dialog box, calling the *DllCallbackProc* function as necessary to obtain from the telephony service provider the information to display.</span></span> <span data-ttu-id="049b7-108">Cada vez que se llama a la función *DllCallbackProc* , TAPI solicita TAPISRV para llamar a la función [**\_ providerGenericDialogData de TSPI**](/windows/win32/api/tspi/nf-tspi-tspi_providergenericdialogdata) del proveedor de servicios de telefonía, pasando el bloque de parámetros del archivo dll de la interfaz de usuario y devolviendo el bloque de parámetros al archivo dll de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="049b7-108">Each time the *DllCallbackProc* function is called, TAPI requests TAPISRV to call the telephony service provider's [**TSPI\_providerGenericDialogData**](/windows/win32/api/tspi/nf-tspi-tspi_providergenericdialogdata) function, passing in the parameter block from the UI DLL, and returning the parameter block to the UI DLL.</span></span> <span data-ttu-id="049b7-109">El archivo DLL de la interfaz de usuario transmite cualquier cambio de configuración al proveedor de servicios de telefonía llamando a *DllCallbackProc*.</span><span class="sxs-lookup"><span data-stu-id="049b7-109">The UI DLL conveys any configuration changes to the telephony service provider by calling *DllCallbackProc*.</span></span>

<span data-ttu-id="049b7-110">Una vez completada la función, la DLL de la interfaz de usuario vuelve de (en este caso) [**TUISPI \_ lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog).</span><span class="sxs-lookup"><span data-stu-id="049b7-110">When the function is complete, the UI DLL returns from (in this case) [**TUISPI\_lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog).</span></span> <span data-ttu-id="049b7-111">TAPI llama a la función [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary) para liberar el archivo dll de la interfaz de usuario y vuelve a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="049b7-111">TAPI calls the [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary) function to release the UI DLL, and returns to the application.</span></span>

 

 
