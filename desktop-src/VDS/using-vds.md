---
description: Uso de VDS
ms.assetid: aa4be499-625d-4dbd-828c-4a55ff2dba2c
title: Uso de VDS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c648c5cc2507c4819f98367c367099248a0e723f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104278980"
---
# <a name="using-vds"></a><span data-ttu-id="13f4f-103">Uso de VDS</span><span class="sxs-lookup"><span data-stu-id="13f4f-103">Using VDS</span></span>

<span data-ttu-id="13f4f-104">\[A partir de Windows 8 y Windows Server 2012, la interfaz com de [servicio de disco virtual](virtual-disk-service-portal.md) se sustituye por la [API de administración de almacenamiento de Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span><span class="sxs-lookup"><span data-stu-id="13f4f-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="13f4f-105">VDS proporciona una interfaz para el desarrollo de scripts y GUI que puede simplificar las actividades realizadas por un administrador de Windows Server que administra un conjunto heterogéneo de sistemas de almacenamiento, migrando datos entre diferentes configuraciones de hardware a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="13f4f-105">VDS supplies an interface for scripting and GUI development that can simplify the activities that are performed by a Windows server administrator who manages a heterogeneous set of storage systems, migrating data across different hardware configurations over time.</span></span> <span data-ttu-id="13f4f-106">Si no está familiarizado con los objetos que se usan en el desarrollo de VDS, consulte el [modelo de objetos de VDS](vds-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="13f4f-106">If you are unfamiliar with the objects that are used in VDS development, see the [VDS Object Model](vds-object-model.md).</span></span>

<span data-ttu-id="13f4f-107">Unos cuantos puntos antes de empezar:</span><span class="sxs-lookup"><span data-stu-id="13f4f-107">A few points before you begin:</span></span>

-   <span data-ttu-id="13f4f-108">Aunque VDS incluye un proveedor de software, debe adquirir un proveedor de hardware y el hardware asociado por separado para aprovechar las operaciones del proveedor de hardware.</span><span class="sxs-lookup"><span data-stu-id="13f4f-108">While VDS includes a software provider, you must purchase a hardware provider and the associated hardware separately to take advantage of the hardware provider operations.</span></span> <span data-ttu-id="13f4f-109">Para obtener instrucciones de instalación, consulte la documentación proporcionada por el fabricante del hardware.</span><span class="sxs-lookup"><span data-stu-id="13f4f-109">For installation instructions, see the documentation that is provided by the hardware manufacturer.</span></span>
-   <span data-ttu-id="13f4f-110">Algunas operaciones requieren volúmenes con formato NTFS.</span><span class="sxs-lookup"><span data-stu-id="13f4f-110">Some operations require NTFS-formatted volumes.</span></span> <span data-ttu-id="13f4f-111">Por ejemplo, al montar un volumen en un directorio existente, el volumen que contiene el directorio debe tener el formato NTFS.</span><span class="sxs-lookup"><span data-stu-id="13f4f-111">For example, when you mount a volume on an existing directory, the volume that contains the directory must be formatted with NTFS.</span></span> <span data-ttu-id="13f4f-112">Otros sistemas de archivos no admiten esta operación.</span><span class="sxs-lookup"><span data-stu-id="13f4f-112">Other file systems do not support this operation.</span></span> <span data-ttu-id="13f4f-113">Para obtener información sobre las operaciones que requieren NTFS, consulte cada página de método en [referencia de VDS](vds-reference.md).</span><span class="sxs-lookup"><span data-stu-id="13f4f-113">For information about operations that require NTFS, see each method page in [VDS Reference](vds-reference.md).</span></span>

## <a name="programming-languages"></a><span data-ttu-id="13f4f-114">Lenguajes de programación</span><span class="sxs-lookup"><span data-stu-id="13f4f-114">Programming Languages</span></span>

<span data-ttu-id="13f4f-115">Use cualquier lenguaje de programación que sea adecuado para el desarrollo con COM, como el lenguaje C o C++.</span><span class="sxs-lookup"><span data-stu-id="13f4f-115">Use any programming language that is suitable for development with COM, such as the C language or C++.</span></span>

## <a name="security"></a><span data-ttu-id="13f4f-116">Seguridad</span><span class="sxs-lookup"><span data-stu-id="13f4f-116">Security</span></span>

<span data-ttu-id="13f4f-117">Firewall de Windows está habilitado de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="13f4f-117">Windows Firewall is enabled by default.</span></span> <span data-ttu-id="13f4f-118">Esto puede hacer que la autenticación no se realice correctamente en las interfaces de devolución de llamada, como [**IVdsAdviseSink**](/windows/desktop/api/Vds/nn-vds-ivdsadvisesink), que se pueden ejecutar de forma remota.</span><span class="sxs-lookup"><span data-stu-id="13f4f-118">This can cause authentication to fail for callback interfaces, such as [**IVdsAdviseSink**](/windows/desktop/api/Vds/nn-vds-ivdsadvisesink), that can be executed remotely.</span></span> <span data-ttu-id="13f4f-119">Si el Firewall de Windows está habilitado en el cliente o el servidor, debe agregar administración de volumen remoto a la ficha **excepciones** en firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="13f4f-119">If Windows Firewall is enabled on either the client or the server, you must add Remote Volume Management to the **Exceptions** tab in Windows Firewall.</span></span>

<span data-ttu-id="13f4f-120">**Windows Server 2003:** En Windows Server 2003 con Service Pack 2 (SP2) y Windows Server 2003 con Service Pack 1 (SP1), si firewall de Windows está habilitado en el cliente o el servidor y si el servidor está configurado para usar la autenticación NTLM, debe agregar la siguiente configuración a la pestaña **excepciones** del firewall de Windows para el equipo adecuado.</span><span class="sxs-lookup"><span data-stu-id="13f4f-120">**Windows Server 2003:** In Windows Server 2003 with Service Pack 2 (SP2) and Windows Server 2003 with Service Pack 1 (SP1), if Windows Firewall is enabled on either the client or the server and if the server is configured to use NTLM authentication, you must add the following settings to the **Exceptions** tab in Windows Firewall for the appropriate computer.</span></span>

| <span data-ttu-id="13f4f-121">Computer</span><span class="sxs-lookup"><span data-stu-id="13f4f-121">Computer</span></span>                 | <span data-ttu-id="13f4f-122">Configuración de excepciones</span><span class="sxs-lookup"><span data-stu-id="13f4f-122">Exceptions settings</span></span>                                                                 |
|--------------------------|-------------------------------------------------------------------------------------|
| <span data-ttu-id="13f4f-123">Equipo cliente (local)</span><span class="sxs-lookup"><span data-stu-id="13f4f-123">Client computer (local)</span></span>  | <span data-ttu-id="13f4f-124">Dmremote.exe</span><span class="sxs-lookup"><span data-stu-id="13f4f-124">Dmremote.exe</span></span><br/> <span data-ttu-id="13f4f-125">Mmc.exe</span><span class="sxs-lookup"><span data-stu-id="13f4f-125">Mmc.exe</span></span><br/> <span data-ttu-id="13f4f-126">Vdsldr.exe</span><span class="sxs-lookup"><span data-stu-id="13f4f-126">Vdsldr.exe</span></span><br/> <span data-ttu-id="13f4f-127">TCP 135</span><span class="sxs-lookup"><span data-stu-id="13f4f-127">TCP 135</span></span><br/> |
| <span data-ttu-id="13f4f-128">Equipo servidor (remoto)</span><span class="sxs-lookup"><span data-stu-id="13f4f-128">Server computer (remote)</span></span> | <span data-ttu-id="13f4f-129">Dmadmin.exe</span><span class="sxs-lookup"><span data-stu-id="13f4f-129">Dmadmin.exe</span></span><br/> <span data-ttu-id="13f4f-130">Vds.exe</span><span class="sxs-lookup"><span data-stu-id="13f4f-130">Vds.exe</span></span><br/> <span data-ttu-id="13f4f-131">TCP 135</span><span class="sxs-lookup"><span data-stu-id="13f4f-131">TCP 135</span></span><br/>                        |



 

<span data-ttu-id="13f4f-132">Tenga en cuenta que el Firewall de Windows no está habilitado de forma predeterminada hasta Windows Server 2003 con SP1.</span><span class="sxs-lookup"><span data-stu-id="13f4f-132">Note that Windows Firewall is not enabled by default until Windows Server 2003 with SP1.</span></span>

<span data-ttu-id="13f4f-133">Una aplicación que usa VDS debe ejecutarse en el operador de copia de seguridad o en la cuenta de grupo de administradores.</span><span class="sxs-lookup"><span data-stu-id="13f4f-133">An application that is using VDS must run under the Backup Operator or Administrators group account.</span></span> <span data-ttu-id="13f4f-134">Sin el privilegio adecuado, una aplicación puede crear un objeto de cargador de servicios, pero el objeto no cargará VDS.</span><span class="sxs-lookup"><span data-stu-id="13f4f-134">Without the appropriate privilege, an application can create a service loader object, but the object will not load VDS.</span></span> <span data-ttu-id="13f4f-135">En su lugar, devuelve un error que indica que se denegó el acceso a VDS.</span><span class="sxs-lookup"><span data-stu-id="13f4f-135">Instead, it returns an error indicating that access to VDS is denied.</span></span>

<span data-ttu-id="13f4f-136">Si la red utiliza la autenticación NTLM, el equipo cliente debe permitir el acceso anónimo.</span><span class="sxs-lookup"><span data-stu-id="13f4f-136">If the network uses NTLM authentication, the client computer should allow anonymous access.</span></span> <span data-ttu-id="13f4f-137">En este caso, si el equipo cliente está ejecutando un sistema operativo Windows Server, el acceso anónimo está habilitado de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="13f4f-137">In this case, if the client computer is running a Windows Server operating system, anonymous access is enabled by default.</span></span> <span data-ttu-id="13f4f-138">Si se está ejecutando un sistema operativo de cliente de Windows, el acceso anónimo debe habilitarse mediante Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="13f4f-138">If it is running a Windows Client operating system, anonymous access must be enabled using Dcomcnfg.exe.</span></span>

## <a name="configuration-and-query-operations"></a><span data-ttu-id="13f4f-139">Operaciones de configuración y consulta</span><span class="sxs-lookup"><span data-stu-id="13f4f-139">Configuration and Query Operations</span></span>

<span data-ttu-id="13f4f-140">La configuración y las operaciones de consulta están en el ámbito del equipo, proveedor, subsistema o paquete más relevante.</span><span class="sxs-lookup"><span data-stu-id="13f4f-140">Configuration and query operations are scoped by the most relevant computer, provider, subsystem, or pack.</span></span> <span data-ttu-id="13f4f-141">Las consultas solo atraviesan un proveedor o un nivel de la jerarquía de enlace.</span><span class="sxs-lookup"><span data-stu-id="13f4f-141">Queries traverse only one provider or one level of the binding hierarchy.</span></span> <span data-ttu-id="13f4f-142">Para compilar una vista completa, el autor de la llamada debe consultar cada nivel por debajo y hacia abajo.</span><span class="sxs-lookup"><span data-stu-id="13f4f-142">To build a full view, the caller must query across and down each level.</span></span> <span data-ttu-id="13f4f-143">La lista siguiente incluye ejemplos:</span><span class="sxs-lookup"><span data-stu-id="13f4f-143">The following list includes examples:</span></span>

-   <span data-ttu-id="13f4f-144">Para ver todos los discos de un equipo, los autores de la llamada deben consultar todos los proveedores de software de los discos que reclaman dichos proveedores.</span><span class="sxs-lookup"><span data-stu-id="13f4f-144">To view all disks on a computer, callers must query across all software providers for the disks that are claimed by those providers.</span></span>
-   <span data-ttu-id="13f4f-145">Para determinar qué discos contribuyen a un volumen apilado por software, los autores de la llamada primero determinan los Plex contribuyentes y luego consultan las extensiones de disco para cada complejo.</span><span class="sxs-lookup"><span data-stu-id="13f4f-145">To determine which disks contribute to a software-stacked volume, callers first determine the contributing plexes and then query for the disk extents for each plex.</span></span>
-   <span data-ttu-id="13f4f-146">Para ver todas las unidades conectadas a un subsistema determinado, los autores de la llamada deben consultar el subsistema.</span><span class="sxs-lookup"><span data-stu-id="13f4f-146">To view all the drives that are attached to a given subsystem, callers must query the subsystem.</span></span>
-   <span data-ttu-id="13f4f-147">Para ver todos los LUN que expone un subsistema determinado, los autores de la llamada deben consultar el subsistema.</span><span class="sxs-lookup"><span data-stu-id="13f4f-147">To view all the LUNs that are exposed by a given subsystem, callers must query the subsystem.</span></span>
-   <span data-ttu-id="13f4f-148">Para ver todo el almacenamiento en una SAN o un clúster, los autores de la llamada deben consultar todos los proveedores de hardware de cada equipo, consultar cada proveedor para todos los subsistemas y, a continuación, consultar cada subsistema.</span><span class="sxs-lookup"><span data-stu-id="13f4f-148">To view all storage on a SAN or a cluster, callers must query each computer for all hardware providers, query each provider for all subsystems, and then query each subsystem.</span></span>

<span data-ttu-id="13f4f-149">Aunque cada consulta individual no devolverá duplicados, las consultas repetidas entre equipos o entre proveedores pueden acumular duplicados.</span><span class="sxs-lookup"><span data-stu-id="13f4f-149">While each individual query will not return duplicates, repeated queries across computers or across providers can accumulate duplicates.</span></span> <span data-ttu-id="13f4f-150">Los llamadores deben implementar cualquier filtrado.</span><span class="sxs-lookup"><span data-stu-id="13f4f-150">Callers must implement any filtering.</span></span> <span data-ttu-id="13f4f-151">Tenga en cuenta también que las aplicaciones de administración de SAN pueden utilizar el Active Directory o un repositorio para conservar la información de configuración. es posible que no sea necesario consultar cada equipo.</span><span class="sxs-lookup"><span data-stu-id="13f4f-151">Note also that SAN management applications can use the Active Directory or a repository to persist configuration information; it might not be necessary to query each computer.</span></span>

## <a name="related-topics"></a><span data-ttu-id="13f4f-152">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="13f4f-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="13f4f-153">Servicio de disco virtual</span><span class="sxs-lookup"><span data-stu-id="13f4f-153">Virtual Disk Service</span></span>](virtual-disk-service-portal.md)
</dt> <dt>

[<span data-ttu-id="13f4f-154">Modelo de objetos de VDS</span><span class="sxs-lookup"><span data-stu-id="13f4f-154">VDS Object Model</span></span>](vds-object-model.md)
</dt> <dt>

[<span data-ttu-id="13f4f-155">Referencia de VDS</span><span class="sxs-lookup"><span data-stu-id="13f4f-155">VDS Reference</span></span>](vds-reference.md)
</dt> </dl>

 

