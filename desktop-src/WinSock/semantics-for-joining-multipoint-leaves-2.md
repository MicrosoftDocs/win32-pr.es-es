---
description: En los siguientes casos, un socket Multipoint se describe con frecuencia definiendo su función en uno de los dos planos (control o datos).
ms.assetid: 34f639e2-9363-4f3f-a8de-b7c5d12618c9
title: Semántica para combinar hojas de Multipoint
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df12683838fbad89f717b08d7a19802f24556761
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105706182"
---
# <a name="semantics-for-joining-multipoint-leaves"></a><span data-ttu-id="bcd46-103">Semántica para combinar hojas de Multipoint</span><span class="sxs-lookup"><span data-stu-id="bcd46-103">Semantics for Joining Multipoint Leaves</span></span>

<span data-ttu-id="bcd46-104">En los siguientes casos, un socket Multipoint se describe con frecuencia definiendo su función en uno de los dos planos (control o datos).</span><span class="sxs-lookup"><span data-stu-id="bcd46-104">In the following, a multipoint socket is frequently described by defining its role in one of the two planes (control or data).</span></span> <span data-ttu-id="bcd46-105">Debe entenderse que el mismo socket tiene un rol en el otro plano, pero esto no se menciona a fin de mantener las referencias cortas.</span><span class="sxs-lookup"><span data-stu-id="bcd46-105">It should be understood that this same socket has a role in the other plane, but this is not mentioned in order to keep the references short.</span></span> <span data-ttu-id="bcd46-106">Por ejemplo, cuando se realiza una referencia a un " \_ socket raíz de c", puede ser una \_ raíz raíz/d de c \_ o un \_ socket de hoja raíz/d de c \_ .</span><span class="sxs-lookup"><span data-stu-id="bcd46-106">For example when a reference is made to a "c\_root socket", this could be either a c\_root/d\_root or a c\_root/d\_leaf socket.</span></span>

<span data-ttu-id="bcd46-107">En los esquemas de plano de control con raíz, los nuevos nodos hoja se agregan a una sesión de Multipoint en uno o ambos dos modos diferentes.</span><span class="sxs-lookup"><span data-stu-id="bcd46-107">In rooted control plane schemes, new leaf nodes are added to a multipoint session in one or both of two different ways.</span></span> <span data-ttu-id="bcd46-108">En el primer método, la raíz usa [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) para iniciar una conexión con un nodo hoja y para invitarlo a participar en él.</span><span class="sxs-lookup"><span data-stu-id="bcd46-108">In the first method, the root uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate a connection with a leaf node and to invite it to become a participant.</span></span> <span data-ttu-id="bcd46-109">En el nodo hoja, la aplicación del mismo nivel debe haber creado un \_ socket hoja de c y haber usado [**escuchar**](/windows/desktop/api/Winsock2/nf-winsock2-listen) para establecerlo en modo de escucha.</span><span class="sxs-lookup"><span data-stu-id="bcd46-109">On the leaf node, the peer application must have created a c\_leaf socket and used [**listen**](/windows/desktop/api/Winsock2/nf-winsock2-listen) to set it into listen mode.</span></span> <span data-ttu-id="bcd46-110">El nodo hoja recibe una \_ indicación de aceptación FD cuando se le invita a unirse a la sesión y señala su voluntad de unirse llamando a [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="bcd46-110">The leaf node receives an FD\_ACCEPT indication when invited to join the session, and signals its willingness to join by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="bcd46-111">A continuación, la aplicación raíz recibe una \_ indicación FD Connect cuando se ha completado la operación de **Unión** .</span><span class="sxs-lookup"><span data-stu-id="bcd46-111">The root application then receives an FD\_CONNECT indication when the **join** operation has been completed.</span></span>

<span data-ttu-id="bcd46-112">En el segundo método, los roles se invierten esencialmente.</span><span class="sxs-lookup"><span data-stu-id="bcd46-112">In the second method, the roles are essentially reversed.</span></span> <span data-ttu-id="bcd46-113">La aplicación raíz crea un \_ socket raíz de c y lo establece en modo de escucha.</span><span class="sxs-lookup"><span data-stu-id="bcd46-113">The root application creates a c\_root socket and sets it into listen mode.</span></span> <span data-ttu-id="bcd46-114">Un nodo hoja que quiere unirse a la sesión crea un \_ socket hoja de c y usa [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) para iniciar la conexión y solicitar admisión.</span><span class="sxs-lookup"><span data-stu-id="bcd46-114">A leaf node wishing to join the session creates a c\_leaf socket and uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate the connection and request admittance.</span></span> <span data-ttu-id="bcd46-115">La aplicación raíz recibe el \_ método FD Accept cuando llega una solicitud admisión entrante y admite el nodo hoja llamando a [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="bcd46-115">The root application receives FD\_ACCEPT when an incoming admittance request arrives, and admits the leaf node by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="bcd46-116">El nodo hoja recibe FD \_ Connect cuando se ha admitido.</span><span class="sxs-lookup"><span data-stu-id="bcd46-116">The leaf node receives FD\_CONNECT when it has been admitted.</span></span>

<span data-ttu-id="bcd46-117">En un plano de control no raíz, donde todos los nodos son \_ hojas de c, se usa [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) para iniciar la inclusión de un nodo en una sesión de Multipoint existente.</span><span class="sxs-lookup"><span data-stu-id="bcd46-117">In a nonrooted control plane, where all nodes are c\_leaf's, the [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) is used to initiate the inclusion of a node into an existing multipoint session.</span></span> <span data-ttu-id="bcd46-118">\_Se proporciona una indicación FD Connect cuando se ha completado la combinación y se puede usar el descriptor de socket devuelto en la sesión multipoint.</span><span class="sxs-lookup"><span data-stu-id="bcd46-118">An FD\_CONNECT indication is provided when the join has been completed and the returned socket descriptor is usable in the multipoint session.</span></span> <span data-ttu-id="bcd46-119">En el caso de la multidifusión IP, esto correspondería a la opción de IP \_ agregar \_ socket de pertenencia.</span><span class="sxs-lookup"><span data-stu-id="bcd46-119">In the case of IP multicast, this would correspond to the IP\_ADD\_MEMBERSHIP socket option.</span></span>

<span data-ttu-id="bcd46-120">(Los lectores familiarizados con el uso de la multidifusión IP del protocolo UDP sin conexión pueden estar relacionados con la semántica orientada a la conexión que se presenta aquí.</span><span class="sxs-lookup"><span data-stu-id="bcd46-120">(Readers familiar with IP multicast's use of the connectionless UDP protocol may be concerned by the connection-oriented semantics presented here.</span></span> <span data-ttu-id="bcd46-121">En concreto, la noción de usar [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) en un socket UDP y esperar una \_ indicación de conexión FD puede ser preocupantes.</span><span class="sxs-lookup"><span data-stu-id="bcd46-121">In particular the notion of using [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) on a UDP socket and waiting for an FD\_CONNECT indication may be troubling.</span></span> <span data-ttu-id="bcd46-122">No obstante, hay un gran precedente para aplicar la semántica orientada a la conexión a los protocolos sin conexión.</span><span class="sxs-lookup"><span data-stu-id="bcd46-122">There is, however, ample precedent for applying connection-oriented semantics to connectionless protocols.</span></span> <span data-ttu-id="bcd46-123">Se permite y a veces útil, por ejemplo, para invocar la función de [**conexión**](/windows/desktop/api/Winsock2/nf-winsock2-connect) estándar en un socket UDP.</span><span class="sxs-lookup"><span data-stu-id="bcd46-123">It is allowed and sometimes useful, for example, to invoke the standard [**connect**](/windows/desktop/api/Winsock2/nf-winsock2-connect) function on a UDP socket.</span></span> <span data-ttu-id="bcd46-124">El resultado general de la aplicación de la semántica orientada a la conexión a los sockets sin conexión es una restricción en la forma en que se pueden usar dichos sockets, y este es el caso aquí también.</span><span class="sxs-lookup"><span data-stu-id="bcd46-124">The general result of applying connection-oriented semantics to connectionless sockets is a restriction in how such sockets may be used, and this is the case here, as well.</span></span> <span data-ttu-id="bcd46-125">Un socket UDP usado en **WSAJoinLeaf** tendrá ciertas restricciones y esperará una \_ indicación FD Connect (que en este caso indica simplemente que se ha enviado el mensaje IGMP correspondiente) es una de estas limitaciones).</span><span class="sxs-lookup"><span data-stu-id="bcd46-125">A UDP socket used in **WSAJoinLeaf** will have certain restrictions, and waiting for an FD\_CONNECT indication (which in this case simply indicates that the corresponding IGMP message has been sent) is one such limitation.)</span></span>

<span data-ttu-id="bcd46-126">Por lo tanto, hay tres instancias en las que una aplicación usaría [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) actuando como:</span><span class="sxs-lookup"><span data-stu-id="bcd46-126">There are therefore, three instances where an application would use [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) acting as a:</span></span>

-   <span data-ttu-id="bcd46-127">Multipoint raíz e invitar a una nueva hoja para unirse a la sesión</span><span class="sxs-lookup"><span data-stu-id="bcd46-127">Multipoint root and inviting a new leaf to join the session</span></span>
-   <span data-ttu-id="bcd46-128">Hoja que realiza una solicitud de admisión a una sesión de multipoint con raíz</span><span class="sxs-lookup"><span data-stu-id="bcd46-128">Leaf making an admittance request to a rooted multipoint session</span></span>
-   <span data-ttu-id="bcd46-129">Hoja que busca admisión en una sesión de Multipoint no raíz (por ejemplo, multidifusión IP)</span><span class="sxs-lookup"><span data-stu-id="bcd46-129">Leaf seeking admittance to a nonrooted multipoint session (for example, IP multicast)</span></span>

 

 



