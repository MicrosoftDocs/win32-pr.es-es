---
description: Codificar y descodificar un contexto de certificado mediante CryptoAPI.
ms.assetid: 149d1097-5f50-40ba-84f1-b815f54ba33d
title: Codificar y descodificar un contexto de certificado
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b4168d15ad8db5d4711a18f2042106e7d6d46010
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104275752"
---
# <a name="encoding-and-decoding-a-certificate-context"></a><span data-ttu-id="a83bc-103">Codificar y descodificar un contexto de certificado</span><span class="sxs-lookup"><span data-stu-id="a83bc-103">Encoding and Decoding a Certificate Context</span></span>

<span data-ttu-id="a83bc-104">[*CryptoAPI*](../secgloss/c-gly.md) admite la codificación y la descodificación de [*certificados*](../secgloss/c-gly.md).</span><span class="sxs-lookup"><span data-stu-id="a83bc-104">[*CryptoAPI*](../secgloss/c-gly.md) supports the encoding and decoding of [*certificates*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="a83bc-105">CryptoAPI incluye un sistema amplio y flexible de funciones y estructuras de C que permiten codificar y descodificar de varias maneras.</span><span class="sxs-lookup"><span data-stu-id="a83bc-105">CryptoAPI includes an extensive, flexible system of functions and C structures that allow encoding and decoding in various ways.</span></span> <span data-ttu-id="a83bc-106">CryptoAPI admite la estructura de certificados [*X. 509*](../secgloss/x-gly.md) estándar y la codificación de [*notación de sintaxis abstracta*](../secgloss/a-gly.md) estándar (ASN. 1) para proporcionar interoperabilidad con otros sistemas.</span><span class="sxs-lookup"><span data-stu-id="a83bc-106">CryptoAPI supports standard [*X.509*](../secgloss/x-gly.md) certificate structure and standard [*Abstract Syntax Notation One*](../secgloss/a-gly.md) (ASN.1) encoding to provide interoperability with other systems.</span></span>

<span data-ttu-id="a83bc-107">Para obtener información general sobre los datos codificados, vea [datos codificados y descodificados](encoded-and-decoded-data.md).</span><span class="sxs-lookup"><span data-stu-id="a83bc-107">For an overview of encoded data, see [Encoded and Decoded Data](encoded-and-decoded-data.md).</span></span>

## <a name="certificate-contexts"></a><span data-ttu-id="a83bc-108">Contextos de certificado</span><span class="sxs-lookup"><span data-stu-id="a83bc-108">Certificate Contexts</span></span>

<span data-ttu-id="a83bc-109">Un [*contexto*](../secgloss/c-gly.md)de certificado [**, \_ contexto**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context)de certificado, es una estructura de C que contiene un miembro codificado, un identificador de un [*almacén de certificados*](../secgloss/c-gly.md), un puntero al BLOB de [*certificado*](../secgloss/c-gly.md)codificado original y un puntero a una estructura de [**\_ información**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) de certificado C.</span><span class="sxs-lookup"><span data-stu-id="a83bc-109">A [*certificate context*](../secgloss/c-gly.md), [**CERT\_CONTEXT**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context), is a C structure that contains an encoded member, a handle to a [*certificate store*](../secgloss/c-gly.md), a pointer to the original encoded [*certificate BLOB*](../secgloss/c-gly.md), and a pointer to a [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) C structure.</span></span>

<span data-ttu-id="a83bc-110">La estructura de [**\_ información de certificado**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) es el corazón del certificado.</span><span class="sxs-lookup"><span data-stu-id="a83bc-110">The [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) structure is the heart of the certificate.</span></span> <span data-ttu-id="a83bc-111">Contiene, en forma directa y codificada, toda la información básica del certificado.</span><span class="sxs-lookup"><span data-stu-id="a83bc-111">It contains, in direct form and in encoded form, all the basic information in the certificate.</span></span> <span data-ttu-id="a83bc-112">En la ilustración siguiente se muestra la estructura de **\_ información de certificado** con todos sus miembros codificados mostrados como sombreados.</span><span class="sxs-lookup"><span data-stu-id="a83bc-112">The following illustration shows the **CERT\_INFO** structure with all of its encoded members shown as shaded.</span></span>

![estructura de información de certificado \-](images/certinf2.png)

<span data-ttu-id="a83bc-114">Los miembros **IssuerUniqueID** y **SubjectUniqueID** forman parte de la implementación del certificado [*X. 509*](../secgloss/x-gly.md) versión 2, pero rara vez se usan.</span><span class="sxs-lookup"><span data-stu-id="a83bc-114">The **IssuerUniqueID** and **SubjectUniqueID** members are part of the [*X.509*](../secgloss/x-gly.md) version 2 certificate implementation but are seldom used.</span></span> <span data-ttu-id="a83bc-115">Las extensiones de certificado de la versión 3 reemplazan la funcionalidad de estos miembros.</span><span class="sxs-lookup"><span data-stu-id="a83bc-115">Certificate extensions in version 3 replace the functionality of these members.</span></span>

<span data-ttu-id="a83bc-116">Si la información contenida en los miembros codificados (sombreados) y el **emisor** son necesarios, esos **miembros se deben** descodificar.</span><span class="sxs-lookup"><span data-stu-id="a83bc-116">If the information contained in the encoded (shaded) members **Issuer** and **Subject** is needed, those members must be decoded.</span></span> <span data-ttu-id="a83bc-117">Use [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) para descodificar estos miembros.</span><span class="sxs-lookup"><span data-stu-id="a83bc-117">Use [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) to decode these members.</span></span> <span data-ttu-id="a83bc-118">En la ilustración siguiente se muestra el proceso de descodificación de uno de estos miembros.</span><span class="sxs-lookup"><span data-stu-id="a83bc-118">The following illustration shows the process of decoding one of these members.</span></span>

![descodificación con cryptdecodeobject](images/infoflow.png)

<span data-ttu-id="a83bc-120">En el caso de la ilustración, la función [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) crea una estructura de [**información de \_ nombre \_ de certificado**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_name_info) , una matriz de estructuras [**\_ RDN de certificado**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn) , una matriz correspondiente de estructuras de [**\_ \_ atributo RDN de CERT**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn_attr) y una cadena que contiene el nombre.</span><span class="sxs-lookup"><span data-stu-id="a83bc-120">In the illustrated case, the [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) function creates a [**CERT\_NAME\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_name_info) structure, an array of [**CERT\_RDN**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn) structures, a corresponding array of [**CERT\_RDN\_ATTR**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn_attr) structures, and a string that contains the name.</span></span> <span data-ttu-id="a83bc-121">Los miembros de la estructura **CERT \_ RDN \_ ATTR** determinan el contenido de la cadena.</span><span class="sxs-lookup"><span data-stu-id="a83bc-121">Members of the **CERT\_RDN\_ATTR** structure determine the contents of the string.</span></span> <span data-ttu-id="a83bc-122">Por ejemplo, si el miembro **pszObjId** es 2.5.4.3, la cadena contiene un nombre común.</span><span class="sxs-lookup"><span data-stu-id="a83bc-122">For example, if the **pszObjId** member is 2.5.4.3, the string contains a common name.</span></span> <span data-ttu-id="a83bc-123">Si es 2.5.4.10, la cadena contendría un nombre de la organización.</span><span class="sxs-lookup"><span data-stu-id="a83bc-123">If it is 2.5.4.10, the string would contain an organization name.</span></span> <span data-ttu-id="a83bc-124">Para obtener una lista de estos [*identificadores de objeto*](../secgloss/o-gly.md) (OID), consulte **CERT \_ RDN \_ ATTR**.</span><span class="sxs-lookup"><span data-stu-id="a83bc-124">For a list of these [*object identifiers*](../secgloss/o-gly.md) (OIDs), see **CERT\_RDN\_ATTR**.</span></span>

<span data-ttu-id="a83bc-125">El miembro **dwValueType** contiene información sobre el tipo de cadena.</span><span class="sxs-lookup"><span data-stu-id="a83bc-125">The **dwValueType** member contains information about the type of string.</span></span> <span data-ttu-id="a83bc-126">Si se trata de \_ \_ una cadena imprimible de RDN de CERT \_ , el miembro de valor contiene una cadena de caracteres de ancho byte y terminada en cero.</span><span class="sxs-lookup"><span data-stu-id="a83bc-126">If it is CERT\_RDN\_PRINTABLE\_STRING, the value member contains a byte-width, zero-terminated character string.</span></span> <span data-ttu-id="a83bc-127">Si se trata de \_ \_ una cadena Unicode RDN CERT \_ , la cadena es una cadena de caracteres de doble ancho (de tamaño de palabra).</span><span class="sxs-lookup"><span data-stu-id="a83bc-127">If it is CERT\_RDN\_UNICODE\_STRING, the string is a double-width (word-sized) character string.</span></span>

<span data-ttu-id="a83bc-128">Para obtener un proceso detallado de codificación y descodificación de certificados, consulte [codificación de una \_ estructura de información de certificado](encoding-a-cert-info-structure.md) y [descodificación de una estructura de \_ información de certificado](decoding-a-cert-info-structure.md).</span><span class="sxs-lookup"><span data-stu-id="a83bc-128">For a detailed process for encoding and decoding certificates, see [Encoding a CERT\_INFO Structure](encoding-a-cert-info-structure.md) and [Decoding a CERT\_INFO Structure](decoding-a-cert-info-structure.md).</span></span>

 

 
