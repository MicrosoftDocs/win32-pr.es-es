---
description: Como se mencionó en información general de análisis de tinta, la tecnología de análisis de tinta mantiene internamente un modelo de documento basado en árbol para contener los resultados del análisis y las relaciones.
ms.assetid: 33ba9292-3bc7-41ba-a602-e2fc94cd3a57
title: Proxy de datos con análisis de tinta
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 52717b955625e67f50c20703dd0e84449aa1037f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103912917"
---
# <a name="data-proxy-with-ink-analysis"></a><span data-ttu-id="4fca6-103">Proxy de datos con análisis de tinta</span><span class="sxs-lookup"><span data-stu-id="4fca6-103">Data Proxy with Ink Analysis</span></span>

<span data-ttu-id="4fca6-104">Como se mencionó en [información general de análisis de tinta](ink-analysis-overview.md), la tecnología de análisis de tinta mantiene internamente un modelo de documento basado en árbol para contener los resultados del análisis y las relaciones.</span><span class="sxs-lookup"><span data-stu-id="4fca6-104">As mentioned in [Ink Analysis Overview](ink-analysis-overview.md), the ink analysis technology internally maintains a tree-based document model to contain analysis results and relationships.</span></span> <span data-ttu-id="4fca6-105">Si su aplicación ya tiene un almacén de documentos establecido que es diferente, deberá usar las características de análisis de tinta diseñadas para obtener datos de proxy entre modelos de documento dispares.</span><span class="sxs-lookup"><span data-stu-id="4fca6-105">If your application already has an established document store that is different, you will need to make use of the ink analysis features designed to proxy data between disparate document models.</span></span>

## <a name="types-of-data-proxy"></a><span data-ttu-id="4fca6-106">Tipos de proxy de datos</span><span class="sxs-lookup"><span data-stu-id="4fca6-106">Types of Data Proxy</span></span>

<span data-ttu-id="4fca6-107">Las características del proxy de datos permiten a la aplicación:</span><span class="sxs-lookup"><span data-stu-id="4fca6-107">The data proxy features enable your application to:</span></span>

-   <span data-ttu-id="4fca6-108">Integre los datos de los resultados del análisis de nuevo en un modelo de documento existente.</span><span class="sxs-lookup"><span data-stu-id="4fca6-108">Integrate analysis results data back into an existing document model.</span></span>
-   <span data-ttu-id="4fca6-109">Comunicar los resultados anteriores (o el estado) al [**InkAnalyzer**](inkanalyzer.md).</span><span class="sxs-lookup"><span data-stu-id="4fca6-109">Communicate previous results (or state) back into the [**InkAnalyzer**](inkanalyzer.md).</span></span>
-   <span data-ttu-id="4fca6-110">Comunicar el estado sin tinta en el [**InkAnalyzer**](inkanalyzer.md).</span><span class="sxs-lookup"><span data-stu-id="4fca6-110">Communicate non-ink state into the [**InkAnalyzer**](inkanalyzer.md).</span></span>
-   <span data-ttu-id="4fca6-111">Comunicar solo el conjunto mínimo de datos (estado anterior y sin tinta) necesario para completar la operación de análisis.</span><span class="sxs-lookup"><span data-stu-id="4fca6-111">Communicate only the minimum set of data (both previous and non-ink state) needed to complete the analysis operation.</span></span>
-   <span data-ttu-id="4fca6-112">Actualice fácilmente el modelo de documento de aplicación interno con los resultados del análisis.</span><span class="sxs-lookup"><span data-stu-id="4fca6-112">Easily update the internal application document model with analysis results.</span></span>

<span data-ttu-id="4fca6-113">Hay dos enfoques básicos para el proxy de datos de análisis de tinta.</span><span class="sxs-lookup"><span data-stu-id="4fca6-113">There are two basic approaches to ink analysis data proxy.</span></span> <span data-ttu-id="4fca6-114">Las diferencias se establecen en los detalles de Cuándo y cómo se produce la sincronización entre los modelos de documento.</span><span class="sxs-lookup"><span data-stu-id="4fca6-114">The differences lay in the details of when and how the synchronization between the document models occurs.</span></span> <span data-ttu-id="4fca6-115">El primer enfoque, la actualización sincrónica, requiere la modificación del modelo de documento de análisis de tinta cuando se producen cambios en el documento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4fca6-115">The first approach, synchronous update, requires the modification of the ink analysis document model as changes occur in the application document.</span></span> <span data-ttu-id="4fca6-116">El segundo enfoque, la actualización a petición, solo requiere los datos afectados por los cambios en el modelo de documento de aplicación que se van a pasar a [**InkAnalyzer**](inkanalyzer.md).</span><span class="sxs-lookup"><span data-stu-id="4fca6-116">The second approach, on-demand update, requires only the data affected by changes to the application document model to be passed to the [**InkAnalyzer**](inkanalyzer.md).</span></span> <span data-ttu-id="4fca6-117">Es decir, solo los datos de las partes del modelo de documento de análisis de tinta que se encuentran en la misma área que las modificaciones en el documento de la aplicación se deben pasar al **InkAnalyzer** a medida que los necesite.</span><span class="sxs-lookup"><span data-stu-id="4fca6-117">That is, only the data for the parts of the Ink Analysis document model that are in the same area as modifications to the application document need be passed to the **InkAnalyzer** as it needs them.</span></span>

### <a name="synchronous-update"></a><span data-ttu-id="4fca6-118">Actualización sincrónica</span><span class="sxs-lookup"><span data-stu-id="4fca6-118">Synchronous Update</span></span>

<span data-ttu-id="4fca6-119">El enfoque de actualización sincrónica requiere la modificación (creación y eliminación) de los nodos de la colección del objeto [**InkAnalyzer**](inkanalyzer.md) de los objetos [**ContextNode**](icontextnode.md) cuando se producen en el documento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4fca6-119">The synchronous update approach requires the modification (creation and deletion) of nodes in the [**InkAnalyzer**](inkanalyzer.md) object's collection of [**ContextNode**](icontextnode.md) objects as they occur in the application document.</span></span> <span data-ttu-id="4fca6-120">Por ejemplo, cada vez que se agrega una palabra de texto a la aplicación, se crea una **ContextNode** de estilo **TextWord** correspondiente en el **InkAnalyzer**.</span><span class="sxs-lookup"><span data-stu-id="4fca6-120">For example, each time a text word is added to the application, a corresponding **TextWord** styled **ContextNode** is created in the **InkAnalyzer**.</span></span> <span data-ttu-id="4fca6-121">Si cambia la ubicación de la palabra de texto en la página, la ubicación del **ContextNode** correspondiente se actualiza al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="4fca6-121">If the location of the text word on the page changes, then the location of the corresponding **ContextNode** is updated at the same time.</span></span> <span data-ttu-id="4fca6-122">Este método es menos eficaz en cuanto a recursos informáticos que el método a petición porque cada cambio de documento implica una actualización de **InkAnalyzer**, incluso si el cambio no afecta a la entrada de lápiz que se está analizando.</span><span class="sxs-lookup"><span data-stu-id="4fca6-122">This method is less efficient in terms of computing resources than the on-demand method because every document change involves an update to the **InkAnalyzer**, even if the change does not affect the ink being analyzed.</span></span>

<span data-ttu-id="4fca6-123">El ejemplo siguiente está pensado para mostrar cómo funciona la actualización sincrónica.</span><span class="sxs-lookup"><span data-stu-id="4fca6-123">The following example is meant to show how synchronous update works.</span></span> <span data-ttu-id="4fca6-124">Imagine una aplicación que tiene un modelo de documento existente.</span><span class="sxs-lookup"><span data-stu-id="4fca6-124">Imagine an application that has an existing document model.</span></span> <span data-ttu-id="4fca6-125">Cuando el usuario final realiza un cambio en el documento, como agregar texto nuevo, el cambio se procesa de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="4fca6-125">When the end-user makes a change to the document, such as adding new text, the change is processed as follows:</span></span>

1.  <span data-ttu-id="4fca6-126">El usuario final crea los datos nuevos.</span><span class="sxs-lookup"><span data-stu-id="4fca6-126">The end user creates the new data.</span></span>
2.  <span data-ttu-id="4fca6-127">La aplicación determina cómo procesar los datos, los almacena y los representa.</span><span class="sxs-lookup"><span data-stu-id="4fca6-127">The application determines how to process the data, stores it, and renders it.</span></span>
3.  <span data-ttu-id="4fca6-128">A efectos prácticos, se llevan a cabo los siguientes pasos simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="4fca6-128">For practical purposes, the following steps take place simultaneously.</span></span>
    1.  <span data-ttu-id="4fca6-129">La aplicación coloca los datos en su modelo de documento.</span><span class="sxs-lookup"><span data-stu-id="4fca6-129">The application places the data into its document model.</span></span>
    2.  <span data-ttu-id="4fca6-130">La aplicación crea un [**InkAnalyzer**](inkanalyzer.md) y lo actualiza.</span><span class="sxs-lookup"><span data-stu-id="4fca6-130">The application creates an [**InkAnalyzer**](inkanalyzer.md) and updates it.</span></span> <span data-ttu-id="4fca6-131">De esta forma, se garantiza que el **InkAnalyzer** siempre tiene la información más reciente.</span><span class="sxs-lookup"><span data-stu-id="4fca6-131">Doing this simultaneously assures that the **InkAnalyzer** always has the most recent information.</span></span>
    3.  <span data-ttu-id="4fca6-132">La aplicación llama a [**BackgroundAnalyze**](iinkanalyzer-backgroundanalyze.md) en [**InkAnalyzer**](inkanalyzer.md) para comenzar el análisis.</span><span class="sxs-lookup"><span data-stu-id="4fca6-132">The application calls [**BackgroundAnalyze**](iinkanalyzer-backgroundanalyze.md) on the [**InkAnalyzer**](inkanalyzer.md) to begin analysis.</span></span>
4.  <span data-ttu-id="4fca6-133">Se desencadena una serie de eventos si el cambio implica tinta y el [**InkAnalyzer**](inkanalyzer.md) determina los nuevos resultados.</span><span class="sxs-lookup"><span data-stu-id="4fca6-133">A series of events is fired if the change involves ink and the [**InkAnalyzer**](inkanalyzer.md) determines new results.</span></span> <span data-ttu-id="4fca6-134">Se desencadena un evento para cada cambio realizado en la colección de objetos [**ContextNode**](icontextnode.md) en **InkAnalyzer**.</span><span class="sxs-lookup"><span data-stu-id="4fca6-134">One event is fired for each change made to the collection of [**ContextNode**](icontextnode.md) objects in the **InkAnalyzer**.</span></span> <span data-ttu-id="4fca6-135">Estos eventos incluyen [**ContextNodeCreated**](-ianalysisproxyevents-contextnodecreated.md), [**ContextNodeDeleting**](-ianalysisproxyevents-contextnodedeleting.md), [**ContextNodeMovingToPosition**](-ianalysisproxyevents-contextnodemovingtoposition.md), [**ContextNodePropertiesUpdated**](-ianalysisproxyevents-contextnodepropertiesupdated.md), [**ContextNodeLinkAdding**](-ianalysisproxyevents-contextnodelinkadding.md), [**ContextNodeLinkDeleting**](-ianalysisproxyevents-contextnodelinkdeleting.md)y [**ContextNodeReparenting**](-ianalysisproxyevents-contextnodereparenting.md).</span><span class="sxs-lookup"><span data-stu-id="4fca6-135">These events include [**ContextNodeCreated**](-ianalysisproxyevents-contextnodecreated.md), [**ContextNodeDeleting**](-ianalysisproxyevents-contextnodedeleting.md), [**ContextNodeMovingToPosition**](-ianalysisproxyevents-contextnodemovingtoposition.md), [**ContextNodePropertiesUpdated**](-ianalysisproxyevents-contextnodepropertiesupdated.md), [**ContextNodeLinkAdding**](-ianalysisproxyevents-contextnodelinkadding.md), [**ContextNodeLinkDeleting**](-ianalysisproxyevents-contextnodelinkdeleting.md), and [**ContextNodeReparenting**](-ianalysisproxyevents-contextnodereparenting.md).</span></span> <span data-ttu-id="4fca6-136">La aplicación controla estos eventos para volver a obtener el proxy de los resultados de la operación de análisis en el modelo de documento según corresponda.</span><span class="sxs-lookup"><span data-stu-id="4fca6-136">The application handles these events to proxy the results of the analysis operation back into the document model as appropriate.</span></span>
5.  <span data-ttu-id="4fca6-137">La aplicación actualiza el diseño del documento, extrayendo los datos nuevos del modelo de documento.</span><span class="sxs-lookup"><span data-stu-id="4fca6-137">The application updates the layout of the document, pulling the new data from the document model.</span></span>
6.  <span data-ttu-id="4fca6-138">Los nuevos datos se representarán al usuario final.</span><span class="sxs-lookup"><span data-stu-id="4fca6-138">The new data is rendered back to the end user.</span></span>

### <a name="on-demand-update"></a><span data-ttu-id="4fca6-139">Actualización a petición</span><span class="sxs-lookup"><span data-stu-id="4fca6-139">On-Demand Update</span></span>

<span data-ttu-id="4fca6-140">El enfoque a petición solo requiere que los datos se pasen para los objetos [**ContextNode**](icontextnode.md) que se encuentran en las áreas que se están analizando.</span><span class="sxs-lookup"><span data-stu-id="4fca6-140">The on-demand approach only requires the data to be passed for those [**ContextNode**](icontextnode.md) objects that are in the areas that are being analyzed.</span></span> <span data-ttu-id="4fca6-141">Los objetos **ContextNode** necesarios se extraen del modelo de documento de la aplicación justo después de invocar la operación de análisis y de nuevo justo antes de reconciliar los resultados.</span><span class="sxs-lookup"><span data-stu-id="4fca6-141">The needed **ContextNode** objects are extracted from the application's document model just after the analysis operation is invoked, and again just prior to reconciling the results.</span></span> <span data-ttu-id="4fca6-142">Aunque es más complicado implementar que las actualizaciones sincrónicas, este enfoque produce mejores resultados de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="4fca6-142">While more complicated to implement than synchronous updates, this approach yields better performance results.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4fca6-143">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="4fca6-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4fca6-144">Información general de análisis de tinta</span><span class="sxs-lookup"><span data-stu-id="4fca6-144">Ink Analysis Overview</span></span>](ink-analysis-overview.md)
</dt> <dt>

[<span data-ttu-id="4fca6-145">**InkAnalyzer (clase) (C++)**</span><span class="sxs-lookup"><span data-stu-id="4fca6-145">**InkAnalyzer Class (C++)**</span></span>](inkanalyzer.md)
</dt> <dt>

<span data-ttu-id="4fca6-146">[**Microsoft. Ink. InkAnalyzer**](/previous-versions/ms583671(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="4fca6-146">[**Microsoft.Ink.InkAnalyzer**](/previous-versions/ms583671(v=vs.100))</span></span>
</dt> <dt>

<span data-ttu-id="4fca6-147">[**Microsoft. Ink. ContextNode**](/previous-versions/ms551996(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="4fca6-147">[**Microsoft.Ink.ContextNode**](/previous-versions/ms551996(v=vs.100))</span></span>
</dt> </dl>

 

 
