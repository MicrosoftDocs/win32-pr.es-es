---
description: Un identificador de socket puede ser opcionalmente un identificador de archivo en Windows Sockets 2. Un identificador de socket de un proveedor Winsock se puede usar con otras funciones que no son de Winsock, como ReadFile, WriteFile, ReadFileEx y WriteFileEx.
ms.assetid: 986dd9d8-52be-47aa-92b2-6cd40b83f5de
title: Identificadores de socket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca6ca8ed935819e018a59c52fb43dcf816530c07
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105715860"
---
# <a name="socket-handles"></a><span data-ttu-id="e9db8-104">Identificadores de socket</span><span class="sxs-lookup"><span data-stu-id="e9db8-104">Socket Handles</span></span>

<span data-ttu-id="e9db8-105">Un identificador de socket puede ser opcionalmente un identificador de archivo en Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="e9db8-105">A socket handle can optionally be a file handle in Windows Sockets 2.</span></span> <span data-ttu-id="e9db8-106">Un identificador de socket de un proveedor Winsock se puede usar con otras funciones que no son de Winsock, como [**readfile**](/windows/win32/api/fileapi/nf-fileapi-readfile), [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile), [**ReadFileEx**](/windows/win32/api/fileapi/nf-fileapi-readfileex)y [**WriteFileEx**](/windows/win32/api/fileapi/nf-fileapi-writefileex).</span><span class="sxs-lookup"><span data-stu-id="e9db8-106">A socket handle from a Winsock provider can be used with other non-Winsock functions such as [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile), [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile), [**ReadFileEx**](/windows/win32/api/fileapi/nf-fileapi-readfileex), and [**WriteFileEx**](/windows/win32/api/fileapi/nf-fileapi-writefileex).</span></span>

<span data-ttu-id="e9db8-107">El miembro **XP1 \_ IFS \_ Handles** de la estructura de información de protocolo para un proveedor determina si un identificador de socket de un proveedor es un identificador de sistema de archivos instalable (IFS).</span><span class="sxs-lookup"><span data-stu-id="e9db8-107">The **XP1\_IFS\_HANDLES** member in the protocol information structure for a provider determines whether a socket handle from a provider is an Installable File System (IFS) handle.</span></span> <span data-ttu-id="e9db8-108">Los identificadores de socket que son identificadores IFS se pueden usar sin una penalización de rendimiento con otras funciones que no son de Winsock (por ejemplo,[**readfile**](/windows/win32/api/fileapi/nf-fileapi-readfile) y [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile)).</span><span class="sxs-lookup"><span data-stu-id="e9db8-108">Socket handles that are IFS handles can be used without a performance penalty with other non-Winsock functions ([**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile), for example).</span></span> <span data-ttu-id="e9db8-109">Los identificadores de socket que no son IFS cuando se usan con funciones que no son de Winsock (**readfile** y **WriteFile**, por ejemplo) producen interacciones entre el proveedor y el sistema de archivos donde implica una sobrecarga de procesamiento adicional que puede dar lugar a una penalización significativa del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="e9db8-109">Any non-IFS socket handles when used with non-Winsock functions (**ReadFile** and **WriteFile**, for example) result in interactions between the provider and the file system where extra processing overhead is involved that can result in a significant performance penalty.</span></span> <span data-ttu-id="e9db8-110">Cuando se usan identificadores de socket con funciones que no son de Winsock, los códigos de error propagados desde el sistema de archivos base no se asignan siempre a los códigos de error de Winsock.</span><span class="sxs-lookup"><span data-stu-id="e9db8-110">When using socket handles with non-Winsock functions, the error codes propagated from the base file system are not always mapped to Winsock error codes.</span></span> <span data-ttu-id="e9db8-111">Por lo tanto, se recomienda usar identificadores de socket solo con funciones de Winsock.</span><span class="sxs-lookup"><span data-stu-id="e9db8-111">Consequently, it is recommended that socket handles be used only with Winsock functions.</span></span>

<span data-ttu-id="e9db8-112">No se debe usar un identificador de socket con la función [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .</span><span class="sxs-lookup"><span data-stu-id="e9db8-112">A socket handle should not be used with the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function.</span></span> <span data-ttu-id="e9db8-113">La presencia de proveedores de servicios por capas (LSP) puede provocar que se produzca un error y que el proceso de destino no importe el identificador de socket.</span><span class="sxs-lookup"><span data-stu-id="e9db8-113">The presence of layered service providers (LSPs) can cause this to fail and there is no way for the destination process to import the socket handle.</span></span>

> [!Note]  
> <span data-ttu-id="e9db8-114">Los proveedores de servicios superpuestos están desusados.</span><span class="sxs-lookup"><span data-stu-id="e9db8-114">Layered Service Providers are deprecated.</span></span> <span data-ttu-id="e9db8-115">A partir de Windows 8 y Windows Server 2012, use la [plataforma de filtrado de Windows](../fwp/windows-filtering-platform-start-page.md).</span><span class="sxs-lookup"><span data-stu-id="e9db8-115">Starting with Windows 8 and Windows Server 2012, use [Windows Filtering Platform](../fwp/windows-filtering-platform-start-page.md).</span></span>

 

<span data-ttu-id="e9db8-116">Windows Sockets 2 ha expandido ciertas funciones que transfieren datos entre Sockets mediante los controladores.</span><span class="sxs-lookup"><span data-stu-id="e9db8-116">Windows Sockets 2 has expanded certain functions that transfer data between sockets using handles.</span></span> <span data-ttu-id="e9db8-117">Las funciones ofrecen ventajas específicas para los sockets para transferir datos e incluyen [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), [**WSASend**](/windows/desktop/api/Winsock2/nf-winsock2-wsasend)y [**WSADuplicateSocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsaduplicatesocketa).</span><span class="sxs-lookup"><span data-stu-id="e9db8-117">The functions offer advantages specific to sockets for transferring data and include [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), [**WSASend**](/windows/desktop/api/Winsock2/nf-winsock2-wsasend), and [**WSADuplicateSocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsaduplicatesocketa).</span></span>

 

 
