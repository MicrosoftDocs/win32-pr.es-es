---
title: Infraestructura para la administración de servicios hospedados
description: Administración remota de Windows 2,0 (WinRM) incorpora un marco de hospedaje. Para usar el marco de trabajo, se escriben complementos de WinRM que exponen los datos de administración de una aplicación dentro de la infraestructura de WinRM.
ms.assetid: 924dcc70-9a29-45a6-99a2-5681235e4574
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8439aca1f36d2d0c2cebb6ed3111aeaa2e4fcee
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104357696"
---
# <a name="infrastructure-for-managing-hosted-services"></a><span data-ttu-id="1d497-104">Infraestructura para la administración de servicios hospedados</span><span class="sxs-lookup"><span data-stu-id="1d497-104">Infrastructure for Managing Hosted Services</span></span>

<span data-ttu-id="1d497-105">Administración remota de Windows 2,0 (WinRM) incorpora un marco de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="1d497-105">Windows Remote Management 2.0 (WinRM) introduces a hosting framework.</span></span> <span data-ttu-id="1d497-106">Para usar el marco de trabajo, se escriben complementos de WinRM que exponen los datos de administración de una aplicación dentro de la infraestructura de WinRM.</span><span class="sxs-lookup"><span data-stu-id="1d497-106">To use the framework, WinRM plug-ins are written that expose management data of an application within the WinRM infrastructure.</span></span> <span data-ttu-id="1d497-107">Se admiten dos modelos de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="1d497-107">Two hosting models are supported.</span></span> <span data-ttu-id="1d497-108">Una es Internet Information Services (IIS) â € "basada y la otra es WinRMâ €" basada en el servicio.</span><span class="sxs-lookup"><span data-stu-id="1d497-108">One is Internet Information Services (IIS)â€“based and the other is WinRMâ€“service based.</span></span> <span data-ttu-id="1d497-109">El modelo basado en WinRM utiliza HTTP.sys y no depende de IIS.</span><span class="sxs-lookup"><span data-stu-id="1d497-109">The WinRM-based model uses HTTP.sys and does not depend on IIS.</span></span>

<span data-ttu-id="1d497-110">En las secciones siguientes se describen los modelos de hospedaje:</span><span class="sxs-lookup"><span data-stu-id="1d497-110">The following sections describe the hosting models:</span></span>

-   [<span data-ttu-id="1d497-111">Modelo de hospedaje de la extensión IIS de WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-111">WinRM IIS Extension Hosting Model</span></span>](#winrm-iis-extension-hosting-model)
    -   [<span data-ttu-id="1d497-112">Equilibrio de carga en el modelo de hospedaje de la extensión IIS de WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-112">Load Balancing in the WinRM IIS Extension Hosting Model</span></span>](#load-balancing-in-the-winrm-iis-extension-hosting-model)
    -   [<span data-ttu-id="1d497-113">Redirección HTTP en el modelo de hospedaje de la extensión IIS de WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-113">HTTP Redirection in the WinRM IIS Extension Hosting Model</span></span>](#http-redirection-in-the-winrm-iis-extension-hosting-model)
-   [<span data-ttu-id="1d497-114">Modelo de hospedaje del servicio WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-114">WinRM Service Hosting Model</span></span>](#winrm-service-hosting-model)

## <a name="winrm-iis-extension-hosting-model"></a><span data-ttu-id="1d497-115">Modelo de hospedaje de la extensión IIS de WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-115">WinRM IIS Extension Hosting Model</span></span>

<span data-ttu-id="1d497-116">El módulo de extensión WinRM IIS es un componente opcional que se instala mediante el **Administrador del servidor**.</span><span class="sxs-lookup"><span data-stu-id="1d497-116">The WinRM IIS extension module is an optional component that is installed using the **Server Manager**.</span></span> <span data-ttu-id="1d497-117">El módulo de extensión WinRM de IIS se usa para crear puntos de conexión habilitados para WinRMâ € desde dentro del servicio IIS.</span><span class="sxs-lookup"><span data-stu-id="1d497-117">The WinRM IIS extension module is used to create WinRMâ€“enabled endpoints from within the IIS service.</span></span> <span data-ttu-id="1d497-118">Este módulo se puede habilitar en el nivel de sitio web o directorio virtual.</span><span class="sxs-lookup"><span data-stu-id="1d497-118">This module can be enabled at either the website or virtual directory level.</span></span> <span data-ttu-id="1d497-119">Funciona interceptando y redirigiendo las solicitudes entrantes al sitio web o directorio virtual asociado.</span><span class="sxs-lookup"><span data-stu-id="1d497-119">It works by intercepting and redirecting incoming requests to the associated website or virtual directory.</span></span> <span data-ttu-id="1d497-120">Las solicitudes se redirigen a un módulo WinRM que analiza el contenido y, a continuación, determina qué complemento WinRM está configurado para controlar cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="1d497-120">The requests are redirected to a WinRM module that analyzes the content and then determines which WinRM plug-in is configured to handle each request.</span></span> <span data-ttu-id="1d497-121">Para obtener más información, consulte [configuración del complemento de host de IIS](iis-host-plug-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="1d497-121">For more information, see [IIS Host Plug-in Configuration](iis-host-plug-in-configuration.md).</span></span>

<span data-ttu-id="1d497-122">El modelo de hospedaje de la extensión IIS de WinRM está diseñado para controlar un gran volumen de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="1d497-122">The WinRM IIS extension hosting model is designed to handle a large volume of requests.</span></span> <span data-ttu-id="1d497-123">Si se usa el modelo basado en IIS como el marco de trabajo de hospedaje, están disponibles las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="1d497-123">If the IIS-based model is used as the hosting framework, the following features are available:</span></span>

-   <span data-ttu-id="1d497-124">Los módulos de autenticación de IIS estándar.</span><span class="sxs-lookup"><span data-stu-id="1d497-124">The standard IIS authentication modules.</span></span>
-   <span data-ttu-id="1d497-125">El proceso del grupo de aplicaciones de IIS para hospedar todos los complementos.</span><span class="sxs-lookup"><span data-stu-id="1d497-125">The IIS application pool process for hosting all plug-ins.</span></span>
-   <span data-ttu-id="1d497-126">Administración de cuotas para la limitación de usuarios intensivos del sistema.</span><span class="sxs-lookup"><span data-stu-id="1d497-126">Quota management for throttling heavy users of the system.</span></span> <span data-ttu-id="1d497-127">Para obtener más información, vea [Administración de cuotas para shells remotos](quotas.md).</span><span class="sxs-lookup"><span data-stu-id="1d497-127">For more information, see [Quota Management for Remote Shells](quotas.md).</span></span>
-   <span data-ttu-id="1d497-128">Un modelo de complemento de Shell.</span><span class="sxs-lookup"><span data-stu-id="1d497-128">A shell plug-in model.</span></span> <span data-ttu-id="1d497-129">Vea [API del shell de cliente de WinRM](client-shell-api.md).</span><span class="sxs-lookup"><span data-stu-id="1d497-129">See [WinRM Client Shell API](client-shell-api.md).</span></span>
-   <span data-ttu-id="1d497-130">Un modelo de autorización flexible.</span><span class="sxs-lookup"><span data-stu-id="1d497-130">A flexible authorization model.</span></span> <span data-ttu-id="1d497-131">Consulte [API de complementos de WinRM](winrm-plugin-api.md).</span><span class="sxs-lookup"><span data-stu-id="1d497-131">See [WinRM Plugin API](winrm-plugin-api.md).</span></span>

### <a name="load-balancing-in-the-winrm-iis-extension-hosting-model"></a><span data-ttu-id="1d497-132">Equilibrio de carga en el modelo de hospedaje de la extensión IIS de WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-132">Load Balancing in the WinRM IIS Extension Hosting Model</span></span>

<span data-ttu-id="1d497-133">La mayoría de los equilibradores de carga (libras) admiten un modelo de adherencia basado en cookies.</span><span class="sxs-lookup"><span data-stu-id="1d497-133">Most load balancers (LBs) support a cookie-based stickiness model.</span></span> <span data-ttu-id="1d497-134">Las LB insertan una cookie en la respuesta a la primera solicitud del cliente.</span><span class="sxs-lookup"><span data-stu-id="1d497-134">The LB inserts a cookie into the response to the first request from the client.</span></span> <span data-ttu-id="1d497-135">En todas las solicitudes posteriores, la cookie se transmite en la solicitud y la LB usa la cookie para enrutar la solicitud al servidor adecuado.</span><span class="sxs-lookup"><span data-stu-id="1d497-135">For all subsequent requests, the cookie is transmitted in the request and the LB uses the cookie to route the request to the appropriate server.</span></span>

<span data-ttu-id="1d497-136">En entornos en los que WinRM 2,0 se hospeda tras un LB, los LB deben configurarse para que el prefijo MS-WSMAN sea el nombre de la cookie.</span><span class="sxs-lookup"><span data-stu-id="1d497-136">In environments where WinRM 2.0 is hosted behind an LB, the LB should be configured to prefix MS-WSMAN to the name of the cookie.</span></span> <span data-ttu-id="1d497-137">Además, los LB deben configurarse para permitir que la cookie sea infinita, ya que el cliente WinRM debe controlar cuánto tiempo es válida la cookie.</span><span class="sxs-lookup"><span data-stu-id="1d497-137">In addition, the LB needs to be configured to allow the lifetime of the cookie to be infinite, because the WinRM client should control how long the cookie is valid.</span></span>

<span data-ttu-id="1d497-138">El siguiente es un ejemplo de un nombre de cookie:</span><span class="sxs-lookup"><span data-stu-id="1d497-138">The following is an example of a cookie name:</span></span>

``` syntax
MS-WSMAN=2046820362.20480.0000; path=/
```

### <a name="http-redirection-in-the-winrm-iis-extension-hosting-model"></a><span data-ttu-id="1d497-139">Redirección HTTP en el modelo de hospedaje de la extensión IIS de WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-139">HTTP Redirection in the WinRM IIS Extension Hosting Model</span></span>

<span data-ttu-id="1d497-140">WinRM 2,0 puede controlar el redireccionamiento HTTP.</span><span class="sxs-lookup"><span data-stu-id="1d497-140">WinRM 2.0 can handle HTTP redirection.</span></span> <span data-ttu-id="1d497-141">Se recomienda que todos los redireccionamientos utilicen Capa de sockets seguros (SSL) y que todas las aplicaciones validen el URI Redirigido antes de crear una nueva sesión.</span><span class="sxs-lookup"><span data-stu-id="1d497-141">It is recommended that all redirection use Secure Sockets Layer (SSL), and that all applications validate the redirected URI before creating a new session.</span></span>

## <a name="winrm-service-hosting-model"></a><span data-ttu-id="1d497-142">Modelo de hospedaje del servicio WinRM</span><span class="sxs-lookup"><span data-stu-id="1d497-142">WinRM Service Hosting Model</span></span>

<span data-ttu-id="1d497-143">El modelo basado en el servicio WinRM se ejecuta sobre HTTP.sys.</span><span class="sxs-lookup"><span data-stu-id="1d497-143">The WinRM service-based model runs on top of HTTP.sys.</span></span> <span data-ttu-id="1d497-144">El servicio WinRM es un servicio orientado a la red que controla las solicitudes de los clientes de WinRM.</span><span class="sxs-lookup"><span data-stu-id="1d497-144">The WinRM service is a network facing service that handles requests from WinRM clients.</span></span> <span data-ttu-id="1d497-145">El servicio determina si la solicitud se enruta a un complemento que se ejecuta en el servicio principal o se enruta a través de un host donde se ejecuta el complemento de terceros.</span><span class="sxs-lookup"><span data-stu-id="1d497-145">The service determines whether the request is routed to a plug-in that runs in the main service or is routed through a host where the third-party plug-in is run.</span></span> <span data-ttu-id="1d497-146">Este modelo está pensado para escenarios en los que la carga en el nodo administrado es baja.</span><span class="sxs-lookup"><span data-stu-id="1d497-146">This model is intended for scenarios where the load on the managed node is low.</span></span> <span data-ttu-id="1d497-147">Además, este modelo está pensado para escenarios en los que el hospedaje de IIS no es una opción.</span><span class="sxs-lookup"><span data-stu-id="1d497-147">Moreover, this model is intended for scenarios where IIS hosting is not an option.</span></span> <span data-ttu-id="1d497-148">Para obtener más información, consulte [configuración del complemento de servicio WinRM](wsman-service-plug-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="1d497-148">For more information, see [WinRM Service Plug-in Configuration](wsman-service-plug-in-configuration.md).</span></span>

 

 




