---
description: Extensiones de ventana de dirección (AWE) es un conjunto de extensiones que permite a una aplicación manipular rápidamente la memoria física superior a 4 GB.
ms.assetid: 48a29922-8130-4540-86b0-0faa120566a6
title: Extensiones de ventana de dirección
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b8cb311bf9ecef2de334018ca3f9982a31f0b072
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103909485"
---
# <a name="address-windowing-extensions"></a><span data-ttu-id="157ac-103">Extensiones de ventana de dirección</span><span class="sxs-lookup"><span data-stu-id="157ac-103">Address Windowing Extensions</span></span>

<span data-ttu-id="157ac-104">Extensiones de ventana de dirección (AWE) es un conjunto de extensiones que permite a una aplicación manipular rápidamente la memoria física superior a 4 GB.</span><span class="sxs-lookup"><span data-stu-id="157ac-104">Address Windowing Extensions (AWE) is a set of extensions that allows an application to quickly manipulate physical memory greater than 4GB.</span></span> <span data-ttu-id="157ac-105">Ciertas aplicaciones con un uso intensivo de datos, como los sistemas de administración de bases de datos y el software científico y de ingeniería, necesitan tener acceso a memorias caché de datos muy grandes.</span><span class="sxs-lookup"><span data-stu-id="157ac-105">Certain data-intensive applications, such as database management systems and scientific and engineering software, need access to very large caches of data.</span></span> <span data-ttu-id="157ac-106">En el caso de conjuntos de datos muy grandes, restringir la memoria caché para que quepa en el espacio de direcciones de los 2 GB de la aplicación es una restricción grave.</span><span class="sxs-lookup"><span data-stu-id="157ac-106">In the case of very large data sets, restricting the cache to fit within an application's 2GB of user address space is a severe restriction.</span></span> <span data-ttu-id="157ac-107">En estas situaciones, la memoria caché es demasiado pequeña para admitir la aplicación correctamente.</span><span class="sxs-lookup"><span data-stu-id="157ac-107">In these situations, the cache is too small to properly support the application.</span></span>

<span data-ttu-id="157ac-108">AWE resuelve este problema al permitir que las aplicaciones resuelvan directamente grandes cantidades de memoria al tiempo que se siguen usando punteros de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="157ac-108">AWE solves this problem by allowing applications to directly address huge amounts of memory while continuing to use 32-bit pointers.</span></span> <span data-ttu-id="157ac-109">AWE permite que las aplicaciones tengan cachés de datos mayores de 4 GB (donde hay suficiente memoria física).</span><span class="sxs-lookup"><span data-stu-id="157ac-109">AWE allows applications to have data caches larger than 4GB (where sufficient physical memory is present).</span></span> <span data-ttu-id="157ac-110">AWE usa la memoria física no paginada y vistas de ventana de varias partes de esta memoria física en un espacio de direcciones virtuales de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="157ac-110">AWE uses physical nonpaged memory and window views of various portions of this physical memory within a 32-bit virtual address space.</span></span>

<span data-ttu-id="157ac-111">AWE impone algunas restricciones sobre cómo se puede usar esta memoria, principalmente porque estas restricciones permiten una asignación, reasignación y liberación extremadamente rápidas.</span><span class="sxs-lookup"><span data-stu-id="157ac-111">AWE places a few restrictions on how this memory may be used, primarily because these restrictions allow extremely fast mapping, remapping, and freeing.</span></span> <span data-ttu-id="157ac-112">La administración de memoria rápida es importante para estos espacios de direcciones potencialmente enormes.</span><span class="sxs-lookup"><span data-stu-id="157ac-112">Fast memory management is important for these potentially enormous address spaces.</span></span>

-   <span data-ttu-id="157ac-113">Los intervalos de direcciones virtuales asignados para AWE no se pueden compartir con otros procesos (y, por lo tanto, no se pueden heredar).</span><span class="sxs-lookup"><span data-stu-id="157ac-113">Virtual address ranges allocated for the AWE are not sharable with other processes (and therefore not inheritable).</span></span> <span data-ttu-id="157ac-114">De hecho, no se permite que dos direcciones virtuales AWE diferentes dentro del mismo proceso asignen la misma página física.</span><span class="sxs-lookup"><span data-stu-id="157ac-114">In fact, two different AWE virtual addresses within the same process are not allowed to map the same physical page.</span></span> <span data-ttu-id="157ac-115">Estas restricciones proporcionan una reasignación y limpieza rápidas cuando se libera memoria.</span><span class="sxs-lookup"><span data-stu-id="157ac-115">These restrictions provide fast remapping and cleanup when memory is freed.</span></span>
-   <span data-ttu-id="157ac-116">Las páginas físicas que se pueden asignar a una región AWE están limitadas por el número de páginas físicas presentes en la máquina, ya que esta memoria nunca se pagina; se bloquea hasta que la aplicación la libera explícitamente o se cierra.</span><span class="sxs-lookup"><span data-stu-id="157ac-116">The physical pages that can be allocated for an AWE region are limited by the number of physical pages present in the machine, since this memory is never paged – it is locked down until the application explicitly frees it or exits.</span></span> <span data-ttu-id="157ac-117">Las páginas físicas asignadas para un proceso determinado pueden asignarse a cualquier región virtual de AWE dentro del mismo proceso.</span><span class="sxs-lookup"><span data-stu-id="157ac-117">The physical pages allocated for a given process can be mapped into any AWE virtual region within the same process.</span></span> <span data-ttu-id="157ac-118">Las aplicaciones que usan AWE deben tener cuidado de no tomar tanta memoria física como para la paginación excesiva de otras aplicaciones o impedir la creación de nuevos procesos o subprocesos debido a la falta de recursos.</span><span class="sxs-lookup"><span data-stu-id="157ac-118">Applications that use AWE must be careful not to take so much physical memory that they cause other applications to page excessively or prevent creation of new processes or threads due to lack of resources.</span></span> <span data-ttu-id="157ac-119">Utilice la función [**GlobalMemoryStatusEx**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-globalmemorystatusex) para supervisar el uso de la memoria física.</span><span class="sxs-lookup"><span data-stu-id="157ac-119">Use the [**GlobalMemoryStatusEx**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-globalmemorystatusex) function to monitor physical memory use.</span></span>
-   <span data-ttu-id="157ac-120">Las direcciones virtuales AWE siempre son de lectura/escritura y no se pueden proteger mediante llamadas a [**VirtualProtect (**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) (es decir, no se puede especificar ninguna memoria de solo lectura, memoria de noaccesos, páginas de protección y similares).</span><span class="sxs-lookup"><span data-stu-id="157ac-120">AWE virtual addresses are always read/write and cannot be protected via calls to [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) (that is, no read-only memory, noaccess memory, guard pages, and the like can be specified).</span></span>
-   <span data-ttu-id="157ac-121">Los intervalos de direcciones AWE no se pueden usar para almacenar en búfer los datos de las llamadas de gráficos o de vídeo.</span><span class="sxs-lookup"><span data-stu-id="157ac-121">AWE address ranges cannot be used to buffer data for graphics or video calls.</span></span>
-   <span data-ttu-id="157ac-122">Un intervalo de memoria AWE no se puede dividir ni se pueden eliminar partes.</span><span class="sxs-lookup"><span data-stu-id="157ac-122">An AWE memory range cannot be split, nor can pieces of it be deleted.</span></span> <span data-ttu-id="157ac-123">En su lugar, todo el intervalo de direcciones virtuales debe eliminarse como una unidad cuando se requiere la eliminación.</span><span class="sxs-lookup"><span data-stu-id="157ac-123">Instead, the entire virtual address range must be deleted as a unit when deletion is required.</span></span> <span data-ttu-id="157ac-124">Esto significa que debe especificar **la \_ versión de MEM** al llamar a [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree).</span><span class="sxs-lookup"><span data-stu-id="157ac-124">This means you must specify **MEM\_RELEASE** when calling [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree).</span></span>
-   <span data-ttu-id="157ac-125">Las aplicaciones pueden asignar varias regiones simultáneamente, siempre y cuando no se superpongan.</span><span class="sxs-lookup"><span data-stu-id="157ac-125">Applications can map multiple regions simultaneously, provided they do not overlap.</span></span>
-   <span data-ttu-id="157ac-126">Las aplicaciones que usan AWE no se admiten en el modo de emulación.</span><span class="sxs-lookup"><span data-stu-id="157ac-126">Applications that use AWE are not supported in emulation mode.</span></span> <span data-ttu-id="157ac-127">Es decir, se debe volver a compilar una aplicación x86 que use funciones AWE para ejecutarse en otro procesador, mientras que la mayoría de las aplicaciones se pueden ejecutar sin volver a compilar en un emulador en otras plataformas.</span><span class="sxs-lookup"><span data-stu-id="157ac-127">That is, an x86 application that uses AWE functions must be recompiled to run on another processor, whereas most applications can run without recompiling under an emulator on other platforms.</span></span>

<span data-ttu-id="157ac-128">Esta solución soluciona los problemas de memoria física de una manera muy general y muy aplicable.</span><span class="sxs-lookup"><span data-stu-id="157ac-128">This solution addresses the physical memory issues in a very general, widely applicable manner.</span></span> <span data-ttu-id="157ac-129">Algunas de las ventajas de AWE son:</span><span class="sxs-lookup"><span data-stu-id="157ac-129">Some of the benefits of AWE are:</span></span>

-   <span data-ttu-id="157ac-130">Se define un pequeño grupo de funciones nuevas para manipular la memoria AWE.</span><span class="sxs-lookup"><span data-stu-id="157ac-130">A small group of new functions is defined to manipulate AWE memory.</span></span>
-   <span data-ttu-id="157ac-131">AWE proporciona una capacidad de reasignación muy rápida.</span><span class="sxs-lookup"><span data-stu-id="157ac-131">AWE provides a very fast remapping capability.</span></span> <span data-ttu-id="157ac-132">La reasignación se realiza mediante la manipulación de las tablas de memoria virtual, no mediante el movimiento de datos en la memoria física.</span><span class="sxs-lookup"><span data-stu-id="157ac-132">Remapping is done by manipulating virtual memory tables, not by moving data in physical memory.</span></span>
-   <span data-ttu-id="157ac-133">AWE proporciona granularidad del tamaño de página adecuado para el procesador (por ejemplo, 4 KB en x86), que es más útil para las aplicaciones que las páginas de gran tamaño (por ejemplo, 2 MB o 4 MB en x86).</span><span class="sxs-lookup"><span data-stu-id="157ac-133">AWE provides page size granularity appropriate to the processor (for example, 4 KB on x86), which is more useful to applications than large pages (for example, 2MB or 4MB on x86).</span></span>

<span data-ttu-id="157ac-134">Una aplicación debe tener el privilegio bloquear páginas en memoria para usar AWE.</span><span class="sxs-lookup"><span data-stu-id="157ac-134">An application must have the Lock Pages in Memory privilege to use AWE.</span></span> <span data-ttu-id="157ac-135">Para obtener este privilegio, un administrador debe agregar **páginas de bloqueo en la memoria** a las **asignaciones de derechos de usuario** del usuario.</span><span class="sxs-lookup"><span data-stu-id="157ac-135">To obtain this privilege, an administrator must add **Lock Pages in Memory** to the user's **User Rights Assignments**.</span></span> <span data-ttu-id="157ac-136">Para obtener más información acerca de cómo hacerlo, consulte "derechos de usuario" en la ayuda del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="157ac-136">For more information on how to do this, see "User Rights" in the operating system help.</span></span>

<span data-ttu-id="157ac-137">Las siguientes funciones componen la API de extensiones de ventana de dirección (AWE).</span><span class="sxs-lookup"><span data-stu-id="157ac-137">The following functions make up the Address Windowing Extensions (AWE) API.</span></span>



| <span data-ttu-id="157ac-138">Función</span><span class="sxs-lookup"><span data-stu-id="157ac-138">Function</span></span>                                                                          | <span data-ttu-id="157ac-139">Descripción</span><span class="sxs-lookup"><span data-stu-id="157ac-139">Description</span></span>                                                                                                                                                                                                                                               |
|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="157ac-140">[**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) y [ **VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex)</span><span class="sxs-lookup"><span data-stu-id="157ac-140">[**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) and [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex)</span></span> | <span data-ttu-id="157ac-141">Reserve una parte del espacio de direcciones virtuales que se va a usar para AWE mediante el uso de **memoria \_ física**.</span><span class="sxs-lookup"><span data-stu-id="157ac-141">Reserve a portion of virtual address space to use for AWE, using **MEM\_PHYSICAL**.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="157ac-142">**AllocateUserPhysicalPages**</span><span class="sxs-lookup"><span data-stu-id="157ac-142">**AllocateUserPhysicalPages**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages)                    | <span data-ttu-id="157ac-143">Asigne memoria física para su uso con AWE.</span><span class="sxs-lookup"><span data-stu-id="157ac-143">Allocate physical memory for use with AWE.</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="157ac-144">**MapUserPhysicalPages**</span><span class="sxs-lookup"><span data-stu-id="157ac-144">**MapUserPhysicalPages**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-mapuserphysicalpages)                              | <span data-ttu-id="157ac-145">Asigne (o invalide) direcciones virtuales AWE en cualquier conjunto de páginas físicas obtenidas con [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages).</span><span class="sxs-lookup"><span data-stu-id="157ac-145">Map (or invalidate) AWE virtual addresses onto any set of physical pages obtained with [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages).</span></span>                                                                                                    |
| [<span data-ttu-id="157ac-146">**MapUserPhysicalPagesScatter**</span><span class="sxs-lookup"><span data-stu-id="157ac-146">**MapUserPhysicalPagesScatter**</span></span>](/windows/desktop/api/WinBase/nf-winbase-mapuserphysicalpagesscatter)                | <span data-ttu-id="157ac-147">Asigne (o invalide) direcciones virtuales AWE en cualquier conjunto de páginas físicas obtenidas con [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages), pero con un control más preciso que el que proporciona [**MapUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-mapuserphysicalpages).</span><span class="sxs-lookup"><span data-stu-id="157ac-147">Map (or invalidate) AWE virtual addresses onto any set of physical pages obtained with [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages), but with finer control than that provided by [**MapUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-mapuserphysicalpages).</span></span> |
| [<span data-ttu-id="157ac-148">**FreeUserPhysicalPages**</span><span class="sxs-lookup"><span data-stu-id="157ac-148">**FreeUserPhysicalPages**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-freeuserphysicalpages)                            | <span data-ttu-id="157ac-149">Memoria física libre que se usó para AWE.</span><span class="sxs-lookup"><span data-stu-id="157ac-149">Free physical memory that was used for AWE.</span></span>                                                                                                                                                                                                               |



 

 

 
