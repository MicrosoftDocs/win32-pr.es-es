---
description: En este tema se describe cómo puede trabajar con nombres de dominio internacionalizados (IDN) en sus aplicaciones.
ms.assetid: e0ca356e-f8c1-4845-ae1e-ce2ae8987515
title: Administrar nombres de dominio internacionalizados (IDN)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 95e853f0ea3f62fc3e5ee848431417cc031eaa5a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104277753"
---
# <a name="handling-internationalized-domain-names-idns"></a><span data-ttu-id="264ce-103">Administrar nombres de dominio internacionalizados (IDN)</span><span class="sxs-lookup"><span data-stu-id="264ce-103">Handling Internationalized Domain Names (IDNs)</span></span>

<span data-ttu-id="264ce-104">En este tema se describe cómo puede trabajar con nombres de dominio internacionalizados (IDN) en sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="264ce-104">This topic describes how you can work with internationalized domain names (IDNs) in your applications.</span></span> <span data-ttu-id="264ce-105">Los IDN se especifican mediante el grupo de trabajo [de red RFC 3490: internacionalización de nombres de dominio en las aplicaciones (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span><span class="sxs-lookup"><span data-stu-id="264ce-105">IDNs are specified by Network Working Group [RFC 3490: Internationalizing Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span></span> <span data-ttu-id="264ce-106">Antes de este borrador estándar, los IDN se limitaban a los caracteres latinos sin diacríticos.</span><span class="sxs-lookup"><span data-stu-id="264ce-106">Prior to this draft standard, IDNs were limited to Latin characters without diacritics.</span></span> <span data-ttu-id="264ce-107">IDNA permite a IDN incluir caracteres latinos con signos diacríticos, junto con caracteres de scripts no latinos, como cirílico, Árabe y chino.</span><span class="sxs-lookup"><span data-stu-id="264ce-107">IDNA allows IDNs to include Latin characters with diacritics, along with characters from non-Latin scripts, such as Cyrillic, Arabic, and Chinese.</span></span> <span data-ttu-id="264ce-108">El estándar también establece reglas para asignar IDN a nombres de dominio solo ASCII.</span><span class="sxs-lookup"><span data-stu-id="264ce-108">The standard also establishes rules for mapping IDNs to ASCII-only domain names.</span></span> <span data-ttu-id="264ce-109">Por lo tanto, se pueden controlar los problemas de IDNA en el lado cliente, sin necesidad de realizar cambios en el servidor de nombres de dominio (DNS).</span><span class="sxs-lookup"><span data-stu-id="264ce-109">Thus, IDNA issues can be handled on the client side, without requiring any domain name server (DNS) changes.</span></span>

> [!Caution]  
> <span data-ttu-id="264ce-110">RFC 3490 presenta una serie de problemas de seguridad relacionados con el uso de IDN.</span><span class="sxs-lookup"><span data-stu-id="264ce-110">RFC 3490 introduces a number of security issues related to the use of IDNs.</span></span> <span data-ttu-id="264ce-111">Para obtener más información, vea la sección relacionada de [consideraciones de seguridad: características internacionales](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="264ce-111">For more information see the related section of [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

> [!Note]  
> <span data-ttu-id="264ce-112">IDNA se basa actualmente en Unicode 3,2.</span><span class="sxs-lookup"><span data-stu-id="264ce-112">IDNA is currently based on Unicode 3.2.</span></span>

 

## <a name="nls-api-functions-for-handling-idns"></a><span data-ttu-id="264ce-113">NLS API funciones para controlar IDN</span><span class="sxs-lookup"><span data-stu-id="264ce-113">NLS API Functions for Handling IDNs</span></span>

<span data-ttu-id="264ce-114">NLS incluye las siguientes funciones de conversión que la aplicación puede usar para convertir un IDN en representaciones diferentes.</span><span class="sxs-lookup"><span data-stu-id="264ce-114">NLS includes the following conversion functions that your application can use to convert an IDN to different representations.</span></span> <span data-ttu-id="264ce-115">Para obtener un ejemplo del uso de estas funciones, vea [NLS: ejemplo de conversión de nombres de dominio internacionalizados (IDN)](nls--internationalized-domain-name--idn--conversion-sample.md).</span><span class="sxs-lookup"><span data-stu-id="264ce-115">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md).</span></span>

-   <span data-ttu-id="264ce-116">[**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span><span class="sxs-lookup"><span data-stu-id="264ce-116">[**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span></span> <span data-ttu-id="264ce-117">Convierte un IDN en Punycode.</span><span class="sxs-lookup"><span data-stu-id="264ce-117">Converts an IDN to Punycode.</span></span>
-   <span data-ttu-id="264ce-118">[**IdnToNameprepUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span><span class="sxs-lookup"><span data-stu-id="264ce-118">[**IdnToNameprepUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span></span> <span data-ttu-id="264ce-119">Realiza la parte NamePrep de la conversión de un IDN en un nombre ASCII.</span><span class="sxs-lookup"><span data-stu-id="264ce-119">Performs the NamePrep portion of the conversion of an IDN to an ASCII name.</span></span> <span data-ttu-id="264ce-120">Esta función crea una representación canónica de Unicode de una cadena.</span><span class="sxs-lookup"><span data-stu-id="264ce-120">This function creates a canonical Unicode representation of a string.</span></span>
-   <span data-ttu-id="264ce-121">[**IdnToUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span><span class="sxs-lookup"><span data-stu-id="264ce-121">[**IdnToUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span></span> <span data-ttu-id="264ce-122">Convierte una cadena Punycode en una cadena UTF-16 normal.</span><span class="sxs-lookup"><span data-stu-id="264ce-122">Converts a Punycode string to a normal UTF-16 string.</span></span>

<span data-ttu-id="264ce-123">NLS también define varias funciones de API que se pueden usar para mitigar algunos de los riesgos de seguridad presentados por la tecnología IDN.</span><span class="sxs-lookup"><span data-stu-id="264ce-123">NLS also defines several API functions that can be used to mitigate some of the security risks presented by the IDN technology.</span></span> <span data-ttu-id="264ce-124">En Windows Vista y versiones posteriores, se usan las siguientes funciones para comprobar que los caracteres de un IDN determinado se dibujan completamente a partir de los scripts asociados a una configuración regional o configuraciones regionales determinadas.</span><span class="sxs-lookup"><span data-stu-id="264ce-124">On Windows Vista and later, the following functions are used to verify that the characters in a given IDN are drawn entirely from the scripts associated with a particular locale or locales.</span></span> <span data-ttu-id="264ce-125">Para obtener un ejemplo del uso de estas funciones, vea [NLS: ejemplo de mitigación de nombres de dominio internacionalizados (IDN)](nls--internationalized-domain-name--idn--mitigation-sample.md).</span><span class="sxs-lookup"><span data-stu-id="264ce-125">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md).</span></span>

-   <span data-ttu-id="264ce-126">[**GetStringScripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span><span class="sxs-lookup"><span data-stu-id="264ce-126">[**GetStringScripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span></span> <span data-ttu-id="264ce-127">Proporciona una lista de los scripts usados en una cadena determinada.</span><span class="sxs-lookup"><span data-stu-id="264ce-127">Provides a list of scripts used in a particular string.</span></span>
-   <span data-ttu-id="264ce-128">[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span><span class="sxs-lookup"><span data-stu-id="264ce-128">[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span></span> <span data-ttu-id="264ce-129">Recuperar información de configuración regional.</span><span class="sxs-lookup"><span data-stu-id="264ce-129">Retrieve locale information.</span></span> <span data-ttu-id="264ce-130">El uso de las funciones con *LCType* establecido en [configuración regional \_ SSCRIPTS](locale-sscripts.md) proporciona una lista de los scripts que se suelen usar para una configuración regional concreta.</span><span class="sxs-lookup"><span data-stu-id="264ce-130">Using the functions with *LCType* set to [LOCALE\_SSCRIPTS](locale-sscripts.md) provides a list of scripts normally used for a particular locale.</span></span>
-   <span data-ttu-id="264ce-131">[**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span><span class="sxs-lookup"><span data-stu-id="264ce-131">[**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span> <span data-ttu-id="264ce-132">Compara listas de scripts.</span><span class="sxs-lookup"><span data-stu-id="264ce-132">Compares lists of scripts.</span></span> <span data-ttu-id="264ce-133">Para comprobarlo con varias configuraciones regionales, la aplicación puede realizar varias llamadas a [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) o a [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) y [**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span><span class="sxs-lookup"><span data-stu-id="264ce-133">To verify against multiple locales, the application can make multiple calls to [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) or [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) and [**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span>

<span data-ttu-id="264ce-134">En el caso de las aplicaciones que se ejecutan en Windows XP y Windows Server 2003, las funciones [**DownlevelGetLocaleScripts**](downlevelgetlocalescripts.md), [**DownlevelGetStringScripts**](downlevelgetstringscripts.md)y [**DownlevelVerifyScripts**](downlevelverifyscripts.md) desempeñan un papel similar al de las funciones enumeradas anteriormente en mitigar el riesgo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="264ce-134">For applications that run on Windows XP and Windows Server 2003, the functions [**DownlevelGetLocaleScripts**](downlevelgetlocalescripts.md), [**DownlevelGetStringScripts**](downlevelgetstringscripts.md), and [**DownlevelVerifyScripts**](downlevelverifyscripts.md) play a similar role to the functions listed above in mitigating security risk.</span></span> <span data-ttu-id="264ce-135">La descarga ["API de mitigación de nombres de dominio internacionalizados (IDN)" de Microsoft](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) está disponible en el [centro de descarga de MSDN](https://www.microsoft.com/?ref=go).</span><span class="sxs-lookup"><span data-stu-id="264ce-135">The ["Microsoft Internationalized Domain Name (IDN) Mitigation APIs"](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) download is available at the [MSDN Download Center](https://www.microsoft.com/?ref=go).</span></span>

## <a name="handle-unicode-strings"></a><span data-ttu-id="264ce-136">Administrar cadenas Unicode</span><span class="sxs-lookup"><span data-stu-id="264ce-136">Handle Unicode Strings</span></span>

<span data-ttu-id="264ce-137">IDNA admite la transformación de cadenas Unicode en etiquetas de nombre de host legítimas, con la excepción de cadenas que contienen ciertos caracteres prohibidos, como caracteres de control, caracteres del área de uso privado (PUA) y similares.</span><span class="sxs-lookup"><span data-stu-id="264ce-137">IDNA supports the transformation of Unicode strings into legitimate host name labels, with the exception of strings containing certain prohibited characters, such as control characters, characters from the private use area (PUA), and the like.</span></span> <span data-ttu-id="264ce-138">La aplicación puede usar la \_ marca IDN use \_ STD3 \_ ASCII \_ rules con varias funciones de conversión de NLS para forzar que las funciones generen un error si encuentran caracteres ASCII distintos de letras, números o guiones (-), o si una cadena comienza o termina con el carácter de guión menos.</span><span class="sxs-lookup"><span data-stu-id="264ce-138">Your application can use the IDN\_USE\_STD3\_ASCII\_RULES flag with several NLS conversion functions to force the functions to fail if they encounter ASCII characters other than letters, numbers, or the hyphen-minus (-) character, or if a string begins or ends with the hyphen-minus character.</span></span> <span data-ttu-id="264ce-139">Siempre se prohíbe el uso de estos caracteres en los nombres de dominio y permanecen prohibidos en el borrador estándar.</span><span class="sxs-lookup"><span data-stu-id="264ce-139">These characters have always been prohibited from use in domain names, and remain prohibited in the draft standard.</span></span>

## <a name="handle-unassigned-code-points"></a><span data-ttu-id="264ce-140">Administrar puntos de código sin asignar</span><span class="sxs-lookup"><span data-stu-id="264ce-140">Handle Unassigned Code Points</span></span>

<span data-ttu-id="264ce-141">IDN no puede contener puntos de código sin asignar.</span><span class="sxs-lookup"><span data-stu-id="264ce-141">IDNs cannot contain unassigned code points.</span></span> <span data-ttu-id="264ce-142">Por lo tanto, los puntos de código que no están asociados a un carácter ("asignado") a partir de Unicode 3,2 no tienen asignaciones de IDN definidas, aunque la marca IDN permitir la asignación \_ \_ sin asignar en ciertas funciones de conversión permite que se asignen a Punycode.</span><span class="sxs-lookup"><span data-stu-id="264ce-142">Therefore, code points that are not associated with a character ("assigned") as of Unicode 3.2 do not have defined IDN mappings, even though the IDN\_ALLOW\_UNASSIGNED flag in certain conversion functions allows them to be mapped to Punycode.</span></span> <span data-ttu-id="264ce-143">Puede encontrar una lista de puntos de código sin asignar en [RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span><span class="sxs-lookup"><span data-stu-id="264ce-143">You can find a list of unassigned code points in [RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span></span>

> [!Caution]  
> <span data-ttu-id="264ce-144">Si la aplicación codifica puntos de código sin asignar como Punycode, los nombres de dominio resultantes no deben ser válidos.</span><span class="sxs-lookup"><span data-stu-id="264ce-144">If your application encodes unassigned code points as Punycode, the resulting domain names should be illegal.</span></span> <span data-ttu-id="264ce-145">La seguridad puede verse comprometida si una versión posterior de IDNA hace que estos nombres sean válidos o si la aplicación filtra los caracteres no válidos para intentar crear un nombre de dominio válido.</span><span class="sxs-lookup"><span data-stu-id="264ce-145">Security can be compromised if a later version of IDNA makes these names legal or if the application filters out the illegal characters to try to create a legal domain name.</span></span>

 

<span data-ttu-id="264ce-146">No se permiten puntos de código sin asignar en las cadenas almacenadas que se usan en los identificadores de protocolo y entidades con nombre, como los nombres de los certificados digitales y las partes del nombre de dominio DNS.</span><span class="sxs-lookup"><span data-stu-id="264ce-146">Unassigned code points are not allowed in the stored strings used in protocol identifiers and named entities, such as names in digital certificates and DNS domain name parts.</span></span> <span data-ttu-id="264ce-147">Sin embargo, los puntos de código se permiten en las cadenas de consulta, por ejemplo, los nombres especificados por el usuario para las entidades de certificación digitales y las búsquedas de DNS, que se usan para hacer coincidir con los identificadores almacenados.</span><span class="sxs-lookup"><span data-stu-id="264ce-147">However, the code points are allowed in query strings, for example, user-entered names for digital certificate authorities and DNS lookups, which are used to match against stored identifiers.</span></span>

> [!Caution]  
> <span data-ttu-id="264ce-148">Aunque las cadenas de consulta pueden usar puntos de código sin asignar, no deben usarse en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="264ce-148">Although query strings can use unassigned code points, you should not use them in your applications.</span></span> <span data-ttu-id="264ce-149">Incluso una cadena de consulta proporcionada por el usuario presenta un riesgo de un ataque de suplantación de identidad.</span><span class="sxs-lookup"><span data-stu-id="264ce-149">Even a user-supplied query string presents a risk of a "spoofing" attack.</span></span> <span data-ttu-id="264ce-150">En este tipo de ataque, el sitio host no escrupuloso vuelve a enrutar a los usuarios desde el sitio al que pretenden acceder a otro sitio que podría proporcionar información confidencial a terceros.</span><span class="sxs-lookup"><span data-stu-id="264ce-150">In this type of attack, the unscrupulous host site reroutes users from the site they intend to access to another site that might provide sensitive information to a third party.</span></span> <span data-ttu-id="264ce-151">Por ejemplo, la copia de una cadena de un correo electrónico entrante puede presentar los mismos riesgos que hacer clic en un vínculo de un explorador.</span><span class="sxs-lookup"><span data-stu-id="264ce-151">For example, copying a string from an incoming e-mail can present the same risks as clicking on a link in a browser.</span></span>

 

## <a name="convert-domain-names-to-ascii-names"></a><span data-ttu-id="264ce-152">Convertir nombres de dominio en nombres ASCII</span><span class="sxs-lookup"><span data-stu-id="264ce-152">Convert Domain Names to ASCII Names</span></span>

<span data-ttu-id="264ce-153">La aplicación puede usar la función [**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) y ciertas funciones de mitigación para convertir IDN en ASCII.</span><span class="sxs-lookup"><span data-stu-id="264ce-153">Your application can use the [**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) function and certain mitigation functions to convert IDNs to ASCII.</span></span>

> [!Caution]  
> <span data-ttu-id="264ce-154">Dado que las cadenas con representaciones binarias muy diferentes se pueden comparar como idénticas, esta función puede generar determinados problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="264ce-154">Because strings with very different binary representations can compare as identical, this function can raise certain security concerns.</span></span> <span data-ttu-id="264ce-155">Para obtener más información, vea la explicación de las funciones de comparación en [consideraciones de seguridad: características internacionales](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="264ce-155">For more information, see the discussion of comparison functions in [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

## <a name="examples"></a><span data-ttu-id="264ce-156">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="264ce-156">Examples</span></span>

<span data-ttu-id="264ce-157">[NLS: el ejemplo de conversión de nombres de dominio internacionalizados (IDN)](nls--internationalized-domain-name--idn--conversion-sample.md) muestra el uso de las funciones de conversión de IDN.</span><span class="sxs-lookup"><span data-stu-id="264ce-157">[NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md) demonstrates the use of the IDN conversion functions.</span></span> <span data-ttu-id="264ce-158">[NLS: el ejemplo de mitigación de nombres de dominio internacionalizados (IDN)](nls--internationalized-domain-name--idn--mitigation-sample.md) muestra el uso de las funciones de mitigación de IDN.</span><span class="sxs-lookup"><span data-stu-id="264ce-158">[NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md) demonstrates the use of the IDN mitigation functions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="264ce-159">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="264ce-159">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="264ce-160">Uso de la compatibilidad con National Language</span><span class="sxs-lookup"><span data-stu-id="264ce-160">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="264ce-161">Consideraciones de seguridad: características internacionales</span><span class="sxs-lookup"><span data-stu-id="264ce-161">Security Considerations: International Features</span></span>](security-considerations--international-features.md)
</dt> </dl>

 

 



