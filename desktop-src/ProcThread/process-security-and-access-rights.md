---
description: El modelo de seguridad de Microsoft Windows le permite controlar el acceso a los objetos de proceso. Para obtener más información sobre la seguridad, vea modelo de Access-Control.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Seguridad del proceso y derechos de acceso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 668520a6f4e0eb8a81b55418033ff583bce8bddf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105677840"
---
# <a name="process-security-and-access-rights"></a>Seguridad del proceso y derechos de acceso

El modelo de seguridad de Microsoft Windows le permite controlar el acceso a los objetos de proceso. Para obtener más información sobre la seguridad, vea [modelo de control de acceso](../secauthz/access-control-model.md).

Cuando un usuario inicia sesión, el sistema recopila un conjunto de datos que identifica de forma única al usuario durante el proceso de autenticación y lo almacena en un [token de acceso](../secauthz/access-tokens.md). Este token de acceso describe el contexto de seguridad de todos los procesos asociados al usuario. El contexto de seguridad de un proceso es el conjunto de credenciales proporcionadas al proceso o la cuenta de usuario que creó el proceso.

Puede usar un token para especificar el contexto de seguridad actual para un proceso mediante la función [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) . Puede especificar un [descriptor de seguridad](../secauthz/security-descriptors.md) para un proceso cuando llame a la función [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)o [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) . Si especifica **null**, el proceso obtiene un descriptor de seguridad predeterminado. Las ACL del descriptor de seguridad predeterminado de un proceso proceden del token principal o de suplantación del creador.

Para recuperar el descriptor de seguridad de un proceso, llame a la función [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) . Para cambiar el descriptor de seguridad de un proceso, llame a la función [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .

Los derechos de acceso válidos para los objetos de proceso incluyen los [derechos de acceso estándar](../secauthz/standard-access-rights.md) y algunos derechos de acceso específicos del proceso. En la tabla siguiente se enumeran los derechos de acceso estándar utilizados por todos los objetos.

| Value                           | Significado                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Eliminar** (0x00010000L)        | Necesario para eliminar el objeto.                                                                                                                                                                                                                                                           |
| **Leer \_ CONTROL** (0x00020000L) | Necesario para leer la información del descriptor de seguridad del objeto, sin incluir la información en la SACL. Para leer o escribir la SACL, debe solicitar el derecho de acceso de **\_ \_ seguridad del sistema de acceso** . Para obtener más información, consulte [derechos de acceso de SACL](../secauthz/sacl-access-right.md). |
| **Sincronizar** (0x00100000L)   | Derecho a utilizar el objeto para la sincronización. Esto permite a un subproceso esperar hasta que el objeto se encuentra en el estado señalado.                                                                                                                                                                |
| **Escribir \_ DAC** (0x00040000L)    | Necesario para modificar la DACL en el descriptor de seguridad para el objeto.                                                                                                                                                                                                                   |
| **Escribir \_ PROPIETARIO** (0x00080000L)  | Necesario para cambiar el propietario del descriptor de seguridad para el objeto.                                                                                                                                                                                                                  |



 

En la tabla siguiente se enumeran los derechos de acceso específicos del proceso.



| Value                                             | Significado                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **PROCESAR \_ todo el \_ acceso**                          | Todos los derechos de acceso posibles para un objeto de proceso. **Windows Server 2003 y Windows XP:** El tamaño de la marca **procesar \_ todo el \_ acceso** aumentó en Windows Server 2008 y Windows Vista. Si una aplicación compilada para Windows Server 2008 y Windows Vista se ejecuta en Windows Server 2003 o Windows XP, la marca **procesar \_ todo el \_ acceso** es demasiado grande y la función que especifica esta marca produce un **error con \_ acceso \_ denegado**. Para evitar este problema, especifique el conjunto mínimo de derechos de acceso necesarios para la operación. Si se debe usar **procesar \_ todo el \_ acceso** , establezca \_ Win32 \_ WinNT en el sistema operativo mínimo de destino de la aplicación (por ejemplo, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ). Para obtener más información, consulte [uso de los encabezados de Windows](../winprog/using-the-windows-headers.md). <br/> |
| **Proceso \_ de CREAR \_ proceso** (0x0080)             | Se requiere para crear un proceso.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Proceso \_ de CREAR \_ subproceso** (0x0002)              | Se requiere para crear un subproceso.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Proceso \_ de \_Identificador DUP** (0x0040)                 | Necesario para duplicar un identificador mediante [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Proceso \_ de \_Información de consulta** (0x0400)          | Necesario para recuperar determinada información sobre un proceso, como el token, el código de salida y la clase de prioridad (vea [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Proceso \_ de \_ \_ Información limitada de consulta** (0x1000) | Necesario para recuperar cierta información sobre un proceso (vea [**API GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)). Un identificador que tiene el derecho de acceso **\_ \_ información de consulta de proceso** se concede automáticamente a la **\_ \_ \_ información limitada** de la consulta de proceso.**Windows Server 2003 y Windows XP:** este derecho de acceso no se admite.<br/>                                                                                                                                                                                                                                                                                                                         |
| **Proceso \_ de ESTABLECER \_ información** (0x0200)            | Necesario para establecer determinada información sobre un proceso, como su clase de prioridad (vea [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Proceso \_ de ESTABLECER \_ cuota** (0x0100)                  | Necesario para establecer los límites de memoria mediante [**SetProcessWorkingSetSize**](/windows/desktop/api/WinBase/nf-winbase-setprocessworkingsetsize).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Proceso \_ de SUSPENDEr \_ reanudar** (0x0800)             | Necesario para suspender o reanudar un proceso.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Proceso \_ de FINALIZAR** (0x0001)                   | Necesario para finalizar un proceso mediante [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Proceso \_ de \_Operación de VM** (0x0008)               | Necesario para realizar una operación en el espacio de direcciones de un proceso (vea [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) y [**writeprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Proceso \_ de Máquina virtual \_ leída** (0x0010)                    | Necesario para leer la memoria de un proceso mediante [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Proceso \_ de \_Escritura de VM** (0x0020)                   | Necesario para escribir en la memoria de un proceso mediante [**writeprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Sincronizar** (0x00100000L)                     | Es necesario esperar a que el proceso termine de usar las [funciones de espera](../sync/wait-functions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

Para abrir un identificador de otro proceso y obtener derechos de acceso completo, debe habilitar el privilegio **SeDebugPrivilege** . Para obtener más información, consulte [cambiar privilegios en un token](../secbp/changing-privileges-in-a-token.md).

El identificador devuelto por la función [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) tiene acceso de proceso al objeto de proceso **\_ \_** . Cuando se llama a la función [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) , el sistema comprueba los [derechos de acceso](../secauthz/access-rights-and-access-masks.md) solicitados en la DACL en el descriptor de seguridad del proceso. Cuando se llama a la función [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) , el sistema devuelve un pseudohandle con el acceso máximo que la DACL permite al autor de la llamada.

Puede solicitar el derecho de acceso de **\_ \_ seguridad del sistema de acceso** a un objeto de proceso si desea leer o escribir la SACL del objeto. Para obtener más información, consulte derechos [de acceso de las listas de control de acceso (ACL)](../secauthz/access-control-lists.md) y [SACL](../secauthz/sacl-access-right.md).

> [!WARNING]
> Un proceso que tenga algunos de los derechos de acceso que se indican aquí puede usarlos para obtener otros derechos de acceso. Por ejemplo, si el proceso a tiene un identificador para el proceso B con acceso de **\_ \_ identificador DUP de proceso** , puede duplicar el pseudo identificador del proceso b. Esto crea un identificador que tiene acceso máximo al proceso B. Para obtener más información sobre los pseudo controladores, vea [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).

 

## <a name="protected-processes"></a>Procesos protegidos

Windows Vista incorpora *procesos protegidos* para mejorar la compatibilidad con Rights Management digitales. El sistema restringe el acceso a los procesos protegidos y a los subprocesos de los procesos protegidos.

No se permiten los siguientes derechos de acceso estándar desde un proceso a un proceso protegido:

- **DELETE**  
- **CONTROL de lectura \_**  
- **ESCRIBIR \_ DAC**  
- **propietario de escritura \_**  

No se permiten los siguientes derechos de acceso específicos desde un proceso a un proceso protegido:

- **PROCESAR \_ todo el \_ acceso**  
- **proceso de creación de procesos \_ \_**  
- **PROCESO de \_ creación de \_ subproceso**  
- **PROCESAR \_ \_ identificador DUP**  
- **PROCESAR \_ información de consulta \_**  
- **\_información del conjunto de procesos \_**  
- **\_cuota de conjunto de procesos \_**  
- **\_operación procesar máquina virtual \_**  
- **PROCESAR \_ lectura de VM \_**  
- **PROCESAR \_ escritura de máquina virtual \_**  

Se presentó el derecho **procesar \_ \_ \_ información limitada** de la consulta para proporcionar acceso a un subconjunto de la información disponible a través de la **\_ \_ información de consulta del proceso**.
