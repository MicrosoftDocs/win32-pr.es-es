---
description: La seguridad basada en roles se usa para establecer una directiva de autorización, que determina qué cliente o clientes deben permitir y con qué autoridad. Está decidiendo quién debe ser capaz de realizar las acciones y obtener acceso a los recursos.
ms.assetid: 8fc27fe1-e50a-44ba-a595-70b1fe463e24
title: Uso de roles para la autorización de cliente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a8ae748ddfec438a79e3d0440a00ed7c2f672aed
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104153190"
---
# <a name="using-roles-for-client-authorization"></a><span data-ttu-id="4a6f6-104">Uso de roles para la autorización de cliente</span><span class="sxs-lookup"><span data-stu-id="4a6f6-104">Using Roles for Client Authorization</span></span>

<span data-ttu-id="4a6f6-105">La seguridad basada en roles se usa para establecer una directiva de autorización, que determina qué cliente o clientes deben permitir y con qué autoridad.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-105">You use role-based security to establish an authorization policy, determining which client or clients to let in and with what authority.</span></span> <span data-ttu-id="4a6f6-106">Está decidiendo quién debe ser capaz de realizar las acciones y obtener acceso a los recursos.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-106">You are deciding who should be able to perform which actions and access which resources.</span></span>

<span data-ttu-id="4a6f6-107">Los roles facilitan esto actuando como un mecanismo de control de acceso que se invoca cada vez que un usuario intenta tener acceso a cualquier recurso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-107">Roles facilitate this by acting as an access control mechanism invoked whenever a user attempts to access any application resource.</span></span> <span data-ttu-id="4a6f6-108">Un rol es básicamente una lista de usuarios, más concretamente, una categoría simbólica de usuarios que comparten el mismo privilegio de seguridad.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-108">A role is basically a list of users—more precisely, a symbolic category of users that share the same security privilege.</span></span> <span data-ttu-id="4a6f6-109">Cuando asigna un rol a un recurso de aplicación, se le concede permiso de acceso para ese recurso a quien sea miembro de ese rol.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-109">When you assign a role to an application resource, you are granting access permission for that resource to whoever is a member of that role.</span></span>

<span data-ttu-id="4a6f6-110">Por lo tanto, puede definir un privilegio de seguridad muy determinado declarándolo como un rol y asignando después el rol a recursos específicos.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-110">Therefore, you can define a very particular security privilege by declaring it as a role and then assigning the role to specific resources.</span></span> <span data-ttu-id="4a6f6-111">Cuando se implementa la aplicación, el administrador del sistema puede rellenar el rol con usuarios y grupos de usuarios reales.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-111">When the application is deployed, the system administrator can populate the role with actual users and user groups.</span></span> <span data-ttu-id="4a6f6-112">Cuando se ejecuta la aplicación, COM+ aplicará las comprobaciones de rol.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-112">When the application runs, COM+ will enforce the policy by carrying out role checks.</span></span>

<span data-ttu-id="4a6f6-113">Fundamentalmente, los roles ayudan a proteger el código, es decir, los métodos a los que pueden llamar los clientes de una aplicación COM+.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-113">Fundamentally, roles help protect your code—that is, the methods that can be called by clients of a COM+ application.</span></span> <span data-ttu-id="4a6f6-114">La pertenencia al rol se comprueba cada vez que un cliente intenta llamar a un método expuesto por un componente en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-114">Role membership is checked whenever a client attempts to call a method exposed by a component in an application.</span></span> <span data-ttu-id="4a6f6-115">Si el llamador está en un rol asignado al método llamado, o recurso, la llamada se realiza correctamente; de lo contrario, se produce un error.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-115">If the caller is in a role assigned to the called method, or resource, the call succeeds; otherwise, it fails.</span></span>

## <a name="declarative-role-based-security"></a><span data-ttu-id="4a6f6-116">Seguridad de Role-Based declarativa</span><span class="sxs-lookup"><span data-stu-id="4a6f6-116">Declarative Role-Based Security</span></span>

<span data-ttu-id="4a6f6-117">Con la seguridad basada en roles declarativo, se declaran roles de forma administrativa mediante la herramienta administrativa Servicios de componentes o las funciones administrativas, y se asignan de forma administrativa a los recursos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-117">With declarative role-based security, you administratively declare roles—using either the Component Services administrative tool or the Administrative functions—and administratively assign them to application resources.</span></span> <span data-ttu-id="4a6f6-118">Dónde y cómo se establece la seguridad declarativa determinará dónde se dibujan los límites de seguridad para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-118">Where and how you set declarative security will determine where security boundaries are drawn for your application.</span></span> <span data-ttu-id="4a6f6-119">Para obtener más información, consulte [límites de seguridad](security-boundaries.md).</span><span class="sxs-lookup"><span data-stu-id="4a6f6-119">For more detail, see [Security Boundaries](security-boundaries.md).</span></span>

<span data-ttu-id="4a6f6-120">Puede asignar un rol determinado a toda la aplicación, a un componente determinado, a una interfaz determinada de un componente o a un método determinado en una interfaz.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-120">You can assign a given role to the entire application, to a particular component, to a particular interface in a component, or to a particular method on an interface.</span></span> <span data-ttu-id="4a6f6-121">Las asignaciones de roles se heredan de la cadena de inclusión natural, es decir, si se asigna un rol a un componente, se asigna implícitamente a cada interfaz y método expuesto por ese componente.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-121">Role assignments are inherited down the natural chain of inclusion—that is, if you assign a role to a component, it is implicitly assigned to every interface and method exposed by that component.</span></span>

<span data-ttu-id="4a6f6-122">Con la disponibilidad de las asignaciones de roles de nivel de método, puede proteger eficazmente los componentes y las interfaces que no se han diseñado pensando en la seguridad.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-122">With the availability of method-level role assignments, you can effectively help protect components and interfaces that have not been designed with security in mind.</span></span> <span data-ttu-id="4a6f6-123">Sin embargo, si los propios métodos no son protegibles con asignaciones de roles declarativos, puede que tenga que realizar la comprobación de roles mediante programación.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-123">However, if the methods themselves are not securable with declarative role assignments, you might need to do programmatic role checking.</span></span> <span data-ttu-id="4a6f6-124">Por lo general, es conveniente tener en cuenta la seguridad al decidir cómo factorizar la funcionalidad empresarial a través de métodos; de lo contrario, podría haber agregado el código relacionado con la seguridad en el último minuto.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-124">It is generally a good idea to keep security in mind when deciding how to factor business functionality through methods; otherwise, you could find yourself adding in security-related code at the last minute.</span></span>

<span data-ttu-id="4a6f6-125">Para ver los procedimientos detallados para establecer la seguridad basada en roles, consulte Configuración de la [seguridad de Role-Based](configuring-role-based-security.md).</span><span class="sxs-lookup"><span data-stu-id="4a6f6-125">For detailed procedures for setting role-based security, see [Configuring Role-Based Security](configuring-role-based-security.md).</span></span>

## <a name="programmatic-security"></a><span data-ttu-id="4a6f6-126">Seguridad mediante programación</span><span class="sxs-lookup"><span data-stu-id="4a6f6-126">Programmatic Security</span></span>

<span data-ttu-id="4a6f6-127">En algunas circunstancias, puede que desee colocar la lógica de seguridad en los componentes mientras sigue usando la seguridad basada en roles.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-127">In some circumstances you may want to put security logic into components while still using role-based security.</span></span> <span data-ttu-id="4a6f6-128">Es posible que no pueda, o elija no, factorizar todas las decisiones de acceso a través de los métodos.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-128">It might be that you're not able to—or choose not to—factor all access decisions through methods.</span></span> <span data-ttu-id="4a6f6-129">Por ejemplo, puede tener un recurso de aplicación privada, quizás una base de datos determinada, que desea permitir que solo algunos autores de llamadas de un método tengan acceso a la vez que excluyen otros.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-129">For example, you might have a private application resource, perhaps a particular database, that you want to allow only some callers of a method to access while excluding others.</span></span> <span data-ttu-id="4a6f6-130">O bien, puede tener un único método TransferMoney y desea restringir algunos llamadores limitando la cantidad que se pueden transferir.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-130">Or you might have a single TransferMoney method and want to restrict some callers by limiting the amount they can transfer.</span></span>

<span data-ttu-id="4a6f6-131">En tales circunstancias, puede realizar la comprobación de roles en el código.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-131">In such circumstances, you can do role checking in code.</span></span> <span data-ttu-id="4a6f6-132">Se proporciona una API simple, lo que le permite comprobar si la seguridad está activada y si un llamador o un usuario determinado se encuentra en un rol determinado.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-132">A simple API is provided, enabling you to check whether security is turned on and whether a caller or a particular user is in a given role.</span></span> <span data-ttu-id="4a6f6-133">Esta funcionalidad solo está disponible cuando está habilitada la seguridad basada en roles.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-133">This functionality is available only when role-based security is enabled.</span></span> <span data-ttu-id="4a6f6-134">Esto significa que puede seguir aprovechando la seguridad declarativa basada en roles donde es suficiente y, a continuación, puede ampliarla mediante programación a un nivel de granularidad más fino cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-134">This means that you can still take advantage of declarative role-based security where it suffices, and then you can programmatically extend it to a finer level of granularity when necessary.</span></span>

<span data-ttu-id="4a6f6-135">Además, cuando se utiliza la seguridad basada en roles, se tiene acceso mediante programación a la información relativa a todos los llamadores ascendentes en la cadena de llamadas al componente.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-135">Additionally, when you use role-based security, you have programmatic access to information regarding all upstream callers in the chain of calls to your component.</span></span> <span data-ttu-id="4a6f6-136">Esto es especialmente útil si desea mantener una pista de auditoría detallada.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-136">This is especially useful when you want to keep a detailed audit trail.</span></span>

<span data-ttu-id="4a6f6-137">Para obtener descripciones sobre cómo realizar comprobaciones de roles en el código y cómo obtener acceso a la información de contexto de llamadas de seguridad, vea [seguridad de componentes de programación](programmatic-component-security.md).</span><span class="sxs-lookup"><span data-stu-id="4a6f6-137">For descriptions of how to do role checking in code and how to access security call context information, see [Programmatic Component Security](programmatic-component-security.md).</span></span>

## <a name="authorization-and-authentication"></a><span data-ttu-id="4a6f6-138">Autorización y autenticación</span><span class="sxs-lookup"><span data-stu-id="4a6f6-138">Authorization and Authentication</span></span>

<span data-ttu-id="4a6f6-139">La autorización tiene la certeza de que está seguro de que los clientes son realmente quienes dicen ser.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-139">Meaningful authorization presupposes that you are confident that clients are actually who they say they are.</span></span> <span data-ttu-id="4a6f6-140">La comprobación de la identidad del cliente se controla por separado por un servicio de autenticación.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-140">The verification of client identity is handled separately by an authentication service.</span></span> <span data-ttu-id="4a6f6-141">Sin autenticación, básicamente se permite a los autores de llamadas en el sistema de honor.</span><span class="sxs-lookup"><span data-stu-id="4a6f6-141">Without authentication, you are basically letting callers in on the honor system.</span></span> <span data-ttu-id="4a6f6-142">Para obtener descripciones de la autenticación a medida que afecta a las aplicaciones COM+, consulte [autenticación del cliente](client-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="4a6f6-142">For descriptions of authentication as it impacts COM+ applications, see [Client Authentication](client-authentication.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="4a6f6-143">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="4a6f6-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4a6f6-144">Diseñar roles de forma eficaz</span><span class="sxs-lookup"><span data-stu-id="4a6f6-144">Designing Roles Effectively</span></span>](designing-roles-effectively.md)
</dt> <dt>

[<span data-ttu-id="4a6f6-145">Límites de seguridad</span><span class="sxs-lookup"><span data-stu-id="4a6f6-145">Security Boundaries</span></span>](security-boundaries.md)
</dt> <dt>

[<span data-ttu-id="4a6f6-146">Información de contexto de llamada de seguridad</span><span class="sxs-lookup"><span data-stu-id="4a6f6-146">Security Call Context Information</span></span>](security-call-context-information.md)
</dt> <dt>

[<span data-ttu-id="4a6f6-147">Propiedad de contexto de seguridad</span><span class="sxs-lookup"><span data-stu-id="4a6f6-147">Security Context Property</span></span>](security-context-property.md)
</dt> </dl>

 

 



