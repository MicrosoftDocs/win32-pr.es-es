---
description: Toda la información acerca de un archivo, incluido el tamaño, las marcas de fecha y hora, los permisos y el contenido de los datos, se almacena en las entradas de la tabla maestra de archivos (MFT) o en el espacio fuera de la MFT que se describe en las entradas de MFT.
ms.assetid: e0933846-278e-4bc8-8982-c5819c252dad
title: Tabla de archivos maestros (sistemas de archivos locales)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 260740c03e7b7e4ebe9c7e8ec90035431f6be649
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105669682"
---
# <a name="master-file-table-local-file-systems"></a><span data-ttu-id="76134-103">Tabla de archivos maestros (sistemas de archivos locales)</span><span class="sxs-lookup"><span data-stu-id="76134-103">Master File Table (Local File Systems)</span></span>

<span data-ttu-id="76134-104">El sistema de archivos NTFS contiene un archivo denominado *tabla maestra de archivos* o MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-104">The NTFS file system contains a file called the *master file table*, or MFT.</span></span> <span data-ttu-id="76134-105">Hay al menos una entrada en la MFT para cada archivo en un volumen del sistema de archivos NTFS, incluido el propio MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-105">There is at least one entry in the MFT for every file on an NTFS file system volume, including the MFT itself.</span></span> <span data-ttu-id="76134-106">Toda la información acerca de un archivo, incluido el tamaño, las marcas de fecha y hora, los permisos y el contenido de los datos, se almacena en las entradas de MFT o en el espacio fuera de la MFT que se describe en las entradas de MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-106">All information about a file, including its size, time and date stamps, permissions, and data content, is stored either in MFT entries, or in space outside the MFT that is described by MFT entries.</span></span>

<span data-ttu-id="76134-107">A medida que se agregan archivos a un volumen del sistema de archivos NTFS, se agregan más entradas a la MFT y la MFT aumenta de tamaño.</span><span class="sxs-lookup"><span data-stu-id="76134-107">As files are added to an NTFS file system volume, more entries are added to the MFT and the MFT increases in size.</span></span> <span data-ttu-id="76134-108">Cuando los archivos se eliminan de un volumen del sistema de archivos NTFS, sus entradas de MFT se marcan como disponibles y se pueden volver a usar.</span><span class="sxs-lookup"><span data-stu-id="76134-108">When files are deleted from an NTFS file system volume, their MFT entries are marked as free and may be reused.</span></span> <span data-ttu-id="76134-109">Sin embargo, el espacio en disco que se ha asignado para estas entradas no se reasigna y el tamaño de la MFT no disminuye.</span><span class="sxs-lookup"><span data-stu-id="76134-109">However, disk space that has been allocated for these entries is not reallocated, and the size of the MFT does not decrease.</span></span>

<span data-ttu-id="76134-110">El sistema de archivos NTFS Reserva espacio para que la MFT mantenga el MFT lo más contiguo posible a medida que crezca.</span><span class="sxs-lookup"><span data-stu-id="76134-110">The NTFS file system reserves space for the MFT to keep the MFT as contiguous as possible as it grows.</span></span> <span data-ttu-id="76134-111">El espacio reservado por el sistema de archivos NTFS para la MFT en cada volumen se denomina zona MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-111">The space reserved by the NTFS file system for the MFT in each volume is called the MFT zone.</span></span> <span data-ttu-id="76134-112">También se asigna espacio para archivos y directorios desde este espacio, pero solo después de que se haya asignado todo el espacio de volumen fuera de la zona MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-112">Space for file and directories are also allocated from this space, but only after all of the volume space outside of the MFT zone has been allocated.</span></span>

<span data-ttu-id="76134-113">En función del tamaño de archivo medio y de otras variables, la zona MFT reservada o el espacio sin reservar del disco se pueden asignar primero a medida que el disco se llena de la capacidad.</span><span class="sxs-lookup"><span data-stu-id="76134-113">Depending on the average file size and other variables, either the reserved MFT zone or the unreserved space on the disk may be allocated first as the disk fills to capacity.</span></span> <span data-ttu-id="76134-114">Los volúmenes con un número pequeño de archivos relativamente grandes asignarán el espacio sin reservar primero, mientras que los volúmenes con un gran número de archivos relativamente pequeños asignan primero la zona MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-114">Volumes with a small number of relatively large files will allocate the unreserved space first, while volumes with a large number of relatively small files allocate the MFT zone first.</span></span> <span data-ttu-id="76134-115">En cualquier caso, la fragmentación de la MFT comienza a tener lugar cuando una región u otra se asigna por completo.</span><span class="sxs-lookup"><span data-stu-id="76134-115">In either case, fragmentation of the MFT starts to take place when one region or the other becomes fully allocated.</span></span> <span data-ttu-id="76134-116">Si el espacio sin reservar se asigna por completo, el espacio de los archivos de usuario y directorios se asignará desde la zona MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-116">If the unreserved space is completely allocated, space for user files and directories will be allocated from the MFT zone.</span></span> <span data-ttu-id="76134-117">Si la zona MFT está completamente asignada, se asignará espacio para las nuevas entradas MFT desde el espacio sin reservar.</span><span class="sxs-lookup"><span data-stu-id="76134-117">If the MFT zone is completely allocated, space for new MFT entries will be allocated from the unreserved space.</span></span>

<span data-ttu-id="76134-118">El propio MFT se puede desfragmentar.</span><span class="sxs-lookup"><span data-stu-id="76134-118">The MFT itself can be defragmented.</span></span> <span data-ttu-id="76134-119">Para reducir la posibilidad de que la zona MFT se asigne por completo antes de que se complete el proceso de desfragmentación, deje todo el espacio al principio de la zona MFT como sea posible antes de desfragmentar el volumen.</span><span class="sxs-lookup"><span data-stu-id="76134-119">To reduce the chance of the MFT zone becoming fully allocated before the defragmentation process is complete, leave as much space at the beginning of the MFT zone as possible before defragmenting the volume.</span></span> <span data-ttu-id="76134-120">Si la zona MFT se asigna por completo antes de que se complete la desfragmentación, debe haber espacio sin asignar fuera de la zona MFT.</span><span class="sxs-lookup"><span data-stu-id="76134-120">If the MFT zone becomes fully allocated before defragmentation has completed, there must be unallocated space outside of the MFT zone.</span></span>

<span data-ttu-id="76134-121">El sistema calcula y reserva la zona MFT predeterminada cuando monta el volumen y se basa en el tamaño del volumen.</span><span class="sxs-lookup"><span data-stu-id="76134-121">The default MFT zone is calculated and reserved by the system when it mounts the volume, and is based on volume size.</span></span> <span data-ttu-id="76134-122">Puede aumentar la zona MFT por medio de la entrada del registro que se detalla en el [artículo 174619 de Microsoft Knowledge Base](https://support.microsoft.com/kb/174619), pero no puede hacer que la zona MFT predeterminada sea menor que la que se calcula.</span><span class="sxs-lookup"><span data-stu-id="76134-122">You can increase the MFT zone by means of the registry entry detailed in [Microsoft Knowledge Base Article 174619](https://support.microsoft.com/kb/174619), but you cannot make the default MFT zone smaller than what is calculated.</span></span> <span data-ttu-id="76134-123">Al aumentar la zona MFT no se reduce el espacio en disco que los usuarios pueden usar para los archivos de datos.</span><span class="sxs-lookup"><span data-stu-id="76134-123">Increasing the MFT zone does not decrease the disk space that users can use for data files.</span></span>

<span data-ttu-id="76134-124">Para determinar el tamaño actual de la MFT, analice la unidad del sistema de archivos NTFS con el Desfragmentador de disco y haga clic en el botón **Ver informe** .</span><span class="sxs-lookup"><span data-stu-id="76134-124">To determine the current size of the MFT, analyze the NTFS file system drive with Disk Defragmenter, then click the **View Report** button.</span></span> <span data-ttu-id="76134-125">Se mostrarán las estadísticas de la unidad, incluido el tamaño actual de la MFT y el número de fragmentos.</span><span class="sxs-lookup"><span data-stu-id="76134-125">The drive statistics will be displayed, including the current MFT size, and number of fragments.</span></span> <span data-ttu-id="76134-126">También puede obtener el tamaño de la MFT con el código de control de [**\_ \_ \_ \_ datos de volumen NTFS Get**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) .</span><span class="sxs-lookup"><span data-stu-id="76134-126">You can also obtain the size of the MFT by using the [**FSCTL\_GET\_NTFS\_VOLUME\_DATA**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) control code.</span></span>

 

 
