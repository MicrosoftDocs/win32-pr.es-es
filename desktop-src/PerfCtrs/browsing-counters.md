---
description: Para mostrar un cuadro de diálogo que muestra los objetos y contadores de rendimiento definidos en el equipo, llame a la función PdhBrowseCounters.
ms.assetid: f2fac1d3-f643-43c9-a445-112015baecdd
title: Examinar contadores
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd4bae5ce5ae7a21ae247cf66515f7386b8d0265
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105667348"
---
# <a name="browsing-counters"></a><span data-ttu-id="64542-103">Examinar contadores</span><span class="sxs-lookup"><span data-stu-id="64542-103">Browsing Counters</span></span>

<span data-ttu-id="64542-104">Para mostrar un cuadro de diálogo que muestra los objetos y contadores de rendimiento definidos en el equipo, llame a la función [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) .</span><span class="sxs-lookup"><span data-stu-id="64542-104">To display a dialog box that lists the performance objects and counters defined on the computer, call the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function.</span></span> <span data-ttu-id="64542-105">El cuadro de diálogo permite al usuario examinar y seleccionar los contadores de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="64542-105">The dialog box lets the user browse and select performance counters.</span></span> <span data-ttu-id="64542-106">Use la estructura de configuración de [**PDH \_ Browse \_ Dlg \_**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) para especificar la configuración del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="64542-106">You use the [**PDH\_BROWSE\_DLG\_CONFIG**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) structure to specify the configuration of the dialog box.</span></span> <span data-ttu-id="64542-107">Por ejemplo, puede configurar el cuadro de diálogo para devolver una selección o varias selecciones.</span><span class="sxs-lookup"><span data-stu-id="64542-107">For example, you can configure the dialog to return one selection or multiple selections.</span></span>

<span data-ttu-id="64542-108">En la entrada, el miembro **szReturnPathBuffer** contiene el objeto de rendimiento predeterminado y el contador que está seleccionado en el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="64542-108">On input, the **szReturnPathBuffer** member contains the default performance object and counter that is selected in the dialog box.</span></span> <span data-ttu-id="64542-109">En la salida, el búfer contiene el objeto de rendimiento y el contador que el usuario seleccionó.</span><span class="sxs-lookup"><span data-stu-id="64542-109">On output, the buffer contains the performance object and counter that the user selected.</span></span> <span data-ttu-id="64542-110">También puede usar el miembro **pCallBack** para especificar una función de devolución de llamada que procese los nombres de contador devueltos por el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="64542-110">You can also use the **pCallBack** member to specify a callback function to process the counter names returned by the dialog box.</span></span>

<span data-ttu-id="64542-111">Tenga en cuenta que este cuadro de diálogo puede devolver el cuadro de diálogo PDH \_ \_ cancelado si **bSingleCounterPerDialog** es **false** y el usuario hace clic en el botón Cerrar, por lo que el control de errores tendría que tener en cuenta esto.</span><span class="sxs-lookup"><span data-stu-id="64542-111">Note that this dialog box can return PDH\_DIALOG\_CANCELLED if **bSingleCounterPerDialog** is **FALSE** and the user clicks the Close button, so your error handling would have to account for this.</span></span>

<span data-ttu-id="64542-112">Para obtener un ejemplo en el que se usa la función [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) , vea [examinar los contadores de rendimiento](browsing-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="64542-112">For an example that uses the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function, see [Browsing Performance Counters](browsing-performance-counters.md).</span></span>

<span data-ttu-id="64542-113">Para recuperar una lista de objetos de rendimiento en el equipo, también puede llamar a la función [**PdhEnumObjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) .</span><span class="sxs-lookup"><span data-stu-id="64542-113">To retrieve a list of performance objects on the computer, you can also call the [**PdhEnumObjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) function.</span></span> <span data-ttu-id="64542-114">Para recuperar una lista de contadores e instancias para un objeto de rendimiento, llame a la función [**PdhEnumObjectItems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) .</span><span class="sxs-lookup"><span data-stu-id="64542-114">To retrieve a list of counters and instances for a performance object, call the [**PdhEnumObjectItems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) function.</span></span> <span data-ttu-id="64542-115">También puede utilizar estas funciones para identificar los objetos de rendimiento y los contadores contenidos en un archivo de registro.</span><span class="sxs-lookup"><span data-stu-id="64542-115">You can also use these functions to identify the performance objects and counters contained in a log file.</span></span> <span data-ttu-id="64542-116">Las llamadas repetidas a **PdhEnumObjectItems** devolverán la misma lista de contadores e instancias hasta que llame a **PdhEnumObjects** para actualizar la lista de objetos de rendimiento en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="64542-116">Repeated calls to **PdhEnumObjectItems** will return the same list of counters and instances until you call **PdhEnumObjects** to refresh the list of performance objects first.</span></span> <span data-ttu-id="64542-117">Para obtener un ejemplo en el que se enumeran objetos y contadores, consulte [enumeración de objetos de proceso](enumerating-process-objects.md).</span><span class="sxs-lookup"><span data-stu-id="64542-117">For an example that enumerates objects and counters, see [Enumerating Process Objects](enumerating-process-objects.md).</span></span>

## <a name="selecting-the-data-source"></a><span data-ttu-id="64542-118">Seleccionar el origen de datos</span><span class="sxs-lookup"><span data-stu-id="64542-118">Selecting the data source</span></span>

<span data-ttu-id="64542-119">Puede usar [**PdhSelectDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) junto con [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) para solicitar al usuario que seleccione si el origen de datos se encuentra en tiempo real o en un archivo de registro, y, si es un archivo de registro, su nombre.</span><span class="sxs-lookup"><span data-stu-id="64542-119">You can use [**PdhSelectDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) in conjunction with [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) to prompt the user to select whether the data source is in real-time or from a log file, and, if it is a log file, its name.</span></span> <span data-ttu-id="64542-120">Si no desea que se muestre el cuadro de diálogo origen de datos, puede llamar a **PdhSelectDataSource** para mostrar solo el catálogo del explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="64542-120">If you do not want the data source dialog to be displayed, you can call **PdhSelectDataSource** to display only the file browser catalog.</span></span> <span data-ttu-id="64542-121">Para ello, especifique \_ \_ \_ el explorador de archivos de marcas de PDH \_ únicamente como el segundo parámetro de la llamada a **PdhSelectDataSource**.</span><span class="sxs-lookup"><span data-stu-id="64542-121">To do this, specify PDH\_FLAGS\_FILE\_BROWSER\_ONLY as the second parameter of the call to **PdhSelectDataSource**.</span></span>

 

 



