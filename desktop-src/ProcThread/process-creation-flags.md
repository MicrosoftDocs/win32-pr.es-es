---
Description: Las funciones CreateProcess, CreateProcessAsUser, CreateProcessWithLogonW y CreateProcessWithTokenW usan las siguientes marcas de creación de procesos. Se pueden especificar en cualquier combinación, salvo que se indique lo contrario.
ms.assetid: fd3384ad-8635-4ea1-9054-0572ef86b86d
title: Marcas de creación de procesos (WinBase. h)
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/27/2020
ms.openlocfilehash: 560a6c5ca54a5767c0fb0c9b4b8659d608f46766
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/22/2021
ms.locfileid: "105678987"
---
# <a name="process-creation-flags"></a>Marcas de creación de procesos

Las funciones [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw)y [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) usan las siguientes marcas de creación de procesos. Se pueden especificar en cualquier combinación, salvo que se indique lo contrario.

## <a name="example"></a>Ejemplo

```c
     BOOL creationResult;
    
    creationResult = CreateProcess(
        NULL,                   // No module name (use command line)
        cmdLine,                // Command line
        NULL,                   // Process handle not inheritable
        NULL,                   // Thread handle not inheritable
        FALSE,                  // Set handle inheritance to FALSE
        NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE | CREATE_NEW_PROCESS_GROUP, // creation flags
        NULL,                   // Use parent's environment block
        NULL,                   // Use parent's starting directory 
        &startupInfo,           // Pointer to STARTUPINFO structure
        &processInformation);   // Pointer to PROCESS_INFORMATION structure

```

Ejemplo de [ejemplos clásicos de Windows](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/ManagementInfrastructure/cpp/Process/Provider/WindowsProcess.c) en github.


## <a name="flags"></a>Marcas

| Constante o valor                                                                                                                                                                                                                                                                            | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CREATE_BREAKAWAY_FROM_JOB"></span><span id="create_breakaway_from_job"></span><dl> <dt>**Crear \_ SEPARACIÓN \_ del \_ trabajo**</dt> <dt>0x01000000</dt> </dl>                       | Los procesos secundarios de un proceso asociado a un trabajo no están asociados con el trabajo. <br/> Si el proceso de llamada no está asociado a un trabajo, esta constante no tiene ningún efecto. Si el proceso de llamada está asociado a un trabajo, el trabajo debe establecer el límite de **separación de límite de objetos de trabajo \_ \_ \_ \_** .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_DEFAULT_ERROR_MODE"></span><span id="create_default_error_mode"></span><dl> <dt>**Crear \_ \_ \_ Modo de error predeterminado**</dt> <dt>0x04000000</dt> </dl>                       | El nuevo proceso no hereda el modo de error del proceso que realiza la llamada. En su lugar, el nuevo proceso obtiene el modo de error predeterminado. <br/> Esta característica es especialmente útil para las aplicaciones de Shell multiproceso que se ejecutan con errores severos deshabilitados.<br/> El comportamiento predeterminado es que el nuevo proceso herede el modo de error del autor de la llamada. Al establecer esta marca, se cambia el comportamiento predeterminado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CREATE_NEW_CONSOLE"></span><span id="create_new_console"></span><dl> <dt>**Crear \_ NUEVA \_ consola**</dt> <dt>0x00000010</dt> </dl>                                             | El nuevo proceso tiene una nueva consola, en lugar de heredar la consola de su elemento primario (valor predeterminado). Para obtener más información, vea [creación de una consola de](/windows/console/creation-of-a-console). <br/> Esta marca no se puede usar con el **\_ proceso desasociado**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="CREATE_NEW_PROCESS_GROUP"></span><span id="create_new_process_group"></span><dl> <dt>**Crear \_ NUEVO \_ \_ grupo de procesos**</dt> <dt>0x00000200</dt> </dl>                          | El nuevo proceso es el proceso raíz de un nuevo grupo de procesos. El grupo de procesos incluye todos los procesos que son descendientes de este proceso raíz. El identificador de proceso del nuevo grupo de procesos es el mismo que el identificador de proceso, que se devuelve en el parámetro *lpProcessInformation* . La función [**GenerateConsoleCtrlEvent**](/windows/console/generateconsolectrlevent) usa los grupos de procesos para habilitar el envío de una señal Ctrl + Inter a un grupo de procesos de consola.<br/> Si se especifica esta marca, se deshabilitarán las señales CTRL + C para todos los procesos dentro del nuevo grupo de procesos.<br/> Esta marca se omite si se especifica con **crear \_ nueva \_ consola**.<br/>                                                                                                                                                                                                                                                                         |
| <span id="CREATE_NO_WINDOW"></span><span id="create_no_window"></span><dl> <dt>**Crear \_ NO \_ hay**</dt> <dt>0x08000000</dt> de ventana </dl>                                                   | El proceso es una aplicación de consola que se ejecuta sin una ventana de consola. Por lo tanto, no se establece el identificador de consola de la aplicación.<br/> Esta marca se omite si la aplicación no es una aplicación de consola o si se usa con **crear \_ nueva \_ consola** o **\_ proceso desasociado**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CREATE_PROTECTED_PROCESS"></span><span id="create_protected_process"></span><dl> <dt>**Crear \_ \_Proceso protegido**</dt> <dt>0x00040000</dt> </dl>                           | El proceso se va a ejecutar como un proceso protegido. El sistema restringe el acceso a los procesos protegidos y a los subprocesos de los procesos protegidos. Para obtener más información sobre cómo los procesos pueden interactuar con los procesos protegidos, consulte [derechos de acceso y seguridad de procesos](process-security-and-access-rights.md).<br/> Para activar un proceso protegido, el archivo binario debe tener una firma especial. Esta firma la proporciona Microsoft, pero no está disponible actualmente para binarios que no son de Microsoft. Actualmente hay cuatro procesos protegidos: Media Foundation, motor de audio, informe de errores de Windows y sistema. Los componentes que se cargan en estos archivos binarios también deben estar firmados. Las compañías de multimedia pueden aprovechar los dos primeros procesos protegidos. Para obtener más información, vea [información general sobre la ruta de acceso a los medios protegidos](../medfound/protected-media-path.md).<br/> **Windows Server 2003 y Windows XP:** Este valor no se admite.<br/> |
| <span id="CREATE_PRESERVE_CODE_AUTHZ_LEVEL"></span><span id="create_preserve_code_authz_level"></span><dl> <dt>**Crear \_ CONSERVAR \_ código \_ de \_ nivel de AUTHZ**</dt> <dt>0x02000000</dt> </dl> | Permite que el llamador ejecute un proceso secundario que omita las restricciones de proceso que normalmente se aplicarían automáticamente al proceso.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CREATE_SECURE_PROCESS"></span><span id="create_secure_process"></span><dl> <dt>**Crear \_ 0x00400000 de \_ proceso seguro**</dt> <dt></dt> </dl>                                    | Esta marca permite iniciar procesos seguros, que se ejecutan en el entorno de seguridad de Virtualization-Based.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_SEPARATE_WOW_VDM"></span><span id="create_separate_wow_vdm"></span><dl> <dt>**Crear \_ INDEPENDIENTE de \_ wow \_ VDM**</dt> <dt>0x00000800</dt> </dl>                             | Esta marca solo es válida cuando se inicia una aplicación basada en Windows de 16 bits. Si se establece, el nuevo proceso se ejecuta en una máquina virtual de DOS privada (VDM). De forma predeterminada, todas las aplicaciones basadas en Windows de 16 bits se ejecutan como subprocesos en un solo VDM compartido. La ventaja de ejecutarse por separado es que un bloqueo solo finaliza el VDM único; cualquier otro programa que se ejecute en DISTINCT VDMs sigue funcionando con normalidad. Además, las aplicaciones basadas en Windows de 16 bits que se ejecutan en VDMs independientes tienen colas de entrada independientes. Esto significa que si una aplicación deja de responder momentáneamente, las aplicaciones en VDMs independientes continúan recibiendo la entrada. El inconveniente de ejecutarse por separado es que requiere mucho más memoria para hacerlo. Esta marca solo se debe usar si el usuario solicita que las aplicaciones de 16 bits se ejecuten en su propio VDM.<br/>                                                                                                                 |
| <span id="CREATE_SHARED_WOW_VDM"></span><span id="create_shared_wow_vdm"></span><dl> <dt>**Crear \_ SHARED \_ wow \_ VDM**</dt> <dt>0x00001000</dt> </dl>                                   | La marca solo es válida cuando se inicia una aplicación basada en Windows de 16 bits. Si el modificador DefaultSeparateVDM de la sección de Windows de WIN.INI es **true**, esta marca invalida el modificador. El nuevo proceso se ejecuta en la máquina virtual DOS compartida.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="CREATE_SUSPENDED"></span><span id="create_suspended"></span><dl> <dt>**Crear \_ SUSPENSIÓN**</dt> de <dt>0x00000004</dt> </dl>                                                    | El subproceso principal del nuevo proceso se crea en un estado suspendido y no se ejecuta hasta que se llama a la función [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="CREATE_UNICODE_ENVIRONMENT"></span><span id="create_unicode_environment"></span><dl> <dt>**Crear \_ \_Entorno Unicode**</dt> <dt>0x00000400</dt> </dl>                     | Si se establece esta marca, el bloque de entorno al que apunta *lpEnvironment* utiliza caracteres Unicode. De lo contrario, el bloque de entorno utiliza caracteres ANSI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="DEBUG_ONLY_THIS_PROCESS"></span><span id="debug_only_this_process"></span><dl> <dt>**Depuración \_ SOLO \_ este \_ proceso**</dt> <dt>0x00000002</dt> </dl>                             | El subproceso que realiza la llamada inicia y depura el nuevo proceso. Puede recibir todos los eventos de depuración relacionados mediante la función [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="DEBUG_PROCESS"></span><span id="debug_process"></span><dl> <dt>**Depuración \_ PROCESO**</dt> <dt>0x00000001</dt> </dl>                                                             | El subproceso que realiza la llamada inicia y depura el nuevo proceso y todos los procesos secundarios creados por el nuevo proceso. Puede recibir todos los eventos de depuración relacionados mediante la función [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) . <br/> Un proceso que usa **el \_ proceso de depuración** se convierte en la raíz de una cadena de depuración. Esto continúa hasta que se crea otro proceso en la cadena con el **\_ proceso de depuración**.<br/> Si esta marca se combina **solo con depurar \_ \_ este \_ proceso**, el autor de la llamada solo depura el nuevo proceso, no los procesos secundarios.<br/>                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="DETACHED_PROCESS"></span><span id="detached_process"></span><dl> <dt>**Separado \_ PROCESO**</dt> <dt>0x00000008</dt> </dl>                                                    | En el caso de los procesos de la consola, el nuevo proceso no hereda la consola de su elemento primario (valor predeterminado). El nuevo proceso puede llamar a la función [**AllocConsole**](/windows/console/allocconsole) en otro momento para crear una consola. Para obtener más información, vea [creación de una consola de](/windows/console/creation-of-a-console). <br/> Este valor no se puede usar con **crear \_ nueva \_ consola**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="EXTENDED_STARTUPINFO_PRESENT"></span><span id="extended_startupinfo_present"></span><dl> <dt>**Extensión extendida \_ STARTUPINFO \_ present**</dt> <dt>0x00080000</dt> </dl>               | El proceso se crea con información de inicio extendida; el parámetro *lpStartupInfo* especifica una estructura [**STARTUPINFOEX**](/windows/desktop/api/WinBase/ns-winbase-startupinfoexa) .<br/> **Windows Server 2003 y Windows XP:** Este valor no se admite.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="INHERIT_PARENT_AFFINITY"></span><span id="inherit_parent_affinity"></span><dl> <dt>**Heredar \_ \_Afinidad primaria**</dt> <dt>0x00010000</dt> </dl>                              | El proceso hereda la afinidad de su elemento primario. Si el proceso primario tiene subprocesos en más de un [grupo de procesadores](processor-groups.md), el nuevo proceso hereda la afinidad relativa de grupo de un grupo arbitrario en uso por parte del elemento primario.<br/> **Windows server 2008, Windows Vista, Windows server 2003 y Windows XP:** Este valor no se admite.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



## <a name="remarks"></a>Observaciones

En Windows de 32 bits, las aplicaciones de 16 bits se simulan mediante ntvdm.exe, no se ejecutan como procesos individuales. Por lo tanto, las marcas de creación de procesos se aplican a *ntvdm.exe*. Dado que ntvdm.exe persiste después de ejecutar la primera aplicación de 16 bits, cuando se inicia otra aplicación de 16 bits, no se aplican las nuevas marcas de creación, excepto para **crear una \_ nueva \_ consola** y **crear un \_ \_ \_ VDM wow independiente**, que crea un nuevo ntvdm.exe.

## <a name="requirements"></a>Requisitos



| Requisito | Value |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Cliente mínimo compatible<br/> | Solo aplicaciones de escritorio de Windows XP \[\]<br/>                                                              |
| Servidor mínimo compatible<br/> | Solo aplicaciones de escritorio de Windows Server 2003 \[\]<br/>                                                     |
| Encabezado<br/>                   | <dl> <dt>WinBase. h (incluir Windows. h)</dt> </dl> |



 

 
