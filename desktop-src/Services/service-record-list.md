---
description: A medida que cada entrada de servicio se lee de la base de datos de servicios instalados, el SCM crea un registro de servicio para el servicio.
ms.assetid: c0ee43e2-af9b-4578-9017-46a5ed50b938
title: Lista de registros de servicio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1143625de977c7e5c488c5cc56620adc3a5454db
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105666493"
---
# <a name="service-record-list"></a><span data-ttu-id="1487c-103">Lista de registros de servicio</span><span class="sxs-lookup"><span data-stu-id="1487c-103">Service Record List</span></span>

<span data-ttu-id="1487c-104">A medida que cada entrada de servicio se lee de la base de datos de servicios instalados, el SCM crea un registro de servicio para el servicio.</span><span class="sxs-lookup"><span data-stu-id="1487c-104">As each service entry is read from the database of installed services, the SCM creates a service record for the service.</span></span> <span data-ttu-id="1487c-105">Un registro de servicio incluye:</span><span class="sxs-lookup"><span data-stu-id="1487c-105">A service record includes:</span></span>

-   <span data-ttu-id="1487c-106">Nombre del servicio</span><span class="sxs-lookup"><span data-stu-id="1487c-106">Service name</span></span>
-   <span data-ttu-id="1487c-107">Tipo de inicio (inicio automático o inicio a petición)</span><span class="sxs-lookup"><span data-stu-id="1487c-107">Start type (auto-start or demand-start)</span></span>
-   <span data-ttu-id="1487c-108">Estado del servicio (consulte la estructura de [**\_ Estado del servicio**](/windows/desktop/api/Winsvc/ns-winsvc-service_status) )</span><span class="sxs-lookup"><span data-stu-id="1487c-108">Service status (see the [**SERVICE\_STATUS**](/windows/desktop/api/Winsvc/ns-winsvc-service_status) structure)</span></span> <dl> <span data-ttu-id="1487c-109">Tipo</span><span class="sxs-lookup"><span data-stu-id="1487c-109">Type</span></span>  
    <span data-ttu-id="1487c-110">Estado actual</span><span class="sxs-lookup"><span data-stu-id="1487c-110">Current state</span></span>  
    <span data-ttu-id="1487c-111">Códigos de control aceptables</span><span class="sxs-lookup"><span data-stu-id="1487c-111">Acceptable control codes</span></span>  
    <span data-ttu-id="1487c-112">Código de salida</span><span class="sxs-lookup"><span data-stu-id="1487c-112">Exit code</span></span>  
    <span data-ttu-id="1487c-113">Sugerencia de espera</span><span class="sxs-lookup"><span data-stu-id="1487c-113">Wait hint</span></span>  
    </dl>
-   Pointer to dependency list

<span data-ttu-id="1487c-114">El nombre de usuario y la contraseña de una cuenta se especifican en el momento en que se instala el servicio.</span><span class="sxs-lookup"><span data-stu-id="1487c-114">The user name and password of an account are specified at the time the service is installed.</span></span> <span data-ttu-id="1487c-115">El SCM almacena el nombre de usuario en el registro y la contraseña en una parte segura de la autoridad de seguridad local (LSA).</span><span class="sxs-lookup"><span data-stu-id="1487c-115">The SCM stores the user name in the registry and the password in a secure portion of the Local Security Authority (LSA).</span></span> <span data-ttu-id="1487c-116">El administrador del sistema puede crear cuentas con contraseñas que nunca expiran.</span><span class="sxs-lookup"><span data-stu-id="1487c-116">The system administrator can create accounts with passwords that never expire.</span></span> <span data-ttu-id="1487c-117">Como alternativa, el administrador del sistema puede crear cuentas con contraseñas que expiren y administrar las cuentas cambiando las contraseñas periódicamente.</span><span class="sxs-lookup"><span data-stu-id="1487c-117">Alternatively, the system administrator can create accounts with passwords that expire and manage the accounts by changing the passwords periodically.</span></span>

<span data-ttu-id="1487c-118">El SCM conserva dos copias de la contraseña de una cuenta de usuario, una contraseña actual y una contraseña de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="1487c-118">The SCM keeps two copies of a user account's password, a current password and a backup password.</span></span> <span data-ttu-id="1487c-119">La contraseña especificada la primera vez que se instala el servicio se almacena como la contraseña actual y no se inicializa la contraseña de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="1487c-119">The password specified the first time the service is installed is stored as the current password and the backup password is not initialized.</span></span> <span data-ttu-id="1487c-120">Cuando el SCM intenta ejecutar el servicio en el contexto de seguridad de la cuenta de usuario, usa la contraseña actual.</span><span class="sxs-lookup"><span data-stu-id="1487c-120">When the SCM attempts to run the service in the security context of the user account, it uses the current password.</span></span> <span data-ttu-id="1487c-121">Si la contraseña actual se utiliza correctamente, también se guarda como contraseña de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="1487c-121">If the current password is used successfully, it is also saved as the backup password.</span></span> <span data-ttu-id="1487c-122">Si se modifica la contraseña con la función [**ChangeServiceConfig**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfiga) , o la utilidad servicios del panel de control, la nueva contraseña se almacena como la contraseña actual y la contraseña anterior se almacena como contraseña de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="1487c-122">If the password is modified with the [**ChangeServiceConfig**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfiga) function, or the Services control panel utility, the new password is stored as the current password and the previous password is stored as the backup password.</span></span> <span data-ttu-id="1487c-123">Si el SCM intenta iniciar el servicio y se produce un error en la contraseña actual, se usa la contraseña de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="1487c-123">If the SCM attempts to start the service and the current password fails, then it uses the backup password.</span></span> <span data-ttu-id="1487c-124">Si la contraseña de copia de seguridad se utiliza correctamente, se guarda como la contraseña actual.</span><span class="sxs-lookup"><span data-stu-id="1487c-124">If the backup password is used successfully, it is saved as the current password.</span></span>

<span data-ttu-id="1487c-125">El SCM actualiza el estado del servicio cuando un servicio envía notificaciones de estado mediante la función [**SetServiceStatus**](/windows/desktop/api/Winsvc/nf-winsvc-setservicestatus) .</span><span class="sxs-lookup"><span data-stu-id="1487c-125">The SCM updates the service status when a service sends it status notifications using the [**SetServiceStatus**](/windows/desktop/api/Winsvc/nf-winsvc-setservicestatus) function.</span></span> <span data-ttu-id="1487c-126">El SCM mantiene el estado de un servicio de controlador consultando el sistema de e/s, en lugar de recibir notificaciones de estado, como lo hace desde un servicio.</span><span class="sxs-lookup"><span data-stu-id="1487c-126">The SCM maintains the status of a driver service by querying the I/O system, instead of receiving status notifications, as it does from a service.</span></span>

<span data-ttu-id="1487c-127">Un servicio puede registrar información de tipo adicional mediante una llamada a la función [**SetServiceBits**](/windows/desktop/api/Lmserver/nf-lmserver-setservicebits) .</span><span class="sxs-lookup"><span data-stu-id="1487c-127">A service can register additional type information by calling the [**SetServiceBits**](/windows/desktop/api/Lmserver/nf-lmserver-setservicebits) function.</span></span> <span data-ttu-id="1487c-128">Las funciones [**NetServerGetInfo**](/windows/desktop/api/lmserver/nf-lmserver-netservergetinfo) y [**NetServerEnum**](/windows/desktop/api/lmserver/nf-lmserver-netserverenum) obtienen los tipos de servicio admitidos.</span><span class="sxs-lookup"><span data-stu-id="1487c-128">The [**NetServerGetInfo**](/windows/desktop/api/lmserver/nf-lmserver-netservergetinfo) and [**NetServerEnum**](/windows/desktop/api/lmserver/nf-lmserver-netserverenum) functions obtain the supported service types.</span></span>

 

 
