---
title: Instalación a petición de juegos
description: En este artículo técnico se describen dos técnicas, instalación a petición y en segundo plano, con Windows Installer.
ms.assetid: abaaa7bf-8ed8-0425-6845-3671a56fe7fc
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 064dc58c563c372d1320a21040920e492e4e65e4
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "105676433"
---
# <a name="install-on-demand-for-games"></a><span data-ttu-id="6905a-103">Instalación a petición de juegos</span><span class="sxs-lookup"><span data-stu-id="6905a-103">Install-on-Demand for Games</span></span>

<span data-ttu-id="6905a-104">En este artículo técnico se describen dos técnicas, instalación a petición y en segundo plano, con [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="6905a-104">This technical article discusses two techniques, install-on-demand and background install, using [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span> <span data-ttu-id="6905a-105">Los juegos pueden utilizar estas técnicas de instalación para proporcionar una experiencia de juego mejor y más agradable para los jugadores reduciendo el tiempo de instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-105">Games can utilize these installation techniques to provide a better and more pleasant gaming experience for players by reducing the installation time.</span></span>

-   [<span data-ttu-id="6905a-106">Información general</span><span class="sxs-lookup"><span data-stu-id="6905a-106">Overview</span></span>](#overview)
-   [<span data-ttu-id="6905a-107">Compatibilidad con la revisión</span><span class="sxs-lookup"><span data-stu-id="6905a-107">Patching Support</span></span>](#patching-support)
-   [<span data-ttu-id="6905a-108">El ejemplo de SDK de InstallOnDemand</span><span class="sxs-lookup"><span data-stu-id="6905a-108">The InstallOnDemand SDK Sample</span></span>](#the-installondemand-sdk-sample)
-   [<span data-ttu-id="6905a-109">Características y componentes del ejemplo</span><span class="sxs-lookup"><span data-stu-id="6905a-109">The Sample's Features and Components</span></span>](#the-samples-features-and-components)
-   [<span data-ttu-id="6905a-110">Instalación</span><span class="sxs-lookup"><span data-stu-id="6905a-110">Installation</span></span>](#installation)
-   [<span data-ttu-id="6905a-111">Limitación</span><span class="sxs-lookup"><span data-stu-id="6905a-111">Limitation</span></span>](#limitation)

## <a name="overview"></a><span data-ttu-id="6905a-112">Información general</span><span class="sxs-lookup"><span data-stu-id="6905a-112">Overview</span></span>

<span data-ttu-id="6905a-113">La instalación ha sido un elemento de aplicaciones basadas en equipo durante mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="6905a-113">Installation has been an element of computer-based applications for a long time.</span></span> <span data-ttu-id="6905a-114">Hoy en día, la mayoría de las aplicaciones requieren que se instalen primero en el disco duro local del usuario antes de poder usarlas.</span><span class="sxs-lookup"><span data-stu-id="6905a-114">Most applications today require that they be installed on the user's local hard drive first before they can be used.</span></span> <span data-ttu-id="6905a-115">Los juegos de equipos no son excepciones; Cuando un consumidor compra un juego de Microsoft Windows e intenta ejecutarlo, primero debe pasar por un proceso de instalación que copie los archivos necesarios desde el disco de juego en la unidad de disco duro.</span><span class="sxs-lookup"><span data-stu-id="6905a-115">Computer games are no exception; when a consumer buys a Microsoft Windows game and tries to run it, he must first go through an installation process that copies necessary files from the game disc to the hard drive.</span></span> <span data-ttu-id="6905a-116">Este proceso de instalación suele durar mucho tiempo y puede tardar hasta una hora en completarse.</span><span class="sxs-lookup"><span data-stu-id="6905a-116">This installation process is usually lengthy and can take as much as an hour to complete.</span></span> <span data-ttu-id="6905a-117">El tiempo de instalación es un factor que hace que los juegos de consola sean más deseables que los juegos basados en equipos para algunos jugadores, ya que pueden reproducir inmediatamente un juego de consola después de insertar el disco del juego. La tecnología que se describe en este artículo intentará solucionar este error reduciendo drásticamente el tiempo de instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-117">The installation time is a factor that makes console games more desirable than computer-based games for some players, as they are able to immediately play a console game after inserting the game disc. The technology discussed in this article will attempt to remedy this by drastically reducing the installation time.</span></span>

<span data-ttu-id="6905a-118">Tradicionalmente, los juegos requieren que todos o la mayoría de los archivos se instalen antes de iniciarse.</span><span class="sxs-lookup"><span data-stu-id="6905a-118">Traditionally, games require that all or most of the files be installed prior to launching.</span></span> <span data-ttu-id="6905a-119">Para lograr la instalación a petición, los recursos del juego deben ser modulares; es decir, el desarrollador debe dividir los recursos de la aplicación (gráficos, audio, etc.) en componentes.</span><span class="sxs-lookup"><span data-stu-id="6905a-119">In order to achieve install-on-demand, the game resources need to be modular; that is, the developer must divide the application's resources (graphics, audio, and so on) into components.</span></span> <span data-ttu-id="6905a-120">Cada componente es un conjunto de recursos que se pueden instalar o quitar como una unidad.</span><span class="sxs-lookup"><span data-stu-id="6905a-120">Each component is a set of resources that can be installed or removed as a unit.</span></span> <span data-ttu-id="6905a-121">Una vez hecho esto, el desarrollador de juegos define una o varias características, normalmente una o más por nivel o zona.</span><span class="sxs-lookup"><span data-stu-id="6905a-121">Once this is done, the game developer defines one or more features, typically one or more per level or zone.</span></span> <span data-ttu-id="6905a-122">Cada característica de una aplicación especifica un conjunto de componentes necesarios para ejecutar esa característica en particular.</span><span class="sxs-lookup"><span data-stu-id="6905a-122">Each feature of an application specifies a set of components necessary for running that particular feature.</span></span> <span data-ttu-id="6905a-123">Cuando se instala una aplicación, sus características se pueden marcar como "instalar" (los componentes se copian en el disco duro local en el momento de la instalación) o "anunciado" (los componentes copiados en el disco duro local después de la instalación inicial cuando la aplicación usa esa característica).</span><span class="sxs-lookup"><span data-stu-id="6905a-123">When an application is installed, its features can be marked as "install" (components copied to the local hard drive at installation time) or "advertised" (components copied to the local hard drive after the initial install when the application uses that feature).</span></span> <span data-ttu-id="6905a-124">Un desarrollador de juegos puede reducir el tiempo de instalación diseñando el juego para que se inicie y ejecute con un conjunto mínimo de características instaladas.</span><span class="sxs-lookup"><span data-stu-id="6905a-124">A game developer can reduce the installation time by designing the game to launch and run with a minimal set of features installed.</span></span> <span data-ttu-id="6905a-125">El resto de sus características se puede marcar como anunciado e instalar a petición cuando la aplicación realmente necesita usar funcionalidades que proporcionan esas características.</span><span class="sxs-lookup"><span data-stu-id="6905a-125">The rest of its features can be marked as advertised and installed on demand when the application actually needs to use functionalities that those features provide.</span></span>

<span data-ttu-id="6905a-126">Los juegos pueden llamar a [Windows Installer](/windows/desktop/Msi/windows-installer-portal) para instalar una característica determinada que puede que no se haya instalado.</span><span class="sxs-lookup"><span data-stu-id="6905a-126">Games can call [Windows Installer](/windows/desktop/Msi/windows-installer-portal) to install a particular feature that may not have been installed.</span></span> <span data-ttu-id="6905a-127">Para que la instalación aparezca en segundo plano, se puede usar un subproceso de trabajo para realizar las llamadas al instalador mientras el subproceso principal sigue controlando la lógica del juego y presenta la pantalla.</span><span class="sxs-lookup"><span data-stu-id="6905a-127">To make the installation appear in the background, a worker thread can be used to make the calls to the installer while the primary thread continues to handle game logic and to render the screen.</span></span> <span data-ttu-id="6905a-128">Esto minimiza la interrupción del juego causado por la instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-128">This minimizes the disruption of gameplay caused by the installation.</span></span> <span data-ttu-id="6905a-129">El juego puede iniciar la instalación en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="6905a-129">The game can initiate the installation at any time.</span></span> <span data-ttu-id="6905a-130">Sin embargo, dado que la instalación consume ciclos de procesador, por lo general no es una buena idea realizar la instalación cuando el subproceso principal se encuentra en una necesidad crítica de capacidad de procesamiento, como cuando el usuario está en el medio de la acción.</span><span class="sxs-lookup"><span data-stu-id="6905a-130">However, because the installation consumes processor cycles, it is generally not a good idea to perform the installation when the primary thread is in critical need of processing power, such as when the user is in the middle of the action.</span></span> <span data-ttu-id="6905a-131">Por ejemplo, un buen momento para realizar la instalación puede ser durante el tiempo en el que el usuario está en el menú de juego, cuando el juego está en pausa o minimizado, o cuando el usuario está viendo la película de introducción o cutscenes.</span><span class="sxs-lookup"><span data-stu-id="6905a-131">For example, a good time to perform the installation may be during the time the user is in the game menu, when the game is paused or minimized, or when the user is watching the introduction movie or cutscenes.</span></span>

## <a name="patching-support"></a><span data-ttu-id="6905a-132">Compatibilidad con la revisión</span><span class="sxs-lookup"><span data-stu-id="6905a-132">Patching Support</span></span>

<span data-ttu-id="6905a-133">Hoy en día, la mayoría de los juegos deben actualizarse incluso después de que se envíen como errores y se agreguen nuevas características.</span><span class="sxs-lookup"><span data-stu-id="6905a-133">Most games today need to be updated even after they ship as bugs get fixed and new features get added.</span></span> <span data-ttu-id="6905a-134">La actualización a menudo requiere la revisión, que tradicionalmente es un procedimiento sencillo para los juegos.</span><span class="sxs-lookup"><span data-stu-id="6905a-134">Updating often requires patching, which is traditionally a straightforward procedure for games.</span></span> <span data-ttu-id="6905a-135">Dado que todos los archivos necesarios se instalan en el disco duro del usuario, la revisión de un juego implica copiar los archivos revisados en el disco duro, sobrescribiendo los archivos existentes.</span><span class="sxs-lookup"><span data-stu-id="6905a-135">Because all of the necessary files are installed onto the user's hard drive, patching a game involves copying revised files onto the hard drive, overwriting existing files.</span></span> <span data-ttu-id="6905a-136">Cuando se emplea la instalación a petición, no todos los archivos se instalan y se copian en el momento de la revisión.</span><span class="sxs-lookup"><span data-stu-id="6905a-136">When install-on-demand is employed, not all files are installed and copied at the time of patching.</span></span> <span data-ttu-id="6905a-137">Por lo tanto, el parche no puede simplemente escribir archivos actualizados en la carpeta Game.</span><span class="sxs-lookup"><span data-stu-id="6905a-137">Therefore, the patcher cannot simply write updated files onto the game folder.</span></span>

<span data-ttu-id="6905a-138">[Windows Installer](/windows/desktop/Msi/windows-installer-portal) tiene características para aplicar revisiones a aplicaciones que usan la instalación a petición.</span><span class="sxs-lookup"><span data-stu-id="6905a-138">[Windows Installer](/windows/desktop/Msi/windows-installer-portal) has features for patching applications that use install-on-demand.</span></span> <span data-ttu-id="6905a-139">Al aplicar una revisión, el instalador almacena en caché la revisión en el sistema.</span><span class="sxs-lookup"><span data-stu-id="6905a-139">When applying a patch, the installer caches the patch onto the system.</span></span> <span data-ttu-id="6905a-140">Esta característica funciona bien para las revisiones con diferencias pequeñas.</span><span class="sxs-lookup"><span data-stu-id="6905a-140">This feature works well for patches with small deltas.</span></span> <span data-ttu-id="6905a-141">Los archivos liberados originalmente ya no tienen que estar en el disco en el momento de la revisión, por lo que se pueden anunciar esos archivos.</span><span class="sxs-lookup"><span data-stu-id="6905a-141">The originally released files no longer need to be on the disk at the time of patching, so those files can be advertised.</span></span> <span data-ttu-id="6905a-142">Más adelante, cuando se ejecute la aplicación y necesite tener acceso a los archivos, el instalador instalará la versión más reciente de esos archivos copiando la versión original del medio (por ejemplo, CDs) y aplicando la revisión después de leer los datos de revisión guardados.</span><span class="sxs-lookup"><span data-stu-id="6905a-142">Later, when the application runs and needs to access the files, the installer installs the most recent version of those files by copying the originally released version from the media (for example, CDs) and applying the patch after reading the saved patch data.</span></span>

## <a name="the-installondemand-sdk-sample"></a><span data-ttu-id="6905a-143">El ejemplo de SDK de InstallOnDemand</span><span class="sxs-lookup"><span data-stu-id="6905a-143">The InstallOnDemand SDK Sample</span></span>

<span data-ttu-id="6905a-144">En el ejemplo de instalación a petición de juegos se muestran las técnicas de instalación a petición que se describen en este artículo.</span><span class="sxs-lookup"><span data-stu-id="6905a-144">The Install-on-Demand for Games sample demonstrates the install-on-demand techniques discussed in this article.</span></span> <span data-ttu-id="6905a-145">A diferencia de otros ejemplos, la instalación a petición de juegos no se puede ejecutar directamente desde el explorador de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6905a-145">Unlike other samples, Install-on-Demand for Games cannot be run directly from the sample browser.</span></span> <span data-ttu-id="6905a-146">Dado que el ejemplo utiliza el [Windows Installer](/windows/desktop/Msi/windows-installer-portal) para administrar su instalación, debe incluirse en la base de datos del instalador de las aplicaciones instaladas.</span><span class="sxs-lookup"><span data-stu-id="6905a-146">Because the sample uses the [Windows Installer](/windows/desktop/Msi/windows-installer-portal) to manage its installation, it needs to be included in the installer's database of installed applications.</span></span>

<span data-ttu-id="6905a-147">**Para iniciar el ejemplo**</span><span class="sxs-lookup"><span data-stu-id="6905a-147">**To launch the sample**</span></span>

1.  <span data-ttu-id="6905a-148">Use el vínculo instalar proyecto en el explorador de ejemplo para copiar los archivos del ejemplo en una carpeta.</span><span class="sxs-lookup"><span data-stu-id="6905a-148">Use the Install Project link in the sample browser to copy the sample's files to a folder.</span></span>
2.  <span data-ttu-id="6905a-149">Haga doble clic en InstallOnDemand.msi para instalar el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6905a-149">Double click InstallOnDemand.msi to install the sample.</span></span>
3.  <span data-ttu-id="6905a-150">Seleccione instalación típica.</span><span class="sxs-lookup"><span data-stu-id="6905a-150">Select Typical Install.</span></span>
4.  <span data-ttu-id="6905a-151">Inicie el ejemplo iniciando el InstallOnDemand.exe en la carpeta instalada (normalmente archivos \\ de programa InstallOnDemand) o iniciando desde programas del menú Inicio \\ .</span><span class="sxs-lookup"><span data-stu-id="6905a-151">Start the sample by launching the InstallOnDemand.exe in the installed folder (typically Program Files\\InstallOnDemand) or by launching from Start Menu\\Programs.</span></span>

<span data-ttu-id="6905a-152">InstallOnDemand.msi es una base de datos reconocida por el instalador.</span><span class="sxs-lookup"><span data-stu-id="6905a-152">InstallOnDemand.msi is a database recognized by the installer.</span></span> <span data-ttu-id="6905a-153">Define todo el proceso de instalación: la estructura de directorios, lo que se va a copiar, qué recursos se copiarán juntos, qué valores del registro se van a escribir, qué métodos abreviados se deben crear, etc.</span><span class="sxs-lookup"><span data-stu-id="6905a-153">It defines the entire installation process: the directory structure, what will and will not be copied, what resources will be copied together, what registry values to write, what shortcuts to create, and so forth.</span></span>

<span data-ttu-id="6905a-154">Cuando se inicia, el ejemplo reproduce una secuencia de introducción.</span><span class="sxs-lookup"><span data-stu-id="6905a-154">When launched, the sample plays an introduction sequence.</span></span> <span data-ttu-id="6905a-155">El reproductor puede finalizarlo y escribir el menú principal presionando la tecla ESC.</span><span class="sxs-lookup"><span data-stu-id="6905a-155">The player can end it and enter the main menu by pressing the ESC key.</span></span> <span data-ttu-id="6905a-156">Después de la introducción, el reproductor puede iniciar un nuevo juego escribiendo un nombre de carácter y desplazándose por las estadísticas.</span><span class="sxs-lookup"><span data-stu-id="6905a-156">Following the introduction, the player can start a new game by entering a character name and scrolling through the statistics.</span></span> <span data-ttu-id="6905a-157">Antes de que el ejemplo empiece a reproducir la secuencia de introducción, el ejemplo llama a una función de instalador para comprobar si está instalada la característica para el nivel 1.</span><span class="sxs-lookup"><span data-stu-id="6905a-157">Before the sample begins to play the introduction sequence, the sample calls an installer function to check if the feature for level 1 is installed.</span></span> <span data-ttu-id="6905a-158">Si no se ha instalado la característica de nivel 1, el ejemplo utiliza un subproceso en segundo plano para pedir al instalador que instale el juego, mientras que el subproceso principal está haciendo algo más (como reproducir la secuencia de introducción, representar el menú o interactuar con el reproductor en la creación de caracteres).</span><span class="sxs-lookup"><span data-stu-id="6905a-158">If the level 1 feature has not been installed, the sample uses a background thread to ask the installer to install the game, while the primary thread is doing something else (such as playing the introduction sequence, rendering the menu, or interacting with the player on character creation).</span></span> <span data-ttu-id="6905a-159">La experiencia es diferente de la instalación tradicional del juego en que el usuario está ocupado en el juego (viendo la introducción o creando un nuevo carácter) mientras la instalación está en curso.</span><span class="sxs-lookup"><span data-stu-id="6905a-159">The experience is different from traditional game installation in that the user is occupied in the game (watching the introduction or creating a new character) while installation is in progress.</span></span> <span data-ttu-id="6905a-160">Una vez que el reproductor ha terminado de crear un carácter, el ejemplo carga los recursos para el nivel 1.</span><span class="sxs-lookup"><span data-stu-id="6905a-160">After the player has finished creating a character, the sample loads the resources for level 1.</span></span>

<span data-ttu-id="6905a-161">En el lado derecho de la pantalla de ejemplo hay cinco botones marcados como "Play Level 1" a "Play LEVEL 5".</span><span class="sxs-lookup"><span data-stu-id="6905a-161">On the right side of the sample screen are five buttons marked "Play Level 1" through "Play Level 5."</span></span> <span data-ttu-id="6905a-162">Estos botones simulan la finalización del reproductor del nivel actual y avancen hasta el siguiente.</span><span class="sxs-lookup"><span data-stu-id="6905a-162">These buttons simulate the player's completion of the current level and advancement to the next.</span></span> <span data-ttu-id="6905a-163">Cuando se hace clic en uno de estos botones, aparece una pantalla estadísticas que muestra información sobre el nivel que acaba de finalizar.</span><span class="sxs-lookup"><span data-stu-id="6905a-163">When one of these buttons is clicked, a statistics screen appears showing information about the level that he has just finished.</span></span> <span data-ttu-id="6905a-164">El ejemplo también tarda este tiempo en solicitar al instalador que compruebe e instale el siguiente nivel, si aún no está instalado.</span><span class="sxs-lookup"><span data-stu-id="6905a-164">The sample also takes this time to ask the installer to check and install the next level, if it is not already installed.</span></span> <span data-ttu-id="6905a-165">La instalación se produce mientras el Reproductor lee la pantalla estadísticas, de modo que cuando el usuario haga clic en Aceptar para entrar en el nivel siguiente, los recursos del nivel estén todos instalados y listos para cargarse.</span><span class="sxs-lookup"><span data-stu-id="6905a-165">The installation occurs while the player is reading the statistics screen, so that when the user clicks OK to enter the next level, the level's resources are all installed and ready to be loaded.</span></span>

## <a name="the-samples-features-and-components"></a><span data-ttu-id="6905a-166">Características y componentes del ejemplo</span><span class="sxs-lookup"><span data-stu-id="6905a-166">The Sample's Features and Components</span></span>

<span data-ttu-id="6905a-167">Tradicionalmente, los juegos requieren que todos o la mayoría de los archivos se instalen antes de iniciarse.</span><span class="sxs-lookup"><span data-stu-id="6905a-167">Traditionally, games require that all or most of the files be installed prior to launching.</span></span> <span data-ttu-id="6905a-168">Para lograr la instalación a petición, los recursos del juego deben ser modulares; es decir, el desarrollador debe dividir los recursos de la aplicación (gráficos, audio, etc.) en componentes.</span><span class="sxs-lookup"><span data-stu-id="6905a-168">In order to achieve install-on-demand, the game resources need to be modular; that is, the developer must divide the application's resources (graphics, audio, and so on) into components.</span></span> <span data-ttu-id="6905a-169">Cada componente es un conjunto de recursos que se pueden instalar o quitar como una unidad.</span><span class="sxs-lookup"><span data-stu-id="6905a-169">Each component is a set of resources that can be installed or removed as a unit.</span></span> <span data-ttu-id="6905a-170">Una vez hecho esto, el desarrollador de juegos define una o varias características, normalmente una o más por nivel o zona.</span><span class="sxs-lookup"><span data-stu-id="6905a-170">Once this is done, the game developer defines one or more features, typically one or more per level or zone.</span></span> <span data-ttu-id="6905a-171">Cada característica de una aplicación especifica un conjunto de componentes necesarios para ejecutar esa característica en particular.</span><span class="sxs-lookup"><span data-stu-id="6905a-171">Each feature of an application specifies a set of components necessary for running that particular feature.</span></span> <span data-ttu-id="6905a-172">Cuando se instala una aplicación, sus características se pueden marcar como "instalar" (los componentes se copian en el disco duro local en el momento de la instalación) o "anunciados" (los componentes copiados en el disco duro local cuando la aplicación usa posteriormente esa característica).</span><span class="sxs-lookup"><span data-stu-id="6905a-172">When an application is installed, its features can be marked as "install" (components copied to the local hard drive at installation time) or "advertised" (components copied to the local hard drive when the application later uses that feature).</span></span> <span data-ttu-id="6905a-173">Un desarrollador de juegos puede reducir el tiempo de instalación diseñando el juego para iniciar y comenzar a ejecutarse con un conjunto mínimo de características instaladas.</span><span class="sxs-lookup"><span data-stu-id="6905a-173">A game developer can reduce the installation time by designing the game to launch and start running with a minimal set of features installed.</span></span> <span data-ttu-id="6905a-174">El resto de sus características se puede marcar como anunciado e instalar a petición cuando la aplicación realmente necesita usar funcionalidades que proporcionan esas características.</span><span class="sxs-lookup"><span data-stu-id="6905a-174">The rest of its features can be marked as advertised and installed on-demand when the application actually needs to use functionalities that those features provide.</span></span>

<span data-ttu-id="6905a-175">En la tabla siguiente se enumeran las seis características de nivel superior que define el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6905a-175">The following table lists the six top-level features that the sample defines.</span></span>



| <span data-ttu-id="6905a-176">Nombre de la característica</span><span class="sxs-lookup"><span data-stu-id="6905a-176">Feature Name</span></span> | <span data-ttu-id="6905a-177">Funcionalidad</span><span class="sxs-lookup"><span data-stu-id="6905a-177">Functionality</span></span>                                                                                                                                                                                                             | <span data-ttu-id="6905a-178">Componentes</span><span class="sxs-lookup"><span data-stu-id="6905a-178">Components</span></span>  | <span data-ttu-id="6905a-179">Archivos</span><span class="sxs-lookup"><span data-stu-id="6905a-179">Files</span></span>                                                                     |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|---------------------------------------------------------------------------|
| <span data-ttu-id="6905a-180">Core</span><span class="sxs-lookup"><span data-stu-id="6905a-180">Core</span></span>         | <span data-ttu-id="6905a-181">Incluye los recursos necesarios en todo momento, independientemente del nivel.</span><span class="sxs-lookup"><span data-stu-id="6905a-181">Includes resources required at all times, regardless of level.</span></span> <span data-ttu-id="6905a-182">Estos recursos son: ejecutable de ejemplo, medios requeridos por la secuencia de introducción y la pantalla de carga, y el archivo. FX que controla toda la representación en el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6905a-182">These resources are: sample executable, media required by introduction sequence and loading screen, and .fx file that handles all rendering in the sample.</span></span> | <span data-ttu-id="6905a-183">Core</span><span class="sxs-lookup"><span data-stu-id="6905a-183">Core</span></span>        | <span data-ttu-id="6905a-184">InstallOnDemand.exe, InstallOnDemand. FX, Loading.bmp, Level. x</span><span class="sxs-lookup"><span data-stu-id="6905a-184">InstallOnDemand.exe, InstallOnDemand.fx, Loading.bmp, Level.x</span></span>             |
| <span data-ttu-id="6905a-185">Core</span><span class="sxs-lookup"><span data-stu-id="6905a-185">Core</span></span>         | <span data-ttu-id="6905a-186">(igual que arriba)</span><span class="sxs-lookup"><span data-stu-id="6905a-186">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="6905a-187">CoreUI</span><span class="sxs-lookup"><span data-stu-id="6905a-187">CoreUI</span></span>      | <span data-ttu-id="6905a-188">\\UI \\ de medios dxutcontrols. DDS, \\ interfaz de usuario de media \\ DXUTShared. FX, flecha de UI de medios \\ \\ . x</span><span class="sxs-lookup"><span data-stu-id="6905a-188">Media\\UI\\dxutcontrols.dds, Media\\UI\\DXUTShared.fx, Media\\UI\\arrow.x</span></span> |
| <span data-ttu-id="6905a-189">Core</span><span class="sxs-lookup"><span data-stu-id="6905a-189">Core</span></span>         | <span data-ttu-id="6905a-190">(igual que arriba)</span><span class="sxs-lookup"><span data-stu-id="6905a-190">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="6905a-191">CoreMisc</span><span class="sxs-lookup"><span data-stu-id="6905a-191">CoreMisc</span></span>    | <span data-ttu-id="6905a-192">Media \\ \\ Seafloor. x, varios medios \\ \\seafloor.bmp</span><span class="sxs-lookup"><span data-stu-id="6905a-192">Media\\Misc\\seafloor.x, Media\\Misc\\seafloor.bmp</span></span>                        |
| <span data-ttu-id="6905a-193">Core</span><span class="sxs-lookup"><span data-stu-id="6905a-193">Core</span></span>         | <span data-ttu-id="6905a-194">(igual que arriba)</span><span class="sxs-lookup"><span data-stu-id="6905a-194">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="6905a-195">CoreSpeeder</span><span class="sxs-lookup"><span data-stu-id="6905a-195">CoreSpeeder</span></span> | <span data-ttu-id="6905a-196">\\Demostración de media PRT \\ LandShark. x, \\ acelerador de demostración de media PRT \\ \_diff.jpg</span><span class="sxs-lookup"><span data-stu-id="6905a-196">Media\\PRT Demo\\LandShark.x, Media\\PRT Demo\\speeder\_diff.jpg</span></span>          |
| <span data-ttu-id="6905a-197">Core</span><span class="sxs-lookup"><span data-stu-id="6905a-197">Core</span></span>         | <span data-ttu-id="6905a-198">(igual que arriba)</span><span class="sxs-lookup"><span data-stu-id="6905a-198">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="6905a-199">CoreReg</span><span class="sxs-lookup"><span data-stu-id="6905a-199">CoreReg</span></span>     | <span data-ttu-id="6905a-200">N/A (valor del registro)</span><span class="sxs-lookup"><span data-stu-id="6905a-200">N/A (registry value)</span></span>                                                      |
| <span data-ttu-id="6905a-201">Level1</span><span class="sxs-lookup"><span data-stu-id="6905a-201">Level1</span></span>       | <span data-ttu-id="6905a-202">Proporciona recursos utilizados por el nivel 1.</span><span class="sxs-lookup"><span data-stu-id="6905a-202">Provides resources used by level 1.</span></span>                                                                                                                                                                                       | <span data-ttu-id="6905a-203">Level1</span><span class="sxs-lookup"><span data-stu-id="6905a-203">Level1</span></span>      | <span data-ttu-id="6905a-204">Level1.jpg</span><span class="sxs-lookup"><span data-stu-id="6905a-204">Level1.jpg</span></span>                                                                |
| <span data-ttu-id="6905a-205">Level1</span><span class="sxs-lookup"><span data-stu-id="6905a-205">Level1</span></span>       | <span data-ttu-id="6905a-206">(igual que el anterior)</span><span class="sxs-lookup"><span data-stu-id="6905a-206">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="6905a-207">L1Skybox</span><span class="sxs-lookup"><span data-stu-id="6905a-207">L1Skybox</span></span>    | <span data-ttu-id="6905a-208">\\Sondas de media Light de \\ Galileo \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="6905a-208">Media\\Light Probes\\galileo\_cross.dds</span></span>                                   |
| <span data-ttu-id="6905a-209">Level2</span><span class="sxs-lookup"><span data-stu-id="6905a-209">Level2</span></span>       | <span data-ttu-id="6905a-210">Proporciona recursos utilizados por el nivel 2.</span><span class="sxs-lookup"><span data-stu-id="6905a-210">Provides resources used by level 2.</span></span>                                                                                                                                                                                       | <span data-ttu-id="6905a-211">Level2</span><span class="sxs-lookup"><span data-stu-id="6905a-211">Level2</span></span>      | <span data-ttu-id="6905a-212">Level2.jpg</span><span class="sxs-lookup"><span data-stu-id="6905a-212">Level2.jpg</span></span>                                                                |
| <span data-ttu-id="6905a-213">Level2</span><span class="sxs-lookup"><span data-stu-id="6905a-213">Level2</span></span>       | <span data-ttu-id="6905a-214">(igual que el anterior)</span><span class="sxs-lookup"><span data-stu-id="6905a-214">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="6905a-215">L2Skybox</span><span class="sxs-lookup"><span data-stu-id="6905a-215">L2Skybox</span></span>    | <span data-ttu-id="6905a-216">Detección de medios \\ ligeros de \\ gracia \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="6905a-216">Media\\Light Probes\\grace\_cross.dds</span></span>                                     |
| <span data-ttu-id="6905a-217">Level3</span><span class="sxs-lookup"><span data-stu-id="6905a-217">Level3</span></span>       | <span data-ttu-id="6905a-218">Proporciona recursos utilizados por el nivel 3.</span><span class="sxs-lookup"><span data-stu-id="6905a-218">Provides resources used by level 3.</span></span>                                                                                                                                                                                       | <span data-ttu-id="6905a-219">Level3</span><span class="sxs-lookup"><span data-stu-id="6905a-219">Level3</span></span>      | <span data-ttu-id="6905a-220">Level3.jpg</span><span class="sxs-lookup"><span data-stu-id="6905a-220">Level3.jpg</span></span>                                                                |
| <span data-ttu-id="6905a-221">Level3</span><span class="sxs-lookup"><span data-stu-id="6905a-221">Level3</span></span>       | <span data-ttu-id="6905a-222">(igual que el anterior)</span><span class="sxs-lookup"><span data-stu-id="6905a-222">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="6905a-223">L3Skybox</span><span class="sxs-lookup"><span data-stu-id="6905a-223">L3Skybox</span></span>    | <span data-ttu-id="6905a-224">\\Sondeos de media Light \\ RNL \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="6905a-224">Media\\Light Probes\\rnl\_cross.dds</span></span>                                       |
| <span data-ttu-id="6905a-225">Level4</span><span class="sxs-lookup"><span data-stu-id="6905a-225">Level4</span></span>       | <span data-ttu-id="6905a-226">Proporciona recursos utilizados por el nivel 4.</span><span class="sxs-lookup"><span data-stu-id="6905a-226">Provides resources used by level 4.</span></span>                                                                                                                                                                                       | <span data-ttu-id="6905a-227">Level4</span><span class="sxs-lookup"><span data-stu-id="6905a-227">Level4</span></span>      | <span data-ttu-id="6905a-228">Level4.jpg</span><span class="sxs-lookup"><span data-stu-id="6905a-228">Level4.jpg</span></span>                                                                |
| <span data-ttu-id="6905a-229">Level4</span><span class="sxs-lookup"><span data-stu-id="6905a-229">Level4</span></span>       | <span data-ttu-id="6905a-230">(igual que el anterior)</span><span class="sxs-lookup"><span data-stu-id="6905a-230">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="6905a-231">L4Skybox</span><span class="sxs-lookup"><span data-stu-id="6905a-231">L4Skybox</span></span>    | <span data-ttu-id="6905a-232">\\Sondeos de media Light \\ stpeters \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="6905a-232">Media\\Light Probes\\stpeters\_cross.dds</span></span>                                  |
| <span data-ttu-id="6905a-233">Level5</span><span class="sxs-lookup"><span data-stu-id="6905a-233">Level5</span></span>       | <span data-ttu-id="6905a-234">Proporciona recursos utilizados por el nivel 5.</span><span class="sxs-lookup"><span data-stu-id="6905a-234">Provides resources used by level 5.</span></span>                                                                                                                                                                                       | <span data-ttu-id="6905a-235">Level5</span><span class="sxs-lookup"><span data-stu-id="6905a-235">Level5</span></span>      | <span data-ttu-id="6905a-236">Level5.jpg</span><span class="sxs-lookup"><span data-stu-id="6905a-236">Level5.jpg</span></span>                                                                |
| <span data-ttu-id="6905a-237">Level5</span><span class="sxs-lookup"><span data-stu-id="6905a-237">Level5</span></span>       | <span data-ttu-id="6905a-238">(igual que el anterior)</span><span class="sxs-lookup"><span data-stu-id="6905a-238">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="6905a-239">L5Skybox</span><span class="sxs-lookup"><span data-stu-id="6905a-239">L5Skybox</span></span>    | <span data-ttu-id="6905a-240">\\Sondeos de media Light \\ Uffizi \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="6905a-240">Media\\Light Probes\\uffizi\_cross.dds</span></span>                                    |



 

<span data-ttu-id="6905a-241">Las características de Level1 a Level5 tienen subcaracterísticas adicionales que contienen archivos no utilizados directamente por el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6905a-241">The Level1 through Level5 features have additional sub-features that contain files not directly used by the sample.</span></span> <span data-ttu-id="6905a-242">Estos archivos de subcaracterísticas se han agregado para que la instalación tarde más tiempo.</span><span class="sxs-lookup"><span data-stu-id="6905a-242">These sub-features files have been added to make the installation take longer.</span></span> <span data-ttu-id="6905a-243">Esto se hace para ilustrar la operación de instalación en curso que se ejecuta en segundo plano mientras se ejecuta el ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6905a-243">This is done to illustrate the ongoing installation operation that is running in the background while the sample is running.</span></span>

<span data-ttu-id="6905a-244">En la tabla siguiente se enumeran las subcaracterísticas de.</span><span class="sxs-lookup"><span data-stu-id="6905a-244">The following table lists the sub-features.</span></span>



| <span data-ttu-id="6905a-245">Característica</span><span class="sxs-lookup"><span data-stu-id="6905a-245">Feature</span></span> | <span data-ttu-id="6905a-246">Características secundarias</span><span class="sxs-lookup"><span data-stu-id="6905a-246">Sub-features</span></span>                      | <span data-ttu-id="6905a-247">Archivos</span><span class="sxs-lookup"><span data-stu-id="6905a-247">Files</span></span>                                                                                                                                                                          |
|---------|-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6905a-248">Level1</span><span class="sxs-lookup"><span data-stu-id="6905a-248">Level1</span></span>  | <span data-ttu-id="6905a-249">L1PH1, L1PH2, L1PH3, L1PH4, L1PH5</span><span class="sxs-lookup"><span data-stu-id="6905a-249">L1PH1, L1PH2, L1PH3, L1PH4, L1PH5</span></span> | <span data-ttu-id="6905a-250">Level1 de los datos de marcador de posición \\ L1PH1. dat Level1 placeholder Data \\ L1PH2. dat Level1 placeholder Data \\ L1PH3. dat Level1 placeholders Data \\ L1PH4. dat Level1 placeholder Data \\ L1PH5. dat</span><span class="sxs-lookup"><span data-stu-id="6905a-250">Level1 Placeholder Data\\L1PH1.dat Level1 Placeholder Data\\L1PH2.dat Level1 Placeholder Data\\L1PH3.dat Level1 Placeholder Data\\L1PH4.dat Level1 Placeholder Data\\L1PH5.dat</span></span> |
| <span data-ttu-id="6905a-251">Level2</span><span class="sxs-lookup"><span data-stu-id="6905a-251">Level2</span></span>  | <span data-ttu-id="6905a-252">L2PH1, L2PH2, L2PH3, L2PH4, L2PH5</span><span class="sxs-lookup"><span data-stu-id="6905a-252">L2PH1, L2PH2, L2PH3, L2PH4, L2PH5</span></span> | <span data-ttu-id="6905a-253">Level2 de los datos de marcador de posición \\ L2PH1. dat level2 placeholder Data \\ L2PH2. dat level2 placeholder Data \\ L2PH3. dat level2 placeholders Data \\ L2PH4. dat level2 placeholder Data \\ L2PH5. dat</span><span class="sxs-lookup"><span data-stu-id="6905a-253">Level2 Placeholder Data\\L2PH1.dat Level2 Placeholder Data\\L2PH2.dat Level2 Placeholder Data\\L2PH3.dat Level2 Placeholder Data\\L2PH4.dat Level2 Placeholder Data\\L2PH5.dat</span></span> |
| <span data-ttu-id="6905a-254">Level3</span><span class="sxs-lookup"><span data-stu-id="6905a-254">Level3</span></span>  | <span data-ttu-id="6905a-255">L3PH1, L3PH2, L3PH3, L3PH4, L3PH5</span><span class="sxs-lookup"><span data-stu-id="6905a-255">L3PH1, L3PH2, L3PH3, L3PH4, L3PH5</span></span> | <span data-ttu-id="6905a-256">Level3 de los datos de marcador de posición \\ L3PH1. dat Level3 placeholder Data \\ L3PH2. dat Level3 placeholder Data \\ L3PH3. dat Level3 placeholders Data \\ L3PH4. dat Level3 placeholder Data \\ L3PH5. dat</span><span class="sxs-lookup"><span data-stu-id="6905a-256">Level3 Placeholder Data\\L3PH1.dat Level3 Placeholder Data\\L3PH2.dat Level3 Placeholder Data\\L3PH3.dat Level3 Placeholder Data\\L3PH4.dat Level3 Placeholder Data\\L3PH5.dat</span></span> |
| <span data-ttu-id="6905a-257">Level4</span><span class="sxs-lookup"><span data-stu-id="6905a-257">Level4</span></span>  | <span data-ttu-id="6905a-258">L4PH1, L4PH2, L4PH3, L4PH4, L4PH5</span><span class="sxs-lookup"><span data-stu-id="6905a-258">L4PH1, L4PH2, L4PH3, L4PH4, L4PH5</span></span> | <span data-ttu-id="6905a-259">Level4 de los datos de marcador de posición \\ L4PH1. dat level4 placeholder Data \\ L4PH2. dat level4 placeholder Data \\ L4PH3. dat level4 placeholders Data \\ L4PH4. dat level4 placeholder Data \\ L4PH5. dat</span><span class="sxs-lookup"><span data-stu-id="6905a-259">Level4 Placeholder Data\\L4PH1.dat Level4 Placeholder Data\\L4PH2.dat Level4 Placeholder Data\\L4PH3.dat Level4 Placeholder Data\\L4PH4.dat Level4 Placeholder Data\\L4PH5.dat</span></span> |
| <span data-ttu-id="6905a-260">Level5</span><span class="sxs-lookup"><span data-stu-id="6905a-260">Level5</span></span>  | <span data-ttu-id="6905a-261">L5PH1, L5PH2, L5PH3, L5PH4, L5PH5</span><span class="sxs-lookup"><span data-stu-id="6905a-261">L5PH1, L5PH2, L5PH3, L5PH4, L5PH5</span></span> | <span data-ttu-id="6905a-262">Level5 de los datos de marcador de posición \\ L5PH1. dat Level5 placeholder Data \\ L5PH2. dat Level5 placeholder Data \\ L5PH3. dat Level5 placeholders Data \\ L5PH4. dat Level5 placeholder Data \\ L5PH5. dat</span><span class="sxs-lookup"><span data-stu-id="6905a-262">Level5 Placeholder Data\\L5PH1.dat Level5 Placeholder Data\\L5PH2.dat Level5 Placeholder Data\\L5PH3.dat Level5 Placeholder Data\\L5PH4.dat Level5 Placeholder Data\\L5PH5.dat</span></span> |



 

<span data-ttu-id="6905a-263">Durante la instalación, la característica principal debe marcarse como "instalar" y todas las demás características deben marcarse como "anunciado".</span><span class="sxs-lookup"><span data-stu-id="6905a-263">During installation, the core feature should be marked "install" and all other features should be marked "advertised."</span></span> <span data-ttu-id="6905a-264">Al instalar solo una característica en lugar de seis, el tiempo que el reproductor debe esperar hasta que se reduce considerablemente el lanzamiento del juego.</span><span class="sxs-lookup"><span data-stu-id="6905a-264">By only installing one feature instead of six, the time that the player must wait until the game launches is significantly reduced.</span></span>

## <a name="installation"></a><span data-ttu-id="6905a-265">Instalación</span><span class="sxs-lookup"><span data-stu-id="6905a-265">Installation</span></span>

<span data-ttu-id="6905a-266">El [Windows Installer](/windows/desktop/Msi/windows-installer-portal) proporciona un mecanismo para que una aplicación solicite que se instale una característica anunciada.</span><span class="sxs-lookup"><span data-stu-id="6905a-266">The [Windows Installer](/windows/desktop/Msi/windows-installer-portal) provides a mechanism for an application to request that an advertised feature be installed.</span></span> <span data-ttu-id="6905a-267">Sin embargo, el mecanismo es una llamada de interfaz de programación de aplicaciones (API) sincrónica, lo que significa que la aplicación tiene que esperar dentro de la llamada hasta que se complete la instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-267">However, the mechanism is a synchronous application programming interface (API) call, which means that the application has to wait inside the call until the installation is complete.</span></span> <span data-ttu-id="6905a-268">Para lograr una instalación en segundo plano, es necesario un subproceso de trabajo para que el subproceso de la aplicación principal pueda realizar otras tareas importantes, como la representación en pantalla, para seguir facilitando los comentarios visuales del reproductor.</span><span class="sxs-lookup"><span data-stu-id="6905a-268">To achieve background installation, a worker thread is required so that the main application thread is free to perform other important tasks, such as rendering on the screen to continue giving the player visual feedback.</span></span>

<span data-ttu-id="6905a-269">En el ejemplo, hay tres Estados de instalación que se producen durante la ejecución del ejemplo: instalación activa, instalación pasiva y sin instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-269">In the sample, there are three states of installation that happen during the sample execution: active installation, passive installation, and no installation.</span></span>

-   <span data-ttu-id="6905a-270">La instalación activa es una solicitud iniciada por el ejemplo cuando necesita obtener acceso o cargar recursos proporcionados por una o varias características.</span><span class="sxs-lookup"><span data-stu-id="6905a-270">Active installation is a request initiated by the sample when it needs to access or load resources provided by one or more features.</span></span> <span data-ttu-id="6905a-271">El ejemplo hace esto cuando no puede continuar hasta que se instale el recurso.</span><span class="sxs-lookup"><span data-stu-id="6905a-271">The sample does this when it can not continue until the resource is installed.</span></span>
-   <span data-ttu-id="6905a-272">La instalación pasiva se inicia cuando el ejemplo no realiza una tarea crítica, como cuando el reproductor está en un menú o ve una escena corta.</span><span class="sxs-lookup"><span data-stu-id="6905a-272">Passive installation is initiated when the sample is not performing a critical task such as when the player is at a menu or watching a cut scene.</span></span> <span data-ttu-id="6905a-273">En este caso, el subproceso de trabajo comprueba si se sigue anunciando alguna característica de la muestra.</span><span class="sxs-lookup"><span data-stu-id="6905a-273">When this is the case, the worker thread checks if any feature of the sample is still advertised.</span></span> <span data-ttu-id="6905a-274">Si puede encontrar uno, llama al instalador para instalar esa característica.</span><span class="sxs-lookup"><span data-stu-id="6905a-274">If it can find one, it calls the installer to install that feature.</span></span> <span data-ttu-id="6905a-275">Este proceso se repite hasta que se instalan todas las características de la muestra.</span><span class="sxs-lookup"><span data-stu-id="6905a-275">This process repeats until every feature of the sample is installed.</span></span> <span data-ttu-id="6905a-276">En esencia, la instalación pasiva emplea ciclos de procesador adicionales para realizar la instalación en segundo plano cuando es menos intrusivo en el ejemplo principal.</span><span class="sxs-lookup"><span data-stu-id="6905a-276">Essentially, passive installation utilizes extra processor cycles to perform installation in the background when it is least intrusive to the main sample.</span></span>
-   <span data-ttu-id="6905a-277">No se produce ninguna instalación cuando el jugador está ocupado activamente en el juego. Esto evita una caída de velocidad de fotogramas que interrumpiría la experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="6905a-277">No installation happens when the player is actively engaged in the game; this prevents a framerate drop which would disrupt the user experience.</span></span>

<span data-ttu-id="6905a-278">En el ejemplo, se define una clase CMsiUtil para administrar todas las tareas relacionadas con la instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-278">In the sample, a class CMsiUtil is defined to handle all installation-related tasks.</span></span> <span data-ttu-id="6905a-279">Esencialmente, CMsiUtil usa un subproceso de trabajo que invoca al instalador para instalar las características del ejemplo en un bucle.</span><span class="sxs-lookup"><span data-stu-id="6905a-279">Essentially, CMsiUtil uses a worker thread that invokes the installer to install the sample's features in a loop.</span></span> <span data-ttu-id="6905a-280">La clase tiene dos colas que almacenan solicitudes de instalación: una cola de prioridad alta para la instalación activa y una cola de prioridad baja para la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-280">The class has two queues that store installation requests: one high priority queue for active installation and one low priority queue for passive installation.</span></span> <span data-ttu-id="6905a-281">Durante la inicialización, la clase enumera todas las características del producto y las agrega a la cola de instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-281">During initialization, the class enumerates all features of the product and adds them to the passive installation queue.</span></span> <span data-ttu-id="6905a-282">Dado que todo el producto se pone en cola de esta manera, el producto completo se instalará finalmente si el ejemplo tiene suficientes ciclos de procesador libres.</span><span class="sxs-lookup"><span data-stu-id="6905a-282">Because the entire product is queued this way, the entire product will eventually be installed if the sample has enough free processor cycles.</span></span>

<span data-ttu-id="6905a-283">Cuando el ejemplo necesita solicitar una instalación activa, el ejemplo puede llamar a CMsiUtil:: UseFeatureSet () y pasar el nombre de la característica de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="6905a-283">When the sample needs to request an active installation, the sample can call CMsiUtil::UseFeatureSet() and pass the name of the top-level feature.</span></span> <span data-ttu-id="6905a-284">UseFeatureSet () pondrá en cola la característica solicitada y todas sus subcaracterísticas en la cola de instalación activa para que el subproceso de trabajo pueda instalarlas.</span><span class="sxs-lookup"><span data-stu-id="6905a-284">UseFeatureSet() will queue the requested feature and all of its sub-features in the active installation queue so that the worker thread can install them.</span></span>

<span data-ttu-id="6905a-285">Al ejecutar una solicitud de instalación, el subproceso de trabajo comprobará la cola de instalación activa y la cola de instalación pasiva para ver si alguna de las colas tiene solicitudes adicionales.</span><span class="sxs-lookup"><span data-stu-id="6905a-285">While executing an install request, the worker thread will check the active installation queue as well as the passive installation queue to see if either queue has any additional requests.</span></span> <span data-ttu-id="6905a-286">Cada vez que el subproceso encuentra una solicitud, llamará a la API del instalador para realizar la instalación real.</span><span class="sxs-lookup"><span data-stu-id="6905a-286">Each time the thread finds a request, it will call the installer API to perform the actual installation.</span></span> <span data-ttu-id="6905a-287">Una vez que las dos colas están vacías, el subproceso de trabajo pasará a la suspensión con una llamada a [**WaitForSingleObject**](/windows/desktop/api/synchapi/nf-synchapi-waitforsingleobject).</span><span class="sxs-lookup"><span data-stu-id="6905a-287">Once both queues are empty, the worker thread will go to sleep with a call to [**WaitForSingleObject**](/windows/desktop/api/synchapi/nf-synchapi-waitforsingleobject).</span></span> <span data-ttu-id="6905a-288">Dado que todo el producto se coloca en la cola de instalación pasiva durante la inicialización, una cola vacía implica que se ha instalado todo el producto.</span><span class="sxs-lookup"><span data-stu-id="6905a-288">Because the entire product is placed in the passive installation queue during initialization, an empty queue implies that the entire product has been installed.</span></span>

<span data-ttu-id="6905a-289">En el ejemplo se llama a CMsiUtil:: EnablePassiveInstall () para habilitar o deshabilitar la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-289">The sample calls CMsiUtil::EnablePassiveInstall() to enable or disable passive installation.</span></span> <span data-ttu-id="6905a-290">EnablePassiveInstall (true) incrementa el recuento de habilitaciones para la instalación pasiva y EnablePassiveInstall (false) lo reduce.</span><span class="sxs-lookup"><span data-stu-id="6905a-290">EnablePassiveInstall(true) increments the enable count for passive installation, and EnablePassiveInstall(false) decrements it.</span></span> <span data-ttu-id="6905a-291">Si el recuento de habilitaciones es mayor que 0, la clase procesará la cola de instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-291">If the enable count is greater than 0, the class will process the passive installation queue.</span></span> <span data-ttu-id="6905a-292">El ejemplo permite la instalación pasiva cuando se cumple cualquiera de las siguientes condiciones:</span><span class="sxs-lookup"><span data-stu-id="6905a-292">The sample allows passive installation when any of the following is true:</span></span>

-   <span data-ttu-id="6905a-293">El usuario está viendo la secuencia de introducción inicial.</span><span class="sxs-lookup"><span data-stu-id="6905a-293">The user is viewing the initial introduction sequence.</span></span>
-   <span data-ttu-id="6905a-294">El usuario navega en el menú de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="6905a-294">The user is navigating in the sample menu.</span></span>
-   <span data-ttu-id="6905a-295">El usuario está viendo las estadísticas al final de un nivel.</span><span class="sxs-lookup"><span data-stu-id="6905a-295">The user is viewing the statistics at the end of a level.</span></span>
-   <span data-ttu-id="6905a-296">La aplicación de ejemplo pierde su foco y va al fondo.</span><span class="sxs-lookup"><span data-stu-id="6905a-296">The sample application loses its focus and goes to the background.</span></span>

<span data-ttu-id="6905a-297">Los métodos de CMsiUtil se enumeran a continuación:</span><span class="sxs-lookup"><span data-stu-id="6905a-297">The methods of CMsiUtil are listed below:</span></span>



| <span data-ttu-id="6905a-298">Método</span><span class="sxs-lookup"><span data-stu-id="6905a-298">Method</span></span>                | <span data-ttu-id="6905a-299">Descripción</span><span class="sxs-lookup"><span data-stu-id="6905a-299">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6905a-300">AbortAllRequests</span><span class="sxs-lookup"><span data-stu-id="6905a-300">AbortAllRequests</span></span>      | <span data-ttu-id="6905a-301">Hace que la instalación actual anule y vacíe la cola de solicitudes de instalación activa.</span><span class="sxs-lookup"><span data-stu-id="6905a-301">Causes the current installation to abort and empties the active installation request queue.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="6905a-302">AbortCurrentRequest</span><span class="sxs-lookup"><span data-stu-id="6905a-302">AbortCurrentRequest</span></span>   | <span data-ttu-id="6905a-303">Hace que la instalación en curso se anule.</span><span class="sxs-lookup"><span data-stu-id="6905a-303">Causes the installation in progress to abort.</span></span> <span data-ttu-id="6905a-304">A continuación, el subproceso de trabajo procesa la siguiente solicitud en la cola, si existe una.</span><span class="sxs-lookup"><span data-stu-id="6905a-304">The worker thread then processes the next request in the queue, if one exists.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="6905a-305">EnablePassiveInstall</span><span class="sxs-lookup"><span data-stu-id="6905a-305">EnablePassiveInstall</span></span>  | <span data-ttu-id="6905a-306">Incrementa o disminuye el recuento de habilitación de la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-306">Increments or decrements passive installation enable count.</span></span> <span data-ttu-id="6905a-307">En el ejemplo se utiliza esta llamada para controlar cuándo puede y no puede producirse la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-307">The sample uses this call to control when passive installation can and cannot happen.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="6905a-308">GetCurrentFeatureName</span><span class="sxs-lookup"><span data-stu-id="6905a-308">GetCurrentFeatureName</span></span> | <span data-ttu-id="6905a-309">Devuelve el nombre de la característica que se está instalando activamente.</span><span class="sxs-lookup"><span data-stu-id="6905a-309">Returns the name of the feature that is actively being installed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="6905a-310">GetFeatureProgress</span><span class="sxs-lookup"><span data-stu-id="6905a-310">GetFeatureProgress</span></span>    | <span data-ttu-id="6905a-311">Devuelve la posición de paso actual para la característica que se está instalando.</span><span class="sxs-lookup"><span data-stu-id="6905a-311">Returns the current tick position for the feature that is being installed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="6905a-312">GetFeatureProgressMax</span><span class="sxs-lookup"><span data-stu-id="6905a-312">GetFeatureProgressMax</span></span> | <span data-ttu-id="6905a-313">Devuelve el número máximo de ciclos de progreso de la característica que se va a instalar.</span><span class="sxs-lookup"><span data-stu-id="6905a-313">Returns the maximum number of progress tick for the feature that is being installed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="6905a-314">Obtener último error</span><span class="sxs-lookup"><span data-stu-id="6905a-314">GetLastError</span></span>          | <span data-ttu-id="6905a-315">Utilice este método para recuperar el código de retorno de la solicitud de instalación anterior.</span><span class="sxs-lookup"><span data-stu-id="6905a-315">Use this method to retrieve the return code from the previous installation request.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="6905a-316">GetPassiveProgress</span><span class="sxs-lookup"><span data-stu-id="6905a-316">GetPassiveProgress</span></span>    | <span data-ttu-id="6905a-317">Devuelve la posición de paso de la barra de progreso para la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-317">Returns the progress bar tick position for passive installation.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="6905a-318">GetPassiveProgressMax</span><span class="sxs-lookup"><span data-stu-id="6905a-318">GetPassiveProgressMax</span></span> | <span data-ttu-id="6905a-319">Devuelve la posición de paso actual y el número máximo de pasos para la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-319">Returns the current tick position and the maximum number of ticks for passive installation.</span></span> <span data-ttu-id="6905a-320">Juntos, el ejemplo puede usarlos para mostrar el progreso general de la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-320">Together, the sample can use them to show the overall progress of the passive installation.</span></span>                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="6905a-321">GetProgress</span><span class="sxs-lookup"><span data-stu-id="6905a-321">GetProgress</span></span>           | <span data-ttu-id="6905a-322">Devuelve la posición de paso de la barra de progreso para la instalación del conjunto de características activo.</span><span class="sxs-lookup"><span data-stu-id="6905a-322">Returns the progress bar tick position for the active feature set installation.</span></span> <span data-ttu-id="6905a-323">Se utiliza cuando el ejemplo representa la barra de progreso de la instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-323">This is used when the sample renders the installation progress bar.</span></span> <span data-ttu-id="6905a-324">Dado que el Windows Installer solo proporciona información de progreso para la característica que se va a instalar, el método divide la barra de progreso entre las características solicitadas para que el usuario siga viendo toda la instalación como una tarea.</span><span class="sxs-lookup"><span data-stu-id="6905a-324">Because the Windows Installer only provides progress information for the one feature being installed, the method divides the progress bar among the requested features so that the user still sees the entire installation as one task.</span></span>                                                                                                                                                                                           |
| <span data-ttu-id="6905a-325">GetProgressMax</span><span class="sxs-lookup"><span data-stu-id="6905a-325">GetProgressMax</span></span>        | <span data-ttu-id="6905a-326">Devuelve el número máximo de pasos de la barra de progreso para la instalación del conjunto de características activo.</span><span class="sxs-lookup"><span data-stu-id="6905a-326">Returns the maximum progress bar tick count for the active feature set installation.</span></span> <span data-ttu-id="6905a-327">Se utiliza cuando el ejemplo representa la barra de progreso de la instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-327">This is used when the sample renders the installation progress bar.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="6905a-328">Inicialización</span><span class="sxs-lookup"><span data-stu-id="6905a-328">Initialize</span></span>            | <span data-ttu-id="6905a-329">Inicializa la clase con el identificador único global (GUID) del producto.</span><span class="sxs-lookup"><span data-stu-id="6905a-329">Initializes the class with the product globally unique identifier (GUID).</span></span> <span data-ttu-id="6905a-330">Este método también enumera todas las características de la aplicación que se han anunciado pero que todavía no se han instalado y las coloca en la cola de instalación pasiva para configurar la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-330">This method also enumerates every feature of the application which has been advertised but not yet installed, and places it in the passive installation queue to set up the passive installation.</span></span>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="6905a-331">IsInstallInProgress</span><span class="sxs-lookup"><span data-stu-id="6905a-331">IsInstallInProgress</span></span>   | <span data-ttu-id="6905a-332">Use este método para averiguar si se está procesando una instalación activa.</span><span class="sxs-lookup"><span data-stu-id="6905a-332">Use this method to find out whether an active installation is being processed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="6905a-333">UseFeature</span><span class="sxs-lookup"><span data-stu-id="6905a-333">UseFeature</span></span>            | <span data-ttu-id="6905a-334">Método privado llamado por UseFeatureSet.</span><span class="sxs-lookup"><span data-stu-id="6905a-334">Private method called by UseFeatureSet.</span></span> <span data-ttu-id="6905a-335">Comprueba si una característica está instalada.</span><span class="sxs-lookup"><span data-stu-id="6905a-335">Checks if a feature is installed.</span></span> <span data-ttu-id="6905a-336">Si se instala la característica solicitada, el método devuelve.</span><span class="sxs-lookup"><span data-stu-id="6905a-336">If the requested feature is installed the method returns.</span></span> <span data-ttu-id="6905a-337">Si la característica aún no está instalada (anunciada), el método pone en cola una nueva solicitud de instalación activa para el subproceso de trabajo y, a continuación, devuelve.</span><span class="sxs-lookup"><span data-stu-id="6905a-337">If the feature is not yet installed (advertised), the method queues a new active installation request for the worker thread and then returns.</span></span> <span data-ttu-id="6905a-338">El identificador de evento opcional que se señalará cuando se complete la instalación solicitada.</span><span class="sxs-lookup"><span data-stu-id="6905a-338">The optional event handle that will be signaled when the requested installation is complete.</span></span>                                                                                                                                                                                                        |
| <span data-ttu-id="6905a-339">UseFeatureSet</span><span class="sxs-lookup"><span data-stu-id="6905a-339">UseFeatureSet</span></span>         | <span data-ttu-id="6905a-340">Lo llama el ejemplo cuando necesita acceder a las funcionalidades proporcionadas por una característica determinada o a cualquiera de sus subcaracterísticas.</span><span class="sxs-lookup"><span data-stu-id="6905a-340">Called by the sample when it needs to access functionalities provided by a particular feature or any of its sub-features.</span></span> <span data-ttu-id="6905a-341">El método enumera todas las características del ejemplo y llama a UseFeature () para las subcaracterísticas de la característica raíz especificada.</span><span class="sxs-lookup"><span data-stu-id="6905a-341">The method enumerates all features of the sample and calls UseFeature() for sub-features of the specified root feature.</span></span> <span data-ttu-id="6905a-342">El ejemplo puede pasar un identificador de evento que se señalará cuando se instale todo el conjunto de características.</span><span class="sxs-lookup"><span data-stu-id="6905a-342">The sample can pass in an event handle that will be signaled when the entire feature set is installed.</span></span> <span data-ttu-id="6905a-343">Dado que todas las características se instalan como un conjunto, el identificador se especifica para la última característica puesta en cola por UseFeature () en lugar de cada característica, de modo que el ejemplo recibe una notificación una vez que se han instalado todas las características solicitadas.</span><span class="sxs-lookup"><span data-stu-id="6905a-343">Because the features all installed as a set, The handle is specified for the last feature queued by UseFeature() instead of every feature, so that the sample gets notified once after all requested features are installed.</span></span> |
| <span data-ttu-id="6905a-344">UseProduct</span><span class="sxs-lookup"><span data-stu-id="6905a-344">UseProduct</span></span>            | <span data-ttu-id="6905a-345">Pone en cola una solicitud de instalación activa para que el subproceso de trabajo llame al instalador para realizar una instalación completa del producto.</span><span class="sxs-lookup"><span data-stu-id="6905a-345">Queues an active installation request for the worker thread to call the installer to perform a full product installation.</span></span> <span data-ttu-id="6905a-346">El identificador de evento opcional que se señalará cuando se complete la instalación solicitada.</span><span class="sxs-lookup"><span data-stu-id="6905a-346">The optional event handle that will be signaled when the requested installation is complete.</span></span>                                                                                                                                                                                                                                                                                                                                                                |



 

## <a name="limitation"></a><span data-ttu-id="6905a-347">Limitación</span><span class="sxs-lookup"><span data-stu-id="6905a-347">Limitation</span></span>

<span data-ttu-id="6905a-348">La versión actual del instalador no está diseñada para el acceso simultáneo de varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="6905a-348">The current version of installer is not designed for simultaneous access by multiple threads.</span></span> <span data-ttu-id="6905a-349">Por lo tanto, cuando el subproceso de trabajo llama al instalador, el subproceso principal no debe llamar al instalador.</span><span class="sxs-lookup"><span data-stu-id="6905a-349">Therefore, when the worker thread is calling into the installer, the main thread should not call the installer.</span></span> <span data-ttu-id="6905a-350">Un ejemplo de esta limitación se produce en el ejemplo cuando el subproceso principal solicita una característica y, a continuación, solicita la misma característica de nuevo antes de que el subproceso de trabajo complete la instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-350">An example of this limitation occurs in the sample when the main thread requests a feature, then requests the same feature again before the worker thread completes the installation.</span></span> <span data-ttu-id="6905a-351">La segunda solicitud llama a MsiQueryFeatureState () para averiguar si la característica solicitada ya está instalada, ya que el instalador puede indicar a veces que la característica está completamente instalada cuando el subproceso de trabajo todavía está copiando los archivos.</span><span class="sxs-lookup"><span data-stu-id="6905a-351">The second request calls MsiQueryFeatureState() to find out whether the requested feature is already installed, since the installer may sometimes indicate that the feature is completely installed when the worker thread is still copying the files.</span></span>

<span data-ttu-id="6905a-352">Afortunadamente, hay una solución alternativa para esto.</span><span class="sxs-lookup"><span data-stu-id="6905a-352">Fortunately, there is an easy work-around for this.</span></span> <span data-ttu-id="6905a-353">CMsiUtil comprobará si una característica se instala mediante el subproceso de trabajo antes de llamar a funciones como MsiQueryFeatureState () o MsiUseFeature () para solicitar el estado de instalación de la característica en cuestión.</span><span class="sxs-lookup"><span data-stu-id="6905a-353">CMsiUtil will check whether a feature is being installed by the worker thread before it calls functions such as MsiQueryFeatureState() or MsiUseFeature() to ask for the install state of the feature in question.</span></span> <span data-ttu-id="6905a-354">Tenga en cuenta que esta limitación también puede convertirse en un problema en otro lugar.</span><span class="sxs-lookup"><span data-stu-id="6905a-354">Be aware that this limitation can also become an issue elsewhere.</span></span>

<span data-ttu-id="6905a-355">La revisión puede afectar al funcionamiento de la instalación a petición en el equipo de un usuario final.</span><span class="sxs-lookup"><span data-stu-id="6905a-355">Patching can affect how well install-on-demand works on an end-user's computer.</span></span> <span data-ttu-id="6905a-356">La aplicación de una revisión que solo contenga los datos que han cambiado respecto a la versión anterior puede requerir que se instale la versión anterior del archivo actualizado para aplicar la diferencia.</span><span class="sxs-lookup"><span data-stu-id="6905a-356">Applying a patch that only contains data that has changed from the previous version may require that the previous version of the updated file be installed in order to apply the delta.</span></span> <span data-ttu-id="6905a-357">En esta situación, la revisión debe solicitar que el instalador Instale las características anunciadas afectadas antes de aplicar la revisión al juego.</span><span class="sxs-lookup"><span data-stu-id="6905a-357">In this situation, the patch must request that the installer install affected advertised features before applying the patch to the game.</span></span>

<span data-ttu-id="6905a-358">El ejemplo se instala iniciando InstallOnDemand.msi porque supone que el [Windows Installer](/windows/desktop/Msi/windows-installer-portal) está presente en el equipo.</span><span class="sxs-lookup"><span data-stu-id="6905a-358">The sample is installed by launching InstallOnDemand.msi because it assumes that the [Windows Installer](/windows/desktop/Msi/windows-installer-portal) is present on the computer.</span></span> <span data-ttu-id="6905a-359">Si el instalador no está presente, los archivos. msi no se reconocen y el inicio no funcionará.</span><span class="sxs-lookup"><span data-stu-id="6905a-359">If the installer is absent, .msi files are not recognized and launching them will not work.</span></span> <span data-ttu-id="6905a-360">Para solucionar este problema, una aplicación debe utilizar un programa de instalación para realizar la tarea.</span><span class="sxs-lookup"><span data-stu-id="6905a-360">To overcome this problem, an application should use an installation program to perform the task.</span></span> <span data-ttu-id="6905a-361">Este programa debe comprobar primero si el instalador está presente y, en ese caso, su versión.</span><span class="sxs-lookup"><span data-stu-id="6905a-361">This program should first check to see if the installer is present, and if so, its version.</span></span> <span data-ttu-id="6905a-362">Si la versión no cumple los requisitos de la aplicación, el programa de instalación debe instalar el Windows Installer y, a continuación, iniciar el archivo. msi.</span><span class="sxs-lookup"><span data-stu-id="6905a-362">If the version does not meet the application's requirement, the installation program should install the Windows Installer, then launch the .msi file.</span></span> <span data-ttu-id="6905a-363">Este proceso se conoce como arranque.</span><span class="sxs-lookup"><span data-stu-id="6905a-363">This process is known as bootstrapping.</span></span> <span data-ttu-id="6905a-364">Normalmente, las aplicaciones denominan el programa de instalación de arranque Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="6905a-364">Applications typically name their bootstrapping installation program Setup.exe.</span></span> <span data-ttu-id="6905a-365">El ejemplo no controla el arranque.</span><span class="sxs-lookup"><span data-stu-id="6905a-365">The sample does not handle bootstrapping.</span></span> <span data-ttu-id="6905a-366">Sin embargo, puede encontrar detalles completos sobre el arranque en el Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="6905a-366">However, complete details on bootstrapping can be found in the Windows Installer.</span></span>

<span data-ttu-id="6905a-367">Los desarrolladores también deben prestar atención al tamaño de cada característica en sus juegos.</span><span class="sxs-lookup"><span data-stu-id="6905a-367">Developers should also pay attention to the size of each feature in their games.</span></span> <span data-ttu-id="6905a-368">Al cancelar una instalación en curso, el instalador restaura el equipo al estado anterior a la instalación.</span><span class="sxs-lookup"><span data-stu-id="6905a-368">When canceling an installation in progress, the installer restores the computer to the state before the installation.</span></span> <span data-ttu-id="6905a-369">Esto significa que la instalación de la característica se deshace completamente y no hay ninguna instalación parcial.</span><span class="sxs-lookup"><span data-stu-id="6905a-369">This means that the installation of the feature is completely undone, and there is no partial feature installation.</span></span> <span data-ttu-id="6905a-370">Una característica grande requiere más tiempo de instalación, lo que aumenta la probabilidad de que la instalación se interrumpa y se cancele, o la instalación interfiere con la aplicación principal.</span><span class="sxs-lookup"><span data-stu-id="6905a-370">A large feature requires longer time to install, which either increases the likelihood that the install will be interrupted and cancelled or the install will interfere with the main application.</span></span> <span data-ttu-id="6905a-371">Un ejemplo sería habilitar la instalación pasiva cuando el usuario abre el menú juego en la mitad del juego.</span><span class="sxs-lookup"><span data-stu-id="6905a-371">An example would be enabling passive installation when the user brings up the game menu in the middle of game play.</span></span> <span data-ttu-id="6905a-372">Si una característica se está instalando y el usuario vuelve a jugar, el juego puede realizar una de estas dos acciones: puede permitir que se complete la instalación pasiva o cancelar la instalación pasiva.</span><span class="sxs-lookup"><span data-stu-id="6905a-372">If a feature is installing and the user goes back to playing, the game can do one of two things: it can let the passive installation complete, or it can cancel the passive installation.</span></span> <span data-ttu-id="6905a-373">Una característica grande se encontraría mal con cualquiera de los dos modelos.</span><span class="sxs-lookup"><span data-stu-id="6905a-373">A large feature would fit poorly with either model.</span></span> <span data-ttu-id="6905a-374">Si el juego permite completar la instalación grande, es posible que la instalación dificulte el rendimiento de la representación del juego durante mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="6905a-374">If the game lets the large installation complete, the installation may hinder the game's rendering performance for a long time.</span></span> <span data-ttu-id="6905a-375">Por el contrario, si el juego cancela la instalación, el usuario debe permanecer en el menú durante mucho tiempo antes de volver al juego.</span><span class="sxs-lookup"><span data-stu-id="6905a-375">Conversely, if the game cancels the installation, then the user must stay in the menu for a long time before returning to the game.</span></span> <span data-ttu-id="6905a-376">Los desarrolladores deben encontrar un tamaño de característica equilibrado que funcione mejor para sus juegos individuales.</span><span class="sxs-lookup"><span data-stu-id="6905a-376">Developers should find a balanced feature size that works best for their individual games.</span></span>

 

 