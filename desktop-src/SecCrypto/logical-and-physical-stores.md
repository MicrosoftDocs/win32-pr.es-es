---
description: Los almacenes del sistema predeterminados, incluidos MY, CA y ROOT, se implementan como almacenes de recopilación lógica con un número de almacenes físicos predefinidos como sus almacenes de miembros.
ms.assetid: 1d82b94b-4842-454a-aca4-823cd264ac52
title: Almacenes lógicos y físicos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 66a5441bac91e39b7f4c124daecd3a6a569c323c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103810255"
---
# <a name="logical-and-physical-stores"></a><span data-ttu-id="d6896-103">Almacenes lógicos y físicos</span><span class="sxs-lookup"><span data-stu-id="d6896-103">Logical and Physical Stores</span></span>

<span data-ttu-id="d6896-104">Los almacenes del sistema predeterminados, incluidos MY, CA y ROOT, se implementan como almacenes de recopilación lógica con un número de almacenes físicos predefinidos como sus almacenes de miembros.</span><span class="sxs-lookup"><span data-stu-id="d6896-104">Default system stores, including MY, CA, and ROOT, are implemented as logical collection stores with a number of predefined physical stores as their member stores.</span></span> <span data-ttu-id="d6896-105">Los almacenes físicos de miembros de un almacén del sistema se abren automáticamente al abrir el almacén del sistema.</span><span class="sxs-lookup"><span data-stu-id="d6896-105">The member physical stores of a system store are opened automatically when the system store is opened.</span></span> <span data-ttu-id="d6896-106">Un usuario puede Agregar almacenes físicos adicionales a cualquier colección de almacenes del sistema.</span><span class="sxs-lookup"><span data-stu-id="d6896-106">A user can add additional physical stores to any system store collection.</span></span> <span data-ttu-id="d6896-107">La función CryptoAPI [**CertRegisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregisterphysicalstore) agrega un nuevo almacén físico a una colección de almacenes del sistema.</span><span class="sxs-lookup"><span data-stu-id="d6896-107">The CryptoAPI function [**CertRegisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregisterphysicalstore) adds a new physical store to a system store collection.</span></span> <span data-ttu-id="d6896-108">[**CertUnregisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregisterphysicalstore) desasocia un almacén físico de un almacén lógico del sistema.</span><span class="sxs-lookup"><span data-stu-id="d6896-108">[**CertUnregisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregisterphysicalstore) disassociates a physical store from a logical system store.</span></span> <span data-ttu-id="d6896-109">[**CertRegisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregistersystemstore) crea un nuevo almacén del sistema en un registro hKey, mientras que [**CertUnregisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregistersystemstore) quita un almacén del sistema del registro.</span><span class="sxs-lookup"><span data-stu-id="d6896-109">[**CertRegisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregistersystemstore) creates a new system store under a registry hKey, while [**CertUnregisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregistersystemstore) removes a system store from the registry.</span></span>

<span data-ttu-id="d6896-110">En CryptoAPI, los almacenes de sistema son almacenes lógicos con almacenes físicos asociados.</span><span class="sxs-lookup"><span data-stu-id="d6896-110">In CryptoAPI, system stores are logical stores with associated physical stores.</span></span> <span data-ttu-id="d6896-111">Todos los certificados de un almacén del sistema existente permanecen disponibles y la adición física de nuevos certificados se realiza en los almacenes físicos que componen el almacén lógico del sistema.</span><span class="sxs-lookup"><span data-stu-id="d6896-111">All the certificates in an existing system store remain available, and the physical addition of new certificates is made in the physical stores that make up the logical system store.</span></span>

<span data-ttu-id="d6896-112">Los usuarios que prefieren seguir usando almacenes físicos del sistema y no convertirlos en almacenes lógicos pueden abrir almacenes del sistema con el \_ \_ \_ \_ proveedor del registro del sistema del almacén de certificados.</span><span class="sxs-lookup"><span data-stu-id="d6896-112">Users who prefer to continue to use physical system stores and not convert to logical stores can open system stores with the CERT\_STORE\_PROV\_SYSTEM\_REGISTRY provider.</span></span> <span data-ttu-id="d6896-113">Este proveedor seguirá usando cada almacén del sistema como un único almacén físico.</span><span class="sxs-lookup"><span data-stu-id="d6896-113">This provider will continue to use each system store as a single, physical store.</span></span>

<span data-ttu-id="d6896-114">Las funciones [**CertEnumSystemStoreLocation**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstorelocation), [**CertEnumSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstore)y [**CertEnumPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumphysicalstore) muestran las ubicaciones del almacén del sistema, los almacenes del sistema disponibles y todos los almacenes físicos que son miembros de un almacén del sistema.</span><span class="sxs-lookup"><span data-stu-id="d6896-114">The functions [**CertEnumSystemStoreLocation**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstorelocation), [**CertEnumSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstore), and [**CertEnumPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumphysicalstore) list system store locations, available system stores, and all physical stores that are members of a system store.</span></span>

<span data-ttu-id="d6896-115">También se pueden reubicar los almacenes del sistema.</span><span class="sxs-lookup"><span data-stu-id="d6896-115">System stores can also be relocated.</span></span> <span data-ttu-id="d6896-116">De forma predeterminada, se abre un almacén del sistema en relación con una subclave del registro después de un patrón predefinido.</span><span class="sxs-lookup"><span data-stu-id="d6896-116">By default, a system store is opened relative to a registry subkey following a predefined pattern.</span></span> <span data-ttu-id="d6896-117">Para obtener más información, vea [ubicaciones del almacén del sistema](system-store-locations.md).</span><span class="sxs-lookup"><span data-stu-id="d6896-117">For more information, see [System Store Locations](system-store-locations.md).</span></span> <span data-ttu-id="d6896-118">La configuración de la \_ \_ marca de reubicación del almacén del sistema de certificados \_ \_ en el parámetro *DwFlags* que se pasa a [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) coloca un almacén del sistema en el registro en una subclave del registro especificada por el usuario en lugar de la predefinida.</span><span class="sxs-lookup"><span data-stu-id="d6896-118">Setting CERT\_SYSTEM\_STORE\_RELOCATE\_FLAG in the *dwFlags* parameter passed to [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) places a system store in the registry under a user-specified registry subkey instead of the predefined one.</span></span>

 

 



