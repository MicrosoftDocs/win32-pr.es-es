---
description: Un proveedor WMI consta de un archivo DLL y un archivo Managed Object Format (MOF). El archivo MOF define las clases para las que la implementación del proveedor proporciona datos.
ms.assetid: 20ef6b88-2aaa-4e86-bc4a-bebc34069672
ms.tgt_platform: multiple
title: Diseñar clases de Managed Object Format (MOF)
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 201f8c45f7a247fbca5695baa6dd440fc5dc323f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104277707"
---
# <a name="designing-managed-object-format-mof-classes"></a><span data-ttu-id="0c831-104">Diseñar clases de Managed Object Format (MOF)</span><span class="sxs-lookup"><span data-stu-id="0c831-104">Designing Managed Object Format (MOF) Classes</span></span>

<span data-ttu-id="0c831-105">Un [*proveedor WMI*](gloss-p.md) consta de un archivo dll y un archivo Managed Object Format (MOF).</span><span class="sxs-lookup"><span data-stu-id="0c831-105">A [*WMI provider*](gloss-p.md) consists of a Managed Object Format (MOF) file and DLL file.</span></span> <span data-ttu-id="0c831-106">El archivo MOF define las clases para las que la implementación del proveedor proporciona datos.</span><span class="sxs-lookup"><span data-stu-id="0c831-106">The MOF file defines the classes for which the provider implementation supplies data.</span></span>

<span data-ttu-id="0c831-107">Las definiciones de clases de MOF se compilan mediante la utilidad [**MOFCOMP**](mofcomp.md) y se almacenan en el [*repositorio WMI*](gloss-w.md), también conocido como repositorio modelo de información común (CIM).</span><span class="sxs-lookup"><span data-stu-id="0c831-107">The MOF class definitions are compiled by the [**mofcomp**](mofcomp.md) utility and stored in the [*WMI repository*](gloss-w.md), also known as the Common Information Model (CIM) repository.</span></span> <span data-ttu-id="0c831-108">Una manera menos común de crear clases es a través de los métodos de la [API com para WMI](com-api-for-wmi.md).</span><span class="sxs-lookup"><span data-stu-id="0c831-108">A less common way to create classes is through the methods of the [COM API for WMI](com-api-for-wmi.md).</span></span>

> [!Note]  
> <span data-ttu-id="0c831-109">Para asegurarse de que todas las definiciones de clase WMI para objetos administrados se restauran en el [*repositorio WMI*](gloss-w.md) si WMI tiene un error y se reinicia, use la instrucción de preprocesador [**\# pragma Recover**](pragma-autorecover.md) en el archivo MOF.</span><span class="sxs-lookup"><span data-stu-id="0c831-109">To ensure that all your WMI class definitions for managed objects are restored to the [*WMI repository*](gloss-w.md) if WMI has a failure and restarts, use the [**\#pragma autorecover**](pragma-autorecover.md) preprocessor instruction in your MOF file.</span></span>

 

<span data-ttu-id="0c831-110">En este tema se describen las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="0c831-110">The following sections are discussed in this topic:</span></span>

-   [<span data-ttu-id="0c831-111">Definir los objetos que se van a administrar</span><span class="sxs-lookup"><span data-stu-id="0c831-111">Defining the Objects to Manage</span></span>](#defining-the-objects-to-manage)
-   [<span data-ttu-id="0c831-112">Definir propiedades o métodos</span><span class="sxs-lookup"><span data-stu-id="0c831-112">Defining Properties or Methods</span></span>](#defining-properties-or-methods)
-   [<span data-ttu-id="0c831-113">Relacionar los objetos entre sí</span><span class="sxs-lookup"><span data-stu-id="0c831-113">Relating Objects to Each Other</span></span>](#relating-objects-to-each-other)
-   [<span data-ttu-id="0c831-114">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0c831-114">Related topics</span></span>](#related-topics)

## <a name="defining-the-objects-to-manage"></a><span data-ttu-id="0c831-115">Definir los objetos que se van a administrar</span><span class="sxs-lookup"><span data-stu-id="0c831-115">Defining the Objects to Manage</span></span>

<span data-ttu-id="0c831-116">Después de identificar la parte de la empresa que se va a administrar, defina los objetos que desea administrar.</span><span class="sxs-lookup"><span data-stu-id="0c831-116">After you identify the part of your enterprise to manage, define the objects to manage.</span></span> <span data-ttu-id="0c831-117">La definición debe incluir los datos necesarios y permitirle implementar las reglas de negocios pertinentes de forma precisa.</span><span class="sxs-lookup"><span data-stu-id="0c831-117">The definition must include the required data, and allow you to implement the relevant business rules accurately.</span></span> <span data-ttu-id="0c831-118">Puede definir objetos en un nivel granular, pero es mejor decidir entre el nivel de detalle contenido en la definición y la necesidad de proporcionar detalles suficientes para ser útil.</span><span class="sxs-lookup"><span data-stu-id="0c831-118">You can define objects at a granular level, but it is best to decide between the level of detail contained in the definition, and the need to provide enough detail to be useful.</span></span> <span data-ttu-id="0c831-119">Los métodos abreviados al principio del proceso pueden ahorrar tiempo, pero pueden provocar más trabajo en el futuro.</span><span class="sxs-lookup"><span data-stu-id="0c831-119">Shortcuts early in the process may save time, but may be cause more work in the future.</span></span>

<span data-ttu-id="0c831-120">El tutorial de CIM en el sitio web del equipo de administración distribuida (DMTF) contiene información excelente sobre el proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="0c831-120">The CIM Tutorial at the Distributed Management Task Force (DMTF) website contains excellent information about the design process.</span></span> <span data-ttu-id="0c831-121">Para obtener más información, vea [www.dmtf.org](https://www.dmtf.org/).</span><span class="sxs-lookup"><span data-stu-id="0c831-121">For more information, see [www.dmtf.org](https://www.dmtf.org/).</span></span>

<span data-ttu-id="0c831-122">Tenga en cuenta los siguientes factores al desarrollar e implementar un diseño de esquema:</span><span class="sxs-lookup"><span data-stu-id="0c831-122">Consider the following factors when you develop and implement a schema design:</span></span>

-   <span data-ttu-id="0c831-123">Calificadores</span><span class="sxs-lookup"><span data-stu-id="0c831-123">Qualifiers</span></span>

    <span data-ttu-id="0c831-124">Los calificadores proporcionan información sobre cómo describir clases, objetos, propiedades, métodos y parámetros. y se aplican a las definiciones de clase y propiedad.</span><span class="sxs-lookup"><span data-stu-id="0c831-124">Qualifiers provide information about how to describe classes, objects, properties, methods, and parameters; and they are applied to class and property definitions.</span></span> <span data-ttu-id="0c831-125">En el código MOF, los calificadores se incluyen entre corchetes y pueden incluir la \[ clave \] o la \[ Asociación \] .</span><span class="sxs-lookup"><span data-stu-id="0c831-125">In MOF code, qualifiers are enclosed in brackets and may include \[key\] or \[association\].</span></span> <span data-ttu-id="0c831-126">Para obtener más información, vea [Agregar un calificador](adding-a-qualifier.md) y [calificadores de WMI](wmi-qualifiers.md).</span><span class="sxs-lookup"><span data-stu-id="0c831-126">For more information, see [Adding a Qualifier](adding-a-qualifier.md) and [WMI Qualifiers](wmi-qualifiers.md).</span></span>

-   <span data-ttu-id="0c831-127">Espacio de nombres</span><span class="sxs-lookup"><span data-stu-id="0c831-127">Namespace</span></span>

    <span data-ttu-id="0c831-128">Un espacio de nombres es una unidad lógica para agrupar clases y objetos, y controlar el ámbito y la visibilidad.</span><span class="sxs-lookup"><span data-stu-id="0c831-128">A namespace is a logical unit to group classes and objects, and control scope and visibility.</span></span> <span data-ttu-id="0c831-129">Normalmente, un espacio de nombres contiene un conjunto de clases y objetos que representan objetos administrados en un entorno específico.</span><span class="sxs-lookup"><span data-stu-id="0c831-129">Typically, a namespace contains a set of classes and objects that represent managed objects in a specific environment.</span></span> <span data-ttu-id="0c831-130">Para obtener más información, vea [Crear jerarquías en WMI](creating-hierarchies-within-wmi.md).</span><span class="sxs-lookup"><span data-stu-id="0c831-130">For more information, see [Creating Hierarchies Within WMI](creating-hierarchies-within-wmi.md).</span></span>

-   <span data-ttu-id="0c831-131">Object</span><span class="sxs-lookup"><span data-stu-id="0c831-131">Object</span></span>

    <span data-ttu-id="0c831-132">Un objeto modelado podría ser un elemento físico o lógico del esquema.</span><span class="sxs-lookup"><span data-stu-id="0c831-132">A modeled object might be a physical or logical element of the schema.</span></span> <span data-ttu-id="0c831-133">Por ejemplo, puede modelar una unidad de disco físico, como una unidad de disco duro, o un disco lógico que puede ser una partición en un disco físico.</span><span class="sxs-lookup"><span data-stu-id="0c831-133">For example, you can model a physical disk drive such as a hard disk drive, or a logical disk that can be a partition on a physical disk.</span></span> <span data-ttu-id="0c831-134">Un diseño que usa una clase para modelar una unidad de disco físico y, a continuación, extiende esa clase para modelar un disco lógico es más extensible que uno que intenta crear una clase independiente para cada tipo de disco.</span><span class="sxs-lookup"><span data-stu-id="0c831-134">A design that uses a class to model a physical disk drive, and then extends that class to model a logical disk is more extensible than one that attempts to create a separate class for each type of disk.</span></span>

-   <span data-ttu-id="0c831-135">Datos</span><span class="sxs-lookup"><span data-stu-id="0c831-135">Data</span></span>

    <span data-ttu-id="0c831-136">Los datos pueden ser dinámicos o estáticos.</span><span class="sxs-lookup"><span data-stu-id="0c831-136">Data may be dynamic or static.</span></span> <span data-ttu-id="0c831-137">Si los datos son dinámicos, debe crear un proveedor de clases para él.</span><span class="sxs-lookup"><span data-stu-id="0c831-137">If the data is dynamic, you must create a class provider for it.</span></span>

    <span data-ttu-id="0c831-138">Para permitir al usuario modificar los datos, debe determinar si desea o no que una propiedad se pueda escribir directamente o modificar solo mediante un método al que llama el usuario.</span><span class="sxs-lookup"><span data-stu-id="0c831-138">To enable the user to modify data, you must determine whether or not you want a property to be directly writable or modifiable only by using a method that the user calls.</span></span>

## <a name="defining-properties-or-methods"></a><span data-ttu-id="0c831-139">Definir propiedades o métodos</span><span class="sxs-lookup"><span data-stu-id="0c831-139">Defining Properties or Methods</span></span>

<span data-ttu-id="0c831-140">Por lo general, una propiedad de clase WMI es similar a una propiedad de una clase de C++.</span><span class="sxs-lookup"><span data-stu-id="0c831-140">Generally, a WMI class property is similar to a property in a C++ class.</span></span> <span data-ttu-id="0c831-141">Si las únicas acciones que implementa el código para el fragmento de datos es obtener el valor o establecer el valor, los datos se deben definir como una propiedad de la clase WMI.</span><span class="sxs-lookup"><span data-stu-id="0c831-141">If the only actions your code implements for the piece of data is to get the value or set the value, then the data should be defined as a property of the WMI class.</span></span>

<span data-ttu-id="0c831-142">Un método WMI generalmente realiza una acción que cambia el estado de un objeto administrado.</span><span class="sxs-lookup"><span data-stu-id="0c831-142">A WMI method generally performs an action that changes the state of a managed object.</span></span> <span data-ttu-id="0c831-143">Por ejemplo, si la acción es habilitar o deshabilitar la operación de un objeto de hardware, probablemente sea preferible un método para crear una propiedad de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="0c831-143">For example, if the action is to enable or disable the operation of a hardware object, then a method is probably preferable to creating a read/write property.</span></span> <span data-ttu-id="0c831-144">También puede decidir crear una propiedad que muestre el estado del hardware.</span><span class="sxs-lookup"><span data-stu-id="0c831-144">You may decide also to create a property that displays the state of the hardware.</span></span>

<span data-ttu-id="0c831-145">Al crear una clase o una instancia, puede incluir comentarios.</span><span class="sxs-lookup"><span data-stu-id="0c831-145">When you create a class or an instance, you can include comments.</span></span> <span data-ttu-id="0c831-146">Utilice esta técnica para documentar su clase o explicar sus técnicas de programación.</span><span class="sxs-lookup"><span data-stu-id="0c831-146">Use this technique to document your class or explain your programming techniques.</span></span> <span data-ttu-id="0c831-147">Para obtener más información, vea [crear un comentario](creating-a-comment.md).</span><span class="sxs-lookup"><span data-stu-id="0c831-147">For more information, see [Creating a Comment](creating-a-comment.md).</span></span> <span data-ttu-id="0c831-148">Además, puede agregar datos para calificar el propósito de un objeto de datos.</span><span class="sxs-lookup"><span data-stu-id="0c831-148">In addition, you can add data to qualify the purpose of a data object.</span></span> <span data-ttu-id="0c831-149">Para obtener más información, consulte [Agregar un calificador](adding-a-qualifier.md).</span><span class="sxs-lookup"><span data-stu-id="0c831-149">For more information, see [Adding a Qualifier](adding-a-qualifier.md).</span></span>

## <a name="relating-objects-to-each-other"></a><span data-ttu-id="0c831-150">Relacionar los objetos entre sí</span><span class="sxs-lookup"><span data-stu-id="0c831-150">Relating Objects to Each Other</span></span>

<span data-ttu-id="0c831-151">Hay dos maneras de relacionar los objetos entre sí: mediante la creación de objetos independientes y un objeto de asociación que los relaciona, o mediante la inserción de un objeto en el otro.</span><span class="sxs-lookup"><span data-stu-id="0c831-151">There are two ways to relate objects to each other: by creating separate objects and an association object that relates them, or by embedding one object in the other.</span></span> <span data-ttu-id="0c831-152">CIM no admite objetos incrustados, por lo que para ser compatible con CIM, debe usar el primer método.</span><span class="sxs-lookup"><span data-stu-id="0c831-152">CIM does not support embedded objects, so to be CIM-compliant you must use the first method.</span></span> <span data-ttu-id="0c831-153">Sin embargo, WMI admite objetos incrustados, por lo que debe usar cualquier método para representar una relación entre los objetos.</span><span class="sxs-lookup"><span data-stu-id="0c831-153">However, WMI supports embedded objects so use either method to represent a relationship between objects.</span></span> <span data-ttu-id="0c831-154">Puede encontrar ejemplos de objetos incrustados en las [clases Win32](/windows/desktop/CIMWin32Prov/win32-provider).</span><span class="sxs-lookup"><span data-stu-id="0c831-154">You can find examples of embedded objects in the [Win32 Classes](/windows/desktop/CIMWin32Prov/win32-provider).</span></span> <span data-ttu-id="0c831-155">Por ejemplo, [**Win32 \_ SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) tiene el objeto incrustado [**Win32 \_ ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace), que tiene otro objeto incrustado, [**Administrador de \_ confianza de Win32**](/previous-versions/windows/desktop/secrcw32prov/win32-trustee).</span><span class="sxs-lookup"><span data-stu-id="0c831-155">For example, [**Win32\_SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) has the embedded object [**Win32\_ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace), which has another embedded object, [**Win32\_Trustee**](/previous-versions/windows/desktop/secrcw32prov/win32-trustee).</span></span>

<span data-ttu-id="0c831-156">Tenga en cuenta lo siguiente a la hora de decidir cómo representar las relaciones entre objetos:</span><span class="sxs-lookup"><span data-stu-id="0c831-156">Consider the following when deciding how to represent relationships between objects:</span></span>

-   <span data-ttu-id="0c831-157">Si una instancia es útil por sí misma, una asociación funciona mejor.</span><span class="sxs-lookup"><span data-stu-id="0c831-157">If an instance is useful by itself, then an association works best.</span></span> <span data-ttu-id="0c831-158">Por ejemplo, [**el \_ proceso de Win32**](/windows/desktop/CIMWin32Prov/win32-process) y la [**\_ cuentadeusuario de Win32**](/windows/desktop/CIMWin32Prov/win32-useraccount).</span><span class="sxs-lookup"><span data-stu-id="0c831-158">For example, [**Win32\_Process**](/windows/desktop/CIMWin32Prov/win32-process) and [**Win32\_UserAccount**](/windows/desktop/CIMWin32Prov/win32-useraccount).</span></span> <span data-ttu-id="0c831-159">Para obtener más información, vea [declarar una clase de asociación](declaring-an-association-class.md).</span><span class="sxs-lookup"><span data-stu-id="0c831-159">For more information, see [Declaring an Association Class](declaring-an-association-class.md).</span></span>
-   <span data-ttu-id="0c831-160">Si una instancia no existe fuera del objeto primario, un objeto incrustado funciona mejor.</span><span class="sxs-lookup"><span data-stu-id="0c831-160">If an instance does not exist outside of the parent object, an embedded object works best.</span></span> <span data-ttu-id="0c831-161">Por ejemplo, [**Win32 \_ SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) y [**Win32 \_ ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace).</span><span class="sxs-lookup"><span data-stu-id="0c831-161">For example, [**Win32\_SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) and [**Win32\_ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace).</span></span> <span data-ttu-id="0c831-162">Para obtener más información, vea [incrustar objetos en una clase](embedded-objects.md).</span><span class="sxs-lookup"><span data-stu-id="0c831-162">For more information, see [Embedding Objects in a Class](embedded-objects.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="0c831-163">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0c831-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0c831-164">Desarrollar un proveedor WMI</span><span class="sxs-lookup"><span data-stu-id="0c831-164">Developing a WMI Provider</span></span>](developing-a-wmi-provider.md)
</dt> <dt>

[<span data-ttu-id="0c831-165">Proporcionar datos a WMI</span><span class="sxs-lookup"><span data-stu-id="0c831-165">Providing Data to WMI</span></span>](providing-data-to-wmi.md)
</dt> <dt>

[<span data-ttu-id="0c831-166">Tipos de datos MOF</span><span class="sxs-lookup"><span data-stu-id="0c831-166">MOF Data Types</span></span>](mof-data-types.md)
</dt> </dl>

 

 
