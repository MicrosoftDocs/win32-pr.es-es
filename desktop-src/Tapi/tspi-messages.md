---
description: Esta sección contiene una lista de los mensajes de la interfaz del proveedor de servicios de telefonía (TSPI).
ms.assetid: 3d8bf980-81d6-49db-954f-af72458365dc
title: Mensajes TSPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f5772a1ccb0c07f03b2a17348ecf5e4834bb97a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105678349"
---
# <a name="tspi-messages"></a><span data-ttu-id="ad569-103">Mensajes TSPI</span><span class="sxs-lookup"><span data-stu-id="ad569-103">TSPI Messages</span></span>

<span data-ttu-id="ad569-104">Esta sección contiene una lista de los mensajes de la interfaz del proveedor de servicios de telefonía (TSPI).</span><span class="sxs-lookup"><span data-stu-id="ad569-104">This section contains a list of the messages in the Telephony Service Provider Interface (TSPI).</span></span> <span data-ttu-id="ad569-105">Estos mensajes se utilizan para notificar a TAPI la aparición de eventos asincrónicos que se producen espontáneamente en el proveedor de servicios.</span><span class="sxs-lookup"><span data-stu-id="ad569-105">These messages are used to notify TAPI of the occurrence of asynchronous events that spontaneously occur within the service provider.</span></span> <span data-ttu-id="ad569-106">El proveedor de servicios pasa estos eventos a TAPI mediante una llamada a una función de devolución de llamada [**LINEEVENT**](/windows/win32/api/tspi/nc-tspi-lineevent) o [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) , en función de si el proveedor de servicios informa de un evento en una línea, una llamada o un dispositivo telefónico.</span><span class="sxs-lookup"><span data-stu-id="ad569-106">The service provider passes these events to TAPI by calling a [**LINEEVENT**](/windows/win32/api/tspi/nc-tspi-lineevent) or [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) callback function, depending on whether the service provider is reporting an event on a line, call, or phone device.</span></span> <span data-ttu-id="ad569-107">El procedimiento **LINEEVENT** para notificar eventos que se producen en una línea o llamada se proporciona al proveedor de servicios en el momento en que se abre la línea con la función [**TSPI \_ lineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) .</span><span class="sxs-lookup"><span data-stu-id="ad569-107">The **LINEEVENT** procedure for reporting events occurring on a line or call is supplied to the service provider at the time the line is opened with the [**TSPI\_lineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) function.</span></span> <span data-ttu-id="ad569-108">El procedimiento **PHONEEVENT** para notificar eventos que se producen en un teléfono se suministra con la función [**TSPI \_ phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen) .</span><span class="sxs-lookup"><span data-stu-id="ad569-108">The **PHONEEVENT** procedure for reporting events occurring on a phone is supplied with the [**TSPI\_phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen) function.</span></span>

<span data-ttu-id="ad569-109">TAPI no solicita estos eventos espontáneos en el sentido de que no son una respuesta directa a ninguna solicitud.</span><span class="sxs-lookup"><span data-stu-id="ad569-109">These spontaneous events are unsolicited by TAPI in the sense that they are not a direct response to any request.</span></span> <span data-ttu-id="ad569-110">Estos eventos contrastan con los informes de finalización de las solicitudes realizadas por TAPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-110">These events contrast with those reporting completion of requests made by TAPI.</span></span> <span data-ttu-id="ad569-111">Estos eventos de finalización se registran a través de la función de devolución de llamada de [**\_ finalización asincrónica**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="ad569-111">Such completion events are reported through the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback function.</span></span>

<span data-ttu-id="ad569-112">Los perfiles de parámetro para los procedimientos de eventos espontáneos incluyen parámetros que identifican el objeto pertinente para el que se está informando del evento (teléfono, línea o llamada).</span><span class="sxs-lookup"><span data-stu-id="ad569-112">The parameter profiles for the spontaneous event procedures include parameters that identify the relevant object for which the event is being reported (phone, line, or call).</span></span> <span data-ttu-id="ad569-113">La identificación está en forma de un identificador opaco cuya interpretación exacta no es publicada por TSPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-113">The identification is in the form of an opaque handle whose exact interpretation is not published by TSPI.</span></span> <span data-ttu-id="ad569-114">TAPI determina internamente la relación entre estos manipuladores opacos y las estructuras de datos que se usan para representar los dispositivos.</span><span class="sxs-lookup"><span data-stu-id="ad569-114">TAPI internally determines the relationship between these opaque handles and whatever data structures it used to represent the devices.</span></span>

<span data-ttu-id="ad569-115">El perfil de parámetro para los procedimientos de eventos espontáneos también incluye un parámetro de mensaje que identifica el tipo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="ad569-115">The parameter profile for spontaneous event procedures also includes a message parameter identifying the type of the message.</span></span> <span data-ttu-id="ad569-116">Cada tipo de mensaje tiene una definición correspondiente que determina los identificadores que se incluyen, junto con otros parámetros y su significado.</span><span class="sxs-lookup"><span data-stu-id="ad569-116">Each message type has a corresponding definition that determines the handles that are included, along with other parameters and their meanings.</span></span> <span data-ttu-id="ad569-117">Existe una correspondencia muy segura entre los mensajes que aparecen en el nivel de TSPI y los que aparecen en el nivel de TAPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-117">There is a very strong correspondence between the messages appearing at the TSPI level and those that appear at the TAPI level.</span></span> <span data-ttu-id="ad569-118">Estas son las reglas generales de correspondencia:</span><span class="sxs-lookup"><span data-stu-id="ad569-118">These are the general rules of correspondence:</span></span>

-   <span data-ttu-id="ad569-119">El conjunto de mensajes es casi idéntico.</span><span class="sxs-lookup"><span data-stu-id="ad569-119">The set of messages is nearly identical.</span></span> <span data-ttu-id="ad569-120">Cuando los mensajes corresponden, se usa el mismo nombre de mensaje y valor en el nivel de TSPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-120">Where messages correspond, the same message name and value is used at the TSPI level.</span></span>
-   <span data-ttu-id="ad569-121">Los identificadores que aparecen en el nivel de TSPI son los tipos opacos definidos por la especificación TSPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-121">Handles appearing at the TSPI level are the opaque types defined by the TSPI specification.</span></span> <span data-ttu-id="ad569-122">Estos tipos (y su interpretación) difieren de los del nivel TAPI, aunque hacen referencia a la misma clase de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ad569-122">These types (and their interpretation) differ from those at the TAPI level, although they refer to the same class of device.</span></span> <span data-ttu-id="ad569-123">Por ejemplo, donde un mensaje TAPI incluye un identificador HLINE, el mensaje TSPI correspondiente normalmente incluiría un identificador [**HTAPILINE**](htapiline.md) .</span><span class="sxs-lookup"><span data-stu-id="ad569-123">For example, where a TAPI message includes an HLINE handle, the corresponding TSPI message would typically include an [**HTAPILINE**](htapiline.md) handle.</span></span>
-   <span data-ttu-id="ad569-124">No hay datos *dwCallbackInstance* pasados a la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="ad569-124">There is no *dwCallbackInstance* data passed to the callback.</span></span>
-   <span data-ttu-id="ad569-125">Los parámetros *dwParam1*, *dwParam2* y *dwParam3* suelen ser idénticos a los parámetros correspondientes del mensaje TAPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-125">The *dwParam1*, *dwParam2*, and *dwParam3* parameters are usually identical to the corresponding parameters for the TAPI message.</span></span>
-   <span data-ttu-id="ad569-126">Los mensajes orientados a líneas y orientados a llamadas se pasan a un procedimiento de devolución de llamada diferente del de los mensajes orientados al teléfono.</span><span class="sxs-lookup"><span data-stu-id="ad569-126">Line-oriented and call-oriented messages are passed to a different callback procedure than phone-oriented messages.</span></span>

<span data-ttu-id="ad569-127">Para cada mensaje, en esta sección se enumeran los elementos siguientes:</span><span class="sxs-lookup"><span data-stu-id="ad569-127">For each message, this section lists the following items:</span></span>

-   <span data-ttu-id="ad569-128">El propósito del mensaje</span><span class="sxs-lookup"><span data-stu-id="ad569-128">The purpose of the message</span></span>
-   <span data-ttu-id="ad569-129">El procedimiento de devolución de llamada al que se pasa este mensaje</span><span class="sxs-lookup"><span data-stu-id="ad569-129">The callback procedure to which this message is passed</span></span>
-   <span data-ttu-id="ad569-130">Una descripción de los parámetros del mensaje</span><span class="sxs-lookup"><span data-stu-id="ad569-130">A description of the message parameters</span></span>
-   <span data-ttu-id="ad569-131">Comentarios opcionales sobre el uso del mensaje</span><span class="sxs-lookup"><span data-stu-id="ad569-131">Optional comments about using the message</span></span>
-   <span data-ttu-id="ad569-132">Referencias opcionales a otras funciones, mensajes y estructuras de datos</span><span class="sxs-lookup"><span data-stu-id="ad569-132">Optional references to other functions, messages, and data structures</span></span>
-   <span data-ttu-id="ad569-133">Comentarios opcionales que comparan este mensaje con la interfaz TAPI</span><span class="sxs-lookup"><span data-stu-id="ad569-133">Optional comments comparing this message to the TAPI interface</span></span>

<span data-ttu-id="ad569-134">Algunos mensajes se utilizan para notificar a TAPI sobre un cambio en el estado de un objeto.</span><span class="sxs-lookup"><span data-stu-id="ad569-134">Certain messages are used to notify TAPI about a change in an object's status.</span></span> <span data-ttu-id="ad569-135">Estos mensajes proporcionan el identificador de objeto opaco TAPI y una indicación de qué elemento de Estado ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="ad569-135">These messages provide the TAPI opaque object handle and an indication of which status item has changed.</span></span> <span data-ttu-id="ad569-136">A continuación, TAPI puede llamar a una función "get status" adecuada del objeto para obtener el estado completo del objeto.</span><span class="sxs-lookup"><span data-stu-id="ad569-136">TAPI can subsequently call an appropriate "get status" function of the object to obtain the object's full status.</span></span>

<span data-ttu-id="ad569-137">Cuando se produce un evento, se puede enviar un mensaje o no a TAPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-137">When an event occurs, a message may or may not be sent to TAPI.</span></span> <span data-ttu-id="ad569-138">En algunos tipos de eventos, como los cambios de estado, TAPI especifica un conjunto de cambios de estado en los que está interesado.</span><span class="sxs-lookup"><span data-stu-id="ad569-138">For some event types, such as status changes, TAPI specifies a set of status changes in which it is interested.</span></span> <span data-ttu-id="ad569-139">Se recomienda que el proveedor de servicios limite los eventos de mensaje de cambio de estado que notifica a los incluidos en este conjunto.</span><span class="sxs-lookup"><span data-stu-id="ad569-139">The service provider is advised to limit the status-change message events it reports to those included in this set.</span></span> <span data-ttu-id="ad569-140">No es necesario que el proveedor de servicios cumpla este límite.</span><span class="sxs-lookup"><span data-stu-id="ad569-140">The service provider is not required to adhere to this limit.</span></span> <span data-ttu-id="ad569-141">En otras palabras, puede notificar más cambios de los estrictamente necesarios.</span><span class="sxs-lookup"><span data-stu-id="ad569-141">In other words, it may report more changes than are strictly necessary.</span></span> <span data-ttu-id="ad569-142">Sin embargo, debe intentar observar el límite por motivos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="ad569-142">However, it should try to observe the limit for performance reasons.</span></span>

<span data-ttu-id="ad569-143">El mensaje de respuesta de línea \_ no se utiliza en el nivel de TSPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-143">The LINE\_REPLY message is not used at the TSPI level.</span></span> <span data-ttu-id="ad569-144">La finalización de una solicitud asincrónica se registra mediante la devolución de llamada de [**\_ finalización asincrónica**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="ad569-144">Completion of an asynchronous request is reported using the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback.</span></span>

<span data-ttu-id="ad569-145">El mensaje de respuesta del teléfono \_ no se utiliza en el nivel de TSPI.</span><span class="sxs-lookup"><span data-stu-id="ad569-145">The PHONE\_REPLY message is not used at the TSPI level.</span></span> <span data-ttu-id="ad569-146">La finalización de una solicitud asincrónica se registra mediante la devolución de llamada de [**\_ finalización asincrónica**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="ad569-146">Completion of an asynchronous request is reported using the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback.</span></span>

<span data-ttu-id="ad569-147">Para obtener más información, consulte los siguientes temas:</span><span class="sxs-lookup"><span data-stu-id="ad569-147">For more information see the following topics:</span></span>

-   [<span data-ttu-id="ad569-148">Mensajes de dispositivo de línea de TSPI</span><span class="sxs-lookup"><span data-stu-id="ad569-148">TSPI Line Device Messages</span></span>](tspi-line-device-messages.md)
-   [<span data-ttu-id="ad569-149">TSPI mensajes de dispositivo telefónico</span><span class="sxs-lookup"><span data-stu-id="ad569-149">TSPI Phone Device Messages</span></span>](tspi-phone-device-messages.md)

 

 
