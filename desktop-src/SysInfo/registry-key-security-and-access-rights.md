---
description: El modelo de seguridad de Windows permite controlar el acceso a las claves del registro. Para obtener más información sobre la seguridad, vea modelo de Access-Control.
ms.assetid: 266d5c8e-1bcd-48e5-bc06-2fbc956d8658
title: Seguridad y derechos de acceso de la clave del registro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 73c80f21d296a88425024745d7442847a187cd43
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105667590"
---
# <a name="registry-key-security-and-access-rights"></a><span data-ttu-id="02886-104">Seguridad y derechos de acceso de la clave del registro</span><span class="sxs-lookup"><span data-stu-id="02886-104">Registry Key Security and Access Rights</span></span>

<span data-ttu-id="02886-105">El modelo de seguridad de Windows permite controlar el acceso a las claves del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-105">The Windows security model enables you to control access to registry keys.</span></span> <span data-ttu-id="02886-106">Para obtener más información sobre la seguridad, vea [modelo de control de acceso](/windows/desktop/SecAuthZ/access-control-model).</span><span class="sxs-lookup"><span data-stu-id="02886-106">For more information about security, see [Access-Control Model](/windows/desktop/SecAuthZ/access-control-model).</span></span>

<span data-ttu-id="02886-107">Se puede especificar un [descriptor de seguridad](/windows/desktop/SecAuthZ/security-descriptors) para una clave del registro cuando se llama a la función [**RegCreateKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regcreatekeyexa) o [**RegSetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-regsetkeysecurity) .</span><span class="sxs-lookup"><span data-stu-id="02886-107">You can specify a [security descriptor](/windows/desktop/SecAuthZ/security-descriptors) for a registry key when you call the [**RegCreateKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regcreatekeyexa) or [**RegSetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-regsetkeysecurity) function.</span></span> <span data-ttu-id="02886-108">Si especifica **null**, la clave obtiene un descriptor de seguridad predeterminado.</span><span class="sxs-lookup"><span data-stu-id="02886-108">If you specify **NULL**, the key gets a default security descriptor.</span></span> <span data-ttu-id="02886-109">Las ACL de un descriptor de seguridad predeterminado para una clave se heredan de su clave primaria directa.</span><span class="sxs-lookup"><span data-stu-id="02886-109">The ACLs in a default security descriptor for a key are inherited from its direct parent key.</span></span>

<span data-ttu-id="02886-110">Para obtener el descriptor de seguridad de una clave del registro, llame a la función [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity), [**GetNamedSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getnamedsecurityinfoa)o [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="02886-110">To get the security descriptor of a registry key, call the [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity), [**GetNamedSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getnamedsecurityinfoa), or [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span>

<span data-ttu-id="02886-111">Los derechos de acceso válidos para las claves del registro son los derechos de acceso de eliminación, control de lectura \_ , DAC de escritura \_ y propietario de escritura \_ . [](/windows/desktop/SecAuthZ/standard-access-rights)</span><span class="sxs-lookup"><span data-stu-id="02886-111">The valid access rights for registry keys include the DELETE, READ\_CONTROL, WRITE\_DAC, and WRITE\_OWNER [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="02886-112">Las claves del registro no admiten el derecho SINCRONIZAr el acceso estándar.</span><span class="sxs-lookup"><span data-stu-id="02886-112">Registry keys do not support the SYNCHRONIZE standard access right.</span></span>

<span data-ttu-id="02886-113">En la tabla siguiente se enumeran los derechos de acceso específicos para los objetos de clave del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-113">The following table lists the specific access rights for registry key objects.</span></span>



| <span data-ttu-id="02886-114">Value</span><span class="sxs-lookup"><span data-stu-id="02886-114">Value</span></span>                                         | <span data-ttu-id="02886-115">Significado</span><span class="sxs-lookup"><span data-stu-id="02886-115">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="02886-116">Acceso de clave \_ \_ a todo (0xF003F)</span><span class="sxs-lookup"><span data-stu-id="02886-116">KEY\_ALL\_ACCESS (0xF003F)</span></span><br/>         | <span data-ttu-id="02886-117">Combina los derechos \_ estándar \_ necesarios, el \_ \_ valor de la consulta de clave, el \_ \_ valor del conjunto de claves, la \_ subclave de creación \_ de clave \_ , las subclaves de \_ enumeración de claves, la notificación de \_ \_ clave y los derechos de acceso de \_ \_ vínculo de creación \_</span><span class="sxs-lookup"><span data-stu-id="02886-117">Combines the STANDARD\_RIGHTS\_REQUIRED, KEY\_QUERY\_VALUE, KEY\_SET\_VALUE, KEY\_CREATE\_SUB\_KEY, KEY\_ENUMERATE\_SUB\_KEYS, KEY\_NOTIFY, and KEY\_CREATE\_LINK access rights.</span></span><br/>                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="02886-118">Vínculo de creación de clave \_ \_ (0x0020)</span><span class="sxs-lookup"><span data-stu-id="02886-118">KEY\_CREATE\_LINK (0x0020)</span></span><br/>         | <span data-ttu-id="02886-119">Reservado para uso del sistema.</span><span class="sxs-lookup"><span data-stu-id="02886-119">Reserved for system use.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="02886-120">Subclave de creación de clave \_ \_ \_ (0x0004)</span><span class="sxs-lookup"><span data-stu-id="02886-120">KEY\_CREATE\_SUB\_KEY (0x0004)</span></span><br/>     | <span data-ttu-id="02886-121">Se requiere para crear una subclave de una clave del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-121">Required to create a subkey of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="02886-122">Subclaves de \_ enumeración de claves \_ \_ (0x0008)</span><span class="sxs-lookup"><span data-stu-id="02886-122">KEY\_ENUMERATE\_SUB\_KEYS (0x0008)</span></span><br/> | <span data-ttu-id="02886-123">Necesario para enumerar las subclaves de una clave del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-123">Required to enumerate the subkeys of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="02886-124">Ejecución de la clave \_ (0x20019)</span><span class="sxs-lookup"><span data-stu-id="02886-124">KEY\_EXECUTE (0x20019)</span></span><br/>             | <span data-ttu-id="02886-125">Equivalente a la \_ lectura de clave.</span><span class="sxs-lookup"><span data-stu-id="02886-125">Equivalent to KEY\_READ.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="02886-126">Notificación de clave \_ (0x0010)</span><span class="sxs-lookup"><span data-stu-id="02886-126">KEY\_NOTIFY (0x0010)</span></span><br/>               | <span data-ttu-id="02886-127">Necesario para solicitar notificaciones de cambios para una clave del registro o para las subclaves de una clave del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-127">Required to request change notifications for a registry key or for subkeys of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="02886-128">Valor de la consulta de clave \_ \_ (0x0001)</span><span class="sxs-lookup"><span data-stu-id="02886-128">KEY\_QUERY\_VALUE (0x0001)</span></span><br/>         | <span data-ttu-id="02886-129">Necesario para consultar los valores de una clave del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-129">Required to query the values of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="02886-130">Lectura de clave \_ (0x20019)</span><span class="sxs-lookup"><span data-stu-id="02886-130">KEY\_READ (0x20019)</span></span><br/>                | <span data-ttu-id="02886-131">Combina la lectura de derechos estándar, el \_ \_ valor de consulta de clave, las subclaves de \_ \_ enumeración de clave \_ \_ \_ y \_ los valores de notificación de clave.</span><span class="sxs-lookup"><span data-stu-id="02886-131">Combines the STANDARD\_RIGHTS\_READ, KEY\_QUERY\_VALUE, KEY\_ENUMERATE\_SUB\_KEYS, and KEY\_NOTIFY values.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="02886-132">\_Valor del conjunto de claves \_ (0x0002)</span><span class="sxs-lookup"><span data-stu-id="02886-132">KEY\_SET\_VALUE (0x0002)</span></span><br/>           | <span data-ttu-id="02886-133">Se requiere para crear, eliminar o establecer un valor del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-133">Required to create, delete, or set a registry value.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="02886-134">CLAVE \_ WOW64 \_ 32KEY (0x0200)</span><span class="sxs-lookup"><span data-stu-id="02886-134">KEY\_WOW64\_32KEY (0x0200)</span></span><br/>         | <span data-ttu-id="02886-135">Indica que una aplicación en Windows de 64 bits debe funcionar en la vista del registro de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="02886-135">Indicates that an application on 64-bit Windows should operate on the 32-bit registry view.</span></span> <span data-ttu-id="02886-136">Las ventanas de 32 bits omiten esta marca.</span><span class="sxs-lookup"><span data-stu-id="02886-136">This flag is ignored by 32-bit Windows.</span></span> <span data-ttu-id="02886-137">Para obtener más información, vea [obtener acceso a una vista del registro alternativa](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span><span class="sxs-lookup"><span data-stu-id="02886-137">For more information, see [Accessing an Alternate Registry View](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span></span><br/> <span data-ttu-id="02886-138">Esta marca se debe combinar mediante el operador OR con las demás marcas de esta tabla que consulta o tiene acceso a los valores del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-138">This flag must be combined using the OR operator with the other flags in this table that either query or access registry values.</span></span><br/> <span data-ttu-id="02886-139">**Windows 2000:** Esta marca no se admite.</span><span class="sxs-lookup"><span data-stu-id="02886-139">**Windows 2000:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="02886-140">CLAVE \_ WOW64 \_ 64KEY (0x0100)</span><span class="sxs-lookup"><span data-stu-id="02886-140">KEY\_WOW64\_64KEY (0x0100)</span></span><br/>         | <span data-ttu-id="02886-141">Indica que una aplicación en Windows de 64 bits debe funcionar en la vista del registro de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="02886-141">Indicates that an application on 64-bit Windows should operate on the 64-bit registry view.</span></span> <span data-ttu-id="02886-142">Las ventanas de 32 bits omiten esta marca.</span><span class="sxs-lookup"><span data-stu-id="02886-142">This flag is ignored by 32-bit Windows.</span></span> <span data-ttu-id="02886-143">Para obtener más información, vea [obtener acceso a una vista del registro alternativa](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span><span class="sxs-lookup"><span data-stu-id="02886-143">For more information, see [Accessing an Alternate Registry View](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span></span><br/> <span data-ttu-id="02886-144">Esta marca se debe combinar mediante el operador OR con las demás marcas de esta tabla que consulta o tiene acceso a los valores del registro.</span><span class="sxs-lookup"><span data-stu-id="02886-144">This flag must be combined using the OR operator with the other flags in this table that either query or access registry values.</span></span><br/> <span data-ttu-id="02886-145">**Windows 2000:** Esta marca no se admite.</span><span class="sxs-lookup"><span data-stu-id="02886-145">**Windows 2000:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="02886-146">Escritura de claves \_ (0x20006)</span><span class="sxs-lookup"><span data-stu-id="02886-146">KEY\_WRITE (0x20006)</span></span><br/>               | <span data-ttu-id="02886-147">Combina los \_ derechos de \_ acceso estándar de escritura de derechos, valor del conjunto de claves \_ \_ y \_ subclave de creación de claves \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="02886-147">Combines the STANDARD\_RIGHTS\_WRITE, KEY\_SET\_VALUE, and KEY\_CREATE\_SUB\_KEY access rights.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                            |



 

<span data-ttu-id="02886-148">Cuando se llama a la función [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) , el sistema comprueba los derechos de acceso solicitados con el descriptor de seguridad de la clave.</span><span class="sxs-lookup"><span data-stu-id="02886-148">When you call the [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) function, the system checks the requested access rights against the key's security descriptor.</span></span> <span data-ttu-id="02886-149">Si el usuario no tiene el acceso correcto a la clave del registro, se produce un error en la operación de apertura.</span><span class="sxs-lookup"><span data-stu-id="02886-149">If the user does not have the correct access to the registry key, the open operation fails.</span></span> <span data-ttu-id="02886-150">Si un administrador necesita tener acceso a la clave, la solución consiste en habilitar el \_ \_ privilegio de nombre de usuario Take Ownership \_ y abrir la clave del registro con acceso de propietario de escritura \_ .</span><span class="sxs-lookup"><span data-stu-id="02886-150">If an administrator needs access to the key, the solution is to enable the SE\_TAKE\_OWNERSHIP\_NAME privilege and open the registry key with WRITE\_OWNER access.</span></span> <span data-ttu-id="02886-151">Para obtener más información, vea [habilitar y deshabilitar privilegios](/windows/desktop/SecAuthZ/enabling-and-disabling-privileges-in-c--).</span><span class="sxs-lookup"><span data-stu-id="02886-151">For more information, see [Enabling and Disabling Privileges](/windows/desktop/SecAuthZ/enabling-and-disabling-privileges-in-c--).</span></span>

<span data-ttu-id="02886-152">Puede solicitar el derecho de \_ acceso de seguridad del sistema de acceso \_ a una clave del registro si desea leer o escribir la lista de control de acceso del sistema (SACL) de la clave.</span><span class="sxs-lookup"><span data-stu-id="02886-152">You can request the ACCESS\_SYSTEM\_SECURITY access right to a registry key if you want to read or write the key's system access control list (SACL).</span></span> <span data-ttu-id="02886-153">Para obtener más información, consulte derechos [de acceso de las listas de control de acceso (ACL)](/windows/desktop/SecAuthZ/access-control-lists) y [SACL](/windows/desktop/SecAuthZ/sacl-access-right).</span><span class="sxs-lookup"><span data-stu-id="02886-153">For more information, see [Access-Control Lists (ACLs)](/windows/desktop/SecAuthZ/access-control-lists) and [SACL Access Right](/windows/desktop/SecAuthZ/sacl-access-right).</span></span>

<span data-ttu-id="02886-154">Para ver los derechos de acceso actuales de una clave, incluidas las claves predefinidas, use el editor del registro (Regedt32.exe).</span><span class="sxs-lookup"><span data-stu-id="02886-154">To view the current access rights for a key, including the predefined keys, use the Registry Editor (Regedt32.exe).</span></span> <span data-ttu-id="02886-155">Después de desplazarse a la clave deseada, vaya al menú **edición** y seleccione **permisos**.</span><span class="sxs-lookup"><span data-stu-id="02886-155">After navigating to the desired key, go to the **Edit** menu and select **Permissions**.</span></span>

 

