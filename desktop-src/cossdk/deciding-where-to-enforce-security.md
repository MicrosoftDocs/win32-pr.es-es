---
description: Las ventajas e inconvenientes son inherentes a la exigencia de seguridad.
ms.assetid: f01573f3-aae6-400e-bdd9-6f34f4e262f6
title: Decidir dónde aplicar la seguridad
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4ac994fb98d50a7e26f1b8142e77dc9ff771f6b2
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104538596"
---
# <a name="deciding-where-to-enforce-security"></a><span data-ttu-id="c72c6-103">Decidir dónde aplicar la seguridad</span><span class="sxs-lookup"><span data-stu-id="c72c6-103">Deciding Where to Enforce Security</span></span>

<span data-ttu-id="c72c6-104">Las ventajas e inconvenientes son inherentes a la exigencia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c72c6-104">Trade-offs are inherent in enforcing security.</span></span> <span data-ttu-id="c72c6-105">Una base de datos puede ser un lugar natural para colocar la lógica de seguridad, dado que en última instancia los datos son los más importantes que se deben proteger.</span><span class="sxs-lookup"><span data-stu-id="c72c6-105">A database can be a natural place to put security logic, given that ultimately that data is the most important thing to protect.</span></span> <span data-ttu-id="c72c6-106">Sin embargo, esto tiene importantes implicaciones en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c72c6-106">However, doing so has significant performance implications.</span></span> <span data-ttu-id="c72c6-107">Forzar la seguridad en la base de datos puede resultar muy caro, escalar de manera deficiente y es inflexible.</span><span class="sxs-lookup"><span data-stu-id="c72c6-107">Enforcing security at the database can be very expensive, scales poorly, and is inflexible.</span></span>

## <a name="enforcing-security-in-the-middle-tier"></a><span data-ttu-id="c72c6-108">Aplicar la seguridad en el nivel intermedio</span><span class="sxs-lookup"><span data-stu-id="c72c6-108">Enforcing Security in the Middle Tier</span></span>

<span data-ttu-id="c72c6-109">La regla general que debe seguir con las aplicaciones escalables de varios niveles mediante COM+ es que, siempre que sea posible, debe exigir una seguridad detallada en la aplicación COM+ en el nivel intermedio.</span><span class="sxs-lookup"><span data-stu-id="c72c6-109">The general rule to follow with scalable multi-tier applications using COM+ is that, whenever possible, you should enforce detailed security in the COM+ application at the middle tier.</span></span> <span data-ttu-id="c72c6-110">De este modo, podrá aprovechar al máximo los servicios escalables que proporciona COM+.</span><span class="sxs-lookup"><span data-stu-id="c72c6-110">Doing so enables you to fully leverage the scalable services provided by COM+.</span></span> <span data-ttu-id="c72c6-111">Aplique la autenticación en la base de datos solo cuando sea absolutamente necesario y evalúe completamente las implicaciones de rendimiento de hacerlo.</span><span class="sxs-lookup"><span data-stu-id="c72c6-111">Enforce authentication at the database only when you absolutely need to, and fully weigh the performance implications of doing so.</span></span>

<span data-ttu-id="c72c6-112">La situación óptima es poder proteger las tablas de base de datos para que la aplicación COM+ pueda acceder a ellas en su propia identidad.</span><span class="sxs-lookup"><span data-stu-id="c72c6-112">The optimal situation is to be able to secure database tables so that the COM+ application is able to access them under its own identity.</span></span> <span data-ttu-id="c72c6-113">La base de datos solo debe autenticar la aplicación COM+ y confiar en ella para autenticar y autorizar correctamente a los clientes que van a tener acceso a los datos.</span><span class="sxs-lookup"><span data-stu-id="c72c6-113">The database should just authenticate the COM+ application and trust it to correctly authenticate and authorize clients that will be accessing data.</span></span> <span data-ttu-id="c72c6-114">Las ventajas de este enfoque son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="c72c6-114">The benefits of this approach are as follows:</span></span>

-   <span data-ttu-id="c72c6-115">Habilita la agrupación de conexiones entre todos los clientes, ya que las conexiones son completamente genéricas.</span><span class="sxs-lookup"><span data-stu-id="c72c6-115">It enables connection pooling among all clients, as connections are completely generic.</span></span>
-   <span data-ttu-id="c72c6-116">Generalmente, optimiza el acceso a los datos, a menudo un punto de retracción problemático al escalar las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c72c6-116">It generally optimizes data access, often a problematic choke point when scaling applications.</span></span>
-   <span data-ttu-id="c72c6-117">Puede minimizar la sobrecarga lógica para aplicar la seguridad, especialmente si se puede usar la seguridad declarativa basada en roles.</span><span class="sxs-lookup"><span data-stu-id="c72c6-117">It can minimize the logic overhead for enforcing security, particularly if declarative role-based security can be used.</span></span>
-   <span data-ttu-id="c72c6-118">Puede proporcionar una gran flexibilidad en una directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c72c6-118">It can provide great flexibility in a security policy.</span></span> <span data-ttu-id="c72c6-119">Puede configurarlo y volver a configurarlo fácilmente, como se describe en [Administración de la seguridad basada en roles](role-based-security-administration.md).</span><span class="sxs-lookup"><span data-stu-id="c72c6-119">You can configure and reconfigure it easily, as described in [Role-Based Security Administration](role-based-security-administration.md).</span></span>

<span data-ttu-id="c72c6-120">Pero, como se describe en [diseñar roles de forma eficaz](designing-roles-effectively.md), mientras que los roles se pueden aplicar de manera fácil y eficaz a algunas relaciones de datos de usuario, no son una solución universal para las decisiones de acceso de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c72c6-120">But, as discussed in [Designing Roles Effectively](designing-roles-effectively.md), while roles can be easily and effectively applied to some user-data relationships, they are not a universal solution for security access decisions.</span></span>

## <a name="enforcing-security-at-the-database"></a><span data-ttu-id="c72c6-121">Forzar la seguridad en la base de datos</span><span class="sxs-lookup"><span data-stu-id="c72c6-121">Enforcing Security at the Database</span></span>

<span data-ttu-id="c72c6-122">A pesar de la preferibilidad de aplicar la seguridad en el nivel intermedio, hay una serie de motivos para exigir la seguridad en la base de datos, como la siguiente:</span><span class="sxs-lookup"><span data-stu-id="c72c6-122">Despite the preferability of enforcing security at the middle tier, there are a number of reasons to enforce security at the database, such as the following:</span></span>

-   <span data-ttu-id="c72c6-123">No tiene ninguna opción, por ejemplo, por motivos de herencia o quizás porque la decisión no está simplemente en sus manos.</span><span class="sxs-lookup"><span data-stu-id="c72c6-123">You don't have a choice, perhaps for legacy reasons or perhaps because the decision is simply not in your hands.</span></span>
-   <span data-ttu-id="c72c6-124">Una gran variedad de aplicaciones accede a la base de datos y su seguridad no se puede configurar en función de una sola aplicación.</span><span class="sxs-lookup"><span data-stu-id="c72c6-124">The database is accessed by a wide variety of applications, and its security can't be configured on the basis of a single application.</span></span>
-   <span data-ttu-id="c72c6-125">Una base de datos se puede proteger de forma predecible.</span><span class="sxs-lookup"><span data-stu-id="c72c6-125">A database can be made predictably protected.</span></span> <span data-ttu-id="c72c6-126">Si mantiene los datos críticos para la empresa en una base de datos, puede dibujar un vago carro en torno a él y ayudar a controlar quién llega a verlo.</span><span class="sxs-lookup"><span data-stu-id="c72c6-126">If you keep enterprise-critical data in a database, you can draw a tight wagon around it and help control who gets to see it.</span></span>
-   <span data-ttu-id="c72c6-127">La autenticación de clientes originales en la base de datos de permite el registro detallado de quién ha realizado lo que hay en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="c72c6-127">Authenticating original clients at the database enables detailed logging of who has done what in the database.</span></span>
-   <span data-ttu-id="c72c6-128">Algunos datos se enlazan de forma aislada a usuarios particulares, y la lógica de tomar decisiones de acceso muy específicas puede realizarse de forma más eficaz en la base de datos, cerca de los datos.</span><span class="sxs-lookup"><span data-stu-id="c72c6-128">Some data is innately bound to particular users, and the logic of making extremely fine-grained access decisions might be most efficiently carried out at the database itself, close to the data.</span></span>

<span data-ttu-id="c72c6-129">Cuando tenga el lujo de diseñar la seguridad de la base de datos y la aplicación COM+ en tándem, la mayoría de estos problemas se aplican a las características de los datos en sí y a su relación con los usuarios que acceden a él.</span><span class="sxs-lookup"><span data-stu-id="c72c6-129">When you do have the luxury of designing the security of the database and the COM+ application in tandem, most of these issues pertain to characteristics of the data itself and its relationship to the users accessing it.</span></span> <span data-ttu-id="c72c6-130">Con los datos a los que pueden tener acceso las categorías de usuarios predecibles, es eficaz controlar el acceso en el nivel intermedio mediante roles.</span><span class="sxs-lookup"><span data-stu-id="c72c6-130">With data that can be accessed by predictable categories of users, it is efficient to control access in the middle tier using roles.</span></span> <span data-ttu-id="c72c6-131">Con los datos que se enlazan de forma complicada a clases muy pequeñas de usuarios, estas relaciones deben expresarse con los propios datos y, por lo tanto, debe exigir cierta seguridad en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="c72c6-131">With data that is intricately bound to very small classes of users, those relationships must often be expressed with the data itself and hence you must enforce some security at the database.</span></span>

### <a name="performance-implications-of-enforcing-security-at-the-database"></a><span data-ttu-id="c72c6-132">Implicaciones de rendimiento de la aplicación de seguridad en la base de datos</span><span class="sxs-lookup"><span data-stu-id="c72c6-132">Performance Implications of Enforcing Security at the Database</span></span>

<span data-ttu-id="c72c6-133">Si autentica o autoriza a los usuarios en la base de datos, es necesario propagar la identidad del usuario a la base de datos para que sea compatible.</span><span class="sxs-lookup"><span data-stu-id="c72c6-133">If you authenticate or authorize users at the database, the user identity needs to be propagated through to the database to support this.</span></span> <span data-ttu-id="c72c6-134">Si la base de datos confía en la aplicación de nivel intermedio para hacerlo, es posible pasar la información de seguridad del usuario en parámetros.</span><span class="sxs-lookup"><span data-stu-id="c72c6-134">If the database trusts the middle-tier application to do so, it is possible to pass in user security information in parameters.</span></span> <span data-ttu-id="c72c6-135">De lo contrario, la llamada a la base de datos debe realizarse en la identidad del usuario, lo que significa que la aplicación de servidor debe suplantar al cliente.</span><span class="sxs-lookup"><span data-stu-id="c72c6-135">Otherwise, the call through to the database must be made under the user's identity, meaning that the server application must impersonate the client.</span></span> <span data-ttu-id="c72c6-136">Esto puede tener implicaciones de rendimiento como las siguientes:</span><span class="sxs-lookup"><span data-stu-id="c72c6-136">This can have performance implications such as the following:</span></span>

-   <span data-ttu-id="c72c6-137">La suplantación del cliente puede ser mucho más lenta que realizar la llamada directamente en la identidad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c72c6-137">Impersonating the client can be much slower than making the call directly under the application identity.</span></span> <span data-ttu-id="c72c6-138">Para obtener más información, vea [suplantación y delegación de cliente](client-impersonation-and-delegation.md).</span><span class="sxs-lookup"><span data-stu-id="c72c6-138">For more detail, see [Client Impersonation and Delegation](client-impersonation-and-delegation.md).</span></span>
-   <span data-ttu-id="c72c6-139">No se puede agrupar una conexión de base de datos realizada con una identidad de usuario específica.</span><span class="sxs-lookup"><span data-stu-id="c72c6-139">A database connection made under a specific user identity cannot be pooled.</span></span>
-   <span data-ttu-id="c72c6-140">La adición de lógica en la base de datos se queda con el riesgo de crear un cuello de botella de escalado.</span><span class="sxs-lookup"><span data-stu-id="c72c6-140">Adding logic in the database itself runs the risk of creating a scaling bottleneck.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c72c6-141">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c72c6-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c72c6-142">Escenarios básicos para la protección de datos en aplicaciones de niveles múltiples</span><span class="sxs-lookup"><span data-stu-id="c72c6-142">Basic Scenarios for Securing Data in Multi-Tier Applications</span></span>](basic-scenarios-for-securing-data-in-multi-tier-applications.md)
</dt> <dt>

[<span data-ttu-id="c72c6-143">Seguridad de aplicaciones de niveles múltiples</span><span class="sxs-lookup"><span data-stu-id="c72c6-143">Multi-Tier Application Security</span></span>](multi-tier-application-security.md)
</dt> </dl>

 

 



