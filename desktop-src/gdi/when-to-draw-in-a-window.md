---
description: 'Una aplicación se dibuja en una ventana en varias ocasiones: cuando se crea una ventana por primera vez, cuando se cambia el tamaño de la ventana, al mover la ventana detrás de otra ventana, al minimizar o maximizar la ventana, cuando se muestran datos de un archivo abierto y al desplazarse, cambiar o seleccionar una parte de los datos mostrados.'
ms.assetid: 4b5d6842-5707-4884-a55a-e09e342cea46
title: Cuándo dibujar en una ventana
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 42c8c157de5a591be5ad1a6ad3e319cf83220e77
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104360626"
---
# <a name="when-to-draw-in-a-window"></a><span data-ttu-id="9bc02-103">Cuándo dibujar en una ventana</span><span class="sxs-lookup"><span data-stu-id="9bc02-103">When to Draw in a Window</span></span>

<span data-ttu-id="9bc02-104">Una aplicación se dibuja en una ventana en varias ocasiones: cuando se crea una ventana por primera vez, cuando se cambia el tamaño de la ventana, al mover la ventana detrás de otra ventana, al minimizar o maximizar la ventana, cuando se muestran datos de un archivo abierto y al desplazarse, cambiar o seleccionar una parte de los datos mostrados.</span><span class="sxs-lookup"><span data-stu-id="9bc02-104">An application draws in a window at a variety of times: when first creating a window, when changing the size of the window, when moving the window from behind another window, when minimizing or maximizing the window, when displaying data from an opened file, and when scrolling, changing, or selecting a portion of the displayed data.</span></span>

<span data-ttu-id="9bc02-105">El sistema administra acciones como mover y cambiar el tamaño de una ventana.</span><span class="sxs-lookup"><span data-stu-id="9bc02-105">The system manages actions such as moving and sizing a window.</span></span> <span data-ttu-id="9bc02-106">Si una acción afecta al contenido de la ventana, el sistema marca la parte afectada de la ventana como lista para actualizar y, en la siguiente oportunidad, envía un mensaje de [**\_ dibujo de WM**](wm-paint.md) al procedimiento de ventana de la ventana de.</span><span class="sxs-lookup"><span data-stu-id="9bc02-106">If an action affects the content of the window, the system marks the affected portion of the window as ready for updating and, at the next opportunity, sends a [**WM\_PAINT**](wm-paint.md) message to the window procedure of the window.</span></span> <span data-ttu-id="9bc02-107">El mensaje es una señal a la aplicación para determinar qué debe actualizarse y realizar el dibujo necesario.</span><span class="sxs-lookup"><span data-stu-id="9bc02-107">The message is a signal to the application to determine what must be updated and to carry out the necessary drawing.</span></span>

<span data-ttu-id="9bc02-108">Algunas acciones son administradas por la aplicación, como Mostrar archivos abiertos y seleccionar los datos mostrados.</span><span class="sxs-lookup"><span data-stu-id="9bc02-108">Some actions are managed by the application, such as displaying open files and selecting displayed data.</span></span> <span data-ttu-id="9bc02-109">Para estas acciones, una aplicación puede marcar para actualizar la parte de la ventana afectada por la acción, lo que provoca que se envíe un mensaje de [**\_ pintura de WM**](wm-paint.md) en la siguiente oportunidad.</span><span class="sxs-lookup"><span data-stu-id="9bc02-109">For these actions, an application can mark for updating the portion of the window affected by the action, causing a [**WM\_PAINT**](wm-paint.md) message to be sent at the next opportunity.</span></span> <span data-ttu-id="9bc02-110">Si una acción requiere comentarios inmediatos, la aplicación puede dibujar mientras se realiza la acción, sin tener que esperar a **WM \_ Paint**.</span><span class="sxs-lookup"><span data-stu-id="9bc02-110">If an action requires immediate feedback, the application can draw while the action takes place, without waiting for **WM\_PAINT**.</span></span> <span data-ttu-id="9bc02-111">Por ejemplo, una aplicación típica resalta el área que el usuario selecciona en lugar de esperar a que el siguiente mensaje de **\_ dibujo de WM** actualice el área.</span><span class="sxs-lookup"><span data-stu-id="9bc02-111">For example, a typical application highlights the area the user selects rather than waiting for the next **WM\_PAINT** message to update the area.</span></span>

<span data-ttu-id="9bc02-112">En todos los casos, una aplicación puede dibujar en una ventana en cuanto se crea.</span><span class="sxs-lookup"><span data-stu-id="9bc02-112">In all cases, an application can draw in a window as soon as it is created.</span></span> <span data-ttu-id="9bc02-113">Para dibujar en la ventana, la aplicación debe recuperar primero un identificador de un contexto de dispositivo de pantalla para la ventana.</span><span class="sxs-lookup"><span data-stu-id="9bc02-113">To draw in the window, the application must first retrieve a handle to a display device context for the window.</span></span> <span data-ttu-id="9bc02-114">Idealmente, una aplicación lleva a cabo la mayoría de sus operaciones de dibujo durante el procesamiento de mensajes de la [**\_ pintura de WM**](wm-paint.md) .</span><span class="sxs-lookup"><span data-stu-id="9bc02-114">Ideally, an application carries out most of its drawing operations during the processing of [**WM\_PAINT**](wm-paint.md) messages.</span></span> <span data-ttu-id="9bc02-115">En este caso, la aplicación recupera un contexto de dispositivo de pantalla mediante una llamada a la función [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) .</span><span class="sxs-lookup"><span data-stu-id="9bc02-115">In this case, the application retrieves a display device context by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function.</span></span> <span data-ttu-id="9bc02-116">Si una aplicación se dibuja en cualquier otro momento, por ejemplo, desde [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) o durante el procesamiento de mensajes de teclado o de mouse, llama a la función [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) o [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) para recuperar el controlador de dominio de pantalla.</span><span class="sxs-lookup"><span data-stu-id="9bc02-116">If an application draws at any other time, such as from within [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) or during the processing of keyboard or mouse messages, it calls the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function to retrieve the display DC.</span></span>

 

 
