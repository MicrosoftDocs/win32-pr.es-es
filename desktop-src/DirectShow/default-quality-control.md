---
description: Control de calidad predeterminado
ms.assetid: 91c4b8cf-3d24-4a11-b19c-b0297734e52b
title: Control de calidad predeterminado
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 864cd187df71c56441edcfd00fcd6785d96afe84
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104079889"
---
# <a name="default-quality-control"></a><span data-ttu-id="4666f-103">Control de calidad predeterminado</span><span class="sxs-lookup"><span data-stu-id="4666f-103">Default Quality Control</span></span>

<span data-ttu-id="4666f-104">Las [clases base de DirectShow](directshow-base-classes.md) implementan algunos comportamientos predeterminados para el control de calidad de vídeo.</span><span class="sxs-lookup"><span data-stu-id="4666f-104">The [DirectShow Base Classes](directshow-base-classes.md) implement some default behaviors for video quality control.</span></span>

<span data-ttu-id="4666f-105">Los mensajes de calidad comienzan en el representador.</span><span class="sxs-lookup"><span data-stu-id="4666f-105">Quality messages start at the renderer.</span></span> <span data-ttu-id="4666f-106">La clase base para los representadores de vídeo es [**CBaseVideoRenderer**](cbasevideorenderer.md), que tiene el siguiente comportamiento:</span><span class="sxs-lookup"><span data-stu-id="4666f-106">The base class for video renderers is [**CBaseVideoRenderer**](cbasevideorenderer.md), which has the following behavior:</span></span>

1.  <span data-ttu-id="4666f-107">Cuando el representador de vídeo recibe un ejemplo, compara la marca de tiempo del ejemplo con el tiempo de referencia actual.</span><span class="sxs-lookup"><span data-stu-id="4666f-107">When the video renderer receives a sample, it compares the time stamp on the sample with the current reference time.</span></span>
2.  <span data-ttu-id="4666f-108">El representador de vídeo genera un mensaje de calidad.</span><span class="sxs-lookup"><span data-stu-id="4666f-108">The video renderer generates a quality message.</span></span> <span data-ttu-id="4666f-109">En la clase base, el miembro **proporciones** del mensaje de calidad está limitado a un intervalo de 500 (50%). a 2000 (200%).</span><span class="sxs-lookup"><span data-stu-id="4666f-109">In the base class, the **Proportion** member of the quality message is limited to a range of 500 (50%) to 2000 (200%).</span></span> <span data-ttu-id="4666f-110">Los valores que se encuentran fuera de este intervalo podrían provocar cambios de calidad bruscos.</span><span class="sxs-lookup"><span data-stu-id="4666f-110">Values outside this range could result in abrupt quality changes.</span></span>
3.  <span data-ttu-id="4666f-111">De forma predeterminada, el representador de vídeo envía el mensaje de calidad al pin de salida ascendente (el PIN conectado a su clavija de entrada).</span><span class="sxs-lookup"><span data-stu-id="4666f-111">By default, the video renderer sends the quality message to the upstream output pin (the pin connected to its input pin).</span></span> <span data-ttu-id="4666f-112">Las aplicaciones pueden invalidar este comportamiento llamando al método **SetSink** .</span><span class="sxs-lookup"><span data-stu-id="4666f-112">Applications can override this behavior by calling the **SetSink** method.</span></span>

<span data-ttu-id="4666f-113">Lo que sucede después depende del filtro de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="4666f-113">What happens next depends on the upstream filter.</span></span> <span data-ttu-id="4666f-114">Normalmente, se trata de un filtro de transformación.</span><span class="sxs-lookup"><span data-stu-id="4666f-114">Typically, this is a transform filter.</span></span> <span data-ttu-id="4666f-115">La clase base para los filtros de transformación es [**CTransformFilter**](ctransformfilter.md), que usa las clases [**CTransformInputPin**](ctransforminputpin.md) y [**CTransformOutputPin**](ctransformoutputpin.md) para implementar los terminales de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="4666f-115">The base class for transform filters is [**CTransformFilter**](ctransformfilter.md), which uses the [**CTransformInputPin**](ctransforminputpin.md) and [**CTransformOutputPin**](ctransformoutputpin.md) classes to implement input and output pins.</span></span> <span data-ttu-id="4666f-116">Juntas, estas clases tienen el siguiente comportamiento:</span><span class="sxs-lookup"><span data-stu-id="4666f-116">Together, these classes have the following behavior:</span></span>

1.  <span data-ttu-id="4666f-117">El método [**CTransformOutputPin:: Notify**](ctransformoutputpin-notify.md) llama a [**CTransformFilter:: AlterQuality**](ctransformfilter-alterquality.md), un método privado en la clase base de filtro.</span><span class="sxs-lookup"><span data-stu-id="4666f-117">The [**CTransformOutputPin::Notify**](ctransformoutputpin-notify.md) method calls [**CTransformFilter::AlterQuality**](ctransformfilter-alterquality.md), a private method on the filter base class.</span></span>
2.  <span data-ttu-id="4666f-118">Los filtros derivados pueden invalidar **AlterQuality** para controlar el mensaje de calidad.</span><span class="sxs-lookup"><span data-stu-id="4666f-118">Derived filters can override **AlterQuality** to handle the quality message.</span></span> <span data-ttu-id="4666f-119">De forma predeterminada, **AlterQuality** omite el mensaje de calidad.</span><span class="sxs-lookup"><span data-stu-id="4666f-119">By default, **AlterQuality** ignores the quality message.</span></span>
3.  <span data-ttu-id="4666f-120">Si **AlterQuality** no controla el mensaje de calidad, el PIN de salida llama a [**CBaseInputPin::P assnotify**](cbaseinputpin-passnotify.md), un método privado en el PIN de entrada del filtro.</span><span class="sxs-lookup"><span data-stu-id="4666f-120">If **AlterQuality** does not handle the quality message, the output pin calls [**CBaseInputPin::PassNotify**](cbaseinputpin-passnotify.md), a private method on the filter's input pin.</span></span>
4.  <span data-ttu-id="4666f-121">**PassNotify** pasa el mensaje de calidad al lugar adecuado: el siguiente PIN de salida ascendente o un administrador de calidad personalizado.</span><span class="sxs-lookup"><span data-stu-id="4666f-121">**PassNotify** passes the quality message to the appropriate place—the next upstream output pin, or a custom quality manager.</span></span>

<span data-ttu-id="4666f-122">Suponiendo que ningún filtro de transformación controle el mensaje de calidad, el mensaje alcanza el PIN de salida en el filtro de origen.</span><span class="sxs-lookup"><span data-stu-id="4666f-122">Assuming that no transform filter handles the quality message, the message eventually reaches the output pin on the source filter.</span></span> <span data-ttu-id="4666f-123">En las clases base, [**CBasePin:: Notify**](cbasepin-notify.md) devuelve E \_ NOTIMPL.</span><span class="sxs-lookup"><span data-stu-id="4666f-123">In the base classes, [**CBasePin::Notify**](cbasepin-notify.md) returns E\_NOTIMPL.</span></span> <span data-ttu-id="4666f-124">El modo en que un filtro de origen determinado controla los mensajes de calidad depende de la naturaleza del origen.</span><span class="sxs-lookup"><span data-stu-id="4666f-124">How a particular source filter handles quality messages depends on the nature of the source.</span></span> <span data-ttu-id="4666f-125">Algunos orígenes, como la captura de vídeo en directo, no pueden realizar un control de calidad significativo.</span><span class="sxs-lookup"><span data-stu-id="4666f-125">Some sources, such as live video capture, cannot perform meaningful quality control.</span></span> <span data-ttu-id="4666f-126">Otros orígenes pueden ajustar la velocidad a la que proporcionan ejemplos.</span><span class="sxs-lookup"><span data-stu-id="4666f-126">Other sources can adjust the rate at which they deliver samples.</span></span>

<span data-ttu-id="4666f-127">En el diagrama siguiente se muestra el comportamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="4666f-127">The following diagram illustrates the default behavior.</span></span>

![control de calidad en las clases base](images/quality-control.png)

<span data-ttu-id="4666f-129">El representador de vídeo básico implementa **IQualityControl:: Notify**, lo que significa que puede pasar mensajes de calidad al propio representador.</span><span class="sxs-lookup"><span data-stu-id="4666f-129">The base video renderer implements **IQualityControl::Notify**, which means you can pass quality messages to the renderer itself.</span></span> <span data-ttu-id="4666f-130">Si establece el miembro **proporciones** en un valor inferior a 1000, el representador de vídeo inserta un período de espera entre cada fotograma que representa, lo que hace que se ralentice el representador.</span><span class="sxs-lookup"><span data-stu-id="4666f-130">If you set the **Proportion** member to a value less than 1000, the video renderer inserts a wait period between each frame that it renders, in effect slowing down the renderer.</span></span> <span data-ttu-id="4666f-131">(Puede hacer esto para reducir el uso del sistema, por ejemplo). Para obtener más información, vea [**CBaseVideoRenderer:: ThrottleWait**](cbasevideorenderer-throttlewait.md).</span><span class="sxs-lookup"><span data-stu-id="4666f-131">(You might do this to reduce system usage, for example.) For more information, see [**CBaseVideoRenderer::ThrottleWait**](cbasevideorenderer-throttlewait.md).</span></span> <span data-ttu-id="4666f-132">Establecer el miembro de **proporción** en un valor mayor que 1000 no tiene ningún efecto.</span><span class="sxs-lookup"><span data-stu-id="4666f-132">Setting the **Proportion** member to a value greater than 1000 has no effect.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4666f-133">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="4666f-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4666f-134">Administración de control de calidad</span><span class="sxs-lookup"><span data-stu-id="4666f-134">Quality-Control Management</span></span>](quality-control-management.md)
</dt> </dl>

 

 



