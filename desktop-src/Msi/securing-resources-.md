---
description: La capacidad del Windows Installer para establecer permisos de acceso en servicios, archivos, carpetas creadas y entradas del registro puede ayudar a que las aplicaciones de instalación sean más seguras.
ms.assetid: a25fcecf-f15f-4772-8f41-d03864484cc9
title: Proteger recursos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 415fe7b2df343a54aa0819031f4fd22b05857618
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105652737"
---
# <a name="securing-resources"></a><span data-ttu-id="f7dd5-103">Proteger recursos</span><span class="sxs-lookup"><span data-stu-id="f7dd5-103">Securing Resources</span></span>

<span data-ttu-id="f7dd5-104">La capacidad del Windows Installer para establecer permisos de acceso en servicios, archivos, carpetas creadas y entradas del registro puede ayudar a que las aplicaciones de instalación sean más seguras.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-104">The capability of the Windows Installer to set access permissions on services, files, created folders, and registry entries can help make installation applications more secure.</span></span> <span data-ttu-id="f7dd5-105">El uso de las tablas [MsiLockPermissionsEx](msilockpermissionsex-table.md) o [LockPermissions](lockpermissions-table.md) para proteger los recursos es una de las directrices recomendadas [para crear instalaciones seguras](guidelines-for-authoring-secure-installations.md).</span><span class="sxs-lookup"><span data-stu-id="f7dd5-105">The use of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) or [LockPermissions](lockpermissions-table.md) tables to secure resources is one of the recommended [Guidelines for Authoring Secure Installations](guidelines-for-authoring-secure-installations.md).</span></span> <span data-ttu-id="f7dd5-106">La tabla MsiLockPermissionsEx puede permitir que el autor de un paquete proteja un recurso sin tener que escribir una [acción personalizada](custom-actions.md).</span><span class="sxs-lookup"><span data-stu-id="f7dd5-106">The MsiLockPermissionsEx table can enable a package author to secure a resource without having to write a [custom action](custom-actions.md).</span></span>

<span data-ttu-id="f7dd5-107">A partir de los paquetes desarrollados para Windows Installer 5,0, la tabla [MsiLockPermissionsEx](msilockpermissionsex-table.md) debe reemplazar el uso de la tabla [LockPermissions](lockpermissions-table.md) .</span><span class="sxs-lookup"><span data-stu-id="f7dd5-107">Beginning with packages developed for Windows Installer 5.0, the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table should replace the use of the [LockPermissions](lockpermissions-table.md) table.</span></span> <span data-ttu-id="f7dd5-108">La funcionalidad extendida proporcionada por la tabla MsiLockPermissionsEx permite a un paquete proteger los [servicios](../services/services.md)de Windows, los archivos, las carpetas y las claves del registro.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-108">The extended functionality provided by the MsiLockPermissionsEx table enables a package to secure Windows [Services](../services/services.md), files, folders, and registry keys.</span></span> <span data-ttu-id="f7dd5-109">Un paquete no debe contener las tablas MsiLockPermissionsEx y LockPermissions.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-109">A package should not contain both the MsiLockPermissionsEx and the LockPermissions tables.</span></span>

<span data-ttu-id="f7dd5-110">Windows Installer 4,5 y anteriores omiten la [tabla MsiLockPermissionsEx](msilockpermissionsex-table.md).</span><span class="sxs-lookup"><span data-stu-id="f7dd5-110">Windows Installer 4.5 and earlier ignores the [MsiLockPermissionsEx table](msilockpermissionsex-table.md).</span></span> <span data-ttu-id="f7dd5-111">A partir de Windows Installer 5,0, se produce un error en la instalación con un mensaje de error 1941 si el paquete contiene una [tabla LockPermissions](lockpermissions-table.md) y una tabla MsiLockPermissionsEx.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-111">Beginning with Windows Installer 5.0, the installation fails with an error message 1941 if the package contains both a [LockPermissions table](lockpermissions-table.md) and MsiLockPermissionsEx table.</span></span> <span data-ttu-id="f7dd5-112">Los paquetes de instalación existentes que contienen solo la tabla LockPermissions se pueden instalar con Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-112">Existing installation packages that contain only the LockPermissions table can be still be installed using Windows Installer 5.0.</span></span>

<span data-ttu-id="f7dd5-113">Windows Installer 5,0 procesa la información de la tabla [MsiLockPermissionsEx](msilockpermissionsex-table.md) cuando ejecuta las acciones [InstallFiles](installfiles-action.md), [InstallServices](installservices-action.md), [WriteRegistryValues](writeregistryvalues-action.md) y [CreateFolders](createfolders-action.md) .</span><span class="sxs-lookup"><span data-stu-id="f7dd5-113">Windows Installer 5.0 processes the information in the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table when it runs the [InstallFiles](installfiles-action.md), [InstallServices](installservices-action.md), [WriteRegistryValues](writeregistryvalues-action.md) and [CreateFolders](createfolders-action.md) standard actions.</span></span> <span data-ttu-id="f7dd5-114">Se debe instalar o volver a instalar un objeto protegible para protegerlo y no es posible anexar una [lista de Access Control](../secauthz/access-control-lists.md) (ACL) a un objeto existente sin tener que volver a instalar el objeto.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-114">A securable object must be installed or reinstalled to be secured and it is not possible to append an [Access Control List](../secauthz/access-control-lists.md) (ACL) to an existing object without reinstalling that object.</span></span>

<span data-ttu-id="f7dd5-115">Para especificar el servicio, el archivo, el directorio o la clave del registro que se va a proteger, escriba la información de identificación en los campos LockObject y tabla de la tabla [MsiLockPermissionsEx](msilockpermissionsex-table.md) .</span><span class="sxs-lookup"><span data-stu-id="f7dd5-115">To specify the service, file, directory, or registry key that is to be secured, enter the identifying information in the LockObject and Table fields of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table.</span></span> <span data-ttu-id="f7dd5-116">Un objeto se identifica por su clave principal en la tabla [ServiceInstall](serviceinstall-table.md), en la tabla de [archivos](file-table.md), en la [tabla del registro](registry-table.md)o en la [tabla CreateFolder](createfolder-table.md).</span><span class="sxs-lookup"><span data-stu-id="f7dd5-116">An object is identified by it's primary key in the [ServiceInstall Table](serviceinstall-table.md), [File Table](file-table.md), [Registry Table](registry-table.md), or [CreateFolder Table](createfolder-table.md).</span></span>

<span data-ttu-id="f7dd5-117">Para solicitar que se apliquen los permisos especificados a un objeto, escriba una cadena de descriptor de seguridad válida en el campo *SDDLText* de la tabla [MsiLockPermissionsEx](msilockpermissionsex-table.md) mediante el [lenguaje de definición de descriptores de seguridad](../secauthz/security-descriptor-definition-language.md) (SDDL) válido.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-117">To request that specified permissions apply to an object, enter a valid security descriptor string in the *SDDLText* field of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table using valid [security descriptor definition language](../secauthz/security-descriptor-definition-language.md) (SDDL).</span></span> <span data-ttu-id="f7dd5-118">La tabla **MsiLockPermissionsEx** puede especificar un descriptor de seguridad que deniegue permisos, especifica la herencia de permisos de un recurso primario o especifica los permisos de una nueva cuenta.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-118">The **MsiLockPermissionsEx** table can specify a security descriptor that denies permissions, specifies inheritance of permissions from a parent resource, or specifies the permissions of a new account.</span></span> <span data-ttu-id="f7dd5-119">Para obtener una lista de todos los permisos que se pueden conceder, denegar o heredar, vea [cadenas ACE](../secauthz/ace-strings.md).</span><span class="sxs-lookup"><span data-stu-id="f7dd5-119">For a list of all the permissions that can be granted, denied, or inherited see [ACE Strings](../secauthz/ace-strings.md).</span></span> <span data-ttu-id="f7dd5-120">Windows Installer 5,0 extiende el conjunto de identificadores de seguridad disponibles (SID). Para obtener una lista de los SID válidos, vea [cadenas de SID](../secauthz/sid-strings.md).</span><span class="sxs-lookup"><span data-stu-id="f7dd5-120">Windows Installer 5.0 extends the set of available security identifiers (SIDs.) For a list of the valid SIDs, see [SID Strings](../secauthz/sid-strings.md).</span></span>

> [!NOTE]
> <span data-ttu-id="f7dd5-121">Si desea configurar el descriptor de seguridad de un recurso primario para especificar que los objetos secundarios heredan sus permisos, el instalador debe aplicar permisos al recurso primario antes de crear los objetos secundarios.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-121">If you want to configure the security descriptor of a parent resource to specify that that its permissions be inherited by child objects, your installer must apply permissions to the parent resource before it creates the child objects.</span></span> <span data-ttu-id="f7dd5-122">Si el instalador crea los objetos secundarios antes de aplicar los permisos heredables al recurso primario, los permisos del recurso primario no se propagarán a los objetos secundarios.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-122">If your installer creates the child objects before it applies the inheritable permissions to the parent resource, the permissions of the parent resource will not propagate to the child objects.</span></span>

<span data-ttu-id="f7dd5-123">A partir de Windows Installer 5,0, el tipo de datos [FormattedSDDLText](formattedsddltext.md) extiende el tipo de datos [con formato](formatted.md) .</span><span class="sxs-lookup"><span data-stu-id="f7dd5-123">Beginning with Windows Installer 5.0, the [FormattedSDDLText](formattedsddltext.md) data type extends the [Formatted](formatted.md) data type.</span></span> <span data-ttu-id="f7dd5-124">El Windows Installer valida que la cadena FormattedSDDLText especificada en la columna SDDLText de la tabla [MsiLockPermissionsEx](msilockpermissionsex-table.md) se ajuste al formato de la [cadena de descriptor de seguridad](../secauthz/security-descriptor-string-format.md).</span><span class="sxs-lookup"><span data-stu-id="f7dd5-124">The Windows Installer validates that the FormattedSDDLText string entered in the SDDLText column of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table conforms to the [Security Descriptor String Format](../secauthz/security-descriptor-string-format.md).</span></span>

<span data-ttu-id="f7dd5-125">**[Windows Installer 4,5 o una versión anterior](not-supported-in-windows-installer-4-5.md):** No compatible.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-125">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** Not supported.</span></span> <span data-ttu-id="f7dd5-126">La tabla [MsiLockPermissionsEx](msilockpermissionsex-table.md) y el tipo de datos [FormattedSDDLText](formattedsddltext.md) están disponibles a partir de Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="f7dd5-126">The [MsiLockPermissionsEx](msilockpermissionsex-table.md) table and [FormattedSDDLText](formattedsddltext.md) data type are available beginning with Windows Installer 5.0.</span></span>

 

 
