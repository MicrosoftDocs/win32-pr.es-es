---
title: Secuencia de llamadas API de método del mismo nivel
description: Obtenga información sobre la secuencia de llamadas API del método del mismo nivel. Vea una lista que muestra la secuencia de llamadas realizadas por un EAPHost en un método EAP del mismo nivel.
ms.assetid: aac69e89-249d-4bc8-baef-1f0681f9f7ae
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0ac9be0f6de228fd5b1ebf2d2c28320baf76e914
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104149630"
---
# <a name="peer-method-api-call-sequence"></a><span data-ttu-id="10eaa-104">Secuencia de llamadas API de método del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="10eaa-104">Peer Method API Call Sequence</span></span>

<span data-ttu-id="10eaa-105">En este tema se proporciona la secuencia de llamadas específica para la API del método del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="10eaa-105">This topic provides the specific call sequence for the peer method API.</span></span> <span data-ttu-id="10eaa-106">Durante una sesión de autenticación EAP típica, EAPHost realiza varias llamadas en métodos EAP para implementar la API de método del mismo nivel de EAPHost.</span><span class="sxs-lookup"><span data-stu-id="10eaa-106">During a typical EAP authentication session EAPHost makes a number of calls on EAP methods to implement the EAPHost peer method API.</span></span>

<span data-ttu-id="10eaa-107">En la siguiente lista se muestra la secuencia de llamadas realizadas por EAPHost en un método EAP del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="10eaa-107">The following list demonstrates the sequence of calls made by EAPHost on an EAP peer method.</span></span>

-   <span data-ttu-id="10eaa-108">Carga el archivo DLL de método EAP del mismo nivel que se usa para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="10eaa-108">Loads the EAP peer method DLL used for the authentication.</span></span>
-   <span data-ttu-id="10eaa-109">Llama a [**EapPeerGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) en el método para obtener una lista de punteros a las funciones implementadas en el archivo dll.</span><span class="sxs-lookup"><span data-stu-id="10eaa-109">Calls [**EapPeerGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) on the method to obtain a list of pointers to functions implemented on the DLL.</span></span> <span data-ttu-id="10eaa-110">Se supone que las llamadas a funciones posteriores realizadas por el homólogo (cliente) de EAPHost se implementan en el archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="10eaa-110">Subsequent function calls by the EAPHost peer (client) are assumed to be implemented on the DLL.</span></span>
-   <span data-ttu-id="10eaa-111">Llama a [**EapPeerInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) para indicar a la biblioteca de métodos EAP que debe prepararse para al menos una sesión de autenticación mediante este método del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="10eaa-111">Calls [**EapPeerInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) to instruct the EAP Method Library to prepare for at least one authentication session using this peer method.</span></span>
-   <span data-ttu-id="10eaa-112">Llama a [**EapPeerBeginSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerbeginsession) para establecer una sesión de autenticación única.</span><span class="sxs-lookup"><span data-stu-id="10eaa-112">Calls [**EapPeerBeginSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerbeginsession) to establish a unique authentication session.</span></span>
-   <span data-ttu-id="10eaa-113">Llama a [**EapPeerGetIdentity**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetidentity) para obtener la identidad que se va a usar para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="10eaa-113">Calls [**EapPeerGetIdentity**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetidentity) to obtain the identity to use for authentication.</span></span> <span data-ttu-id="10eaa-114">Si la identidad no está disponible, o si el usuario debe proporcionar información adicional, EAPHost llama a [ **EapPeerGetUIContext.**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetuicontext)</span><span class="sxs-lookup"><span data-stu-id="10eaa-114">If the identity is not available, or if the user must provide additional information, EAPHost calls [**EapPeerGetUIContext.**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetuicontext)</span></span> <span data-ttu-id="10eaa-115">Esta función obtiene la información de contexto para el cuadro de diálogo de la interfaz de usuario que se generará en el suplicante.</span><span class="sxs-lookup"><span data-stu-id="10eaa-115">This function obtains the context information for the user interface dialog box that will be raised on the supplicant.</span></span> <span data-ttu-id="10eaa-116">Una vez que el usuario ha enviado la información de identidad, la identidad del usuario se establece con una llamada a [**EapPeerSetUIContext**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetuicontext)y se obtiene mediante una llamada a **EapPeerGetIdentity**.</span><span class="sxs-lookup"><span data-stu-id="10eaa-116">After the user has submitted the identity information, the user identity is set with a call to [**EapPeerSetUIContext**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetuicontext), and obtained by a call to **EapPeerGetIdentity**.</span></span>
-   <span data-ttu-id="10eaa-117">Repite los pasos siguientes hasta que [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) indica que hay un resultado de autenticación disponible.</span><span class="sxs-lookup"><span data-stu-id="10eaa-117">Repeats the following steps until [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) indicates that an authentication result is available.</span></span>
    -   <span data-ttu-id="10eaa-118">Llama a [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) con el puntero de un paquete de solicitud que se va a pasar al suplicante.</span><span class="sxs-lookup"><span data-stu-id="10eaa-118">Calls [**EapPeerProcessRequestPacket**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerprocessrequestpacket) with the pointer of a request packet to pass to the supplicant.</span></span>
    -   <span data-ttu-id="10eaa-119">Llama a **EapPeerGetResponsePacket** para recuperar el paquete de respuesta que se va a enviar al autenticador.</span><span class="sxs-lookup"><span data-stu-id="10eaa-119">Calls **EapPeerGetResponsePacket** to retrieve the response packet to send to the authenticator.</span></span>
    -   <span data-ttu-id="10eaa-120">Opcionalmente, si es necesario recuperar o enviar atributos EAP durante la sesión de autenticación, EAPHost llama a [**EapPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresponseattributes) y [**EapPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetresponseattributes) , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="10eaa-120">Optionally, if EAP attributes need to be retrieved or sent during the authentication session, EAPHost calls [**EapPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresponseattributes) and [**EapPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeersetresponseattributes) respectively.</span></span>
-   <span data-ttu-id="10eaa-121">Cuando el autenticador envía un código de acción que indica que se ha completado la autenticación, EAPHost llama a [**EapPeerGetResult**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresult) y obtiene los resultados de la autenticación.</span><span class="sxs-lookup"><span data-stu-id="10eaa-121">When the authenticator sends an action code that indicates authentication is complete, EAPHost calls [**EapPeerGetResult**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetresult) and obtains the results of the authentication.</span></span>
-   <span data-ttu-id="10eaa-122">Llama a [**EapPeerEndSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerendsession) para finalizar la sesión de autenticación.</span><span class="sxs-lookup"><span data-stu-id="10eaa-122">Calls [**EapPeerEndSession**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerendsession) to end the authentication session.</span></span>
-   <span data-ttu-id="10eaa-123">Llama a [**EapPeerShutdown**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeershutdown) para descargar el archivo DLL del método del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="10eaa-123">Calls [**EapPeerShutdown**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeershutdown) to unload the peer method DLL.</span></span>
-   <span data-ttu-id="10eaa-124">Descarga la biblioteca de métodos EAP.</span><span class="sxs-lookup"><span data-stu-id="10eaa-124">Unloads the EAP Method Library.</span></span>

## <a name="related-topics"></a><span data-ttu-id="10eaa-125">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="10eaa-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="10eaa-126">Secuencia de llamadas API de suplicante</span><span class="sxs-lookup"><span data-stu-id="10eaa-126">Supplicant API Call Sequence</span></span>](supplicant-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="10eaa-127">Secuencia de llamadas API del método Authenticator</span><span class="sxs-lookup"><span data-stu-id="10eaa-127">Authenticator Method API Call Sequence</span></span>](authenticator-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="10eaa-128">Secuencias de llamadas de EAPHost</span><span class="sxs-lookup"><span data-stu-id="10eaa-128">EAPHost Call Sequences</span></span>](about-eaphost-call-sequences.md)
</dt> </dl>

 

 




