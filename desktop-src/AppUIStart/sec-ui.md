---
title: Consideraciones de seguridad de la interfaz de usuario de Windows
description: En este tema se proporciona información sobre las consideraciones de seguridad en la interfaz de usuario de Windows.
ms.assetid: D560E59A-D6C8-40a9-AABB-DE5A47C94E6E
keywords:
- Interfaz de usuario de Windows, seguridad
- seguridad para la interfaz de usuario de Windows
- seguridad de cadena
- entrada de usuario, validación
- validación de entradas de usuario
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 71b714de3ab12cb10d6e5d9a2e251c34eeeff7a5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104078176"
---
# <a name="security-considerations-windows-user-interface"></a><span data-ttu-id="e8960-108">Consideraciones de seguridad: interfaz de usuario de Windows</span><span class="sxs-lookup"><span data-stu-id="e8960-108">Security Considerations: Windows User Interface</span></span>

<span data-ttu-id="e8960-109">En este tema se proporciona información sobre las consideraciones de seguridad en la interfaz de usuario de Windows.</span><span class="sxs-lookup"><span data-stu-id="e8960-109">This topic provides information about security considerations in the Windows User Interface.</span></span> <span data-ttu-id="e8960-110">En este tema no se proporciona todo lo que necesita saber acerca de los problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e8960-110">This topic doesn't provide all you need to know about security issues.</span></span> <span data-ttu-id="e8960-111">En su lugar, úselo como punto de partida y referencia para esta área tecnológica.</span><span class="sxs-lookup"><span data-stu-id="e8960-111">Instead, use it as a starting point and reference for this technology area.</span></span>

<span data-ttu-id="e8960-112">Con el aumento de la interconectividad de equipos, ahora los desarrolladores deben preocuparse de la seguridad de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e8960-112">With the increase in computer interconnectivity, developers now must concern themselves with application security.</span></span> <span data-ttu-id="e8960-113">Sin embargo, la seguridad también mejora la seguridad y la solidez de las aplicaciones generales. por lo tanto, es otra manera que el desarrollador puede proporcionar una buena experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="e8960-113">However, security also enhances general application safety and robustness; therefore it is another way that the developer can provide a good user experience.</span></span> <span data-ttu-id="e8960-114">En los temas siguientes se tratan algunos posibles problemas de seguridad cuando se usa la interfaz de usuario de Windows.</span><span class="sxs-lookup"><span data-stu-id="e8960-114">The following topics discuss some potential security concerns when using the Windows User Interface.</span></span>

-   [<span data-ttu-id="e8960-115">Consideraciones sobre cadenas</span><span class="sxs-lookup"><span data-stu-id="e8960-115">String Considerations</span></span>](#string-considerations)
-   [<span data-ttu-id="e8960-116">Datos proporcionados por el usuario</span><span class="sxs-lookup"><span data-stu-id="e8960-116">User Input</span></span>](#user-input)
-   [<span data-ttu-id="e8960-117">alertas de seguridad</span><span class="sxs-lookup"><span data-stu-id="e8960-117">Security Alerts</span></span>](#security-alerts)
-   [<span data-ttu-id="e8960-118">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e8960-118">Related topics</span></span>](#related-topics)

## <a name="string-considerations"></a><span data-ttu-id="e8960-119">Consideraciones sobre cadenas</span><span class="sxs-lookup"><span data-stu-id="e8960-119">String Considerations</span></span>

<span data-ttu-id="e8960-120">Muchas funciones, mensajes y macros usan cadenas en sus parámetros.</span><span class="sxs-lookup"><span data-stu-id="e8960-120">Many functions, messages, and macros use strings in their parameters.</span></span> <span data-ttu-id="e8960-121">Sin embargo, a menudo las cadenas no se comprueban para la terminación null o para la longitud.</span><span class="sxs-lookup"><span data-stu-id="e8960-121">However, often the strings are not checked for null-termination or for length.</span></span> <span data-ttu-id="e8960-122">Un problema relacionado es el cálculo incorrecto de la longitud de una cadena o búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-122">A related concern is miscalculating the length of a string or buffer.</span></span> <span data-ttu-id="e8960-123">En cualquier caso, esto puede provocar el desbordamiento del búfer o el truncamiento de datos, lo que puede afectar negativamente a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8960-123">In either case, this can lead to buffer overflow or data truncation, which can affect your application adversely.</span></span> <span data-ttu-id="e8960-124">Para obtener más información acerca de las saturaciones del búfer y otros problemas de seguridad, consulte *Writing Secure Code* by Michael Howard y David LeBlanc, Microsoft Press, 2002.</span><span class="sxs-lookup"><span data-stu-id="e8960-124">For more information about buffer overruns and other security concerns, see *Writing Secure Code* by Michael Howard and David Leblanc, Microsoft Press, 2002.</span></span>

<span data-ttu-id="e8960-125">Para controlar las cadenas de una manera segura, debe hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e8960-125">To handle strings in a safe manner, you should do the following:</span></span>

-   <span data-ttu-id="e8960-126">Compruebe las cadenas para la terminación nula o la longitud adecuada, según corresponda.</span><span class="sxs-lookup"><span data-stu-id="e8960-126">Check strings for null-termination or for the proper length, as appropriate.</span></span>
-   <span data-ttu-id="e8960-127">Tenga especial cuidado para determinar la longitud de una cadena o un búfer, especialmente cuando contiene valores **TCHAR** .</span><span class="sxs-lookup"><span data-stu-id="e8960-127">Take special care to determine the length of a string or buffer, especially when it contains **TCHAR** values.</span></span>
-   <span data-ttu-id="e8960-128">Si crea una cadena o usa una cadena que se usó previamente, Inicialícelo en cero o inserte un terminador nulo, según corresponda.</span><span class="sxs-lookup"><span data-stu-id="e8960-128">If you create a string or use a string that was used previously, initialize it to zero or insert a null-terminator, as appropriate.</span></span>

<span data-ttu-id="e8960-129">Además, considere la posibilidad de usar las funciones [StrSafe](/windows/desktop/menurc/strsafe-ovw) al tratar con cadenas.</span><span class="sxs-lookup"><span data-stu-id="e8960-129">In addition, consider using the [StrSafe](/windows/desktop/menurc/strsafe-ovw) functions when dealing with strings.</span></span> <span data-ttu-id="e8960-130">Estas funciones están diseñadas para controlar las cadenas de forma segura.</span><span class="sxs-lookup"><span data-stu-id="e8960-130">These functions are designed to handle strings safely.</span></span>

## <a name="user-input"></a><span data-ttu-id="e8960-131">Entrada del usuario</span><span class="sxs-lookup"><span data-stu-id="e8960-131">User Input</span></span>

<span data-ttu-id="e8960-132">La interfaz de usuario de Windows está preocupada por obtener y responder a la información de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="e8960-132">The Windows user interface is concerned with getting and responding to information from users.</span></span> <span data-ttu-id="e8960-133">Sin embargo, los usuarios que escriben datos incorrectos pueden interrumpir la aplicación, independientemente de si pretenden hacerlo.</span><span class="sxs-lookup"><span data-stu-id="e8960-133">However, users who enter incorrect data can disrupt your application, whether or not they intend to do so.</span></span> <span data-ttu-id="e8960-134">Por lo tanto, la regla cardinal es que se deben validar todas las entradas.</span><span class="sxs-lookup"><span data-stu-id="e8960-134">Thus, the cardinal rule is that all input must be validated.</span></span>

<span data-ttu-id="e8960-135">La principal preocupación son los datos de cadena, que se describen en [consideraciones de cadena](#string-considerations).</span><span class="sxs-lookup"><span data-stu-id="e8960-135">Of primary concern is string data, which is discussed in [String Considerations](#string-considerations).</span></span> <span data-ttu-id="e8960-136">Sin embargo, todos los tipos de entrada deben validarse antes de que la aplicación los use.</span><span class="sxs-lookup"><span data-stu-id="e8960-136">However, all types of input should be validated before being used by your application.</span></span> <span data-ttu-id="e8960-137">Otro problema es cuando los datos se validan en un momento, pero los cambios antes de que se usen, por ejemplo, al recibir mensajes que proporcionan la longitud del texto.</span><span class="sxs-lookup"><span data-stu-id="e8960-137">Another concern is when data is validated at one point but changes before it is used, for example, when receiving messages that give the length of text.</span></span> <span data-ttu-id="e8960-138">Por lo tanto, si hay una posibilidad de que los datos cambien, debe comprobar los datos justo antes de utilizarlos.</span><span class="sxs-lookup"><span data-stu-id="e8960-138">So, if there is a chance the data might change, you should check the data just before you use it</span></span>

## <a name="security-alerts"></a><span data-ttu-id="e8960-139">Alertas de seguridad</span><span class="sxs-lookup"><span data-stu-id="e8960-139">Security Alerts</span></span>

<span data-ttu-id="e8960-140">En la tabla siguiente se enumeran las características que, si se usan incorrectamente, pueden poner en peligro la seguridad de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e8960-140">The following table lists features that, if used incorrectly, can compromise the security of your applications.</span></span>



| <span data-ttu-id="e8960-141">Característica</span><span class="sxs-lookup"><span data-stu-id="e8960-141">Feature</span></span>                                                                                                                                                   | <span data-ttu-id="e8960-142">Mitigación</span><span class="sxs-lookup"><span data-stu-id="e8960-142">Mitigation</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e8960-143">**GetAtomName**</span><span class="sxs-lookup"><span data-stu-id="e8960-143">**GetAtomName**</span></span>](/windows/desktop/api/winbase/nf-winbase-getatomnamea)                                                                                                               | <span data-ttu-id="e8960-144">Tenga cuidado al especificar el tamaño del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-144">Be careful when specifying the size of the buffer.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="e8960-145">**GlobalGetAtomName**</span><span class="sxs-lookup"><span data-stu-id="e8960-145">**GlobalGetAtomName**</span></span>](/windows/desktop/api/winbase/nf-winbase-globalgetatomnamea)                                                                                                   | <span data-ttu-id="e8960-146">Cualquier aplicación puede obtener acceso a los átomos de cadena globales.</span><span class="sxs-lookup"><span data-stu-id="e8960-146">Global string atoms are accessible to any application.</span></span> <span data-ttu-id="e8960-147">Sin embargo, si otra aplicación es inestable, podría tratar de resolver los recuentos de referencias y eliminarlos.</span><span class="sxs-lookup"><span data-stu-id="e8960-147">However, if another application is careless, it could mishandle their reference counts and delete them.</span></span> <span data-ttu-id="e8960-148">En su lugar, debe considerar el uso de átomos de enteros globales.</span><span class="sxs-lookup"><span data-stu-id="e8960-148">You should consider using global integer atoms instead.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="e8960-149">**ImpersonateDdeClientWindow**</span><span class="sxs-lookup"><span data-stu-id="e8960-149">**ImpersonateDdeClientWindow**</span></span>](/windows/desktop/api/dde/nf-dde-impersonateddeclientwindow)                                                                                 | <span data-ttu-id="e8960-150">Si se produce un error en la función, las solicitudes de cliente posteriores se realizan en el contexto de seguridad del proceso de llamada.</span><span class="sxs-lookup"><span data-stu-id="e8960-150">If the function fails, subsequent client requests are made in the security context of the calling process.</span></span> <span data-ttu-id="e8960-151">Esto puede ser un problema si el proceso de llamada se ejecuta como una cuenta con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="e8960-151">This can be a problem if the calling process is running as a highly privileged account.</span></span> <span data-ttu-id="e8960-152">Por lo tanto, si se produce un error en la llamada o se produce un error, no continúa la ejecución de la solicitud del cliente.</span><span class="sxs-lookup"><span data-stu-id="e8960-152">Therefore, if the call fails or raises an error do not continue execution of the client request.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="e8960-153">**DdeImpersonateClient**</span><span class="sxs-lookup"><span data-stu-id="e8960-153">**DdeImpersonateClient**</span></span>](/windows/desktop/api/ddeml/nf-ddeml-ddeimpersonateclient)                                                                                             | <span data-ttu-id="e8960-154">Si se produce un error en la función, las solicitudes de cliente posteriores se realizan en el contexto de seguridad del proceso de llamada.</span><span class="sxs-lookup"><span data-stu-id="e8960-154">If the function fails, subsequent client requests are made in the security context of the calling process.</span></span> <span data-ttu-id="e8960-155">Esto puede ser un problema si el proceso de llamada se ejecuta como una cuenta con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="e8960-155">This can be a problem if the calling process is running as a highly privileged account.</span></span> <span data-ttu-id="e8960-156">Por lo tanto, si se produce un error en la llamada o se produce un error, no continúa la ejecución de la solicitud del cliente.</span><span class="sxs-lookup"><span data-stu-id="e8960-156">Therefore, if the call fails or raises an error do not continue execution of the client request.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="e8960-157">**GetClipboardFormatName**</span><span class="sxs-lookup"><span data-stu-id="e8960-157">**GetClipboardFormatName**</span></span>](/windows/desktop/api/winuser/nf-winuser-getclipboardformatnamea)                                                                                         | <span data-ttu-id="e8960-158">El cálculo incorrecto del tamaño adecuado del búfer *lpszFormatName* , especialmente cuando la aplicación se usa en versiones ANSI y Unicode, puede provocar un desbordamiento del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-158">Miscalculating the proper size of the *lpszFormatName* buffer, especially when the application is used in both ANSI and Unicode versions, can cause a buffer overflow.</span></span> <span data-ttu-id="e8960-159">Además, tenga en cuenta que la cadena se trunca si es más larga que el parámetro *cchMaxCount* , lo que puede provocar la pérdida de información.</span><span class="sxs-lookup"><span data-stu-id="e8960-159">Also, note that the string is truncated if it is longer than the *cchMaxCount* parameter, which can lead to loss of information.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="e8960-160">**GetMenuString**</span><span class="sxs-lookup"><span data-stu-id="e8960-160">**GetMenuString**</span></span>](/windows/desktop/api/winuser/nf-winuser-getmenustringa)                                                                                                           | <span data-ttu-id="e8960-161">El parámetro *lpString* es un búfer **TCHAR** y *nMaxCount* es la longitud de la cadena de menú en **TCHAR** s.</span><span class="sxs-lookup"><span data-stu-id="e8960-161">The *lpString* parameter is a **TCHAR** buffer, and *nMaxCount* is the length of the menu string in **TCHAR** s.</span></span> <span data-ttu-id="e8960-162">El ajuste incorrecto de estos parámetros puede ser la longitud de la cadena de menú en caracteres.</span><span class="sxs-lookup"><span data-stu-id="e8960-162">Sizing these parameters incorrectly can is the length of the menu string in characters.</span></span> <span data-ttu-id="e8960-163">Cambiar el tamaño de estos parámetros de forma incorrecta puede provocar el truncamiento de la cadena, lo que provoca una posible pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="e8960-163">Sizing these parameters incorrectly can cause truncation of the string, leading to possible loss of data.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="e8960-164">[**GetStringTypeA**](/windows/desktop/api/winnls/nf-winnls-getstringtypea), [**GetStringTypeEx**](/windows/win32/api/stringapiset/nf-stringapiset-getstringtypeexw), [**GetStringTypeW**](/windows/desktop/api/stringapiset/nf-stringapiset-getstringtypew)</span><span class="sxs-lookup"><span data-stu-id="e8960-164">[**GetStringTypeA**](/windows/desktop/api/winnls/nf-winnls-getstringtypea), [**GetStringTypeEx**](/windows/win32/api/stringapiset/nf-stringapiset-getstringtypeexw), [**GetStringTypeW**](/windows/desktop/api/stringapiset/nf-stringapiset-getstringtypew)</span></span> | <span data-ttu-id="e8960-165">Para evitar un desbordamiento del búfer, establezca el tamaño del búfer de *lpCharType* correctamente.</span><span class="sxs-lookup"><span data-stu-id="e8960-165">To avoid a buffer overflow, set the size of the *lpCharType* buffer correctly.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="e8960-166">**LoadLibrary**</span><span class="sxs-lookup"><span data-stu-id="e8960-166">**LoadLibrary**</span></span>](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya)                                                                                                                       | <span data-ttu-id="e8960-167">El uso incorrecto de **LoadLibrary** puede poner en peligro la seguridad de la aplicación mediante la carga de una DLL incorrecta.</span><span class="sxs-lookup"><span data-stu-id="e8960-167">Using **LoadLibrary** incorrectly can compromise the security of your application by loading the wrong DLL.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="e8960-168">**Fall**</span><span class="sxs-lookup"><span data-stu-id="e8960-168">**LoadString**</span></span>](/windows/desktop/api/winuser/nf-winuser-loadstringa)                                                                                                                 | <span data-ttu-id="e8960-169">Un uso incorrecto incluye la especificación de un tamaño incorrecto en el parámetro *nBufferMax* .</span><span class="sxs-lookup"><span data-stu-id="e8960-169">Incorrect use includes specifying the wrong size in the *nBufferMax* parameter.</span></span> <span data-ttu-id="e8960-170">Por ejemplo, sizeof (*lpBuffer*) proporciona el tamaño del búfer en bytes, lo que podría provocar un desbordamiento del búfer para la versión Unicode de la función.</span><span class="sxs-lookup"><span data-stu-id="e8960-170">For example, sizeof(*lpBuffer*) gives the size of the buffer in bytes, which could lead to a buffer overflow for the Unicode version of the function.</span></span> <span data-ttu-id="e8960-171">Las situaciones de desbordamiento del búfer son la causa de muchos problemas de seguridad en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="e8960-171">Buffer overflow situations are the cause of many security problems in applications.</span></span> <span data-ttu-id="e8960-172">En este caso, el uso `sizeof(lpBuffer)/sizeof(TCHAR)` de proporciona el tamaño adecuado del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-172">In this case, using `sizeof(lpBuffer)/sizeof(TCHAR)` gives the proper size of the buffer.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="e8960-173">**lstrcat**</span><span class="sxs-lookup"><span data-stu-id="e8960-173">**lstrcat**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrcata)                                                                                                                       | <span data-ttu-id="e8960-174">Esta función usa el control de excepciones estructurado (SEH) para detectar infracciones de acceso y otros errores.</span><span class="sxs-lookup"><span data-stu-id="e8960-174">This function uses structured exception handling (SEH) to catch access violations and other errors.</span></span> <span data-ttu-id="e8960-175">Cuando esta función detecta errores SEH, devuelve **null** sin la terminación nula de la cadena y sin el valor null, sin tener que terminar la cadena y sin notificar al llamador del error.</span><span class="sxs-lookup"><span data-stu-id="e8960-175">When this function catches SEH errors, it returns **NULL** without null-terminating the string and without NULL without null-terminating the string and without notifying the caller of the error.</span></span> <span data-ttu-id="e8960-176">El autor de la llamada no es seguro suponer que el espacio insuficiente es la condición de error.</span><span class="sxs-lookup"><span data-stu-id="e8960-176">The caller is not safe to assume that insufficient space is the error condition.</span></span> <span data-ttu-id="e8960-177">El primer argumento, *lpString1*, debe ser lo suficientemente grande como para contener *lpString2* y el cierre ' \\ 0 '; de lo contrario, se puede producir una saturación del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-177">The first argument, *lpString1*, must be large enough to hold *lpString2* and the closing '\\0', otherwise a buffer overrun may occur.</span></span> <span data-ttu-id="e8960-178">Las saturaciones del búfer pueden provocar un ataque de denegación de servicio contra la aplicación si se produce una infracción de acceso.</span><span class="sxs-lookup"><span data-stu-id="e8960-178">Buffer overruns may lead to a denial of service attack against the application if an access violation occurs.</span></span> <span data-ttu-id="e8960-179">En el peor de los casos, una saturación del búfer puede permitir que un atacante Inserte código ejecutable en el proceso, especialmente si *lpString1* es un búfer basado en la pila.</span><span class="sxs-lookup"><span data-stu-id="e8960-179">In the worst case, a buffer overrun may allow an attacker to inject executable code into your process, especially if *lpString1* is a stack-based buffer.</span></span> <span data-ttu-id="e8960-180">Considere la posibilidad de usar una de las siguientes alternativas.</span><span class="sxs-lookup"><span data-stu-id="e8960-180">Consider using one of the following alternatives.</span></span> <span data-ttu-id="e8960-181">[**StringCbCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcbcata) o [**StringCchCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcata).</span><span class="sxs-lookup"><span data-stu-id="e8960-181">[**StringCbCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcbcata) or [**StringCchCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcata).</span></span>                                                                                                                                                                                       |
| [<span data-ttu-id="e8960-182">**lstrcpy**</span><span class="sxs-lookup"><span data-stu-id="e8960-182">**lstrcpy**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrcpya)                                                                                                                       | <span data-ttu-id="e8960-183">Esta función usa el control de excepciones estructurado (SEH) para detectar infracciones de acceso y otros errores.</span><span class="sxs-lookup"><span data-stu-id="e8960-183">This function uses structured exception handling (SEH) to catch access violations and other errors.</span></span> <span data-ttu-id="e8960-184">Cuando esta función detecta errores SEH, devuelve **null** sin la terminación nula de la cadena y sin el valor null, sin tener que terminar la cadena y sin notificar al llamador del error.</span><span class="sxs-lookup"><span data-stu-id="e8960-184">When this function catches SEH errors, it returns **NULL** without null-terminating the string and without NULL without null-terminating the string and without notifying the caller of the error.</span></span> <span data-ttu-id="e8960-185">El autor de la llamada no es seguro suponer que el espacio insuficiente es la condición de error.</span><span class="sxs-lookup"><span data-stu-id="e8960-185">The caller is not safe to assume that insufficient space is the error condition.</span></span> <span data-ttu-id="e8960-186">El primer argumento, *lpString1*, debe ser lo suficientemente grande como para contener *lpString2* y el cierre ' \\ 0 '; de lo contrario, se puede producir una saturación del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-186">The first argument, *lpString1*, must be large enough to hold *lpString2* and the closing '\\0', otherwise a buffer overrun may occur.</span></span> <span data-ttu-id="e8960-187">Las saturaciones del búfer pueden provocar un ataque de denegación de servicio contra la aplicación si se produce una infracción de acceso.</span><span class="sxs-lookup"><span data-stu-id="e8960-187">Buffer overruns may lead to a denial of service attack against the application if an access violation occurs.</span></span> <span data-ttu-id="e8960-188">En el peor de los casos, una saturación del búfer puede permitir que un atacante Inserte código ejecutable en el proceso, especialmente si *lpString1* es un búfer basado en la pila.</span><span class="sxs-lookup"><span data-stu-id="e8960-188">In the worst case, a buffer overrun may allow an attacker to inject executable code into your process, especially if *lpString1* is a stack-based buffer.</span></span> <span data-ttu-id="e8960-189">Considere la posibilidad de usar [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) en su lugar.</span><span class="sxs-lookup"><span data-stu-id="e8960-189">Consider using [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) instead.</span></span>                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="e8960-190">**lstrcpyn**</span><span class="sxs-lookup"><span data-stu-id="e8960-190">**lstrcpyn**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrcpyna)                                                                                                                     | <span data-ttu-id="e8960-191">Esta función usa el control de excepciones estructurado (SEH) para detectar infracciones de acceso y otros errores.</span><span class="sxs-lookup"><span data-stu-id="e8960-191">This function uses structured exception handling (SEH) to catch access violations and other errors.</span></span> <span data-ttu-id="e8960-192">Cuando esta función detecta errores SEH, devuelve **null** sin la terminación nula de la cadena y sin el valor null, sin tener que terminar la cadena y sin notificar al llamador del error.</span><span class="sxs-lookup"><span data-stu-id="e8960-192">When this function catches SEH errors, it returns **NULL** without null-terminating the string and without NULL without null-terminating the string and without notifying the caller of the error.</span></span> <span data-ttu-id="e8960-193">El autor de la llamada no es seguro suponer que el espacio insuficiente es la condición de error.</span><span class="sxs-lookup"><span data-stu-id="e8960-193">The caller is not safe to assume that insufficient space is the error condition.</span></span> <span data-ttu-id="e8960-194">Si *lpString1* no es suficientemente grande para contener la cadena copiada, se puede producir una saturación del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-194">If *lpString1* is not large enough to contain the copied string, a buffer overrun can occur.</span></span> <span data-ttu-id="e8960-195">Además, al copiar una cadena completa, tenga en cuenta que [sizeof](https://msdn.microsoft.com/library/0w557fh7(VS.71).aspx) devuelve el número de bytes en lugar de **WCHAR**, que **sizeof** devuelve el número de bytes en lugar de caracteres, que es incorrecto para la versión Unicode de esta función.</span><span class="sxs-lookup"><span data-stu-id="e8960-195">Also, when copying an entire string, note that [sizeof](https://msdn.microsoft.com/library/0w557fh7(VS.71).aspx) returns the number of bytes rather than **WCHAR**, that **sizeof** returns the number of bytes rather than characters, which is incorrect for the Unicode version of this function.</span></span> <span data-ttu-id="e8960-196">Las saturaciones del búfer pueden provocar un ataque de denegación de servicio contra la aplicación si se produce una infracción de acceso.</span><span class="sxs-lookup"><span data-stu-id="e8960-196">Buffer overruns can cause a denial of service attack against the application if an access violation occurs.</span></span> <span data-ttu-id="e8960-197">En el peor de los casos, una saturación del búfer puede permitir que un atacante Inserte código ejecutable en el proceso, especialmente si *lpString1* es un búfer basado en la pila.</span><span class="sxs-lookup"><span data-stu-id="e8960-197">In the worst case, a buffer overrun may allow an attacker to inject executable code into your process, especially if *lpString1* is a stack-based buffer.</span></span> <span data-ttu-id="e8960-198">Considere la posibilidad de usar [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) en su lugar.</span><span class="sxs-lookup"><span data-stu-id="e8960-198">Consider using [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) instead.</span></span> |
| [<span data-ttu-id="e8960-199">**lstrlen**</span><span class="sxs-lookup"><span data-stu-id="e8960-199">**lstrlen**</span></span>](/windows/desktop/api/winbase/nf-winbase-lstrlena)                                                                                                                       | <span data-ttu-id="e8960-200">[**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena) supone que *lpString* es una cadena terminada en NULL.</span><span class="sxs-lookup"><span data-stu-id="e8960-200">[**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena) assumes that *lpString* is a null-terminated string.</span></span> <span data-ttu-id="e8960-201">En caso contrario, podría provocar una saturación del búfer o un ataque de denegación de servicio en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8960-201">If it is not, this could lead to a buffer overrun or a denial of service attack against your application.</span></span> <span data-ttu-id="e8960-202">Considere la posibilidad de usar una de las siguientes alternativas.</span><span class="sxs-lookup"><span data-stu-id="e8960-202">Consider using one of the following alternatives.</span></span> <span data-ttu-id="e8960-203">[**StringCbLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcblengtha) o [**StringCchLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcchlengtha).</span><span class="sxs-lookup"><span data-stu-id="e8960-203">[**StringCbLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcblengtha) or [**StringCchLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcchlengtha).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="e8960-204">**wsprintf**</span><span class="sxs-lookup"><span data-stu-id="e8960-204">**wsprintf**</span></span>](/windows/desktop/api/winuser/nf-winuser-wsprintfa)                                                                                                                     | <span data-ttu-id="e8960-205">No se garantiza que la cadena devuelta en *lpOut* esté terminada en NULL.</span><span class="sxs-lookup"><span data-stu-id="e8960-205">The string returned in *lpOut* is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="e8960-206">Además, evite el formato% s, lo que puede provocar una saturación del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-206">Also, avoid the %s format, which can lead to a buffer overrun.</span></span> <span data-ttu-id="e8960-207">Si se produce una infracción de acceso, provoca una denegación de servicio en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e8960-207">If an access violation occurs it causes a denial of service against your application.</span></span> <span data-ttu-id="e8960-208">En el peor de los casos, un atacante puede inyectar código ejecutable.</span><span class="sxs-lookup"><span data-stu-id="e8960-208">In the worse case, an attacker can inject executable code.</span></span> <span data-ttu-id="e8960-209">Considere la posibilidad de usar una de las siguientes alternativas.</span><span class="sxs-lookup"><span data-stu-id="e8960-209">Consider using one of the following alternatives.</span></span> <span data-ttu-id="e8960-210">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)o [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span><span class="sxs-lookup"><span data-stu-id="e8960-210">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa), or [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span></span>                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="e8960-211">**wvsprintf**</span><span class="sxs-lookup"><span data-stu-id="e8960-211">**wvsprintf**</span></span>](/windows/desktop/api/winuser/nf-winuser-wvsprintfa)                                                                                                                   | <span data-ttu-id="e8960-212">No se garantiza que la cadena devuelta en *lpOutput* esté terminada en NULL.</span><span class="sxs-lookup"><span data-stu-id="e8960-212">The string returned in *lpOutput* is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="e8960-213">Además, evite el uso del formato% s, lo que puede provocar una saturación del búfer.</span><span class="sxs-lookup"><span data-stu-id="e8960-213">Also, avoid the use of the %s format, which can lead to a buffer overrun.</span></span> <span data-ttu-id="e8960-214">Esto puede conducir a una denegación de servicio si se produce una infracción de acceso o un atacante puede inyectar código ejecutable.</span><span class="sxs-lookup"><span data-stu-id="e8960-214">This can lead to a denial of service if it results in an access violation, or an attacker may inject executable code.</span></span> <span data-ttu-id="e8960-215">Considere la posibilidad de usar una de las siguientes alternativas.</span><span class="sxs-lookup"><span data-stu-id="e8960-215">Consider using one of the following alternatives.</span></span> <span data-ttu-id="e8960-216">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)o [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span><span class="sxs-lookup"><span data-stu-id="e8960-216">[**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa), or [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).</span></span>                                                                                                                                                                                                                                                                                                                                                      |



 

## <a name="related-topics"></a><span data-ttu-id="e8960-217">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e8960-217">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e8960-218">Seguridad de Microsoft</span><span class="sxs-lookup"><span data-stu-id="e8960-218">Microsoft Security</span></span>](https://www.microsoft.com/security/)
</dt> <dt>

[<span data-ttu-id="e8960-219">Identidad y seguridad</span><span class="sxs-lookup"><span data-stu-id="e8960-219">Security and Identity</span></span>](/windows/desktop/security)
</dt> <dt>

<span data-ttu-id="e8960-220">[Índice de procedimientos de seguridad](/previous-versions/msp-n-p/ff650055(v=pandp.10))</span><span class="sxs-lookup"><span data-stu-id="e8960-220">[Security How Tos Index](/previous-versions/msp-n-p/ff650055(v=pandp.10))</span></span>
</dt> <dt>

[<span data-ttu-id="e8960-221">Recursos de seguridad de TechNet</span><span class="sxs-lookup"><span data-stu-id="e8960-221">TechNet Security Resources</span></span>](https://www.microsoft.com/technet/security/default.mspx)
</dt> <dt>

[<span data-ttu-id="e8960-222">Prácticas recomendadas para las API de seguridad</span><span class="sxs-lookup"><span data-stu-id="e8960-222">Best Practices for the Security APIs</span></span>](/windows/desktop/SecBP/best-practices-for-the-security-apis)
</dt> </dl>

 

 