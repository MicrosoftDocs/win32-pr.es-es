---
title: Rasterización conservadora de Direct3D 11,3
description: La rasterización conservadora agrega cierta certeza a la representación en píxeles, lo que resulta útil en especial a los algoritmos de detección de colisiones.
ms.assetid: 83F223C0-9282-4149-86CF-471B88829F76
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 003cb7e31c1380943318b34f9308f6b5e72d6e51
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104271341"
---
# <a name="direct3d-113-conservative-rasterization"></a><span data-ttu-id="1742c-103">Rasterización conservadora de Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="1742c-103">Direct3D 11.3 Conservative Rasterization</span></span>

<span data-ttu-id="1742c-104">La rasterización conservadora agrega cierta certeza a la representación en píxeles, lo que resulta útil en especial a los algoritmos de detección de colisiones.</span><span class="sxs-lookup"><span data-stu-id="1742c-104">Conservative rasterization adds some certainty to pixel rendering, which is helpful in particular to collision detection algorithms.</span></span>

-   [<span data-ttu-id="1742c-105">Información general</span><span class="sxs-lookup"><span data-stu-id="1742c-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="1742c-106">Interacciones con la canalización</span><span class="sxs-lookup"><span data-stu-id="1742c-106">Interactions with the pipeline</span></span>](#interactions-with-the-pipeline)
-   [<span data-ttu-id="1742c-107">Detalles de implementación</span><span class="sxs-lookup"><span data-stu-id="1742c-107">Implementation details</span></span>](#implementation-details)
-   [<span data-ttu-id="1742c-108">Resumen de API</span><span class="sxs-lookup"><span data-stu-id="1742c-108">API summary</span></span>](#api-summary)
-   [<span data-ttu-id="1742c-109">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="1742c-109">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="1742c-110">Información general</span><span class="sxs-lookup"><span data-stu-id="1742c-110">Overview</span></span>

<span data-ttu-id="1742c-111">La rasterización conservadora significa que se rasterizan todos los píxeles que están al menos parcialmente incluidos en una primitiva representada, lo que significa que se invoca el sombreador de píxeles.</span><span class="sxs-lookup"><span data-stu-id="1742c-111">Conservative rasterization means that all pixels that are at least partially covered by a rendered primitive are rasterized, which means that the pixel shader is invoked.</span></span> <span data-ttu-id="1742c-112">El comportamiento normal es el muestreo, que no se usa si está habilitada la rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="1742c-112">Normal behavior is sampling, which is not used if conservative rasterization is enabled.</span></span>

<span data-ttu-id="1742c-113">La rasterización conservadora es útil en una serie de situaciones, entre las que se incluyen la certeza de la detección de colisiones, la selección de la oclusión y la detección de visibilidad.</span><span class="sxs-lookup"><span data-stu-id="1742c-113">Conservative rasterization is useful in a number of situations, including for certainty in collision detection, occlusion culling, and visibility detection.</span></span>

<span data-ttu-id="1742c-114">Por ejemplo, en la siguiente ilustración se muestra un triángulo verde representado mediante la rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="1742c-114">For example, the following figure shows a green triangle rendered using conservative rasterization.</span></span> <span data-ttu-id="1742c-115">El área marrón se conoce como "región de incertidumbre", una región en la que los errores de redondeo y otros problemas agregan incertidumbre a las dimensiones exactas del triángulo.</span><span class="sxs-lookup"><span data-stu-id="1742c-115">The brown area is known as an "uncertainty region" - a region where rounding errors and other issues add some uncertainty to the exact dimensions of the triangle.</span></span> <span data-ttu-id="1742c-116">Los triángulos rojos de cada vértice muestran cómo se calcula la región de incertidumbre.</span><span class="sxs-lookup"><span data-stu-id="1742c-116">The red triangles at each vertex show how the uncertainty region is calculated.</span></span> <span data-ttu-id="1742c-117">Los cuadrados grises grandes muestran los píxeles que se representarán.</span><span class="sxs-lookup"><span data-stu-id="1742c-117">The large gray squares show the pixels that will be rendered.</span></span> <span data-ttu-id="1742c-118">Los cuadrados de color rosa muestran los píxeles representados mediante la "regla superior izquierda", que entran en juego cuando el borde del triángulo cruza el borde de los píxeles.</span><span class="sxs-lookup"><span data-stu-id="1742c-118">The pink squares show pixels rendered using the "top-left rule", which comes into play as the edge of the triangle crosses the edge of the pixels.</span></span> <span data-ttu-id="1742c-119">Puede haber falsos positivos (píxeles establecidos que no deberían haber) que el sistema normalmente, pero no siempre seleccionará.</span><span class="sxs-lookup"><span data-stu-id="1742c-119">There can be false positives (pixels set that should not have been) which the system will normally but not always cull.</span></span>

![muestra la regla superior izquierda](images/conservative-rasterization-0.png)

## <a name="interactions-with-the-pipeline"></a><span data-ttu-id="1742c-121">Interacciones con la canalización</span><span class="sxs-lookup"><span data-stu-id="1742c-121">Interactions with the pipeline</span></span>

<span data-ttu-id="1742c-122">Para muchos detalles sobre cómo la rasterización conservadora interactúa con la canalización de gráficos, consulte [rasterización conservadora de D3D12](/windows/desktop/direct3d12/conservative-rasterization).</span><span class="sxs-lookup"><span data-stu-id="1742c-122">For many details on how conservative rasterization interacts with the graphics pipeline, refer to [D3D12 Conservative rasterization](/windows/desktop/direct3d12/conservative-rasterization).</span></span>

## <a name="implementation-details"></a><span data-ttu-id="1742c-123">Detalles de la implementación</span><span class="sxs-lookup"><span data-stu-id="1742c-123">Implementation details</span></span>

<span data-ttu-id="1742c-124">El tipo de rasterización compatible con Direct3D 12 a veces se conoce como "rasterización conservadora sobreestimada".</span><span class="sxs-lookup"><span data-stu-id="1742c-124">The type of rasterization supported in Direct3D 12 is sometimes referred to as "overestimated conservative rasterization".</span></span> <span data-ttu-id="1742c-125">También existe el concepto de "rasterización conservadora desestimada", lo que significa que solo se rasterizan los píxeles que están totalmente incluidos en una primitiva representada.</span><span class="sxs-lookup"><span data-stu-id="1742c-125">There is also the concept of "underestimated conservative rasterization", which means that only pixels that are fully covered by a rendered primitive are rasterized.</span></span> <span data-ttu-id="1742c-126">La información de rasterización conservadora subestimada está disponible a través del sombreador de píxeles mediante el uso de datos de cobertura de entrada y solo está disponible la rasterización conservadora sobreestimada como modo de rasterización.</span><span class="sxs-lookup"><span data-stu-id="1742c-126">Underestimated conservative rasterization information is available through the pixel shader through the use of input coverage data, and only overestimated conservative rasterization is available as a rasterizing mode.</span></span>

<span data-ttu-id="1742c-127">Si alguna parte de una primitiva se superpone a un píxel, ese píxel se considerará tratado y se rasterizará.</span><span class="sxs-lookup"><span data-stu-id="1742c-127">If any part of a primitive overlaps a pixel, then that pixel is considered covered and is then rasterized.</span></span> <span data-ttu-id="1742c-128">Cuando un borde o esquina de una primitiva cae a lo largo del borde o la esquina de un píxel, la aplicación de la "regla superior izquierda" es específica de la implementación.</span><span class="sxs-lookup"><span data-stu-id="1742c-128">When an edge or corner of a primitive falls along the edge or corner of a pixel, the application of the "top-left rule" is implementation-specific.</span></span> <span data-ttu-id="1742c-129">Sin embargo, para las implementaciones que admiten triángulos degenerados, un triángulo degenerado a lo largo de un borde o una esquina debe cubrir al menos un píxel.</span><span class="sxs-lookup"><span data-stu-id="1742c-129">However, for implementations that support degenerate triangles, a degenerate triangle along an edge or corner must cover at least one pixel.</span></span>

<span data-ttu-id="1742c-130">Las implementaciones de rasterización conservadora pueden variar en hardware diferente y generar falsos positivos, lo que significa que pueden decidir incorrectamente que los píxeles están incluidos.</span><span class="sxs-lookup"><span data-stu-id="1742c-130">Conservative rasterization implementations can vary on different hardware, and do produce false positives, meaning that they can incorrectly decide that pixels are covered.</span></span> <span data-ttu-id="1742c-131">Esto puede deberse a detalles específicos de la implementación, como los errores primitivos de aumento o ajuste inherentes a las coordenadas de vértices de punto fijo utilizadas en la rasterización.</span><span class="sxs-lookup"><span data-stu-id="1742c-131">This can occur because of implementation-specific details like primitive growing or snapping errors inherent in the fixed-point vertex coordinates used in rasterization.</span></span> <span data-ttu-id="1742c-132">La razón por la que los falsos positivos (con respecto a las coordenadas de vértices de punto fijo) son válidos es que se necesita una cantidad de falsos positivos para permitir que una implementación realice la evaluación de cobertura en los vértices con ajuste de nivel (es decir, las coordenadas de vértices que se han convertido desde el punto flotante al punto fijo 16,8 usado en el rasterizador), pero</span><span class="sxs-lookup"><span data-stu-id="1742c-132">The reason false positives (with respect to fixed point vertex coordinates) are valid is because some amount of false positives are needed to allow an implementation to do coverage evaluation against post-snapped vertices (i.e. vertex coordinates that have been converted from floating point to the 16.8 fixed-point used in the rasterizer), but honor the coverage produced by the original floating point vertex coordinates.</span></span>

<span data-ttu-id="1742c-133">Las implementaciones de rasterización conservadora no producen falsos negativos con respecto a las coordenadas de vértices de punto flotante para primitivas posteriores al ajuste no generadas: Si alguna parte de una primitiva se superpone a cualquier parte de un píxel, ese píxel se rasteriza.</span><span class="sxs-lookup"><span data-stu-id="1742c-133">Conservative rasterization implementations do not produce false negatives with respect to the floating-point vertex coordinates for non-degenerate post-snap primitives: if any part of a primitive overlaps any part of a pixel, then that pixel is rasterized.</span></span>

<span data-ttu-id="1742c-134">Los triángulos degenerados (índices duplicados en un búfer de índice o colineales en 3D), o se convierten en degenerados después de la conversión de punto fijo (vértices colineales en el rasterizador), pueden o no ser reactivados; ambos son comportamientos válidos.</span><span class="sxs-lookup"><span data-stu-id="1742c-134">Triangles that are degenerate (duplicate indices in an index buffer or collinear in 3D), or become degenerate after fixed-point conversion (collinear vertices in the rasterizer), may or may not be culled; both are valid behaviors.</span></span> <span data-ttu-id="1742c-135">Los triángulos degenerados se deben tener en cuenta hacia atrás, por lo que si una aplicación requiere un comportamiento concreto, puede utilizar la selección de la parte trasera o la prueba para orientarse hacia delante.</span><span class="sxs-lookup"><span data-stu-id="1742c-135">Degenerate triangles must be considered back facing, so if a specific behavior is required by an application, it can use back-face culling or test for front facing.</span></span> <span data-ttu-id="1742c-136">Los triángulos degenerados usan los valores asignados al vértice 0 para todos los valores interpolados.</span><span class="sxs-lookup"><span data-stu-id="1742c-136">Degenerate triangles use the values assigned to Vertex 0 for all interpolated values.</span></span>

<span data-ttu-id="1742c-137">Hay tres niveles de compatibilidad de hardware, además de la posibilidad de que el hardware no sea compatible con esta característica.</span><span class="sxs-lookup"><span data-stu-id="1742c-137">There are three tiers of hardware support, in addition to the possibility that the hardware does not support this feature.</span></span>

-   <span data-ttu-id="1742c-138">El nivel 1 admite regiones de incertidumbre de 1/2 píxeles y no se genera ninguna postsnap.</span><span class="sxs-lookup"><span data-stu-id="1742c-138">Tier 1 supports 1/2 pixel uncertainty regions, and no post-snap degenerates.</span></span> <span data-ttu-id="1742c-139">Esto es adecuado para la representación en mosaico, un Atlas de textura, la generación de mapas ligeros y las instantáneas de subpíxeles.</span><span class="sxs-lookup"><span data-stu-id="1742c-139">This is good for tiled rendering, a texture atlas, light map generation and sub-pixel shadow maps.</span></span>
-   <span data-ttu-id="1742c-140">El nivel 2 agrega las regiones de incertidumbre y 1/256 posteriores a la instantánea.</span><span class="sxs-lookup"><span data-stu-id="1742c-140">Tier 2 adds post-snap degenerates, and 1/256 uncertainty regions.</span></span> <span data-ttu-id="1742c-141">También agrega compatibilidad con la aceleración del algoritmo basado en la CPU (por ejemplo, voxelization).</span><span class="sxs-lookup"><span data-stu-id="1742c-141">It also adds support for CPU-based algorithm acceleration (such as voxelization).</span></span>
-   <span data-ttu-id="1742c-142">El nivel 3 agrega 1/512 regiones de incertidumbre, cobertura interna de entrada y admite la selección de la oclusión.</span><span class="sxs-lookup"><span data-stu-id="1742c-142">Tier 3 adds 1/512 uncertainty regions, inner input coverage and supports occlusion culling.</span></span> <span data-ttu-id="1742c-143">La cobertura de entrada agrega el nuevo valor `SV_InnerCoverage` al lenguaje de sombreado de alto nivel (HLSL).</span><span class="sxs-lookup"><span data-stu-id="1742c-143">The input coverage adds the new value `SV_InnerCoverage` to High Level Shading Language (HLSL).</span></span> <span data-ttu-id="1742c-144">Se trata de un entero escalar de 32 bits que se puede especificar en la entrada a un sombreador de píxeles y que representa la información de rasterización conservadora subestimada (es decir, si se garantiza que un píxel está totalmente incluido).</span><span class="sxs-lookup"><span data-stu-id="1742c-144">This is a 32-bit scalar integer that can be specified on input to a pixel shader, and represents the underestimated conservative rasterization information (that is, whether a pixel is guaranteed-to-be-fully covered).</span></span>

## <a name="api-summary"></a><span data-ttu-id="1742c-145">API summary</span><span class="sxs-lookup"><span data-stu-id="1742c-145">API summary</span></span>

<span data-ttu-id="1742c-146">Los siguientes métodos, estructuras, enumeraciones y clases auxiliares hacen referencia a la rasterización conservadora:</span><span class="sxs-lookup"><span data-stu-id="1742c-146">The following methods, structures, enums, and helper classes reference conservative rasterization:</span></span>

-   <span data-ttu-id="1742c-147">[**D3D11 \_ RASTERIZAdor \_ DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : estructura que contiene la descripción del rasterizador, anotando la \_ \_ clase auxiliar CD3D12 de rasterizador DESC2 para crear descripciones de rasterizador.</span><span class="sxs-lookup"><span data-stu-id="1742c-147">[**D3D11\_RASTERIZER\_DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : structure holding the rasterizer description, noting the CD3D12\_RASTERIZER\_DESC2 helper class for creating rasterizer descriptions.</span></span>
-   <span data-ttu-id="1742c-148">[**D3D11 \_ \_ \_ Modo de rasterización conservador**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : valores de enumeración para el modo (activado o desactivado).</span><span class="sxs-lookup"><span data-stu-id="1742c-148">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_MODE**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : enum values for the mode (on or off).</span></span>
-   <span data-ttu-id="1742c-149">[**D3D11 \_ \_Data Data \_ D3D11 \_ OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : estructura que contiene el nivel de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="1742c-149">[**D3D11\_FEATURE\_DATA\_D3D11\_OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : structure holding the tier of support.</span></span>
-   <span data-ttu-id="1742c-150">[**D3D11 \_ \_ \_ Nivel de rasterización conservador**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : valores de enumeración para cada nivel de soporte del hardware.</span><span class="sxs-lookup"><span data-stu-id="1742c-150">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_TIER**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : enum values for each tier of support by the hardware.</span></span>
-   <span data-ttu-id="1742c-151">[**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : método para tener acceso a las características admitidas.</span><span class="sxs-lookup"><span data-stu-id="1742c-151">[**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : method to access the supported features.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1742c-152">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="1742c-152">Related topics</span></span>
* [<span data-ttu-id="1742c-153">Características de Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="1742c-153">Direct3D 11.3 Features</span></span>](direct3d-11-3-features.md)