---
description: Las funciones wait permiten que un subproceso bloquee su propia ejecución.
ms.assetid: 9c66c71d-fdfd-42ae-895c-2fc842b5bc7a
title: Funciones de espera
ms.topic: article
ms.date: 06/25/2020
ms.openlocfilehash: f5a21b0d95a316b926fcaad037004edc8c418246
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105668158"
---
# <a name="wait-functions"></a><span data-ttu-id="ef35e-103">Funciones de espera</span><span class="sxs-lookup"><span data-stu-id="ef35e-103">Wait Functions</span></span>

<span data-ttu-id="ef35e-104">*Las funciones wait* permiten que un subproceso bloquee su propia ejecución.</span><span class="sxs-lookup"><span data-stu-id="ef35e-104">*Wait functions* allow a thread to block its own execution.</span></span> <span data-ttu-id="ef35e-105">Las funciones wait no devuelven hasta que se hayan cumplido los criterios especificados.</span><span class="sxs-lookup"><span data-stu-id="ef35e-105">The wait functions do not return until the specified criteria have been met.</span></span> <span data-ttu-id="ef35e-106">El tipo de función de espera determina el conjunto de criterios que se usan.</span><span class="sxs-lookup"><span data-stu-id="ef35e-106">The type of wait function determines the set of criteria used.</span></span> <span data-ttu-id="ef35e-107">Cuando se llama a una función wait, comprueba si se han cumplido los criterios de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-107">When a wait function is called, it checks whether the wait criteria have been met.</span></span> <span data-ttu-id="ef35e-108">Si no se cumplen los criterios, el subproceso que realiza la llamada entra en el estado de espera hasta que se cumplen las condiciones de los criterios de espera o hasta que transcurre el intervalo de tiempo de espera especificado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-108">If the criteria have not been met, the calling thread enters the wait state until the conditions of the wait criteria have been met or the specified time-out interval elapses.</span></span>

-   [<span data-ttu-id="ef35e-109">Funciones de espera de un solo objeto</span><span class="sxs-lookup"><span data-stu-id="ef35e-109">Single-object Wait Functions</span></span>](#single-object-wait-functions)
-   [<span data-ttu-id="ef35e-110">Funciones de espera de varios objetos</span><span class="sxs-lookup"><span data-stu-id="ef35e-110">Multiple-object Wait Functions</span></span>](#multiple-object-wait-functions)
-   [<span data-ttu-id="ef35e-111">Funciones de espera de alertas</span><span class="sxs-lookup"><span data-stu-id="ef35e-111">Alertable Wait Functions</span></span>](#alertable-wait-functions)
-   [<span data-ttu-id="ef35e-112">Funciones de espera registradas</span><span class="sxs-lookup"><span data-stu-id="ef35e-112">Registered Wait Functions</span></span>](#registered-wait-functions)
-   [<span data-ttu-id="ef35e-113">Esperar en una dirección</span><span class="sxs-lookup"><span data-stu-id="ef35e-113">Waiting on an Address</span></span>](#waiting-on-an-address)
-   [<span data-ttu-id="ef35e-114">Funciones de espera y intervalos de tiempo de espera</span><span class="sxs-lookup"><span data-stu-id="ef35e-114">Wait Functions and Time-out Intervals</span></span>](#wait-functions-and-time-out-intervals)
-   [<span data-ttu-id="ef35e-115">Funciones de espera y objetos de sincronización</span><span class="sxs-lookup"><span data-stu-id="ef35e-115">Wait Functions and Synchronization Objects</span></span>](#wait-functions-and-synchronization-objects)
-   [<span data-ttu-id="ef35e-116">Funciones de espera y creación de ventanas</span><span class="sxs-lookup"><span data-stu-id="ef35e-116">Wait Functions and Creating Windows</span></span>](#wait-functions-and-creating-windows)

## <a name="single-object-wait-functions"></a><span data-ttu-id="ef35e-117">Funciones de espera de un solo objeto</span><span class="sxs-lookup"><span data-stu-id="ef35e-117">Single-object Wait Functions</span></span>

<span data-ttu-id="ef35e-118">Las funciones [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait), [**WaitForSingleObject**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobject)y [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) requieren un identificador a un objeto de sincronización.</span><span class="sxs-lookup"><span data-stu-id="ef35e-118">The [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait), [**WaitForSingleObject**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobject), and [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) functions require a handle to one synchronization object.</span></span> <span data-ttu-id="ef35e-119">Estas funciones devuelven cuando se produce uno de los siguientes casos:</span><span class="sxs-lookup"><span data-stu-id="ef35e-119">These functions return when one of the following occurs:</span></span>

-   <span data-ttu-id="ef35e-120">El objeto especificado se encuentra en el estado señalado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-120">The specified object is in the signaled state.</span></span>
-   <span data-ttu-id="ef35e-121">Transcurre el intervalo de tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-121">The time-out interval elapses.</span></span> <span data-ttu-id="ef35e-122">El intervalo de tiempo de espera se puede establecer en **infinito** para especificar que la espera no agotará el tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-122">The time-out interval can be set to **INFINITE** to specify that the wait will not time out.</span></span>

<span data-ttu-id="ef35e-123">La función [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait) permite al subproceso que realiza la llamada establecer atómicamente el estado de un objeto en señalizado y esperar a que el estado de otro objeto se establezca en señalado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-123">The [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait) function enables the calling thread to atomically set the state of an object to signaled and wait for the state of another object to be set to signaled.</span></span>

## <a name="multiple-object-wait-functions"></a><span data-ttu-id="ef35e-124">Funciones de espera de varios objetos</span><span class="sxs-lookup"><span data-stu-id="ef35e-124">Multiple-object Wait Functions</span></span>

<span data-ttu-id="ef35e-125">Las funciones [**WaitForMultipleObjects**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjects), [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex), [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects)y [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) permiten que el subproceso que realiza la llamada especifique una matriz que contenga uno o varios identificadores de objetos de sincronización.</span><span class="sxs-lookup"><span data-stu-id="ef35e-125">The [**WaitForMultipleObjects**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjects), [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex), [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects), and [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) functions enable the calling thread to specify an array containing one or more synchronization object handles.</span></span> <span data-ttu-id="ef35e-126">Estas funciones devuelven cuando se produce uno de los siguientes casos:</span><span class="sxs-lookup"><span data-stu-id="ef35e-126">These functions return when one of the following occurs:</span></span>

-   <span data-ttu-id="ef35e-127">El estado de cualquiera de los objetos especificados se establece en señalado o los Estados de todos los objetos se han establecido en señalizado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-127">The state of any one of the specified objects is set to signaled or the states of all objects have been set to signaled.</span></span> <span data-ttu-id="ef35e-128">Puede controlar si se usará uno o todos los Estados en la llamada de función.</span><span class="sxs-lookup"><span data-stu-id="ef35e-128">You control whether one or all of the states will be used in the function call.</span></span>
-   <span data-ttu-id="ef35e-129">Transcurre el intervalo de tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-129">The time-out interval elapses.</span></span> <span data-ttu-id="ef35e-130">El intervalo de tiempo de espera se puede establecer en **infinito** para especificar que la espera no agotará el tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-130">The time-out interval can be set to **INFINITE** to specify that the wait will not time out.</span></span>

<span data-ttu-id="ef35e-131">La función [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) y [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) permite especificar objetos de eventos de entrada en la matriz de identificadores de objetos.</span><span class="sxs-lookup"><span data-stu-id="ef35e-131">The [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) and [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) function allow you to specify input event objects in the object handle array.</span></span> <span data-ttu-id="ef35e-132">Esto se hace cuando se especifica el tipo de entrada que se va a esperar en la cola de entrada del subproceso.</span><span class="sxs-lookup"><span data-stu-id="ef35e-132">This is done when you specify the type of input to wait for in the thread's input queue.</span></span> <span data-ttu-id="ef35e-133">Por ejemplo, un subproceso podría usar **MsgWaitForMultipleObjects** para bloquear su ejecución hasta que el estado de un objeto especificado se haya establecido en señalado y haya una entrada del mouse disponible en la cola de entrada del subproceso.</span><span class="sxs-lookup"><span data-stu-id="ef35e-133">For example, a thread could use **MsgWaitForMultipleObjects** to block its execution until the state of a specified object has been set to signaled and there is mouse input available in the thread's input queue.</span></span> <span data-ttu-id="ef35e-134">El subproceso puede usar la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessageA**](/windows/win32/api/winuser/nf-winuser-peekmessagea) o [**PeekMessageW**](/windows/win32/api/winuser/nf-winuser-peekmessagew) para recuperar la entrada.</span><span class="sxs-lookup"><span data-stu-id="ef35e-134">The thread can use the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessageA**](/windows/win32/api/winuser/nf-winuser-peekmessagea) or [**PeekMessageW**](/windows/win32/api/winuser/nf-winuser-peekmessagew) function to retrieve the input.</span></span>

<span data-ttu-id="ef35e-135">Cuando se espera a que los Estados de todos los objetos se establezcan en señalizado, estas funciones de varios objetos no modifican los Estados de los objetos especificados hasta que se señalan los Estados de todos los objetos.</span><span class="sxs-lookup"><span data-stu-id="ef35e-135">When waiting for the states of all objects to be set to signaled, these multiple-object functions do not modify the states of the specified objects until the states of all objects have been set signaled.</span></span> <span data-ttu-id="ef35e-136">Por ejemplo, se puede señalizar el estado de un objeto mutex, pero el subproceso que realiza la llamada no obtiene la propiedad hasta que los Estados de los demás objetos especificados en la matriz también se hayan establecido en señalizado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-136">For example, the state of a mutex object can be signaled, but the calling thread does not get ownership until the states of the other objects specified in the array have also been set to signaled.</span></span> <span data-ttu-id="ef35e-137">Mientras tanto, otro subproceso puede obtener la propiedad del objeto mutex, con lo que se establece su estado en no señalado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-137">In the meantime, some other thread may get ownership of the mutex object, thereby setting its state to nonsignaled.</span></span>

<span data-ttu-id="ef35e-138">Cuando se espera a que el estado de un solo objeto se establezca en señalizado, estas funciones de varios objetos comprueban los identificadores de la matriz en orden a partir del índice 0 hasta que uno de los objetos está señalado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-138">When waiting for the state of a single object to be set to signaled, these multiple-object functions check the handles in the array in order starting with index 0, until one of the objects is signaled.</span></span> <span data-ttu-id="ef35e-139">Si se señalizan varios objetos, la función devuelve el índice del primer identificador de la matriz cuyo objeto se señaló.</span><span class="sxs-lookup"><span data-stu-id="ef35e-139">If multiple objects become signaled, the function returns the index of the first handle in the array whose object was signaled.</span></span>

## <a name="alertable-wait-functions"></a><span data-ttu-id="ef35e-140">Funciones de espera de alertas</span><span class="sxs-lookup"><span data-stu-id="ef35e-140">Alertable Wait Functions</span></span>

<span data-ttu-id="ef35e-141">Las funciones [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex), [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait), [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex)y [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) se diferencian de las demás funciones Wait en que pueden realizar opcionalmente una *operación de espera de alerta*.</span><span class="sxs-lookup"><span data-stu-id="ef35e-141">The [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex), [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait), [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex), and [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) functions differ from the other wait functions in that they can optionally perform an *alertable wait operation*.</span></span> <span data-ttu-id="ef35e-142">En una operación de espera de alerta, la función puede devolver cuando se cumplen las condiciones especificadas, pero también puede devolver si el sistema pone en cola una rutina de finalización de e/s o una APC para su ejecución por el subproceso en espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-142">In an alertable wait operation, the function can return when the specified conditions are met, but it can also return if the system queues an I/O completion routine or an APC for execution by the waiting thread.</span></span> <span data-ttu-id="ef35e-143">Para obtener más información sobre las operaciones de espera que se pueden notificar y las rutinas de finalización de e/s, vea [sincronización y entrada y salida superpuestas](synchronization-and-overlapped-input-and-output.md).</span><span class="sxs-lookup"><span data-stu-id="ef35e-143">For more information about alertable wait operations and I/O completion routines, see [Synchronization and Overlapped Input and Output](synchronization-and-overlapped-input-and-output.md).</span></span> <span data-ttu-id="ef35e-144">Para obtener más información sobre APC, vea [llamadas a procedimientos asincrónicos](asynchronous-procedure-calls.md).</span><span class="sxs-lookup"><span data-stu-id="ef35e-144">For more information about APCs, see [Asynchronous Procedure Calls](asynchronous-procedure-calls.md).</span></span>

## <a name="registered-wait-functions"></a><span data-ttu-id="ef35e-145">Funciones de espera registradas</span><span class="sxs-lookup"><span data-stu-id="ef35e-145">Registered Wait Functions</span></span>

<span data-ttu-id="ef35e-146">La función [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) difiere de las demás funciones Wait en que un subproceso del [grupo de subprocesos](../procthread/thread-pooling.md)realiza la operación de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-146">The [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) function differs from the other wait functions in that the wait operation is performed by a thread from the [thread pool](../procthread/thread-pooling.md).</span></span> <span data-ttu-id="ef35e-147">Cuando se cumplen las condiciones especificadas, un subproceso de trabajo ejecuta la función de devolución de llamada desde el grupo de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="ef35e-147">When the specified conditions are met, the callback function is executed by a worker thread from the thread pool.</span></span>

<span data-ttu-id="ef35e-148">De forma predeterminada, una operación de espera registrada es una operación de múltiples esperas.</span><span class="sxs-lookup"><span data-stu-id="ef35e-148">By default, a registered wait operation is a multiple-wait operation.</span></span> <span data-ttu-id="ef35e-149">El sistema restablece el temporizador cada vez que se señala el evento (o transcurre el intervalo de tiempo de espera) hasta que se llama a la función [**UnregisterWaitEx**](unregisterwaitex.md) para cancelar la operación.</span><span class="sxs-lookup"><span data-stu-id="ef35e-149">The system resets the timer every time the event is signaled (or the time-out interval elapses) until you call the [**UnregisterWaitEx**](unregisterwaitex.md) function to cancel the operation.</span></span> <span data-ttu-id="ef35e-150">Para especificar que una operación de espera se debe ejecutar una sola vez, establezca el parámetro *dwFlags* de [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) en **WT \_ EXECUTEONLYONCE**.</span><span class="sxs-lookup"><span data-stu-id="ef35e-150">To specify that a wait operation should be executed only once, set the *dwFlags* parameter of [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) to **WT\_EXECUTEONLYONCE**.</span></span>

<span data-ttu-id="ef35e-151">Si el subproceso llama a las funciones que utilizan APC, establezca el parámetro *dwFlags* de [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) en **WT \_ EXECUTEINPERSISTENTTHREAD**.</span><span class="sxs-lookup"><span data-stu-id="ef35e-151">If the thread calls functions that use APCs, set the *dwFlags* parameter of [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) to **WT\_EXECUTEINPERSISTENTTHREAD**.</span></span>

## <a name="waiting-on-an-address"></a><span data-ttu-id="ef35e-152">Esperar en una dirección</span><span class="sxs-lookup"><span data-stu-id="ef35e-152">Waiting on an Address</span></span>

<span data-ttu-id="ef35e-153">Un subproceso puede usar la función [**WaitOnAddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) para esperar a que el valor de una dirección de destino cambie de algún valor no deseado a cualquier otro valor.</span><span class="sxs-lookup"><span data-stu-id="ef35e-153">A thread can use the [**WaitOnAddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) function to wait for the value of a target address to change from some undesired value to any other value.</span></span> <span data-ttu-id="ef35e-154">Esto permite a los subprocesos esperar a que un valor cambie sin tener que girar o controlar los problemas de sincronización que pueden surgir cuando el subproceso captura un valor no deseado, pero el valor cambia antes de que el subproceso pueda esperar.</span><span class="sxs-lookup"><span data-stu-id="ef35e-154">This enables threads to wait for a value to change without having to spin or handle the synchronization problems that can arise when the thread captures an undesired value but the value changes before the thread can wait.</span></span>

<span data-ttu-id="ef35e-155">[**WaitOnAddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) devuelve cuando el código que modifica el valor de destino indica el cambio llamando a [**WakeByAddressSingle**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddresssingle) para reactivar un solo subproceso en espera o [**WakeByAddressAll**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddressall) para reactivar todos los subprocesos en espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-155">[**WaitOnAddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) returns when code that modifies the target value signals the change by calling [**WakeByAddressSingle**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddresssingle) to wake a single waiting thread or [**WakeByAddressAll**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddressall) to wake all waiting threads.</span></span> <span data-ttu-id="ef35e-156">Si se especifica un intervalo de tiempo de espera con **WaitOnAddress** y ningún subproceso llama a una función de reactivación, la función devuelve cuando transcurre el intervalo de tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-156">If a time-out interval is specified with **WaitOnAddress** and no thread calls a wake function, the function returns when the time-out interval elapses.</span></span> <span data-ttu-id="ef35e-157">Si no se especifica ningún intervalo de tiempo de espera, el subproceso espera indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="ef35e-157">If no time-out interval is specified, the thread waits indefinitely.</span></span>

## <a name="wait-functions-and-time-out-intervals"></a><span data-ttu-id="ef35e-158">Funciones de espera y intervalos de tiempo de espera</span><span class="sxs-lookup"><span data-stu-id="ef35e-158">Wait Functions and Time-out Intervals</span></span>

<span data-ttu-id="ef35e-159">La precisión del intervalo de tiempo de espera especificado depende de la resolución del reloj del sistema.</span><span class="sxs-lookup"><span data-stu-id="ef35e-159">The accuracy of the specified time-out interval depends on the resolution of the system clock.</span></span> <span data-ttu-id="ef35e-160">El reloj del sistema "TICs" a una velocidad constante.</span><span class="sxs-lookup"><span data-stu-id="ef35e-160">The system clock "ticks" at a constant rate.</span></span> <span data-ttu-id="ef35e-161">Si el intervalo de tiempo de espera es menor que la resolución del reloj del sistema, la espera puede agotar el tiempo de espera en menos de la cantidad de tiempo especificada.</span><span class="sxs-lookup"><span data-stu-id="ef35e-161">If the time-out interval is less than the resolution of the system clock, the wait may time out in less than the specified length of time.</span></span> <span data-ttu-id="ef35e-162">Si el intervalo de tiempo de espera es mayor que un TIC pero menor que dos, la espera puede estar entre uno y dos TICs, etc.</span><span class="sxs-lookup"><span data-stu-id="ef35e-162">If the time-out interval is greater than one tick but less than two, the wait can be anywhere between one and two ticks, and so on.</span></span>

<span data-ttu-id="ef35e-163">Para aumentar la precisión del intervalo de tiempo de espera de las funciones de espera, llame a la función **timeGetDevCaps** para determinar la resolución de temporizador mínima admitida y la función **timeBeginPeriod** para establecer la resolución del temporizador en el mínimo.</span><span class="sxs-lookup"><span data-stu-id="ef35e-163">To increase the accuracy of the time-out interval for the wait functions, call the **timeGetDevCaps** function to determine the supported minimum timer resolution and the **timeBeginPeriod** function to set the timer resolution to its minimum.</span></span> <span data-ttu-id="ef35e-164">Tenga cuidado al llamar a **timeBeginPeriod**, ya que las llamadas frecuentes pueden afectar significativamente al reloj del sistema, al uso de energía del sistema y al programador.</span><span class="sxs-lookup"><span data-stu-id="ef35e-164">Use caution when calling **timeBeginPeriod**, as frequent calls can significantly affect the system clock, system power usage, and the scheduler.</span></span> <span data-ttu-id="ef35e-165">Si llama a **timeBeginPeriod**, llámelo una vez al principio de la aplicación y asegúrese de llamar a la función **timeEndPeriod** al final de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ef35e-165">If you call **timeBeginPeriod**, call it one time early in the application and be sure to call the **timeEndPeriod** function at the very end of the application.</span></span>

## <a name="wait-functions-and-synchronization-objects"></a><span data-ttu-id="ef35e-166">Funciones de espera y objetos de sincronización</span><span class="sxs-lookup"><span data-stu-id="ef35e-166">Wait Functions and Synchronization Objects</span></span>

<span data-ttu-id="ef35e-167">Las funciones de espera pueden modificar los Estados de algunos tipos de [objetos de sincronización](synchronization-objects.md).</span><span class="sxs-lookup"><span data-stu-id="ef35e-167">The wait functions can modify the states of some types of [synchronization objects](synchronization-objects.md).</span></span> <span data-ttu-id="ef35e-168">La modificación solo se produce para el objeto o los objetos cuyo estado señalado hizo que la función devuelva.</span><span class="sxs-lookup"><span data-stu-id="ef35e-168">Modification occurs only for the object or objects whose signaled state caused the function to return.</span></span> <span data-ttu-id="ef35e-169">Las funciones de espera pueden modificar los Estados de los objetos de sincronización de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="ef35e-169">Wait functions can modify the states of synchronization objects as follows:</span></span>

-   <span data-ttu-id="ef35e-170">El recuento de un objeto de semáforo disminuye en uno, y el estado del semáforo se establece en no señalado si su recuento es cero.</span><span class="sxs-lookup"><span data-stu-id="ef35e-170">The count of a semaphore object decreases by one, and the state of the semaphore is set to nonsignaled if its count is zero.</span></span>
-   <span data-ttu-id="ef35e-171">Los Estados de los objetos de exclusión mutua, evento de restablecimiento automático y notificación de cambios se establecen en no señalizado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-171">The states of mutex, auto-reset event, and change-notification objects are set to nonsignaled.</span></span>
-   <span data-ttu-id="ef35e-172">El estado de un temporizador de sincronización se establece en no señalado.</span><span class="sxs-lookup"><span data-stu-id="ef35e-172">The state of a synchronization timer is set to nonsignaled.</span></span>
-   <span data-ttu-id="ef35e-173">Los Estados de eventos de restablecimiento manual, temporizador de restablecimiento manual, proceso, subproceso y objetos de entrada de consola no se ven afectados por una función de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-173">The states of manual-reset event, manual-reset timer, process, thread, and console input objects are not affected by a wait function.</span></span>

## <a name="wait-functions-and-creating-windows"></a><span data-ttu-id="ef35e-174">Funciones de espera y creación de ventanas</span><span class="sxs-lookup"><span data-stu-id="ef35e-174">Wait Functions and Creating Windows</span></span>

<span data-ttu-id="ef35e-175">Debe tener cuidado al usar las funciones de espera y el código que crea de forma directa o indirecta Windows.</span><span class="sxs-lookup"><span data-stu-id="ef35e-175">You have to be careful when using the wait functions and code that directly or indirectly creates windows.</span></span> <span data-ttu-id="ef35e-176">Si un subproceso crea cualquier ventana, debe procesar los mensajes.</span><span class="sxs-lookup"><span data-stu-id="ef35e-176">If a thread creates any windows, it must process messages.</span></span> <span data-ttu-id="ef35e-177">Las difusiones de mensajes se envían a todas las ventanas del sistema.</span><span class="sxs-lookup"><span data-stu-id="ef35e-177">Message broadcasts are sent to all windows in the system.</span></span> <span data-ttu-id="ef35e-178">Si tiene un subproceso que usa una función wait sin ningún intervalo de tiempo de espera, el sistema creará un interbloqueo.</span><span class="sxs-lookup"><span data-stu-id="ef35e-178">If you have a thread that uses a wait function with no time-out interval, the system will deadlock.</span></span> <span data-ttu-id="ef35e-179">Dos ejemplos de código que crea indirectamente ventanas son DDE y la función **CoInitialize** .</span><span class="sxs-lookup"><span data-stu-id="ef35e-179">Two examples of code that indirectly creates windows are DDE and the **CoInitialize** function.</span></span> <span data-ttu-id="ef35e-180">Por consiguiente, si tiene un subproceso que crea ventanas, use [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) o [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex), en lugar de otras funciones de espera.</span><span class="sxs-lookup"><span data-stu-id="ef35e-180">Therefore, if you have a thread that creates windows, use [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) or [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex), rather than the other wait functions.</span></span>

 

 
