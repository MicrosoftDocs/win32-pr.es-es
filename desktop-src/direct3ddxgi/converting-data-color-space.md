---
description: Para componer en la pantalla o realizar operaciones de punto flotante, debe trabajar en el espacio de color correcto.
ms.assetid: 1DD8E2D3-430F-4EE4-9C41-78736C904920
title: Conversión de datos para el espacio de colores
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 91b5dbec2f826c40d5274cbddb3b54d1cdd9f695
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "103805600"
---
# <a name="converting-data-for-the-color-space"></a><span data-ttu-id="24113-103">Conversión de datos para el espacio de colores</span><span class="sxs-lookup"><span data-stu-id="24113-103">Converting data for the color space</span></span>

<span data-ttu-id="24113-104">Para componer en la pantalla o realizar operaciones de punto flotante, debe trabajar en el espacio de color correcto.</span><span class="sxs-lookup"><span data-stu-id="24113-104">To compose to the screen or perform floating-point operations, you need to work in the correct color space.</span></span> <span data-ttu-id="24113-105">Se recomienda realizar operaciones de punto flotante en un espacio de colores lineal.</span><span class="sxs-lookup"><span data-stu-id="24113-105">We recommend that you perform floating point operations in a linear color space.</span></span> <span data-ttu-id="24113-106">A continuación, para presentar las imágenes en la pantalla, convierta los datos en un espacio de colores de datos RGB estándar (sRGB, gamma 2,2-corregido).</span><span class="sxs-lookup"><span data-stu-id="24113-106">Then, to present your images to the screen, convert the data to standard RGB data (sRGB, gamma 2.2-corrected) color space.</span></span> <span data-ttu-id="24113-107">La presentación en la pantalla en el espacio de color sRGB es importante para la precisión del color.</span><span class="sxs-lookup"><span data-stu-id="24113-107">Presenting to the screen in sRGB color space is important for color accuracy.</span></span> <span data-ttu-id="24113-108">Si las imágenes no tienen una corrección de gamma 2,2, asignan demasiados bits o demasiado ancho de banda para resaltar que las personas no pueden diferenciar, y demasiado pocos bits o ancho de banda para prevalecer sobre los valores a los que los usuarios son confidenciales, por lo que necesitaría más bits o ancho de banda para mantener la misma calidad visual.</span><span class="sxs-lookup"><span data-stu-id="24113-108">If images are not gamma 2.2-corrected, they allocate too many bits or too much bandwidth to highlights that people can't differentiate, and too few bits or bandwidth to shadow values that people are sensitive to, and so would require more bits or bandwidth to maintain the same visual quality.</span></span> <span data-ttu-id="24113-109">Por lo tanto, para garantizar la mejor precisión del color, presente imágenes en la pantalla que sean gamma 2,2-corregido.</span><span class="sxs-lookup"><span data-stu-id="24113-109">Therefore, to ensure the best color accuracy, present images to the screen that are gamma 2.2-corrected.</span></span>

-   [<span data-ttu-id="24113-110">Precisión del color</span><span class="sxs-lookup"><span data-stu-id="24113-110">Color accuracy</span></span>](#color-accuracy)
-   [<span data-ttu-id="24113-111">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="24113-111">Related topics</span></span>](#related-topics)

## <a name="color-accuracy"></a><span data-ttu-id="24113-112">Precisión del color</span><span class="sxs-lookup"><span data-stu-id="24113-112">Color accuracy</span></span>

<span data-ttu-id="24113-113">En cuanto a presentación, los formatos de presentación con valores enteros (como el [**formato de dxgi \_ \_ B8G8R8A8 \_ UNORM \_ sRGB**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format), el [**\_ formato dxgi \_ R10G10B10 \_ XR \_ \_ \_**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format), y así sucesivamente) siempre contienen datos con corrección gamma.</span><span class="sxs-lookup"><span data-stu-id="24113-113">For presentation, integer-valued display formats (such as [**DXGI\_FORMAT\_B8G8R8A8\_UNORM\_SRGB**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format), [**DXGI\_FORMAT\_R10G10B10\_XR\_BIAS\_A2\_UNORM**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format), and so on) always contain sRGB gamma-corrected data.</span></span> <span data-ttu-id="24113-114">Los formatos de visualización con valores de punto flotante (actualmente solo el [**formato de DXGI \_ \_ R16G16B16A16 \_ float**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format)) contienen datos con valores lineales.</span><span class="sxs-lookup"><span data-stu-id="24113-114">Float-valued display formats (currently only [**DXGI\_FORMAT\_R16G16B16A16\_FLOAT**](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format)) contain linear-valued data.</span></span>

<span data-ttu-id="24113-115">El \_ [modificador de formato](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) sRGB indica al sistema operativo que ayude a la aplicación a colocar datos sRGB en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="24113-115">The \_SRGB [format modifier](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) indicates to the operating system to help the app place sRGB data on the screen.</span></span> <span data-ttu-id="24113-116">La aplicación debe colocar siempre los datos sRGB en búferes de reserva con formatos con valores enteros para presentar los datos sRGB en la pantalla, aunque los datos no tengan este modificador de formato en el nombre de formato.</span><span class="sxs-lookup"><span data-stu-id="24113-116">The app must always place sRGB data into back buffers with integer-valued formats to present the sRGB data to the screen, even if the data doesn't have this format modifier in its format name.</span></span> <span data-ttu-id="24113-117">Para obtener una lista completa de los formatos de análisis de la presentación:</span><span class="sxs-lookup"><span data-stu-id="24113-117">For a complete list of display scan-out formats:</span></span>

-   [<span data-ttu-id="24113-118">Compatibilidad con el formato de DXGI para el hardware de nivel de característica de Direct3D 12,1</span><span class="sxs-lookup"><span data-stu-id="24113-118">DXGI Format Support for Direct3D Feature Level 12.1 Hardware</span></span>](hardware-support-for-direct3d-12-1-formats.md)
-   [<span data-ttu-id="24113-119">Compatibilidad con el formato de DXGI para el hardware de nivel de característica de Direct3D 12,0</span><span class="sxs-lookup"><span data-stu-id="24113-119">DXGI Format Support for Direct3D Feature Level 12.0 Hardware</span></span>](hardware-support-for-direct3d-12-0-formats.md)
-   [<span data-ttu-id="24113-120">Compatibilidad con el formato de DXGI para el hardware de nivel de característica de Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="24113-120">DXGI Format Support for Direct3D Feature Level 11.1 Hardware</span></span>](format-support-for-direct3d-11-1-feature-level-hardware.md)
-   [<span data-ttu-id="24113-121">Compatibilidad con el formato de DXGI para el hardware de nivel de característica de Direct3D 11,0</span><span class="sxs-lookup"><span data-stu-id="24113-121">DXGI Format Support for Direct3D Feature Level 11.0 Hardware</span></span>](format-support-for-direct3d-11-0-feature-level-hardware.md)
-   <span data-ttu-id="24113-122">[Compatibilidad de hardware con formatos 10Level9 de Direct3D](/previous-versions//ff471324(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="24113-122">[Hardware Support for Direct3D 10Level9 Formats](/previous-versions//ff471324(v=vs.85))</span></span>
-   <span data-ttu-id="24113-123">[Compatibilidad de hardware con formatos de Direct3D 10,1](/previous-versions//cc627091(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="24113-123">[Hardware Support for Direct3D 10.1 Formats](/previous-versions//cc627091(v=vs.85))</span></span>
-   <span data-ttu-id="24113-124">[Compatibilidad de hardware con formatos de Direct3D 10](/previous-versions//cc627090(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="24113-124">[Hardware Support for Direct3D 10 Formats](/previous-versions//cc627090(v=vs.85))</span></span>

<span data-ttu-id="24113-125">Al escribir valores de salida de punto flotante desde el sombreador de píxeles en vistas de destino de representación (**RenderTargetView** s) con el \_ [modificador de formato](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) sRGB que está enlazado a la [canalización](/windows/desktop/direct3d11/overviews-direct3d-11-graphics-pipeline), los convierte en el espacio de colores de gamma 2,2.</span><span class="sxs-lookup"><span data-stu-id="24113-125">When you write floating-point output values from the pixel shader into render-target views (**RenderTargetView** s) with the \_SRGB [format modifier](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) that are bound to the [pipeline](/windows/desktop/direct3d11/overviews-direct3d-11-graphics-pipeline), you convert them to gamma 2.2-corrected color space.</span></span> <span data-ttu-id="24113-126">Del mismo modo, cuando las vistas de recursos del sombreador (**ShaderResourceView** s) con el \_ modificador de formato sRGB están enlazadas a la canalización, los valores se convierten de un espacio de colores de gamma 2,2 a un espacio de colores lineal cuando se leen desde **ShaderResourceView** s.</span><span class="sxs-lookup"><span data-stu-id="24113-126">Similarly, when shader-resource views (**ShaderResourceView** s) with the \_SRGB format modifier are bound to the pipeline, you convert the values from gamma 2.2-corrected color space to linear color space when you read them from the **ShaderResourceView** s.</span></span> <span data-ttu-id="24113-127">A continuación, el sombreador puede realizar operaciones en ellos.</span><span class="sxs-lookup"><span data-stu-id="24113-127">The shader can then perform operations on them.</span></span>

<span data-ttu-id="24113-128">Por ejemplo, use código similar a este para escribir valores de salida de punto flotante de un sombreador en un formato **RenderTargetView** :</span><span class="sxs-lookup"><span data-stu-id="24113-128">For example, use code similar to this to write floating-point output values from a shader into a **RenderTargetView** format:</span></span>


```
struct PSOut
{
    float4 color : SV_Target;
};

PSOut S( PSIn input )
{
    PSOut output;
    output.color = float4( 1.0, 0.0, 0.0, 1.0 );
    return output;
}
```



<span data-ttu-id="24113-129">Cuando se devuelve la rutina ' de ', los valores de punto flotante (1, 0, 0, 1) se convierten al formato **RenderTargetView** .</span><span class="sxs-lookup"><span data-stu-id="24113-129">When the 'S' routine returns, the floating point (1, 0, 0, 1) values are converted to the **RenderTargetView** format.</span></span> <span data-ttu-id="24113-130">Después, si asigna el \_ [modificador de formato](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) sRGB a **RenderTargetView**, se produce la conversión gamma.</span><span class="sxs-lookup"><span data-stu-id="24113-130">Then, if you assign the \_SRGB [format modifier](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) to the **RenderTargetView**, the gamma conversion occurs.</span></span>

<span data-ttu-id="24113-131">Estos son los pasos que se deben seguir para asegurarse de que el contenido que se muestra en la pantalla tiene la mejor precisión del color.</span><span class="sxs-lookup"><span data-stu-id="24113-131">These are steps to follow to ensure that the content that is displayed on the screen has the best color accuracy.</span></span>

<span data-ttu-id="24113-132">**Para garantizar la precisión del color de la canalización**</span><span class="sxs-lookup"><span data-stu-id="24113-132">**To ensure color accuracy in the pipeline**</span></span>

1.  <span data-ttu-id="24113-133">Si una textura tiene contenido sRGB, asegúrese de que el **ShaderResourceView** tenga el \_ [modificador de formato](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) sRGB, de modo que cuando lea desde el **ShaderResourceView** en el sombreador, convierta el contenido de la textura del espacio de colores gamma 2,2-corregido al espacio de colores lineal.</span><span class="sxs-lookup"><span data-stu-id="24113-133">If a texture has sRGB content, ensure the **ShaderResourceView** has the \_SRGB [format modifier](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) so when you read from the **ShaderResourceView** into the shader, you convert the texture content from gamma 2.2-corrected color space to linear color space.</span></span>
2.  <span data-ttu-id="24113-134">Asegúrese de que **RenderTargetView** tenga también \_ el [modificador de formato](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) sRGB para que los valores de salida del sombreador se conviertan en gamma.</span><span class="sxs-lookup"><span data-stu-id="24113-134">Ensure the **RenderTargetView** also has the \_SRGB [format modifier](/windows/desktop/api/dxgiformat/ne-dxgiformat-dxgi_format) so the shader output values are gamma converted.</span></span>

<span data-ttu-id="24113-135">Si sigue los pasos anteriores, al llamar al método [**IDXGISwapChain1::P resent1**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) , el contenido que se muestra en la pantalla tiene la mejor precisión del color.</span><span class="sxs-lookup"><span data-stu-id="24113-135">If you follow the preceding steps, when you call the [**IDXGISwapChain1::Present1**](/windows/desktop/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) method, the content that is displayed on the screen has the best color accuracy.</span></span>

<span data-ttu-id="24113-136">Puede usar el método [**ID3D11Device:: CreateRenderTargetView**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-createrendertargetview) para crear vistas **\_ \_ \* \_ sRGB con formato de dxgi** en búferes de reserva desde una cadena de intercambio que solo se crea con un formato de formato de **dxgi \_ \_ \* \_ UNORM** .</span><span class="sxs-lookup"><span data-stu-id="24113-136">You can use the [**ID3D11Device::CreateRenderTargetView**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-createrendertargetview) method to create **DXGI\_FORMAT\_\*\_SRGB** views on back buffers from a swap chain that you create only with a **DXGI\_FORMAT\_\*\_UNORM** format.</span></span> <span data-ttu-id="24113-137">Esta es una excepción especial a la regla para crear vistas de representación y destino, que indica que puede usar un formato diferente con **ID3D11Device:: CreateRenderTargetView** solo si ha creado el recurso que desea ver con el **formato de DXGI sin \_ \_ \* \_ tipo**.</span><span class="sxs-lookup"><span data-stu-id="24113-137">This is a special exception to the rule for creating render-target views, which states that you can use a different format with **ID3D11Device::CreateRenderTargetView** only if you created the resource that you want to view with **DXGI\_FORMAT\_\*\_TYPELESS**.</span></span>

<span data-ttu-id="24113-138">Para obtener más información sobre las reglas de conversión de datos, vea [reglas de conversión de datos](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-data-conversion).</span><span class="sxs-lookup"><span data-stu-id="24113-138">For more info about rules for converting data, see [Data Conversion Rules](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-resources-data-conversion).</span></span>

<span data-ttu-id="24113-139">Para obtener información sobre cómo leer y escribir simultáneamente en una textura, consulte [desempaquetar y empaquetar el \_ formato de DXGI para la edición de In-Place imagen](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-unpacking-packing-dxgi-format).</span><span class="sxs-lookup"><span data-stu-id="24113-139">For info about how to simultaneously both read from and write to a texture, see [Unpacking and Packing DXGI\_FORMAT for In-Place Image Editing](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-unpacking-packing-dxgi-format).</span></span>

## <a name="related-topics"></a><span data-ttu-id="24113-140">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="24113-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="24113-141">Mejorar la presentación con el modelo de volteo, los rectángulos modificados y las áreas desplazadas</span><span class="sxs-lookup"><span data-stu-id="24113-141">Enhancing presentation with the flip model, dirty rectangles, and scrolled areas</span></span>](dxgi-1-2-presentation-improvements.md)
</dt> </dl>

 

 
