---
title: Cómo se establecen los descriptores de seguridad en los nuevos objetos de directorio
description: Al crear un nuevo objeto en Active Directory Domain Services, puede crear explícitamente un descriptor de seguridad y, a continuación, establecer ese descriptor de seguridad como la propiedad nTSecurityDescriptor del objeto.
ms.assetid: 07c367f8-cb5a-49ef-8e13-d31673c2ceee
ms.tgt_platform: multiple
keywords:
- objetos AD, cómo se establecen los descriptores de seguridad en los nuevos objetos de directorio
- descriptores de seguridad AD, cómo establecer en nuevos objetos de directorio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7858d08944e93165b4a1a63ef7d845ee646dc648
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2020
ms.locfileid: "104487431"
---
# <a name="how-security-descriptors-are-set-on-new-directory-objects"></a><span data-ttu-id="c0a94-105">Cómo se establecen los descriptores de seguridad en los nuevos objetos de directorio</span><span class="sxs-lookup"><span data-stu-id="c0a94-105">How Security Descriptors are Set on New Directory Objects</span></span>

<span data-ttu-id="c0a94-106">Al crear un nuevo objeto en Active Directory Domain Services, puede crear explícitamente un descriptor de seguridad y, a continuación, establecer ese descriptor de seguridad como la propiedad **nTSecurityDescriptor** del objeto.</span><span class="sxs-lookup"><span data-stu-id="c0a94-106">When you create a new object in Active Directory Domain Services, you can explicitly create a security descriptor and then set that security descriptor as the object's **nTSecurityDescriptor** property.</span></span> <span data-ttu-id="c0a94-107">Para obtener más información, vea [crear un descriptor de seguridad para un nuevo objeto de directorio](creating-a-security-descriptor-for-a-new-directory-object.md).</span><span class="sxs-lookup"><span data-stu-id="c0a94-107">For more information, see [Creating a Security Descriptor for a New Directory Object](creating-a-security-descriptor-for-a-new-directory-object.md).</span></span>

<span data-ttu-id="c0a94-108">Active Directory Domain Services usar las siguientes reglas para establecer la DACL en el descriptor de seguridad del nuevo objeto:</span><span class="sxs-lookup"><span data-stu-id="c0a94-108">Active Directory Domain Services use the following rules to set the DACL in the new object's security descriptor:</span></span>

-   <span data-ttu-id="c0a94-109">Si especifica explícitamente un descriptor de seguridad al crear el objeto, el sistema combina las ACE heredables del objeto primario en la DACL especificada, a menos que el bit **\_ \_ protegido de DACL** se establezca en los bits de control del descriptor de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c0a94-109">If you explicitly specify a security descriptor when you create the object, the system merges any inheritable ACEs from the parent object into the specified DACL unless the **SE\_DACL\_PROTECTED** bit is set in the security descriptor's control bits.</span></span>
-   <span data-ttu-id="c0a94-110">Si no especifica un descriptor de seguridad, el sistema crea la DACL del objeto combinando las entradas de acceso heredables del objeto primario en la DACL predeterminada del objeto **ClassSchema** para la clase del objeto.</span><span class="sxs-lookup"><span data-stu-id="c0a94-110">If you do not specify a security descriptor, the system builds the object's DACL by merging any inheritable ACEs from the parent object into the default DACL from the **classSchema** object for the object's class.</span></span>
-   <span data-ttu-id="c0a94-111">Si el esquema no tiene una DACL predeterminada, la DACL del objeto es la DACL predeterminada del token de suplantación o principal del creador.</span><span class="sxs-lookup"><span data-stu-id="c0a94-111">If the schema does not have a default DACL, the object's DACL is the default DACL from the primary or impersonation token of the creator.</span></span>
-   <span data-ttu-id="c0a94-112">Si no hay ninguna DACL especificada, heredada o predeterminada, el sistema crea el objeto sin DACL, lo que permite que todos los usuarios tengan acceso total al objeto.</span><span class="sxs-lookup"><span data-stu-id="c0a94-112">If there is no specified, inherited, or default DACL, the system creates the object with no DACL, which allows everyone full access to the object.</span></span>

<span data-ttu-id="c0a94-113">El sistema utiliza un algoritmo similar para crear una SACL para un objeto de servicio de directorio.</span><span class="sxs-lookup"><span data-stu-id="c0a94-113">The system uses a similar algorithm to build a SACL for a directory service object.</span></span>

<span data-ttu-id="c0a94-114">El propietario y el grupo primario del descriptor de seguridad del nuevo objeto se establecen en los valores especificados en la propiedad **nTSecurityDescriptor** al crear el objeto.</span><span class="sxs-lookup"><span data-stu-id="c0a94-114">The owner and primary group in the new object's security descriptor are set to the values you specify in the **nTSecurityDescriptor** property when you create the object.</span></span> <span data-ttu-id="c0a94-115">Si no establece estos valores, Active Directory Domain Services usar las reglas que se muestran en la tabla siguiente para establecerlos.</span><span class="sxs-lookup"><span data-stu-id="c0a94-115">If you do not set these values, Active Directory Domain Services use the rules listed in the following table to set them.</span></span>



| <span data-ttu-id="c0a94-116">Regla</span><span class="sxs-lookup"><span data-stu-id="c0a94-116">Rule</span></span>          | <span data-ttu-id="c0a94-117">Descripción</span><span class="sxs-lookup"><span data-stu-id="c0a94-117">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c0a94-118">Propietario</span><span class="sxs-lookup"><span data-stu-id="c0a94-118">Owner</span></span>         | <span data-ttu-id="c0a94-119">El propietario de un descriptor de seguridad predeterminado se establece en el SID del propietario predeterminado del token principal o de suplantación del proceso de creación.</span><span class="sxs-lookup"><span data-stu-id="c0a94-119">The owner in a default security descriptor is set to the default owner SID from the primary or impersonation token of the creating process.</span></span> <span data-ttu-id="c0a94-120">Para la mayoría de los usuarios, el SID del propietario predeterminado es el mismo que el SID que identifica la cuenta del usuario.</span><span class="sxs-lookup"><span data-stu-id="c0a94-120">For most users, the default owner SID is the same as the SID that identifies the user's account.</span></span> <span data-ttu-id="c0a94-121">Tenga en cuenta que para los usuarios que son miembros del grupo de administradores integrado, el sistema establece automáticamente el SID del propietario predeterminado en el token de acceso para el grupo administradores. por lo tanto, los objetos creados por un miembro del grupo administradores suelen pertenecer al grupo administradores.</span><span class="sxs-lookup"><span data-stu-id="c0a94-121">Be aware that for users who are members of the built-in administrators group, the system automatically sets the default owner SID in the access token to the administrators group; therefore, objects created by a member of the administrators group are typically owned by the administrators group.</span></span> <span data-ttu-id="c0a94-122">Para obtener o establecer el propietario predeterminado en un token de acceso, llame a la función [**GetTokenInformation**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) o [**SetTokenInformation**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-settokeninformation) con la estructura del [**\_ propietario del token**](/windows/desktop/api/winnt/ns-winnt-token_owner) .</span><span class="sxs-lookup"><span data-stu-id="c0a94-122">To get or set the default owner in an access token, call the [**GetTokenInformation**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) or [**SetTokenInformation**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-settokeninformation) function with the [**TOKEN\_OWNER**](/windows/desktop/api/winnt/ns-winnt-token_owner) structure.</span></span> |
| <span data-ttu-id="c0a94-123">Grupo primario</span><span class="sxs-lookup"><span data-stu-id="c0a94-123">Primary Group</span></span> | <span data-ttu-id="c0a94-124">El grupo principal de un descriptor de seguridad predeterminado se establece en el grupo primario predeterminado del token principal o de suplantación del creador.</span><span class="sxs-lookup"><span data-stu-id="c0a94-124">The primary group in a default security descriptor is set to the default primary group from the creator's primary or impersonation token.</span></span> <span data-ttu-id="c0a94-125">Tenga en cuenta que el grupo principal no se utiliza en el contexto de Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="c0a94-125">Be aware that primary group is not used in the context of Active Directory Domain Services.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |



 

<span data-ttu-id="c0a94-126">Para obtener más información sobre la herencia de ACE, consulte [herencia y delegación de la administración](inheritance-and-delegation-of-administration.md).</span><span class="sxs-lookup"><span data-stu-id="c0a94-126">For more information about ACE inheritance, see [Inheritance and Delegation of Administration](inheritance-and-delegation-of-administration.md).</span></span>

<span data-ttu-id="c0a94-127">Para obtener más información acerca de los descriptores de seguridad predeterminados del esquema, consulte [descriptor de seguridad predeterminado](default-security-descriptor.md).</span><span class="sxs-lookup"><span data-stu-id="c0a94-127">For more information about the default security descriptors in the schema, see [Default Security Descriptor](default-security-descriptor.md).</span></span>

<span data-ttu-id="c0a94-128">Para obtener más información sobre los objetos **ClassSchema** , vea [esquema de Active Directory](active-directory-schema.md).</span><span class="sxs-lookup"><span data-stu-id="c0a94-128">For more information about **classSchema** objects, see [Active Directory Schema](active-directory-schema.md).</span></span>

 

 