---
description: Aspectos básicos de DMO
ms.assetid: eaf453d2-69f8-432a-8a58-1ed70778f182
title: Aspectos básicos de DMO (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44b1aca2fcd7e70cf78e2e95135aee73c454b910
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104275118"
---
# <a name="dmo-basics-microsoft-media-foundation"></a><span data-ttu-id="708a5-103">Aspectos básicos de DMO (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="708a5-103">DMO Basics (Microsoft Media Foundation)</span></span>

<span data-ttu-id="708a5-104">En este tema se proporciona una breve descripción de DMOs en relación con los códecs de Windows Media.</span><span class="sxs-lookup"><span data-stu-id="708a5-104">This topic provides a brief overview of DMOs as they relate to Windows Media Codecs.</span></span> <span data-ttu-id="708a5-105">Para obtener más información sobre DMOs, vea [objetos multimedia de DirectX](../directshow/directx-media-objects.md).</span><span class="sxs-lookup"><span data-stu-id="708a5-105">For more information about DMOs, see [DirectX Media Objects](../directshow/directx-media-objects.md).</span></span>

<span data-ttu-id="708a5-106">Un DMO es un objeto COM que transforma los datos.</span><span class="sxs-lookup"><span data-stu-id="708a5-106">A DMO is a COM object that transforms data.</span></span> <span data-ttu-id="708a5-107">Le pasa datos y devuelve los datos transformados.</span><span class="sxs-lookup"><span data-stu-id="708a5-107">You pass data to it, and it returns the transformed data.</span></span> <span data-ttu-id="708a5-108">En el caso de un codificador de códecs DMO, se especifican los datos de medios sin comprimir y DMO entrega datos de medios comprimidos.</span><span class="sxs-lookup"><span data-stu-id="708a5-108">In the case of a codec encoder DMO, you input uncompressed media data and the DMO delivers compressed media data.</span></span> <span data-ttu-id="708a5-109">La principal ventaja de usar DMOs es que todos implementan la misma interfaz base, [**IMediaObject**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject), que simplifica el trabajo con ellos, ya que puede usar el mismo objeto, independientemente del tipo de transformación que se realice.</span><span class="sxs-lookup"><span data-stu-id="708a5-109">The primary advantage of using DMOs is that they all implement the same base interface, [**IMediaObject**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject), which simplifies working with them because you can use the same object, regardless of the type of transformation being performed.</span></span>

<span data-ttu-id="708a5-110">Dado que hay variables implicadas en cualquier tipo de transformación de datos, la transformación audio y vídeo debe tener en cuenta la amplia gama de configuraciones de medios posibles.</span><span class="sxs-lookup"><span data-stu-id="708a5-110">Because there are variables involved in any sort of data transformation, audio and video transformation must take into account the wide range of possible media configurations.</span></span> <span data-ttu-id="708a5-111">Los códecs de Windows Media Audio y vídeo también admiten una serie de características especiales que debe poder configurar mediante DMO.</span><span class="sxs-lookup"><span data-stu-id="708a5-111">The Windows Media Audio and Video codecs also support a number of special features that you must be able to configure by using the DMO.</span></span>

<span data-ttu-id="708a5-112">En general, la información de variable que necesita el códec DMOs para comprimir y descomprimir los medios digitales se transmite de una de estas tres maneras:</span><span class="sxs-lookup"><span data-stu-id="708a5-112">In general, the variable information that is needed by the codec DMOs to compress and decompress digital media is conveyed in one of three ways:</span></span>

-   <span data-ttu-id="708a5-113">Establezca el tipo de entrada en DMO para transmitir las características del medio sin comprimir que pasa a un codificador DMO y las características de los medios comprimidos que pasa a un descodificador DMO.</span><span class="sxs-lookup"><span data-stu-id="708a5-113">Set the input type on the DMO to convey the characteristics of the uncompressed media that you pass to an encoder DMO, and the characteristics of the compressed media that you pass to a decoder DMO.</span></span>
-   <span data-ttu-id="708a5-114">Establezca el tipo de salida en DMO para transmitir las características de los medios comprimidos entregados por un codificador DMO y las características de los medios sin comprimir entregados por un descodificador DMO.</span><span class="sxs-lookup"><span data-stu-id="708a5-114">Set the output type on the DMO to convey the characteristics of the compressed media that are delivered by an encoder DMO, and the characteristics of the uncompressed media that are delivered by a decoder DMO.</span></span>
-   <span data-ttu-id="708a5-115">Mediante los métodos de la interfaz **IPropertyBag** , configure otras opciones que admitan las distintas características del códec DMOs como propiedades.</span><span class="sxs-lookup"><span data-stu-id="708a5-115">Using the methods of the **IPropertyBag** interface, configure other settings that support the various features of the codec DMOs as properties.</span></span> <span data-ttu-id="708a5-116">**IPropertyBag** es una interfaz com estándar que es compatible con todos los DMOs de códec.</span><span class="sxs-lookup"><span data-stu-id="708a5-116">**IPropertyBag** is a standard COM interface that is supported by all of the codec DMOs.</span></span>

<span data-ttu-id="708a5-117">Además, algunas características de códec se administran mediante otras interfaces específicas del códec DMOs.</span><span class="sxs-lookup"><span data-stu-id="708a5-117">Additionally, some codec features are managed by using other interfaces that are specific to the codec DMOs.</span></span> <span data-ttu-id="708a5-118">Estas interfaces se enumeran para cada códec en la sección [objetos de códec](codecobjects.md).</span><span class="sxs-lookup"><span data-stu-id="708a5-118">These interfaces are listed for each codec in the section [Codec Objects](codecobjects.md).</span></span>

<span data-ttu-id="708a5-119">Los tipos de entrada y salida son específicos de los flujos de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="708a5-119">Input and output types are specific to input and output streams.</span></span> <span data-ttu-id="708a5-120">Cada flujo representa una representación discreta del contenido.</span><span class="sxs-lookup"><span data-stu-id="708a5-120">Each stream represents a discrete representation of the content.</span></span> <span data-ttu-id="708a5-121">Por ejemplo, el codificador Windows Media Video DMO tiene un solo flujo de entrada y dos flujos de salida.</span><span class="sxs-lookup"><span data-stu-id="708a5-121">For example, the Windows Media Video encoder DMO has a single input stream, and two output streams.</span></span> <span data-ttu-id="708a5-122">El flujo de entrada acepta muestras de vídeo sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="708a5-122">The input stream accepts uncompressed video samples.</span></span> <span data-ttu-id="708a5-123">El primero de los dos flujos de salida ofrece ejemplos comprimidos; el otro proporciona ejemplos sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="708a5-123">The first of the two output streams delivers compressed samples; the other provides uncompressed samples.</span></span> <span data-ttu-id="708a5-124">Los ejemplos individuales de un flujo de salida representan el mismo contenido que los ejemplos correspondientes en el otro flujo, pero cada flujo entrega esos ejemplos en un formato diferente.</span><span class="sxs-lookup"><span data-stu-id="708a5-124">The individual samples in one output stream represent the same content as the corresponding samples in the other stream, but each stream delivers those samples in a different format.</span></span>

<span data-ttu-id="708a5-125">Cada secuencia (entrada o salida) admite uno o varios tipos de medios.</span><span class="sxs-lookup"><span data-stu-id="708a5-125">Each stream (input or output) supports one or more types of media.</span></span> <span data-ttu-id="708a5-126">Un tipo de medio, o formato, se describe mediante una estructura de [**\_ \_ tipo de medio DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) .</span><span class="sxs-lookup"><span data-stu-id="708a5-126">A media type, or format, is described by a [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure.</span></span> <span data-ttu-id="708a5-127">Puede consultar a DMO los tipos que son compatibles con un flujo de salida mediante una llamada a [**IMediaObject:: GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype).</span><span class="sxs-lookup"><span data-stu-id="708a5-127">You can query the DMO for the types that are supported by an output stream by calling [**IMediaObject::GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype).</span></span> <span data-ttu-id="708a5-128">Este método devuelve un tipo de salida válido (aunque en algunos casos parcialmente incompleto) para esa secuencia.</span><span class="sxs-lookup"><span data-stu-id="708a5-128">This method returns a valid (though in some cases partially incomplete) output type for that stream.</span></span> <span data-ttu-id="708a5-129">Puede enumerar los tipos de medios admitidos para un flujo de salida realizando llamadas repetidas a **GetOutputType**, incrementando el parámetro de tipo con cada llamada.</span><span class="sxs-lookup"><span data-stu-id="708a5-129">You can enumerate the supported media types for an output stream by making repeated calls to **GetOutputType**, incrementing the type parameter with each call.</span></span> <span data-ttu-id="708a5-130">Cuando el índice de tipo que se pasa está fuera de los límites, el método **devuelve \_ DMO \_ E \_ ningún \_ elemento más**.</span><span class="sxs-lookup"><span data-stu-id="708a5-130">When the type index that you pass is out of bounds, the method returns **DMO\_E\_NO\_MORE\_ITEMS**.</span></span> <span data-ttu-id="708a5-131">Los formatos de entrada se pueden enumerar de la misma manera mediante el método [**IMediaObject:: GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) .</span><span class="sxs-lookup"><span data-stu-id="708a5-131">Input formats can be enumerated in the same way by using the [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) method.</span></span>

<span data-ttu-id="708a5-132">Los tipos enumerados por DMO son solo los tipos "preferidos"; sin embargo, es posible que se admitan otros tipos.</span><span class="sxs-lookup"><span data-stu-id="708a5-132">The types that are enumerated by the DMO are only the "preferred" types, however, other types may be supported.</span></span> <span data-ttu-id="708a5-133">Puede validar un tipo de salida llamando a [**IMediaObject:: SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype).</span><span class="sxs-lookup"><span data-stu-id="708a5-133">You can validate an output type by calling [**IMediaObject::SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype).</span></span> <span data-ttu-id="708a5-134">Use [**IMediaObject:: SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) para validar un tipo de entrada.</span><span class="sxs-lookup"><span data-stu-id="708a5-134">Use [**IMediaObject::SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) to validate an input type.</span></span> <span data-ttu-id="708a5-135">Ambos métodos devolverán el **\_ tipo DMO E \_ \_ no \_ aceptado** si la estructura de [**\_ \_ tipo de medio DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) que pasó no es válida.</span><span class="sxs-lookup"><span data-stu-id="708a5-135">Both methods will return **DMO\_E\_TYPE\_NOT\_ACCEPTED** if the [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure you passed is invalid.</span></span> <span data-ttu-id="708a5-136">Algunos DMOs requieren que se establezca un tipo de salida antes de enumerar los tipos de entrada.</span><span class="sxs-lookup"><span data-stu-id="708a5-136">Some DMOs require you to set an output type before enumerating any input types.</span></span> <span data-ttu-id="708a5-137">Los códecs de Windows Media Audio y vídeo DMOs tienen entradas y salidas que tienen validación interdependiente.</span><span class="sxs-lookup"><span data-stu-id="708a5-137">The Windows Media Audio and Video codec DMOs all have inputs and outputs that have interdependent validation.</span></span> <span data-ttu-id="708a5-138">Es decir, el tipo de salida que establezca establecerá los criterios de validación para el tipo de entrada.</span><span class="sxs-lookup"><span data-stu-id="708a5-138">That is, the output type you set will set the validation criteria for the input type.</span></span> <span data-ttu-id="708a5-139">También hay algunas propiedades que, cuando se establecen, modifican los tipos de entrada y salida válidos.</span><span class="sxs-lookup"><span data-stu-id="708a5-139">There are also some properties that, when set, alter the valid input and output types.</span></span> <span data-ttu-id="708a5-140">Por esta razón, debe establecer todas las propiedades deseadas en el DMO antes de enumerar los tipos.</span><span class="sxs-lookup"><span data-stu-id="708a5-140">For this reason, you should set all of the desired properties on the DMO before enumerating types.</span></span>

<span data-ttu-id="708a5-141">Cuando haya establecido los tipos de entrada y salida para DMO, puede empezar a procesar ejemplos.</span><span class="sxs-lookup"><span data-stu-id="708a5-141">When you have set the output and input types for the DMO, you can begin processing samples.</span></span> <span data-ttu-id="708a5-142">Cada ejemplo de entrada se pasa al códec mediante una llamada a [**IMediaObject::P rocessinput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processinput), y el códec entrega cada ejemplo de salida cuando se realiza una llamada a [**IMediaObject::P rocessoutput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processoutput).</span><span class="sxs-lookup"><span data-stu-id="708a5-142">Each input sample is passed to the codec using a call to [**IMediaObject::ProcessInput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processinput), and each output sample is delivered by the codec when you make a call to [**IMediaObject::ProcessOutput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processoutput).</span></span>

## <a name="related-topics"></a><span data-ttu-id="708a5-143">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="708a5-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="708a5-144">Trabajar con códec DMOs</span><span class="sxs-lookup"><span data-stu-id="708a5-144">Working with Codec DMOs</span></span>](workingwithcodecdmos.md)
</dt> </dl>

 

 
