---
title: Operaciones de conexión de marcado automático
description: Cuando se produce un error al intentar conectarse a una dirección de red porque no se puede tener acceso al host, el sistema busca la dirección en la base de datos de asignación de marcado automático.
ms.assetid: 343ee69e-1ff5-4107-9ddb-4245c3b4a54d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 150fa8542d1724be9d60f997db7952d6df387b9b
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104420808"
---
# <a name="autodial-connection-operations"></a><span data-ttu-id="26691-103">Operaciones de conexión de marcado automático</span><span class="sxs-lookup"><span data-stu-id="26691-103">AutoDial Connection Operations</span></span>

<span data-ttu-id="26691-104">Cuando se produce un error al intentar conectarse a una dirección de red porque no se puede tener acceso al host, el sistema busca la dirección en la base de datos de asignación de marcado automático.</span><span class="sxs-lookup"><span data-stu-id="26691-104">When an attempt to connect to a network address fails because the host cannot be reached, the system searches the AutoDial mapping database for the address.</span></span> <span data-ttu-id="26691-105">Si la dirección está en la base de datos, el sistema inicia una operación de marcado automático para el [**RASAUTODIALENTRY**](/previous-versions/windows/desktop/legacy/aa376721(v=vs.85)), si existe, que corresponde a la ubicación de marcado TAPI local.</span><span class="sxs-lookup"><span data-stu-id="26691-105">If the address is in the database, the system initiates an AutoDial operation for the [**RASAUTODIALENTRY**](/previous-versions/windows/desktop/legacy/aa376721(v=vs.85)), if any, that corresponds to the local TAPI dialing location.</span></span>

<span data-ttu-id="26691-106">La API de RAS proporciona funciones que permiten establecer y consultar parámetros de marcado automático que controlan las conexiones de marcado automático.</span><span class="sxs-lookup"><span data-stu-id="26691-106">The RAS API provides functions that enable you to set and query AutoDial parameters that control AutoDial connections.</span></span> <span data-ttu-id="26691-107">Puede llamar a la función [**RasSetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rassetautodialenablea) para habilitar o deshabilitar la característica de marcado automático para una ubicación de marcado TAPI especificada.</span><span class="sxs-lookup"><span data-stu-id="26691-107">You can call the [**RasSetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rassetautodialenablea) function to enable or disable the AutoDial feature for a specified TAPI dialing location.</span></span> <span data-ttu-id="26691-108">La función [**RasGetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rasgetautodialenablea) indica si la característica de marcado automático está habilitada para una ubicación de marcado TAPI especificada.</span><span class="sxs-lookup"><span data-stu-id="26691-108">The [**RasGetAutodialEnable**](/windows/desktop/api/Ras/nf-ras-rasgetautodialenablea) function indicates whether the AutoDial feature is enabled for a specified TAPI dialing location.</span></span> <span data-ttu-id="26691-109">Para obtener más información acerca de las ubicaciones de marcado TAPI, consulte la documentación de TAPI.</span><span class="sxs-lookup"><span data-stu-id="26691-109">For more information about TAPI dialing locations, see the TAPI documentation.</span></span> <span data-ttu-id="26691-110">Puede llamar a la función [**RasSetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rassetautodialparama) para establecer otros parámetros de conexión de marcado automático.</span><span class="sxs-lookup"><span data-stu-id="26691-110">You can call the [**RasSetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rassetautodialparama) function to set other AutoDial connection parameters.</span></span> <span data-ttu-id="26691-111">Por ejemplo, puede deshabilitar las conexiones de marcado automático para la sesión de inicio de sesión actual.</span><span class="sxs-lookup"><span data-stu-id="26691-111">For example, you can disable AutoDial connections for the current logon session.</span></span> <span data-ttu-id="26691-112">Llame a la función [**RasGetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rasgetautodialparama) para determinar el valor actual de los parámetros de conexión de marcado automático.</span><span class="sxs-lookup"><span data-stu-id="26691-112">Call the [**RasGetAutodialParam**](/windows/desktop/api/Ras/nf-ras-rasgetautodialparama) function to determine the current value of the AutoDial connection parameters.</span></span>

<span data-ttu-id="26691-113">El sistema proporciona una interfaz de usuario predeterminada para las operaciones de marcado automático.</span><span class="sxs-lookup"><span data-stu-id="26691-113">The system provides a default user interface for AutoDial dialing operations.</span></span> <span data-ttu-id="26691-114">Sin embargo, puede crear una biblioteca de vínculos dinámicos (DLL) de marcado automático para proporcionar una interfaz de usuario personalizada para las operaciones de marcado automático que impliquen entradas de libretas de teléfonos especificadas.</span><span class="sxs-lookup"><span data-stu-id="26691-114">However, you can create an AutoDial dynamic-link library (DLL) to provide a custom user interface for AutoDial dialing operations involving specified phone-book entries.</span></span> <span data-ttu-id="26691-115">El archivo DLL de marcado automático debe exportar una versión ANSI y Unicode de un controlador de marcado automático [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) .</span><span class="sxs-lookup"><span data-stu-id="26691-115">Your AutoDial DLL must export both an ANSI and a Unicode version of a [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) AutoDial handler.</span></span>

<span data-ttu-id="26691-116">Para habilitar el controlador de marcado automático personalizado para una entrada de libreta de teléfonos, llame a la función [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) para establecer las propiedades de esa entrada.</span><span class="sxs-lookup"><span data-stu-id="26691-116">To enable your custom AutoDial handler for a phone-book entry, call the [**RasSetEntryProperties**](/windows/desktop/api/Ras/nf-ras-rassetentrypropertiesa) function to set the properties for that entry.</span></span> <span data-ttu-id="26691-117">Los miembros **szAutodialDll** y **szAutodialFunc** de la estructura [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) que se pasan a **RasSetEntryProperties** especifican el nombre del archivo dll de marcado automático y el nombre de la función [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) , sin incluir el sufijo "A" o "W".</span><span class="sxs-lookup"><span data-stu-id="26691-117">The **szAutodialDll** and **szAutodialFunc** members of the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure passed to **RasSetEntryProperties** specify the name of your AutoDial DLL and the name of your [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca) function, excluding the "A" or "W" suffix.</span></span>

<span data-ttu-id="26691-118">Cuando el sistema inicia una operación de marcado automático para una entrada de libreta de teléfonos con un controlador de marcado automático personalizado, llama a la [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca)especificada.</span><span class="sxs-lookup"><span data-stu-id="26691-118">When the system starts an AutoDial operation for a phone-book entry with a custom AutoDial handler, it calls the specified [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca).</span></span> <span data-ttu-id="26691-119">La función **RASADFunc** recibe un puntero a una estructura [**RASADPARAMS**](/previous-versions/windows/desktop/legacy/aa376719(v=vs.85)) que indica la ubicación y la ventana primaria de la ventana de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="26691-119">The **RASADFunc** function receives a pointer to a [**RASADPARAMS**](/previous-versions/windows/desktop/legacy/aa376719(v=vs.85)) structure that indicates the location and parent window for the window of your user interface.</span></span> <span data-ttu-id="26691-120">El **RASADFunc** puede iniciar un subproceso para realizar la operación de marcado personalizada.</span><span class="sxs-lookup"><span data-stu-id="26691-120">Your **RASADFunc** can start a thread to perform the custom dialing operation.</span></span> <span data-ttu-id="26691-121">La función **RASADFunc** devuelve **true** para indicar que se ha realizado el marcado, o bien **false** para permitir que el sistema realice el marcado.</span><span class="sxs-lookup"><span data-stu-id="26691-121">The **RASADFunc** function returns **TRUE** to indicate that it took over the dialing, or **FALSE** to allow the system to perform the dialing.</span></span> <span data-ttu-id="26691-122">La operación de marcado personalizada debe utilizar la función [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) para realizar el marcado real.</span><span class="sxs-lookup"><span data-stu-id="26691-122">Your custom dialing operation must use the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function to do the actual dialing.</span></span> <span data-ttu-id="26691-123">Una vez completada la operación de marcado, la operación de marcado personalizado indica si se ha realizado correctamente o no mediante la configuración de la variable a la que señala el parámetro *lpdwRetCode* pasado a [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca).</span><span class="sxs-lookup"><span data-stu-id="26691-123">When the dialing operation has been completed, the custom dialing operation indicates success or failure by setting the variable pointed to by the *lpdwRetCode* parameter passed to [**RASADFunc**](/windows/desktop/api/Ras/nc-ras-rasadfunca).</span></span>

 

 