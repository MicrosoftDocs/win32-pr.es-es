---
title: Atributos array y Sized-Pointer
description: MIDL proporciona un amplio conjunto de características para pasar matrices de datos y punteros a datos. Puede utilizar estos atributos para especificar características de matrices y varios niveles de punteros.
ms.assetid: 482be83f-eb09-40a0-8dd6-a0cbf5dc4485
keywords:
- MIDL, atributos, matriz y puntero de tamaño IDL
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b0f9ba435d5c413ea152c2bc9b492486ccc1be94
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "103904553"
---
# <a name="array-and-sized-pointer-attributes"></a><span data-ttu-id="4d3df-105">Atributos array y Sized-Pointer</span><span class="sxs-lookup"><span data-stu-id="4d3df-105">Array and Sized-Pointer Attributes</span></span>

<span data-ttu-id="4d3df-106">MIDL proporciona un amplio conjunto de características para pasar matrices de datos y punteros a datos.</span><span class="sxs-lookup"><span data-stu-id="4d3df-106">MIDL provides a rich set of features for passing arrays of data and pointers to data.</span></span> <span data-ttu-id="4d3df-107">Puede utilizar estos atributos para especificar características de matrices y varios niveles de punteros.</span><span class="sxs-lookup"><span data-stu-id="4d3df-107">You can use these attributes to specify characteristics of arrays and multiple levels of pointers.</span></span>



| <span data-ttu-id="4d3df-108">Atributo</span><span class="sxs-lookup"><span data-stu-id="4d3df-108">Attribute</span></span>                       | <span data-ttu-id="4d3df-109">Uso</span><span class="sxs-lookup"><span data-stu-id="4d3df-109">Usage</span></span>                                                                                                                                                                                                |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="4d3df-110">**el tamaño \_ es**</span><span class="sxs-lookup"><span data-stu-id="4d3df-110">**size\_is**</span></span>](size-is.md)     | <span data-ttu-id="4d3df-111">Especifica la cantidad de memoria que se va a asignar para los punteros de tamaño, los punteros de tamaño a los punteros de tamaño y las matrices de un solo o multidimensional.</span><span class="sxs-lookup"><span data-stu-id="4d3df-111">Specifies the amount of memory to be allocated for sized pointers, sized pointers to sized pointers, and single- or multidimensional arrays.</span></span>                                                         |
| [<span data-ttu-id="4d3df-112">**Max \_ es**</span><span class="sxs-lookup"><span data-stu-id="4d3df-112">**max\_is**</span></span>](max-is.md)       | <span data-ttu-id="4d3df-113">Valor máximo de un índice de matriz.</span><span class="sxs-lookup"><span data-stu-id="4d3df-113">The maximum value for an array index.</span></span>                                                                                                                                                                |
| [<span data-ttu-id="4d3df-114">**la longitud \_ es**</span><span class="sxs-lookup"><span data-stu-id="4d3df-114">**length\_is**</span></span>](length-is.md) | <span data-ttu-id="4d3df-115">El número de elementos de matriz que se van a transmitir.</span><span class="sxs-lookup"><span data-stu-id="4d3df-115">The number of array elements to be transmitted.</span></span>                                                                                                                                                      |
| [<span data-ttu-id="4d3df-116">**el primero \_ es**</span><span class="sxs-lookup"><span data-stu-id="4d3df-116">**first\_is**</span></span>](first-is.md)   | <span data-ttu-id="4d3df-117">Índice del primer elemento de la matriz que se va a transmitir.</span><span class="sxs-lookup"><span data-stu-id="4d3df-117">The index of the first array element to be transmitted.</span></span>                                                                                                                                              |
| [<span data-ttu-id="4d3df-118">**última \_ es**</span><span class="sxs-lookup"><span data-stu-id="4d3df-118">**last\_is**</span></span>](last-is.md)     | <span data-ttu-id="4d3df-119">Proporciona el índice del último elemento de la matriz que se va a transmitir.</span><span class="sxs-lookup"><span data-stu-id="4d3df-119">Gives the index of the last array element to be transmitted.</span></span>                                                                                                                                         |
| [<span data-ttu-id="4d3df-120">**string**</span><span class="sxs-lookup"><span data-stu-id="4d3df-120">**string**</span></span>](string.md)        | <span data-ttu-id="4d3df-121">Indica que la matriz [**Char**](char-idl.md), [**WCHAR \_ t**](wchar-t.md), [**byte**](byte.md) (o equivalente) unidimensional, o el puntero a dicha matriz, se tratará como una cadena.</span><span class="sxs-lookup"><span data-stu-id="4d3df-121">Indicates that the one-dimensional [**char**](char-idl.md), [**wchar\_t**](wchar-t.md), [**byte**](byte.md) (or equivalent) array, or the pointer to such an array, is to be handled as a string.</span></span> |
| [<span data-ttu-id="4d3df-122">**range**</span><span class="sxs-lookup"><span data-stu-id="4d3df-122">**range**</span></span>](range.md)          | <span data-ttu-id="4d3df-123">Especifica un intervalo de valores permitidos para los argumentos o campos cuyos valores se establecen en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4d3df-123">Specifies a range of allowable values for arguments or fields whose values are set at runtime.</span></span>                                                                                                       |



 

<span data-ttu-id="4d3df-124">MIDL admite tres tipos de punteros: punteros de referencia, punteros únicos y punteros completos.</span><span class="sxs-lookup"><span data-stu-id="4d3df-124">MIDL supports three kinds of pointers: reference pointers, unique pointers, and full pointers.</span></span> <span data-ttu-id="4d3df-125">Estos punteros se especifican mediante los atributos de puntero [**ref**](ref.md), [**Unique**](unique.md)y [**ptr**](ptr.md).</span><span class="sxs-lookup"><span data-stu-id="4d3df-125">These pointers are specified by the pointer attributes [**ref**](ref.md), [**unique**](unique.md), and [**ptr**](ptr.md).</span></span>

<span data-ttu-id="4d3df-126">Un atributo de puntero se puede aplicar como atributo de tipo. como atributo de campo que se aplica a un miembro de estructura, miembro de unión o parámetro; o como un atributo de función que se aplica al tipo de valor devuelto de la función.</span><span class="sxs-lookup"><span data-stu-id="4d3df-126">A pointer attribute can be applied as a type attribute; as a field attribute that applies to a structure member, union member, or parameter; or as a function attribute that applies to the function return type.</span></span> <span data-ttu-id="4d3df-127">El atributo Pointer también puede aparecer con la palabra clave [**\_ default del puntero**](pointer-default.md) .</span><span class="sxs-lookup"><span data-stu-id="4d3df-127">The pointer attribute can also appear with the [**pointer\_default**](pointer-default.md) keyword.</span></span>

<span data-ttu-id="4d3df-128">Para permitir que un parámetro de puntero cambie de valor durante una función remota, debe proporcionar otro nivel de direccionamiento indirecto proporcionando varios declaradores de puntero.</span><span class="sxs-lookup"><span data-stu-id="4d3df-128">To allow a pointer parameter to change in value during a remote function, you must provide another level of indirection by supplying multiple pointer declarators.</span></span> <span data-ttu-id="4d3df-129">El atributo de puntero explícito que se aplica al parámetro solo afecta al declarador de puntero más a la derecha del parámetro.</span><span class="sxs-lookup"><span data-stu-id="4d3df-129">The explicit pointer attribute applied to the parameter affects only the rightmost pointer declarator for the parameter.</span></span> <span data-ttu-id="4d3df-130">Cuando hay varios declaradores de puntero en una declaración de parámetro, el otro declarador tiene como valor predeterminado el atributo de puntero especificado por el atributo [**\_ predeterminado del puntero**](pointer-default.md) .</span><span class="sxs-lookup"><span data-stu-id="4d3df-130">When there are multiple pointer declarators in a parameter declaration, the other declarators default to the pointer attribute specified by the [**pointer\_default**](pointer-default.md) attribute.</span></span> <span data-ttu-id="4d3df-131">Para aplicar distintos atributos de puntero a varios declaradores de puntero, debe definir los tipos intermedios que especifican los atributos de puntero explícitos.</span><span class="sxs-lookup"><span data-stu-id="4d3df-131">To apply different pointer attributes to multiple pointer declarators, you must define intermediate types that specify the explicit pointer attributes.</span></span>

## <a name="default-pointer-attribute-values"></a><span data-ttu-id="4d3df-132">Valores de Pointer-Attribute predeterminados</span><span class="sxs-lookup"><span data-stu-id="4d3df-132">Default Pointer-Attribute Values</span></span>

<span data-ttu-id="4d3df-133">Cuando no hay ningún atributo de puntero asociado a un puntero que es un parámetro, se supone que el puntero es un puntero de [**referencia**](ref.md) .</span><span class="sxs-lookup"><span data-stu-id="4d3df-133">When no pointer attribute is associated with a pointer that is a parameter, the pointer is assumed to be a [**ref**](ref.md) pointer.</span></span>

<span data-ttu-id="4d3df-134">Cuando no hay ningún atributo de puntero asociado a un puntero que sea miembro de una estructura o Unión, el compilador MIDL asigna atributos de puntero mediante las siguientes reglas de prioridad (1 es la más alta):</span><span class="sxs-lookup"><span data-stu-id="4d3df-134">When no pointer attribute is associated with a pointer that is a member of a structure or union, the MIDL compiler assigns pointer attributes using the following priority rules (1 is highest):</span></span>

1.  <span data-ttu-id="4d3df-135">Atributos aplicados explícitamente al tipo de puntero</span><span class="sxs-lookup"><span data-stu-id="4d3df-135">Attributes explicitly applied to the pointer type</span></span>
2.  <span data-ttu-id="4d3df-136">Atributos aplicados explícitamente al parámetro o miembro del puntero</span><span class="sxs-lookup"><span data-stu-id="4d3df-136">Attributes explicitly applied to the pointer parameter or member</span></span>
3.  <span data-ttu-id="4d3df-137">El [**atributo \_ predeterminado del puntero**](pointer-default.md) en el archivo IDL que define el tipo.</span><span class="sxs-lookup"><span data-stu-id="4d3df-137">The [**pointer\_default**](pointer-default.md) attribute in the IDL file that defines the type</span></span>
4.  <span data-ttu-id="4d3df-138">El [**atributo \_ predeterminado del puntero**](pointer-default.md) en el archivo IDL que importa el tipo.</span><span class="sxs-lookup"><span data-stu-id="4d3df-138">The [**pointer\_default**](pointer-default.md) attribute in the IDL file that imports the type</span></span>
5.  <span data-ttu-id="4d3df-139">[**ptr**](ptr.md) (modo OSF); [**Unique**](unique.md) (modo predeterminado de Microsoft RPC)</span><span class="sxs-lookup"><span data-stu-id="4d3df-139">[**ptr**](ptr.md) (osf mode); [**unique**](unique.md) (Microsoft RPC default mode)</span></span>

<span data-ttu-id="4d3df-140">Cuando el archivo IDL se compila en modo predeterminado, los archivos importados pueden heredar atributos de puntero de la importación de archivos.</span><span class="sxs-lookup"><span data-stu-id="4d3df-140">When the IDL file is compiled in default mode, imported files can inherit pointer attributes from importing files.</span></span> <span data-ttu-id="4d3df-141">Esta característica no está disponible cuando se compila con el conmutador/[**OSF**](-osf.md) .</span><span class="sxs-lookup"><span data-stu-id="4d3df-141">This feature is not available when you compile using the /[**osf**](-osf.md) switch.</span></span> <span data-ttu-id="4d3df-142">Para obtener más información, consulte [**Import**](import.md).</span><span class="sxs-lookup"><span data-stu-id="4d3df-142">For more information, see [**import**](import.md).</span></span>

## <a name="function-return-types"></a><span data-ttu-id="4d3df-143">Tipos de valor devueltos de función</span><span class="sxs-lookup"><span data-stu-id="4d3df-143">Function Return Types</span></span>

<span data-ttu-id="4d3df-144">Un puntero devuelto por una función debe ser un puntero [**único**](unique.md) o un puntero completo.</span><span class="sxs-lookup"><span data-stu-id="4d3df-144">A pointer returned by a function must be a [**unique**](unique.md) pointer or a full pointer.</span></span> <span data-ttu-id="4d3df-145">El compilador MIDL informa de un error si el resultado de una función es un puntero de referencia, ya sea de forma explícita o predeterminada.</span><span class="sxs-lookup"><span data-stu-id="4d3df-145">The MIDL compiler reports an error if a function result is a reference pointer, either explicitly or by default.</span></span> <span data-ttu-id="4d3df-146">El puntero devuelto siempre indica un nuevo almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="4d3df-146">The returned pointer always indicates new storage.</span></span>

<span data-ttu-id="4d3df-147">Las funciones que devuelven un valor de puntero pueden especificar un atributo de puntero como atributo de función.</span><span class="sxs-lookup"><span data-stu-id="4d3df-147">Functions that return a pointer value can specify a pointer attribute as a function attribute.</span></span> <span data-ttu-id="4d3df-148">Si no hay un atributo de puntero, el puntero de resultado de la función usa el valor proporcionado como atributo [**\_ predeterminado del puntero**](pointer-default.md) .</span><span class="sxs-lookup"><span data-stu-id="4d3df-148">If a pointer attribute is not present, the function-result pointer uses the value provided as the [**pointer\_default**](pointer-default.md) attribute.</span></span>

## <a name="pointer-attributes-in-type-definitions"></a><span data-ttu-id="4d3df-149">Atributos de puntero en definiciones de tipo</span><span class="sxs-lookup"><span data-stu-id="4d3df-149">Pointer Attributes in Type Definitions</span></span>

<span data-ttu-id="4d3df-150">Cuando se especifica un atributo de puntero en el nivel superior de una instrucción [**typedef**](typedef.md) , el atributo especificado se aplica al declarador de puntero, según lo esperado.</span><span class="sxs-lookup"><span data-stu-id="4d3df-150">When you specify a pointer attribute at the top level of a [**typedef**](typedef.md) statement, the specified attribute is applied to the pointer declarator, as expected.</span></span> <span data-ttu-id="4d3df-151">Cuando no se especifica ningún atributo de puntero, el declarador de puntero en el nivel superior de una instrucción typedef hereda el tipo de atributo de puntero cuando se usa.</span><span class="sxs-lookup"><span data-stu-id="4d3df-151">When no pointer attribute is specified, pointer declarators at the top level of a typedef statement inherit the pointer attribute type when used.</span></span>

<span data-ttu-id="4d3df-152">DCE IDL no permite que el mismo atributo de puntero se aplique explícitamente dos veces, por ejemplo, tanto en la declaración de [**definición**](typedef.md) de tipo como en la lista de atributos de parámetros.</span><span class="sxs-lookup"><span data-stu-id="4d3df-152">DCE IDL does not allow the same pointer attribute to be explicitly applied twice—for example, in both the [**typedef**](typedef.md) declaration and the parameter attribute list.</span></span> <span data-ttu-id="4d3df-153">Cuando se utiliza el modo predeterminado (extensiones de Microsoft) del compilador de MIDL, esta restricción es relajada.</span><span class="sxs-lookup"><span data-stu-id="4d3df-153">When you use the default (Microsoft extensions) mode of the MIDL compiler, this constraint is relaxed.</span></span>

<span data-ttu-id="4d3df-154">Para obtener una explicación sobre el uso de matrices y punteros MIDL en llamadas a procedimientos remotos, vea [matrices y punteros](/windows/desktop/Rpc/arrays-and-pointers).</span><span class="sxs-lookup"><span data-stu-id="4d3df-154">For a discussion of using MIDL arrays and pointers in remote procedure calls, see [Arrays and Pointers](/windows/desktop/Rpc/arrays-and-pointers).</span></span>

 

 