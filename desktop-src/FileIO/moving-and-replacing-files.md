---
description: Consideraciones para mover y reemplazar archivos mediante las funciones CopyFileEx, CreateFile, Replacefile y MoveFileEx.
ms.assetid: 4872af0d-42e8-4576-9aa9-4b8671375f2e
title: Mover y reemplazar archivos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7d7f08d2bd8d07645076620e839d7d12f5969502
ms.sourcegitcommit: 3d9dce1bd6c84e2b51759e940aa95aa9b459cd20
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/04/2021
ms.locfileid: "105689684"
---
# <a name="moving-and-replacing-files"></a><span data-ttu-id="b58bc-103">Mover y reemplazar archivos</span><span class="sxs-lookup"><span data-stu-id="b58bc-103">Moving and Replacing Files</span></span>

<span data-ttu-id="b58bc-104">Antes de que se pueda realizar una operación de copia, el archivo de código fuente debe cerrarse o abrirse únicamente para leerlo.</span><span class="sxs-lookup"><span data-stu-id="b58bc-104">Before a copy operation can be performed, the source file must be closed or opened only for reading.</span></span> <span data-ttu-id="b58bc-105">Ningún subproceso puede tener abierto el archivo de origen para escribir en él.</span><span class="sxs-lookup"><span data-stu-id="b58bc-105">No thread can have the the source file opened for writing.</span></span> <span data-ttu-id="b58bc-106">Para copiar un archivo existente en uno nuevo, utilice la función [**CopyFile**](/windows/desktop/api/WinBase/nf-winbase-copyfile) o [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) .</span><span class="sxs-lookup"><span data-stu-id="b58bc-106">To copy an existing file to a new one, use the [**CopyFile**](/windows/desktop/api/WinBase/nf-winbase-copyfile) or [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) function.</span></span> <span data-ttu-id="b58bc-107">Las aplicaciones pueden especificar si se produce un error de **CopyFile** y **CopyFileEx** si el archivo de destino ya existe.</span><span class="sxs-lookup"><span data-stu-id="b58bc-107">Applications can specify whether **CopyFile** and **CopyFileEx** fail if the destination file already exists.</span></span> <span data-ttu-id="b58bc-108">Si el archivo de destino existe y está abierto, debe haberse abierto con los permisos de uso compartido correspondientes.</span><span class="sxs-lookup"><span data-stu-id="b58bc-108">If the destination file does exist and is open, it must have been opened with applicable sharing permissions.</span></span> <span data-ttu-id="b58bc-109">Para obtener más información, vea [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea).</span><span class="sxs-lookup"><span data-stu-id="b58bc-109">For more information, see [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea).</span></span>

<span data-ttu-id="b58bc-110">La función [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) también permite a una aplicación especificar la dirección de una función de devolución de llamada (vea [**CopyProgressRoutine**](/windows/desktop/api/WinBase/nc-winbase-lpprogress_routine)) a la que se llama cada vez que se ha copiado otra parte del archivo.</span><span class="sxs-lookup"><span data-stu-id="b58bc-110">The [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) function also allows an application to specify the address of a callback function (see [**CopyProgressRoutine**](/windows/desktop/api/WinBase/nc-winbase-lpprogress_routine)) that is called each time another portion of the file has been copied.</span></span> <span data-ttu-id="b58bc-111">La aplicación puede usar esta información para mostrar un indicador que muestra el número total de bytes copiados como porcentaje del tamaño total del archivo.</span><span class="sxs-lookup"><span data-stu-id="b58bc-111">The application can use this information to display an indicator that shows the total number of bytes copied as a percent of the total file size.</span></span>

<span data-ttu-id="b58bc-112">La función [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) reemplaza un archivo por otro archivo, con la opción de crear una copia de seguridad del archivo original.</span><span class="sxs-lookup"><span data-stu-id="b58bc-112">The [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) function replaces one file with another file, with the option of creating a backup copy of the original file.</span></span> <span data-ttu-id="b58bc-113">La función conserva los atributos del archivo original, como la hora de creación, las ACL y el atributo de cifrado.</span><span class="sxs-lookup"><span data-stu-id="b58bc-113">The function preserves attributes of the original file, such as its creation time, ACLs, and encryption attribute.</span></span>

<span data-ttu-id="b58bc-114">Un archivo también debe cerrarse para que una aplicación pueda moverla.</span><span class="sxs-lookup"><span data-stu-id="b58bc-114">A file must also be closed before an application can move it.</span></span> <span data-ttu-id="b58bc-115">Las funciones [**MoveFile**](/windows/desktop/api/WinBase/nf-winbase-movefile) y [**MoveFileEx**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) copian un archivo existente en una nueva ubicación y elimina el original.</span><span class="sxs-lookup"><span data-stu-id="b58bc-115">The [**MoveFile**](/windows/desktop/api/WinBase/nf-winbase-movefile) and [**MoveFileEx**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) functions copy an existing file to a new location and deletes the original.</span></span>

<span data-ttu-id="b58bc-116">La función [**MoveFileEx**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) también permite a una aplicación especificar cómo se mueve el archivo.</span><span class="sxs-lookup"><span data-stu-id="b58bc-116">The [**MoveFileEx**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) function also allows an application to specify how to move the file.</span></span> <span data-ttu-id="b58bc-117">La función puede reemplazar un archivo existente, mover un archivo entre volúmenes y retrasar el traslado del archivo hasta que se reinicie el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="b58bc-117">The function can replace an existing file, move a file across volumes, and delay moving the file until the operating system is restarted.</span></span>

 

 



