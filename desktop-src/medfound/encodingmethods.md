---
description: Métodos de codificación
ms.assetid: 17ab5ecc-0173-4c5c-9d65-40e506ab7e07
title: Métodos de codificación (Microsoft Media Foundation)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: e4366f11ea9d120d638c5600f84fc16f6c5320f8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105714910"
---
# <a name="encoding-methods-microsoft-media-foundation"></a><span data-ttu-id="b20f9-103">Métodos de codificación (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="b20f9-103">Encoding Methods (Microsoft Media Foundation)</span></span>

<span data-ttu-id="b20f9-104">La mayoría de los códecs de Windows Media Audio y vídeo admiten varios métodos de codificación.</span><span class="sxs-lookup"><span data-stu-id="b20f9-104">Most of the Windows Media Audio and Video codecs support multiple encoding methods.</span></span> <span data-ttu-id="b20f9-105">Saber cómo y Cuándo usar cada método puede ayudarle a crear contenido comprimido de alta calidad.</span><span class="sxs-lookup"><span data-stu-id="b20f9-105">Knowing how and when to use each method can help you create high-quality compressed content.</span></span>

<span data-ttu-id="b20f9-106">Los métodos de codificación se centran en el búfer usado por el descodificador para administrar los datos de entrada comprimidos.</span><span class="sxs-lookup"><span data-stu-id="b20f9-106">The encoding methods all focus on the buffer used by the decoder to manage compressed input data.</span></span> <span data-ttu-id="b20f9-107">Este búfer se define por la velocidad de bits de la secuencia, en bits por segundo, y la ventana de búfer, en milisegundos.</span><span class="sxs-lookup"><span data-stu-id="b20f9-107">This buffer is defined by the bit rate of the stream, in bits per second, and the buffer window, in milliseconds.</span></span> <span data-ttu-id="b20f9-108">Al codificar, el códec se atiene a las restricciones del búfer.</span><span class="sxs-lookup"><span data-stu-id="b20f9-108">When encoding, the codec abides by the restraints of the buffer.</span></span> <span data-ttu-id="b20f9-109">Para obtener más información sobre el búfer, vea [el modelo de búfer de depósitos con fugas](the-leaky-bucket-buffer-model.md).</span><span class="sxs-lookup"><span data-stu-id="b20f9-109">For more information about the buffer, see [The Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span></span>

## <a name="constant-bit-rate-encoding"></a><span data-ttu-id="b20f9-110">Codificación de velocidad de bits constante</span><span class="sxs-lookup"><span data-stu-id="b20f9-110">Constant Bit Rate Encoding</span></span>

<span data-ttu-id="b20f9-111">La velocidad de bits de cualquier secuencia codificada mediante uno de los códecs de Windows Media Audio y vídeo no es constante.</span><span class="sxs-lookup"><span data-stu-id="b20f9-111">The bit rate for any stream encoded by one of the Windows Media Audio and Video codecs is not constant.</span></span> <span data-ttu-id="b20f9-112">La codificación de velocidad de bits constante (CBR) es, por lo tanto, un término engañoso en cierto modo.</span><span class="sxs-lookup"><span data-stu-id="b20f9-112">Constant bit rate (CBR) encoding is, therefore, a somewhat misleading term.</span></span> <span data-ttu-id="b20f9-113">La característica distintiva de una secuencia con codificación CBR es una pequeña ventana de búfer, que limita la variación de los tamaños de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="b20f9-113">The distinguishing feature of a CBR-encoded stream is a small buffer window, which limits the variation of sample sizes.</span></span> <span data-ttu-id="b20f9-114">La codificación CBR se utiliza principalmente para el contenido que se transmite a través de una red a su destino.</span><span class="sxs-lookup"><span data-stu-id="b20f9-114">CBR encoding is used primarily for content that is streamed over a network to its destination.</span></span> <span data-ttu-id="b20f9-115">En este escenario, es importante poder confiar en el uso de ancho de banda coherente.</span><span class="sxs-lookup"><span data-stu-id="b20f9-115">In such a scenario, it is important to be able to rely on consistent bandwidth usage.</span></span>

<span data-ttu-id="b20f9-116">Desde el punto de vista de la configuración, la codificación CBR difiere de los demás modos en que antes de empezar a codificar, se establece la velocidad de bits promedio del contenido de salida y la ventana de búfer que se aplica a esa velocidad de bits.</span><span class="sxs-lookup"><span data-stu-id="b20f9-116">From a configuration point of view, CBR encoding differs from the other modes in that before starting to encode, you set both the average bit rate of the output content, and the buffer window that applies to that bit rate.</span></span> <span data-ttu-id="b20f9-117">En otros modos, uno o ambos de estos valores son desconocidos al configurar el codificador y es calculado por el códec mientras se codifica.</span><span class="sxs-lookup"><span data-stu-id="b20f9-117">In other modes, one or both of those values is unknown when you configure the encoder, and is computed by the codec while it encodes.</span></span> <span data-ttu-id="b20f9-118">CBR es el modo de codificación estándar que usa Windows Media Encoder DMOs.</span><span class="sxs-lookup"><span data-stu-id="b20f9-118">CBR is the standard encoding mode used by the Windows Media Encoder DMOs.</span></span>

## <a name="two-pass-constant-bit-rate-encoding"></a><span data-ttu-id="b20f9-119">Two-Pass codificación de velocidad de bits constante</span><span class="sxs-lookup"><span data-stu-id="b20f9-119">Two-Pass Constant Bit Rate Encoding</span></span>

<span data-ttu-id="b20f9-120">Estándar CBR solo usa un único paso de codificación.</span><span class="sxs-lookup"><span data-stu-id="b20f9-120">Standard CBR uses only a single encoding pass.</span></span> <span data-ttu-id="b20f9-121">El contenido se proporciona como ejemplo de entrada y el códec comprime el contenido y devuelve ejemplos de salida.</span><span class="sxs-lookup"><span data-stu-id="b20f9-121">You provide your content as input samples, and the codec compresses the content and returns output samples.</span></span> <span data-ttu-id="b20f9-122">También es posible procesar dos ejemplos de entrada.</span><span class="sxs-lookup"><span data-stu-id="b20f9-122">It is also possible to process input samples twice.</span></span> <span data-ttu-id="b20f9-123">En el primer paso, el códec realiza cálculos para optimizar la codificación para el contenido.</span><span class="sxs-lookup"><span data-stu-id="b20f9-123">On the first pass, the codec performs calculations to optimize encoding for your content.</span></span> <span data-ttu-id="b20f9-124">En el segundo paso, el códec usa los datos recopilados durante el primer paso para codificar el contenido.</span><span class="sxs-lookup"><span data-stu-id="b20f9-124">On the second pass, the codec uses the data gathered during the first pass to encode the content.</span></span>

<span data-ttu-id="b20f9-125">La codificación CBR de dos pasos tiene muchas ventajas.</span><span class="sxs-lookup"><span data-stu-id="b20f9-125">Two-pass CBR encoding has many advantages.</span></span> <span data-ttu-id="b20f9-126">A menudo, proporciona mejoras de calidad significativas con respecto a la codificación CBR estándar sin cambiar ninguno de los requisitos de almacenamiento en búfer.</span><span class="sxs-lookup"><span data-stu-id="b20f9-126">It often yields significant quality gains over standard CBR encoding without changing any of the buffering requirements.</span></span> <span data-ttu-id="b20f9-127">Esto hace que este modo de codificación sea idóneo para el contenido que se transmite a través de una red.</span><span class="sxs-lookup"><span data-stu-id="b20f9-127">This makes this encoding mode ideal for content that is streamed over a network.</span></span> <span data-ttu-id="b20f9-128">La única situación en la que no es viable usar CBR de dos pasos es cuando se codifica contenido desde un origen en directo y no se puede utilizar un segundo paso.</span><span class="sxs-lookup"><span data-stu-id="b20f9-128">The only situation where two-pass CBR is not feasible is when you encode content from a live source and cannot use a second pass.</span></span>

<span data-ttu-id="b20f9-129">El tipo de medio de salida de una secuencia CBR de dos pasos es idéntico al de una secuencia CBR estándar; todavía se especifica la velocidad de bits y la ventana de búfer que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="b20f9-129">The output media type of a two-pass CBR stream is identical to that of a standard CBR stream; you still specify the bit rate and buffer window to use.</span></span> <span data-ttu-id="b20f9-130">Al configurar DMO, debe establecerlo para realizar dos pasos.</span><span class="sxs-lookup"><span data-stu-id="b20f9-130">When configuring the DMO, you must set it to perform two passes.</span></span> <span data-ttu-id="b20f9-131">Y debe notificar a DMO cuando haya terminado de enviar ejemplos para el primer paso.</span><span class="sxs-lookup"><span data-stu-id="b20f9-131">And you must notify the DMO when you are finished sending samples for the first pass.</span></span>

## <a name="quality-based-variable-bit-rate-encoding"></a><span data-ttu-id="b20f9-132">Quality-Based codificación de velocidad de bits variable</span><span class="sxs-lookup"><span data-stu-id="b20f9-132">Quality-Based Variable Bit Rate Encoding</span></span>

<span data-ttu-id="b20f9-133">Dado que la codificación CBR no mantiene realmente una velocidad de bits constante, la diferencia entre ella y la codificación de velocidad de bits variable (VBR) puede parecer un poco Hazy.</span><span class="sxs-lookup"><span data-stu-id="b20f9-133">Because CBR encoding does not actually maintain a constant bit rate, the distinction between it and variable bit rate encoding (VBR) may seem a little hazy.</span></span> <span data-ttu-id="b20f9-134">La principal diferencia entre CBR y VBR es el tamaño de la ventana de búfer utilizada.</span><span class="sxs-lookup"><span data-stu-id="b20f9-134">The primary difference between CBR and VBR is the size of the buffer window used.</span></span> <span data-ttu-id="b20f9-135">Las secuencias con codificación VBR suelen tener ventanas de búfer grandes en comparación con las secuencias con codificación CBR.</span><span class="sxs-lookup"><span data-stu-id="b20f9-135">VBR-encoded streams usually have large buffer windows compared to CBR-encoded streams.</span></span> <span data-ttu-id="b20f9-136">La VBR basada en la calidad no es una excepción, ya que no se define ninguna velocidad de bits ni ventana de búfer para ella.</span><span class="sxs-lookup"><span data-stu-id="b20f9-136">Quality-based VBR is no exception, in that you define neither bit rate nor buffer window for it.</span></span> <span data-ttu-id="b20f9-137">En su lugar, se establece un valor de calidad.</span><span class="sxs-lookup"><span data-stu-id="b20f9-137">Instead, you set a quality value.</span></span> <span data-ttu-id="b20f9-138">A continuación, el códec intenta comprimir los datos para que la calidad de los medios codificados sea coherente a lo largo de su duración, independientemente de los requisitos de búfer del flujo resultante.</span><span class="sxs-lookup"><span data-stu-id="b20f9-138">The codec then attempts to compress the data so that the quality of the encoded media is consistent throughout its duration, regardless of the buffer requirements of the resulting stream.</span></span>

<span data-ttu-id="b20f9-139">La VBR basada en la calidad utiliza un único paso de codificación y tiende a crear grandes flujos comprimidos.</span><span class="sxs-lookup"><span data-stu-id="b20f9-139">Quality-based VBR uses a single encoding pass and tends to create large compressed streams.</span></span> <span data-ttu-id="b20f9-140">Una vez completada la codificación, el códec establece los requisitos de búfer para que el descodificador pueda descomprimir los datos.</span><span class="sxs-lookup"><span data-stu-id="b20f9-140">When encoding is complete, the codec sets the buffer requirements so that the decoder can decompress the data.</span></span> <span data-ttu-id="b20f9-141">La secuencia VBR codificada no es adecuada para el streaming a través de una red, por lo que la VBR basada en la calidad debe usarse solo para escenarios de reproducción local (o descarga y reproducción).</span><span class="sxs-lookup"><span data-stu-id="b20f9-141">The encoded VBR stream is not suitable for streaming over a network, so quality-based VBR should be used only for local playback scenarios (or download and play).</span></span>

## <a name="unconstrained-variable-bit-rate-encoding"></a><span data-ttu-id="b20f9-142">Codificación de velocidad de bits variable sin restricciones</span><span class="sxs-lookup"><span data-stu-id="b20f9-142">Unconstrained Variable Bit Rate Encoding</span></span>

<span data-ttu-id="b20f9-143">A diferencia de VBR basada en la calidad, VBR no restringida no codifica en un nivel de calidad específico.</span><span class="sxs-lookup"><span data-stu-id="b20f9-143">Unlike quality-based VBR, unconstrained VBR does not encode to a specific quality level.</span></span> <span data-ttu-id="b20f9-144">En su lugar, codifica el contenido con la máxima calidad posible manteniendo una velocidad de bits especificada.</span><span class="sxs-lookup"><span data-stu-id="b20f9-144">Instead, it encodes the content to the highest possible quality while maintaining a specified bit rate.</span></span> <span data-ttu-id="b20f9-145">La VBR sin restricciones utiliza dos fases de codificación y es similar a la de dos pasos CBR, salvo que no se especifica una configuración de ventana de búfer para la secuencia.</span><span class="sxs-lookup"><span data-stu-id="b20f9-145">Unconstrained VBR uses two encoding passes and is similar to two-pass CBR, except that you do not specify a buffer window setting for the stream.</span></span> <span data-ttu-id="b20f9-146">Esto significa que no hay ningún límite en el tamaño de los ejemplos individuales de la secuencia, siempre que la velocidad de bits media sea menor o igual que el valor establecido.</span><span class="sxs-lookup"><span data-stu-id="b20f9-146">This means that there is no limit to the size of individual samples in the stream, as long as the average bit rate is less than or equal to the value you set.</span></span>

<span data-ttu-id="b20f9-147">La VBR sin restricción es de uso limitado, ya que hay pocos escenarios de reproducción que tienen requisitos para mantener sus requisitos de búfer.</span><span class="sxs-lookup"><span data-stu-id="b20f9-147">Unconstrained VBR is of limited use, because there are few playback scenarios that have requirements in keeping with its buffer requirements.</span></span> <span data-ttu-id="b20f9-148">El códec puede establecer la ventana de búfer en el valor que sea necesario después de la codificación, lo que no le permite controlar el tamaño del búfer.</span><span class="sxs-lookup"><span data-stu-id="b20f9-148">The codec can set the buffer window to whatever value is required after encoding, giving you no control over the buffer size.</span></span> <span data-ttu-id="b20f9-149">En la mayoría de los casos, si no le preocupa el tamaño del búfer o la coherencia del uso de ancho de banda, debe usar VBR basada en la calidad.</span><span class="sxs-lookup"><span data-stu-id="b20f9-149">In most cases, if you are not concerned about the size of the buffer or the consistency of bandwidth usage, you should use quality-based VBR.</span></span>

## <a name="peak-constrained-variable-bit-rate-encoding"></a><span data-ttu-id="b20f9-150">Peak-Constrained codificación de velocidad de bits variable</span><span class="sxs-lookup"><span data-stu-id="b20f9-150">Peak-Constrained Variable Bit Rate Encoding</span></span>

<span data-ttu-id="b20f9-151">El modo de codificación final es VBR máxima restringida.</span><span class="sxs-lookup"><span data-stu-id="b20f9-151">The final encoding mode is peak-constrained VBR.</span></span> <span data-ttu-id="b20f9-152">Al igual que VBR sin restricciones, este modo usa dos fases de codificación y codifica en una velocidad de bits especificada.</span><span class="sxs-lookup"><span data-stu-id="b20f9-152">Like unconstrained VBR, this mode uses two encoding passes and encodes to a specified bit rate.</span></span> <span data-ttu-id="b20f9-153">Sin embargo, con VBR máxima restringida también se configura el valor máximo para la codificación.</span><span class="sxs-lookup"><span data-stu-id="b20f9-153">However, with peak constrained VBR you also configure the peak value for the encoding.</span></span> <span data-ttu-id="b20f9-154">Los valores máximos son similares a los valores de configuración de búfer normales: hay una velocidad de bits máxima y una ventana de búfer máximo.</span><span class="sxs-lookup"><span data-stu-id="b20f9-154">Peak values are similar to normal buffer configuration values: there is a peak bit rate and a peak buffer window.</span></span> <span data-ttu-id="b20f9-155">El archivo está codificado para ajustarse a un búfer descrito por los valores máximos, con la condición de que la velocidad de bits media general de la secuencia sea igual o menor que el valor de velocidad de bits promedio que especifique.</span><span class="sxs-lookup"><span data-stu-id="b20f9-155">The file is encoded to conform to a buffer described by the peak values, with the condition that the overall average bit rate of the stream be equal to or less than the average bit rate value you specify.</span></span>

<span data-ttu-id="b20f9-156">La VBR restringida puede ser difícil de conceptualizar.</span><span class="sxs-lookup"><span data-stu-id="b20f9-156">Constrained VBR can be difficult to conceptualize.</span></span> <span data-ttu-id="b20f9-157">Esta es la forma más sencilla de pensar en el modelo de almacenamiento en búfer usado.</span><span class="sxs-lookup"><span data-stu-id="b20f9-157">Here is the easiest way to think of the buffering model used.</span></span> <span data-ttu-id="b20f9-158">Supongamos que el flujo es un flujo CBR con la velocidad de bits máxima y la ventana de búfer máxima que se usan para definir el búfer.</span><span class="sxs-lookup"><span data-stu-id="b20f9-158">Suppose the stream is a CBR stream with the peak bit rate and peak buffer window used to define the buffer.</span></span> <span data-ttu-id="b20f9-159">Normalmente, la velocidad de bits máxima es bastante alta.</span><span class="sxs-lookup"><span data-stu-id="b20f9-159">Typically, the peak bit rate is quite high.</span></span> <span data-ttu-id="b20f9-160">El codificador garantiza que el valor de velocidad de bits promedio esperado que indique se mantiene a lo largo de la duración de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="b20f9-160">The encoder ensures that the expected average bit rate value you indicate is maintained over the duration of the stream.</span></span> <span data-ttu-id="b20f9-161">En un punto concreto de la secuencia, se garantiza que la velocidad de bits promedio es mayor que el tamaño de flujo total en bits dividido por la duración de la secuencia en segundos).</span><span class="sxs-lookup"><span data-stu-id="b20f9-161">At any particular point in the stream, the average bit rate is guaranteed to be greater than the total stream size in bits divided by the stream duration in seconds).</span></span>

<span data-ttu-id="b20f9-162">Considere el ejemplo siguiente: configure una secuencia con una velocidad de bits media de 16.000 bits por segundo, una velocidad de bits máxima de 48.000 bits por segundo y una ventana de búfer máximo de 3.000 (3 segundos).</span><span class="sxs-lookup"><span data-stu-id="b20f9-162">Consider the following example: You configure a stream with an average bit rate of 16,000 bits per second, a peak bit rate of 48,000 bits per second, and a peak buffer window of 3,000 (3 seconds).</span></span> <span data-ttu-id="b20f9-163">El tamaño del búfer usado para el flujo es de 144.000 bits (48.000 bits por segundo x 3 segundos), según lo determinen los valores máximos.</span><span class="sxs-lookup"><span data-stu-id="b20f9-163">The size of the buffer used for the stream is 144,000 bits (48,000 bits per second x 3 seconds) as determined by the peak values.</span></span> <span data-ttu-id="b20f9-164">El codificador comprime los datos para que se ajusten a ese búfer.</span><span class="sxs-lookup"><span data-stu-id="b20f9-164">The encoder compresses the data to conform to that buffer.</span></span> <span data-ttu-id="b20f9-165">Además, la velocidad de bits media de la secuencia debe ser de 16.000 o inferior.</span><span class="sxs-lookup"><span data-stu-id="b20f9-165">Additionally, the average bit rate of the stream must be 16,000 or less.</span></span> <span data-ttu-id="b20f9-166">Si el codificador necesita realizar algunos ejemplos muy grandes para controlar un segmento complejo de contenido, puede aprovechar el tamaño de búfer grande.</span><span class="sxs-lookup"><span data-stu-id="b20f9-166">If the encoder needs to make some very large samples to handle a complex segment of content, it can take advantage of the large buffer size.</span></span> <span data-ttu-id="b20f9-167">Sin embargo, otras partes de la secuencia deben codificarse a una velocidad de bits más baja para reducir el promedio hasta el nivel especificado.</span><span class="sxs-lookup"><span data-stu-id="b20f9-167">But other parts of the stream must be encoded at a lower bit rate to bring the average down to the specified level.</span></span>

<span data-ttu-id="b20f9-168">La codificación VBR máxima limitada es útil para dispositivos de reproducción con una capacidad de búfer finita y algunas restricciones de velocidad de datos.</span><span class="sxs-lookup"><span data-stu-id="b20f9-168">Peak-constrained VBR encoding is useful for playback devices with a finite buffer capacity and some data rate constraints.</span></span> <span data-ttu-id="b20f9-169">Un ejemplo común es la codificación que se usa para los DVD.</span><span class="sxs-lookup"><span data-stu-id="b20f9-169">A common example of this is the encoding used for DVDs.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b20f9-170">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="b20f9-170">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b20f9-171">Usar la codificación VBR</span><span class="sxs-lookup"><span data-stu-id="b20f9-171">Using VBR Encoding</span></span>](usingvbrencoding.md)
</dt> <dt>

[<span data-ttu-id="b20f9-172">Códecs de Windows Media</span><span class="sxs-lookup"><span data-stu-id="b20f9-172">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 



