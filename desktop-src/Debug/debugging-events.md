---
description: Un evento de depuración es un incidente en el proceso que se está depurando que hace que el sistema notifique al depurador.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Eventos de depuración
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7d1f9f723e55b75b32d9f9e3cbf4baac0a8cc683dd3a5aa1b95a2931bceba29
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/11/2021
ms.locfileid: "119642195"
---
# <a name="debugging-events"></a>Eventos de depuración

Un evento de depuración es un incidente en el proceso que se está depurando que hace que el sistema notifique al depurador. Los eventos de depuración incluyen la creación de un proceso, la creación de un subproceso, la carga de una biblioteca de vínculos dinámicos (DLL), la descarga de un archivo DLL, el envío de una cadena de salida y la generación de una excepción.

Si se produce un evento de depuración mientras un depurador está esperando uno, el sistema rellena la estructura [**DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) especificada por [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) con información que describe el evento.

Cuando el sistema notifica al depurador de un evento de depuración, también suspende todos los subprocesos del proceso afectado. Los subprocesos no reanudan la ejecución hasta que el depurador continúa el evento de depuración mediante [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Los siguientes eventos de depuración pueden producirse mientras se depura un proceso.



| Evento de depuración                          | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CREATE \_ PROCESS \_ DEBUG \_ EVENT<br/> | Se genera cada vez que se crea un nuevo proceso en un proceso que se está depurando o cada vez que el depurador comienza a depurar un proceso ya activo. El sistema genera este evento de depuración antes de que el proceso comience a ejecutarse en modo de usuario y antes de que el sistema genere cualquier otro evento de depuración para el nuevo proceso. <br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura CREATE PROCESS DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) Esta estructura incluye un identificador para el nuevo proceso, un identificador para el archivo de imagen del proceso, un identificador para el subproceso inicial del proceso y otra información que describe el nuevo proceso.<br/> El identificador del proceso tiene acceso PROCESS \_ VM READ y PROCESS VM \_ \_ \_ WRITE. Si un depurador tiene estos tipos de acceso a un subproceso, puede leer y escribir en la memoria del proceso mediante las funciones [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) y [**WriteProcessMemory.**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) Si el sistema informó previamente de un evento EXIT PROCESS DEBUG EVENT, el sistema cierra este identificador cuando el depurador llama a \_ \_ la función \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> El identificador del archivo de imagen del proceso tiene acceso DE \_ LECTURA GENÉRICO y se abre para el uso compartido de lectura. El depurador debe cerrar este identificador mientras se procesa CREATE \_ PROCESS \_ DEBUG \_ EVENT.<br/> El identificador del subproceso inicial del proceso tiene acceso THREAD GET CONTEXT, THREAD SET CONTEXT y \_ THREAD SUSPEND RESUME al \_ \_ \_ \_ \_ subproceso. Si un depurador tiene estos tipos de acceso a un subproceso, puede leer y escribir en los registros del subproceso mediante las funciones [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) y [**SetThreadContext,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) y puede suspender y reanudar el subproceso mediante las funciones [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) y [**ResumeThread.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) Si el sistema informó previamente de un evento EXIT PROCESS DEBUG EVENT, el sistema cierra este identificador cuando el depurador llama a \_ \_ la función \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> |
| CREATE \_ THREAD \_ DEBUG \_ EVENT<br/>  | Se genera cada vez que se crea un subproceso en un proceso que se está depurando o cada vez que el depurador comienza a depurar un proceso ya activo. Este evento de depuración se genera antes de que el nuevo subproceso comience a ejecutarse en modo de usuario. <br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura CREATE THREAD DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) Esta estructura incluye un identificador para el nuevo subproceso y la dirección inicial del subproceso. El identificador tiene acceso \_ THREAD GET \_ CONTEXT, THREAD SET CONTEXT y \_ THREAD SUSPEND RESUME al \_ \_ \_ subproceso. Si un depurador tiene estos tipos de acceso a un subproceso, puede leer y escribir en los registros del subproceso mediante las funciones [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) y [**SetThreadContext,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) y puede suspender y reanudar el subproceso mediante las funciones [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) y [**ResumeThread.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)<br/> Si el sistema informó previamente de un evento EXIT THREAD DEBUG EVENT, el sistema cierra el identificador al nuevo subproceso cuando el depurador llama a la \_ \_ función \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| EVENTO DE \_ DEPURACIÓN DE \_ EXCEPCIONES<br/>       | Se genera siempre que se produce una excepción en el proceso que se está depurando. Las posibles excepciones incluyen intentar acceder a la memoria inaccesible, ejecutar instrucciones de punto de interrupción, intentar dividir por cero o cualquier otra excepción anotada en Control estructurado de [excepciones](structured-exception-handling.md). <br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura EXCEPTION DEBUG \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) Esta estructura describe la excepción que produjo el evento de depuración.<br/> Además de las condiciones de excepción estándar, puede producirse un código de excepción adicional durante la depuración del proceso de la consola. El sistema genera un código de excepción DBG CONTROL C cuando CTRL+C se introduce en un proceso de consola que controla \_ \_ las señales CTRL+C y se está depurando. Este código de excepción no está pensado para que lo controle la aplicación. Una aplicación nunca debe usar un controlador de excepciones para tratar con ella. Solo se genera para beneficio del depurador y solo se usa cuando un depurador está asociado al proceso de consola.<br/> Si no se depura un proceso o si el depurador pasa la excepción DBG CONTROL C no controlada (a través del comando cli), se busca en la lista de funciones de controlador de la aplicación, como se documenta para la función \_ \_ [**SetConsoleCtrlHandler.**](/windows/console/setconsolectrlhandler)<br/> Si el depurador controla la excepción DBG CONTROL C (mediante el comando gh), una aplicación no observará ctrl+C excepto en código \_ \_ como este.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Por lo tanto, no se puede usar el depurador para impedir que la espera de lectura en este código finalice.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EVENTO EXIT \_ PROCESS \_ DEBUG \_<br/>   | Se genera cada vez que sale el último subproceso de un proceso que se está depurando. Este evento de depuración se produce inmediatamente después de que el sistema descargue los archivos DLL del proceso y actualice el código de salida del proceso. <br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura EXIT PROCESS DEBUG \_ \_ \_ INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) que especifica el código de salida.<br/> El depurador desasigna las estructuras internas asociadas al proceso al recibir este evento de depuración. El sistema cierra el identificador del depurador al proceso de salida y a todos los subprocesos del proceso. El depurador no debe cerrar estos identificadores.<br/> La parte en modo kernel del cierre del proceso no se puede completar hasta que el depurador que recibe este evento llame [**a ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Hasta entonces, los identificadores de proceso están abiertos y no se libera el espacio de direcciones virtuales, por lo que el depurador puede examinar el proceso secundario. Para recibir una notificación cuando se complete la parte en modo kernel del cierre del proceso, duplique el identificador devuelto con CREATE PROCESS DEBUG EVENT, llame a \_ \_ \_ **ContinueDebugEvent** y, a continuación, espere a que se señale el identificador de proceso duplicado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| EVENTO EXIT \_ THREAD \_ DEBUG \_<br/>    | Se genera cada vez que se cierra un subproceso que forma parte de un proceso que se está depurando. El sistema genera este evento de depuración inmediatamente después de actualizar el código de salida del subproceso. <br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura EXIT THREAD DEBUG \_ \_ \_ INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) que especifica el código de salida.<br/> Este evento de depuración no se produce si el subproceso que sale es el último subproceso de un proceso. En este caso, se produce el evento \_ de depuración EXIT PROCESS \_ DEBUG EVENT en su \_ lugar.<br/> El depurador desasigne las estructuras internas asociadas al subproceso al recibir este evento de depuración. El sistema cierra el identificador del depurador al subproceso que sale. El depurador no debe cerrar este identificador.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| EVENTO DE \_ \_ DEPURACIÓN DE DLL \_ DE CARGA<br/>       | Se genera cada vez que un proceso que se está depurando carga un archivo DLL. Este evento de depuración se produce cuando el cargador del sistema resuelve vínculos a un archivo DLL o cuando el proceso depurado usa la [**función LoadLibrary.**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) Este evento de depuración solo se produce la primera vez que el sistema adjunta un archivo DLL al espacio de direcciones virtuales de un proceso. <br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura LOAD DLL DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) Esta estructura incluye un identificador para el archivo DLL recién cargado, la dirección base del archivo DLL y otra información que describe el archivo DLL. El depurador debe cerrar el identificador al identificador de DLL mientras se procesa LOAD \_ DLL \_ DEBUG \_ EVENT.<br/> Normalmente, un depurador carga una tabla de símbolos asociada al archivo DLL al recibir este evento de depuración.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| EVENTO DE \_ CADENA \_ DE \_ DEPURACIÓN DE SALIDA<br/>  | Se genera cuando un proceso que se está depurando usa el <br/>[**Función OutputDebugString.**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura OUTPUT DEBUG STRING \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) Esta estructura especifica la dirección, la longitud y el formato de la cadena de depuración.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| EVENTO DE \_ \_ DEPURACIÓN DE DLL \_ UNLOAD<br/>     | Se genera cada vez que un proceso que se está depurando descarga un archivo DLL mediante la [**función FreeLibrary.**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) Este evento de depuración solo se produce la última vez que se descarga un archivo DLL del espacio de direcciones de un proceso (es decir, cuando el recuento de uso del archivo DLL es cero). <br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura UNLOAD DLL DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) Esta estructura especifica la dirección base del archivo DLL en el espacio de direcciones del proceso que descarga el archivo DLL.<br/> Normalmente, un depurador descarga una tabla de símbolos asociada al archivo DLL al recibir este evento de depuración.<br/> Cuando se cierra un proceso, el sistema descarga automáticamente los archivos DLL del proceso, pero no genera un evento de depuración UNLOAD \_ DLL \_ DEBUG \_ EVENT.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EVENTO \_ RIP<br/>                    | Se genera cada vez que un proceso que se depura se encuentra fuera del control del depurador del sistema.<br/> La [**estructura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**estructura RIP \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) Esta estructura especifica el error y el tipo de error.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
