---
title: Depurar con símbolos
description: En este artículo se proporciona información general de alto nivel sobre cómo usar mejor los símbolos en el proceso de depuración.
ms.assetid: 7ce0c9c7-485c-8d72-0353-27fd2e369a7c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff63e2404a07a2f0ab5adcb156d83dc989b42fd4
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104533327"
---
# <a name="debugging-with-symbols"></a><span data-ttu-id="30009-103">Depurar con símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-103">Debugging with Symbols</span></span>

<span data-ttu-id="30009-104">En este artículo se proporciona información general de alto nivel sobre cómo usar mejor los símbolos en el proceso de depuración.</span><span class="sxs-lookup"><span data-stu-id="30009-104">This article provides a high level overview of how to best use symbols in your debugging process.</span></span> <span data-ttu-id="30009-105">Explica cómo usar el servidor de símbolos de Microsoft y también cómo configurar y usar su propio servidor de símbolos privado.</span><span class="sxs-lookup"><span data-stu-id="30009-105">It explains how to use the Microsoft symbol server, and also how to set up and use your own private symbol server.</span></span> <span data-ttu-id="30009-106">Estos procedimientos recomendados pueden ayudar a aumentar la eficacia y la capacidad de depurar problemas, incluso en los casos en los que todos los símbolos y archivos ejecutables relacionados con un problema no se encuentran en el equipo.</span><span class="sxs-lookup"><span data-stu-id="30009-106">These best practices can help increase your effectiveness and ability to debug issues, even in cases where all the symbols and executable files that are related to a problem are not located on your computer.</span></span>

-   [<span data-ttu-id="30009-107">Symbols</span><span class="sxs-lookup"><span data-stu-id="30009-107">Symbols</span></span>](#debugging-with-symbols)
-   [<span data-ttu-id="30009-108">Usar símbolos para la depuración</span><span class="sxs-lookup"><span data-stu-id="30009-108">Using Symbols for Debugging</span></span>](#using-symbols-for-debugging)
-   [<span data-ttu-id="30009-109">Obtener los símbolos necesarios</span><span class="sxs-lookup"><span data-stu-id="30009-109">Getting the Symbols You Need</span></span>](#getting-the-symbols-you-need)
    -   [<span data-ttu-id="30009-110">Comprobar si un archivo DLL o. exe determinado y PDB en la misma carpeta coinciden</span><span class="sxs-lookup"><span data-stu-id="30009-110">Check if a given DLL or .exe file and PDB in the same folder match</span></span>](#check-if-a-given-dll-or-exe-file-and-pdb-in-the-same-folder-match)
    -   [<span data-ttu-id="30009-111">Compruebe si todos los archivos dll y ejecutables de un conjunto de carpetas tienen PDB coincidentes</span><span class="sxs-lookup"><span data-stu-id="30009-111">Check if all the DLLs and executable files in a set of folders have matching PDBs</span></span>](#check-if-all-the-dlls-and-executable-files-in-a-set-of-folders-have-matching-pdbs)
    -   [<span data-ttu-id="30009-112">Cómo funciona Symchk</span><span class="sxs-lookup"><span data-stu-id="30009-112">How symchk Works</span></span>](#how-symchk-works)
-   [<span data-ttu-id="30009-113">Servidores de símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-113">Symbol Servers</span></span>](#symbol-servers)
-   [<span data-ttu-id="30009-114">Usar el servidor de símbolos de Microsoft</span><span class="sxs-lookup"><span data-stu-id="30009-114">Using the Microsoft Symbol Server</span></span>](#using-the-microsoft-symbol-server)
-   [<span data-ttu-id="30009-115">Obtener símbolos manualmente</span><span class="sxs-lookup"><span data-stu-id="30009-115">Getting Symbols Manually</span></span>](#getting-symbols-manually)
-   [<span data-ttu-id="30009-116">Configuración de un servidor de símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-116">Setting Up a Symbol Server</span></span>](#setting-up-a-symbol-server)
-   [<span data-ttu-id="30009-117">Agregar símbolos a un servidor de símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-117">Adding Symbols to a Symbol Server</span></span>](#adding-symbols-to-a-symbol-server)
-   [<span data-ttu-id="30009-118">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="30009-118">Best Practices</span></span>](#best-practices)

## <a name="symbols"></a><span data-ttu-id="30009-119">Símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-119">Symbols</span></span>

<span data-ttu-id="30009-120">Hay varios tipos diferentes de símbolos disponibles para la depuración.</span><span class="sxs-lookup"><span data-stu-id="30009-120">A number of different types of symbols are available for debugging.</span></span> <span data-ttu-id="30009-121">Incluyen símbolos CodeView, COFF, DBG, SYM, PDB e incluso exportan símbolos generados a partir de una tabla de exportación de archivos binarios.</span><span class="sxs-lookup"><span data-stu-id="30009-121">They include CodeView symbols, COFF, DBG, SYM, PDB, and even export symbols that are generated from a binary files export table.</span></span> <span data-ttu-id="30009-122">En estas notas del producto solo se describen los símbolos de formato de VS.NET y PDB, ya que son el formato preferido más reciente.</span><span class="sxs-lookup"><span data-stu-id="30009-122">This white paper discusses only VS.NET and the PDB format symbols, because they are the most recent, preferred format.</span></span> <span data-ttu-id="30009-123">Se generan de forma predeterminada para los proyectos que se compilan con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="30009-123">They are generated by default for projects that are compiled by using Visual Studio.</span></span>

<span data-ttu-id="30009-124">La generación de archivos PDB para archivos ejecutables de versión no afecta a las optimizaciones ni altera significativamente el tamaño de los archivos generados.</span><span class="sxs-lookup"><span data-stu-id="30009-124">Generating PDB files for release executables does not affect any optimizations, or significantly alter the size of the generated files.</span></span> <span data-ttu-id="30009-125">Normalmente, la única diferencia es la ruta de acceso y el nombre de archivo del archivo PDB se incrusta en el ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-125">Typically, the only difference is the path, and the file name of the PDB file is embedded in the executable.</span></span> <span data-ttu-id="30009-126">Por esta razón, siempre debe generar archivos PDB, incluso si no desea enviarlos con el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-126">For this reason, you should always produce PDB files, even if you don't want to ship them with the executable.</span></span>

<span data-ttu-id="30009-127">Los archivos PDB se generan si un proyecto se genera mediante el modificador de compilador **/Zi** o **/Zi** (generar información de PDB), junto con el modificador **/Debug** (generar información de depuración) del enlazador.</span><span class="sxs-lookup"><span data-stu-id="30009-127">PDB files are generated if a project is built by using the **/Zi** or **/ZI** (Produce PDB Information) compiler switch, together with the **/DEBUG** (Generate Debug Info) linker switch.</span></span> <span data-ttu-id="30009-128">Los archivos PDB generados por el compilador se combinan y se escriben en un único archivo PDB que se coloca en el mismo directorio que el ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-128">The compiler-generated PDB files are combined and written into a single PDB file that is placed in the same directory as the executable.</span></span>

<span data-ttu-id="30009-129">De forma predeterminada, los archivos PDB contienen la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="30009-129">By default, PDB files contain the following information:</span></span>

-   <span data-ttu-id="30009-130">Símbolos públicos (normalmente todas las funciones, variables estáticas y globales)</span><span class="sxs-lookup"><span data-stu-id="30009-130">Public symbols (typically all functions, static and global variables)</span></span>
-   <span data-ttu-id="30009-131">Una lista de archivos objeto que son responsables de las secciones de código del archivo ejecutable</span><span class="sxs-lookup"><span data-stu-id="30009-131">A list of object files that are responsible for sections of code in the executable</span></span>
-   <span data-ttu-id="30009-132">Información de optimización del puntero de marco (FPO)</span><span class="sxs-lookup"><span data-stu-id="30009-132">Frame pointer optimization information (FPO)</span></span>
-   <span data-ttu-id="30009-133">Información de nombre y tipo para las variables locales y las estructuras de datos</span><span class="sxs-lookup"><span data-stu-id="30009-133">Name and type information for local variables and data structures</span></span>
-   <span data-ttu-id="30009-134">Información del archivo de código fuente y del número de línea</span><span class="sxs-lookup"><span data-stu-id="30009-134">Source file and line number information</span></span>

<span data-ttu-id="30009-135">Si le preocupa que los usuarios usen la información del archivo PDB para ayudarles a aplicar ingeniería inversa a su archivo ejecutable, también puede generar archivos PDB eliminados mediante la opción del enlazador **/PDBSTRIPPED: filename** .</span><span class="sxs-lookup"><span data-stu-id="30009-135">If you are concerned about people using the PDB file information to help them reverse engineer your executable, you can also generate stripped PDB files, by using the **/PDBSTRIPPED:filename** linker option.</span></span> <span data-ttu-id="30009-136">Si tiene archivos PDB existentes de los que desea quitar información privada, puede usar una herramienta denominada pdbcopy, que forma parte de las herramientas de depuración para Windows.</span><span class="sxs-lookup"><span data-stu-id="30009-136">If you have existing PDB files that you would like to strip private information from, you can use a tool called pdbcopy, which is part of the debugging tools for Windows.</span></span>

<span data-ttu-id="30009-137">De forma predeterminada, los archivos PDB eliminados contienen la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="30009-137">By default, stripped PDB files contain the following information:</span></span>

-   <span data-ttu-id="30009-138">Símbolos públicos (normalmente solo funciones no estáticas y variables globales)</span><span class="sxs-lookup"><span data-stu-id="30009-138">Public symbols (typically only non-static functions and global variables)</span></span>
-   <span data-ttu-id="30009-139">Una lista de archivos objeto que son responsables de las secciones de código del archivo ejecutable</span><span class="sxs-lookup"><span data-stu-id="30009-139">A list of object files that are responsible for sections of code in the executable</span></span>
-   <span data-ttu-id="30009-140">Información de optimización del puntero de marco (FPO)</span><span class="sxs-lookup"><span data-stu-id="30009-140">Frame pointer optimization information (FPO)</span></span>

<span data-ttu-id="30009-141">Esta es la información mínima necesaria para permitir la depuración confiable.</span><span class="sxs-lookup"><span data-stu-id="30009-141">This is the minimum information that is required to allow reliable debugging.</span></span> <span data-ttu-id="30009-142">La información mínima también dificulta la obtención de información adicional sobre el código fuente original.</span><span class="sxs-lookup"><span data-stu-id="30009-142">Minimum information also makes it difficult to obtain any additional information about your original source code.</span></span> <span data-ttu-id="30009-143">Dado que se generan tanto un archivo PDB eliminado como un archivo PDB normal, puede proporcionar la versión descargada a los usuarios que puedan necesitar capacidades de depuración limitadas, pero mantener la confidencialidad de los PDB completos.</span><span class="sxs-lookup"><span data-stu-id="30009-143">Because both a stripped PDB file and a regular PDB file are generated, you can provide the stripped version to users who may need limited debugging abilities, but keep the full PDBs confidential.</span></span> <span data-ttu-id="30009-144">Tenga en cuenta que **/PDBSTRIPPED** genera un segundo archivo PDB más pequeño, por lo que debe asegurarse de que usa el archivo PDB correcto al generar las compilaciones para distribuir de manera amplia.</span><span class="sxs-lookup"><span data-stu-id="30009-144">Note that **/PDBSTRIPPED** generates a second, smaller PDB file, so make sure that you use the correct PDB file when you generate builds to distribute broadly.</span></span> <span data-ttu-id="30009-145">En un proyecto típico, un archivo PDB normal puede tener unos pocos megabytes de tamaño, pero una versión desutilizada de la PDB puede tener solo unos pocos cientos de kilobytes.</span><span class="sxs-lookup"><span data-stu-id="30009-145">For a typical project, a regular PDB may be a few megabytes in size, but a stripped version of the PDB may be only a few hundred kilobytes.</span></span>

## <a name="using-symbols-for-debugging"></a><span data-ttu-id="30009-146">Usar símbolos para la depuración</span><span class="sxs-lookup"><span data-stu-id="30009-146">Using Symbols for Debugging</span></span>

<span data-ttu-id="30009-147">Al depurar una aplicación que se ha bloqueado, el depurador intenta mostrarle las funciones de la pila que dieron lugar al bloqueo.</span><span class="sxs-lookup"><span data-stu-id="30009-147">When you are debugging an application that has crashed, the debugger attempts to show you the functions on the stack that led up to the crash.</span></span> <span data-ttu-id="30009-148">Sin un archivo PDB, el depurador no puede resolver los nombres de función, sus parámetros o las variables locales almacenadas en la pila.</span><span class="sxs-lookup"><span data-stu-id="30009-148">Without a PDB file, the debugger can not resolve the function names, their parameters, or any local variables that are stored on the stack.</span></span> <span data-ttu-id="30009-149">Si depura ejecutables de 32 bits, existen situaciones en las que no puede incluso obtener seguimientos de pila confiables sin símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-149">If you debug 32-bit executables, there are situations where you cannot even get reliable stack traces without symbols.</span></span> <span data-ttu-id="30009-150">A veces es posible examinar los valores sin formato de la pila y averiguar qué valores se pueden devolver direcciones, pero se pueden confundir fácilmente con las referencias a funciones o los datos.</span><span class="sxs-lookup"><span data-stu-id="30009-150">Sometimes it's possible to look at the raw values on the stack, and work out which values might be return addresses, but these can be easily confused with function references or data.</span></span>

<span data-ttu-id="30009-151">Si las funciones de la pila actual se compilaron mediante la optimización del método omitir punteros de marco (**/Oy**) y si los símbolos no están presentes, el depurador no puede determinar de forma confiable qué función llamó a la función actual.</span><span class="sxs-lookup"><span data-stu-id="30009-151">If functions on the current stack were compiled by using the Omit Frame Pointers (**/Oy**) optimization, and if symbols are not present, the debugger cannot reliably determine which function called the current function.</span></span> <span data-ttu-id="30009-152">Esto se debe a que, sin la información de optimización del puntero de marco (FPO) que contienen los archivos PDB, el depurador no puede confiar en el registro de puntero de marco (EBP) para apuntar al puntero de marco anterior guardado y en la dirección de devolución de la función primaria.</span><span class="sxs-lookup"><span data-stu-id="30009-152">This is because without the Frame Pointer Optimization (FPO) information that PDBs contain, the debugger cannot rely on the frame pointer register (EBP) to point at the saved previous frame pointer and at the return address of the parent function.</span></span> <span data-ttu-id="30009-153">En su lugar, se adivina.</span><span class="sxs-lookup"><span data-stu-id="30009-153">Instead, it guesses.</span></span> <span data-ttu-id="30009-154">A veces, se obtiene correcto.</span><span class="sxs-lookup"><span data-stu-id="30009-154">Sometimes it gets it right.</span></span> <span data-ttu-id="30009-155">Sin embargo, a menudo se equivoca, lo que puede ser engañoso.</span><span class="sxs-lookup"><span data-stu-id="30009-155">However, it often gets it wrong, which can be misleading.</span></span> <span data-ttu-id="30009-156">Si aparece una advertencia sobre los símbolos que faltan o no se han cargado símbolos, como en el ejemplo siguiente, no confíe en la pila desde ese punto hacia abajo.</span><span class="sxs-lookup"><span data-stu-id="30009-156">If you see a warning about missing symbols, or no symbols loaded, as in the following example, do not trust the stack from that point down.</span></span>

``` syntax
SWPerfTest.exe!TextFunction(... ...)    Line 59    C++
d3dx9d.dll!008829b5()
[Frames below may be incorrect and/or missing, no symbols loaded for d3dx9d.dll]
SWPerfTest.exe!main(int argc=, const char * * argv=)  Line 328 + 0x12 bytes     C++
SWPerfTest.exe!__mainCRTStartup() Line 716 + 0x17 bytes    C
kernel32.dll!@BaseThreadInitThunk@12() + 0x12 bytes
ntdll.dll!__RtlUserThreadStart@8() + 0x27 bytes
```

<span data-ttu-id="30009-157">En muchos casos, es posible continuar con la depuración sin símbolos, ya que el problema se encuentra en una ubicación con símbolos precisos y no es necesario examinar las funciones más abajo en la pila de llamadas.</span><span class="sxs-lookup"><span data-stu-id="30009-157">In many cases, it's possible to continue debugging without symbols, because the problem is in a location that has accurate symbols, and you don't need to look at functions further down the call stack.</span></span> <span data-ttu-id="30009-158">Incluso si una biblioteca que está en la pila de llamadas no tiene archivos PDB disponibles, siempre y cuando se compilaran con punteros de Marcos, el depurador debería ser capaz de adivinar correctamente en las funciones primarias.</span><span class="sxs-lookup"><span data-stu-id="30009-158">Even if a library that is in your call stack doesn't have PDBs available, as long as they were compiled with frame pointers, the debugger should be able to guess correctly at the parent functions.</span></span> <span data-ttu-id="30009-159">A partir de Windows XP Service Pack 2, todos los archivos ejecutables y DLL de Windows se compilan con FPO deshabilitado, ya que hace que la depuración sea más precisa.</span><span class="sxs-lookup"><span data-stu-id="30009-159">Starting with Windows XP Service Pack 2, all Windows DLL and executable files are compiled with FPO disabled, because it makes debugging more accurate.</span></span> <span data-ttu-id="30009-160">Deshabilitar FPO también permite que los profileres de muestreo recorran la pila durante el tiempo de ejecución, con un impacto mínimo en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="30009-160">Disabling FPO also allows sampling profilers to walk the stack during run-time, with minimal performance impact.</span></span> <span data-ttu-id="30009-161">En las versiones de Windows anteriores a Windows XP SP2, todos los archivos binarios del sistema operativo requieren archivos de símbolos coincidentes que contengan información de FPO, para permitir la depuración y generación de perfiles precisas.</span><span class="sxs-lookup"><span data-stu-id="30009-161">On versions of Windows before Windows XP SP2, all operating system binaries require matching symbol files that contain FPO information, to allow accurate debugging and profiling.</span></span>

<span data-ttu-id="30009-162">Si depura ejecutables nativos de 64 bits, no necesita archivos de símbolos para generar seguimientos de pila válidos, ya que los sistemas operativos y los compiladores x64 están diseñados para no requerirlos.</span><span class="sxs-lookup"><span data-stu-id="30009-162">If you debug 64-bit native executables, you do not need symbol files to produce valid stack traces, because x64 operating systems and compilers are designed not to require them.</span></span> <span data-ttu-id="30009-163">Sin embargo, todavía necesita archivos de símbolos para recuperar los nombres de función, llamar a parámetros y variables locales.</span><span class="sxs-lookup"><span data-stu-id="30009-163">However, you still need symbol files to retrieve the function names, call parameters and local variables.</span></span>

<span data-ttu-id="30009-164">Sin embargo, algunos casos son especialmente difíciles de depurar sin símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-164">However, some cases are particularly difficult to debug without symbols.</span></span> <span data-ttu-id="30009-165">Por ejemplo, si depura un programa para el que ha generado un archivo PDB y se bloquea en una devolución de llamada de una función de un archivo DLL para el que no tiene símbolos, no podrá ver qué función produjo la devolución de llamada, porque no podrá descodificar la pila.</span><span class="sxs-lookup"><span data-stu-id="30009-165">For example, if you debug a program for which you built a PDB file, and if you crash in a callback from a function in a DLL that you don't have symbols for, you will not be able to see which function caused the callback, because you will not be able to decode the stack.</span></span> <span data-ttu-id="30009-166">Esto sucede con frecuencia en bibliotecas de terceros, si no se proporcionan PDB o en componentes del sistema operativo anteriores, si los archivos PDB no están disponibles.</span><span class="sxs-lookup"><span data-stu-id="30009-166">This frequently happens in third-party libraries, if PDBs are not provided, or in old operating system components, if PDBs are not available.</span></span> <span data-ttu-id="30009-167">Las devoluciones de llamada suelen ocurrir durante el paso de mensajes, la enumeración, la asignación de memoria o el control de excepciones.</span><span class="sxs-lookup"><span data-stu-id="30009-167">Callbacks often happen during message passing, enumeration, memory allocation, or exception handling.</span></span> <span data-ttu-id="30009-168">La depuración de estas funciones sin una pila precisa puede ser frustrante.</span><span class="sxs-lookup"><span data-stu-id="30009-168">Debugging these functions without an accurate stack can be frustrating.</span></span>

<span data-ttu-id="30009-169">Para depurar de forma confiable los minivolcados que se generan en un equipo diferente o que se bloquean en código que no es de su propiedad, es importante poder tener acceso a todos los símbolos y archivos binarios de los ejecutables a los que se hace referencia en el minivolcado.</span><span class="sxs-lookup"><span data-stu-id="30009-169">To reliably debug mini-dumps that are generated on a different computer, or that crashed in code that you do not own, it's important to be able to access all the symbols and binaries for the executables that are referenced in the mini-dump.</span></span> <span data-ttu-id="30009-170">Si los símbolos y los archivos binarios están disponibles en un servidor de símbolos, el depurador los obtiene automáticamente.</span><span class="sxs-lookup"><span data-stu-id="30009-170">If the symbols and binaries are available from a symbol server, they are automatically obtained by the debugger.</span></span> <span data-ttu-id="30009-171">Para obtener más información acerca de los volcados de memoria, vea las notas del producto [análisis de volcado](/windows/desktop/DxTechArts/crash-dump-analysis) de memoria.</span><span class="sxs-lookup"><span data-stu-id="30009-171">For more information on mini-dumps, see the [Crash Dump Analysis](/windows/desktop/DxTechArts/crash-dump-analysis) white paper.</span></span>

## <a name="getting-the-symbols-you-need"></a><span data-ttu-id="30009-172">Obtener los símbolos necesarios</span><span class="sxs-lookup"><span data-stu-id="30009-172">Getting the Symbols You Need</span></span>

<span data-ttu-id="30009-173">Visual Studio y otros depuradores de Microsoft, como WinDbg, se configuran normalmente para que solo funcionen si va a compilar una aplicación y depurarla en su propio equipo.</span><span class="sxs-lookup"><span data-stu-id="30009-173">Visual Studio and other Microsoft debuggers, such as WinDbg, are typically set up to just work if you are building an application and debugging it on your own computer.</span></span> <span data-ttu-id="30009-174">Si tiene que proporcionar su archivo ejecutable a otra persona, si tiene varias versiones de un archivo DLL o. exe en el equipo, o si desea depurar con precisión una aplicación que usa Windows u otras bibliotecas, como DirectX, debe entender cómo los depuradores detectan y cargan los símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-174">If you need to give your executable to someone else, if you have multiple versions of a DLL or an .exe file on your computer, or if you want to accurately debug an application that uses Windows or other libraries, such as DirectX, you need to understand how debuggers find and load symbols.</span></span> <span data-ttu-id="30009-175">El depurador utiliza la ruta de acceso de búsqueda de símbolos especificada por el usuario, que se encuentra en opciones de \\ depuración \\ de símbolos en Visual Studio, o en la \_ variable de entorno de ruta de acceso de símbolos NT \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="30009-175">The debugger uses either the symbol search path that is specified by the user—which is found in Options\\Debugging\\Symbols in Visual Studio—or the \_NT\_SYMBOL\_PATH environment variable.</span></span> <span data-ttu-id="30009-176">Normalmente, el depurador busca archivos PDB coincidentes en las siguientes ubicaciones:</span><span class="sxs-lookup"><span data-stu-id="30009-176">Typically, the debugger searches for matching PDBs in the following locations:</span></span>

-   <span data-ttu-id="30009-177">La ubicación que se especifica dentro del archivo DLL o el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-177">The location that is specified inside the DLL or the executable file.</span></span>

    <span data-ttu-id="30009-178">Si ha creado una DLL o un archivo ejecutable en el equipo, de forma predeterminada el vinculador coloca la ruta de acceso completa y el nombre de archivo del archivo PDB asociado dentro de la DLL o el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-178">If you have built a DLL or an executable file on your computer, by default the linker places the full path and file name of the associated PDB file inside the DLL or the executable file.</span></span> <span data-ttu-id="30009-179">Al depurar, el depurador comprueba primero si el archivo de símbolos existe en la ubicación especificada dentro de la DLL o el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-179">When you debug, the debugger first checks to see if the symbol file exists in the location that is specified inside the DLL or the executable file.</span></span> <span data-ttu-id="30009-180">Esto resulta útil porque siempre hay símbolos disponibles para el código que ha compilado en el equipo.</span><span class="sxs-lookup"><span data-stu-id="30009-180">This is helpful, because you always have symbols available for code that you have compiled on your computer.</span></span>

-   <span data-ttu-id="30009-181">PDB que pueden encontrarse en la misma carpeta que la DLL o el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-181">PDBs that may be present in the same folder as the DLL or executable file.</span></span>
-   <span data-ttu-id="30009-182">Cualquier carpeta de caché de símbolos local.</span><span class="sxs-lookup"><span data-stu-id="30009-182">Any local symbol cache folders.</span></span>
-   <span data-ttu-id="30009-183">Cualquier servidor de símbolos de recurso compartido de archivos de red local.</span><span class="sxs-lookup"><span data-stu-id="30009-183">Any local network file share symbol servers.</span></span>
-   <span data-ttu-id="30009-184">Cualquier servidor de símbolos de Internet, como el servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-184">Any Internet symbol servers, such as the Microsoft symbol server.</span></span>

<span data-ttu-id="30009-185">Para asegurarse de que tiene todos los archivos PDB necesarios para la depuración precisa, instale las herramientas de depuración para Windows.</span><span class="sxs-lookup"><span data-stu-id="30009-185">To make sure that you have all the PDBs that you need for accurate debugging, install the debugging tools for Windows.</span></span> <span data-ttu-id="30009-186">Las versiones 32 y 64 de bits se pueden encontrar en [herramientas de depuración para Windows](/windows-hardware/drivers/debugger/).</span><span class="sxs-lookup"><span data-stu-id="30009-186">The 32 and 64 bit versions can be found at [Debugging Tools for Windows](/windows-hardware/drivers/debugger/).</span></span>

<span data-ttu-id="30009-187">Una herramienta útil que se instala con este paquete es symchk.exe.</span><span class="sxs-lookup"><span data-stu-id="30009-187">A useful tool that is installed with this package is symchk.exe.</span></span> <span data-ttu-id="30009-188">Puede ayudar a identificar símbolos que faltan o son incorrectos.</span><span class="sxs-lookup"><span data-stu-id="30009-188">It can help to identify missing or incorrect symbols.</span></span> <span data-ttu-id="30009-189">Esta herramienta tiene un gran número de posibles opciones de la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="30009-189">This tool has a large number of potential command line options.</span></span> <span data-ttu-id="30009-190">Estos son dos de los más útiles y más útiles.</span><span class="sxs-lookup"><span data-stu-id="30009-190">Here are two of the more useful and commonly used ones.</span></span>

### <a name="check-if-a-given-dll-or-exe-file-and-pdb-in-the-same-folder-match"></a><span data-ttu-id="30009-191">Comprobar si un archivo DLL o. exe determinado y PDB en la misma carpeta coinciden</span><span class="sxs-lookup"><span data-stu-id="30009-191">Check if a given DLL or .exe file and PDB in the same folder match</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" testing.dll /s

SYMCHK: FAILED files = 0
SYMCHK: PASSED + IGNORED files = 1
```

<span data-ttu-id="30009-192">La opción **/s** indica a **Symchk** que busque símbolos solo en la carpeta actual y que no busque en ningún servidor de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-192">The **/s** option tells **symchk** to look for symbols only in the current folder, and not to look in any symbol servers.</span></span>

### <a name="check-if-all-the-dlls-and-executable-files-in-a-set-of-folders-have-matching-pdbs"></a><span data-ttu-id="30009-193">Compruebe si todos los archivos dll y ejecutables de un conjunto de carpetas tienen PDB coincidentes</span><span class="sxs-lookup"><span data-stu-id="30009-193">Check if all the DLLs and executable files in a set of folders have matching PDBs</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" *.* /r
```

<span data-ttu-id="30009-194">La opción **/r** establece **Symchk** para recorrer de forma recursiva las carpetas para comprobar que todos los archivos ejecutables tienen PDB coincidentes.</span><span class="sxs-lookup"><span data-stu-id="30009-194">The **/r** option sets **symchk** to recursively traverse through folders, to check that all the executable files have matching PDBs.</span></span> <span data-ttu-id="30009-195">Sin la opción **/s** , **Symchk** usa la \_ ruta de acceso del símbolo NT actual \_ \_ para buscar símbolos en cualquier servidor local o privado, o en los servidores de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-195">Without the **/s** option, **symchk** uses the current \_NT\_SYMBOL\_PATH to search for symbols on any private or local server, or on the Microsoft symbol servers.</span></span> <span data-ttu-id="30009-196">La herramienta **Symchk** busca solo símbolos para los archivos ejecutables (. exe,. dll y similares).</span><span class="sxs-lookup"><span data-stu-id="30009-196">The **symchk** tool searches only for symbols for executable files (.exe, .dll, and similar).</span></span> <span data-ttu-id="30009-197">No se pueden usar comodines para buscar símbolos para archivos no ejecutables.</span><span class="sxs-lookup"><span data-stu-id="30009-197">You cannot use wild cards search for symbols for non-executable files.</span></span>

### <a name="how-symchk-works"></a><span data-ttu-id="30009-198">Cómo funciona Symchk</span><span class="sxs-lookup"><span data-stu-id="30009-198">How symchk Works</span></span>

<span data-ttu-id="30009-199">Cuando el vinculador genera archivos. dll, ejecutable y PDB, almacena GUID idénticos en cada archivo.</span><span class="sxs-lookup"><span data-stu-id="30009-199">When the linker generates .dll, executable, and PDB files, it stores identical GUIDs in each file.</span></span> <span data-ttu-id="30009-200">Las herramientas de usan el GUID para determinar si un archivo PDB determinado coincide con una DLL o un archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-200">The GUID is used by tools to determine if a given PDB file matches a DLL or an executable file.</span></span> <span data-ttu-id="30009-201">Si modifica una DLL o un archivo ejecutable (mediante el uso de un editor de recursos o la codificación de la protección de copia, o modificando su información de versión), se actualiza el GUID y el depurador no puede cargar el archivo PDB.</span><span class="sxs-lookup"><span data-stu-id="30009-201">If you alter a DLL or an executable file—by using a resource editor or copy protection encoding, or by altering its version information—the GUID is updated and the debugger cannot load the PDB file.</span></span> <span data-ttu-id="30009-202">Por esta razón, es muy importante evitar manipular la DLL o el archivo ejecutable una vez creado por el enlazador.</span><span class="sxs-lookup"><span data-stu-id="30009-202">For this reason, it's very important to avoid manipulating the DLL or executable file after it is created by the linker.</span></span>

<span data-ttu-id="30009-203">También puede usar la utilidad DUMPBIN incluida en VS.NET para mostrar las rutas de acceso de símbolos que se buscan y para ver si se encuentran archivos de símbolos que coinciden con un archivo ejecutable o DLL determinado.</span><span class="sxs-lookup"><span data-stu-id="30009-203">You can also use the DUMPBIN utility that comes with VS.NET to show the symbol paths that are searched, and to see if symbol files are found that match a given DLL or executable file.</span></span> <span data-ttu-id="30009-204">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="30009-204">For example:</span></span>

``` syntax
DUMPBIN /PDBPATH:VERBOSE filename.exe
```

## <a name="symbol-servers"></a><span data-ttu-id="30009-205">Servidores de símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-205">Symbol Servers</span></span>

<span data-ttu-id="30009-206">Un servidor de símbolos es un repositorio para varias versiones de archivos ejecutables y de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-206">A symbol server is a repository for multiple versions of executable and symbol files.</span></span> <span data-ttu-id="30009-207">Contiene los propios archivos de símbolos o punteros a los archivos de símbolos asociados.</span><span class="sxs-lookup"><span data-stu-id="30009-207">It contains either the symbol files themselves, or pointers to the associated symbol files.</span></span> <span data-ttu-id="30009-208">Los depuradores saben cómo usar los servidores de símbolos y pueden usarlos para buscar símbolos que faltan o desconocidos.</span><span class="sxs-lookup"><span data-stu-id="30009-208">Debuggers understand how to use symbol servers, and can use them to search for missing or unknown symbols.</span></span>

<span data-ttu-id="30009-209">Los archivos DLL y ejecutables también están disponibles en el servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-209">DLL and executable files are also available from the Microsoft symbol server.</span></span> <span data-ttu-id="30009-210">Esto permite depurar bloqueos y examinar el código de los archivos del sistema operativo que puede que no existan en el equipo.</span><span class="sxs-lookup"><span data-stu-id="30009-210">This makes it possible to debug crashes and examine code for operating system files that may not exist on your machine.</span></span> <span data-ttu-id="30009-211">Si un depurador encuentra un archivo ejecutable o un archivo DLL que no existe en el sistema que está utilizando para la depuración, solicita automáticamente los símbolos y una copia del archivo binario de los servidores de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-211">If a debugger encounters an executable file or a DLL that does not exist on the system that you are using for debugging, it automatically requests both the symbols and a copy of the binary file from the Microsoft symbol servers.</span></span> <span data-ttu-id="30009-212">Esto resulta útil si está depurando un componente que tiene muchas versiones (por ejemplo, msvcrt.dll) y necesita examinar el código para obtener una versión que no existe en el equipo.</span><span class="sxs-lookup"><span data-stu-id="30009-212">This is helpful if you are debugging a component that has many versions—for example, msvcrt.dll—and you need to examine the code for a version that does not exist on your computer.</span></span> <span data-ttu-id="30009-213">Esto también ayuda a depurar los minivolcados que se generan en un sistema operativo diferente del sistema que se usa para la depuración.</span><span class="sxs-lookup"><span data-stu-id="30009-213">This also helps debug mini-dumps that are generated on an operating system that is different from the system that you are using for debugging.</span></span>

<span data-ttu-id="30009-214">Microsoft publica todos los archivos PDB de todos los sistemas operativos y otros componentes redistribuidos, como el SDK de DirectX, en el servidor de símbolos accesible externamente.</span><span class="sxs-lookup"><span data-stu-id="30009-214">Microsoft publishes all the PDB files for all operating systems and other redistributed components, such as the DirectX SDK, on its externally accessible symbol server.</span></span> <span data-ttu-id="30009-215">Esto facilita la depuración de una aplicación que usa estos archivos DLL o ejecutables.</span><span class="sxs-lookup"><span data-stu-id="30009-215">This makes it easy to debug an application that uses these DLL or executable files.</span></span> <span data-ttu-id="30009-216">Puede usar el servidor de símbolos de Microsoft para resolver símbolos, junto con cualquier símbolo local para los componentes que se generaron en el equipo.</span><span class="sxs-lookup"><span data-stu-id="30009-216">You can use the Microsoft symbol server to resolve symbols, together with any local symbols for components that were built on your computer.</span></span>

<span data-ttu-id="30009-217">Puede configurar el equipo para usar el servidor de símbolos de Microsoft, que le proporciona acceso a todos los archivos de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-217">You can set up your computer to use the Microsoft symbol server, which gives you access to all Microsoft symbol files.</span></span> <span data-ttu-id="30009-218">También puede configurar un servidor de símbolos privado para su empresa, equipo o red, que se puede usar para almacenar varias versiones anteriores de un proyecto en el que está trabajando, o para proporcionar una caché local para los símbolos que se usan desde el servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-218">You can also set up a private symbol server for your company, team or network, which can be used to store multiple older versions of a project you are working on, or to provide a local cache for the symbols that you use from the Microsoft symbol server.</span></span>

<span data-ttu-id="30009-219">Para usar un servidor de símbolos, especifique la ruta de acceso de búsqueda en una variable de entorno denominada \_ \_ ruta de acceso de símbolos NT \_ .</span><span class="sxs-lookup"><span data-stu-id="30009-219">To use a symbol server, specify the search path in an environment variable that is called \_NT\_SYMBOL\_PATH.</span></span> <span data-ttu-id="30009-220">Los depuradores y las herramientas modernas, como WinDbg, NTSD o Visual Studio, usan automáticamente esta ruta de acceso para buscar símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-220">Debuggers and modern tools, such as WinDbg, NTSD or Visual Studio, automatically use this path to search for symbols.</span></span>

<span data-ttu-id="30009-221">Cuando un depurador busca símbolos, primero busca localmente.</span><span class="sxs-lookup"><span data-stu-id="30009-221">When a debugger searches for symbols, it first searches locally.</span></span> <span data-ttu-id="30009-222">A continuación, busca en los servidores de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-222">Then it looks on symbol servers.</span></span> <span data-ttu-id="30009-223">Cuando encuentra un símbolo coincidente, transfiere el archivo de símbolos a la memoria caché local.</span><span class="sxs-lookup"><span data-stu-id="30009-223">When it finds a matching symbol, it transfers the symbol file to your local cache.</span></span> <span data-ttu-id="30009-224">Los símbolos para un archivo ejecutable o DLL típico oscilan entre 1 y 100 MB de tamaño.</span><span class="sxs-lookup"><span data-stu-id="30009-224">The symbols for a typical DLL or executable file range from 1 to 100 MB in size.</span></span> <span data-ttu-id="30009-225">Por consiguiente, si depura un proceso que incluye muchos archivos dll, puede tardar algún tiempo en resolver todos los símbolos y transferirlos a una caché local.</span><span class="sxs-lookup"><span data-stu-id="30009-225">Therefore, if you are debugging a process that includes many DLLs, it can take some time to resolve all the symbols and transfer them to a local cache.</span></span>

## <a name="using-the-microsoft-symbol-server"></a><span data-ttu-id="30009-226">Usar el servidor de símbolos de Microsoft</span><span class="sxs-lookup"><span data-stu-id="30009-226">Using the Microsoft Symbol Server</span></span>

<span data-ttu-id="30009-227">El servidor de símbolos de Microsoft permite obtener todos los símbolos más recientes, incluidos los símbolos de los archivos actualizados o revisados.</span><span class="sxs-lookup"><span data-stu-id="30009-227">The Microsoft symbol server allows you to obtain all the latest symbols, including symbols for patched or updated files.</span></span> <span data-ttu-id="30009-228">El servidor de símbolos de Microsoft está disponible en <https://msdl.microsoft.com/download/symbols> .</span><span class="sxs-lookup"><span data-stu-id="30009-228">The Microsoft symbol server is available at <https://msdl.microsoft.com/download/symbols>.</span></span>

<span data-ttu-id="30009-229">Puede tener acceso al servidor de símbolos de una de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="30009-229">You can access the symbol server in one of the following ways:</span></span>

-   <span data-ttu-id="30009-230">Escriba la dirección del servidor directamente.</span><span class="sxs-lookup"><span data-stu-id="30009-230">Enter the server address directly.</span></span> <span data-ttu-id="30009-231">En Visual Studio, en el menú **herramientas** , elija **Opciones**, elija **depuración** y, a continuación, elija **símbolos**.</span><span class="sxs-lookup"><span data-stu-id="30009-231">In Visual Studio, from the **Tools** menu, choose **Options**, then choose **Debugging**, and then choose **Symbols**.</span></span>
-   <span data-ttu-id="30009-232">Use la variable de \_ entorno \_ path de símbolos de NT \_ .</span><span class="sxs-lookup"><span data-stu-id="30009-232">Use the environment variable \_NT\_SYMBOL\_PATH.</span></span> <span data-ttu-id="30009-233">Se recomienda este método.</span><span class="sxs-lookup"><span data-stu-id="30009-233">We recommend this method.</span></span>

    <span data-ttu-id="30009-234">Lo usan todas las herramientas de depuración.</span><span class="sxs-lookup"><span data-stu-id="30009-234">This is used by all debugging tools.</span></span> <span data-ttu-id="30009-235">También se usa en Visual Studio y se lee y descodifica cuando se abre Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="30009-235">It is also used by Visual Studio, and is read and decoded when Visual Studio opens.</span></span> <span data-ttu-id="30009-236">Por lo tanto, si lo cambia, deberá reiniciar Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="30009-236">Therefore, if you change it, you need to restart Visual Studio.</span></span>

    <span data-ttu-id="30009-237">Esta variable de entorno le permite especificar varios servidores de símbolos, por ejemplo, un servidor de símbolos privado interno.</span><span class="sxs-lookup"><span data-stu-id="30009-237">This environment variable allows you to specify multiple symbol servers—for example, an internal private symbol server.</span></span> <span data-ttu-id="30009-238">También permite especificar un directorio de caché local para almacenar los archivos PDB para todos los símbolos que se buscan desde servidores de símbolos, tanto internos como a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="30009-238">It also allows you to specify a local cache directory to store PDBs for all symbols that you look up from symbol servers, both internally and over the Internet.</span></span>

<span data-ttu-id="30009-239">La sintaxis de la \_ variable de ruta de acceso de símbolos de NT \_ \_ es:</span><span class="sxs-lookup"><span data-stu-id="30009-239">The syntax for the \_NT\_SYMBOL\_PATH variable is:</span></span>

``` syntax
srv*[local cache]*[private symbol server]*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="30009-240">Reemplace \[ caché local \] por el nombre de un directorio del equipo en el que desea almacenar una memoria caché de los símbolos utilizados (por ejemplo,% SystemRoot% \\ Symbols o c: \\ Symbols).</span><span class="sxs-lookup"><span data-stu-id="30009-240">Replace \[local cache\] with the name of a directory on your computer where you want to store a cache of any symbols used—for example, %SYSTEMROOT%\\Symbols, or c:\\symbols.</span></span>

<span data-ttu-id="30009-241">El \[ servidor de símbolos privado \] es opcional.</span><span class="sxs-lookup"><span data-stu-id="30009-241">The \[private symbol server\] is optional.</span></span> <span data-ttu-id="30009-242">Puede apuntar a un servidor de símbolos que se encuentra en la red, o puede apuntar a un servidor de símbolos compartido por su equipo, grupo de productos o empresa.</span><span class="sxs-lookup"><span data-stu-id="30009-242">It can point to a symbol server that is located on your network, or it can point to a symbol server that is shared by your team, product group, or company.</span></span>

<span data-ttu-id="30009-243">Para usar solo el servidor de símbolos de Microsoft junto con una memoria caché local de símbolos, para acelerar el acceso a través de Internet, use la siguiente configuración para la ruta de acceso de \_ símbolos de NT \_ \_ :</span><span class="sxs-lookup"><span data-stu-id="30009-243">To use only the Microsoft symbol server together with a local cache of symbols, to speed up access over the Internet, use the following setting for \_NT\_SYMBOL\_PATH:</span></span>

``` syntax
srv*c:\symbols*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="30009-244">Puede encontrar otras opciones para la \_ ruta de \_ acceso de símbolos \_ de NT en el archivo de ayuda que se instala con el paquete de herramientas de depuración de Microsoft para Windows.</span><span class="sxs-lookup"><span data-stu-id="30009-244">You can find other options for the \_NT\_SYMBOL\_PATH in the help file that is installed with the Microsoft Debugging Tools for Windows package.</span></span>

<span data-ttu-id="30009-245">Los ejecutables sin símbolos pueden aumentar el tiempo necesario para iniciar un depurador si se usa un servidor de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-245">Executables without symbols can increase the time it takes to launch a debugger if you use a symbol server.</span></span> <span data-ttu-id="30009-246">Esto se debe a que el depurador consulta el servidor de símbolos cada vez que intenta cargar el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="30009-246">This is because the debugger queries the symbol server each time it tries to load the executable.</span></span> <span data-ttu-id="30009-247">Por esta razón, es mejor solicitar siempre símbolos para todos los componentes.</span><span class="sxs-lookup"><span data-stu-id="30009-247">For this reason, it is best to always request symbols for all components.</span></span>

<span data-ttu-id="30009-248">Es posible que no se puedan solicitar símbolos para cada componente; por ejemplo, los controladores de vídeo pueden tener archivos dll en el espacio de proceso y los archivos PDB necesarios están disponibles en el servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-248">It may not be possible to request symbols for every component—for example, video drivers may have DLLs in your process space, and the required PDB files are available on the Microsoft symbol server.</span></span> <span data-ttu-id="30009-249">En este caso, hay un pequeño retraso al iniciar una sesión de depuración.</span><span class="sxs-lookup"><span data-stu-id="30009-249">In this case, there is a small delay when you start a debugging session.</span></span>

<span data-ttu-id="30009-250">Para evitar incluso este pequeño retraso, puede ejecutar el depurador una vez, para almacenar en caché todos los símbolos localmente desde el servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-250">To avoid even this small delay, you can run the debugger once, to cache all the symbols locally from the Microsoft symbol server.</span></span> <span data-ttu-id="30009-251">A continuación, modifique la \_ ruta de acceso de símbolos de NT \_ \_ para quitar el servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-251">Then, modify your \_NT\_SYMBOL\_PATH to remove the Microsoft symbol server.</span></span> <span data-ttu-id="30009-252">A menos que cambien los archivos ejecutables, las comprobaciones de los archivos ejecutables que no tienen símbolos no requerirán una consulta a través de Internet, porque tiene copias en caché locales de todos los símbolos que necesita del servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-252">Unless the executable files change, checks for executable files that do not have symbols will not require a query over the Internet, because you have local cached copies of all the symbols that you need from the Microsoft symbol server.</span></span>

## <a name="getting-symbols-manually"></a><span data-ttu-id="30009-253">Obtener símbolos manualmente</span><span class="sxs-lookup"><span data-stu-id="30009-253">Getting Symbols Manually</span></span>

<span data-ttu-id="30009-254">Si ha configurado el depurador correctamente, carga automáticamente los símbolos que requiera desde la memoria caché local o desde un servidor de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-254">If you have set up your debugger correctly, it automatically loads any symbols that it requires from your local cache or from a symbol server.</span></span> <span data-ttu-id="30009-255">Si desea obtener los símbolos para un solo archivo ejecutable o para una carpeta de ejecutables, puede usar **Symchk**.</span><span class="sxs-lookup"><span data-stu-id="30009-255">If you would like to get the symbols for just a single executable, or for a folder of executables, you can use **symchk**.</span></span> <span data-ttu-id="30009-256">Por ejemplo, si desea descargar los símbolos para el \_ archivo d3dx930.dll en la carpeta del sistema de Windows en el directorio actual, puede usar el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="30009-256">For example, if you want to download the symbols for the d3dx9\_30.dll file in the Windows System folder into the current directory, you can use the following command:</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" c:\Windows\System32\d3dx9_30.dll /oc \.
```

<span data-ttu-id="30009-257">La herramienta **Symchk** tiene muchos otros usos.</span><span class="sxs-lookup"><span data-stu-id="30009-257">The **symchk** tool has many other uses.</span></span> <span data-ttu-id="30009-258">Para obtener más información, consulte **Symchk/?** o busque en la documentación de las herramientas de depuración de Microsoft para Windows.</span><span class="sxs-lookup"><span data-stu-id="30009-258">For details, see **symchk /?**, or look in the Microsoft Debugging Tools for Windows documentation.</span></span>

## <a name="setting-up-a-symbol-server"></a><span data-ttu-id="30009-259">Configuración de un servidor de símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-259">Setting Up a Symbol Server</span></span>

<span data-ttu-id="30009-260">La configuración de un servidor de símbolos es muy sencilla.</span><span class="sxs-lookup"><span data-stu-id="30009-260">Setting up a symbol server is very simple.</span></span> <span data-ttu-id="30009-261">Es útil por los siguientes motivos:</span><span class="sxs-lookup"><span data-stu-id="30009-261">It is useful for the following reasons:</span></span>

-   <span data-ttu-id="30009-262">Para ahorrar ancho de banda o para acelerar la resolución de símbolos para su empresa, equipo o producto.</span><span class="sxs-lookup"><span data-stu-id="30009-262">To save bandwidth, or to speed up symbol resolution for your company, team or product.</span></span> <span data-ttu-id="30009-263">Un servidor de símbolos interno en un recurso compartido de archivos local de la red almacena en caché las referencias a los servidores de símbolos externos, como el servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-263">An internal symbol server on a local file share on your network caches any references to external symbol servers, such as the Microsoft symbol server.</span></span> <span data-ttu-id="30009-264">Muchos usuarios pueden acceder rápidamente a un servidor de símbolos local o interno.</span><span class="sxs-lookup"><span data-stu-id="30009-264">A local or internal symbol server can be accessed quickly by many people at the same time.</span></span> <span data-ttu-id="30009-265">Por lo tanto, ahorra ancho de banda y la latencia que pueden crear las solicitudes de símbolos duplicados.</span><span class="sxs-lookup"><span data-stu-id="30009-265">Therefore, it saves bandwidth and the latency that duplicate symbol requests can create.</span></span>
-   <span data-ttu-id="30009-266">Para almacenar símbolos para compilaciones anteriores, versiones o versiones externas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="30009-266">To store symbols for old builds, versions or external releases of your application.</span></span> <span data-ttu-id="30009-267">Al almacenar los símbolos para estas compilaciones en un servidor de símbolos al que puede acceder fácilmente, puede depurar bloqueos y problemas en estas compilaciones en cualquier equipo que tenga un depurador y una conexión al servidor de símbolos local.</span><span class="sxs-lookup"><span data-stu-id="30009-267">By storing the symbols for these builds on a symbol server that you can easily access, you can debug crashes and problems in these builds on any computer that has a debugger and a connection to the local symbol server.</span></span> <span data-ttu-id="30009-268">Esto es especialmente útil si depura los minivolcados generados por los ejecutables que no ha creado usted mismo, es decir, las compilaciones generadas por otro programador o por un equipo de compilación.</span><span class="sxs-lookup"><span data-stu-id="30009-268">This is particularly useful if you debug mini-dumps that are generated by executables that you did not build yourself—that is, builds that were generated by another programmer or by a build machine.</span></span> <span data-ttu-id="30009-269">Si los símbolos de estas compilaciones se almacenan en el servidor de símbolos, tendrá una depuración confiable y precisa.</span><span class="sxs-lookup"><span data-stu-id="30009-269">If the symbols for these builds are stored on your symbol server, you will have reliable and accurate debugging.</span></span>
-   <span data-ttu-id="30009-270">Para mantener actualizados los símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-270">To keep symbols up to date.</span></span> <span data-ttu-id="30009-271">Cuando se actualizan los componentes, como los componentes del sistema operativo modificados por Windows Update o por el SDK de DirectX, puede depurar con todos los símbolos más recientes.</span><span class="sxs-lookup"><span data-stu-id="30009-271">When components are updated, such as OS components that are modified by Windows Update or by the DirectX SDK, you can still debug by using all the latest symbols.</span></span>

<span data-ttu-id="30009-272">La configuración de un servidor de símbolos en su propia red local es tan sencilla como crear un recurso compartido de archivos en un servidor y ofrecer a los usuarios permisos totales para tener acceso al recurso compartido para crear archivos y carpetas.</span><span class="sxs-lookup"><span data-stu-id="30009-272">Setting up a symbol server on your own local network is as simple as creating a file share on a server and giving users full permissions to access the share, to create files and folders.</span></span> <span data-ttu-id="30009-273">Este recurso compartido debe crearse en un sistema operativo de servidor, como Windows Server 2003, de modo que el número de personas que pueden tener acceso al recurso compartido simultáneamente no sea limitado.</span><span class="sxs-lookup"><span data-stu-id="30009-273">This share should be created on a server operating system, such as Windows Server 2003, so that the number of people who can access the share simultaneously is not limited.</span></span>

<span data-ttu-id="30009-274">Por ejemplo, si configura un recurso compartido de archivos en \\ \\ \\ símbolos mainserver, los miembros del equipo establecerán la \_ ruta de \_ acceso del símbolo NT \_ en lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="30009-274">For example, if you set up a file share on \\\\mainserver\\symbols, then the members of your team set the \_NT\_SYMBOL\_PATH to the following:</span></span>

``` syntax
Srv*c:\symbols*\\mainserver\symbols*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="30009-275">A medida que se recuperan los símbolos, los archivos y las carpetas aparecen en el \\ \\ \\ directorio compartido de símbolos de mainserver, así como en las memorias caché individuales, en el directorio c: \\ Symbols.</span><span class="sxs-lookup"><span data-stu-id="30009-275">As symbols are retrieved, files and folders appear in the \\\\mainserver\\symbols shared directory, as well as in individual caches, in the c:\\symbols directory.</span></span>

<span data-ttu-id="30009-276">Suele ser todo lo que implica la configuración y el uso de su propio servidor de símbolos o del servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-276">This is typically all that is involved in setting up and using either your own symbol server, or the Microsoft symbol server.</span></span>

## <a name="adding-symbols-to-a-symbol-server"></a><span data-ttu-id="30009-277">Agregar símbolos a un servidor de símbolos</span><span class="sxs-lookup"><span data-stu-id="30009-277">Adding Symbols to a Symbol Server</span></span>

<span data-ttu-id="30009-278">Para agregar, eliminar o editar archivos en un recurso compartido de servidor de símbolos, use la herramienta symstore.exe.</span><span class="sxs-lookup"><span data-stu-id="30009-278">To add, delete or edit files on a symbol server share, use the symstore.exe tool.</span></span> <span data-ttu-id="30009-279">Esta herramienta forma parte del paquete de herramientas de depuración de Microsoft para Windows.</span><span class="sxs-lookup"><span data-stu-id="30009-279">This tool is part of the Microsoft Debugging Tools for Windows package.</span></span> <span data-ttu-id="30009-280">En el paquete de herramientas de depuración para Windows se incluye la documentación completa de los servidores de símbolos, la herramienta symstore y los símbolos de indización.</span><span class="sxs-lookup"><span data-stu-id="30009-280">Full documentation on symbol servers, the symstore tool, and indexing symbols is included in the Debugging Tools for Windows package.</span></span>

<span data-ttu-id="30009-281">Puede que desee agregar símbolos directamente a su propio servidor de símbolos, como parte de un proceso de compilación, o para que los símbolos estén disponibles para todo el equipo para herramientas o bibliotecas de terceros.</span><span class="sxs-lookup"><span data-stu-id="30009-281">You may want to add symbols directly to your own symbol server, as part of a build process, or to make symbols available to your whole team for third-party libraries or tools.</span></span> <span data-ttu-id="30009-282">El proceso de agregar un símbolo a un recurso compartido de archivos del servidor de símbolos se denomina indexación de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-282">The process of adding a symbol to a symbol server file share is called indexing symbols.</span></span> <span data-ttu-id="30009-283">Hay dos maneras comunes de indizar símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-283">There are two common ways to index symbols.</span></span> <span data-ttu-id="30009-284">Un archivo de símbolos se puede copiar en el servidor de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-284">A symbol file can be copied to the symbol server.</span></span> <span data-ttu-id="30009-285">O bien, se puede copiar un puntero a la ubicación del símbolo en el servidor de símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-285">Or, a pointer to the location of the symbol can be copied to the symbol server.</span></span> <span data-ttu-id="30009-286">Si tiene una carpeta de archivo que contiene las compilaciones anteriores, puede que desee indizar punteros a los archivos PDB que ya están en el recurso compartido, en lugar de duplicar símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-286">If you have an archive folder that contains your old builds, you may want to index pointers to the PDB files that are already on the share, instead of duplicating symbols.</span></span> <span data-ttu-id="30009-287">Dado que los símbolos a veces pueden tener decenas de megabytes de tamaño, es una buena idea planear con anterioridad el espacio que puede necesitar para archivar todas las compilaciones del proyecto en todo el desarrollo.</span><span class="sxs-lookup"><span data-stu-id="30009-287">Because symbols can sometimes be tens of megabytes in size, it's a good idea to plan ahead for how much space you may require to archive all the builds of your project throughout development.</span></span> <span data-ttu-id="30009-288">Si solo indiza punteros a símbolos, es posible que tenga problemas si quita las compilaciones anteriores o cambia el nombre de un recurso compartido de archivos.</span><span class="sxs-lookup"><span data-stu-id="30009-288">If you index only pointers to symbols, you may have problems if you remove old builds, or change the name of a file share.</span></span>

<span data-ttu-id="30009-289">Por ejemplo, para indexar de forma recursiva todos los símbolos de c: \\ dxsym \\ extra \\ Symbols que obtuvo del SDK de DirectX de octubre de 2006 en un recurso compartido de archivos de servidor de símbolos denominado \\ \\ símbolos de mainserver \\ , puede usar el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="30009-289">For example, to index recursively all the symbols in c:\\dxsym\\Extras\\Symbols that you obtained from the October 2006 DirectX SDK onto a symbol server file share called \\\\mainserver\\symbols, you can use the following command:</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symstore" add /f "C:\dxsym\Extras\Symbols\*.pdb"
/s \\mainserver\symbols /t "October 2006 DirectX SDK " /r
```

<span data-ttu-id="30009-290">El parámetro **/t "comentario"** se usa para agregar una descripción a la transacción que agregó los símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-290">The **/t "comment"** parameter is used to add a description to the transaction that added the symbols.</span></span> <span data-ttu-id="30009-291">Esto puede ser útil cuando se realizan tareas administrativas en los símbolos.</span><span class="sxs-lookup"><span data-stu-id="30009-291">This can be useful when performing administrative tasks on the symbols.</span></span>

## <a name="best-practices"></a><span data-ttu-id="30009-292">Prácticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="30009-292">Best Practices</span></span>

-   <span data-ttu-id="30009-293">Configure su propio recurso compartido de archivos del servidor de símbolos para el equipo, la compañía o el producto.</span><span class="sxs-lookup"><span data-stu-id="30009-293">Set up your own symbol server file share for your team, company, or product.</span></span>
-   <span data-ttu-id="30009-294">Configure \_ \_ \_ la ruta de acceso de símbolos de NT para que apunte a una caché local, a un servidor de símbolos privado y al servidor de símbolos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="30009-294">Set up \_NT\_SYMBOL\_PATH to point to a local cache, to a private symbol server, and to the Microsoft symbol server.</span></span>
-   <span data-ttu-id="30009-295">Si un depurador no puede cargar símbolos para un componente que está depurando, póngase en contacto con el propietario del componente para solicitar símbolos, al menos un PDB eliminado.</span><span class="sxs-lookup"><span data-stu-id="30009-295">If a debugger cannot load symbols for a component you are debugging, contact the owner of the component to request symbols—at least a stripped PDB.</span></span>
-   <span data-ttu-id="30009-296">Configure un sistema de compilación automatizado para indexar símbolos en el servidor de símbolos privado para cada compilación que se genera.</span><span class="sxs-lookup"><span data-stu-id="30009-296">Set up an automated build system to index symbols on your private symbol server for each build that is produced.</span></span> <span data-ttu-id="30009-297">Asegúrese de que las compilaciones que distribuya son las compilaciones generadas por este proceso.</span><span class="sxs-lookup"><span data-stu-id="30009-297">Make sure that the builds that you distribute are the builds that are generated by this process.</span></span> <span data-ttu-id="30009-298">Esto garantiza que los símbolos siempre estén disponibles para los problemas de depuración.</span><span class="sxs-lookup"><span data-stu-id="30009-298">This ensures that symbols are always available to debug problems.</span></span>
-   <span data-ttu-id="30009-299">Configure un servidor de símbolos para permitir que los depuradores obtengan acceso al código fuente de un módulo específico directamente desde un sistema de control de código fuente de Visual Source SAFE o Perforce.</span><span class="sxs-lookup"><span data-stu-id="30009-299">Set up a symbol server to allow debuggers to access the source code for a specific module directly from a Visual Source Safe or Perforce based source control system.</span></span> <span data-ttu-id="30009-300">Si la información del archivo de código fuente y los símbolos de una versión de lanzamiento de un juego están indexados, los desarrolladores que tienen acceso al servidor de símbolos pueden tener depuración completa de los problemas detectados sin mantener entornos de compilación ni versiones anteriores de los archivos de código fuente en sus equipos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="30009-300">If the source file information and symbols for a released version of a game are indexed, developers who have access to your symbol server can have full source level debugging of reported issues, without keeping build environments or old versions of source files on their development computers.</span></span> <span data-ttu-id="30009-301">Para configurar el servidor de símbolos para permitir la indexación de la información del archivo de origen, consulte la documentación del servidor de origen.</span><span class="sxs-lookup"><span data-stu-id="30009-301">To set up your symbol server to allow indexing of source file information, see source server documentation.</span></span>

 

 