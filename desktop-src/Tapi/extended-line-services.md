---
description: Los servicios de línea ampliada (o los servicios de línea específicos del dispositivo) incluyen todas las extensiones definidas por el proveedor de servicios para TSPI.
ms.assetid: 23519d23-27bd-422e-b3c4-00e0d0d93f9e
title: Servicios de línea ampliada
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dbc1ce08d25633d33fd518d8686271c198ca5034
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105687511"
---
# <a name="extended-line-services"></a><span data-ttu-id="f3d11-103">Servicios de línea ampliada</span><span class="sxs-lookup"><span data-stu-id="f3d11-103">Extended Line Services</span></span>

<span data-ttu-id="f3d11-104">Los servicios de línea ampliada (o los servicios de línea específicos del dispositivo) incluyen todas las extensiones definidas por el proveedor de servicios para TSPI.</span><span class="sxs-lookup"><span data-stu-id="f3d11-104">Extended line services (or device-specific line services) include all service-provider defined extensions to TSPI.</span></span> <span data-ttu-id="f3d11-105">TSPI define un mecanismo que permite a los proveedores de proveedores de servicios extender el SPI de telefonía mediante extensiones específicas del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f3d11-105">TSPI defines a mechanism that enables service-provider vendors to extend the Telephony SPI using device-specific extensions.</span></span> <span data-ttu-id="f3d11-106">TSPI solo define el mecanismo de extensión y, al hacerlo, proporciona acceso a extensiones específicas del dispositivo, pero TSPI no define su comportamiento.</span><span class="sxs-lookup"><span data-stu-id="f3d11-106">TSPI only defines the extension mechanism, and by doing so provides access to device-specific extensions, but TSPI does not define their behavior.</span></span> <span data-ttu-id="f3d11-107">El proveedor de servicios define el comportamiento por completo.</span><span class="sxs-lookup"><span data-stu-id="f3d11-107">Behavior is completely defined by the service provider.</span></span>

<span data-ttu-id="f3d11-108">El SPI de telefonía consta de definiciones de constantes de marcas de bits y escalares, estructuras de datos, funciones y mensajes de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="f3d11-108">The Telephony SPI consists of scalar and bit flag constant definitions, data structures, functions, and callback messages.</span></span> <span data-ttu-id="f3d11-109">Se definen procedimientos que permiten a un proveedor extender la mayoría de ellos de la manera siguiente.</span><span class="sxs-lookup"><span data-stu-id="f3d11-109">Procedures are defined that enable a vendor to extend most of these as follows.</span></span>

<span data-ttu-id="f3d11-110">En el caso de las constantes de datos escalares extensibles, un proveedor de proveedores de servicios puede definir nuevos valores en un intervalo especificado.</span><span class="sxs-lookup"><span data-stu-id="f3d11-110">For extensible scalar data constants, a service-provider vendor can define new values in a specified range.</span></span> <span data-ttu-id="f3d11-111">Como la mayoría de las constantes de datos son **DWORD** s, normalmente el intervalo de 0X00000000 a 0x7FFFFFFF está reservado para extensiones futuras comunes, mientras que 0X80000000 a 0xFFFFFFFF están disponibles para las extensiones específicas del proveedor.</span><span class="sxs-lookup"><span data-stu-id="f3d11-111">As most data constants are **DWORD** s, typically the range 0x00000000 through 0x7FFFFFFF is reserved for common future extensions, while 0x80000000 through 0xFFFFFFFF are available for vendor-specific extensions.</span></span> <span data-ttu-id="f3d11-112">La suposición es que un proveedor definiría valores que son extensiones naturales de los tipos de los tipos de los que se han definido mediante TSPI.</span><span class="sxs-lookup"><span data-stu-id="f3d11-112">The assumption is that a vendor would define values that are natural extensions of the datatypes defined by TSPI.</span></span>

<span data-ttu-id="f3d11-113">En el caso de las constantes de datos de marca de bits extensible, un proveedor de proveedor de servicios puede definir nuevos valores para los bits especificados.</span><span class="sxs-lookup"><span data-stu-id="f3d11-113">For extensible bit flag data constants, a service-provider vendor can define new values for specified bits.</span></span> <span data-ttu-id="f3d11-114">Como la mayoría de las constantes de marcador de bits son **DWORD** s, normalmente un número específico de los bits inferiores se reserva para las extensiones comunes mientras que los bits superiores restantes están disponibles para las extensiones específicas del proveedor.</span><span class="sxs-lookup"><span data-stu-id="f3d11-114">As most bit flag constants are **DWORD** s, typically a specific number of the lower bits are reserved for common extensions while the remaining upper bits are available for vendor-specific extensions.</span></span> <span data-ttu-id="f3d11-115">Las marcas de bits comunes se asignan desde el bit cero hacia arriba; las extensiones específicas del proveedor se deben asignar del bit 31 a la baja.</span><span class="sxs-lookup"><span data-stu-id="f3d11-115">Common bit flags are assigned from bit zero up; vendor-specific extensions should be assigned from bit 31 down.</span></span> <span data-ttu-id="f3d11-116">Esto proporciona la máxima flexibilidad para asignar posiciones de bits a extensiones comunes frente a extensiones específicas del proveedor.</span><span class="sxs-lookup"><span data-stu-id="f3d11-116">This provides maximum flexibility in assigning bit positions to common extensions versus vendor-specific extensions.</span></span> <span data-ttu-id="f3d11-117">Se espera que un proveedor defina nuevos valores que son extensiones naturales de las marcas de bits definidas por TSPI.</span><span class="sxs-lookup"><span data-stu-id="f3d11-117">A vendor is expected to define new values that are natural extensions of the bit flags defined by TSPI.</span></span>

<span data-ttu-id="f3d11-118">Las estructuras de datos extensibles tienen un campo de tamaño variable que se reserva para uso específico del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f3d11-118">Extensible data structures have a variably sized field that is reserved for device-specific use.</span></span> <span data-ttu-id="f3d11-119">Con el tamaño de variable, el proveedor de servicios decide la cantidad de información y la interpretación.</span><span class="sxs-lookup"><span data-stu-id="f3d11-119">Being variably sized, the service provider decides the amount of information and the interpretation.</span></span> <span data-ttu-id="f3d11-120">Se espera que un proveedor que define un campo específico del dispositivo realice estas extensiones naturales de la estructura de datos original definida por TSPI.</span><span class="sxs-lookup"><span data-stu-id="f3d11-120">A vendor that defines a device-specific field is expected to make these natural extensions of the original data structure defined by TSPI.</span></span>

<span data-ttu-id="f3d11-121">Dos funciones, [**TSPI \_ LineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) y [**TSPI \_ lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature), y cuatro mensajes relacionados, [**line \_ DEVSPECIFIC**](/previous-versions/windows/desktop/legacy/ms725225(v=vs.85)), [**line \_ CALLDEVSPECIFIC**](line-calldevspecific.md), [**line \_ DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85))y [**line \_ CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md), ofrecen un mecanismo de extensión específico del proveedor.</span><span class="sxs-lookup"><span data-stu-id="f3d11-121">Two functions, [**TSPI\_lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) and [**TSPI\_lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature), and four related messages, [**LINE\_DEVSPECIFIC**](/previous-versions/windows/desktop/legacy/ms725225(v=vs.85)), [**LINE\_CALLDEVSPECIFIC**](line-calldevspecific.md), [**LINE\_DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)), and [**LINE\_CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md), offer a vendor-specific extension mechanism.</span></span> <span data-ttu-id="f3d11-122">La operación de **\_ LineDevSpecific de TSPI** y \_ los mensajes de línea DEVSPECIFIC y CALLDEVSPECIFIC de línea asociados \_ permiten que la aplicación cliente de Tapi32.dll tenga acceso a las características de línea, dirección o llamada específicas del dispositivo que no están disponibles en los servicios de telefonía básicos o adicionales.</span><span class="sxs-lookup"><span data-stu-id="f3d11-122">The **TSPI\_lineDevSpecific** operation and associated LINE\_DEVSPECIFIC and LINE\_CALLDEVSPECIFIC messages allow the Tapi32.dll client application to access device-specific line, address, or call features that are unavailable in the Basic or Supplementary Telephony services.</span></span> <span data-ttu-id="f3d11-123">El perfil de parámetro de la función [**\_ LineDevSpecific de TSPI**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) es genérico, ya que la interpretación de los parámetros se realiza mediante TSPI.</span><span class="sxs-lookup"><span data-stu-id="f3d11-123">The parameter profile of the [**TSPI\_lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) function is generic in that little interpretation of the parameters is made by TSPI.</span></span> <span data-ttu-id="f3d11-124">Los parámetros de identificador de dispositivo tienen significados definidos por el TSPI y se traducen adecuadamente entre la aplicación y el proveedor de servicios.</span><span class="sxs-lookup"><span data-stu-id="f3d11-124">Device-handle parameters have TSPI-defined meanings and are translated appropriately between the application and the service provider.</span></span> <span data-ttu-id="f3d11-125">Los parámetros genéricos se pasan simplemente sin modificar.</span><span class="sxs-lookup"><span data-stu-id="f3d11-125">Generic parameters are simply passed through unmodified.</span></span> <span data-ttu-id="f3d11-126">La interpretación de los parámetros genéricos se define mediante el proveedor de servicios y debe ser entendida por las aplicaciones que los usan.</span><span class="sxs-lookup"><span data-stu-id="f3d11-126">The interpretation of the generic parameters is defined by the service provider and must be understood by any applications that use them.</span></span> <span data-ttu-id="f3d11-127">Por lo general, una aplicación que se basa en extensiones específicas del dispositivo no funciona con otros proveedores de servicios.</span><span class="sxs-lookup"><span data-stu-id="f3d11-127">An application that relies on device-specific extensions generally does not work with other service providers.</span></span> <span data-ttu-id="f3d11-128">Sin embargo, las aplicaciones escritas completamente en los servicios de telefonía básico y complementario deben funcionar con el proveedor de servicios extendidos.</span><span class="sxs-lookup"><span data-stu-id="f3d11-128">However, applications written entirely to the Basic and Supplementary Telephony services should work with the extended service provider.</span></span>

<span data-ttu-id="f3d11-129">La implementación de TAPI de los mensajes y las funciones específicas del dispositivo es "paso a través".</span><span class="sxs-lookup"><span data-stu-id="f3d11-129">The TAPI implementation of the device-specific functions and messages is "pass-through."</span></span> <span data-ttu-id="f3d11-130">TAPI no examina ni modifica los parámetros y búferes genéricos específicos del dispositivo, pero asigna los valores de identificador opaco en el nivel de aplicación (que se usan en el nivel de TAPI) a los valores de identificador opaco de nivel de proveedor de servicio (usados en el nivel TSPI).</span><span class="sxs-lookup"><span data-stu-id="f3d11-130">TAPI does not examine or modify the generic device-specific parameters and buffers, but it does map application-level opaque handle values (used at the TAPI level) to service-provider-level opaque handle values (used at the TSPI level).</span></span>

<span data-ttu-id="f3d11-131">En cuanto a la traducción de identificadores, la naturaleza de paso a través de las partes genéricas de las extensiones específicas del dispositivo tiene una consecuencia importante.</span><span class="sxs-lookup"><span data-stu-id="f3d11-131">Regarding handle translation, the passthrough nature of the generic parts of device-specific extensions has an important consequence.</span></span> <span data-ttu-id="f3d11-132">Un proveedor de servicios no tiene forma de relacionar los identificadores usados en el nivel de TSPI con los del nivel de TAPI, excepto pasando por los campos y parámetros de identificador predefinidos.</span><span class="sxs-lookup"><span data-stu-id="f3d11-132">A service provider has no way to relate the handles used at the TSPI level to those at the TAPI level except by passing them through the predefined handle parameters and fields.</span></span> <span data-ttu-id="f3d11-133">TAPI no traduce ningún identificador colocado en el área de extensión genérica mientras se pasa entre la aplicación y el proveedor de servicios.</span><span class="sxs-lookup"><span data-stu-id="f3d11-133">Any handle put into the generic extension area is untranslated by TAPI as it is passed between application and service provider.</span></span> <span data-ttu-id="f3d11-134">Por lo general, el diseñador de una extensión de proveedor de servicios no debe definir extensiones que pasen los identificadores de esta manera.</span><span class="sxs-lookup"><span data-stu-id="f3d11-134">The designer of a service-provider extension should generally not define extensions that pass handles in this way.</span></span>

<span data-ttu-id="f3d11-135">El enfoque adecuado al definir una extensión específica del dispositivo que debe hacer referencia a dispositivos específicos sin usar identificadores es hacer referencia a ellas mediante su identificación de dispositivo absoluta.</span><span class="sxs-lookup"><span data-stu-id="f3d11-135">The appropriate approach when defining a device-specific extension that must refer to specific devices without using handles is to refer to them using their absolute device identification.</span></span> <span data-ttu-id="f3d11-136">Por ejemplo, el identificador de dispositivo que se usa para abrir una línea en el nivel TAPI es estrictamente el mismo valor que se utiliza en el nivel TSPI para abrir la línea.</span><span class="sxs-lookup"><span data-stu-id="f3d11-136">The device identifier used in opening a line at the TAPI level, for example, is strictly the same value that is used at the TSPI level to open the line.</span></span> <span data-ttu-id="f3d11-137">Del mismo modo, una tupla (identificador de dispositivo de línea, identificador de dirección) que identifica de forma única una dirección en el nivel de TAPI usa los mismos valores para identificar lo mismo en el nivel de TSPI.</span><span class="sxs-lookup"><span data-stu-id="f3d11-137">Similarly, a (line device identifier, address identifier) tuple that uniquely identifies an address at the TAPI level uses the same values to identify the same thing at the TSPI level.</span></span>

<span data-ttu-id="f3d11-138">Para mayor comodidad, también se proporciona una función de escape más especializada.</span><span class="sxs-lookup"><span data-stu-id="f3d11-138">For convenience, a more specialized escape function is also provided.</span></span> <span data-ttu-id="f3d11-139">Es similar a [**TSPI \_ lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific), pero coloca la interpretación en algunos de los parámetros.</span><span class="sxs-lookup"><span data-stu-id="f3d11-139">It is similar to [**TSPI\_lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific), but places interpretation on some of the parameters.</span></span> <span data-ttu-id="f3d11-140">La [**función \_ LineDevSpecificFeature de TSPI**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) y los mensajes de [**línea \_ DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) y [**\_ CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md) de línea asociados permiten que TAPI eMule las pulsaciones de botón en el teléfono de la línea.</span><span class="sxs-lookup"><span data-stu-id="f3d11-140">The [**TSPI\_lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) function and associated [**LINE\_DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) and [**LINE\_CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md) messages allow TAPI to emulate button presses at the line's feature phone.</span></span> <span data-ttu-id="f3d11-141">Como los teléfonos de características y los significados de sus botones son específicos del proveedor, la invocación de características con **TSPI \_ lineDevSpecificFeature** también es específica del proveedor.</span><span class="sxs-lookup"><span data-stu-id="f3d11-141">As feature phones and the meanings of their buttons are vendor-specific, feature invocation using **TSPI\_lineDevSpecificFeature** is also vendor specific.</span></span>

<span data-ttu-id="f3d11-142">En Resumen, la función [**TSPI \_ lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) es una función de escape específica del dispositivo para permitir el envío de características de conmutador al conmutador.</span><span class="sxs-lookup"><span data-stu-id="f3d11-142">To summarize, the [**TSPI\_lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) function is a device-specific escape function to allow sending switch features to the switch.</span></span> <span data-ttu-id="f3d11-143">El mensaje [**line \_ CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md) es un mensaje específico del dispositivo que se envía a la devolución de llamada de la aplicación como una indicación de las características relacionadas con la llamada enviadas al conmutador.</span><span class="sxs-lookup"><span data-stu-id="f3d11-143">The [**LINE\_CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md) message is a device-specific message sent to the application's callback as an indication of call-related features sent to the switch.</span></span> <span data-ttu-id="f3d11-144">[**Línea \_ de DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) es un mensaje específico del dispositivo que se envía a la devolución de llamada de la aplicación como una indicación de las características relacionadas con la línea enviadas al conmutador.</span><span class="sxs-lookup"><span data-stu-id="f3d11-144">[**LINE\_DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) is a device-specific message sent to the application's callback as an indication of line-related features sent to the switch.</span></span>

<span data-ttu-id="f3d11-145">No hay ningún registro central para los identificadores de fabricante.</span><span class="sxs-lookup"><span data-stu-id="f3d11-145">There is no central registry for manufacturer identifiers.</span></span> <span data-ttu-id="f3d11-146">En su lugar, se pone a disposición de un generador de identificador único llamado Extidgen.exe como parte de TSPI.</span><span class="sxs-lookup"><span data-stu-id="f3d11-146">Instead a unique identifier generator called Extidgen.exe is made available as part of TSPI.</span></span> <span data-ttu-id="f3d11-147">El proveedor que diseña un conjunto de extensiones específicas del dispositivo utiliza esta utilidad para obtener un identificador único para las extensiones.</span><span class="sxs-lookup"><span data-stu-id="f3d11-147">The vendor that designs a set of device-specific extensions uses this utility to obtain a unique identifier for those extensions.</span></span>

 

 
