---
title: Usar controles Tree-View
description: Esta sección contiene detalles de implementación y código de ejemplo para trabajar con controles de vista de árbol.
ms.assetid: 37736770-5030-4f8a-a020-6897ed5f4e96
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d9ed8d1040a635964e772b8399a5c476e67f9aba
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "105656425"
---
# <a name="using-tree-view-controls"></a><span data-ttu-id="ac807-103">Usar controles Tree-View</span><span class="sxs-lookup"><span data-stu-id="ac807-103">Using Tree-View Controls</span></span>

<span data-ttu-id="ac807-104">Esta sección contiene detalles de implementación y código de ejemplo para trabajar con controles de vista de árbol.</span><span class="sxs-lookup"><span data-stu-id="ac807-104">This section contains implementation details and example code for working with tree-view controls.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="ac807-105">En esta sección</span><span class="sxs-lookup"><span data-stu-id="ac807-105">In this section</span></span>



| <span data-ttu-id="ac807-106">Tema</span><span class="sxs-lookup"><span data-stu-id="ac807-106">Topic</span></span>                                                                                | <span data-ttu-id="ac807-107">Descripción</span><span class="sxs-lookup"><span data-stu-id="ac807-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ac807-108">Cómo crear un control de Tree-View</span><span class="sxs-lookup"><span data-stu-id="ac807-108">How to Create a Tree-View Control</span></span>](create-a-tree-view-control.md)<br/>       | <span data-ttu-id="ac807-109">Para crear un control de vista de árbol, utilice la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , especificando el valor [**\_ TREEVIEW de CT**](common-control-window-classes.md) para la clase de ventana.</span><span class="sxs-lookup"><span data-stu-id="ac807-109">To create a tree-view control, use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_TREEVIEW**](common-control-window-classes.md) value for the window class.</span></span> <span data-ttu-id="ac807-110">La clase de ventana de vista de árbol se registra en el espacio de direcciones de la aplicación cuando se carga el archivo DLL de control común.</span><span class="sxs-lookup"><span data-stu-id="ac807-110">The tree-view window class is registered in the application's address space when the common control DLL is loaded.</span></span> <span data-ttu-id="ac807-111">Para asegurarse de que se carga el archivo DLL, utilice la función [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) .</span><span class="sxs-lookup"><span data-stu-id="ac807-111">To ensure that the DLL is loaded, use the [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) function.</span></span> <br/>                                                                    |
| [<span data-ttu-id="ac807-112">Cómo inicializar la lista de imágenes</span><span class="sxs-lookup"><span data-stu-id="ac807-112">How to Initialize the Image List</span></span>](initialize-the-image-list.md)<br/>         | <span data-ttu-id="ac807-113">Cada elemento de un control de vista de árbol puede tener dos imágenes asociadas a él.</span><span class="sxs-lookup"><span data-stu-id="ac807-113">Every item in a tree-view control can have two images associated with it.</span></span> <span data-ttu-id="ac807-114">Un elemento muestra una imagen cuando se selecciona y la otra cuando no lo está.</span><span class="sxs-lookup"><span data-stu-id="ac807-114">An item displays one image when it is selected and the other when it is not.</span></span> <span data-ttu-id="ac807-115">Para incluir imágenes con elementos de vista de árbol, use primero las funciones de las [listas de imágenes](image-lists.md) para crear una lista de imágenes y agregarle imágenes.</span><span class="sxs-lookup"><span data-stu-id="ac807-115">To include images with tree-view items, first use the [Image Lists](image-lists.md) functions to create an image list and add images to it.</span></span> <span data-ttu-id="ac807-116">A continuación, asocie la lista de imágenes con el control de vista de árbol mediante el mensaje [**TVM \_ SETIMAGELIST**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="ac807-116">Then associate the image list with the tree-view control by using the [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <br/>                                                                     |
| [<span data-ttu-id="ac807-117">Cómo agregar elementos de Tree-View</span><span class="sxs-lookup"><span data-stu-id="ac807-117">How to Add Tree-View Items</span></span>](add-tree-view-items.md)<br/>                     | <span data-ttu-id="ac807-118">Un elemento se agrega a un control de vista de árbol mediante el envío del mensaje de la [**\_ INSERTITEM de TVM**](tvm-insertitem.md) al control.</span><span class="sxs-lookup"><span data-stu-id="ac807-118">You add an item to a tree-view control by sending the [**TVM\_INSERTITEM**](tvm-insertitem.md) message to the control.</span></span> <span data-ttu-id="ac807-119">El mensaje incluye la dirección de una estructura [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) , especificando el elemento primario, el elemento después del cual se inserta el nuevo elemento y una estructura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) que define los atributos del elemento.</span><span class="sxs-lookup"><span data-stu-id="ac807-119">The message includes the address of a [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure, specifying the parent item, the item after which the new item is inserted, and a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that defines the attributes of the item.</span></span> <span data-ttu-id="ac807-120">Los atributos incluyen la etiqueta del elemento, sus imágenes seleccionadas y no seleccionadas y un valor definido por la aplicación de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="ac807-120">The attributes include the item's label, its selected and nonselected images, and a 32-bit application-defined value.</span></span> <br/> |
| [<span data-ttu-id="ac807-121">Cómo arrastrar un elemento de Tree-View</span><span class="sxs-lookup"><span data-stu-id="ac807-121">How to Drag a Tree-View Item</span></span>](drag-a-tree-view-item.md)<br/>                 | <span data-ttu-id="ac807-122">En este tema se muestra el código para controlar el arrastre y la colocación de los elementos de la vista de árbol.</span><span class="sxs-lookup"><span data-stu-id="ac807-122">This topic demonstrates code for handling dragging and dropping of tree-view items.</span></span> <span data-ttu-id="ac807-123">El código de ejemplo consta de tres funciones.</span><span class="sxs-lookup"><span data-stu-id="ac807-123">The sample code consists of three functions.</span></span> <span data-ttu-id="ac807-124">La primera función comienza la operación de arrastre, la segunda función arrastra la imagen y la tercera función finaliza la operación de arrastre.</span><span class="sxs-lookup"><span data-stu-id="ac807-124">The first function begins the drag operation, the second function drags the image, and the third function ends the drag operation.</span></span> <br/>                                                                                                                                                                                                                                  |
| [<span data-ttu-id="ac807-125">Cómo trabajar con índices de imagen de estado</span><span class="sxs-lookup"><span data-stu-id="ac807-125">How to Work With State Image Indexes</span></span>](work-with-state-image-indexes.md)<br/> | <span data-ttu-id="ac807-126">A menudo hay confusión sobre cómo establecer y recuperar el índice de la imagen de estado en un control de vista de árbol.</span><span class="sxs-lookup"><span data-stu-id="ac807-126">There is often confusion about how to set and retrieve the state image index in a tree-view control.</span></span> <span data-ttu-id="ac807-127">En los siguientes ejemplos se muestra el método adecuado para establecer y recuperar el índice de la imagen de estado.</span><span class="sxs-lookup"><span data-stu-id="ac807-127">The following examples demonstrate the proper method for setting and retrieving the state image index.</span></span> <span data-ttu-id="ac807-128">En los ejemplos se da por hecho que solo hay dos índices de imagen de estado en el control de vista de árbol, desactivados y comprobados.</span><span class="sxs-lookup"><span data-stu-id="ac807-128">The examples assume that there are only two state image indexes in the tree-view control, unchecked and checked.</span></span> <span data-ttu-id="ac807-129">Si la aplicación contiene más de dos, estas funciones deberán modificarse para controlar ese caso.</span><span class="sxs-lookup"><span data-stu-id="ac807-129">If your application contains more than two, these functions will need to be modified to handle that case.</span></span> <br/>                                                               |
| [<span data-ttu-id="ac807-130">Cómo usar Tree-View recuadros informativos</span><span class="sxs-lookup"><span data-stu-id="ac807-130">How to Use Tree-View Infotips</span></span>](use-tree-view-infotips.md)<br/>               | <span data-ttu-id="ac807-131">Cuando se aplica el estilo de recuadro de [**TV \_**](tree-view-control-window-styles.md) a un control de vista de árbol, genera notificaciones de [TVN \_ GETINFOTIP](tvn-getinfotip.md) cuando el cursor está sobre un elemento de la vista de árbol.</span><span class="sxs-lookup"><span data-stu-id="ac807-131">When you apply the [**TVS\_INFOTIP**](tree-view-control-window-styles.md) style to a tree-view control, it generates [TVN\_GETINFOTIP](tvn-getinfotip.md) notifications when the cursor is over an item in the tree view.</span></span> <span data-ttu-id="ac807-132">Al responder a esta notificación, puede establecer el texto que aparece en el recuadro informativo.</span><span class="sxs-lookup"><span data-stu-id="ac807-132">By responding to this notification, you can set the text that appears in the infotip.</span></span> <br/>                                                                                                                                                                                    |



 

 

