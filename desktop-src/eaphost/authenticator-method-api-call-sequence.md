---
title: Secuencia de llamadas API del método Authenticator
description: Obtenga información sobre la secuencia de llamadas API del método Authenticator. Vea una lista que muestra la secuencia de llamadas realizadas por un EAPHost en un método de autenticación de EAP.
ms.assetid: 4756300c-5e49-44e8-ab49-1993d780d2a3
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3bb5c7d64bfe6e38ebb97550dc76fe8ffcae8176
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104421416"
---
# <a name="authenticator-method-api-call-sequence"></a><span data-ttu-id="37601-104">Secuencia de llamadas API del método Authenticator</span><span class="sxs-lookup"><span data-stu-id="37601-104">Authenticator Method API Call Sequence</span></span>

<span data-ttu-id="37601-105">En este tema se proporciona la secuencia de llamadas específica para la API del método Authenticator.</span><span class="sxs-lookup"><span data-stu-id="37601-105">This topic provides the specific call sequence for the authenticator method API.</span></span> <span data-ttu-id="37601-106">Durante una sesión de autenticación EAP típica, EAPHost realiza varias llamadas en un método EAP que implementa las API del método de autenticador de EAPHost.</span><span class="sxs-lookup"><span data-stu-id="37601-106">During a typical EAP authentication session EAPHost makes a number of calls on an EAP method that implement the EAPHost authenticator method APIs.</span></span>

<span data-ttu-id="37601-107">En la siguiente lista se muestra la secuencia de llamadas realizadas por EAPHost en un método de autenticación de EAP.</span><span class="sxs-lookup"><span data-stu-id="37601-107">The following list demonstrates the sequence of calls made by EAPHost on an EAP authenticator method.</span></span>

-   <span data-ttu-id="37601-108">El autenticador de EAP carga primero el archivo DLL de método EAP que se usa para la autenticación específica en un servidor de directivas de redes (NPS) u otro servidor de autenticación.</span><span class="sxs-lookup"><span data-stu-id="37601-108">The EAP authenticator first loads the EAP method DLL used for the specific authentication on a network policy server (NPS) or other authentication server.</span></span>
-   <span data-ttu-id="37601-109">Llama a [**EapAuthenticatorGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) en el método con una estructura de [**\_ tipo EAP**](/windows/desktop/api/eaptypes/ns-eaptypes-eap_type) rellenada para obtener una lista de punteros a las funciones implementadas en el archivo dll.</span><span class="sxs-lookup"><span data-stu-id="37601-109">Calls [**EapAuthenticatorGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) on the method with a populated [**EAP\_TYPE**](/windows/desktop/api/eaptypes/ns-eaptypes-eap_type) structure to obtain a list of pointers to functions implemented on the DLL.</span></span> <span data-ttu-id="37601-110">Se supone que las llamadas a funciones subsiguientes de los métodos de autenticador (servidor) se implementan en el archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="37601-110">Subsequent function calls by the authenticator methods (server) are assumed to be implemented on the DLL.</span></span>
-   <span data-ttu-id="37601-111">Llama a [**EapAuthenticatorInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) para indicar a la biblioteca de métodos EAP que debe prepararse para al menos una sesión de autenticación mediante este método de autenticador.</span><span class="sxs-lookup"><span data-stu-id="37601-111">Calls [**EapAuthenticatorInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) to instruct the EAP method library to prepare for at least one authentication session using this authenticator method.</span></span>
-   <span data-ttu-id="37601-112">Llama a [**EapMethodAuthenticatorBeginSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorbeginsession) para establecer una sesión de autenticación única.</span><span class="sxs-lookup"><span data-stu-id="37601-112">Calls [**EapMethodAuthenticatorBeginSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorbeginsession) to establish a unique authentication session.</span></span>
-   <span data-ttu-id="37601-113">Repite los pasos siguientes hasta que [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) indica que hay un resultado de autenticación disponible.</span><span class="sxs-lookup"><span data-stu-id="37601-113">Repeats the following steps until [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) indicates that an authentication result is available.</span></span>
    -   <span data-ttu-id="37601-114">Llama a [**EapMethodAuthenticatorSendPacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsendpacket) con un puntero a un paquete de solicitud que se va a pasar al suplicante.</span><span class="sxs-lookup"><span data-stu-id="37601-114">Calls [**EapMethodAuthenticatorSendPacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsendpacket) with a pointer to a request packet to pass to the supplicant.</span></span>
    -   <span data-ttu-id="37601-115">Llama a [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) para recuperar el paquete de respuesta enviado por el solicitante.</span><span class="sxs-lookup"><span data-stu-id="37601-115">Calls [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) to retrieve the response packet sent by the supplicant.</span></span> <span data-ttu-id="37601-116">Esta función devuelve un código de **\_ acción de \_ \_ respuesta \_ del autenticador de método EAP** que indica la siguiente acción que el autenticador debe realizar en la sesión de autenticación EAP.</span><span class="sxs-lookup"><span data-stu-id="37601-116">This function returns a **EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION** code that indicates the next action the authenticator must take in the EAP authentication session.</span></span>
    -   <span data-ttu-id="37601-117">Si el código de acción [es \_ \_ respuesta del autenticador del método \_ \_ EAP](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), indica que el método EAP tiene atributos disponibles para que el autenticador recupere y pase al método del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="37601-117">If the action code is [EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_RESPOND](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), it indicates that the EAP method has attributes available for the authenticator to retrieve and pass to the peer method.</span></span> <span data-ttu-id="37601-118">El autenticador llama a [**EapMethodAuthenticatorGetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetattributes) para obtener los distintos atributos de autenticación EAP del método de autenticador EAP.</span><span class="sxs-lookup"><span data-stu-id="37601-118">Authenticator calls [**EapMethodAuthenticatorGetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetattributes) to obtain the various EAP authentication attributes from the EAP authenticator method.</span></span> <span data-ttu-id="37601-119">Después de que el autenticador procese los atributos, llama a [**EapMethodAuthenticatorSetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsetattributes) , que proporciona los atributos de autenticación EAP actualizados para establecer en el método de autenticación de EAP.</span><span class="sxs-lookup"><span data-stu-id="37601-119">After the authenticator processes the attributes it calls [**EapMethodAuthenticatorSetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsetattributes) which provides updated EAP authentication attributes to set on the EAP authenticator method.</span></span> <span data-ttu-id="37601-120">Esta función devuelve un código de **\_ acción de \_ \_ respuesta \_ del autenticador de método EAP** que determina la acción subsiguiente.</span><span class="sxs-lookup"><span data-stu-id="37601-120">This function returns a **EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION** code which determines the subsequent action.</span></span>
-   <span data-ttu-id="37601-121">Si el código de acción es el resultado de la [ \_ \_ \_ respuesta \_ del autenticador del método EAP](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), indica que el autenticador ha determinado los resultados de la sesión de autenticación y que los resultados están disponibles para EAPHost.</span><span class="sxs-lookup"><span data-stu-id="37601-121">If the action code is [EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_RESULT](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), it indicates that the authenticator has determined the results of the authentication session, and those results are available to EAPHost.</span></span> <span data-ttu-id="37601-122">El autenticador llama a [**EapMethodAuthenticatorGetResult**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetresult) y obtiene los resultados de la sesión de autenticación.</span><span class="sxs-lookup"><span data-stu-id="37601-122">Authenticator calls [**EapMethodAuthenticatorGetResult**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetresult) and obtains the results of the authentication session.</span></span>
-   <span data-ttu-id="37601-123">Esto va seguido de una llamada a [**EapMethodAuthenticatorEndSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorendsession) para finalizar la sesión de autenticación.</span><span class="sxs-lookup"><span data-stu-id="37601-123">This is followed by a call to [**EapMethodAuthenticatorEndSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorendsession) to end the authentication session.</span></span>
-   <span data-ttu-id="37601-124">Por último, se realiza una llamada a [**EapMethodAuthenticatorShutdown**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorshutdown) para descargar el archivo DLL del método Authenticator.</span><span class="sxs-lookup"><span data-stu-id="37601-124">Finally, a call is made to [**EapMethodAuthenticatorShutdown**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorshutdown) to unload the authenticator method DLL.</span></span>
-   <span data-ttu-id="37601-125">Descarga la biblioteca de métodos EAP.</span><span class="sxs-lookup"><span data-stu-id="37601-125">Unloads the EAP method library.</span></span>

## <a name="related-topics"></a><span data-ttu-id="37601-126">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="37601-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="37601-127">**\_acción de \_ respuesta del autenticador del método EAP \_ \_**</span><span class="sxs-lookup"><span data-stu-id="37601-127">**EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION**</span></span>](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action)
</dt> <dt>

[<span data-ttu-id="37601-128">Secuencia de llamadas API de suplicante</span><span class="sxs-lookup"><span data-stu-id="37601-128">Supplicant API Call Sequence</span></span>](supplicant-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="37601-129">Secuencia de llamadas API de método del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="37601-129">Peer Method API Call Sequence</span></span>](peer-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="37601-130">Secuencias de llamadas de EAPHost</span><span class="sxs-lookup"><span data-stu-id="37601-130">EAPHost Call Sequences</span></span>](about-eaphost-call-sequences.md)
</dt> </dl>

 

 




