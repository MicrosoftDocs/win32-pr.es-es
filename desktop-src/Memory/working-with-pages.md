---
description: Para determinar el tamaño de una página en el equipo actual, utilice la función GetSystemInfo.
ms.assetid: 953ddfc4-6126-41fb-81a3-0ce1f0fb223f
title: Trabajar con páginas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 66c12c99ada03dca1e17c72c2a5f0d5360b6a98d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104543043"
---
# <a name="working-with-pages"></a><span data-ttu-id="3fcbc-103">Trabajar con páginas</span><span class="sxs-lookup"><span data-stu-id="3fcbc-103">Working with Pages</span></span>

<span data-ttu-id="3fcbc-104">Para determinar el tamaño de una página en el equipo actual, utilice la función [**GetSystemInfo**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getsysteminfo) .</span><span class="sxs-lookup"><span data-stu-id="3fcbc-104">To determine the size of a page on the current computer, use the [**GetSystemInfo**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getsysteminfo) function.</span></span>

<span data-ttu-id="3fcbc-105">Las funciones [**VirtualQuery (**](/windows/win32/api/memoryapi/nf-memoryapi-virtualquery) y [**VirtualQueryEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualqueryex) devuelven información sobre una región de páginas consecutivas que empiezan en una dirección especificada en el espacio de direcciones de un proceso.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-105">The [**VirtualQuery**](/windows/win32/api/memoryapi/nf-memoryapi-virtualquery) and [**VirtualQueryEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualqueryex) functions return information about a region of consecutive pages beginning at a specified address in the address space of a process.</span></span> <span data-ttu-id="3fcbc-106">**VirtualQuery (** devuelve información sobre la memoria en el proceso de llamada.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-106">**VirtualQuery** returns information about memory in the calling process.</span></span> <span data-ttu-id="3fcbc-107">**VirtualQueryEx** devuelve información sobre la memoria en un proceso especificado y se usa para admitir depuradores que necesitan información sobre un proceso que se está depurando.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-107">**VirtualQueryEx** returns information about memory in a specified process and is used to support debuggers that need information about a process being debugged.</span></span> <span data-ttu-id="3fcbc-108">La región de las páginas está limitada por la dirección especificada hacia abajo hasta el límite de la página más cercana.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-108">The region of pages is bounded by the specified address rounded down to the nearest page boundary.</span></span> <span data-ttu-id="3fcbc-109">Extiende a través de todas las páginas siguientes con los siguientes atributos en común:</span><span class="sxs-lookup"><span data-stu-id="3fcbc-109">It extends through all subsequent pages with the following attributes in common:</span></span>

-   <span data-ttu-id="3fcbc-110">El estado de todas las páginas es el mismo: confirmado, reservado o libre.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-110">The state of all pages is the same: either committed, reserved, or free.</span></span>
-   <span data-ttu-id="3fcbc-111">Si la página inicial no es gratuita, todas las páginas de la región forman parte de la misma asignación inicial de páginas reservadas por una llamada a [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span><span class="sxs-lookup"><span data-stu-id="3fcbc-111">If the initial page is not free, all pages in the region are part of the same initial allocation of pages that were reserved by a call to [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span></span>
-   <span data-ttu-id="3fcbc-112">La protección de acceso de todas las páginas es la misma (es decir, la página **\_ solo lectura**, la **página \_ ReadWrite** o el **\_ acceso a páginas**).</span><span class="sxs-lookup"><span data-stu-id="3fcbc-112">The access protection of all pages is the same (that is, **PAGE\_READONLY**, **PAGE\_READWRITE**, or **PAGE\_NOACCESS**).</span></span>

<span data-ttu-id="3fcbc-113">La función [**VirtualLock**](/windows/win32/api/memoryapi/nf-memoryapi-virtuallock) permite que un proceso bloquee una o varias páginas de la memoria asignada en la memoria física (RAM), evitando que el sistema intercambie las páginas en el archivo de paginación.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-113">The [**VirtualLock**](/windows/win32/api/memoryapi/nf-memoryapi-virtuallock) function enables a process to lock one or more pages of committed memory into physical memory (RAM), preventing the system from swapping the pages out to the paging file.</span></span> <span data-ttu-id="3fcbc-114">Se puede usar para asegurarse de que se pueda acceder a los datos críticos sin tener acceso al disco.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-114">It can be used to ensure that critical data is accessible without disk access.</span></span> <span data-ttu-id="3fcbc-115">Bloquear las páginas en la memoria es peligroso porque restringe la capacidad del sistema para administrar la memoria.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-115">Locking pages into memory is dangerous because it restricts the system's ability to manage memory.</span></span> <span data-ttu-id="3fcbc-116">El uso excesivo de **VirtualLock** puede reducir el rendimiento del sistema, ya que hace que el código ejecutable se intercambie en el archivo de paginación.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-116">Excessive use of **VirtualLock** can degrade system performance by causing executable code to be swapped out to the paging file.</span></span> <span data-ttu-id="3fcbc-117">La función [**VirtualUnlock**](/windows/win32/api/memoryapi/nf-memoryapi-virtualunlock) desbloquea la memoria bloqueada por **VirtualLock**.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-117">The [**VirtualUnlock**](/windows/win32/api/memoryapi/nf-memoryapi-virtualunlock) function unlocks memory locked by **VirtualLock**.</span></span>

<span data-ttu-id="3fcbc-118">La función [**VirtualProtect (**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) permite a un proceso modificar la protección de acceso de cualquier página confirmada en el espacio de direcciones de un proceso.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-118">The [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) function enables a process to modify the access protection of any committed page in the address space of a process.</span></span> <span data-ttu-id="3fcbc-119">Por ejemplo, un proceso puede asignar páginas de lectura/escritura para almacenar datos confidenciales y, a continuación, puede cambiar el acceso a solo lectura o no tener acceso a la protección contra sobrescritura accidental.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-119">For example, a process can allocate read/write pages to store sensitive data, and then it can change the access to read only or no access to protect against accidental overwriting.</span></span> <span data-ttu-id="3fcbc-120">**VirtualProtect (** se utiliza normalmente con páginas asignadas por [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), pero también funciona con páginas confirmadas por cualquiera de las demás funciones de asignación.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-120">**VirtualProtect** is typically used with pages allocated by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), but it also works with pages committed by any of the other allocation functions.</span></span> <span data-ttu-id="3fcbc-121">Sin embargo, **VirtualProtect (** cambia la protección de todas las páginas y los punteros devueltos por las demás funciones no se alinean necesariamente en los límites de la página.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-121">However, **VirtualProtect** changes the protection of entire pages, and pointers returned by the other functions are not necessarily aligned on page boundaries.</span></span> <span data-ttu-id="3fcbc-122">La función [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) es similar a **VirtualProtect (**, salvo que cambia la protección de la memoria en un proceso especificado.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-122">The [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) function is similar to **VirtualProtect**, except it changes the protection of memory in a specified process.</span></span> <span data-ttu-id="3fcbc-123">Cambiar la protección resulta útil para los depuradores en el acceso a la memoria de un proceso que se está depurando.</span><span class="sxs-lookup"><span data-stu-id="3fcbc-123">Changing the protection is useful to debuggers in accessing the memory of a process being debugged.</span></span>

 

 
