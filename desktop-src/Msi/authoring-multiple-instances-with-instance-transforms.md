---
description: Para instalar varias instancias de un producto de un paquete de Windows Installer, debe crear un paquete de instalación base para el producto y una transformación de instancia para cada instancia que se va a instalar además de la instancia base.
ms.assetid: fef49dda-503f-4b13-8763-70cb2ee0df5d
title: Crear varias instancias con transformaciones de instancia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c61424efbf08ea3e726594a3073f4ce7483af57d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105667030"
---
# <a name="authoring-multiple-instances-with-instance-transforms"></a><span data-ttu-id="2c333-103">Crear varias instancias con transformaciones de instancia</span><span class="sxs-lookup"><span data-stu-id="2c333-103">Authoring Multiple Instances with Instance Transforms</span></span>

<span data-ttu-id="2c333-104">Para instalar varias instancias de un producto de un paquete de Windows Installer, debe crear un paquete de instalación base para el producto y una transformación de instancia para cada instancia que se va a instalar además de la instancia base.</span><span class="sxs-lookup"><span data-stu-id="2c333-104">To install multiple instances of a product from one Windows Installer package, you need to author a base installation package for the product and an instance transform for each instance to be installed in addition to the base instance.</span></span> <span data-ttu-id="2c333-105">Use las siguientes directrices al crear el paquete base y las transformaciones:</span><span class="sxs-lookup"><span data-stu-id="2c333-105">Use the following guidelines when authoring your base package and transforms:</span></span>

-   <span data-ttu-id="2c333-106">La aplicación de instalación puede comprobar la presencia del instalador que se ejecuta en una versión de Windows Vista, Windows Server 2003, Windows XP con Service Pack 1 (SP1) y el Windows Installer 3,0 Redistributable.</span><span class="sxs-lookup"><span data-stu-id="2c333-106">Your setup application can check for the presence of the installer running on a version of Windows Vista, Windows Server 2003, Windows XP with Service Pack 1 (SP1), and the Windows Installer 3.0 redistributable.</span></span> <span data-ttu-id="2c333-107">Cualquiera de estas versiones del instalador (o posterior) son necesarias para instalar varias instancias de un único paquete con un código de producto: cambio de transformación.</span><span class="sxs-lookup"><span data-stu-id="2c333-107">Any of these installer versions (or later) are required to install multiple instances from a single package using a product code–changing transform.</span></span>
-   <span data-ttu-id="2c333-108">Cada instancia debe tener un código de producto y un identificador de instancia únicos.</span><span class="sxs-lookup"><span data-stu-id="2c333-108">Each instance must have a unique product code and instance identifier.</span></span> <span data-ttu-id="2c333-109">Puede definir una propiedad en el paquete base, cuyo valor se puede establecer en el identificador de la instancia.</span><span class="sxs-lookup"><span data-stu-id="2c333-109">You may define a property in the base package, the value of which can be set to the instance identifier.</span></span>
-   <span data-ttu-id="2c333-110">Para mantener aislados los archivos de cada instancia, el paquete base debe instalar los archivos en una ubicación de directorio que dependa del identificador de la instancia.</span><span class="sxs-lookup"><span data-stu-id="2c333-110">To keep the files of each instance isolated, the base package should install files into a directory location that depends on the instance identifier.</span></span>
-   <span data-ttu-id="2c333-111">Para mantener aislados los datos que no son de archivo de cada instancia, el paquete base debe recopilar datos que no son de archivo en conjuntos de componentes para cada instancia.</span><span class="sxs-lookup"><span data-stu-id="2c333-111">To keep the nonfile data of each instance isolated, the base package should collect nonfile data into sets of components for each instance.</span></span> <span data-ttu-id="2c333-112">Los componentes adecuados deben instalarse en función de las instrucciones condicionales que dependen del identificador de la instancia.</span><span class="sxs-lookup"><span data-stu-id="2c333-112">The appropriate components should then be installed based on conditional statements that depend on the instance identifier.</span></span>
-   <span data-ttu-id="2c333-113">Cree una transformación de instancia para cada instancia que se está instalando además de la instancia base.</span><span class="sxs-lookup"><span data-stu-id="2c333-113">Author an instance transform for each instance being installed in addition to the base instance.</span></span> <span data-ttu-id="2c333-114">El paquete base puede instalar su propia instancia.</span><span class="sxs-lookup"><span data-stu-id="2c333-114">The base package may install its own instance.</span></span>
-   <span data-ttu-id="2c333-115">La transformación de la instancia debe cambiar el código de producto y el identificador de cada instancia.</span><span class="sxs-lookup"><span data-stu-id="2c333-115">The instance transform must change the product code and identifier for each instance.</span></span>
-   <span data-ttu-id="2c333-116">Se recomienda que la transformación del producto cambie también el nombre del producto para que la instancia sea más fácil de distinguir en Agregar o quitar programas a través del panel de control.</span><span class="sxs-lookup"><span data-stu-id="2c333-116">It is recommended that the product transform also change the product name so that the instance is readily distinguished in Add/Remove Programs through Control Panel.</span></span>
-   <span data-ttu-id="2c333-117">Si la transformación de instancia instala archivos, deben instalarse en un directorio que dependa del identificador de la instancia.</span><span class="sxs-lookup"><span data-stu-id="2c333-117">If the instance transform installs files, they should be installed in a directory that depends on the instance identifier.</span></span>
-   <span data-ttu-id="2c333-118">Todos los datos que no son de archivo, como las claves del registro, deben incluir el nombre de instancia en su ruta de acceso para evitar colisiones.</span><span class="sxs-lookup"><span data-stu-id="2c333-118">All nonfile data, such as registry keys, should include the instance name in their path to prevent collisions.</span></span> <span data-ttu-id="2c333-119">Esto puede realizarse mediante el uso de la propiedad cuyo valor es el identificador de instancia en la ruta de acceso, tal como se muestra en el siguiente ejemplo de una [tabla del registro](registry-table.md).</span><span class="sxs-lookup"><span data-stu-id="2c333-119">This can be accomplished by using the property whose value is the instance identifier in the path as shown by the following example of a [Registry Table](registry-table.md).</span></span>



| <span data-ttu-id="2c333-120">Registro</span><span class="sxs-lookup"><span data-stu-id="2c333-120">Registry</span></span> | <span data-ttu-id="2c333-121">Root</span><span class="sxs-lookup"><span data-stu-id="2c333-121">Root</span></span> | <span data-ttu-id="2c333-122">Clave</span><span class="sxs-lookup"><span data-stu-id="2c333-122">Key</span></span>                                            | <span data-ttu-id="2c333-123">Nombre</span><span class="sxs-lookup"><span data-stu-id="2c333-123">Name</span></span>         | <span data-ttu-id="2c333-124">Value</span><span class="sxs-lookup"><span data-stu-id="2c333-124">Value</span></span>           | <span data-ttu-id="2c333-125">Componente\_</span><span class="sxs-lookup"><span data-stu-id="2c333-125">Component\_</span></span>      |
|----------|------|------------------------------------------------|--------------|-----------------|------------------|
| <span data-ttu-id="2c333-126">Reg1</span><span class="sxs-lookup"><span data-stu-id="2c333-126">Reg1</span></span>     | <span data-ttu-id="2c333-127">1</span><span class="sxs-lookup"><span data-stu-id="2c333-127">1</span></span>    | <span data-ttu-id="2c333-128">Software \\ Microsoft el \\ \\ \[ InstanceId\]</span><span class="sxs-lookup"><span data-stu-id="2c333-128">Software\\Microsoft\\MyProduct\\\[InstanceId\]</span></span> | <span data-ttu-id="2c333-129">Valor FileStream</span><span class="sxs-lookup"><span data-stu-id="2c333-129">InstanceGuid</span></span> | <span data-ttu-id="2c333-130">\[ProductCode\]</span><span class="sxs-lookup"><span data-stu-id="2c333-130">\[ProductCode\]</span></span> | <span data-ttu-id="2c333-131">NonFileDataComp1</span><span class="sxs-lookup"><span data-stu-id="2c333-131">NonFileDataComp1</span></span> |



 

<span data-ttu-id="2c333-132">Para obtener más información, vea [instalar varias instancias de productos y revisiones](installing-multiple-instances-of-products-and-patches.md) e [instalar varias instancias con transformaciones de instancias](installing-multiple-instances-with-instance-transforms.md).</span><span class="sxs-lookup"><span data-stu-id="2c333-132">For more information, see [Installing Multiple Instances of Products and Patches](installing-multiple-instances-of-products-and-patches.md) and [Installing Multiple Instances with Instance Transforms](installing-multiple-instances-with-instance-transforms.md).</span></span>

 

 



