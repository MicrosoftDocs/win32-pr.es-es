---
description: En los siguientes casos, un socket Multipoint se caracteriza a menudo por describir su rol en uno de los dos planos (control o datos).
ms.assetid: 35e4a8c9-d943-44b8-be61-605b60a6cf5d
title: Semántica de SPI para combinar hojas de Multipoint
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa0e77203e5405f6cb820baba5d545de03e3a8ce
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105716291"
---
# <a name="spi-semantics-for-joining-multipoint-leaves"></a><span data-ttu-id="c8448-103">Semántica de SPI para combinar hojas de Multipoint</span><span class="sxs-lookup"><span data-stu-id="c8448-103">SPI Semantics for Joining Multipoint Leaves</span></span>

<span data-ttu-id="c8448-104">En los siguientes casos, un socket Multipoint se caracteriza a menudo por describir su rol en uno de los dos planos (control o datos).</span><span class="sxs-lookup"><span data-stu-id="c8448-104">In the following, a multipoint socket is frequently characterized by describing its role in one of the two planes (control or data).</span></span> <span data-ttu-id="c8448-105">Debe entenderse que el mismo socket tiene un rol en el otro plano, pero esto no se menciona a fin de mantener las referencias cortas.</span><span class="sxs-lookup"><span data-stu-id="c8448-105">It should be understood that this same socket has a role in the other plane, but this is not mentioned in order to keep the references short.</span></span> <span data-ttu-id="c8448-106">Por ejemplo, una referencia a un \_ socket raíz de c podría hacer referencia a una \_ raíz raíz/d de c \_ o a un socket de \_ hoja raíz/d \_ de c.</span><span class="sxs-lookup"><span data-stu-id="c8448-106">For example a reference to a c\_root socket could refer to either a c\_root/d\_root or a c\_root/d\_leaf socket.</span></span>

<span data-ttu-id="c8448-107">En los esquemas de plano de control con raíz, los nuevos nodos hoja se agregan a una sesión de Multipoint en uno o ambos dos modos diferentes.</span><span class="sxs-lookup"><span data-stu-id="c8448-107">In rooted control plane schemes, new leaf nodes are added to a multipoint session in one or both of two different ways.</span></span> <span data-ttu-id="c8448-108">En el primer método, la raíz usa [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) para iniciar una conexión con un nodo hoja e invitarlo a ser participante.</span><span class="sxs-lookup"><span data-stu-id="c8448-108">In the first method, the root uses [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) to initiate a connection with a leaf node and invite it to become a participant.</span></span> <span data-ttu-id="c8448-109">En el nodo hoja, la aplicación del mismo nivel debe haber creado un \_ socket hoja de c y ha usado [**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85)) para establecerlo en el modo de escucha.</span><span class="sxs-lookup"><span data-stu-id="c8448-109">On the leaf node, the peer application must have created a c\_leaf socket and used [**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85)) to set it into listen mode.</span></span> <span data-ttu-id="c8448-110">El nodo hoja recibirá una indicación de aceptación FD cuando se le \_ invite a unirse a la sesión y señalará su voluntad de unirse llamando a [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span><span class="sxs-lookup"><span data-stu-id="c8448-110">The leaf node will receive an FD\_ACCEPT indication when invited to join the session, and signals its willingness to join by calling [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span></span> <span data-ttu-id="c8448-111">La aplicación raíz recibirá una \_ indicación FD Connect cuando se haya completado la operación de Unión.</span><span class="sxs-lookup"><span data-stu-id="c8448-111">The root application will receive an FD\_CONNECT indication when the join operation has been completed.</span></span>

<span data-ttu-id="c8448-112">En el segundo método, los roles se invierten esencialmente.</span><span class="sxs-lookup"><span data-stu-id="c8448-112">In the second method, the roles are essentially reversed.</span></span> <span data-ttu-id="c8448-113">El cliente raíz crea un \_ socket raíz de c y lo establece en modo de escucha.</span><span class="sxs-lookup"><span data-stu-id="c8448-113">The root client creates a c\_root socket and sets it into listen mode.</span></span> <span data-ttu-id="c8448-114">Un nodo hoja que quiere unirse a la sesión crea un \_ socket hoja de c y usa [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) para iniciar la conexión y solicitar admisión.</span><span class="sxs-lookup"><span data-stu-id="c8448-114">A leaf node wishing to join the session creates a c\_leaf socket and uses [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) to initiate the connection and request admittance.</span></span> <span data-ttu-id="c8448-115">El cliente raíz recibe el \_ método FD Accept cuando llega una solicitud admisión entrante y admite el nodo hoja llamando a [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span><span class="sxs-lookup"><span data-stu-id="c8448-115">The root client receives FD\_ACCEPT when an incoming admittance request arrives, and admits the leaf node by calling [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span></span> <span data-ttu-id="c8448-116">El nodo hoja recibe FD \_ Connect cuando se ha admitido.</span><span class="sxs-lookup"><span data-stu-id="c8448-116">The leaf node receives FD\_CONNECT when it has been admitted.</span></span>

<span data-ttu-id="c8448-117">En un plano de control no raíz, donde todos los nodos son \_ hojas de c, la función [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) se usa para iniciar la inclusión de un nodo en una sesión de Multipoint existente.</span><span class="sxs-lookup"><span data-stu-id="c8448-117">In a nonrooted control plane, where all nodes are c\_leafs, the [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) function is used to initiate the inclusion of a node into an existing multipoint session.</span></span> <span data-ttu-id="c8448-118">\_Se proporciona una indicación FD Connect cuando se ha completado la combinación y se puede usar el descriptor de socket devuelto en la sesión multipoint.</span><span class="sxs-lookup"><span data-stu-id="c8448-118">An FD\_CONNECT indication is provided when the join has been completed and the returned socket descriptor is usable in the multipoint session.</span></span> <span data-ttu-id="c8448-119">En el caso de la multidifusión IP, esto correspondería a la opción de IP \_ agregar \_ socket de pertenencia.</span><span class="sxs-lookup"><span data-stu-id="c8448-119">In the case of IP multicast, this would correspond to the IP\_ADD\_MEMBERSHIP socket option.</span></span>

<span data-ttu-id="c8448-120">Por lo tanto, hay tres instancias en las que un cliente usaría [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf):</span><span class="sxs-lookup"><span data-stu-id="c8448-120">There are, therefore, three instances where a client would use [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf):</span></span>

-   <span data-ttu-id="c8448-121">Actuar como una raíz multipunto e invitar a una nueva hoja para unirse a la sesión.</span><span class="sxs-lookup"><span data-stu-id="c8448-121">Acting as a multipoint root and inviting a new leaf to join the session.</span></span>
-   <span data-ttu-id="c8448-122">Actuar como una hoja que realiza una solicitud admisión a una sesión de multipoint con raíz.</span><span class="sxs-lookup"><span data-stu-id="c8448-122">Acting as a leaf making an admittance request to a rooted multipoint session.</span></span>
-   <span data-ttu-id="c8448-123">Actuar como una hoja que busca admisión en una sesión de Multipoint no raíz (por ejemplo, multidifusión IP).</span><span class="sxs-lookup"><span data-stu-id="c8448-123">Acting as a leaf seeking admittance to a nonrooted multipoint session (for example, IP multicast.)</span></span>

 

 
