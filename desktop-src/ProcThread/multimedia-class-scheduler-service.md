---
description: El servicio Programador de clases multimedia (MMCSS) permite a las aplicaciones multimedia asegurarse de que su procesamiento dependiente del tiempo recibe un acceso prioritario a los recursos de la CPU.
ms.assetid: a7169938-1c72-4c4c-881a-cb08ad6182c7
title: Servicio del programador de clases multimedia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 80656276af30495c084d0964534a04e11896bcd2
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/03/2021
ms.locfileid: "104003348"
---
# <a name="multimedia-class-scheduler-service"></a><span data-ttu-id="387d6-103">Servicio del programador de clases multimedia</span><span class="sxs-lookup"><span data-stu-id="387d6-103">Multimedia Class Scheduler Service</span></span>

<span data-ttu-id="387d6-104">El servicio Programador de clases multimedia (MMCSS) permite a las aplicaciones multimedia asegurarse de que su procesamiento dependiente del tiempo recibe un acceso prioritario a los recursos de la CPU.</span><span class="sxs-lookup"><span data-stu-id="387d6-104">The Multimedia Class Scheduler service (MMCSS) enables multimedia applications to ensure that their time-sensitive processing receives prioritized access to CPU resources.</span></span> <span data-ttu-id="387d6-105">Este servicio permite a las aplicaciones multimedia emplear la mayor parte de la CPU posible sin denegar recursos de CPU a aplicaciones de menor prioridad.</span><span class="sxs-lookup"><span data-stu-id="387d6-105">This service enables multimedia applications to utilize as much of the CPU as possible without denying CPU resources to lower-priority applications.</span></span>

<span data-ttu-id="387d6-106">MMCSS usa la información almacenada en el registro para identificar las tareas admitidas y determinar la prioridad relativa de los subprocesos que realizan estas tareas.</span><span class="sxs-lookup"><span data-stu-id="387d6-106">MMCSS uses information stored in the registry to identify supported tasks and determine the relative priority of threads performing these tasks.</span></span> <span data-ttu-id="387d6-107">Cada subproceso que está realizando trabajo relacionado con una tarea determinada llama a la función [**AvSetMmMaxThreadCharacteristics**](/windows/desktop/api/Avrt/nf-avrt-avsetmmmaxthreadcharacteristicsa) o [**AvSetMmThreadCharacteristics**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadcharacteristicsa) para informar a MMCSS de que está trabajando en esa tarea.</span><span class="sxs-lookup"><span data-stu-id="387d6-107">Each thread that is performing work related to a particular task calls the [**AvSetMmMaxThreadCharacteristics**](/windows/desktop/api/Avrt/nf-avrt-avsetmmmaxthreadcharacteristicsa) or [**AvSetMmThreadCharacteristics**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadcharacteristicsa) function to inform MMCSS that it is working on that task.</span></span>

<span data-ttu-id="387d6-108">Para ver un ejemplo de un programa que usa MMCSS, consulte [flujos de modo exclusivo](/previous-versions//bb614507(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="387d6-108">For an example of a program that uses MMCSS, see [Exclusive-Mode Streams](/previous-versions//bb614507(v=vs.85)).</span></span>

<span data-ttu-id="387d6-109">**Windows Server 2003 y Windows XP:** MMCSS no está disponible.</span><span class="sxs-lookup"><span data-stu-id="387d6-109">**Windows Server 2003 and Windows XP:** MMCSS is not available.</span></span>

## <a name="registry-settings"></a><span data-ttu-id="387d6-110">Configuración del Registro</span><span class="sxs-lookup"><span data-stu-id="387d6-110">Registry Settings</span></span>

<span data-ttu-id="387d6-111">La configuración de MMCSS se almacena en la siguiente clave del registro:</span><span class="sxs-lookup"><span data-stu-id="387d6-111">The MMCSS settings are stored in the following registry key:</span></span>

<span data-ttu-id="387d6-112">**HKEY \_ local \_ Machine \\ software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ multimedia \\ SystemProfile**</span><span class="sxs-lookup"><span data-stu-id="387d6-112">**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile**</span></span>

<span data-ttu-id="387d6-113">Esta clave contiene un valor de **reg \_ DWORD** denominado **SystemResponsiveness** que determina el porcentaje de recursos de CPU que se deben garantizar en tareas de prioridad baja.</span><span class="sxs-lookup"><span data-stu-id="387d6-113">This key contains a **REG\_DWORD** value named **SystemResponsiveness** that determines the percentage of CPU resources that should be guaranteed to low-priority tasks.</span></span> <span data-ttu-id="387d6-114">Por ejemplo, si este valor es 20, el 20% de los recursos de CPU se reservan para las tareas de prioridad baja.</span><span class="sxs-lookup"><span data-stu-id="387d6-114">For example, if this value is 20, then 20% of CPU resources are reserved for low-priority tasks.</span></span> <span data-ttu-id="387d6-115">Tenga en cuenta que los valores que no se pueden dividir uniformemente por 10 se redondean al múltiplo más próximo de 10.</span><span class="sxs-lookup"><span data-stu-id="387d6-115">Note that values that are not evenly divisible by 10 are rounded up to the nearest multiple of 10.</span></span> <span data-ttu-id="387d6-116">Un valor de 0 también se trata como 10.</span><span class="sxs-lookup"><span data-stu-id="387d6-116">A value of 0 is also treated as 10.</span></span>

<span data-ttu-id="387d6-117">La clave también contiene una subclave denominada **Tasks** que contiene la lista de tareas.</span><span class="sxs-lookup"><span data-stu-id="387d6-117">The key also contains a subkey named **Tasks** that contains the list of tasks.</span></span> <span data-ttu-id="387d6-118">De forma predeterminada, Windows admite las siguientes tareas:</span><span class="sxs-lookup"><span data-stu-id="387d6-118">By default, Windows supports the following tasks:</span></span>

-   <span data-ttu-id="387d6-119">**Audio**</span><span class="sxs-lookup"><span data-stu-id="387d6-119">**Audio**</span></span>
-   <span data-ttu-id="387d6-120">**Capture**</span><span class="sxs-lookup"><span data-stu-id="387d6-120">**Capture**</span></span>
-   <span data-ttu-id="387d6-121">**Distribución**</span><span class="sxs-lookup"><span data-stu-id="387d6-121">**Distribution**</span></span>
-   <span data-ttu-id="387d6-122">**Juegos**</span><span class="sxs-lookup"><span data-stu-id="387d6-122">**Games**</span></span>
-   <span data-ttu-id="387d6-123">**Reproducción**</span><span class="sxs-lookup"><span data-stu-id="387d6-123">**Playback**</span></span>
-   <span data-ttu-id="387d6-124">**Audio de Pro**</span><span class="sxs-lookup"><span data-stu-id="387d6-124">**Pro Audio**</span></span>
-   <span data-ttu-id="387d6-125">**Administrador de ventanas**</span><span class="sxs-lookup"><span data-stu-id="387d6-125">**Window Manager**</span></span>

<span data-ttu-id="387d6-126">Los OEM pueden agregar tareas adicionales según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="387d6-126">OEMs can add additional tasks as required.</span></span>

<span data-ttu-id="387d6-127">Cada clave de tarea contiene el siguiente conjunto de valores que representan las características que se van a aplicar a los subprocesos que están asociados a la tarea.</span><span class="sxs-lookup"><span data-stu-id="387d6-127">Each task key contains the following set of values that represent characteristics to be applied to threads that are associated with the task.</span></span>

| <span data-ttu-id="387d6-128">Value</span><span class="sxs-lookup"><span data-stu-id="387d6-128">Value</span></span>                   | <span data-ttu-id="387d6-129">Formato</span><span class="sxs-lookup"><span data-stu-id="387d6-129">Format</span></span>         | <span data-ttu-id="387d6-130">Valores posibles</span><span class="sxs-lookup"><span data-stu-id="387d6-130">Possible values</span></span>                                                                                                                                                                                                                                                                                                                                                         |
|-------------------------|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="387d6-131">**Afinidad**</span><span class="sxs-lookup"><span data-stu-id="387d6-131">**Affinity**</span></span>            | <span data-ttu-id="387d6-132">**\_valor DWORD reg**</span><span class="sxs-lookup"><span data-stu-id="387d6-132">**REG\_DWORD**</span></span> | <span data-ttu-id="387d6-133">Máscara de máscara que indica la afinidad del procesador.</span><span class="sxs-lookup"><span data-stu-id="387d6-133">A bitmask that indicates the processor affinity.</span></span> <span data-ttu-id="387d6-134">Tanto 0x00 como 0xFFFFFFFF indican que no se utiliza la afinidad del procesador.</span><span class="sxs-lookup"><span data-stu-id="387d6-134">Both 0x00 and 0xFFFFFFFF indicate that processor affinity is not used.</span></span>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="387d6-135">**Solo en segundo plano**</span><span class="sxs-lookup"><span data-stu-id="387d6-135">**Background Only**</span></span>     | <span data-ttu-id="387d6-136">**Registro \_ SZ**</span><span class="sxs-lookup"><span data-stu-id="387d6-136">**REG\_SZ**</span></span>    | <span data-ttu-id="387d6-137">Indica si se trata de una tarea en segundo plano (sin interfaz de usuario).</span><span class="sxs-lookup"><span data-stu-id="387d6-137">Indicates whether this is a background task (no user interface).</span></span> <span data-ttu-id="387d6-138">Los subprocesos de una tarea en segundo plano no cambian debido a un cambio en el foco de la ventana.</span><span class="sxs-lookup"><span data-stu-id="387d6-138">The threads of a background task do not change because of a change in window focus.</span></span> <span data-ttu-id="387d6-139">Este valor se puede establecer en true o false.</span><span class="sxs-lookup"><span data-stu-id="387d6-139">This value can be set to True or False.</span></span>                                                                                                                                                                            |
| <span data-ttu-id="387d6-140">**BackgroundPriority**</span><span class="sxs-lookup"><span data-stu-id="387d6-140">**BackgroundPriority**</span></span>  | <span data-ttu-id="387d6-141">**\_valor DWORD reg**</span><span class="sxs-lookup"><span data-stu-id="387d6-141">**REG\_DWORD**</span></span> | <span data-ttu-id="387d6-142">Prioridad de fondo.</span><span class="sxs-lookup"><span data-stu-id="387d6-142">The background priority.</span></span> <span data-ttu-id="387d6-143">El intervalo de valores es 1-8.</span><span class="sxs-lookup"><span data-stu-id="387d6-143">The range of values is 1-8.</span></span>                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="387d6-144">**Frecuencia del reloj**</span><span class="sxs-lookup"><span data-stu-id="387d6-144">**Clock Rate**</span></span>          | <span data-ttu-id="387d6-145">**\_valor DWORD reg**</span><span class="sxs-lookup"><span data-stu-id="387d6-145">**REG\_DWORD**</span></span> | <span data-ttu-id="387d6-146">Sugerencia usada por MMCSS para determinar la granularidad de la programación de recursos del procesador. **Windows Server 2008 y Windows Vista:** La tasa de reloj máxima garantizada que el sistema utiliza si un subproceso se une a esta tarea en intervalos de 100 segundos.</span><span class="sxs-lookup"><span data-stu-id="387d6-146">A hint used by MMCSS to determine the granularity of processor resource scheduling.**Windows Server 2008 and Windows Vista:** The maximum guaranteed clock rate the system uses if a thread joins this task, in 100-nanosecond intervals.</span></span> <span data-ttu-id="387d6-147">A partir de Windows 7 y Windows Server 2008 R2, esta garantía se ha quitado para reducir el consumo de energía del sistema.</span><span class="sxs-lookup"><span data-stu-id="387d6-147">Starting with Windows 7 and Windows Server 2008 R2, this guarantee was removed to reduce system power consumption.</span></span><br/> |
| <span data-ttu-id="387d6-148">**Prioridad de GPU**</span><span class="sxs-lookup"><span data-stu-id="387d6-148">**GPU Priority**</span></span>        | <span data-ttu-id="387d6-149">**\_valor DWORD reg**</span><span class="sxs-lookup"><span data-stu-id="387d6-149">**REG\_DWORD**</span></span> | <span data-ttu-id="387d6-150">Prioridad de la GPU.</span><span class="sxs-lookup"><span data-stu-id="387d6-150">The GPU priority.</span></span> <span data-ttu-id="387d6-151">El intervalo de valores es 0-31.</span><span class="sxs-lookup"><span data-stu-id="387d6-151">The range of values is 0-31.</span></span> <span data-ttu-id="387d6-152">Esta prioridad no se ha utilizado todavía.</span><span class="sxs-lookup"><span data-stu-id="387d6-152">This priority is not yet used.</span></span>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="387d6-153">**Prioridad**</span><span class="sxs-lookup"><span data-stu-id="387d6-153">**Priority**</span></span>            | <span data-ttu-id="387d6-154">**\_valor DWORD reg**</span><span class="sxs-lookup"><span data-stu-id="387d6-154">**REG\_DWORD**</span></span> | <span data-ttu-id="387d6-155">Prioridad de la tarea.</span><span class="sxs-lookup"><span data-stu-id="387d6-155">The task priority.</span></span> <span data-ttu-id="387d6-156">El intervalo de valores es de 1 (baja) a 8 (alto). En el caso de las tareas con una **categoría de programación** de alto, este valor siempre se trata como 2.</span><span class="sxs-lookup"><span data-stu-id="387d6-156">The range of values is 1 (low) to 8 (high).For tasks with a **Scheduling Category** of High, this value is always treated as 2.</span></span><br/>                                                                                                                                                                                                           |
| <span data-ttu-id="387d6-157">**Categoría de programación**</span><span class="sxs-lookup"><span data-stu-id="387d6-157">**Scheduling Category**</span></span> | <span data-ttu-id="387d6-158">**Registro \_ SZ**</span><span class="sxs-lookup"><span data-stu-id="387d6-158">**REG\_SZ**</span></span>    | <span data-ttu-id="387d6-159">Categoría de programación.</span><span class="sxs-lookup"><span data-stu-id="387d6-159">The scheduling category.</span></span> <span data-ttu-id="387d6-160">Este valor se puede establecer en alto, medio o bajo.</span><span class="sxs-lookup"><span data-stu-id="387d6-160">This value can be set to High, Medium, or Low.</span></span>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="387d6-161">**Prioridad de SFIO**</span><span class="sxs-lookup"><span data-stu-id="387d6-161">**SFIO Priority**</span></span>       | <span data-ttu-id="387d6-162">**Registro \_ SZ**</span><span class="sxs-lookup"><span data-stu-id="387d6-162">**REG\_SZ**</span></span>    | <span data-ttu-id="387d6-163">Prioridad de e/s programada.</span><span class="sxs-lookup"><span data-stu-id="387d6-163">The scheduled I/O priority.</span></span> <span data-ttu-id="387d6-164">Este valor se puede establecer en Idle, Low, normal o High.</span><span class="sxs-lookup"><span data-stu-id="387d6-164">This value can be set to Idle, Low, Normal, or High.</span></span> <span data-ttu-id="387d6-165">Este valor no se utiliza.</span><span class="sxs-lookup"><span data-stu-id="387d6-165">This value is not used.</span></span>                                                                                                                                                                                                                                                                |



 

> [!Note]  
> <span data-ttu-id="387d6-166">Para ahorrar energía, las aplicaciones no deben establecer la resolución del temporizador en todo el sistema en un valor pequeño a menos que sea absolutamente necesario.</span><span class="sxs-lookup"><span data-stu-id="387d6-166">To conserve power, applications should not set the resolution of the system-wide timer to a small value unless absolutely necessary.</span></span> <span data-ttu-id="387d6-167">Para obtener más información, vea [rendimiento](../win7devguide/performance.md) en la [Guía para desarrolladores de Windows 7](../win7devguide/windows-7-developer-guide.md).</span><span class="sxs-lookup"><span data-stu-id="387d6-167">For more information, see [Performance](../win7devguide/performance.md) in the [Windows 7 Developers Guide](../win7devguide/windows-7-developer-guide.md).</span></span>

 

## <a name="thread-priorities"></a><span data-ttu-id="387d6-168">Prioridades de subprocesos</span><span class="sxs-lookup"><span data-stu-id="387d6-168">Thread Priorities</span></span>

<span data-ttu-id="387d6-169">MMCSS aumenta la prioridad de los subprocesos que trabajan en tareas multimedia de alta prioridad.</span><span class="sxs-lookup"><span data-stu-id="387d6-169">The MMCSS boosts the priority of threads that are working on high-priority multimedia tasks.</span></span>

<span data-ttu-id="387d6-170">MMCSS determina la prioridad de un subproceso mediante los siguientes factores:</span><span class="sxs-lookup"><span data-stu-id="387d6-170">MMCSS determines the priority of a thread using the following factors:</span></span>

-   <span data-ttu-id="387d6-171">La prioridad base de la tarea.</span><span class="sxs-lookup"><span data-stu-id="387d6-171">The base priority of the task.</span></span>
-   <span data-ttu-id="387d6-172">Parámetro *Priority* de la función [**AvSetMmThreadPriority**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadpriority) .</span><span class="sxs-lookup"><span data-stu-id="387d6-172">The *Priority* parameter of the [**AvSetMmThreadPriority**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadpriority) function.</span></span>
-   <span data-ttu-id="387d6-173">Indica si la aplicación está en primer plano.</span><span class="sxs-lookup"><span data-stu-id="387d6-173">Whether the application is in the foreground.</span></span>
-   <span data-ttu-id="387d6-174">Cantidad de tiempo de CPU consumida por los subprocesos de cada categoría.</span><span class="sxs-lookup"><span data-stu-id="387d6-174">How much CPU time is being consumed by the threads in each category.</span></span>

<span data-ttu-id="387d6-175">MMCSS establece la prioridad de los subprocesos de cliente en función de su categoría de programación.</span><span class="sxs-lookup"><span data-stu-id="387d6-175">MMCSS sets the priority of client threads depending on their scheduling category.</span></span>

| <span data-ttu-id="387d6-176">Category</span><span class="sxs-lookup"><span data-stu-id="387d6-176">Category</span></span> | <span data-ttu-id="387d6-177">Prioridad</span><span class="sxs-lookup"><span data-stu-id="387d6-177">Priority</span></span> | <span data-ttu-id="387d6-178">Descripción</span><span class="sxs-lookup"><span data-stu-id="387d6-178">Description</span></span>                                                                                                                               |
|----------|----------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="387d6-179">Alto</span><span class="sxs-lookup"><span data-stu-id="387d6-179">High</span></span>     | <span data-ttu-id="387d6-180">23-26</span><span class="sxs-lookup"><span data-stu-id="387d6-180">23-26</span></span>    | <span data-ttu-id="387d6-181">Estos subprocesos se ejecutan con una prioridad de subproceso que es menor que solo ciertas tareas de nivel de sistema.</span><span class="sxs-lookup"><span data-stu-id="387d6-181">These threads run at a thread priority that is lower than only certain system-level tasks.</span></span> <span data-ttu-id="387d6-182">Esta categoría está diseñada para las tareas de audio Pro.</span><span class="sxs-lookup"><span data-stu-id="387d6-182">This category is designed for Pro Audio tasks.</span></span> |
| <span data-ttu-id="387d6-183">Media</span><span class="sxs-lookup"><span data-stu-id="387d6-183">Medium</span></span>   | <span data-ttu-id="387d6-184">16-22</span><span class="sxs-lookup"><span data-stu-id="387d6-184">16-22</span></span>    | <span data-ttu-id="387d6-185">Estos subprocesos forman parte de la aplicación que está en primer plano.</span><span class="sxs-lookup"><span data-stu-id="387d6-185">These threads are part of the application that is in the foreground.</span></span>                                                                      |
| <span data-ttu-id="387d6-186">Bajo</span><span class="sxs-lookup"><span data-stu-id="387d6-186">Low</span></span>      | <span data-ttu-id="387d6-187">8-15</span><span class="sxs-lookup"><span data-stu-id="387d6-187">8-15</span></span>     | <span data-ttu-id="387d6-188">Esta categoría contiene el resto de los subprocesos.</span><span class="sxs-lookup"><span data-stu-id="387d6-188">This category contains the remainder of the threads.</span></span> <span data-ttu-id="387d6-189">Se garantiza un porcentaje mínimo de los recursos de la CPU si es necesario.</span><span class="sxs-lookup"><span data-stu-id="387d6-189">They are guaranteed a minimum percentage of the CPU resources if required.</span></span>           |
|          | <span data-ttu-id="387d6-190">1-7</span><span class="sxs-lookup"><span data-stu-id="387d6-190">1-7</span></span>      | <span data-ttu-id="387d6-191">Estos subprocesos han usado su cuota de recursos de CPU.</span><span class="sxs-lookup"><span data-stu-id="387d6-191">These threads have used their quota of CPU resource.</span></span> <span data-ttu-id="387d6-192">Pueden continuar ejecutándose si no hay subprocesos de prioridad baja listos para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="387d6-192">They can continue to run if no low-priority threads are ready to run.</span></span>                |



 

 

 
