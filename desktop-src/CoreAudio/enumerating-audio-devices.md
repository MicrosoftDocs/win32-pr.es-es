---
description: Enumerar dispositivos de audio
ms.assetid: 20110ffc-5eff-4279-abea-53115803b6ee
title: Enumerar dispositivos de audio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 707b9a88181c83344757c711af1c0199c19ebc16
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104080219"
---
# <a name="enumerating-audio-devices"></a><span data-ttu-id="fe1f0-103">Enumerar dispositivos de audio</span><span class="sxs-lookup"><span data-stu-id="fe1f0-103">Enumerating Audio Devices</span></span>

<span data-ttu-id="fe1f0-104">La primera tarea de una aplicación de audio de cliente es encontrar un dispositivo de audio adecuado para su uso.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-104">The first task of a client audio application is to find a suitable audio device to use.</span></span> <span data-ttu-id="fe1f0-105">La [API de MMDevice](mmdevice-api.md) permite que los clientes detecten los [dispositivos de punto de conexión de audio](audio-endpoint-devices.md) en el sistema y determinen qué dispositivos son adecuados para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-105">The [MMDevice API](mmdevice-api.md) lets clients discover the [audio endpoint devices](audio-endpoint-devices.md) in the system and determine which devices are suitable for the application to use.</span></span> <span data-ttu-id="fe1f0-106">Esta API permite a los clientes recuperar recopilaciones de los dispositivos de punto de conexión disponibles y obtener las capacidades de cada dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-106">This API enables clients to retrieve collections of the available endpoint devices and get the capabilities of each device.</span></span> <span data-ttu-id="fe1f0-107">El archivo de encabezado Mmdeviceapi. h define las interfaces de la API de MMDevice.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-107">Header file Mmdeviceapi.h defines the interfaces in the MMDevice API.</span></span>

<span data-ttu-id="fe1f0-108">Un adaptador de audio puede contener varios dispositivos (por ejemplo, un dispositivo de representación de ondas y un dispositivo de captura de onda).</span><span class="sxs-lookup"><span data-stu-id="fe1f0-108">An audio adapter might contain several devices—for example, a wave-rendering device and a wave-capture device.</span></span> <span data-ttu-id="fe1f0-109">Son dispositivos de adaptador en lugar de dispositivos de punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-109">These are adapter devices rather than endpoint devices.</span></span> <span data-ttu-id="fe1f0-110">Como se mencionó anteriormente, el administrador de Plug and Play registra los dispositivos de adaptador, a diferencia de los dispositivos de punto de conexión registrados por el administrador de puntos de conexión.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-110">As mentioned previously, adapter devices are registered by the Plug and Play manager, in contrast with endpoint devices, which are registered by the endpoint manager.</span></span> <span data-ttu-id="fe1f0-111">Cada dispositivo adaptador normalmente admite uno o varios dispositivos de punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-111">Each adapter device typically supports one or more endpoint devices.</span></span> <span data-ttu-id="fe1f0-112">Un dispositivo de extremo de representación (por ejemplo, auriculares) puede recibir un flujo de datos de audio de una aplicación cliente y un dispositivo de extremo de captura (por ejemplo, un micrófono) puede enviar una secuencia de audio a una aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-112">A rendering endpoint device (for example, headphones) can receive a stream of audio data from a client application, and a capture endpoint device (for example, a microphone) can send an audio stream to a client application.</span></span>

<span data-ttu-id="fe1f0-113">Antes de enumerar los dispositivos de extremo en el sistema, el cliente debe llamar primero a la función [**CoCreateInstance**](/windows/desktop/api/combaseapi/nf-combaseapi-cocreateinstance) de Windows para crear un enumerador de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-113">Before enumerating the endpoint devices in the system, the client must first call the Windows [**CoCreateInstance**](/windows/desktop/api/combaseapi/nf-combaseapi-cocreateinstance) function to create a device enumerator.</span></span> <span data-ttu-id="fe1f0-114">Un enumerador de dispositivo es un objeto con una interfaz [**IMMDeviceEnumerator**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdeviceenumerator) .</span><span class="sxs-lookup"><span data-stu-id="fe1f0-114">A device enumerator is an object with an [**IMMDeviceEnumerator**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdeviceenumerator) interface.</span></span> <span data-ttu-id="fe1f0-115">Para obtener información sobre **CoCreateInstance**, consulte la documentación de Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-115">For information about **CoCreateInstance**, see the Windows SDK documentation.</span></span>

<span data-ttu-id="fe1f0-116">El cliente llama al método [**IMMDeviceEnumerator:: EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) para crear una colección de objetos de extremo.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-116">The client calls the [**IMMDeviceEnumerator::EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) method to create a collection of endpoint objects.</span></span> <span data-ttu-id="fe1f0-117">Cada objeto de extremo representa un dispositivo de punto de conexión de audio en el sistema.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-117">Each endpoint object represents an audio endpoint device in the system.</span></span> <span data-ttu-id="fe1f0-118">En esta llamada, el cliente especifica si la colección debe contener todos los dispositivos de representación del sistema, todos los dispositivos de captura o ambos.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-118">In this call, the client specifies whether the collection should contain all of the rendering devices in the system, all of the capture devices, or both.</span></span>

<span data-ttu-id="fe1f0-119">Una colección de dispositivos es un objeto con una interfaz [**IMMDeviceCollection**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevicecollection) .</span><span class="sxs-lookup"><span data-stu-id="fe1f0-119">A device collection is an object with an [**IMMDeviceCollection**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevicecollection) interface.</span></span> <span data-ttu-id="fe1f0-120">Cada elemento de una colección de dispositivos es un objeto de punto de conexión con al menos las dos interfaces siguientes:</span><span class="sxs-lookup"><span data-stu-id="fe1f0-120">Each item in a device collection is an endpoint object with at least the following two interfaces:</span></span>

-   <span data-ttu-id="fe1f0-121">Una interfaz [**IMMDevice**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice) .</span><span class="sxs-lookup"><span data-stu-id="fe1f0-121">An [**IMMDevice**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice) interface.</span></span> <span data-ttu-id="fe1f0-122">Un cliente obtiene una referencia a la interfaz **IMMDevice** de un objeto de punto de conexión en una colección de dispositivos llamando al método [**IMMDeviceCollection:: Item**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevicecollection-item) .</span><span class="sxs-lookup"><span data-stu-id="fe1f0-122">A client obtains a reference to the **IMMDevice** interface of an endpoint object in a device collection by calling the [**IMMDeviceCollection::Item**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevicecollection-item) method.</span></span>
-   <span data-ttu-id="fe1f0-123">Una interfaz [**IMMEndpoint**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immendpoint) .</span><span class="sxs-lookup"><span data-stu-id="fe1f0-123">An [**IMMEndpoint**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immendpoint) interface.</span></span> <span data-ttu-id="fe1f0-124">Un cliente obtiene una referencia a la interfaz **IMMEndpoint** de un objeto de punto de conexión llamando al método [**IMMDevice:: QueryInterface**](/windows/desktop/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) .</span><span class="sxs-lookup"><span data-stu-id="fe1f0-124">A client obtains a reference to the **IMMEndpoint** interface of an endpoint object by calling the [**IMMDevice::QueryInterface**](/windows/desktop/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) method.</span></span>

<span data-ttu-id="fe1f0-125">Después de recuperar una colección de dispositivos de punto de conexión, el cliente puede consultar las propiedades de los dispositivos individuales de la colección para determinar su idoneidad para su uso.</span><span class="sxs-lookup"><span data-stu-id="fe1f0-125">After retrieving a collection of endpoint devices, the client can query the properties of the individual devices in the collection to determine their suitability for use.</span></span> <span data-ttu-id="fe1f0-126">Para ver un ejemplo de código que muestra cómo enumerar los dispositivos de punto de conexión y consultar sus propiedades, consulte [propiedades de dispositivo](device-properties.md).</span><span class="sxs-lookup"><span data-stu-id="fe1f0-126">For a code example that shows how to enumerate endpoint devices and query their properties, see [Device Properties](device-properties.md).</span></span>

<span data-ttu-id="fe1f0-127">Después de seleccionar un dispositivo adecuado, el cliente puede llamar al método [**IMMDevice:: Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) para activar las interfaces específicas del dispositivo en [WASAPI](wasapi.md), la [API de DeviceTopology](devicetopology-api.md)y la [API de EndpointVolume](endpointvolume-api.md).</span><span class="sxs-lookup"><span data-stu-id="fe1f0-127">After selecting a suitable device, the client can call the [**IMMDevice::Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) method to activate the device-specific interfaces in [WASAPI](wasapi.md), the [DeviceTopology API](devicetopology-api.md), and the [EndpointVolume API](endpointvolume-api.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="fe1f0-128">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="fe1f0-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fe1f0-129">Dispositivos de punto de conexión de audio</span><span class="sxs-lookup"><span data-stu-id="fe1f0-129">Audio Endpoint Devices</span></span>](audio-endpoint-devices.md)
</dt> </dl>

 

 
