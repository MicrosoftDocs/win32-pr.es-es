---
title: Mecánica de inercia
description: Mecánica de inercia
ms.assetid: 188b6936-b36e-4e57-9118-8b61ed134c17
keywords:
- Windows Touch, inercia
- Windows Touch, suave animaciones
- Windows Touch, margen elástico
- inercia, mecánica
- inercia, conceptos básicos de cálculo
- inercia, información general sobre la física
- inercia, Smooth Animation
- inercia, margen elástico
- animación suave
- margen elástico
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: be79b27900c6921c972710e7e922ab42b834afc1
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104356844"
---
# <a name="inertia-mechanics"></a><span data-ttu-id="f452c-113">Mecánica de inercia</span><span class="sxs-lookup"><span data-stu-id="f452c-113">Inertia Mechanics</span></span>

<span data-ttu-id="f452c-114">La inercia se usa para realizar cálculos con el fin de animar el movimiento de objetos y habilitar la compatibilidad con la utilización genérica en aplicaciones que incorporan Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="f452c-114">Inertia is used to perform calculations for animating object movement and to enable support for generic usability in applications incorporating Windows Touch.</span></span> <span data-ttu-id="f452c-115">En esta sección se muestran las siguientes características que están habilitadas por inercia.</span><span class="sxs-lookup"><span data-stu-id="f452c-115">This section illustrates the following features that are enabled by inertia.</span></span>

-   <span data-ttu-id="f452c-116">Información general breve sobre la física de inercia.</span><span class="sxs-lookup"><span data-stu-id="f452c-116">A brief overview of inertia physics.</span></span>
-   <span data-ttu-id="f452c-117">Animar el objeto Smooth usando las propiedades de velocidad y desaceleración.</span><span class="sxs-lookup"><span data-stu-id="f452c-117">Smooth object animation using the velocity and deceleration properties.</span></span>
-   <span data-ttu-id="f452c-118">Animación de objeto Smooth usando una propiedad de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="f452c-118">Smooth object animation using a displacement property.</span></span>
-   <span data-ttu-id="f452c-119">Rebotar desde los bordes de la pantalla mediante límites elásticos.</span><span class="sxs-lookup"><span data-stu-id="f452c-119">Bouncing from the screen edges using elastic bounds.</span></span>

## <a name="inertia-physics-overview"></a><span data-ttu-id="f452c-120">Información general física de inercia</span><span class="sxs-lookup"><span data-stu-id="f452c-120">Inertia Physics Overview</span></span>

<span data-ttu-id="f452c-121">El procesador de inercia usa un modelo físico simple que incorpora una posición, un valor de desaceleración y una velocidad inicial.</span><span class="sxs-lookup"><span data-stu-id="f452c-121">The inertia processor uses a simple physics model that incorporates a position, a deceleration value, and an initial velocity.</span></span> <span data-ttu-id="f452c-122">Time se usa como entrada dinámica al modelo para determinar la posición actual de un objeto que se está desplazando.</span><span class="sxs-lookup"><span data-stu-id="f452c-122">Time is used as the dynamic input to the model to determine the current position of an object being displaced.</span></span> <span data-ttu-id="f452c-123">El gráfico y la fórmula siguientes describen el modelo físico usado para calcular las posiciones de los objetos.</span><span class="sxs-lookup"><span data-stu-id="f452c-123">The following graph and formula outline the physics model used for calculating object positions.</span></span>

![Ilustración que muestra el gráfico y la fórmula que se usan para calcular posiciones de objeto](images/velocity.png)

<span data-ttu-id="f452c-125">En la fórmula que se usa para calcular la posición actual (x), la velocidad inicial (v) se multiplica por el tiempo transcurrido (t) y se reduce por el factor de desaceleración (d) veces al cuadrado.</span><span class="sxs-lookup"><span data-stu-id="f452c-125">In the formula used for calculating the current position (x), the initial velocity (v) is multiplied by the time elapsed (t) and is reduced by the deceleration factor (d) times time squared.</span></span> <span data-ttu-id="f452c-126">Esto produce una desaceleración de objeto suave.</span><span class="sxs-lookup"><span data-stu-id="f452c-126">This results in smooth object deceleration.</span></span> <span data-ttu-id="f452c-127">En la ilustración anterior en la parte inicial (izquierda) de la curva, el objeto se mueve rápidamente porque su velocidad actual es la velocidad inicial.</span><span class="sxs-lookup"><span data-stu-id="f452c-127">In the previous illustration at the initial (leftmost) part of the curve, the object is moving quickly because its current velocity is the initial velocity.</span></span> <span data-ttu-id="f452c-128">En la parte final (derecha) de la curva, el objeto se ha detenido por completo porque su velocidad es 0.</span><span class="sxs-lookup"><span data-stu-id="f452c-128">At the final (rightmost) part of the curve, the object has completely stopped because its velocity is 0.</span></span> <span data-ttu-id="f452c-129">Los cálculos de velocidad de objetos para la velocidad x, la velocidad y y la velocidad de rotación usan esta fórmula para los cálculos.</span><span class="sxs-lookup"><span data-stu-id="f452c-129">Object velocity calculations for x-velocity, y-velocity, and rotational velocity all use this formula for calculations.</span></span>

<span data-ttu-id="f452c-130">Toda la distancia utilizada para el procesador de inercia es relativa.</span><span class="sxs-lookup"><span data-stu-id="f452c-130">All distance used for the inertia processor is relative.</span></span> <span data-ttu-id="f452c-131">Si desea utilizar coordenadas de pantalla, pase las coordenadas de pantalla al procesador de manipulación (o inercia); Si desea utilizar coordenadas absolutas, puede transferirlas al procesador que está utilizando.</span><span class="sxs-lookup"><span data-stu-id="f452c-131">If you want to use screen coordinates, you pass screen coordinates to the manipulation (or inertia) processor; if you want to use absolute coordinates, you pass those into the processor you are using.</span></span> <span data-ttu-id="f452c-132">Independientemente de los valores que use, el procesador de manipulación usará TICs de reloj de milisegundos para procesar la hora.</span><span class="sxs-lookup"><span data-stu-id="f452c-132">Regardless of the values that you are using, the manipulation processor will use millisecond clock ticks for processing the time.</span></span> <span data-ttu-id="f452c-133">Estos valores se pueden pasar directamente al procesador de inercia mediante el método [**ProcessTime**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-processtime) o el uso de la marca de tiempo predeterminada a través de las llamadas a [**Process**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span><span class="sxs-lookup"><span data-stu-id="f452c-133">These values can either be passed directly to the inertia processor using the [**ProcessTime**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-processtime) method or by using the default timestamp through calls to [**Process**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span></span>

## <a name="smooth-object-animation-using-the-velocity-and-deceleration-properties"></a><span data-ttu-id="f452c-134">Animar la animación de objetos mediante las propiedades de velocidad y desaceleración</span><span class="sxs-lookup"><span data-stu-id="f452c-134">Smooth Object Animation using the Velocity and Deceleration Properties</span></span>

<span data-ttu-id="f452c-135">Puede habilitar la animación suave interactuando directamente con el modelo físico estableciendo los valores de velocidad y desaceleración en la interfaz del procesador de inercia y después llamando al [**proceso**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span><span class="sxs-lookup"><span data-stu-id="f452c-135">You can enable smooth animation by directly interacting with the physics model by setting the velocity and deceleration values in the inertia processor interface and then calling [**Process**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span></span> <span data-ttu-id="f452c-136">El **proceso** de llamada desencadenará manipulaciones de objetos que, a su vez, deben producir actualizaciones de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="f452c-136">Calling **Process** will trigger object manipulations which in turn should cause UI updates.</span></span> <span data-ttu-id="f452c-137">Los valores de velocidad de objeto que se pasan al procesador de inercia se suelen tomar del procesador de manipulación al finalizar.</span><span class="sxs-lookup"><span data-stu-id="f452c-137">Object velocity values passed to the inertia processor are typically taken from the manipulation processor upon completion.</span></span> <span data-ttu-id="f452c-138">El valor de desaceleración dependerá del tiempo que quiera que se anime el objeto y de las unidades que esté usando para los cálculos.</span><span class="sxs-lookup"><span data-stu-id="f452c-138">Your deceleration value will be dependent on how long you want your object to be animated for and the units that you are using for your calculations.</span></span> <span data-ttu-id="f452c-139">Dado que los valores son dependientes, a veces debe escalar la velocidad de entrada desde el procesador maniplation y usar valores arbitrarios para la desaceleración.</span><span class="sxs-lookup"><span data-stu-id="f452c-139">Because the values are dependent, sometimes you must scale the input velocity from the maniplation processor and use arbitrary values for deceleration.</span></span> <span data-ttu-id="f452c-140">Los valores siguientes son típicos para varios escenarios en los que se pasan los valores de centipixel de las propiedades x e y de la estructura [**TOUCHINPUT**](/windows/win32/api/winuser/ns-winuser-touchinput) al procesador de manipulación.</span><span class="sxs-lookup"><span data-stu-id="f452c-140">The following values are typical for various scenarios where you are passing centipixel values from the x and y properties of the [**TOUCHINPUT**](/windows/win32/api/winuser/ns-winuser-touchinput) structure to the manipulation processor.</span></span>



| <span data-ttu-id="f452c-141">Escenario</span><span class="sxs-lookup"><span data-stu-id="f452c-141">Scenario</span></span>    | <span data-ttu-id="f452c-142">Conjunto de propiedades</span><span class="sxs-lookup"><span data-stu-id="f452c-142">Property Set</span></span>                                                                       | <span data-ttu-id="f452c-143">Valor de desaceleración</span><span class="sxs-lookup"><span data-stu-id="f452c-143">Deceleration Value</span></span> | <span data-ttu-id="f452c-144">Escala de entrada de velocidad típica</span><span class="sxs-lookup"><span data-stu-id="f452c-144">Typical Velocity Input Scaling</span></span>                                  | <span data-ttu-id="f452c-145">Notas</span><span class="sxs-lookup"><span data-stu-id="f452c-145">Notes</span></span>                                                                                 |
|-------------|------------------------------------------------------------------------------------|--------------------|-----------------------------------------------------------------|---------------------------------------------------------------------------------------|
| <span data-ttu-id="f452c-146">Traducción</span><span class="sxs-lookup"><span data-stu-id="f452c-146">Translation</span></span> | [<span data-ttu-id="f452c-147">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="f452c-147">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="f452c-148">0,003 f</span><span class="sxs-lookup"><span data-stu-id="f452c-148">0.003f</span></span>             | <span data-ttu-id="f452c-149">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="f452c-149">None.</span></span>                                                           | <span data-ttu-id="f452c-150">Si se usa este valor, se producirán animaciones de distancia más largas al usar la entrada táctil.</span><span class="sxs-lookup"><span data-stu-id="f452c-150">Using this value will result in longer distance animations when using touch input.</span></span>    |
| <span data-ttu-id="f452c-151">Traducción</span><span class="sxs-lookup"><span data-stu-id="f452c-151">Translation</span></span> | [<span data-ttu-id="f452c-152">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="f452c-152">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="f452c-153">0,001 f</span><span class="sxs-lookup"><span data-stu-id="f452c-153">0.001f</span></span>             | <span data-ttu-id="f452c-154">1/20 velocidad inicial para entradas táctiles, ninguna para entradas de mouse</span><span class="sxs-lookup"><span data-stu-id="f452c-154">1/20th initial velocity for touch inputs, none for mouse inputs</span></span> | <span data-ttu-id="f452c-155">El uso de este valor se animará en torno a una segunda entrada de velocidad típica dada.</span><span class="sxs-lookup"><span data-stu-id="f452c-155">Using this value will animate for around a second given typical velocity inputs.</span></span>      |
| <span data-ttu-id="f452c-156">Traducción</span><span class="sxs-lookup"><span data-stu-id="f452c-156">Translation</span></span> | [<span data-ttu-id="f452c-157">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="f452c-157">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="f452c-158">0.5 f</span><span class="sxs-lookup"><span data-stu-id="f452c-158">0.5f</span></span>               | <span data-ttu-id="f452c-159">None</span><span class="sxs-lookup"><span data-stu-id="f452c-159">None</span></span>                                                            | <span data-ttu-id="f452c-160">El uso de este valor da una sensación natural a la animación en pantallas grandes de Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="f452c-160">Using this value gives a natural feel to animation on large Windows Touch displays.</span></span>   |
| <span data-ttu-id="f452c-161">Rotación</span><span class="sxs-lookup"><span data-stu-id="f452c-161">Rotation</span></span>    | [<span data-ttu-id="f452c-162">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="f452c-162">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="f452c-163">0.000015 f</span><span class="sxs-lookup"><span data-stu-id="f452c-163">0.000015f</span></span>          | <span data-ttu-id="f452c-164">Radianes convertidos en grados.</span><span class="sxs-lookup"><span data-stu-id="f452c-164">Radians converted to degrees.</span></span>                                   | <span data-ttu-id="f452c-165">El uso de este valor produce animaciones de rotación más largas cuando se usa la entrada táctil.</span><span class="sxs-lookup"><span data-stu-id="f452c-165">Using this value results in longer rotational animations when using touch input.</span></span>      |
| <span data-ttu-id="f452c-166">Rotación</span><span class="sxs-lookup"><span data-stu-id="f452c-166">Rotation</span></span>    | [<span data-ttu-id="f452c-167">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="f452c-167">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="f452c-168">0,00001 f</span><span class="sxs-lookup"><span data-stu-id="f452c-168">0.00001f</span></span>           | <span data-ttu-id="f452c-169">1/40th de rotación para entradas táctiles, ninguna para entradas de mouse</span><span class="sxs-lookup"><span data-stu-id="f452c-169">1/40th rotation delta for touch inputs, none for mouse inputs</span></span>   | <span data-ttu-id="f452c-170">Este valor se encuentra en radianes, por lo que debe usar valores de desaceleración muy pequeños y de velocidad.</span><span class="sxs-lookup"><span data-stu-id="f452c-170">This value is in radians so you must use very small deceleration and velocity values.</span></span> |
| <span data-ttu-id="f452c-171">Rotación</span><span class="sxs-lookup"><span data-stu-id="f452c-171">Rotation</span></span>    | [<span data-ttu-id="f452c-172">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="f452c-172">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="f452c-173">0.000005 f</span><span class="sxs-lookup"><span data-stu-id="f452c-173">0.000005f</span></span>          | <span data-ttu-id="f452c-174">None</span><span class="sxs-lookup"><span data-stu-id="f452c-174">None</span></span>                                                            | <span data-ttu-id="f452c-175">Este valor tiene una sensación natural en pantallas grandes de Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="f452c-175">This value has a natural feel on large Windows Touch displays.</span></span>                        |



 

## <a name="smooth-object-animation-using-the-desired-displacement-property"></a><span data-ttu-id="f452c-176">Animación de objeto Smooth con la propiedad de desplazamiento deseada</span><span class="sxs-lookup"><span data-stu-id="f452c-176">Smooth Object Animation using the Desired Displacement Property</span></span>

<span data-ttu-id="f452c-177">En algunos casos, no desea usar la entrada del usuario para el desplazamiento de objetos, pero desea que un objeto se anime sin problemas en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="f452c-177">In some cases, you don't want to use the user's input for object displacement, but you still want an object to smoothly animate across the screen.</span></span> <span data-ttu-id="f452c-178">En este caso, puede usar las propiedades de desplazamiento en el procesador de inercia para que el procesador calcule la velocidad inicial para mover un objeto a través de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="f452c-178">In this case, you can use displacement properties in the inertia processor to have the processor calculate the initial velocity for moving an object across the screen.</span></span>

## <a name="controlling-object-position-using-elastic-bounds"></a><span data-ttu-id="f452c-179">Controlar la posición de un objeto mediante límites elásticos</span><span class="sxs-lookup"><span data-stu-id="f452c-179">Controlling Object Position Using Elastic Bounds</span></span>

<span data-ttu-id="f452c-180">Una vez que tenga un objeto que se mueva por la pantalla, normalmente querrá que se detenga antes de que salga del punto de vista del usuario.</span><span class="sxs-lookup"><span data-stu-id="f452c-180">After you have an object that is moving across the screen, you will typically want for it to stop before it goes outside of the user's viewpoint.</span></span> <span data-ttu-id="f452c-181">El procesador de inercia permite esta funcionalidad a través de las propiedades límite y margen elástico.</span><span class="sxs-lookup"><span data-stu-id="f452c-181">The inertia processor enables this functionality through the boundary and elastic margin properties.</span></span> <span data-ttu-id="f452c-182">En la imagen siguiente se muestran las diversas propiedades de límite y margen en una aplicación típica.</span><span class="sxs-lookup"><span data-stu-id="f452c-182">The following image illustrates the various boundary and margin properties in a typical application.</span></span>

![captura de pantalla que muestra las propiedades de margen y límite elástico](images/elastic-illustrated.png)

<span data-ttu-id="f452c-184">Los límites izquierdo, superior, derecho e inferior se establecen para la aplicación, y el procesador de inercia controlará el mantenimiento de los elementos de la interfaz de usuario dentro de los límites.</span><span class="sxs-lookup"><span data-stu-id="f452c-184">You set the left, upper, right, and lower boundaries and elastic margins for your application, and the inertia processor will handle keeping UI elements within the bounds.</span></span> <span data-ttu-id="f452c-185">Cuando un objeto alcanza un margen elástico, se ralentiza hasta que alcanza el límite.</span><span class="sxs-lookup"><span data-stu-id="f452c-185">When an object reaches an elastic margin, it will slow down until it reaches the boundary.</span></span> <span data-ttu-id="f452c-186">Nunca dejará ese margen de nuevo durante la inercia, sino que se seguirá moviendo hasta que el componente de inercia perpendicular del objeto disminuya a 0.</span><span class="sxs-lookup"><span data-stu-id="f452c-186">It will never leave that margin again during inertia, but will still move until the object's perpendicular inertia component decelerates to 0.</span></span> <span data-ttu-id="f452c-187">En la ilustración, un círculo se desplazará hacia el límite elástico izquierdo.</span><span class="sxs-lookup"><span data-stu-id="f452c-187">In the illustration, a circle is displaced toward the left elastic boundary.</span></span> <span data-ttu-id="f452c-188">La flecha sólida muestra la dirección de la manipulación; el círculo sólido es la posición inicial del objeto; la flecha sólida es el cambio que se realiza antes de que el círculo llegue al margen elástico. la Flecha discontinua muestra dónde el procesador de inercia manipula el círculo una vez que alcanza el margen; y los círculos discontinuos muestran dónde se detiene el objeto.</span><span class="sxs-lookup"><span data-stu-id="f452c-188">The solid arrow shows the direction of the manipulation; the solid circle is the initial position of the object; the solid arrow is the changes made before the circle hits the elastic margin; the dashed arrow shows where the inertia processor manipulates the circle after it hits the margin; and the dashed circles show where the object stops.</span></span>

> [!Note]  
> <span data-ttu-id="f452c-189">Al establecer las propiedades de margen, se mueven los límites hacia afuera.</span><span class="sxs-lookup"><span data-stu-id="f452c-189">Setting the margin properties will move the bounds outward.</span></span> <span data-ttu-id="f452c-190">Por ejemplo, si el límite superior se establece en 50 y, a continuación, establece el margen elástico superior en 10, el límite superior se convertirá en 40 de forma efectiva.</span><span class="sxs-lookup"><span data-stu-id="f452c-190">For example, if your top boundary is set to 50 and then you set the top elastic margin to 10, your top boundary will effectively become 40.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="f452c-191">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="f452c-191">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f452c-192">Controlar la inercia en código no administrado</span><span class="sxs-lookup"><span data-stu-id="f452c-192">Handling Inertia in Unmanaged Code</span></span>](handling-inertia-in-unmanaged-code.md)
</dt> <dt>

[<span data-ttu-id="f452c-193">Inercia</span><span class="sxs-lookup"><span data-stu-id="f452c-193">Inertia</span></span>](getting-started-with-inertia.md)
</dt> <dt>

[<span data-ttu-id="f452c-194">Manipulaciones</span><span class="sxs-lookup"><span data-stu-id="f452c-194">Manipulations</span></span>](getting-started-with-manipulations.md)
</dt> </dl>

 

 




