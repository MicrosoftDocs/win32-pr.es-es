---
title: Introducción a la API de Direct2D
description: Proporciona información general sobre el modelo de objetos de Direct2D.
ms.assetid: b1362ef6-40fc-4fa5-ba5b-22c622c39f04
keywords:
- Direct2D, acerca de
- Direct2D, archivos de encabezado
- Direct2D, modelo de objetos
- Direct2D, interfaces
- Interfaz ID2D1Factory
- Direct2D, destinos de representación
- destinos de representación, acerca de
- Direct2D, dibujar comandos
- destinos de representación, dibujar comandos
- Direct2D, control de errores
- destinos de representación, control de errores
- el control de errores
- pinceles
- destinos de representación, pinceles
- geometries
- Direct2D, geometrías
- mapas de bits para Direct2D
- Direct2D, mapas de bits
- Primitives
- Direct2D, primitivos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 858d03f626fe337b174f074d7725dcb1a636b463
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "105685746"
---
# <a name="direct2d-api-overview"></a><span data-ttu-id="186b3-123">Introducción a la API de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-123">Direct2D API Overview</span></span>

<span data-ttu-id="186b3-124">Direct2D proporciona una API, similar a Direct3D, para su uso con C o C++.</span><span class="sxs-lookup"><span data-stu-id="186b3-124">Direct2D provides an API, similar to Direct3D, for use with C or C++.</span></span> <span data-ttu-id="186b3-125">La API expone una variedad de funcionalidades relacionadas con el dibujo:</span><span class="sxs-lookup"><span data-stu-id="186b3-125">The API exposes a variety of drawing-related functionality:</span></span>

-   <span data-ttu-id="186b3-126">Representan los destinos para la presentación y la representación fuera de la pantalla mediante Direct2D, Direct3D o GDI.</span><span class="sxs-lookup"><span data-stu-id="186b3-126">Render targets for display and off-screen rendering using Direct2D, Direct3D, or GDI.</span></span>
-   <span data-ttu-id="186b3-127">Objetos para administrar el estado del dibujo, como transformaciones del espacio de coordenadas y modos de suavizado de contorno.</span><span class="sxs-lookup"><span data-stu-id="186b3-127">Objects for managing drawing state such as coordinate space transforms and antialiasing modes.</span></span>
-   <span data-ttu-id="186b3-128">Representaciones para datos geométricos y funciones para el procesamiento de geometría.</span><span class="sxs-lookup"><span data-stu-id="186b3-128">Representations for geometric data, and functions for geometry processing.</span></span>
-   <span data-ttu-id="186b3-129">Funcionalidad de representación de mapas de bits, geometrías y texto.</span><span class="sxs-lookup"><span data-stu-id="186b3-129">Rendering functionality for bitmaps, geometries, and text.</span></span>
-   <span data-ttu-id="186b3-130">Aprovisiona el uso de contenido gráfico creado con GDI o Direct3D.</span><span class="sxs-lookup"><span data-stu-id="186b3-130">Provisions for using graphical content created using GDI or Direct3D.</span></span>

<span data-ttu-id="186b3-131">En este tema se proporciona información general sobre los objetos que componen la API de Direct2D.</span><span class="sxs-lookup"><span data-stu-id="186b3-131">This topic provides an overview of the objects that make up the Direct2D API.</span></span> <span data-ttu-id="186b3-132">Contiene las secciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="186b3-132">It contains the following sections:</span></span>

-   [<span data-ttu-id="186b3-133">Archivos de encabezado de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-133">Direct2D Header Files</span></span>](#direct2d-header-files)
-   [<span data-ttu-id="186b3-134">Interfaces de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-134">Direct2D Interfaces</span></span>](#direct2d-interfaces)
-   [<span data-ttu-id="186b3-135">La interfaz ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="186b3-135">The ID2D1Factory Interface</span></span>](#the-id2d1factory-interface)
-   [<span data-ttu-id="186b3-136">Destinos de representación</span><span class="sxs-lookup"><span data-stu-id="186b3-136">Render Targets</span></span>](#render-targets)
    -   [<span data-ttu-id="186b3-137">Características de destino de representación</span><span class="sxs-lookup"><span data-stu-id="186b3-137">Render Target Features</span></span>](#render-target-features)
    -   [<span data-ttu-id="186b3-138">Representar recursos de destino</span><span class="sxs-lookup"><span data-stu-id="186b3-138">Render Target Resources</span></span>](#render-target-resources)
    -   [<span data-ttu-id="186b3-139">Dibujar comandos</span><span class="sxs-lookup"><span data-stu-id="186b3-139">Drawing Commands</span></span>](#drawing-commands)
    -   [<span data-ttu-id="186b3-140">Tratamiento de errores</span><span class="sxs-lookup"><span data-stu-id="186b3-140">Error Handling</span></span>](#error-handling)
-   [<span data-ttu-id="186b3-141">Dibujar recursos</span><span class="sxs-lookup"><span data-stu-id="186b3-141">Drawing Resources</span></span>](#drawing-resources)
    -   [<span data-ttu-id="186b3-142">Pinceles</span><span class="sxs-lookup"><span data-stu-id="186b3-142">Brushes</span></span>](#brushes)
    -   [<span data-ttu-id="186b3-143">Geometrías</span><span class="sxs-lookup"><span data-stu-id="186b3-143">Geometries</span></span>](#geometries)
    -   [<span data-ttu-id="186b3-144">Mapas de bits</span><span class="sxs-lookup"><span data-stu-id="186b3-144">Bitmaps</span></span>](#bitmaps)
-   [<span data-ttu-id="186b3-145">Dibujar texto</span><span class="sxs-lookup"><span data-stu-id="186b3-145">Drawing Text</span></span>](#drawing-text)
-   [<span data-ttu-id="186b3-146">Primitivas de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-146">Direct2D Primitives</span></span>](#direct2d-primitives)
-   [<span data-ttu-id="186b3-147">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="186b3-147">Related topics</span></span>](#related-topics)

## <a name="direct2d-header-files"></a><span data-ttu-id="186b3-148">Archivos de encabezado de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-148">Direct2D Header Files</span></span>

<span data-ttu-id="186b3-149">La API de Direct2D se define mediante los siguientes archivos de encabezado.</span><span class="sxs-lookup"><span data-stu-id="186b3-149">The Direct2D API is defined by the following header files.</span></span>

| <span data-ttu-id="186b3-150">Archivo de encabezado</span><span class="sxs-lookup"><span data-stu-id="186b3-150">Header file</span></span>         | <span data-ttu-id="186b3-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="186b3-151">Description</span></span>                                                                                                                  |
|---------------------|------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="186b3-152">d2d1. h</span><span class="sxs-lookup"><span data-stu-id="186b3-152">d2d1.h</span></span>              | <span data-ttu-id="186b3-153">Define las versiones de C y C++ de la API de Direct2D principal.</span><span class="sxs-lookup"><span data-stu-id="186b3-153">Defines C and C++ versions of the primary Direct2D API.</span></span>                                                                      |
| <span data-ttu-id="186b3-154">d2d1helper. h</span><span class="sxs-lookup"><span data-stu-id="186b3-154">d2d1helper.h</span></span>        | <span data-ttu-id="186b3-155">Define las funciones auxiliares, las clases y las estructuras de C++.</span><span class="sxs-lookup"><span data-stu-id="186b3-155">Defines C++ helper functions, classes, and structures.</span></span>                                                                       |
| <span data-ttu-id="186b3-156">d2dbasetypes. h</span><span class="sxs-lookup"><span data-stu-id="186b3-156">d2dbasetypes.h</span></span>      | <span data-ttu-id="186b3-157">Define primitivos de dibujo para Direct2D, como puntos y rectángulos.</span><span class="sxs-lookup"><span data-stu-id="186b3-157">Defines drawing primitives for Direct2D, such as points and rectangles.</span></span> <span data-ttu-id="186b3-158">Este encabezado está incluido en d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="186b3-158">This header is included with d2d1.h.</span></span>                 |
| <span data-ttu-id="186b3-159">d2derr. h</span><span class="sxs-lookup"><span data-stu-id="186b3-159">d2derr.h</span></span>            | <span data-ttu-id="186b3-160">Define los códigos de error para Direct2D.</span><span class="sxs-lookup"><span data-stu-id="186b3-160">Defines the error codes for Direct2D.</span></span> <span data-ttu-id="186b3-161">Este encabezado está incluido en d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="186b3-161">This header is included with d2d1.h.</span></span>                                                   |
| <span data-ttu-id="186b3-162">d2d1 \_ 1. h</span><span class="sxs-lookup"><span data-stu-id="186b3-162">d2d1\_1.h</span></span>           | <span data-ttu-id="186b3-163">Define las versiones de C y C++ de la API de Direct2D principal para Windows 8 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="186b3-163">Defines C and C++ versions of the primary Direct2D API for Windows 8 and later.</span></span>                                              |
| <span data-ttu-id="186b3-164">d2d1 \_ 1helper. h</span><span class="sxs-lookup"><span data-stu-id="186b3-164">d2d1\_1helper.h</span></span>     | <span data-ttu-id="186b3-165">Define las funciones auxiliares, las clases y las estructuras de C++ para Windows 8 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="186b3-165">Defines C++ helper functions, classes, and structures for Windows 8 and later.</span></span>                                               |
| <span data-ttu-id="186b3-166">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="186b3-166">d2d1effects.h</span></span>       | <span data-ttu-id="186b3-167">Define las versiones de C y C++ de la parte de efectos de imagen de la API de Direct2D para Windows 8 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="186b3-167">Defines C and C++ versions of the image effects part of the Direct2D API for Windows 8 and later.</span></span>                            |
| <span data-ttu-id="186b3-168">d2d1effecthelpers. h</span><span class="sxs-lookup"><span data-stu-id="186b3-168">d2d1effecthelpers.h</span></span> | <span data-ttu-id="186b3-169">Define las funciones auxiliares de C++, las clases y las estructuras de la parte de efectos de imagen de la API de Direct2D para Windows 8 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="186b3-169">Defines C++ helper functions, classes, and structures of the image effects part of the Direct2D API for Windows 8 and later.</span></span> |



 

<span data-ttu-id="186b3-170">Para usar Direct2D, la aplicación debe incluir el archivo de encabezado d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="186b3-170">To use Direct2D, your application should include the d2d1.h header file.</span></span>

<span data-ttu-id="186b3-171">Para compilar una aplicación de Direct2D, agregue d2d1. lib a la lista de bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="186b3-171">To compile a Direct2D application, add d2d1.lib to the list of libraries.</span></span> <span data-ttu-id="186b3-172">Puede encontrar d2d1. h y d2d1. lib en el [Kit de desarrollo de software (SDK) de Windows para Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span><span class="sxs-lookup"><span data-stu-id="186b3-172">You can find d2d1.h and d2d1.lib in [Windows Software Development Kit (SDK) for Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span></span>

<span data-ttu-id="186b3-173">En las secciones siguientes se describen algunas de las interfaces comunes que proporciona la API de Direct2D.</span><span class="sxs-lookup"><span data-stu-id="186b3-173">The following sections describe some of the common interfaces provided by the Direct2D API.</span></span>

## <a name="direct2d-interfaces"></a><span data-ttu-id="186b3-174">Interfaces de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-174">Direct2D Interfaces</span></span>

<span data-ttu-id="186b3-175">En la raíz de la API de Direct2D se encuentran las interfaces [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) y [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) .</span><span class="sxs-lookup"><span data-stu-id="186b3-175">At the root of the Direct2D API are the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) and [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) interfaces.</span></span> <span data-ttu-id="186b3-176">Un objeto **ID2D1Factory** crea objetos **ID2D1Resource** y sirve como punto de partida para usar Direct2D.</span><span class="sxs-lookup"><span data-stu-id="186b3-176">An **ID2D1Factory** object creates **ID2D1Resource** objects and serves as the starting point for using Direct2D.</span></span> <span data-ttu-id="186b3-177">Todos los demás objetos de Direct2D heredan de la interfaz **ID2D1Resource** .</span><span class="sxs-lookup"><span data-stu-id="186b3-177">All other Direct2D objects inherit from the **ID2D1Resource** interface.</span></span> <span data-ttu-id="186b3-178">Hay dos tipos de recursos de Direct2D: recursos independientes del dispositivo y recursos dependientes del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="186b3-178">There are two types of Direct2D resources: device-independent resources and device-dependent resources.</span></span>

-   <span data-ttu-id="186b3-179">Los recursos independientes del dispositivo no están asociados a un dispositivo de representación determinado y pueden persistir durante la vida de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="186b3-179">Device-independent resources are not associated with a particular rendering device and can persist for the life of an application.</span></span>
-   <span data-ttu-id="186b3-180">Los recursos dependientes del dispositivo se asocian a un dispositivo de representación determinado y dejan de funcionar si se quita ese dispositivo.</span><span class="sxs-lookup"><span data-stu-id="186b3-180">Device-dependent resources are associated with a particular rendering device and cease to function if that device is removed.</span></span>

<span data-ttu-id="186b3-181">(Para obtener más información acerca de los recursos y el uso compartido de recursos, consulte la [Introducción a los recursos](resources-and-resource-domains.md)).</span><span class="sxs-lookup"><span data-stu-id="186b3-181">(For more information about resources and resource sharing, see the [Resources Overview](resources-and-resource-domains.md).)</span></span>

## <a name="the-id2d1factory-interface"></a><span data-ttu-id="186b3-182">La interfaz ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="186b3-182">The ID2D1Factory Interface</span></span>

<span data-ttu-id="186b3-183">La interfaz [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) es el punto de partida para usar Direct2D.</span><span class="sxs-lookup"><span data-stu-id="186b3-183">The [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) interface is the starting point for using Direct2D.</span></span> <span data-ttu-id="186b3-184">Se usa un **ID2D1Factory** para crear instancias de recursos de Direct2D.</span><span class="sxs-lookup"><span data-stu-id="186b3-184">You use an **ID2D1Factory** to instantiate Direct2D resources.</span></span> <span data-ttu-id="186b3-185">Para crear un ID2D1Factory, use uno de los métodos [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) .</span><span class="sxs-lookup"><span data-stu-id="186b3-185">To create an ID2D1Factory, you use one of the [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) methods.</span></span>

<span data-ttu-id="186b3-186">Un generador define un conjunto de métodos de creación de *recursos* que pueden generar los siguientes recursos de dibujo:</span><span class="sxs-lookup"><span data-stu-id="186b3-186">A factory defines a set of Create *Resource* methods that can produce the following drawing resources:</span></span>

-   <span data-ttu-id="186b3-187">Los destinos de representación son objetos que representan comandos de dibujo.</span><span class="sxs-lookup"><span data-stu-id="186b3-187">Render targets are objects that render drawing commands.</span></span>
-   <span data-ttu-id="186b3-188">Los bloques de estado de dibujo son objetos que almacenan información de estado de dibujo, como el modo de transformación y suavizado de contorno actual.</span><span class="sxs-lookup"><span data-stu-id="186b3-188">Drawing state blocks are objects that store drawing state information, such as the current transformation and antialiasing mode.</span></span>
-   <span data-ttu-id="186b3-189">Las geometrías son objetos que representan formas simples y potencialmente complejas.</span><span class="sxs-lookup"><span data-stu-id="186b3-189">Geometries are objects that represent simple and potentially complex shapes.</span></span>

<span data-ttu-id="186b3-190">Uno de los objetos más útiles que puede crear un generador es el [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), que se describe en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="186b3-190">One of the most useful objects a factory can create is the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), described in the following section.</span></span>

## <a name="render-targets"></a><span data-ttu-id="186b3-191">Destinos de representación</span><span class="sxs-lookup"><span data-stu-id="186b3-191">Render Targets</span></span>

<span data-ttu-id="186b3-192">Un destino de representación es un recurso que hereda de la interfaz [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) .</span><span class="sxs-lookup"><span data-stu-id="186b3-192">A render target is a resource that inherits from the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) interface.</span></span> <span data-ttu-id="186b3-193">Un destino de representación crea recursos para dibujar y realiza operaciones de dibujo.</span><span class="sxs-lookup"><span data-stu-id="186b3-193">A render target creates resources for drawing and performs drawing operations.</span></span> <span data-ttu-id="186b3-194">Hay varios tipos de destinos de representación que se pueden usar para representar gráficos de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="186b3-194">There are several kinds of render targets that can be used to render graphics in the following ways:</span></span>

-   <span data-ttu-id="186b3-195">Los objetos [**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) representan el contenido en una ventana.</span><span class="sxs-lookup"><span data-stu-id="186b3-195">[**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) objects render content to a window.</span></span>
-   <span data-ttu-id="186b3-196">Los objetos [**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) se representan en un contexto de dispositivo GDI.</span><span class="sxs-lookup"><span data-stu-id="186b3-196">[**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) objects render to a GDI device context.</span></span>
-   <span data-ttu-id="186b3-197">Los objetos de destino de representación de mapas de bits representan el contenido en un mapa de bits fuera de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="186b3-197">Bitmap render target objects render content to an off-screen bitmap.</span></span>
-   <span data-ttu-id="186b3-198">Los objetos de destino de representación de DXGI se representan en una superficie de DXGI para su uso con Direct3D.</span><span class="sxs-lookup"><span data-stu-id="186b3-198">DXGI render target objects render to a DXGI surface for use with Direct3D.</span></span>

<span data-ttu-id="186b3-199">Dado que un destino de representación está asociado a un dispositivo de representación determinado, es un recurso dependiente del dispositivo y deja de funcionar si se quita el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="186b3-199">Because a render target is associated with a particular rendering device, it is a device-dependent resource and ceases to function if the device is removed.</span></span>

### <a name="render-target-features"></a><span data-ttu-id="186b3-200">Características de destino de representación</span><span class="sxs-lookup"><span data-stu-id="186b3-200">Render Target Features</span></span>

<span data-ttu-id="186b3-201">Puede especificar si un destino de representación debe usar la aceleración de hardware y si el equipo local o remoto debe representar la pantalla remota.</span><span class="sxs-lookup"><span data-stu-id="186b3-201">You can specify whether a render target should use hardware acceleration and whether remote display should be rendered by the local or remote computer.</span></span> <span data-ttu-id="186b3-202">Los destinos de representación pueden configurarse para la representación con alias o con suavizado de contorno.</span><span class="sxs-lookup"><span data-stu-id="186b3-202">Render targets can be set up for aliased or antialiased rendering.</span></span> <span data-ttu-id="186b3-203">En el caso de las escenas de representación con un gran número de primitivas, un desarrollador también puede representar gráficos 2D en modo de alias y usar el suavizado de contorno de muestreo múltiple para lograr una mayor escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="186b3-203">For rendering scenes with a large number of primitives, a developer can also render 2-D graphics in aliased mode and use D3D multisample antialiasing to achieve greater scalability.</span></span>

<span data-ttu-id="186b3-204">Los destinos de representación también pueden agrupar las operaciones de dibujo en capas representadas por la interfaz [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) .</span><span class="sxs-lookup"><span data-stu-id="186b3-204">Render targets can also group drawing operations into layers that are represented by the [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) interface.</span></span> <span data-ttu-id="186b3-205">Las capas son útiles para recopilar operaciones de dibujo que se van a componer juntas al representar un fotograma.</span><span class="sxs-lookup"><span data-stu-id="186b3-205">Layers are useful for collecting drawing operations to be composited together when rendering a frame.</span></span> <span data-ttu-id="186b3-206">En algunos escenarios, puede ser una alternativa útil a la representación en un destino de representación de mapas de bits y, a continuación, volver a usar el contenido del mapa de bits, ya que los costos de asignación para la disposición en capas son menores que para un [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span><span class="sxs-lookup"><span data-stu-id="186b3-206">For some scenarios, this can be a useful alternative to rendering to a bitmap render target, and then reusing the bitmap contents, as allocation costs for layering are lower than for an [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span></span>

<span data-ttu-id="186b3-207">Los destinos de representación pueden crear nuevos destinos de representación que son compatibles con ellos mismos, lo que resulta útil para la representación fuera de pantalla intermedia, a la vez que conserva las distintas propiedades de representación y destino que se establecieron en el original.</span><span class="sxs-lookup"><span data-stu-id="186b3-207">Render targets can create new render targets that are compatible with themselves, which is useful for intermediate off-screen rendering while retaining the various render-target properties that were set on the original.</span></span>

<span data-ttu-id="186b3-208">También es posible representar usando GDI en un destino de representación de Direct2D llamando a [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) en un destino de representación para [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), que tiene los métodos [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) y [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) en él que se pueden usar para recuperar un contexto de dispositivo GDI.</span><span class="sxs-lookup"><span data-stu-id="186b3-208">It is also possible to render using GDI on a Direct2D render target by calling [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) on a render target for [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), which has [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) and [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) methods on it that can be used to retrieve a GDI device context.</span></span> <span data-ttu-id="186b3-209">La representación a través de GDI solo es posible si el destino de representación se creó con el conjunto de marcadores [**compatible con GDI de uso de destino de representación de D2D1 \_ \_ \_ \_ \_**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) .</span><span class="sxs-lookup"><span data-stu-id="186b3-209">Rendering via GDI is possible only if the render target was created with the [**D2D1\_RENDER\_TARGET\_USAGE\_GDI\_COMPATIBLE**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) flag set.</span></span> <span data-ttu-id="186b3-210">Esto resulta útil para las aplicaciones que se representan principalmente con Direct2D pero tienen un modelo de extensibilidad u otro contenido heredado que requiere la capacidad de presentar con GDI.</span><span class="sxs-lookup"><span data-stu-id="186b3-210">This is useful for applications that primarily render with Direct2D but have an extensibility model or other legacy content that requires the ability to render with GDI.</span></span> <span data-ttu-id="186b3-211">Para obtener más información, vea [información general sobre la interoperabilidad de Direct2D y GDI](direct2d-and-gdi-interoperation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="186b3-211">For more information, see the [Direct2D and GDI Interoperability Overview](direct2d-and-gdi-interoperation-overview.md).</span></span>

### <a name="render-target-resources"></a><span data-ttu-id="186b3-212">Representar recursos de destino</span><span class="sxs-lookup"><span data-stu-id="186b3-212">Render Target Resources</span></span>

<span data-ttu-id="186b3-213">Al igual que un generador, un destino de representación puede crear recursos de dibujo.</span><span class="sxs-lookup"><span data-stu-id="186b3-213">Like a factory, a render target can create drawing resources.</span></span> <span data-ttu-id="186b3-214">Los recursos creados por un destino de representación son recursos dependientes del dispositivo (al igual que el destino de representación).</span><span class="sxs-lookup"><span data-stu-id="186b3-214">Any resources created by a render target are device-dependent resources (just like the render target).</span></span> <span data-ttu-id="186b3-215">Un destino de representación puede crear los siguientes tipos de recursos:</span><span class="sxs-lookup"><span data-stu-id="186b3-215">A render target can create the following types of resources:</span></span>

-   <span data-ttu-id="186b3-216">Mapas de bits</span><span class="sxs-lookup"><span data-stu-id="186b3-216">Bitmaps</span></span>
-   <span data-ttu-id="186b3-217">Pinceles</span><span class="sxs-lookup"><span data-stu-id="186b3-217">Brushes</span></span>
-   <span data-ttu-id="186b3-218">Capas</span><span class="sxs-lookup"><span data-stu-id="186b3-218">Layers</span></span>
-   <span data-ttu-id="186b3-219">Mallas</span><span class="sxs-lookup"><span data-stu-id="186b3-219">Meshes</span></span>

### <a name="drawing-commands"></a><span data-ttu-id="186b3-220">Dibujar comandos</span><span class="sxs-lookup"><span data-stu-id="186b3-220">Drawing Commands</span></span>

<span data-ttu-id="186b3-221">Para representar el contenido, se usan los métodos de dibujo del destino de representación.</span><span class="sxs-lookup"><span data-stu-id="186b3-221">To render content, you use the render target drawing methods.</span></span> <span data-ttu-id="186b3-222">Antes de empezar a dibujar, se llama al método [**ID2D1RenderTarget:: BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) .</span><span class="sxs-lookup"><span data-stu-id="186b3-222">Before you begin drawing, you call the [**ID2D1RenderTarget::BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) method.</span></span> <span data-ttu-id="186b3-223">Una vez finalizado el dibujo, se llama al método [**ID2D1RenderTarget:: EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) .</span><span class="sxs-lookup"><span data-stu-id="186b3-223">After you finished drawing, you call the [**ID2D1RenderTarget::EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method.</span></span> <span data-ttu-id="186b3-224">Entre estas llamadas, se usan los métodos Draw y Fill para representar los recursos de dibujo.</span><span class="sxs-lookup"><span data-stu-id="186b3-224">In between these calls, you use Draw and Fill methods to render drawing resources.</span></span> <span data-ttu-id="186b3-225">La mayoría de los métodos Draw y Fill toman una forma (una primitiva o una geometría) y un pincel para rellenar o esquematizar la forma.</span><span class="sxs-lookup"><span data-stu-id="186b3-225">Most Draw and Fill methods take a shape (either a primitive or a geometry) and a brush for filling or outlining the shape.</span></span>

<span data-ttu-id="186b3-226">Los destinos de representación también proporcionan métodos para recortar, aplicar máscaras de opacidad y transformar el espacio de coordenadas.</span><span class="sxs-lookup"><span data-stu-id="186b3-226">Render targets also provide methods for clipping, applying opacity masks, and transforming the coordinate space.</span></span>

<span data-ttu-id="186b3-227">Direct2D usa un sistema de coordenadas de la mano izquierda: los valores positivos del eje x pasan a los valores correctos y positivos del eje y continúan hacia abajo.</span><span class="sxs-lookup"><span data-stu-id="186b3-227">Direct2D uses a left-handed coordinate system: positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span>

### <a name="error-handling"></a><span data-ttu-id="186b3-228">Tratamiento de errores</span><span class="sxs-lookup"><span data-stu-id="186b3-228">Error Handling</span></span>

<span data-ttu-id="186b3-229">Los comandos de dibujo de destino de representación no indican si la operación solicitada se realizó correctamente.</span><span class="sxs-lookup"><span data-stu-id="186b3-229">Render target drawing commands do not indicate whether the requested operation was successful.</span></span> <span data-ttu-id="186b3-230">Para averiguar si se han producido errores de dibujo, llame al método [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) del destino de representación o al método [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) para obtener un **HRESULT**.</span><span class="sxs-lookup"><span data-stu-id="186b3-230">To find out whether there were drawing errors, call the render target [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) method or [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method to obtain an **HRESULT**.</span></span>

## <a name="drawing-resources"></a><span data-ttu-id="186b3-231">Dibujar recursos</span><span class="sxs-lookup"><span data-stu-id="186b3-231">Drawing Resources</span></span>

<span data-ttu-id="186b3-232">En las secciones siguientes se describen algunos de los recursos que pueden crear las interfaces de generador y destino de representación.</span><span class="sxs-lookup"><span data-stu-id="186b3-232">The following sections describe some of the resources that can be created by the render target and factory interfaces.</span></span>

### <a name="brushes"></a><span data-ttu-id="186b3-233">Pinceles</span><span class="sxs-lookup"><span data-stu-id="186b3-233">Brushes</span></span>

<span data-ttu-id="186b3-234">Un pincel, representado por la interfaz [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) , es un recurso dependiente del dispositivo, creado por un destino de representación, que pinta un área con su salida.</span><span class="sxs-lookup"><span data-stu-id="186b3-234">A brush, represented by the [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) interface, is a device-dependent resource, created by a render target, that paints an area with its output.</span></span> <span data-ttu-id="186b3-235">Distintos pinceles tienen tipos de salida diferentes.</span><span class="sxs-lookup"><span data-stu-id="186b3-235">Different brushes have different types of output.</span></span> <span data-ttu-id="186b3-236">Algunos pinceles pintan un área con un color sólido, otros con un degradado o una imagen.</span><span class="sxs-lookup"><span data-stu-id="186b3-236">Some brushes paint an area with a solid color, others with a gradient or an image.</span></span> <span data-ttu-id="186b3-237">Direct2D proporciona cuatro tipos de pinceles:</span><span class="sxs-lookup"><span data-stu-id="186b3-237">Direct2D provides four types of brushes:</span></span>

-   <span data-ttu-id="186b3-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) pinta un área con un color sólido.</span><span class="sxs-lookup"><span data-stu-id="186b3-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) paints an area with a solid color.</span></span>
-   <span data-ttu-id="186b3-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) pinta un área con un degradado lineal que combina dos o más colores en una línea, el eje de degradado.</span><span class="sxs-lookup"><span data-stu-id="186b3-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) paints an area with a linear gradient that blends two or more colors across a line, the gradient axis.</span></span>
-   <span data-ttu-id="186b3-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) pinta un área con un degradado radial que combina dos o más colores alrededor de una elipse.</span><span class="sxs-lookup"><span data-stu-id="186b3-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) paints an area with a radial gradient that blends two or more colors around an ellipse.</span></span>
-   <span data-ttu-id="186b3-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) pinta un área con un mapa de bits.</span><span class="sxs-lookup"><span data-stu-id="186b3-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) paints an area with a bitmap.</span></span>

<span data-ttu-id="186b3-242">Para crear un pincel, se usa uno de los métodos de pincel [**ID2D1RenderTarget::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)Create *<Type>* , como [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span><span class="sxs-lookup"><span data-stu-id="186b3-242">To create a brush, you use one of the [**ID2D1RenderTarget::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)Create *<Type>* Brush methods, such as [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span></span> <span data-ttu-id="186b3-243">Los pinceles se pueden usar con los métodos de dibujo y relleno de destino de representación, ya sea para pintar un trazo o un contorno de forma, o como una máscara de opacidad.</span><span class="sxs-lookup"><span data-stu-id="186b3-243">Brushes can be used with a render target Draw and Fill methods, either to paint a shape stroke or outline, or as an opacity mask.</span></span>

<span data-ttu-id="186b3-244">Para obtener más información sobre los pinceles, vea [información general sobre los pinceles](direct2d-brushes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="186b3-244">For more information about brushes, see the [Brushes Overview](direct2d-brushes-overview.md).</span></span>

### <a name="geometries"></a><span data-ttu-id="186b3-245">Geometrías</span><span class="sxs-lookup"><span data-stu-id="186b3-245">Geometries</span></span>

<span data-ttu-id="186b3-246">Además de los primitivos básicos de dibujo, como puntos, rectángulos y elipses, Direct2D proporciona la interfaz [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) para describir formas simples y complejas.</span><span class="sxs-lookup"><span data-stu-id="186b3-246">In addition to basic drawing primitives such as points, rectangles, and ellipses, Direct2D provides the [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) interface for describing simple and complex shapes.</span></span> <span data-ttu-id="186b3-247">Las interfaces que heredan de **ID2D1Geometry** definen distintos tipos de formas, como [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) para representar rectángulos, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) para representar rectángulos redondeados y [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) para representar puntos suspensivos.</span><span class="sxs-lookup"><span data-stu-id="186b3-247">Interfaces that inherit from **ID2D1Geometry** define different types of shapes, such as [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) for representing rectangles, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) for representing rounded rectangles, and [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) for representing ellipses.</span></span>

<span data-ttu-id="186b3-248">Se pueden crear formas más complejas mediante la interfaz [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) para especificar una serie de figuras compuestas de líneas, curvas y arcos.</span><span class="sxs-lookup"><span data-stu-id="186b3-248">More complex shapes can be created by using the [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) interface to specify a series of figures composed of lines, curves, and arcs.</span></span> <span data-ttu-id="186b3-249">**ID2D1GeometrySink** se pasa al método Open de un [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) para generar una geometría compleja.</span><span class="sxs-lookup"><span data-stu-id="186b3-249">The **ID2D1GeometrySink** is passed to the Open method of an [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) to generate a complex geometry.</span></span> <span data-ttu-id="186b3-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) también se puede usar con la API de DirectWrite para extraer los contornos de ruta de acceso del texto con formato para la representación artística.</span><span class="sxs-lookup"><span data-stu-id="186b3-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) can also be used with the DirectWrite API to extract path outlines of formatted text for artistic rendering.</span></span>

<span data-ttu-id="186b3-251">Las interfaces Geometry proporcionan métodos para manipular formas mediante la ampliación o la simplificación de las geometrías existentes, o mediante la generación de la intersección o unión de varias geometrías.</span><span class="sxs-lookup"><span data-stu-id="186b3-251">The geometry interfaces provide methods for manipulating shapes by widening or simplifying existing geometries, or by generating the intersection or union of multiple geometries.</span></span> <span data-ttu-id="186b3-252">También proporcionan métodos para determinar si las geometrías se intersectan o superponen, recuperan información de los límites, calculan el área o la longitud de una geometría y interpolan ubicaciones a lo largo de una geometría.</span><span class="sxs-lookup"><span data-stu-id="186b3-252">They also provide methods for determining whether geometries are intersecting or overlapping, retrieving bounds information, computing the area or length of a geometry, and interpolating locations along a geometry.</span></span> <span data-ttu-id="186b3-253">Direct2D también proporciona la capacidad de crear una malla de triángulos que se tesela desde una geometría.</span><span class="sxs-lookup"><span data-stu-id="186b3-253">Direct2D also provides the ability to create a mesh of triangles that is tessellated from a geometry.</span></span>

<span data-ttu-id="186b3-254">Para crear una geometría, se usa uno de los métodos [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory):: Create *<Type>* Geometry, como [**CreatePathGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span><span class="sxs-lookup"><span data-stu-id="186b3-254">To create a geometry, you use one of the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)::Create *<Type>* Geometry methods, such as [**CreatePathGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span></span> <span data-ttu-id="186b3-255">Un objeto Geometry es un recurso independiente del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="186b3-255">A geometry is a device-independent resource.</span></span>

<span data-ttu-id="186b3-256">Para representar una geometría, se usan los métodos [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) y [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) de un destino de representación.</span><span class="sxs-lookup"><span data-stu-id="186b3-256">To render a geometry, you use the [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) and [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) methods of a render target.</span></span>

<span data-ttu-id="186b3-257">Para obtener más información sobre las geometrías, vea la [información general sobre las geometrías](direct2d-geometries-overview.md).</span><span class="sxs-lookup"><span data-stu-id="186b3-257">For more information about geometries, see the [Geometries Overview](direct2d-geometries-overview.md).</span></span>

### <a name="bitmaps"></a><span data-ttu-id="186b3-258">Mapas de bits</span><span class="sxs-lookup"><span data-stu-id="186b3-258">Bitmaps</span></span>

<span data-ttu-id="186b3-259">Direct2D no proporciona métodos para cargar o almacenar mapas de bits; en su lugar, permite crear mapas de bits mediante el [componente de creación de imágenes de Windows (WIC)](../wic/-wic-about-windows-imaging-codec.md).</span><span class="sxs-lookup"><span data-stu-id="186b3-259">Direct2D does not provide methods for loading or storing bitmaps; rather, it enables you to create bitmaps using the [Windows Imaging Component (WIC)](../wic/-wic-about-windows-imaging-codec.md).</span></span> <span data-ttu-id="186b3-260">Los recursos de mapa de bits se pueden cargar mediante WIC y luego usarse para crear un [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) a través del método [**ID2D1RenderTarget:: CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) .</span><span class="sxs-lookup"><span data-stu-id="186b3-260">Bitmap resources can be loaded using WIC and then used to create an [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) through the [**ID2D1RenderTarget::CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) method.</span></span>

<span data-ttu-id="186b3-261">Los mapas de bits también se pueden crear a partir de datos en memoria que se configuraron a través de otros medios.</span><span class="sxs-lookup"><span data-stu-id="186b3-261">Bitmaps can also be created from in-memory data that was set up through other means.</span></span> <span data-ttu-id="186b3-262">Una vez creado un mapa de bits, se puede dibujar mediante el método [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) de destino de representación o con un pincel de mapa de bits.</span><span class="sxs-lookup"><span data-stu-id="186b3-262">After a bitmap has been created, it can be drawn by the render target [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) method or with a bitmap brush.</span></span>

<span data-ttu-id="186b3-263">Dado que la creación de recursos de mapa de bits en destinos de representación de hardware suele ser una operación costosa, Direct2D puede actualizar el contenido de un mapa de bits (o parte del mapa de bits) mediante los métodos [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget)y [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) .</span><span class="sxs-lookup"><span data-stu-id="186b3-263">Because creating bitmap resources on hardware render targets is often an expensive operation, Direct2D can update the contents of a bitmap (or portion of the bitmap) by using the [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget), and [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) methods.</span></span> <span data-ttu-id="186b3-264">El uso de estos métodos puede ahorrar potencialmente los costos asociados a las asignaciones de texturas de GPU adicionales.</span><span class="sxs-lookup"><span data-stu-id="186b3-264">Using these methods can potentially save the costs associated with additional GPU texture allocations.</span></span>

## <a name="drawing-text"></a><span data-ttu-id="186b3-265">Dibujar texto</span><span class="sxs-lookup"><span data-stu-id="186b3-265">Drawing Text</span></span>

<span data-ttu-id="186b3-266">Direct2D se diseñó para trabajar con las operaciones de texto de la nueva API de texto, DirectWrite.</span><span class="sxs-lookup"><span data-stu-id="186b3-266">Direct2D was designed to work with the text operations of the new text API, DirectWrite.</span></span> <span data-ttu-id="186b3-267">Para que el uso de la API de DirectWrite sea más sencillo, los destinos de representación proporcionan tres métodos para representar los recursos de texto de DirectWrite: [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout)y [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span><span class="sxs-lookup"><span data-stu-id="186b3-267">To make using the DirectWrite API simpler, render targets provide three methods for rendering DirectWrite text resources: [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout), and [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span></span> <span data-ttu-id="186b3-268">Dado que Direct2D usa la GPU para el proceso de representación de texto ClearType, Direct2D proporciona menor uso de CPU que GDI para las operaciones de texto y una mejor escalabilidad a medida que se dispone de más capacidad de procesamiento de GPU.</span><span class="sxs-lookup"><span data-stu-id="186b3-268">Because Direct2D uses the GPU for the ClearType text rendering process, Direct2D provides lower CPU usage than GDI for text operations and better scalability as more GPU processing power is available.</span></span>

<span data-ttu-id="186b3-269">[**ID2D1RenderTarget::D rawtext**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) está diseñado para los escenarios más sencillos que implican la representación de una cadena de texto Unicode con un formato mínimo.</span><span class="sxs-lookup"><span data-stu-id="186b3-269">The [**ID2D1RenderTarget::DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) is designed for the simplest scenarios involving rendering a string of Unicode text with minimal formatting.</span></span> <span data-ttu-id="186b3-270">Se proporciona un diseño más complejo y una flexibilidad tipográfica a través del método [**ID2D1RenderTarget::D rawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) , que usa un objeto [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) para especificar el contenido y el formato que se va a representar.</span><span class="sxs-lookup"><span data-stu-id="186b3-270">More complex layout and typographic flexibility is provided through the [**ID2D1RenderTarget::DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) method, which uses an [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) object to specify the content and formatting to be rendered.</span></span> <span data-ttu-id="186b3-271">**IDWriteTextLayout** permite especificar el formato individual de las subcadenas de texto y otras opciones avanzadas de tipografía.</span><span class="sxs-lookup"><span data-stu-id="186b3-271">**IDWriteTextLayout** enables you to specify individual formatting for substrings of text and other advanced typography options.</span></span>

<span data-ttu-id="186b3-272">En escenarios en los que se requiere un control preciso del diseño de nivel de glifo, el método [**ID2D1RenderTarget::D rawglyphrun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) se puede usar junto con los recursos de medida proporcionados por [DirectWrite](../directwrite/direct-write-portal.md).</span><span class="sxs-lookup"><span data-stu-id="186b3-272">For scenarios where precise control of glyph-level layout is required, the [**ID2D1RenderTarget::DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) method can be used in conjunction with the measurement facilities provided by [DirectWrite](../directwrite/direct-write-portal.md).</span></span>

<span data-ttu-id="186b3-273">Para usar la API de DirectWrite, incluya el encabezado dwrite. h.</span><span class="sxs-lookup"><span data-stu-id="186b3-273">To use the DirectWrite API, include the dwrite.h header.</span></span> <span data-ttu-id="186b3-274">Como Direct2D, DirectWrite usa un generador, [**IDWriteFactory**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) para crear objetos de texto.</span><span class="sxs-lookup"><span data-stu-id="186b3-274">Like Direct2D, DirectWrite uses a factory, [**IDWriteFactory**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) to create text objects.</span></span> <span data-ttu-id="186b3-275">Use la función [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) para crear un generador y, a continuación, use los métodos Create para crear recursos de DirectWrite (como [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))).</span><span class="sxs-lookup"><span data-stu-id="186b3-275">Use the [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) function to create a factory, and then use its Create methods to create DirectWrite resources (such as [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))).</span></span>

<span data-ttu-id="186b3-276">Para obtener más información sobre DirectWrite, consulte el tema [Introducing directwrite](../directwrite/introducing-directwrite.md) .</span><span class="sxs-lookup"><span data-stu-id="186b3-276">For more information about DirectWrite, see the [Introducing DirectWrite](../directwrite/introducing-directwrite.md) topic.</span></span>

## <a name="direct2d-primitives"></a><span data-ttu-id="186b3-277">Primitivas de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-277">Direct2D Primitives</span></span>

<span data-ttu-id="186b3-278">Direct2D define un conjunto de primitivos que son similares a los proporcionados por otras API de dibujo.</span><span class="sxs-lookup"><span data-stu-id="186b3-278">Direct2D defines a set of primitives that are similar to those provided by other drawing APIs.</span></span> <span data-ttu-id="186b3-279">Proporciona una estructura de color, una estructura de matriz para realizar transformaciones y versiones de punto flotante y entero de puntos, rectángulos, elipses y estructuras de tamaño.</span><span class="sxs-lookup"><span data-stu-id="186b3-279">It provides a color structure, a matrix structure for performing transformations, and floating-point and integer versions of points, rectangles, ellipses, and size structures.</span></span> <span data-ttu-id="186b3-280">Normalmente, se usan las versiones de punto flotante de estas estructuras.</span><span class="sxs-lookup"><span data-stu-id="186b3-280">Usually, you use the floating-point versions of these structures.</span></span>

<span data-ttu-id="186b3-281">No se usa un generador ni un destino de representación para crear instancias de primitivas de Direct2D.</span><span class="sxs-lookup"><span data-stu-id="186b3-281">You do not use a factory or a render target to instantiate Direct2D primitives.</span></span> <span data-ttu-id="186b3-282">Puede crearlas directamente o usar los métodos auxiliares definidos en d2d1helper. h para crearlas.</span><span class="sxs-lookup"><span data-stu-id="186b3-282">You can create them directly, or use the helper methods defined in d2d1helper.h to create them.</span></span>

## <a name="related-topics"></a><span data-ttu-id="186b3-283">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="186b3-283">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="186b3-284">Referencia de Direct2D</span><span class="sxs-lookup"><span data-stu-id="186b3-284">Direct2D Reference</span></span>](reference.md)
</dt> <dt>

[<span data-ttu-id="186b3-285">Ejemplo de Hola mundo de DirectWrite</span><span class="sxs-lookup"><span data-stu-id="186b3-285">DirectWrite Hello World Sample</span></span>](/samples/browse/?redirectedfrom=MSDN-samples)
</dt> <dt>

[<span data-ttu-id="186b3-286">Introducción a DirectWrite</span><span class="sxs-lookup"><span data-stu-id="186b3-286">Introducing DirectWrite</span></span>](../directwrite/introducing-directwrite.md)
</dt> <dt>

[<span data-ttu-id="186b3-287">Información general sobre recursos</span><span class="sxs-lookup"><span data-stu-id="186b3-287">Resources Overview</span></span>](resources-and-resource-domains.md)
</dt> <dt>

[<span data-ttu-id="186b3-288">Windows Imaging Component (WIC)</span><span class="sxs-lookup"><span data-stu-id="186b3-288">Windows Imaging Component (WIC)</span></span>](../wic/-wic-about-windows-imaging-codec.md)
</dt> </dl>

 

 