---
description: Si está escribiendo una GINA para reemplazar el archivo DLL de GINA estándar de Microsoft (MSGina.dll), es posible que desee proporcionar alguna o todas las funciones de GINA estándar.
ms.assetid: cd2ce7b7-6167-4451-9f6e-881676a2145c
title: MSGina.dll características
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51833ab92e47dad01c13df004797e3ab3552b09a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911873"
---
# <a name="msginadll-features"></a><span data-ttu-id="7baaa-103">MSGina.dll características</span><span class="sxs-lookup"><span data-stu-id="7baaa-103">MSGina.dll Features</span></span>

<span data-ttu-id="7baaa-104">Si está escribiendo una [*Gina*](../secgloss/g-gly.md) para reemplazar el archivo dll de Gina estándar de Microsoft (MSGina.dll), es posible que desee proporcionar alguna o todas las funciones de Gina estándar.</span><span class="sxs-lookup"><span data-stu-id="7baaa-104">If you are writing a [*GINA*](../secgloss/g-gly.md) to replace the Microsoft standard GINA DLL (MSGina.dll), you may want to provide some or all of the standard GINA functionality.</span></span> <span data-ttu-id="7baaa-105">A continuación se muestra una lista de las características estándar y una breve descripción de cómo se controlan.</span><span class="sxs-lookup"><span data-stu-id="7baaa-105">Following is a list of standard features and a brief description of how they are controlled.</span></span>

> [!Note]  
> <span data-ttu-id="7baaa-106">Los archivos dll de GINA se omiten en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="7baaa-106">GINA DLLs are ignored in Windows Vista.</span></span>

 

<span data-ttu-id="7baaa-107">Los valores de clave del registro controlan la disponibilidad o el comportamiento de muchas de estas características estándar de GINA.</span><span class="sxs-lookup"><span data-stu-id="7baaa-107">Registry key values control the availability or behavior of many of these standard GINA features.</span></span> <span data-ttu-id="7baaa-108">A menos que se indique lo contrario, estos valores de clave pertenecen a la clave del registro Winlogon y tienen un tipo de valor de \[ reg \_ SZ \] .</span><span class="sxs-lookup"><span data-stu-id="7baaa-108">Unless otherwise noted, these key values belong to the Winlogon registry key and have a value type of \[REG\_SZ\].</span></span> <span data-ttu-id="7baaa-109">La ruta de acceso real de la clave [*Winlogon*](../secgloss/w-gly.md) es la siguiente:</span><span class="sxs-lookup"><span data-stu-id="7baaa-109">The actual path of the [*Winlogon*](../secgloss/w-gly.md) key is:</span></span>

<span data-ttu-id="7baaa-110">**\\HKEY \_ local \_ Machine \\ software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Winlogon**</span><span class="sxs-lookup"><span data-stu-id="7baaa-110">**\\HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon**</span></span>

-   <span data-ttu-id="7baaa-111">**Cuadro de diálogo notificación legal**</span><span class="sxs-lookup"><span data-stu-id="7baaa-111">**Legal Notification Dialog Box**</span></span>

    <span data-ttu-id="7baaa-112">En algunos lugares, es válido para cualquier persona que tenga acceso a una estación de trabajo iniciar sesión y empezar a trabajar a menos que haya un aviso que indique que el sistema es solo para usuarios autorizados.</span><span class="sxs-lookup"><span data-stu-id="7baaa-112">In some places, it is legal for anyone who has access to a workstation to log on and begin working unless there is a notice that indicates that the system is for authorized users only.</span></span> <span data-ttu-id="7baaa-113">Además, muchos usuarios quieren que se muestren mensajes específicos de la empresa antes del inicio de sesión normal.</span><span class="sxs-lookup"><span data-stu-id="7baaa-113">Also, many users want company-specific messages displayed before normal logon.</span></span> <span data-ttu-id="7baaa-114">GINA estándar usa dos valores de clave del registro de Winlogon para permitir que un sistema muestre información antes del inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="7baaa-114">The standard GINA uses two Winlogon registry key values to allow a system to display information before logon.</span></span> <span data-ttu-id="7baaa-115">Si cualquiera de los dos valores de clave está presente y contiene una cadena que no es null, se muestra un cuadro de diálogo de aviso legal antes de la pantalla de bienvenida habitual.</span><span class="sxs-lookup"><span data-stu-id="7baaa-115">If either key value is present and contains a non-null string, then a Legal Notice dialog box is displayed before the usual Welcome screen.</span></span> <span data-ttu-id="7baaa-116">Estos nombres de valor de clave se muestran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="7baaa-116">These key value names are shown in the following table.</span></span>

    

    | <span data-ttu-id="7baaa-117">Nombre del valor de clave</span><span class="sxs-lookup"><span data-stu-id="7baaa-117">Key value name</span></span>         | <span data-ttu-id="7baaa-118">Contenido</span><span class="sxs-lookup"><span data-stu-id="7baaa-118">Contents</span></span>                                                            |
    |------------------------|---------------------------------------------------------------------|
    | <span data-ttu-id="7baaa-119">**LegalNoticeCaption**</span><span class="sxs-lookup"><span data-stu-id="7baaa-119">**LegalNoticeCaption**</span></span> | <span data-ttu-id="7baaa-120">Cadena que se va a mostrar como título del cuadro de diálogo aviso legal.</span><span class="sxs-lookup"><span data-stu-id="7baaa-120">The string to display as the caption of the legal notice dialog box</span></span> |
    | <span data-ttu-id="7baaa-121">**LegalNoticeText**</span><span class="sxs-lookup"><span data-stu-id="7baaa-121">**LegalNoticeText**</span></span>    | <span data-ttu-id="7baaa-122">Cadena que se va a mostrar como mensaje del cuadro de diálogo aviso legal.</span><span class="sxs-lookup"><span data-stu-id="7baaa-122">The string to display as the message of the legal notice dialog box</span></span> |

    

     

-   <span data-ttu-id="7baaa-123">**Mostrar el último nombre de usuario**</span><span class="sxs-lookup"><span data-stu-id="7baaa-123">**Display Last User Name**</span></span>

    <span data-ttu-id="7baaa-124">De forma predeterminada, la pantalla de inicio de sesión muestra el nombre del último usuario para iniciar sesión correctamente en la estación de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7baaa-124">By default, the logon screen displays the name of the last user to successfully log on to the workstation.</span></span> <span data-ttu-id="7baaa-125">Esta característica se controla mediante el valor de la clave del registro **DontDisplayLastUserName** .</span><span class="sxs-lookup"><span data-stu-id="7baaa-125">This feature is controlled by the **DontDisplayLastUserName** registry key value.</span></span> <span data-ttu-id="7baaa-126">Cuando este valor de clave se establece en uno, el nombre de usuario no se muestra en el cuadro de diálogo de inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="7baaa-126">When this key value is set to one, the user name is not displayed in the logon dialog box.</span></span>

-   <span data-ttu-id="7baaa-127">**Inicio de sesión automático**</span><span class="sxs-lookup"><span data-stu-id="7baaa-127">**Automatic Logon**</span></span>

    <span data-ttu-id="7baaa-128">Esta característica permite que un sistema inicie sesión automáticamente a un usuario cada vez que se inicia el sistema mediante la información predeterminada y se deshabilita el cuadro de inicio de sesión CTRL + ALT + SUPR.</span><span class="sxs-lookup"><span data-stu-id="7baaa-128">This feature allows a system to log on a user automatically every time the system starts by using default information and disabling the CTRL+ALT+DEL logon box.</span></span>

    <span data-ttu-id="7baaa-129">Esta característica usa los siguientes valores de la clave Winlogon.</span><span class="sxs-lookup"><span data-stu-id="7baaa-129">This feature uses the following values of the Winlogon key.</span></span>

    

    | <span data-ttu-id="7baaa-130">Value</span><span class="sxs-lookup"><span data-stu-id="7baaa-130">Value</span></span>                 | <span data-ttu-id="7baaa-131">Contenido</span><span class="sxs-lookup"><span data-stu-id="7baaa-131">Contents</span></span>                                           |
    |-----------------------|----------------------------------------------------|
    | <span data-ttu-id="7baaa-132">**AutoAdminLogon**</span><span class="sxs-lookup"><span data-stu-id="7baaa-132">**AutoAdminLogon**</span></span>    | <span data-ttu-id="7baaa-133">1</span><span class="sxs-lookup"><span data-stu-id="7baaa-133">1</span></span>                                                  |
    | <span data-ttu-id="7baaa-134">**AutoLogonCount**</span><span class="sxs-lookup"><span data-stu-id="7baaa-134">**AutoLogonCount**</span></span>    | <span data-ttu-id="7baaa-135">El número de veces que se realiza un inicio de sesión automático</span><span class="sxs-lookup"><span data-stu-id="7baaa-135">The number of times to do an automatic logon</span></span>       |
    | <span data-ttu-id="7baaa-136">**DefaultUserName**</span><span class="sxs-lookup"><span data-stu-id="7baaa-136">**DefaultUserName**</span></span>   | <span data-ttu-id="7baaa-137">El nombre de la cuenta de usuario</span><span class="sxs-lookup"><span data-stu-id="7baaa-137">The name of the user account</span></span>                       |
    | <span data-ttu-id="7baaa-138">**DefaultDomainName**</span><span class="sxs-lookup"><span data-stu-id="7baaa-138">**DefaultDomainName**</span></span> | <span data-ttu-id="7baaa-139">Nombre del dominio en el que se encuentra la cuenta de usuario</span><span class="sxs-lookup"><span data-stu-id="7baaa-139">The name of the domain that the user account is in</span></span> |

    

     

    <span data-ttu-id="7baaa-140">Si el valor de clave **AutoAdminLogon** está presente y contiene uno, y el valor de clave **AutoLogonCount** no está presente, se producirá un inicio de sesión automático cada vez que el usuario actual cierre la sesión o se reinicie el sistema.</span><span class="sxs-lookup"><span data-stu-id="7baaa-140">If the **AutoAdminLogon** key value is present and contains a one, and the **AutoLogonCount** key value is not present, an automatic logon will occur every time the current user logs off or the system is restarted.</span></span> <span data-ttu-id="7baaa-141">La cuenta en la que se inicia sesión se especifica mediante los valores de clave **DefaultUserName** y **DefaultDomainName** .</span><span class="sxs-lookup"><span data-stu-id="7baaa-141">The account being logged onto is specified using the **DefaultUserName** and **DefaultDomainName** key values.</span></span> <span data-ttu-id="7baaa-142">La contraseña de la cuenta se puede especificar de una de las dos maneras siguientes.</span><span class="sxs-lookup"><span data-stu-id="7baaa-142">The password for the account can be specified in one of two ways.</span></span> <span data-ttu-id="7baaa-143">En el caso de los equipos que ejecutan uno de los sistemas operativos Windows Server 2003 o Windows XP, la contraseña debe almacenarse como un secreto mediante la función [**LsaStorePrivateData**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) .</span><span class="sxs-lookup"><span data-stu-id="7baaa-143">For computers running one of the Windows Server 2003 or Windows XP operating systems, the password should be stored as a secret using the [**LsaStorePrivateData**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) function.</span></span> <span data-ttu-id="7baaa-144">Para obtener más información, consulte [protección de la contraseña de inicio de sesión automático](protecting-the-automatic-logon-password.md).</span><span class="sxs-lookup"><span data-stu-id="7baaa-144">For details, see [Protecting the Automatic Logon Password](protecting-the-automatic-logon-password.md).</span></span> <span data-ttu-id="7baaa-145">La otra forma de almacenar la contraseña es en texto no cifrado en la entrada **DefaultPassword** de la clave Winlogon; por motivos de seguridad, esta técnica debe evitarse.</span><span class="sxs-lookup"><span data-stu-id="7baaa-145">The other way to store the password is in plaintext in the **DefaultPassword** entry of the Winlogon key; for security purposes, this technique should be avoided.</span></span> <span data-ttu-id="7baaa-146">Si almacena la contraseña mediante la función **LsaStorePrivateData** , no proporcione una entrada **DefaultPassword** en la clave Winlogon.</span><span class="sxs-lookup"><span data-stu-id="7baaa-146">If you store the password using the **LsaStorePrivateData** function, then do not provide a **DefaultPassword** entry in the Winlogon key.</span></span>

    <span data-ttu-id="7baaa-147">Si el valor de clave **AutoAdminLogon** está presente y contiene uno, y si el valor de clave **AutoLogonCount** está presente y no es cero, **AutoLogonCount** determinará el número de inicios de sesión automáticos que se producen.</span><span class="sxs-lookup"><span data-stu-id="7baaa-147">If the **AutoAdminLogon** key value is present and contains a one, and if the **AutoLogonCount** key value is present and is not zero, **AutoLogonCount** will determine the number of automatic logons that occur.</span></span> <span data-ttu-id="7baaa-148">Cada vez que se reinicia el sistema, el valor de **AutoLogonCount** disminuirá en uno, hasta que llegue a cero.</span><span class="sxs-lookup"><span data-stu-id="7baaa-148">Each time the system is restarted, the value of **AutoLogonCount** will be decremented by one, until it reaches zero.</span></span> <span data-ttu-id="7baaa-149">Cuando **AutoLogonCount** llega a cero, no se iniciará sesión automáticamente en ninguna cuenta, el valor de clave **AutoLogonCount** y el valor de clave **DefaultPassword** , si se usan, se eliminarán del registro y **AutoAdminLogon** se establecerá en cero.</span><span class="sxs-lookup"><span data-stu-id="7baaa-149">When **AutoLogonCount** reaches zero, no account will be logged on automatically, the **AutoLogonCount** key value and **DefaultPassword** key value, if used, will be deleted from the registry, and **AutoAdminLogon** will be set to zero.</span></span>

    <span data-ttu-id="7baaa-150">Hay una advertencia adicional sobre el uso de **AutoAdminLogon**: de forma predeterminada, MSGina.dll comprueba el estado de la tecla Mayús cuando **AutoAdminLogon** es uno.</span><span class="sxs-lookup"><span data-stu-id="7baaa-150">There is one additional caveat to using **AutoAdminLogon**: By default, MSGina.dll checks the state of the SHIFT key when **AutoAdminLogon** is one.</span></span> <span data-ttu-id="7baaa-151">Si se mantiene presionada la tecla Mayús durante el proceso de arranque, MSGina.dll omitirá el valor de clave **AutoAdminLogon** y solicitará al usuario información de identificación y autenticación interactivamente.</span><span class="sxs-lookup"><span data-stu-id="7baaa-151">If the SHIFT key is held down during the boot process, MSGina.dll will ignore the **AutoAdminLogon** key value and prompt the user for identification and authentication information interactively.</span></span> <span data-ttu-id="7baaa-152">Se trata de una característica útil al depurar una aplicación dedicada.</span><span class="sxs-lookup"><span data-stu-id="7baaa-152">This is a useful feature when you are debugging a dedicated application.</span></span> <span data-ttu-id="7baaa-153">Para deshabilitar el significado de la tecla Mayús, establezca el valor de la clave **IgnoreShiftOverride** en uno.</span><span class="sxs-lookup"><span data-stu-id="7baaa-153">To disable the meaning of the SHIFT key, set the **IgnoreShiftOverride** key value to one.</span></span>

-   <span data-ttu-id="7baaa-154">**Permitir apagado no autenticado**</span><span class="sxs-lookup"><span data-stu-id="7baaa-154">**Allow Unauthenticated Shutdown**</span></span>

    <span data-ttu-id="7baaa-155">Puede configurar [*Gina*](../secgloss/g-gly.md) predeterminada para incluir un botón de **apagado** en el cuadro de diálogo de inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="7baaa-155">You can configure the default [*GINA*](../secgloss/g-gly.md) to include a **Shutdown** button in the logon dialog box.</span></span> <span data-ttu-id="7baaa-156">Esto permite a los usuarios apagar el sistema sin iniciar sesión por primera vez.</span><span class="sxs-lookup"><span data-stu-id="7baaa-156">This lets users shut down the system without first logging on.</span></span> <span data-ttu-id="7baaa-157">El siguiente valor de clave controla si este botón está incluido.</span><span class="sxs-lookup"><span data-stu-id="7baaa-157">The following key value controls whether this button is included.</span></span>

    

    | <span data-ttu-id="7baaa-158">Value</span><span class="sxs-lookup"><span data-stu-id="7baaa-158">Value</span></span>                    | <span data-ttu-id="7baaa-159">Descripción</span><span class="sxs-lookup"><span data-stu-id="7baaa-159">Description</span></span>                                           |
    |--------------------------|-------------------------------------------------------|
    | <span data-ttu-id="7baaa-160">**ShutdownWithoutLogon**</span><span class="sxs-lookup"><span data-stu-id="7baaa-160">**ShutdownWithoutLogon**</span></span> | <span data-ttu-id="7baaa-161">Uno para incluir el botón; cero para excluir el botón</span><span class="sxs-lookup"><span data-stu-id="7baaa-161">One to include the button; zero to exclude the button</span></span> |

    

     

-   <span data-ttu-id="7baaa-162">**Activación deUserinit.exe**</span><span class="sxs-lookup"><span data-stu-id="7baaa-162">**Userinit.exe Activation**</span></span>

    <span data-ttu-id="7baaa-163">Userinit.exe es una aplicación que ejecuta MSGina.dll cuando el usuario ha iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="7baaa-163">Userinit.exe is an application that is executed by MSGina.dll when the user has logged on.</span></span> <span data-ttu-id="7baaa-164">Se ejecuta en el [*contexto*](../secgloss/c-gly.md) del usuario que acaba de iniciar sesión y en el escritorio de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7baaa-164">It runs in the newly logged-on user's [*context*](../secgloss/c-gly.md) and on the application desktop.</span></span> <span data-ttu-id="7baaa-165">Su finalidad es configurar el entorno del usuario, incluida la restauración de los usos de la red, el establecimiento de la configuración del perfil, como fuentes y colores de la pantalla, y la ejecución de scripts de inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="7baaa-165">Its purpose is to set up the user's environment, including restoring network uses, establishing profile settings such as fonts and screen colors, and running logon scripts.</span></span> <span data-ttu-id="7baaa-166">Después de completar estas tareas, Userinit.exe ejecuta los programas de Shell de usuario.</span><span class="sxs-lookup"><span data-stu-id="7baaa-166">After completing those tasks, Userinit.exe executes the user shell programs.</span></span> <span data-ttu-id="7baaa-167">Los programas de Shell heredan el entorno que Userinit.exe configura.</span><span class="sxs-lookup"><span data-stu-id="7baaa-167">The shell programs inherit the environment that Userinit.exe sets up.</span></span> <span data-ttu-id="7baaa-168">Los programas de Shell específicos que se ejecutan Userinit.exe se almacenan en el valor de la clave de **Shell** en la clave del registro Winlogon.</span><span class="sxs-lookup"><span data-stu-id="7baaa-168">The specific shell programs that Userinit.exe executes are stored in the **Shell** key value under the Winlogon registry key.</span></span>

    <span data-ttu-id="7baaa-169">El valor de la clave de **Shell** puede contener una lista separada por comas de los programas que se van a ejecutar.</span><span class="sxs-lookup"><span data-stu-id="7baaa-169">The **Shell** key value can contain a comma-separated list of programs to be executed.</span></span> <span data-ttu-id="7baaa-170">El explorador de Windows es el programa de shell predeterminado y se ejecutará si el valor de la clave de **Shell** es null o no está presente.</span><span class="sxs-lookup"><span data-stu-id="7baaa-170">Windows Explorer is the default shell program and will be executed if the **Shell** key value is null or not present.</span></span> <span data-ttu-id="7baaa-171">De forma predeterminada, se muestra el explorador de Windows.</span><span class="sxs-lookup"><span data-stu-id="7baaa-171">By default, Windows Explorer is listed.</span></span>

-   <span data-ttu-id="7baaa-172">**Opciones de seguridad de la sesión iniciada**</span><span class="sxs-lookup"><span data-stu-id="7baaa-172">**Logged-On Security Options**</span></span>

    <span data-ttu-id="7baaa-173">Cuando se inicia sesión, si un usuario escribe una [*secuencia de atención segura*](../secgloss/s-gly.md) (SAS), se muestra una pantalla de opciones de seguridad en el usuario.</span><span class="sxs-lookup"><span data-stu-id="7baaa-173">When logged on, if a user enters a [*secure attention sequence*](../secgloss/s-gly.md) (SAS), the user is presented with a security options screen.</span></span> <span data-ttu-id="7baaa-174">Entre las opciones que se muestran se encuentran:</span><span class="sxs-lookup"><span data-stu-id="7baaa-174">Among the options listed are:</span></span>

    -   <span data-ttu-id="7baaa-175">Apague el sistema.</span><span class="sxs-lookup"><span data-stu-id="7baaa-175">Shut down the system.</span></span>
    -   <span data-ttu-id="7baaa-176">Cierre la sesión.</span><span class="sxs-lookup"><span data-stu-id="7baaa-176">Log off.</span></span>
    -   <span data-ttu-id="7baaa-177">Cambie la contraseña.</span><span class="sxs-lookup"><span data-stu-id="7baaa-177">Change the password.</span></span>
    -   <span data-ttu-id="7baaa-178">Vaya a la lista de tareas.</span><span class="sxs-lookup"><span data-stu-id="7baaa-178">Go to the task list.</span></span>
    -   <span data-ttu-id="7baaa-179">Bloquee la estación de trabajo.</span><span class="sxs-lookup"><span data-stu-id="7baaa-179">Lock the workstation.</span></span>

    <span data-ttu-id="7baaa-180">Una GINA de reemplazo puede proporcionar opciones similares cuando se recibe un evento de SAS mientras un usuario inicia sesión.</span><span class="sxs-lookup"><span data-stu-id="7baaa-180">A replacement GINA can provide similar options when a SAS event is received while a user is logged on.</span></span>

 

 
