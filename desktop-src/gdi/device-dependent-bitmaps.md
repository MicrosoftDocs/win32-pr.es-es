---
description: Los mapas de bits dependientes del dispositivo (DDBs) se describen mediante una única estructura, la estructura de mapa de bits.
ms.assetid: 63ff9cd6-cd07-4085-b166-268e4d9b7aad
title: Mapas de bits Device-Dependent
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 92a3de2c59509c71b38f9981df330b3b28effa26
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104155644"
---
# <a name="device-dependent-bitmaps"></a><span data-ttu-id="f9b09-103">Mapas de bits Device-Dependent</span><span class="sxs-lookup"><span data-stu-id="f9b09-103">Device-Dependent Bitmaps</span></span>

<span data-ttu-id="f9b09-104">Los mapas de bits dependientes del dispositivo (DDBs) se describen mediante una única estructura, la estructura de [**mapa de bits**](/windows/win32/api/wingdi/ns-wingdi-bitmap) .</span><span class="sxs-lookup"><span data-stu-id="f9b09-104">Device-dependent bitmaps (DDBs) are described by using a single structure, the [**BITMAP**](/windows/win32/api/wingdi/ns-wingdi-bitmap) structure.</span></span> <span data-ttu-id="f9b09-105">Los miembros de esta estructura especifican el ancho y el alto de una región rectangular, en píxeles; ancho de la matriz que asigna las entradas de la paleta del dispositivo a píxeles; y el formato de color del dispositivo, en términos de planos de color y bits por píxel.</span><span class="sxs-lookup"><span data-stu-id="f9b09-105">The members of this structure specify the width and height of a rectangular region, in pixels; the width of the array that maps entries from the device palette to pixels; and the device's color format, in terms of color planes and bits per pixel.</span></span> <span data-ttu-id="f9b09-106">Una aplicación puede recuperar el formato de color de un dispositivo llamando a la función [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) y especificando las constantes adecuadas.</span><span class="sxs-lookup"><span data-stu-id="f9b09-106">An application can retrieve the color format of a device by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function and specifying the appropriate constants.</span></span> <span data-ttu-id="f9b09-107">Tenga en cuenta que un DDB no contiene valores de color; en su lugar, los colores se encuentran en un formato dependiente del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f9b09-107">Note that a DDB does not contain color values; instead, the colors are in a device-dependent format.</span></span> <span data-ttu-id="f9b09-108">Para obtener más información, vea [color en mapas de bits](color-in-bitmaps.md).</span><span class="sxs-lookup"><span data-stu-id="f9b09-108">For more information, see [Color in Bitmaps](color-in-bitmaps.md).</span></span> <span data-ttu-id="f9b09-109">Dado que cada dispositivo puede tener su propio conjunto de colores, es posible que un DDB creado para un dispositivo no se muestre correctamente en un dispositivo diferente.</span><span class="sxs-lookup"><span data-stu-id="f9b09-109">Because each device can have its own set of colors, a DDB created for one device may not display well on a different device.</span></span>

<span data-ttu-id="f9b09-110">Para usar DDB en un contexto de dispositivo, debe tener la organización de color de ese contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f9b09-110">To use a DDB in a device context, it must have the color organization of that device context.</span></span> <span data-ttu-id="f9b09-111">Por lo tanto, un DDB se denomina a menudo un *mapa de bits compatible* y normalmente tiene mejor rendimiento de GDI que un Dib.</span><span class="sxs-lookup"><span data-stu-id="f9b09-111">Thus, a DDB is often called a *compatible bitmap* and it usually has better GDI performance than a DIB.</span></span> <span data-ttu-id="f9b09-112">Por ejemplo, para crear un mapa de bits para la memoria de vídeo, es mejor usar un mapa de bits compatible con el mismo formato de color que la pantalla principal.</span><span class="sxs-lookup"><span data-stu-id="f9b09-112">For example, to create a bitmap for video memory, it is best to use a compatible bitmap with the same color format as the primary display.</span></span> <span data-ttu-id="f9b09-113">Una vez en la memoria de vídeo, la representación en el mapa de bits y su visualización en la pantalla son significativamente más rápidas que en una superficie de memoria del sistema o directamente desde un DIB.</span><span class="sxs-lookup"><span data-stu-id="f9b09-113">Once in video memory, rendering to the bitmap and displaying it to the screen are significantly faster than from a system memory surface or directly from a DIB.</span></span>

<span data-ttu-id="f9b09-114">Además de habilitar mejor el rendimiento de GDI, se usan mapas de bits compatibles para capturar imágenes (vea [capturar una imagen](capturing-an-image.md) ) y para crear mapas de bits en tiempo de ejecución para los menús, vea "crear el mapa de bits" en (vea [usar menús](../menurc/using-menus.md) ).</span><span class="sxs-lookup"><span data-stu-id="f9b09-114">In addition to enabling better GDI performance, compatible bitmaps are used to capture images (see [Capturing an Image](capturing-an-image.md) ) and to create bitmaps at run time for menus see "Creating the Bitmap" in (see [Using Menus](../menurc/using-menus.md) ).</span></span>

<span data-ttu-id="f9b09-115">Para transferir un mapa de bits entre dispositivos con una organización de color diferente, use [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) para convertir el mapa de bits compatible en un DIB y llamar a [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) o [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) para mostrar el DIB en el segundo dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f9b09-115">To transfer a bitmap between devices with different color organization, use [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) to convert the compatible bitmap to a DIB and call [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) or [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) to display the DIB to the second device.</span></span>

<span data-ttu-id="f9b09-116">Hay dos tipos de DDBs: descartable y no descartable.</span><span class="sxs-lookup"><span data-stu-id="f9b09-116">There are two types of DDBs: discardable and nondiscardable.</span></span> <span data-ttu-id="f9b09-117">Un DDB descartable es un mapa de bits que descarta el sistema si el mapa de bits no está seleccionado en un controlador de dominio y si la memoria del sistema es baja.</span><span class="sxs-lookup"><span data-stu-id="f9b09-117">A discardable DDB is a bitmap that the system discards if the bitmap is not selected into a DC and if system memory is low.</span></span> <span data-ttu-id="f9b09-118">La función [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) crea mapas de bits descartables.</span><span class="sxs-lookup"><span data-stu-id="f9b09-118">The [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) function creates discardable bitmaps.</span></span> <span data-ttu-id="f9b09-119">Las funciones [**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap)y [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) crean mapas de bits no descartables.</span><span class="sxs-lookup"><span data-stu-id="f9b09-119">The [**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap), and [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) functions create nondiscardable bitmaps.</span></span>

<span data-ttu-id="f9b09-120">Una aplicación puede crear un DDB a partir de un DIB Inicializando las estructuras necesarias y llamando a la función [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) .</span><span class="sxs-lookup"><span data-stu-id="f9b09-120">An application can create a DDB from a DIB by initializing the required structures and calling the [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) function.</span></span> <span data-ttu-id="f9b09-121">La especificación de \_ la inicialización ABLC en la llamada a **CreateDIBitmap** es equivalente a llamar a la función [**CREATECOMPATIBLEBITMAP**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) para crear un DDB en el formato del dispositivo y, a continuación, llamar a la función [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) para traducir los bits DIB a DDB.</span><span class="sxs-lookup"><span data-stu-id="f9b09-121">Specifying CBM\_INIT in the call to **CreateDIBitmap** is equivalent to calling the [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) function to create a DDB in the format of the device and then calling the [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) function to translate the DIB bits to the DDB.</span></span> <span data-ttu-id="f9b09-122">Para determinar si un dispositivo admite la función **SetDIBits** , llame a la función [**GETDEVICECAPS**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) y especifique RC \_ di \_ Bitmap como marca RASTERCAPS.</span><span class="sxs-lookup"><span data-stu-id="f9b09-122">To determine whether a device supports the **SetDIBits** function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DI\_BITMAP as the RASTERCAPS flag.</span></span>

 

 
