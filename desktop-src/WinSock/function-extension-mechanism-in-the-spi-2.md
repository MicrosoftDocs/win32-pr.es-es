---
description: Dado que el propio archivo DLL de Winsock ya no lo suministra cada proveedor de pila individual, no es posible que un proveedor de pila ofrezca la funcionalidad extendida mediante la adición de puntos de entrada a la DLL de Winsock.
ms.assetid: 5c71532a-c565-4f65-ab36-ca0e23190718
title: Mecanismo de extensión de función en el SPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7cfa6c9dfaf3afcec8e6861a9a0d3545a7ed0c5d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105705621"
---
# <a name="function-extension-mechanism-in-the-spi"></a><span data-ttu-id="630a0-103">Mecanismo de extensión de función en el SPI</span><span class="sxs-lookup"><span data-stu-id="630a0-103">Function Extension Mechanism in the SPI</span></span>

<span data-ttu-id="630a0-104">Dado que el propio archivo DLL de Winsock ya no lo suministra cada proveedor de pila individual, no es posible que un proveedor de pila ofrezca la funcionalidad extendida mediante la adición de puntos de entrada a la DLL de Winsock.</span><span class="sxs-lookup"><span data-stu-id="630a0-104">Because the Winsock DLL itself is no longer supplied by each individual stack vendor, it is not possible for a stack vendor to offer extended functionality by adding entry points to the Winsock DLL.</span></span> <span data-ttu-id="630a0-105">Para superar esta limitación, Winsock aprovecha la nueva función [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) para dar cabida a los proveedores de servicios que desean ofrecer extensiones de funcionalidad específicas del proveedor.</span><span class="sxs-lookup"><span data-stu-id="630a0-105">To overcome this limitation, Winsock takes advantage of the new [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function to accommodate service providers who wish to offer provider-specific functionality extensions.</span></span> <span data-ttu-id="630a0-106">Este mecanismo presupone que una aplicación es consciente de una extensión determinada y entiende la semántica y la sintaxis implicadas.</span><span class="sxs-lookup"><span data-stu-id="630a0-106">This mechanism presupposes that an application is aware of a particular extension and understands both the semantics and syntax involved.</span></span> <span data-ttu-id="630a0-107">Normalmente, el proveedor de servicios proporciona dicha información.</span><span class="sxs-lookup"><span data-stu-id="630a0-107">Such information would typically be supplied by the service provider vendor.</span></span>

<span data-ttu-id="630a0-108">Para invocar una función de extensión, la aplicación debe solicitar primero un puntero a la función deseada.</span><span class="sxs-lookup"><span data-stu-id="630a0-108">To invoke an extension function, the application must first ask for a pointer to the desired function.</span></span> <span data-ttu-id="630a0-109">Esto se realiza a través de la función [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) con el código de comando de la \_ función de extensión SiO Get \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="630a0-109">This is done through the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function using the SIO\_GET\_EXTENSION\_FUNCTION\_POINTER command code.</span></span> <span data-ttu-id="630a0-110">El búfer de entrada de la función **WSAIoctl** contiene un identificador para la función de extensión deseada y el búfer de salida contendrá el propio puntero de función.</span><span class="sxs-lookup"><span data-stu-id="630a0-110">The input buffer to the **WSAIoctl** function contains an identifier for the desired extension function and the output buffer will contain the function pointer itself.</span></span> <span data-ttu-id="630a0-111">A continuación, la aplicación puede invocar la función de extensión directamente sin pasar por el \_32.dll Ws2.</span><span class="sxs-lookup"><span data-stu-id="630a0-111">The application can then invoke the extension function directly without passing through the Ws2\_32.dll.</span></span>

<span data-ttu-id="630a0-112">Los identificadores asignados a las funciones de extensión son identificadores únicos globales (GUID) que se asignan a los proveedores del proveedor de servicios.</span><span class="sxs-lookup"><span data-stu-id="630a0-112">The identifiers assigned to extension functions are globally unique identifiers (GUIDs) that are allocated by service provider vendors.</span></span> <span data-ttu-id="630a0-113">Se recomienda a los proveedores que creen funciones de extensión que publiquen todos los detalles sobre la función, incluida la sintaxis del prototipo de función.</span><span class="sxs-lookup"><span data-stu-id="630a0-113">Vendors who create extension functions are urged to publish full details about the function including the syntax of the function prototype.</span></span> <span data-ttu-id="630a0-114">Esto facilita que varios proveedores de servicios ofrezcan funciones de extensión comunes y/o populares.</span><span class="sxs-lookup"><span data-stu-id="630a0-114">This facilitates common and/or popular extension functions to be offered by multiple service providers.</span></span> <span data-ttu-id="630a0-115">Una aplicación puede obtener el puntero de función y utilizar la función sin necesidad de saber nada sobre el proveedor de servicios concreto que implementa la función.</span><span class="sxs-lookup"><span data-stu-id="630a0-115">An application can obtain the function pointer and use the function without needing to know anything about the particular service provider that implements the function.</span></span>

 

 



