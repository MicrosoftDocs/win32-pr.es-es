---
title: Dibujo indirecto
description: El dibujo indirecto permite que algunos recorridos de escena y selección de ubicación se muevan de la CPU a la GPU, lo que puede mejorar el rendimiento. La CPU o la GPU pueden generar el búfer de comandos.
ms.assetid: F8D6C88A-101E-4F66-999F-43206F6527B6
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7731a662bc6064e635d68942e6b0b222adf1eda8
ms.sourcegitcommit: 56f8e4d5119e5018363fa2dc3472cdff203c6913
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/19/2020
ms.locfileid: "104549081"
---
# <a name="indirect-drawing"></a><span data-ttu-id="71b25-104">Dibujo indirecto</span><span class="sxs-lookup"><span data-stu-id="71b25-104">Indirect Drawing</span></span>

<span data-ttu-id="71b25-105">El dibujo indirecto permite que algunos recorridos de escena y selección de ubicación se muevan de la CPU a la GPU, lo que puede mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="71b25-105">Indirect drawing enables some scene-traversal and culling to be moved from the CPU to the GPU, which can improve performance.</span></span> <span data-ttu-id="71b25-106">La CPU o la GPU pueden generar el búfer de comandos.</span><span class="sxs-lookup"><span data-stu-id="71b25-106">The command buffer can be generated by the CPU or GPU.</span></span>

-   [<span data-ttu-id="71b25-107">Firmas de comandos</span><span class="sxs-lookup"><span data-stu-id="71b25-107">Command Signatures</span></span>](#command-signatures)
-   [<span data-ttu-id="71b25-108">Estructuras de búfer de argumentos indirectos</span><span class="sxs-lookup"><span data-stu-id="71b25-108">Indirect Argument Buffer Structures</span></span>](#indirect-argument-buffer-structures)
-   [<span data-ttu-id="71b25-109">Creación de la firma de comandos</span><span class="sxs-lookup"><span data-stu-id="71b25-109">Command Signature Creation</span></span>](#command-signature-creation)
    -   [<span data-ttu-id="71b25-110">Ningún cambio de argumento</span><span class="sxs-lookup"><span data-stu-id="71b25-110">No Argument Changes</span></span>](#no-argument-changes)
    -   [<span data-ttu-id="71b25-111">Constantes raíz y búferes de vértices</span><span class="sxs-lookup"><span data-stu-id="71b25-111">Root Constants and Vertex Buffers</span></span>](#root-constants-and-vertex-buffers)
-   [<span data-ttu-id="71b25-112">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="71b25-112">Related topics</span></span>](#related-topics)

## <a name="command-signatures"></a><span data-ttu-id="71b25-113">Firmas de comandos</span><span class="sxs-lookup"><span data-stu-id="71b25-113">Command Signatures</span></span>

<span data-ttu-id="71b25-114">El objeto de firma de comando ([**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature)) permite que las aplicaciones especifiquen dibujos indirectos, en particular estableciendo lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="71b25-114">The command signature object ([**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature)) enables apps to specify indirect drawing, in particular setting the following:</span></span>

-   <span data-ttu-id="71b25-115">El formato de búfer de argumento indirecto.</span><span class="sxs-lookup"><span data-stu-id="71b25-115">The indirect argument buffer format.</span></span>
-   <span data-ttu-id="71b25-116">El tipo de comando que se usará (de los [](/windows/desktop/api/d3d12/nn-d3d12-id3d12graphicscommandlist) métodos ID3D12GraphicsCommandList [**DrawInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawinstanced), [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced)o [**Dispatch**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-dispatch)).</span><span class="sxs-lookup"><span data-stu-id="71b25-116">The command type that will be used (from the [**ID3D12GraphicsCommandList**](/windows/desktop/api/d3d12/nn-d3d12-id3d12graphicscommandlist) methods [**DrawInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawinstanced), [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced), or [**Dispatch**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-dispatch)).</span></span>
-   <span data-ttu-id="71b25-117">Conjunto de enlaces de recursos que cambiarán la llamada por comando frente al conjunto que se va a heredar.</span><span class="sxs-lookup"><span data-stu-id="71b25-117">The set of resource bindings which will change per-command call versus the set which will be inherited.</span></span>

<span data-ttu-id="71b25-118">Al iniciarse, una aplicación crea un pequeño conjunto de **firmas de comandos**.</span><span class="sxs-lookup"><span data-stu-id="71b25-118">At startup, an app creates a small set of **command signatures**.</span></span> <span data-ttu-id="71b25-119">En tiempo de ejecución, la aplicación rellena un búfer con comandos (a través de cualquier medio que elija el desarrollador de la aplicación).</span><span class="sxs-lookup"><span data-stu-id="71b25-119">At runtime, the application fills a buffer with commands (via whatever means the app developer chooses).</span></span> <span data-ttu-id="71b25-120">Comandos que contienen opcionalmente el estado que se establece para las vistas de búfer de vértices, las vistas de búfer de índice, las constantes raíz y los descriptores de raíz (RAW o Structured SRV/UAV/CBVs).</span><span class="sxs-lookup"><span data-stu-id="71b25-120">The commands optionally containing state to set for vertex buffer views, index buffer views, root constants and root descriptors (raw or structured SRV/UAV/CBVs).</span></span> <span data-ttu-id="71b25-121">Estos diseños de argumentos no son específicos de hardware, por lo que las aplicaciones pueden generar los búferes directamente.</span><span class="sxs-lookup"><span data-stu-id="71b25-121">These argument layouts are not hardware specific so apps can generate the buffers directly.</span></span> <span data-ttu-id="71b25-122">La firma del comando hereda el estado restante de la lista de comandos.</span><span class="sxs-lookup"><span data-stu-id="71b25-122">The command signature inherits the remaining state from the command list.</span></span> <span data-ttu-id="71b25-123">A continuación, la aplicación llama a [**ExecuteIndirect**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executeindirect) para indicar a la GPU que interprete el contenido del búfer de argumentos indirectos según el formato definido por una firma de comando determinada.</span><span class="sxs-lookup"><span data-stu-id="71b25-123">Then the app calls [**ExecuteIndirect**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executeindirect) to instruct the GPU to interpret the contents of the indirect argument buffer according to the format defined by a particular command signature.</span></span>

<span data-ttu-id="71b25-124">Si la firma del comando cambia algún argumento raíz, se almacena en la firma del comando como un subconjunto de una firma raíz.</span><span class="sxs-lookup"><span data-stu-id="71b25-124">If the command signature changes any root arguments, this is stored within the command signature as a subset of a root signature.</span></span>

<span data-ttu-id="71b25-125">Tenga en cuenta que el estado de la firma de comandos no se filtra de nuevo a la lista de comandos cuando se completa la ejecución.</span><span class="sxs-lookup"><span data-stu-id="71b25-125">Note that no command signature state leaks back to the command list when the execution is complete.</span></span>

<span data-ttu-id="71b25-126">Por ejemplo, supongamos que un desarrollador de aplicaciones desea especificar una constante raíz única para cada llamada a Draw en el búfer de argumentos indirecto.</span><span class="sxs-lookup"><span data-stu-id="71b25-126">For example, suppose an app developer wants a unique root constant to be specified per-draw call in the indirect argument buffer.</span></span> <span data-ttu-id="71b25-127">La aplicación crearía una firma de comando que permite al búfer de argumentos indirecto especificar los siguientes parámetros por llamada a Draw:</span><span class="sxs-lookup"><span data-stu-id="71b25-127">The app would create a command signature that enables the indirect argument buffer to specify the following parameters per draw call:</span></span>

-   <span data-ttu-id="71b25-128">Valor de una constante raíz.</span><span class="sxs-lookup"><span data-stu-id="71b25-128">The value of one root constant.</span></span>
-   <span data-ttu-id="71b25-129">Los argumentos de dibujo (número de vértices, recuento de instancias, etc.).</span><span class="sxs-lookup"><span data-stu-id="71b25-129">The draw arguments (vertex count, instance count, etc).</span></span>

<span data-ttu-id="71b25-130">El búfer de argumentos indirectos generado por la aplicación contiene una matriz de registros de tamaño fijo.</span><span class="sxs-lookup"><span data-stu-id="71b25-130">The indirect argument buffer generated by the application would contain an array of fixed-size records.</span></span> <span data-ttu-id="71b25-131">Cada estructura corresponde a una llamada a Draw.</span><span class="sxs-lookup"><span data-stu-id="71b25-131">Each structure corresponds to one draw call.</span></span> <span data-ttu-id="71b25-132">Cada estructura contiene los argumentos de dibujo y el valor de la constante raíz.</span><span class="sxs-lookup"><span data-stu-id="71b25-132">Each structure contains the drawing arguments, and the value of the root constant.</span></span> <span data-ttu-id="71b25-133">El número de llamadas a Draw se especifica en un búfer independiente visible para GPU.</span><span class="sxs-lookup"><span data-stu-id="71b25-133">The number of draw calls is specified in a separate GPU-visible buffer.</span></span>

<span data-ttu-id="71b25-134">A continuación se muestra un búfer de comandos de ejemplo generado por la aplicación:</span><span class="sxs-lookup"><span data-stu-id="71b25-134">An example command buffer generated by the app follows:</span></span>

![formato de búfer de comandos](images/indirect-drawing-command-buffer.png)

## <a name="indirect-argument-buffer-structures"></a><span data-ttu-id="71b25-136">Estructuras de búfer de argumentos indirectos</span><span class="sxs-lookup"><span data-stu-id="71b25-136">Indirect Argument Buffer Structures</span></span>

<span data-ttu-id="71b25-137">Las siguientes estructuras definen el modo en que los argumentos concretos aparecen en un búfer de argumentos indirecto.</span><span class="sxs-lookup"><span data-stu-id="71b25-137">The following structures define how particular arguments appear in an indirect argument buffer.</span></span> <span data-ttu-id="71b25-138">Estas estructuras no aparecen en ninguna API de D3D12.</span><span class="sxs-lookup"><span data-stu-id="71b25-138">These structures do not appear in any D3D12 API.</span></span> <span data-ttu-id="71b25-139">Las aplicaciones usan estas definiciones al escribir en un búfer de argumentos indirectos (con la CPU o la GPU):</span><span class="sxs-lookup"><span data-stu-id="71b25-139">Applications use these definitions when writing to an indirect argument buffer (with the CPU or GPU):</span></span>

-   [<span data-ttu-id="71b25-140">**Argumentos de D3D12 \_ Draw \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-140">**D3D12\_DRAW\_ARGUMENTS**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_draw_arguments)
-   [<span data-ttu-id="71b25-141">**D3D12 \_ dibujar \_ argumentos indexados \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-141">**D3D12\_DRAW\_INDEXED\_ARGUMENTS**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_draw_indexed_arguments)
-   [<span data-ttu-id="71b25-142">**\_Argumentos de envío de D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-142">**D3D12\_DISPATCH\_ARGUMENTS**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_dispatch_arguments)
-   [<span data-ttu-id="71b25-143">**D3D12 \_ \_ vista de búfer de vértices \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-143">**D3D12\_VERTEX\_BUFFER\_VIEW**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_vertex_buffer_view)
-   [<span data-ttu-id="71b25-144">**\_Vista de \_ búfer de índice de D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-144">**D3D12\_INDEX\_BUFFER\_VIEW**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_index_buffer_view)
-   <span data-ttu-id="71b25-145">\_ \_ Dirección virtual de GPU D3D12 \_ (sinónimo de definición de tipo de tipo UINT64).</span><span class="sxs-lookup"><span data-stu-id="71b25-145">D3D12\_GPU\_VIRTUAL\_ADDRESS (a typedef'd synonym of UINT64).</span></span>
-   [<span data-ttu-id="71b25-146">**\_Vista de \_ búfer de constantes de D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-146">**D3D12\_CONSTANT\_BUFFER\_VIEW**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_constant_buffer_view_desc)

## <a name="command-signature-creation"></a><span data-ttu-id="71b25-147">Creación de la firma de comandos</span><span class="sxs-lookup"><span data-stu-id="71b25-147">Command Signature Creation</span></span>

<span data-ttu-id="71b25-148">Para crear una firma de comando, use los siguientes elementos de API:</span><span class="sxs-lookup"><span data-stu-id="71b25-148">To create a command signature, use the following API items:</span></span>

-   <span data-ttu-id="71b25-149">[**ID3D12Device:: CreateCommandSignature**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandsignature) (genera una [**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature))</span><span class="sxs-lookup"><span data-stu-id="71b25-149">[**ID3D12Device::CreateCommandSignature**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandsignature) (outputs an [**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature))</span></span>
-   [<span data-ttu-id="71b25-150">**D3D12 \_ \_ tipo de argumento indirecto \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-150">**D3D12\_INDIRECT\_ARGUMENT\_TYPE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_indirect_argument_type)
-   [<span data-ttu-id="71b25-151">**D3D12 \_ argumento indirecto \_ \_ DESC**</span><span class="sxs-lookup"><span data-stu-id="71b25-151">**D3D12\_INDIRECT\_ARGUMENT\_DESC**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_indirect_argument_desc)
-   [<span data-ttu-id="71b25-152">**Descripción de la \_ firma del comando D3D12 \_ \_**</span><span class="sxs-lookup"><span data-stu-id="71b25-152">**D3D12\_COMMAND\_SIGNATURE\_DESC**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_command_signature_desc)

<span data-ttu-id="71b25-153">El orden de los argumentos dentro de un búfer de argumentos indirectos se define de forma que coincida exactamente con el orden de los argumentos especificados en el parámetro *pArguments* de la [**firma del \_ comando \_ \_ D3D12**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_command_signature_desc).</span><span class="sxs-lookup"><span data-stu-id="71b25-153">The ordering of arguments within an indirect argument buffer is defined to exactly match the order of arguments specified in the *pArguments* parameter of [**D3D12\_COMMAND\_SIGNATURE\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_command_signature_desc).</span></span> <span data-ttu-id="71b25-154">Todos los argumentos de una llamada a Draw (Graphics)/dispatch (Compute) dentro de un búfer de argumentos indirecto están estrechamente empaquetados.</span><span class="sxs-lookup"><span data-stu-id="71b25-154">All of the arguments for one draw (graphics)/dispatch (compute) call within an indirect argument buffer are tightly packed.</span></span> <span data-ttu-id="71b25-155">Sin embargo, las aplicaciones pueden especificar un intervalo de bytes arbitrario entre los comandos Draw/Dispatch en un búfer de argumentos indirecto.</span><span class="sxs-lookup"><span data-stu-id="71b25-155">However, applications are allowed to specify an arbitrary byte stride between draw/dispatch commands in an indirect argument buffer.</span></span>

<span data-ttu-id="71b25-156">La firma raíz debe especificarse solo si la firma del comando cambia uno de los argumentos raíz.</span><span class="sxs-lookup"><span data-stu-id="71b25-156">The root signature must be specified if and only if the command signature changes one of the root arguments.</span></span>

<span data-ttu-id="71b25-157">En el caso de la raíz SRV/UAV/CBV, el tamaño especificado de la aplicación se encuentra en bytes.</span><span class="sxs-lookup"><span data-stu-id="71b25-157">For root SRV/UAV/CBV, the application specified size is in bytes.</span></span> <span data-ttu-id="71b25-158">El nivel de depuración validará las siguientes restricciones en la dirección:</span><span class="sxs-lookup"><span data-stu-id="71b25-158">The debug layer will validate the following restrictions on the address:</span></span>

-   <span data-ttu-id="71b25-159">CBV: la dirección debe ser un múltiplo de 256 bytes.</span><span class="sxs-lookup"><span data-stu-id="71b25-159">CBV – address must be a multiple of 256 bytes.</span></span>
-   <span data-ttu-id="71b25-160">SRV/UAV sin formato: la dirección debe ser un múltiplo de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="71b25-160">Raw SRV/UAV – address must be a multiple of 4 bytes.</span></span>
-   <span data-ttu-id="71b25-161">SRV/UAV estructurado: la dirección debe ser un múltiplo del intervalo de bytes de la estructura (declarado en el sombreador).</span><span class="sxs-lookup"><span data-stu-id="71b25-161">Structured SRV/UAV – address must be a multiple of the structure byte stride (declared in the shader).</span></span>

<span data-ttu-id="71b25-162">Una firma de comando determinada es una firma de comando Draw o Compute.</span><span class="sxs-lookup"><span data-stu-id="71b25-162">A given command signature is either a draw or a compute command signature.</span></span> <span data-ttu-id="71b25-163">Si una firma de comando contiene una operación de dibujo, se trata de una firma de comando de gráficos.</span><span class="sxs-lookup"><span data-stu-id="71b25-163">If a command signature contains a drawing operation, then it is a graphics command signature.</span></span> <span data-ttu-id="71b25-164">De lo contrario, la firma del comando debe contener una operación de envío y se trata de una firma de comando de proceso.</span><span class="sxs-lookup"><span data-stu-id="71b25-164">Otherwise, the command signature must contain a dispatch operation, and it is a compute command signature.</span></span>

<span data-ttu-id="71b25-165">En las secciones siguientes se muestran algunas firmas de comandos de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="71b25-165">The following sections show some example command signatures.</span></span>

### <a name="no-argument-changes"></a><span data-ttu-id="71b25-166">Ningún cambio de argumento</span><span class="sxs-lookup"><span data-stu-id="71b25-166">No Argument Changes</span></span>

<span data-ttu-id="71b25-167">En este ejemplo, el búfer de argumentos indirectos generado por la aplicación contiene una matriz de estructuras de 36 bytes.</span><span class="sxs-lookup"><span data-stu-id="71b25-167">In this example, the indirect argument buffer generated by the application holds an array of 36-byte structures.</span></span> <span data-ttu-id="71b25-168">Cada estructura solo contiene los cinco parámetros pasados a [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced) (más el relleno).</span><span class="sxs-lookup"><span data-stu-id="71b25-168">Each structure only contains the five parameters passed to [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced) (plus padding).</span></span>

<span data-ttu-id="71b25-169">A continuación se muestra el código para crear la descripción de la firma del comando:</span><span class="sxs-lookup"><span data-stu-id="71b25-169">The code to create the command signature description follows:</span></span>

``` syntax
D3D12_INDIRECT_ARGUMENT_DESC Args[1];
Args[0].Type = D3D12_INDIRECT_ARGUMENT_TYPE_DRAW_INDEXED;

D3D12_COMMAND_SIGNATURE_DESC ProgramDesc;
ProgramDesc.ByteStride = 36;
ProgramDesc.NumArgumentDescs = 1;
ProgramDesc.pArguments = Args;
```

<span data-ttu-id="71b25-170">El diseño de una única estructura dentro de un búfer de argumentos indirecto es:</span><span class="sxs-lookup"><span data-stu-id="71b25-170">The layout of a single structure within an indirect argument buffer is:</span></span>



| <span data-ttu-id="71b25-171">Bytes</span><span class="sxs-lookup"><span data-stu-id="71b25-171">Bytes</span></span> | <span data-ttu-id="71b25-172">Descripción</span><span class="sxs-lookup"><span data-stu-id="71b25-172">Description</span></span>           |
|-------|-----------------------|
| <span data-ttu-id="71b25-173">0:3</span><span class="sxs-lookup"><span data-stu-id="71b25-173">0:3</span></span>   | <span data-ttu-id="71b25-174">IndexCountPerInstance</span><span class="sxs-lookup"><span data-stu-id="71b25-174">IndexCountPerInstance</span></span> |
| <span data-ttu-id="71b25-175">4:7</span><span class="sxs-lookup"><span data-stu-id="71b25-175">4:7</span></span>   | <span data-ttu-id="71b25-176">InstanceCount</span><span class="sxs-lookup"><span data-stu-id="71b25-176">InstanceCount</span></span>         |
| <span data-ttu-id="71b25-177">8:11</span><span class="sxs-lookup"><span data-stu-id="71b25-177">8:11</span></span>  | <span data-ttu-id="71b25-178">StartIndexLocation</span><span class="sxs-lookup"><span data-stu-id="71b25-178">StartIndexLocation</span></span>    |
| <span data-ttu-id="71b25-179">12:15</span><span class="sxs-lookup"><span data-stu-id="71b25-179">12:15</span></span> | <span data-ttu-id="71b25-180">BaseVertexLocation</span><span class="sxs-lookup"><span data-stu-id="71b25-180">BaseVertexLocation</span></span>    |
| <span data-ttu-id="71b25-181">16:19</span><span class="sxs-lookup"><span data-stu-id="71b25-181">16:19</span></span> | <span data-ttu-id="71b25-182">StartInstanceLocation</span><span class="sxs-lookup"><span data-stu-id="71b25-182">StartInstanceLocation</span></span> |
| <span data-ttu-id="71b25-183">20:35</span><span class="sxs-lookup"><span data-stu-id="71b25-183">20:35</span></span> | <span data-ttu-id="71b25-184">Relleno</span><span class="sxs-lookup"><span data-stu-id="71b25-184">Padding</span></span>               |



 

### <a name="root-constants-and-vertex-buffers"></a><span data-ttu-id="71b25-185">Constantes raíz y búferes de vértices</span><span class="sxs-lookup"><span data-stu-id="71b25-185">Root Constants and Vertex Buffers</span></span>

<span data-ttu-id="71b25-186">En este ejemplo, cada estructura de un búfer de argumentos indirectos cambia dos constantes raíz, cambia un enlace de búfer de vértice y realiza una operación de dibujo no indizada.</span><span class="sxs-lookup"><span data-stu-id="71b25-186">In this example, each structure in an indirect argument buffer changes two root constants, changes one vertex buffer binding, and performs one drawing non-indexed operation.</span></span> <span data-ttu-id="71b25-187">No hay ningún relleno entre las estructuras.</span><span class="sxs-lookup"><span data-stu-id="71b25-187">There is no padding between structures.</span></span>

<span data-ttu-id="71b25-188">El código para crear la descripción de la firma del comando es:</span><span class="sxs-lookup"><span data-stu-id="71b25-188">The code to create the command signature description is:</span></span>

``` syntax
D3D12_INDIRECT_ARGUMENT_DESC Args[4];
Args[0].Type = D3D12_INDIRECT_ARGUMENT_TYPE_CONSTANT;
Args[0].Constant.RootParameterIndex = 2;

Args[1].Type = D3D12_INDIRECT_ARGUMENT_TYPE_CONSTANT;
Args[1].Constant.RootParameterIndex = 6;

Args[2].Type = D3D12_INDIRECT_ARGUMENT_TYPE_VERTEX_BUFFER_VIEW;
Args[2].VertexBuffer.VBSlot = 3;

Args[3].Type = D3D12_INDIRECT_ARGUMENT_TYPE_DRAW_INSTANCED;

D3D12_COMMAND_SIGNATURE_DESC ProgramDesc;
ProgramDesc.ByteStride = 40;
ProgramDesc.NumArgumentDescs = 4;
ProgramDesc.pArguments = Args;
```

<span data-ttu-id="71b25-189">El diseño de una única estructura dentro del búfer de argumentos indirecto es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="71b25-189">The layout of a single structure within the indirect argument buffer is the following:</span></span>



| <span data-ttu-id="71b25-190">Bytes</span><span class="sxs-lookup"><span data-stu-id="71b25-190">Bytes</span></span> | <span data-ttu-id="71b25-191">Descripción</span><span class="sxs-lookup"><span data-stu-id="71b25-191">Description</span></span>                     |
|-------|---------------------------------|
| <span data-ttu-id="71b25-192">0:3</span><span class="sxs-lookup"><span data-stu-id="71b25-192">0:3</span></span>   | <span data-ttu-id="71b25-193">Datos del índice 2 del parámetro raíz</span><span class="sxs-lookup"><span data-stu-id="71b25-193">Data for root parameter index 2</span></span> |
| <span data-ttu-id="71b25-194">4:7</span><span class="sxs-lookup"><span data-stu-id="71b25-194">4:7</span></span>   | <span data-ttu-id="71b25-195">Datos del índice de parámetro raíz 6</span><span class="sxs-lookup"><span data-stu-id="71b25-195">Data for root parameter index 6</span></span> |
| <span data-ttu-id="71b25-196">8:15</span><span class="sxs-lookup"><span data-stu-id="71b25-196">8:15</span></span>  | <span data-ttu-id="71b25-197">Dirección virtual de VB (64 bits)</span><span class="sxs-lookup"><span data-stu-id="71b25-197">Virtual address of VB (64-bit)</span></span>  |
| <span data-ttu-id="71b25-198">16:19</span><span class="sxs-lookup"><span data-stu-id="71b25-198">16:19</span></span> | <span data-ttu-id="71b25-199">Tamaño de VB</span><span class="sxs-lookup"><span data-stu-id="71b25-199">VB size</span></span>                         |
| <span data-ttu-id="71b25-200">20:23</span><span class="sxs-lookup"><span data-stu-id="71b25-200">20:23</span></span> | <span data-ttu-id="71b25-201">Intervalo de VB</span><span class="sxs-lookup"><span data-stu-id="71b25-201">VB stride</span></span>                       |
| <span data-ttu-id="71b25-202">24:27</span><span class="sxs-lookup"><span data-stu-id="71b25-202">24:27</span></span> | <span data-ttu-id="71b25-203">VertexCountPerInstance</span><span class="sxs-lookup"><span data-stu-id="71b25-203">VertexCountPerInstance</span></span>          |
| <span data-ttu-id="71b25-204">28:31</span><span class="sxs-lookup"><span data-stu-id="71b25-204">28:31</span></span> | <span data-ttu-id="71b25-205">InstanceCount</span><span class="sxs-lookup"><span data-stu-id="71b25-205">InstanceCount</span></span>                   |
| <span data-ttu-id="71b25-206">32:35</span><span class="sxs-lookup"><span data-stu-id="71b25-206">32:35</span></span> | <span data-ttu-id="71b25-207">StartVertexLocation</span><span class="sxs-lookup"><span data-stu-id="71b25-207">StartVertexLocation</span></span>             |
| <span data-ttu-id="71b25-208">36:39</span><span class="sxs-lookup"><span data-stu-id="71b25-208">36:39</span></span> | <span data-ttu-id="71b25-209">StartInstanceLocation</span><span class="sxs-lookup"><span data-stu-id="71b25-209">StartInstanceLocation</span></span>           |



 

## <a name="related-topics"></a><span data-ttu-id="71b25-210">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="71b25-210">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="71b25-211">Tutoriales de vídeo de aprendizaje avanzado de DirectX: ejecutar la selección de GPU indirecta y asincrónica</span><span class="sxs-lookup"><span data-stu-id="71b25-211">DirectX advanced learning video tutorials : Execute Indirect and Async GPU culling</span></span>](https://www.youtube.com/watch?v=fKD-VKJeeds)
</dt> <dt>

[<span data-ttu-id="71b25-212">Dibujo indirecto y selección de GPU: tutorial de código</span><span class="sxs-lookup"><span data-stu-id="71b25-212">Indirect drawing and GPU culling : code walk-through</span></span>](indirect-drawing-and-gpu-culling-.md)
</dt> <dt>

[<span data-ttu-id="71b25-213">Representación</span><span class="sxs-lookup"><span data-stu-id="71b25-213">Rendering</span></span>](rendering.md)
</dt> </dl>

 

 