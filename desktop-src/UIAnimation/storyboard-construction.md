---
title: Información general sobre guiones gráficos
description: Esta información general se centra en cómo se usan las transiciones y los guiones gráficos en la animación de Windows.
ms.assetid: d37718ac-0256-4a24-a26c-d29173593be0
keywords:
- Animación de Windows animación, información general sobre guiones gráficos
- guiones gráficos animación de Windows, descritos
- Animación de transiciones de Windows, descripción
- Animación de transiciones de Windows, personalizado
- interpoladores animación de Windows, descritos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 22d8e0af3937cd31ccdc43216a9d3426bad0e7b0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103792226"
---
# <a name="storyboard-overview"></a><span data-ttu-id="6fed8-108">Información general sobre guiones gráficos</span><span class="sxs-lookup"><span data-stu-id="6fed8-108">Storyboard Overview</span></span>

<span data-ttu-id="6fed8-109">Esta información general se centra en cómo se usan las transiciones y los guiones gráficos en la animación de Windows.</span><span class="sxs-lookup"><span data-stu-id="6fed8-109">This overview focuses on how transitions and storyboards are used in Windows Animation.</span></span> <span data-ttu-id="6fed8-110">Para obtener información general sobre los componentes de la animación de Windows, consulte [información general sobre animaciones de Windows](scenic-animation-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6fed8-110">For an overview of the components of Windows Animation, see [Windows Animation Overview](scenic-animation-api-overview.md).</span></span>

<span data-ttu-id="6fed8-111">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="6fed8-111">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="6fed8-112">Transiciones</span><span class="sxs-lookup"><span data-stu-id="6fed8-112">Transitions</span></span>](#custom-transitions)
    -   [<span data-ttu-id="6fed8-113">Biblioteca de transición</span><span class="sxs-lookup"><span data-stu-id="6fed8-113">Transition Library</span></span>](#transition-library)
    -   [<span data-ttu-id="6fed8-114">Transiciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="6fed8-114">Custom Transitions</span></span>](#custom-transitions)
-   [<span data-ttu-id="6fed8-115">Storyboards</span><span class="sxs-lookup"><span data-stu-id="6fed8-115">Storyboards</span></span>](#storyboards)
    -   [<span data-ttu-id="6fed8-116">Crear un guión gráfico simple</span><span class="sxs-lookup"><span data-stu-id="6fed8-116">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
    -   [<span data-ttu-id="6fed8-117">Usar una duración de Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="6fed8-117">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
    -   [<span data-ttu-id="6fed8-118">Crear un guión gráfico más complejo</span><span class="sxs-lookup"><span data-stu-id="6fed8-118">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
    -   [<span data-ttu-id="6fed8-119">Usar fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="6fed8-119">Using Keyframes</span></span>](#using-keyframes)
    -   [<span data-ttu-id="6fed8-120">Almacenar variables</span><span class="sxs-lookup"><span data-stu-id="6fed8-120">Holding Variables</span></span>](#holding-variables)
    -   [<span data-ttu-id="6fed8-121">Programar un guion gráfico</span><span class="sxs-lookup"><span data-stu-id="6fed8-121">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)
-   [<span data-ttu-id="6fed8-122">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6fed8-122">Related topics</span></span>](#related-topics)

## <a name="transitions"></a><span data-ttu-id="6fed8-123">Transiciones</span><span class="sxs-lookup"><span data-stu-id="6fed8-123">Transitions</span></span>

<span data-ttu-id="6fed8-124">Una transición define cómo cambia una variable de animación única en un intervalo de tiempo determinado.</span><span class="sxs-lookup"><span data-stu-id="6fed8-124">A transition defines how a single animation variable changes over a particular time interval.</span></span> <span data-ttu-id="6fed8-125">La animación de Windows incluye una biblioteca de transiciones comunes que los desarrolladores pueden aplicar a una o varias variables de animación.</span><span class="sxs-lookup"><span data-stu-id="6fed8-125">Windows Animation includes a library of common transitions that developers can apply to one or more animation variables.</span></span> <span data-ttu-id="6fed8-126">Los distintos tipos de transiciones tienen diferentes conjuntos de parámetros, que pueden incluir el valor de la variable cuando se completa la transición, la duración de la transición o cantidades únicas de la función matemática subyacente, como la aceleración o el intervalo de oscilación.</span><span class="sxs-lookup"><span data-stu-id="6fed8-126">Different kinds of transitions have different sets of parameters, which may include the value of the variable when the transition completes, the duration of the transition, or quantities unique to the underlying mathematical function, such as acceleration or range of oscillation.</span></span>

<span data-ttu-id="6fed8-127">Todas las transiciones comparten dos parámetros implícitos: el valor inicial y la velocidad inicial (pendiente) de la función matemática.</span><span class="sxs-lookup"><span data-stu-id="6fed8-127">All transitions share two implicit parameters: the initial value and initial velocity (slope) of the mathematical function.</span></span> <span data-ttu-id="6fed8-128">La aplicación puede especificarlos explícitamente, pero el administrador de animaciones los establece normalmente en el valor y la velocidad de la variable de animación cuando comienza la transición.</span><span class="sxs-lookup"><span data-stu-id="6fed8-128">These may be specified explicitly by the application, but are typically set by the animation manager to the value and velocity of the animation variable when the transition begins.</span></span>

-   [<span data-ttu-id="6fed8-129">Biblioteca de transición</span><span class="sxs-lookup"><span data-stu-id="6fed8-129">Transition Library</span></span>](#transition-library)
-   [<span data-ttu-id="6fed8-130">Transiciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="6fed8-130">Custom Transitions</span></span>](#custom-transitions)

### <a name="transition-library"></a><span data-ttu-id="6fed8-131">Biblioteca de transición</span><span class="sxs-lookup"><span data-stu-id="6fed8-131">Transition Library</span></span>

<span data-ttu-id="6fed8-132">La biblioteca de transición proporciona actualmente las siguientes transiciones.</span><span class="sxs-lookup"><span data-stu-id="6fed8-132">The following transitions are currently provided by the transition library.</span></span> <span data-ttu-id="6fed8-133">Si una aplicación requiere un efecto que no se puede especificar mediante la biblioteca de transición, los desarrolladores pueden crear otros tipos de transiciones implementando un interpolador personalizado para la aplicación o usando una biblioteca de transición de un tercero.</span><span class="sxs-lookup"><span data-stu-id="6fed8-133">If an application requires an effect that cannot be specified by using the transition library, developers can create other kinds of transitions by implementing a custom interpolator for the application, or using a transition library from a third party.</span></span>



| <span data-ttu-id="6fed8-134">Nombre de la transición</span><span class="sxs-lookup"><span data-stu-id="6fed8-134">Transition Name</span></span>                        | <span data-ttu-id="6fed8-135">Descripción</span><span class="sxs-lookup"><span data-stu-id="6fed8-135">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6fed8-136">acelere: deceleración</span><span class="sxs-lookup"><span data-stu-id="6fed8-136">accelerate-decelerate</span></span><br/>       | <span data-ttu-id="6fed8-137">La variable de animación se acelera y después se ralentiza a lo largo de una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="6fed8-137">The animation variable speeds up and then slows down over a given duration.</span></span><br/>                                                                                                               |
| <span data-ttu-id="6fed8-138">constant</span><span class="sxs-lookup"><span data-stu-id="6fed8-138">constant</span></span><br/>                    | <span data-ttu-id="6fed8-139">La variable de animación permanece en su valor inicial a lo largo de la transición.</span><span class="sxs-lookup"><span data-stu-id="6fed8-139">The animation variable remains at its initial value throughout the transition.</span></span><br/>                                                                                                            |
| <span data-ttu-id="6fed8-140">cúbicas</span><span class="sxs-lookup"><span data-stu-id="6fed8-140">cubic</span></span><br/>                       | <span data-ttu-id="6fed8-141">La variable de animación cambia de su valor inicial a un valor final especificado, con una velocidad final especificada, a lo largo de una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="6fed8-141">The animation variable changes from its initial value to a specified final value, with a specified final velocity, over a given duration.</span></span><br/>                                                 |
| <span data-ttu-id="6fed8-142">discretos</span><span class="sxs-lookup"><span data-stu-id="6fed8-142">discrete</span></span><br/>                    | <span data-ttu-id="6fed8-143">La variable de animación permanece en su valor inicial durante un tiempo de retraso especificado y, a continuación, cambia de forma instantánea a un valor final especificado y permanece en ese valor durante un tiempo de espera determinado.</span><span class="sxs-lookup"><span data-stu-id="6fed8-143">The animation variable remains at its initial value for a specified delay time, then switches instantaneously to a specified final value and remains at that value for a given hold time.</span></span><br/> |
| <span data-ttu-id="6fed8-144">instantánea</span><span class="sxs-lookup"><span data-stu-id="6fed8-144">instantaneous</span></span><br/>               | <span data-ttu-id="6fed8-145">La variable de animación cambia de forma instantánea de su valor actual a un valor final especificado.</span><span class="sxs-lookup"><span data-stu-id="6fed8-145">The animation variable changes instantly from its current value to a specified final value.</span></span><br/>                                                                                               |
| <span data-ttu-id="6fed8-146">linear</span><span class="sxs-lookup"><span data-stu-id="6fed8-146">linear</span></span><br/>                      | <span data-ttu-id="6fed8-147">La variable de animación realiza la transición lineal de su valor inicial a un valor final especificado durante una determinada duración.</span><span class="sxs-lookup"><span data-stu-id="6fed8-147">The animation variable transitions linearly from its initial value to a specified final value over a given duration.</span></span><br/>                                                                      |
| <span data-ttu-id="6fed8-148">lineal desde la velocidad</span><span class="sxs-lookup"><span data-stu-id="6fed8-148">linear from speed</span></span><br/>           | <span data-ttu-id="6fed8-149">La variable de animación realiza la transición lineal de su valor inicial a un valor final especificado con una velocidad especificada.</span><span class="sxs-lookup"><span data-stu-id="6fed8-149">The animation variable transitions linearly from its initial value to a specified final value with a specified speed.</span></span><br/>                                                                     |
| <span data-ttu-id="6fed8-150">parabólica de la aceleración</span><span class="sxs-lookup"><span data-stu-id="6fed8-150">parabolic from acceleration</span></span><br/> | <span data-ttu-id="6fed8-151">La variable de animación realiza la transición de su valor inicial a un valor final especificado, con una velocidad final especificada, cambiando su velocidad con una aceleración especificada.</span><span class="sxs-lookup"><span data-stu-id="6fed8-151">The animation variable transitions from its initial value to a specified final value, with a specified final velocity, changing its velocity with a specified acceleration.</span></span><br/>               |
| <span data-ttu-id="6fed8-152">inversión</span><span class="sxs-lookup"><span data-stu-id="6fed8-152">reversal</span></span><br/>                    | <span data-ttu-id="6fed8-153">La variable cambia la dirección durante una determinada duración.</span><span class="sxs-lookup"><span data-stu-id="6fed8-153">The variable changes direction over a given duration.</span></span> <span data-ttu-id="6fed8-154">El valor final será el mismo que el valor inicial y la velocidad final será el negativo de la velocidad inicial.</span><span class="sxs-lookup"><span data-stu-id="6fed8-154">The final value will be the same as the initial value and the final velocity will be the negative of the initial velocity.</span></span><br/>          |
| <span data-ttu-id="6fed8-155">sinusoidal desde el intervalo</span><span class="sxs-lookup"><span data-stu-id="6fed8-155">sinusoidal from range</span></span><br/>       | <span data-ttu-id="6fed8-156">La variable oscila dentro de un intervalo determinado de valores, con un período de oscilación especificado, para una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="6fed8-156">The variable oscillates within a given range of values, with a specified period of oscillation, for a given duration.</span></span><br/>                                                                     |
| <span data-ttu-id="6fed8-157">sinusoidal desde velocidad</span><span class="sxs-lookup"><span data-stu-id="6fed8-157">sinusoidal from velocity</span></span><br/>    | <span data-ttu-id="6fed8-158">La variable oscila con un período de oscilación especificado para una duración determinada.</span><span class="sxs-lookup"><span data-stu-id="6fed8-158">The variable oscillates with a specified period of oscillation, for a given duration.</span></span> <span data-ttu-id="6fed8-159">La amplitud de oscilación viene determinada por la velocidad inicial de la variable.</span><span class="sxs-lookup"><span data-stu-id="6fed8-159">The amplitude of oscillation is determined by the variable's initial velocity.</span></span><br/>                      |
| <span data-ttu-id="6fed8-160">detención suave</span><span class="sxs-lookup"><span data-stu-id="6fed8-160">smooth stop</span></span><br/>                 | <span data-ttu-id="6fed8-161">La variable de animación llega a una parada suave en el valor final especificado, dentro de un período de tiempo máximo.</span><span class="sxs-lookup"><span data-stu-id="6fed8-161">The animation variable comes to a smooth stop at a specified final value, within a maximum duration of time.</span></span><br/>                                                                              |



 

<span data-ttu-id="6fed8-162">La tabla siguiente contiene ilustraciones para cada una de estas transiciones.</span><span class="sxs-lookup"><span data-stu-id="6fed8-162">The following table contains illustrations for each of these transitions.</span></span>



|                                                                                                                                                                                                                                                                                                                                                                                                    |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![Ilustración de una transición instantánea](images/instantaneoustransition.png)  ![Ilustración de una transición constante](images/constanttransition.png)  ![Ilustración de una transición lineal](images/lineartransition.png)  ![Ilustración de una transición de lineat desde la velocidad](images/lineartransitionfromspeed.png)  ![Ilustración de una transición discreta](images/discretetransition.png) |
| ![Ilustración de una transición de parabólica desde la aceleración](images/parabolictransitionfromacceleration.png)  ![Ilustración de una transición cúbica](images/cubictransition.png)  ![Ilustración de una transición de detención suave](images/smoothstoptransition.png)                                                                                                                                       |
| ![Ilustración de una transición de inversión](images/reversaltransition.png)  ![Ilustración de una transición sinusoidal de velocidad](images/sinusolidaltransitionfromvelocity.png)  ![Ilustración de una transición sinusoidal desde el intervalo](images/sinusolidaltransitionfromrange.png)                                                                                                                  |
| ![Ilustración de las transiciones Accellerate y Decelerate](images/acceleratedeceleratetransition.png)                                                                                                                                                                                                                                                                                               |



 

### <a name="custom-transitions"></a><span data-ttu-id="6fed8-175">Transiciones personalizadas</span><span class="sxs-lookup"><span data-stu-id="6fed8-175">Custom Transitions</span></span>

<span data-ttu-id="6fed8-176">Un *interpolador* define la función matemática que determina cómo cambia una variable de animación con el tiempo a medida que progresa de su valor inicial a un valor final.</span><span class="sxs-lookup"><span data-stu-id="6fed8-176">An *interpolator* defines the mathematical function that determines how an animation variable changes over time as it progresses from its initial value to a final value.</span></span> <span data-ttu-id="6fed8-177">Cada transición de la biblioteca de transición tiene un objeto interpolador asociado proporcionado por el sistema e implementa la función interpolator.</span><span class="sxs-lookup"><span data-stu-id="6fed8-177">Each transition in the transition library has an associated interpolator object that is provided by the system and implements the interpolator function.</span></span> <span data-ttu-id="6fed8-178">Si una aplicación requiere un efecto que no se puede especificar mediante la biblioteca de transición, puede implementar una o varias transiciones personalizadas implementando un objeto interpolador para cada nueva transición.</span><span class="sxs-lookup"><span data-stu-id="6fed8-178">If an application requires an effect that cannot be specified using the transition library, it can implement one or more custom transitions by implementing an interpolator object for each new transition.</span></span> <span data-ttu-id="6fed8-179">Los objetos interpolator no se pueden usar directamente en las aplicaciones y, en su lugar, se deben encapsular en una transición asociada.</span><span class="sxs-lookup"><span data-stu-id="6fed8-179">Interpolator objects cannot be used directly by applications and must instead be wrapped in an associated transition.</span></span> <span data-ttu-id="6fed8-180">Un *generador de transición* se utiliza para generar transiciones desde un objeto interpolador.</span><span class="sxs-lookup"><span data-stu-id="6fed8-180">A *transition factory* is used to generate transitions from an interpolator object.</span></span> <span data-ttu-id="6fed8-181">Consulte [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) y [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="6fed8-181">See [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) and [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) for more details.</span></span>

<span data-ttu-id="6fed8-182">Tenga en cuenta que la mayoría de las aplicaciones tendrán todas las transiciones que necesitan mediante la biblioteca de transición y, por consiguiente, no tendrían que implementar un interpolador.</span><span class="sxs-lookup"><span data-stu-id="6fed8-182">Note that most applications will have all of the transitions they need by using the transition library, and therefore would not need to implement an interpolator.</span></span>

## <a name="storyboards"></a><span data-ttu-id="6fed8-183">Storyboards</span><span class="sxs-lookup"><span data-stu-id="6fed8-183">Storyboards</span></span>

<span data-ttu-id="6fed8-184">Un guion gráfico es una colección de transiciones que se aplican a una o varias variables de animación a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="6fed8-184">A storyboard is a collection of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="6fed8-185">Se garantiza que las transiciones de un guión gráfico permanecen sincronizadas entre sí, y el guión gráfico se programa o se cancela como una unidad.</span><span class="sxs-lookup"><span data-stu-id="6fed8-185">The transitions in a storyboard are guaranteed to remain synchronized relative to one another, and the storyboard is scheduled or canceled as a unit.</span></span> <span data-ttu-id="6fed8-186">Después de crear las transiciones deseadas, una aplicación crea un guion gráfico mediante el administrador de animaciones, agrega las transiciones al guion gráfico, configura el guión gráfico de forma adecuada y lo programa para que se reproduzca lo antes posible.</span><span class="sxs-lookup"><span data-stu-id="6fed8-186">After creating the desired transitions, an application creates a storyboard using the animation manager, adds the transitions to the storyboard, configures the storyboard appropriately, and schedules it to play as soon as possible.</span></span> <span data-ttu-id="6fed8-187">El administrador de animaciones determina la hora de inicio real del guión gráfico, ya que puede haber contención con otros guiones gráficos animando actualmente las mismas variables.</span><span class="sxs-lookup"><span data-stu-id="6fed8-187">The animation manager determines the storyboard's actual start time, because there may be contention with other storyboards currently animating the same variables.</span></span>

<span data-ttu-id="6fed8-188">La duración total de un guión gráfico depende de las duraciones de las transiciones dentro del guion gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-188">The overall duration of a storyboard depends on the durations of the transitions within the storyboard.</span></span> <span data-ttu-id="6fed8-189">No es necesario corregir la duración de una transición; se puede determinar mediante el valor y la velocidad de las variables animadas cuando comienza la transición.</span><span class="sxs-lookup"><span data-stu-id="6fed8-189">The duration of a transition need not be fixed; it can be determined by the value and velocity of the animated variables when the transition begins.</span></span> <span data-ttu-id="6fed8-190">Por lo tanto, la duración de un guión gráfico también puede depender del estado de las variables que anima.</span><span class="sxs-lookup"><span data-stu-id="6fed8-190">So, the duration of a storyboard can also depend on the state of the variables it animates.</span></span>

<span data-ttu-id="6fed8-191">En los ejemplos siguientes se supone que se han creado un administrador de animaciones, una biblioteca de transición y un temporizador.</span><span class="sxs-lookup"><span data-stu-id="6fed8-191">The following examples assume that an animation manager, transition library, and timer have been created.</span></span> <span data-ttu-id="6fed8-192">Para obtener más información, vea [crear los objetos de animación principales](adding-animation-to-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="6fed8-192">For more information, see [Create the Main Animation Objects](adding-animation-to-an-application.md).</span></span> <span data-ttu-id="6fed8-193">Los ejemplos también suponen que la aplicación ha creado tres variables de animación (X, Y y Z) mediante el método [**IUIAnimationManager:: CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) y cinco transiciones (T1, T2, T3, T4 y T5) mediante el uso de uno de los métodos de la interfaz [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) .</span><span class="sxs-lookup"><span data-stu-id="6fed8-193">The examples also assume that the application has created three animation variables (X, Y and Z) by using the [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) method, and five transitions (T1, T2, T3, T4, and T5) by using the one of the methods of the [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) interface.</span></span>

-   [<span data-ttu-id="6fed8-194">Crear un guión gráfico simple</span><span class="sxs-lookup"><span data-stu-id="6fed8-194">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
-   [<span data-ttu-id="6fed8-195">Usar una duración de Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="6fed8-195">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
-   [<span data-ttu-id="6fed8-196">Crear un guión gráfico más complejo</span><span class="sxs-lookup"><span data-stu-id="6fed8-196">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
-   [<span data-ttu-id="6fed8-197">Usar fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="6fed8-197">Using Keyframes</span></span>](#using-keyframes)
-   [<span data-ttu-id="6fed8-198">Almacenar variables</span><span class="sxs-lookup"><span data-stu-id="6fed8-198">Holding Variables</span></span>](#holding-variables)
-   [<span data-ttu-id="6fed8-199">Programar un guion gráfico</span><span class="sxs-lookup"><span data-stu-id="6fed8-199">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)

### <a name="building-a-simple-storyboard"></a><span data-ttu-id="6fed8-200">Crear un guión gráfico simple</span><span class="sxs-lookup"><span data-stu-id="6fed8-200">Building a Simple Storyboard</span></span>

<span data-ttu-id="6fed8-201">Para compilar un guion gráfico simple, use el método [**IUIAnimationManager:: CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) para crear un nuevo guion gráfico, el método [**IUIAnimationTransitionLibrary:: CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) para crear una transición lineal, T1 y el método [**IUIAnimationStoryboard:: AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) para aplicar la transición T1 a la variable X y agregar la transición resultante al guion gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-201">To build a simple storyboard, use the [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) method to create a new storyboard, the [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) method to create a linear transition, T1, and the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method to apply the T1 transition to the variable X and add the resulting transition to the storyboard.</span></span>

<span data-ttu-id="6fed8-202">Este proceso produce un guion gráfico simple, como se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="6fed8-202">This process yields a simple storyboard, as shown in the following figure.</span></span> <span data-ttu-id="6fed8-203">El guión gráfico contiene una transición, T1, de modo que el valor de la variable X cambia de forma lineal durante un período de tiempo fijo.</span><span class="sxs-lookup"><span data-stu-id="6fed8-203">The storyboard contains one transition, T1, such that the value of variable X changes linearly over a fixed duration of time.</span></span>

![Ilustración que muestra un guión gráfico simple con una duración fija](images/simplestoryboardfixedduration.png)

<span data-ttu-id="6fed8-205">Tenga en cuenta que para este escenario sencillo, una opción alternativa es usar el método [**IUIAnimationManager:: ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) .</span><span class="sxs-lookup"><span data-stu-id="6fed8-205">Note that for such a simple scenario, an alternative option is to use the [**IUIAnimationManager::ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) method.</span></span>

### <a name="using-a-context-sensitive-duration"></a><span data-ttu-id="6fed8-206">Usar una duración de Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="6fed8-206">Using a Context-Sensitive Duration</span></span>

<span data-ttu-id="6fed8-207">Aunque algunas transiciones tienen una duración fija, la duración de otras depende del valor inicial o la velocidad de la variable animada cuando comienza la transición.</span><span class="sxs-lookup"><span data-stu-id="6fed8-207">While some transitions have a fixed duration, the duration of others depends on the initial value or velocity of the animated variable when the transition begins.</span></span> <span data-ttu-id="6fed8-208">Por ejemplo, el método [**IUIAnimationTransitionLibrary:: CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) crea una transición con una duración proporcional a la diferencia entre el valor inicial de la variable de animación y el valor final especificado.</span><span class="sxs-lookup"><span data-stu-id="6fed8-208">For example, the [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) method creates a transition with a duration that is proportional to the difference between the initial value of the animation variable and the specified final value.</span></span> <span data-ttu-id="6fed8-209">En esta ilustración, y las ilustraciones restantes, tales transiciones con duraciones arbitrarias se muestran con un signo de interrogación (?) y sus duraciones reales se determinan cuando se reproduce el guion gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-209">In this illustration, and the remaining illustrations, such transitions with arbitrary durations are shown with a question mark (?), and their actual durations are determined when the storyboard plays.</span></span>

![Ilustración en la que se muestra un guión gráfico simple con una duración desconocida](images/simplestoryboardunknownduration.png)

### <a name="building-a-more-complex-storyboard"></a><span data-ttu-id="6fed8-211">Crear un guión gráfico más complejo</span><span class="sxs-lookup"><span data-stu-id="6fed8-211">Building a More Complex Storyboard</span></span>

<span data-ttu-id="6fed8-212">Después de crear un guion gráfico y agregar una sola transición, T1, puede anexar una segunda transición para la variable X llamando de nuevo al método [**IUIAnimationStoryboard:: AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) , pero con T2 en lugar de T1.</span><span class="sxs-lookup"><span data-stu-id="6fed8-212">After creating a storyboard and adding a single transition, T1, you can append a second transition for the X variable by calling the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method again, but with T2 instead of T1.</span></span>

<span data-ttu-id="6fed8-213">Suponiendo que la transición T2 tiene una duración que es contextual, el guión gráfico ahora contiene dos transiciones inversas de duración arbitraria que afectan a la variable X.</span><span class="sxs-lookup"><span data-stu-id="6fed8-213">Assuming that the T2 transition has a duration that is context-sensitive, the storyboard now contains two back-to-back transitions of arbitrary duration affecting the variable X.</span></span>

![Ilustración que muestra un guion gráfico que contiene dos transiciones en la misma variable](images/appendingwithaddtransition.png)

<span data-ttu-id="6fed8-215">Al llamar a [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) de nuevo con la variable y y la transición T3, se agrega una tercera transición al inicio del guion gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-215">Calling [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) again with variable Y and transition T3 adds a third transition at the start of the storyboard.</span></span> <span data-ttu-id="6fed8-216">Dependiendo de los valores de X e y cuando se reproduzca el guión gráfico, T3 puede finalizar después de T1 o incluso después de T2.</span><span class="sxs-lookup"><span data-stu-id="6fed8-216">Depending on the values of X and Y when the storyboard plays, T3 may end after T1 or even after T2.</span></span>

![Ilustración en la que se muestra un guion gráfico que contiene transiciones entre varias variables](images/multivariablestoryboard.png)

### <a name="using-keyframes"></a><span data-ttu-id="6fed8-218">Usar fotogramas clave</span><span class="sxs-lookup"><span data-stu-id="6fed8-218">Using Keyframes</span></span>

<span data-ttu-id="6fed8-219">Para agregar una transición en un desplazamiento desde el inicio del guion gráfico, primero debe agregar un fotograma clave.</span><span class="sxs-lookup"><span data-stu-id="6fed8-219">To add a transition at an offset from the start of the storyboard, you must first add a keyframe.</span></span> <span data-ttu-id="6fed8-220">Los fotogramas clave representan instantáneas en el tiempo y, por sí mismos, no tienen ningún efecto en el comportamiento del guion gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-220">Keyframes represent instants in time and by themselves have no effect on the behavior of the storyboard.</span></span> <span data-ttu-id="6fed8-221">Cada guión gráfico tiene un fotograma clave implícito que representa el inicio del guion gráfico, el [**\_ \_ \_ guión gráfico \_ del fotograma clave de la interfaz de usuario comienza**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); puede agregar nuevos fotogramas clave a los desplazamientos desde el principio llamando al método [**IUIAnimationStoryboard:: AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) con el **\_ \_ guión gráfico de fotogramas clave \_ \_ de la interfaz de usuario Inicio**.</span><span class="sxs-lookup"><span data-stu-id="6fed8-221">Every storyboard has an implicit keyframe representing the start of the storyboard, [**UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); you can add new keyframes at offsets from the start by calling the [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) method with **UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**.</span></span>

<span data-ttu-id="6fed8-222">El desplazamiento en el que se agrega un fotograma clave siempre es relativo a otro fotograma clave.</span><span class="sxs-lookup"><span data-stu-id="6fed8-222">The offset at which you add a keyframe is always relative to another keyframe.</span></span> <span data-ttu-id="6fed8-223">En el diagrama siguiente se muestra el resultado de agregar keyframe1 y la transición T4, que se aplica a la variable Z, alineada con keyframe1, y se crea con una duración fija.</span><span class="sxs-lookup"><span data-stu-id="6fed8-223">The following diagram shows the result of adding keyframe1 and transition T4, which is applied to variable Z, aligned with keyframe1, and created with a fixed duration.</span></span> <span data-ttu-id="6fed8-224">Por supuesto, dado que las duraciones de las otras transiciones todavía no se conocen, T4 podría no ser la última transición para finalizar.</span><span class="sxs-lookup"><span data-stu-id="6fed8-224">Of course, because the durations of the other transitions are not yet known, T4 might not be the last transition to finish.</span></span>

![Ilustración que muestra la adición de una transición alineada en un fotograma clave](images/addtransitionatkeyframe.png)

<span data-ttu-id="6fed8-226">Los fotogramas clave también se pueden colocar en los extremos de las transiciones mediante el método [**IUIAnimationStoryboard:: AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) .</span><span class="sxs-lookup"><span data-stu-id="6fed8-226">Keyframes can also be placed at the ends of transitions, using the [**IUIAnimationStoryboard::AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) method.</span></span> <span data-ttu-id="6fed8-227">En el diagrama siguiente se muestra el resultado de agregar keyframe2 después de T1 y keyframe3 después de T2.</span><span class="sxs-lookup"><span data-stu-id="6fed8-227">The following diagram shows the result of adding keyframe2 after T1 and keyframe3 after T2.</span></span>

![Ilustración en la que se muestra la adición de fotogramas clave después de varias transiciones](images/addkeyframeaftertransition.png)

<span data-ttu-id="6fed8-229">Dado que no se conocen las duraciones T1 y T2 hasta que se reproduce el guión gráfico, los desplazamientos de keyframe2 y keyframe3 tampoco se determinan hasta entonces.</span><span class="sxs-lookup"><span data-stu-id="6fed8-229">Because the durations of T1 and T2 are not known until the storyboard plays, the offsets of keyframe2 and keyframe3 also are not determined until then.</span></span> <span data-ttu-id="6fed8-230">Por consiguiente, keyframe2 e incluso keyframe3 pueden producirse antes de keyframe1.</span><span class="sxs-lookup"><span data-stu-id="6fed8-230">Consequently, keyframe2 and even keyframe3 can occur earlier than keyframe1.</span></span>

<span data-ttu-id="6fed8-231">Tanto el inicio como el final de una transición se pueden alinear con fotogramas clave mediante el método [**IUIAnimationStoryboard:: AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) .</span><span class="sxs-lookup"><span data-stu-id="6fed8-231">Both the start and end of a transition can be aligned with keyframes by using the [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) method.</span></span> <span data-ttu-id="6fed8-232">En el diagrama siguiente se muestra el resultado de agregar una quinta transición, T5, en la variable Y, entre keyframe2 y keyframe3.</span><span class="sxs-lookup"><span data-stu-id="6fed8-232">The following diagram shows the result of adding a fifth transition, T5, on variable Y, between keyframe2 and keyframe3.</span></span> <span data-ttu-id="6fed8-233">Esto modifica la duración de T5, lo que es mayor o menor en función de los desplazamientos relativos de keyframe2 y keyframe3.</span><span class="sxs-lookup"><span data-stu-id="6fed8-233">This alters the duration of T5, making it longer or shorter depending on the relative offsets of keyframe2 and keyframe3.</span></span>

![Ilustración que muestra además de una transición entre fotogramas clave](images/addtransitionbetweenkeyframes.png)

### <a name="holding-variables"></a><span data-ttu-id="6fed8-235">Almacenar variables</span><span class="sxs-lookup"><span data-stu-id="6fed8-235">Holding Variables</span></span>

<span data-ttu-id="6fed8-236">Si T4 termina después de T2 y T5, el guion gráfico deja de animar las variables X e y, de forma que estén disponibles para que otros guiones gráficos puedan animarse.</span><span class="sxs-lookup"><span data-stu-id="6fed8-236">If T4 does end after T2 and T5, the storyboard stops animating variables X and Y, making them available for other storyboards to animate.</span></span> <span data-ttu-id="6fed8-237">Sin embargo, la aplicación puede llamar al método [**IUIAnimationStoryboard:: HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) para solicitar que el guion gráfico contenga algunas o todas las variables que anima en sus valores finales hasta que se haya completado el guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-237">However, the application can call the [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) method to request that the storyboard hold some or all of the variables it animates at their final values until the storyboard has completed.</span></span> <span data-ttu-id="6fed8-238">En el diagrama siguiente se muestra el resultado de mantener X y Z cuando T4 finaliza en último lugar.</span><span class="sxs-lookup"><span data-stu-id="6fed8-238">The following diagram shows the result of holding X and Z when T4 finishes last.</span></span> <span data-ttu-id="6fed8-239">Observe que el guión gráfico contiene X en su valor final hasta que se haya completado el guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-239">Notice that the storyboard holds X at its final value until the storyboard has completed.</span></span> <span data-ttu-id="6fed8-240">La suspensión no tiene ningún efecto en Z porque el guión gráfico finaliza cuando se completa T4.</span><span class="sxs-lookup"><span data-stu-id="6fed8-240">The hold has no effect on Z because the storyboard ends when T4 finishes.</span></span>

![Ilustración en la que se muestra la retención de variables en valores finales hasta que se completa el guión gráfico](images/holdvariable.png)

<span data-ttu-id="6fed8-242">Aunque Y no se retienen en este guión gráfico, su valor no cambia después de que se complete T5 a menos que otro guion gráfico lo anime.</span><span class="sxs-lookup"><span data-stu-id="6fed8-242">Even though Y is not held by this storyboard, its value does not change after T5 completes unless another storyboard animates it.</span></span> <span data-ttu-id="6fed8-243">Dado que no se mantiene Y, cualquier otro guión gráfico, independientemente de la prioridad, puede animar Y después de que haya finalizado T5.</span><span class="sxs-lookup"><span data-stu-id="6fed8-243">Because Y is not held, any other storyboard, regardless of priority, can animate Y after T5 has finished.</span></span> <span data-ttu-id="6fed8-244">Por el contrario, dado que se mantiene X, un guión gráfico de menor prioridad no puede animar X hasta que finalice este guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-244">In contrast, because X is held, a lower-priority storyboard cannot animate X until this storyboard is finished.</span></span>

<span data-ttu-id="6fed8-245">Todas estas ilustraciones han asumido un conjunto arbitrario de valores actuales para las variables cuando se inicia la reproducción del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-245">All of these illustrations have assumed an arbitrary set of current values for the variables when the storyboard starts playing.</span></span> <span data-ttu-id="6fed8-246">Si se encuentran otros valores, es probable que las duraciones de las transiciones contextuales sean diferentes, como se muestra en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="6fed8-246">If other values are encountered, the durations of the context-sensitive transitions are likely to be different, as shown in the following illustration.</span></span>

![Ilustración que muestra el resultado de cambiar las condiciones iniciales utilizadas para la ilustración anterior](images/holdvariablez.png)

<span data-ttu-id="6fed8-248">En este escenario, T5 comienza antes de que T3 finalice y, por tanto, T3 se recorta.</span><span class="sxs-lookup"><span data-stu-id="6fed8-248">In this scenario, T5 begins before T3 has finished, and T3 is therefore trimmed.</span></span> <span data-ttu-id="6fed8-249">Dado que T4 finaliza antes de T2 y T5, el valor de Z se mantiene hasta el final del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-249">Because T4 finishes earlier than T2 and T5, the value of Z is held until the end of the storyboard.</span></span> <span data-ttu-id="6fed8-250">En general, los valores y las velocidades de las variables cuando se inicia la reproducción de un guion gráfico pueden afectar al orden de los fotogramas clave y a la longitud y la forma generales del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-250">In general, the values and velocities of variables when a storyboard starts playing can affect keyframe ordering and the overall length and shape of the storyboard.</span></span>

### <a name="scheduling-a-storyboard"></a><span data-ttu-id="6fed8-251">Programar un guion gráfico</span><span class="sxs-lookup"><span data-stu-id="6fed8-251">Scheduling a Storyboard</span></span>

<span data-ttu-id="6fed8-252">Al programar un guion gráfico, su hora de inicio se determina mediante su esquema y los contornos de los guiones gráficos que están actualmente en la programación.</span><span class="sxs-lookup"><span data-stu-id="6fed8-252">When scheduling a storyboard, its start time is determined by its outline and the outlines of the storyboards that are currently in the schedule.</span></span> <span data-ttu-id="6fed8-253">En concreto, el primer y el último momento en que el guion gráfico anima cada variable individual determinan si dos guiones gráficos están en conflicto, pero los detalles internos de las transiciones en no son importantes.</span><span class="sxs-lookup"><span data-stu-id="6fed8-253">Specifically, the first and last moments when the storyboard animates each individual variable determine whether and when two storyboards collide, but the internal details of the transitions within are not important.</span></span>

<span data-ttu-id="6fed8-254">En la ilustración siguiente se muestra el contorno de un guión gráfico con cinco transiciones que animan tres variables.</span><span class="sxs-lookup"><span data-stu-id="6fed8-254">The following illustration shows the outline of a storyboard with five transitions animating three variables.</span></span>

![Ilustración en la que se muestra un guión gráfico con cinco transiciones animando tres variables](images/storyboardwithoutline.png)

<span data-ttu-id="6fed8-256">Una piedra angular de la plataforma de animación de Windows es su compatibilidad para permitir que una animación se complete antes de que comience otra, cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="6fed8-256">A cornerstone of the Windows Animation platform is its support for letting one animation complete before another begins, when necessary.</span></span> <span data-ttu-id="6fed8-257">Aunque esto elimina muchos problemas lógicos, también introduce una latencia arbitraria en la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="6fed8-257">While this eliminates many logical problems, it also introduces arbitrary latency in the UI.</span></span> <span data-ttu-id="6fed8-258">Para solucionar esto, las aplicaciones pueden especificar el *retraso aceptable más largo* para que se inicie un guion gráfico, mediante el método [**IUIAnimationStoryboard:: SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) , y el administrador de animaciones usa esta información para programar el guión gráfico antes de que transcurra el período de latencia especificado.</span><span class="sxs-lookup"><span data-stu-id="6fed8-258">To address this, applications can specify the *longest acceptable delay* for a storyboard to start, using the [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) method, and the animation manager uses this information to schedule the storyboard before the specified latency period elapses.</span></span> <span data-ttu-id="6fed8-259">Cuando se programa un guion gráfico, el administrador de animaciones determina si otros guiones gráficos se deben cancelar primero, recortar, concluir o comprimir.</span><span class="sxs-lookup"><span data-stu-id="6fed8-259">When a storyboard is scheduled, the animation manager determines if other storyboards must first be canceled, trimmed, concluded, and/or compressed.</span></span>

<span data-ttu-id="6fed8-260">Una aplicación puede registrar un controlador que se llamará cuando cambie el estado de un guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="6fed8-260">An application can register a handler that will be called when a storyboard's status changes.</span></span> <span data-ttu-id="6fed8-261">Esto permite a la aplicación responder cuando se inicia la reproducción del guion gráfico, se ejecuta hasta su finalización, se quita completamente de la programación o se evita que se complete debido a la interrupción de un guión gráfico de prioridad superior.</span><span class="sxs-lookup"><span data-stu-id="6fed8-261">This enables the application to respond when the storyboard starts playing, runs to completion, is removed entirely from the schedule, or is prevented from completing due to interruption by a higher-priority storyboard.</span></span> <span data-ttu-id="6fed8-262">Para identificar los guiones gráficos que se pasan a los controladores de eventos de guiones gráficos (o comparaciones de prioridad), una aplicación puede usar el método [**IUIAnimationStoryboard:: SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) para aplicar etiquetas a guiones gráficos, similares a los que se pueden usar para identificar variables.</span><span class="sxs-lookup"><span data-stu-id="6fed8-262">To identify the storyboards passed to storyboard event handlers (or priority comparisons), an application can use the [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) method to apply tags to storyboards, similar to those that can be used to identify variables.</span></span> <span data-ttu-id="6fed8-263">Al igual que con la reutilización de guiones gráficos, los desarrolladores deben tener cuidado al usar etiquetas para identificar guiones gráficos y asegurarse de que no surjan ambigüedades cuando las acciones del usuario dan lugar a la puesta en cola de muchos guiones gráficos.</span><span class="sxs-lookup"><span data-stu-id="6fed8-263">As with storyboard re-use, developers must exercise caution when using tags to identify storyboards, and be sure that ambiguities do not arise when user actions result in many storyboards being queued.</span></span>

<span data-ttu-id="6fed8-264">En los siguientes ejemplos se muestran dos variaciones de un intento de programar el guion gráfico creado en las secciones anteriores de este tema.</span><span class="sxs-lookup"><span data-stu-id="6fed8-264">The following examples show two variations of an attempt to schedule the storyboard built in the earlier sections of this topic.</span></span>

<span data-ttu-id="6fed8-265">En este escenario, los seis guiones gráficos, de la a a la F, ya se han programado para animar las variables W, X, y y Z, pero solo A y B han empezado a reproducirse.</span><span class="sxs-lookup"><span data-stu-id="6fed8-265">In this scenario, six storyboards, A through F, have already been scheduled to animate variables W, X, Y and Z, but only A and B have started playing.</span></span> <span data-ttu-id="6fed8-266">El nuevo guión gráfico, con la etiqueta G, tiene el retraso aceptable más largo establecido en la duración que se muestra en la ilustración siguiente.</span><span class="sxs-lookup"><span data-stu-id="6fed8-266">The new storyboard, labeled G, has its longest acceptable delay set to the duration shown in the following illustration.</span></span>

![Ilustración que muestra la adición de un nuevo guión gráfico a la programación existente](images/existingschedule1withlines.png)

<span data-ttu-id="6fed8-268">La aplicación tiene comparaciones de prioridad registradas que incluyen la lógica siguiente:</span><span class="sxs-lookup"><span data-stu-id="6fed8-268">The application has registered priority comparisons that include the following logic:</span></span>

-   <span data-ttu-id="6fed8-269">G solo puede cancelar C y E, y solo para evitar errores.</span><span class="sxs-lookup"><span data-stu-id="6fed8-269">G can cancel only C and E, and only to prevent failure.</span></span>
-   <span data-ttu-id="6fed8-270">G solo puede recortar a, C, E y F, y solo para evitar errores.</span><span class="sxs-lookup"><span data-stu-id="6fed8-270">G can trim only A, C, E and F, and only to prevent failure.</span></span>
-   <span data-ttu-id="6fed8-271">Cualquier guion gráfico puede comprimir cualquier otro guión gráfico (la compresión siempre se realiza solo para evitar errores).</span><span class="sxs-lookup"><span data-stu-id="6fed8-271">Any storyboard can compress any other storyboard (compression is always done only to prevent failure).</span></span>

> [!Note]  
> <span data-ttu-id="6fed8-272">El calificador "solo para evitar errores" significa que las comparaciones de prioridad registradas devuelven S \_ solo cuando el parámetro *priorityEffect* es **\_ \_ \_ \_ un error de efecto de prioridad de animación de IU**.</span><span class="sxs-lookup"><span data-stu-id="6fed8-272">The qualifier "only to prevent failure" means that the registered priority comparisons return S\_OK only when the *priorityEffect* parameter is **UI\_ANIMATION\_PRIORITY\_EFFECT\_FAILURE**.</span></span> <span data-ttu-id="6fed8-273">Vea el método [**IUIAnimationPriorityComparison:: HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="6fed8-273">See the [**IUIAnimationPriorityComparison::HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) method for details.</span></span>

 

<span data-ttu-id="6fed8-274">Para iniciar G antes de que haya transcurrido el retraso aceptable más largo, el administrador de animaciones debe hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="6fed8-274">To start G before the longest acceptable delay has elapsed, the animation manager must do the following:</span></span>

-   <span data-ttu-id="6fed8-275">Trim F</span><span class="sxs-lookup"><span data-stu-id="6fed8-275">Trim F</span></span>
-   <span data-ttu-id="6fed8-276">Cancelar E</span><span class="sxs-lookup"><span data-stu-id="6fed8-276">Cancel E</span></span>

<span data-ttu-id="6fed8-277">Cuando se cancela E, D y F se descubrirán y volverán a su esquema original:</span><span class="sxs-lookup"><span data-stu-id="6fed8-277">When E is canceled, D and F are uncovered and revert to their original outlines:</span></span>

![Ilustración que muestra los contornos originales](images/existingschedule1bwithlines.png)

<span data-ttu-id="6fed8-279">No es necesario que el administrador de animaciones cancele o recorte C para programar antes de que haya transcurrido el retraso más largo aceptable, por lo que la reunión de C y G determina cuándo se inicia G.</span><span class="sxs-lookup"><span data-stu-id="6fed8-279">The animation manager does not need to cancel or trim C to schedule before its longest acceptable delay has elapsed, so the meeting of C and G determines when G starts.</span></span>

![Ilustración en la que se muestra que f se ha recortado para permitir que c y g cumplan](images/schedule1withgwithlines.png)

<span data-ttu-id="6fed8-281">Una vez que G se ha programado correctamente, se pueden determinar las duraciones de las transiciones y, por lo tanto, se conoce el resto del esquema.</span><span class="sxs-lookup"><span data-stu-id="6fed8-281">After G has been successfully scheduled, the durations of its transitions can be determined, and the remainder of its outline is therefore known.</span></span> <span data-ttu-id="6fed8-282">Sin embargo, el esquema puede cambiar si se quita otro guión gráfico de la programación.</span><span class="sxs-lookup"><span data-stu-id="6fed8-282">However, the outline can change if another storyboard is subsequently removed from the schedule.</span></span>

<span data-ttu-id="6fed8-283">Como segundo ejemplo, considere un escenario como el anterior, pero con un retraso más corto que se haya especificado para G.</span><span class="sxs-lookup"><span data-stu-id="6fed8-283">As a second example, consider a scenario like that above, but with a shorter longest acceptable delay specified for G.</span></span>

![Ilustración en la que se muestra el escenario anterior, pero con un retraso aceptable más corto para g](images/existingschedule2withlines.png)

<span data-ttu-id="6fed8-285">En este caso, se realizan las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="6fed8-285">In this case, the following actions are taken:</span></span>

-   <span data-ttu-id="6fed8-286">Trim F</span><span class="sxs-lookup"><span data-stu-id="6fed8-286">Trim F</span></span>
-   <span data-ttu-id="6fed8-287">Cancelar E</span><span class="sxs-lookup"><span data-stu-id="6fed8-287">Cancel E</span></span>
-   <span data-ttu-id="6fed8-288">Cancelar C</span><span class="sxs-lookup"><span data-stu-id="6fed8-288">Cancel C</span></span>

<span data-ttu-id="6fed8-289">Además, el administrador de animaciones debe comprimir D por la cantidad que se muestra para permitir que G se inicie después de su retraso más largo aceptable, y no más tarde.</span><span class="sxs-lookup"><span data-stu-id="6fed8-289">Also, the animation manager must compress D by the amount shown to enable G to start after its longest acceptable delay, and no later.</span></span>

![Ilustración donde d debe comprimirse para permitir que g se inicie en su retraso aceptable más largo](images/trimmedandcancelledwithlines.png)

<span data-ttu-id="6fed8-291">Para conservar el tiempo relativo, también se comprimen los A, B y F.</span><span class="sxs-lookup"><span data-stu-id="6fed8-291">To preserve their relative timing, A, B, and F are compressed as well.</span></span>

![Ilustración que muestra un, b, d y f comprimidos](images/schedule2withgwithlines.png)

<span data-ttu-id="6fed8-293">Sin embargo, los guiones gráficos de variables no relacionadas (no mostradas) no se comprimirán.</span><span class="sxs-lookup"><span data-stu-id="6fed8-293">However, storyboards on unrelated variables (not shown) would not be compressed.</span></span>

<span data-ttu-id="6fed8-294">Una vez más, ahora se conoce el esquema de G y es diferente del resultado en el primer escenario, ya que las variables tienen valores diferentes cuando se inicia G.</span><span class="sxs-lookup"><span data-stu-id="6fed8-294">Once again, the outline of G is now known and is different from the result in the first scenario because the variables have different values when G begins.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6fed8-295">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6fed8-295">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6fed8-296">**IUIAnimationManager**</span><span class="sxs-lookup"><span data-stu-id="6fed8-296">**IUIAnimationManager**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationmanager)
</dt> <dt>

[<span data-ttu-id="6fed8-297">**IUIAnimationPriorityComparison**</span><span class="sxs-lookup"><span data-stu-id="6fed8-297">**IUIAnimationPriorityComparison**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationprioritycomparison)
</dt> <dt>

[<span data-ttu-id="6fed8-298">**IUIAnimationStoryboard**</span><span class="sxs-lookup"><span data-stu-id="6fed8-298">**IUIAnimationStoryboard**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationstoryboard)
</dt> <dt>

[<span data-ttu-id="6fed8-299">**IUIAnimationTransitionLibrary**</span><span class="sxs-lookup"><span data-stu-id="6fed8-299">**IUIAnimationTransitionLibrary**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)
</dt> </dl>

 

