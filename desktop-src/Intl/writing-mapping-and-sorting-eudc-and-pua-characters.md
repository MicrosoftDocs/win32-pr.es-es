---
description: Las aplicaciones escriben caracteres finales definidos por el usuario (EUDCs) y caracteres de área de uso privado (PUA) en la pantalla o la impresora de la misma forma que escriben otros caracteres, mediante funciones de salida como TextOut y ExtTextOut.
ms.assetid: c975c70d-4231-4a69-bec2-d51d6993fdd4
title: Escribir, asignar y ordenar caracteres EUDC y PUA
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6c34264d956bb6a87407e249f68b2bc03fb2c99
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104275440"
---
# <a name="writing-mapping-and-sorting-eudc-and-pua-characters"></a><span data-ttu-id="24c48-103">Escribir, asignar y ordenar caracteres EUDC y PUA</span><span class="sxs-lookup"><span data-stu-id="24c48-103">Writing, Mapping, and Sorting EUDC and PUA Characters</span></span>

<span data-ttu-id="24c48-104">Las aplicaciones escriben caracteres finales definidos por el usuario (EUDCs) y caracteres de área de uso privado (PUA) en la pantalla o la impresora de la misma forma que escriben otros caracteres, mediante funciones de salida como [TextOut](/windows/win32/api/wingdi/nf-wingdi-textouta) y [ExtTextOut](/windows/win32/api/wingdi/nf-wingdi-exttextouta).</span><span class="sxs-lookup"><span data-stu-id="24c48-104">Applications write end-user-defined characters (EUDCs) and private use area (PUA) characters to the screen or printer just as they write other characters, by using output functions such as [TextOut](/windows/win32/api/wingdi/nf-wingdi-textouta) and [ExtTextOut](/windows/win32/api/wingdi/nf-wingdi-exttextouta).</span></span> <span data-ttu-id="24c48-105">Estas funciones recuperan automáticamente información de caracteres de las fuentes de caracteres EUDC o PUA si se habilita EUDC.</span><span class="sxs-lookup"><span data-stu-id="24c48-105">These functions automatically retrieve character information from EUDC or PUA character fonts if EUDC is enabled.</span></span> <span data-ttu-id="24c48-106">Para obtener más información, vea [caracteres de \_ área de uso privados y definidos por el usuario final](end-user-defined-characters.md).</span><span class="sxs-lookup"><span data-stu-id="24c48-106">For more information, see [End-User\_Defined and Private Use Area Characters](end-user-defined-characters.md).</span></span>

<span data-ttu-id="24c48-107">Al escribir caracteres EUDCs o PUA, el funcionamiento de la función de salida de texto depende de la fuente seleccionada actualmente.</span><span class="sxs-lookup"><span data-stu-id="24c48-107">When writing EUDCs or PUA characters, the operation of the text output function depends on the currently selected font.</span></span> <span data-ttu-id="24c48-108">Si la fuente seleccionada es una fuente de caracteres EUDC o PUA integrada, la función recupera información de caracteres de esa fuente.</span><span class="sxs-lookup"><span data-stu-id="24c48-108">If the selected font is an integrated EUDC or PUA character font, the function retrieves character information from that font.</span></span> <span data-ttu-id="24c48-109">Si la fuente seleccionada es una fuente TrueType de [juego de caracteres de doble byte](double-byte-character-sets.md) (DBCS) que tiene asociada una fuente EUDC independiente, la función recupera información de la fuente EUDC especificada.</span><span class="sxs-lookup"><span data-stu-id="24c48-109">If the selected font is a [double-byte character set](double-byte-character-sets.md) (DBCS) TrueType font that has an associated separate EUDC font, the function retrieves information from the specified EUDC font.</span></span> <span data-ttu-id="24c48-110">Del mismo modo, si la fuente seleccionada es una fuente TrueType [Unicode](unicode.md) que tiene una fuente de caracteres PUA independiente asociada, la función recupera información de la fuente de caracteres PUA.</span><span class="sxs-lookup"><span data-stu-id="24c48-110">Similarly, if the selected font is a [Unicode](unicode.md) TrueType font that has an associated separate PUA character font, the function retrieves information from the PUA character font.</span></span> <span data-ttu-id="24c48-111">Si la fuente seleccionada no tiene una fuente de caracteres EUDC o PUA asociada, la función recupera información de la fuente EUDC predeterminada del sistema.</span><span class="sxs-lookup"><span data-stu-id="24c48-111">If the selected font does not have an associated EUDC or PUA character font, the function retrieves information from the system default EUDC font.</span></span> <span data-ttu-id="24c48-112">Si el carácter no está en la fuente EUDC predeterminada del sistema o no hay ninguna fuente EUDC predeterminada del sistema, la función escribe el carácter predeterminado definido por la fuente seleccionada.</span><span class="sxs-lookup"><span data-stu-id="24c48-112">If the character is not in the system default EUDC font or there is no system default EUDC font, the function writes the default character defined by the selected font.</span></span>

<span data-ttu-id="24c48-113">Las aplicaciones pueden asignar EUDCs a y desde Unicode mediante las funciones [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) y [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) .</span><span class="sxs-lookup"><span data-stu-id="24c48-113">Applications can map EUDCs to and from Unicode by using the [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) functions.</span></span> <span data-ttu-id="24c48-114">La función **MultiByteToWideChar** asigna la mayoría de los EUDCs a los caracteres de PUA de Unicode.</span><span class="sxs-lookup"><span data-stu-id="24c48-114">The **MultiByteToWideChar** function maps most EUDCs to characters in the Unicode PUA.</span></span> <span data-ttu-id="24c48-115">Sin embargo, para admitir determinados estándares nacionales o regionales, algunos EUDCs pueden asignarse a puntos de código Unicode no PUA.</span><span class="sxs-lookup"><span data-stu-id="24c48-115">However, to support certain national or regional standards, some EUDCs can be mapped to non-PUA Unicode code points.</span></span> <span data-ttu-id="24c48-116">La función **WideCharToMultiByte** asigna un carácter de PUA a su homólogo de EUDC, si existe tal asignación, y si el punto de código no tiene una asignación no PUA válida en Unicode.</span><span class="sxs-lookup"><span data-stu-id="24c48-116">The **WideCharToMultiByte** function maps a character in the PUA to its EUDC counterpart, if such a mapping exists and if the code point does not have a valid non-PUA mapping in Unicode.</span></span> <span data-ttu-id="24c48-117">No todas las páginas de códigos tienen un intervalo EUDC.</span><span class="sxs-lookup"><span data-stu-id="24c48-117">Not all code pages have an EUDC range.</span></span> <span data-ttu-id="24c48-118">La página de códigos especificada en una llamada a **WideCharToMultiByte** debe contener un intervalo de código EUDC para que se produzca la asignación al intervalo EUDC.</span><span class="sxs-lookup"><span data-stu-id="24c48-118">The code page specified in a call to **WideCharToMultiByte** must contain an EUDC code range for the mapping to the EUDC range to occur.</span></span> <span data-ttu-id="24c48-119">Si la página de códigos no contiene un intervalo de código EUDC, la función recupera el carácter predeterminado para los caracteres de la PUA Unicode.</span><span class="sxs-lookup"><span data-stu-id="24c48-119">If the code page does not contain an EUDC code range, the function retrieves the default character for any characters in the Unicode PUA.</span></span>

<span data-ttu-id="24c48-120">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) y [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) no garantizan la asignación de ida y vuelta.</span><span class="sxs-lookup"><span data-stu-id="24c48-120">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) do not guarantee round-trip mapping.</span></span> <span data-ttu-id="24c48-121">En otras palabras, es posible empezar con una cadena multibyte determinada que contenga EUDCs, asignar la cadena a Unicode con **MultiByteToWideChar** y asignarla de nuevo al DBCS original con **WideCharToMultiByte** y acabar con un resultado que no sea idéntico a la cadena original.</span><span class="sxs-lookup"><span data-stu-id="24c48-121">In other words, it is possible to start with a particular multibyte string containing EUDCs, map the string to Unicode with **MultiByteToWideChar** and map it back to the original DBCS with **WideCharToMultiByte**, and end up with a result that is not identical to the original string.</span></span> <span data-ttu-id="24c48-122">Las aplicaciones que dependen de la asignación de EUDCs a Unicode deben asegurarse de que todos los caracteres necesarios puedan realizarse entre el área de EUDC de la página de códigos adecuada y el PUA de Unicode.</span><span class="sxs-lookup"><span data-stu-id="24c48-122">Applications relying on mapping EUDCs to Unicode should ensure that all necessary characters can round-trip between the appropriate code page EUDC area and the Unicode PUA.</span></span>

<span data-ttu-id="24c48-123">Las aplicaciones no deben intentar asignar EUDCs de una página de códigos a otra.</span><span class="sxs-lookup"><span data-stu-id="24c48-123">Applications should not attempt to map EUDCs from one code page to another.</span></span> <span data-ttu-id="24c48-124">Si una aplicación se inicia con un EUDC de una página de códigos, lo asigna a Unicode con [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar)y se asigna a un DBCS diferente con [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte), no hay ninguna garantía sobre los resultados.</span><span class="sxs-lookup"><span data-stu-id="24c48-124">If an application starts with an EUDC from one code page, maps it to Unicode with [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar), and maps to a different DBCS with [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte), there are no guarantees about the results.</span></span> <span data-ttu-id="24c48-125">El carácter original podría estar asignado a un EUDC diferente en la página de códigos de destino, o bien se podría asignar como un carácter no definido.</span><span class="sxs-lookup"><span data-stu-id="24c48-125">The original character might be mapped to a different EUDC in the destination code page, or it might be mapped as an undefined character.</span></span> <span data-ttu-id="24c48-126">Del mismo modo, la asignación de una cadena Unicode a una página de códigos que tiene un intervalo de EUDC puede tener resultados imprevistos.</span><span class="sxs-lookup"><span data-stu-id="24c48-126">Similarly, mapping a Unicode string to a code page that has an EUDC range can have unintended results.</span></span> <span data-ttu-id="24c48-127">Si la cadena Unicode contiene un punto de código PUA, es posible que el punto de código se asigne a un EUDC que no represente el mismo carácter.</span><span class="sxs-lookup"><span data-stu-id="24c48-127">If the Unicode string contains a PUA code point, it is possible that the code point will be mapped to an EUDC that does not represent the same character.</span></span>

<span data-ttu-id="24c48-128">Las aplicaciones pueden comparar cadenas DBCS que contienen EUDCs con la versión ANSI de la función [CompareString](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) .</span><span class="sxs-lookup"><span data-stu-id="24c48-128">Applications can compare DBCS strings that contain EUDCs by using the ANSI version of the [CompareString](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) function.</span></span> <span data-ttu-id="24c48-129">La función asigna de forma eficaz los caracteres a Unicode antes de comparar los valores de caracteres.</span><span class="sxs-lookup"><span data-stu-id="24c48-129">The function effectively maps the characters to Unicode before comparing character values.</span></span> <span data-ttu-id="24c48-130">Las aplicaciones pueden crear una clave de ordenación para la cadena mediante la versión ANSI de la función [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) y el valor LCMAP de \_ SORTKEY.</span><span class="sxs-lookup"><span data-stu-id="24c48-130">Applications can create a sort key for the string by using the ANSI version of the [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) function and the LCMAP\_SORTKEY value.</span></span> <span data-ttu-id="24c48-131">Esta función asigna realmente caracteres a Unicode primero.</span><span class="sxs-lookup"><span data-stu-id="24c48-131">This function effectively maps characters to Unicode first.</span></span> <span data-ttu-id="24c48-132">Todos los caracteres de PUA se ordenan después de todos los demás caracteres Unicode.</span><span class="sxs-lookup"><span data-stu-id="24c48-132">All characters in the PUA are sorted after all other Unicode characters.</span></span> <span data-ttu-id="24c48-133">Dentro del área, los caracteres se ordenan en orden numérico.</span><span class="sxs-lookup"><span data-stu-id="24c48-133">Within the area, characters are sorted in numerical order.</span></span> <span data-ttu-id="24c48-134">Si una aplicación intenta recuperar información de CTYPE para un EUDC mediante la función [GetStringTypeA](/windows/desktop/api/Winnls/nf-winnls-getstringtypea) , la función recupera **null** para cada carácter.</span><span class="sxs-lookup"><span data-stu-id="24c48-134">If an application attempts to retrieve CTYPE information for an EUDC by using the [GetStringTypeA](/windows/desktop/api/Winnls/nf-winnls-getstringtypea) function, the function retrieves **NULL** for each character.</span></span>

## <a name="related-topics"></a><span data-ttu-id="24c48-135">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="24c48-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="24c48-136">Usar Unicode y juegos de caracteres</span><span class="sxs-lookup"><span data-stu-id="24c48-136">Using Unicode and Character Sets</span></span>](using-unicode-and-character-sets.md)
</dt> </dl>

 

 
