---
description: Una matriz m&\# 215; n es un conjunto de números organizados en m filas y n columnas. En la ilustración siguiente se muestran varias matrices.
ms.assetid: 62215ae0-b095-42b2-911c-aa7607a8b61a
title: Representación matricial de transformaciones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0577cae38c401e842cff2ff14179594f9118dfd2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103809650"
---
# <a name="matrix-representation-of-transformations"></a><span data-ttu-id="b3eae-104">Representación matricial de transformaciones</span><span class="sxs-lookup"><span data-stu-id="b3eae-104">Matrix Representation of Transformations</span></span>

<span data-ttu-id="b3eae-105">Una matriz *m × n* es un conjunto de números organizados en *m* filas y *n* columnas.</span><span class="sxs-lookup"><span data-stu-id="b3eae-105">An *m×n* matrix is a set of numbers arranged in *m* rows and *n* columns.</span></span> <span data-ttu-id="b3eae-106">En la ilustración siguiente se muestran varias matrices.</span><span class="sxs-lookup"><span data-stu-id="b3eae-106">The following illustration shows several matrices.</span></span>

![Ilustración que muestra seis matrices de dimensiones variables](images/aboutgdip05-art04.png)

<span data-ttu-id="b3eae-108">Puede agregar dos matrices del mismo tamaño agregando elementos individuales.</span><span class="sxs-lookup"><span data-stu-id="b3eae-108">You can add two matrices of the same size by adding individual elements.</span></span> <span data-ttu-id="b3eae-109">En la siguiente ilustración se muestran dos ejemplos de adición de matrices.</span><span class="sxs-lookup"><span data-stu-id="b3eae-109">The following illustration shows two examples of matrix addition.</span></span>

![Ilustración que muestra cómo realizar la adición de matrices](images/aboutgdip05-art05.png)

<span data-ttu-id="b3eae-111">Una matriz *m × n* se puede multiplicar por una matriz *n × p* y el resultado es una matriz *m × p* .</span><span class="sxs-lookup"><span data-stu-id="b3eae-111">An *m×n* matrix can be multiplied by an *n×p* matrix, and the result is an *m×p* matrix.</span></span> <span data-ttu-id="b3eae-112">El número de columnas de la primera matriz debe ser el mismo que el número de filas de la segunda matriz.</span><span class="sxs-lookup"><span data-stu-id="b3eae-112">The number of columns in the first matrix must be the same as the number of rows in the second matrix.</span></span> <span data-ttu-id="b3eae-113">Por ejemplo, una matriz de 4 × 2 se puede multiplicar por una matriz de 2 × 3 para generar una matriz de 4 × 3.</span><span class="sxs-lookup"><span data-stu-id="b3eae-113">For example, a 4 ×2 matrix can be multiplied by a 2 ×3 matrix to produce a 4 ×3 matrix.</span></span>

<span data-ttu-id="b3eae-114">Los puntos del plano y las filas y columnas de una matriz pueden considerarse como vectores.</span><span class="sxs-lookup"><span data-stu-id="b3eae-114">Points in the plane and rows and columns of a matrix can be thought of as vectors.</span></span> <span data-ttu-id="b3eae-115">Por ejemplo, (2,5) es un vector con dos componentes, y (3, 7, 1) es un vector con tres componentes.</span><span class="sxs-lookup"><span data-stu-id="b3eae-115">For example, (2, 5) is a vector with two components, and (3, 7, 1) is a vector with three components.</span></span> <span data-ttu-id="b3eae-116">El producto de punto de dos vectores se define de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="b3eae-116">The dot product of two vectors is defined as follows:</span></span>

<span data-ttu-id="b3eae-117">(a, b) • (c, d) = AC + BD</span><span class="sxs-lookup"><span data-stu-id="b3eae-117">(a, b) • (c, d) = ac + bd</span></span>

<span data-ttu-id="b3eae-118">(a, b, c) • (d, e, f) = ad + ser + CF</span><span class="sxs-lookup"><span data-stu-id="b3eae-118">(a, b, c) • (d, e, f) = ad + be + cf</span></span>

<span data-ttu-id="b3eae-119">Por ejemplo, el producto DOT de (2, 3) y (5, 4) es (2) (5) + (3) (4) = 22.</span><span class="sxs-lookup"><span data-stu-id="b3eae-119">For example, the dot product of (2, 3) and (5, 4) is (2)(5) + (3)(4) = 22.</span></span> <span data-ttu-id="b3eae-120">El producto de punto de (2, 5, 1) y (4, 3, 1) es (2) (4) + (5) (3) + (1) (1) = 24.</span><span class="sxs-lookup"><span data-stu-id="b3eae-120">The dot product of (2, 5, 1) and (4, 3, 1) is (2)(4) + (5)(3) + (1)(1) = 24.</span></span> <span data-ttu-id="b3eae-121">Tenga en cuenta que el producto de punto de dos vectores es un número, no otro vector.</span><span class="sxs-lookup"><span data-stu-id="b3eae-121">Note that the dot product of two vectors is a number, not another vector.</span></span> <span data-ttu-id="b3eae-122">Tenga en cuenta también que puede calcular el producto DOT solo si los dos vectores tienen el mismo número de componentes.</span><span class="sxs-lookup"><span data-stu-id="b3eae-122">Also note that you can calculate the dot product only if the two vectors have the same number of components.</span></span>

<span data-ttu-id="b3eae-123">Permita A (i, j) ser la entrada en la matriz A de la **fila i** y **la columna j** .</span><span class="sxs-lookup"><span data-stu-id="b3eae-123">Let A(i, j) be the entry in matrix A in the i **th** row and the j **th** column.</span></span> <span data-ttu-id="b3eae-124">Por ejemplo, A (3, 2) es la entrada de la matriz A en la fila de 3 **Rd** y la columna 2 **ND** .</span><span class="sxs-lookup"><span data-stu-id="b3eae-124">For example A(3, 2) is the entry in matrix A in the 3 **rd** row and the 2 **nd** column.</span></span> <span data-ttu-id="b3eae-125">Suponga que A, B y C son matrices y AB = C. Las entradas de C se calculan de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="b3eae-125">Suppose A, B, and C are matrices, and AB = C. The entries of C are calculated as follows:</span></span>

<span data-ttu-id="b3eae-126">C (i, j) = (fila i de A) • (columna j de B)</span><span class="sxs-lookup"><span data-stu-id="b3eae-126">C(i, j) = (row i of A) • (column j of B)</span></span>

<span data-ttu-id="b3eae-127">En la ilustración siguiente se muestran varios ejemplos de multiplicación de matrices.</span><span class="sxs-lookup"><span data-stu-id="b3eae-127">The following illustration shows several examples of matrix multiplication.</span></span>

![Ilustración que muestra cómo realizar la multiplicación de matrices](images/aboutgdip05-art06.png)

<span data-ttu-id="b3eae-129">Si piensa en un punto del plano como una matriz de 1 × 2, puede transformar ese punto multiplicándolo por una matriz de 2 × 2.</span><span class="sxs-lookup"><span data-stu-id="b3eae-129">If you think of a point in the plane as a 1 × 2 matrix, you can transform that point by multiplying it by a 2 × 2 matrix.</span></span> <span data-ttu-id="b3eae-130">En la ilustración siguiente se muestran varias transformaciones aplicadas al punto (2, 1).</span><span class="sxs-lookup"><span data-stu-id="b3eae-130">The following illustration shows several transformations applied to the point (2, 1).</span></span>

![Ilustración que muestra cómo usar la multiplicación de matrices para escalar, girar o reflejar un punto en un plano](images/aboutgdip05-art07.png)

<span data-ttu-id="b3eae-132">Todas las transformaciones que se muestran en la ilustración anterior son transformaciones lineales.</span><span class="sxs-lookup"><span data-stu-id="b3eae-132">All the transformations shown in the previous figure are linear transformations.</span></span> <span data-ttu-id="b3eae-133">Algunas otras transformaciones, como la traslación, no son lineales y no se pueden expresar como multiplicación por una matriz de 2 × 2.</span><span class="sxs-lookup"><span data-stu-id="b3eae-133">Certain other transformations, such as translation, are not linear, and cannot be expressed as multiplication by a 2 × 2 matrix.</span></span> <span data-ttu-id="b3eae-134">Supongamos que desea empezar con el punto (2, 1), girarlo 90 grados, traducir 3 unidades en la dirección x y traducir 4 unidades en la dirección y.</span><span class="sxs-lookup"><span data-stu-id="b3eae-134">Suppose you want to start with the point (2, 1), rotate it 90 degrees, translate it 3 units in the x direction, and translate it 4 units in the y direction.</span></span> <span data-ttu-id="b3eae-135">Para ello, puede realizar una multiplicación de matrices seguida de una suma de matriz.</span><span class="sxs-lookup"><span data-stu-id="b3eae-135">You can accomplish this by performing a matrix multiplication followed by a matrix addition.</span></span>

![Ilustración que muestra cómo la multiplicación y la suma de las matrices pueden girar un punto y convertirlo dos veces](images/aboutgdip05-art08.png)

<span data-ttu-id="b3eae-137">Una transformación lineal (multiplicación por una matriz de 2 × 2) seguida de una traducción (adición de una matriz 1 × 2) se denomina transformación afín.</span><span class="sxs-lookup"><span data-stu-id="b3eae-137">A linear transformation (multiplication by a 2 × 2 matrix) followed by a translation (addition of a 1 × 2 matrix) is called an affine transformation.</span></span> <span data-ttu-id="b3eae-138">Una alternativa al almacenamiento de una transformación afín en un par de matrices (una para la parte lineal y otra para la traducción) es almacenar toda la transformación en una matriz de 3 × 3.</span><span class="sxs-lookup"><span data-stu-id="b3eae-138">An alternative to storing an affine transformation in a pair of matrices (one for the linear part and one for the translation) is to store the entire transformation in a 3 × 3 matrix.</span></span> <span data-ttu-id="b3eae-139">Para realizar este trabajo, un punto del plano debe almacenarse en una matriz de 1 × 3 con una tercera coordenada ficticia.</span><span class="sxs-lookup"><span data-stu-id="b3eae-139">To make this work, a point in the plane must be stored in a 1 × 3 matrix with a dummy 3rd coordinate.</span></span> <span data-ttu-id="b3eae-140">La técnica habitual es hacer que todas las coordenadas de terceras sean iguales a 1.</span><span class="sxs-lookup"><span data-stu-id="b3eae-140">The usual technique is to make all 3rd coordinates equal to 1.</span></span> <span data-ttu-id="b3eae-141">Por ejemplo, el punto (2, 1) se representa mediante la matriz \[ 2 1 1 \] .</span><span class="sxs-lookup"><span data-stu-id="b3eae-141">For example, the point (2, 1) is represented by the matrix \[2 1 1\].</span></span> <span data-ttu-id="b3eae-142">En la ilustración siguiente se muestra una transformación afín (gire 90 grados; traduzca 3 unidades en la dirección x, 4 unidades en la dirección y) expresadas como multiplicación por una sola matriz de 3 × 3.</span><span class="sxs-lookup"><span data-stu-id="b3eae-142">The following illustration shows an affine transformation (rotate 90 degrees; translate 3 units in the x direction, 4 units in the y direction) expressed as multiplication by a single 3 × 3 matrix.</span></span>

![Ilustración que muestra cómo la multiplicación de matrices puede realizar una transformación afín](images/aboutgdip05-art09.png)

<span data-ttu-id="b3eae-144">En el ejemplo anterior, el punto (2, 1) se asigna al punto (2, 6).</span><span class="sxs-lookup"><span data-stu-id="b3eae-144">In the previous example, the point (2, 1) is mapped to the point (2, 6).</span></span> <span data-ttu-id="b3eae-145">Tenga en cuenta que la tercera columna de la matriz 3 × 3 contiene los números 0, 0, 1.</span><span class="sxs-lookup"><span data-stu-id="b3eae-145">Note that the third column of the 3 × 3 matrix contains the numbers 0, 0, 1.</span></span> <span data-ttu-id="b3eae-146">Siempre será el caso de la matriz 3 × 3 de una transformación afín.</span><span class="sxs-lookup"><span data-stu-id="b3eae-146">This will always be the case for the 3 × 3 matrix of an affine transformation.</span></span> <span data-ttu-id="b3eae-147">Los números importantes son los seis números en las columnas 1 y 2.</span><span class="sxs-lookup"><span data-stu-id="b3eae-147">The important numbers are the six numbers in columns 1 and 2.</span></span> <span data-ttu-id="b3eae-148">La parte superior izquierda 2 × 2 de la matriz representa la parte lineal de la transformación y las dos primeras entradas de la tercera fila representan la traducción.</span><span class="sxs-lookup"><span data-stu-id="b3eae-148">The upper-left 2 × 2 portion of the matrix represents the linear part of the transformation, and the first two entries in the 3rd row represent the translation.</span></span>

![Ilustración que muestra que las dos primeras columnas son más importantes para una matriz de 3x3 de una transformación afín](images/aboutgdip05-art10.png)

<span data-ttu-id="b3eae-150">En GDI+ de Windows, puede almacenar una transformación afín en un objeto de [**matriz**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) .</span><span class="sxs-lookup"><span data-stu-id="b3eae-150">In Windows GDI+ you can store an affine transformation in a [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span> <span data-ttu-id="b3eae-151">Dado que la tercera columna de una matriz que representa una transformación afín siempre es (0, 0, 1), solo se especifican los seis números de las dos primeras columnas al construir un objeto de **matriz** .</span><span class="sxs-lookup"><span data-stu-id="b3eae-151">Because the third column of a matrix that represents an affine transformation is always (0, 0, 1), you specify only the six numbers in the first two columns when you construct a **Matrix** object.</span></span> <span data-ttu-id="b3eae-152">La instrucción `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` crea la matriz mostrada en la ilustración anterior.</span><span class="sxs-lookup"><span data-stu-id="b3eae-152">The statement `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` constructs the matrix shown in the previous figure.</span></span>

## <a name="composite-transformations"></a><span data-ttu-id="b3eae-153">Transformaciones compuestas</span><span class="sxs-lookup"><span data-stu-id="b3eae-153">Composite Transformations</span></span>

<span data-ttu-id="b3eae-154">Una transformación compuesta es una secuencia de transformaciones, una seguida de la otra.</span><span class="sxs-lookup"><span data-stu-id="b3eae-154">A composite transformation is a sequence of transformations, one followed by the other.</span></span> <span data-ttu-id="b3eae-155">Tenga en cuenta las matrices y las transformaciones en la lista siguiente:</span><span class="sxs-lookup"><span data-stu-id="b3eae-155">Consider the matrices and transformations in the following list:</span></span>

-   <span data-ttu-id="b3eae-156">Matriz A gira 90 grados</span><span class="sxs-lookup"><span data-stu-id="b3eae-156">Matrix A    Rotate 90 degrees</span></span>
-   <span data-ttu-id="b3eae-157">Escala de la matriz B en un factor de 2 en la dirección x</span><span class="sxs-lookup"><span data-stu-id="b3eae-157">Matrix B    Scale by a factor of 2 in the x direction</span></span>
-   <span data-ttu-id="b3eae-158">La matriz C traduce 3 unidades en la dirección y</span><span class="sxs-lookup"><span data-stu-id="b3eae-158">Matrix C    Translate 3 units in the y direction</span></span>

<span data-ttu-id="b3eae-159">Si empieza con el punto (2, 1) (representado por la matriz \[ 2 1 1) \] y multiplica por a, entonces B y después a C, el punto (2, 1) se someterá a las tres transformaciones en el orden mostrado.</span><span class="sxs-lookup"><span data-stu-id="b3eae-159">If you start with the point (2, 1) — represented by the matrix \[2 1 1\] — and multiply by A, then B, then C, the point (2,1) will undergo the three transformations in the order listed.</span></span>

<span data-ttu-id="b3eae-160">\[2 1 1 \] ABC = \[ – 2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="b3eae-160">\[2 1 1\]ABC = \[ –2 5 1\]</span></span>

<span data-ttu-id="b3eae-161">En lugar de almacenar las tres partes de la transformación compuesta en tres matrices independientes, puede multiplicar A, B y C a la vez para obtener una sola matriz de 3 × 3 que almacena toda la transformación compuesta.</span><span class="sxs-lookup"><span data-stu-id="b3eae-161">Rather than store the three parts of the composite transformation in three separate matrices, you can multiply A, B, and C together to get a single 3 × 3 matrix that stores the entire composite transformation.</span></span> <span data-ttu-id="b3eae-162">Supongamos que es ABC = D. Después, un punto multiplicado por D proporciona el mismo resultado que un punto multiplicado por a, a continuación, B y después a C.</span><span class="sxs-lookup"><span data-stu-id="b3eae-162">Suppose ABC = D. Then a point multiplied by D gives the same result as a point multiplied by A, then B, then C.</span></span>

<span data-ttu-id="b3eae-163">\[2 1 1 \] D = \[ – 2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="b3eae-163">\[2 1 1\]D = \[ –2 5 1\]</span></span>

<span data-ttu-id="b3eae-164">En la ilustración siguiente se muestran las matrices A, B, C y D.</span><span class="sxs-lookup"><span data-stu-id="b3eae-164">The following illustration shows the matrices A, B, C, and D.</span></span>

![Ilustración que muestra cómo realizar varias transformaciones multiplicando las matrices constituyentes](images/aboutgdip05-art12.png)

<span data-ttu-id="b3eae-166">El hecho de que se pueda formar la matriz de una transformación compuesta multiplicando las matrices de transformación individuales significa que cualquier secuencia de transformaciones afines puede almacenarse en un objeto de [**matriz**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) único.</span><span class="sxs-lookup"><span data-stu-id="b3eae-166">The fact that the matrix of a composite transformation can be formed by multiplying the individual transformation matrices means that any sequence of affine transformations can be stored in a single [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span>

> [!Note]  
> <span data-ttu-id="b3eae-167">El orden de una transformación compuesta es importante.</span><span class="sxs-lookup"><span data-stu-id="b3eae-167">The order of a composite transformation is important.</span></span> <span data-ttu-id="b3eae-168">En general, gire, después escale y, a continuación, translate no es lo mismo que Scale, después Rotate y, después, translate.</span><span class="sxs-lookup"><span data-stu-id="b3eae-168">In general, rotate, then scale, then translate is not the same as scale, then rotate, then translate.</span></span> <span data-ttu-id="b3eae-169">Del mismo modo, es importante el orden de multiplicación de la matriz.</span><span class="sxs-lookup"><span data-stu-id="b3eae-169">Similarly, the order of matrix multiplication is important.</span></span> <span data-ttu-id="b3eae-170">En general, ABC no es lo mismo que CPF.</span><span class="sxs-lookup"><span data-stu-id="b3eae-170">In general, ABC is not the same as BAC.</span></span>

 

<span data-ttu-id="b3eae-171">La clase [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) proporciona varios métodos para crear una transformación compuesta: [**Matrix:: Multiply**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix:: Rotate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix:: RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix:: scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix:: cizalla**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear)y [**Matrix:: translate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span><span class="sxs-lookup"><span data-stu-id="b3eae-171">The [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) class provides several methods for building a composite transformation: [**Matrix::Multiply**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix::Rotate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix::RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix::Scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix::Shear**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear), and [**Matrix::Translate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span></span> <span data-ttu-id="b3eae-172">En el ejemplo siguiente se crea la matriz de una transformación compuesta que primero gira 30 grados, después se escala por un factor de 2 en la dirección y y, a continuación, convierte 5 unidades en la dirección x.</span><span class="sxs-lookup"><span data-stu-id="b3eae-172">The following example creates the matrix of a composite transformation that first rotates 30 degrees, then scales by a factor of 2 in the y direction, and then translates 5 units in the x direction.</span></span>


```
Matrix myMatrix;
myMatrix.Rotate(30.0f);
myMatrix.Scale(1.0f, 2.0f, MatrixOrderAppend);
myMatrix.Translate(5.0f, 0.0f, MatrixOrderAppend);
```



<span data-ttu-id="b3eae-173">En la ilustración siguiente se muestra la matriz.</span><span class="sxs-lookup"><span data-stu-id="b3eae-173">The following illustration shows the matrix.</span></span>

![Ilustración en la que se muestra una matriz con valores expresados como funciones trigonométricas y una matriz con valores aproximados de esas funciones.](images/aboutgdip05-art13.png)

 

 



