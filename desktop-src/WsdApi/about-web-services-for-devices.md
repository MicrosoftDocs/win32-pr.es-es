---
description: El servicio Web de la API de dispositivos (WSDAPI) es una implementación del perfil de dispositivos para servicios web (DPWS) para Windows Vista y Windows Server 2008.
ms.assetid: 8eaeacb3-43db-4a57-8548-e5b81213269c
title: Acerca de los servicios web en dispositivos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dca7f7dc97dabd3dde7af12f3cece992b4f0ef6d
ms.sourcegitcommit: 5b98bf8c68922f8f03c14f793fbe17504900559c
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/12/2021
ms.locfileid: "103914018"
---
# <a name="about-web-services-on-devices"></a><span data-ttu-id="c487f-103">Acerca de los servicios web en dispositivos</span><span class="sxs-lookup"><span data-stu-id="c487f-103">About Web Services on Devices</span></span>

<span data-ttu-id="c487f-104">El servicio Web de la API de dispositivos (WSDAPI) es una implementación del [Perfil de dispositivos para servicios web](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) para Windows Vista y windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="c487f-104">Web Service on Devices API (WSDAPI) is an implementation of the [Devices Profile for Web Services](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) for Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="c487f-105">DPWS restringe las especificaciones de los servicios web para que los clientes puedan detectar fácilmente los dispositivos.</span><span class="sxs-lookup"><span data-stu-id="c487f-105">The DPWS constrains Web Services specifications so clients can easily discover devices.</span></span> <span data-ttu-id="c487f-106">Una vez que se detecta un dispositivo, un cliente puede recuperar una descripción de los servicios hospedados en ese dispositivo y usar esos servicios.</span><span class="sxs-lookup"><span data-stu-id="c487f-106">Once a device is discovered, a client can retrieve a description of services hosted on that device and use those services.</span></span>

## <a name="devices-and-services"></a><span data-ttu-id="c487f-107">Dispositivos y servicios</span><span class="sxs-lookup"><span data-stu-id="c487f-107">Devices and Services</span></span>

<span data-ttu-id="c487f-108">Los *dispositivos* son componentes, normalmente hardware, que están conectados a la red.</span><span class="sxs-lookup"><span data-stu-id="c487f-108">*Devices* are components, usually hardware, which are attached to the network.</span></span> <span data-ttu-id="c487f-109">Algunos ejemplos son las impresoras, las cámaras Web y los sistemas de vídeo.</span><span class="sxs-lookup"><span data-stu-id="c487f-109">Examples include printers, Web cameras, and video systems.</span></span>

<span data-ttu-id="c487f-110">Los dispositivos pueden incluir cero o más *servicios*.</span><span class="sxs-lookup"><span data-stu-id="c487f-110">Devices may include zero or more *services*.</span></span> <span data-ttu-id="c487f-111">Por ejemplo, un dispositivo de vídeo puede incluir servicios que admiten el encendido y apagado, el control de reproducción, la extracción multimedia y el streaming de vídeo.</span><span class="sxs-lookup"><span data-stu-id="c487f-111">For example, a video device may include services that support power on and off, play control, media ejection, and video streaming.</span></span> <span data-ttu-id="c487f-112">El control de reproducción puede admitir acciones como reproducir, pausar, rebobinar y avance rápido.</span><span class="sxs-lookup"><span data-stu-id="c487f-112">Play control may support actions such as play, pause, rewind, and fast forward.</span></span>

## <a name="discovering-and-manipulating-a-device"></a><span data-ttu-id="c487f-113">Detección y manipulación de un dispositivo</span><span class="sxs-lookup"><span data-stu-id="c487f-113">Discovering and Manipulating a Device</span></span>

<span data-ttu-id="c487f-114">WSDAPI amplía el modelo de Plug and Play local permitiendo que un cliente detecte y acceda a un dispositivo remoto y sus servicios asociados a través de una red.</span><span class="sxs-lookup"><span data-stu-id="c487f-114">WSDAPI extends the local Plug and Play model by allowing a client to discover and access a remote device and its associated services across a network.</span></span> <span data-ttu-id="c487f-115">Admite la detección, la mensajería de control unidireccional y bidireccional, y el evento.</span><span class="sxs-lookup"><span data-stu-id="c487f-115">It supports discovery, one-way and two-way control messaging, and eventing.</span></span>

![Diagrama que muestra cómo WSDAPI permite a un cliente detectar y tener acceso a un dispositivo remoto.](images/overview01.png)

<span data-ttu-id="c487f-117">Los dispositivos DPWS anuncian su presencia y exponen servicios (si existen) mediante una dirección única y un conjunto normalizado de mensajes XML.</span><span class="sxs-lookup"><span data-stu-id="c487f-117">DPWS devices announce their presence and expose services (if any) using a unique address and a standardized set of XML messages.</span></span> <span data-ttu-id="c487f-118">Los clientes de DPWS pueden usar el proceso de detección para buscar el dispositivo, enumerar sus servicios y conectarse a esos servicios para realizar acciones específicas.</span><span class="sxs-lookup"><span data-stu-id="c487f-118">DPWS clients can use the discovery process to find the device, enumerate its services, and connect to those services to perform specific actions.</span></span>

<span data-ttu-id="c487f-119">Un cliente WSDAPI primero consulta el dispositivo para obtener descripciones completas de sus servicios, incluidos los tipos de servicio (como un tipo de servicio de impresora o un tipo de servicio de analizador).</span><span class="sxs-lookup"><span data-stu-id="c487f-119">A WSDAPI client first queries the device for complete descriptions of its services, including the service types (such as a printer service type or a scanner service type).</span></span> <span data-ttu-id="c487f-120">A continuación, el cliente controla el dispositivo mediante una llamada a comandos definidos por un tipo de servicio (por ejemplo, mediante una llamada a **CreatePrintJob** en un dispositivo con un tipo de servicio de impresora).</span><span class="sxs-lookup"><span data-stu-id="c487f-120">The client then controls the device by calling commands defined by a service type (for example, by calling **CreatePrintJob** on a device with a printer service type).</span></span> <span data-ttu-id="c487f-121">Opcionalmente, el cliente también puede supervisar los cambios de estado en cada servicio suscribiéndose a los eventos que se producen durante la ejecución del comando.</span><span class="sxs-lookup"><span data-stu-id="c487f-121">Optionally, the client can also monitor state changes in each service by subscribing to events that occur during command execution.</span></span>

![Diagrama que muestra cómo un cliente de WSDAPI consulta e interactúa con un dispositivo.](images/netdevice01.png)

<span data-ttu-id="c487f-123">Para obtener más información acerca de los patrones de mensajería de dispositivos, consulte [patrones de mensajes de intercambio de metadatos y detección](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="c487f-123">For more information about device messaging patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

## <a name="logical-and-physical-addressing"></a><span data-ttu-id="c487f-124">Direcciones lógicas y físicas</span><span class="sxs-lookup"><span data-stu-id="c487f-124">Logical and Physical Addressing</span></span>

<span data-ttu-id="c487f-125">El direccionamiento lógico se usa para identificar de forma exclusiva los dispositivos independientes de sus direcciones físicas.</span><span class="sxs-lookup"><span data-stu-id="c487f-125">Logical addressing is used to uniquely identify devices independent of their physical addresses.</span></span> <span data-ttu-id="c487f-126">WS-Discovery proporciona un mecanismo para resolver direcciones lógicas en direcciones físicas, lo que permite que se lleve a cabo la mensajería de cliente a dispositivo.</span><span class="sxs-lookup"><span data-stu-id="c487f-126">WS-Discovery provides a mechanism to resolve logical addresses into physical addresses, allowing client-to-device messaging to take place.</span></span> <span data-ttu-id="c487f-127">Un ejemplo es el almacenamiento conectado a la red (NAS) que le lleva.</span><span class="sxs-lookup"><span data-stu-id="c487f-127">An example is network attached storage (NAS) that you carry with you.</span></span> <span data-ttu-id="c487f-128">Si tiene un portátil y un NAS, el portátil debe ser capaz de reconocer que es el mismo dispositivo, independientemente de la dirección física (dirección IP) que el NAS obtiene a medida que se mueve entre subredes.</span><span class="sxs-lookup"><span data-stu-id="c487f-128">If you have a laptop and a NAS, your laptop should be able to recognize that it is the same device, regardless of the physical address (IP address) that the NAS obtains as you move between subnets.</span></span> <span data-ttu-id="c487f-129">Para ello, es necesario que el dispositivo tenga una identidad que sea independiente de la dirección IP que obtenga; Dado que los mecanismos tradicionales como DNS no están disponibles en un escenario de itinerancia normal, WS-Addressing y WS-Discovery proporcionan direccionamiento lógico y resolución como alternativa ad hoc.</span><span class="sxs-lookup"><span data-stu-id="c487f-129">Accomplishing this requires the device have identity that is independent of the IP address it obtains; since traditional mechanisms like DNS are not available in a normal roaming scenario, WS-Addressing and WS-Discovery provide logical addressing and resolution as an ad-hoc alternative.</span></span>

<span data-ttu-id="c487f-130">Cuando se fabrica un dispositivo, se le asigna un identificador único global, que se representa como un URI de UUID.</span><span class="sxs-lookup"><span data-stu-id="c487f-130">When a device is manufactured, it is given a globally unique identifier, represented as a UUID URI.</span></span> <span data-ttu-id="c487f-131">Este identificador nunca cambiará para el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="c487f-131">This identifier will never change for the device.</span></span> <span data-ttu-id="c487f-132">Cuando el dispositivo se enciende, siempre anunciará su dirección lógica a través de un mensaje de WS-Discovery [Hello](hello-message.md) y aceptará solicitudes para convertirlos en una dirección física (normalmente http) a través de WS-Discovery mensajes de [sondeo](probe-message.md) o de [resolución](resolve-message.md) .</span><span class="sxs-lookup"><span data-stu-id="c487f-132">When the device is powered on, it will always announce its logical address via a WS-Discovery [Hello](hello-message.md) message, and will accept requests to convert that to a physical address (typically HTTP) via WS-Discovery [Resolve](resolve-message.md) or [Probe](probe-message.md) messages.</span></span> <span data-ttu-id="c487f-133">Una vez que se obtiene una dirección física (dirección IP) válida, toda la mensajería se realiza a través de esa dirección y WS-Discovery se usa solo si cambia la dirección, el dispositivo cambia de estado y los clientes deben recibir una notificación, o el dispositivo se queda sin conexión.</span><span class="sxs-lookup"><span data-stu-id="c487f-133">Once a valid physical address (IP address) is obtained, all messaging happens over that address, and WS-Discovery is used only if the address changes, the device changes state and the clients need to be notified, or the device goes offline.</span></span>

## <a name="building-applications"></a><span data-ttu-id="c487f-134">Creación de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="c487f-134">Building Applications</span></span>

<span data-ttu-id="c487f-135">WSDAPI proporciona una pila SOAP DPWS genérica para su uso por parte de aplicaciones de cliente y de servicio.</span><span class="sxs-lookup"><span data-stu-id="c487f-135">WSDAPI provides a generic DPWS SOAP stack for use by client and service applications.</span></span> <span data-ttu-id="c487f-136">El [generador de código de servicios web en dispositivos](web-services-for-devices-code-generator.md) (WsdCodeGen.exe) se puede usar para convertir una descripción del servicio (WSDL) en código auxiliar y proxy que las aplicaciones pueden llamar directamente.</span><span class="sxs-lookup"><span data-stu-id="c487f-136">The [Web Services on Devices Code Generator](web-services-for-devices-code-generator.md) (WsdCodeGen.exe) can be used to convert a service description (WSDL) into proxy and stub code that applications can call directly.</span></span> <span data-ttu-id="c487f-137">Este código generado transforma automáticamente las llamadas a funciones y los parámetros en los mensajes SOAP y los campos XML y, a continuación, llama a WSDAPI para emitir solicitudes al cliente o dispositivo remoto.</span><span class="sxs-lookup"><span data-stu-id="c487f-137">This generated code automatically transforms function calls and parameters into SOAP messages and XML fields, and then calls into WSDAPI to issue to requests to the remote device or client.</span></span>

<span data-ttu-id="c487f-138">La detección de funciones se puede usar al compilar aplicaciones de WSDAPI para crear y activar instancias de función devueltas por PnP.</span><span class="sxs-lookup"><span data-stu-id="c487f-138">Function Discovery can be used when building WSDAPI applications to create and activate function instances returned by PnP.</span></span> <span data-ttu-id="c487f-139">Estas instancias de función contienen datos que se pueden usar para obtener más información a través de las API de PnP cuando se requiere algo más que simplemente la detección simple.</span><span class="sxs-lookup"><span data-stu-id="c487f-139">These function instances contain data that can be used to obtain more information through the PnP APIs when more than just simple discovery is required.</span></span> <span data-ttu-id="c487f-140">Para obtener más información, vea [detección de funciones](/previous-versions/windows/desktop/fundisc/fd-portal) y [PnP-X](/previous-versions/windows/desktop/fundisc/pnp-x).</span><span class="sxs-lookup"><span data-stu-id="c487f-140">For more information, see [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) and [PnP-X](/previous-versions/windows/desktop/fundisc/pnp-x).</span></span>

## <a name="related-topics"></a><span data-ttu-id="c487f-141">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c487f-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c487f-142">Patrones de mensajes de intercambio de metadatos y detección</span><span class="sxs-lookup"><span data-stu-id="c487f-142">Discovery and Metadata Exchange Message Patterns</span></span>](discovery-and-metadata-exchange-message-patterns.md)
</dt> <dt>

[<span data-ttu-id="c487f-143">Compatibilidad con la especificación WSDAPI</span><span class="sxs-lookup"><span data-stu-id="c487f-143">WSDAPI Specification Compliance</span></span>](wsdapi-specification-compliance.md)
</dt> <dt>

[<span data-ttu-id="c487f-144">Información general de las interfaces de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="c487f-144">Overview of the WSDAPI Interfaces</span></span>](overview-of-the-wsdapi-interfaces.md)
</dt> </dl>

 

 
