---
title: Desactivar la seguridad de activación
description: Desactivar la seguridad de activación
ms.assetid: 3474f8ad-f041-4886-ad39-ff0603c5c69e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7da3ebd7cc03d79fc38fbafe3bc652efc3499437
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104421457"
---
# <a name="turning-off-activation-security"></a><span data-ttu-id="c9535-103">Desactivar la seguridad de activación</span><span class="sxs-lookup"><span data-stu-id="c9535-103">Turning Off Activation Security</span></span>

<span data-ttu-id="c9535-104">Normalmente, la activación utiliza la configuración de seguridad predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c9535-104">Normally, activation uses default security settings.</span></span> <span data-ttu-id="c9535-105">Sin embargo, puede controlar la seguridad de activación especificando una estructura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) , que es un miembro de la estructura [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) que se pasa a las funciones de activación.</span><span class="sxs-lookup"><span data-stu-id="c9535-105">However, you can control activation security by specifying a [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure, which is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure that is passed to the activation functions.</span></span> <span data-ttu-id="c9535-106">Si el cliente especifica un nivel de autenticación de la autenticación de RPC \_ C \_ \_ nivel \_ ninguno en la estructura **COAUTHINFO** , no se intenta la autenticación.</span><span class="sxs-lookup"><span data-stu-id="c9535-106">If the client specifies an authentication level of RPC\_C\_AUTHN\_LEVEL\_NONE in the **COAUTHINFO** structure, authentication is not attempted.</span></span> <span data-ttu-id="c9535-107">De lo contrario, se intenta la activación segura y, si se produce un error de autenticación, se produce un error de activación.</span><span class="sxs-lookup"><span data-stu-id="c9535-107">Otherwise, secure activation is attempted, and if authentication fails, activation fails.</span></span>

<span data-ttu-id="c9535-108">Si el cliente no especifica una estructura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) explícita y, en su lugar, establece el puntero en **null**, com intentará autenticar al cliente.</span><span class="sxs-lookup"><span data-stu-id="c9535-108">If the client does not specify an explicit [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure and instead sets the pointer to **NULL**, COM will attempt to authenticate the client.</span></span> <span data-ttu-id="c9535-109">Si no puede autenticar el cliente, COM comprueba el descriptor de seguridad del permiso de inicio para ver si hay una DACL **null** o una ACL que permita el acceso a todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="c9535-109">If it cannot authenticate the client, COM checks the launch permission security descriptor to see whether there is a **NULL** DACL or an ACL that allows access to Everyone.</span></span> <span data-ttu-id="c9535-110">Si esta comprobación se realiza correctamente, se inicia el servidor.</span><span class="sxs-lookup"><span data-stu-id="c9535-110">If this check succeeds, the server is launched.</span></span> <span data-ttu-id="c9535-111">Por lo tanto, incluso si el cliente no especifica una estructura **COAUTHINFO**, puede que tenga lugar una activación no segura cuando el servidor la permita.</span><span class="sxs-lookup"><span data-stu-id="c9535-111">Therefore, even if the client does not specify a **COAUTHINFO** structure, unsecure activation may take place when the server allows it.</span></span>

> [!Note]  
> <span data-ttu-id="c9535-112">Para permitir que los usuarios de red sin autenticar ejecuten una aplicación COM, los roles de aplicación deben incluir el usuario anónimo.</span><span class="sxs-lookup"><span data-stu-id="c9535-112">To allow unauthenticated network users to run a COM application, the application roles must include the Anonymous user.</span></span> <span data-ttu-id="c9535-113">A partir de Windows Server 2003, de forma predeterminada, el usuario anónimo no se incluye en el grupo todos.</span><span class="sxs-lookup"><span data-stu-id="c9535-113">Starting with Windows Server 2003, by default, the Anonymous user is not included in the Everyone group.</span></span>

 

<span data-ttu-id="c9535-114">¿Por qué un cliente podría querer desactivar la seguridad de activación explícitamente aunque se lleve a cabo una activación no segura si el servidor lo permite?</span><span class="sxs-lookup"><span data-stu-id="c9535-114">Why would a client want to turn off activation security explicitly even though unsecure activation will eventually take place if the server allows it?</span></span> <span data-ttu-id="c9535-115">Dado que la desactivación explícita de la seguridad de activación aumenta el rendimiento cuando el cliente no quiere o necesita comprobaciones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="c9535-115">Because explicitly turning off activation security increases performance when the client does not want or need security checks.</span></span>

<span data-ttu-id="c9535-116">Se deben realizar las siguientes acciones para desactivar explícitamente la seguridad de activación:</span><span class="sxs-lookup"><span data-stu-id="c9535-116">The following things must be done to explicitly turn off activation security:</span></span>

-   <span data-ttu-id="c9535-117">El cliente debe especificar un nivel de autenticación de RPC \_ C \_ authn \_ LEVEL \_ None en la estructura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) que sea miembro de la estructura [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) proporcionada a la función de activación.</span><span class="sxs-lookup"><span data-stu-id="c9535-117">The client must specify an authentication level of RPC\_C\_AUTHN\_LEVEL\_NONE in the [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure that is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure supplied to the activation function.</span></span>
-   <span data-ttu-id="c9535-118">El cliente debe especificar un nivel de suplantación de \_ \_ la suplantación de nivel de Imp de RPC C \_ \_ en la estructura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) que sea miembro de la estructura [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) proporcionada a la función de activación.</span><span class="sxs-lookup"><span data-stu-id="c9535-118">The client must specify an impersonation level of RPC\_C\_IMP\_LEVEL\_IMPERSONATE in the [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure that is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure supplied to the activation function.</span></span> <span data-ttu-id="c9535-119">Si no se pasa este valor, obtendrá el servidor de \_ RPC \_ S \_ no disponible.</span><span class="sxs-lookup"><span data-stu-id="c9535-119">If this value is not passed, you will get RPC\_S\_SERVER\_UNAVAILABLE.</span></span>
-   <span data-ttu-id="c9535-120">El servidor debe especificar **todos** **los permisos de inicio predeterminados**.</span><span class="sxs-lookup"><span data-stu-id="c9535-120">The server must specify **Everyone** for **Default Launch Permissions**.</span></span> <span data-ttu-id="c9535-121">La manera recomendada para realizar esta tarea es usar Dcomcnfg.exe como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="c9535-121">The recommended way to perform this task is to use Dcomcnfg.exe as follows:</span></span>
    1.  <span data-ttu-id="c9535-122">Ejecute Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="c9535-122">Run Dcomcnfg.exe.</span></span>
    2.  <span data-ttu-id="c9535-123">En la página **aplicaciones** , seleccione la aplicación que representa el servidor.</span><span class="sxs-lookup"><span data-stu-id="c9535-123">On the **Applications** page, select the application that represents the server.</span></span> <span data-ttu-id="c9535-124">Haga clic en el botón **propiedades** (o haga doble clic en la aplicación seleccionada).</span><span class="sxs-lookup"><span data-stu-id="c9535-124">Click the **Properties** button (or double-click the selected application).</span></span>
    3.  <span data-ttu-id="c9535-125">En la página de propiedades **seguridad** , haga clic en el botón **usar permisos de inicio personalizados** .</span><span class="sxs-lookup"><span data-stu-id="c9535-125">On the **Security** property page, click the **Use Custom Launch Permissions** button.</span></span>
    4.  <span data-ttu-id="c9535-126">Haga clic en el botón **Editar** en el área **permisos de inicio** .</span><span class="sxs-lookup"><span data-stu-id="c9535-126">Click the **Edit** button in the **Launch Permissions** area.</span></span>
    5.  <span data-ttu-id="c9535-127">En el cuadro de diálogo **permisos de valor del registro** , haga clic en el botón **Agregar** .</span><span class="sxs-lookup"><span data-stu-id="c9535-127">In the **Registry Value Permissions** dialog box, click the **Add** button.</span></span>
    6.  <span data-ttu-id="c9535-128">Seleccione la entrada para **todos** en el cuadro de lista.</span><span class="sxs-lookup"><span data-stu-id="c9535-128">Select the entry for **Everyone** in the list box.</span></span>
    7.  <span data-ttu-id="c9535-129">En el cuadro **de lista tipo de acceso** , elija **Permitir inicio**.</span><span class="sxs-lookup"><span data-stu-id="c9535-129">In the **Type of Access** list box, choose **Allow Launch**.</span></span>
    8.  <span data-ttu-id="c9535-130">Haga clic en el botón **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="c9535-130">Click the **OK** button.</span></span>

> [!Note]  
> <span data-ttu-id="c9535-131">En Windows Server 2003, la capacidad de autenticación para la aplicación del sistema COM+ incluye el valor EOAC \_ Disable \_ AAA.</span><span class="sxs-lookup"><span data-stu-id="c9535-131">In Windows Server 2003, the authentication capability for the COM+ system application includes the value EOAC\_DISABLE\_AAA.</span></span> <span data-ttu-id="c9535-132">Este valor, que deshabilita las activaciones de activación como activador (AAA), se utiliza en la llamada a [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) al iniciar la aplicación del sistema.</span><span class="sxs-lookup"><span data-stu-id="c9535-132">This value, which disables activate-as-activator (AAA) activations, is used in the [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) call when launching the system application.</span></span> <span data-ttu-id="c9535-133">Establecer la capacidad de autenticación en EOAC \_ deshabilitar \_ AAA permite que una aplicación que se ejecuta en una cuenta con privilegios (como LocalSystem) ayude a evitar que se use su identidad para iniciar componentes que no son de confianza.</span><span class="sxs-lookup"><span data-stu-id="c9535-133">Setting the authentication capability to EOAC\_DISABLE\_AAA allows an application that runs under a privileged account (such as LocalSystem) to help prevent its identity from being used to launch untrusted components.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="c9535-134">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c9535-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c9535-135">Desactivación de la seguridad de llamadas</span><span class="sxs-lookup"><span data-stu-id="c9535-135">Turning Off Call Security</span></span>](turning-off-call-security.md)
</dt> </dl>

 

 