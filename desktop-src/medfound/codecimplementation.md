---
description: Implementación del códec.
ms.assetid: 5ec23f95-cc7d-4c16-979a-f1d2cc485bb0
title: Implementación de códecs
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 201c0cb46fc61f117c9b45d059b102560986d5b7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103907578"
---
# <a name="codec-implementation"></a><span data-ttu-id="210cd-103">Implementación de códecs</span><span class="sxs-lookup"><span data-stu-id="210cd-103">Codec implementation</span></span>

<span data-ttu-id="210cd-104">Los códecs de Windows Media Audio y vídeo se implementan como objetos COM.</span><span class="sxs-lookup"><span data-stu-id="210cd-104">The Windows Media Audio and Video codecs are implemented as COM objects.</span></span> <span data-ttu-id="210cd-105">Normalmente, un códec se implementa como un par de objetos COM: uno para el codificador y otro para el descodificador.</span><span class="sxs-lookup"><span data-stu-id="210cd-105">Typically, a codec is implemented as a pair of COM objects: one for the encoder and one for the decoder.</span></span> <span data-ttu-id="210cd-106">El codificador tiene un identificador de clase (CLSID) y el descodificador tiene un CLSID diferente.</span><span class="sxs-lookup"><span data-stu-id="210cd-106">The encoder has a class identifier (CLSID) and the decoder has a different CLSID.</span></span> <span data-ttu-id="210cd-107">Por ejemplo, la parte del codificador del códec Windows Media Audio 9 tiene un CLSID representado por la constante **\_ CWMAEncMediaObject CLSID** y la parte del descodificador de ese mismo códec tiene un CLSID representado por la constante **\_ CWMADecMediaObject de CLSID**.</span><span class="sxs-lookup"><span data-stu-id="210cd-107">For example, the encoder portion of the Windows Media Audio 9 codec has a CLSID represented by the constant **CLSID\_CWMAEncMediaObject**, and the decoder portion of that same codec has a CLSID represented by the constant **CLSID\_CWMADecMediaObject**.</span></span>

<span data-ttu-id="210cd-108">En algunos casos, se incluye más de un codificador en un solo objeto COM.</span><span class="sxs-lookup"><span data-stu-id="210cd-108">In some cases, more than one encoder is included in a single COM object.</span></span> <span data-ttu-id="210cd-109">Por ejemplo, el codificador Windows Media Video 9 y el codificador Windows Media Video 9,1 forman parte del mismo objeto COM.</span><span class="sxs-lookup"><span data-stu-id="210cd-109">For example, the Windows Media Video 9 encoder and the Windows Media Video 9.1 encoder are both part of the same COM object.</span></span> <span data-ttu-id="210cd-110">Por consiguiente, ambos tienen el mismo CLSID, que se representa mediante la constante **\_ CWMV9EncMediaObject de CLSID**.</span><span class="sxs-lookup"><span data-stu-id="210cd-110">Consequently, they both have the same CLSID, which is represented by the constant **CLSID\_CWMV9EncMediaObject**.</span></span> <span data-ttu-id="210cd-111">Del mismo modo, algunos objetos COM incluyen más de un descodificador.</span><span class="sxs-lookup"><span data-stu-id="210cd-111">Similarly, some COM objects include more than one decoder.</span></span>

<span data-ttu-id="210cd-112">Cada objeto de codificador o descodificador expone la interfaz [**IMediaObject**](/previous-versions/ms785953%28v%3dvs.85%29) para que el objeto pueda usarse como un objeto multimedia de DirectX (DMO) y la interfaz [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) para que el objeto se pueda usar como una transformación de Media Foundation (MFT).</span><span class="sxs-lookup"><span data-stu-id="210cd-112">Each encoder or decoder object exposes the [**IMediaObject**](/previous-versions/ms785953%28v%3dvs.85%29) interface so that the object can be used as a DirectX Media Object (DMO) and the [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface so that the object can be used as a Media Foundation Transform (MFT).</span></span>

<span data-ttu-id="210cd-113">Para la mayoría de los codificadores, independientemente de si utiliza el codificador como DMO o MFT, debe usar el mismo CLSID para crear una instancia del codificador.</span><span class="sxs-lookup"><span data-stu-id="210cd-113">For most encoders, regardless of whether you use the encoder as a DMO or an MFT, you use the same CLSID to create an instance of the encoder.</span></span> <span data-ttu-id="210cd-114">Por ejemplo, para crear una instancia del codificador Windows Media Video 9, se usa **CLSID \_ CWMV9EncMediaObject**, independientemente de si se piensa usar el codificador como DMO o MFT.</span><span class="sxs-lookup"><span data-stu-id="210cd-114">For example, to create an instance of the Windows Media Video 9 encoder, you use **CLSID\_CWMV9EncMediaObject**, regardless of whether you intend to use the encoder as a DMO or an MFT.</span></span> <span data-ttu-id="210cd-115">De forma similar, para la mayoría de los descodificadores, cada descodificador tiene un único CLSID, independientemente de si usa el descodificador como DMO o MFT.</span><span class="sxs-lookup"><span data-stu-id="210cd-115">Similarly, for most decoders, each decoder has a single CLSID regardless of whether you use the decoder as a DMO or an MFT.</span></span>

> [!Note]  
> <span data-ttu-id="210cd-116">Hay algunas excepciones a la instrucción anterior sobre el uso de un único CLSID para DMO y MFT.</span><span class="sxs-lookup"><span data-stu-id="210cd-116">There are some exceptions to the preceding statement about using a single CLSID for both the DMO and the MFT.</span></span> <span data-ttu-id="210cd-117">Por ejemplo, el descodificador MPEG-4 parte 2 tiene un CLSID cuando actúa como DMO y un CLSID diferente cuando actúa como MFT.</span><span class="sxs-lookup"><span data-stu-id="210cd-117">For example, the MPEG-4 Part 2 decoder has one CLSID when it is acting as a DMO and a different CLSID when it is acting as an MFT.</span></span>

 

<span data-ttu-id="210cd-118">Además de las interfaces principales, cada objeto de codificador o descodificador implementa dos interfaces similares para trabajar con propiedades de códec, **IPropertyBag** y **IPropertyStore**.</span><span class="sxs-lookup"><span data-stu-id="210cd-118">In addition to the core interfaces, each encoder or decoder object implements two similar interfaces for working with codec properties, **IPropertyBag** and **IPropertyStore**.</span></span> <span data-ttu-id="210cd-119">Las versiones anteriores de los objetos encoder y descodificador usaban **IPropertyBag**, que identifica cada propiedad mediante un valor de cadena que contiene un nombre de propiedad.</span><span class="sxs-lookup"><span data-stu-id="210cd-119">Older versions of the encoder and decoder objects used **IPropertyBag**, which identifies each property by a string value containing a property name.</span></span> <span data-ttu-id="210cd-120">**IPropertyStore** es una interfaz más reciente que identifica las propiedades con un valor de clave de propiedad único.</span><span class="sxs-lookup"><span data-stu-id="210cd-120">**IPropertyStore** is a newer interface that identifies properties with a unique property key value.</span></span> <span data-ttu-id="210cd-121">Se ha agregado compatibilidad con **IPropertyStore** para proporcionar compatibilidad con MFTs.</span><span class="sxs-lookup"><span data-stu-id="210cd-121">Support for **IPropertyStore** was added to provide support for MFTs.</span></span> <span data-ttu-id="210cd-122">La mayoría de las cadenas de nombre de propiedad **IPropertyBag** tienen un GUID de clave de propiedad **IPropertyStore** correspondiente y la mayoría de los GUID tienen una cadena de nombre **IPropertyBag** correspondiente, con algunas excepciones.</span><span class="sxs-lookup"><span data-stu-id="210cd-122">Most **IPropertyBag** property name strings have a corresponding **IPropertyStore** property key GUID and most of the GUIDs have a corresponding **IPropertyBag** name string, with a few exceptions.</span></span>

<span data-ttu-id="210cd-123">En esta documentación se enumeran las propiedades por constante de clave de propiedad, pero cada entrada incluye la constante de cadena de nombre de propiedad para su uso con **IPropertyBag** cuando corresponda.</span><span class="sxs-lookup"><span data-stu-id="210cd-123">This documentation lists the properties by property key constant, but each entry includes the property-name string constant for use with **IPropertyBag** when appropriate.</span></span>

## <a name="related-topics"></a><span data-ttu-id="210cd-124">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="210cd-124">Related topics</span></span>

[<span data-ttu-id="210cd-125">Códecs de Windows Media</span><span class="sxs-lookup"><span data-stu-id="210cd-125">Windows Media Codecs</span></span>](windows-media-codecs.md)
