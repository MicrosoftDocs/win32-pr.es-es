---
description: En este tema se explica el uso de la herramienta de configuración de proxy de servicios HTTP de Microsoft Windows (WinHTTP) &\# 0034; ProxyCfg.exe&\# 0034;.
ms.assetid: f96adf59-59be-414e-ad6f-9eac05f4b975
title: Netsh.exe y ProxyCfg.exe proxy Herramientas de configuración
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 96a33e832d324a5863652673b8e25725fba72e88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104539795"
---
# <a name="netshexe-and-proxycfgexe-proxy-configuration-tools"></a><span data-ttu-id="e3d53-103">Netsh.exe y ProxyCfg.exe proxy Herramientas de configuración</span><span class="sxs-lookup"><span data-stu-id="e3d53-103">Netsh.exe and ProxyCfg.exe Proxy Configuration Tools</span></span>

<span data-ttu-id="e3d53-104">\* \* Windows Vista y Windows Server 2008: \* \*</span><span class="sxs-lookup"><span data-stu-id="e3d53-104">\*\*Windows Vista and Windows Server 2008:  \*\*</span></span>

<span data-ttu-id="e3d53-105">ProxyCfg.exe ha quedado en desuso.</span><span class="sxs-lookup"><span data-stu-id="e3d53-105">ProxyCfg.exe has been deprecated.</span></span> <span data-ttu-id="e3d53-106">Se reemplaza por los comandos [ winhttpNetsh.exe](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731131(v=ws.10)) .</span><span class="sxs-lookup"><span data-stu-id="e3d53-106">It is replaced by the [Netsh.exe winhttp](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731131(v=ws.10)) commands.</span></span>

<span data-ttu-id="e3d53-107">En este tema se explica el uso de la herramienta de configuración de proxy de [servicios http de Microsoft Windows (WinHTTP)](about-winhttp.md) , "ProxyCfg.exe".</span><span class="sxs-lookup"><span data-stu-id="e3d53-107">This topic explains the use of the [Microsoft Windows HTTP Services (WinHTTP)](about-winhttp.md) proxy configuration tool, "ProxyCfg.exe".</span></span>

<span data-ttu-id="e3d53-108">Hay dos maneras de tener acceso a los servidores HTTP y el protocolo seguro de transferencia de hipertexto (HTTPS) a través de un proxy mediante los servicios HTTP de Microsoft Windows (WinHTTP).</span><span class="sxs-lookup"><span data-stu-id="e3d53-108">There are two ways to access HTTP and Secure Hypertext Transfer Protocol (HTTPS) servers through a proxy using Microsoft Windows HTTP Services (WinHTTP).</span></span> <span data-ttu-id="e3d53-109">En primer lugar, puede especificar la configuración de proxy desde la aplicación WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="e3d53-109">First, you can specify proxy settings from within your WinHTTP application.</span></span> <span data-ttu-id="e3d53-110">En segundo lugar, puede especificar la configuración de proxy predeterminada desde fuera de la aplicación mediante la utilidad de configuración de proxy ubicada en el directorio% WINDIR% \\ system32.</span><span class="sxs-lookup"><span data-stu-id="e3d53-110">Second, you can specify default proxy settings from outside your application using the proxy configuration utility located in the %windir%\\system32 directory.</span></span>

<span data-ttu-id="e3d53-111">Puede establecer mediante programación los datos de proxy desde dentro de la aplicación o el script.</span><span class="sxs-lookup"><span data-stu-id="e3d53-111">You can programmatically set the proxy data from within your application or script.</span></span> <span data-ttu-id="e3d53-112">Si está escribiendo una aplicación mediante la API de WinHTTP, utilice una de las dos técnicas siguientes para cambiar la configuración del proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-112">If you are writing an application using the WinHTTP API, use one of the following two techniques to change proxy settings.</span></span>

-   <span data-ttu-id="e3d53-113">Utilice la función [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) .</span><span class="sxs-lookup"><span data-stu-id="e3d53-113">Use the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) function.</span></span> <span data-ttu-id="e3d53-114">Especifique el tipo de acceso en el segundo parámetro, el nombre del proxy en el tercer parámetro y una lista de omisiones en el cuarto parámetro.</span><span class="sxs-lookup"><span data-stu-id="e3d53-114">Specify access type in the second parameter, the name of the proxy in the third parameter, and a bypass list in the fourth parameter.</span></span> <span data-ttu-id="e3d53-115">En el ejemplo siguiente se muestra cómo se puede usar la función [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) para establecer los datos de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-115">The following example shows how the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) function can be used to set proxy data.</span></span>

    ``` syntax
    hSession = WinHttpOpen( L"WinHTTP Example/1.0",  
                            WINHTTP_ACCESS_TYPE_NAMED_PROXY,
                            L"proxy_name", 
                            L"<local>", 
                            0);
    ```

-   <span data-ttu-id="e3d53-116">Utilice la función [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) .</span><span class="sxs-lookup"><span data-stu-id="e3d53-116">Use the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function.</span></span> <span data-ttu-id="e3d53-117">La marca de [**\_ \_ proxy de la opción WinHTTP**](option-flags.md) permite especificar la configuración de proxy con una estructura de [**\_ \_ información de proxy WinHTTP**](/windows/win32/api/winhttp/ns-winhttp-winhttp_proxy_info) .</span><span class="sxs-lookup"><span data-stu-id="e3d53-117">The [**WINHTTP\_OPTION\_PROXY**](option-flags.md) flag enables you to specify proxy settings with a [**WINHTTP\_PROXY\_INFO**](/windows/win32/api/winhttp/ns-winhttp-winhttp_proxy_info) structure.</span></span> <span data-ttu-id="e3d53-118">En el ejemplo de código siguiente se muestra cómo se puede usar la función [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) para establecer datos de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-118">The following example code shows how the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function can be used to set proxy data.</span></span>

    ``` syntax
    WINHTTP_PROXY_INFO proxyInfo;
    proxyInfo.dwAccessType = WINHTTP_ACCESS_TYPE_NAMED_PROXY;
    proxyInfo.lpszProxy = L"proxy_name";
    proxyInfo.lpszProxyBypass = L"<local>";
        
    // Set the proxy information for this session.
    WinHttpSetOption( hSession, 
                      WINHTTP_OPTION_PROXY, 
                      &proxyInfo, 
                      sizeof(proxyInfo));
    ```

<span data-ttu-id="e3d53-119">Si está escribiendo un script o una aplicación con el objeto [**WinHttpRequest**](winhttprequest.md) , utilice la siguiente técnica para cambiar la configuración del proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-119">If you are writing a script or an application using the [**WinHttpRequest**](winhttprequest.md) object, use the following technique to change proxy settings.</span></span>

-   <span data-ttu-id="e3d53-120">Use el método [**SetProxy**](iwinhttprequest-setproxy.md) .</span><span class="sxs-lookup"><span data-stu-id="e3d53-120">Use the [**SetProxy**](iwinhttprequest-setproxy.md) method.</span></span> <span data-ttu-id="e3d53-121">Especifique el tipo de acceso en el primer parámetro, el nombre del proxy en el segundo parámetro y una lista de omisiones en el tercer parámetro.</span><span class="sxs-lookup"><span data-stu-id="e3d53-121">Specify the access type in the first parameter, the name of the proxy in the second parameter, and a bypass list in the third parameter.</span></span> <span data-ttu-id="e3d53-122">En el ejemplo siguiente se muestra cómo se puede usar el método [**SetProxy**](iwinhttprequest-setproxy.md) en el script para establecer los datos de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-122">The following example shows how the [**SetProxy**](iwinhttprequest-setproxy.md) method can be used in script to set proxy data.</span></span>

    ``` syntax
    WinHttpReq.SetProxy( HTTPREQUEST_PROXYSETTING_PROXY, 
                         "proxy_server:80", 
                         "*.microsoft.com");
    ```

<span data-ttu-id="e3d53-123">Para especificar la configuración predeterminada y eliminar la necesidad de usar el método [**SetProxy**](iwinhttprequest-setproxy.md) o la función [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) , use la utilidad de configuración de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-123">To specify default settings and eliminate the need to use either the [**SetProxy**](iwinhttprequest-setproxy.md) method or the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function, use the proxy configuration utility.</span></span> <span data-ttu-id="e3d53-124">Con esta utilidad, puede especificar que la aplicación tenga acceso directo a una red, a través de un proxy o a través de una combinación de acceso directo y proxy especificando una lista de omisión.</span><span class="sxs-lookup"><span data-stu-id="e3d53-124">Using this utility, you can specify that your application access a network either directly, through a proxy, or through a combination of direct and proxy access by specifying a bypass list.</span></span> <span data-ttu-id="e3d53-125">Cuando se usa la API de WinHTTP, la herramienta de configuración de proxy solo determina la configuración cuando se pasa la marca predeterminada de tipo de acceso de WinHTTP a la API de [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) . **\_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="e3d53-125">When you use the WinHTTP API, the proxy configuration tool only determines the settings when you pass the **WINHTTP\_ACCESS\_TYPE\_DEFAULT** flag to the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) API.</span></span> <span data-ttu-id="e3d53-126">El objeto [**WinHttpRequest**](winhttprequest.md) utiliza de forma predeterminada la configuración de la herramienta de configuración de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-126">The [**WinHttpRequest**](winhttprequest.md) object uses the proxy configuration tool settings by default.</span></span>

<span data-ttu-id="e3d53-127">La configuración de proxy para WinHTTP no es la configuración de proxy para Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="e3d53-127">The proxy settings for WinHTTP are not the proxy settings for Microsoft Internet Explorer.</span></span> <span data-ttu-id="e3d53-128">No se puede establecer la configuración de proxy para WinHTTP en el panel de control de Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="e3d53-128">You cannot configure the proxy settings for WinHTTP in the Microsoft Windows Control Panel.</span></span> <span data-ttu-id="e3d53-129">El uso de la utilidad de configuración del proxy WinHTTP no modifica los valores de configuración que se usan en Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="e3d53-129">Using the WinHTTP proxy configuration utility does not alter the settings you use for Internet Explorer.</span></span>

> [!Note]  
> <span data-ttu-id="e3d53-130">Si intenta abrir y enviar una solicitud HTTP con WinHTTP y la configuración del proxy no es correcta, se produce un error.</span><span class="sxs-lookup"><span data-stu-id="e3d53-130">If you attempt to open and send an HTTP request using WinHTTP and the proxy settings are incorrect, an error occurs.</span></span>

 

## <a name="command-line-parameters"></a><span data-ttu-id="e3d53-131">Parámetros de la línea de comandos</span><span class="sxs-lookup"><span data-stu-id="e3d53-131">Command Line Parameters</span></span>

<span data-ttu-id="e3d53-132">En la tabla siguiente se enumeran los parámetros de línea de comandos disponibles para su uso con la herramienta ProxyCfg.exe.</span><span class="sxs-lookup"><span data-stu-id="e3d53-132">The following table lists the command line parameters available for use with the ProxyCfg.exe tool.</span></span>



| <span data-ttu-id="e3d53-133">Parámetro</span><span class="sxs-lookup"><span data-stu-id="e3d53-133">Parameter</span></span> | <span data-ttu-id="e3d53-134">Descripción</span><span class="sxs-lookup"><span data-stu-id="e3d53-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e3d53-135">ninguno</span><span class="sxs-lookup"><span data-stu-id="e3d53-135">none</span></span>      | <span data-ttu-id="e3d53-136">Cuando no se especifica ningún parámetro, se muestra la configuración actual del proxy WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="e3d53-136">When no parameters are specified, the current WinHTTP proxy settings are displayed.</span></span>                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="e3d53-137">?</span><span class="sxs-lookup"><span data-stu-id="e3d53-137">?</span></span>         | <span data-ttu-id="e3d53-138">Se muestra la información de ayuda.</span><span class="sxs-lookup"><span data-stu-id="e3d53-138">Help information is displayed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="e3d53-139">d</span><span class="sxs-lookup"><span data-stu-id="e3d53-139">d</span></span>         | <span data-ttu-id="e3d53-140">Especifica que las aplicaciones WinHTTP acceden directamente a la red, sin un proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-140">Specifies that WinHTTP applications access the network directly, without a proxy.</span></span>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="e3d53-141">p</span><span class="sxs-lookup"><span data-stu-id="e3d53-141">p</span></span>         | <span data-ttu-id="e3d53-142">Especifica el servidor proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-142">Specifies the proxy server.</span></span> <span data-ttu-id="e3d53-143">También puede especificar una lista opcional de servidores a los que se tiene acceso sin un proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-143">You can also specify an optional list of servers that are accessed without a proxy.</span></span>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="e3d53-144">u</span><span class="sxs-lookup"><span data-stu-id="e3d53-144">u</span></span>         | <span data-ttu-id="e3d53-145">Especifica que las aplicaciones WinHTTP utilizan la configuración de proxy del usuario actual para Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="e3d53-145">Specifies that WinHTTP applications use the current user's proxy settings for Internet Explorer.</span></span> <span data-ttu-id="e3d53-146">Este parámetro no funciona si Internet Explorer detecta automáticamente la configuración de proxy o si usa una dirección URL de configuración automática para establecer la información de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-146">This parameter does not work if Internet Explorer is automatically detecting proxy settings, or if it is using an automatic configuration URL to set the proxy information.</span></span>                                                                                                                                                      |
| <span data-ttu-id="e3d53-147">i</span><span class="sxs-lookup"><span data-stu-id="e3d53-147">i</span></span>         | <span data-ttu-id="e3d53-148">Especifica que las aplicaciones WinHTTP utilizan la configuración de proxy del usuario actual para Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="e3d53-148">Specifies that WinHTTP applications use the current user's proxy settings for Internet Explorer.</span></span> <span data-ttu-id="e3d53-149">Esto solo funciona cuando no se ha usado anteriormente ProxyCfg.exe.</span><span class="sxs-lookup"><span data-stu-id="e3d53-149">This only works when ProxyCfg.exe was not previously used.</span></span> <span data-ttu-id="e3d53-150">Si ProxyCfg.exe está instalado, especifique que el parámetro de línea de comandos "u" use la configuración manual.</span><span class="sxs-lookup"><span data-stu-id="e3d53-150">If ProxyCfg.exe is installed, specify that the "u" command line parameter use the manual settings.</span></span> <span data-ttu-id="e3d53-151">Este parámetro no funciona si Internet Explorer detecta automáticamente la configuración de proxy o si usa una dirección URL de configuración automática para establecer la información de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-151">This parameter does not work if Internet Explorer automatically detects proxy settings, or if it uses an automatic configuration URL to set the proxy information.</span></span> |



 

<span data-ttu-id="e3d53-152">Puede especificar servidores proxy en una cadena delimitada por espacios.</span><span class="sxs-lookup"><span data-stu-id="e3d53-152">You can specify proxies in a space-delimited string.</span></span> <span data-ttu-id="e3d53-153">Las listas de servidores proxy pueden contener el número de puerto que se usa para tener acceso al proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-153">The proxy listings can contain the port number that is used to access the proxy.</span></span> <span data-ttu-id="e3d53-154">Para enumerar un proxy para un protocolo concreto, la cadena debe seguir el formato, <protocol> = https://<\_ nombre del proxy>.</span><span class="sxs-lookup"><span data-stu-id="e3d53-154">To list a proxy for a specific protocol, the string must follow the format, <protocol>=https://<proxy\_name>.</span></span> <span data-ttu-id="e3d53-155">Los protocolos válidos son HTTP y HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e3d53-155">The valid protocols are HTTP and HTTPS.</span></span> <span data-ttu-id="e3d53-156">Por ejemplo, para mostrar un proxy HTTP, una cadena válida es http = https://http\_proxy\_name:80 , donde \_ \_ nombre del proxy HTTP es el nombre del servidor proxy y 80 es el número de puerto que debe usar para tener acceso al proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-156">For example, to list an HTTP proxy, a valid string is http=https://http\_proxy\_name:80, where http\_proxy\_name is the name of the proxy server and 80 is the port number that you must use to access the proxy.</span></span> <span data-ttu-id="e3d53-157">Si el proxy usa el número de puerto predeterminado para ese Protocolo, puede omitir el número de puerto.</span><span class="sxs-lookup"><span data-stu-id="e3d53-157">If the proxy uses the default port number for that protocol, then you can omit the port number.</span></span> <span data-ttu-id="e3d53-158">Si un nombre de proxy se enumera por sí mismo, puede usarlo como el proxy predeterminado para los protocolos que no tengan un proxy especificado.</span><span class="sxs-lookup"><span data-stu-id="e3d53-158">If a proxy name is listed by itself, you can use it as the default proxy for any protocols that do not have a specified proxy.</span></span> <span data-ttu-id="e3d53-159">Por ejemplo, http = https://http\_proxy otro \_ proxy usa \_ el proxy http para cualquier operación http, mientras que el protocolo HTTPS usa el proxy denominado otro \_ proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-159">For example, http=https://http\_proxy other\_proxy uses http\_proxy for any HTTP operations, while the HTTPS protocol uses the proxy named other\_proxy.</span></span>

<span data-ttu-id="e3d53-160">Puede enumerar los nombres de host conocidos localmente o las direcciones IP en la lista de omisión de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-160">You can list locally known host names or IP addresses in the proxy bypass list.</span></span> <span data-ttu-id="e3d53-161">Esta lista puede contener caracteres comodín, como " \* ", que hacen que la aplicación omita el servidor proxy para las direcciones que se ajustan al patrón especificado, por ejemplo, " \* . Microsoft.com" o " \* . org".</span><span class="sxs-lookup"><span data-stu-id="e3d53-161">This list can contain wildcards, such as "\*", that cause the application to bypass the proxy server for addresses that fit the specified pattern, for example, "\*.microsoft.com" or "\*.org".</span></span> <span data-ttu-id="e3d53-162">Los caracteres comodín deben ser los caracteres del extremo izquierdo de la lista.</span><span class="sxs-lookup"><span data-stu-id="e3d53-162">Wildcard characters must be the left-most characters in the list.</span></span> <span data-ttu-id="e3d53-163">Por ejemplo \* , "AAA". no se admite.</span><span class="sxs-lookup"><span data-stu-id="e3d53-163">For example, "aaa.\*" is not supported.</span></span> <span data-ttu-id="e3d53-164">Para enumerar varias direcciones y nombres de host, sepárelos por espacios en blanco o punto y coma en la cadena de omisión del proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-164">To list multiple addresses and host names, separate them with blank spaces or semicolons in the proxy bypass string.</span></span> <span data-ttu-id="e3d53-165">Si especifica la <local> macro, la función omite cualquier nombre de host que no contenga un punto.</span><span class="sxs-lookup"><span data-stu-id="e3d53-165">If you specify the <local> macro, the function bypasses any host name that does not contain a period.</span></span>

> [!WARNING]
> <span data-ttu-id="e3d53-166">Una vez que se ejecuta Proxycfg.exe, no se puede restaurar la configuración de proxy anterior.</span><span class="sxs-lookup"><span data-stu-id="e3d53-166">After Proxycfg.exe runs, you cannot restore the previous proxy settings.</span></span> <span data-ttu-id="e3d53-167">Sin embargo, puede quitar la configuración de proxy por completo.</span><span class="sxs-lookup"><span data-stu-id="e3d53-167">However, you can remove the proxy settings entirely.</span></span>

 

## <a name="usage"></a><span data-ttu-id="e3d53-168">Uso</span><span class="sxs-lookup"><span data-stu-id="e3d53-168">Usage</span></span>

<span data-ttu-id="e3d53-169">Para usar la herramienta de configuración de proxy, abra una ventana del símbolo del sistema y ejecute la utilidad de configuración de proxy con los parámetros de línea de comandos adecuados.</span><span class="sxs-lookup"><span data-stu-id="e3d53-169">To use the proxy configuration tool, open a command prompt window and run the proxy configuration utility with the appropriate command line parameters.</span></span> <span data-ttu-id="e3d53-170">En la siguiente sección se proporcionan ejemplos de sintaxis.</span><span class="sxs-lookup"><span data-stu-id="e3d53-170">The following section provides syntax examples.</span></span>

## <a name="example-syntax"></a><span data-ttu-id="e3d53-171">Sintaxis de ejemplo</span><span class="sxs-lookup"><span data-stu-id="e3d53-171">Example Syntax</span></span>

### <a name="example-1-use-a-proxy-only-for-external-resources"></a><span data-ttu-id="e3d53-172">Ejemplo 1: usar un proxy solo para recursos externos</span><span class="sxs-lookup"><span data-stu-id="e3d53-172">Example 1: Use a proxy only for external resources</span></span>

<span data-ttu-id="e3d53-173">El siguiente es el uso más común de Proxycfg.exe.</span><span class="sxs-lookup"><span data-stu-id="e3d53-173">The following is the most common use for Proxycfg.exe.</span></span> <span data-ttu-id="e3d53-174">Este comando especifica que se tiene acceso a los servidores HTTP y HTTPS a través del servidor proxy denominado " \_ servidor proxy", excepto los nombres de host que no contienen un punto.</span><span class="sxs-lookup"><span data-stu-id="e3d53-174">This command specifies that both HTTP and HTTPS servers are accessed through the proxy server named "proxy\_server", except for host names that do not contain a period.</span></span>

<span data-ttu-id="e3d53-175">**Proxycfg-p \_ servidor proxy " <local> "**</span><span class="sxs-lookup"><span data-stu-id="e3d53-175">**proxycfg -p proxy\_server "<local>"**</span></span>

### <a name="example-2-use-a-proxy-for-all-resources"></a><span data-ttu-id="e3d53-176">Ejemplo 2: usar un proxy para todos los recursos</span><span class="sxs-lookup"><span data-stu-id="e3d53-176">Example 2: Use a proxy for all resources</span></span>

<span data-ttu-id="e3d53-177">En el ejemplo siguiente se especifica que se tiene acceso a los servidores HTTP y HTTPS a través del servidor proxy denominado " \_ servidor proxy".</span><span class="sxs-lookup"><span data-stu-id="e3d53-177">The following example specifies that both HTTP and HTTPS servers are accessed through the proxy server named "proxy\_server".</span></span> <span data-ttu-id="e3d53-178">No se ha especificado ninguna lista de omisiones.</span><span class="sxs-lookup"><span data-stu-id="e3d53-178">No bypass list is specified.</span></span>

<span data-ttu-id="e3d53-179">**Proxycfg-p \_ servidor proxy**</span><span class="sxs-lookup"><span data-stu-id="e3d53-179">**proxycfg -p proxy\_server**</span></span>

### <a name="example-3-use-a-different-proxy-for-secure-resources"></a><span data-ttu-id="e3d53-180">Ejemplo 3: usar un proxy diferente para proteger recursos</span><span class="sxs-lookup"><span data-stu-id="e3d53-180">Example 3: Use a different proxy for secure resources</span></span>

<span data-ttu-id="e3d53-181">En el ejemplo siguiente se especifica que se tiene acceso a los servidores HTTP a través del proxy de \_ proxy http y se obtiene acceso a los servidores https a través del \_ proxy HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e3d53-181">The following example specifies that HTTP servers are accessed through the http\_proxy proxy and HTTPS servers are accessed through https\_proxy.</span></span> <span data-ttu-id="e3d53-182">Los sitios de la Intranet local y cualquier sitio del \* dominio. Microsoft.com omiten el proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-182">Local intranet sites and any site in the \*.microsoft.com domain bypass the proxy.</span></span>

<span data-ttu-id="e3d53-183">**Proxycfg-p "http = \_ proxy http https = \_ proxy HTTPS" " <local> ; \* . microsoft.com "**</span><span class="sxs-lookup"><span data-stu-id="e3d53-183">**proxycfg -p "http=http\_proxy https=https\_proxy" "<local>;\*.microsoft.com"**</span></span>

## <a name="removing-proxycfgexe"></a><span data-ttu-id="e3d53-184">Quitar ProxyCfg.exe</span><span class="sxs-lookup"><span data-stu-id="e3d53-184">Removing ProxyCfg.exe</span></span>

<span data-ttu-id="e3d53-185">Después de usar la herramienta de configuración de proxy, no puede restaurar la configuración de proxy original.</span><span class="sxs-lookup"><span data-stu-id="e3d53-185">After using the proxy configuration tool, you cannot restore your original proxy settings.</span></span> <span data-ttu-id="e3d53-186">Sin embargo, si es necesario, puede quitar la configuración del registro que crea la utilidad.</span><span class="sxs-lookup"><span data-stu-id="e3d53-186">However, if necessary, you can remove the registry settings that the utility creates.</span></span> <span data-ttu-id="e3d53-187">Para quitar las entradas del registro que crea ProxyCfg.exe, debe eliminar el valor de **WinHttpSettings** de la siguiente clave del registro.</span><span class="sxs-lookup"><span data-stu-id="e3d53-187">To remove the registry entries that ProxyCfg.exe creates, you must delete the **WinHttpSettings** value from the following registry key.</span></span>

<span data-ttu-id="e3d53-188">**HKEY \_ SOFTWARE de \_ equipo local** \\  \\ **Microsoft** \\ **Windows** \\ **CurrentVersion** \\ **Internet Settings** \\ **Connections** \\ **WinHttpSettings**</span><span class="sxs-lookup"><span data-stu-id="e3d53-188">**HKEY\_LOCAL\_MACHINE**\\**SOFTWARE**\\**Microsoft**\\**Windows**\\**CurrentVersion**\\**Internet Settings**\\**Connections**\\**WinHttpSettings**</span></span>

<span data-ttu-id="e3d53-189">Al eliminar el valor de *WinHttpSettings* se quitan todas las configuraciones de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-189">Deleting the *WinHttpSettings* value removes all proxy configurations.</span></span>

## <a name="proxycfgexe-and-authentication"></a><span data-ttu-id="e3d53-190">ProxyCfg.exe y autenticación</span><span class="sxs-lookup"><span data-stu-id="e3d53-190">ProxyCfg.exe and Authentication</span></span>

<span data-ttu-id="e3d53-191">La utilidad de configuración de proxy establece la Directiva de autenticación predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e3d53-191">The proxy configuration utility sets the default authentication policy.</span></span> <span data-ttu-id="e3d53-192">Dado que no se debe realizar la autenticación NTLM con hosts que no son de confianza, de forma predeterminada, la autenticación NTLM solo se produce automáticamente con los hosts de la lista de omisión de proxy.</span><span class="sxs-lookup"><span data-stu-id="e3d53-192">Because you should not perform NTLM authentication with untrusted hosts, by default, NTLM authentication only occurs automatically with hosts on the proxy bypass list.</span></span> <span data-ttu-id="e3d53-193">Si no hay ningún proxy, todavía puede usar ProxyCfg.exe para especificar una lista de omisión de hosts en los que confíe para realizar la autenticación NTLM.</span><span class="sxs-lookup"><span data-stu-id="e3d53-193">If there is no proxy, you can still use ProxyCfg.exe to specify a bypass list of hosts that you trust to perform NTLM authentication.</span></span> <span data-ttu-id="e3d53-194">Se requiere un nombre de proxy al usar ProxyCfg.exe para este propósito, pero puede usar cualquier cadena válida en lugar de un nombre de proxy real.</span><span class="sxs-lookup"><span data-stu-id="e3d53-194">A proxy name is required when using ProxyCfg.exe for this purpose, but you can use any valid string in place of a real proxy name.</span></span>

<span data-ttu-id="e3d53-195">Para obtener más información acerca de la Directiva de inicio de sesión automático, vea [Directiva de inicio de sesión automático](authentication-in-winhttp.md).</span><span class="sxs-lookup"><span data-stu-id="e3d53-195">For more information about the auto-logon policy, see [Automatic Logon Policy](authentication-in-winhttp.md).</span></span>

 

 
