---
description: El desarrollo de una infraestructura de red segura de alto nivel es una prioridad para la mayoría de los desarrolladores de aplicaciones de red. Sin embargo, a menudo se pasa por alto la seguridad de socket a pesar de ser muy importante a la hora de considerar una solución totalmente segura.
ms.assetid: b37a3e33-65ee-43b1-bc8b-3280db7ebee4
title: Usar SO_REUSEADDR y SO_EXCLUSIVEADDRUSE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aaa4024f031102cbd634c235bb39f4c7860e6c1d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103814355"
---
# <a name="using-so_reuseaddr-and-so_exclusiveaddruse"></a><span data-ttu-id="314ef-104">Usar SO \_ REUSEADDR y so \_ EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-104">Using SO\_REUSEADDR and SO\_EXCLUSIVEADDRUSE</span></span>

<span data-ttu-id="314ef-105">El desarrollo de una infraestructura de red segura de alto nivel es una prioridad para la mayoría de los desarrolladores de aplicaciones de red.</span><span class="sxs-lookup"><span data-stu-id="314ef-105">Developing a secure high-level network infrastructure is a priority for most network application developers.</span></span> <span data-ttu-id="314ef-106">Sin embargo, a menudo se pasa por alto la seguridad de socket a pesar de ser muy importante a la hora de considerar una solución totalmente segura.</span><span class="sxs-lookup"><span data-stu-id="314ef-106">However, socket security is often overlooked despite being very critical when considering a fully secure solution.</span></span> <span data-ttu-id="314ef-107">La seguridad de sockets, específicamente, se ocupa de los procesos que se enlazan al mismo puerto previamente enlazado por otro proceso de aplicación.</span><span class="sxs-lookup"><span data-stu-id="314ef-107">Socket security, specifically, deals with processes that bind to the same port previously bound by another application process.</span></span> <span data-ttu-id="314ef-108">En el pasado, era posible que una aplicación de red "secuestrara" el puerto de otra aplicación, lo que podía conducir fácilmente a un ataque de denegación de servicio o a un robo de datos.</span><span class="sxs-lookup"><span data-stu-id="314ef-108">In the past, it was possible for a network application to "hijack" the port of another application, which could easily lead to a "denial of service" attack or data theft.</span></span>

<span data-ttu-id="314ef-109">En general, la seguridad de sockets se aplica a los procesos del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="314ef-109">In general, socket security applies to server-side processes.</span></span> <span data-ttu-id="314ef-110">Más concretamente, la seguridad de sockets se aplica a cualquier aplicación de red que acepte conexiones y reciba tráfico de datagramas IP.</span><span class="sxs-lookup"><span data-stu-id="314ef-110">More specifically, socket security applies to any network application that accepts connections and receives IP datagram traffic.</span></span> <span data-ttu-id="314ef-111">Estas aplicaciones normalmente se enlazan a un puerto conocido y son destinos comunes del código de red malintencionado.</span><span class="sxs-lookup"><span data-stu-id="314ef-111">These applications typically bind to a well-known port and are common targets for malicious network code.</span></span>

<span data-ttu-id="314ef-112">Es menos probable que las aplicaciones cliente sean los objetivos de estos ataques, no porque son menos susceptibles, pero como la mayoría de los clientes se enlazan a puertos locales "efímeros" en lugar de a puertos estáticos de "servicio".</span><span class="sxs-lookup"><span data-stu-id="314ef-112">Client applications are less likely to be the targets of such attacks — not because they are less susceptible, but because most clients bind to "ephemeral" local ports rather than static "service" ports.</span></span> <span data-ttu-id="314ef-113">Las aplicaciones de red de cliente siempre se deben enlazar a los puertos efímeros (especificando el puerto 0 en la estructura [**SOCKADDR**](sockaddr-2.md) a la que apunta el parámetro *Name* al llamar a la función [**BIND**](/windows/win32/api/winsock/nf-winsock-bind) ) a menos que haya una buena razón de arquitectura que no sea.</span><span class="sxs-lookup"><span data-stu-id="314ef-113">Client network applications should always bind to ephemeral ports (by specifying port 0 in the [**SOCKADDR**](sockaddr-2.md) structure pointed to by the *name* parameter when calling the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) function) unless there is a compelling architectural reason not to.</span></span> <span data-ttu-id="314ef-114">Los puertos locales efímeros se componen de puertos mayores que el puerto 49151.</span><span class="sxs-lookup"><span data-stu-id="314ef-114">The ephemeral local ports consist of ports greater than port 49151.</span></span> <span data-ttu-id="314ef-115">La mayoría de las aplicaciones de servidor para servicios dedicados se enlazan a un puerto reservado conocido que es menor o igual que el puerto 49151.</span><span class="sxs-lookup"><span data-stu-id="314ef-115">Most server applications for dedicated services bind to a well-known reserved port that is less than or equal to port 49151.</span></span> <span data-ttu-id="314ef-116">Por lo tanto, para la mayoría de las aplicaciones, normalmente no hay un conflicto para las solicitudes de enlace entre las aplicaciones cliente y servidor.</span><span class="sxs-lookup"><span data-stu-id="314ef-116">So for most applications, there is not usually a conflict for bind requests between client and server applications.</span></span>

<span data-ttu-id="314ef-117">En esta sección se describe el nivel de seguridad predeterminado en varias plataformas de Microsoft Windows y cómo las opciones específicas de sockets **, por lo que \_ REUSEADDR** y [ \_ EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) afectan a la seguridad de la aplicación de red.</span><span class="sxs-lookup"><span data-stu-id="314ef-117">This section describes the default level of security on various Microsoft Windows platforms and how the specific socket options **SO\_REUSEADDR** and [SO\_EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) impact and affect network application security.</span></span> <span data-ttu-id="314ef-118">En Windows Server 2003 y versiones posteriores, hay disponible una característica adicional denominada seguridad de sockets mejorada.</span><span class="sxs-lookup"><span data-stu-id="314ef-118">An additional feature called enhanced socket security is available on Windows Server 2003 and later.</span></span> <span data-ttu-id="314ef-119">La disponibilidad de estas opciones de socket y la seguridad mejorada de los sockets varía en función de las versiones de los sistemas operativos de Microsoft, tal y como se muestra en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="314ef-119">The availability of these socket options and enhanced socket security varies across versions of Microsoft operating systems, as shown in the table below.</span></span>

| <span data-ttu-id="314ef-120">Plataforma</span><span class="sxs-lookup"><span data-stu-id="314ef-120">Platform</span></span>            | <span data-ttu-id="314ef-121">\_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-121">SO\_REUSEADDR</span></span> | <span data-ttu-id="314ef-122">\_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-122">SO\_EXCLUSIVEADDRUSE</span></span>                  | <span data-ttu-id="314ef-123">Seguridad de sockets mejorada</span><span class="sxs-lookup"><span data-stu-id="314ef-123">Enhanced socket security</span></span> |
|---------------------|---------------|---------------------------------------|--------------------------|
| <span data-ttu-id="314ef-124">Windows 95</span><span class="sxs-lookup"><span data-stu-id="314ef-124">Windows 95</span></span>          | <span data-ttu-id="314ef-125">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-125">Available</span></span>     | <span data-ttu-id="314ef-126">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-126">Not Available</span></span>                         | <span data-ttu-id="314ef-127">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-127">Not Available</span></span>            |
| <span data-ttu-id="314ef-128">Windows 98</span><span class="sxs-lookup"><span data-stu-id="314ef-128">Windows 98</span></span>          | <span data-ttu-id="314ef-129">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-129">Available</span></span>     | <span data-ttu-id="314ef-130">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-130">Not Available</span></span>                         | <span data-ttu-id="314ef-131">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-131">Not Available</span></span>            |
| <span data-ttu-id="314ef-132">Windows me</span><span class="sxs-lookup"><span data-stu-id="314ef-132">Windows Me</span></span>          | <span data-ttu-id="314ef-133">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-133">Available</span></span>     | <span data-ttu-id="314ef-134">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-134">Not Available</span></span>                         | <span data-ttu-id="314ef-135">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-135">Not Available</span></span>            |
| <span data-ttu-id="314ef-136">Windows NT 4.0</span><span class="sxs-lookup"><span data-stu-id="314ef-136">Windows NT 4.0</span></span>      | <span data-ttu-id="314ef-137">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-137">Available</span></span>     | <span data-ttu-id="314ef-138">Disponible en Service Pack 4 y versiones posteriores</span><span class="sxs-lookup"><span data-stu-id="314ef-138">Available in Service Pack 4 and later</span></span> | <span data-ttu-id="314ef-139">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-139">Not Available</span></span>            |
| <span data-ttu-id="314ef-140">Windows 2000</span><span class="sxs-lookup"><span data-stu-id="314ef-140">Windows 2000</span></span>        | <span data-ttu-id="314ef-141">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-141">Available</span></span>     | <span data-ttu-id="314ef-142">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-142">Available</span></span>                             | <span data-ttu-id="314ef-143">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-143">Not Available</span></span>            |
| <span data-ttu-id="314ef-144">Windows XP</span><span class="sxs-lookup"><span data-stu-id="314ef-144">Windows XP</span></span>          | <span data-ttu-id="314ef-145">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-145">Available</span></span>     | <span data-ttu-id="314ef-146">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-146">Available</span></span>                             | <span data-ttu-id="314ef-147">No disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-147">Not Available</span></span>            |
| <span data-ttu-id="314ef-148">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="314ef-148">Windows Server 2003</span></span> | <span data-ttu-id="314ef-149">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-149">Available</span></span>     | <span data-ttu-id="314ef-150">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-150">Available</span></span>                             | <span data-ttu-id="314ef-151">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-151">Available</span></span>                |
| <span data-ttu-id="314ef-152">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="314ef-152">Windows Vista</span></span>       | <span data-ttu-id="314ef-153">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-153">Available</span></span>     | <span data-ttu-id="314ef-154">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-154">Available</span></span>                             | <span data-ttu-id="314ef-155">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-155">Available</span></span>                |
| <span data-ttu-id="314ef-156">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="314ef-156">Windows Server 2008</span></span> | <span data-ttu-id="314ef-157">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-157">Available</span></span>     | <span data-ttu-id="314ef-158">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-158">Available</span></span>                             | <span data-ttu-id="314ef-159">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-159">Available</span></span>                |
| <span data-ttu-id="314ef-160">Windows 7and más reciente</span><span class="sxs-lookup"><span data-stu-id="314ef-160">Windows 7and newer</span></span>  | <span data-ttu-id="314ef-161">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-161">Available</span></span>     | <span data-ttu-id="314ef-162">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-162">Available</span></span>                             | <span data-ttu-id="314ef-163">Disponible</span><span class="sxs-lookup"><span data-stu-id="314ef-163">Available</span></span>                |

## <a name="using-so_reuseaddr"></a><span data-ttu-id="314ef-164">Usar SO \_ REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-164">Using SO\_REUSEADDR</span></span>

<span data-ttu-id="314ef-165">La opción de socket **so \_ REUSEADDR** permite que un socket se enlace forzosamente a un puerto en uso por otro socket.</span><span class="sxs-lookup"><span data-stu-id="314ef-165">The **SO\_REUSEADDR** socket option allows a socket to forcibly bind to a port in use by another socket.</span></span> <span data-ttu-id="314ef-166">El segundo [**socket llama a la llamada a My**](/windows/win32/api/winsock/nf-winsock-setsockopt) con el parámetro *optname* establecido en **\_ REUSEADDR** y el parámetro *optval* establecido en un valor booleano de **true** antes de llamar a [**BIND**](/windows/win32/api/winsock/nf-winsock-bind) en el mismo puerto que el socket original.</span><span class="sxs-lookup"><span data-stu-id="314ef-166">The second socket calls [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) with the *optname* parameter set to **SO\_REUSEADDR** and the *optval* parameter set to a boolean value of **TRUE** before calling [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the same port as the original socket.</span></span> <span data-ttu-id="314ef-167">Una vez que el segundo socket se ha enlazado correctamente, el comportamiento de todos los sockets enlazados a ese puerto es indeterminado.</span><span class="sxs-lookup"><span data-stu-id="314ef-167">Once the second socket has successfully bound, the behavior for all sockets bound to that port is indeterminate.</span></span> <span data-ttu-id="314ef-168">Por ejemplo, si todos los sockets en el mismo puerto proporcionan el servicio TCP, no se puede garantizar que las solicitudes de conexión TCP entrantes a través del puerto se controlen mediante el socket correcto; el comportamiento no es determinista.</span><span class="sxs-lookup"><span data-stu-id="314ef-168">For example, if all of the sockets on the same port provide TCP service, any incoming TCP connection requests over the port cannot be guaranteed to be handled by the correct socket — the behavior is non-deterministic.</span></span> <span data-ttu-id="314ef-169">Un programa malintencionado puede usarse de **modo que \_ REUSEADDR** para enlazar de forma forzada los sockets que ya están en uso para los servicios de protocolo de red estándar con el fin de denegar el acceso a esos servicios.</span><span class="sxs-lookup"><span data-stu-id="314ef-169">A malicious program can use **SO\_REUSEADDR** to forcibly bind sockets already in use for standard network protocol services in order to deny access to those service.</span></span> <span data-ttu-id="314ef-170">No se requiere ningún privilegio especial para usar esta opción.</span><span class="sxs-lookup"><span data-stu-id="314ef-170">No special privileges are required to use this option.</span></span>

<span data-ttu-id="314ef-171">Si una aplicación cliente se enlaza a un puerto antes de que una aplicación de servidor pueda enlazar con el mismo puerto, pueden producirse problemas.</span><span class="sxs-lookup"><span data-stu-id="314ef-171">If a client application binds to a port before a server application is able to bind to the same port, then problems may result.</span></span> <span data-ttu-id="314ef-172">Si la aplicación de servidor se enlaza de forma forzada mediante la opción de socket **so de \_ REUSEADDR** al mismo puerto, el comportamiento de todos los sockets enlazados a ese puerto es indeterminado.</span><span class="sxs-lookup"><span data-stu-id="314ef-172">If the server application forcibly binds using the **SO\_REUSEADDR** socket option to the same port, then the behavior for all sockets bound to that port is indeterminate.</span></span>

<span data-ttu-id="314ef-173">La excepción a este comportamiento no determinista son los sockets de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="314ef-173">The exception to this non-deterministic behavior is multicast sockets.</span></span> <span data-ttu-id="314ef-174">Si dos sockets están enlazados a la misma interfaz y puerto y son miembros del mismo grupo de multidifusión, los datos se entregarán a ambos sockets, en lugar de a una elección arbitrariamente.</span><span class="sxs-lookup"><span data-stu-id="314ef-174">If two sockets are bound to the same interface and port and are members of the same multicast group, data will be delivered to both sockets, rather than an arbitrarily chosen one.</span></span>

## <a name="using-so_exclusiveaddruse"></a><span data-ttu-id="314ef-175">Usar SO \_ EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-175">Using SO\_EXCLUSIVEADDRUSE</span></span>

<span data-ttu-id="314ef-176">Antes de **que \_** se introdujera la opción de socket EXCLUSIVEADDRUSE, había muy poco un desarrollador de aplicaciones de red podía hacer para impedir que un programa malintencionado se enlazase al puerto en el que la aplicación de red tenía sus propios Sockets enlazados.</span><span class="sxs-lookup"><span data-stu-id="314ef-176">Before the **SO\_EXCLUSIVEADDRUSE** socket option was introduced, there was very little a network application developer could do to prevent a malicious program from binding to the port on which the network application had its own sockets bound.</span></span> <span data-ttu-id="314ef-177">Con el fin de solucionar este problema de seguridad, Windows Sockets presentó la opción de socket for **\_ EXCLUSIVEADDRUSE** , que estaba disponible en Windows NT 4,0 con Service Pack 4 (SP4) y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="314ef-177">In order to address this security issue, Windows Sockets introduced the **SO\_EXCLUSIVEADDRUSE** socket option, which became available on Windows NT 4.0 with Service Pack 4 (SP4) and later.</span></span>

<span data-ttu-id="314ef-178">La opción de socket **so \_ EXCLUSIVEADDRUSE** solo la pueden usar los miembros del grupo de seguridad Administrators en Windows XP y versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="314ef-178">The **SO\_EXCLUSIVEADDRUSE** socket option can only be used by members of the Administrators security group on Windows XP and earlier.</span></span> <span data-ttu-id="314ef-179">Los motivos por los que se cambió este requisito en Windows Server 2003 y versiones posteriores se describen más adelante en el artículo.</span><span class="sxs-lookup"><span data-stu-id="314ef-179">The reasons why this requirement was changed on Windows Server 2003 and later are discussed later in the article.</span></span>

<span data-ttu-id="314ef-180">La opción for **\_ EXCLUSIVEADDRUSE** se establece mediante una llamada [**a la función My con el parámetro**](/windows/win32/api/winsock/nf-winsock-setsockopt) *optname* establecido en for **\_ EXCLUSIVEADDRUSE** y el parámetro *optval* establecido en un valor booleano **true** antes de enlazar el socket.</span><span class="sxs-lookup"><span data-stu-id="314ef-180">The **SO\_EXCLUSIVEADDRUSE** option is set by calling the [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) function with the *optname* parameter set to **SO\_EXCLUSIVEADDRUSE** and the *optval* parameter set to a boolean value of **TRUE** before the socket is bound.</span></span> <span data-ttu-id="314ef-181">Una vez establecida la opción, el comportamiento de las llamadas de [**enlace**](/windows/win32/api/winsock/nf-winsock-bind) subsiguientes varía en función de la dirección de red especificada en cada llamada de **enlace** .</span><span class="sxs-lookup"><span data-stu-id="314ef-181">After the option is set, the behavior of subsequent [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls differs depending on the network address specified in each **bind** call.</span></span>

<span data-ttu-id="314ef-182">En la tabla siguiente se describe el comportamiento que se produce en Windows XP y versiones anteriores cuando un segundo socket intenta enlazar con una dirección enlazada previamente a por un primer socket usando opciones de socket específicas.</span><span class="sxs-lookup"><span data-stu-id="314ef-182">The table below describes the behavior that occurs in Windows XP and earlier when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options.</span></span>

> [!NOTE]  
> <span data-ttu-id="314ef-183">En la tabla siguiente, "carácter comodín" denota la dirección comodín para el protocolo especificado (por ejemplo, "0.0.0.0" para IPv4 y "::" para IPv6).</span><span class="sxs-lookup"><span data-stu-id="314ef-183">In the table below, "wildcard" denotes the wildcard address for the given protocol (such as "0.0.0.0" for IPv4 and "::" for IPv6).</span></span> <span data-ttu-id="314ef-184">"Específico" denota una dirección IP específica asignada a una interfaz.</span><span class="sxs-lookup"><span data-stu-id="314ef-184">"Specific" denotes a specific IP address assigned an interface.</span></span> <span data-ttu-id="314ef-185">Las celdas de la tabla indican si el enlace se realiza correctamente ("Success") o si se devuelve un error ("INUSE" para el error [WSAEADDRINUSE](windows-sockets-error-codes-2.md) ; "ACCESS" para el error [WSAEACCES](windows-sockets-error-codes-2.md) ).</span><span class="sxs-lookup"><span data-stu-id="314ef-185">The table cells indicate whether or not the bind is successful ("Success") or an error is returned ("INUSE" for the [WSAEADDRINUSE](windows-sockets-error-codes-2.md) error; "ACCESS" for the [WSAEACCES](windows-sockets-error-codes-2.md) error).</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="314ef-186">Primera llamada de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>enlace</strong></a></span><span class="sxs-lookup"><span data-stu-id="314ef-186">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="314ef-187">Segunda llamada de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>enlace</strong></a></span><span class="sxs-lookup"><span data-stu-id="314ef-187">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-188">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="314ef-188">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-189">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-189">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-190">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-190">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-191">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-191">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-192">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-192">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-193">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-193">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-194">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-194">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-195">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-195">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-196">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-196">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-197">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="314ef-197">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-198">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-198">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-199">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-199">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-200">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-200">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-201">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-201">Success</span></span></td>
        <td><span data-ttu-id="314ef-202">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-202">Success</span></span></td>
        <td><span data-ttu-id="314ef-203">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-203">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-204">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-204">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-205">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-205">Specific</span></span></td>
        <td><span data-ttu-id="314ef-206">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-206">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-207">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-207">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-208">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-208">Success</span></span></td>
        <td><span data-ttu-id="314ef-209">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-209">Success</span></span></td>
        <td><span data-ttu-id="314ef-210">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-210">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-211">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-211">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-212">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-212">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-213">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-213">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-214">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-214">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-215">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-215">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-216">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-216">Success</span></span></td>
        <td><span data-ttu-id="314ef-217">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-217">Success</span></span></td>
        <td><span data-ttu-id="314ef-218">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-218">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-219">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-219">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-220">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-220">Specific</span></span></td>
        <td><span data-ttu-id="314ef-221">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-221">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-222">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-222">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-223">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-223">Success</span></span></td>
        <td><span data-ttu-id="314ef-224">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-224">Success</span></span></td>
        <td><span data-ttu-id="314ef-225">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-225">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-226">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-226">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-227">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-227">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-228">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-228">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-229">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-229">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-230">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-230">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-231">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-231">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-232">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-232">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-233">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-233">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-234">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-234">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-235">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-235">Specific</span></span></td>
        <td><span data-ttu-id="314ef-236">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-236">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-237">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-237">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-238">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-238">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-239">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-239">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-240">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-240">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-241">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-241">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="314ef-242">Cuando dos sockets están enlazados al mismo número de puerto pero en interfaces explícitas diferentes, no hay ningún conflicto.</span><span class="sxs-lookup"><span data-stu-id="314ef-242">When two sockets are bound to the same port number but on different explicit interfaces, there is no conflict.</span></span> <span data-ttu-id="314ef-243">Por ejemplo, en el caso de que un equipo tenga dos interfaces IP, 10.0.0.1 y 10.99.99.99, si la primera llamada a [**BIND**](/windows/win32/api/winsock/nf-winsock-bind) está en 10.0.0.1 con el puerto establecido en 5150 y, **por tanto, \_ EXCLUSIVEADDRUSE** especificado, una segunda llamada a **BIND** en 10.99.99.99 con el puerto también se establece en 5150 y ninguna de las opciones especificadas se realizará correctamente.</span><span class="sxs-lookup"><span data-stu-id="314ef-243">For example, in the case where a computer has two IP interfaces, 10.0.0.1 and 10.99.99.99, if the first call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) is on 10.0.0.1 with the port set to 5150 and **SO\_EXCLUSIVEADDRUSE** specified, then a second call to **bind** on 10.99.99.99 with the port also set to 5150 and no options specified will succeed.</span></span> <span data-ttu-id="314ef-244">Sin embargo, si el primer socket se enlaza a la dirección comodín y al puerto 5150, se producirá un error en cualquier llamada de enlace subsiguiente al puerto 5150 con el conjunto de **\_ EXCLUSIVEADDRUSE** , con [WSAEADDRINUSE](windows-sockets-error-codes-2.md) o [WSAEACCES](windows-sockets-error-codes-2.md) devuelto por la operación de **enlace** .</span><span class="sxs-lookup"><span data-stu-id="314ef-244">However, if the first socket is bound to the wildcard address and port 5150, then any subsequent bind call to port 5150 with **SO\_EXCLUSIVEADDRUSE** set will fail with either [WSAEADDRINUSE](windows-sockets-error-codes-2.md) or [WSAEACCES](windows-sockets-error-codes-2.md) returned by the **bind** operation.</span></span>

<span data-ttu-id="314ef-245">En el caso de que la primera llamada a [**BIND**](/windows/win32/api/winsock/nf-winsock-bind) establezca, de **modo que \_ REUSEADDR** o ninguna opción de socket, la segunda llamada de **enlace** "secuestrará" el puerto y la aplicación no podrá determinar cuál de los dos sockets recibió paquetes específicos enviados al puerto "compartido".</span><span class="sxs-lookup"><span data-stu-id="314ef-245">In the case where the first call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) sets either **SO\_REUSEADDR** or no socket options at all, the second **bind** call will "hijack" the port and the application will be unable to determine which of the two sockets received specific packets sent to the "shared" port.</span></span>

<span data-ttu-id="314ef-246">Una aplicación típica que llama a la función [**BIND**](/windows/win32/api/winsock/nf-winsock-bind) no asigna el socket enlazado para uso exclusivo, a menos que se llame a la opción de socket for **\_ EXCLUSIVEADDRUSE** en el socket antes de la llamada a la función de **enlace** .</span><span class="sxs-lookup"><span data-stu-id="314ef-246">A typical application that calls the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) function does not allocate the bound socket for exclusive use, unless the **SO\_EXCLUSIVEADDRUSE** socket option is called on the socket before the call to the **bind** function.</span></span> <span data-ttu-id="314ef-247">Si una aplicación cliente se enlaza a un puerto efímero o a un puerto específico antes de que una aplicación de servidor se enlace al mismo puerto, pueden producirse problemas.</span><span class="sxs-lookup"><span data-stu-id="314ef-247">If a client application binds to an ephemeral port or a specific port before a server application binds to the same port, then problems can result.</span></span> <span data-ttu-id="314ef-248">La aplicación de servidor puede enlazar de forma forzada al mismo puerto mediante la opción de socket **so \_ REUSEADDR** en el socket antes de llamar a la función de **enlace** , pero el comportamiento de todos los sockets enlazados a ese puerto es entonces indeterminado.</span><span class="sxs-lookup"><span data-stu-id="314ef-248">The server application can forcibly bind to the same port by using the **SO\_REUSEADDR** socket option on the socket before calling the **bind** function, but the behavior for all sockets bound to that port is then indeterminate.</span></span> <span data-ttu-id="314ef-249">Si la aplicación de servidor intenta utilizar la opción de socket for **\_ EXCLUSIVEADDRUSE** para el uso exclusivo del puerto, se producirá un error en la solicitud.</span><span class="sxs-lookup"><span data-stu-id="314ef-249">If the server application tries to use the **SO\_EXCLUSIVEADDRUSE** socket option for exclusive use of the port, the request will fail.</span></span>

<span data-ttu-id="314ef-250">Por el contrario, un socket con el conjunto de **so for \_ EXCLUSIVEADDRUSE** no se puede volver a usar inmediatamente después del cierre del socket.</span><span class="sxs-lookup"><span data-stu-id="314ef-250">Conversely, a socket with the **SO\_EXCLUSIVEADDRUSE** set cannot necessarily be reused immediately after socket closure.</span></span> <span data-ttu-id="314ef-251">Por ejemplo, si un socket de escucha con el conjunto de **\_ EXCLUSIVEADDRUSE** acepta una conexión y, a continuación, se cierra, otro socket (también con **\_ EXCLUSIVEADDRUSE**) no se puede enlazar al mismo puerto que el primer socket hasta que la conexión original pasa a estar inactiva.</span><span class="sxs-lookup"><span data-stu-id="314ef-251">For example, if a listening socket with **SO\_EXCLUSIVEADDRUSE** set accepts a connection and is then subsequently closed, another socket (also with **SO\_EXCLUSIVEADDRUSE**) cannot bind to the same port as the first socket until the original connection becomes inactive.</span></span>

<span data-ttu-id="314ef-252">Este problema puede ser complicado porque es posible que el protocolo de transporte subyacente no finalice la conexión aunque el socket se haya cerrado.</span><span class="sxs-lookup"><span data-stu-id="314ef-252">This issue can become complicated because the underlying transport protocol may not terminate the connection even though the socket has been closed.</span></span> <span data-ttu-id="314ef-253">Incluso después de que la aplicación haya cerrado el socket, el sistema debe transmitir los datos almacenados en búfer, enviar un mensaje de desconexión sin problemas al elemento del mismo nivel y esperar un mensaje de desconexión estable correspondiente del elemento del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="314ef-253">Even after the socket has been closed by the application, the system must transmit any buffered data, send a graceful disconnect message to the peer, and wait for a corresponding graceful disconnect message from the peer.</span></span> <span data-ttu-id="314ef-254">Es posible que el protocolo de transporte subyacente nunca libere la conexión; por ejemplo, el elemento del mismo nivel que participa en la conexión original puede anunciar una ventana de tamaño cero o algún otro tipo de configuración de "ataque".</span><span class="sxs-lookup"><span data-stu-id="314ef-254">It is possible that the underlying transport protocol might never release the connection; for example, the peer participating in the original connection might advertise a zero-size window, or some other form of "attack" configuration.</span></span> <span data-ttu-id="314ef-255">En tal caso, la conexión de cliente permanece en estado activo a pesar de la solicitud de cierre, ya que los datos no confirmados permanecen en el búfer.</span><span class="sxs-lookup"><span data-stu-id="314ef-255">In such a case, the client connection remains in an active state despite the request to close it, since unacknowledged data remains in the buffer.</span></span>

<span data-ttu-id="314ef-256">Para evitar esta situación, las aplicaciones de red deben garantizar un cierre estable llamando a [**Shutdown**](/windows/win32/api/winsock/nf-winsock-shutdown) con la \_ marca de envío SD establecida y, a continuación, esperan en un bucle [**RECV**](/windows/win32/api/winsock/nf-winsock-recv) hasta que se devuelvan cero bytes a través de la conexión.</span><span class="sxs-lookup"><span data-stu-id="314ef-256">To avoid this situation, network applications should ensure a graceful shutdown by calling [**shutdown**](/windows/win32/api/winsock/nf-winsock-shutdown) with the SD\_SEND flag set, and then wait in a [**recv**](/windows/win32/api/winsock/nf-winsock-recv) loop until zero bytes are returned over the connection.</span></span> <span data-ttu-id="314ef-257">Esto garantiza que todos los datos son recibidos por el elemento del mismo nivel y también confirma con el par que ha recibido todos los datos transmitidos, así como para evitar el problema de reutilización del puerto mencionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="314ef-257">This guarantees that all data is received by the peer and likewise confirms with the peer that it has received all of the transmitted data, as well as avoiding the aforementioned port reuse issue.</span></span>

<span data-ttu-id="314ef-258">La \_ opción de socket persistente se puede establecer en un socket para evitar que el puerto pase a un estado de espera "activo"; sin embargo, esto no se recomienda, ya que puede dar lugar a efectos deseados, como restablecer conexiones.</span><span class="sxs-lookup"><span data-stu-id="314ef-258">The SO\_LINGER socket option may be set on a socket to prevent the port from transitioning to an "active" wait state; however, this is discouraged as it can lead to desired effects, such as reset connections.</span></span> <span data-ttu-id="314ef-259">Por ejemplo, si los datos son recibidos por el elemento del mismo nivel, pero permanecen sin confirmar, y el equipo local cierra el socket con la \_ configuración de permanencia establecida en él, se restablece la conexión entre los dos equipos y los datos no confirmados se descartan por el mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="314ef-259">For example, if data is received by the peer but remains unacknowledged by it, and the local computer closes the socket with SO\_LINGER set on it, the connection between the two computers is reset and the unacknowledged data discarded by the peer.</span></span> <span data-ttu-id="314ef-260">La elección de un tiempo adecuado para la permanencia es difícil porque un valor de tiempo de espera más pequeño suele dar lugar a las conexiones anuladas repentinamente, mientras que los valores de tiempo de espera mayores dejan que el sistema sea vulnerable a los ataques por denegación de servicio (mediante la creación de muchas conexiones y la posible detención o bloqueo de subprocesos de aplicación)</span><span class="sxs-lookup"><span data-stu-id="314ef-260">Picking a suitable time to linger is difficult as a smaller timeout value often results in suddenly aborted connections, whereas larger timeout values leave the system vulnerable to denial-of-service attacks (by establishing many connections and potentially stalling/blocking application threads).</span></span> <span data-ttu-id="314ef-261">Cerrar un socket que tenga un valor de tiempo de espera de permanencia distinto de cero también puede hacer que la llamada [**closesocket**](/windows/win32/api/winsock/nf-winsock-closesocket) se bloquee.</span><span class="sxs-lookup"><span data-stu-id="314ef-261">Closing a socket that has a nonzero linger timeout value may also cause the [**closesocket**](/windows/win32/api/winsock/nf-winsock-closesocket) call to block.</span></span>

## <a name="enhanced-socket-security"></a><span data-ttu-id="314ef-262">Seguridad de sockets mejorada</span><span class="sxs-lookup"><span data-stu-id="314ef-262">Enhanced Socket Security</span></span>

<span data-ttu-id="314ef-263">Se ha agregado seguridad de socket mejorada con la versión de Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="314ef-263">Enhanced socket security was added with the release of Windows Server 2003.</span></span> <span data-ttu-id="314ef-264">En las versiones anteriores del sistema operativo de servidor de Microsoft, la seguridad de sockets predeterminada permitía los procesos para secuestrar puertos de aplicaciones no sospechosas.</span><span class="sxs-lookup"><span data-stu-id="314ef-264">In previous Microsoft server operating system releases, the default socket security easily allowed processes to hijack ports from unsuspecting applications.</span></span> <span data-ttu-id="314ef-265">En Windows Server 2003, los sockets no se encuentran en un estado que se pueda compartir de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="314ef-265">In Windows Server 2003, sockets are not in a sharable state by default.</span></span> <span data-ttu-id="314ef-266">Por lo tanto, si una aplicación desea permitir que otros procesos reutilicen un puerto en el que ya está enlazado un socket, debe habilitarlo específicamente.</span><span class="sxs-lookup"><span data-stu-id="314ef-266">Therefore, if an application wants to allow other processes to reuse a port on which a socket is already bound, it must specifically enable it.</span></span> <span data-ttu-id="314ef-267">En ese caso, el primer socket para llamar a [**BIND**](/windows/win32/api/winsock/nf-winsock-bind) en el puerto debe tener **\_ REUSEADDR** establecido en el socket.</span><span class="sxs-lookup"><span data-stu-id="314ef-267">If that is the case, the first socket to call [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the port must have **SO\_REUSEADDR** set on the socket.</span></span> <span data-ttu-id="314ef-268">La única excepción a este caso se produce cuando la segunda llamada de **enlace** la realiza la misma cuenta de usuario que realizó la llamada original a **BIND**.</span><span class="sxs-lookup"><span data-stu-id="314ef-268">The only exception to this case occurs when the second **bind** call is performed by the same user account that made the original call to **bind**.</span></span> <span data-ttu-id="314ef-269">Esta excepción existe únicamente para proporcionar compatibilidad con versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="314ef-269">This exception exists solely to provide backward compatibility.</span></span>

<span data-ttu-id="314ef-270">En la tabla siguiente se describe el comportamiento que se produce en Windows Server 2003 y los sistemas operativos posteriores cuando un segundo socket intenta enlazar con una dirección enlazada previamente a por un primer socket usando opciones de socket específicas.</span><span class="sxs-lookup"><span data-stu-id="314ef-270">The table below describes the behavior that occurs in Windows Server 2003 and later operating systems when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options.</span></span>

> [!NOTE]
> <span data-ttu-id="314ef-271">En la tabla siguiente, "carácter comodín" denota la dirección comodín para el protocolo especificado (por ejemplo, "0.0.0.0" para IPv4 y "::" para IPv6).</span><span class="sxs-lookup"><span data-stu-id="314ef-271">In the table below, "wildcard" denotes the wildcard address for the given protocol (such as "0.0.0.0" for IPv4 and "::" for IPv6).</span></span> <span data-ttu-id="314ef-272">"Específico" denota una dirección IP específica asignada a una interfaz.</span><span class="sxs-lookup"><span data-stu-id="314ef-272">"Specific" denotes a specific IP address assigned an interface.</span></span> <span data-ttu-id="314ef-273">Las celdas de la tabla indican si el enlace se realiza correctamente ("Success") o el error devuelto ("INUSE" para el error [WSAEADDRINUSE](windows-sockets-error-codes-2.md) ; "ACCESS" para el error [WSAEACCES](windows-sockets-error-codes-2.md) ).</span><span class="sxs-lookup"><span data-stu-id="314ef-273">The table cells indicate whether or not the bind is successful ("Success") or the error returned ("INUSE" for the [WSAEADDRINUSE](windows-sockets-error-codes-2.md) error; "ACCESS" for the [WSAEACCES](windows-sockets-error-codes-2.md) error).</span></span>
>
> <span data-ttu-id="314ef-274">Tenga en cuenta también que en esta tabla específica, ambas llamadas de [**enlace**](/windows/win32/api/winsock/nf-winsock-bind) se realizan en la misma cuenta de usuario.</span><span class="sxs-lookup"><span data-stu-id="314ef-274">Also note that in this specific table, both [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls are made under the same user account.</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="314ef-275">Primera llamada de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>enlace</strong></a></span><span class="sxs-lookup"><span data-stu-id="314ef-275">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="314ef-276">Segunda llamada de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>enlace</strong></a></span><span class="sxs-lookup"><span data-stu-id="314ef-276">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-277">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="314ef-277">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-278">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-278">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-279">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-279">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-280">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-280">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-281">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-281">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-282">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-282">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-283">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-283">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-284">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-284">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-285">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-285">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-286">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="314ef-286">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-287">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-287">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-288">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-288">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-289">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-289">Success</span></span></td>
        <td><span data-ttu-id="314ef-290">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-290">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-291">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-291">Success</span></span></td>
        <td><span data-ttu-id="314ef-292">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-292">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-293">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-293">Success</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-294">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-294">Specific</span></span></td>
        <td><span data-ttu-id="314ef-295">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-295">Success</span></span></td>
        <td><span data-ttu-id="314ef-296">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-296">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-297">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-297">Success</span></span></td>
        <td><span data-ttu-id="314ef-298">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-298">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-299">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-299">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-300">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-300">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-301">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-301">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-302">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-302">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-303">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-303">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-304">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-304">Success</span></span></td>
        <td><span data-ttu-id="314ef-305">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-305">Success</span></span></td>
        <td><span data-ttu-id="314ef-306">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-306">Success</span></span></td>
        <td><span data-ttu-id="314ef-307">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-307">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-308">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-308">Success</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-309">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-309">Specific</span></span></td>
        <td><span data-ttu-id="314ef-310">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-310">Success</span></span></td>
        <td><span data-ttu-id="314ef-311">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-311">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-312">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-312">Success</span></span></td>
        <td><span data-ttu-id="314ef-313">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-313">Success</span></span></td>
        <td><span data-ttu-id="314ef-314">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-314">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-315">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-315">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-316">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-316">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-317">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-317">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-318">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-318">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-319">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-319">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-320">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-320">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-321">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-321">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-322">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-322">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-323">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-323">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-324">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-324">Specific</span></span></td>
        <td><span data-ttu-id="314ef-325">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-325">Success</span></span></td>
        <td><span data-ttu-id="314ef-326">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-326">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-327">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-327">Success</span></span></td>
        <td><span data-ttu-id="314ef-328">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-328">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-329">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-329">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-330">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-330">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="314ef-331">Algunas de las entradas de la tabla anterior explican la explicación.</span><span class="sxs-lookup"><span data-stu-id="314ef-331">A few entries in the table above merit explanation.</span></span>

<span data-ttu-id="314ef-332">Por ejemplo, si el primer llamador establece **\_ EXCLUSIVEADDRUSE** en una dirección específica y el segundo intenta llamar a [**BIND**](/windows/win32/api/winsock/nf-winsock-bind) con una dirección comodín en el mismo puerto, la segunda llamada de **enlace** se realizará correctamente.</span><span class="sxs-lookup"><span data-stu-id="314ef-332">For example, if the first caller sets **SO\_EXCLUSIVEADDRUSE** on a specific address, and second caller attempts to call [**bind**](/windows/win32/api/winsock/nf-winsock-bind) with a wildcard address on the same port, the second **bind** call will succeed.</span></span> <span data-ttu-id="314ef-333">En este caso concreto, el segundo llamador se enlaza a todas las interfaces excepto la dirección específica a la que está enlazado el primer llamador.</span><span class="sxs-lookup"><span data-stu-id="314ef-333">In this particular case, the second caller is bound to all interfaces except the specific address to which the first caller is bound.</span></span> <span data-ttu-id="314ef-334">Tenga en cuenta que la inverso de este caso no es true: Si el primer llamador establece de **modo que \_ EXCLUSIVEADDRUSE** y llama a **BIND** con la marca de comodín, el segundo llamador no puede llamar a **BIND** con el mismo puerto.</span><span class="sxs-lookup"><span data-stu-id="314ef-334">Note that the reverse of this case is not true: if the first caller sets **SO\_EXCLUSIVEADDRUSE** and calls **bind** with the wildcard flag, the second caller is not able to call **bind** with the same port.</span></span>

<span data-ttu-id="314ef-335">El comportamiento de enlace del socket cambia cuando las llamadas de enlace de socket se realizan en diferentes cuentas de usuario.</span><span class="sxs-lookup"><span data-stu-id="314ef-335">The socket binding behavior changes when the socket bind calls are made under different user accounts.</span></span> <span data-ttu-id="314ef-336">En la tabla siguiente se especifica el comportamiento que se produce en Windows Server 2003 y los sistemas operativos posteriores cuando un segundo socket intenta enlazar con una dirección enlazada previamente a por un primer socket usando opciones de socket específicas y una cuenta de usuario diferente.</span><span class="sxs-lookup"><span data-stu-id="314ef-336">The table below specifies the behavior that occurs in Windows Server 2003 and later operating systems when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options and a different user account.</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="314ef-337">Primera llamada de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>enlace</strong></a></span><span class="sxs-lookup"><span data-stu-id="314ef-337">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="314ef-338">Segunda llamada de <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>enlace</strong></a></span><span class="sxs-lookup"><span data-stu-id="314ef-338">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-339">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="314ef-339">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-340">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-340">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="314ef-341">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-341">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-342">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-342">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-343">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-343">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-344">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-344">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-345">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-345">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-346">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-346">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-347">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-347">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-348">Valor predeterminado</span><span class="sxs-lookup"><span data-stu-id="314ef-348">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-349">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-349">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-350">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-350">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-351">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-351">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-352">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-352">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-353">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-353">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-354">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-354">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-355">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-355">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-356">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-356">Specific</span></span></td>
        <td><span data-ttu-id="314ef-357">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-357">Success</span></span></td>
        <td><span data-ttu-id="314ef-358">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-358">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-359">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-359">Success</span></span></td>
        <td><span data-ttu-id="314ef-360">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-360">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-361">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-361">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-362">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-362">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-363">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="314ef-363">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-364">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-364">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-365">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-365">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-366">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-366">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-367">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-367">Success</span></span></td>
        <td><span data-ttu-id="314ef-368">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-368">Success</span></span></td>
        <td><span data-ttu-id="314ef-369">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-369">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-370">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-370">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-371">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-371">Specific</span></span></td>
        <td><span data-ttu-id="314ef-372">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-372">Success</span></span></td>
        <td><span data-ttu-id="314ef-373">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-373">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-374">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-374">Success</span></span></td>
        <td><span data-ttu-id="314ef-375">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-375">Success</span></span></td>
        <td><span data-ttu-id="314ef-376">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-376">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-377">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-377">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="314ef-378">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="314ef-378">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-379">Wildcard (Carácter comodín)</span><span class="sxs-lookup"><span data-stu-id="314ef-379">Wildcard</span></span></td>
        <td><span data-ttu-id="314ef-380">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-380">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-381">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-381">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-382">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-382">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-383">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-383">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-384">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-384">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-385">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-385">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="314ef-386">Específico</span><span class="sxs-lookup"><span data-stu-id="314ef-386">Specific</span></span></td>
        <td><span data-ttu-id="314ef-387">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-387">Success</span></span></td>
        <td><span data-ttu-id="314ef-388">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-388">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-389">Correcto</span><span class="sxs-lookup"><span data-stu-id="314ef-389">Success</span></span></td>
        <td><span data-ttu-id="314ef-390">ACCESS</span><span class="sxs-lookup"><span data-stu-id="314ef-390">ACCESS</span></span></td>
        <td><span data-ttu-id="314ef-391">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-391">INUSE</span></span></td>
        <td><span data-ttu-id="314ef-392">Property</span><span class="sxs-lookup"><span data-stu-id="314ef-392">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="314ef-393">Tenga en cuenta que el comportamiento predeterminado es diferente cuando las llamadas de [**enlace**](/windows/win32/api/winsock/nf-winsock-bind) se realizan en distintas cuentas de usuario.</span><span class="sxs-lookup"><span data-stu-id="314ef-393">Note that the default behavior is different when the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls are made under different user accounts.</span></span> <span data-ttu-id="314ef-394">Si el primer autor de la llamada no establece ninguna opción en el socket y se enlaza a la dirección comodín, el segundo llamador no puede establecer la opción **so de \_ REUSEADDR** y enlazarse correctamente con el mismo puerto.</span><span class="sxs-lookup"><span data-stu-id="314ef-394">If the first caller does not set any options on the socket and binds to the wildcard address, then the second caller cannot set the **SO\_REUSEADDR** option and successfully bind to the same port.</span></span> <span data-ttu-id="314ef-395">El comportamiento predeterminado sin ningún conjunto de opciones también devuelve un error.</span><span class="sxs-lookup"><span data-stu-id="314ef-395">The default behavior with no options set returns an error, as well.</span></span>

<span data-ttu-id="314ef-396">En Windows Vista y versiones posteriores, se puede crear un socket de pila doble que opere a través de IPv6 e IPv4.</span><span class="sxs-lookup"><span data-stu-id="314ef-396">On Windows Vista and later, a dual stack socket can be created which operates over both IPv6 and IPv4.</span></span> <span data-ttu-id="314ef-397">Cuando un socket de pila doble se enlaza a la dirección comodín, el puerto especificado se reserva en las pilas de red IPv4 e IPv6, y las comprobaciones asociadas con **, por lo tanto, \_ REUSEADDR** y **, por tanto \_** , se realiza EXCLUSIVEADDRUSE (si se establece).</span><span class="sxs-lookup"><span data-stu-id="314ef-397">When a dual stack socket is bound to the wildcard address, the given port is reserved on both the IPv4 and IPv6 networking stacks and the checks associated with **SO\_REUSEADDR** and **SO\_EXCLUSIVEADDRUSE** (if set) are made.</span></span> <span data-ttu-id="314ef-398">Estas comprobaciones deben realizarse en ambas pilas de red.</span><span class="sxs-lookup"><span data-stu-id="314ef-398">These checks must succeed on both networking stacks.</span></span> <span data-ttu-id="314ef-399">Por ejemplo, si un socket TCP de pila dual se establece de **modo que \_ EXCLUSIVEADDRUSE** y, a continuación, intenta enlazar con el puerto 5000, no se puede enlazar previamente ningún otro socket tcp al puerto 5000 (ya sea comodín o específico).</span><span class="sxs-lookup"><span data-stu-id="314ef-399">For example, if a dual stack TCP socket sets **SO\_EXCLUSIVEADDRUSE** and then tries to bind to port 5000, then no other TCP socket can be previously bound to port 5000 (either wildcard or specific).</span></span> <span data-ttu-id="314ef-400">En este caso, si un socket TCP IPv4 estaba previamente enlazado a la dirección de bucle invertido en el puerto 5000, la llamada de [**enlace**](/windows/win32/api/winsock/nf-winsock-bind) para el socket de pila dual produciría un error con [WSAEACCES](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="314ef-400">In this case if an IPv4 TCP socket was previously bound to the loopback address on port 5000, the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) call for the dual stack socket would fail with [WSAEACCES](windows-sockets-error-codes-2.md).</span></span>

## <a name="application-strategies"></a><span data-ttu-id="314ef-401">Estrategias de aplicación</span><span class="sxs-lookup"><span data-stu-id="314ef-401">Application Strategies</span></span>

<span data-ttu-id="314ef-402">Al desarrollar una aplicación de red que opere en el nivel de socket, es importante tener en cuenta el tipo de seguridad de socket necesario.</span><span class="sxs-lookup"><span data-stu-id="314ef-402">When developing network application that operate at the socket layer, it is important to consider the type of socket security necessary.</span></span> <span data-ttu-id="314ef-403">Las aplicaciones cliente de: las aplicaciones que se conectan o envían datos a un servicio de, raramente requieren pasos adicionales, ya que se enlazan a un puerto local aleatorio (efímero).</span><span class="sxs-lookup"><span data-stu-id="314ef-403">Client applications — applications that connect or send data to a service — rarely require any additional steps since they bind to a random local (ephemeral) port.</span></span> <span data-ttu-id="314ef-404">Si el cliente requiere un enlace de puerto local específico para que funcione correctamente, debe tener en cuenta la seguridad del socket.</span><span class="sxs-lookup"><span data-stu-id="314ef-404">If the client does require a specific local port binding in order to function correctly, then you must consider socket security.</span></span>

<span data-ttu-id="314ef-405">La opción for **\_ REUSEADDR** tiene muy pocos usos en aplicaciones normales, además de los sockets de multidifusión, donde los datos se entregan a todos los sockets enlazados en el mismo puerto.</span><span class="sxs-lookup"><span data-stu-id="314ef-405">The **SO\_REUSEADDR** option has very few uses in normal applications aside from multicast sockets where data is delivered to all of the sockets bound on the same port.</span></span> <span data-ttu-id="314ef-406">De lo contrario, cualquier aplicación que establezca esta opción de socket se debe volver a diseñar para quitar la dependencia, ya que es eminently vulnerable a "secuestro de socket".</span><span class="sxs-lookup"><span data-stu-id="314ef-406">Otherwise, any application that sets this socket option should be redesigned to remove the dependency since it is eminently vulnerable to "socket hijacking".</span></span> <span data-ttu-id="314ef-407">Siempre que se pueda usar la opción de socket **\_ REUSEADDR** para secuestrar un puerto en una aplicación de servidor, se debe considerar que la aplicación no es segura.</span><span class="sxs-lookup"><span data-stu-id="314ef-407">As long as **SO\_REUSEADDR** socket option can be used to potentially hijack a port in a server application, the application must be considered to be not secure.</span></span>

<span data-ttu-id="314ef-408">Todas las aplicaciones de servidor deben establecerse de **modo que \_ EXCLUSIVEADDRUSE** para un nivel de seguridad de socket fuerte.</span><span class="sxs-lookup"><span data-stu-id="314ef-408">All server applications must set **SO\_EXCLUSIVEADDRUSE** for a strong level of socket security.</span></span> <span data-ttu-id="314ef-409">No solo impide que el software malintencionado piratee el puerto, sino que también indica si otra aplicación está enlazada al puerto solicitado.</span><span class="sxs-lookup"><span data-stu-id="314ef-409">Not only does it prevent malicious software from hijacking the port, but it also indicates whether or not another application is bound to the requested port.</span></span> <span data-ttu-id="314ef-410">Por ejemplo, se producirá un error en una llamada para [**enlazar**](/windows/win32/api/winsock/nf-winsock-bind) en la dirección comodín de un proceso con el conjunto de opciones de socket for **\_ EXCLUSIVEADDRUSE** si hay otro proceso enlazado actualmente al mismo puerto en una interfaz específica.</span><span class="sxs-lookup"><span data-stu-id="314ef-410">For example, a call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the wildcard address by a process with the **SO\_EXCLUSIVEADDRUSE** socket option set will fail if another process is currently bound to the same port on a specific interface.</span></span>

<span data-ttu-id="314ef-411">Por último, aunque la seguridad de sockets se ha mejorado en Windows Server 2003, una aplicación debe establecer siempre la opción de socket for **\_ EXCLUSIVEADDRUSE** para asegurarse de que se enlaza a todas las interfaces específicas que el proceso ha solicitado.</span><span class="sxs-lookup"><span data-stu-id="314ef-411">Lastly, even though socket security has been improved in Windows Server 2003, an application should always set the **SO\_EXCLUSIVEADDRUSE** socket option to ensure that it binds to all the specific interfaces the process has requested.</span></span> <span data-ttu-id="314ef-412">La seguridad de socket en Windows Server 2003 agrega un mayor nivel de seguridad para las aplicaciones heredadas, pero los desarrolladores de aplicaciones deben seguir diseñando sus productos con todos los aspectos de seguridad en mente.</span><span class="sxs-lookup"><span data-stu-id="314ef-412">The socket security in Windows Server 2003 adds an increased level of security for legacy applications, but application developers must still design their products with all aspects of security in mind.</span></span>
