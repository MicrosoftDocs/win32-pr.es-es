---
description: Las voces de XAudio2 pueden realizar conversiones automáticas de velocidad de muestra si la velocidad de muestra de entrada es diferente de la velocidad de muestra de entrada de sus voces de salida.
ms.assetid: be34ce62-6552-45e2-a247-830ab55ea9ec
title: Conversiones de velocidad de muestra de XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d437a45f9e896826bedc1418382fb257201722d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104279358"
---
# <a name="xaudio2-sample-rate-conversions"></a><span data-ttu-id="728a1-103">Conversiones de velocidad de muestra de XAudio2</span><span class="sxs-lookup"><span data-stu-id="728a1-103">XAudio2 Sample Rate Conversions</span></span>

<span data-ttu-id="728a1-104">Las voces de XAudio2 pueden realizar conversiones automáticas de velocidad de muestra si la velocidad de muestra de entrada es diferente de la velocidad de muestra de entrada de sus voces de salida.</span><span class="sxs-lookup"><span data-stu-id="728a1-104">XAudio2 voices can perform automatic sample rate conversions if their input sample rate is different from the input sample rate of their output voices.</span></span>

<span data-ttu-id="728a1-105">Las conversiones de velocidad de muestra siguen estas reglas:</span><span class="sxs-lookup"><span data-stu-id="728a1-105">Sample rate conversions follow these rules:</span></span>

-   <span data-ttu-id="728a1-106">La velocidad de muestra de entrada de voz es fija.</span><span class="sxs-lookup"><span data-stu-id="728a1-106">Voice input sample rate is fixed.</span></span>

    <span data-ttu-id="728a1-107">Las voces solo pueden controlar la velocidad de muestra de entrada especificada cuando se crearon.</span><span class="sxs-lookup"><span data-stu-id="728a1-107">Voices can only handle the input sample rate specified when they were created.</span></span> <span data-ttu-id="728a1-108">En [**el caso de**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice) voces y [**voces de submezcla**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice), se especifica la velocidad de muestra de entrada con el argumento *InputSampleRate* para las funciones [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) y [**IXAudio2:: CreateSubmixVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsubmixvoice) .</span><span class="sxs-lookup"><span data-stu-id="728a1-108">For [**mastering voices**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice) and [**submix voices**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice), the input sample rate is specified with the *InputSampleRate* argument to the [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) and [**IXAudio2::CreateSubmixVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsubmixvoice) functions.</span></span> <span data-ttu-id="728a1-109">En el caso de las voces de origen, la velocidad de muestra de entrada de la voz se especifica mediante el argumento pSourceFormat para la función [**IXAudio2:: CreateSourceVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice) .</span><span class="sxs-lookup"><span data-stu-id="728a1-109">For source voices, the input sample rate of the voice is specified by the pSourceFormat argument to the [**IXAudio2::CreateSourceVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice) function.</span></span>

-   <span data-ttu-id="728a1-110">Todas las voces de salida de una voz deben tener la misma velocidad de muestra de entrada.</span><span class="sxs-lookup"><span data-stu-id="728a1-110">All of a voice's output voices must have the same input sample rate.</span></span>

    <span data-ttu-id="728a1-111">Las voces pueden convertir la velocidad de muestra de entrada a cualquier velocidad de muestra de salida, pero todas las voces de salida de la voz deben tener la misma velocidad de muestra de entrada.</span><span class="sxs-lookup"><span data-stu-id="728a1-111">Voices can convert from their input sample rate to any output sample rate, but all of the voice's output voices must have the same input sample rate.</span></span> <span data-ttu-id="728a1-112">Por ejemplo, una voz puede generar una salida a cualquier número de voces con una velocidad de muestra de entrada de 22 kHz.</span><span class="sxs-lookup"><span data-stu-id="728a1-112">For example, a voice could output to any number of voices with an input sample rate of 22 kHz.</span></span> <span data-ttu-id="728a1-113">Sin embargo, si esa misma voz tuviera varias voces de salida, cada una de las cuales tenía una velocidad de muestra de entrada diferente, el gráfico de audio no sería válido.</span><span class="sxs-lookup"><span data-stu-id="728a1-113">However, if that same voice had several output voices, each of which had a different input sample rate, the audio graph would not be valid.</span></span>

-   <span data-ttu-id="728a1-114">El procesamiento de la conversión de velocidad de muestra solo se produce cuando es necesario.</span><span class="sxs-lookup"><span data-stu-id="728a1-114">Sample rate conversion processing only occurs when necessary.</span></span>

    <span data-ttu-id="728a1-115">La conversión de datos de audio a una velocidad de muestra diferente supone más sobrecarga de procesamiento, lo que es preferible evitar.</span><span class="sxs-lookup"><span data-stu-id="728a1-115">Converting audio data to a different sample rate incurs more processing overhead, which it is preferable to avoid.</span></span> <span data-ttu-id="728a1-116">Si la velocidad de muestra de entrada de una voz coincide con la velocidad de muestra de entrada de sus voces de salida, esta conversión no se realiza y se acorta el tiempo de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="728a1-116">If a voice's input sample rate matches the input sample rate of its output voices, this conversion is not done and processing time is shortened.</span></span>

-   <span data-ttu-id="728a1-117">La velocidad de muestra de salida puede variar a lo largo de la vida de una voz.</span><span class="sxs-lookup"><span data-stu-id="728a1-117">Output sample rate can vary over the life of a voice.</span></span>

    <span data-ttu-id="728a1-118">La velocidad de muestra de salida de una voz no es fija.</span><span class="sxs-lookup"><span data-stu-id="728a1-118">The output sample rate of a voice is not fixed.</span></span> <span data-ttu-id="728a1-119">Siempre y cuando todas sus voces de salida tengan la misma velocidad de muestra de entrada, el gráfico de audio será válido.</span><span class="sxs-lookup"><span data-stu-id="728a1-119">As long as all of its output voices have the same input sample rate, the audio graph will be valid.</span></span> <span data-ttu-id="728a1-120">Si se cambia una voz para que se genere en nuevas voces con una velocidad de muestra de entrada diferente, la voz se convertirá a la velocidad de muestra de entrada de las nuevas voces.</span><span class="sxs-lookup"><span data-stu-id="728a1-120">If a voice is changed to output to new voices with a different input sample rate, the voice will convert to the input sample rate of the new voices.</span></span>

<span data-ttu-id="728a1-121">Hay algunos escenarios en los que es necesario agregar una voz de submezcla para realizar la conversión de velocidad de muestra entre las voces.</span><span class="sxs-lookup"><span data-stu-id="728a1-121">There are some scenarios in which it is necessary to add a submix voice to perform sample rate conversion between voices.</span></span> <span data-ttu-id="728a1-122">Si una voz necesita enviarse a voces con varias velocidades de muestra de entrada, solo una de las voces puede ser una salida directa de la voz original.</span><span class="sxs-lookup"><span data-stu-id="728a1-122">If a voice needs to output to voices with various input sample rates, only one of the voices can be a direct output of the original voice.</span></span> <span data-ttu-id="728a1-123">Dado que todas las voces de salida de una voz deben tener la misma velocidad de muestra de entrada, las demás voces reciben la salida indirectamente.</span><span class="sxs-lookup"><span data-stu-id="728a1-123">Because all of a voice's output voices must have the same input sample rate, the other voices receive output indirectly.</span></span> <span data-ttu-id="728a1-124">Debe haber una voz de submezcla con la velocidad de muestra de entrada correcta que viene entre la voz original y la de salida deseada.</span><span class="sxs-lookup"><span data-stu-id="728a1-124">There must be a submix voice with the correct input sample rate that comes between the original voice and the intended output voice.</span></span>

<span data-ttu-id="728a1-125">Por ejemplo, imagine una voz de origen con una velocidad de muestra de entrada de 22 kHz, que debe generarse en una voz de submezcla con una velocidad de muestra de entrada de 11 kHz y una voz de maestro con una velocidad de muestra de entrada de 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="728a1-125">For example, consider a source voice with an input sample rate of 22 kHz, which needs to output to a submix voice with an input sample rate of 11 kHz and a mastering voice with an input sample rate of 44.1 kHz.</span></span> <span data-ttu-id="728a1-126">Dado que las dos voces de salida tienen velocidades de muestra de entrada diferentes, debe insertar más voces de submezcla entre la voz original y sus voces de salida prepensadas.</span><span class="sxs-lookup"><span data-stu-id="728a1-126">Because the two output voices have different input sample rates, you need to insert more submix voices between the original voice and its intended output voices.</span></span> <span data-ttu-id="728a1-127">Para mantener la fidelidad de la voz de origen y evitar conversiones costosas innecesarias a velocidades de muestreo más altas, debe insertar en el gráfico dos voces de mezcla con una velocidad de entrada de ejemplo de 22 kHz.</span><span class="sxs-lookup"><span data-stu-id="728a1-127">To maintain the fidelity of the source voice and avoid unnecessary expensive conversions to higher sample rates, you need to insert two submix voices with 22 khz sample input rates into the graph.</span></span> <span data-ttu-id="728a1-128">Una voz de submezcla tendría una salida de 11 kHz a la voz de la submezcla con el efecto de reverberación, y la otra voz de submezcla se enviaría a la voz de masterización en 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="728a1-128">One submix voice would output at 11 khz to the submix voice with the reverb effect, and the other submix voice would output to the mastering voice at 44.1 khz.</span></span>

## <a name="examples-of-sample-rate-conversion-in-audio-graphs"></a><span data-ttu-id="728a1-129">Ejemplos de conversión de velocidad de ejemplo en gráficos de audio</span><span class="sxs-lookup"><span data-stu-id="728a1-129">Examples of Sample Rate Conversion in Audio Graphs</span></span>

<span data-ttu-id="728a1-130">Todas las voces tienen la misma velocidad de entrada de ejemplo; no se realiza ninguna conversión de velocidad de muestra en el gráfico de audio.</span><span class="sxs-lookup"><span data-stu-id="728a1-130">All voices have the same sample input rate; no sample rate conversion is done in the audio graph.</span></span>![no se realiza ninguna conversión de velocidad de muestra en el gráfico de audio.](images/xaudio2-sample-rate-conversions-1.png)

<span data-ttu-id="728a1-132">Todas las voces tienen la misma velocidad de entrada de ejemplo excepto la voz de mastering; la conversión de la frecuencia de muestreo solo se realiza en los datos que van a la voz de la maestra.</span><span class="sxs-lookup"><span data-stu-id="728a1-132">All voices have the same sample input rate except the mastering voice; sample rate conversion is only performed on data going to the mastering voice.</span></span> ![la conversión de la frecuencia de muestreo solo se realiza en los datos que van a la voz de la maestra.](images/xaudio2-sample-rate-conversions-2.png)

<span data-ttu-id="728a1-134">Las voces tienen tasas de entrada de ejemplo diferentes y requieren más voces de submezcla para realizar conversiones de velocidad de muestra. la conversión de la frecuencia de muestreo se realiza en varios lugares del gráfico de audio.</span><span class="sxs-lookup"><span data-stu-id="728a1-134">Voices have different sample input rates and require more submix voices to perform sample rate conversions; sample rate conversion is performed in multiple places in the audio graph.</span></span> ![la conversión de la frecuencia de muestreo se realiza en varios lugares del gráfico de audio.](images/xaudio2-sample-rate-conversions-3.png)

## <a name="related-topics"></a><span data-ttu-id="728a1-136">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="728a1-136">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="728a1-137">Voces</span><span class="sxs-lookup"><span data-stu-id="728a1-137">Voices</span></span>](voices.md)
</dt> <dt>

[<span data-ttu-id="728a1-138">Guía de programación de XAudio2</span><span class="sxs-lookup"><span data-stu-id="728a1-138">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 
