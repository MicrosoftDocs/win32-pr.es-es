---
title: Acerca de la entrada de teclado
description: En este tema se describe la entrada del teclado.
ms.assetid: de34727e-e8c7-481d-982d-0e42a02704db
keywords:
- entrada de usuario, entrada de teclado
- capturar datos proporcionados por el usuario, entrada mediante teclado
- entrada mediante teclado
- foco de teclado
- mensajes de pulsación de teclas
- mensajes de caracteres
- pulsaciones de teclas del sistema
- pulsaciones de teclas que no son del sistema
- mensajes de caracteres que no son de sistema
- claves muertas
- mensajes no enviados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 65ad481bad6756bb374b98a5510bdc26f1cded6a
ms.sourcegitcommit: ac62be2f60f757f61ea647a95c168c9841ffabac
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/10/2021
ms.locfileid: "104564352"
---
# <a name="about-keyboard-input"></a><span data-ttu-id="6afb1-114">Acerca de la entrada de teclado</span><span class="sxs-lookup"><span data-stu-id="6afb1-114">About Keyboard Input</span></span>

<span data-ttu-id="6afb1-115">Las aplicaciones deben aceptar la entrada del usuario del teclado y del mouse.</span><span class="sxs-lookup"><span data-stu-id="6afb1-115">Applications should accept user input from the keyboard as well as from the mouse.</span></span> <span data-ttu-id="6afb1-116">Una aplicación recibe la entrada del teclado en forma de mensajes enviados a sus ventanas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-116">An application receives keyboard input in the form of messages posted to its windows.</span></span>

<span data-ttu-id="6afb1-117">En esta sección se describen los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="6afb1-117">This section covers the following topics:</span></span>

-   [<span data-ttu-id="6afb1-118">Modelo de entrada de teclado</span><span class="sxs-lookup"><span data-stu-id="6afb1-118">Keyboard Input Model</span></span>](#keyboard-input-model)
-   [<span data-ttu-id="6afb1-119">Foco y activación del teclado</span><span class="sxs-lookup"><span data-stu-id="6afb1-119">Keyboard Focus and Activation</span></span>](#keyboard-focus-and-activation)
-   [<span data-ttu-id="6afb1-120">Mensajes de pulsación de teclas</span><span class="sxs-lookup"><span data-stu-id="6afb1-120">Keystroke Messages</span></span>](#keystroke-messages)
    -   [<span data-ttu-id="6afb1-121">Pulsaciones de teclas del sistema y no del sistema</span><span class="sxs-lookup"><span data-stu-id="6afb1-121">System and Nonsystem Keystrokes</span></span>](#system-and-nonsystem-keystrokes)
    -   [<span data-ttu-id="6afb1-122">Códigos de clave virtual descritos</span><span class="sxs-lookup"><span data-stu-id="6afb1-122">Virtual-Key Codes Described</span></span>](#virtual-key-codes-described)
    -   [<span data-ttu-id="6afb1-123">Marcas de mensajes de pulsación de teclas</span><span class="sxs-lookup"><span data-stu-id="6afb1-123">Keystroke Message Flags</span></span>](#keystroke-message-flags)
-   [<span data-ttu-id="6afb1-124">Mensajes de caracteres</span><span class="sxs-lookup"><span data-stu-id="6afb1-124">Character Messages</span></span>](#character-messages)
    -   [<span data-ttu-id="6afb1-125">Mensajes de caracteres que no son de sistema</span><span class="sxs-lookup"><span data-stu-id="6afb1-125">Nonsystem Character Messages</span></span>](#nonsystem-character-messages)
    -   [<span data-ttu-id="6afb1-126">Mensajes no enviados</span><span class="sxs-lookup"><span data-stu-id="6afb1-126">Dead-Character Messages</span></span>](#dead-character-messages)
-   [<span data-ttu-id="6afb1-127">Estado de la clave</span><span class="sxs-lookup"><span data-stu-id="6afb1-127">Key Status</span></span>](#key-status)
-   [<span data-ttu-id="6afb1-128">Traducciones de teclas y de caracteres</span><span class="sxs-lookup"><span data-stu-id="6afb1-128">Keystroke and Character Translations</span></span>](#keystroke-and-character-translations)
-   [<span data-ttu-id="6afb1-129">Compatibilidad con las teclas de acceso rápido</span><span class="sxs-lookup"><span data-stu-id="6afb1-129">Hot-Key Support</span></span>](#hot-key-support)
-   [<span data-ttu-id="6afb1-130">Teclas del teclado para la exploración y otras funciones</span><span class="sxs-lookup"><span data-stu-id="6afb1-130">Keyboard Keys for Browsing and Other Functions</span></span>](#keyboard-keys-for-browsing-and-other-functions)
-   [<span data-ttu-id="6afb1-131">Simular la entrada</span><span class="sxs-lookup"><span data-stu-id="6afb1-131">Simulating Input</span></span>](#simulating-input)
-   [<span data-ttu-id="6afb1-132">Idiomas, configuraciones regionales y distribuciones de teclado</span><span class="sxs-lookup"><span data-stu-id="6afb1-132">Languages, Locales, and Keyboard Layouts</span></span>](#languages-locales-and-keyboard-layouts)

## <a name="keyboard-input-model"></a><span data-ttu-id="6afb1-133">Modelo de entrada de teclado</span><span class="sxs-lookup"><span data-stu-id="6afb1-133">Keyboard Input Model</span></span>

<span data-ttu-id="6afb1-134">El sistema proporciona compatibilidad de teclado independiente del dispositivo para las aplicaciones mediante la instalación de un controlador de dispositivo de teclado adecuado para el teclado actual.</span><span class="sxs-lookup"><span data-stu-id="6afb1-134">The system provides device-independent keyboard support for applications by installing a keyboard device driver appropriate for the current keyboard.</span></span> <span data-ttu-id="6afb1-135">El sistema proporciona compatibilidad de teclado independiente del lenguaje mediante el uso de la distribución de teclado específica del idioma seleccionada actualmente por el usuario o la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6afb1-135">The system provides language-independent keyboard support by using the language-specific keyboard layout currently selected by the user or the application.</span></span> <span data-ttu-id="6afb1-136">El controlador de dispositivo de teclado recibe los códigos de digitalización del teclado, que se envían a la distribución del teclado, donde se traducen en mensajes y se publican en las ventanas adecuadas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6afb1-136">The keyboard device driver receives scan codes from the keyboard, which are sent to the keyboard layout where they are translated into messages and posted to the appropriate windows in your application.</span></span>

<span data-ttu-id="6afb1-137">Asignada a cada tecla de un teclado es un valor único denominado *código de análisis*, un identificador dependiente del dispositivo para la clave en el teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-137">Assigned to each key on a keyboard is a unique value called a *scan code*, a device-dependent identifier for the key on the keyboard.</span></span> <span data-ttu-id="6afb1-138">Un teclado genera dos códigos de digitalización cuando el usuario escribe una tecla, uno cuando el usuario presiona la tecla y otra cuando el usuario suelta la tecla.</span><span class="sxs-lookup"><span data-stu-id="6afb1-138">A keyboard generates two scan codes when the user types a key—one when the user presses the key and another when the user releases the key.</span></span>

<span data-ttu-id="6afb1-139">El controlador de dispositivo de teclado interpreta un código de examen y lo convierte (lo asigna) en un *código de tecla virtual*, un valor independiente del dispositivo definido por el sistema que identifica el propósito de una clave.</span><span class="sxs-lookup"><span data-stu-id="6afb1-139">The keyboard device driver interprets a scan code and translates (maps) it to a *virtual-key code*, a device-independent value defined by the system that identifies the purpose of a key.</span></span> <span data-ttu-id="6afb1-140">Después de traducir un código de digitalización, la distribución del teclado crea un mensaje que incluye el código de digitalización, el código de tecla virtual y otra información acerca de la pulsación de teclas y, después, coloca el mensaje en la cola de mensajes del sistema.</span><span class="sxs-lookup"><span data-stu-id="6afb1-140">After translating a scan code, the keyboard layout creates a message that includes the scan code, the virtual-key code, and other information about the keystroke, and then places the message in the system message queue.</span></span> <span data-ttu-id="6afb1-141">El sistema quita el mensaje de la cola de mensajes del sistema y lo envía a la cola de mensajes del subproceso adecuado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-141">The system removes the message from the system message queue and posts it to the message queue of the appropriate thread.</span></span> <span data-ttu-id="6afb1-142">Finalmente, el bucle de mensajes del subproceso quita el mensaje y lo pasa al procedimiento de ventana adecuado para su procesamiento.</span><span class="sxs-lookup"><span data-stu-id="6afb1-142">Eventually, the thread's message loop removes the message and passes it to the appropriate window procedure for processing.</span></span> <span data-ttu-id="6afb1-143">En la ilustración siguiente se muestra el modelo de entrada de teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-143">The following figure illustrates the keyboard input model.</span></span>

![modelo de procesamiento de entrada de teclado](images/csinp-01.png)

## <a name="keyboard-focus-and-activation"></a><span data-ttu-id="6afb1-145">Foco y activación del teclado</span><span class="sxs-lookup"><span data-stu-id="6afb1-145">Keyboard Focus and Activation</span></span>

<span data-ttu-id="6afb1-146">El sistema envía mensajes de teclado a la cola de mensajes del subproceso en primer plano que creó la ventana con el foco de teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-146">The system posts keyboard messages to the message queue of the foreground thread that created the window with the keyboard focus.</span></span> <span data-ttu-id="6afb1-147">El *foco de teclado* es una propiedad temporal de una ventana.</span><span class="sxs-lookup"><span data-stu-id="6afb1-147">The *keyboard focus* is a temporary property of a window.</span></span> <span data-ttu-id="6afb1-148">El sistema comparte el teclado entre todas las ventanas de la pantalla desplazando el foco del teclado, en la dirección del usuario, de una ventana a otra.</span><span class="sxs-lookup"><span data-stu-id="6afb1-148">The system shares the keyboard among all windows on the display by shifting the keyboard focus, at the user's direction, from one window to another.</span></span> <span data-ttu-id="6afb1-149">La ventana que tiene el foco de teclado recibe (desde la cola de mensajes del subproceso que la creó) todos los mensajes del teclado hasta que el foco cambia a otra ventana.</span><span class="sxs-lookup"><span data-stu-id="6afb1-149">The window that has the keyboard focus receives (from the message queue of the thread that created it) all keyboard messages until the focus changes to a different window.</span></span>

<span data-ttu-id="6afb1-150">Un subproceso puede llamar a la función [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus) para determinar cuál de sus ventanas (si existe) tiene actualmente el foco de teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-150">A thread can call the [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus) function to determine which of its windows (if any) currently has the keyboard focus.</span></span> <span data-ttu-id="6afb1-151">Un subproceso puede dar el foco de teclado a una de sus ventanas mediante una llamada a la función [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-151">A thread can give the keyboard focus to one of its windows by calling the [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus) function.</span></span> <span data-ttu-id="6afb1-152">Cuando el foco de teclado cambia de una ventana a otra, el sistema envía un mensaje de [**WM \_ KILLFOCUS**](wm-killfocus.md) a la ventana que ha perdido el foco y, a continuación, envía un mensaje de [**\_ SETFOCUS de WM**](wm-setfocus.md) a la ventana que ha obtenido el foco.</span><span class="sxs-lookup"><span data-stu-id="6afb1-152">When the keyboard focus changes from one window to another, the system sends a [**WM\_KILLFOCUS**](wm-killfocus.md) message to the window that has lost the focus, and then sends a [**WM\_SETFOCUS**](wm-setfocus.md) message to the window that has gained the focus.</span></span>

<span data-ttu-id="6afb1-153">El concepto de foco de teclado está relacionado con el de la ventana activa.</span><span class="sxs-lookup"><span data-stu-id="6afb1-153">The concept of keyboard focus is related to that of the active window.</span></span> <span data-ttu-id="6afb1-154">La *ventana activa* es la ventana de nivel superior con la que el usuario está trabajando actualmente.</span><span class="sxs-lookup"><span data-stu-id="6afb1-154">The *active window* is the top-level window the user is currently working with.</span></span> <span data-ttu-id="6afb1-155">La ventana con el foco de teclado es la ventana activa o una ventana secundaria de la ventana activa.</span><span class="sxs-lookup"><span data-stu-id="6afb1-155">The window with the keyboard focus is either the active window, or a child window of the active window.</span></span> <span data-ttu-id="6afb1-156">Para ayudar al usuario a identificar la ventana activa, el sistema la coloca en la parte superior del orden Z y resalta la barra de título (si tiene una) y el borde.</span><span class="sxs-lookup"><span data-stu-id="6afb1-156">To help the user identify the active window, the system places it at the top of the Z order and highlights its title bar (if it has one) and border.</span></span>

<span data-ttu-id="6afb1-157">Para activar una ventana de nivel superior, el usuario puede hacer clic en ella, seleccionarla con la combinación de teclas ALT + TAB o ALT + ESC, o seleccionarla en el Lista de tareas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-157">The user can activate a top-level window by clicking it, selecting it using the ALT+TAB or ALT+ESC key combination, or selecting it from the Task List.</span></span> <span data-ttu-id="6afb1-158">Un subproceso puede activar una ventana de nivel superior mediante la función [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-158">A thread can activate a top-level window by using the [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow) function.</span></span> <span data-ttu-id="6afb1-159">Puede determinar si una ventana de nivel superior que creó está activa mediante la función [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-159">It can determine whether a top-level window it created is active by using the [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow) function.</span></span>

<span data-ttu-id="6afb1-160">Cuando se desactiva una ventana y otra activada, el sistema envía el mensaje [**de \_ activación de WM**](wm-activate.md) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-160">When one window is deactivated and another activated, the system sends the [**WM\_ACTIVATE**](wm-activate.md) message.</span></span> <span data-ttu-id="6afb1-161">La palabra de orden inferior del parámetro *wParam* es cero si la ventana se está desactivando y es distinto de cero si se está activando.</span><span class="sxs-lookup"><span data-stu-id="6afb1-161">The low-order word of the *wParam* parameter is zero if the window is being deactivated and nonzero if it is being activated.</span></span> <span data-ttu-id="6afb1-162">Cuando el procedimiento de ventana predeterminado recibe el mensaje de **\_ activación de WM** , establece el foco de teclado en la ventana activa.</span><span class="sxs-lookup"><span data-stu-id="6afb1-162">When the default window procedure receives the **WM\_ACTIVATE** message, it sets the keyboard focus to the active window.</span></span>

<span data-ttu-id="6afb1-163">Para impedir que los eventos de entrada de teclado y del mouse lleguen a aplicaciones, use [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput).</span><span class="sxs-lookup"><span data-stu-id="6afb1-163">To block keyboard and mouse input events from reaching applications, use [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput).</span></span> <span data-ttu-id="6afb1-164">Tenga en cuenta que la función **BlockInput** no interfiere con la tabla de estado de entrada de teclado asincrónica.</span><span class="sxs-lookup"><span data-stu-id="6afb1-164">Note, the **BlockInput** function will not interfere with the asynchronous keyboard input-state table.</span></span> <span data-ttu-id="6afb1-165">Esto significa que si se llama a la función [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) mientras la entrada está bloqueada, cambiará la tabla de estado de entrada de teclado asincrónica.</span><span class="sxs-lookup"><span data-stu-id="6afb1-165">This means that calling the [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function while input is blocked will change the asynchronous keyboard input-state table.</span></span>

## <a name="keystroke-messages"></a><span data-ttu-id="6afb1-166">Mensajes de pulsación de teclas</span><span class="sxs-lookup"><span data-stu-id="6afb1-166">Keystroke Messages</span></span>

<span data-ttu-id="6afb1-167">Al presionar una tecla, se coloca un mensaje de [**\_ SYSKEYDOWN**](wm-syskeydown.md) de WM [**\_ KEYDOWN**](wm-keydown.md) o WM en la cola de mensajes de subprocesos asociada a la ventana que tiene el foco de teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-167">Pressing a key causes a [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message to be placed in the thread message queue attached to the window that has the keyboard focus.</span></span> <span data-ttu-id="6afb1-168">Al liberar una clave, se coloca un mensaje de [**\_ SYSKEYUP**](wm-syskeyup.md) de [**WM \_**](wm-keyup.md) o de WM en la cola.</span><span class="sxs-lookup"><span data-stu-id="6afb1-168">Releasing a key causes a [**WM\_KEYUP**](wm-keyup.md) or [**WM\_SYSKEYUP**](wm-syskeyup.md) message to be placed in the queue.</span></span>

<span data-ttu-id="6afb1-169">Los mensajes de clave arriba y de tecla presionada suelen aparecer en parejas, pero si el usuario mantiene presionada una tecla suficiente para iniciar la característica de repetición automática del teclado, el sistema genera un número de [**mensajes \_ SYSKEYDOWN**](wm-syskeydown.md) de [**WM \_ o de**](wm-keydown.md) WM en una fila.</span><span class="sxs-lookup"><span data-stu-id="6afb1-169">Key-up and key-down messages typically occur in pairs, but if the user holds down a key long enough to start the keyboard's automatic repeat feature, the system generates a number of [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages in a row.</span></span> <span data-ttu-id="6afb1-170">A continuación, genera un único mensaje de [**\_ SYSKEYUP**](wm-syskeyup.md) de [**WM \_**](wm-keyup.md) o WM de WM cuando el usuario libera la clave.</span><span class="sxs-lookup"><span data-stu-id="6afb1-170">It then generates a single [**WM\_KEYUP**](wm-keyup.md) or [**WM\_SYSKEYUP**](wm-syskeyup.md) message when the user releases the key.</span></span>

<span data-ttu-id="6afb1-171">En esta sección se describen los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="6afb1-171">This section covers the following topics:</span></span>

-   [<span data-ttu-id="6afb1-172">Pulsaciones de teclas del sistema y no del sistema</span><span class="sxs-lookup"><span data-stu-id="6afb1-172">System and Nonsystem Keystrokes</span></span>](#system-and-nonsystem-keystrokes)
-   [<span data-ttu-id="6afb1-173">Códigos de clave virtual descritos</span><span class="sxs-lookup"><span data-stu-id="6afb1-173">Virtual-Key Codes Described</span></span>](#virtual-key-codes-described)
-   [<span data-ttu-id="6afb1-174">Marcas de mensajes de pulsación de teclas</span><span class="sxs-lookup"><span data-stu-id="6afb1-174">Keystroke Message Flags</span></span>](#keystroke-message-flags)

### <a name="system-and-nonsystem-keystrokes"></a><span data-ttu-id="6afb1-175">Pulsaciones de teclas del sistema y no del sistema</span><span class="sxs-lookup"><span data-stu-id="6afb1-175">System and Nonsystem Keystrokes</span></span>

<span data-ttu-id="6afb1-176">El sistema hace una distinción entre las pulsaciones de teclas del sistema y las pulsaciones de tecla que no son del sistema.</span><span class="sxs-lookup"><span data-stu-id="6afb1-176">The system makes a distinction between system keystrokes and nonsystem keystrokes.</span></span> <span data-ttu-id="6afb1-177">Las pulsaciones de tecla del sistema generan mensajes de pulsación de tecla del sistema, [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) y [**WM \_ SYSKEYUP**](wm-syskeyup.md).</span><span class="sxs-lookup"><span data-stu-id="6afb1-177">System keystrokes produce system keystroke messages, [**WM\_SYSKEYDOWN**](wm-syskeydown.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md).</span></span> <span data-ttu-id="6afb1-178">Las pulsaciones de tecla que no son del sistema generan [**mensajes de \_**](wm-keyup.md)pulsación de tecla que no son del sistema, y de [**WM \_**](wm-keydown.md)</span><span class="sxs-lookup"><span data-stu-id="6afb1-178">Nonsystem keystrokes produce nonsystem keystroke messages, [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_KEYUP**](wm-keyup.md).</span></span>

<span data-ttu-id="6afb1-179">Si el procedimiento de ventana debe procesar un mensaje de pulsación de tecla del sistema, asegúrese de que después de procesar el mensaje el procedimiento lo pasa a la función [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-179">If your window procedure must process a system keystroke message, make sure that after processing the message the procedure passes it to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="6afb1-180">De lo contrario, se deshabilitarán todas las operaciones del sistema que impliquen la tecla ALT cuando la ventana tenga el foco de teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-180">Otherwise, all system operations involving the ALT key will be disabled whenever the window has the keyboard focus.</span></span> <span data-ttu-id="6afb1-181">Es decir, el usuario no podrá tener acceso a los menús o al menú del sistema de la ventana, ni usar las combinaciones de teclas ALT + ESC o ALT + TAB para activar una ventana diferente.</span><span class="sxs-lookup"><span data-stu-id="6afb1-181">That is, the user won't be able to access the window's menus or System menu, or use the ALT+ESC or ALT+TAB key combination to activate a different window.</span></span>

<span data-ttu-id="6afb1-182">Los mensajes de pulsación de tecla del sistema son principalmente para su uso por parte del sistema en lugar de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="6afb1-182">System keystroke messages are primarily for use by the system rather than by an application.</span></span> <span data-ttu-id="6afb1-183">El sistema los usa para proporcionar su interfaz de teclado integrada a los menús y permitir al usuario controlar qué ventana está activa.</span><span class="sxs-lookup"><span data-stu-id="6afb1-183">The system uses them to provide its built-in keyboard interface to menus and to allow the user to control which window is active.</span></span> <span data-ttu-id="6afb1-184">Los mensajes de pulsación de teclas del sistema se generan cuando el usuario escribe una tecla en combinación con la tecla ALT, o cuando el usuario escribe y no tiene el foco de teclado (por ejemplo, cuando la aplicación activa está minimizada).</span><span class="sxs-lookup"><span data-stu-id="6afb1-184">System keystroke messages are generated when the user types a key in combination with the ALT key, or when the user types and no window has the keyboard focus (for example, when the active application is minimized).</span></span> <span data-ttu-id="6afb1-185">En este caso, los mensajes se publican en la cola de mensajes asociada a la ventana activa.</span><span class="sxs-lookup"><span data-stu-id="6afb1-185">In this case, the messages are posted to the message queue attached to the active window.</span></span>

<span data-ttu-id="6afb1-186">Los mensajes de pulsación de tecla que no son del sistema son para uso de las ventanas de aplicación la función [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) no realiza ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="6afb1-186">Nonsystem keystroke messages are for use by application windows; the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function does nothing with them.</span></span> <span data-ttu-id="6afb1-187">Un procedimiento de ventana puede descartar cualquier mensaje de pulsación de tecla que no sea de sistema que no necesite.</span><span class="sxs-lookup"><span data-stu-id="6afb1-187">A window procedure can discard any nonsystem keystroke messages that it does not need.</span></span>

### <a name="virtual-key-codes-described"></a><span data-ttu-id="6afb1-188">Códigos Virtual-Key descritos</span><span class="sxs-lookup"><span data-stu-id="6afb1-188">Virtual-Key Codes Described</span></span>

<span data-ttu-id="6afb1-189">El parámetro **wParam** de un mensaje de pulsación de teclas contiene el código de tecla virtual de la tecla que se presionó o se liberó.</span><span class="sxs-lookup"><span data-stu-id="6afb1-189">The **wParam** parameter of a keystroke message contains the virtual-key code of the key that was pressed or released.</span></span> <span data-ttu-id="6afb1-190">Un procedimiento de ventana procesa u omite un mensaje de pulsación de tecla, dependiendo del valor del código de la clave virtual.</span><span class="sxs-lookup"><span data-stu-id="6afb1-190">A window procedure processes or ignores a keystroke message, depending on the value of the virtual-key code.</span></span>

<span data-ttu-id="6afb1-191">Un procedimiento de ventana típico solo procesa un pequeño subconjunto de los mensajes de pulsación de tecla que recibe y omite el resto.</span><span class="sxs-lookup"><span data-stu-id="6afb1-191">A typical window procedure processes only a small subset of the keystroke messages that it receives and ignores the rest.</span></span> <span data-ttu-id="6afb1-192">Por ejemplo, un procedimiento de ventana podría procesar solo los mensajes de pulsación de teclas de la [**\_ KEYDOWN de WM**](wm-keydown.md) , y solo aquellos que contengan códigos de tecla virtual para las teclas de desplazamiento del cursor, teclas de desplazamiento (también denominadas teclas de control) y teclas de función.</span><span class="sxs-lookup"><span data-stu-id="6afb1-192">For example, a window procedure might process only [**WM\_KEYDOWN**](wm-keydown.md) keystroke messages, and only those that contain virtual-key codes for the cursor movement keys, shift keys (also called control keys), and function keys.</span></span> <span data-ttu-id="6afb1-193">Un procedimiento de ventana típico no procesa los mensajes de pulsación de tecla de las teclas de caracteres.</span><span class="sxs-lookup"><span data-stu-id="6afb1-193">A typical window procedure does not process keystroke messages from character keys.</span></span> <span data-ttu-id="6afb1-194">En su lugar, utiliza la función [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) para convertir el mensaje en mensajes de caracteres.</span><span class="sxs-lookup"><span data-stu-id="6afb1-194">Instead, it uses the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function to convert the message into character messages.</span></span> <span data-ttu-id="6afb1-195">Para obtener más información sobre **TranslateMessage** y mensajes de caracteres, vea [mensajes de caracteres](#character-messages).</span><span class="sxs-lookup"><span data-stu-id="6afb1-195">For more information about **TranslateMessage** and character messages, see [Character Messages](#character-messages).</span></span>

### <a name="keystroke-message-flags"></a><span data-ttu-id="6afb1-196">Marcas de mensajes de pulsación de teclas</span><span class="sxs-lookup"><span data-stu-id="6afb1-196">Keystroke Message Flags</span></span>

<span data-ttu-id="6afb1-197">El parámetro **lParam** de un mensaje de pulsación de tecla contiene información adicional acerca de la pulsación de tecla que generó el mensaje.</span><span class="sxs-lookup"><span data-stu-id="6afb1-197">The **lParam** parameter of a keystroke message contains additional information about the keystroke that generated the message.</span></span> <span data-ttu-id="6afb1-198">Esta información incluye el número de repeticiones, el código de examen, la marca de clave extendida, el código de contexto, la marca de estado de clave anterior y la marca de estado de transición.</span><span class="sxs-lookup"><span data-stu-id="6afb1-198">This information includes the repeat count, the scan code, the extended-key flag, the context code, the previous key-state flag, and the transition-state flag.</span></span> <span data-ttu-id="6afb1-199">En la ilustración siguiente se muestran las ubicaciones de estos marcadores y valores en el parámetro **lParam** .</span><span class="sxs-lookup"><span data-stu-id="6afb1-199">The following illustration shows the locations of these flags and values in the **lParam** parameter.</span></span>

![las ubicaciones de las marcas y los valores en el parámetro lParam de un mensaje de pulsación de tecla](images/csinp-02.png)

<span data-ttu-id="6afb1-201">Una aplicación puede usar los valores siguientes para manipular las marcas de pulsaciones de teclas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-201">An application can use the following values to manipulate the keystroke flags.</span></span>



| <span data-ttu-id="6afb1-202">Value</span><span class="sxs-lookup"><span data-stu-id="6afb1-202">Value</span></span>            | <span data-ttu-id="6afb1-203">Descripción</span><span class="sxs-lookup"><span data-stu-id="6afb1-203">Description</span></span>                                                                       |
|------------------|-----------------------------------------------------------------------------------|
| <span data-ttu-id="6afb1-204">**KF \_ ALTDOWN**</span><span class="sxs-lookup"><span data-stu-id="6afb1-204">**KF\_ALTDOWN**</span></span>  | <span data-ttu-id="6afb1-205">Manipula la marca de tecla ALT, que indica si se presiona la tecla ALT.</span><span class="sxs-lookup"><span data-stu-id="6afb1-205">Manipulates the ALT key flag, which indicates whether the ALT key is pressed.</span></span>     |
| <span data-ttu-id="6afb1-206">**KF \_ DLGMODE**</span><span class="sxs-lookup"><span data-stu-id="6afb1-206">**KF\_DLGMODE**</span></span>  | <span data-ttu-id="6afb1-207">Manipula la marca de modo de cuadro de diálogo, que indica si un cuadro de diálogo está activo.</span><span class="sxs-lookup"><span data-stu-id="6afb1-207">Manipulates the dialog mode flag, which indicates whether a dialog box is active.</span></span> |
| <span data-ttu-id="6afb1-208">**KF \_ extendido**</span><span class="sxs-lookup"><span data-stu-id="6afb1-208">**KF\_EXTENDED**</span></span> | <span data-ttu-id="6afb1-209">Manipula la marca de clave extendida.</span><span class="sxs-lookup"><span data-stu-id="6afb1-209">Manipulates the extended key flag.</span></span>                                                |
| <span data-ttu-id="6afb1-210">**KF \_ MENUMODE**</span><span class="sxs-lookup"><span data-stu-id="6afb1-210">**KF\_MENUMODE**</span></span> | <span data-ttu-id="6afb1-211">Manipula la marca de modo de menú, que indica si un menú está activo.</span><span class="sxs-lookup"><span data-stu-id="6afb1-211">Manipulates the menu mode flag, which indicates whether a menu is active.</span></span>         |
| <span data-ttu-id="6afb1-212">**KF \_ repetir**</span><span class="sxs-lookup"><span data-stu-id="6afb1-212">**KF\_REPEAT**</span></span>   | <span data-ttu-id="6afb1-213">Manipula la marca de estado de clave anterior.</span><span class="sxs-lookup"><span data-stu-id="6afb1-213">Manipulates the previous key state flag.</span></span>                                          |
| <span data-ttu-id="6afb1-214">**KF \_**</span><span class="sxs-lookup"><span data-stu-id="6afb1-214">**KF\_UP**</span></span>       | <span data-ttu-id="6afb1-215">Manipula la marca de estado de transición.</span><span class="sxs-lookup"><span data-stu-id="6afb1-215">Manipulates the transition state flag.</span></span>                                            |



 

### <a name="repeat-count"></a><span data-ttu-id="6afb1-216">Número de repeticiones</span><span class="sxs-lookup"><span data-stu-id="6afb1-216">Repeat Count</span></span>

<span data-ttu-id="6afb1-217">Puede comprobar el número de repeticiones para determinar si un mensaje de pulsación de tecla representa más de una pulsación de tecla.</span><span class="sxs-lookup"><span data-stu-id="6afb1-217">You can check the repeat count to determine whether a keystroke message represents more than one keystroke.</span></span> <span data-ttu-id="6afb1-218">El sistema incrementa el recuento cuando el teclado genera mensajes de [**WM \_ KEYDOWN**](wm-keydown.md) o [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) más rápido que una aplicación puede procesarlos.</span><span class="sxs-lookup"><span data-stu-id="6afb1-218">The system increments the count when the keyboard generates [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages faster than an application can process them.</span></span> <span data-ttu-id="6afb1-219">Esto suele ocurrir cuando el usuario mantiene presionada una tecla suficiente para iniciar la característica de repetición automática del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-219">This often occurs when the user holds down a key long enough to start the keyboard's automatic repeat feature.</span></span> <span data-ttu-id="6afb1-220">En lugar de rellenar la cola de mensajes del sistema con los mensajes de clave desplegables resultantes, el sistema combina los mensajes en un mensaje de una sola tecla y aumenta el número de repeticiones.</span><span class="sxs-lookup"><span data-stu-id="6afb1-220">Instead of filling the system message queue with the resulting key-down messages, the system combines the messages into a single key down message and increments the repeat count.</span></span> <span data-ttu-id="6afb1-221">La liberación de una clave no puede iniciar la característica de repetición automática, por lo que el número de repeticiones de los mensajes de [**\_ SYSKEYUP**](wm-syskeyup.md) y de WM de [**WM \_**](wm-keyup.md) siempre se establece en 1.</span><span class="sxs-lookup"><span data-stu-id="6afb1-221">Releasing a key cannot start the automatic repeat feature, so the repeat count for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages is always set to 1.</span></span>

### <a name="scan-code"></a><span data-ttu-id="6afb1-222">Examinar código</span><span class="sxs-lookup"><span data-stu-id="6afb1-222">Scan Code</span></span>

<span data-ttu-id="6afb1-223">El código de análisis es el valor que genera el hardware del teclado cuando el usuario presiona una tecla.</span><span class="sxs-lookup"><span data-stu-id="6afb1-223">The scan code is the value that the keyboard hardware generates when the user presses a key.</span></span> <span data-ttu-id="6afb1-224">Es un valor dependiente del dispositivo que identifica la tecla presionada, en lugar del carácter representado por la clave.</span><span class="sxs-lookup"><span data-stu-id="6afb1-224">It is a device-dependent value that identifies the key pressed, as opposed to the character represented by the key.</span></span> <span data-ttu-id="6afb1-225">Normalmente, una aplicación omite los códigos de examen.</span><span class="sxs-lookup"><span data-stu-id="6afb1-225">An application typically ignores scan codes.</span></span> <span data-ttu-id="6afb1-226">En su lugar, utiliza códigos de tecla virtual independientes del dispositivo para interpretar los mensajes de pulsación de teclas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-226">Instead, it uses the device-independent virtual-key codes to interpret keystroke messages.</span></span>

### <a name="extended-key-flag"></a><span data-ttu-id="6afb1-227">Extended-Key marca</span><span class="sxs-lookup"><span data-stu-id="6afb1-227">Extended-Key Flag</span></span>

<span data-ttu-id="6afb1-228">La marca de clave extendida indica si el mensaje de pulsación de tecla se originó en una de las teclas adicionales del teclado mejorado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-228">The extended-key flag indicates whether the keystroke message originated from one of the additional keys on the enhanced keyboard.</span></span> <span data-ttu-id="6afb1-229">Las claves extendidas constan de las teclas ALT y CTRL en el lado derecho del teclado. las teclas INS, SUPR, Inicio, fin, Re Pág, Av Pág y flecha en los clústeres a la izquierda del teclado numérico. tecla BLOQ NUM; tecla INTERRUMPIr (CTRL + pausa); tecla Impr Pant; y la división (/) y escriba las teclas en el teclado numérico.</span><span class="sxs-lookup"><span data-stu-id="6afb1-229">The extended keys consist of the ALT and CTRL keys on the right-hand side of the keyboard; the INS, DEL, HOME, END, PAGE UP, PAGE DOWN, and arrow keys in the clusters to the left of the numeric keypad; the NUM LOCK key; the BREAK (CTRL+PAUSE) key; the PRINT SCRN key; and the divide (/) and ENTER keys in the numeric keypad.</span></span> <span data-ttu-id="6afb1-230">La marca de clave extendida se establece si la clave es una clave extendida.</span><span class="sxs-lookup"><span data-stu-id="6afb1-230">The extended-key flag is set if the key is an extended key.</span></span>

### <a name="context-code"></a><span data-ttu-id="6afb1-231">Código de contexto</span><span class="sxs-lookup"><span data-stu-id="6afb1-231">Context Code</span></span>

<span data-ttu-id="6afb1-232">El código de contexto indica si la tecla ALT estaba presionada cuando se generó el mensaje de pulsación de tecla.</span><span class="sxs-lookup"><span data-stu-id="6afb1-232">The context code indicates whether the ALT key was down when the keystroke message was generated.</span></span> <span data-ttu-id="6afb1-233">El código es 1 si la tecla ALT estaba desactivada y 0 si estaba activo.</span><span class="sxs-lookup"><span data-stu-id="6afb1-233">The code is 1 if the ALT key was down and 0 if it was up.</span></span>

### <a name="previous-key-state-flag"></a><span data-ttu-id="6afb1-234">Marca de Key-State anterior</span><span class="sxs-lookup"><span data-stu-id="6afb1-234">Previous Key-State Flag</span></span>

<span data-ttu-id="6afb1-235">La marca de estado de clave anterior indica si la clave que generó el mensaje de pulsación de tecla estaba arriba o baja.</span><span class="sxs-lookup"><span data-stu-id="6afb1-235">The previous key-state flag indicates whether the key that generated the keystroke message was previously up or down.</span></span> <span data-ttu-id="6afb1-236">Es 1 si la clave estaba inactiva previamente y 0 si la clave estaba antes.</span><span class="sxs-lookup"><span data-stu-id="6afb1-236">It is 1 if the key was previously down and 0 if the key was previously up.</span></span> <span data-ttu-id="6afb1-237">Puede usar esta marca para identificar los mensajes de pulsación de tecla generados por la característica de repetición automática del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-237">You can use this flag to identify keystroke messages generated by the keyboard's automatic repeat feature.</span></span> <span data-ttu-id="6afb1-238">Esta marca se establece en 1 para los mensajes de pulsación de teclas de [**\_ SYSKEYDOWN**](wm-syskeydown.md) de [**WM \_**](wm-keydown.md) y de WM generados por la característica de repetición automática.</span><span class="sxs-lookup"><span data-stu-id="6afb1-238">This flag is set to 1 for [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_SYSKEYDOWN**](wm-syskeydown.md) keystroke messages generated by the automatic repeat feature.</span></span> <span data-ttu-id="6afb1-239">Siempre se establece en 1 para los mensajes de [**\_ SYSKEYUP**](wm-syskeyup.md) y de WM [**\_ KEYUP**](wm-keyup.md) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-239">It is always set to 1 for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages.</span></span>

### <a name="transition-state-flag"></a><span data-ttu-id="6afb1-240">Transition-State marca</span><span class="sxs-lookup"><span data-stu-id="6afb1-240">Transition-State Flag</span></span>

<span data-ttu-id="6afb1-241">La marca de estado de transición indica si se presiona una tecla o si se suelta una tecla que genera el mensaje de pulsación de teclas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-241">The transition-state flag indicates whether pressing a key or releasing a key generated the keystroke message.</span></span> <span data-ttu-id="6afb1-242">Esta marca siempre se establece en 0 para los mensajes de [**\_ SYSKEYDOWN**](wm-syskeydown.md) y de WM [**\_ KEYDOWN**](wm-keydown.md) ; siempre se establece en 1 para los mensajes [**de \_ SYSKEYUP**](wm-syskeyup.md) de [**WM \_**](wm-keyup.md) y WM.</span><span class="sxs-lookup"><span data-stu-id="6afb1-242">This flag is always set to 0 for [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages; it is always set to 1 for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages.</span></span>

## <a name="character-messages"></a><span data-ttu-id="6afb1-243">Mensajes de caracteres</span><span class="sxs-lookup"><span data-stu-id="6afb1-243">Character Messages</span></span>

<span data-ttu-id="6afb1-244">Los mensajes de pulsación de tecla proporcionan una gran cantidad de información sobre las pulsaciones de teclas, pero no proporcionan códigos de caracteres para las pulsaciones de caracteres.</span><span class="sxs-lookup"><span data-stu-id="6afb1-244">Keystroke messages provide a lot of information about keystrokes, but they do not provide character codes for character keystrokes.</span></span> <span data-ttu-id="6afb1-245">Para recuperar códigos de carácter, una aplicación debe incluir la función [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) en su bucle de mensajes de subproceso.</span><span class="sxs-lookup"><span data-stu-id="6afb1-245">To retrieve character codes, an application must include the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function in its thread message loop.</span></span> <span data-ttu-id="6afb1-246">**TranslateMessage** pasa un mensaje de [**WM \_ KEYDOWN**](wm-keydown.md) o [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) a la distribución del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-246">**TranslateMessage** passes a [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message to the keyboard layout.</span></span> <span data-ttu-id="6afb1-247">El diseño examina el código de tecla virtual del mensaje y, si corresponde a una clave de carácter, proporciona el código de carácter equivalente (teniendo en cuenta el estado de las teclas Bloq Mayús y MAYÚSCULAs).</span><span class="sxs-lookup"><span data-stu-id="6afb1-247">The layout examines the message's virtual-key code and, if it corresponds to a character key, provides the character code equivalent (taking into account the state of the SHIFT and CAPS LOCK keys).</span></span> <span data-ttu-id="6afb1-248">A continuación, genera un mensaje de carácter que incluye el código de carácter y coloca el mensaje en la parte superior de la cola de mensajes.</span><span class="sxs-lookup"><span data-stu-id="6afb1-248">It then generates a character message that includes the character code and places the message at the top of the message queue.</span></span> <span data-ttu-id="6afb1-249">La siguiente iteración del bucle de mensajes quita el mensaje de carácter de la cola y envía el mensaje al procedimiento de ventana adecuado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-249">The next iteration of the message loop removes the character message from the queue and dispatches the message to the appropriate window procedure.</span></span>

<span data-ttu-id="6afb1-250">En esta sección se describen los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="6afb1-250">This section covers the following topics:</span></span>

-   [<span data-ttu-id="6afb1-251">Mensajes de caracteres que no son de sistema</span><span class="sxs-lookup"><span data-stu-id="6afb1-251">Nonsystem Character Messages</span></span>](#nonsystem-character-messages)
-   [<span data-ttu-id="6afb1-252">Mensajes no enviados</span><span class="sxs-lookup"><span data-stu-id="6afb1-252">Dead-Character Messages</span></span>](#dead-character-messages)

### <a name="nonsystem-character-messages"></a><span data-ttu-id="6afb1-253">Mensajes de caracteres que no son de sistema</span><span class="sxs-lookup"><span data-stu-id="6afb1-253">Nonsystem Character Messages</span></span>

<span data-ttu-id="6afb1-254">Un procedimiento de ventana puede recibir los siguientes mensajes de caracteres: [**WM \_ Char**](wm-char.md), [**WM \_ DEADCHAR**](wm-deadchar.md), [**WM \_ SYSCHAR**](/windows/desktop/menurc/wm-syschar), [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md)y [**WM \_ UNICHAR**](wm-unichar.md).</span><span class="sxs-lookup"><span data-stu-id="6afb1-254">A window procedure can receive the following character messages: [**WM\_CHAR**](wm-char.md), [**WM\_DEADCHAR**](wm-deadchar.md), [**WM\_SYSCHAR**](/windows/desktop/menurc/wm-syschar), [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md), and [**WM\_UNICHAR**](wm-unichar.md).</span></span> <span data-ttu-id="6afb1-255">La función [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) genera un mensaje de **WM \_ Char** o **WM \_ DEADCHAR** cuando procesa un mensaje de [**\_ KEYDOWN de WM**](wm-keydown.md) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-255">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function generates a **WM\_CHAR** or **WM\_DEADCHAR** message when it processes a [**WM\_KEYDOWN**](wm-keydown.md) message.</span></span> <span data-ttu-id="6afb1-256">De forma similar, genera un mensaje de **WM \_ SYSCHAR** o **WM \_ SYSDEADCHAR** cuando procesa un mensaje de [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-256">Similarly, it generates a **WM\_SYSCHAR** or **WM\_SYSDEADCHAR** message when it processes a [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message.</span></span>

<span data-ttu-id="6afb1-257">Normalmente, una aplicación que procesa la entrada del teclado omite todos los mensajes de [**WM \_ Char**](wm-char.md) y [**WM \_ UNICHAR**](wm-unichar.md) , pasando cualquier otro mensaje a la función [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-257">An application that processes keyboard input typically ignores all but the [**WM\_CHAR**](wm-char.md) and [**WM\_UNICHAR**](wm-unichar.md) messages, passing any other messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="6afb1-258">Tenga en cuenta que **WM \_ Char** usa el formato de transformación Unicode de 16 bits (UTF) mientras que **WM \_ unichar** usa UTF-32.</span><span class="sxs-lookup"><span data-stu-id="6afb1-258">Note that **WM\_CHAR** uses 16-bit Unicode Transformation Format (UTF) while **WM\_UNICHAR** uses UTF-32.</span></span> <span data-ttu-id="6afb1-259">El sistema utiliza los mensajes de [**WM \_ SYSCHAR**](/windows/desktop/menurc/wm-syschar) y [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) para implementar las teclas de menú.</span><span class="sxs-lookup"><span data-stu-id="6afb1-259">The system uses the [**WM\_SYSCHAR**](/windows/desktop/menurc/wm-syschar) and [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md) messages to implement menu mnemonics.</span></span>

<span data-ttu-id="6afb1-260">El parámetro **wParam** de todos los mensajes de caracteres contiene el código de carácter de la tecla que se presionó.</span><span class="sxs-lookup"><span data-stu-id="6afb1-260">The **wParam** parameter of all character messages contains the character code of the character key that was pressed.</span></span> <span data-ttu-id="6afb1-261">El valor del código de carácter depende de la clase de ventana de la ventana que recibe el mensaje.</span><span class="sxs-lookup"><span data-stu-id="6afb1-261">The value of the character code depends on the window class of the window receiving the message.</span></span> <span data-ttu-id="6afb1-262">Si se usó la versión Unicode de la función [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) para registrar la clase de ventana, el sistema proporciona caracteres Unicode a todas las ventanas de esa clase.</span><span class="sxs-lookup"><span data-stu-id="6afb1-262">If the Unicode version of the [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) function was used to register the window class, the system provides Unicode characters to all windows of that class.</span></span> <span data-ttu-id="6afb1-263">De lo contrario, el sistema proporciona códigos de caracteres ASCII.</span><span class="sxs-lookup"><span data-stu-id="6afb1-263">Otherwise, the system provides ASCII character codes.</span></span> <span data-ttu-id="6afb1-264">Para obtener más información, vea [Unicode y juegos de caracteres](/windows/desktop/Intl/unicode-and-character-sets).</span><span class="sxs-lookup"><span data-stu-id="6afb1-264">For more information, see [Unicode and Character Sets](/windows/desktop/Intl/unicode-and-character-sets).</span></span>

<span data-ttu-id="6afb1-265">El contenido del parámetro **lParam** de un mensaje de carácter es idéntico al contenido del parámetro **lParam** del mensaje de tecla presionado que se ha traducido para generar el mensaje de carácter.</span><span class="sxs-lookup"><span data-stu-id="6afb1-265">The contents of the **lParam** parameter of a character message are identical to the contents of the **lParam** parameter of the key-down message that was translated to produce the character message.</span></span> <span data-ttu-id="6afb1-266">Para obtener más información, consulte [marcas de mensajes de pulsación de teclas](#keystroke-message-flags).</span><span class="sxs-lookup"><span data-stu-id="6afb1-266">For information, see [Keystroke Message Flags](#keystroke-message-flags).</span></span>

### <a name="dead-character-messages"></a><span data-ttu-id="6afb1-267">Mensajes de Dead-Character</span><span class="sxs-lookup"><span data-stu-id="6afb1-267">Dead-Character Messages</span></span>

<span data-ttu-id="6afb1-268">Algunos teclados que no están en inglés contienen teclas de caracteres que no se espera que generen caracteres por sí mismos.</span><span class="sxs-lookup"><span data-stu-id="6afb1-268">Some non-English keyboards contain character keys that are not expected to produce characters by themselves.</span></span> <span data-ttu-id="6afb1-269">En su lugar, se usan para agregar un diacrítico al carácter producido por la siguiente pulsación de tecla.</span><span class="sxs-lookup"><span data-stu-id="6afb1-269">Instead, they are used to add a diacritic to the character produced by the subsequent keystroke.</span></span> <span data-ttu-id="6afb1-270">Estas claves se denominan *claves* inactivas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-270">These keys are called *dead keys*.</span></span> <span data-ttu-id="6afb1-271">La tecla acento circunflejo del teclado alemán es un ejemplo de una tecla muerta.</span><span class="sxs-lookup"><span data-stu-id="6afb1-271">The circumflex key on a German keyboard is an example of a dead key.</span></span> <span data-ttu-id="6afb1-272">Para escribir el carácter que se compone de una "o" con un acento circunflejo, un usuario de alemán escribiría la tecla acento circunflejo seguida de la tecla "o".</span><span class="sxs-lookup"><span data-stu-id="6afb1-272">To enter the character consisting of an "o" with a circumflex, a German user would type the circumflex key followed by the "o" key.</span></span> <span data-ttu-id="6afb1-273">La ventana con el foco de teclado recibiría la siguiente secuencia de mensajes:</span><span class="sxs-lookup"><span data-stu-id="6afb1-273">The window with the keyboard focus would receive the following sequence of messages:</span></span>

1.  [<span data-ttu-id="6afb1-274">**KEYDOWN de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6afb1-274">**WM\_KEYDOWN**</span></span>](wm-keydown.md)
2.  [<span data-ttu-id="6afb1-275">**DEADCHAR de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6afb1-275">**WM\_DEADCHAR**</span></span>](wm-deadchar.md)
3.  [<span data-ttu-id="6afb1-276">**KEYUP de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6afb1-276">**WM\_KEYUP**</span></span>](wm-keyup.md)
4.  [<span data-ttu-id="6afb1-277">**KEYDOWN de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6afb1-277">**WM\_KEYDOWN**</span></span>](wm-keydown.md)
5.  [<span data-ttu-id="6afb1-278">**carácter de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6afb1-278">**WM\_CHAR**</span></span>](wm-char.md)
6.  [<span data-ttu-id="6afb1-279">**KEYUP de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6afb1-279">**WM\_KEYUP**</span></span>](wm-keyup.md)

<span data-ttu-id="6afb1-280">[**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) genera el mensaje de [**\_ DEADCHAR de WM**](wm-deadchar.md) cuando procesa el mensaje de [**\_ KEYDOWN de WM**](wm-keydown.md) a partir de una clave muerta.</span><span class="sxs-lookup"><span data-stu-id="6afb1-280">[**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) generates the [**WM\_DEADCHAR**](wm-deadchar.md) message when it processes the [**WM\_KEYDOWN**](wm-keydown.md) message from a dead key.</span></span> <span data-ttu-id="6afb1-281">Aunque el parámetro *wParam* del mensaje **de \_ DEADCHAR de WM** contiene el código de carácter del diacrítico de la clave muerta, una aplicación normalmente omite el mensaje.</span><span class="sxs-lookup"><span data-stu-id="6afb1-281">Although the *wParam* parameter of the **WM\_DEADCHAR** message contains the character code of the diacritic for the dead key, an application typically ignores the message.</span></span> <span data-ttu-id="6afb1-282">En su lugar, procesa el mensaje de [**\_ carácter de WM**](wm-char.md) generado por la siguiente pulsación de tecla.</span><span class="sxs-lookup"><span data-stu-id="6afb1-282">Instead, it processes the [**WM\_CHAR**](wm-char.md) message generated by the subsequent keystroke.</span></span> <span data-ttu-id="6afb1-283">El parámetro *wParam* del mensaje **WM \_ Char** contiene el código de carácter de la letra con el diacrítico.</span><span class="sxs-lookup"><span data-stu-id="6afb1-283">The *wParam* parameter of the **WM\_CHAR** message contains the character code of the letter with the diacritic.</span></span> <span data-ttu-id="6afb1-284">Si la siguiente pulsación de tecla genera un carácter que no se puede combinar con un diacrítico, el sistema genera dos mensajes de **WM \_ Char** .</span><span class="sxs-lookup"><span data-stu-id="6afb1-284">If the subsequent keystroke generates a character that cannot be combined with a diacritic, the system generates two **WM\_CHAR** messages.</span></span> <span data-ttu-id="6afb1-285">El parámetro *wParam* de la primera contiene el código de carácter del diacrítico; el parámetro *wParam* del segundo contiene el código de carácter de la siguiente tecla de carácter.</span><span class="sxs-lookup"><span data-stu-id="6afb1-285">The *wParam* parameter of the first contains the character code of the diacritic; the *wParam* parameter of the second contains the character code of the subsequent character key.</span></span>

<span data-ttu-id="6afb1-286">La función [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) genera el mensaje de [**\_ SYSDEADCHAR de WM**](wm-sysdeadchar.md) cuando procesa el mensaje de [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) desde una clave inactiva del sistema (una tecla de inactividad que se presiona en combinación con la tecla Alt).</span><span class="sxs-lookup"><span data-stu-id="6afb1-286">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function generates the [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md) message when it processes the [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message from a system dead key (a dead key that is pressed in combination with the ALT key).</span></span> <span data-ttu-id="6afb1-287">Normalmente, una aplicación omite el mensaje de **\_ SYSDEADCHAR de WM** .</span><span class="sxs-lookup"><span data-stu-id="6afb1-287">An application typically ignores the **WM\_SYSDEADCHAR** message.</span></span>

## <a name="key-status"></a><span data-ttu-id="6afb1-288">Estado de la clave</span><span class="sxs-lookup"><span data-stu-id="6afb1-288">Key Status</span></span>

<span data-ttu-id="6afb1-289">Al procesar un mensaje de teclado, es posible que una aplicación necesite determinar el estado de otra clave además de la que generó el mensaje actual.</span><span class="sxs-lookup"><span data-stu-id="6afb1-289">While processing a keyboard message, an application may need to determine the status of another key besides the one that generated the current message.</span></span> <span data-ttu-id="6afb1-290">Por ejemplo, una aplicación de procesamiento de texto que permite al usuario presionar Mayús + fin para seleccionar un bloque de texto debe comprobar el estado de la tecla Mayús cada vez que recibe un mensaje de pulsación de tecla de la tecla fin.</span><span class="sxs-lookup"><span data-stu-id="6afb1-290">For example, a word-processing application that allows the user to press SHIFT+END to select a block of text must check the status of the SHIFT key whenever it receives a keystroke message from the END key.</span></span> <span data-ttu-id="6afb1-291">La aplicación puede usar la función [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) para determinar el estado de una clave virtual en el momento en que se generó el mensaje actual. puede usar la función [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) para recuperar el estado actual de una clave virtual.</span><span class="sxs-lookup"><span data-stu-id="6afb1-291">The application can use the [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) function to determine the status of a virtual key at the time the current message was generated; it can use the [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) function to retrieve the current status of a virtual key.</span></span>

<span data-ttu-id="6afb1-292">La distribución del teclado mantiene una lista de nombres.</span><span class="sxs-lookup"><span data-stu-id="6afb1-292">The keyboard layout maintains a list of names.</span></span> <span data-ttu-id="6afb1-293">El nombre de una clave que genera un carácter único es el mismo que el carácter generado por la clave.</span><span class="sxs-lookup"><span data-stu-id="6afb1-293">The name of a key that produces a single character is the same as the character produced by the key.</span></span> <span data-ttu-id="6afb1-294">El nombre de una clave que no sea de caracteres como TAB y entrar se almacena como una cadena de caracteres.</span><span class="sxs-lookup"><span data-stu-id="6afb1-294">The name of a noncharacter key such as TAB and ENTER is stored as a character string.</span></span> <span data-ttu-id="6afb1-295">Una aplicación puede recuperar el nombre de cualquier clave del controlador de dispositivo mediante una llamada a la función [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-295">An application can retrieve the name of any key from the device driver by calling the [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta) function.</span></span>

## <a name="keystroke-and-character-translations"></a><span data-ttu-id="6afb1-296">Traducciones de teclas y de caracteres</span><span class="sxs-lookup"><span data-stu-id="6afb1-296">Keystroke and Character Translations</span></span>

<span data-ttu-id="6afb1-297">El sistema incluye varias funciones de propósito especial que traducen códigos de análisis, códigos de carácter y códigos de tecla virtual proporcionados por diversos mensajes de pulsación de tecla.</span><span class="sxs-lookup"><span data-stu-id="6afb1-297">The system includes several special purpose functions that translate scan codes, character codes, and virtual-key codes provided by various keystroke messages.</span></span> <span data-ttu-id="6afb1-298">Entre estas funciones se incluyen [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya), [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii), [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode)y [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana).</span><span class="sxs-lookup"><span data-stu-id="6afb1-298">These functions include [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya), [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii), [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode), and [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana).</span></span>

<span data-ttu-id="6afb1-299">Además, Microsoft Rich Edit 3,0 admite el [IME de HexToUnicode](/windows/desktop/Intl/hextounicode-ime), que permite a un usuario convertir entre caracteres hexadecimales y Unicode mediante el uso de teclas de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-299">In addition, Microsoft Rich Edit 3.0 supports the [HexToUnicode IME](/windows/desktop/Intl/hextounicode-ime), which allows a user to convert between hexadecimal and Unicode characters by using hot keys.</span></span> <span data-ttu-id="6afb1-300">Esto significa que cuando se incorpora Microsoft Rich Edit 3,0 en una aplicación, la aplicación heredará las características de HexToUnicode IME.</span><span class="sxs-lookup"><span data-stu-id="6afb1-300">This means that when Microsoft Rich Edit 3.0 is incorporated into an application, the application will inherit the features of the HexToUnicode IME.</span></span>

## <a name="hot-key-support"></a><span data-ttu-id="6afb1-301">Compatibilidad con Hot-Key</span><span class="sxs-lookup"><span data-stu-id="6afb1-301">Hot-Key Support</span></span>

<span data-ttu-id="6afb1-302">Una *tecla de acceso rápido* es una combinación de teclas que genera un mensaje de [**\_ Hotkey de WM**](wm-hotkey.md) , un mensaje que el sistema coloca en la parte superior de la cola de mensajes de un subproceso, omitiendo los mensajes existentes en la cola.</span><span class="sxs-lookup"><span data-stu-id="6afb1-302">A *hot key* is a key combination that generates a [**WM\_HOTKEY**](wm-hotkey.md) message, a message the system places at the top of a thread's message queue, bypassing any existing messages in the queue.</span></span> <span data-ttu-id="6afb1-303">Las aplicaciones usan teclas de acceso rápido para obtener la entrada de teclado de alta prioridad del usuario.</span><span class="sxs-lookup"><span data-stu-id="6afb1-303">Applications use hot keys to obtain high-priority keyboard input from the user.</span></span> <span data-ttu-id="6afb1-304">Por ejemplo, al definir una tecla de acceso rápido que consta de la combinación de teclas CTRL + C, una aplicación puede permitir que el usuario cancele una operación larga.</span><span class="sxs-lookup"><span data-stu-id="6afb1-304">For example, by defining a hot key consisting of the CTRL+C key combination, an application can allow the user to cancel a lengthy operation.</span></span>

<span data-ttu-id="6afb1-305">Para definir una tecla de acceso rápido, una aplicación llama a la función [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) , especificando la combinación de claves que genera el mensaje de [**\_ Hotkey de WM**](wm-hotkey.md) , el identificador de la ventana para recibir el mensaje y el identificador de la tecla de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-305">To define a hot key, an application calls the [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) function, specifying the combination of keys that generates the [**WM\_HOTKEY**](wm-hotkey.md) message, the handle to the window to receive the message, and the identifier of the hot key.</span></span> <span data-ttu-id="6afb1-306">Cuando el usuario presiona la tecla de acceso rápido, se coloca un mensaje de tecla de acceso **\_ rápido de WM** en la cola de mensajes del subproceso que creó la ventana.</span><span class="sxs-lookup"><span data-stu-id="6afb1-306">When the user presses the hot key, a **WM\_HOTKEY** message is placed in the message queue of the thread that created the window.</span></span> <span data-ttu-id="6afb1-307">El parámetro *wParam* del mensaje contiene el identificador de la tecla de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-307">The *wParam* parameter of the message contains the identifier of the hot key.</span></span> <span data-ttu-id="6afb1-308">La aplicación puede definir varias teclas de acceso rápido para un subproceso, pero cada tecla de acceso directo del subproceso debe tener un identificador único.</span><span class="sxs-lookup"><span data-stu-id="6afb1-308">The application can define multiple hot keys for a thread, but each hot key in the thread must have a unique identifier.</span></span> <span data-ttu-id="6afb1-309">Antes de que finalice la aplicación, debe usar la función [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) para destruir la tecla de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-309">Before the application terminates, it should use the [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) function to destroy the hot key.</span></span>

<span data-ttu-id="6afb1-310">Las aplicaciones pueden utilizar un control de tecla de acceso rápido para facilitar al usuario la elección de una tecla de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-310">Applications can use a hot key control to make it easy for the user to choose a hot key.</span></span> <span data-ttu-id="6afb1-311">Los controles de tecla de acceso rápido se utilizan normalmente para definir una tecla de acceso rápido que activa una ventana; no usan las funciones [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) y [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-311">Hot key controls are typically used to define a hot key that activates a window; they do not use the [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) and [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) functions.</span></span> <span data-ttu-id="6afb1-312">En su lugar, una aplicación que usa un control de tecla de acceso rápido envía normalmente el mensaje de [**\_ SETHOTKEY de WM**](wm-sethotkey.md) para establecer la tecla de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-312">Instead, an application that uses a hot key control typically sends the [**WM\_SETHOTKEY**](wm-sethotkey.md) message to set the hot key.</span></span> <span data-ttu-id="6afb1-313">Siempre que el usuario presiona la tecla de acceso rápido, el sistema envía un mensaje de [**WM \_ SYSCOMMAND**](/windows/desktop/menurc/wm-syscommand) que especifica la tecla de acceso \_ rápido SC.</span><span class="sxs-lookup"><span data-stu-id="6afb1-313">Whenever the user presses the hot key, the system sends a [**WM\_SYSCOMMAND**](/windows/desktop/menurc/wm-syscommand) message specifying SC\_HOTKEY.</span></span> <span data-ttu-id="6afb1-314">Para obtener más información sobre los controles de tecla de acceso rápido, vea el tema sobre el uso de controles de teclas de acceso rápido en [controles de tecla de acceso](../controls/hot-key-controls.md)rápido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-314">For more information about hot key controls, see "Using Hot Key Controls" in [Hot Key Controls](../controls/hot-key-controls.md).</span></span>

## <a name="keyboard-keys-for-browsing-and-other-functions"></a><span data-ttu-id="6afb1-315">Teclas del teclado para la exploración y otras funciones</span><span class="sxs-lookup"><span data-stu-id="6afb1-315">Keyboard Keys for Browsing and Other Functions</span></span>

<span data-ttu-id="6afb1-316">Windows proporciona compatibilidad para los teclados con teclas especiales para las funciones del explorador, las funciones multimedia, el inicio de aplicaciones y la administración de energía.</span><span class="sxs-lookup"><span data-stu-id="6afb1-316">Windows provides support for keyboards with special keys for browser functions, media functions, application launching, and power management.</span></span> <span data-ttu-id="6afb1-317">El [**\_ APPCOMMAND de WM**](wm-appcommand.md) admite las teclas de teclado adicionales.</span><span class="sxs-lookup"><span data-stu-id="6afb1-317">The [**WM\_APPCOMMAND**](wm-appcommand.md) supports the extra keyboard keys.</span></span> <span data-ttu-id="6afb1-318">Además, la función [**ShellProc**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85)) se modifica para admitir las teclas adicionales del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-318">In addition, the [**ShellProc**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85)) function is modified to support the extra keyboard keys.</span></span>

<span data-ttu-id="6afb1-319">No es probable que una ventana secundaria en una aplicación de componentes pueda implementar directamente comandos para estas teclas adicionales del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-319">It is unlikely that a child window in a component application will be able to directly implement commands for these extra keyboard keys.</span></span> <span data-ttu-id="6afb1-320">Por tanto, cuando se presiona una de estas teclas, [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) enviará un mensaje de [**WM \_ APPCOMMAND**](wm-appcommand.md) a una ventana.</span><span class="sxs-lookup"><span data-stu-id="6afb1-320">So when one of these keys is pressed, [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) will send a [**WM\_APPCOMMAND**](wm-appcommand.md) message to a window.</span></span> <span data-ttu-id="6afb1-321">**DefWindowProc** también propagará el mensaje de **\_ APPCOMMAND de WM** a su ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="6afb1-321">**DefWindowProc** will also bubble the **WM\_APPCOMMAND** message to its parent window.</span></span> <span data-ttu-id="6afb1-322">Esto es similar a la manera en que se invocan los menús contextuales con el botón secundario del mouse, que es que **DefWindowProc** envía un mensaje de [**\_ CONTEXTMENU de WM**](/windows/desktop/menurc/wm-contextmenu) en un clic con el botón secundario y lo propaga a su elemento primario.</span><span class="sxs-lookup"><span data-stu-id="6afb1-322">This is similar to the way context menus are invoked with the right mouse button, which is that **DefWindowProc** sends a [**WM\_CONTEXTMENU**](/windows/desktop/menurc/wm-contextmenu) message on a right button click, and bubbles it to its parent.</span></span> <span data-ttu-id="6afb1-323">Además, si **DefWindowProc** recibe un mensaje de **\_ APPCOMMAND de WM** para una ventana de nivel superior, llamará a un enlace de Shell con el código **HSHELL \_ APPCOMMAND**.</span><span class="sxs-lookup"><span data-stu-id="6afb1-323">Additionally, if **DefWindowProc** receives a **WM\_APPCOMMAND** message for a top-level window, it will call a shell hook with code **HSHELL\_APPCOMMAND**.</span></span>

<span data-ttu-id="6afb1-324">Windows también es compatible con el explorador de IntelliMouse de Microsoft, que es un mouse con cinco botones.</span><span class="sxs-lookup"><span data-stu-id="6afb1-324">Windows also supports the Microsoft IntelliMouse Explorer, which is a mouse with five buttons.</span></span> <span data-ttu-id="6afb1-325">Los dos botones adicionales admiten la navegación hacia delante y hacia atrás del explorador.</span><span class="sxs-lookup"><span data-stu-id="6afb1-325">The two extra buttons support forward and backward browser navigation.</span></span> <span data-ttu-id="6afb1-326">Para obtener más información, vea [XBUTTONs](about-mouse-input.md).</span><span class="sxs-lookup"><span data-stu-id="6afb1-326">For more information, see [XBUTTONs](about-mouse-input.md).</span></span>

## <a name="simulating-input"></a><span data-ttu-id="6afb1-327">Simular la entrada</span><span class="sxs-lookup"><span data-stu-id="6afb1-327">Simulating Input</span></span>

<span data-ttu-id="6afb1-328">Para simular una serie ininterrumpida de eventos de entrada de usuario, use la función [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-328">To simulate an uninterrupted series of user input events, use the [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function.</span></span> <span data-ttu-id="6afb1-329">La función acepta tres parámetros.</span><span class="sxs-lookup"><span data-stu-id="6afb1-329">The function accepts three parameters.</span></span> <span data-ttu-id="6afb1-330">El primer parámetro, *cInputs*, indica el número de eventos de entrada que se simularán.</span><span class="sxs-lookup"><span data-stu-id="6afb1-330">The first parameter, *cInputs*, indicates the number of input events that will be simulated.</span></span> <span data-ttu-id="6afb1-331">El segundo parámetro, *rgInputs*, es una matriz de estructuras de [**entrada**](/windows/win32/api/winuser/ns-winuser-input) , cada una de las cuales describe un tipo de evento de entrada e información adicional sobre el evento.</span><span class="sxs-lookup"><span data-stu-id="6afb1-331">The second parameter, *rgInputs*, is an array of [**INPUT**](/windows/win32/api/winuser/ns-winuser-input) structures, each describing a type of input event and additional information about that event.</span></span> <span data-ttu-id="6afb1-332">El último parámetro, *cbSize*, acepta el tamaño de la estructura de **entrada** , en bytes.</span><span class="sxs-lookup"><span data-stu-id="6afb1-332">The last parameter, *cbSize*, accepts the size of the **INPUT** structure, in bytes.</span></span>

<span data-ttu-id="6afb1-333">La función [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) inserta una serie de eventos de entrada simulados en el flujo de entrada de un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6afb1-333">The [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function works by injecting a series of simulated input events into a device's input stream.</span></span> <span data-ttu-id="6afb1-334">El efecto es similar a llamar a la función de evento [**keybd \_**](/windows/win32/api/winuser/nf-winuser-keybd_event) o de [**\_ evento del mouse**](/windows/win32/api/winuser/nf-winuser-mouse_event) repetidamente, salvo que el sistema garantiza que ningún otro evento de entrada intermingle con los eventos simulados.</span><span class="sxs-lookup"><span data-stu-id="6afb1-334">The effect is similar to calling the [**keybd\_event**](/windows/win32/api/winuser/nf-winuser-keybd_event) or [**mouse\_event**](/windows/win32/api/winuser/nf-winuser-mouse_event) function repeatedly, except that the system ensures that no other input events intermingle with the simulated events.</span></span> <span data-ttu-id="6afb1-335">Cuando se completa la llamada, el valor devuelto indica el número de eventos de entrada reproducidos correctamente.</span><span class="sxs-lookup"><span data-stu-id="6afb1-335">When the call completes, the return value indicates the number of input events successfully played.</span></span> <span data-ttu-id="6afb1-336">Si este valor es cero, la entrada se bloqueó.</span><span class="sxs-lookup"><span data-stu-id="6afb1-336">If this value is zero, then input was blocked.</span></span>

<span data-ttu-id="6afb1-337">La función [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) no restablece el estado actual del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-337">The [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function does not reset the keyboard's current state.</span></span> <span data-ttu-id="6afb1-338">Por lo tanto, si el usuario tiene presionadas las teclas al llamar a esta función, podrían interferir con los eventos generados por esta función.</span><span class="sxs-lookup"><span data-stu-id="6afb1-338">Therefore, if the user has any keys pressed when you call this function, they might interfere with the events that this function generates.</span></span> <span data-ttu-id="6afb1-339">Si le preocupa la posible interferencia, compruebe el estado del teclado con la función [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) y corríjala según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="6afb1-339">If you are concerned about possible interference, check the keyboard's state with the [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) function and correct as necessary.</span></span>

## <a name="languages-locales-and-keyboard-layouts"></a><span data-ttu-id="6afb1-340">Idiomas, configuraciones regionales y distribuciones de teclado</span><span class="sxs-lookup"><span data-stu-id="6afb1-340">Languages, Locales, and Keyboard Layouts</span></span>

<span data-ttu-id="6afb1-341">Un *lenguaje* es un lenguaje natural, como inglés, francés y japonés.</span><span class="sxs-lookup"><span data-stu-id="6afb1-341">A *language* is a natural language, such as English, French, and Japanese.</span></span> <span data-ttu-id="6afb1-342">Un *subidioma* es una variante de un lenguaje natural que se habla en una región geográfica específica, como los sublenguas en inglés que se hablan en el Reino Unido y el Estados Unidos.</span><span class="sxs-lookup"><span data-stu-id="6afb1-342">A *sublanguage* is a variant of a natural language that is spoken in a specific geographical region, such as the English sublanguages spoken in the United Kingdom and the United States.</span></span> <span data-ttu-id="6afb1-343">Las aplicaciones usan valores, denominados [identificadores de idioma](/windows/desktop/Intl/language-identifiers), para identificar de forma única idiomas y subidiomas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-343">Applications use values, called [language identifiers](/windows/desktop/Intl/language-identifiers), to uniquely identify languages and sublanguages.</span></span>

<span data-ttu-id="6afb1-344">Las aplicaciones suelen usar *configuraciones regionales* para establecer el idioma en el que se procesan la entrada y la salida.</span><span class="sxs-lookup"><span data-stu-id="6afb1-344">Applications typically use *locales* to set the language in which input and output is processed.</span></span> <span data-ttu-id="6afb1-345">El establecimiento de la configuración regional del teclado, por ejemplo, afecta a los valores de caracteres generados por el teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-345">Setting the locale for the keyboard, for example, affects the character values generated by the keyboard.</span></span> <span data-ttu-id="6afb1-346">El establecimiento de la configuración regional de la pantalla o la impresora afecta a los glifos mostrados o impresos.</span><span class="sxs-lookup"><span data-stu-id="6afb1-346">Setting the locale for the display or printer affects the glyphs displayed or printed.</span></span> <span data-ttu-id="6afb1-347">Las aplicaciones establecen la configuración regional de un teclado mediante la carga y el uso de las distribuciones del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-347">Applications set the locale for a keyboard by loading and using keyboard layouts.</span></span> <span data-ttu-id="6afb1-348">Para establecer la configuración regional de una pantalla o una impresora, seleccione una fuente que admita la configuración regional especificada.</span><span class="sxs-lookup"><span data-stu-id="6afb1-348">They set the locale for a display or printer by selecting a font that supports the specified locale.</span></span>

<span data-ttu-id="6afb1-349">Una distribución del teclado no solo especifica la posición física de las teclas en el teclado, sino que también determina los valores de caracteres generados al presionar esas teclas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-349">A keyboard layout not only specifies the physical position of the keys on the keyboard but also determines the character values generated by pressing those keys.</span></span> <span data-ttu-id="6afb1-350">Cada diseño identifica el idioma de entrada actual y determina qué valores de caracteres son generados por qué teclas y combinaciones de teclas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-350">Each layout identifies the current input language and determines which character values are generated by which keys and key combinations.</span></span>

<span data-ttu-id="6afb1-351">Cada distribución del teclado tiene un identificador correspondiente que identifica el diseño y el idioma.</span><span class="sxs-lookup"><span data-stu-id="6afb1-351">Every keyboard layout has a corresponding handle that identifies the layout and language.</span></span> <span data-ttu-id="6afb1-352">La palabra baja del identificador es un identificador de idioma.</span><span class="sxs-lookup"><span data-stu-id="6afb1-352">The low word of the handle is a language identifier.</span></span> <span data-ttu-id="6afb1-353">La palabra alta es un identificador de dispositivo, que especifica el diseño físico o es cero, lo que indica un diseño físico predeterminado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-353">The high word is a device handle, specifying the physical layout, or is zero, indicating a default physical layout.</span></span> <span data-ttu-id="6afb1-354">El usuario puede asociar cualquier idioma de entrada a un diseño físico.</span><span class="sxs-lookup"><span data-stu-id="6afb1-354">The user can associate any input language with a physical layout.</span></span> <span data-ttu-id="6afb1-355">Por ejemplo, un usuario en inglés que ocasionalmente trabaja en francés puede establecer el idioma de entrada del teclado en francés sin cambiar el diseño físico del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-355">For example, an English-speaking user who very occasionally works in French can set the input language of the keyboard to French without changing the physical layout of the keyboard.</span></span> <span data-ttu-id="6afb1-356">Esto significa que el usuario puede escribir texto en francés con el diseño en inglés conocido.</span><span class="sxs-lookup"><span data-stu-id="6afb1-356">This means the user can enter text in French using the familiar English layout.</span></span>

<span data-ttu-id="6afb1-357">Normalmente no se espera que las aplicaciones manipulen los idiomas de entrada directamente.</span><span class="sxs-lookup"><span data-stu-id="6afb1-357">Applications are generally not expected to manipulate input languages directly.</span></span> <span data-ttu-id="6afb1-358">En su lugar, el usuario configura combinaciones de idioma y diseño y, a continuación, cambia entre ellas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-358">Instead, the user sets up language and layout combinations, then switches among them.</span></span> <span data-ttu-id="6afb1-359">Cuando el usuario hace clic en el texto marcado con un idioma diferente, la aplicación llama a la función [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) para activar el diseño predeterminado del usuario para ese idioma.</span><span class="sxs-lookup"><span data-stu-id="6afb1-359">When the user clicks into text marked with a different language, the application calls the [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) function to activate the user's default layout for that language.</span></span> <span data-ttu-id="6afb1-360">Si el usuario edita texto en un idioma que no está en la lista activa, la aplicación puede llamar a la función [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) con el lenguaje para obtener un diseño basado en ese idioma.</span><span class="sxs-lookup"><span data-stu-id="6afb1-360">If the user edits text in a language which is not in the active list, the application can call the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function with the language to get a layout based on that language.</span></span>

<span data-ttu-id="6afb1-361">La función [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) establece el idioma de entrada para la tarea actual.</span><span class="sxs-lookup"><span data-stu-id="6afb1-361">The [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) function sets the input language for the current task.</span></span> <span data-ttu-id="6afb1-362">El parámetro *HKL* puede ser el identificador de la distribución del teclado o un identificador de idioma con extensión cero.</span><span class="sxs-lookup"><span data-stu-id="6afb1-362">The *hkl* parameter can be either the handle to the keyboard layout or a zero-extended language identifier.</span></span> <span data-ttu-id="6afb1-363">Los identificadores de distribución del teclado se pueden obtener a partir de la función [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) o [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist) .</span><span class="sxs-lookup"><span data-stu-id="6afb1-363">Keyboard layout handles can be obtained from the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) or [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist) function.</span></span> <span data-ttu-id="6afb1-364">Los valores de **HKL \_ siguiente** y **HKL \_ Prev** también se pueden usar para seleccionar el teclado siguiente o anterior.</span><span class="sxs-lookup"><span data-stu-id="6afb1-364">The **HKL\_NEXT** and **HKL\_PREV** values can also be used to select the next or previous keyboard.</span></span>

<span data-ttu-id="6afb1-365">La función [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea) recupera el nombre de la distribución de teclado activa para el subproceso que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="6afb1-365">The [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea) function retrieves the name of the active keyboard layout for the calling thread.</span></span> <span data-ttu-id="6afb1-366">Si una aplicación crea el diseño activo mediante la función [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) , **GetKeyboardLayoutName** recupera la misma cadena que se usa para crear el diseño.</span><span class="sxs-lookup"><span data-stu-id="6afb1-366">If an application creates the active layout using the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function, **GetKeyboardLayoutName** retrieves the same string used to create the layout.</span></span> <span data-ttu-id="6afb1-367">De lo contrario, la cadena es el identificador de idioma principal correspondiente a la configuración regional del diseño activo.</span><span class="sxs-lookup"><span data-stu-id="6afb1-367">Otherwise, the string is the primary language identifier corresponding to the locale of the active layout.</span></span> <span data-ttu-id="6afb1-368">Esto significa que la función no puede diferenciar necesariamente entre distintos diseños con el mismo idioma principal, por lo que no puede devolver información específica sobre el idioma de entrada.</span><span class="sxs-lookup"><span data-stu-id="6afb1-368">This means the function may not necessarily differentiate among different layouts with the same primary language, so cannot return specific information about the input language.</span></span> <span data-ttu-id="6afb1-369">La función [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout) , sin embargo, se puede usar para determinar el idioma de entrada.</span><span class="sxs-lookup"><span data-stu-id="6afb1-369">The [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout) function, however, can be used to determine the input language.</span></span>

<span data-ttu-id="6afb1-370">La función [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) carga una distribución del teclado y hace que el diseño esté disponible para el usuario.</span><span class="sxs-lookup"><span data-stu-id="6afb1-370">The [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function loads a keyboard layout and makes the layout available to the user.</span></span> <span data-ttu-id="6afb1-371">Las aplicaciones pueden hacer que el diseño esté inmediatamente activo para el subproceso actual mediante el valor de **\_ activación de KLF** .</span><span class="sxs-lookup"><span data-stu-id="6afb1-371">Applications can make the layout immediately active for the current thread by using the **KLF\_ACTIVATE** value.</span></span> <span data-ttu-id="6afb1-372">Una aplicación puede usar el valor de **\_ reordenación de KLF** para reordenar los diseños sin especificar también el valor de **KLF \_ Activate** .</span><span class="sxs-lookup"><span data-stu-id="6afb1-372">An application can use the **KLF\_REORDER** value to reorder the layouts without also specifying the **KLF\_ACTIVATE** value.</span></span> <span data-ttu-id="6afb1-373">Las aplicaciones siempre deben usar el valor de **KLF \_ Substitute \_ OK** al cargar las distribuciones de teclado para asegurarse de que la preferencia del usuario, si existe, está seleccionada.</span><span class="sxs-lookup"><span data-stu-id="6afb1-373">Applications should always use the **KLF\_SUBSTITUTE\_OK** value when loading keyboard layouts to ensure that the user's preference, if any, is selected.</span></span>

<span data-ttu-id="6afb1-374">Para la compatibilidad multilingüe, la función [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) proporciona las marcas **KLF \_ REPLACELANG** y **KLF \_ NOTELLSHELL** .</span><span class="sxs-lookup"><span data-stu-id="6afb1-374">For multilingual support, the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function provides the **KLF\_REPLACELANG** and **KLF\_NOTELLSHELL** flags.</span></span> <span data-ttu-id="6afb1-375">La marca **KLF \_ REPLACELANG** indica a la función que reemplace una distribución del teclado existente sin cambiar el idioma.</span><span class="sxs-lookup"><span data-stu-id="6afb1-375">The **KLF\_REPLACELANG** flag directs the function to replace an existing keyboard layout without changing the language.</span></span> <span data-ttu-id="6afb1-376">El intento de reemplazar un diseño existente con el mismo identificador de idioma pero sin especificar **KLF \_ REPLACELANG** es un error.</span><span class="sxs-lookup"><span data-stu-id="6afb1-376">Attempting to replace an existing layout using the same language identifier but without specifying **KLF\_REPLACELANG** is an error.</span></span> <span data-ttu-id="6afb1-377">La marca **KLF \_ NOTELLSHELL** impide que la función notifique al shell cuando se agrega o reemplaza una distribución del teclado.</span><span class="sxs-lookup"><span data-stu-id="6afb1-377">The **KLF\_NOTELLSHELL** flag prevents the function from notifying the shell when a keyboard layout is added or replaced.</span></span> <span data-ttu-id="6afb1-378">Esto resulta útil para las aplicaciones que agregan varios diseños en una serie consecutiva de llamadas.</span><span class="sxs-lookup"><span data-stu-id="6afb1-378">This is useful for applications that add multiple layouts in a consecutive series of calls.</span></span> <span data-ttu-id="6afb1-379">Esta marca debe usarse en todas las llamadas excepto en la última.</span><span class="sxs-lookup"><span data-stu-id="6afb1-379">This flag should be used in all but the last call.</span></span>

<span data-ttu-id="6afb1-380">La función [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout) está restringida en que no puede descargar el idioma de entrada predeterminado del sistema.</span><span class="sxs-lookup"><span data-stu-id="6afb1-380">The [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout) function is restricted in that it cannot unload the system default input language.</span></span> <span data-ttu-id="6afb1-381">Esto garantiza que el usuario siempre tiene un diseño disponible para escribir texto mediante el mismo juego de caracteres que usa el Shell y el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="6afb1-381">This ensures that the user always has one layout available for enter text using the same character set as used by the shell and file system.</span></span>

 

 
