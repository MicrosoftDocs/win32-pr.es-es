---
description: Si es posible, la mejor manera de especificar la ubicación de destino para un directorio es crear la tabla de directorio en el paquete de instalación para proporcionar la ubicación correcta. Para obtener más información, consulte uso de la tabla de directorios.
ms.assetid: 2d16e036-2d7f-431d-b646-1addf2f65f3f
title: Cambiar la ubicación de destino de un directorio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 818c4e9d555244dd1637e19eb249478f13ea2d48
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104276511"
---
# <a name="changing-the-target-location-for-a-directory"></a><span data-ttu-id="e536b-104">Cambiar la ubicación de destino de un directorio</span><span class="sxs-lookup"><span data-stu-id="e536b-104">Changing the Target Location for a Directory</span></span>

<span data-ttu-id="e536b-105">Si es posible, la mejor manera de especificar la ubicación de destino para un directorio es crear la [tabla de directorio](directory-table.md) en el paquete de instalación para proporcionar la ubicación correcta.</span><span class="sxs-lookup"><span data-stu-id="e536b-105">If possible, the best way to specify the target location for a directory is to author the [Directory Table](directory-table.md) in your installation package to provide the correct location.</span></span> <span data-ttu-id="e536b-106">Para obtener más información, consulte [uso de la tabla de directorios](using-the-directory-table.md).</span><span class="sxs-lookup"><span data-stu-id="e536b-106">For more information, see [Using the Directory Table](using-the-directory-table.md).</span></span>

<span data-ttu-id="e536b-107">Si necesita cambiar la ubicación del directorio en el momento de la instalación, tiene las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="e536b-107">If you need to change the directory location at the time of the installation, you have the following options:</span></span>

-   <span data-ttu-id="e536b-108">Especifique la ubicación de un directorio mediante el establecimiento del valor de una [propiedad pública](public-properties.md) en la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="e536b-108">Specify the location of a directory by setting the value of a [Public Property](public-properties.md) on the command line.</span></span> <span data-ttu-id="e536b-109">Durante la [acción CostFinalize](costfinalize-action.md), las rutas de acceso de directorio internas usadas por el instalador se actualizan al valor de las propiedades enumeradas como claves en la [tabla de directorios](directory-table.md).</span><span class="sxs-lookup"><span data-stu-id="e536b-109">During the [CostFinalize Action](costfinalize-action.md), the internal directory paths used by the installer are updated to the value of properties listed as keys in the [Directory Table](directory-table.md).</span></span> <span data-ttu-id="e536b-110">Para obtener más información, vea [usar propiedades](using-properties.md) y [establecer valores de propiedades públicas en la línea de comandos](setting-public-property-values-on-the-command-line.md).</span><span class="sxs-lookup"><span data-stu-id="e536b-110">For more information, see [Using Properties](using-properties.md) and [Setting Public Property Values on the Command Line](setting-public-property-values-on-the-command-line.md).</span></span>
-   <span data-ttu-id="e536b-111">Especifique la ubicación de un directorio mediante una acción personalizada.</span><span class="sxs-lookup"><span data-stu-id="e536b-111">Specify the location of a directory by using a custom action.</span></span> <span data-ttu-id="e536b-112">Si la acción personalizada se va a ejecutar antes de la [acción CostFinalize](costfinalize-action.md), puede usar un [tipo de acción personalizada 51](custom-action-type-51.md) para establecer el valor de una propiedad a partir de una cadena de texto con formato.</span><span class="sxs-lookup"><span data-stu-id="e536b-112">If the custom action is to run before the [CostFinalize Action](costfinalize-action.md), you can use a [Custom Action Type 51](custom-action-type-51.md) to set the value of a property from a formatted text string.</span></span> <span data-ttu-id="e536b-113">Si la acción personalizada se ejecuta después de la [acción CostFinalize](costfinalize-action.md), puede usar un [tipo de acción personalizada 35](custom-action-type-35.md) para establecer el valor de la ruta de acceso del directorio a partir de una cadena de texto con formato.</span><span class="sxs-lookup"><span data-stu-id="e536b-113">If the custom action runs after the [CostFinalize Action](costfinalize-action.md), you can use a [Custom Action Type 35](custom-action-type-35.md) to set the value of the directory path from a formatted text string.</span></span> <span data-ttu-id="e536b-114">Las acciones personalizadas que cambian una de las propiedades de la [carpeta del sistema](property-reference.md) deben incluirse en las tablas de secuencia de ejecución (tabla [InstallExecuteSequence](installexecutesequence-table.md) o [AdminExecuteSequence](adminexecutesequence-table.md)), y en las tablas de secuencia de la interfaz de usuario (tabla [InstallUISequence](installuisequence-table.md) y tabla [AdminUISequence](adminuisequence-table.md)) para que la carpeta se cambie durante las instalaciones de IU [*completa*](f-gly.md) e interfaz de usuario [*básica*](b-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="e536b-114">Custom actions that change one of the [System Folder Properties](property-reference.md) should be included in both the execution sequence tables ([InstallExecuteSequence Table](installexecutesequence-table.md) or [AdminExecuteSequence Table](adminexecutesequence-table.md)), and the user interface sequence tables ([InstallUISequence Table](installuisequence-table.md) and [AdminUISequence Table](adminuisequence-table.md)) so that the folder is changed during both [*full UI*](f-gly.md) and [*basic UI*](b-gly.md) installations.</span></span>
-   <span data-ttu-id="e536b-115">Si la instalación ejecuta una [*interfaz de usuario completa*](f-gly.md), puede usar [**MsiSetTargetPath**](/windows/desktop/api/Msiquery/nf-msiquery-msisettargetpatha) o [SetTargetPath ControlEvent,](settargetpath-controlevent.md) para establecer la ruta de acceso del directorio.</span><span class="sxs-lookup"><span data-stu-id="e536b-115">If the installation is running a [*full UI*](f-gly.md), you can use [**MsiSetTargetPath**](/windows/desktop/api/Msiquery/nf-msiquery-msisettargetpatha) or the [SetTargetPath ControlEvent](settargetpath-controlevent.md) to set the directory path.</span></span> <span data-ttu-id="e536b-116">Compruebe la propiedad [**ProductState**](productstate.md) para determinar si el producto que contiene este componente ya está instalado antes de llamar a **MsiSetTargetPath** o SetTargetPath ControlEvent,.</span><span class="sxs-lookup"><span data-stu-id="e536b-116">Check the [**ProductState**](productstate.md) Property to determine whether the product that contains this component is already installed before calling **MsiSetTargetPath** or the SetTargetPath ControlEvent.</span></span> <span data-ttu-id="e536b-117">No intente cambiar la ruta de acceso del directorio de destino si algunos componentes que usan esa ruta de acceso ya están instalados para el usuario actual o para otro usuario.</span><span class="sxs-lookup"><span data-stu-id="e536b-117">Do not attempt to change the target directory path if some components that use that path are already installed for the current user or a different user.</span></span>

<span data-ttu-id="e536b-118">Las restricciones siguientes se aplican a todas las opciones anteriores:</span><span class="sxs-lookup"><span data-stu-id="e536b-118">The following restrictions apply to all of the above options:</span></span>

-   <span data-ttu-id="e536b-119">No intente cambiar la ruta de acceso del directorio de destino si algunos componentes que utilizan la ruta de acceso ya están instalados para el usuario actual o para otro usuario.</span><span class="sxs-lookup"><span data-stu-id="e536b-119">Do not attempt to change the target directory path if some components that use the path are already installed for the current user or for a different user.</span></span>
-   <span data-ttu-id="e536b-120">No intente cambiar la ruta de acceso del directorio de destino durante una [instalación de mantenimiento](maintenance-installation.md).</span><span class="sxs-lookup"><span data-stu-id="e536b-120">Do not attempt to change the target directory path during a [Maintenance Installation](maintenance-installation.md).</span></span>

 

 



