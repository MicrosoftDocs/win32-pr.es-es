---
description: Un contexto de dispositivo común se usa para dibujar en el área de cliente de la ventana.
ms.assetid: 63c4f775-b1a3-4f7c-808b-81c596f26353
title: Contextos de dispositivo de pantalla comunes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 890b0235784ec1ed11c8ce3a553244629a008d75
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104001525"
---
# <a name="common-display-device-contexts"></a><span data-ttu-id="4ea91-103">Contextos de dispositivo de pantalla comunes</span><span class="sxs-lookup"><span data-stu-id="4ea91-103">Common Display Device Contexts</span></span>

<span data-ttu-id="4ea91-104">Un *contexto de dispositivo común* se usa para dibujar en el área de cliente de la ventana.</span><span class="sxs-lookup"><span data-stu-id="4ea91-104">A *common device context* is used for drawing in the client area of the window.</span></span> <span data-ttu-id="4ea91-105">El sistema proporciona un contexto de dispositivo común de forma predeterminada para cualquier ventana cuya clase de ventana no especifique explícitamente un estilo de contexto de dispositivo de pantalla.</span><span class="sxs-lookup"><span data-stu-id="4ea91-105">The system provides a common device context by default for any window whose window class does not explicitly specify a display device context style.</span></span> <span data-ttu-id="4ea91-106">Normalmente, los contextos de dispositivo comunes se utilizan con ventanas que se pueden dibujar sin cambios profundos en los atributos de contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4ea91-106">Common device contexts are typically used with windows that can be drawn without extensive changes to the device context attributes.</span></span> <span data-ttu-id="4ea91-107">Los contextos de dispositivo comunes son prácticos porque no requieren memoria adicional ni recursos del sistema, pero pueden ser inconvenientes si la aplicación debe configurar muchos atributos antes de usarlos.</span><span class="sxs-lookup"><span data-stu-id="4ea91-107">Common device contexts are convenient because they do not require additional memory or system resources, but they can be inconvenient if the application must set up many attributes before using them.</span></span>

<span data-ttu-id="4ea91-108">El sistema recupera todos los contextos de dispositivo comunes de la memoria caché de contexto de dispositivo de pantalla.</span><span class="sxs-lookup"><span data-stu-id="4ea91-108">The system retrieves all common device contexts from the display device context cache.</span></span> <span data-ttu-id="4ea91-109">Una aplicación puede recuperar un contexto de dispositivo común inmediatamente después de crear la ventana.</span><span class="sxs-lookup"><span data-stu-id="4ea91-109">An application can retrieve a common device context immediately after the window is created.</span></span> <span data-ttu-id="4ea91-110">Dado que el contexto de dispositivo común es de la memoria caché, la aplicación siempre debe liberar el contexto del dispositivo tan pronto como sea posible después del dibujo.</span><span class="sxs-lookup"><span data-stu-id="4ea91-110">Because the common device context is from the cache, the application must always release the device context as soon as possible after drawing.</span></span> <span data-ttu-id="4ea91-111">Una vez que se libera el contexto de dispositivo común, ya no es válido y la aplicación no debe intentar dibujar con él.</span><span class="sxs-lookup"><span data-stu-id="4ea91-111">After the common device context is released, it is no longer valid and the application must not attempt to draw with it.</span></span> <span data-ttu-id="4ea91-112">Para volver a dibujar, la aplicación debe recuperar un nuevo contexto de dispositivo común y seguir recuperando y liberando un contexto de dispositivo común cada vez que se dibuja en la ventana.</span><span class="sxs-lookup"><span data-stu-id="4ea91-112">To draw again, the application must retrieve a new common device context, and continue to retrieve and release a common device context each time it draws in the window.</span></span> <span data-ttu-id="4ea91-113">Si la aplicación recupera el identificador de contexto del dispositivo mediante la función [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) , debe usar la función [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) para liberar el identificador.</span><span class="sxs-lookup"><span data-stu-id="4ea91-113">If the application retrieves the device context handle by using the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) function, it must use the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function to release the handle.</span></span> <span data-ttu-id="4ea91-114">Del mismo modo, para cada función [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) , la aplicación debe usar una función [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="4ea91-114">Similarly, for each [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function, the application must use a corresponding [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) function.</span></span>

<span data-ttu-id="4ea91-115">Cuando la aplicación recupera el contexto del dispositivo, el sistema ajusta el origen para que se alinee con la esquina superior izquierda del área cliente.</span><span class="sxs-lookup"><span data-stu-id="4ea91-115">When the application retrieves the device context, the system adjusts the origin so that it aligns with the upper left corner of the client area.</span></span> <span data-ttu-id="4ea91-116">También establece la región de recorte para que el resultado en el contexto del dispositivo se recorte en el área cliente.</span><span class="sxs-lookup"><span data-stu-id="4ea91-116">It also sets the clipping region so that output to the device context is clipped to the client area.</span></span> <span data-ttu-id="4ea91-117">Cualquier salida que de otro modo aparecería fuera del área cliente se recorta.</span><span class="sxs-lookup"><span data-stu-id="4ea91-117">Any output that would otherwise appear outside the client area is clipped.</span></span> <span data-ttu-id="4ea91-118">Si la aplicación recupera el contexto de dispositivo común mediante [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), el sistema también incluye la región de actualización en la región de recorte para restringir aún más la salida.</span><span class="sxs-lookup"><span data-stu-id="4ea91-118">If the application retrieves the common device context by using [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), the system also includes the update region in the clipping region to further restrict the output.</span></span>

<span data-ttu-id="4ea91-119">Cuando una aplicación libera un contexto de dispositivo común, el sistema restaura los valores predeterminados de los atributos del contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4ea91-119">When an application releases a common device context, the system restores the default values for the attributes of the device context.</span></span> <span data-ttu-id="4ea91-120">Una aplicación que modifica los valores de atributo debe hacerlo cada vez que recupera un contexto de dispositivo común.</span><span class="sxs-lookup"><span data-stu-id="4ea91-120">An application that modifies attribute values must do so each time it retrieves a common device context.</span></span> <span data-ttu-id="4ea91-121">La liberación del contexto del dispositivo libera cualquier objeto de dibujo que la aplicación haya seleccionado en él, por lo que la aplicación no necesita liberar estos objetos antes de liberar el contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4ea91-121">Releasing the device context releases any drawing objects the application may have selected into it, so the application need not release these objects before releasing the device context.</span></span> <span data-ttu-id="4ea91-122">En todos los casos, una aplicación nunca debe asumir que el contexto de dispositivo común conserva las selecciones no predeterminadas después de su lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="4ea91-122">In all cases, an application must never assume that the common device context retains nondefault selections after being released.</span></span>

 

 



