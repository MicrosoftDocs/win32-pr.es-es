---
description: En este tema se proporciona un examen paso a paso de los requisitos para crear un archivo DLL que implementa un controlador que se va a usar con el centro de sincronización. Esta información es válida en Windows Vista.
title: Desarrollar un controlador del centro de sincronización de Windows
ms.topic: article
ms.date: 05/31/2018
ms.assetid: 66b40f81-9515-4190-8ced-44f20bb9df86
api_name: ''
api_type: ''
api_location: ''
topic_type:
- kbArticle
ms.openlocfilehash: 11185aa5976c27b7af95787b081e1eaacd99c8e9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104985559"
---
# <a name="developing-a-windows-sync-center-handler"></a><span data-ttu-id="3d044-104">Desarrollar un controlador del centro de sincronización de Windows</span><span class="sxs-lookup"><span data-stu-id="3d044-104">Developing a Windows Sync Center Handler</span></span>

<span data-ttu-id="3d044-105">En este tema se proporciona un examen paso a paso de los requisitos para crear un archivo DLL que implementa un controlador que se va a usar con el centro de sincronización.</span><span class="sxs-lookup"><span data-stu-id="3d044-105">This topic provides a step-by-step examination of the requirements to build a DLL file that implements a handler to be used with Sync Center.</span></span> <span data-ttu-id="3d044-106">Esta información es válida en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="3d044-106">This information is valid as of Windows Vista.</span></span>

-   [<span data-ttu-id="3d044-107">La experiencia de sincronización de Windows antes de vista</span><span class="sxs-lookup"><span data-stu-id="3d044-107">The Windows Synchronization Experience Before Vista</span></span>](#the-windows-synchronization-experience-before-vista)
-   [<span data-ttu-id="3d044-108">API del centro de sincronización</span><span class="sxs-lookup"><span data-stu-id="3d044-108">Sync Center APIs</span></span>](#sync-center-apis)
    -   [<span data-ttu-id="3d044-109">Interfaces esenciales</span><span class="sxs-lookup"><span data-stu-id="3d044-109">Essential Interfaces</span></span>](#essential-interfaces)

## <a name="the-windows-synchronization-experience-before-vista"></a><span data-ttu-id="3d044-110">La experiencia de sincronización de Windows antes de vista</span><span class="sxs-lookup"><span data-stu-id="3d044-110">The Windows Synchronization Experience Before Vista</span></span>

<span data-ttu-id="3d044-111">Windows XP proporcionó un [Administrador de sincronización](syncmgr-start-page.md) (mobsync.exe).</span><span class="sxs-lookup"><span data-stu-id="3d044-111">Windows XP provided a [Synchronization Manager](syncmgr-start-page.md) (mobsync.exe).</span></span> <span data-ttu-id="3d044-112">Muchos dispositivos como reproductores MP3, teléfonos móviles y cámaras también proporcionan sus propias interfaces de sincronización en lugar de usar el administrador de sincronización.</span><span class="sxs-lookup"><span data-stu-id="3d044-112">Many devices such as mp3 players, cell phones, and cameras also provided their own synchronization interfaces rather than using the Synchronization Manager.</span></span> <span data-ttu-id="3d044-113">Esto dio lugar a una experiencia de usuario incoherente y no centralizada.</span><span class="sxs-lookup"><span data-stu-id="3d044-113">This resulted in an inconsistent and noncentralized user experience.</span></span>

<span data-ttu-id="3d044-114">La nueva característica del centro de sincronización proporcionada en Windows Vista tiene varias ventajas con respecto a la versión anterior del administrador de sincronización.</span><span class="sxs-lookup"><span data-stu-id="3d044-114">The new Sync Center feature provided in Windows Vista has several advantages over the older Synchronization Manager.</span></span>

-   <span data-ttu-id="3d044-115">Mejor capacidad de detección</span><span class="sxs-lookup"><span data-stu-id="3d044-115">Better discoverability</span></span>
-   <span data-ttu-id="3d044-116">Menos necesidad de acción directa del usuario</span><span class="sxs-lookup"><span data-stu-id="3d044-116">Less need for direct user action</span></span>
-   <span data-ttu-id="3d044-117">No bloquea otras operaciones</span><span class="sxs-lookup"><span data-stu-id="3d044-117">Does not block other operations</span></span>
-   <span data-ttu-id="3d044-118">Mejor visualización del progreso de sincronización</span><span class="sxs-lookup"><span data-stu-id="3d044-118">Better visualization of the synchronization progress</span></span>
-   <span data-ttu-id="3d044-119">Modelo de desarrollo más fácil de entender</span><span class="sxs-lookup"><span data-stu-id="3d044-119">Easier to understand development model</span></span>

## <a name="sync-center-apis"></a><span data-ttu-id="3d044-120">API del centro de sincronización</span><span class="sxs-lookup"><span data-stu-id="3d044-120">Sync Center APIs</span></span>

<span data-ttu-id="3d044-121">El centro de sincronización se comunica con los controladores a través de una serie de interfaces COM (modelo de objetos componentes).</span><span class="sxs-lookup"><span data-stu-id="3d044-121">Sync Center communicates with handlers through a number of Component Object Model (COM) interfaces.</span></span> <span data-ttu-id="3d044-122">No todas estas interfaces son necesarias para implementar un controlador del centro de sincronización.</span><span class="sxs-lookup"><span data-stu-id="3d044-122">Not all of these interfaces are needed to implement a Sync Center handler.</span></span> <span data-ttu-id="3d044-123">Este tema se ha dividido en dos secciones.</span><span class="sxs-lookup"><span data-stu-id="3d044-123">This topic has been broken into two sections.</span></span> <span data-ttu-id="3d044-124">En la primera sección se explican las interfaces COM esenciales que cada controlador debe admitir y en la segunda sección se examinan las interfaces COM opcionales y se analizan las razones por las que un controlador las admitiría.</span><span class="sxs-lookup"><span data-stu-id="3d044-124">The first section explains the essential COM interfaces that every handler must support, and the second section examines the optional COM interfaces and looks at the reasons that a handler would support them.</span></span>

-   [<span data-ttu-id="3d044-125">Interfaces esenciales</span><span class="sxs-lookup"><span data-stu-id="3d044-125">Essential Interfaces</span></span>](#essential-interfaces)

### <a name="essential-interfaces"></a><span data-ttu-id="3d044-126">Interfaces esenciales</span><span class="sxs-lookup"><span data-stu-id="3d044-126">Essential Interfaces</span></span>

<span data-ttu-id="3d044-127">Todos los controladores del centro de sincronización deben admitir las siguientes interfaces:</span><span class="sxs-lookup"><span data-stu-id="3d044-127">All Sync Center handlers must support the following interfaces:</span></span>

-   [<span data-ttu-id="3d044-128">**ISyncMgrHandler**</span><span class="sxs-lookup"><span data-stu-id="3d044-128">**ISyncMgrHandler**</span></span>](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrhandler)
-   [<span data-ttu-id="3d044-129">**ISyncMgrHandlerInfo**</span><span class="sxs-lookup"><span data-stu-id="3d044-129">**ISyncMgrHandlerInfo**</span></span>](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrhandlerinfo)
-   [<span data-ttu-id="3d044-130">**ISyncMgrSyncItemContainer**</span><span class="sxs-lookup"><span data-stu-id="3d044-130">**ISyncMgrSyncItemContainer**</span></span>](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitemcontainer)
-   [<span data-ttu-id="3d044-131">**IEnumSyncMgrSyncItems**</span><span class="sxs-lookup"><span data-stu-id="3d044-131">**IEnumSyncMgrSyncItems**</span></span>](/windows/desktop/api/Syncmgr/nn-syncmgr-ienumsyncmgrsyncitems)
-   [<span data-ttu-id="3d044-132">**ISyncMgrSyncItem**</span><span class="sxs-lookup"><span data-stu-id="3d044-132">**ISyncMgrSyncItem**</span></span>](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitem)
-   [<span data-ttu-id="3d044-133">**ISyncMgrSyncItemInfo**</span><span class="sxs-lookup"><span data-stu-id="3d044-133">**ISyncMgrSyncItemInfo**</span></span>](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsynciteminfo)

<span data-ttu-id="3d044-134">[**ISyncMgrSyncItem**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitem) y [**ISyncMgrSyncItemInfo**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsynciteminfo) se usan para describir un solo elemento de sincronización implicado en la sincronización con el centro de sincronización.</span><span class="sxs-lookup"><span data-stu-id="3d044-134">[**ISyncMgrSyncItem**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitem) and [**ISyncMgrSyncItemInfo**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsynciteminfo) are used to describe a single sync item involved in the synchronization to the Sync Center.</span></span> <span data-ttu-id="3d044-135">Un elemento de sincronización generalmente representa un tipo de datos determinado (como imágenes) o una ubicación de datos determinada.</span><span class="sxs-lookup"><span data-stu-id="3d044-135">A sync item generally represents either a particular data type (such as images) or a particular location of data.</span></span>

<span data-ttu-id="3d044-136">Los elementos de sincronización que representan diferentes ubicaciones de datos permiten sincronizaciones muy específicas.</span><span class="sxs-lookup"><span data-stu-id="3d044-136">Sync items that represent different data locations allow for very specific synchronizations.</span></span> <span data-ttu-id="3d044-137">La granularidad de la ubicación depende del autor del controlador, pero se debe tener cuidado en el diseño.</span><span class="sxs-lookup"><span data-stu-id="3d044-137">The granularity of the location is up to the handler author, but care should be taken in the design.</span></span> <span data-ttu-id="3d044-138">Si hay demasiados elementos de sincronización (ubicaciones), el usuario está restringido por su capacidad de sincronizar solo determinados datos.</span><span class="sxs-lookup"><span data-stu-id="3d044-138">If there are too few sync items (locations), then the user is restricted in their ability to sync only certain data.</span></span> <span data-ttu-id="3d044-139">En el otro extremo, demasiada granularidad puede ser no administrable.</span><span class="sxs-lookup"><span data-stu-id="3d044-139">At the other extreme, too much granularity can become unmanageable.</span></span>

<span data-ttu-id="3d044-140">Si un controlador admite más de un tipo de datos o varias ubicaciones de datos, necesita admitir más de un objeto de elemento de sincronización.</span><span class="sxs-lookup"><span data-stu-id="3d044-140">If a handler supports more than one data type or multiple data locations, then it needs to support more than one sync item object.</span></span> <span data-ttu-id="3d044-141">Un ejemplo podría ser un asistente de datos personales (PDA) que permite al usuario sincronizar contactos, elementos de calendario y documentos.</span><span class="sxs-lookup"><span data-stu-id="3d044-141">An example might be a personal data assistant (PDA) that allows the user to sync contacts, calendar items and documents.</span></span> <span data-ttu-id="3d044-142">Estos tres tipos de datos se deben representar mediante tres objetos únicos que exponen las interfaces [**ISyncMgrSyncItem**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitem) y [**ISyncMgrSyncItemInfo**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsynciteminfo) .</span><span class="sxs-lookup"><span data-stu-id="3d044-142">These three data types would need to be represented by three unique objects that each expose the [**ISyncMgrSyncItem**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitem) and [**ISyncMgrSyncItemInfo**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsynciteminfo) interfaces.</span></span>

<span data-ttu-id="3d044-143">La interfaz [**IEnumSyncMgrSyncItems**](/windows/desktop/api/Syncmgr/nn-syncmgr-ienumsyncmgrsyncitems) proporciona un mecanismo para enumerar a través de los elementos de sincronización de un controlador.</span><span class="sxs-lookup"><span data-stu-id="3d044-143">The [**IEnumSyncMgrSyncItems**](/windows/desktop/api/Syncmgr/nn-syncmgr-ienumsyncmgrsyncitems) interface provides a mechanism to enumerate through a handler's sync items.</span></span> <span data-ttu-id="3d044-144">Para recuperar este enumerador, el centro de sincronización llama al método [**ISyncMgrSyncItemContainer:: GetSyncItemEnumerator**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrsyncitemcontainer-getsyncitemenumerator) expuesto por el controlador.</span><span class="sxs-lookup"><span data-stu-id="3d044-144">To retrieve this enumerator, Sync Center calls the [**ISyncMgrSyncItemContainer::GetSyncItemEnumerator**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrsyncitemcontainer-getsyncitemenumerator) method exposed by the handler.</span></span> <span data-ttu-id="3d044-145">[**ISyncMgrSyncItemContainer**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitemcontainer) también contiene otros dos métodos que el centro de sincronización puede usar para recuperar información sobre los elementos de sincronización del controlador:</span><span class="sxs-lookup"><span data-stu-id="3d044-145">[**ISyncMgrSyncItemContainer**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrsyncitemcontainer) also contains two other methods that the Sync Center can use to retrieve information about the handler's sync items:</span></span>

-   <span data-ttu-id="3d044-146">[**GetSyncItem**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrsyncitemcontainer-getsyncitem) devuelve un elemento de sincronización específico.</span><span class="sxs-lookup"><span data-stu-id="3d044-146">[**GetSyncItem**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrsyncitemcontainer-getsyncitem) returns a specific sync item.</span></span>
-   <span data-ttu-id="3d044-147">[**GetSyncItemCount**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrsyncitemcontainer-getsyncitemcount) devuelve el número de elementos de sincronización admitidos por el controlador.</span><span class="sxs-lookup"><span data-stu-id="3d044-147">[**GetSyncItemCount**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrsyncitemcontainer-getsyncitemcount) returns the number of sync items supported by the handler.</span></span>

<span data-ttu-id="3d044-148">[**ISyncMgrHandler**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrhandler) y [**ISyncMgrHandlerInfo**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrhandlerinfo) se usan para describir las propiedades del controlador y para iniciar la sincronización real.</span><span class="sxs-lookup"><span data-stu-id="3d044-148">[**ISyncMgrHandler**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrhandler) and [**ISyncMgrHandlerInfo**](/windows/desktop/api/Syncmgr/nn-syncmgr-isyncmgrhandlerinfo) are used to describe the properties of the hander and launch the actual synchronization.</span></span> <span data-ttu-id="3d044-149">[**ISyncMgrHandler:: Synchronize**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrhandler-synchronize) es donde el código del controlador lleva a cabo la sincronización y proporciona información sobre el progreso y los problemas que se producen.</span><span class="sxs-lookup"><span data-stu-id="3d044-149">[**ISyncMgrHandler::Synchronize**](/windows/desktop/api/Syncmgr/nf-syncmgr-isyncmgrhandler-synchronize) is where the handler code carries out the synchronization and provides feedback on progress and any issues that occur.</span></span>

<span data-ttu-id="3d044-150">No es necesario implementar completamente muchos de los métodos de interfaz.</span><span class="sxs-lookup"><span data-stu-id="3d044-150">Many of the interface methods do not need to be fully implemented.</span></span> <span data-ttu-id="3d044-151">El centro de sincronización proporciona una determinada cantidad de información predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3d044-151">Sync Center provides a certain amount of default information.</span></span> <span data-ttu-id="3d044-152">Las interfaces permiten que un controlador invalide esta información y proporcione la información personalizada que se va a mostrar, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="3d044-152">The interfaces allow a handler to override this information and provide custom information to display, if needed.</span></span>

 

 



