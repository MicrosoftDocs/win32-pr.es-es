---
description: La sesión de seguimiento de eventos de registrador global registra los eventos que se producen al principio del proceso de arranque del sistema operativo.
ms.assetid: 1462bbef-ef32-4053-9930-5b4a0ab46b47
title: Configurar e iniciar la sesión del registrador global
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8692e1f7321acc163e48cda7e3323f3d24adc1c0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104985722"
---
# <a name="configuring-and-starting-the-global-logger-session"></a><span data-ttu-id="4a4aa-103">Configurar e iniciar la sesión del registrador global</span><span class="sxs-lookup"><span data-stu-id="4a4aa-103">Configuring and Starting the Global Logger Session</span></span>

<span data-ttu-id="4a4aa-104">La sesión de seguimiento de eventos de registrador global registra los eventos que se producen al principio del proceso de arranque del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-104">The Global Logger event tracing session records events that occur early in the operating system boot process.</span></span> <span data-ttu-id="4a4aa-105">Las aplicaciones y los controladores de dispositivos pueden usar la sesión del registrador global para capturar seguimientos antes de que el usuario inicie sesión.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-105">Applications and device drivers can use the Global Logger session to capture traces before the user logs in.</span></span> <span data-ttu-id="4a4aa-106">Tenga en cuenta que algunos controladores de dispositivos, como los controladores de dispositivos de disco, no se cargan en el momento en que comienza la sesión del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-106">Note that some device drivers, such as disk device drivers, are not loaded at the time the Global Logger session begins.</span></span>

> [!Note]  
> <span data-ttu-id="4a4aa-107">Si va a crear una sesión del registrador global en Windows Vista, considere la posibilidad de crear una [sesión de registrador automático](configuring-and-starting-an-autologger-session.md) en su lugar.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-107">If you are creating a Global Logger session on Windows Vista, you should consider creating an [AutoLogger session](configuring-and-starting-an-autologger-session.md) instead.</span></span>

 

<span data-ttu-id="4a4aa-108">El registro se utiliza para configurar la sesión del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-108">You use the registry to configure the Global Logger session.</span></span> <span data-ttu-id="4a4aa-109">Agregue la clave **GlobalLogger** a la siguiente clave del registro, si aún no está presente:</span><span class="sxs-lookup"><span data-stu-id="4a4aa-109">Add the **GlobalLogger** key to the following registry key, if it is not already present:</span></span>

```
HKEY_LOCAL_MACHINE
   \SYSTEM
      \CurrentControlSet
         \Control
            \WMI
```

<span data-ttu-id="4a4aa-110">En la tabla siguiente se describen los valores que se pueden definir para la clave **GlobalLogger** .</span><span class="sxs-lookup"><span data-stu-id="4a4aa-110">The following table describes the values that you can define for the **GlobalLogger** key.</span></span> <span data-ttu-id="4a4aa-111">Debe tener privilegios de administrador para especificar estos valores del registro.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-111">You must have administrator privileges to specify these registry values.</span></span> <span data-ttu-id="4a4aa-112">Los valores del registro afectan a todos los proveedores que registran eventos en la sesión del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-112">The registry values affect all providers that log events to the Global Logger session.</span></span> <span data-ttu-id="4a4aa-113">El valor **Start** es el único valor necesario para iniciar la sesión del registrador global; todos los demás valores tienen valores predeterminados que se utilizan si el valor no está presente en el registro.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-113">The **Start** value is the only value required to start the Global Logger session; all other values have default settings that are used if the value is not present in the registry.</span></span> <span data-ttu-id="4a4aa-114">Normalmente, se deben usar los valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-114">Typically, you should use the default values.</span></span> <span data-ttu-id="4a4aa-115">Si especifica un valor que ETW no admite, ETW invalidará el valor.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-115">If you specify a value that ETW cannot support, ETW will override the value.</span></span>



<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="4a4aa-116">Value</span><span class="sxs-lookup"><span data-stu-id="4a4aa-116">Value</span></span></th>
<th><span data-ttu-id="4a4aa-117">Tipo</span><span class="sxs-lookup"><span data-stu-id="4a4aa-117">Type</span></span></th>
<th><span data-ttu-id="4a4aa-118">Descripción</span><span class="sxs-lookup"><span data-stu-id="4a4aa-118">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="4a4aa-119"><strong>Iniciar</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-119"><strong>Start</strong></span></span></td>
<td><span data-ttu-id="4a4aa-120"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-120"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-121">Establezca este valor en 1 (activado) para iniciar la sesión del registrador global la próxima vez que se inicie el sistema.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-121">Set this value to 1 (on) to start the Global Logger session the next time the system starts.</span></span> <span data-ttu-id="4a4aa-122">Para evitar que se inicie la sesión, establezca este valor en 0 (desactivado).</span><span class="sxs-lookup"><span data-stu-id="4a4aa-122">To stop the session from starting, set this value to 0 (off).</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="4a4aa-123"><strong>BufferSize</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-123"><strong>BufferSize</strong></span></span></td>
<td><span data-ttu-id="4a4aa-124"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-124"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-125">Tamaño de cada búfer, en kilobytes.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-125">The size of each buffer, in kilobytes.</span></span> <span data-ttu-id="4a4aa-126">Este valor debe ser inferior a un megabyte.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-126">This value should be less than one megabyte.</span></span> <span data-ttu-id="4a4aa-127">ETW utiliza el tamaño de la memoria física para calcular este valor.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-127">ETW uses the size of physical memory to calculate this value.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="4a4aa-128"><strong>ClockType</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-128"><strong>ClockType</strong></span></span></td>
<td><span data-ttu-id="4a4aa-129"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-129"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-130">Temporizador que se va a usar al registrar la marca de tiempo para cada evento.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-130">The timer to use when logging the time stamp for each event.</span></span>
<ul>
<li><span data-ttu-id="4a4aa-131">1 = valor del contador de rendimiento (alta resolución)</span><span class="sxs-lookup"><span data-stu-id="4a4aa-131">1 = Performance counter value (high resolution)</span></span></li>
<li><span data-ttu-id="4a4aa-132">2 = temporizador del sistema</span><span class="sxs-lookup"><span data-stu-id="4a4aa-132">2 = System timer</span></span></li>
<li><span data-ttu-id="4a4aa-133">3 = contador de ciclo de CPU</span><span class="sxs-lookup"><span data-stu-id="4a4aa-133">3 = CPU cycle counter</span></span></li>
</ul>
<span data-ttu-id="4a4aa-134">Para obtener una descripción de cada tipo de reloj, vea el miembro <strong>ClientContext</strong> de <a href="wnode-header.md"><strong>WNODE_HEADER</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-134">For a description of each clock type, see the <strong>ClientContext</strong> member of <a href="wnode-header.md"><strong>WNODE_HEADER</strong></a>.</span></span><br/> <span data-ttu-id="4a4aa-135">El valor predeterminado es 1 (valor del contador de rendimiento) en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-135">The default value is 1 (performance counter value) on Windows Vista and later.</span></span> <span data-ttu-id="4a4aa-136">Antes de Windows Vista, el valor predeterminado es 2 (temporizador del sistema).</span><span class="sxs-lookup"><span data-stu-id="4a4aa-136">Prior to Windows Vista, the default value is 2 (system timer).</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="4a4aa-137"><strong>EnableKernelFlags</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-137"><strong>EnableKernelFlags</strong></span></span></td>
<td><span data-ttu-id="4a4aa-138"><strong>REG_BINARY</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-138"><strong>REG_BINARY</strong></span></span></td>
<td><span data-ttu-id="4a4aa-139">Use este valor para habilitar uno o varios proveedores de kernel.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-139">Use this value to enable one or more kernel providers.</span></span> <span data-ttu-id="4a4aa-140">Si habilita los proveedores de kernel, la sesión del registrador global cambiará de nombre al registrador del kernel de NT cuando se inicie.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-140">If you enable kernel providers, the Global Logger session will rename itself to NT Kernel Logger when it starts.</span></span> <span data-ttu-id="4a4aa-141">Para ver los valores posibles, vea el miembro <strong>EnableFlags</strong> de <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-141">For possible values, see the <strong>EnableFlags</strong> member of <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="4a4aa-142"><strong>FileCounter</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-142"><strong>FileCounter</strong></span></span></td>
<td><span data-ttu-id="4a4aa-143"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-143"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-144">El número de archivos de registro de seguimiento de eventos generados por las sesiones del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-144">The number of event trace log files generated by Global Logger sessions.</span></span> <span data-ttu-id="4a4aa-145">El sistema incrementa este valor hasta que alcanza el valor de <strong>FileMax</strong>.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-145">The system increments this value until it reaches the value of <strong>FileMax</strong>.</span></span> <span data-ttu-id="4a4aa-146">A continuación, restablece el valor en 0.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-146">Then, it resets the value to 0.</span></span> <span data-ttu-id="4a4aa-147">Este contador impide que el sistema sobrescriba un archivo de registro de seguimiento del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-147">This counter prevents the system from overwriting a Global Logger trace log file.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="4a4aa-148"><strong>FileMax</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-148"><strong>FileMax</strong></span></span></td>
<td><span data-ttu-id="4a4aa-149"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-149"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-150">Número máximo de archivos de registro de seguimiento de eventos permitidos en el sistema.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-150">The maximum number of event trace log files permitted on the system.</span></span> <span data-ttu-id="4a4aa-151">Cuando el número de registros de seguimiento alcanza el máximo especificado, el sistema empieza a sobrescribir los registros, empezando por el más antiguo.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-151">When the number of trace logs reaches the specified maximum, the system begins to overwrite the logs, beginning with the oldest.</span></span> <br/> <span data-ttu-id="4a4aa-152">Si el archivo de registro especificado en <strong>filename</strong> existe, ETW anexa el valor de <strong>FileCounter</strong> al nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-152">If the log file specified in <strong>FileName</strong> exists, ETW appends the <strong>FileCounter</strong> value to the file name.</span></span> <span data-ttu-id="4a4aa-153">Por ejemplo, si se usa el nombre de archivo de registro predeterminado, el formato es%SystemRoot%\System32\LogFiles\WMI\GlobalLogger.etl.NNNN.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-153">For example, if the default log file name is used, the form is %SystemRoot%\System32\LogFiles\WMI\GlobalLogger.etl.NNNN.</span></span> <br/> <span data-ttu-id="4a4aa-154">El valor predeterminado es 0, lo que significa que no hay ningún máximo.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-154">The default value is 0, meaning that there is no maximum.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="4a4aa-155"><strong>FileName</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-155"><strong>FileName</strong></span></span></td>
<td><span data-ttu-id="4a4aa-156"><strong>REG_SZ</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-156"><strong>REG_SZ</strong></span></span></td>
<td><span data-ttu-id="4a4aa-157">Ruta de acceso completa del archivo de registro.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-157">Fully qualified path of the log file.</span></span> <span data-ttu-id="4a4aa-158">La ruta de acceso a este archivo debe existir.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-158">The path to this file must exist.</span></span> <span data-ttu-id="4a4aa-159">El archivo de registro es un archivo de registro secuencial.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-159">The log file is a sequential log file.</span></span> <span data-ttu-id="4a4aa-160">Tenga en cuenta que todos los proveedores que escriben eventos en la sesión del registrador global escriben eventos en este archivo de registro.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-160">Note that all providers writing events to the Global Logger session write events to this log file.</span></span> <span data-ttu-id="4a4aa-161">La ruta de acceso está limitada a 1024 caracteres. Si no se especifica <strong>filename</strong> , los eventos se escriben en%systemroot%\System32\LogFiles\WMI\GlobalLogger.ETL.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-161">The path is limited to 1024 characters.If <strong>FileName</strong> is not specified, events are written to %SystemRoot%\System32\LogFiles\WMI\GlobalLogger.etl.</span></span> <span data-ttu-id="4a4aa-162"><strong>Antes de Windows Vista:</strong> El archivo predeterminado es%SystemRoot%\System32\LogFiles\WMI\Trace.log.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-162"><strong>Prior to Windows Vista:</strong> The default file is %SystemRoot%\System32\LogFiles\WMI\Trace.log.</span></span><br/> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="4a4aa-163"><strong>FlushTimer</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-163"><strong>FlushTimer</strong></span></span></td>
<td><span data-ttu-id="4a4aa-164"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-164"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-165">Frecuencia, en segundos, con la que se eliminan forzosamente los búferes de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-165">How often, in seconds, the trace buffers are forcibly flushed.</span></span> <span data-ttu-id="4a4aa-166">El tiempo mínimo de vaciado es de 1 segundo.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-166">The minimum flush time is 1 second.</span></span> <span data-ttu-id="4a4aa-167">Este vaciado forzado se suma al vaciado automático que se produce cuando un búfer está lleno y cuando se detiene la sesión de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-167">This forced flush is in addition to the automatic flush that occurs when a buffer is full and when the trace session stops.</span></span> <br/> <span data-ttu-id="4a4aa-168">En el caso de un registrador en tiempo real, un valor de cero (el valor predeterminado) significa que el tiempo de vaciado se establecerá en 1 segundo.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-168">For the case of a real-time logger, a value of zero (the default value) means that the flush time will be set to 1 second.</span></span> <span data-ttu-id="4a4aa-169">Un registrador en tiempo real es cuando <strong>LogFileMode</strong> se establece en <strong>EVENT_TRACE_REAL_TIME_MODE</strong>.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-169">A real-time logger is when <strong>LogFileMode</strong> is set to <strong>EVENT_TRACE_REAL_TIME_MODE</strong>.</span></span><br/> <span data-ttu-id="4a4aa-170">El valor predeterminado es 0.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-170">The default value is 0.</span></span> <span data-ttu-id="4a4aa-171">De forma predeterminada, los búferes se vacían solo cuando están llenos.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-171">By default, buffers are flushed only when they are full.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="4a4aa-172"><strong>LogFileMode</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-172"><strong>LogFileMode</strong></span></span></td>
<td><span data-ttu-id="4a4aa-173"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-173"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-174">Especifica las opciones de sesión de registro.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-174">Specifies log session options.</span></span> <span data-ttu-id="4a4aa-175">Para ver los valores, consulte <a href="logging-mode-constants.md">constantes del modo de registro</a>.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-175">For values, see <a href="logging-mode-constants.md">Logging Mode Constants</a>.</span></span> <span data-ttu-id="4a4aa-176">Estos valores se admiten en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-176">This values is supported on Windows Vista and later.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="4a4aa-177"><strong>MaximumBuffers</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-177"><strong>MaximumBuffers</strong></span></span></td>
<td><span data-ttu-id="4a4aa-178"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-178"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-179">Número máximo de búferes que se van a asignar.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-179">The maximum number of buffers to allocate.</span></span> <span data-ttu-id="4a4aa-180">Normalmente, este valor es el número mínimo de búferes más veinte.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-180">Typically, this value is the minimum number of buffers plus twenty.</span></span> <span data-ttu-id="4a4aa-181">ETW usa el tamaño de búfer y el tamaño de la memoria física para calcular este valor.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-181">ETW uses the buffer size and the size of physical memory to calculate this value.</span></span> <span data-ttu-id="4a4aa-182">Este valor debe ser mayor o igual que el valor de <strong>MinimumBuffers</strong>.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-182">This value must be greater than or equal to the value for <strong>MinimumBuffers</strong>.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="4a4aa-183"><strong>MaxFileSize</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-183"><strong>MaxFileSize</strong></span></span></td>
<td><span data-ttu-id="4a4aa-184"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-184"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-185">Tamaño máximo, en megabytes, del archivo de registro de seguimiento de eventos.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-185">The maximum size, in megabytes, of the event trace log file.</span></span> <span data-ttu-id="4a4aa-186">De manera predeterminada, no hay un tamaño máximo de archivo.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-186">By default, there is no maximum file size.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="4a4aa-187"><strong>MinimumBuffers</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-187"><strong>MinimumBuffers</strong></span></span></td>
<td><span data-ttu-id="4a4aa-188"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-188"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-189">El número mínimo de búferes que se asignan cuando se inicia la sesión del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-189">The minimum number of buffers to allocate when the Global Logger session starts.</span></span> <span data-ttu-id="4a4aa-190">El número mínimo de búferes que se pueden especificar es de dos búferes por procesador.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-190">The minimum number of buffers that you can specify is two buffers per processor.</span></span> <span data-ttu-id="4a4aa-191">Por ejemplo, en un equipo con un solo procesador, el número mínimo de búferes es dos.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-191">For example, on a single processor computer, the minimum number of buffers is two.</span></span> <br/> <span data-ttu-id="4a4aa-192">El valor predeterminado en un sistema de un solo procesador es 0X3.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-192">The default value on a single-processor system is 0x3.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="4a4aa-193"><strong>Estado</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-193"><strong>Status</strong></span></span></td>
<td><span data-ttu-id="4a4aa-194"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="4a4aa-194"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="4a4aa-195">El estado de inicio del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-195">The startup status of the Global Logger.</span></span> <span data-ttu-id="4a4aa-196">Si el registrador global no se pudo iniciar, el valor de esta clave es el código de error de Win32 adecuado.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-196">If the Global Logger failed to start, the value of this key is the appropriate Win32 error code.</span></span> <span data-ttu-id="4a4aa-197">Si el registrador global se inició correctamente, el valor de esta clave es ERROR_SUCCESS (0).</span><span class="sxs-lookup"><span data-stu-id="4a4aa-197">If the Global Logger successfully started, the value of this key is ERROR_SUCCESS (0).</span></span><br/></td>
</tr>
</tbody>
</table>



 

<span data-ttu-id="4a4aa-198">Una vez que se ha modificado el registro y se ha reiniciado el equipo, la sesión del registrador global se inicia automáticamente y se usa como cualquier otra sesión con una excepción: se usa el identificador \_ \_ \_ de constante de identificador de registrador global de WMI (definido en Wmistr. h) para hacer referencia a la sesión del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-198">After the registry has been modified and the computer restarted, the Global Logger session starts automatically and is used like any other session with one exception: You use the WMI\_GLOBAL\_LOGGER\_ID constant handle (defined in Wmistr.h) to reference the Global Logger session.</span></span> <span data-ttu-id="4a4aa-199">Esta constante se puede usar como argumento para cualquier función de seguimiento de eventos que acepte un identificador de sesión.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-199">This constant may be used as an argument to any event tracing function that accepts a session handle.</span></span> <span data-ttu-id="4a4aa-200">En las funciones que aceptan un nombre de sesión, use \_ el nombre del registrador global \_ .</span><span class="sxs-lookup"><span data-stu-id="4a4aa-200">In functions that accept a session name, use GLOBAL\_LOGGER\_NAME.</span></span>

<span data-ttu-id="4a4aa-201">El controlador de registrador global no llama a la función [**EnableTrace**](/windows/win32/api/evntrace/nf-evntrace-enabletrace) para habilitar los proveedores.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-201">The Global Logger controller does not call the [**EnableTrace**](/windows/win32/api/evntrace/nf-evntrace-enabletrace) function to enable providers.</span></span> <span data-ttu-id="4a4aa-202">El proveedor es responsable de determinar si se inicia la sesión del registrador global y, a continuación, se habilita a sí misma.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-202">The provider is responsible for determining if the Global Logger session is started and then enabling itself.</span></span>

<span data-ttu-id="4a4aa-203">Para determinar si se inicia la sesión del registrador global, puede llamar a la función [**ControlTrace**](/windows/win32/api/evntrace/nf-evntrace-controltracea) , estableciendo *SessionHandle* en el \_ identificador de registrador global de WMI \_ \_ y *ControlCode* en la consulta de **control de seguimiento de eventos \_ \_ \_**.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-203">To determine if the Global Logger session is started, you can call the [**ControlTrace**](/windows/win32/api/evntrace/nf-evntrace-controltracea) function, setting *SessionHandle* to WMI\_GLOBAL\_LOGGER\_ID and *ControlCode* to **EVENT\_TRACE\_CONTROL\_QUERY**.</span></span> <span data-ttu-id="4a4aa-204">Si la llamada a **ControlTrace** es correcta, la sesión del registrador global existe y el proveedor puede habilitarse y registrar los eventos en la sesión del registrador global (la función **CONTROLTRACE** devuelve el error \_ \_ no se encuentra la instancia de WMI \_ \_ si el registrador global no está activo).</span><span class="sxs-lookup"><span data-stu-id="4a4aa-204">If the **ControlTrace** call is successful, the Global Logger session exists and the provider can enable itself and log events to the Global Logger session (the **ControlTrace** function returns ERROR\_WMI\_INSTANCE\_NOT\_FOUND if the Global Logger is not active).</span></span>

<span data-ttu-id="4a4aa-205">Normalmente, el controlador es responsable de pasar las marcas y el nivel de habilitación al proveedor cuando habilita el proveedor, pero como el controlador de registrador global no habilita el proveedor, es responsabilidad del proveedor pasar esta información a sí misma, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-205">Typically, the controller is responsible for passing the enable flags and level to the provider when it enables the provider, but because the Global Logger controller does not enable the provider, it is the provider's responsibility to pass this information to itself, if needed.</span></span>

<span data-ttu-id="4a4aa-206">La sesión del registrador global es un recurso limitado y debe usarse con moderación.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-206">The Global Logger session is a limited resource and should be used sparingly.</span></span> <span data-ttu-id="4a4aa-207">Los servicios que deseen capturar información durante el proceso de arranque deben considerar la posibilidad de agregar la lógica del controlador a sí misma en lugar de utilizar la sesión del registrador global.</span><span class="sxs-lookup"><span data-stu-id="4a4aa-207">Services that want to capture information during the boot process should consider adding controller logic to itself instead of using the Global Logger session.</span></span>

<span data-ttu-id="4a4aa-208">Para obtener más información sobre cómo iniciar una sesión de seguimiento de eventos, vea [configurar e iniciar una sesión de seguimiento de eventos](configuring-and-starting-an-event-tracing-session.md).</span><span class="sxs-lookup"><span data-stu-id="4a4aa-208">For details on starting an event tracing session, see [Configuring and Starting an Event Tracing Session](configuring-and-starting-an-event-tracing-session.md).</span></span>

<span data-ttu-id="4a4aa-209">Para obtener información detallada sobre cómo iniciar una sesión de registrador privada, vea [configurar e iniciar una sesión de registrador privado](configuring-and-starting-a-private-logger-session.md).</span><span class="sxs-lookup"><span data-stu-id="4a4aa-209">For details on starting a private logger session, see [Configuring and Starting a Private Logger Session](configuring-and-starting-a-private-logger-session.md).</span></span>

<span data-ttu-id="4a4aa-210">Para obtener información detallada sobre cómo iniciar una sesión del registrador del kernel de NT, vea [configurar e iniciar la sesión del registrador del kernel de NT](configuring-and-starting-the-nt-kernel-logger-session.md).</span><span class="sxs-lookup"><span data-stu-id="4a4aa-210">For details on starting an NT Kernel Logger session, see [Configuring and Starting the NT Kernel Logger Session](configuring-and-starting-the-nt-kernel-logger-session.md).</span></span>

