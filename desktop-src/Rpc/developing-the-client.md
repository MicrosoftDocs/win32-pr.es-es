---
title: Desarrollo del cliente
description: El desarrollo de un programa cliente RPC es similar al desarrollo del programa de servidor. Para obtener información sobre el desarrollo de un programa de servidor RPC, vea desarrollar el servidor.
ms.assetid: 92276326-d478-479e-8fa4-02a2fce58eb6
keywords:
- RPC llamada a procedimiento remoto, tareas, desarrollar el cliente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 10ceddedc4ccfd1d068e3452b64ed8c6b54a621d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103995535"
---
# <a name="developing-the-client"></a><span data-ttu-id="95c3d-105">Desarrollo del cliente</span><span class="sxs-lookup"><span data-stu-id="95c3d-105">Developing the Client</span></span>

<span data-ttu-id="95c3d-106">El desarrollo de un programa cliente RPC es similar al desarrollo del programa de servidor.</span><span class="sxs-lookup"><span data-stu-id="95c3d-106">Developing an RPC client program is similar to developing the server program.</span></span> <span data-ttu-id="95c3d-107">Para obtener información sobre el desarrollo de un programa de servidor RPC, vea [desarrollar el servidor](developing-the-server.md).</span><span class="sxs-lookup"><span data-stu-id="95c3d-107">For information on developing an RPC server program, see [Developing the Server](developing-the-server.md).</span></span>

<span data-ttu-id="95c3d-108">Al igual que en el desarrollo de servidores, el programa cliente debe incluir el archivo de encabezado que el compilador MIDL genera a partir del archivo. idl.</span><span class="sxs-lookup"><span data-stu-id="95c3d-108">As in server development, your client program must include the header file that the MIDL compiler generates from your .idl file.</span></span> <span data-ttu-id="95c3d-109">El compilador MIDL también genera un archivo de código fuente de C que contiene el código auxiliar del cliente.</span><span class="sxs-lookup"><span data-stu-id="95c3d-109">The MIDL compiler also generates a C source file containing the client stub.</span></span> <span data-ttu-id="95c3d-110">Debe compilar este archivo de código fuente de C y vincularlo al programa cliente.</span><span class="sxs-lookup"><span data-stu-id="95c3d-110">You must compile this C source file and link it to your client program.</span></span> <span data-ttu-id="95c3d-111">(Además, el compilador MIDL genera un archivo de código fuente de C que contiene el código auxiliar del servidor, pero no es relevante para este debate).</span><span class="sxs-lookup"><span data-stu-id="95c3d-111">(In addition, the MIDL compiler generates a C source file containing the server stub, but that is not relevant to this discussion.)</span></span>

<span data-ttu-id="95c3d-112">Además de compilar y vincular el código auxiliar de cliente con los archivos de programa, debe vincular la biblioteca de importación (y cualquier otra biblioteca que el programa cliente necesite) al programa cliente.</span><span class="sxs-lookup"><span data-stu-id="95c3d-112">In addition to compiling and linking the client stub with your program files, you must link the import library (and any other libraries your client program needs) to your client program.</span></span> <span data-ttu-id="95c3d-113">El proceso de creación de un programa cliente RPC se muestra en el diagrama siguiente.</span><span class="sxs-lookup"><span data-stu-id="95c3d-113">The process of creating an RPC client program is illustrated in the following diagram.</span></span>

![proceso de creación de un programa cliente para una aplicación distribuida](images/clntdev.png)

<span data-ttu-id="95c3d-115">En el ejemplo de la ilustración anterior se muestra la creación de un programa cliente RPC denominado MyClnt.exe.</span><span class="sxs-lookup"><span data-stu-id="95c3d-115">The example in the preceding illustration demonstrates the creation of an RPC client program called MyClnt.exe.</span></span> <span data-ttu-id="95c3d-116">El primer paso es definir la interfaz en el archivo MyApp. idl.</span><span class="sxs-lookup"><span data-stu-id="95c3d-116">The first step is to define the interface in the file MyApp.idl.</span></span> <span data-ttu-id="95c3d-117">El compilador MIDL usa MyApp. idl para generar el archivo MyApp \_ c. c, que contiene el código auxiliar del cliente.</span><span class="sxs-lookup"><span data-stu-id="95c3d-117">The MIDL compiler uses MyApp.idl to generate the file MyApp\_c.c, which contains the client stub.</span></span> <span data-ttu-id="95c3d-118">También genera el archivo MyApp. h, que debe incluir el programa cliente.</span><span class="sxs-lookup"><span data-stu-id="95c3d-118">It also generates the file MyApp.h, which the client program must include.</span></span> <span data-ttu-id="95c3d-119">El programa cliente también tendrá que incluir los archivos RPC. h y RPCNDR. h.</span><span class="sxs-lookup"><span data-stu-id="95c3d-119">The client program will also need to include the files RPC.h and RPCNDR.h.</span></span>

<span data-ttu-id="95c3d-120">El propio programa cliente se crea en el archivo MyClnt. c.</span><span class="sxs-lookup"><span data-stu-id="95c3d-120">The client program itself is created in the file MyClnt.c.</span></span> <span data-ttu-id="95c3d-121">En un proyecto real, el programa cliente normalmente se compone de varios archivos de código fuente de C.</span><span class="sxs-lookup"><span data-stu-id="95c3d-121">In a real project, the client program would typically be composed of several C source files.</span></span> <span data-ttu-id="95c3d-122">Todos ellos deben compilarse y vincularse juntos.</span><span class="sxs-lookup"><span data-stu-id="95c3d-122">All of them would need to be compiled and linked together.</span></span> <span data-ttu-id="95c3d-123">Sin embargo, en este ejemplo solo se usa un archivo por simplicidad.</span><span class="sxs-lookup"><span data-stu-id="95c3d-123">However, this example uses only one file for simplicity.</span></span>

<span data-ttu-id="95c3d-124">Los archivos MyClnt. c y MyApp \_ c. c se compilan y vinculan junto con la biblioteca en tiempo de ejecución de RPC y cualquier otra biblioteca que necesite el programa cliente.</span><span class="sxs-lookup"><span data-stu-id="95c3d-124">The files MyClnt.c and MyApp\_c.c are compiled and linked together with the RPC run-time library, and any other libraries that the client program needs.</span></span> <span data-ttu-id="95c3d-125">El resultado es un programa cliente ejecutable denominado MyClnt.exe.</span><span class="sxs-lookup"><span data-stu-id="95c3d-125">The result is an executable client program named MyClnt.exe.</span></span>

<span data-ttu-id="95c3d-126">Si no compila el archivo IDL en el modo de compatibilidad de OSF ([**/OSF**](/windows/desktop/Midl/-osf)), el programa cliente debe proporcionar una función para asignar memoria y una función para desasignarla.</span><span class="sxs-lookup"><span data-stu-id="95c3d-126">If you do not compile your IDL file in OSF compatibility mode ([**/osf**](/windows/desktop/Midl/-osf)), your client program must provide a function for allocating memory and a function for deallocating it.</span></span> <span data-ttu-id="95c3d-127">En Windows 2000 y versiones posteriores, el modo recomendado es [**/Oicf**](/windows/desktop/Midl/-oi).</span><span class="sxs-lookup"><span data-stu-id="95c3d-127">For Windows 2000 and later versions, the recommended mode is [**/Oicf**](/windows/desktop/Midl/-oi).</span></span> <span data-ttu-id="95c3d-128">Para obtener más información, consulte [cómo se asigna y desasigna la memoria](how-memory-is-allocated-and-deallocated.md), y los [punteros y la asignación de memoria](pointers-and-memory-allocation.md).</span><span class="sxs-lookup"><span data-stu-id="95c3d-128">For details, see [How Memory Is Allocated and Deallocated](how-memory-is-allocated-and-deallocated.md), and [Pointers and Memory Allocation](pointers-and-memory-allocation.md).</span></span>

 

 