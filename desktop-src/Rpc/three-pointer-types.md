---
title: Tres tipos de puntero
description: MIDL admite tres tipos de punteros para acomodar una amplia gama de aplicaciones.
ms.assetid: 6684c252-6fbe-49ca-9967-6d4baf5dc298
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: efdcc9548568c8fca24d8abb40bf0eaa8b6e7da3
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103995298"
---
# <a name="three-pointer-types"></a><span data-ttu-id="de09a-103">Tres tipos de puntero</span><span class="sxs-lookup"><span data-stu-id="de09a-103">Three Pointer Types</span></span>

<span data-ttu-id="de09a-104">MIDL admite tres tipos de punteros para acomodar una amplia gama de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="de09a-104">MIDL supports three types of pointers to accommodate a wide range of applications.</span></span> <span data-ttu-id="de09a-105">Los tres niveles distintos se denominan punteros de referencia, únicos y completos, y se indican mediante los atributos **\[** [**ref**](/windows/desktop/Midl/ref) **\]** , **\[** [**Unique**](/windows/desktop/Midl/unique) **\]** y **\[** [**ptr**](/windows/desktop/Midl/ptr) **\]** , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="de09a-105">The three different levels are called reference, unique, and full pointers, and are indicated by the attributes **\[**[**ref**](/windows/desktop/Midl/ref)**\]**, **\[**[**unique**](/windows/desktop/Midl/unique)**\]**, and **\[**[**ptr**](/windows/desktop/Midl/ptr)**\]**, respectively.</span></span> <span data-ttu-id="de09a-106">Las clases de puntero descritas por estos atributos son mutuamente excluyentes.</span><span class="sxs-lookup"><span data-stu-id="de09a-106">The pointer classes described by these attributes are mutually exclusive.</span></span> <span data-ttu-id="de09a-107">Los atributos de puntero se pueden aplicar a punteros en definiciones de tipo, tipos de valor devueltos de función, parámetros de función, miembros de estructuras o uniones, o elementos de matriz.</span><span class="sxs-lookup"><span data-stu-id="de09a-107">Pointer attributes can be applied to pointers in type definitions, function return types, function parameters, members of structures or unions, or array elements.</span></span>

<span data-ttu-id="de09a-108">Los punteros incrustados son punteros que son miembros de estructuras o uniones.</span><span class="sxs-lookup"><span data-stu-id="de09a-108">Embedded pointers are pointers that are members of structures or unions.</span></span> <span data-ttu-id="de09a-109">También pueden ser elementos de matrices.</span><span class="sxs-lookup"><span data-stu-id="de09a-109">They can also be elements of arrays.</span></span> <span data-ttu-id="de09a-110">En la **\[** [](/windows/desktop/Midl/in) **\]** dirección, se supone que los punteros de **\[ referencia \]** incrustados apuntan al almacenamiento válido y no deben ser null.</span><span class="sxs-lookup"><span data-stu-id="de09a-110">In the **\[**[**in**](/windows/desktop/Midl/in)**\]** direction, embedded **\[ref\]** pointers are assumed to be pointing to valid storage and must not be null.</span></span> <span data-ttu-id="de09a-111">Esta situación se aplica de forma recursiva a todos los punteros de **\[ referencia \]** a los que apuntan.</span><span class="sxs-lookup"><span data-stu-id="de09a-111">This situation is recursively applicable to any **\[ref\]** pointers they are pointing to.</span></span> <span data-ttu-id="de09a-112">En la **\[ dirección \]** , los punteros **\[ únicos \]** y completos incrustados (punteros con el atributo **\[ ptr \]** ) pueden ser o no NULL.</span><span class="sxs-lookup"><span data-stu-id="de09a-112">In the **\[in\]** direction, embedded **\[unique\]** and full pointers (pointers with the **\[ptr\]** attribute) may or may not be null.</span></span>

<span data-ttu-id="de09a-113">Cualquier atributo de puntero colocado en un parámetro en la sintaxis de una declaración de función solo afecta al declarador de puntero situado más a la derecha para ese parámetro.</span><span class="sxs-lookup"><span data-stu-id="de09a-113">Any pointer attribute placed on a parameter in the syntax of a function declaration affects only the rightmost pointer declarator for that parameter.</span></span> <span data-ttu-id="de09a-114">Para que afecte a otros declaradores de puntero, se deben usar tipos con nombre intermedios.</span><span class="sxs-lookup"><span data-stu-id="de09a-114">To affect other pointer declarators, intermediate named types must be used.</span></span>

<span data-ttu-id="de09a-115">Las funciones que devuelven un puntero pueden tener un atributo de puntero como atributo de función.</span><span class="sxs-lookup"><span data-stu-id="de09a-115">Functions that return a pointer can have a pointer attribute as a function attribute.</span></span> <span data-ttu-id="de09a-116">Los atributos **\[ Unique \]** y **\[ ptr \]** se deben aplicar a los tipos de valor devuelto de función.</span><span class="sxs-lookup"><span data-stu-id="de09a-116">The **\[unique\]** and **\[ptr\]** attributes must be applied to function return types.</span></span> <span data-ttu-id="de09a-117">Las declaraciones de miembros que son punteros pueden especificar un atributo de puntero como atributo de campo.</span><span class="sxs-lookup"><span data-stu-id="de09a-117">Member declarations that are pointers can specify a pointer attribute as a field attribute.</span></span> <span data-ttu-id="de09a-118">Un atributo de puntero también se puede aplicar como atributo de tipo en las construcciones [**typedef**](/windows/desktop/Midl/typedef) .</span><span class="sxs-lookup"><span data-stu-id="de09a-118">A pointer attribute can also be applied as a type attribute in [**typedef**](/windows/desktop/Midl/typedef) constructs.</span></span>

<span data-ttu-id="de09a-119">Cuando no se especifica ningún atributo de puntero como atributo de campo o de tipo, los atributos de puntero se aplican según las reglas de una declaración de puntero sin atributos como se indica a continuación.</span><span class="sxs-lookup"><span data-stu-id="de09a-119">When no pointer attribute is specified as a field or type attribute, pointer attributes are applied according to the rules for an unattributed pointer declaration as follows.</span></span>

<span data-ttu-id="de09a-120">En el modo de compatibilidad con DCE, los atributos de puntero se determinan en el archivo IDL de definición.</span><span class="sxs-lookup"><span data-stu-id="de09a-120">In DCE-compatibility mode, pointer attributes are determined in the defining IDL file.</span></span> <span data-ttu-id="de09a-121">Si hay un atributo **\[** [**\_ predeterminado de puntero**](/windows/desktop/Midl/pointer-default) **\]** especificado en la interfaz de definición, se utiliza ese atributo.</span><span class="sxs-lookup"><span data-stu-id="de09a-121">If there is a **\[**[**pointer\_default**](/windows/desktop/Midl/pointer-default)**\]** attribute specified in the defining interface, that attribute is used.</span></span> <span data-ttu-id="de09a-122">Si no hay ningún atributo **\[ \_ predeterminado \] de puntero** , todos los punteros sin atributos son punteros completos.</span><span class="sxs-lookup"><span data-stu-id="de09a-122">If no **\[pointer\_default\]** attribute is present, all unattributed pointers are full pointers.</span></span>

<span data-ttu-id="de09a-123">En el modo de extensiones de Microsoft, los atributos de puntero se pueden determinar mediante la importación de archivos IDL y se aplican en el orden siguiente:</span><span class="sxs-lookup"><span data-stu-id="de09a-123">In Microsoft-extensions mode, pointer attributes can be determined by importing IDL files and are applied in the following order:</span></span>

1.  <span data-ttu-id="de09a-124">Atributo de puntero explícito aplicado en el sitio de uso.</span><span class="sxs-lookup"><span data-stu-id="de09a-124">An explicit pointer attribute applied at the use site.</span></span>
2.  <span data-ttu-id="de09a-125">El atributo **\[ ref \]** , cuando el puntero sin atributos es un parámetro de puntero de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="de09a-125">The **\[ref\]** attribute, when the unattributed pointer is a top-level pointer parameter.</span></span>
3.  <span data-ttu-id="de09a-126">Atributo **\[ \_ predeterminado \] de puntero** especificado en la interfaz de definición.</span><span class="sxs-lookup"><span data-stu-id="de09a-126">A **\[pointer\_default\]** attribute specified in the defining interface.</span></span>
4.  <span data-ttu-id="de09a-127">Atributo **\[ \_ predeterminado \] de puntero** especificado en la interfaz base.</span><span class="sxs-lookup"><span data-stu-id="de09a-127">A **\[pointer\_default\]** attribute specified in the base interface.</span></span>
5.  <span data-ttu-id="de09a-128">Atributo **\[ único \]** .</span><span class="sxs-lookup"><span data-stu-id="de09a-128">The **\[unique\]** attribute.</span></span>

<span data-ttu-id="de09a-129">El **\[** atributo de interfaz [**\_ predeterminado de puntero**](/windows/desktop/Midl/pointer-default) **\]** especifica los atributos de puntero predeterminados que se van a aplicar a un declarador de puntero en un tipo, parámetro o declaración de tipo de valor devuelto cuando esa declaración no tiene aplicado un atributo de puntero explícito.</span><span class="sxs-lookup"><span data-stu-id="de09a-129">The **\[**[**pointer\_default**](/windows/desktop/Midl/pointer-default)**\]** interface attribute specifies the default pointer attributes to be applied to a pointer declarator in a type, parameter, or return type declaration when that declaration does not have an explicit pointer attribute applied to it.</span></span> <span data-ttu-id="de09a-130">El atributo de interfaz **\[ \_ predeterminado \] del puntero** no se aplica a un puntero de nivel superior sin atributos de un parámetro, que se supone que es **\[ ref \]**.</span><span class="sxs-lookup"><span data-stu-id="de09a-130">The **\[pointer\_default\]** interface attribute does not apply to an unattributed top-level pointer of a parameter, which is assumed to be **\[ref\]**.</span></span>

 

 