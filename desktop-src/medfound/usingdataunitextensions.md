---
description: Describe cómo agregar extensiones de unidad de datos al usar codificadores de Windows Media.
ms.assetid: fdadcb85-c564-4d05-a4d7-af53a0107455
title: Uso de las extensiones de unidad de datos (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21c16053ee078f5adcd48767f53d9e6e1c0eeb02
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105666777"
---
# <a name="using-data-unit-extensions-microsoft-media-foundation"></a><span data-ttu-id="3af28-103">Uso de las extensiones de unidad de datos (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="3af28-103">Using Data Unit Extensions (Microsoft Media Foundation)</span></span>

<span data-ttu-id="3af28-104">Los códecs de Windows Media Audio y vídeo están diseñados para funcionar bien con el contenedor de Advanced Systems Format (ASF).</span><span class="sxs-lookup"><span data-stu-id="3af28-104">The Windows Media Audio and Video codecs are designed to work well with the Advanced Systems Format (ASF) container.</span></span> <span data-ttu-id="3af28-105">ASF es el formato estructurado que se usa para archivos de Windows Media Audio (WMA) y archivos de Windows Media Video (WMV).</span><span class="sxs-lookup"><span data-stu-id="3af28-105">ASF is the structured format used for Windows Media Audio (WMA) files and Windows Media Video (WMV) files.</span></span> <span data-ttu-id="3af28-106">Es un formato extensible diseñado para la transmisión de datos.</span><span class="sxs-lookup"><span data-stu-id="3af28-106">It is an extensible format designed for streaming data.</span></span> <span data-ttu-id="3af28-107">Una de las características inusuales de la estructura ASF es la capacidad de adjuntar metadatos a ejemplos individuales e incrustar esos datos con los ejemplos de la secuencia de bits.</span><span class="sxs-lookup"><span data-stu-id="3af28-107">One of the unusual characteristics of the ASF structure is the ability to attach metadata to individual samples, and to embed that data with the samples in the bit stream.</span></span> <span data-ttu-id="3af28-108">Un elemento de metadatos almacenado de esta manera se denomina *extensión de unidad* de datos o *extensión de ejemplo*.</span><span class="sxs-lookup"><span data-stu-id="3af28-108">An item of metadata stored in this way is called a data *unit extension*, or *sample extension*.</span></span>

<span data-ttu-id="3af28-109">Una extensión de unidad de datos puede contener información necesaria para el codificador, el descodificador o la aplicación del reproductor.</span><span class="sxs-lookup"><span data-stu-id="3af28-109">A data unit extension can contain information that is required by the encoder, the decoder, or the player application.</span></span> <span data-ttu-id="3af28-110">La mayoría de los tipos de extensión de unidad de datos que se implementan en la serie de códecs de Windows Media 9 contienen los datos destinados a la aplicación que descodifica y representa el medio.</span><span class="sxs-lookup"><span data-stu-id="3af28-110">Most of the data-unit-extension types that are implemented in the Windows Media 9 Series of codecs contain data intended for the application that decodes and renders the media.</span></span> <span data-ttu-id="3af28-111">Por ejemplo, puede mantener los códigos de tiempo SMPTE a partir de los datos de origen agregándolos como extensiones de unidad de datos.</span><span class="sxs-lookup"><span data-stu-id="3af28-111">For example, you can maintain SMPTE time codes from source data by adding them as data unit extensions.</span></span> <span data-ttu-id="3af28-112">Sin embargo, las siguientes características de códec requieren extensiones de unidad de datos:</span><span class="sxs-lookup"><span data-stu-id="3af28-112">However, the following codec features require data unit extensions:</span></span>

-   [<span data-ttu-id="3af28-113">Inserción de fotogramas clave forzada</span><span class="sxs-lookup"><span data-stu-id="3af28-113">Forced Key Frame Insertion</span></span>](forcedkeyframeinsertion.md)
-   [<span data-ttu-id="3af28-114">Codificación de vídeo entrelazada</span><span class="sxs-lookup"><span data-stu-id="3af28-114">Interlaced Video Encoding</span></span>](interlacedvideoencoding.md)
-   <span data-ttu-id="3af28-115">La dificultad para usar las extensiones de unidad de datos al obtener acceso al códec directamente es el mecanismo por el que el objeto recibe los datos de la extensión.</span><span class="sxs-lookup"><span data-stu-id="3af28-115">The difficulty in using data unit extensions when accessing the codec directly is the mechanism by which the object receives the extension data.</span></span> <span data-ttu-id="3af28-116">Esto se consigue mediante los objetos del SDK de Windows Media Format mediante el uso de objetos de búfer diseñados para admitir esta característica.</span><span class="sxs-lookup"><span data-stu-id="3af28-116">This is achieved by the objects of the Windows Media Format SDK by using buffer objects designed to support this feature.</span></span> <span data-ttu-id="3af28-117">Se recomienda usar el SDK de Windows Media Format para activar las características de códec que requieren extensiones de unidad de datos, pero puede hacer que estas características funcionen con los objetos de códec independientes.</span><span class="sxs-lookup"><span data-stu-id="3af28-117">It is recommended that you use the Windows Media Format SDK to activate the codec features that require data unit extensions, but you can make these features work with the standalone codec objects.</span></span>

## <a name="passing-extended-samples-to-the-codec-objects"></a><span data-ttu-id="3af28-118">Pasar ejemplos extendidos a los objetos Codec</span><span class="sxs-lookup"><span data-stu-id="3af28-118">Passing Extended Samples to the Codec Objects</span></span>

<span data-ttu-id="3af28-119">El SDK de Windows Media Format usa objetos de búfer que exponen interfaces [**INSSBuffer**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer) .</span><span class="sxs-lookup"><span data-stu-id="3af28-119">The Windows Media Format SDK uses buffer objects that expose [**INSSBuffer**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer) interfaces.</span></span> <span data-ttu-id="3af28-120">La interfaz más reciente es [**INSSBuffer4**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer4).</span><span class="sxs-lookup"><span data-stu-id="3af28-120">The latest interface is [**INSSBuffer4**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer4).</span></span> <span data-ttu-id="3af28-121">Para pasar ejemplos a un objeto codec con extensiones de unidad de datos, debe utilizar un objeto de búfer que implemente la interfaz [**IMediaBuffer**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediabuffer) o [**IMFMediaBuffer**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediabuffer) y la interfaz **INSSBuffer** .</span><span class="sxs-lookup"><span data-stu-id="3af28-121">To pass samples to a codec object with data unit extensions, you must use a buffer object that implements the [**IMediaBuffer**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediabuffer) or [**IMFMediaBuffer**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediabuffer) interface and the **INSSBuffer** interface.</span></span> <span data-ttu-id="3af28-122">Puede usar los objetos de búfer creados por el SDK de formato de Windows Media o Microsoft Media Foundation para conseguirlo, o puede crear su propia clase de búfer que cumpla los requisitos.</span><span class="sxs-lookup"><span data-stu-id="3af28-122">You can use buffer objects created by the Windows Media Format SDK or Microsoft Media Foundation to accomplish this, or you can make your own buffer class that meets the requirements.</span></span> <span data-ttu-id="3af28-123">Para crear su propia clase de búfer, debe ajustarse a los prototipos de método de las interfaces **INSSBuffer** .</span><span class="sxs-lookup"><span data-stu-id="3af28-123">To create your own buffer class, you must conform to the method prototypes for the **INSSBuffer** interfaces.</span></span> <span data-ttu-id="3af28-124">Estas definiciones de interfaz se pueden encontrar en el archivo de encabezado wmsbuffer. h que se instala con el SDK de Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="3af28-124">These interface definitions can be found in the wmsbuffer.h header file that is installed with the Windows Media Format SDK.</span></span>

## <a name="related-topics"></a><span data-ttu-id="3af28-125">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="3af28-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3af28-126">Códecs de Windows Media</span><span class="sxs-lookup"><span data-stu-id="3af28-126">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 
