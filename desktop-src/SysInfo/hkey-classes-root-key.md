---
description: La clave de la \_ raíz de clases HKEY \_ (HKCR) contiene asociaciones de extensión de nombre de archivo e información de registro de la clase com, como ProgID, CLSID y IID. Está pensado principalmente para la compatibilidad con el registro en Windows de 16 bits.
ms.assetid: b404875f-11e1-48f2-98d2-0378a0646ed3
title: Clave de HKEY_CLASSES_ROOT
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1e7aebe0e59424eb5ff7584fe61c2c5089eb887b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103912782"
---
# <a name="hkey_classes_root-key"></a><span data-ttu-id="d1017-104">\_Clase HKEY \_ clave raíz</span><span class="sxs-lookup"><span data-stu-id="d1017-104">HKEY\_CLASSES\_ROOT Key</span></span>

<span data-ttu-id="d1017-105">La clave de la **\_ \_ raíz de clases HKEY** (**HKCR**) contiene asociaciones de extensión de nombre de archivo e información de registro de la clase com, como [ProgID](../com/-progid--key.md), [CLSID](../com/clsid-key-hklm.md)y [IID](../com/interface-key.md).</span><span class="sxs-lookup"><span data-stu-id="d1017-105">The **HKEY\_CLASSES\_ROOT** (**HKCR**) key contains file name extension associations and COM class registration information such as [ProgIDs](../com/-progid--key.md), [CLSIDs](../com/clsid-key-hklm.md), and [IIDs](../com/interface-key.md).</span></span> <span data-ttu-id="d1017-106">Está pensado principalmente para la compatibilidad con el registro en Windows de 16 bits.</span><span class="sxs-lookup"><span data-stu-id="d1017-106">It is primarily intended for compatibility with the registry in 16-bit Windows.</span></span>

<span data-ttu-id="d1017-107">El registro de clases y la información de la extensión de nombre de archivo se almacenan en las claves **HKEY \_ local \_ Machine** y **HKEY \_ Current \_ User** .</span><span class="sxs-lookup"><span data-stu-id="d1017-107">Class registration and file name extension information is stored under both the **HKEY\_LOCAL\_MACHINE** and **HKEY\_CURRENT\_USER** keys.</span></span> <span data-ttu-id="d1017-108">La clave **HKEY \_ local \_ Machine \\ software \\ classes** contiene la configuración predeterminada que se puede aplicar a todos los usuarios del equipo local.</span><span class="sxs-lookup"><span data-stu-id="d1017-108">The **HKEY\_LOCAL\_MACHINE\\Software\\Classes** key contains default settings that can apply to all users on the local computer.</span></span> <span data-ttu-id="d1017-109">La clave de **\_ clases de \_ \\ software \\ del usuario actual de HKEY** contiene opciones que solo se aplican al usuario interactivo.</span><span class="sxs-lookup"><span data-stu-id="d1017-109">The **HKEY\_CURRENT\_USER\\Software\\Classes** key contains settings that apply only to the interactive user.</span></span> <span data-ttu-id="d1017-110">La **clave \_ \_ raíz de las clases HKEY** proporciona una vista del registro que combina la información de estos dos orígenes.</span><span class="sxs-lookup"><span data-stu-id="d1017-110">The **HKEY\_CLASSES\_ROOT** key provides a view of the registry that merges the information from these two sources.</span></span> <span data-ttu-id="d1017-111">**HKEY \_ La \_ raíz de clases** también proporciona esta vista combinada para las aplicaciones diseñadas para versiones anteriores de Windows.</span><span class="sxs-lookup"><span data-stu-id="d1017-111">**HKEY\_CLASSES\_ROOT** also provides this merged view for applications designed for previous versions of Windows.</span></span>

<span data-ttu-id="d1017-112">La configuración específica del usuario tiene prioridad sobre la configuración predeterminada.</span><span class="sxs-lookup"><span data-stu-id="d1017-112">The user-specific settings have priority over the default settings.</span></span> <span data-ttu-id="d1017-113">Por ejemplo, la configuración predeterminada puede especificar una aplicación determinada para administrar los archivos. doc.</span><span class="sxs-lookup"><span data-stu-id="d1017-113">For example, the default setting might specify a particular application to handle .doc files.</span></span> <span data-ttu-id="d1017-114">Pero un usuario puede invalidar esta configuración especificando una aplicación diferente en el registro.</span><span class="sxs-lookup"><span data-stu-id="d1017-114">But a user can override this setting by specifying a different application in the registry.</span></span>

<span data-ttu-id="d1017-115">Las funciones del registro como [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) o [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) permiten especificar la clave **\_ \_ raíz de las clases HKEY** .</span><span class="sxs-lookup"><span data-stu-id="d1017-115">Registry functions such as [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) or [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) allow you to specify the **HKEY\_CLASSES\_ROOT** key.</span></span> <span data-ttu-id="d1017-116">Cuando se llama a estas funciones desde un proceso que se ejecuta en la cuenta de usuario interactiva, el sistema combina la configuración predeterminada en **\_ \_ \\ \\ las clases de software de máquina local HKEY** con la configuración del usuario interactivo en **HKEY clases de \_ \_ software de usuario \\ \\ actuales**.</span><span class="sxs-lookup"><span data-stu-id="d1017-116">When you call these functions from a process running in the interactive user account, the system merges the default settings in **HKEY\_LOCAL\_MACHINE\\Software\\Classes** with the interactive user's settings at **HKEY\_CURRENT\_USER\\Software\\Classes**.</span></span> <span data-ttu-id="d1017-117">Para obtener más información sobre cómo se combinan estas opciones, vea [vista combinada de clases HKEY \_ \_ root](merged-view-of-hkey-classes-root.md).</span><span class="sxs-lookup"><span data-stu-id="d1017-117">For more information on how these settings are merged, see [Merged View of HKEY\_CLASSES\_ROOT](merged-view-of-hkey-classes-root.md).</span></span>

<span data-ttu-id="d1017-118">Para cambiar la configuración del usuario interactivo, almacene los cambios en **HKEY \_ Current \_ User \\ software \\ classes** en lugar de **HKEY \_ classes \_ root**.</span><span class="sxs-lookup"><span data-stu-id="d1017-118">To change the settings for the interactive user, store the changes under **HKEY\_CURRENT\_USER\\Software\\Classes** rather than **HKEY\_CLASSES\_ROOT**.</span></span>

<span data-ttu-id="d1017-119">Para cambiar la configuración predeterminada, almacene los cambios en **HKEY \_ local \_ Machine \\ software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="d1017-119">To change the default settings, store the changes under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span> <span data-ttu-id="d1017-120">Si escribe claves en una clave en la **\_ \_ raíz de las clases HKEY**, el sistema almacena la información en **HKEY \_ local \_ Machine \\ software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="d1017-120">If you write keys to a key under **HKEY\_CLASSES\_ROOT**, the system stores the information under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span> <span data-ttu-id="d1017-121">Si escribe valores en una clave en la **\_ \_ raíz de las clases HKEY** y la clave ya existe **en \_ \_ \\ \\ las clases de software de usuario actuales de HKEY**, el sistema almacenará la información allí, en lugar de en **HKEY \_ local \_ Machine \\ software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="d1017-121">If you write values to a key under **HKEY\_CLASSES\_ROOT**, and the key already exists under **HKEY\_CURRENT\_USER\\Software\\Classes**, the system will store the information there instead of under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span>

<span data-ttu-id="d1017-122">Los procesos que se ejecutan en un contexto de seguridad distinto del usuario interactivo no deben usar la clave **\_ \_ raíz de las clases HKEY** con las funciones del registro.</span><span class="sxs-lookup"><span data-stu-id="d1017-122">Processes running in a security context other than that of the interactive user should not use the **HKEY\_CLASSES\_ROOT** key with the registry functions.</span></span> <span data-ttu-id="d1017-123">En su lugar, estos procesos pueden abrir explícitamente la clave **HKEY \_ local \_ Machine \\ software \\ classes** para tener acceso a la configuración predeterminada.</span><span class="sxs-lookup"><span data-stu-id="d1017-123">Instead, such processes can explicitly open the **HKEY\_LOCAL\_MACHINE\\Software\\Classes** key to access the default settings.</span></span> <span data-ttu-id="d1017-124">Para abrir una clave del registro que combina el contenido de **\_ \_ \\ \\ las clases de software del equipo local HKEY** con la configuración de un usuario especificado, estos procesos pueden llamar a la función [**RegOpenUserClassesRoot**](/windows/desktop/api/Winreg/nf-winreg-regopenuserclassesroot) .</span><span class="sxs-lookup"><span data-stu-id="d1017-124">To open a registry key that merges the contents of **HKEY\_LOCAL\_MACHINE\\Software\\Classes** with the settings for a specified user, these processes can call the [**RegOpenUserClassesRoot**](/windows/desktop/api/Winreg/nf-winreg-regopenuserclassesroot) function.</span></span> <span data-ttu-id="d1017-125">Por ejemplo, un subproceso que [suplanta](/windows/desktop/SecAuthZ/client-impersonation) a un cliente puede llamar a **RegOpenUserClassesRoot** si necesita recuperar una vista combinada para el cliente que se va a suplantar.</span><span class="sxs-lookup"><span data-stu-id="d1017-125">For example, a thread that is [impersonating](/windows/desktop/SecAuthZ/client-impersonation) a client can call **RegOpenUserClassesRoot** if it needs to retrieve a merged view for the client being impersonated.</span></span> <span data-ttu-id="d1017-126">Tenga en cuenta que **RegOpenUserClassesRoot** produce un error si no se ha cargado el perfil de usuario para el usuario especificado.</span><span class="sxs-lookup"><span data-stu-id="d1017-126">Note that **RegOpenUserClassesRoot** fails if the user profile for the specified user has not been loaded.</span></span> <span data-ttu-id="d1017-127">El sistema carga automáticamente el perfil para el usuario interactivo al iniciar sesión.</span><span class="sxs-lookup"><span data-stu-id="d1017-127">The system automatically loads the profile for the interactive user when logging on.</span></span> <span data-ttu-id="d1017-128">Para otros usuarios, debe llamar a la función [**LoadUserProfile**](/windows/win32/api/userenv/nf-userenv-loaduserprofilea) para cargar explícitamente el perfil del usuario.</span><span class="sxs-lookup"><span data-stu-id="d1017-128">For other users, you need to call the [**LoadUserProfile**](/windows/win32/api/userenv/nf-userenv-loaduserprofilea) function to explicitly load the user's profile.</span></span>

<span data-ttu-id="d1017-129">Si una aplicación se ejecuta con derechos de administrador y el control de cuentas de usuario está deshabilitado, el tiempo de ejecución de COM omite la configuración de COM por usuario y solo tiene acceso a la configuración COM por equipo.</span><span class="sxs-lookup"><span data-stu-id="d1017-129">If an application is run with administrator rights and User Account Control is disabled, the COM runtime ignores the per-user COM configuration and accesses only the per-machine COM configuration.</span></span> <span data-ttu-id="d1017-130">Las aplicaciones que requieren derechos de administrador deben registrar objetos COM dependientes durante la instalación en el almacén de configuración COM por equipo (**\_ clases de \_ \\ software \\ de máquina local HKEY**).</span><span class="sxs-lookup"><span data-stu-id="d1017-130">Applications that require administrator rights should register dependent COM objects during installation to the per-machine COM configuration store (**HKEY\_LOCAL\_MACHINE\\Software\\Classes**).</span></span> <span data-ttu-id="d1017-131">Para obtener más información, vea [AC: UAC: COM Per-User configuración](/previous-versions/bb756926(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="d1017-131">For more information, see [AC: UAC: COM Per-User Configuration](/previous-versions/bb756926(v=msdn.10)).</span></span>

<span data-ttu-id="d1017-132">**Windows Server 2003 y Windows XP/2000:** Las aplicaciones pueden registrar objetos COM dependientes en el almacén de configuración COM por equipo o por usuario **( \_ \_ clases de \\ software \\ de máquina local HKEY** o **\_ \_ \\ \\ clases de software de usuario actual HKEY**).</span><span class="sxs-lookup"><span data-stu-id="d1017-132">**Windows Server 2003 and Windows XP/2000:** Applications can register dependent COM objects to either the per-machine or per-user COM configuration store (**HKEY\_LOCAL\_MACHINE\\Software\\Classes** or **HKEY\_CURRENT\_USER\\Software\\Classes**).</span></span>

## <a name="related-topics"></a><span data-ttu-id="d1017-133">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="d1017-133">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="d1017-134">[\_Clase HKEY \_ raíz (referencia del registro del kit de recursos)](/previous-versions/windows/it-pro/windows-server-2003/cc739822(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="d1017-134">[HKEY\_CLASSES\_ROOT (Resource Kit Registry Reference)](/previous-versions/windows/it-pro/windows-server-2003/cc739822(v=ws.10))</span></span>
</dt> </dl>

 

 
