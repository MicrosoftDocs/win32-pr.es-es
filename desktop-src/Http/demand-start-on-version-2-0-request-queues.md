---
title: Inicio de la demanda en las colas de solicitudes de la versión 2,0
description: .
ms.assetid: 84a744b7-1b0e-4fa7-8015-4840251aa856
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78d618ea3fa38a856eba743d2bf60bfbfec9a633
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "103995267"
---
# <a name="demand-start-on-version-20-request-queues"></a><span data-ttu-id="21958-103">Inicio de la demanda en las colas de solicitudes de la versión 2,0</span><span class="sxs-lookup"><span data-stu-id="21958-103">Demand Start on Version 2.0 Request Queues</span></span>

<span data-ttu-id="21958-104">La característica de inicio a petición de las colas de solicitudes de API de la versión 2,0 del servidor HTTP permite que la aplicación del controlador retrase la creación de instancias del proceso de trabajo hasta que la primera solicitud llegue a la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-104">The demand start feature of the HTTP Server version 2.0 API request queues allows controller application to delay worker process instantiation until the first request arrives on the request queue.</span></span> <span data-ttu-id="21958-105">Por lo tanto, las aplicaciones pueden evitar el consumo de recursos hasta que sean necesarios.</span><span class="sxs-lookup"><span data-stu-id="21958-105">Thus, the applications can avoid consuming resources until they are required.</span></span> <span data-ttu-id="21958-106">Para obtener más información acerca de la aplicación de controlador, consulte el tema [cola de solicitudes con nombre](named-request-queue.md) .</span><span class="sxs-lookup"><span data-stu-id="21958-106">For more information about the controller application, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="asynchronous-demand-start"></a><span data-ttu-id="21958-107">Inicio de la demanda asincrónica</span><span class="sxs-lookup"><span data-stu-id="21958-107">Asynchronous Demand Start</span></span>

<span data-ttu-id="21958-108">La aplicación de controlador llama a [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) con el identificador de la cola de solicitudes para iniciar una notificación de inicio de petición.</span><span class="sxs-lookup"><span data-stu-id="21958-108">The controller application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) with the handle to the request queue to initiate a demand start notification.</span></span> <span data-ttu-id="21958-109">En el caso de la finalización asincrónica, la aplicación proporciona la estructura superpuesta en el parámetro *pOverlapped* .</span><span class="sxs-lookup"><span data-stu-id="21958-109">For asynchronous completion, the application supplies the overlapped structure in the *pOverlapped* parameter.</span></span> <span data-ttu-id="21958-110">Cuando se llama a **HttpWaitForDemandStart** de forma asincrónica, se notifica a la aplicación del controlador cuando llega la primera solicitud en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-110">When **HttpWaitForDemandStart** is called asynchronously, the controller application is notified when the first request arrives on the request queue.</span></span> <span data-ttu-id="21958-111">Una vez finalizada la notificación de inicio de la demanda, la aplicación del controlador puede registrarse para otra notificación de inicio de petición en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-111">After the demand start notification completes, the controller application can register for another demand start notification on the request queue.</span></span>

<span data-ttu-id="21958-112">La API del servidor HTTP no permite más de una notificación de inicio de demanda simultánea para una cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-112">The HTTP Server API does not allow more than one simultaneous demand start notification for a request queue.</span></span> <span data-ttu-id="21958-113">Sin embargo, cuando se completa la notificación de inicio a petición pendiente, la aplicación llama a [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) de nuevo para iniciar varios procesos de trabajo en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-113">However, when the outstanding demand start notification completes, the application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) again to start multiple worker processes on the request queue.</span></span> <span data-ttu-id="21958-114">HTTP no impone limitaciones en el número de notificaciones de inicio de demanda o en el número de procesos de trabajo que operan en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-114">HTTP does not enforce limitations on the number of demand start notifications or the number of worker processes operating on the request queue.</span></span> <span data-ttu-id="21958-115">Sin embargo, las aplicaciones de controlador pueden aplicar el número de procesos de trabajo permitidos en una cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-115">The controller applications can, however, enforce the number of worker processes allowed on a request queue.</span></span>

<span data-ttu-id="21958-116">La API del servidor HTTP admite la cancelación de llamadas asincrónicas de [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) .</span><span class="sxs-lookup"><span data-stu-id="21958-116">The HTTP Server API supports canceling asynchronous [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) calls.</span></span> <span data-ttu-id="21958-117">Las aplicaciones pueden usar [**CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) con la estructura superpuesta suministrada en *pOverlapped* para cancelar una llamada pendiente de **HttpWaitForDemandStart** .</span><span class="sxs-lookup"><span data-stu-id="21958-117">Applications can use [**CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) with the overlapped structure supplied in *pOverlapped*, to cancel an outstanding **HttpWaitForDemandStart** call.</span></span>

## <a name="synchronous-demand-start"></a><span data-ttu-id="21958-118">Inicio de la demanda sincrónica</span><span class="sxs-lookup"><span data-stu-id="21958-118">Synchronous Demand Start</span></span>

<span data-ttu-id="21958-119">No se recomienda el inicio de la demanda sincrónica porque la aplicación se bloquea hasta que llega una solicitud en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="21958-119">Synchronous demand start is not recommended because the application blocks until a request arrives on the request queue.</span></span>

 

 