---
description: Las funciones OpenEventLog, OpenBackupEventLog, RegisterEventSource, DeregisterEventSource y CloseEventLog abren y cierran los identificadores de registro de eventos.
ms.assetid: e42a66c2-2f1e-46f8-99c7-4701075c8ec3
title: Operaciones de registro de eventos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 065acd268788de8c9674baa1fe47a3b89a719d4c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105687379"
---
# <a name="event-logging-operations"></a><span data-ttu-id="581bc-103">Operaciones de registro de eventos</span><span class="sxs-lookup"><span data-stu-id="581bc-103">Event Logging Operations</span></span>

<span data-ttu-id="581bc-104">Las funciones [**OpenEventLog**](/windows/desktop/api/Winbase/nf-winbase-openeventloga), [**OpenBackupEventLog**](/windows/desktop/api/Winbase/nf-winbase-openbackupeventloga), [**RegisterEventSource**](/windows/desktop/api/Winbase/nf-winbase-registereventsourcea), [**DeregisterEventSource**](/windows/desktop/api/Winbase/nf-winbase-deregistereventsource)y [**CloseEventLog**](/windows/desktop/api/Winbase/nf-winbase-closeeventlog) abren y cierran los identificadores de registro de eventos.</span><span class="sxs-lookup"><span data-stu-id="581bc-104">The [**OpenEventLog**](/windows/desktop/api/Winbase/nf-winbase-openeventloga), [**OpenBackupEventLog**](/windows/desktop/api/Winbase/nf-winbase-openbackupeventloga), [**RegisterEventSource**](/windows/desktop/api/Winbase/nf-winbase-registereventsourcea), [**DeregisterEventSource**](/windows/desktop/api/Winbase/nf-winbase-deregistereventsource), and [**CloseEventLog**](/windows/desktop/api/Winbase/nf-winbase-closeeventlog) functions open and close event log handles.</span></span>

<span data-ttu-id="581bc-105">En la tabla siguiente se muestran las operaciones que se pueden realizar en un registro de eventos abierto y la función correspondiente para cada operación.</span><span class="sxs-lookup"><span data-stu-id="581bc-105">The following table shows the operations that can be performed on an open event log, and the corresponding function for each operation.</span></span>



| <span data-ttu-id="581bc-106">Operación</span><span class="sxs-lookup"><span data-stu-id="581bc-106">Operation</span></span> | <span data-ttu-id="581bc-107">Función</span><span class="sxs-lookup"><span data-stu-id="581bc-107">Function</span></span>                                                                                                                     |
|-----------|------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="581bc-108">Copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="581bc-108">Backup</span></span>    | [<span data-ttu-id="581bc-109">**BackupEventLog**</span><span class="sxs-lookup"><span data-stu-id="581bc-109">**BackupEventLog**</span></span>](/windows/desktop/api/Winbase/nf-winbase-backupeventloga)                                                                                     |
| <span data-ttu-id="581bc-110">Borrar</span><span class="sxs-lookup"><span data-stu-id="581bc-110">Clear</span></span>     | [<span data-ttu-id="581bc-111">**ClearEventLog**</span><span class="sxs-lookup"><span data-stu-id="581bc-111">**ClearEventLog**</span></span>](/windows/desktop/api/Winbase/nf-winbase-cleareventloga)                                                                                       |
| <span data-ttu-id="581bc-112">Supervisión</span><span class="sxs-lookup"><span data-stu-id="581bc-112">Monitor</span></span>   | [<span data-ttu-id="581bc-113">**NotifyChangeEventLog**</span><span class="sxs-lookup"><span data-stu-id="581bc-113">**NotifyChangeEventLog**</span></span>](/windows/desktop/api/Winbase/nf-winbase-notifychangeeventlog)                                                                         |
| <span data-ttu-id="581bc-114">Consultar</span><span class="sxs-lookup"><span data-stu-id="581bc-114">Query</span></span>     | <span data-ttu-id="581bc-115">[**GetOldestEventLogRecord**](/windows/desktop/api/Winbase/nf-winbase-getoldesteventlogrecord), [ **GetNumberOfEventLogRecords**](/windows/desktop/api/Winbase/nf-winbase-getnumberofeventlogrecords)</span><span class="sxs-lookup"><span data-stu-id="581bc-115">[**GetOldestEventLogRecord**](/windows/desktop/api/Winbase/nf-winbase-getoldesteventlogrecord), [**GetNumberOfEventLogRecords**](/windows/desktop/api/Winbase/nf-winbase-getnumberofeventlogrecords)</span></span> |
| <span data-ttu-id="581bc-116">Lectura</span><span class="sxs-lookup"><span data-stu-id="581bc-116">Read</span></span>      | [<span data-ttu-id="581bc-117">**ReadEventLog**</span><span class="sxs-lookup"><span data-stu-id="581bc-117">**ReadEventLog**</span></span>](/windows/desktop/api/Winbase/nf-winbase-readeventloga)                                                                                         |
| <span data-ttu-id="581bc-118">Escritura</span><span class="sxs-lookup"><span data-stu-id="581bc-118">Write</span></span>     | [<span data-ttu-id="581bc-119">**ReportEvent**</span><span class="sxs-lookup"><span data-stu-id="581bc-119">**ReportEvent**</span></span>](/windows/desktop/api/Winbase/nf-winbase-reporteventa)                                                                                           |



 

<span data-ttu-id="581bc-120">Las funciones [**OpenEventLog**](/windows/desktop/api/Winbase/nf-winbase-openeventloga) y [**ReportEvent**](/windows/desktop/api/Winbase/nf-winbase-reporteventa) toman un nombre de servidor opcional como parámetro, por lo que las operaciones se pueden realizar en el servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="581bc-120">The [**OpenEventLog**](/windows/desktop/api/Winbase/nf-winbase-openeventloga) and [**ReportEvent**](/windows/desktop/api/Winbase/nf-winbase-reporteventa) functions take an optional server name as a parameter so the operations can be performed on the remote server.</span></span> <span data-ttu-id="581bc-121">Use [**OpenEventLog**](/windows/desktop/api/Winbase/nf-winbase-openeventloga) para leer o realizar operaciones administrativas (copia de seguridad, borrar, supervisar y consultar) en el registro y use [**RegisterEventSource**](/windows/desktop/api/Winbase/nf-winbase-registereventsourcea) para escribir en el registro.</span><span class="sxs-lookup"><span data-stu-id="581bc-121">Use [**OpenEventLog**](/windows/desktop/api/Winbase/nf-winbase-openeventloga) for reading or performing administrative operations (backup, clear, monitor, and query) on the log, and use [**RegisterEventSource**](/windows/desktop/api/Winbase/nf-winbase-registereventsourcea) for writing to the log.</span></span>

<span data-ttu-id="581bc-122">Cada llamada a una función de registro de eventos es una operación atómica.</span><span class="sxs-lookup"><span data-stu-id="581bc-122">Each call to an event logging function is an atomic operation.</span></span> <span data-ttu-id="581bc-123">Cuando se lee desde el registro de eventos, solo se devuelven los registros de eventos completos.</span><span class="sxs-lookup"><span data-stu-id="581bc-123">When you read from the event log, only whole event records are returned.</span></span> <span data-ttu-id="581bc-124">Cuando se escribe en el registro de eventos, se garantiza que cada registro de eventos se escribe secuencialmente como un registro completo en el registro.</span><span class="sxs-lookup"><span data-stu-id="581bc-124">When you write to the event log, each event record is guaranteed to be written sequentially as a complete record in the log.</span></span> <span data-ttu-id="581bc-125">En la lista siguiente se describe cómo el servicio de registro de eventos administra condiciones especiales:</span><span class="sxs-lookup"><span data-stu-id="581bc-125">The following list describes how the event-logging service handles special conditions:</span></span>

-   <span data-ttu-id="581bc-126">El servicio de registro de eventos recibe una operación de lectura y una operación de escritura al mismo tiempo: Si la posición de lectura está al final del archivo, se produce un error en la operación de lectura con un estado de "fin de archivo" (si la operación de escritura no se ha completado) o devuelve el nuevo registro (si se ha completado la operación de escritura).</span><span class="sxs-lookup"><span data-stu-id="581bc-126">The event-logging service receives a read operation and a write operation at the same time: If the read position is at the end of the file, either the read operation fails with an "end-of-file" status (if the write operation has not been completed), or it returns the new record (if the write operation has been completed).</span></span>
-   <span data-ttu-id="581bc-127">El servicio de registro de eventos completa una operación de borrado antes de recibir una operación de lectura: se produce un error en la operación de lectura con el estado "fin de archivo".</span><span class="sxs-lookup"><span data-stu-id="581bc-127">The event-logging service completes a clear operation before receiving a read operation: The read operation fails with "end-of-file" status.</span></span>
-   <span data-ttu-id="581bc-128">El servicio de registro de eventos completa una operación de borrado antes de recibir una operación de escritura: la operación de borrado trunca el registro y, a continuación, la operación de escritura agrega el nuevo registro al principio del registro.</span><span class="sxs-lookup"><span data-stu-id="581bc-128">The event-logging service completes a clear operation before receiving a write operation: The clear operation truncates the log, then the write operation adds the new record at the beginning of the log.</span></span>

 

 



