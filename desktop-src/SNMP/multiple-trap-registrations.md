---
title: Registros de captura múltiple
description: Hay varias opciones disponibles cuando una aplicación WinSNMP registra una sesión WinSNMP para capturas o notificaciones.
ms.assetid: 76a4095f-ab5c-4f7a-9b60-a383a632fd65
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 81aebf94d60ca26f39bcd53b26cb1f794f43af0d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104357442"
---
# <a name="multiple-trap-registrations"></a><span data-ttu-id="c12bd-103">Registros de captura múltiple</span><span class="sxs-lookup"><span data-stu-id="c12bd-103">Multiple Trap Registrations</span></span>

<span data-ttu-id="c12bd-104">Hay varias opciones disponibles cuando una aplicación WinSNMP registra una sesión WinSNMP para capturas o notificaciones.</span><span class="sxs-lookup"><span data-stu-id="c12bd-104">Several options are available when a WinSNMP application registers a WinSNMP session for traps or notifications.</span></span> <span data-ttu-id="c12bd-105">Por este motivo, una aplicación puede llamar varias veces a la función [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) , con lo que se define un filtro personalizado para la recepción de capturas y notificaciones.</span><span class="sxs-lookup"><span data-stu-id="c12bd-105">Because of this, an application can call the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function multiple times, in effect defining a custom filter for the reception of traps and notifications.</span></span> <span data-ttu-id="c12bd-106">Por ejemplo, puede registrarse para un tipo de captura o notificación, o para todas las capturas y notificaciones, en función del valor del parámetro de *notificación* .</span><span class="sxs-lookup"><span data-stu-id="c12bd-106">For example, you can register for one type of trap or notification, or for all traps and notifications, depending on the value of the *notification* parameter.</span></span> <span data-ttu-id="c12bd-107">Además, la aplicación puede especificar valores en otros parámetros para la función **SnmpRegister** con el fin de definir con mayor precisión las capturas y notificaciones que deben llegar a una aplicación.</span><span class="sxs-lookup"><span data-stu-id="c12bd-107">Additionally, the application can specify values in other parameters to the **SnmpRegister** function to further define the traps and notifications that should reach an application.</span></span> <span data-ttu-id="c12bd-108">Para obtener más información, consulte [Administración de capturas y notificaciones](managing-traps-and-notifications.md).</span><span class="sxs-lookup"><span data-stu-id="c12bd-108">For more information, see [Managing Traps and Notifications](managing-traps-and-notifications.md).</span></span>

<span data-ttu-id="c12bd-109">A continuación se indican las instancias en las que varias llamadas a **SnmpRegister** son redundantes.</span><span class="sxs-lookup"><span data-stu-id="c12bd-109">Following are instances in which multiple calls to **SnmpRegister** are redundant.</span></span> <span data-ttu-id="c12bd-110">En estos casos, **SnmpRegister** devuelve snmpapi \_ Success si la función se completa correctamente, pero el registro redundante es ineficaz.</span><span class="sxs-lookup"><span data-stu-id="c12bd-110">In these instances **SnmpRegister** returns SNMPAPI\_SUCCESS if the function completes successfully, but the redundant registration is ineffective.</span></span>

1.  <span data-ttu-id="c12bd-111">Una llamada a la función [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) que solicita la entrega filtrada de capturas y notificaciones a la sesión, después de una llamada anterior a **SnmpRegister** que solicita la entrega de todas las capturas y notificaciones (entrega sin filtrar).</span><span class="sxs-lookup"><span data-stu-id="c12bd-111">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications to the session, after a previous call to **SnmpRegister** requesting delivery of all traps and notifications (unfiltered delivery).</span></span> <span data-ttu-id="c12bd-112">Esta llamada es redundante porque la sesión ya está recibiendo todas las capturas y notificaciones, incluido el tipo único definido por el filtro.</span><span class="sxs-lookup"><span data-stu-id="c12bd-112">This call is redundant because the session is already receiving all traps and notifications, including the single type defined by the filter.</span></span>
2.  <span data-ttu-id="c12bd-113">Una llamada duplicada a **SnmpRegister** o una en la que la lista de parámetros es idéntica a la lista de parámetros de una llamada anterior a **SnmpRegister** para la sesión.</span><span class="sxs-lookup"><span data-stu-id="c12bd-113">A duplicate call to **SnmpRegister**, or one in which the parameter list is identical to the parameter list in a previous call to **SnmpRegister** for the session.</span></span>
3.  <span data-ttu-id="c12bd-114">Una llamada a la función [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) que solicita la entrega filtrada de capturas y notificaciones basadas en un identificador de objeto (OID) cuyo prefijo es un OID especificado en una llamada anterior a **SnmpRegister**.</span><span class="sxs-lookup"><span data-stu-id="c12bd-114">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications based on an object identifier (OID) whose prefix is an OID specified in a previous call to **SnmpRegister**.</span></span> <span data-ttu-id="c12bd-115">Por ejemplo, puede especificar "1.3.6.1.4.1.311" en el parámetro *Notification* para recibir notificaciones procedentes de cualquier entidad del agente SNMP de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c12bd-115">For example, you can specify "1.3.6.1.4.1.311" in the *notification* parameter to receive notifications originating from any Microsoft SNMP agent entity.</span></span> <span data-ttu-id="c12bd-116">Si llama de nuevo a **SnmpRegister** y especifica "1.3.6.1.4.1.311.1", la segunda llamada es redundante porque la sesión ya está recibiendo todas las capturas y notificaciones que contienen el prefijo OID "1.3.6.1.4.1.311".</span><span class="sxs-lookup"><span data-stu-id="c12bd-116">If you call **SnmpRegister** again and specify "1.3.6.1.4.1.311.1", the second call is redundant because the session is already receiving all traps and notifications that contain the OID prefix "1.3.6.1.4.1.311".</span></span>

<span data-ttu-id="c12bd-117">Para anular el registro de la sesión, debe hacer coincidir cada llamada de registro única con la función [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) .</span><span class="sxs-lookup"><span data-stu-id="c12bd-117">To unregister the session, you must match each unique registration call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function.</span></span> <span data-ttu-id="c12bd-118">Llame a **SnmpRegister** para anular el registro de la sesión y asegúrese de que los cinco primeros parámetros de **SnmpRegister** son idénticos a los de la llamada de registro inicial.</span><span class="sxs-lookup"><span data-stu-id="c12bd-118">Call **SnmpRegister** to unregister the session, and ensure that the first five parameters to **SnmpRegister** are identical to those in the initial registration call.</span></span> <span data-ttu-id="c12bd-119">La única diferencia entre la llamada inicial y la anulación del registro es que al registrarse debe especificar el valor SNMPAPI en \_ el parámetro *status* y, al llamar a la función para anular el registro, debe especificar snmpapi \_ OFF.</span><span class="sxs-lookup"><span data-stu-id="c12bd-119">The only difference between the initial call and the unregistering call is that when registering you must specify the value SNMPAPI\_ON in the *status* parameter, and when you call the function to unregister, you must specify SNMPAPI\_OFF.</span></span> <span data-ttu-id="c12bd-120">No es necesario que coincidan las llamadas de registro redundantes a la función **SnmpRegister** .</span><span class="sxs-lookup"><span data-stu-id="c12bd-120">You do not need to match redundant registration calls to the **SnmpRegister** function.</span></span> <span data-ttu-id="c12bd-121">Solo es necesario que coincida con la primera llamada de registro única.</span><span class="sxs-lookup"><span data-stu-id="c12bd-121">You need only match the first unique registration call.</span></span>

<span data-ttu-id="c12bd-122">Para cambiar los criterios de filtrado, puede ser necesario que una aplicación elimine primero del registro y deshabilite la entrega de ciertas notificaciones o notificaciones.</span><span class="sxs-lookup"><span data-stu-id="c12bd-122">To change filtering criteria, it may be necessary for an application to first unregister and disable delivery of certain traps or notifications.</span></span> <span data-ttu-id="c12bd-123">A continuación, la aplicación puede crear un filtro nuevo llamando a [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), pasando los valores adecuados.</span><span class="sxs-lookup"><span data-stu-id="c12bd-123">Then the application can create a new filter by calling [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), passing appropriate values.</span></span>

 

 




