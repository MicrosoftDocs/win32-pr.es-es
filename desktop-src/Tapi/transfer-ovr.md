---
description: La operación de transferencia permite a una aplicación enviar una sesión de comunicaciones conectada actualmente a una dirección diferente.
ms.assetid: b1027f09-74e1-4da8-b718-bb55a56dda1d
title: Transferencia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 724b9ade43e41ab95a5baa6dfe7d3269f4e4a174
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104082697"
---
# <a name="transfer"></a><span data-ttu-id="8e3da-103">Transferencia</span><span class="sxs-lookup"><span data-stu-id="8e3da-103">Transfer</span></span>

<span data-ttu-id="8e3da-104">La operación de transferencia permite a una aplicación enviar una sesión de comunicaciones conectada actualmente a una dirección diferente.</span><span class="sxs-lookup"><span data-stu-id="8e3da-104">The transfer operation allows an application to send a currently connected communications session to a different address.</span></span>

<span data-ttu-id="8e3da-105">TAPI proporciona dos mecanismos para transferir una sesión actual a una dirección diferente.</span><span class="sxs-lookup"><span data-stu-id="8e3da-105">TAPI provides two mechanisms for transferring a current session to a different address.</span></span> <span data-ttu-id="8e3da-106">La *transferencia ciega* permite transferir una sesión existente a una dirección de destino especificada en una fase.</span><span class="sxs-lookup"><span data-stu-id="8e3da-106">*Blind transfer* allows an existing session to be transferred to a specified destination address in one phase.</span></span> <span data-ttu-id="8e3da-107">La *transferencia de consultas* requiere la existencia de una sesión de consulta además de la sesión actual que se debe configurar para la transferencia y, a continuación, la finalización de la transferencia.</span><span class="sxs-lookup"><span data-stu-id="8e3da-107">*Consultation transfer* requires the existence of a consultation session in addition to the current session to set up for the transfer, and then completion of the transfer.</span></span> <span data-ttu-id="8e3da-108">La elección entre estos dos tipos suele basarse en las capacidades del proveedor de servicios porque algunos proveedores de servicios no admiten la transferencia ciega.</span><span class="sxs-lookup"><span data-stu-id="8e3da-108">The choice between these two types is frequently based on service provider capabilities because some service providers do not support blind transfer.</span></span> <span data-ttu-id="8e3da-109">En algunos casos, las necesidades de las aplicaciones pueden hacer que la transferencia Consultiva sea el método preferido incluso cuando sea posible la transferencia ciega.</span><span class="sxs-lookup"><span data-stu-id="8e3da-109">In some cases, application needs may make the consultative transfer the preferred method even where blind transfer is possible.</span></span>

<span data-ttu-id="8e3da-110">La operación de transferencia ciega es básicamente la misma en TAPI 2 y TAPI 3, pero la transferencia Consultiva sigue patrones ligeramente diferentes.</span><span class="sxs-lookup"><span data-stu-id="8e3da-110">The blind transfer operation is basically the same under TAPI 2 and TAPI 3, but consultative transfer follows slightly different patterns.</span></span>

<span data-ttu-id="8e3da-111">**TAPI 2. x:** La transferencia Consultiva comienza con la invocación de [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), que realiza la llamada existente en la espera de la consulta y identifica esta llamada como el destino de la siguiente solicitud de finalización de transferencia.</span><span class="sxs-lookup"><span data-stu-id="8e3da-111">**TAPI 2.x:** Consultative transfer starts with invoking [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), which places the existing call on consultation hold, and identifies this call as the target for the next transfer-completion request.</span></span> <span data-ttu-id="8e3da-112">La función **lineSetupTransfer** también asigna una llamada de consulta que se puede usar para establecer la llamada de consulta con la entidad a la que se transferirá la llamada.</span><span class="sxs-lookup"><span data-stu-id="8e3da-112">The **lineSetupTransfer** function also allocates a consultation call that can be used to establish the consultation call with the party to which the call will be transferred.</span></span> <span data-ttu-id="8e3da-113">La aplicación puede marcar la extensión de la entidad de destino en la llamada de consulta (mediante el uso de [**líneas**](/windows/win32/api/tapi/nf-tapi-linedial)), o puede quitar y desasignar la llamada de consulta y, en su lugar, activar una llamada contenida existente (mediante [**lineUnhold**](/windows/win32/api/tapi/nf-tapi-lineunhold)), si la admite el modificador.</span><span class="sxs-lookup"><span data-stu-id="8e3da-113">The application can dial the extension of the destination party on the consultation call (using [**lineDial**](/windows/win32/api/tapi/nf-tapi-linedial)), or it can drop and deallocate the consultation call and instead activate an existing held call (using [**lineUnhold**](/windows/win32/api/tapi/nf-tapi-lineunhold)), if supported by the switch.</span></span> <span data-ttu-id="8e3da-114">Mientras la llamada inicial está en espera de consulta y la llamada de consulta está activa, la aplicación puede alternar entre estas llamadas mediante [**lineSwapHold**](/windows/win32/api/tapi/nf-tapi-lineswaphold).</span><span class="sxs-lookup"><span data-stu-id="8e3da-114">While the initial call is on consultation hold and the consultation call is active, the application can toggle between these calls using [**lineSwapHold**](/windows/win32/api/tapi/nf-tapi-lineswaphold).</span></span>

<span data-ttu-id="8e3da-115">**TAPI 2. x:** Las aplicaciones completan la transferencia Consultiva mediante [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span><span class="sxs-lookup"><span data-stu-id="8e3da-115">**TAPI 2.x:** Applications complete the consultative transfer using [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span></span> <span data-ttu-id="8e3da-116">Ambas llamadas revertirán al estado *inactivo* .</span><span class="sxs-lookup"><span data-stu-id="8e3da-116">Both calls will revert to the *idle* state.</span></span>

<span data-ttu-id="8e3da-117">Las aplicaciones pueden usar la característica "transferencia de un paso" de muchas PBX (una sola pulsación de botones para establecer una transferencia de consulta) estableciendo el parámetro *lpCallParams* en el miembro **LINECALLPARAMFLAGS \_ ONESTEPTRANSFER** de las [ \_ constantes LINECALLPARAMFLAGS](./linecallparamflags--constants.md) al llamar a [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer).</span><span class="sxs-lookup"><span data-stu-id="8e3da-117">Applications can use the "one-step transfer" feature of many PBXs (a single button press to establish a consultation transfer) by setting the *lpCallParams* parameter to the **LINECALLPARAMFLAGS\_ONESTEPTRANSFER** member of the [LINECALLPARAMFLAGS\_ constants](./linecallparamflags--constants.md) when calling [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer).</span></span>

<span data-ttu-id="8e3da-118">**TAPI 3. x:** La transferencia Consultiva comienza con el uso de [**ITAddress:: CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) para crear una llamada de consulta a la nueva dirección de destino.</span><span class="sxs-lookup"><span data-stu-id="8e3da-118">**TAPI 3.x:** Consultative transfer starts with using [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) to create a consultation call to the new destination address.</span></span> <span data-ttu-id="8e3da-119">A continuación, se llama a [**ITBasicCallControl:: Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer) en el objeto de llamada original mediante un puntero al nuevo objeto de llamada de consulta como parámetro.</span><span class="sxs-lookup"><span data-stu-id="8e3da-119">[**ITBasicCallControl::Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer) is then called on the original call object using a pointer to the new consultation call object as a parameter.</span></span> <span data-ttu-id="8e3da-120">La llamada a [**ITBasicCallControl:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) en el objeto de llamada de consulta completa la transferencia.</span><span class="sxs-lookup"><span data-stu-id="8e3da-120">Calling [**ITBasicCallControl::Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) on the consultation call object then completes the transfer.</span></span>

<span data-ttu-id="8e3da-121">La aplicación debe liberar los recursos de sesión después de la finalización correcta de una operación de transferencia.</span><span class="sxs-lookup"><span data-stu-id="8e3da-121">The application must release session resources following the successful completion of a transfer operation.</span></span>

<span data-ttu-id="8e3da-122">No todos los proveedores de servicios admiten el uso de esta operación.</span><span class="sxs-lookup"><span data-stu-id="8e3da-122">Not all service providers support use of this operation.</span></span>

<span data-ttu-id="8e3da-123">**TAPI 2. x:** Consulte [**lineBlindTransfer**](/windows/win32/api/tapi/nf-tapi-lineblindtransfer), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span><span class="sxs-lookup"><span data-stu-id="8e3da-123">**TAPI 2.x:** See [**lineBlindTransfer**](/windows/win32/api/tapi/nf-tapi-lineblindtransfer), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span></span>

<span data-ttu-id="8e3da-124">**TAPI 3. x:** Vea [**ITBasicCallControl:: BlindTransfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-blindtransfer), [**ITAddress:: CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), [**ITBasicCallControl:: Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer), [**ITBasicCallControl:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish).</span><span class="sxs-lookup"><span data-stu-id="8e3da-124">**TAPI 3.x:** See [**ITBasicCallControl::BlindTransfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-blindtransfer), [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), [**ITBasicCallControl::Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer), [**ITBasicCallControl::Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish).</span></span>

 

 
