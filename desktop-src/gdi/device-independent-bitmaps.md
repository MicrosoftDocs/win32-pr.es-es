---
description: Un mapa de bits independiente del dispositivo (DIB) contiene una tabla de colores.
ms.assetid: 56b39a3d-48a4-4620-9652-ec41ea4d6423
title: Mapas de bits Device-Independent
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1aa35201a9a27c2d16a5a18b0125d25a3938890c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104155645"
---
# <a name="device-independent-bitmaps"></a><span data-ttu-id="72cde-103">Mapas de bits Device-Independent</span><span class="sxs-lookup"><span data-stu-id="72cde-103">Device-Independent Bitmaps</span></span>

<span data-ttu-id="72cde-104">Un mapa de bits independiente del dispositivo (DIB) contiene una *tabla de colores*.</span><span class="sxs-lookup"><span data-stu-id="72cde-104">A device-independent bitmap (DIB) contains a *color table*.</span></span> <span data-ttu-id="72cde-105">Una tabla de colores describe cómo se corresponden los valores de píxeles con los valores de color *RGB* , que describen los colores que se producen al emitir la luz.</span><span class="sxs-lookup"><span data-stu-id="72cde-105">A color table describes how pixel values correspond to *RGB* color values, which describe colors that are produced by emitting light.</span></span> <span data-ttu-id="72cde-106">Por lo tanto, un DIB puede lograr la combinación de colores adecuada en cualquier dispositivo.</span><span class="sxs-lookup"><span data-stu-id="72cde-106">Thus, a DIB can achieve the proper color scheme on any device.</span></span> <span data-ttu-id="72cde-107">Un DIB contiene la siguiente información sobre el color y la dimensión:</span><span class="sxs-lookup"><span data-stu-id="72cde-107">A DIB contains the following color and dimension information:</span></span>

-   <span data-ttu-id="72cde-108">El formato de color del dispositivo en el que se creó la imagen rectangular.</span><span class="sxs-lookup"><span data-stu-id="72cde-108">The color format of the device on which the rectangular image was created.</span></span>
-   <span data-ttu-id="72cde-109">La resolución del dispositivo en el que se creó la imagen rectangular.</span><span class="sxs-lookup"><span data-stu-id="72cde-109">The resolution of the device on which the rectangular image was created.</span></span>
-   <span data-ttu-id="72cde-110">Paleta del dispositivo en el que se creó la imagen.</span><span class="sxs-lookup"><span data-stu-id="72cde-110">The palette for the device on which the image was created.</span></span>
-   <span data-ttu-id="72cde-111">Matriz de bits que asigna los triples rojo, verde y azul ( [**RGB**](/windows/desktop/api/Wingdi/nf-wingdi-rgb) ) a los píxeles de la imagen rectangular.</span><span class="sxs-lookup"><span data-stu-id="72cde-111">An array of bits that maps red, green, blue ( [**RGB**](/windows/desktop/api/Wingdi/nf-wingdi-rgb) ) triplets to pixels in the rectangular image.</span></span>
-   <span data-ttu-id="72cde-112">Identificador de compresión de datos que indica el esquema de compresión de datos (si existe) que se usa para reducir el tamaño de la matriz de bits.</span><span class="sxs-lookup"><span data-stu-id="72cde-112">A data-compression identifier that indicates the data compression scheme (if any) used to reduce the size of the array of bits.</span></span>

<span data-ttu-id="72cde-113">La información de color y dimensión se almacena en una estructura [**bitmapinfo (**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) , que consta de una estructura [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) seguida de dos o más estructuras [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) .</span><span class="sxs-lookup"><span data-stu-id="72cde-113">The color and dimension information is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure, which consists of a [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) structure followed by two or more [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) structures.</span></span> <span data-ttu-id="72cde-114">La estructura **BITMAPINFOHEADER** especifica las dimensiones del rectángulo de píxeles, describe la tecnología de color del dispositivo e identifica los esquemas de compresión usados para reducir el tamaño del mapa de bits.</span><span class="sxs-lookup"><span data-stu-id="72cde-114">The **BITMAPINFOHEADER** structure specifies the dimensions of the pixel rectangle, describes the device's color technology, and identifies the compression schemes used to reduce the size of the bitmap.</span></span> <span data-ttu-id="72cde-115">Las estructuras **RGBQUAD** identifican los colores que aparecen en el rectángulo de píxeles.</span><span class="sxs-lookup"><span data-stu-id="72cde-115">The **RGBQUAD** structures identify the colors that appear in the pixel rectangle.</span></span>

<span data-ttu-id="72cde-116">Hay dos tipos de DIB:</span><span class="sxs-lookup"><span data-stu-id="72cde-116">There are two varieties of DIBs:</span></span>

-   <span data-ttu-id="72cde-117">Un DIB de nivel inferior, en el que el origen se encuentra en la esquina inferior izquierda.</span><span class="sxs-lookup"><span data-stu-id="72cde-117">A bottom-up DIB, in which the origin lies at the lower-left corner.</span></span>
-   <span data-ttu-id="72cde-118">Un DIB de arriba abajo, en el que el origen se encuentra en la esquina superior izquierda.</span><span class="sxs-lookup"><span data-stu-id="72cde-118">A top-down DIB, in which the origin lies at the upper-left corner.</span></span>

<span data-ttu-id="72cde-119">Si el alto de un DIB, como indica el miembro **height** de la estructura del encabezado de información de mapa de bits, es un valor positivo, se trata de un DIB ascendente; Si el alto es un valor negativo, es un DIB de arriba abajo.</span><span class="sxs-lookup"><span data-stu-id="72cde-119">If the height of a DIB, as indicated by the **Height** member of the bitmap information header structure, is a positive value, it is a bottom-up DIB; if the height is a negative value, it is a top-down DIB.</span></span> <span data-ttu-id="72cde-120">Los DIB de arriba abajo no se pueden comprimir.</span><span class="sxs-lookup"><span data-stu-id="72cde-120">Top-down DIBs cannot be compressed.</span></span>

<span data-ttu-id="72cde-121">El formato de color se especifica en términos de recuento de planos de color y bits de color.</span><span class="sxs-lookup"><span data-stu-id="72cde-121">The color format is specified in terms of a count of color planes and color bits.</span></span> <span data-ttu-id="72cde-122">El recuento de planos de color siempre es 1; el recuento de bits de color es 1 para los mapas de bits monocromáticos, 4 para los mapas de bits VGA y 8, 16, 24 o 32 para los mapas de bits en otros dispositivos de color.</span><span class="sxs-lookup"><span data-stu-id="72cde-122">The count of color planes is always 1; the count of color bits is 1 for monochrome bitmaps, 4 for VGA bitmaps, and 8, 16, 24, or 32 for bitmaps on other color devices.</span></span> <span data-ttu-id="72cde-123">Una aplicación recupera el número de bits de color que usa una determinada pantalla (o impresora) mediante una llamada a la función [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) , especificando BITSPIXEL como segundo argumento.</span><span class="sxs-lookup"><span data-stu-id="72cde-123">An application retrieves the number of color bits that a particular display (or printer) uses by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying BITSPIXEL as the second argument.</span></span>

<span data-ttu-id="72cde-124">La resolución de un dispositivo de pantalla se especifica en píxeles por metro.</span><span class="sxs-lookup"><span data-stu-id="72cde-124">The resolution of a display device is specified in pixels-per-meter.</span></span> <span data-ttu-id="72cde-125">Una aplicación puede recuperar la resolución horizontal de una pantalla de vídeo, o impresora, siguiendo este proceso de tres pasos.</span><span class="sxs-lookup"><span data-stu-id="72cde-125">An application can retrieve the horizontal resolution for a video display, or printer, by following this three-step process.</span></span>

1.  <span data-ttu-id="72cde-126">Llame a la función [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) , especificando HORZRES como segundo argumento.</span><span class="sxs-lookup"><span data-stu-id="72cde-126">Call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying HORZRES as the second argument.</span></span>
2.  <span data-ttu-id="72cde-127">Llame a [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) una segunda vez, especificando HORZSIZE como segundo argumento.</span><span class="sxs-lookup"><span data-stu-id="72cde-127">Call [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) a second time, specifying HORZSIZE as the second argument.</span></span>
3.  <span data-ttu-id="72cde-128">Divide el primer valor devuelto por el segundo valor devuelto.</span><span class="sxs-lookup"><span data-stu-id="72cde-128">Divide the first return value by the second return value.</span></span>

<span data-ttu-id="72cde-129">La aplicación puede recuperar la resolución vertical mediante el mismo proceso de tres pasos con distintos parámetros: VERTRES en lugar de HORZRES y VERTSIZE en lugar de HORZSIZE.</span><span class="sxs-lookup"><span data-stu-id="72cde-129">The application can retrieve the vertical resolution by using the same three-step process with different parameters: VERTRES in place of HORZRES, and VERTSIZE in place of HORZSIZE.</span></span>

<span data-ttu-id="72cde-130">La paleta está representada por una matriz de estructuras [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) que especifican los componentes de intensidad rojo, verde y azul para cada color de la paleta de colores de un dispositivo de pantalla.</span><span class="sxs-lookup"><span data-stu-id="72cde-130">The palette is represented by an array of [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) structures that specify the red, green, and blue intensity components for each color in a display device's color palette.</span></span> <span data-ttu-id="72cde-131">Cada índice de color de la matriz de la paleta se asigna a un píxel específico de la región rectangular asociada al mapa de bits.</span><span class="sxs-lookup"><span data-stu-id="72cde-131">Each color index in the palette array maps to a specific pixel in the rectangular region associated with the bitmap.</span></span> <span data-ttu-id="72cde-132">El tamaño de esta matriz, en bits, es equivalente al ancho del rectángulo, en píxeles, multiplicado por el alto del rectángulo, en píxeles, multiplicado por el número de bits de color para el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="72cde-132">The size of this array, in bits, is equivalent to the width of the rectangle, in pixels, multiplied by the height of the rectangle, in pixels, multiplied by the count of color bits for the device.</span></span> <span data-ttu-id="72cde-133">Una aplicación puede recuperar el tamaño de la paleta del dispositivo llamando a la función [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) y especificando NUMCOLORS como segundo argumento.</span><span class="sxs-lookup"><span data-stu-id="72cde-133">An application can retrieve the size of the device's palette by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying NUMCOLORS as the second argument.</span></span>

<span data-ttu-id="72cde-134">Windows admite la compresión de la matriz de paleta para los DIB de preorden de 8 y 4 BPP.</span><span class="sxs-lookup"><span data-stu-id="72cde-134">Windows supports the compression of the palette array for 8-bpp and 4-bpp bottom-up DIBs.</span></span> <span data-ttu-id="72cde-135">Estas matrices se pueden comprimir mediante el esquema de codificación de longitud de ejecución (RLE).</span><span class="sxs-lookup"><span data-stu-id="72cde-135">These arrays can be compressed by using the run-length encoding (RLE) scheme.</span></span> <span data-ttu-id="72cde-136">El esquema RLE utiliza valores de 2 bytes, el primer byte que especifica el número de píxeles consecutivos que usan un índice de color y el segundo byte que especifica el índice.</span><span class="sxs-lookup"><span data-stu-id="72cde-136">The RLE scheme uses 2-byte values, the first byte specifying the number of consecutive pixels that use a color index and the second byte specifying the index.</span></span> <span data-ttu-id="72cde-137">Para obtener más información sobre la compresión de mapas de bits, vea la descripción de las estructuras [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)y [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="72cde-137">For more information about bitmap compression, see the description of the [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header), and [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structures.</span></span>

<span data-ttu-id="72cde-138">Una aplicación puede crear un DIB a partir de un DDB Inicializando las estructuras necesarias y llamando a la función [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) .</span><span class="sxs-lookup"><span data-stu-id="72cde-138">An application can create a DIB from a DDB by initializing the required structures and calling the [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) function.</span></span> <span data-ttu-id="72cde-139">Para determinar si un dispositivo admite esta función, llame a la función [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) y especifique RC \_ di \_ Bitmap como la marca RASTERCAPS.</span><span class="sxs-lookup"><span data-stu-id="72cde-139">To determine whether a device supports this function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DI\_BITMAP as the RASTERCAPS flag.</span></span>

<span data-ttu-id="72cde-140">Una aplicación que necesita copiar un mapa de bits puede usar [**TransparentBlt**](/windows/desktop/api/WinGdi/nf-wingdi-transparentblt) para copiar todos los píxeles de un mapa de bits de origen en un mapa de bits de destino, excepto los píxeles que coinciden con el color transparente.</span><span class="sxs-lookup"><span data-stu-id="72cde-140">An application that needs to copy a bitmap can use [**TransparentBlt**](/windows/desktop/api/WinGdi/nf-wingdi-transparentblt) to copy all pixels in a source bitmap to a destination bitmap except those pixels that match the transparent color.</span></span>

<span data-ttu-id="72cde-141">Una aplicación puede usar un DIB para establecer píxeles en el dispositivo de pantalla mediante una llamada a la función [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) o [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) .</span><span class="sxs-lookup"><span data-stu-id="72cde-141">An application can use a DIB to set pixels on the display device by calling the [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) or the [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) function.</span></span> <span data-ttu-id="72cde-142">Para determinar si un dispositivo admite la función **SetDIBitsToDevice** , llame a la función [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) , especificando RC \_ DIBTODEV como marca RASTERCAPS.</span><span class="sxs-lookup"><span data-stu-id="72cde-142">To determine whether a device supports the **SetDIBitsToDevice** function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DIBTODEV as the RASTERCAPS flag.</span></span> <span data-ttu-id="72cde-143">Especifique RC \_ STRETCHDIB como la marca RASTERCAPS para determinar si el dispositivo admite **StretchDIBits**.</span><span class="sxs-lookup"><span data-stu-id="72cde-143">Specify RC\_STRETCHDIB as the RASTERCAPS flag to determine if the device supports **StretchDIBits**.</span></span>

<span data-ttu-id="72cde-144">Una aplicación que simplemente necesita mostrar un DIB existente previamente puede usar la función [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) .</span><span class="sxs-lookup"><span data-stu-id="72cde-144">An application that simply needs to display a pre-existing DIB can use the [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) function.</span></span> <span data-ttu-id="72cde-145">Por ejemplo, una aplicación de hoja de cálculo puede abrir los gráficos existentes y mostrarlos en una ventana mediante la función **SetDIBitsToDevice** .</span><span class="sxs-lookup"><span data-stu-id="72cde-145">For example, a spreadsheet application can open existing charts and display them in a window by using the **SetDIBitsToDevice** function.</span></span> <span data-ttu-id="72cde-146">Sin embargo, para volver a dibujar repetidamente un mapa de bits en una ventana, la aplicación debe utilizar la función [**bitblt**](/windows/desktop/api/Wingdi/nf-wingdi-bitblt) .</span><span class="sxs-lookup"><span data-stu-id="72cde-146">To repeatedly redraw a bitmap in a window, however, the application should use the [**BitBlt**](/windows/desktop/api/Wingdi/nf-wingdi-bitblt) function.</span></span> <span data-ttu-id="72cde-147">Por ejemplo, una aplicación multimedia que combina gráficos animados con sonido se beneficiaría de la llamada a la función **bitblt** porque se ejecuta más rápido que **SetDIBitsToDevice**.</span><span class="sxs-lookup"><span data-stu-id="72cde-147">For example, a multimedia application that combines animated graphics with sound would benefit from calling the **BitBlt** function because it executes faster than **SetDIBitsToDevice**.</span></span>

 

 
