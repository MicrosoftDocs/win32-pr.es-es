---
title: Arquitectura de complementos
description: Las unidades biométricas exponen las capacidades de un dispositivo al marco a través de una interfaz estándar que se compone de adaptadores de sensor, motor y almacenamiento.
ms.assetid: d2835413-70a3-45fa-93e2-3fe78097554f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 52e43af9c0ea5a8db57cc0e0970b5625b1ba118f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104488018"
---
# <a name="plug-in-architecture"></a><span data-ttu-id="7107e-103">Arquitectura de complementos</span><span class="sxs-lookup"><span data-stu-id="7107e-103">Plug-in architecture</span></span>

<span data-ttu-id="7107e-104">Los dispositivos biométricos se fabrican en una amplia variedad de tipos y configuraciones.</span><span class="sxs-lookup"><span data-stu-id="7107e-104">Biometric devices are manufactured in a wide variety of types and configurations.</span></span> <span data-ttu-id="7107e-105">El Plataforma de biometría de Windows aborda esta variedad proporcionando una arquitectura extensible que permite a los desarrolladores de terceros crear componentes de complementos personalizados.</span><span class="sxs-lookup"><span data-stu-id="7107e-105">The Windows Biometric Framework addresses this variety by providing an extensible architecture that enables third party developers to create custom plug-in components.</span></span> <span data-ttu-id="7107e-106">El componente principal es un objeto de software denominado unidad biométrica.</span><span class="sxs-lookup"><span data-stu-id="7107e-106">The primary component is a software object called a biometric unit.</span></span> <span data-ttu-id="7107e-107">Las unidades biométricas exponen las capacidades de un dispositivo al marco a través de una interfaz estándar que se compone de adaptadores de sensor, motor y almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="7107e-107">Biometric units expose the capabilities of a device to the framework through a standard interface that consists of sensor, engine, and storage adapters.</span></span> <span data-ttu-id="7107e-108">En los temas siguientes se explican las unidades biométricas y sus componentes constituyentes.</span><span class="sxs-lookup"><span data-stu-id="7107e-108">Biometric units and their constituent components are discussed in the following topics.</span></span>

## <a name="biometric-unit"></a><span data-ttu-id="7107e-109">Unidad biométrica</span><span class="sxs-lookup"><span data-stu-id="7107e-109">Biometric unit</span></span>

<span data-ttu-id="7107e-110">El componente central de la arquitectura de complemento de Plataforma de biometría de Windows es la unidad biométrica, un objeto de software que expone las capacidades de un dispositivo biométrico al marco a través de una interfaz estándar.</span><span class="sxs-lookup"><span data-stu-id="7107e-110">The central component of the Windows Biometric Framework plug-in architecture is the biometric unit, a software object that exposes the capabilities of a biometric device to the framework through a standard interface.</span></span>

<span data-ttu-id="7107e-111">Un solo sensor físico está asociado a cada unidad biométrica.</span><span class="sxs-lookup"><span data-stu-id="7107e-111">A single physical sensor is associated with each biometric unit.</span></span> <span data-ttu-id="7107e-112">El sensor captura los datos biométricos y puede, en función de sus capacidades de hardware, realizar otras operaciones biométricas, como la coincidencia de plantillas y el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="7107e-112">The sensor captures biometric data and may also, depending on its hardware capabilities, perform other biometric operations such as template matching and storage.</span></span> <span data-ttu-id="7107e-113">Los sensores que no admiten la búsqueda de coincidencias o almacenamiento requieren módulos de software adicionales para realizar estas funciones.</span><span class="sxs-lookup"><span data-stu-id="7107e-113">Sensors that do not support onboard matching or storage require additional software modules to perform these functions.</span></span> <span data-ttu-id="7107e-114">Para obtener más información, consulte [adaptadores](/previous-versions//dd401508(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="7107e-114">For more information, see [Adapters](/previous-versions//dd401508(v=vs.85)).</span></span>

<span data-ttu-id="7107e-115">En la ilustración siguiente se muestra cómo fluyen los datos a través de una unidad biométrica.</span><span class="sxs-lookup"><span data-stu-id="7107e-115">The following illustration shows how data flows through a biometric unit.</span></span> <span data-ttu-id="7107e-116">Esencialmente, el flujo de datos forma un tipo de canalización.</span><span class="sxs-lookup"><span data-stu-id="7107e-116">Essentially, the data flow forms a type of pipeline.</span></span> <span data-ttu-id="7107e-117">La entrada inicial para la canalización es un ejemplo biométrico capturado por un sensor físico.</span><span class="sxs-lookup"><span data-stu-id="7107e-117">The initial input to the pipeline is a biometric sample captured by a physical sensor.</span></span> <span data-ttu-id="7107e-118">El motor intenta hacer coincidir el ejemplo con las plantillas que ya existen en el almacén de plantillas o, si no se encuentra ninguna coincidencia, crea una nueva plantilla a partir de muestras físicas repetidas y guarda la plantilla en el almacén.</span><span class="sxs-lookup"><span data-stu-id="7107e-118">The engine attempts to match the sample to templates that already exist in the template store or, if no match is found, builds a new template from repeated physical samples and saves the template in the store.</span></span>

![flujo de datos a través de una unidad biométrica](images/biometricunit-dataflow.png)

## <a name="biometric-unit-life-cycle"></a><span data-ttu-id="7107e-120">Ciclo de vida de unidad biométrica</span><span class="sxs-lookup"><span data-stu-id="7107e-120">Biometric unit life cycle</span></span>

### <a name="creation"></a><span data-ttu-id="7107e-121">Creación</span><span class="sxs-lookup"><span data-stu-id="7107e-121">Creation</span></span>

<span data-ttu-id="7107e-122">Cuando se inicia el servicio biométrico de Windows o cuando recibe una notificación de hardware del administrador de Plug and Play, examina si hay hardware que admita el DEVINTERFACE biométrico de GUID de interfaz Well-Known \_ \_ \_ (E2B5183A-99EA-4cc3-AD6B-80CA8D715B80).</span><span class="sxs-lookup"><span data-stu-id="7107e-122">When the Windows Biometric Service starts or when it receives a hardware notification from the Plug and Play manager, it scans for any hardware that supports the well-known interface GUID\_DEVINTERFACE\_BIOMETRIC\_READER (E2B5183A-99EA-4cc3-AD6B-80CA8D715B80).</span></span> <span data-ttu-id="7107e-123">Para cada dispositivo biométrico detectado, entonces:</span><span class="sxs-lookup"><span data-stu-id="7107e-123">For each biometric device discovered it then:</span></span>

-   <span data-ttu-id="7107e-124">Abre un identificador para el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7107e-124">Opens a handle to the device.</span></span>
-   <span data-ttu-id="7107e-125">Consulta las capacidades del dispositivo mediante una interfaz de control de controlador biométrico de Windows.</span><span class="sxs-lookup"><span data-stu-id="7107e-125">Queries the device capabilities by using a Windows Biometric Driver control interface.</span></span>
-   <span data-ttu-id="7107e-126">Abre la clave del registro del dispositivo e intenta buscar información sobre los complementos de adaptador asociados.</span><span class="sxs-lookup"><span data-stu-id="7107e-126">Opens the device registry key and attempts to locate information about any associated adapter plug-ins.</span></span>
-   <span data-ttu-id="7107e-127">Abre la clave del registro del servicio biométrico de Windows y busca información sobre los complementos globales que deben invalidar los valores específicos del dispositivo que se encuentran en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="7107e-127">Opens the Windows Biometric Service registry key and searches for information about any global plug-ins that should override the device specific values found in the preceding step.</span></span>
-   <span data-ttu-id="7107e-128">Crea una unidad biométrica para representar el dispositivo y la pasa a un proveedor de servicios biométricos.</span><span class="sxs-lookup"><span data-stu-id="7107e-128">Builds a biometric unit to represent the device and passes the unit to a biometric service provider.</span></span>

### <a name="configuration"></a><span data-ttu-id="7107e-129">Configuración</span><span class="sxs-lookup"><span data-stu-id="7107e-129">Configuration</span></span>

<span data-ttu-id="7107e-130">Después de que un proveedor de servicios biométricos (BSP) acepte una unidad biométrica, configura la unidad y la asigna a un grupo de sensores.</span><span class="sxs-lookup"><span data-stu-id="7107e-130">After a biometric service provider (BSP) accepts a biometric unit, it configures the unit and assigns it to a sensor pool.</span></span> <span data-ttu-id="7107e-131">Para obtener más información, consulte [grupos de sensores](sensor-pools.md).</span><span class="sxs-lookup"><span data-stu-id="7107e-131">For more information, see [Sensor Pools](sensor-pools.md).</span></span> <span data-ttu-id="7107e-132">La unidad se configura mediante la carga de los adaptadores adecuados, la conexión a un almacén de plantillas y, posiblemente, el cambio del modo de funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="7107e-132">The unit is configured by loading the appropriate adapters, connecting to a template store, and possibly changing the operating mode.</span></span> <span data-ttu-id="7107e-133">Una unidad biométrica puede configurarse para funcionar en uno de los dos modos siguientes:</span><span class="sxs-lookup"><span data-stu-id="7107e-133">A biometric unit can be configured to operate in one of two modes:</span></span>

-   <span data-ttu-id="7107e-134">En el modo básico, la unidad actúa como un dispositivo de captura simple.</span><span class="sxs-lookup"><span data-stu-id="7107e-134">In the basic mode, the unit acts as a simple capture device.</span></span> <span data-ttu-id="7107e-135">No utiliza el procesamiento incorporado ni el almacenamiento, sino que se basa completamente en los adaptadores de software para ofrecer soporte adicional.</span><span class="sxs-lookup"><span data-stu-id="7107e-135">It does not use onboard processing or storage but relies entirely on software adapters for additional support.</span></span> <span data-ttu-id="7107e-136">Debe ser capaz de generar ejemplos en un formato estándar.</span><span class="sxs-lookup"><span data-stu-id="7107e-136">It should be able to generate samples in a standard format.</span></span> <span data-ttu-id="7107e-137">Por ejemplo, los lectores de huellas digitales deben generar ejemplos que cumplan con ANSI INCITS 381-2004.</span><span class="sxs-lookup"><span data-stu-id="7107e-137">For example, fingerprint readers should generate samples that comply with ANSI INCITS 381-2004.</span></span> <span data-ttu-id="7107e-138">El propósito del modo básico es admitir la interoperabilidad entre los componentes de distintos proveedores.</span><span class="sxs-lookup"><span data-stu-id="7107e-138">The purpose of the basic mode is to support interoperability among components from different vendors.</span></span>
-   <span data-ttu-id="7107e-139">En el modo avanzado, la unidad biométrica usa funciones de almacenamiento y procesamiento incorporadas.</span><span class="sxs-lookup"><span data-stu-id="7107e-139">In the advanced mode, the biometric unit uses onboard processing and storage functions.</span></span> <span data-ttu-id="7107e-140">Debe exponer las interfaces estándar, pero puede generar y procesar los ejemplos en cualquier formato que desee.</span><span class="sxs-lookup"><span data-stu-id="7107e-140">It must expose the standard interfaces but can generate and process samples in any format desired.</span></span>

<span data-ttu-id="7107e-141">Cuando una unidad biométrica se mueve de un grupo de sensores a otro, sus adaptadores se descargan y se reconfiguran para el nuevo grupo de sensores.</span><span class="sxs-lookup"><span data-stu-id="7107e-141">When a biometric unit is moved from one sensor pool to another, its adapters are unloaded and it is reconfigured for the new sensor pool.</span></span> <span data-ttu-id="7107e-142">La identidad de la unidad biométrica permanece constante. solo cambian los complementos de configuración de hardware y adaptador.</span><span class="sxs-lookup"><span data-stu-id="7107e-142">The identity of the biometric unit remains constant; only the hardware configuration and adapter plug-ins change.</span></span>

### <a name="shut-down"></a><span data-ttu-id="7107e-143">Apagar</span><span class="sxs-lookup"><span data-stu-id="7107e-143">Shut Down</span></span>

<span data-ttu-id="7107e-144">Cuando el servicio biométrico de Windows se cierra o cuando el administrador de Plug and Play le notifica que se ha quitado una unidad, el servicio elimina todas las unidades biométricas.</span><span class="sxs-lookup"><span data-stu-id="7107e-144">When the Windows Biometric Service shuts down or when the Plug and Play manager notifies it that a unit has been removed, the service deletes all biometric units.</span></span>

## <a name="adapters"></a><span data-ttu-id="7107e-145">Adaptadores</span><span class="sxs-lookup"><span data-stu-id="7107e-145">Adapters</span></span>

<span data-ttu-id="7107e-146">Los componentes de software complementarios denominados adaptadores conectan una unidad biométrica a su hardware subyacente y proporcionan cualquier funcionalidad que pueda faltar en el hardware del sensor.</span><span class="sxs-lookup"><span data-stu-id="7107e-146">Plug-in software components called adapters connect a biometric unit to its underlying hardware and supply any functionality that may be missing from the sensor hardware.</span></span> <span data-ttu-id="7107e-147">Hay tres tipos de adaptadores que puede crear:</span><span class="sxs-lookup"><span data-stu-id="7107e-147">There are three types of adapters that you can create:</span></span>

-   <span data-ttu-id="7107e-148">Un adaptador de sensor encapsula un dispositivo biométrico y proporciona una interfaz estándar para configurar el sensor, capturar ejemplos y controlar el flujo de datos biométricos al motor de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="7107e-148">A sensor adapter wraps a biometric device and provides a standard interface for configuring the sensor, capturing samples, and controlling the flow of biometric data to the processing engine.</span></span>
-   <span data-ttu-id="7107e-149">Un adaptador de motor genera plantillas biométricas a partir de ejemplos capturados, coincide con ejemplos con plantillas existentes e indexa plantillas.</span><span class="sxs-lookup"><span data-stu-id="7107e-149">An engine adapter generates biometric templates from captured samples, matches samples to existing templates, and indexes templates.</span></span>
-   <span data-ttu-id="7107e-150">Un adaptador de almacenamiento administra las bases de datos de plantilla.</span><span class="sxs-lookup"><span data-stu-id="7107e-150">A storage adapter manages template databases.</span></span>

<span data-ttu-id="7107e-151">Los adaptadores se pueden cargar y descargar en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="7107e-151">Adapters can be loaded and unloaded at runtime.</span></span> <span data-ttu-id="7107e-152">Esto permite al servicio biométrico de Windows volver a configurar dinámicamente una unidad biométrica conectándola a un conjunto de adaptadores diferente.</span><span class="sxs-lookup"><span data-stu-id="7107e-152">This enables the Windows Biometric Service to dynamically reconfigure a biometric unit by connecting it to a different set of adapters.</span></span>

<span data-ttu-id="7107e-153">Por último, cada una de las interfaces de sensor, motor y adaptador de almacenamiento exponen dos métodos, **ControlUnit** y **ControlUnitPrivileged**, que permiten a las aplicaciones cliente obtener acceso a las capacidades del adaptador personalizado definidas por el proveedor.</span><span class="sxs-lookup"><span data-stu-id="7107e-153">Finally, each of the sensor, engine, and storage adapter interfaces expose two methods, **ControlUnit** and **ControlUnitPrivileged**, that enable client applications to access custom adapter capabilities defined by the vendor.</span></span> <span data-ttu-id="7107e-154">Esto permite al proveedor definir un conjunto casi ilimitado de operaciones de control para un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7107e-154">This allows the vendor to define an almost unlimited set of control operations for a device.</span></span> <span data-ttu-id="7107e-155">Además, al elegir la función que se va a implementar, un proveedor puede optar por hacer que algunas operaciones de control estén disponibles para los usuarios sin privilegios y restringir otras operaciones a usuarios con privilegios.</span><span class="sxs-lookup"><span data-stu-id="7107e-155">Further, by choosing which function to implement, a vendor can choose to make some control operations available to non-privileged users while restricting other operations to privileged users.</span></span>

<span data-ttu-id="7107e-156">Para obtener más información acerca de cómo crear adaptadores, vea [crear complementos de adaptador](creating-adapter-plug-ins.md).</span><span class="sxs-lookup"><span data-stu-id="7107e-156">For more information about how to create adapters, see [Create adapter plug-ins](creating-adapter-plug-ins.md).</span></span>

## <a name="adapter-performance-requirements"></a><span data-ttu-id="7107e-157">Requisitos de rendimiento del adaptador</span><span class="sxs-lookup"><span data-stu-id="7107e-157">Adapter performance requirements</span></span>

<span data-ttu-id="7107e-158">Dado que el objetivo es la respuesta rápida en general, el rendimiento de un adaptador no se especifica en cuanto a los límites de tiempo de rutinas específicas.</span><span class="sxs-lookup"><span data-stu-id="7107e-158">Because the objective is fast response overall, the performance of an adapter isn't specified in terms of time limits on specific routines.</span></span> <span data-ttu-id="7107e-159">En su lugar, el rendimiento se especifica como un conjunto de requisitos para la experiencia global del usuario.</span><span class="sxs-lookup"><span data-stu-id="7107e-159">Instead, performance is specified as a set of requirements for the overall user experience.</span></span>

<span data-ttu-id="7107e-160">Existen dos requisitos:</span><span class="sxs-lookup"><span data-stu-id="7107e-160">There are two requirements:</span></span>

-   <span data-ttu-id="7107e-161">Cualquier interacción entre el usuario y el sistema operativo que implique la biometría debe completarse en un plazo de dos segundos.</span><span class="sxs-lookup"><span data-stu-id="7107e-161">Any interaction between the user and the operating system that involves biometrics must complete within two seconds.</span></span> <span data-ttu-id="7107e-162">Este intervalo mide la hora de inicio a fin que el usuario percibe desde el momento en que tocan o deslizan el sensor hasta el momento en que se produce algo visible en la pantalla del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7107e-162">That interval measures the start-to-finish time that the user perceives from the time they touch or swipe the sensor until the time something visible happens on the device screen.</span></span> <span data-ttu-id="7107e-163">(Por ejemplo, durante el desbloqueo, no debe haber más de un retraso de dos segundos entre el toque del usuario o el deslizamiento del sensor de huellas digitales y la pantalla de bloqueo que confirma la identidad del usuario).</span><span class="sxs-lookup"><span data-stu-id="7107e-163">(For example, during unlock, there must be no more than a two-second delay between the user touching or swiping the fingerprint sensor and the lock screen acknowledging the user's identity.)</span></span>
-   <span data-ttu-id="7107e-164">En el aspecto inicial de los iconos de credenciales de la pantalla de inicio de sesión o de bloqueo, se permite un poco más de tiempo (tres segundos, máximo), pero aún se prefiere en lugar de más tarde.</span><span class="sxs-lookup"><span data-stu-id="7107e-164">For the initial appearance of credential tiles on the sign-in or lock screen, we allow a little more time (three seconds, maximum), but we still prefer sooner rather than later.</span></span> <span data-ttu-id="7107e-165">En concreto, el icono de bio debe estar visible en la pantalla en un plazo de tres segundos a partir de la apariencia del panel de bloqueo o de inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="7107e-165">Specifically, the bio tile needs to be visible on screen within three seconds of the appearance of the lock or sign-in panel.</span></span>

<span data-ttu-id="7107e-166">Estos números no son arbitrarios.</span><span class="sxs-lookup"><span data-stu-id="7107e-166">These numbers are not arbitrary.</span></span> <span data-ttu-id="7107e-167">Muchos estudios han demostrado que los seres humanos tienden a experimentar todo lo que ocurre dentro de un intervalo de dos segundos como parte del momento "ahora".</span><span class="sxs-lookup"><span data-stu-id="7107e-167">Numerous studies have shown that human beings tend to experience everything that happens within a two-second interval as part of the "now" moment.</span></span> <span data-ttu-id="7107e-168">Si el evento A y el evento B se producen en dos segundos entre sí, los usuarios perciben esos eventos como simultáneos.</span><span class="sxs-lookup"><span data-stu-id="7107e-168">If event A and event B happen within two seconds of each other, people perceive those events as being simultaneous.</span></span> <span data-ttu-id="7107e-169">Si los eventos se separan en más de unos tres segundos, los usuarios piensan que hay un retraso, creo que algo está "tardando demasiado tiempo".</span><span class="sxs-lookup"><span data-stu-id="7107e-169">If the events are separated by more than about three seconds, people think there's a delay—they feel that something is "taking too long."</span></span> <span data-ttu-id="7107e-170">Por lo tanto, se trata de un problema de psicología humano cableado.</span><span class="sxs-lookup"><span data-stu-id="7107e-170">So this is an issue of hardwired human psychology.</span></span>

 

 