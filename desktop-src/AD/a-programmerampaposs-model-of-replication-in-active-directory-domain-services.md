---
title: Modelo de replicación de un programador en Active Directory Domain Services
description: A continuación se describe el modelo de replicación para Active Directory Domain Services.
ms.assetid: 45baf7ff-9474-4f86-81c8-03336901fec2
ms.tgt_platform: multiple
keywords:
- Modelo de un programador de Active Directory replicación de AD
- Modelo de replicación de un programador en Active Directory Domain Services
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9ada20bc07411528eaea4b7ff8c773c50ae8b6ec
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104075029"
---
# <a name="a-programmers-model-of-replication-in-active-directory-domain-services"></a><span data-ttu-id="ae3d5-105">Modelo de replicación de un programador en Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="ae3d5-105">A Programmer's Model of Replication in Active Directory Domain Services</span></span>

<span data-ttu-id="ae3d5-106">A continuación se describe el modelo de replicación para Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-106">The following is a description of the replication model for Active Directory Domain Services.</span></span>

<span data-ttu-id="ae3d5-107">Todas las actualizaciones del controlador de Dominio de Active Directory (DC) se realizan mediante solicitudes LDAP que crean, modifican o eliminan un objeto para cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-107">All updates to the Active Directory Domain Controller (DC) are performed using LDAP requests that create, modify, or delete one object for each request.</span></span> <span data-ttu-id="ae3d5-108">Una única solicitud puede establecer o modificar varios atributos en un objeto.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-108">A single request can set or modify multiple attributes on an object.</span></span>

<span data-ttu-id="ae3d5-109">Una solicitud de actualización se procesa como una transacción atómica en algún controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-109">An update request is processed as an atomic transaction at some DC.</span></span> <span data-ttu-id="ae3d5-110">Se produce la actualización completa o ninguna de ellas.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-110">Either the entire update happens or none of it does.</span></span> <span data-ttu-id="ae3d5-111">Si el solicitante recibe una respuesta correcta a una solicitud de actualización, la solicitud completa se ha realizado correctamente (confirmada).</span><span class="sxs-lookup"><span data-stu-id="ae3d5-111">If the requester receives a successful response to an update request, that entire request has succeeded (committed).</span></span> <span data-ttu-id="ae3d5-112">Esto se denomina "escritura de origen".</span><span class="sxs-lookup"><span data-stu-id="ae3d5-112">This is called an "originating write."</span></span> <span data-ttu-id="ae3d5-113">No se pueden agrupar varias solicitudes LDAP en una única transacción mayor.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-113">Multiple LDAP requests cannot be grouped into a single larger transaction.</span></span>

<span data-ttu-id="ae3d5-114">En una escritura de origen, un controlador de dominio calcula una "marca" para cada valor de atributo nuevo o modificado y asocia esta marca al valor de modo que, cuando se replica el valor, la marca también se replica.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-114">In an originating write, a DC computes a "stamp" for each new or modified attribute value, and attaches this stamp to the value so when the value is replicated, the stamp is replicated too.</span></span> <span data-ttu-id="ae3d5-115">La nueva marca es única y, en el caso de una actualización, el nuevo sello es mayor que el de la marca del valor anterior en ese controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-115">The new stamp is unique, and in case of an update, the new stamp is larger than the stamp on the old value at that DC.</span></span>

<span data-ttu-id="ae3d5-116">En ocasiones, un controlador de dominio selecciona el conjunto de objetos que han cambiado desde la última vez que el controlador de dominio llevó a cabo la replicación.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-116">Occasionally, a DC selects the set of objects that have changed since the last time the DC performed replication.</span></span> <span data-ttu-id="ae3d5-117">A continuación, para cada objeto, envía un mensaje único a todos los demás controladores de DC que contienen todos los valores actuales de los atributos modificados desde la última vez que se replicó el objeto.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-117">Then, for each object, it sends a single message to all other DCs that contain all the current values of attributes changed since the last time the object was replicated.</span></span> <span data-ttu-id="ae3d5-118">Los mensajes de replicación son confiables y se entregan en orden, pero pueden requerir más tiempo para entregarse.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-118">Replication messages are reliable and are delivered in order, but may require more time to be delivered.</span></span>

<span data-ttu-id="ae3d5-119">Cuando un controlador de dominio recibe un mensaje de replicación de otro controlador de dominio, lo procesa de la siguiente manera: para cada atributo modificado, si la marca en el valor del mensaje de replicación es mayor que la marca del valor actual, el controlador de dominio aplica la actualización; de lo contrario, el controlador de dominio descartará la actualización.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-119">When one DC receives a replication message from another DC, it processes it as follows: For each modified attribute, if the stamp on the value in the replication message is larger than the stamp on the current value, the DC applies the update; otherwise the DC discards the update.</span></span> <span data-ttu-id="ae3d5-120">Cada mensaje de replicación se aplica como una transacción atómica, como una escritura de origen.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-120">Each replication message is applied as an atomic transaction, just like an originating write.</span></span>

<span data-ttu-id="ae3d5-121">Es el Active Directory Domain Services modelo de replicación.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-121">That is the Active Directory Domain Services replication model.</span></span> <span data-ttu-id="ae3d5-122">Las propiedades clave de este modelo incluyen:</span><span class="sxs-lookup"><span data-stu-id="ae3d5-122">Key properties of this model include:</span></span>

-   <span data-ttu-id="ae3d5-123">Una escritura de origen en un único objeto es atómica.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-123">An originating write to a single object is atomic.</span></span>
-   <span data-ttu-id="ae3d5-124">Al replicar los cambios, se envían todos los cambios realizados por una escritura de origen o ninguno de ellos.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-124">When replicating changes, either all the changes made by an originating write are sent or none of them are.</span></span>
-   <span data-ttu-id="ae3d5-125">Una escritura replicada en un único objeto es atómica, pero los conflictos se resuelven por atributo.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-125">A replicated write to a single object is atomic, but conflicts are resolved attribute-by-attribute.</span></span>

<span data-ttu-id="ae3d5-126">El modelo no garantiza la ordenación de la replicación de los cambios realizados en objetos diferentes.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-126">The model does not guarantee the replication ordering of changes made to different objects.</span></span> <span data-ttu-id="ae3d5-127">No escriba aplicaciones que asuman que los cambios se replican en orden de escritura de origen.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-127">Do not write applications that assume that changes are replicated in originating-write order.</span></span> <span data-ttu-id="ae3d5-128">El modelo no garantiza que, si un atributo de un objeto se cambia dos veces, se replicarán ambos valores. La replicación solo envía el valor actual en el momento de la replicación.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-128">The model does not guarantee that if an attribute of an object is changed twice, both values will be replicated; Replication sends only the current value at the time of replication.</span></span>

<span data-ttu-id="ae3d5-129">El modelo difiere de la realidad en varias maneras que solo afectan al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-129">The model differs from reality in several ways that only affect performance.</span></span> <span data-ttu-id="ae3d5-130">Por ejemplo, el servidor de Active Directory envía mensajes de replicación que contienen los cambios a varios objetos, pero procesa el contenido de un mensaje de varios objetos como si fuera una serie de mensajes de un solo objeto.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-130">For example, the Active Directory Server sends replication messages containing the changes to multiple objects, but processes the contents of such a multi-object message as if it were a series of single-object messages.</span></span> <span data-ttu-id="ae3d5-131">El servidor de Active Directory no realiza la replicación punto a punto como se describe en el modelo, sino que realiza una replicación transitiva más compleja y más eficaz que es funcionalmente equivalente al modelo.</span><span class="sxs-lookup"><span data-stu-id="ae3d5-131">The Active Directory Server does not perform point-to-point replication as described in the model, but instead performs a more complex and more efficient transitive replication that is functionally equivalent to the model.</span></span>

 

 




