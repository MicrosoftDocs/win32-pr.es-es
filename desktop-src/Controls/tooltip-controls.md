---
title: Acerca de los controles ToolTip
description: La información sobre herramientas aparece automáticamente o emergente cuando el usuario detiene el puntero del mouse sobre una herramienta o algún otro elemento de la interfaz de usuario.
ms.assetid: 1020cec7-57b4-4463-9419-f80fd14fa12c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9c1042523c86e794865da5d38fb023ee37d60b4
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104078449"
---
# <a name="about-tooltip-controls"></a><span data-ttu-id="3c414-103">Acerca de los controles ToolTip</span><span class="sxs-lookup"><span data-stu-id="3c414-103">About Tooltip Controls</span></span>

<span data-ttu-id="3c414-104">La información sobre herramientas aparece automáticamente o emergente cuando el usuario detiene el puntero del mouse sobre una herramienta o algún otro elemento de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="3c414-104">Tooltips appear automatically, or pop up, when the user pauses the mouse pointer over a tool or some other UI element.</span></span> <span data-ttu-id="3c414-105">La información sobre herramientas aparece cerca del puntero y desaparece cuando el usuario hace clic en un botón del mouse, desplaza el puntero fuera de la herramienta o simplemente espera unos segundos.</span><span class="sxs-lookup"><span data-stu-id="3c414-105">The tooltip appears near the pointer and disappears when the user clicks a mouse button, moves the pointer away from the tool, or simply waits for a few seconds.</span></span>

<span data-ttu-id="3c414-106">El control ToolTip de la siguiente ilustración muestra información acerca de un archivo en el escritorio de Windows.</span><span class="sxs-lookup"><span data-stu-id="3c414-106">The tooltip control in the following illustration displays information about a file on the Windows desktop.</span></span> <span data-ttu-id="3c414-107">A medida que mueve el mouse sobre la ilustración, también debería ver una información sobre herramientas en directo que contiene texto descriptivo.</span><span class="sxs-lookup"><span data-stu-id="3c414-107">As you move the mouse over the illustration, you should also see a live tooltip that contains descriptive text.</span></span>

![captura de pantalla que muestra texto en una información sobre herramientas que aparece sobre un archivo en el escritorio](images/tt-desktop.png)

<span data-ttu-id="3c414-109">En esta sección se describe cómo funcionan los controles de información sobre herramientas y cómo se crean.</span><span class="sxs-lookup"><span data-stu-id="3c414-109">This section describes how tooltip controls work and how you create them.</span></span>

-   [<span data-ttu-id="3c414-110">Apariencia y comportamiento de la información sobre herramientas</span><span class="sxs-lookup"><span data-stu-id="3c414-110">Tooltip Behavior and Appearance</span></span>](#tooltip-behavior-and-appearance)
-   [<span data-ttu-id="3c414-111">Crear controles de información sobre herramientas</span><span class="sxs-lookup"><span data-stu-id="3c414-111">Creating Tooltip Controls</span></span>](#creating-tooltip-controls)
-   [<span data-ttu-id="3c414-112">Activar controles de información sobre herramientas</span><span class="sxs-lookup"><span data-stu-id="3c414-112">Activating Tooltip Controls</span></span>](#activating-tooltip-controls)
-   [<span data-ttu-id="3c414-113">Herramientas auxiliares</span><span class="sxs-lookup"><span data-stu-id="3c414-113">Supporting Tools</span></span>](#supporting-tools)
-   [<span data-ttu-id="3c414-114">Mostrar texto</span><span class="sxs-lookup"><span data-stu-id="3c414-114">Displaying Text</span></span>](#displaying-text)
-   [<span data-ttu-id="3c414-115">Mensajería y notificación</span><span class="sxs-lookup"><span data-stu-id="3c414-115">Messaging and Notification</span></span>](#messaging-and-notification)
-   [<span data-ttu-id="3c414-116">Pruebas de posicionamiento</span><span class="sxs-lookup"><span data-stu-id="3c414-116">Hit Testing</span></span>](#hit-testing)
-   [<span data-ttu-id="3c414-117">Procesamiento de mensajes predeterminado</span><span class="sxs-lookup"><span data-stu-id="3c414-117">Default Message Processing</span></span>](#default-message-processing)

## <a name="tooltip-behavior-and-appearance"></a><span data-ttu-id="3c414-118">Apariencia y comportamiento de la información sobre herramientas</span><span class="sxs-lookup"><span data-stu-id="3c414-118">Tooltip Behavior and Appearance</span></span>

<span data-ttu-id="3c414-119">Los controles de información sobre herramientas pueden mostrar una sola línea de texto o varias líneas.</span><span class="sxs-lookup"><span data-stu-id="3c414-119">Tooltip controls can display a single line of text or multiple lines.</span></span> <span data-ttu-id="3c414-120">Sus esquinas se pueden redondear o cuadrado.</span><span class="sxs-lookup"><span data-stu-id="3c414-120">Their corners can be rounded or square.</span></span> <span data-ttu-id="3c414-121">Pueden tener o no una tallo que apunte a las herramientas como un globo de voz animado.</span><span class="sxs-lookup"><span data-stu-id="3c414-121">They might or might not have a stem that points to the tools like a cartoon speech balloon.</span></span> <span data-ttu-id="3c414-122">El texto de información sobre herramientas puede ser estacionario o puede moverse con el puntero del mouse, denominado Tracking.</span><span class="sxs-lookup"><span data-stu-id="3c414-122">Tooltip text can be stationary or can move with the mouse pointer, called tracking.</span></span> <span data-ttu-id="3c414-123">El texto estacionario se puede mostrar junto a una herramienta o se puede mostrar en una herramienta, lo que se conoce como in situ.</span><span class="sxs-lookup"><span data-stu-id="3c414-123">Stationary text can be displayed adjacent to a tool or it can be displayed over a tool, which is referred to as in-place.</span></span> <span data-ttu-id="3c414-124">La información sobre herramientas estándar es estacionaria, muestra una sola línea de texto, tiene esquinas cuadradas y no tiene ningún tronco que señale a la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-124">Standard tooltips are stationary, display a single line of text, have square corners, and have no stem pointing to the tool.</span></span>

<span data-ttu-id="3c414-125">La información sobre herramientas de seguimiento, que son compatibles con la [versión 4,70](common-control-versions.md) de los controles comunes, cambian la posición en la pantalla dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="3c414-125">Tracking tooltips, which are supported by [version 4.70](common-control-versions.md) of the common controls, change position on the screen dynamically.</span></span> <span data-ttu-id="3c414-126">Al actualizar rápidamente la posición, estos controles de información sobre herramientas parecen moverse sin problemas o "realizar un seguimiento".</span><span class="sxs-lookup"><span data-stu-id="3c414-126">By rapidly updating the position, these tooltip controls appear to move smoothly, or "track."</span></span> <span data-ttu-id="3c414-127">Resultan útiles cuando se desea que el texto de información sobre herramientas siga la posición del puntero del mouse a medida que se mueve.</span><span class="sxs-lookup"><span data-stu-id="3c414-127">These are useful when you want tooltip text to follow the position of the mouse pointer as it moves.</span></span> <span data-ttu-id="3c414-128">Para obtener más información sobre cómo realizar un seguimiento de la información sobre herramientas y un ejemplo con código que muestra cómo se crean, consulte [información sobre herramientas de seguimiento](using-tooltip-contro.md).</span><span class="sxs-lookup"><span data-stu-id="3c414-128">For more information about tracking tooltips and an example with code that shows how you create them, see [Tracking Tooltips](using-tooltip-contro.md).</span></span>

<span data-ttu-id="3c414-129">La información sobre herramientas de varias líneas, que también es compatible con la versión 4,70 de los controles comunes, muestra el texto en más de una línea.</span><span class="sxs-lookup"><span data-stu-id="3c414-129">Multiline tooltips, which are also supported by version 4.70 of the common controls, display text on more than one line.</span></span> <span data-ttu-id="3c414-130">Son útiles para mostrar mensajes largos.</span><span class="sxs-lookup"><span data-stu-id="3c414-130">These are useful for displaying lengthy messages.</span></span> <span data-ttu-id="3c414-131">Para obtener más información y un ejemplo en el que se muestra cómo crear información sobre herramientas de varias líneas, vea [información sobre herramientas multilínea](using-tooltip-contro.md).</span><span class="sxs-lookup"><span data-stu-id="3c414-131">For more information and an example that shows how to create multiline tooltips, see [Multiline Tooltips](using-tooltip-contro.md).</span></span>

<span data-ttu-id="3c414-132">La información sobre herramientas de globo se muestra en un cuadro con esquinas redondeadas y un tallo que apunta a la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-132">Balloon tooltips are displayed in a box with rounded corners and a stem pointing to the tool.</span></span> <span data-ttu-id="3c414-133">Pueden ser de una o varias líneas.</span><span class="sxs-lookup"><span data-stu-id="3c414-133">They can be either single-line or multiline.</span></span> <span data-ttu-id="3c414-134">En la ilustración siguiente se muestra un globo de información sobre herramientas con el tallo y el rectángulo en sus posiciones predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="3c414-134">The following illustration shows a balloon tooltip with the stem and rectangle in their default positions.</span></span> <span data-ttu-id="3c414-135">Para obtener más información acerca de la información sobre herramientas de globo y un ejemplo en el que se muestra cómo crearlos, vea [usar controles de información sobre herramientas](using-tooltip-contro.md).</span><span class="sxs-lookup"><span data-stu-id="3c414-135">For more information about balloon tooltips and an example that shows how to create them, see [Using Tooltip Controls](using-tooltip-contro.md).</span></span>

![captura de pantalla que muestra una información sobre herramientas que contiene una línea de texto, colocada sobre un botón en un cuadro de diálogo](images/tt-balloon.png)

<span data-ttu-id="3c414-137">La información sobre herramientas también puede tener texto de título y un icono, tal como se muestra en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="3c414-137">A tooltip can also have title text and an icon, as shown in the following illustration.</span></span> <span data-ttu-id="3c414-138">Tenga en cuenta que la información sobre herramientas debe tener texto; Si solo tiene texto de título, la información sobre herramientas no se muestra.</span><span class="sxs-lookup"><span data-stu-id="3c414-138">Note that the tooltip must have text; if it has only title text, the tooltip does not display.</span></span> <span data-ttu-id="3c414-139">Además, el icono no aparece a menos que haya un título.</span><span class="sxs-lookup"><span data-stu-id="3c414-139">Also the icon does not appear unless there is a title.</span></span>

![captura de pantalla que muestra una información sobre herramientas con un icono, título y texto, que se encuentra debajo de un botón en un cuadro de diálogo](images/tt-titled.png)

<span data-ttu-id="3c414-141">A veces, las cadenas de texto se recortan porque son demasiado largas para mostrarse completamente en una ventana pequeña.</span><span class="sxs-lookup"><span data-stu-id="3c414-141">Sometimes text strings are clipped because they are too long to be displayed completely in a small window.</span></span> <span data-ttu-id="3c414-142">La información sobre herramientas en contexto se usa para mostrar las cadenas de texto de los objetos que se han recortado, como el nombre de archivo en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="3c414-142">In-place tooltips are used to display text strings for objects that have been clipped, such as the file name in the following illustration.</span></span> <span data-ttu-id="3c414-143">Para ver un ejemplo en el que se muestra cómo crear información sobre herramientas en contexto, vea [información sobre herramientas en contexto](using-tooltip-contro.md).</span><span class="sxs-lookup"><span data-stu-id="3c414-143">For an example that shows how to create in-place tooltips, see [In-Place Tooltips](using-tooltip-contro.md).</span></span>

![captura de pantalla que muestra una información sobre herramientas que contiene un nombre de archivo situado junto a un icono de archivo en un control de árbol](images/tt-inplace.png)

<span data-ttu-id="3c414-145">El cursor debe mantener el mouse sobre una herramienta durante un período de tiempo antes de que se muestre la información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-145">The cursor must hover over a tool for a period of time before the tooltip is displayed.</span></span> <span data-ttu-id="3c414-146">La duración predeterminada de este tiempo de espera se controla mediante el tiempo de doble clic del usuario y suele ser de un segundo medio.</span><span class="sxs-lookup"><span data-stu-id="3c414-146">The default duration of this timeout is controlled by the user's double click time and is typically about one-half second.</span></span> <span data-ttu-id="3c414-147">Para especificar un valor de tiempo de espera no predeterminado, envíe el control de información sobre herramientas a un mensaje [**TTM \_ SETDELAYTIME**](ttm-setdelaytime.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-147">To specify a non-default timeout value, send the tooltip control a [**TTM\_SETDELAYTIME**](ttm-setdelaytime.md) message.</span></span>

## <a name="creating-tooltip-controls"></a><span data-ttu-id="3c414-148">Crear controles de información sobre herramientas</span><span class="sxs-lookup"><span data-stu-id="3c414-148">Creating Tooltip Controls</span></span>

<span data-ttu-id="3c414-149">Para crear un control de información sobre herramientas, llame a [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) y especifique la clase de ventana de [**\_ clase tooltips**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-149">To create a tooltip control, call [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) and specify the [**TOOLTIPS\_CLASS**](common-control-window-classes.md) window class.</span></span> <span data-ttu-id="3c414-150">Esta clase se registra cuando se carga el archivo DLL de control común.</span><span class="sxs-lookup"><span data-stu-id="3c414-150">This class is registered when the common control DLL is loaded.</span></span> <span data-ttu-id="3c414-151">Para asegurarse de que se carga este archivo DLL, incluya la función [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3c414-151">To ensure that this DLL is loaded, include the [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function in your application.</span></span> <span data-ttu-id="3c414-152">Debe definir explícitamente un control ToolTip como el nivel superior.</span><span class="sxs-lookup"><span data-stu-id="3c414-152">You must explicitly define a tooltip control as topmost.</span></span> <span data-ttu-id="3c414-153">De lo contrario, podría estar incluido en la ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="3c414-153">Otherwise, it might be covered by the parent window.</span></span> <span data-ttu-id="3c414-154">En el siguiente fragmento de código se muestra cómo crear un control ToolTip.</span><span class="sxs-lookup"><span data-stu-id="3c414-154">The following code fragment shows how to create a tooltip control.</span></span>


```
HWND hwndTip = CreateWindowEx(NULL, TOOLTIPS_CLASS, NULL,
                            WS_POPUP | TTS_NOPREFIX | TTS_ALWAYSTIP,
                            CW_USEDEFAULT, CW_USEDEFAULT,
                            CW_USEDEFAULT, CW_USEDEFAULT,
                            hwndParent, NULL, hinstMyDll,
                            NULL);

SetWindowPos(hwndTip, HWND_TOPMOST,0, 0, 0, 0,
             SWP_NOMOVE | SWP_NOSIZE | SWP_NOACTIVATE);
```



<span data-ttu-id="3c414-155">El procedimiento de ventana para el control ToolTip establece automáticamente el tamaño, la posición y la visibilidad del control.</span><span class="sxs-lookup"><span data-stu-id="3c414-155">The window procedure for the tooltip control automatically sets the size, position, and visibility of the control.</span></span> <span data-ttu-id="3c414-156">El alto de la ventana de información sobre herramientas se basa en el alto de la fuente seleccionada actualmente en el contexto del dispositivo para el control ToolTip.</span><span class="sxs-lookup"><span data-stu-id="3c414-156">The height of the tooltip window is based on the height of the font currently selected into the device context for the tooltip control.</span></span> <span data-ttu-id="3c414-157">El ancho varía en función de la longitud de la cadena actualmente en la ventana de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-157">The width varies based on the length of the string currently in the tooltip window.</span></span>

## <a name="activating-tooltip-controls"></a><span data-ttu-id="3c414-158">Activar controles de información sobre herramientas</span><span class="sxs-lookup"><span data-stu-id="3c414-158">Activating Tooltip Controls</span></span>

<span data-ttu-id="3c414-159">Un control ToolTip puede estar activo o inactivo.</span><span class="sxs-lookup"><span data-stu-id="3c414-159">A tooltip control can be either active or inactive.</span></span> <span data-ttu-id="3c414-160">Cuando está activo, el texto de información sobre herramientas aparece cuando el puntero del mouse está sobre una herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-160">When it is active, the tooltip text appears when the mouse pointer is on a tool.</span></span> <span data-ttu-id="3c414-161">Cuando está inactivo, el texto de la información sobre herramientas no aparece, aunque el puntero esté en una herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-161">When it is inactive, the tooltip text does not appear, even if the pointer is on a tool.</span></span> <span data-ttu-id="3c414-162">El mensaje de [**\_ activación de TTM**](ttm-activate.md) activa y desactiva un control de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-162">The [**TTM\_ACTIVATE**](ttm-activate.md) message activates and deactivates a tooltip control.</span></span>

## <a name="supporting-tools"></a><span data-ttu-id="3c414-163">Herramientas auxiliares</span><span class="sxs-lookup"><span data-stu-id="3c414-163">Supporting Tools</span></span>

<span data-ttu-id="3c414-164">Un control de información sobre herramientas puede admitir cualquier número de herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-164">A tooltip control can support any number of tools.</span></span> <span data-ttu-id="3c414-165">Para admitir una herramienta determinada, debe registrar la herramienta con el control de información sobre herramientas mediante el envío del mensaje de control [**TTM \_ ADDTOOL**](ttm-addtool.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-165">To support a particular tool, you must register the tool with the tooltip control by sending the control the [**TTM\_ADDTOOL**](ttm-addtool.md) message.</span></span> <span data-ttu-id="3c414-166">El mensaje incluye la dirección de una estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) , que proporciona información que el control ToolTip necesita para mostrar el texto de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-166">The message includes the address of a [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure, which provides information the tooltip control needs to display text for the tool.</span></span> <span data-ttu-id="3c414-167">La aplicación define el miembro **uID** de la estructura **TOOLINFO** .</span><span class="sxs-lookup"><span data-stu-id="3c414-167">The **uID** member of the **TOOLINFO** structure is defined by the application.</span></span> <span data-ttu-id="3c414-168">Cada vez que se agrega una herramienta, la aplicación proporciona un identificador único.</span><span class="sxs-lookup"><span data-stu-id="3c414-168">Each time you add a tool, your application provides a unique identifier.</span></span> <span data-ttu-id="3c414-169">El miembro **cbSize** de la estructura **TOOLINFO** es obligatorio y debe especificar el tamaño de la estructura.</span><span class="sxs-lookup"><span data-stu-id="3c414-169">The **cbSize** member of the **TOOLINFO** structure is required, and must specify the size of the structure.</span></span>

<span data-ttu-id="3c414-170">Un control ToolTip admite herramientas implementadas como ventanas (como ventanas secundarias o ventanas de control) y como áreas rectangulares dentro del área de cliente de una ventana.</span><span class="sxs-lookup"><span data-stu-id="3c414-170">A tooltip control supports tools implemented as windows (such as child windows or control windows) and as rectangular areas within a window's client area.</span></span> <span data-ttu-id="3c414-171">Cuando se agrega una herramienta implementada como un área rectangular, el miembro **hWnd** de la estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) debe especificar el identificador de la ventana que contiene el área y el miembro **Rect** debe especificar las coordenadas de cliente del rectángulo delimitador del área.</span><span class="sxs-lookup"><span data-stu-id="3c414-171">When you add a tool implemented as a rectangular area, the **hwnd** member of the [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure must specify the handle to the window that contains the area, and the **rect** member must specify the client coordinates of the area's bounding rectangle.</span></span> <span data-ttu-id="3c414-172">Además, el miembro **uID** debe especificar el identificador definido por la aplicación para la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-172">In addition, the **uID** member must specify the application-defined identifier for the tool.</span></span>

<span data-ttu-id="3c414-173">Cuando se agrega una herramienta implementada como una ventana, el miembro **uID** de la estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) debe contener el identificador de ventana de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-173">When you add a tool implemented as a window, the **uID** member of the [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure must contain the window handle to the tool.</span></span> <span data-ttu-id="3c414-174">Además, el miembro **uFlags** debe especificar el valor de **ttf \_ IDISHWND** , que indica al control ToolTip que interprete el miembro **uID** como un identificador de ventana.</span><span class="sxs-lookup"><span data-stu-id="3c414-174">Also, the **uFlags** member must specify the **TTF\_IDISHWND** value, which tells the tooltip control to interpret the **uID** member as a window handle.</span></span>

## <a name="displaying-text"></a><span data-ttu-id="3c414-175">Mostrar texto</span><span class="sxs-lookup"><span data-stu-id="3c414-175">Displaying Text</span></span>

<span data-ttu-id="3c414-176">Cuando se agrega una herramienta a un control ToolTip, el miembro **lpszText** de la estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) debe especificar la dirección de la cadena que se va a mostrar para la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-176">When you add a tool to a tooltip control, the **lpszText** member of the [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure must specify the address of the string to display for the tool.</span></span> <span data-ttu-id="3c414-177">Después de agregar una herramienta, puede cambiar el texto mediante el mensaje [**\_ UPDATETIPTEXT de TTM**](ttm-updatetiptext.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-177">After you add a tool, you can change the text using the [**TTM\_UPDATETIPTEXT**](ttm-updatetiptext.md) message.</span></span>

<span data-ttu-id="3c414-178">Si la palabra de orden superior de **lpszText** es cero, la palabra de orden inferior debe ser el identificador de un recurso de cadena.</span><span class="sxs-lookup"><span data-stu-id="3c414-178">If the high-order word of **lpszText** is zero, the low-order word must be the identifier of a string resource.</span></span> <span data-ttu-id="3c414-179">Cuando el control ToolTip necesita el texto, el sistema carga el recurso de cadena especificado desde la instancia de la aplicación identificada por el miembro **HINST** de la estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) .</span><span class="sxs-lookup"><span data-stu-id="3c414-179">When the tooltip control needs the text, the system loads the specified string resource from the application instance identified by the **hinst** member of the [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure.</span></span>

<span data-ttu-id="3c414-180">Si especifica el \_ valor de LPSTR TEXTCALLBACK en el miembro **lpszText** , el control ToolTip notifica a la ventana especificada en el miembro **hWnd** de la estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa)cada vez que el control ToolTip necesita mostrar texto para la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-180">If you specify the LPSTR\_TEXTCALLBACK value in the **lpszText** member, the tooltip control notifies the window specified in the **hwnd** member of the [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa)structure whenever the tooltip control needs to display text for the tool.</span></span> <span data-ttu-id="3c414-181">El control ToolTip envía el código de notificación [TTN \_ GETDISPINFO](ttn-getdispinfo.md) a la ventana.</span><span class="sxs-lookup"><span data-stu-id="3c414-181">The tooltip control sends the [TTN\_GETDISPINFO](ttn-getdispinfo.md) notification code to the window.</span></span> <span data-ttu-id="3c414-182">El mensaje incluye la dirección de una estructura [**NMTTDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmttdispinfoa) , que contiene el identificador de ventana, así como el identificador definido por la aplicación para la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-182">The message includes the address of a [**NMTTDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmttdispinfoa) structure, which contains the window handle as well as the application-defined identifier for the tool.</span></span> <span data-ttu-id="3c414-183">La ventana examina la estructura para determinar la herramienta para la que se necesita texto y rellena los miembros adecuados de la estructura con la información que necesita el control ToolTip para mostrar la cadena.</span><span class="sxs-lookup"><span data-stu-id="3c414-183">The window examines the structure to determine the tool for which text is needed, and it fills the appropriate structure members with information that the tooltip control needs in order to display the string.</span></span>

> [!Note]  
> <span data-ttu-id="3c414-184">La longitud máxima del texto de información sobre herramientas estándar es de 80 caracteres.</span><span class="sxs-lookup"><span data-stu-id="3c414-184">The maximum length for standard tooltip text is 80 characters.</span></span> <span data-ttu-id="3c414-185">Para obtener más información, vea la estructura [**NMTTDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmttdispinfoa) .</span><span class="sxs-lookup"><span data-stu-id="3c414-185">For more information, see the [**NMTTDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmttdispinfoa) structure.</span></span> <span data-ttu-id="3c414-186">El texto de información sobre herramientas multilínea puede ser más largo.</span><span class="sxs-lookup"><span data-stu-id="3c414-186">Multiline tooltip text can be longer.</span></span>

 

<span data-ttu-id="3c414-187">Muchas aplicaciones crean barras de herramientas que contienen herramientas que corresponden a comandos de menú.</span><span class="sxs-lookup"><span data-stu-id="3c414-187">Many applications create toolbars containing tools that correspond to menu commands.</span></span> <span data-ttu-id="3c414-188">Para estas herramientas, es conveniente que el control de información sobre herramientas muestre el mismo texto que el elemento de menú correspondiente.</span><span class="sxs-lookup"><span data-stu-id="3c414-188">For such tools, it is convenient for the tooltip control to display the same text as the corresponding menu item.</span></span> <span data-ttu-id="3c414-189">El sistema quita automáticamente los caracteres de aceleración de y comercial (&) de todas las cadenas que se pasan a un control de información sobre herramientas y finaliza la cadena en el primer carácter de tabulación ( \\ t), a menos que el control tenga el estilo [**TTS \_ noprefix**](tooltip-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-189">The system automatically strips the ampersand (&) accelerator characters from all strings passed to a tooltip control, and terminates the string at the first tab character (\\t), unless the control has the [**TTS\_NOPREFIX**](tooltip-styles.md) style.</span></span>

<span data-ttu-id="3c414-190">Para recuperar el texto de una herramienta, use el mensaje [**TTM \_ GETTEXT**](ttm-gettext.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-190">To retrieve the text for a tool, use the [**TTM\_GETTEXT**](ttm-gettext.md) message.</span></span>

## <a name="messaging-and-notification"></a><span data-ttu-id="3c414-191">Mensajería y notificación</span><span class="sxs-lookup"><span data-stu-id="3c414-191">Messaging and Notification</span></span>

<span data-ttu-id="3c414-192">El texto de información sobre herramientas se muestra normalmente cuando el puntero del mouse se desplaza sobre un área, normalmente el rectángulo definido por una herramienta, como un control de botón.</span><span class="sxs-lookup"><span data-stu-id="3c414-192">Tooltip text is normally displayed when the mouse pointer hovers over an area, typically the rectangle defined by a tool such as a button control.</span></span> <span data-ttu-id="3c414-193">Sin embargo, Microsoft Windows solo envía mensajes relacionados con el mouse a la ventana que contiene el puntero, no al propio control de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-193">However, Microsoft Windows only sends mouse-related messages to the window that contains the pointer, not the tooltip control itself.</span></span> <span data-ttu-id="3c414-194">La información relacionada con el mouse debe retransmitirse al control de información sobre herramientas para que muestre el texto de información sobre herramientas en el momento y lugar adecuados.</span><span class="sxs-lookup"><span data-stu-id="3c414-194">Mouse-related information must be relayed to the tooltip control in order for it to display the tooltip text at the appropriate time and place.</span></span>

<span data-ttu-id="3c414-195">Puede hacer que los mensajes se retransmitan automáticamente si:</span><span class="sxs-lookup"><span data-stu-id="3c414-195">You can have messages relayed automatically if:</span></span>

-   <span data-ttu-id="3c414-196">La herramienta es un control o se define como un rectángulo en la estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-196">The tool is a control or is defined as a rectangle in the tool's [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure.</span></span>
-   <span data-ttu-id="3c414-197">La ventana asociada a la herramienta está en el mismo subproceso que el control ToolTip.</span><span class="sxs-lookup"><span data-stu-id="3c414-197">The window associated with the tool is in the same thread as the tooltip control.</span></span>

<span data-ttu-id="3c414-198">Si se cumplen estas dos condiciones, establezca la marca de la **\_ subclase ttf** en el miembro **UFlags** de la estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) de la herramienta cuando agregue la herramienta al control ToolTip con [**TTM \_ ADDTOOL**](ttm-addtool.md).</span><span class="sxs-lookup"><span data-stu-id="3c414-198">If these two conditions are met, set the **TTF\_SUBCLASS** flag in the **uFlags** member of the tool's [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure when you add the tool to the tooltip control with [**TTM\_ADDTOOL**](ttm-addtool.md).</span></span> <span data-ttu-id="3c414-199">Los mensajes del mouse necesarios se retransmitirán automáticamente al control ToolTip.</span><span class="sxs-lookup"><span data-stu-id="3c414-199">The necessary mouse messages then will be relayed automatically to the tooltip control.</span></span>

<span data-ttu-id="3c414-200">La configuración de la **\_ subclase ttf** para que los mensajes del mouse retransmitidos al control sea suficiente para la mayoría de los propósitos.</span><span class="sxs-lookup"><span data-stu-id="3c414-200">Setting **TTF\_SUBCLASS** to have mouse messages relayed to the control is sufficient for most purposes.</span></span> <span data-ttu-id="3c414-201">Sin embargo, no funcionará en casos en los que no haya ninguna conexión directa entre el control de información sobre herramientas y la ventana de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-201">However, it will not work in cases where there is no direct connection between the tooltip control and the tool's window.</span></span> <span data-ttu-id="3c414-202">Por ejemplo, si una herramienta se implementa como un área rectangular en una ventana definida por la aplicación, el procedimiento de ventana recibe los mensajes del mouse.</span><span class="sxs-lookup"><span data-stu-id="3c414-202">For example, if a tool is implemented as a rectangular area in an application-defined window, the window procedure receives the mouse messages.</span></span> <span data-ttu-id="3c414-203">Establecer **la \_ subclase ttf** es suficiente para asegurarse de que se pasan al control.</span><span class="sxs-lookup"><span data-stu-id="3c414-203">Setting **TTF\_SUBCLASS** is sufficient to ensure that they are passed to the control.</span></span> <span data-ttu-id="3c414-204">Sin embargo, si una herramienta se implementa como una ventana definida por el sistema, los mensajes del mouse se envían a esa ventana y no están directamente disponibles para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3c414-204">However, if a tool is implemented as a system-defined window, mouse messages are sent to that window and are not directly available to the application.</span></span> <span data-ttu-id="3c414-205">En este caso, debe subclaser la ventana o utilizar un enlace de mensaje para tener acceso a los mensajes del mouse.</span><span class="sxs-lookup"><span data-stu-id="3c414-205">In this case, you must either subclass the window or use a message hook to access the mouse messages.</span></span> <span data-ttu-id="3c414-206">Después, debe retransmitir explícitamente los mensajes del mouse al control ToolTip con [**TTM \_ RELAYEVENT**](ttm-relayevent.md).</span><span class="sxs-lookup"><span data-stu-id="3c414-206">You must then explicitly relay mouse messages to the tooltip control with [**TTM\_RELAYEVENT**](ttm-relayevent.md).</span></span> <span data-ttu-id="3c414-207">Para obtener un ejemplo de cómo usar **TTM \_ RELAYEVENT**, consulte la [información sobre herramientas de seguimiento](using-tooltip-contro.md).</span><span class="sxs-lookup"><span data-stu-id="3c414-207">For an example of how to use **TTM\_RELAYEVENT**, see [Tracking Tooltips](using-tooltip-contro.md).</span></span>

<span data-ttu-id="3c414-208">Cuando un control ToolTip recibe un mensaje de el [**\_ MOUSEMOVE de WM**](/windows/desktop/inputdev/wm-mousemove) , determina si el puntero del mouse está en el rectángulo delimitador de una herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-208">When a tooltip control receives a [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) message, it determines whether the mouse pointer is in the bounding rectangle of a tool.</span></span> <span data-ttu-id="3c414-209">Si es así, el control ToolTip establece un temporizador.</span><span class="sxs-lookup"><span data-stu-id="3c414-209">If it is, the tooltip control sets a timer.</span></span> <span data-ttu-id="3c414-210">Al final del intervalo de tiempo de espera, el control ToolTip comprueba la posición del puntero para ver si se ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="3c414-210">At the end of the time-out interval, the tooltip control checks the position of the pointer to see if it has moved.</span></span> <span data-ttu-id="3c414-211">Si no es así, el control ToolTip recupera el texto de la herramienta y muestra la información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-211">If it hasn't, the tooltip control retrieves the text for the tool and displays the tooltip.</span></span> <span data-ttu-id="3c414-212">El control de información sobre herramientas continúa mostrando la ventana hasta que recibe un mensaje retransmitido de botón arriba o abajo o hasta que un mensaje de Windows de **WM \_** indica que el puntero se ha colocado fuera del rectángulo delimitador de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-212">The tooltip control continues to show the window until it receives a relayed button-up or button-down message or until a **WM\_MOUSEMOVE** message indicates that the pointer has moved outside the bounding rectangle of the tool.</span></span>

<span data-ttu-id="3c414-213">En realidad, un control ToolTip tiene tres duraciones de tiempo de espera asociadas.</span><span class="sxs-lookup"><span data-stu-id="3c414-213">A tooltip control actually has three time-out durations associated with it.</span></span> <span data-ttu-id="3c414-214">La duración inicial es el tiempo que el puntero del mouse debe permanecer estacionario dentro del rectángulo delimitador de una herramienta antes de que se muestre la ventana de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-214">The initial duration is the time that the mouse pointer must remain stationary within the bounding rectangle of a tool before the tooltip window is displayed.</span></span> <span data-ttu-id="3c414-215">La duración de la representación es la duración del retraso antes de que se muestren las siguientes ventanas de información sobre herramientas cuando el puntero se mueve de una herramienta a otra.</span><span class="sxs-lookup"><span data-stu-id="3c414-215">The reshow duration is the length of the delay before subsequent tooltip windows are displayed when the pointer moves from one tool to another.</span></span> <span data-ttu-id="3c414-216">La duración del elemento emergente es el tiempo que la ventana de información sobre herramientas permanece visible antes de ocultarse.</span><span class="sxs-lookup"><span data-stu-id="3c414-216">The pop-up duration is the time that the tooltip window remains displayed before it is hidden.</span></span> <span data-ttu-id="3c414-217">Es decir, si el puntero permanece inmóvil dentro del rectángulo delimitador después de que se muestre la ventana de información sobre herramientas, la ventana de información sobre herramientas se oculta automáticamente al final de la duración del elemento emergente.</span><span class="sxs-lookup"><span data-stu-id="3c414-217">That is, if the pointer remains stationary within the bounding rectangle after the tooltip window is displayed, the tooltip window is automatically hidden at the end of the pop-up duration.</span></span> <span data-ttu-id="3c414-218">Puede ajustar todas las duraciones de tiempo de espera mediante el mensaje [**\_ SETDELAYTIME de TTM**](ttm-setdelaytime.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-218">You can adjust all of the time-out durations by using the [**TTM\_SETDELAYTIME**](ttm-setdelaytime.md) message.</span></span>

<span data-ttu-id="3c414-219">Si una aplicación incluye una herramienta implementada como área rectangular y el tamaño o la posición del control cambia, la aplicación puede usar el [**mensaje \_ NEWTOOLRECT de TTM**](ttm-newtoolrect.md) para notificar el cambio en el control de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-219">If an application includes a tool implemented as a rectangular area and the size or position of the control changes, the application can use the [**TTM\_NEWTOOLRECT**](ttm-newtoolrect.md) message to report the change to the tooltip control.</span></span> <span data-ttu-id="3c414-220">Una aplicación no necesita informar de los cambios de tamaño y posición de una herramienta implementada como una ventana porque el control de información sobre herramientas usa el identificador de ventana de la herramienta para determinar si el puntero del mouse está en la herramienta, no en el rectángulo delimitador de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-220">An application does not need to report size and position changes for a tool implemented as a window because the tooltip control uses the tool's window handle to determine if the mouse pointer is on the tool, not the tool's bounding rectangle.</span></span>

<span data-ttu-id="3c414-221">Cuando una información sobre herramientas está a punto de mostrarse, el control ToolTip envía a la ventana propietaria un código de notificación [TTN \_ ](ttn-show.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-221">When a tooltip is about to be displayed, the tooltip control sends the owner window a [TTN\_SHOW](ttn-show.md) notification code.</span></span> <span data-ttu-id="3c414-222">La ventana propietaria recibe un código de notificación de [ \_ pop TTN](ttn-pop.md) cuando una información sobre herramientas está a punto de ocultarse.</span><span class="sxs-lookup"><span data-stu-id="3c414-222">The owner window receives a [TTN\_POP](ttn-pop.md) notification code when a tooltip is about to be hidden.</span></span> <span data-ttu-id="3c414-223">Cada código de notificación se envía en el contexto de un mensaje de notificación de [**WM \_**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="3c414-223">Each notification code is sent in the context of a [**WM\_NOTIFY**](wm-notify.md) message.</span></span>

## <a name="hit-testing"></a><span data-ttu-id="3c414-224">Pruebas de posicionamiento</span><span class="sxs-lookup"><span data-stu-id="3c414-224">Hit Testing</span></span>

<span data-ttu-id="3c414-225">El mensaje [**TTM \_ HITTEST**](ttm-hittest.md) permite recuperar información que el control ToolTip mantiene sobre la herramienta que ocupa un punto determinado.</span><span class="sxs-lookup"><span data-stu-id="3c414-225">The [**TTM\_HITTEST**](ttm-hittest.md) message allows you to retrieve information that a tooltip control maintains about the tool occupying a particular point.</span></span> <span data-ttu-id="3c414-226">El mensaje incluye una estructura [**TTHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tthittestinfoa) que contiene un identificador de ventana, las coordenadas de un punto y la dirección de una estructura [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) .</span><span class="sxs-lookup"><span data-stu-id="3c414-226">The message includes a [**TTHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tthittestinfoa) structure that contains a window handle, the coordinates of a point, and the address of a [**TOOLINFO**](/windows/win32/api/commctrl/ns-commctrl-tttoolinfoa) structure.</span></span> <span data-ttu-id="3c414-227">El control ToolTip determina si una herramienta ocupa el punto y, si lo hace, rellena **TOOLINFO** con información sobre la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-227">The tooltip control determines whether a tool occupies the point and, if it does, fills **TOOLINFO** with information about the tool.</span></span>

## <a name="default-message-processing"></a><span data-ttu-id="3c414-228">Procesamiento de mensajes predeterminado</span><span class="sxs-lookup"><span data-stu-id="3c414-228">Default Message Processing</span></span>

<span data-ttu-id="3c414-229">En la tabla siguiente se describen los mensajes administrados por el procedimiento de ventana para el control ToolTip.</span><span class="sxs-lookup"><span data-stu-id="3c414-229">The following table describes the messages handled by the window procedure for the tooltip control.</span></span>



| <span data-ttu-id="3c414-230">Message</span><span class="sxs-lookup"><span data-stu-id="3c414-230">Message</span></span>                                        | <span data-ttu-id="3c414-231">Descripción</span><span class="sxs-lookup"><span data-stu-id="3c414-231">Description</span></span>                                                                                                                                                                                                                                                       |
|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3c414-232">**creación de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-232">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)             | <span data-ttu-id="3c414-233">Garantiza que el control ToolTip tenga los estilos de ventana [**\_ emergente**](/windows/desktop/winmsg/window-styles) [**WS \_ ex \_**](/windows/desktop/winmsg/window-styles) y WS.</span><span class="sxs-lookup"><span data-stu-id="3c414-233">Ensures that the tooltip control has the [**WS\_EX\_TOOLWINDOW**](/windows/desktop/winmsg/window-styles) and [**WS\_POPUP**](/windows/desktop/winmsg/window-styles) window styles.</span></span> <span data-ttu-id="3c414-234">También asigna memoria e inicializa variables internas.</span><span class="sxs-lookup"><span data-stu-id="3c414-234">It also allocates memory and initializes internal variables.</span></span> |
| [<span data-ttu-id="3c414-235">**destrucción de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-235">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)           | <span data-ttu-id="3c414-236">Libera los recursos asignados para el control ToolTip.</span><span class="sxs-lookup"><span data-stu-id="3c414-236">Frees resources allocated for the tooltip control.</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="3c414-237">**GETFONT de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-237">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)           | <span data-ttu-id="3c414-238">Devuelve el identificador de la fuente que el control ToolTip usará para dibujar el texto.</span><span class="sxs-lookup"><span data-stu-id="3c414-238">Returns the handle of the font that the tooltip control will use to draw text.</span></span>                                                                                                                                                                                    |
| [<span data-ttu-id="3c414-239">**MOUSEMOVE de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-239">**WM\_MOUSEMOVE**</span></span>](/windows/desktop/inputdev/wm-mousemove)     | <span data-ttu-id="3c414-240">Oculta la ventana de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-240">Hides the tooltip window.</span></span>                                                                                                                                                                                                                                         |
| [<span data-ttu-id="3c414-241">**pintura de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-241">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                  | <span data-ttu-id="3c414-242">Dibuja la ventana de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-242">Draws the tooltip window.</span></span>                                                                                                                                                                                                                                         |
| [<span data-ttu-id="3c414-243">**WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-243">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)           | <span data-ttu-id="3c414-244">Establece el identificador de la fuente que el control ToolTip usará para dibujar el texto.</span><span class="sxs-lookup"><span data-stu-id="3c414-244">Sets the handle of the font that the tooltip control will use to draw text.</span></span>                                                                                                                                                                                       |
| [<span data-ttu-id="3c414-245">**temporizador de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-245">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)               | <span data-ttu-id="3c414-246">Oculta la ventana de información sobre herramientas si la herramienta ha cambiado de posición o si el puntero del mouse se ha colocado fuera de la herramienta.</span><span class="sxs-lookup"><span data-stu-id="3c414-246">Hides the tooltip window if the tool has changed position or if the mouse pointer has moved outside the tool.</span></span> <span data-ttu-id="3c414-247">De lo contrario, muestra la ventana de información sobre herramientas.</span><span class="sxs-lookup"><span data-stu-id="3c414-247">Otherwise, it shows the tooltip window.</span></span>                                                                                                             |
| [<span data-ttu-id="3c414-248">**WININICHANGE de WM \_**</span><span class="sxs-lookup"><span data-stu-id="3c414-248">**WM\_WININICHANGE**</span></span>](/windows/desktop/winmsg/wm-wininichange) | <span data-ttu-id="3c414-249">Restablece las variables internas basadas en las métricas del sistema.</span><span class="sxs-lookup"><span data-stu-id="3c414-249">Resets internal variables that are based on system metrics.</span></span>                                                                                                                                                                                                       |



 

 

 