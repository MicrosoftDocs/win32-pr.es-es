---
title: Cómo solucionar errores de firma de paquete de aplicaciones
description: Un error de implementación de la aplicación puede deberse a un error al validar la firma digital del paquete de la aplicación. Obtenga información acerca de cómo reconocer estos errores y qué hacer con ellos.
ms.assetid: CE868296-87F6-4BD5-8AC5-914E429EDEBC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0b6f50dc5ff428e74f4928fc20775b13de7c3be9
ms.sourcegitcommit: 784b5954a1646e2406cd4ee27a9e4f50e28ee9b7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/05/2021
ms.locfileid: "106374836"
---
# <a name="how-to-troubleshoot-app-package-signature-errors"></a><span data-ttu-id="3f4f4-104">Cómo solucionar errores de firma de paquete de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="3f4f4-104">How to troubleshoot app package signature errors</span></span>

<span data-ttu-id="3f4f4-105">Un error de implementación de la aplicación puede deberse a un error al validar la firma digital del paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-105">An app deployment failure can be caused by a failure to validate the digital signature of the app package.</span></span> <span data-ttu-id="3f4f4-106">Obtenga información acerca de cómo reconocer estos errores y qué hacer con ellos.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-106">Learn how to recognize these failures, and what to do about them.</span></span>

<span data-ttu-id="3f4f4-107">Cuando se implementa una aplicación de Windows empaquetada, Windows siempre intenta validar la firma digital en el paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-107">When you deploy a packaged Windows app, Windows always attempts to validate the digital signature on the app package.</span></span> <span data-ttu-id="3f4f4-108">Errores durante la validación de la firma bloquean la implementación del paquete.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-108">Failures during signature validation block deployment of the package.</span></span> <span data-ttu-id="3f4f4-109">Pero por qué el paquete no se validó podría no ser obvio.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-109">But why the package didn't validate might not be obvious.</span></span> <span data-ttu-id="3f4f4-110">En concreto, si firma los paquetes con certificados privados para las pruebas locales, a menudo debe administrar la confianza para esos certificados también.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-110">In particular, if you sign your packages with private certificates for local testing, you often must manage the trust for those certificates as well.</span></span> <span data-ttu-id="3f4f4-111">Una configuración de confianza de certificados incorrecta puede provocar errores de validación de la firma.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-111">An incorrect certificate trust configuration can lead to signature validation failures.</span></span>

## <a name="what-you-need-to-know"></a><span data-ttu-id="3f4f4-112">Aspectos que debe saber</span><span class="sxs-lookup"><span data-stu-id="3f4f4-112">What you need to know</span></span>

### <a name="technologies"></a><span data-ttu-id="3f4f4-113">Tecnologías</span><span class="sxs-lookup"><span data-stu-id="3f4f4-113">Technologies</span></span>

-   [<span data-ttu-id="3f4f4-114">Empaquetado, implementación y consulta de aplicaciones de Windows</span><span class="sxs-lookup"><span data-stu-id="3f4f4-114">Packaging, deployment, and query of Windows apps</span></span>](appx-portal.md)
-   [<span data-ttu-id="3f4f4-115">Comprobación de certificados de confianza</span><span class="sxs-lookup"><span data-stu-id="3f4f4-115">Certificate Trust Verification</span></span>](/windows/desktop/SecCrypto/certificate-trust-verification)

### <a name="prerequisites"></a><span data-ttu-id="3f4f4-116">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="3f4f4-116">Prerequisites</span></span>

-   <span data-ttu-id="3f4f4-117">[Registro de eventos de Windows](/windows/desktop/WES/windows-event-log) para diagnosticar errores de instalación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-117">[Windows Event Log](/windows/desktop/WES/windows-event-log) to diagnose installation failures.</span></span>
-   <span data-ttu-id="3f4f4-118">[Tareas certutil para administrar certificados](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) para la manipulación del almacén de certificados durante la solución de problemas</span><span class="sxs-lookup"><span data-stu-id="3f4f4-118">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) for certificate store manipulation during troubleshooting</span></span>

## <a name="instructions"></a><span data-ttu-id="3f4f4-119">Instrucciones</span><span class="sxs-lookup"><span data-stu-id="3f4f4-119">Instructions</span></span>

### <a name="step-1-examine-event-logs-for-diagnostic-information"></a><span data-ttu-id="3f4f4-120">Paso 1: examinar los registros de eventos para obtener información de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="3f4f4-120">Step 1: Examine event logs for diagnostic information</span></span>

<span data-ttu-id="3f4f4-121">En función de cómo intente implementar la aplicación, es posible que no haya recibido un código de error significativo para el error de implementación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-121">Depending on how you attempted to deploy your app, you might not have received a meaningful error code for the deployment failure.</span></span> <span data-ttu-id="3f4f4-122">En este caso, normalmente puede obtener el código de error directamente de los registros de eventos.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-122">In this case, you can usually get the error code directly from the event logs.</span></span>

<span data-ttu-id="3f4f4-123">**Para obtener el código de error de los registros de eventos**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-123">**To get the error code from the event logs**</span></span>

1.  <span data-ttu-id="3f4f4-124">Ejecute **eventvwr. msc**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-124">Run **eventvwr.msc**.</span></span>
2.  <span data-ttu-id="3f4f4-125">Vaya a **visor de eventos (local)**  >  **registros de aplicaciones y servicios**  >  **Microsoft**  >  **Windows**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-125">Go to **Event Viewer (Local)** > **Applications and Services Logs** > **Microsoft** > **Windows**.</span></span>
3.  <span data-ttu-id="3f4f4-126">El primer registro que se va a comprobar es **AppxPackagingOM**  >  **Microsoft-Windows-AppxPackaging/Operational**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-126">The first log to check is **AppxPackagingOM** > **Microsoft-Windows-AppxPackaging/Operational**.</span></span>
4.  <span data-ttu-id="3f4f4-127">Los errores relacionados con la implementación se registran en **AppXDeployment-Server**  >  **Microsoft-Windows-AppXDeploymentServer/Operational**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-127">Deployment-related errors are recorded in **AppXDeployment-Server** > **Microsoft-Windows-AppXDeploymentServer/Operational**.</span></span>

    <span data-ttu-id="3f4f4-128">En el caso de los errores de implementación, busque el evento de error 404 más reciente.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-128">For deployment errors, search for the most recent error event 404.</span></span> <span data-ttu-id="3f4f4-129">Este evento de error proporciona el código de error y una descripción de por qué se produjo un error en la implementación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-129">This error event provides you with the error code and a description of why the deployment failed.</span></span> <span data-ttu-id="3f4f4-130">Si un evento de error 465 precedió al evento 404, hubo un problema al abrir el paquete.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-130">If an error event 465 preceded the 404 event, there was a problem opening the package.</span></span>

<span data-ttu-id="3f4f4-131">Si no se ha producido el error 465, consulte [solución de problemas generales de empaquetado, implementación y consulta de aplicaciones de Windows](troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-131">If the 465 error didn't occur, see general [Troubleshooting packaging, deployment, and query of Windows apps](troubleshooting.md).</span></span> <span data-ttu-id="3f4f4-132">En caso contrario, consulte esta tabla para ver los códigos de error comunes que pueden aparecer en la cadena de error para el evento 465 de error:</span><span class="sxs-lookup"><span data-stu-id="3f4f4-132">Otherwise, refer to this table for common error codes that can show up in the error string for error event 465:</span></span>

| <span data-ttu-id="3f4f4-133">Código de error</span><span class="sxs-lookup"><span data-stu-id="3f4f4-133">Error code</span></span> | <span data-ttu-id="3f4f4-134">Error</span><span class="sxs-lookup"><span data-stu-id="3f4f4-134">Error</span></span>                                 | <span data-ttu-id="3f4f4-135">Descripción</span><span class="sxs-lookup"><span data-stu-id="3f4f4-135">Description</span></span>                                                                                                          | <span data-ttu-id="3f4f4-136">Sugerencia</span><span class="sxs-lookup"><span data-stu-id="3f4f4-136">Suggestion</span></span>                                                                                                                                                                                                 |
|------------|---------------------------------------|----------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3f4f4-137">0x80073CF0</span><span class="sxs-lookup"><span data-stu-id="3f4f4-137">0x80073CF0</span></span> | <span data-ttu-id="3f4f4-138">ERROR \_ al instalar el \_ \_ paquete abierto \_</span><span class="sxs-lookup"><span data-stu-id="3f4f4-138">ERROR\_INSTALL\_OPEN\_PACKAGE\_FAILED</span></span> | <span data-ttu-id="3f4f4-139">No se pudo abrir el paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-139">The app package could not be opened.</span></span>                                                                                 | <span data-ttu-id="3f4f4-140">Este error suele indicar un problema con el paquete.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-140">This error typically indicates a problem with the package.</span></span> <span data-ttu-id="3f4f4-141">Debe compilar y firmar el paquete de nuevo.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-141">You need to build and sign the package again.</span></span> <span data-ttu-id="3f4f4-142">Para obtener más información, vea [usar el Empaquetador de aplicaciones](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-142">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span> |
| <span data-ttu-id="3f4f4-143">0x80080205</span><span class="sxs-lookup"><span data-stu-id="3f4f4-143">0x80080205</span></span> | <span data-ttu-id="3f4f4-144">\_ \_ BLOCKMAP no válido de appx E \_</span><span class="sxs-lookup"><span data-stu-id="3f4f4-144">APPX\_E\_INVALID\_BLOCKMAP</span></span>            | <span data-ttu-id="3f4f4-145">El paquete de la aplicación se ha alterado o tiene una asignación de bloques no válida.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-145">The app package has been tampered with or has an invalid block map.</span></span>                                                  | <span data-ttu-id="3f4f4-146">El paquete está dañado.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-146">The package is corrupted.</span></span> <span data-ttu-id="3f4f4-147">Debe compilar y firmar el paquete de nuevo.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-147">You need to build and sign the package again.</span></span> <span data-ttu-id="3f4f4-148">Para obtener más información, vea [usar el Empaquetador de aplicaciones](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-148">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span>                                  |
| <span data-ttu-id="3f4f4-149">0x800B0004</span><span class="sxs-lookup"><span data-stu-id="3f4f4-149">0x800B0004</span></span> | <span data-ttu-id="3f4f4-150">CONFIANZA \_ E \_ asunto \_ no de \_ confianza</span><span class="sxs-lookup"><span data-stu-id="3f4f4-150">TRUST\_E\_SUBJECT\_NOT\_TRUSTED</span></span>       | <span data-ttu-id="3f4f4-151">El paquete de la aplicación se ha alterado.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-151">The app package has been tampered with.</span></span>                                                                              | <span data-ttu-id="3f4f4-152">El contenido del paquete ya no coincide con su firma digital.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-152">The package contents no longer match its digital signature.</span></span> <span data-ttu-id="3f4f4-153">Debe volver a firmar el paquete.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-153">You need to sign the package again.</span></span> <span data-ttu-id="3f4f4-154">Para obtener más información, consulte [cómo firmar un paquete de aplicación mediante SignTool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-154">For more info, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>  |
| <span data-ttu-id="3f4f4-155">0x800B0100</span><span class="sxs-lookup"><span data-stu-id="3f4f4-155">0x800B0100</span></span> | <span data-ttu-id="3f4f4-156">CONFIAR \_ E \_ nofirma</span><span class="sxs-lookup"><span data-stu-id="3f4f4-156">TRUST\_E\_NOSIGNATURE</span></span>                 | <span data-ttu-id="3f4f4-157">El paquete de la aplicación no tiene signo.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-157">The app package is unsigned.</span></span>                                                                                         | <span data-ttu-id="3f4f4-158">Solo se pueden implementar paquetes de aplicación de Windows firmados.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-158">Only signed Windows app packages can be deployed.</span></span> <span data-ttu-id="3f4f4-159">Para obtener información sobre cómo firmar un paquete de la aplicación, consulte [cómo firmar un paquete de aplicación mediante SignTool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-159">For info about signing an app package, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>                  |
| <span data-ttu-id="3f4f4-160">0x800B0109</span><span class="sxs-lookup"><span data-stu-id="3f4f4-160">0x800B0109</span></span> | <span data-ttu-id="3f4f4-161">raíz de certificado \_ E no \_ confiable \_</span><span class="sxs-lookup"><span data-stu-id="3f4f4-161">CERT\_E\_UNTRUSTED\_ROOT</span></span>              | <span data-ttu-id="3f4f4-162">La cadena de certificados que se usó para firmar el paquete de aplicación termina en un certificado raíz que no es de confianza.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-162">The certificate chain that was used to sign the app package ends in a root certificate that isn't trusted.</span></span>           | <span data-ttu-id="3f4f4-163">Continúe con el paso 2 para solucionar los problemas de confianza de certificados.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-163">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |
| <span data-ttu-id="3f4f4-164">0x800B010A</span><span class="sxs-lookup"><span data-stu-id="3f4f4-164">0x800B010A</span></span> | <span data-ttu-id="3f4f4-165">encadenamiento de certificado \_ E \_</span><span class="sxs-lookup"><span data-stu-id="3f4f4-165">CERT\_E\_CHAINING</span></span>                     | <span data-ttu-id="3f4f4-166">No se pudo compilar una cadena de certificados en una entidad de certificación raíz de confianza del certificado que se usó para firmar el paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-166">No certificate chain could be built to a trusted root authority from the cert that was used to sign the app package.</span></span> | <span data-ttu-id="3f4f4-167">Continúe con el paso 2 para solucionar los problemas de confianza de certificados.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-167">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |



 

### <a name="step-2-determine-the-certificate-chain-used-to-sign-the-app-package"></a><span data-ttu-id="3f4f4-168">Paso 2: determinar la cadena de certificados usada para firmar el paquete de la aplicación</span><span class="sxs-lookup"><span data-stu-id="3f4f4-168">Step 2: Determine the certificate chain used to sign the app package</span></span>

<span data-ttu-id="3f4f4-169">Para averiguar los certificados en los que el equipo local debe confiar, puede examinar la cadena de certificados de la firma digital en el paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-169">To figure out the certificates that the local computer must trust, you can examine the certificate chain for the digital signature on the app package.</span></span>

<span data-ttu-id="3f4f4-170">**Para determinar la cadena de certificados**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-170">**To determine the certificate chain**</span></span>

1.  <span data-ttu-id="3f4f4-171">En el explorador de archivos, haga clic con el botón derecho en el paquete de la aplicación y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-171">In File Explorer, right-click on the app package and select **Properties**.</span></span>
2.  <span data-ttu-id="3f4f4-172">En el cuadro de diálogo **propiedades** , seleccione la pestaña **firmas digitales** , que también muestra si se puede validar la firma.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-172">In the **Properties** dialog, select the **Digital Signatures** tab, which also displays whether the signature can be validated.</span></span>
3.  <span data-ttu-id="3f4f4-173">En la lista firma, seleccione la firma y, a continuación, haga clic en el botón **detalles** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-173">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="3f4f4-174">En el cuadro de diálogo Detalles de la **firma digital** , haga clic en el botón **Ver certificado** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-174">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="3f4f4-175">En el cuadro de diálogo **certificado** , seleccione la pestaña **ruta de certificación** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-175">In the **Certificate** dialog, select the **Certification Path** tab.</span></span>

<span data-ttu-id="3f4f4-176">El certificado superior de la cadena es el certificado raíz y el certificado inferior es el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-176">The top certificate in the chain is the root certificate and the bottom certificate is the signing certificate.</span></span> <span data-ttu-id="3f4f4-177">Si solo hay un certificado en la cadena, el certificado de firma es también su propio certificado raíz.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-177">If only a single certificate is in the chain, the signing certificate is also its own root certificate.</span></span> <span data-ttu-id="3f4f4-178">Puede determinar el número de serie de cada certificado que use después con [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span><span class="sxs-lookup"><span data-stu-id="3f4f4-178">You can determine the serial number for each certificate that you then use with [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span></span>

<span data-ttu-id="3f4f4-179">**Para determinar el número de serie de cada certificado**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-179">**To determine the serial number for each certificate**</span></span>

1.  <span data-ttu-id="3f4f4-180">En el panel ruta de certificación, seleccione el certificado y, a continuación, haga clic en **Ver certificado**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-180">In the Certification path pane, select the certificate and then click **View Certificate**.</span></span>
2.  <span data-ttu-id="3f4f4-181">En el cuadro de diálogo certificado, seleccione la pestaña **detalles** , que muestra el número de serie y otras propiedades útiles del certificado.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-181">In the Certificate dialog, select the **Details** tab, which displays the serial number and other useful properties of the certificate.</span></span>

### <a name="step-3-determine-the-certificates-trusted-by-the-local-machine"></a><span data-ttu-id="3f4f4-182">Paso 3: determinar los certificados de confianza del equipo local</span><span class="sxs-lookup"><span data-stu-id="3f4f4-182">Step 3: Determine the certificates trusted by the local machine</span></span>

<span data-ttu-id="3f4f4-183">Para poder implementar un paquete de la aplicación, no solo debe ser de confianza en el contexto del usuario sino también en el contexto del equipo local.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-183">To be able to deploy an app package, it must not only be trusted in the user’s context but also the local computer context.</span></span> <span data-ttu-id="3f4f4-184">Como resultado, la firma digital puede aparecer como válida cuando se ve en la pestaña firmas digitales del paso anterior, pero se sigue produciendo un error en la validación durante la implementación del paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-184">As a result, the digital signature can appear valid when viewed in the Digital Signatures tab from the previous step but still fail validation during deployment of the app package.</span></span>

<span data-ttu-id="3f4f4-185">**Para determinar si la cadena de certificados usada para firmar el paquete de la aplicación es de confianza para el equipo local**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-185">**To determine if the certificate chain used to sign the app package is specifically trusted by the local computer**</span></span>

1.  <span data-ttu-id="3f4f4-186">Ejecute este comando:</span><span class="sxs-lookup"><span data-stu-id="3f4f4-186">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store Root rootCertSerialNumber
    ```

2.  <span data-ttu-id="3f4f4-187">Ejecute este comando:</span><span class="sxs-lookup"><span data-stu-id="3f4f4-187">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store TrustedPeople signingCertSerialNumber
    ```

<span data-ttu-id="3f4f4-188">Si no especifica el número de serie del certificado, [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) enumera todos los certificados en los que confía el equipo local para ese almacén.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-188">If you don't specify the certificate serial number, [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) lists all certificates that are trusted by the local computer for that store.</span></span>

<span data-ttu-id="3f4f4-189">Es posible que no se pueda instalar el paquete debido a errores de encadenamiento de certificados, incluso si el certificado de firma no es autofirmado y el certificado raíz está en el almacén raíz del equipo local.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-189">The package may fail to install due to certificate chaining errors, even if the signing certificate is not self-signed and the root certificate is in the root store of the local computer.</span></span> <span data-ttu-id="3f4f4-190">En este caso, puede haber un problema con la confianza para las entidades de certificación intermedias.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-190">In this case, there might be an issue with trust for the intermediate certificate authorities.</span></span> <span data-ttu-id="3f4f4-191">Para obtener más información sobre este problema, consulte [trabajar con certificados](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-191">For more info about this issue, see [Working with Certificates](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span></span>

## <a name="remarks"></a><span data-ttu-id="3f4f4-192">Comentarios</span><span class="sxs-lookup"><span data-stu-id="3f4f4-192">Remarks</span></span>

<span data-ttu-id="3f4f4-193">Si ha determinado que el paquete no se pudo implementar porque el certificado de firma no es de confianza, no instale el paquete a menos que sepa dónde se originó y que confía en él.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-193">If you determined that the package couldn't be deployed because the signing certificate isn't trusted, don't install the package unless you know where it originated and you trust it.</span></span>

<span data-ttu-id="3f4f4-194">Si quiere confiar manualmente en la aplicación para su instalación (por ejemplo, para instalar su propio paquete de aplicación firmado con prueba), puede Agregar manualmente el certificado a la confianza de certificado de equipo local desde el paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-194">If you want to manually trust the app for install (for example, to install your own test-signed app package), you can manually add the certificate to the local computer certificate trust from the app package.</span></span>

<span data-ttu-id="3f4f4-195">**Para agregar manualmente el certificado al certificado de confianza del equipo local**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-195">**To manually add the certificate to the local computer certificate trust**</span></span>

1.  <span data-ttu-id="3f4f4-196">En el explorador de archivos, haga clic con el botón derecho en el paquete de la aplicación y, en el menú contextual emergente, seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-196">In File Explorer, right-click on the app package, and in the pop-up context menu select **Properties**.</span></span>
2.  <span data-ttu-id="3f4f4-197">En el cuadro de diálogo **propiedades** , seleccione la pestaña **firmas digitales** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-197">In the **Properties** dialog, select the **Digital Signatures** tab.</span></span>
3.  <span data-ttu-id="3f4f4-198">En la lista firma, seleccione la firma y, a continuación, haga clic en el botón **detalles** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-198">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="3f4f4-199">En el cuadro de diálogo Detalles de la **firma digital** , haga clic en el botón **Ver certificado** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-199">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="3f4f4-200">En el cuadro de diálogo **certificado** , haga clic en **instalar certificado..** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-200">In the **Certificate** dialog, click the **Install Certificate…**</span></span> <span data-ttu-id="3f4f4-201">.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-201">button.</span></span>
6.  <span data-ttu-id="3f4f4-202">En el Asistente para importación de certificados, seleccione **equipo local** y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-202">In the Certificate Import Wizard, select **Local Machine** and then click **Next**.</span></span> <span data-ttu-id="3f4f4-203">Tendrá que conceder privilegios de administrador para continuar.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-203">You will need to grant administrator privileges to continue.</span></span>
7.  <span data-ttu-id="3f4f4-204">Seleccione **colocar todos los certificados en el siguiente almacén** y vaya al almacén de **usuarios de confianza** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-204">Select **Place all certificates in the following store** and browse to the **Trusted People** store.</span></span>
8.  <span data-ttu-id="3f4f4-205">Haga clic en **siguiente** y, a continuación, haga clic en **Finalizar** para completar el asistente.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-205">Click **Next**, then click **Finish** to complete the wizard.</span></span>

<span data-ttu-id="3f4f4-206">Después de esta adición manual, puede ver que el certificado ahora es de confianza en el cuadro de diálogo **certificado** .</span><span class="sxs-lookup"><span data-stu-id="3f4f4-206">After this manual addition, you can see that the certificate is now trusted in the **Certificate** dialog.</span></span>

<span data-ttu-id="3f4f4-207">Puede quitar el certificado después de que ya no lo necesite.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-207">You can remove the certificate after you no longer need it.</span></span>

<span data-ttu-id="3f4f4-208">**Para quitar el certificado**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-208">**To remove the certificate**</span></span>

1.  <span data-ttu-id="3f4f4-209">Ejecute **Cmd.exe** como administrador.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-209">Run **Cmd.exe** as administrator.</span></span>
2.  <span data-ttu-id="3f4f4-210">En el símbolo del sistema de administrador, ejecute este comando:</span><span class="sxs-lookup"><span data-stu-id="3f4f4-210">In the administrator command prompt, run this command:</span></span>

    ``` syntax
    Certutil -store TrustedPeople
    ```

3.  <span data-ttu-id="3f4f4-211">Busque el número de serie del certificado que instaló.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-211">Look for the serial number of the certificate that you installed.</span></span> <span data-ttu-id="3f4f4-212">Este número es el *certID*.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-212">This number is the *certID*.</span></span>
4.  <span data-ttu-id="3f4f4-213">Ejecute este comando:</span><span class="sxs-lookup"><span data-stu-id="3f4f4-213">Run this command:</span></span>

    ``` syntax
    Certutil -delStore TrustedPeople certID
    ```

<span data-ttu-id="3f4f4-214">Le recomendamos que evite agregar manualmente los certificados raíz al almacén de [certificados de entidades de certificación raíz de confianza](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store)del equipo local.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-214">We recommend that you avoid manually adding root certificates to the local machine [Trusted Root Certification Authorities Certificate Store](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store).</span></span> <span data-ttu-id="3f4f4-215">Tener varias aplicaciones firmadas con certificados que encadenan al mismo certificado raíz, como aplicaciones de línea de negocio, puede ser más eficaz que la instalación de certificados individuales en el almacén de usuarios de confianza.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-215">Having several applications that are signed with certificates that chain to the same root certificate, such as line of business applications, can be more efficient than installing individual certificates to the Trusted People store.</span></span> <span data-ttu-id="3f4f4-216">El almacén de personas de confianza contiene certificados que se consideran de confianza de forma predeterminada, por lo que no se comprueban por entidades o listas de confianza de certificados o entidades superiores.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-216">The Trusted People store contains certificates that are considered trusted by default and so aren't verified by higher authorities or certificate trust lists or chains.</span></span> <span data-ttu-id="3f4f4-217">Para obtener consideraciones sobre cómo agregar certificados al almacén de certificados de entidades de certificación raíz de confianza, vea [procedimientos recomendados para la firma de código](/previous-versions/windows/hardware/design/dn653556(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-217">For considerations around adding certificates to the Trusted Root Certification Authorities certificate store, see [Code-Signing Best Practices](/previous-versions/windows/hardware/design/dn653556(v=vs.85)).</span></span>

## <a name="security-considerations"></a><span data-ttu-id="3f4f4-218">Consideraciones sobre la seguridad</span><span class="sxs-lookup"><span data-stu-id="3f4f4-218">Security Considerations</span></span>

<span data-ttu-id="3f4f4-219">Al agregar un certificado a los [almacenes de certificados del equipo local](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), afecta a la confianza del certificado de todos los usuarios del equipo.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-219">By adding a certificate to [local machine certificate stores](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), you affect the certificate trust of all users on the computer.</span></span> <span data-ttu-id="3f4f4-220">Se recomienda instalar los certificados de firma de código que desee para probar paquetes de aplicaciones en el almacén de certificados de personas de confianza.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-220">We recommend that you install any code signing certificates that you want for testing app packages to the Trusted People certificate store.</span></span> <span data-ttu-id="3f4f4-221">Quite los certificados inmediatamente cuando ya no sean necesarios, para evitar que se usen para poner en peligro la confianza del sistema.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-221">Promptly remove those certificates when they are no longer necessary, to prevent them from being used to compromise system trust.</span></span> <span data-ttu-id="3f4f4-222">Si crea sus propios certificados de prueba para firmar paquetes de aplicaciones, también se recomienda restringir los privilegios asociados al certificado de prueba.</span><span class="sxs-lookup"><span data-stu-id="3f4f4-222">If you create your own test certificates for signing app packages, we also recommend that you restrict the privileges that are associated with the test certificate.</span></span> <span data-ttu-id="3f4f4-223">Para obtener información sobre cómo crear certificados de prueba para firmar paquetes de aplicaciones, consulte [Cómo crear un certificado de firma de paquete de aplicación](how-to-create-a-package-signing-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="3f4f4-223">For info about creating test certificates for signing app packages, see [How to create an app package signing certificate](how-to-create-a-package-signing-certificate.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="3f4f4-224">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="3f4f4-224">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="3f4f4-225">**Ejemplos**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-225">**Samples**</span></span>
</dt> <dt>

[<span data-ttu-id="3f4f4-226">Ejemplo de creación de paquete de aplicación</span><span class="sxs-lookup"><span data-stu-id="3f4f4-226">Create app package sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/AppxPackingCreateAppx)
</dt> <dt>

<span data-ttu-id="3f4f4-227">**Conceptos**</span><span class="sxs-lookup"><span data-stu-id="3f4f4-227">**Concepts**</span></span>
</dt> <dt>

[<span data-ttu-id="3f4f4-228">Solución de problemas de empaquetado, implementación y consulta de aplicaciones de Windows</span><span class="sxs-lookup"><span data-stu-id="3f4f4-228">Troubleshooting packaging, deployment, and query of Windows apps</span></span>](troubleshooting.md)
</dt> <dt>

<span data-ttu-id="3f4f4-229">[Tareas certutil para administrar certificados](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="3f4f4-229">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span></span>
</dt> </dl>

 

 
