---
description: Después de recuperar la información de instalación de un archivo INF, hay varias funciones de control de archivos que puede usar para instalar los archivos enumerados en una sección de INF.
ms.assetid: 4e6042a0-36a9-4f74-b6cc-554e7f7aa2d9
title: Instalación desde un archivo INF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bc3642edfb7abc2864c2c0784c79fbb21612fb9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911554"
---
# <a name="installing-from-an-inf-file"></a><span data-ttu-id="af0ca-103">Instalación desde un archivo INF</span><span class="sxs-lookup"><span data-stu-id="af0ca-103">Installing From an INF File</span></span>

<span data-ttu-id="af0ca-104">Después de recuperar la información de instalación de un archivo INF, hay varias funciones de control de archivos que puede usar para instalar los archivos enumerados en una sección de INF.</span><span class="sxs-lookup"><span data-stu-id="af0ca-104">After you retrieve installation information from an INF file, there are several file-handling functions that you can use to install the files listed in an INF section.</span></span> <span data-ttu-id="af0ca-105">Las funciones de bajo nivel, como [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea) y [**SetupInstallFileEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfileexa) , instalan un único archivo.</span><span class="sxs-lookup"><span data-stu-id="af0ca-105">Low-level functions such as [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea) and [**SetupInstallFileEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfileexa) install a single file.</span></span>

<span data-ttu-id="af0ca-106">También hay funciones para administrar archivos comprimidos.</span><span class="sxs-lookup"><span data-stu-id="af0ca-106">There are also functions to handle compressed files.</span></span> <span data-ttu-id="af0ca-107">La función [**SetupGetFileCompressionInfo**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetfilecompressioninfoa) devuelve información acerca de los archivos comprimidos.</span><span class="sxs-lookup"><span data-stu-id="af0ca-107">The [**SetupGetFileCompressionInfo**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetfilecompressioninfoa) function returns information about compressed files.</span></span> <span data-ttu-id="af0ca-108">A continuación, [**SetupDecompressOrCopyFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupdecompressorcopyfilea) puede usar esta información para copiar y, si es necesario, expandir el archivo.</span><span class="sxs-lookup"><span data-stu-id="af0ca-108">This information can then be used by [**SetupDecompressOrCopyFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupdecompressorcopyfilea) to copy and, if necessary, expand the file.</span></span>

<span data-ttu-id="af0ca-109">Las funciones de alto nivel como [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona), [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona)y [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) procesan las operaciones de instalación en una sección de **instalación** o **servicio** .</span><span class="sxs-lookup"><span data-stu-id="af0ca-109">High-level functions such as [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona), [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona), and [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) process the installation operations in an **Install** or **Service** section.</span></span> <span data-ttu-id="af0ca-110">De estos, **SetupInstallFromInfSection** es el más versátil porque puede realizar cualquier tipo de operación de instalación enumerada en **la sección de instalación de** un archivo INF.</span><span class="sxs-lookup"><span data-stu-id="af0ca-110">Of these, **SetupInstallFromInfSection** is the most versatile because it can perform any type of installation operation listed in the **Install** section of an INF file.</span></span> <span data-ttu-id="af0ca-111">Esto incluye las operaciones de registro y de INI que aparecen en las líneas **AddReg**, **DelReg**, **UpdateInis** o **UpdateIniField** de una sección de **instalación** .</span><span class="sxs-lookup"><span data-stu-id="af0ca-111">This includes the registry and INI operations listed in the **AddReg**, **DelReg**, **UpdateInis**, or **UpdateIniField** lines of an **Install** section.</span></span>

<span data-ttu-id="af0ca-112">Las funciones [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona) y [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) ponen en cola las operaciones de una sección de **instalación** o **servicio** , respectivamente, en una cola de archivos existente.</span><span class="sxs-lookup"><span data-stu-id="af0ca-112">The [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona) and [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) functions queue operations from an **Install** or **Service** section, respectively, to an existing file queue.</span></span> <span data-ttu-id="af0ca-113">Tenga en cuenta que debe llamar a SetupInstallFromInfSection y SetupInstallServicesFromInfSection por separado para poner en cola las operaciones y los servicios.</span><span class="sxs-lookup"><span data-stu-id="af0ca-113">Note that you must call SetupInstallFromInfSection and SetupInstallServicesFromInfSection separately to queue operations and services.</span></span> <span data-ttu-id="af0ca-114">Para obtener más información, vea [colas de archivos](file-queues.md).</span><span class="sxs-lookup"><span data-stu-id="af0ca-114">For more information, see [File Queues](file-queues.md).</span></span>

<span data-ttu-id="af0ca-115">En cambio, la función [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) crea y destruye su propia cola interna.</span><span class="sxs-lookup"><span data-stu-id="af0ca-115">In contrast, the [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) function creates and destroys its own internal queue.</span></span> <span data-ttu-id="af0ca-116">Un uso común de **SetupInstallFromInfSection** es llamarlo después de que todos los archivos se hayan copiado correctamente para realizar las transacciones del registro y del archivo ini.</span><span class="sxs-lookup"><span data-stu-id="af0ca-116">A common use for **SetupInstallFromInfSection** is to call it after all files have been successfully copied to perform the registry and INI transactions.</span></span>

<span data-ttu-id="af0ca-117">En Windows 2000, los archivos DLL se pueden registrar automáticamente mediante una llamada a [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) en un archivo INF que incluye la directiva **RegisterDlls** en su sección **install** .</span><span class="sxs-lookup"><span data-stu-id="af0ca-117">On Windows 2000, DLL files may be self-registered by calling [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) on an INF file that includes the **RegisterDlls** directive in its **Install** section.</span></span> <span data-ttu-id="af0ca-118">**SetupInstallFromInfSection** también puede registrar automáticamente archivos dll de 32 bits de un proceso de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="af0ca-118">**SetupInstallFromInfSection** can also self-register 32-bit DLLs from a 64-bit process.</span></span>

<span data-ttu-id="af0ca-119">En los sistemas operativos de 64 bits, se puede llamar a [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) para realizar operaciones en la parte de 32 bits del registro.</span><span class="sxs-lookup"><span data-stu-id="af0ca-119">On 64-bit operating systems, [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) may be called to perform operations on the 32-bit portion of the registry.</span></span> <span data-ttu-id="af0ca-120">Para agregar una clave del registro a la parte de 32 bits del registro, incluya la \_ marca FLG ADDREG \_ 32BITKEY en la línea **AddReg** del archivo INF.</span><span class="sxs-lookup"><span data-stu-id="af0ca-120">To add a registry key to the 32-bit portion of the registry, include the FLG\_ADDREG\_32BITKEY flag in the **AddReg** line of the INF.</span></span> <span data-ttu-id="af0ca-121">Para eliminar una clave del registro solo en la parte de 32 bits del registro, incluya la \_ clave FLG DELREG \_ 32BITKEY en la línea **DELREG** .</span><span class="sxs-lookup"><span data-stu-id="af0ca-121">To delete a registry key only in the 32-bit portion of the registry, include the FLG\_DELREG\_32BITKEY key in the **DelReg** line.</span></span> <span data-ttu-id="af0ca-122">Para establecer o borrar un valor binario solo en la parte de 32 bits del registro, incluya FLG \_ BITREG \_ 32BITKEY en la línea **BITREG** .</span><span class="sxs-lookup"><span data-stu-id="af0ca-122">To set or clear a binary value only in the 32-bit portion of the registry, include the FLG\_BITREG\_32BITKEY in the **BitReg** line.</span></span>

<span data-ttu-id="af0ca-123">Además de las funciones enumeradas anteriormente, la API de instalación incluye funciones que ponen en cola las operaciones de instalación de archivos, ya sea por archivo o por sección de INF.</span><span class="sxs-lookup"><span data-stu-id="af0ca-123">In addition to the functions previously listed, the Setup API includes functions that queue file installation operations, either by file, or by INF section.</span></span> <span data-ttu-id="af0ca-124">Para obtener más información, vea [colas de archivos](file-queues.md).</span><span class="sxs-lookup"><span data-stu-id="af0ca-124">For more information, see [File Queues](file-queues.md).</span></span>

 

 



