---
description: El controlador de símbolos cargará los símbolos cuando se llame a la función SymInitialize con el parámetro fInvadeProcess establecido en TRUE o cuando se llame a la función SymLoadModuleEx para especificar un módulo.
ms.assetid: fae1895e-9fed-45e3-8ecf-4c6cc67a6094
title: Carga de símbolos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 705a7af3525c784b2bbcd512b267309a466a11c1
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104423223"
---
# <a name="symbol-loading"></a><span data-ttu-id="bf4b2-103">Carga de símbolos</span><span class="sxs-lookup"><span data-stu-id="bf4b2-103">Symbol Loading</span></span>

<span data-ttu-id="bf4b2-104">El controlador de símbolos cargará los símbolos cuando se llame a la función [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) con el parámetro *FInvadeProcess* establecido en **true** o cuando se llame a la función [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) para especificar un módulo.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-104">The symbol handler will load symbols when you call the [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) function with the *fInvadeProcess* parameter set to **TRUE** or when you call the [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) function to specify a module.</span></span> <span data-ttu-id="bf4b2-105">En cualquier caso, el controlador de símbolos carga los símbolos o pospone la carga de símbolos hasta que se solicitan símbolos, dependiendo de las opciones establecidas por la función [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) .</span><span class="sxs-lookup"><span data-stu-id="bf4b2-105">In either case, the symbol handler either loads the symbols or defers symbol loading until symbols are requested, depending on the options set by the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function.</span></span>

<span data-ttu-id="bf4b2-106">El controlador de símbolos se puede usar para recuperar información simbólica de cualquier módulo; no es necesario asociarlo a un proceso especificado en la llamada a [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) .</span><span class="sxs-lookup"><span data-stu-id="bf4b2-106">The symbol handler can be used to retrieve symbolic information for any module; it does not need to be associated with a process specified in the [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) call.</span></span> <span data-ttu-id="bf4b2-107">Para usar un módulo arbitrario, especifique la ruta de acceso completa a la imagen del módulo en el parámetro *ImageName* .</span><span class="sxs-lookup"><span data-stu-id="bf4b2-107">To use an arbitrary module, specify the full path to the module image in the *ImageName* parameter.</span></span> <span data-ttu-id="bf4b2-108">Puede usar una ruta de acceso a cualquier módulo ejecutable que tenga información de depuración (. exe,. dll,. drv,. sys,. SCR,. cpl o. com).</span><span class="sxs-lookup"><span data-stu-id="bf4b2-108">You can use a path to any executable module that has debugging information (.exe, .dll, .drv, .sys, .scr, .cpl, or .com).</span></span> <span data-ttu-id="bf4b2-109">Use el parámetro *BaseOfDll* para especificar cualquier dirección de carga y, a continuación, las direcciones de símbolos se basarán en esa dirección.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-109">Use the *BaseOfDll* parameter to specify any load address, then symbol addresses will be based from that address.</span></span>

<span data-ttu-id="bf4b2-110">Puede que no sea necesario mantener un módulo de símbolos cargado a lo largo de la duración de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-110">It may not be necessary to keep a symbol module loaded through the duration of an application.</span></span> <span data-ttu-id="bf4b2-111">Para liberar el módulo de símbolos de la lista de módulos del controlador de símbolos, utilice la función [**SymUnloadModule64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symunloadmodule) .</span><span class="sxs-lookup"><span data-stu-id="bf4b2-111">To release the symbol module from the symbol handler's list of modules, use the [**SymUnloadModule64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symunloadmodule) function.</span></span> <span data-ttu-id="bf4b2-112">Esta función libera la memoria asignada para el módulo Symbol.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-112">This function releases the memory allocated for the symbol module.</span></span> <span data-ttu-id="bf4b2-113">Para utilizar símbolos para ese módulo de nuevo, debe llamar a la función [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) incluso si se establece la opción de carga diferido de símbolos.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-113">To use symbols for that module again, you must call the [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) function even if the symbol deferred load option is set.</span></span>

## <a name="diagnosing-symbol-load-problems"></a><span data-ttu-id="bf4b2-114">Diagnóstico de problemas de carga de símbolos</span><span class="sxs-lookup"><span data-stu-id="bf4b2-114">Diagnosing Symbol Load Problems</span></span>

<span data-ttu-id="bf4b2-115">Para ver todos los intentos de carga de símbolos, llame a [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) con SYMOPT \_ Debug.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-115">To view all attempts to load symbols, call [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) with SYMOPT\_DEBUG.</span></span> <span data-ttu-id="bf4b2-116">Esto hace que DbgHelp llame a la función [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) con información detallada sobre las búsquedas de símbolos, como los directorios en los que está buscando y los mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-116">This causes DbgHelp to call the [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) function with detailed information on symbol searches, such as the directories it is searching and and error messages.</span></span> <span data-ttu-id="bf4b2-117">Si el código usa [**SymRegisterCallback64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symregistercallback), DbgHelp llamará a la función de devolución de llamada en lugar de llamar a **OutputDebugString**.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-117">If your code uses [**SymRegisterCallback64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symregistercallback), DbgHelp will call your callback function instead of calling **OutputDebugString**.</span></span> <span data-ttu-id="bf4b2-118">El parámetro *ActionCode* se establece en CBA \_ Debug \_ info y el parámetro *CallbackData* es una cadena que se puede mostrar.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-118">The *ActionCode* parameter is set to CBA\_DEBUG\_INFO and the *CallbackData* parameter is a string that can be displayed.</span></span>

<span data-ttu-id="bf4b2-119">Para habilitar esta salida de depuración para que se muestre en la consola sin cambiar el código fuente, establezca la \_ variable de entorno DBGHELP DBGOUT en un valor distinto de **null** antes de llamar a la función [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) .</span><span class="sxs-lookup"><span data-stu-id="bf4b2-119">To enable this debug output to be displayed to the console without changing your source code, set the DBGHELP\_DBGOUT environment variable to a non-**NULL** value before calling the [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) function.</span></span> <span data-ttu-id="bf4b2-120">Para registrar la información en un archivo, establezca la \_ variable de entorno del registro DBGHELP en el nombre del archivo de registro que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-120">To log the information to a file, set the DBGHELP\_LOG environment variable to the name of the log file to be used.</span></span>

<span data-ttu-id="bf4b2-121">Tenga en cuenta que estas características solo deben usarse cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-121">Note that these features should be used only when needed.</span></span> <span data-ttu-id="bf4b2-122">Pueden ralentizar la carga de símbolos de módulos que contienen muchos símbolos.</span><span class="sxs-lookup"><span data-stu-id="bf4b2-122">They may slow down symbol loading of modules that contain many symbols.</span></span>

 

 
