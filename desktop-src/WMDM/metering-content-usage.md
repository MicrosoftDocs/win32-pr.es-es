---
title: Uso del contenido de disponibilidad
description: Uso del contenido de disponibilidad
ms.assetid: f87b5d95-a497-4356-817f-49ac3819df08
keywords:
- Windows Media Administrador de dispositivos, uso de contenido de medición
- Administrador de dispositivos, uso del contenido de medición
- Guía de programación, uso de contenido de medición
- aplicaciones de escritorio, uso de contenido de medición
- crear aplicaciones de Windows Media Administrador de dispositivos, uso de contenido de medición
- uso del contenido de disponibilidad
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 649eee810e7bbdbc2ea93a32c6368ec345fa7364
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/09/2020
ms.locfileid: "105695795"
---
# <a name="metering-content-usage"></a><span data-ttu-id="0f742-109">Uso del contenido de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="0f742-109">Metering Content Usage</span></span>

<span data-ttu-id="0f742-110">Con la tecnología de Windows Media 10, ahora puede medir el uso de contenido en un dispositivo portátil.</span><span class="sxs-lookup"><span data-stu-id="0f742-110">With Windows Media 10 technology, you can now meter content usage on a portable device.</span></span> <span data-ttu-id="0f742-111">Si una licencia de Windows Media 10 permite la medición, el dispositivo puede almacenar el número de repeticiones de canciones y volver a cargar el uso en el emisor de la licencia a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="0f742-111">If a Windows Media 10 license allows metering, the device can store the play count for songs and upload usage back to the license issuer over the Internet.</span></span> <span data-ttu-id="0f742-112">Este sistema permite a los proveedores de contenido ajustar sus tarifas de regalías mediante la medición exacta del uso del contenido.</span><span class="sxs-lookup"><span data-stu-id="0f742-112">This system enables content providers to adjust their royalty fees by accurately measuring content usage.</span></span>

<span data-ttu-id="0f742-113">Para medir el contenido, la aplicación debe tener un certificado de medición proporcionado por un servicio de licencias basado en el SDK de Windows Media Rights Manager 10.</span><span class="sxs-lookup"><span data-stu-id="0f742-113">To meter content, the application must have a metering certificate provided by a licensing service built on the Windows Media Rights Manager 10 SDK.</span></span> <span data-ttu-id="0f742-114">Solo se puede medir el contenido con licencia de este mismo servicio.</span><span class="sxs-lookup"><span data-stu-id="0f742-114">Only content licensed by this same service can be metered.</span></span> <span data-ttu-id="0f742-115">Para obtener más información sobre cómo funciona la medición y cómo crear un servicio de medición de licencias, consulte la [documentación del SDK de Windows Media Rights Manager](/previous-versions/ms986509(v=msdn.10)) en MSDN.</span><span class="sxs-lookup"><span data-stu-id="0f742-115">For more information on how metering works, and how to build a license metering service, see the [Windows Media Rights Manager SDK documentation](/previous-versions/ms986509(v=msdn.10)) on MSDN.</span></span> <span data-ttu-id="0f742-116">El SDK se puede adquirir rellenando la información necesaria en la [Página de licencias de Windows Media](https://www.microsoft.com/licensing/default).</span><span class="sxs-lookup"><span data-stu-id="0f742-116">The SDK can be acquired by filling out the necessary information on the [Windows Media Licensing Page](https://www.microsoft.com/licensing/default).</span></span>

<span data-ttu-id="0f742-117">Una aplicación puede tener una medida integrada, o bien puede crear un complemento COM para una aplicación existente, como el Media Player de Windows, si la aplicación acepta complementos de medición.</span><span class="sxs-lookup"><span data-stu-id="0f742-117">An application can have metering built in to it, or you can build a COM plug-in for an existing application, such as the Windows Media Player, if the application accepts metering plug-ins.</span></span>

<span data-ttu-id="0f742-118">Una aplicación debe advertir a los usuarios si se medirá el uso del contenido.</span><span class="sxs-lookup"><span data-stu-id="0f742-118">An application should warn users if content usage will be metered.</span></span> <span data-ttu-id="0f742-119">Para obtener más información, vea las páginas web de Microsoft enumeradas en la [declaración de privacidad](privacy-statement.md).</span><span class="sxs-lookup"><span data-stu-id="0f742-119">For more information, see the Microsoft Web pages listed in the [Privacy Statement](privacy-statement.md).</span></span>

<span data-ttu-id="0f742-120">La adquisición de datos de medición desde un dispositivo puede ser lenta.</span><span class="sxs-lookup"><span data-stu-id="0f742-120">Acquiring metering data from a device can be slow.</span></span> <span data-ttu-id="0f742-121">Por lo tanto, si una aplicación mide el uso, debe hacerlo con frecuencia para evitar que una gran cantidad de datos se acumule en el dispositivo y ralentice la transferencia de datos.</span><span class="sxs-lookup"><span data-stu-id="0f742-121">Therefore, if an application meters usage, it should do so frequently to prevent large amounts of data from accumulating on the device and slowing down the data transfer.</span></span> <span data-ttu-id="0f742-122">Para evitar que las transferencias de datos sean demasiado lentas, los fabricantes de dispositivos pueden enviar subconjuntos de datos de disponibilidad disponibles.</span><span class="sxs-lookup"><span data-stu-id="0f742-122">To prevent data transfers that would be too slow, device manufacturers can send subsets of available metering data.</span></span> <span data-ttu-id="0f742-123">La aplicación debe supervisar las marcas recuperadas por [**IWMDRMDeviceApp::P rocessmeterresponse**](iwmdrmdeviceapp-processmeterresponse.md) para ver si hay más datos de medición que permanecen en el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0f742-123">The application should monitor the flags retrieved by [**IWMDRMDeviceApp::ProcessMeterResponse**](iwmdrmdeviceapp-processmeterresponse.md) to see if any more metering data remains on the device.</span></span>

<span data-ttu-id="0f742-124">En los pasos siguientes se muestra cómo una aplicación puede medir el uso de contenido.</span><span class="sxs-lookup"><span data-stu-id="0f742-124">The following steps show how an application can meter content usage.</span></span>

1.  <span data-ttu-id="0f742-125">Dado que la medición solo está disponible en los dispositivos que admiten Windows Media DRM 10 para dispositivos portátiles, la aplicación debe llamar a **QueryDeviceStatus**, como se describe en [control de contenido protegido en la aplicación](handling-protected-content-in-the-application.md), para asegurarse de que el dispositivo es válido y está actualizado.</span><span class="sxs-lookup"><span data-stu-id="0f742-125">Because metering is only available on devices that support Windows Media DRM 10 for Portable Devices, your application should at some point call **QueryDeviceStatus**, as described in [Handling Protected Content in the Application](handling-protected-content-in-the-application.md), to ensure that the device is valid and up to date.</span></span>
2.  <span data-ttu-id="0f742-126">Solicite información de disponibilidad del dispositivo mediante una llamada a [**IWMDRMDeviceApp:: GenerateMeterChallenge**](iwmdrmdeviceapp-generatemeterchallenge.md).</span><span class="sxs-lookup"><span data-stu-id="0f742-126">Request metering information from the device by calling [**IWMDRMDeviceApp::GenerateMeterChallenge**](iwmdrmdeviceapp-generatemeterchallenge.md).</span></span>
3.  <span data-ttu-id="0f742-127">Envíe los datos de medición recuperados al servicio de medición en la dirección URL recuperada por **GenerateMeterChallenge**.</span><span class="sxs-lookup"><span data-stu-id="0f742-127">Send the retrieved metering data to the metering service at the URL retrieved by **GenerateMeterChallenge**.</span></span> <span data-ttu-id="0f742-128">El formato de los datos enviados al servicio depende del scripting de ese servicio concreto.</span><span class="sxs-lookup"><span data-stu-id="0f742-128">The format of data sent to the service depends on the scripting on that particular service.</span></span> <span data-ttu-id="0f742-129">Por ejemplo, algunos servicios pueden requerir que los datos se envíen como un comando POST como un par nombre-valor.</span><span class="sxs-lookup"><span data-stu-id="0f742-129">For example, some services might require the data sent as a POST command as a name/value pair.</span></span> <span data-ttu-id="0f742-130">El proveedor de servicios debe permitirle conocer sus requisitos de formato concretos.</span><span class="sxs-lookup"><span data-stu-id="0f742-130">The service provider should let you know their particular formatting requirements.</span></span>
4.  <span data-ttu-id="0f742-131">Obtenga una respuesta del servicio de medición y envíelo al dispositivo llamando a [**IWMDRMDeviceApp::P rocessmeterresponse**](iwmdrmdeviceapp-processmeterresponse.md).</span><span class="sxs-lookup"><span data-stu-id="0f742-131">Get a response from the metering service, and send it to the device by calling [**IWMDRMDeviceApp::ProcessMeterResponse**](iwmdrmdeviceapp-processmeterresponse.md).</span></span> <span data-ttu-id="0f742-132">Esto hace que el dispositivo restablezca los recuentos de reproducción y también devuelve un valor que indica si hay más datos de disponibilidad en el dispositivo que se deben recuperar llamando a **GenerateMeterChallenge** de nuevo.</span><span class="sxs-lookup"><span data-stu-id="0f742-132">This causes the device to reset play counts, and also returns a value indicating whether more metering data exists on the device that should be retrieved by calling **GenerateMeterChallenge** again.</span></span>

<span data-ttu-id="0f742-133">Para obtener información y código de ejemplo para la medición, vea el [sitio web de Windows Media](/previous-versions//bb614723(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="0f742-133">For extensive information and sample code for metering, see the [Windows Media Web site](/previous-versions//bb614723(v=vs.85)).</span></span>

 

 