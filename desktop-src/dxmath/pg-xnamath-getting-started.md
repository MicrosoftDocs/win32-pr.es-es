---
title: Introducción (DirectXMath)
description: La biblioteca de DirectXMath implementa una interfaz óptima y portable para operaciones de álgebra aritmética y lineal en vectores de punto flotante de precisión sencilla (2D, 3D y 4D) o matrices (3 × 3 y 4 × 4).
ms.assetid: 9972e382-7a0f-88a7-ad44-18521af3520d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 05e599acfc498e28b33acfc5bbbba2bea5669d2a
ms.sourcegitcommit: 3bdf30edb314e0fcd17dc4ddbc70e4ec7d3596e6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/10/2021
ms.locfileid: "104361803"
---
# <a name="getting-started-directxmath"></a><span data-ttu-id="8c397-103">Introducción (DirectXMath)</span><span class="sxs-lookup"><span data-stu-id="8c397-103">Getting started (DirectXMath)</span></span>

<span data-ttu-id="8c397-104">La biblioteca de DirectXMath implementa una interfaz óptima y portable para operaciones de álgebra aritmética y lineal en vectores de punto flotante de precisión sencilla (2D, 3D y 4D) o matrices (3 × 3 y 4 × 4).</span><span class="sxs-lookup"><span data-stu-id="8c397-104">The DirectXMath Library implements an optimal and portable interface for arithmetic and linear algebra operations on single-precision floating-point vectors (2D, 3D, and 4D) or matrices (3×3 and 4×4).</span></span> <span data-ttu-id="8c397-105">La biblioteca tiene una compatibilidad limitada para las operaciones de vector de entero.</span><span class="sxs-lookup"><span data-stu-id="8c397-105">The library has some limited support for integer vector operations.</span></span> <span data-ttu-id="8c397-106">Estas operaciones se usan en gran medida en la representación y la animación de programas de gráficos.</span><span class="sxs-lookup"><span data-stu-id="8c397-106">These operations are used extensively in rendering and animation by graphics programs.</span></span> <span data-ttu-id="8c397-107">No se admiten vectores de precisión doble (incluidos Long, Short o bytes) y solo operaciones de vector de entero limitado.</span><span class="sxs-lookup"><span data-stu-id="8c397-107">There is no support for double-precision vectors (including longs, shorts, or bytes), and only limited integer vector operations.</span></span>

<span data-ttu-id="8c397-108">La biblioteca está disponible en una gran variedad de plataformas de Windows.</span><span class="sxs-lookup"><span data-stu-id="8c397-108">The library is available on a variety of Windows platforms.</span></span> <span data-ttu-id="8c397-109">Dado que la biblioteca proporciona funcionalidad que no está disponible anteriormente, esta versión sustituye a las siguientes bibliotecas:</span><span class="sxs-lookup"><span data-stu-id="8c397-109">Because the library provides functionality not available previously, this version supersedes the following libraries:</span></span>

-   <span data-ttu-id="8c397-110">Biblioteca matemática de Xbox proporcionada por el encabezado Xboxmath. h</span><span class="sxs-lookup"><span data-stu-id="8c397-110">Xbox Math library provided by the Xboxmath.h header</span></span>
-   <span data-ttu-id="8c397-111">Biblioteca D3DX 9 proporcionada por los archivos dll de D3DX 9</span><span class="sxs-lookup"><span data-stu-id="8c397-111">D3DX 9 library provided by the D3DX 9 DLLs</span></span>
-   <span data-ttu-id="8c397-112">Biblioteca matemática de D3DX 10 proporcionada a través de los archivos dll de D3DX 10</span><span class="sxs-lookup"><span data-stu-id="8c397-112">D3DX 10 math library provided through the D3DX 10 DLLs</span></span>
-   <span data-ttu-id="8c397-113">Biblioteca matemática de XNA proporcionada por el encabezado xnamath. h en el SDK de DirectX y Xbox 360 XDK</span><span class="sxs-lookup"><span data-stu-id="8c397-113">XNA Math library provided by the xnamath.h header in the DirectX SDK and Xbox 360 XDK</span></span>

<span data-ttu-id="8c397-114">En estas secciones se describen los conceptos básicos de introducción.</span><span class="sxs-lookup"><span data-stu-id="8c397-114">These sections outline the basics of getting started.</span></span>

-   [<span data-ttu-id="8c397-115">Descargar</span><span class="sxs-lookup"><span data-stu-id="8c397-115">Download</span></span>](#download)
-   [<span data-ttu-id="8c397-116">Requisitos del sistema en tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="8c397-116">Run-Time System Requirements</span></span>](#run-time-system-requirements)
-   [<span data-ttu-id="8c397-117">Información general sobre el diseño</span><span class="sxs-lookup"><span data-stu-id="8c397-117">Design Overview</span></span>](#design-overview)
-   [<span data-ttu-id="8c397-118">Convención de matriz</span><span class="sxs-lookup"><span data-stu-id="8c397-118">Matrix convention</span></span>](#matrix-convention)
-   [<span data-ttu-id="8c397-119">Uso básico</span><span class="sxs-lookup"><span data-stu-id="8c397-119">Basic Usage</span></span>](#basic-usage)
-   [<span data-ttu-id="8c397-120">Instrucciones de uso de tipos</span><span class="sxs-lookup"><span data-stu-id="8c397-120">Type Usage Guidelines</span></span>](#type-usage-guidelines)
-   [<span data-ttu-id="8c397-121">Crear vectores</span><span class="sxs-lookup"><span data-stu-id="8c397-121">Creating Vectors</span></span>](#creating-vectors)
    -   [<span data-ttu-id="8c397-122">VECTORES CONSTANTES</span><span class="sxs-lookup"><span data-stu-id="8c397-122">CONSTANT VECTORS</span></span>](#constant-vectors)
    -   [<span data-ttu-id="8c397-123">VECTORES DE VARIABLES</span><span class="sxs-lookup"><span data-stu-id="8c397-123">VECTORS FROM VARIABLES</span></span>](#vectors-from-variables)
    -   [<span data-ttu-id="8c397-124">VECTORES DE VECTORES</span><span class="sxs-lookup"><span data-stu-id="8c397-124">VECTORS FROM VECTORS</span></span>](#vectors-from-vectors)
    -   [<span data-ttu-id="8c397-125">VECTORES DE LA MEMORIA</span><span class="sxs-lookup"><span data-stu-id="8c397-125">VECTORS FROM MEMORY</span></span>](#vectors-from-memory)
-   [<span data-ttu-id="8c397-126">Extraer componentes de vectores</span><span class="sxs-lookup"><span data-stu-id="8c397-126">Extracting Components from Vectors</span></span>](#extracting-components-from-vectors)
-   [<span data-ttu-id="8c397-127">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="8c397-127">Related topics</span></span>](#related-topics)

## <a name="download"></a><span data-ttu-id="8c397-128">Descargar</span><span class="sxs-lookup"><span data-stu-id="8c397-128">Download</span></span>

<span data-ttu-id="8c397-129">La biblioteca de DirectXMath se incluye en el Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="8c397-129">The DirectXMath library is included in the Windows SDK.</span></span> <span data-ttu-id="8c397-130">También puede descargarlo desde [GitHub/Microsoft/DirectXMath](https://github.com/Microsoft/DirectXMath).</span><span class="sxs-lookup"><span data-stu-id="8c397-130">Alternatively you can download it from [GitHub/Microsoft/DirectXMath](https://github.com/Microsoft/DirectXMath).</span></span> <span data-ttu-id="8c397-131">Este sitio también contiene proyectos de ejemplo relacionados.</span><span class="sxs-lookup"><span data-stu-id="8c397-131">This site also contains related sample projects.</span></span>

## <a name="run-time-system-requirements"></a><span data-ttu-id="8c397-132">Requisitos del sistema de Run-Time</span><span class="sxs-lookup"><span data-stu-id="8c397-132">Run-Time System Requirements</span></span>

<span data-ttu-id="8c397-133">La biblioteca de DirectXMath usa instrucciones de procesador especializadas para las operaciones de vectores cuando están disponibles.</span><span class="sxs-lookup"><span data-stu-id="8c397-133">The DirectXMath Library uses specialized processor instructions for vector operations when they are available.</span></span> <span data-ttu-id="8c397-134">Para evitar que un programa genere errores de "excepción de instrucción desconocida", Compruebe la compatibilidad del procesador llamando a [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport) antes de usar la biblioteca de DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="8c397-134">To avoid having a program generate "unknown instruction exception" faults, check for processor support by calling [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport) before using the DirectXMath Library.</span></span>

<span data-ttu-id="8c397-135">Estos son los requisitos básicos de compatibilidad en tiempo de ejecución de la biblioteca de DirectXMath:</span><span class="sxs-lookup"><span data-stu-id="8c397-135">These are the basic DirectXMath Library run-time support requirements:</span></span>

-   <span data-ttu-id="8c397-136">La compilación predeterminada en una plataforma Windows (x86/x64) requiere la compatibilidad con instrucciones SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="8c397-136">Default compilation on a Windows (x86/x64) platform requires SSE/SSE2 instruction support.</span></span>
-   <span data-ttu-id="8c397-137">La conformidad predeterminada en una plataforma Windows RT requiere compatibilidad con instrucciones ARM-neón.</span><span class="sxs-lookup"><span data-stu-id="8c397-137">Default compliation on a Windows RT platform requires ARM-NEON instruction support.</span></span>
-   <span data-ttu-id="8c397-138">La compilación con [**\_ XM \_ no \_ intrínsecos \_**](ovw-xnamath-reference-directives.md) definido solo requiere compatibilidad con la operación de punto flotante estándar.</span><span class="sxs-lookup"><span data-stu-id="8c397-138">Compilation with [**\_XM\_NO\_INTRINSICS\_**](ovw-xnamath-reference-directives.md) defined requires only standard floating-point operation support.</span></span>

> [!Note]  
> <span data-ttu-id="8c397-139">Cuando llame a [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport), incluya <Windows. h> antes de incluir <la> DirectXMath. h.</span><span class="sxs-lookup"><span data-stu-id="8c397-139">When you call [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport), include <windows.h> before you include <DirectXMath.h>.</span></span> <span data-ttu-id="8c397-140">Esta es la única función de la biblioteca que requiere cualquier contenido de <Windows. h> por lo que no es necesario incluir <Windows. h> en cada módulo que use <DirectXMath. h>.</span><span class="sxs-lookup"><span data-stu-id="8c397-140">This is the only function in the library that requires any content from <windows.h> so you aren't required to include <windows.h> in every module that uses <DirectXMath.h>.</span></span>

 

## <a name="design-overview"></a><span data-ttu-id="8c397-141">Introducción al diseño</span><span class="sxs-lookup"><span data-stu-id="8c397-141">Design Overview</span></span>

<span data-ttu-id="8c397-142">La biblioteca de DirectXMath es compatible principalmente con el lenguaje de programación de C++.</span><span class="sxs-lookup"><span data-stu-id="8c397-142">The DirectXMath Library primarily supports the C++ programming language.</span></span> <span data-ttu-id="8c397-143">La biblioteca se implementa mediante rutinas insertadas en los archivos de encabezado, DirectXMath \* . INL, DirectXPackedVector. INL y DirectXCollision. INL.</span><span class="sxs-lookup"><span data-stu-id="8c397-143">The library is implemented using inline routines in the header files, DirectXMath\*.inl, DirectXPackedVector.inl and DirectXCollision.inl.</span></span> <span data-ttu-id="8c397-144">Esta implementación hace uso de las funciones intrínsecas del compilador de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8c397-144">This implementation makes use of high-performance compiler intrinsics.</span></span>

<span data-ttu-id="8c397-145">La biblioteca de DirectXMath proporciona:</span><span class="sxs-lookup"><span data-stu-id="8c397-145">The DirectXMath Library provides:</span></span>

-   <span data-ttu-id="8c397-146">Implementación de con los intrínsecos SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="8c397-146">An implementation using SSE/SSE2 intrinsics.</span></span>
-   <span data-ttu-id="8c397-147">Implementación sin intrínsecos.</span><span class="sxs-lookup"><span data-stu-id="8c397-147">An implementation without intrinsics.</span></span>
-   <span data-ttu-id="8c397-148">Una implementación de que usa intrínsecos ARM-neón.</span><span class="sxs-lookup"><span data-stu-id="8c397-148">An implementation using ARM-NEON intrinsics.</span></span>

<span data-ttu-id="8c397-149">Dado que la biblioteca se entrega mediante archivos de encabezado, use el código fuente para personalizar y optimizar para su propia aplicación.</span><span class="sxs-lookup"><span data-stu-id="8c397-149">Because the library is delivered using header files, use the source code to customize and optimize for your own app.</span></span>

## <a name="matrix-convention"></a><span data-ttu-id="8c397-150">Convención de matriz</span><span class="sxs-lookup"><span data-stu-id="8c397-150">Matrix convention</span></span>

<span data-ttu-id="8c397-151">DirectXMath usa matrices de filas principales, vectores de filas y premultiplicación.</span><span class="sxs-lookup"><span data-stu-id="8c397-151">DirectXMath uses row-major matrices, row vectors, and pre-multiplication.</span></span> <span data-ttu-id="8c397-152">La versión de la función se usa (RH frente a LH) y, en caso contrario, la función funciona con las coordenadas de la vista de la izquierda o de la mano derecha.</span><span class="sxs-lookup"><span data-stu-id="8c397-152">Handedness is determined by which function version is used (RH vs. LH), otherwise the function works with either left-handed or right-handed view coordinates.</span></span>

<span data-ttu-id="8c397-153">Como referencia, Direct3D ha utilizado históricamente el sistema de coordenadas de la mano izquierda, las matrices de filas principales, los vectores de fila y la multiplicación previa.</span><span class="sxs-lookup"><span data-stu-id="8c397-153">For reference, Direct3D has historically used left-handed coordinate system, row-major matrices, row vectors, and pre-multiplication.</span></span> <span data-ttu-id="8c397-154">La versión moderna de Direct3D no tiene un requisito sólido para las coordenadas izquierda frente a la mano derecha, y normalmente los sombreadores de HLSL usan matrices de columnas principales de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="8c397-154">Modern Direct3D does not have a strong requirement for left vs. right-handed coordinates, and typically HLSL shaders default to consuming column-major matrices.</span></span> <span data-ttu-id="8c397-155">Consulte [ordenación de matrices de HLSL](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-per-component-math) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="8c397-155">See [HLSL Matrix Ordering](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-per-component-math) for details.</span></span>

## <a name="basic-usage"></a><span data-ttu-id="8c397-156">Uso básico</span><span class="sxs-lookup"><span data-stu-id="8c397-156">Basic Usage</span></span>

<span data-ttu-id="8c397-157">Para usar las funciones de la biblioteca de DirectXMath, incluya los encabezados DirectXMath. h, DirectXPackedVector. h, DirectXColors. h y/o DirectXCollision. h.</span><span class="sxs-lookup"><span data-stu-id="8c397-157">To use DirectXMath Library functions, include the DirectXMath.h, DirectXPackedVector.h, DirectXColors.h, and/or DirectXCollision.h headers.</span></span> <span data-ttu-id="8c397-158">Los encabezados se encuentran en el kit de desarrollo de software de Windows para aplicaciones de la tienda Windows.</span><span class="sxs-lookup"><span data-stu-id="8c397-158">The headers are found in the Windows Software Development Kit for Windows Store apps.</span></span>

## <a name="type-usage-guidelines"></a><span data-ttu-id="8c397-159">Instrucciones de uso de tipos</span><span class="sxs-lookup"><span data-stu-id="8c397-159">Type Usage Guidelines</span></span>

<span data-ttu-id="8c397-160">Los tipos [**XMVECTOR**](xmvector-data-type.md) y [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) son los caballos de trabajo de la biblioteca de DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="8c397-160">The [**XMVECTOR**](xmvector-data-type.md) and [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) types are the work horses for the DirectXMath Library.</span></span> <span data-ttu-id="8c397-161">Cada operación consume o produce datos de estos tipos.</span><span class="sxs-lookup"><span data-stu-id="8c397-161">Every operation consumes or produces data of these types.</span></span> <span data-ttu-id="8c397-162">Trabajar con ellos es fundamental para usar la biblioteca.</span><span class="sxs-lookup"><span data-stu-id="8c397-162">Working with them is key to using the library.</span></span> <span data-ttu-id="8c397-163">Sin embargo, dado que DirectXMath usa los conjuntos de instrucciones SIMD, estos tipos de datos están sujetos a una serie de restricciones.</span><span class="sxs-lookup"><span data-stu-id="8c397-163">However, since DirectXMath makes use of the SIMD instruction sets, these data types are subject to a number of restrictions.</span></span> <span data-ttu-id="8c397-164">Es fundamental que comprenda estas restricciones si desea hacer un buen uso de las funciones de DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="8c397-164">It is critical that you understand these restrictions if you want to make good use of the DirectXMath functions.</span></span>

<span data-ttu-id="8c397-165">Debe pensar en [**XMVECTOR**](xmvector-data-type.md) como un proxy para un registro de hardware SIMD y [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) como proxy para una agrupación lógica de cuatro registros de hardware SIMD.</span><span class="sxs-lookup"><span data-stu-id="8c397-165">You should think of [**XMVECTOR**](xmvector-data-type.md) as a proxy for a SIMD hardware register, and [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as a proxy for a logical grouping of four SIMD hardware registers.</span></span> <span data-ttu-id="8c397-166">Estos tipos se anotan para indicar que requieren una alineación de 16 bytes para funcionar correctamente.</span><span class="sxs-lookup"><span data-stu-id="8c397-166">These types are annotated to indicate they require 16-byte alignment to work correctly.</span></span> <span data-ttu-id="8c397-167">El compilador los colocará automáticamente en la pila cuando se usen como una variable local, o se colocará en el segmento de datos cuando se usen como una variable global.</span><span class="sxs-lookup"><span data-stu-id="8c397-167">The compiler will automatically place them correctly on the stack when they are used as a local variable, or place them in the data segment when they are used as a global variable.</span></span> <span data-ttu-id="8c397-168">Con las convenciones adecuadas, también se pueden pasar de forma segura como parámetros a una función (consulte [convenciones de llamada](pg-xnamath-internals.md) para obtener más información).</span><span class="sxs-lookup"><span data-stu-id="8c397-168">With proper conventions, they can also be passed safely as parameters to a function (see [Calling Conventions](pg-xnamath-internals.md) for details).</span></span>

<span data-ttu-id="8c397-169">Sin embargo, las asignaciones del montón son más complicadas.</span><span class="sxs-lookup"><span data-stu-id="8c397-169">Allocations from the heap, however, are more complicated.</span></span> <span data-ttu-id="8c397-170">Por lo tanto, debe tener cuidado siempre que use [**XMVECTOR**](xmvector-data-type.md) o [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) como miembro de una clase o estructura que se va a asignar desde el montón.</span><span class="sxs-lookup"><span data-stu-id="8c397-170">As such, you need to be careful whenever you use either [**XMVECTOR**](xmvector-data-type.md) or [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as a member of a class or structure to be allocated from the heap.</span></span> <span data-ttu-id="8c397-171">En Windows x64, todas las asignaciones del montón tienen una alineación de 16 bytes, pero para windows x86, solo tienen una alineación de 8 bytes.</span><span class="sxs-lookup"><span data-stu-id="8c397-171">On Windows x64, all heap allocations are 16-byte aligned, but for Windows x86, they are only 8-byte aligned.</span></span> <span data-ttu-id="8c397-172">Hay opciones para asignar estructuras del montón con una alineación de 16 bytes (vea [alinear asignaciones correctamente](pg-xnamath-optimizing.md)).</span><span class="sxs-lookup"><span data-stu-id="8c397-172">There are options for allocating structures from the heap with 16-byte alignment (see [Properly Align Allocations](pg-xnamath-optimizing.md)).</span></span> <span data-ttu-id="8c397-173">En el caso de los programas de C++, puede usar sobrecargas de operador new/delete/New \[ \] /Delete \[ \] (tanto globales como específicas de la clase) para aplicar la alineación óptima si lo desea.</span><span class="sxs-lookup"><span data-stu-id="8c397-173">For C++ programs, you can use operator new/delete/new\[\]/delete\[\] overloads (either globally or class-specific) to enforce optimal alignment if desired.</span></span>

> [!Note]  
> <span data-ttu-id="8c397-174">Como alternativa a la aplicación de la alineación en la clase de C++ directamente mediante la sobrecarga de New/Delete, puede usar la [expresión pImpl](https://en.wikipedia.org/wiki/Opaque_pointer).</span><span class="sxs-lookup"><span data-stu-id="8c397-174">As an alternative to enforcing alignment in your C++ class directly by overloading new/delete, you can use the [pImpl idiom](https://en.wikipedia.org/wiki/Opaque_pointer).</span></span> <span data-ttu-id="8c397-175">Si se asegura de que la clase **impl** se alinee a través de [**\_ \_ malloc alineada**](/cpp/c-runtime-library/reference/aligned-malloc) internamente, puede utilizar libremente tipos alineados dentro de la implementación interna.</span><span class="sxs-lookup"><span data-stu-id="8c397-175">If you ensure your **Impl** class is aligned via [**\_aligned\_malloc**](/cpp/c-runtime-library/reference/aligned-malloc) internally, you can then freely use aligned types within the internal implementation.</span></span> <span data-ttu-id="8c397-176">Esta es una buena opción cuando la clase ' Public ' es una Windows Runtime clase Ref o está pensada para su uso con [**STD:: Shared \_ ptr<>**](/cpp/standard-library/shared-ptr-class), que de otro modo podría interrumpir la alineación minuciosa.</span><span class="sxs-lookup"><span data-stu-id="8c397-176">This is a good option when the 'public' class is a Windows Runtime ref class or intended for use with [**std::shared\_ptr<>**](/cpp/standard-library/shared-ptr-class), which can otherwise disrupt careful alignment.</span></span>

 

<span data-ttu-id="8c397-177">Sin embargo, a menudo es más fácil y más compacto evitar el uso de [**XMVECTOR**](xmvector-data-type.md) o [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) directamente en una clase o estructura.</span><span class="sxs-lookup"><span data-stu-id="8c397-177">However, often it is easier and more compact to avoid using [**XMVECTOR**](xmvector-data-type.md) or [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) directly in a class or structure.</span></span> <span data-ttu-id="8c397-178">En su lugar, use [**XMFLOAT3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat3), [**XMFLOAT4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4), [**XMFLOAT4X3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x3), [**XMFLOAT4X4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x4), etc., como miembros de la estructura.</span><span class="sxs-lookup"><span data-stu-id="8c397-178">Instead, make use of the [**XMFLOAT3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat3), [**XMFLOAT4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4), [**XMFLOAT4X3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x3), [**XMFLOAT4X4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x4), and so on, as members of your structure.</span></span> <span data-ttu-id="8c397-179">Además, puede usar las funciones de [carga vectorial](ovw-xnamath-reference-functions-load.md) y [almacenamiento vectorial](ovw-xnamath-reference-functions-storage.md) para trasladar los datos de forma eficaz a las variables locales de **XMVECTOR** o **XMMATRIX** , realizar cálculos y almacenar los resultados.</span><span class="sxs-lookup"><span data-stu-id="8c397-179">Further, you can use the [Vector Loading](ovw-xnamath-reference-functions-load.md) and [Vector Storage](ovw-xnamath-reference-functions-storage.md) functions to move the data efficiently into **XMVECTOR** or **XMMATRIX** local variables, perform computations, and store the results.</span></span> <span data-ttu-id="8c397-180">También hay funciones de transmisión por secuencias ([**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream), [**XMVector4TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector4transformstream), etc.) que operan de forma eficaz directamente en matrices de estos tipos de datos.</span><span class="sxs-lookup"><span data-stu-id="8c397-180">There are also streaming functions ([**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream), [**XMVector4TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector4transformstream), and so on) that efficiently operate directly on arrays of these data types.</span></span>

## <a name="creating-vectors"></a><span data-ttu-id="8c397-181">Crear vectores</span><span class="sxs-lookup"><span data-stu-id="8c397-181">Creating Vectors</span></span>

### <a name="constant-vectors"></a><span data-ttu-id="8c397-182">VECTORES CONSTANTES</span><span class="sxs-lookup"><span data-stu-id="8c397-182">CONSTANT VECTORS</span></span>

<span data-ttu-id="8c397-183">Muchas operaciones requieren el uso de constantes en los cálculos de vectores y hay varias formas de cargar un [**XMVECTOR**](xmvector-data-type.md) con los valores deseados.</span><span class="sxs-lookup"><span data-stu-id="8c397-183">Many operations require the use of constants in vector computations, and there are a number of ways to load an [**XMVECTOR**](xmvector-data-type.md) with the desired values.</span></span>

-   <span data-ttu-id="8c397-184">Si se carga una constante escalar en todos los elementos de un [**XMVECTOR**](xmvector-data-type.md), use [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) o [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span><span class="sxs-lookup"><span data-stu-id="8c397-184">If loading a scalar constant into all elements of an [**XMVECTOR**](xmvector-data-type.md), use [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) or [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span></span>
    ```
    XMVECTOR vFive = XMVectorReplicate( 5.f );
    ```

    

-   <span data-ttu-id="8c397-185">Si usa una constante de vector con valores fijos diferentes como [**XMVECTOR**](xmvector-data-type.md), use las estructuras [**XMVECTORF32**](xmvectorf32-data-type.md), [**XMVECTORU32**](xmvectoru32-data-type.md), **XMVECTORI32** o [**XMVECTORU8**](xmvectoru8-data-type.md) .</span><span class="sxs-lookup"><span data-stu-id="8c397-185">If using a vector constant with different fixed values as an [**XMVECTOR**](xmvector-data-type.md), use the [**XMVECTORF32**](xmvectorf32-data-type.md), [**XMVECTORU32**](xmvectoru32-data-type.md), **XMVECTORI32**, or [**XMVECTORU8**](xmvectoru8-data-type.md) structures.</span></span> <span data-ttu-id="8c397-186">A estos se les puede hacer referencia directamente en cualquier lugar en el que se pase un valor de **XMVECTOR** .</span><span class="sxs-lookup"><span data-stu-id="8c397-186">These can be then referenced directly anywhere you would pass an **XMVECTOR** value.</span></span>
    ```
    static const XMVECTORF32 vFactors = { 1.0f, 2.0f, 3.0f, 4.0f };
    ```

    

    > [!Note]  
    > <span data-ttu-id="8c397-187">No utilice las listas de inicializadores directamente con [**XMVECTOR**](xmvector-data-type.md) (es decir, XMVECTOR v = {1.0 f, 2.0 f, 3.0 f, 4.0 f}).</span><span class="sxs-lookup"><span data-stu-id="8c397-187">Do not use initializer lists directly with [**XMVECTOR**](xmvector-data-type.md) (that is, XMVECTOR v = { 1.0f, 2.0f, 3.0f, 4.0f }).</span></span> <span data-ttu-id="8c397-188">Este código es ineficaz y no es portable en todas las plataformas compatibles con DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="8c397-188">Such code is inefficient and is not portable across all platforms that are supported by DirectXMath.</span></span>

     

-   <span data-ttu-id="8c397-189">DirectXMath incluye una serie de constantes globales predefinidas que puede usar en el código (g \_ XMOne, g \_ XMOne3, g \_ XMTwo, g \_ XMOneHalf, g \_ XMHalfPi, g \_ XMPi, etc.).</span><span class="sxs-lookup"><span data-stu-id="8c397-189">DirectXMath includes a number of pre-defined global constants you can make use of in your code (g\_XMOne, g\_XMOne3, g\_XMTwo, g\_XMOneHalf, g\_XMHalfPi, g\_XMPi, and so on).</span></span> <span data-ttu-id="8c397-190">Busque en el encabezado DirectXMath. h los valores de **XMGLOBALCONSTANT** .</span><span class="sxs-lookup"><span data-stu-id="8c397-190">Search the DirectXMath.h header for the **XMGLOBALCONSTANT** values.</span></span>
-   <span data-ttu-id="8c397-191">Hay un conjunto de constantes vectoriales para los colores RGB comunes (rojo, verde, azul, amarillo, etc.).</span><span class="sxs-lookup"><span data-stu-id="8c397-191">There are a set of vector constants for common RGB colors (Red, Green, Blue, Yellow, and so on).</span></span> <span data-ttu-id="8c397-192">Para obtener más información sobre estas constantes de Vector, vea DirectXColors. h y el espacio de nombres DirectX:: colors.</span><span class="sxs-lookup"><span data-stu-id="8c397-192">For more info about these vector constants, see DirectXColors.h and the DirectX::Colors namespace.</span></span>

### <a name="vectors-from-variables"></a><span data-ttu-id="8c397-193">VECTORES DE VARIABLES</span><span class="sxs-lookup"><span data-stu-id="8c397-193">VECTORS FROM VARIABLES</span></span>

-   <span data-ttu-id="8c397-194">Si va a crear un vector a partir de una única variable escalar, consulte [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) y [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span><span class="sxs-lookup"><span data-stu-id="8c397-194">If creating a vector from a single scalar variable, see [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) and [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span></span>
    ```
    XMVECTOR v = XMVectorReplicate( f  );
    ```

    

-   <span data-ttu-id="8c397-195">Si va a crear un vector a partir de cuatro variables escalares, consulte [**XMVectorSet**](/windows/win32/api/directxmath/nf-directxmath-xmvectorset) y [**XMVectorSetInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsetint).</span><span class="sxs-lookup"><span data-stu-id="8c397-195">If creating a vector from four scalar variables, see [**XMVectorSet**](/windows/win32/api/directxmath/nf-directxmath-xmvectorset) and [**XMVectorSetInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsetint).</span></span>
    ```
    XMVECTOR v = XMVectorSet( fx, fy, fz, fw );
    ```

    

### <a name="vectors-from-vectors"></a><span data-ttu-id="8c397-196">VECTORES DE VECTORES</span><span class="sxs-lookup"><span data-stu-id="8c397-196">VECTORS FROM VECTORS</span></span>

-   <span data-ttu-id="8c397-197">Si crea un vector a partir de otro vector con un componente específico establecido en una variable, puede considerar el uso de [funciones de descriptor de acceso de vector](ovw-xnamath-reference-functions-accessors.md).</span><span class="sxs-lookup"><span data-stu-id="8c397-197">If creating a vector from another vector with a specific component set to a variable, you can consider using [Vector Accessor Functions](ovw-xnamath-reference-functions-accessors.md).</span></span>
    ```
    XMVECTOR v2 = XMVectorSetW( v1, fw );
    ```

    

-   <span data-ttu-id="8c397-198">Si crea un vector a partir de otro vector con un único componente replicado, use [**XMVectorSplatX**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatx), [**XMVectorSplatY**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplaty), [**XMVectorSplatZ**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatz)y [**XMVectorSplatW**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatw).</span><span class="sxs-lookup"><span data-stu-id="8c397-198">If creating a vector from another vector with a single component replicated, use [**XMVectorSplatX**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatx), [**XMVectorSplatY**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplaty), [**XMVectorSplatZ**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatz), and [**XMVectorSplatW**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatw).</span></span>
    ```
    XMVECTOR vz = XMVectorSplatZ( v );
    ```

    

-   <span data-ttu-id="8c397-199">Si crea un vector a partir de otro vector o par de vectores con componentes reordenados, consulte [**XMVectorSwizzle**](/windows/win32/api/directxmath/nf-directxmath-xmvectorswizzle) y [**XMVectorPermute**](/windows/win32/api/directxmath/nf-directxmath-xmvectorpermute).</span><span class="sxs-lookup"><span data-stu-id="8c397-199">If creating a vector from another vector or pair of vectors with reordered components, see [**XMVectorSwizzle**](/windows/win32/api/directxmath/nf-directxmath-xmvectorswizzle) and [**XMVectorPermute**](/windows/win32/api/directxmath/nf-directxmath-xmvectorpermute).</span></span>
    ```
    XMVECTOR v2 = XMVectorSwizzle<XM_SWIZZLE_Z, XM_SWIZZLE_Y, XM_SWIZZLE_W, XM_SWIZZLE_X>( v1 );

    XMVECTOR v3 = XMVectorPermute<XM_PERMUTE_0W, XM_PERMUTE_1X, XM_PERMUTE_0X, XM_PERMUTE_1Z>( v1, v2 );
    ```

    

### <a name="vectors-from-memory"></a><span data-ttu-id="8c397-200">VECTORES DE LA MEMORIA</span><span class="sxs-lookup"><span data-stu-id="8c397-200">VECTORS FROM MEMORY</span></span>

-   <span data-ttu-id="8c397-201">Para cargar un único valor Float de la memoria, consulte [**XMVectorReplicatePtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateptr), [**XMVectorReplicateIntPtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateintptr), [**XMLoadFloat**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat)y [**XMLoadInt**](/windows/win32/api/directxmath/nf-directxmath-xmloadint).</span><span class="sxs-lookup"><span data-stu-id="8c397-201">For loading a single float value from memory, see [**XMVectorReplicatePtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateptr), [**XMVectorReplicateIntPtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateintptr), [**XMLoadFloat**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat), and [**XMLoadInt**](/windows/win32/api/directxmath/nf-directxmath-xmloadint).</span></span>
-   <span data-ttu-id="8c397-202">Las formas comunes de cargar matrices Float son: [**XMLoadFloat2**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat2), [**XMLoadFloat3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3), [**XMLoadFloat4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4), [**XMLoadFloat3x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3x3), [**XMLoadFloat4x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x3)y [**XMLoadFloat4x4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x4).</span><span class="sxs-lookup"><span data-stu-id="8c397-202">Common ways to load float arrays are: [**XMLoadFloat2**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat2), [**XMLoadFloat3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3), [**XMLoadFloat4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4), [**XMLoadFloat3x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3x3), [**XMLoadFloat4x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x3), and [**XMLoadFloat4x4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x4).</span></span>
-   <span data-ttu-id="8c397-203">DirectXMath incluye un amplio conjunto de tipos y cargas y almacenes relacionados para administrar diversas estructuras de datos y formatos de GPU comunes.</span><span class="sxs-lookup"><span data-stu-id="8c397-203">DirectXMath includes a rich set of types and related loads and stores for handling various data-structures and common GPU formats.</span></span> <span data-ttu-id="8c397-204">Consulte la [carga de vectores](ovw-xnamath-reference-functions-load.md) y el [almacén de vectores](ovw-xnamath-reference-functions-storage.md).</span><span class="sxs-lookup"><span data-stu-id="8c397-204">See [Vector Load](ovw-xnamath-reference-functions-load.md) and [Vector Store](ovw-xnamath-reference-functions-storage.md).</span></span>

## <a name="extracting-components-from-vectors"></a><span data-ttu-id="8c397-205">Extraer componentes de vectores</span><span class="sxs-lookup"><span data-stu-id="8c397-205">Extracting Components from Vectors</span></span>

<span data-ttu-id="8c397-206">El procesamiento de SIMD es más eficaz cuando los datos se cargan en los registros SIMD y se procesan por completo antes de extraer los resultados.</span><span class="sxs-lookup"><span data-stu-id="8c397-206">SIMD processing is most efficient when data is loaded into the SIMD registers and fully processed before extracting the results.</span></span> <span data-ttu-id="8c397-207">La conversión entre las formas escalares y vectoriales es ineficaz, por lo que se recomienda hacerlo solo cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="8c397-207">Conversion between scalar and vector forms is inefficient, so we recommend that you do it only when required.</span></span> <span data-ttu-id="8c397-208">Por esta razón, las funciones de la biblioteca de DirectXMath que producen un valor escalar se devuelven en forma de vector en la que el resultado escalar se replica en el vector resultante (es decir, [**XMVector2Dot**](/windows/win32/api/directxmath/nf-directxmath-xmvector2dot), [**XMVector3Length**](/windows/win32/api/directxmath/nf-directxmath-xmvector3length), etc.).</span><span class="sxs-lookup"><span data-stu-id="8c397-208">For this reason, functions in the DirectXMath library that produce a scalar value are returned in a vector form where the scalar result is replicated across the resulting vector (that is, [**XMVector2Dot**](/windows/win32/api/directxmath/nf-directxmath-xmvector2dot), [**XMVector3Length**](/windows/win32/api/directxmath/nf-directxmath-xmvector3length), and so on).</span></span> <span data-ttu-id="8c397-209">Sin embargo, si necesita valores escalares, aquí se muestran algunas opciones sobre cómo hacerlo:</span><span class="sxs-lookup"><span data-stu-id="8c397-209">However, when you need scalar values, here are a few choices on how to go about it:</span></span>

-   <span data-ttu-id="8c397-210">Si se calcula una única respuesta escalar, el uso de las [funciones de descriptor de acceso de vector](ovw-xnamath-reference-functions-accessors.md) es adecuado:</span><span class="sxs-lookup"><span data-stu-id="8c397-210">If a single scalar answer is computed, use of the [Vector Accessor Functions](ovw-xnamath-reference-functions-accessors.md) is appropriate:</span></span>
    ```
    float f = XMVectorGetX( v );
    ```

    

-   <span data-ttu-id="8c397-211">Si es necesario extraer varios componentes del vector, considere la posibilidad de almacenar el vector en una estructura de memoria y leerlo de nuevo.</span><span class="sxs-lookup"><span data-stu-id="8c397-211">If multiple components of the vector are required to be extracted, consider storing the vector in a memory structure and reading it back.</span></span> <span data-ttu-id="8c397-212">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="8c397-212">For example:</span></span>
    ```
    XMFLOAT4A t;
    XMStoreFloat4A( &t, v );
    // t.x, t.y, t.z, and t.w can be individually accessed now
    ```

    

-   <span data-ttu-id="8c397-213">La forma más eficaz de procesamiento vectorial es usar el streaming de memoria a memoria, donde los datos de entrada se cargan desde la memoria (mediante [funciones de carga vectorial](ovw-xnamath-reference-functions-load.md)), se procesan completamente en formato SIMD y, a continuación, se escriben en la memoria (mediante [las funciones de almacenamiento vectorial](ovw-xnamath-reference-functions-storage.md)).</span><span class="sxs-lookup"><span data-stu-id="8c397-213">The most efficient form of vector processing is to use memory-to-memory streaming where the input data is loaded from memory (using [Vector Load Functions](ovw-xnamath-reference-functions-load.md)), processed fully in SIMD form, and then written to memory (using [Vector Store Functions](ovw-xnamath-reference-functions-storage.md)).</span></span>

## <a name="related-topics"></a><span data-ttu-id="8c397-214">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="8c397-214">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8c397-215">Guía de programación de DirectXMath</span><span class="sxs-lookup"><span data-stu-id="8c397-215">DirectXMath Programming Guide</span></span>](ovw-xnamath-progguide.md)
</dt> </dl>

 

 