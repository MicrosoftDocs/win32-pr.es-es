---
description: Un objeto mutex es un objeto de sincronización cuyo estado está establecido en señalado cuando no es propiedad de ningún subproceso y no señalizado cuando es propiedad de él.
ms.assetid: eca0795a-1fd0-4034-9d61-9416670919cf
title: Objetos mutex
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e84c17ba3e99e888f7d1e9137a7f24a4d78ce2d4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103911234"
---
# <a name="mutex-objects"></a><span data-ttu-id="8623c-103">Objetos mutex</span><span class="sxs-lookup"><span data-stu-id="8623c-103">Mutex Objects</span></span>

<span data-ttu-id="8623c-104">Un *objeto mutex* es un objeto de sincronización cuyo estado está establecido en señalado cuando no es propiedad de ningún subproceso y no señalizado cuando es propiedad de él.</span><span class="sxs-lookup"><span data-stu-id="8623c-104">A *mutex object* is a synchronization object whose state is set to signaled when it is not owned by any thread, and nonsignaled when it is owned.</span></span> <span data-ttu-id="8623c-105">Solo un subproceso a la vez puede poseer un objeto mutex, cuyo nombre procede del hecho de que es útil para coordinar el acceso mutuamente exclusivo a un recurso compartido.</span><span class="sxs-lookup"><span data-stu-id="8623c-105">Only one thread at a time can own a mutex object, whose name comes from the fact that it is useful in coordinating mutually exclusive access to a shared resource.</span></span> <span data-ttu-id="8623c-106">Por ejemplo, para evitar que dos subprocesos escriban en memoria compartida al mismo tiempo, cada subproceso espera a la propiedad de un objeto de exclusión mutua antes de ejecutar el código que tiene acceso a la memoria.</span><span class="sxs-lookup"><span data-stu-id="8623c-106">For example, to prevent two threads from writing to shared memory at the same time, each thread waits for ownership of a mutex object before executing the code that accesses the memory.</span></span> <span data-ttu-id="8623c-107">Después de escribir en la memoria compartida, el subproceso libera el objeto mutex.</span><span class="sxs-lookup"><span data-stu-id="8623c-107">After writing to the shared memory, the thread releases the mutex object.</span></span>

<span data-ttu-id="8623c-108">Un subproceso utiliza la función [**CreateMutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa) o [**CreateMutexEx**](/windows/win32/api/synchapi/nf-synchapi-createmutexexa) para crear un objeto mutex.</span><span class="sxs-lookup"><span data-stu-id="8623c-108">A thread uses the [**CreateMutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa) or [**CreateMutexEx**](/windows/win32/api/synchapi/nf-synchapi-createmutexexa) function to create a mutex object.</span></span> <span data-ttu-id="8623c-109">El subproceso de creación puede solicitar la propiedad inmediata del objeto mutex y también puede especificar un nombre para el objeto mutex.</span><span class="sxs-lookup"><span data-stu-id="8623c-109">The creating thread can request immediate ownership of the mutex object and can also specify a name for the mutex object.</span></span> <span data-ttu-id="8623c-110">También puede crear una exclusión mutua sin nombre.</span><span class="sxs-lookup"><span data-stu-id="8623c-110">It can also create an unnamed mutex.</span></span> <span data-ttu-id="8623c-111">Para obtener más información sobre los nombres de los objetos mutex, Event, Semaphore y Timer, consulte [sincronización entre procesos](interprocess-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="8623c-111">For additional information about names for mutex, event, semaphore, and timer objects, see [Interprocess Synchronization](interprocess-synchronization.md).</span></span>

<span data-ttu-id="8623c-112">Los subprocesos de otros procesos pueden abrir un identificador de un objeto de exclusión mutua con nombre existente especificando su nombre en una llamada a la función [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw) .</span><span class="sxs-lookup"><span data-stu-id="8623c-112">Threads in other processes can open a handle to an existing named mutex object by specifying its name in a call to the [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw) function.</span></span> <span data-ttu-id="8623c-113">Para pasar un identificador a una exclusión mutua sin nombre a otro proceso, utilice la función [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) o la herencia de controladores de elementos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="8623c-113">To pass a handle to an unnamed mutex to another process, use the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function or parent-child handle inheritance.</span></span>

<span data-ttu-id="8623c-114">Cualquier subproceso con un identificador a un objeto mutex puede utilizar una de las [funciones wait](wait-functions.md) para solicitar la propiedad del objeto mutex.</span><span class="sxs-lookup"><span data-stu-id="8623c-114">Any thread with a handle to a mutex object can use one of the [wait functions](wait-functions.md) to request ownership of the mutex object.</span></span> <span data-ttu-id="8623c-115">Si el objeto mutex es propiedad de otro subproceso, la función wait bloquea el subproceso que hace la solicitud hasta que el subproceso propietario libera el objeto mutex mediante la función [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) .</span><span class="sxs-lookup"><span data-stu-id="8623c-115">If the mutex object is owned by another thread, the wait function blocks the requesting thread until the owning thread releases the mutex object using the [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) function.</span></span> <span data-ttu-id="8623c-116">El valor devuelto de la función wait indica si la función devolvió por alguna razón distinta del estado de la exclusión mutua establecida en signald.</span><span class="sxs-lookup"><span data-stu-id="8623c-116">The return value of the wait function indicates whether the function returned for some reason other than the state of the mutex being set to signaled.</span></span>

<span data-ttu-id="8623c-117">Si hay más de un subproceso esperando en una exclusión mutua, se selecciona un subproceso en espera.</span><span class="sxs-lookup"><span data-stu-id="8623c-117">If more than one thread is waiting on a mutex, a waiting thread is selected.</span></span> <span data-ttu-id="8623c-118">No asuma un orden FIFO (primero en salir, primero en salir).</span><span class="sxs-lookup"><span data-stu-id="8623c-118">Do not assume a first-in, first-out (FIFO) order.</span></span> <span data-ttu-id="8623c-119">Los eventos externos como APC en modo kernel pueden cambiar el orden de espera.</span><span class="sxs-lookup"><span data-stu-id="8623c-119">External events such as kernel-mode APCs can change the wait order.</span></span>

<span data-ttu-id="8623c-120">Una vez que un subproceso obtiene la propiedad de una exclusión mutua, puede especificar la misma exclusión mutua en llamadas repetidas a las [funciones de espera](wait-functions.md) sin bloquear su ejecución.</span><span class="sxs-lookup"><span data-stu-id="8623c-120">After a thread obtains ownership of a mutex, it can specify the same mutex in repeated calls to the [wait-functions](wait-functions.md) without blocking its execution.</span></span> <span data-ttu-id="8623c-121">Esto evita que un subproceso se interbloquee a sí mismo mientras espera una exclusión mutua que ya posee.</span><span class="sxs-lookup"><span data-stu-id="8623c-121">This prevents a thread from deadlocking itself while waiting for a mutex that it already owns.</span></span> <span data-ttu-id="8623c-122">Para liberar su propiedad en estas circunstancias, el subproceso debe llamar a [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) una vez para cada vez que la exclusión mutua satisfaga las condiciones de una función de espera.</span><span class="sxs-lookup"><span data-stu-id="8623c-122">To release its ownership under such circumstances, the thread must call [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) once for each time that the mutex satisfied the conditions of a wait function.</span></span>

<span data-ttu-id="8623c-123">Si un subproceso finaliza sin liberar su propiedad de un objeto mutex, se considera que el objeto mutex está abandonado.</span><span class="sxs-lookup"><span data-stu-id="8623c-123">If a thread terminates without releasing its ownership of a mutex object, the mutex object is considered to be abandoned.</span></span> <span data-ttu-id="8623c-124">Un subproceso en espera puede adquirir la propiedad de un objeto de exclusión mutua abandonada, pero la función wait devolverá **Wait \_ abandonado** para indicar que se ha abandonado el objeto mutex.</span><span class="sxs-lookup"><span data-stu-id="8623c-124">A waiting thread can acquire ownership of an abandoned mutex object, but the wait function will return **WAIT\_ABANDONED** to indicate that the mutex object is abandoned.</span></span> <span data-ttu-id="8623c-125">Un objeto de exclusión mutua abandonada indica que se ha producido un error y que los recursos compartidos protegidos por el objeto mutex están en un estado indefinido.</span><span class="sxs-lookup"><span data-stu-id="8623c-125">An abandoned mutex object indicates that an error has occurred and that any shared resource being protected by the mutex object is in an undefined state.</span></span> <span data-ttu-id="8623c-126">Si el subproceso continúa como si no se hubiera abandonado el objeto mutex, ya no se considera abandonado después de que el subproceso libere su propiedad.</span><span class="sxs-lookup"><span data-stu-id="8623c-126">If the thread proceeds as though the mutex object had not been abandoned, it is no longer considered abandoned after the thread releases its ownership.</span></span> <span data-ttu-id="8623c-127">Esto restaura el comportamiento normal si un identificador del objeto de exclusión mutua se especifica posteriormente en una función de espera.</span><span class="sxs-lookup"><span data-stu-id="8623c-127">This restores normal behavior if a handle to the mutex object is subsequently specified in a wait function.</span></span>

<span data-ttu-id="8623c-128">Tenga en cuenta que los [objetos de sección crítica](critical-section-objects.md) proporcionan una sincronización similar a la que proporcionan los objetos de exclusión mutua, salvo que los objetos de sección crítica solo los pueden usar los subprocesos de un único proceso.</span><span class="sxs-lookup"><span data-stu-id="8623c-128">Note that [critical section objects](critical-section-objects.md) provide synchronization similar to that provided by mutex objects, except that critical section objects can be used only by the threads of a single process.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8623c-129">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="8623c-129">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8623c-130">Usar objetos mutex</span><span class="sxs-lookup"><span data-stu-id="8623c-130">Using Mutex Objects</span></span>](using-mutex-objects.md)
</dt> </dl>

 

 
