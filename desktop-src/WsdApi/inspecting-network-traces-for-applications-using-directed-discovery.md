---
description: Obtenga información sobre cómo inspeccionar seguimientos de red mediante la detección directa. Un analizador de paquetes de red que muestra paquetes sin procesar puede inspeccionar las solicitudes de intercambio de metadatos HTTP.
ms.assetid: 9b124117-06e7-4637-9863-0f9650861526
title: Inspección de seguimientos de red para aplicaciones mediante la detección dirigida
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 02d94ea3bc102c57c415be518883296e049490ca
ms.sourcegitcommit: d0eb44d0a95f5e5efbfec3d3e9c143f5cba25bc3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/17/2021
ms.locfileid: "112262127"
---
# <a name="inspecting-network-traces-for-applications-using-directed-discovery"></a><span data-ttu-id="ea209-104">Inspección de seguimientos de red para aplicaciones mediante la detección dirigida</span><span class="sxs-lookup"><span data-stu-id="ea209-104">Inspecting Network Traces for Applications Using Directed Discovery</span></span>

<span data-ttu-id="ea209-105">Cualquier analizador de paquetes de red que pueda mostrar paquetes sin procesar se puede usar para inspeccionar las solicitudes de intercambio de metadatos HTTP.</span><span class="sxs-lookup"><span data-stu-id="ea209-105">Any network packet analyzer that can display raw packets can be used to inspect HTTP metadata exchange requests.</span></span> <span data-ttu-id="ea209-106">Monitor de red de Microsoft 3 (Netmon) se recomienda.</span><span class="sxs-lookup"><span data-stu-id="ea209-106">Microsoft Network Monitor 3 (Netmon) is recommended.</span></span> <span data-ttu-id="ea209-107">Para obtener más información sobre Netmon, consulte [Descarga de netmon y filtros DPWS de ejemplo.](downloading-netmon-and-sample-dpws-filters.md)</span><span class="sxs-lookup"><span data-stu-id="ea209-107">For more information about Netmon, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>

<span data-ttu-id="ea209-108">**Para inspeccionar los seguimientos de red para la detección dirigida**</span><span class="sxs-lookup"><span data-stu-id="ea209-108">**To inspect network traces for directed discovery**</span></span>

1.  <span data-ttu-id="ea209-109">Configure el host y el cliente para que se ejecuten a través de la red (es decir, asegúrese de que el host y el cliente funcionarán en equipos diferentes).</span><span class="sxs-lookup"><span data-stu-id="ea209-109">Configure the host and client to run across the network (that is, make sure that the host and client will operate on different machines).</span></span>
2.  <span data-ttu-id="ea209-110">Instale el analizador de paquetes (Netmon) en el cliente o el host.</span><span class="sxs-lookup"><span data-stu-id="ea209-110">Install the packet analyzer (Netmon) on either the client or the host.</span></span>
3.  <span data-ttu-id="ea209-111">Configure el analizador de paquetes para capturar el tráfico en el adaptador de red que conecta el host y el cliente.</span><span class="sxs-lookup"><span data-stu-id="ea209-111">Configure the packet analyzer to capture traffic on the network adapter connecting the host and the client.</span></span>
4.  <span data-ttu-id="ea209-112">Reproduzca el error iniciando el host y el cliente o presionando F5 en el Explorador de red.</span><span class="sxs-lookup"><span data-stu-id="ea209-112">Reproduce the failure by starting the host and client or by pressing F5 in the Network Explorer.</span></span>
5.  <span data-ttu-id="ea209-113">Filtre los resultados para aislar el tráfico WS-Discovery de intercambio de metadatos.</span><span class="sxs-lookup"><span data-stu-id="ea209-113">Filter the results to isolate WS-Discovery and metadata exchange traffic.</span></span> <span data-ttu-id="ea209-114">Para ver los filtros de Netmon de ejemplo, consulte [Descarga de netmon y filtros DPWS de ejemplo.](downloading-netmon-and-sample-dpws-filters.md)</span><span class="sxs-lookup"><span data-stu-id="ea209-114">To view sample Netmon filters, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>
    > [!Note]  
    > <span data-ttu-id="ea209-115">Este paso es opcional.</span><span class="sxs-lookup"><span data-stu-id="ea209-115">This step is optional.</span></span>

     

6.  <span data-ttu-id="ea209-116">Compruebe que los mensajes enviados entre el cliente y el host cumplen los requisitos básicos de tráfico.</span><span class="sxs-lookup"><span data-stu-id="ea209-116">Verify that messages sent between client and host meet basic traffic requirements.</span></span>

## <a name="verifying-that-messages-meet-traffic-requirements"></a><span data-ttu-id="ea209-117">Comprobación de que los mensajes cumplen los requisitos de tráfico</span><span class="sxs-lookup"><span data-stu-id="ea209-117">Verifying that messages meet traffic requirements</span></span>

<span data-ttu-id="ea209-118">Los clientes y hosts de WSDAPI deben enviar mensajes que cumplan los criterios siguientes.</span><span class="sxs-lookup"><span data-stu-id="ea209-118">WSDAPI clients and hosts must send messages that conform to the following criteria.</span></span> <span data-ttu-id="ea209-119">Para obtener información general sobre los patrones de mensaje, vea Patrones de mensajes de intercambio de [metadatos y detección.](discovery-and-metadata-exchange-message-patterns.md)</span><span class="sxs-lookup"><span data-stu-id="ea209-119">For general information about message patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

-   <span data-ttu-id="ea209-120">[Los](probe-message.md) mensajes de sondeo deben enviarse mediante HTTP o HTTPS, normalmente al puerto 5357 o 5358.</span><span class="sxs-lookup"><span data-stu-id="ea209-120">[Probe](probe-message.md) messages must be sent by HTTP or HTTPS, usually to port 5357 or 5358.</span></span>
-   <span data-ttu-id="ea209-121">El **elemento Types** de un mensaje [probe](probe-message.md) debe estar presente y no debe estar vacío.</span><span class="sxs-lookup"><span data-stu-id="ea209-121">The **Types** element of a [Probe](probe-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="ea209-122">Debe contener los tipos a los que responderá un host.</span><span class="sxs-lookup"><span data-stu-id="ea209-122">It must contain the types to which a host will respond.</span></span>
-   <span data-ttu-id="ea209-123">Se [debe enviar un mensaje ProbeMatches](probematches-message.md) al puerto HTTP o HTTPS desde el que se envió el sondeo. [](probe-message.md)</span><span class="sxs-lookup"><span data-stu-id="ea209-123">A [ProbeMatches](probematches-message.md) message must be sent to the HTTP or HTTPS port from which the [Probe](probe-message.md) was sent.</span></span>
-   <span data-ttu-id="ea209-124">El **elemento RelatesTo** de un [mensaje ProbeMatches](probematches-message.md) debe estar presente y no debe estar vacío.</span><span class="sxs-lookup"><span data-stu-id="ea209-124">The **RelatesTo** element of a [ProbeMatches](probematches-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="ea209-125">Su valor debe coincidir con el valor del **elemento MessageId** del mensaje [probe](probe-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="ea209-125">Its value must match the value of the **MessageId** element from the corresponding [Probe](probe-message.md) message.</span></span>
-   <span data-ttu-id="ea209-126">Si se **incluyó un elemento XAddrs** en el mensaje [ProbeMatches,](probematches-message.md) se deben validar las direcciones de transporte proporcionadas.</span><span class="sxs-lookup"><span data-stu-id="ea209-126">If an **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, the supplied transport addresses must be validated.</span></span> <span data-ttu-id="ea209-127">Para obtener más información, vea [Reglas de validación de XAddr](xaddr-validation-rules.md).</span><span class="sxs-lookup"><span data-stu-id="ea209-127">For more information, see [XAddr Validation Rules](xaddr-validation-rules.md).</span></span>
-   <span data-ttu-id="ea209-128">Un [mensaje ProbeMatches](probematches-message.md) debe enviarse en un plazo de 4 segundos desde el mensaje [de sondeo](probe-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="ea209-128">A [ProbeMatches](probematches-message.md) message must be sent within 4 seconds of the corresponding [Probe](probe-message.md) message.</span></span> <span data-ttu-id="ea209-129">El Firewall de Windows puede quitar un mensaje ProbeMatches enviado más de 4 segundos después de un mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="ea209-129">The Windows Firewall may drop a ProbeMatches message sent more than 4 seconds after a Probe message.</span></span>
-   <span data-ttu-id="ea209-130">Si no se incluyó ningún elemento **XAddrs** en el mensaje [ProbeMatches](probematches-message.md) y el cliente o host enviará un mensaje HTTP (como una solicitud get [metadata](get--metadata-exchange--http-request-and-message.md) exchange o un mensaje de servicio), el cliente o host debe enviar un mensaje [Resolve](resolve-message.md) mediante HTTP o HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ea209-130">If no **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, and the client or host will send an HTTP message (such as a [Get](get--metadata-exchange--http-request-and-message.md) metadata exchange request or a service message), then the client or host must send a [Resolve](resolve-message.md) message by HTTP or HTTPS.</span></span> <span data-ttu-id="ea209-131">Este mensaje normalmente se envía al puerto 5357 o 5358.</span><span class="sxs-lookup"><span data-stu-id="ea209-131">This message is usually sent to port 5357 or 5358.</span></span>
-   <span data-ttu-id="ea209-132">Si se [envía un](resolve-message.md) mensaje Resolver, se debe enviar un mensaje [ResolveMatches](resolvematches-message.md) al puerto HTTP o HTTPS desde el que se envió el mensaje Resolver.</span><span class="sxs-lookup"><span data-stu-id="ea209-132">If a [Resolve](resolve-message.md) message is sent, then a [ResolveMatches](resolvematches-message.md) message must be sent to the HTTP or HTTPS port from which the Resolve message was sent.</span></span>
-   <span data-ttu-id="ea209-133">Un [mensaje ResolveMatches](resolvematches-message.md) debe enviarse en un plazo de 4 segundos desde el mensaje [Resolve](resolve-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="ea209-133">A [ResolveMatches](resolvematches-message.md) message must be sent within 4 seconds of the corresponding [Resolve](resolve-message.md) message.</span></span> <span data-ttu-id="ea209-134">El Firewall de Windows puede quitar un mensaje ResolveMatchesmessage enviado más de 4 segundos después de un mensaje resolver.</span><span class="sxs-lookup"><span data-stu-id="ea209-134">The Windows Firewall may drop a ResolveMatchesmessage sent more than 4 seconds after a Resolve message.</span></span>

<span data-ttu-id="ea209-135">Si los mensajes enviados por el programa no cumplen estos requisitos de mensaje, la causa del problema se ha identificado correctamente y no es necesario realizar más pasos de solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="ea209-135">If the messages sent by the program do not conform to these message requirements, the cause of the problem has been successfully identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="ea209-136">Vuelva a escribir el programa para que genere mensajes compatibles y vuelva a probar el programa.</span><span class="sxs-lookup"><span data-stu-id="ea209-136">Rewrite the program so that it generates conformant messages and retest the program.</span></span>

<span data-ttu-id="ea209-137">Si el origen del problema todavía no se puede identificar, póngase en contacto con el soporte técnico de Microsoft para obtener ayuda.</span><span class="sxs-lookup"><span data-stu-id="ea209-137">If the source of the problem still cannot be identified, contact Microsoft support for assistance.</span></span> <span data-ttu-id="ea209-138">Antes de ponerse en contacto con el soporte técnico, recopile los archivos de registro adecuados para ayudar a identificar la causa principal del problema.</span><span class="sxs-lookup"><span data-stu-id="ea209-138">Before contacting support, collect the appropriate log files to help identify the root cause of the problem.</span></span> <span data-ttu-id="ea209-139">Para obtener más información, vea [Habilitación del seguimiento de WSDAPI.](enabling-wsdapi-tracing.md)</span><span class="sxs-lookup"><span data-stu-id="ea209-139">For more information, see [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="ea209-140">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ea209-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ea209-141">Solución de problemas de aplicaciones mediante la detección dirigida</span><span class="sxs-lookup"><span data-stu-id="ea209-141">Troubleshooting Applications Using Directed Discovery</span></span>](troubleshooting-applications-using-directed-discovery.md)
</dt> <dt>

[<span data-ttu-id="ea209-142">Procedimientos de diagnóstico de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="ea209-142">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="ea209-143">Tareas iniciales solución de problemas de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="ea209-143">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> <dt>

[<span data-ttu-id="ea209-144">Descarga de netmon y filtros DPWS de ejemplo</span><span class="sxs-lookup"><span data-stu-id="ea209-144">Downloading Netmon and Sample DPWS Filters</span></span>](downloading-netmon-and-sample-dpws-filters.md)
</dt> </dl>

 

 



