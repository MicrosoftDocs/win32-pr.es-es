---
title: Conexiones de red privada virtual
description: El servicio de acceso remoto (RAS) admite conexiones de red privada virtual (VPN) además de conexiones de acceso remoto convencionales que utilizan Protocolo punto a punto (PPP).
ms.assetid: c1195ebb-3107-4429-bc67-b64577d66268
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09f5fc0b80a6eb00e7587e941eea39c056a11d14
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104077866"
---
# <a name="virtual-private-network-connections"></a><span data-ttu-id="93049-103">Conexiones de red privada virtual</span><span class="sxs-lookup"><span data-stu-id="93049-103">Virtual Private Network Connections</span></span>

<span data-ttu-id="93049-104">El servicio de acceso remoto (RAS) admite conexiones de red privada virtual (VPN) además de conexiones de acceso remoto convencionales que utilizan Protocolo punto a punto (PPP).</span><span class="sxs-lookup"><span data-stu-id="93049-104">The Remote Access Service (RAS) supports Virtual Private Network (VPN) connections in addition to conventional remote access connections that use Point-to-Point Protocol (PPP).</span></span> <span data-ttu-id="93049-105">En una conexión VPN, los paquetes VPN se encapsulan en paquetes IP y se envían a través de una red IP como Internet.</span><span class="sxs-lookup"><span data-stu-id="93049-105">In a VPN connection, the VPN packets are encapsulated in IP packets and sent across an IP network such as the Internet.</span></span> <span data-ttu-id="93049-106">Por lo tanto, el acceso a una red IP es un requisito para establecer una conexión VPN.</span><span class="sxs-lookup"><span data-stu-id="93049-106">Therefore, access to an IP network is a requirement in order to establish a VPN connection.</span></span> <span data-ttu-id="93049-107">Si el equipo cliente tiene una conexión siempre activada a una red IP, por ejemplo, una conexión a una LAN IP, el cliente puede establecer la conexión VPN mediante una única llamada a la función [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="93049-107">If the client computer has an always-on connection to an IP network, for example a connection to an IP LAN, the client can establish the VPN connection using a single call to the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function.</span></span>

<span data-ttu-id="93049-108">Si el equipo cliente no tiene una conexión siempre activada a una red IP, se necesitan dos llamadas a [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) para establecer la conexión VPN.</span><span class="sxs-lookup"><span data-stu-id="93049-108">If the client computer does not have an always-on connection to an IP network, two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) are required to establish the VPN connection.</span></span> <span data-ttu-id="93049-109">La primera llamada establece una conexión de acceso telefónico a la red IP; la segunda llamada establece la conexión VPN.</span><span class="sxs-lookup"><span data-stu-id="93049-109">The first call establishes a dial-up connection to the IP network; the second call establishes the VPN connection.</span></span>

<span data-ttu-id="93049-110">El miembro **szLocalPhoneNumber** de la estructura [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) para la conexión VPN debe contener el nombre DNS o la dirección IP del servidor VPN de destino.</span><span class="sxs-lookup"><span data-stu-id="93049-110">The **szLocalPhoneNumber** member of the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure for the VPN connection should contain either the DNS name or IP address of the destination VPN server.</span></span>

<span data-ttu-id="93049-111">Cada conexión requiere una entrada [de libreta de teléfonos](ras-phone-books.md) independiente.</span><span class="sxs-lookup"><span data-stu-id="93049-111">Each connection requires a separate [phone-book](ras-phone-books.md) entry.</span></span> <span data-ttu-id="93049-112">La primera llamada a [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) especifica la entrada del libro de teléfono para la red IP.</span><span class="sxs-lookup"><span data-stu-id="93049-112">The first call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) specifies the phone-book entry for the IP network.</span></span> <span data-ttu-id="93049-113">La segunda llamada especifica la entrada de la libreta de teléfonos de la VPN.</span><span class="sxs-lookup"><span data-stu-id="93049-113">The second call specifies the phone-book entry for the VPN.</span></span>

<span data-ttu-id="93049-114">La función [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) toma un puntero a una estructura [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) como parámetro.</span><span class="sxs-lookup"><span data-stu-id="93049-114">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function takes a pointer to a [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure as a parameter.</span></span> <span data-ttu-id="93049-115">Esta estructura especifica las credenciales de autenticación que se usarán para la red especificada por la entrada del libro de teléfono.</span><span class="sxs-lookup"><span data-stu-id="93049-115">This structure specifies the authentication credentials to use for the network specified by the phone-book entry.</span></span> <span data-ttu-id="93049-116">Las credenciales necesarias para tener acceso a la red IP suelen ser diferentes de las de la VPN.</span><span class="sxs-lookup"><span data-stu-id="93049-116">The credentials required to access the IP network are typically different from those for the VPN.</span></span> <span data-ttu-id="93049-117">La primera llamada a **rasdial** debe especificar las credenciales de la red IP.</span><span class="sxs-lookup"><span data-stu-id="93049-117">The first call to **RasDial** should specify credentials for the IP network.</span></span> <span data-ttu-id="93049-118">La segunda llamada debe especificar las credenciales de la VPN.</span><span class="sxs-lookup"><span data-stu-id="93049-118">The second call should specify credentials for the VPN.</span></span>

<span data-ttu-id="93049-119">Si la función [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) se realiza correctamente, devuelve un identificador para la conexión.</span><span class="sxs-lookup"><span data-stu-id="93049-119">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function is successful, it returns a handle for the connection.</span></span> <span data-ttu-id="93049-120">Use este identificador en una llamada a [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) para finalizar la conexión.</span><span class="sxs-lookup"><span data-stu-id="93049-120">Use this handle in a call to [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) to terminate the connection.</span></span>

<span data-ttu-id="93049-121">En el escenario anterior, las dos llamadas a [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) devuelven controladores de conexión independientes para la red IP y la VPN.</span><span class="sxs-lookup"><span data-stu-id="93049-121">In the preceding scenario, the two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) return separate connection handles for the IP network and the VPN.</span></span> <span data-ttu-id="93049-122">La llamada a [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) con el identificador de la conexión VPN termina la conexión VPN, pero deja intacta la conexión a la red IP.</span><span class="sxs-lookup"><span data-stu-id="93049-122">Calling [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) with the handle for the VPN connection terminates the VPN connection but leaves the connection to the IP network intact.</span></span>

 

 