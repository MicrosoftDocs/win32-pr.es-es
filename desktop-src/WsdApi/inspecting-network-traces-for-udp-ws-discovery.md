---
description: Cualquier analizador de paquetes de red que pueda mostrar paquetes sin procesar se puede usar para inspeccionar los paquetes de WS-Discovery UDP. Se recomienda Monitor de red de Microsoft 3 (Netmon). Para obtener más información acerca de Netmon, consulte descarga de los filtros Netmon y DPWS de ejemplo.
ms.assetid: f12f9847-b87f-4d5f-bee3-4d219f9ad898
title: Inspeccionando seguimientos de red para WS-Discovery UDP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f85f4acd79588ef48c7f8e1ace2a44c9a3458475
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104277118"
---
# <a name="inspecting-network-traces-for-udp-ws-discovery"></a><span data-ttu-id="be226-105">Inspeccionando seguimientos de red para WS-Discovery UDP</span><span class="sxs-lookup"><span data-stu-id="be226-105">Inspecting Network Traces for UDP WS-Discovery</span></span>

<span data-ttu-id="be226-106">Cualquier analizador de paquetes de red que pueda mostrar paquetes sin procesar se puede usar para inspeccionar los paquetes de WS-Discovery UDP.</span><span class="sxs-lookup"><span data-stu-id="be226-106">Any network packet analyzer that can display raw packets can be used to inspect UDP WS-Discovery packets.</span></span> <span data-ttu-id="be226-107">Se recomienda Monitor de red de Microsoft 3 (Netmon).</span><span class="sxs-lookup"><span data-stu-id="be226-107">Microsoft Network Monitor 3 (Netmon) is recommended.</span></span> <span data-ttu-id="be226-108">Para obtener más información acerca de Netmon, consulte [descarga de los filtros Netmon y DPWS de ejemplo](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="be226-108">For more information about Netmon, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>

<span data-ttu-id="be226-109">**Para inspeccionar los seguimientos de red para WS-Discovery de UDP**</span><span class="sxs-lookup"><span data-stu-id="be226-109">**To inspect network traces for UDP WS-Discovery**</span></span>

1.  <span data-ttu-id="be226-110">Configure el host y el cliente para que se ejecuten en la red (es decir, asegúrese de que el host y el cliente funcionarán en equipos diferentes).</span><span class="sxs-lookup"><span data-stu-id="be226-110">Configure the host and client to run across the network (that is, make sure that the host and client will operate on different machines).</span></span>
2.  <span data-ttu-id="be226-111">Instale el analizador de paquetes (Netmon) en el cliente o en el host.</span><span class="sxs-lookup"><span data-stu-id="be226-111">Install the packet analyzer (Netmon) on either the client or the host.</span></span>
3.  <span data-ttu-id="be226-112">Configure el analizador de paquetes para capturar el tráfico en el adaptador de red que conecta el host y el cliente.</span><span class="sxs-lookup"><span data-stu-id="be226-112">Configure the packet analyzer to capture traffic on the network adapter connecting the host and the client.</span></span>
4.  <span data-ttu-id="be226-113">Reproduzca el error iniciando el host y el cliente, o presionando F5 en el explorador de red.</span><span class="sxs-lookup"><span data-stu-id="be226-113">Reproduce the failure by starting the host and client or by pressing F5 in the Network Explorer.</span></span>
5.  <span data-ttu-id="be226-114">Filtre los resultados para aislar WS-Discovery tráfico.</span><span class="sxs-lookup"><span data-stu-id="be226-114">Filter the results to isolate WS-Discovery traffic.</span></span> <span data-ttu-id="be226-115">Para ver los filtros de ejemplo de Netmon, consulte [descarga de los filtros Netmon y DPWS de ejemplo](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="be226-115">To view sample Netmon filters, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>
    > [!Note]  
    > <span data-ttu-id="be226-116">Este paso es opcional.</span><span class="sxs-lookup"><span data-stu-id="be226-116">This step is optional.</span></span>

     

6.  <span data-ttu-id="be226-117">Compruebe que los mensajes enviados entre el cliente y el host cumplan los requisitos de tráfico básicos.</span><span class="sxs-lookup"><span data-stu-id="be226-117">Verify that messages sent between client and host meet basic traffic requirements.</span></span>

## <a name="verifying-that-messages-meet-traffic-requirements"></a><span data-ttu-id="be226-118">Comprobando que los mensajes cumplen los requisitos de tráfico</span><span class="sxs-lookup"><span data-stu-id="be226-118">Verifying that messages meet traffic requirements</span></span>

<span data-ttu-id="be226-119">Los clientes y hosts WSDAPI deben enviar mensajes que cumplan los criterios siguientes.</span><span class="sxs-lookup"><span data-stu-id="be226-119">WSDAPI clients and hosts must send messages that conform to the following criteria.</span></span> <span data-ttu-id="be226-120">Para obtener información general acerca de los patrones de mensajes, consulte [patrones de mensajes de intercambio de metadatos y detección](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="be226-120">For general information about message patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

-   <span data-ttu-id="be226-121">Los mensajes de [sondeo](probe-message.md) se deben enviar mediante multidifusión de UDP al puerto 3702.</span><span class="sxs-lookup"><span data-stu-id="be226-121">[Probe](probe-message.md) messages must be sent by UDP multicast to port 3702.</span></span>
-   <span data-ttu-id="be226-122">El elemento **Types** de un mensaje de [sondeo](probe-message.md) debe estar presente y no debe estar vacío.</span><span class="sxs-lookup"><span data-stu-id="be226-122">The **Types** element of a [Probe](probe-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="be226-123">Debe contener los tipos a los que responderá un host.</span><span class="sxs-lookup"><span data-stu-id="be226-123">It must contain the types to which a host will respond.</span></span>
-   <span data-ttu-id="be226-124">Un mensaje [ProbeMatches](probematches-message.md) se debe enviar a través de unidifusión al puerto UDP desde el que se envió el [sondeo](probe-message.md) .</span><span class="sxs-lookup"><span data-stu-id="be226-124">A [ProbeMatches](probematches-message.md) message must be sent unicast to the UDP port from which the [Probe](probe-message.md) was sent.</span></span>
-   <span data-ttu-id="be226-125">El **elemento de** la reutilización de un mensaje [ProbeMatches](probematches-message.md) debe estar presente y no debe estar vacío.</span><span class="sxs-lookup"><span data-stu-id="be226-125">The **RelatesTo** element of a [ProbeMatches](probematches-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="be226-126">Su valor debe coincidir con el valor del elemento **MessageId** del mensaje de [sondeo](probe-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="be226-126">Its value must match the value of the **MessageId** element from the corresponding [Probe](probe-message.md) message.</span></span>
-   <span data-ttu-id="be226-127">Si se incluyó un elemento **XAddrs** en el mensaje [ProbeMatches](probematches-message.md) , se deben validar las direcciones de transporte proporcionadas.</span><span class="sxs-lookup"><span data-stu-id="be226-127">If an **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, the supplied transport addresses must be validated.</span></span> <span data-ttu-id="be226-128">Para obtener más información, consulte [reglas de validación de XAddr](xaddr-validation-rules.md).</span><span class="sxs-lookup"><span data-stu-id="be226-128">For more information, see [XAddr Validation Rules](xaddr-validation-rules.md).</span></span>
-   <span data-ttu-id="be226-129">Se debe enviar un mensaje [ProbeMatches](probematches-message.md) en los 4 segundos del mensaje de [sondeo](probe-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="be226-129">A [ProbeMatches](probematches-message.md) message must be sent within 4 seconds of the corresponding [Probe](probe-message.md) message.</span></span> <span data-ttu-id="be226-130">El Firewall de Windows puede quitar un mensaje ProbeMatches enviado más de 4 segundos después de un mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="be226-130">The Windows Firewall may drop a ProbeMatches message sent more than 4 seconds after a Probe message.</span></span>
-   <span data-ttu-id="be226-131">Si no se incluyó ningún elemento **XAddrs** en el mensaje [ProbeMatches](probematches-message.md) y el cliente o el host enviará un mensaje http (como una [solicitud de intercambio de metadatos o](get--metadata-exchange--http-request-and-message.md) un mensaje de servicio), el cliente o host debe enviar un mensaje de [resolución](resolve-message.md) por multidifusión de UDP al puerto 3702.</span><span class="sxs-lookup"><span data-stu-id="be226-131">If no **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, and the client or host will send an HTTP message (such as a [Get](get--metadata-exchange--http-request-and-message.md) metadata exchange request or a service message), then the client or host must send a [Resolve](resolve-message.md) message by UDP multicast to port 3702.</span></span>
-   <span data-ttu-id="be226-132">Si se envía un mensaje de [resolución](resolve-message.md) , se debe enviar un mensaje de [ResolveMatches](resolvematches-message.md) de unidifusión al puerto UDP desde el que se envió el mensaje de resolución.</span><span class="sxs-lookup"><span data-stu-id="be226-132">If a [Resolve](resolve-message.md) message is sent, then a [ResolveMatches](resolvematches-message.md) message must be sent unicast to the UDP port from which the Resolve message was sent.</span></span>
-   <span data-ttu-id="be226-133">Se debe enviar un mensaje [ResolveMatches](resolvematches-message.md) en los 4 segundos del mensaje de [resolución](resolve-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="be226-133">A [ResolveMatches](resolvematches-message.md) message must be sent within 4 seconds of the corresponding [Resolve](resolve-message.md) message.</span></span> <span data-ttu-id="be226-134">El Firewall de Windows puede quitar un ResolveMatchesmessage enviado más de 4 segundos después de un mensaje de resolución.</span><span class="sxs-lookup"><span data-stu-id="be226-134">The Windows Firewall may drop a ResolveMatchesmessage sent more than 4 seconds after a Resolve message.</span></span>

<span data-ttu-id="be226-135">Si los mensajes enviados por el programa no se ajustan a estos requisitos de mensaje, la causa del problema se ha identificado correctamente y no es necesario realizar más pasos para la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="be226-135">If the messages sent by the program do not conform to these message requirements, the cause of the problem has been successfully identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="be226-136">Vuelva a escribir el programa para que genere mensajes conformes y vuelva a probar el programa.</span><span class="sxs-lookup"><span data-stu-id="be226-136">Rewrite the program so that it generates conformant messages and retest the program.</span></span>

<span data-ttu-id="be226-137">Si aún no se puede identificar el origen del problema, póngase en contacto con el soporte técnico de Microsoft para obtener ayuda.</span><span class="sxs-lookup"><span data-stu-id="be226-137">If the source of the problem still cannot be identified, contact Microsoft support for assistance.</span></span> <span data-ttu-id="be226-138">Antes de ponerse en contacto con el servicio de soporte técnico, recopile los archivos de registro adecuados para ayudar a identificar la causa principal del problema.</span><span class="sxs-lookup"><span data-stu-id="be226-138">Before contacting support, collect the appropriate log files to help identify the root cause of the problem.</span></span> <span data-ttu-id="be226-139">Para obtener más información, vea [Habilitar el seguimiento de WSDAPI](enabling-wsdapi-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="be226-139">For more information, see [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="be226-140">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="be226-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="be226-141">Procedimientos de diagnóstico de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="be226-141">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="be226-142">Introducción con la solución de problemas de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="be226-142">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> <dt>

[<span data-ttu-id="be226-143">Descarga de los filtros Netmon y DPWS de ejemplo</span><span class="sxs-lookup"><span data-stu-id="be226-143">Downloading Netmon and Sample DPWS Filters</span></span>](downloading-netmon-and-sample-dpws-filters.md)
</dt> </dl>

 

 



