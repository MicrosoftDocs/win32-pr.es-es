---
title: Propiedades y patrones de control de la automatización de la interfaz de usuario
description: Al utilizar la automatización de la interfaz de usuario de Microsoft, los clientes suelen necesitar recuperar varias propiedades para varios elementos de automatización.
ms.assetid: 948b3bb9-75a9-4197-9680-e6fe7bb86feb
keywords:
- almacenamiento en caché, propiedades de UI Automation
- almacenar en caché, propiedades
- almacenamiento en caché, patrones de control de UI Automation
- almacenamiento en caché, patrones de control
- Automatización de la interfaz de usuario, propiedades de almacenamiento en caché
- Automatización de la interfaz de usuario, almacenamiento en caché de propiedades
- clientes, propiedades de UI Automation de almacenamiento en caché
- clientes, patrones de control de UI Automation de almacenamiento en caché
- UI Automation, patrones de control de almacenamiento en caché
- UI Automation, almacenamiento en caché de patrones de control
- patrones de control, almacenamiento en caché
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 69f75a7dc9491565fdfdc0ecc73808c2fb6a9d82
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104418516"
---
# <a name="caching-ui-automation-properties-and-control-patterns"></a><span data-ttu-id="c1ecd-114">Propiedades y patrones de control de la automatización de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="c1ecd-114">Caching UI Automation Properties and Control Patterns</span></span>

<span data-ttu-id="c1ecd-115">Al utilizar la automatización de la interfaz de usuario de Microsoft, los clientes suelen necesitar recuperar varias propiedades para varios elementos de automatización.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-115">When using Microsoft UI Automation, clients often need to retrieve multiple properties for multiple automation elements.</span></span> <span data-ttu-id="c1ecd-116">Un cliente podría recuperar propiedades individuales de un elemento a la vez mediante los métodos de recuperación de la propiedad, como [**IUIAutomationElement:: CurrentName**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentname) o [**CurrentAccessKey**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentaccesskey).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-116">A client could retrieve individual properties one element at a time by using the property retrieval methods such as [**IUIAutomationElement::CurrentName**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentname) or [**CurrentAccessKey**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentaccesskey).</span></span> <span data-ttu-id="c1ecd-117">Sin embargo, este método es lento e ineficiente porque requiere una llamada entre procesos para cada propiedad que se va a recuperar.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-117">However, this method is slow and inefficient because it requires a cross-process call for each property being retrieved.</span></span> <span data-ttu-id="c1ecd-118">Para mejorar el rendimiento, los clientes pueden usar la funcionalidad de almacenamiento en caché (también denominada captura masiva) de la automatización de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-118">To improve performance, clients can use the caching (also called bulk fetching) capabilities of UI Automation.</span></span> <span data-ttu-id="c1ecd-119">Caching permite que un cliente recupere todas las propiedades deseadas para todos los elementos deseados con una única llamada al método.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-119">Caching enables a client to retrieve all of the desired properties for all of the desired elements with a single method call.</span></span> <span data-ttu-id="c1ecd-120">A continuación, el cliente puede recuperar las propiedades individuales de la memoria caché según sea necesario y puede obtener una nueva instantánea de la memoria caché periódicamente, generalmente en respuesta a eventos que indican cambios en la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-120">The client can then retrieve the individual properties from the cache as needed, and can get a new snapshot of the cache periodically, generally in response to events that signify changes in the UI.</span></span>

<span data-ttu-id="c1ecd-121">La aplicación puede solicitar el almacenamiento en caché cuando recupera un elemento de automatización de la interfaz de usuario mediante un método, como [**IUIAutomation:: ElementFromPointBuildCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-elementfrompointbuildcache), [**IUIAutomationTreeWalker:: GetFirstChildElementBuildCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationtreewalker-getfirstchildelementbuildcache)o [**IUIAutomationElement:: FindFirstBuildCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-findfirstbuildcache).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-121">The application can request caching when it retrieves a UI Automation element by using a method, such as [**IUIAutomation::ElementFromPointBuildCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-elementfrompointbuildcache), [**IUIAutomationTreeWalker::GetFirstChildElementBuildCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationtreewalker-getfirstchildelementbuildcache), or [**IUIAutomationElement::FindFirstBuildCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-findfirstbuildcache).</span></span>

<span data-ttu-id="c1ecd-122">El almacenamiento en caché también se produce cuando se especifica una solicitud de caché durante la suscripción a eventos.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-122">Caching also occurs when you specify a cache request while subscribing to events.</span></span> <span data-ttu-id="c1ecd-123">El elemento de automatización de la interfaz de usuario que se pasa al controlador de eventos como origen de un evento contiene las propiedades y los patrones de control almacenados en caché especificados por la solicitud de caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-123">The UI Automation element passed to your event handler as the source of an event contains the cached properties and control patterns that are specified by the cache request.</span></span> <span data-ttu-id="c1ecd-124">Los cambios realizados en la solicitud de caché después de suscribirse al evento no tienen ningún efecto.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-124">Any changes made to the cache request after you subscribe to the event have no effect.</span></span>

<span data-ttu-id="c1ecd-125">En este tema se incluyen las siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-125">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="c1ecd-126">Solicitudes de caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-126">Cache Requests</span></span>](#cache-requests)
    -   [<span data-ttu-id="c1ecd-127">Especificar patrones de propiedades y controles para almacenar en caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-127">Specifying Property and Control Patterns to Cache</span></span>](#specifying-property-and-control-patterns-to-cache)
    -   [<span data-ttu-id="c1ecd-128">Especificar el ámbito y el filtrado de una solicitud de almacenamiento en caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-128">Specifying the Scoping and Filtering of a Caching Request</span></span>](#specifying-the-scoping-and-filtering-of-a-caching-request)
    -   [<span data-ttu-id="c1ecd-129">Solidez de las referencias de elemento</span><span class="sxs-lookup"><span data-stu-id="c1ecd-129">Strength of Element References</span></span>](#strength-of-element-references)
-   [<span data-ttu-id="c1ecd-130">Recuperación de elementos primarios y secundarios almacenados en caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-130">Retrieving Cached Children and Parents</span></span>](#retrieving-cached-children-and-parents)
-   [<span data-ttu-id="c1ecd-131">Recuperación de una nueva instantánea de la memoria caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-131">Retrieving a New Snapshot of the Cache</span></span>](#retrieving-a-new-snapshot-of-the-cache)
-   [<span data-ttu-id="c1ecd-132">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="c1ecd-132">Examples</span></span>](#examples)
-   [<span data-ttu-id="c1ecd-133">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c1ecd-133">Related topics</span></span>](#related-topics)

## <a name="cache-requests"></a><span data-ttu-id="c1ecd-134">Solicitudes de caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-134">Cache Requests</span></span>

<span data-ttu-id="c1ecd-135">El almacenamiento en caché implica determinar las propiedades que se van a recuperar y los elementos de los que se van a recuperar y, a continuación, utilizar esta información para crear una solicitud de caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-135">Caching involves determining which properties to retrieve and which elements to retrieve them from, and then using this information to create a cache request.</span></span> <span data-ttu-id="c1ecd-136">Siempre que el cliente obtiene una interfaz [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) para el elemento de interfaz de usuario, la automatización de la interfaz de usuario almacena en memoria caché la información que se especifica en la solicitud de caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-136">Whenever the client obtains an [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) interface for UI item, UI Automation caches the information that is specified in the cache request.</span></span>

<span data-ttu-id="c1ecd-137">Para crear una solicitud de caché, empiece usando el método [**IUIAutomation:: CreateCacheRequest**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-createcacherequest) para recuperar un puntero de interfaz [**IUIAutomationCacheRequest**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationcacherequest) .</span><span class="sxs-lookup"><span data-stu-id="c1ecd-137">To create a cache request, begin by using the [**IUIAutomation::CreateCacheRequest**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-createcacherequest) method to retrieve an [**IUIAutomationCacheRequest**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationcacherequest) interface pointer.</span></span> <span data-ttu-id="c1ecd-138">A continuación, configure la solicitud de caché mediante los métodos de **IUIAutomationCacheRequest**.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-138">Next, configure the cache request by using the methods of **IUIAutomationCacheRequest**.</span></span>

### <a name="specifying-property-and-control-patterns-to-cache"></a><span data-ttu-id="c1ecd-139">Especificar patrones de propiedades y controles para almacenar en caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-139">Specifying Property and Control Patterns to Cache</span></span>

<span data-ttu-id="c1ecd-140">Puede especificar las propiedades que se van a almacenar en caché mediante una llamada a [**IUIAutomationCacheRequest:: AddProperty**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-addproperty).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-140">You can specify properties to cache by calling [**IUIAutomationCacheRequest::AddProperty**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-addproperty).</span></span> <span data-ttu-id="c1ecd-141">Puede especificar los patrones de control que se van a almacenar en caché mediante una llamada a [**IUIAutomationCacheRequest:: AddPattern**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-addpattern).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-141">You can specify control patterns to cache by calling [**IUIAutomationCacheRequest::AddPattern**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-addpattern).</span></span> <span data-ttu-id="c1ecd-142">Cuando un patrón de control se almacena en caché, sus propiedades no se almacenan en caché automáticamente; debe especificar las propiedades que desea almacenar en caché mediante **AddProperty**.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-142">When a control pattern is cached, its properties are not automatically cached; you must specify the properties you want to cache by using **AddProperty**.</span></span>

<span data-ttu-id="c1ecd-143">Puede recuperar una propiedad de patrón de control (por ejemplo, la propiedad Value del patrón de control [Value](uiauto-implementingvalue.md) ), sin tener que recuperar el patrón de control completo en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-143">You can retrieve a control pattern property (for example, the Value property of the [Value](uiauto-implementingvalue.md) control pattern), without having to retrieve the entire control pattern into the cache.</span></span> <span data-ttu-id="c1ecd-144">Debe recuperar el patrón de control solo si necesita usar un método de patrón de control.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-144">You must retrieve the control pattern only if you need to use a control pattern method.</span></span>

### <a name="specifying-the-scoping-and-filtering-of-a-caching-request"></a><span data-ttu-id="c1ecd-145">Especificar el ámbito y el filtrado de una solicitud de almacenamiento en caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-145">Specifying the Scoping and Filtering of a Caching Request</span></span>

<span data-ttu-id="c1ecd-146">Puede especificar los elementos cuyas propiedades y patrones de control desea almacenar en caché estableciendo la propiedad [**IUIAutomationCacheRequest:: TreeScope**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_treescope) antes de usar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-146">You can specify the elements whose properties and control patterns you want to cache by setting the [**IUIAutomationCacheRequest::TreeScope**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_treescope) property before using the request.</span></span> <span data-ttu-id="c1ecd-147">El ámbito es relativo a los elementos recuperados por el método al que se pasa la solicitud de caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-147">The scope is relative to the elements that are retrieved by the method to which the cache request is passed.</span></span> <span data-ttu-id="c1ecd-148">Por ejemplo, si establece solo [**\_ elementos secundarios de TreeScope**](/windows/desktop/api/UIAutomationClient/ne-uiautomationclient-treescope)y, a continuación, recupera un elemento de automatización de la interfaz de usuario, las propiedades y los patrones de control de los elementos secundarios de ese elemento se almacenan en caché, pero las propiedades y los patrones de control del propio elemento no se almacenan en caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-148">For example, if you set only [**TreeScope\_Children**](/windows/desktop/api/UIAutomationClient/ne-uiautomationclient-treescope), and then retrieve a UI Automation element, the properties and control patterns of children of that element are cached, but the properties and control patterns of the element itself are not cached.</span></span> <span data-ttu-id="c1ecd-149">Para asegurarse de que el almacenamiento en caché se realiza para el propio elemento recuperado, debe incluir el **\_ elemento TreeScope** en la propiedad **IUIAutomationCacheRequest:: TreeScope** .</span><span class="sxs-lookup"><span data-stu-id="c1ecd-149">To ensure that caching is done for the retrieved element itself, you must include **TreeScope\_Element** in the **IUIAutomationCacheRequest::TreeScope** property.</span></span> <span data-ttu-id="c1ecd-150">No es posible establecer el ámbito en los **\_ antecesores** **\_ primarios** de TreeScope o en TreeScope.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-150">It is not possible to set the scope to **TreeScope\_Parent** or **TreeScope\_Ancestors**.</span></span> <span data-ttu-id="c1ecd-151">Sin embargo, es posible almacenar en caché un elemento primario cuando se almacena un elemento secundario en caché; consulte la sección Recuperación de elementos primarios y secundarios almacenados en caché de este tema.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-151">However, a parent element can be cached when a child element is cached; see Retrieving Cached Children and Parents in this topic.</span></span>

<span data-ttu-id="c1ecd-152">La extensión del almacenamiento en caché también se ve afectada por la propiedad [**IUIAutomationCacheRequest:: TreeFilter**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_treefilter) .</span><span class="sxs-lookup"><span data-stu-id="c1ecd-152">The extent of caching is also affected by the [**IUIAutomationCacheRequest::TreeFilter**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_treefilter) property.</span></span> <span data-ttu-id="c1ecd-153">De forma predeterminada, el almacenamiento en caché se realiza solo para los elementos que aparecen en la vista de control del árbol de automatización de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-153">By default, caching is performed only for elements that appear in the control view of the UI Automation tree.</span></span> <span data-ttu-id="c1ecd-154">Sin embargo, puede cambiar esta propiedad para aplicar el almacenamiento en caché a todos los elementos o solo a los que aparecen en la vista de contenido.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-154">However, you can change this property to apply caching to all elements, or only to elements that appear in the content view.</span></span>

### <a name="strength-of-element-references"></a><span data-ttu-id="c1ecd-155">Solidez de las referencias de elemento</span><span class="sxs-lookup"><span data-stu-id="c1ecd-155">Strength of Element References</span></span>

<span data-ttu-id="c1ecd-156">Cuando se recupera un elemento de automatización, de forma predeterminada se tiene acceso a todas las propiedades y patrones de control de ese elemento, incluidas las propiedades y los patrones de control que no se almacenaron en caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-156">When you retrieve an automation element, by default you have access to all properties and control patterns of that element, including those properties and control patterns that were not cached.</span></span> <span data-ttu-id="c1ecd-157">Sin embargo, puede especificar que la referencia al elemento solo haga referencia a los datos almacenados en caché; para ello, establezca la propiedad [**IUIAutomationCacheRequest:: AutomationElementMode**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_automationelementmode) en **AutomationElementMode \_ None**.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-157">However, you can specify that the reference to the element refers to cached data only, by setting the [**IUIAutomationCacheRequest::AutomationElementMode**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_automationelementmode) property to **AutomationElementMode\_None**.</span></span> <span data-ttu-id="c1ecd-158">En este caso, no tiene acceso a las propiedades y los patrones de control no almacenados en la caché de los elementos recuperados.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-158">In this case, you do not have access to any uncached properties and control patterns of retrieved elements.</span></span> <span data-ttu-id="c1ecd-159">Esto significa que no se puede tener acceso a las propiedades actuales como [**IUIAutomationElement:: CurrentIsEnabled**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentisenabled) ni recuperar un patrón de control mediante [**IUIAutomationElement:: GetCurrentPattern**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-getcurrentpattern).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-159">This means that you cannot access any current properties such as [**IUIAutomationElement::CurrentIsEnabled**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentisenabled) or retrieve a control pattern by using [**IUIAutomationElement::GetCurrentPattern**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-getcurrentpattern).</span></span> <span data-ttu-id="c1ecd-160">En los patrones de control almacenados en caché, no se puede llamar a métodos que realizan acciones en el control, como [**IUIAutomationInvokePattern:: Invoke**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationinvokepattern-invoke).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-160">On cached control patterns, you cannot call methods that perform actions on the control, such as [**IUIAutomationInvokePattern::Invoke**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationinvokepattern-invoke).</span></span>

<span data-ttu-id="c1ecd-161">Un ejemplo de una aplicación que podría no necesitar referencias completas a objetos es un lector de pantalla, que podría capturar previamente las propiedades de nombre y tipo de control de los elementos de una ventana sin necesidad de los propios objetos de elemento de automatización.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-161">An example of an application that might not need full references to objects is a screen reader, which might prefetch the name and control type properties of elements in a window without needing the automation element objects themselves.</span></span>

## <a name="retrieving-cached-children-and-parents"></a><span data-ttu-id="c1ecd-162">Recuperación de elementos primarios y secundarios almacenados en caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-162">Retrieving Cached Children and Parents</span></span>

<span data-ttu-id="c1ecd-163">Al recuperar un elemento de automatización y solicitar el almacenamiento en caché para los elementos secundarios de ese elemento a través de la propiedad [**IUIAutomationCacheRequest:: TreeScope**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_treescope) de la solicitud, es posible obtener los elementos secundarios llamando a [**IUIAutomationElement:: GetCachedChildren**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-getcachedchildren) en el elemento que recuperó.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-163">When you retrieve an automation element and request caching for children of that element through the [**IUIAutomationCacheRequest::TreeScope**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationcacherequest-get_treescope) property of the request, it is possible to get the child elements by calling [**IUIAutomationElement::GetCachedChildren**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-getcachedchildren) on the element you retrieved.</span></span>

<span data-ttu-id="c1ecd-164">Si [**el \_ elemento TreeScope**](/windows/desktop/api/UIAutomationClient/ne-uiautomationclient-treescope) se incluyó en el ámbito de la solicitud de caché, el elemento raíz de la solicitud se puede recuperar llamando a [**IUIAutomationElement:: GetCachedParent**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-getcachedparent) en cualquiera de los elementos secundarios.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-164">If [**TreeScope\_Element**](/windows/desktop/api/UIAutomationClient/ne-uiautomationclient-treescope) was included in the scope of the cache request, the root element of the request can be retrieved by calling [**IUIAutomationElement::GetCachedParent**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-getcachedparent) on any of the child elements.</span></span>

> [!Note]  
> <span data-ttu-id="c1ecd-165">No se pueden almacenar en caché los elementos primarios o antecesores del elemento raíz de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-165">You cannot cache parents or ancestors of the root element of the request.</span></span>

 

## <a name="retrieving-a-new-snapshot-of-the-cache"></a><span data-ttu-id="c1ecd-166">Recuperación de una nueva instantánea de la memoria caché</span><span class="sxs-lookup"><span data-stu-id="c1ecd-166">Retrieving a New Snapshot of the Cache</span></span>

<span data-ttu-id="c1ecd-167">La memoria caché solo es válida siempre y cuando no cambie nada en la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-167">The cache is valid only as long as nothing changes in the UI.</span></span> <span data-ttu-id="c1ecd-168">La aplicación es responsable de recuperar una nueva instantánea de la memoria caché, normalmente, en respuesta a los eventos.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-168">Your application is responsible for retrieving a new snapshot of the cache, typically, in response to events.</span></span>

<span data-ttu-id="c1ecd-169">Si se suscribe a un evento con una solicitud de caché, se obtiene una nueva instantánea de [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) de la memoria caché como origen del evento cada vez que se llama al controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-169">If you subscribe to an event with a cache request, you obtain an [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) new snapshot of the cache as the source of the event whenever your event handler is called.</span></span> <span data-ttu-id="c1ecd-170">También puede recuperar una nueva instantánea de la información almacenada en caché para un elemento mediante una llamada a [**IUIAutomationElement:: BuildUpdatedCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-buildupdatedcache).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-170">You can also retrieve a new snapshot of cached information for an element by calling [**IUIAutomationElement::BuildUpdatedCache**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-buildupdatedcache).</span></span> <span data-ttu-id="c1ecd-171">Puede pasar el [**IUIAutomationCacheRequest**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationcacherequest) original para obtener una nueva instantánea de toda la información que se almacenó previamente en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-171">You can pass in the original [**IUIAutomationCacheRequest**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationcacherequest) to get a new snapshot of all information that was previously cached.</span></span>

<span data-ttu-id="c1ecd-172">La recuperación de una nueva instantánea de la memoria caché no modifica las propiedades de las referencias de [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) existentes.</span><span class="sxs-lookup"><span data-stu-id="c1ecd-172">Retrieving a new snapshot of the cache does not modify the properties of any existing [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) references.</span></span>

## <a name="examples"></a><span data-ttu-id="c1ecd-173">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="c1ecd-173">Examples</span></span>

<span data-ttu-id="c1ecd-174">Para ver ejemplos de código que muestran cómo usar las capacidades de almacenamiento en caché de la automatización de la interfaz de usuario, consulte [Cómo usar el almacenamiento en caché](uiauto-howto-use-caching.md).</span><span class="sxs-lookup"><span data-stu-id="c1ecd-174">For code examples that show how to use the caching capabilities of UI Automation, see [How to Use Caching](uiauto-howto-use-caching.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="c1ecd-175">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c1ecd-175">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="c1ecd-176">**Vista**</span><span class="sxs-lookup"><span data-stu-id="c1ecd-176">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="c1ecd-177">Información general acerca de los patrones de control de UI Automation</span><span class="sxs-lookup"><span data-stu-id="c1ecd-177">UI Automation Control Patterns Overview</span></span>](uiauto-controlpatternsoverview.md)
</dt> <dt>

[<span data-ttu-id="c1ecd-178">Obtener elementos de UI Automation</span><span class="sxs-lookup"><span data-stu-id="c1ecd-178">Obtaining UI Automation Elements</span></span>](uiauto-obtainingelements.md)
</dt> <dt>

[<span data-ttu-id="c1ecd-179">Información general acerca de las propiedades de UI Automation</span><span class="sxs-lookup"><span data-stu-id="c1ecd-179">UI Automation Properties Overview</span></span>](uiauto-propertiesoverview.md)
</dt> </dl>

 

 




