---
description: Los proveedores administran volúmenes en ejecución y crean instantáneas de ellos a petición.
ms.assetid: 4e6b46b0-df9e-4458-b0ac-e237d7656337
title: Proveedores
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bb336dbb51fcbd715ea236ecdc0c62d81daf29d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105696983"
---
# <a name="providers"></a><span data-ttu-id="47a25-103">Proveedores</span><span class="sxs-lookup"><span data-stu-id="47a25-103">Providers</span></span>

<span data-ttu-id="47a25-104">Los [*proveedores*](vssgloss-p.md) administran volúmenes en ejecución y crean instantáneas de ellos a petición.</span><span class="sxs-lookup"><span data-stu-id="47a25-104">[*Providers*](vssgloss-p.md) manage running volumes and create the shadow copies of them on demand.</span></span>

<span data-ttu-id="47a25-105">En respuesta a una solicitud de un solicitante, un proveedor genera eventos COM para indicar a las aplicaciones de una instantánea próxima y, después, crea y mantiene esa copia hasta que ya no se necesita.</span><span class="sxs-lookup"><span data-stu-id="47a25-105">In response to a request from a requester, a provider generates COM events to signal applications of a coming shadow copy, then creates and maintains that copy until it is no longer needed.</span></span>

<span data-ttu-id="47a25-106">Mientras existe una instantánea, el proveedor crea un entorno en el que hay dos copias independientes de cualquier volumen del que se ha realizado una instantánea: uno de los discos en ejecución que se usa y se actualiza como normal, el otro que es el disco fijo y estable para la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="47a25-106">While a shadow copy is in existence, the provider creates an environment where there are effectively two independent copies of any volume that has been shadow copied: one the running disk being used and updated as normal, the other a copy that is disk fixed and stable for backup.</span></span>

<span data-ttu-id="47a25-107">Aunque se proporciona un proveedor predeterminado como parte de Windows, otros proveedores pueden proporcionar sus propias implementaciones que están optimizadas para sus propias ofertas de software y hardware de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="47a25-107">While a default provider is supplied as part of Windows, other vendors are free to supply their own implementations that are optimized for their own storage hardware and software offerings.</span></span>

<span data-ttu-id="47a25-108">Desde el punto de vista de un usuario final o un desarrollador de aplicaciones de copia de seguridad o restauración, todos los proveedores tendrán la misma interfaz (consulte [selección de proveedores](selecting-providers.md)).</span><span class="sxs-lookup"><span data-stu-id="47a25-108">From the point of view of an end-user or backup/restore application developer, all providers will have the same interface (see [Selecting Providers](selecting-providers.md)).</span></span>

<span data-ttu-id="47a25-109">Todos los proveedores deben ser capaces de hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="47a25-109">All providers must be able to do the following:</span></span>

-   <span data-ttu-id="47a25-110">Interceptar las solicitudes de e/s entre el sistema de archivos y el sistema de almacenamiento masivo subyacente.</span><span class="sxs-lookup"><span data-stu-id="47a25-110">Intercept I/O requests between the file system and the underlying mass storage system.</span></span>
-   <span data-ttu-id="47a25-111">Capture y recupere el estado de un volumen en el momento de la instantánea, manteniendo una vista "a un momento dado" de los archivos en el disco sin operaciones de e/s parciales reflejadas en su estado.</span><span class="sxs-lookup"><span data-stu-id="47a25-111">Capture and retrieve the status of a volume at the time of shadow copy, maintaining a "point in time" view of the files on the disk with no partial I/O operations reflected in its state.</span></span>
-   <span data-ttu-id="47a25-112">Use esta vista de "momento dado" para exponer (como mínimo, las aplicaciones habilitadas para VSS) un volumen virtual que contenga los datos de la instantánea.</span><span class="sxs-lookup"><span data-stu-id="47a25-112">Use this "point in time" view to expose (minimally to VSS-enabled applications) a virtual volume containing the shadow copied data.</span></span>

<span data-ttu-id="47a25-113">En función de cómo se realice, un proveedor puede ser de uno de estos tres tipos:</span><span class="sxs-lookup"><span data-stu-id="47a25-113">Depending on how this is done, a provider can be one of three types:</span></span>

-   [<span data-ttu-id="47a25-114">Proveedor del sistema</span><span class="sxs-lookup"><span data-stu-id="47a25-114">System Provider</span></span>](#system-provider)
-   [<span data-ttu-id="47a25-115">Proveedores de software</span><span class="sxs-lookup"><span data-stu-id="47a25-115">Software Providers</span></span>](#software-providers)
-   [<span data-ttu-id="47a25-116">Proveedores de hardware</span><span class="sxs-lookup"><span data-stu-id="47a25-116">Hardware Providers</span></span>](#hardware-providers)

## <a name="system-provider"></a><span data-ttu-id="47a25-117">Proveedor del sistema</span><span class="sxs-lookup"><span data-stu-id="47a25-117">System Provider</span></span>

<span data-ttu-id="47a25-118">Un proveedor de instantáneas, el [*proveedor del sistema*](vssgloss-s.md), se proporciona como parte predeterminada de una instalación del sistema operativo Windows.</span><span class="sxs-lookup"><span data-stu-id="47a25-118">One shadow copy provider, the [*system provider*](vssgloss-s.md), is supplied as a default part of a Windows operating system installation.</span></span> <span data-ttu-id="47a25-119">Actualmente, el proveedor del sistema es una instancia concreta de un proveedor de software.</span><span class="sxs-lookup"><span data-stu-id="47a25-119">Currently, the system provider is a particular instance of a software provider.</span></span> <span data-ttu-id="47a25-120">Sin embargo, esto puede cambiar en el futuro.</span><span class="sxs-lookup"><span data-stu-id="47a25-120">However, this may change in the future.</span></span>

<span data-ttu-id="47a25-121">Para mantener una vista "a un momento dado" de un volumen incluido en la instantánea, el proveedor del sistema utiliza una técnica de copia en escritura.</span><span class="sxs-lookup"><span data-stu-id="47a25-121">To maintain a "point in time" view of a volume contained in the shadow copy, the system provider uses a copy-on-write technique.</span></span> <span data-ttu-id="47a25-122">Las copias de los sectores del disco que se han modificado (denominadas "diferencias") desde el inicio de la creación de instantáneas se almacenan en un área de almacenamiento de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="47a25-122">Copies of the sectors on disk that have been modified (called "diffs") since the beginning of the shadow copy creation are stored in a shadow copy storage area.</span></span>

<span data-ttu-id="47a25-123">Por lo tanto, el proveedor del sistema puede exponer el volumen activo, que se puede escribir y leer de forma normal, y aplicar las "diferencias" a los datos del volumen activo para exponer eficazmente los datos inmovilizados de la instantánea.</span><span class="sxs-lookup"><span data-stu-id="47a25-123">Therefore, the system provider can expose the live volume, which can be written to and read from normally, and apply the "diffs" to the live volume's data to effectively expose the frozen data of the shadow copy.</span></span>

<span data-ttu-id="47a25-124">En el caso del proveedor del sistema, el área de almacenamiento de instantáneas debe encontrarse en un volumen NTFS.</span><span class="sxs-lookup"><span data-stu-id="47a25-124">For the system provider, the shadow copy storage area must be on an NTFS volume.</span></span> <span data-ttu-id="47a25-125">No es necesario que el volumen del que se va a realizar la instantánea sea un volumen NTFS, pero al menos un volumen montado en el sistema debe ser de este tipo.</span><span class="sxs-lookup"><span data-stu-id="47a25-125">The volume to be shadow copied does not need to be an NTFS volume, but at least one volume mounted on the system must be an NTFS volume.</span></span>

## <a name="software-providers"></a><span data-ttu-id="47a25-126">Proveedores de software</span><span class="sxs-lookup"><span data-stu-id="47a25-126">Software Providers</span></span>

<span data-ttu-id="47a25-127">Los proveedores de instantáneas de software interceptan y procesan solicitudes de e/s en una capa de software entre el sistema de archivos y el software de Volume Manager.</span><span class="sxs-lookup"><span data-stu-id="47a25-127">Software shadow copy providers intercept and process I/O requests in a software layer between the file system and the volume manager software.</span></span> <span data-ttu-id="47a25-128">Estos proveedores se implementan como un componente DLL de modo usuario y al menos un controlador de dispositivo de modo kernel, normalmente (pero no necesariamente) un controlador de filtro de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="47a25-128">These providers are implemented as a user-mode DLL component and at least one kernel-mode device driver, typically (but not necessarily) a storage filter driver.</span></span> <span data-ttu-id="47a25-129">El trabajo de creación de estas instantáneas se realiza en el software.</span><span class="sxs-lookup"><span data-stu-id="47a25-129">The work of creating these shadow copies is done in software.</span></span>

<span data-ttu-id="47a25-130">Un proveedor de instantáneas de software debe mantener una vista "a un momento dado" de un volumen mediante el acceso a un conjunto de archivos que se pueden usar para volver a crear con precisión el estado del volumen antes de la instantánea.</span><span class="sxs-lookup"><span data-stu-id="47a25-130">A software shadow copy provider must maintain a "point-in-time" view of a volume by having access to a set of files that can be used to accurately re-create volume status prior to the shadow copy.</span></span> <span data-ttu-id="47a25-131">Un ejemplo de esto es la técnica de copia en escritura del proveedor del sistema.</span><span class="sxs-lookup"><span data-stu-id="47a25-131">An example of this is the copy-on-write technique of the system provider.</span></span>

<span data-ttu-id="47a25-132">Sin embargo, VSS no impone ninguna restricción sobre la técnica que usan los proveedores de software para crear y mantener instantáneas, y los proveedores de terceros pueden implementar sus proveedores de software tal y como se ven.</span><span class="sxs-lookup"><span data-stu-id="47a25-132">However, VSS places no restrictions on what technique that software providers use to create and maintain shadow copies, and third-party vendors are free to implement their software providers as they see fit.</span></span>

<span data-ttu-id="47a25-133">Además, VSS proporciona compatibilidad con gran parte de la funcionalidad de los proveedores de instantáneas de software, como la definición de un momento dado, la sincronización y el vaciado de datos, proporcionando una interfaz común para las aplicaciones de copia de seguridad y la administración de la instantánea.</span><span class="sxs-lookup"><span data-stu-id="47a25-133">In addition, VSS provides support for much of the functionality of software shadow copy providers, such as defining the point-in-time, data synchronization and flushing, providing a common interface for backup applications, and management of the shadow copy.</span></span>

<span data-ttu-id="47a25-134">Por definición, un proveedor de software se puede aplicar a una gama más amplia de plataformas de almacenamiento que a un proveedor de hardware, y debe poder trabajar con discos básicos o volúmenes lógicos igualmente bien.</span><span class="sxs-lookup"><span data-stu-id="47a25-134">A software provider will, by definition, be applicable to a wider range of storage platforms than a hardware provider, and should be able to work with basic disks or logical volumes equally well.</span></span> <span data-ttu-id="47a25-135">Esta generalidad sacrifica el rendimiento que puede estar disponible mediante la implementación de instantáneas en hardware y no hace uso de las características de captura de volumen o de creación de reflejo de archivos específicas del proveedor.</span><span class="sxs-lookup"><span data-stu-id="47a25-135">This generality sacrifices the performance that may be available by implementing shadow copies in hardware and does not make use of any vendor-specific volume capture or file mirroring features.</span></span>

## <a name="hardware-providers"></a><span data-ttu-id="47a25-136">Proveedores de hardware</span><span class="sxs-lookup"><span data-stu-id="47a25-136">Hardware Providers</span></span>

<span data-ttu-id="47a25-137">Los proveedores de instantáneas de hardware interceptan las solicitudes de e/s del sistema de archivos en el nivel de hardware al trabajar junto con un controlador o adaptador de almacenamiento de hardware.</span><span class="sxs-lookup"><span data-stu-id="47a25-137">Hardware shadow copy providers intercept I/O requests from the file system at the hardware level by working in conjunction with a hardware storage adapter or controller.</span></span> <span data-ttu-id="47a25-138">El trabajo de creación de la instantánea se realiza mediante un adaptador de host, un dispositivo de almacenamiento o una controladora RAID fuera del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="47a25-138">The work of creating the shadow copy is performed by a host adapter, storage appliance, or RAID controller outside of the operating system.</span></span>

<span data-ttu-id="47a25-139">Estos proveedores se implementan como un componente DLL de modo usuario que se comunica con el hardware que expondrá los datos de la instantánea: por lo tanto, los proveedores de instantáneas de hardware pueden necesitar llamar o crear otros componentes en modo kernel.</span><span class="sxs-lookup"><span data-stu-id="47a25-139">These providers are implemented as a user-mode DLL component communicating with the hardware that will expose the shadow copy data: therefore, hardware shadow copy providers may need to call or create other kernel-mode components.</span></span>

<span data-ttu-id="47a25-140">Los proveedores de hardware exponen a las instantáneas de VSS de discos completos o unidades lógicas (LUN).</span><span class="sxs-lookup"><span data-stu-id="47a25-140">Hardware providers expose to VSS shadow copies of entire disks or logical units (LUNs).</span></span> <span data-ttu-id="47a25-141">Los solicitantes todavía tratan las instantáneas de los volúmenes; VSS controla internamente todas las asignaciones de volumen a disco.</span><span class="sxs-lookup"><span data-stu-id="47a25-141">Requesters still deal with shadow copies of volumes; all the volume-to-disk mapping is handled internally by VSS.</span></span> <span data-ttu-id="47a25-142">Las instantáneas creadas por proveedores de hardware de volúmenes que residen en discos dinámicos tienen un requisito específico: no se pueden importar en el mismo sistema.</span><span class="sxs-lookup"><span data-stu-id="47a25-142">Shadow copies created by hardware providers of volumes that reside on dynamic disks have a specific requirement:  They cannot be imported onto the same system.</span></span> <span data-ttu-id="47a25-143">Deben crearse y exportarse en un segundo sistema.</span><span class="sxs-lookup"><span data-stu-id="47a25-143">They must be created transportable and imported on a second system.</span></span>

<span data-ttu-id="47a25-144">Mientras que un proveedor de instantáneas de hardware hace uso de la funcionalidad de VSS que define el momento dado, permite la sincronización de datos, administra la instantánea y proporciona una interfaz común con las aplicaciones de copia de seguridad, VSS no especifica el mecanismo subyacente por el que el proveedor de hardware genera y mantiene instantáneas.</span><span class="sxs-lookup"><span data-stu-id="47a25-144">While a hardware shadow copy provider makes use of VSS functionality that defines the point in time, allows data synchronization, manages the shadow copy, and provides a common interface with backup applications, VSS does not specify the underlying mechanism by which the hardware provider produces and maintains shadow copies.</span></span>

 

 



