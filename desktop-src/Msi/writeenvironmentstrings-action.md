---
description: La acción WriteEnvironmentStrings modifica los valores de las variables de entorno.
ms.assetid: a91c1ffe-1bdd-49bb-aa6a-71667a1ed812
title: Acción WriteEnvironmentStrings
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dc3a9d64a1140fc883d94e8d3733608d29dc2d39
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104082884"
---
# <a name="writeenvironmentstrings-action"></a><span data-ttu-id="8fe0a-103">Acción WriteEnvironmentStrings</span><span class="sxs-lookup"><span data-stu-id="8fe0a-103">WriteEnvironmentStrings Action</span></span>

<span data-ttu-id="8fe0a-104">La acción WriteEnvironmentStrings modifica los valores de las variables de entorno.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-104">The WriteEnvironmentStrings action modifies the values of environment variables.</span></span>

<span data-ttu-id="8fe0a-105">Las variables de entorno no cambian para la instalación en curso cuando se ejecuta la acción WriteEnvironmentStrings o [RemoveEnvironmentStrings](removeenvironmentstrings-action.md) .</span><span class="sxs-lookup"><span data-stu-id="8fe0a-105">Environment variables do not change for the installation in progress when the WriteEnvironmentStrings action or [RemoveEnvironmentStrings action](removeenvironmentstrings-action.md) are run.</span></span> <span data-ttu-id="8fe0a-106">En Windows 2000, Windows Server 2003, Windows XP y Windows Vista, esta información se almacena en el registro y se envía un mensaje de [**WM \_ SETTINGCHANGE**](../winmsg/wm-settingchange.md) para notificar al sistema los cambios cuando se completa la instalación.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-106">On Windows 2000, Windows Server 2003, Windows XP, and Windows Vista this information is stored in the registry and a [**WM\_SETTINGCHANGE**](../winmsg/wm-settingchange.md) message is sent to notify the system of the changes when the installation completes.</span></span> <span data-ttu-id="8fe0a-107">Otro proceso puede recibir notificaciones de los cambios mediante el control de estos mensajes.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-107">Another process can receive notification of the changes by handling these messages.</span></span> <span data-ttu-id="8fe0a-108">No se envía ningún mensaje si está pendiente un reinicio del sistema.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-108">No message is sent if a restart of the system is pending.</span></span> <span data-ttu-id="8fe0a-109">Un paquete puede usar la propiedad [**MsiSystemRebootPending**](msisystemrebootpending.md) para comprobar si hay un reinicio del sistema pendiente.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-109">A package can use the [**MsiSystemRebootPending**](msisystemrebootpending.md) property to check whether a system restart is pending.</span></span>

<span data-ttu-id="8fe0a-110">El instalador ejecuta la acción WriteEnvironmentStrings solo durante la instalación o reinstalación de un componente, y ejecuta la [acción RemoveEnvironmentStrings](removeenvironmentstrings-action.md) solo durante la eliminación de un componente.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-110">The installer runs the WriteEnvironmentStrings action only during the installation or reinstallation of a component, and runs the [RemoveEnvironmentStrings action](removeenvironmentstrings-action.md) only during the removal of a component.</span></span>

<span data-ttu-id="8fe0a-111">Los valores se escriben o se quitan en función de la selección de las acciones y modificadores principales.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-111">Values are written or removed based on the selection of primary actions and modifiers.</span></span> <span data-ttu-id="8fe0a-112">Se describen en la siguiente sección de mensajes de ActionData.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-112">These are described in the following ActionData Messages section.</span></span> <span data-ttu-id="8fe0a-113">Tenga en cuenta que, en función de la acción especificada, WriteEnvironmentStrings puede quitar variables y RemoveEnvironmentStrings puede agregarlas en función de la creación de la [tabla de entorno](environment-table.md).</span><span class="sxs-lookup"><span data-stu-id="8fe0a-113">Note that depending on the action specified, WriteEnvironmentStrings may remove variables, and RemoveEnvironmentStrings may add them based on the authoring of the [Environment table](environment-table.md).</span></span>

## <a name="sequence-restrictions"></a><span data-ttu-id="8fe0a-114">Restricciones de secuencia</span><span class="sxs-lookup"><span data-stu-id="8fe0a-114">Sequence Restrictions</span></span>

<span data-ttu-id="8fe0a-115">La [acción InstallValidate](installvalidate-action.md) se debe ejecutar antes de la acción RemoveEnvironmentStrings.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-115">The [InstallValidate action](installvalidate-action.md) must be executed before the RemoveEnvironmentStrings action.</span></span> <span data-ttu-id="8fe0a-116">Dado que la acción WriteEnvironmentStrings y la acción RemoveEnvironmentStrings nunca se aplican durante la instalación o desinstalación de un componente, su secuencia relativa no está restringida.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-116">Because the WriteEnvironmentStrings action and RemoveEnvironmentStrings action are never both applied during an install or removal of a component, their relative sequence is not restricted.</span></span>

## <a name="actiondata-messages"></a><span data-ttu-id="8fe0a-117">Mensajes ActionData</span><span class="sxs-lookup"><span data-stu-id="8fe0a-117">ActionData Messages</span></span>



| <span data-ttu-id="8fe0a-118">Campo</span><span class="sxs-lookup"><span data-stu-id="8fe0a-118">Field</span></span> | <span data-ttu-id="8fe0a-119">Descripción de los datos de acción</span><span class="sxs-lookup"><span data-stu-id="8fe0a-119">Description of action data</span></span>                                                                                                                                                                                                  |
|-------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8fe0a-120">\[1\]</span><span class="sxs-lookup"><span data-stu-id="8fe0a-120">\[1\]</span></span> | <span data-ttu-id="8fe0a-121">Nombre de la variable de entorno que se va a modificar.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-121">Name of the environment variable to modify.</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="8fe0a-122">\[2\]</span><span class="sxs-lookup"><span data-stu-id="8fe0a-122">\[2\]</span></span> | <span data-ttu-id="8fe0a-123">Valor de la variable de entorno.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-123">The environment variable value.</span></span>                                                                                                                                                                                             |
| <span data-ttu-id="8fe0a-124">\[3\]</span><span class="sxs-lookup"><span data-stu-id="8fe0a-124">\[3\]</span></span> | <span data-ttu-id="8fe0a-125">Se trata de un campo de marcas de bits que especifica la acción que se va a realizar.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-125">This is a field of bit flags that specifies the action to be performed.</span></span> <span data-ttu-id="8fe0a-126">Incluya un solo bit para una acción principal.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-126">Include only one bit for a primary action.</span></span> <span data-ttu-id="8fe0a-127">Puede haber más de un bit modificador incluido en este campo.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-127">There may be more than one modifier bit included in this field.</span></span> <span data-ttu-id="8fe0a-128">Vea las siguientes descripciones de marcas de bits.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-128">See the following bit flag descriptions.</span></span> |



 



| <span data-ttu-id="8fe0a-129">Valor de bit</span><span class="sxs-lookup"><span data-stu-id="8fe0a-129">Bit Value</span></span> | <span data-ttu-id="8fe0a-130">Descripción de las acciones principales</span><span class="sxs-lookup"><span data-stu-id="8fe0a-130">Description of primary actions</span></span>                                                                                                                                                                                      |
|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8fe0a-131">0x1</span><span class="sxs-lookup"><span data-stu-id="8fe0a-131">0x1</span></span>       | <span data-ttu-id="8fe0a-132">Establecer.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-132">Set.</span></span> <span data-ttu-id="8fe0a-133">Establece el valor de la variable de entorno en todos los casos.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-133">Sets the value of the environment variable in all cases.</span></span><br/> <span data-ttu-id="8fe0a-134">Si este bit se combina con un bit de modificador Append o PREFIX, la acción agrega el valor a cualquier valor existente de la variable.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-134">If this bit is combined with an Append or Prefix modifier bit, the action adds the value to any existing value in the variable.</span></span><br/> |
| <span data-ttu-id="8fe0a-135">0x2</span><span class="sxs-lookup"><span data-stu-id="8fe0a-135">0x2</span></span>       | <span data-ttu-id="8fe0a-136">Establecer.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-136">Set.</span></span> <span data-ttu-id="8fe0a-137">Establece el valor si la variable está ausente.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-137">Sets the value if the variable is absent.</span></span><br/> <span data-ttu-id="8fe0a-138">Si este bit se combina con un bit de modificador Append o PREFIX, la acción agrega el valor a cualquier valor existente de la variable.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-138">If this bit is combined with an Append or Prefix modifier bit, the action adds the value to any existing value in the variable.</span></span><br/>                |
| <span data-ttu-id="8fe0a-139">0x4</span><span class="sxs-lookup"><span data-stu-id="8fe0a-139">0x4</span></span>       | <span data-ttu-id="8fe0a-140">Eliminar.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-140">Remove.</span></span> <span data-ttu-id="8fe0a-141">Quita el valor de la variable.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-141">Removes the value from the variable.</span></span><br/> <span data-ttu-id="8fe0a-142">Si este bit se combina con un bit de modificador Append o PREFIX, el valor se quita de la cadena existente, si el valor existe.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-142">If this bit is combined with an Append or Prefix modifier bit, the value is removed from the existing string, if the value exists.</span></span><br/>               |



 



| <span data-ttu-id="8fe0a-143">Valor de bit</span><span class="sxs-lookup"><span data-stu-id="8fe0a-143">Bit Value</span></span>  | <span data-ttu-id="8fe0a-144">Descripción del modificador</span><span class="sxs-lookup"><span data-stu-id="8fe0a-144">Description of modifier</span></span>                                                                                                                                                              |
|------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="8fe0a-145">0x20000000</span><span class="sxs-lookup"><span data-stu-id="8fe0a-145">0x20000000</span></span> | <span data-ttu-id="8fe0a-146">Si se establece este bit, las acciones se aplican a las variables de entorno del equipo.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-146">If this bit is set, actions are applied to the machine environment variables.</span></span><br/> <span data-ttu-id="8fe0a-147">Si no se establece este bit, las acciones se aplican a las variables de entorno del usuario.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-147">If this bit is not set, actions are applied to the user's environment variables.</span></span><br/> |
| <span data-ttu-id="8fe0a-148">0x40000000</span><span class="sxs-lookup"><span data-stu-id="8fe0a-148">0x40000000</span></span> | <span data-ttu-id="8fe0a-149">Anexar.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-149">Append.</span></span> <span data-ttu-id="8fe0a-150">Este bit es opcional.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-150">This bit is optional.</span></span> <span data-ttu-id="8fe0a-151">No establezca los modificadores Append y prefix.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-151">Do not set both the Append and Prefix modifiers.</span></span><br/>                                                                                            |
| <span data-ttu-id="8fe0a-152">0x80000000</span><span class="sxs-lookup"><span data-stu-id="8fe0a-152">0x80000000</span></span> | <span data-ttu-id="8fe0a-153">Ceder.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-153">Prefix.</span></span> <span data-ttu-id="8fe0a-154">Este bit es opcional.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-154">This bit is optional.</span></span> <span data-ttu-id="8fe0a-155">No establezca los modificadores Append y prefix.</span><span class="sxs-lookup"><span data-stu-id="8fe0a-155">Do not set both the Append and Prefix modifiers.</span></span><br/>                                                                                            |



 

 

 
