---
description: Las API de InkAnalysis proporcionan a los desarrolladores de Tablet PC herramientas eficaces para examinar mediante programación la entrada manuscrita. La API clasifica la entrada manuscrita en categorías significativas como palabras, líneas, párrafos y dibujos.
ms.assetid: d9521a8c-f61a-40ea-8603-e8afbba75a4e
title: Información general de análisis de tinta
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8e383d16c01cd9475d4c54587b4b5fb4c09791a0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104540438"
---
# <a name="ink-analysis-overview"></a><span data-ttu-id="b780b-104">Información general de análisis de tinta</span><span class="sxs-lookup"><span data-stu-id="b780b-104">Ink Analysis Overview</span></span>

<span data-ttu-id="b780b-105">Las API de InkAnalysis proporcionan a los desarrolladores de Tablet PC herramientas eficaces para examinar mediante programación la entrada manuscrita.</span><span class="sxs-lookup"><span data-stu-id="b780b-105">The InkAnalysis APIs provide Tablet PC developers with powerful tools to programmatically examine ink input.</span></span> <span data-ttu-id="b780b-106">La API clasifica la entrada manuscrita en categorías significativas como palabras, líneas, párrafos y dibujos.</span><span class="sxs-lookup"><span data-stu-id="b780b-106">The API classifies ink into meaningful categories such as words, lines, paragraphs, and drawings.</span></span>

<span data-ttu-id="b780b-107">Puede usar cada clasificación de varias maneras, incluida la mejora de los resultados de reconocimiento de escritura a mano.</span><span class="sxs-lookup"><span data-stu-id="b780b-107">You can use each classification in a variety of ways, including improving recognition results for handwriting.</span></span>

## <a name="ink-analysis-basics"></a><span data-ttu-id="b780b-108">Aspectos básicos del análisis de tinta</span><span class="sxs-lookup"><span data-stu-id="b780b-108">Ink Analysis Basics</span></span>

<span data-ttu-id="b780b-109">En esta sección se presenta la tecnología de análisis de tinta de la plataforma de Tablet PC y se explica cuándo y cómo utilizarla.</span><span class="sxs-lookup"><span data-stu-id="b780b-109">This section introduces the Tablet PC Platform ink analysis technology and explains when and how to use it.</span></span>

<span data-ttu-id="b780b-110">Las API de InkAnalysis combinan eficazmente dos tecnologías distintas pero gratuitas: reconocimiento de escritura a mano y clasificación de diseño.</span><span class="sxs-lookup"><span data-stu-id="b780b-110">The InkAnalysis APIs effectively combine two distinct but complimentary technologies: handwriting recognition and layout classification.</span></span> <span data-ttu-id="b780b-111">La combinación de estas dos tecnologías proporciona resultados más definitivos que las partes tomadas por sí sola.</span><span class="sxs-lookup"><span data-stu-id="b780b-111">Combining these two technologies gives definitively greater results than the parts taken alone.</span></span>

<span data-ttu-id="b780b-112">El reconocimiento de escritura a mano es el análisis computacional de la tinta digital manuscrita para devolver la interpretación basada en caracteres en un idioma determinado.</span><span class="sxs-lookup"><span data-stu-id="b780b-112">Handwriting recognition is the computational analysis of handwritten digital ink to return character-based interpretation in a given language.</span></span> <span data-ttu-id="b780b-113">Es decir, el reconocimiento de escritura a mano es el modo en que el equipo "Lee" la escritura a mano de una persona.</span><span class="sxs-lookup"><span data-stu-id="b780b-113">That is, handwriting recognition is how the computer "reads" a person's handwriting.</span></span>

<span data-ttu-id="b780b-114">El análisis de tinta se puede desglosar aún más en el análisis de diseño y clasificación de tinta.</span><span class="sxs-lookup"><span data-stu-id="b780b-114">Ink Analysis can be further broken down into ink classification and layout analysis.</span></span> <span data-ttu-id="b780b-115">La clasificación de tinta es la división computacional de la entrada manuscrita en unidades semánticamente significativas como párrafos, líneas, palabras y dibujos.</span><span class="sxs-lookup"><span data-stu-id="b780b-115">Ink classification is the computational division of ink into semantically meaningful units such as paragraphs, lines, words, and drawings.</span></span> <span data-ttu-id="b780b-116">El análisis de diseño es el examen computacional de la entrada manuscrita para determinar la posición de la tinta en la superficie de entrada manuscrita y cómo se relacionan los trazos entre sí espacialmente e incluso semánticamente.</span><span class="sxs-lookup"><span data-stu-id="b780b-116">Layout analysis is the computational examination of ink input to determine the position of the ink on the inking surface and how the strokes relate to each other spatially and even semantically.</span></span> <span data-ttu-id="b780b-117">Por ejemplo, el análisis de diseño puede indicar que una parte de la tinta determinada es una anotación o una llamada.</span><span class="sxs-lookup"><span data-stu-id="b780b-117">For example, layout analysis can tell you that a particular piece of ink is an annotation or a call out.</span></span>

### <a name="recognition"></a><span data-ttu-id="b780b-118">Reconocimiento</span><span class="sxs-lookup"><span data-stu-id="b780b-118">Recognition</span></span>

<span data-ttu-id="b780b-119">Un ejemplo de cómo la combinación de reconocimiento con el análisis de tinta en la API InkAnalysis ayuda al desarrollador a mejorar el reconocimiento de los resultados.</span><span class="sxs-lookup"><span data-stu-id="b780b-119">One example of how the combination of recognition with ink analysis in the InkAnalysis API helps the developer is the improvement in recognition results.</span></span> <span data-ttu-id="b780b-120">Los motores de reconocimiento de escritura a mano de Tablet PC se han diseñado principalmente para reconocer una única línea horizontal de tinta.</span><span class="sxs-lookup"><span data-stu-id="b780b-120">The Tablet PC handwriting recognition engines have been primarily designed to recognize a single horizontal line of ink.</span></span> <span data-ttu-id="b780b-121">Sin embargo, las personas tienden a escribir varias líneas al tomar notas y no se garantiza que esas líneas sean horizontales respecto a la página.</span><span class="sxs-lookup"><span data-stu-id="b780b-121">However, people tend to write multiple lines when taking notes, and those lines are not guaranteed to be horizontal in relation to the page.</span></span> <span data-ttu-id="b780b-122">Con la API InkAnalysis, el analizador de tinta preprocesa la entrada de lápiz antes de enviarla al reconocedor.</span><span class="sxs-lookup"><span data-stu-id="b780b-122">With the InkAnalysis API, ink is preprocessed by the ink analyzer before being sent to the recognizer.</span></span> <span data-ttu-id="b780b-123">La tinta analizada se transforma a horizontal antes de que se reconozca, mejorando los resultados del reconocimiento.</span><span class="sxs-lookup"><span data-stu-id="b780b-123">The analyzed ink is transformed to horizontal before being recognized, improving the recognition results.</span></span>

<span data-ttu-id="b780b-124">Otras ventajas del reconocimiento se derivan al hacer que el analizador de tinta corrija la información de orden de trazos incorrecta antes de enviar la tinta al reconocedor.</span><span class="sxs-lookup"><span data-stu-id="b780b-124">Other benefits to recognition are derived by having the ink analyzer correct incorrect stroke order information before sending the ink to the recognizer.</span></span> <span data-ttu-id="b780b-125">Además, los resultados de reconocimiento ahora están disponibles de manera selectiva.</span><span class="sxs-lookup"><span data-stu-id="b780b-125">Further, recognition results are now available in a selective manner.</span></span> <span data-ttu-id="b780b-126">Es decir, el desarrollador puede recuperar rápidamente los resultados de reconocimiento para una sola palabra, línea o párrafo en una llamada.</span><span class="sxs-lookup"><span data-stu-id="b780b-126">That is, the developer can quickly retrieve the recognition results for a single word, line, or paragraph in one call.</span></span>

### <a name="ink-classification"></a><span data-ttu-id="b780b-127">Clasificación de tinta</span><span class="sxs-lookup"><span data-stu-id="b780b-127">Ink Classification</span></span>

<span data-ttu-id="b780b-128">Por supuesto, hay una serie de escenarios en los que puede mantener intactos los datos de tinta, en lugar de convertirlos inmediatamente en texto.</span><span class="sxs-lookup"><span data-stu-id="b780b-128">There are, of course, a variety of scenarios in which you may to keep the ink data intact, rather than converting it immediately to text.</span></span> <span data-ttu-id="b780b-129">El análisis de tinta proporciona también beneficios aquí.</span><span class="sxs-lookup"><span data-stu-id="b780b-129">Ink analysis provides benefits here as well.</span></span> <span data-ttu-id="b780b-130">En concreto, las API de InkAnalysis proporcionan la capacidad de dividir trazos de tinta en función de si están escribiendo o dibujando dibujos.</span><span class="sxs-lookup"><span data-stu-id="b780b-130">Specifically, the InkAnalysis APIs provide the ability to split ink strokes according to whether they are writing or drawings.</span></span> <span data-ttu-id="b780b-131">Los trazos de lápiz que se clasifican como escritura son los que componen una palabra o caracteres.</span><span class="sxs-lookup"><span data-stu-id="b780b-131">Ink strokes that are classified as writing are those that make up a word or characters.</span></span> <span data-ttu-id="b780b-132">Todos los demás trazos son dibujos.</span><span class="sxs-lookup"><span data-stu-id="b780b-132">All other strokes are drawings.</span></span> <span data-ttu-id="b780b-133">Esto le proporciona una nueva manera de tener acceso a los datos de tinta, lo que permite nuevos escenarios de usuario.</span><span class="sxs-lookup"><span data-stu-id="b780b-133">This provides you with a new way to access ink data, enabling new user scenarios.</span></span> <span data-ttu-id="b780b-134">Por ejemplo, puede implementar la selección para que sea diferente en función del tipo de trazo que el usuario pulse. Si un usuario pulsa un trazo de escritura, la aplicación selecciona el conjunto completo de trazos que componen la palabra, si el usuario pulsa un dibujo Stoke, la aplicación selecciona solo ese trazo.</span><span class="sxs-lookup"><span data-stu-id="b780b-134">For instance, you may implement selection so that it is different based on which type of stroke the user taps on; if a user taps a writing stroke, the application selects the entire set of strokes that compose the word, if the user taps a drawing stoke, the application selects only that stroke.</span></span>

### <a name="layout-analysis"></a><span data-ttu-id="b780b-135">Análisis de diseño</span><span class="sxs-lookup"><span data-stu-id="b780b-135">Layout Analysis</span></span>

<span data-ttu-id="b780b-136">En realidad, un análisis de diseño útil va más allá del desglose relativamente simple de la entrada de lápiz en componentes de escritura y dibujo.</span><span class="sxs-lookup"><span data-stu-id="b780b-136">Useful layout analysis actually goes far beyond the relatively simple breakdown of ink into writing and drawing components.</span></span>

<span data-ttu-id="b780b-137">El análisis de tinta también incluye un desglose más completo de los trazos de escritura y dibujo.</span><span class="sxs-lookup"><span data-stu-id="b780b-137">Ink analysis also includes a richer breakdown of the writing and drawing strokes.</span></span> <span data-ttu-id="b780b-138">Como ejemplo muy sencillo, tome un BLOB de tinta como se muestra en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="b780b-138">As a very simple example, take a blob of ink as shown in the following illustration.</span></span>

![dos líneas simples de escritura a mano](images/12e7a221-59c1-4d69-b7aa-67f2caebe375.jpg)

<span data-ttu-id="b780b-140">Una vez que la plataforma ha analizado estos trazos, devuelve una representación en árbol de estos trazos, tal y como se muestra en la siguiente ilustración.</span><span class="sxs-lookup"><span data-stu-id="b780b-140">After the platform has analyzed these strokes, it returns a tree representation of these strokes as shown in the following illustration.</span></span> <span data-ttu-id="b780b-141">En este caso simple, el árbol solo contiene información de párrafo, línea y palabra, pero la riqueza de este árbol aumenta a medida que aumenta la complejidad del documento de tinta.</span><span class="sxs-lookup"><span data-stu-id="b780b-141">For this simple case, the tree contains only paragraph, line, and word information, but the richness of this tree increases as the complexity of the ink document increases.</span></span>

![representación de árbol de raíz, párrafo, líneas y palabras](images/be5a7635-0abc-45ad-bcb5-98fddee5e148.jpg)

<span data-ttu-id="b780b-143">Dado que esta información está ahora separada en unidades administrables, ahora puede crear características más eficaces.</span><span class="sxs-lookup"><span data-stu-id="b780b-143">Because this information is now separated into manageable units, you can now create more powerful features.</span></span> <span data-ttu-id="b780b-144">Por ejemplo, la aplicación puede extender la característica en la que el usuario puntea para seleccionar una palabra en una característica en la que el usuario pulsa una vez para seleccionar la palabra, se puntea dos veces para seleccionar la línea completa y se pulsa tres veces para seleccionar todo el párrafo.</span><span class="sxs-lookup"><span data-stu-id="b780b-144">As an example, the application can extend the feature in which the user taps to select a word into a feature in which the user taps once to select the word, taps twice to select the entire line, and taps three times to select the entire paragraph.</span></span> <span data-ttu-id="b780b-145">Al aprovechar la estructura de árbol devuelta por la operación de análisis, la aplicación puede relacionar el área punteada de nuevo con un trazo en el árbol.</span><span class="sxs-lookup"><span data-stu-id="b780b-145">By leveraging the tree structure returned by the analysis operation, the application can relate the tapped area back to a stroke in the tree.</span></span> <span data-ttu-id="b780b-146">Una vez que la aplicación encuentra un trazo, puede recorrer el árbol para determinar cómo y qué trazos vecinos seleccionar.</span><span class="sxs-lookup"><span data-stu-id="b780b-146">After the application finds a stroke, it can walk up the tree to determine how and which neighboring strokes to select.</span></span>

<span data-ttu-id="b780b-147">La selección de una línea completa es un ejemplo simplista de las ventajas del análisis de tinta, pero las posibilidades son excelentes cuando uno tiene en cuenta los diferentes tipos de estructuras jerárquicas que el analizador de tinta es capaz de detectar:</span><span class="sxs-lookup"><span data-stu-id="b780b-147">Selecting an entire line is a simplistic example of the benefits of ink analysis, but the possibilities become great when one considers the different types of hierarchical structures the ink analyzer is capable of detecting:</span></span>

-   <span data-ttu-id="b780b-148">Listas ordenadas y no ordenadas</span><span class="sxs-lookup"><span data-stu-id="b780b-148">Ordered and unordered lists</span></span>
-   <span data-ttu-id="b780b-149">Formas</span><span class="sxs-lookup"><span data-stu-id="b780b-149">Shapes</span></span>
-   <span data-ttu-id="b780b-150">Comentarios anotativos escritos en línea con el texto</span><span class="sxs-lookup"><span data-stu-id="b780b-150">Annotative comments written inline with the text</span></span>

<span data-ttu-id="b780b-151">Los tipos de características varían de una aplicación a una aplicación y se basan en los requisitos y en los motores de análisis y reconocimiento de tinta disponibles.</span><span class="sxs-lookup"><span data-stu-id="b780b-151">The types of features vary from application to application and are based on requirements and the available ink analysis and recognition engines.</span></span>

### <a name="key-ink-analysis-features"></a><span data-ttu-id="b780b-152">Características de análisis de tinta de claves</span><span class="sxs-lookup"><span data-stu-id="b780b-152">Key Ink Analysis Features</span></span>

<span data-ttu-id="b780b-153">Las funcionalidades clave de la API de InkAnalysis incluyen las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="b780b-153">The key capabilities of the InkAnalysis API include the following features:</span></span>

-   <span data-ttu-id="b780b-154">Análisis incremental</span><span class="sxs-lookup"><span data-stu-id="b780b-154">Incremental Analysis</span></span>
-   <span data-ttu-id="b780b-155">Persistencia</span><span class="sxs-lookup"><span data-stu-id="b780b-155">Persistence</span></span>
-   <span data-ttu-id="b780b-156">Proxy de datos</span><span class="sxs-lookup"><span data-stu-id="b780b-156">Data Proxy</span></span>
-   <span data-ttu-id="b780b-157">Conciliación</span><span class="sxs-lookup"><span data-stu-id="b780b-157">Reconciliation</span></span>
-   <span data-ttu-id="b780b-158">Extensibilidad</span><span class="sxs-lookup"><span data-stu-id="b780b-158">Extensibility</span></span>

### <a name="incremental-analysis"></a><span data-ttu-id="b780b-159">Análisis incremental</span><span class="sxs-lookup"><span data-stu-id="b780b-159">Incremental Analysis</span></span>

<span data-ttu-id="b780b-160">Cuando los usuarios finales trabajan con tinta, normalmente lo tratan como escritura a mano.</span><span class="sxs-lookup"><span data-stu-id="b780b-160">When end users work with ink, they usually treat it like handwriting.</span></span> <span data-ttu-id="b780b-161">La tinta está continuamente sujeta a operaciones de edición como la adición de nueva tinta, la eliminación de la tinta existente y la modificación de las propiedades de entrada manuscrita, todo ello de la misma forma que la escritura a mano se edita continuamente.</span><span class="sxs-lookup"><span data-stu-id="b780b-161">The ink is continually subject to editing operations such as the addition of new ink, deletion of existing ink, and the modification of ink properties, all done in the same way that handwriting is continually edited.</span></span> <span data-ttu-id="b780b-162">Estas operaciones de edición afectan a los resultados del análisis.</span><span class="sxs-lookup"><span data-stu-id="b780b-162">These editing operations affect the analysis results.</span></span> <span data-ttu-id="b780b-163">Cuando se producen modificaciones, normalmente se pueden aislar en secciones del documento en momentos concretos.</span><span class="sxs-lookup"><span data-stu-id="b780b-163">When edits occur, they can usually be isolated to sections of the document at specific points in time.</span></span> <span data-ttu-id="b780b-164">Por ejemplo, supongamos que un usuario escribe cinco líneas de tinta.</span><span class="sxs-lookup"><span data-stu-id="b780b-164">For example, assume a user writes five lines of ink.</span></span> <span data-ttu-id="b780b-165">La manera estándar en que las aplicaciones analizan la tinta es esperar hasta que el usuario haya terminado de escribir las cinco líneas de tinta (un párrafo, por ejemplo) y, a continuación, analizar los resultados, ya sea de forma sincrónica o asincrónica.</span><span class="sxs-lookup"><span data-stu-id="b780b-165">The standard way that applications analyze ink is to wait until the user has finished writing all five lines of ink—a paragraph, for instance—and then analyze the results, either synchronously or asynchronously.</span></span>

<span data-ttu-id="b780b-166">Puede optimizar el tiempo total empleado en el análisis de estas cinco líneas al aislar las áreas que se analizan a medida que se escriben y, a continuación, volver a analizar solo las partes de los resultados que han cambiado.</span><span class="sxs-lookup"><span data-stu-id="b780b-166">You can optimize the overall time spent analyzing these five lines by isolating the areas that are analyzed as they are being written, and then reanalyzing only the parts of the results that have changed.</span></span> <span data-ttu-id="b780b-167">Una vez analizada la primera línea, nunca se reconocerá de nuevo a menos que la modifique el usuario final.</span><span class="sxs-lookup"><span data-stu-id="b780b-167">After the first line is analyzed, it will never be recognized again unless it is modified by the end user.</span></span> <span data-ttu-id="b780b-168">El reconocimiento de la segunda línea se trata como una operación de reconocimiento independiente.</span><span class="sxs-lookup"><span data-stu-id="b780b-168">Recognition of the second line is treated as an independent recognition operation.</span></span>

<span data-ttu-id="b780b-169">Este enfoque incremental funciona bien en el nivel de línea para las operaciones de reconocimiento, pero debe funcionar en un nivel superior para la operación de análisis de tinta.</span><span class="sxs-lookup"><span data-stu-id="b780b-169">This incremental approach works well at the line level for the recognition operations, but it needs to work at a higher level for the ink analysis operation.</span></span> <span data-ttu-id="b780b-170">Dado que el analizador de tintas puede detectar distintas clasificaciones de nivel superior para estas cinco líneas de tinta (por ejemplo, podría ser un párrafo estándar o cinco elementos de una lista), el enfoque incremental para el analizador de tinta es que tiene que analizar estas estructuras más altas.</span><span class="sxs-lookup"><span data-stu-id="b780b-170">Because the ink analyzer can detect different higher level classifications for these five lines of ink (for example, it could be a standard paragraph or five items in a list), the incremental approach for the ink analyzer is that it has to analyze these higher structures.</span></span> <span data-ttu-id="b780b-171">Es decir, después de que el analizador de tintas clasifique la primera línea de entrada de lápiz como una línea, comprueba que sigue siendo una línea cuando clasifica la segunda línea.</span><span class="sxs-lookup"><span data-stu-id="b780b-171">That is to say, after the ink analyzer classifies the first line of ink as a line, it double-checks that it is still a line when it classifies the second line.</span></span> <span data-ttu-id="b780b-172">Sin embargo, el analizador de tintas aísla esta doble comprobación en el párrafo y omite el primer párrafo al analizar un segundo párrafo, tratando el segundo párrafo como una operación independiente del analizador de tinta.</span><span class="sxs-lookup"><span data-stu-id="b780b-172">However, the ink analyzer isolates this double-checking to the paragraph and ignores the first paragraph when analyzing a second paragraph, treating the second paragraph as an independent ink analyzer operation.</span></span> <span data-ttu-id="b780b-173">Este enfoque incremental para el análisis ahorra drásticamente tiempo de procesamiento cuando ya existen grandes cantidades de tinta en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b780b-173">This incremental approach to analysis dramatically saves processing time when large amounts of ink already exist in the application.</span></span>

### <a name="persistence"></a><span data-ttu-id="b780b-174">Persistencia</span><span class="sxs-lookup"><span data-stu-id="b780b-174">Persistence</span></span>

<span data-ttu-id="b780b-175">El análisis incremental funciona bien dentro de una sesión o instancia determinada de un objeto [**InkAnalyzer**](inkanalyzer.md) .</span><span class="sxs-lookup"><span data-stu-id="b780b-175">Incremental analysis works well within a given session or instance of an [**InkAnalyzer**](inkanalyzer.md) object.</span></span> <span data-ttu-id="b780b-176">Sin embargo, la primera generación de API de la plataforma de Tablet PC no puede realizar un análisis incremental después de que la tinta se conserve en el disco.</span><span class="sxs-lookup"><span data-stu-id="b780b-176">However, the first generation Tablet PC Platform APIs cannot perform incremental analysis after the ink is persisted to disk.</span></span> <span data-ttu-id="b780b-177">La API de InkAnalysis permite guardar la entrada manuscrita en el disco junto con un formulario guardado de los resultados del análisis.</span><span class="sxs-lookup"><span data-stu-id="b780b-177">The InkAnalysis API enables saving ink to disk along with a persisted form of the analysis results.</span></span> <span data-ttu-id="b780b-178">Los resultados del análisis se pueden cargar cuando la tinta se carga y se puede insertar en una nueva instancia de un **InkAnalyzer**.</span><span class="sxs-lookup"><span data-stu-id="b780b-178">The analysis results can be loaded when the ink is loaded and can be injected into a new instance of an **InkAnalyzer**.</span></span> <span data-ttu-id="b780b-179">Una nueva instancia del objeto **InkAnalyzer** tiene el mismo estado de resultados que tenía anteriormente y ahora puede aceptar cualquier modificación como cambios incrementales en el estado existente, en lugar de analizar todo de nuevo.</span><span class="sxs-lookup"><span data-stu-id="b780b-179">A new instance of the **InkAnalyzer** object then has the same results state it previously had and can now accept any modifications as incremental changes to the existing state, rather than analyzing everything again.</span></span>

### <a name="data-proxy"></a><span data-ttu-id="b780b-180">Proxy de datos</span><span class="sxs-lookup"><span data-stu-id="b780b-180">Data Proxy</span></span>

<span data-ttu-id="b780b-181">Muchas aplicaciones ya tienen algún tipo de estructura de documento existente en sus aplicaciones. por ejemplo, un grafo o una base de datos.</span><span class="sxs-lookup"><span data-stu-id="b780b-181">Many applications already have some sort of existing document structure in their applications; for instance, a graph or a database.</span></span> <span data-ttu-id="b780b-182">[**InkAnalyzer**](inkanalyzer.md) también presenta los resultados en un formato estructurado, en un árbol de objetos [**ContextNode**](icontextnode.md) .</span><span class="sxs-lookup"><span data-stu-id="b780b-182">The [**InkAnalyzer**](inkanalyzer.md) also presents results in a structured form, in a tree of [**ContextNode**](icontextnode.md) objects.</span></span> <span data-ttu-id="b780b-183">La estructura **InkAnalyzer** y la estructura existente de la aplicación deben interoperar en dos direcciones: los resultados se extraen de la **InkAnalyzer** a la aplicación y el estado se inserta desde la aplicación en el **InkAnalyzer**.</span><span class="sxs-lookup"><span data-stu-id="b780b-183">The **InkAnalyzer** structure and the application's existing structure need to interoperate in two directions: results are pulled from the **InkAnalyzer** into the application and state is pushed from the application into the **InkAnalyzer**.</span></span>

<span data-ttu-id="b780b-184">Si se extraen los resultados de [**InkAnalyzer**](inkanalyzer.md) en la estructura de la aplicación, sería relativamente sencillo.</span><span class="sxs-lookup"><span data-stu-id="b780b-184">If pulling the results from the [**InkAnalyzer**](inkanalyzer.md) into the application's structure were all that was needed, it would be relatively simple.</span></span> <span data-ttu-id="b780b-185">Las aplicaciones iterarán en el árbol de resultados y copiarán (integrarán) todos los elementos de los resultados que necesiten en la estructura de datos existente.</span><span class="sxs-lookup"><span data-stu-id="b780b-185">Applications would iterate through the results tree and copy (integrate) all pieces of the results they need into their existing data structure.</span></span> <span data-ttu-id="b780b-186">Sin embargo, dado que muchas aplicaciones horizontales requieren análisis incremental y persistencia en el disco, el problema se vuelve bidireccional.</span><span class="sxs-lookup"><span data-stu-id="b780b-186">However, because many horizontal applications require incremental analysis and persistence to disk, the problem becomes two-directional.</span></span> <span data-ttu-id="b780b-187">El estado (resultados anteriores) debe extraerse de la estructura de la aplicación e insertarse en el **InkAnalyzer**.</span><span class="sxs-lookup"><span data-stu-id="b780b-187">State (past results) needs to be pulled from the application's structure and pushed into the **InkAnalyzer**.</span></span>

<span data-ttu-id="b780b-188">Para cumplir este requisito, el [**InkAnalyzer**](inkanalyzer.md) contiene una serie de eventos que genera en el momento adecuado durante una operación de análisis para permitir que las aplicaciones representen la solicitud de datos de vuelta a sus estructuras existentes.</span><span class="sxs-lookup"><span data-stu-id="b780b-188">To meet this requirement, the [**InkAnalyzer**](inkanalyzer.md) contains a series of events that it raises at the appropriate time during an analysis operation to allow applications to proxy the request for data back to their existing structures.</span></span> <span data-ttu-id="b780b-189">Estos eventos solo se generan para los objetos [**ContextNode**](icontextnode.md) que requiere la operación incremental.</span><span class="sxs-lookup"><span data-stu-id="b780b-189">These events are raised only for those [**ContextNode**](icontextnode.md) objects required by the incremental operation.</span></span>

### <a name="reconciliation"></a><span data-ttu-id="b780b-190">Conciliación</span><span class="sxs-lookup"><span data-stu-id="b780b-190">Reconciliation</span></span>

<span data-ttu-id="b780b-191">La mayoría de las aplicaciones querrán analizar la tinta en segundo plano para mantener al mínimo las interrupciones de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="b780b-191">Most applications will want to analyze the ink in the background to keep user interface interruptions to a minimum.</span></span> <span data-ttu-id="b780b-192">El análisis de la tinta en segundo plano causa problemas, sin embargo, si el usuario cambia la tinta (o la tinta adyacente) que se está analizando.</span><span class="sxs-lookup"><span data-stu-id="b780b-192">Analyzing ink in the background causes problems, however, if the user changes the ink (or neighboring ink) that is being analyzed.</span></span> <span data-ttu-id="b780b-193">Por ejemplo, si el usuario elimina la entrada manuscrita durante la operación en segundo plano, la estructura resultante reflejará el estado del documento cuando se inició la operación en segundo plano, en lugar de cuando se completó.</span><span class="sxs-lookup"><span data-stu-id="b780b-193">For example, if the user deletes the ink during the background operation, the resulting structure would reflect the state of the document when the background operation started, rather than when it was completed.</span></span>

<span data-ttu-id="b780b-194">Para ayudar a las aplicaciones, [**InkAnalyzer**](inkanalyzer.md) concilia las diferencias en el estado del documento entre el principio y el final de la operación de análisis.</span><span class="sxs-lookup"><span data-stu-id="b780b-194">To assist applications, the [**InkAnalyzer**](inkanalyzer.md) reconciles the differences in document state between the beginning and end of the analysis operation.</span></span> <span data-ttu-id="b780b-195">Los cambios realizados por el usuario o la aplicación mientras el análisis se ejecuta en segundo plano reemplazan siempre los resultados calculados en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="b780b-195">Changes made by the user or application while the analysis is running in the background always override the results calculated in the background.</span></span> <span data-ttu-id="b780b-196">Después de la conciliación, solo se muestran las partes de la estructura de resultados que no entran en conflicto con los cambios de documento y los trazos en conflicto se etiquetan para un análisis futuro.</span><span class="sxs-lookup"><span data-stu-id="b780b-196">After reconciliation, only the parts of the results structure that do not conflict with document changes are reported, and the conflicting strokes are tagged for future analysis.</span></span> <span data-ttu-id="b780b-197">La próxima vez que se ejecute la operación de análisis en segundo plano, los resultados se volverán a calcular en función del nuevo estado.</span><span class="sxs-lookup"><span data-stu-id="b780b-197">The next time the background analysis operation is run, the results are recalculated based on the new state.</span></span>

<span data-ttu-id="b780b-198">En el diagrama siguiente se muestra este proceso.</span><span class="sxs-lookup"><span data-stu-id="b780b-198">The following diagram shows this process.</span></span> <span data-ttu-id="b780b-199">La hora se expresa linealmente de arriba abajo en el diagrama.</span><span class="sxs-lookup"><span data-stu-id="b780b-199">Time is expressed linearly from top to bottom in the diagram.</span></span>

![proceso para reconciliar los cambios de estado de documento durante la operación de análisis](images/6323e0b5-b6b3-4adc-8c73-da3fad5b4bc2.jpg)

1.  <span data-ttu-id="b780b-201">En el momento 1 (T1), la aplicación está recopilando la tinta del usuario final, incluido cualquier tipo de modificación de la tinta, como agregar, quitar o modificar.</span><span class="sxs-lookup"><span data-stu-id="b780b-201">At time 1 (t1), the application is collecting ink from the end-user, including any kind of ink modification, such as adding, removing, or modifying.</span></span>
2.  <span data-ttu-id="b780b-202">En T2, la aplicación invoca la operación de análisis en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="b780b-202">At t2, the application invokes the background analysis operation.</span></span> <span data-ttu-id="b780b-203">El [**InkAnalyzer**](inkanalyzer.md) determina qué tinta no tiene resultados y qué tinta se debe comprobar doble.</span><span class="sxs-lookup"><span data-stu-id="b780b-203">The [**InkAnalyzer**](inkanalyzer.md) determines what ink does not have results and what ink needs to be double-checked.</span></span> <span data-ttu-id="b780b-204">Copia los datos de tinta necesarios para permitir que el subproceso en segundo plano se ejecute de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="b780b-204">It copies the needed ink data to allow the background thread to execute independently.</span></span>
3.  <span data-ttu-id="b780b-205">En T3, [**InkAnalyzer**](inkanalyzer.md) devuelve la ejecución del subproceso de la interfaz de usuario a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b780b-205">At t3, the [**InkAnalyzer**](inkanalyzer.md) returns the user interface thread execution to the application.</span></span> <span data-ttu-id="b780b-206">**InkAnalyzer** crea un segundo subproceso, el subproceso de análisis en segundo plano y los motores de análisis y reconocimiento de tinta, y analiza los datos de tinta copiados.</span><span class="sxs-lookup"><span data-stu-id="b780b-206">The **InkAnalyzer** creates a second thread, the background analysis thread, and the ink analysis and recognition engines analyze the copied ink data.</span></span>
4.  <span data-ttu-id="b780b-207">Mientras la operación de análisis se está produciendo en el segundo subproceso en segundo plano, el usuario final continúa editando el documento, agregando y quitando los datos de trazo, en T4 y T5.</span><span class="sxs-lookup"><span data-stu-id="b780b-207">While the analysis operation is occurring on the second background thread, the end user continues to edit the document, adding and removing stroke data, at t4 and t5.</span></span> <span data-ttu-id="b780b-208">Estas modificaciones pueden entrar en conflicto con el trabajo que se está procesando en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="b780b-208">These edits can conflict with the work that is being process in the background.</span></span>
5.  <span data-ttu-id="b780b-209">En T6, el subproceso en segundo plano ha finalizado la operación de análisis y los resultados están listos.</span><span class="sxs-lookup"><span data-stu-id="b780b-209">At t6, the background thread has finished the analysis operation, and results are ready.</span></span> <span data-ttu-id="b780b-210">Antes de que [**InkAnalyzer**](inkanalyzer.md) comunique los resultados a la aplicación, ejecuta un algoritmo de conciliación para determinar si las modificaciones realizadas por el usuario mientras se calculaba la operación de análisis (T4 y T5) entran en conflicto con los resultados.</span><span class="sxs-lookup"><span data-stu-id="b780b-210">Before the [**InkAnalyzer**](inkanalyzer.md) communicates the results to the application, it runs a reconciliation algorithm to determine if the user edits made while the analysis operation was being calculated (t4 and t5) conflict with the results.</span></span> <span data-ttu-id="b780b-211">Si se detectan conflictos, los trazos en conflicto se marcan para su reanálisis, que se produce la próxima vez que la aplicación invoca la operación de análisis en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="b780b-211">If any collisions are detected, the colliding strokes are flagged for re-analysis, which occurs the next time the application invokes the background analysis operation.</span></span>
6.  <span data-ttu-id="b780b-212">Por último, en T7, con todas las colisiones detectadas, [**InkAnalyzer**](inkanalyzer.md) presenta los resultados a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b780b-212">Finally, at t7, with all the collisions detected, the [**InkAnalyzer**](inkanalyzer.md) presents the results to the application.</span></span>

### <a name="extensibility"></a><span data-ttu-id="b780b-213">Extensibilidad</span><span class="sxs-lookup"><span data-stu-id="b780b-213">Extensibility</span></span>

<span data-ttu-id="b780b-214">Las API de InkAnalysis permiten que las aplicaciones usen nuevos tipos de motores de análisis, de forma que la aplicación no tenga que volver a escribir todas las ventajas de la API de InkAnalysis, incluida la reconciliación, el proxy de datos, la persistencia y el análisis incremental.</span><span class="sxs-lookup"><span data-stu-id="b780b-214">The InkAnalysis APIs allow new types of analysis engines to be used by applications, in such a way as to prevent the application from having to rewrite all of the benefits of the InkAnalysis API, including reconciliation, data proxy, persistence, and incremental analysis.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b780b-215">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="b780b-215">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="b780b-216">[Microsoft. Ink](/previous-versions/dotnet/netframework-3.5/ms581553(v=vs.90))</span><span class="sxs-lookup"><span data-stu-id="b780b-216">[Microsoft.Ink](/previous-versions/dotnet/netframework-3.5/ms581553(v=vs.90))</span></span>
</dt> <dt>

[<span data-ttu-id="b780b-217">Referencia de análisis de tinta</span><span class="sxs-lookup"><span data-stu-id="b780b-217">Ink Analysis Reference</span></span>](ink-analysis-reference.md)
</dt> </dl>

 

 
