---
title: Crear consultas eficaces
description: En la tabla siguiente se identifican los conceptos importantes que se deben tener en cuenta al crear una consulta eficaz.
ms.assetid: 1eb92d74-0a17-43f9-b5bf-eed731a52551
ms.tgt_platform: multiple
keywords:
- Active Directory ejemplos Active Directory, crear consultas eficaces
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8902fd3d512b940890ebdfd4c2640786c88c82a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2020
ms.locfileid: "103789585"
---
# <a name="creating-efficient-queries"></a><span data-ttu-id="a91b0-104">Crear consultas eficaces</span><span class="sxs-lookup"><span data-stu-id="a91b0-104">Creating Efficient Queries</span></span>

<span data-ttu-id="a91b0-105">En la tabla siguiente se identifican los conceptos importantes que se deben tener en cuenta al crear una consulta eficaz.</span><span class="sxs-lookup"><span data-stu-id="a91b0-105">The following table identifies important concepts to consider when creating an efficient query.</span></span>



| <span data-ttu-id="a91b0-106">Área</span><span class="sxs-lookup"><span data-stu-id="a91b0-106">Area</span></span>                  | <span data-ttu-id="a91b0-107">Descripción</span><span class="sxs-lookup"><span data-stu-id="a91b0-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a91b0-108">Indización</span><span class="sxs-lookup"><span data-stu-id="a91b0-108">Indexing</span></span>              | <span data-ttu-id="a91b0-109">Asegúrese de que el filtro de consulta contiene al menos un atributo indizado.</span><span class="sxs-lookup"><span data-stu-id="a91b0-109">Ensure that the query filter contains at least one indexed attribute.</span></span><br/> <span data-ttu-id="a91b0-110">Para obtener más información, vea [atributos indexados](indexed-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="a91b0-110">For more information, see [Indexed Attributes](indexed-attributes.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="a91b0-111">Clase frente a categoría</span><span class="sxs-lookup"><span data-stu-id="a91b0-111">Class vs. Category</span></span>    | <span data-ttu-id="a91b0-112">La instrucción "objectClass = XYZ" hace referencia a los objetos de directorio en los que "XYZ" representa cualquier clase de la jerarquía de clases de objetos, mientras que "objectCategory = XYZ" hace referencia a los objetos de directorio en los que "XYZ" identifica una clase específica en la jerarquía de clases de objetos.</span><span class="sxs-lookup"><span data-stu-id="a91b0-112">The statement "objectClass=xyz" refers to directory objects in which "xyz" represents any class in the object class hierarchy, whereas "objectCategory=xyz", refers to those directory objects in which "xyz" identifies a specific class in the object class hierarchy.</span></span> <span data-ttu-id="a91b0-113">La propiedad [**objectClass**](/windows/desktop/ADSchema/a-objectclass) puede tomar varios valores, mientras que [**objectCategory**](/windows/desktop/ADSchema/a-objectcategory) toma un solo valor y, por lo tanto, es más adecuado para la coincidencia de tipos de objetos en una búsqueda de directorio.</span><span class="sxs-lookup"><span data-stu-id="a91b0-113">The [**objectClass**](/windows/desktop/ADSchema/a-objectclass) property can take multiple values, whereas [**objectCategory**](/windows/desktop/ADSchema/a-objectcategory) takes a single value and is, thus, better suited for type matching of objects in a directory search.</span></span><br/>                                                                                                                                                                                          |
| <span data-ttu-id="a91b0-114">Búsqueda de texto</span><span class="sxs-lookup"><span data-stu-id="a91b0-114">Text searching</span></span>        | <span data-ttu-id="a91b0-115">Evite buscar texto en el centro y al final de una cadena.</span><span class="sxs-lookup"><span data-stu-id="a91b0-115">Avoid searching for text in the middle and on the end of a string.</span></span><br/> <span data-ttu-id="a91b0-116">Por ejemplo, "CN = \* Hille \* " o "CN = \* Larouse".</span><span class="sxs-lookup"><span data-stu-id="a91b0-116">For example, "cn=\*hille\*" or "cn=\*larouse".</span></span><br/> <span data-ttu-id="a91b0-117">El uso de criterios de coincidencia más específicos tiende a aumentar el rendimiento de la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a91b0-117">Using more specific matching criteria tends to increase search performance.</span></span> <span data-ttu-id="a91b0-118">Esto se debe a que Active Directory Domain Services evaluará todos los predicados, identifica los índices y, a continuación, elige un índice que probablemente produzca el conjunto más pequeño de valores devueltos.</span><span class="sxs-lookup"><span data-stu-id="a91b0-118">This is because Active Directory Domain Services will evaluate all predicates, identifies the indices, and then chooses one index most likely to yield the smallest set of returned values.</span></span> <span data-ttu-id="a91b0-119">Esta técnica no funciona bien con las búsquedas de cadena de tipo medio y final.</span><span class="sxs-lookup"><span data-stu-id="a91b0-119">This technique does not work well with mid- and end-string searches.</span></span> <span data-ttu-id="a91b0-120">Si no tiene ninguna otra opción que no sea usar estas búsquedas, puede definir un índice de tupla para el atributo.</span><span class="sxs-lookup"><span data-stu-id="a91b0-120">If you have no other option other than using these searches, you can define a tuple index for the attribute.</span></span><br/> <span data-ttu-id="a91b0-121">Para obtener más información sobre los índices de tupla, vea [Cómo funciona la indexación de tuplas](how-tuple-indexing-works.md).</span><span class="sxs-lookup"><span data-stu-id="a91b0-121">For more details about tuple indexes see [How Tuple Indexing Works](how-tuple-indexing-works.md).</span></span><br/> |
| <span data-ttu-id="a91b0-122">Búsqueda de subárbol</span><span class="sxs-lookup"><span data-stu-id="a91b0-122">Subtree searching</span></span>     | <span data-ttu-id="a91b0-123">Use el catálogo global si está pensando en las búsquedas de subárbol.</span><span class="sxs-lookup"><span data-stu-id="a91b0-123">Use the global catalog if you are considering subtree searches.</span></span> <span data-ttu-id="a91b0-124">La persecución de referencias requiere muchos recursos.</span><span class="sxs-lookup"><span data-stu-id="a91b0-124">Chasing referrals requires extensive resources.</span></span><br/> <span data-ttu-id="a91b0-125">Para obtener más información, vea [especificar otras opciones de búsqueda](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="a91b0-125">For more information, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="a91b0-126">Uso de la paginación</span><span class="sxs-lookup"><span data-stu-id="a91b0-126">Use of paging</span></span>         | <span data-ttu-id="a91b0-127">Supongamos que una búsqueda de subárbol devolverá un conjunto de resultados grande.</span><span class="sxs-lookup"><span data-stu-id="a91b0-127">Assume that a subtree search will return a large result set.</span></span> <span data-ttu-id="a91b0-128">Use la paginación al realizar búsquedas de subárbol.</span><span class="sxs-lookup"><span data-stu-id="a91b0-128">Use paging when performing subtree searches.</span></span> <span data-ttu-id="a91b0-129">El servidor transmitirá un conjunto de resultados grande en fragmentos, lo que reduce los recursos de memoria del servidor.</span><span class="sxs-lookup"><span data-stu-id="a91b0-129">The server will stream a large result set in chunks reducing the server side memory resources.</span></span> <span data-ttu-id="a91b0-130">Esto minimiza el uso de la red y reduce la necesidad de enviar grandes fragmentos de datos a través de una red.</span><span class="sxs-lookup"><span data-stu-id="a91b0-130">This minimizes network usage and reduces the need for sending large chunks of data over a network.</span></span><br/> <span data-ttu-id="a91b0-131">Para obtener más información, vea [especificar otras opciones de búsqueda](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="a91b0-131">For more information, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span><br/>                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="a91b0-132">Combinar búsquedas</span><span class="sxs-lookup"><span data-stu-id="a91b0-132">Combine searches</span></span>      | <span data-ttu-id="a91b0-133">Usar varios atributos para una búsqueda.</span><span class="sxs-lookup"><span data-stu-id="a91b0-133">Use multiple attributes for a search.</span></span> <span data-ttu-id="a91b0-134">Una búsqueda de un objeto que lee dos atributos es más eficaz que dos búsquedas del mismo objeto, cada uno de los cuales devuelve un atributo.</span><span class="sxs-lookup"><span data-stu-id="a91b0-134">One search of an object that reads two attributes is more efficient than two searches of the same object, each returning one attribute.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="a91b0-135">Uso eficaz de BIND</span><span class="sxs-lookup"><span data-stu-id="a91b0-135">Efficient use of bind</span></span> | <span data-ttu-id="a91b0-136">Enlazar a un objeto una vez y mantener el identificador de enlace para el resto de la sesión.</span><span class="sxs-lookup"><span data-stu-id="a91b0-136">Bind to an object one time and hold the binding handle for the rest of the session.</span></span> <span data-ttu-id="a91b0-137">No enlace y desenlace para cada llamada.</span><span class="sxs-lookup"><span data-stu-id="a91b0-137">Do not bind and unbind for each call.</span></span> <span data-ttu-id="a91b0-138">Si utiliza ADO o OLE DB, no cree muchos objetos de conexión.</span><span class="sxs-lookup"><span data-stu-id="a91b0-138">If you use ADO or OLE DB, do not create many connection objects.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="a91b0-139">Caching de RoodDSE</span><span class="sxs-lookup"><span data-stu-id="a91b0-139">RoodDSE caching</span></span>       | <span data-ttu-id="a91b0-140">Lea el rootDSE una vez y recuerde su contenido para el resto de la sesión.</span><span class="sxs-lookup"><span data-stu-id="a91b0-140">Read the rootDSE one time and remember its contents for the rest of your session.</span></span><br/> <span data-ttu-id="a91b0-141">Para obtener más información, vea [enlace sin servidor y RootDSE](serverless-binding-and-rootdse.md).</span><span class="sxs-lookup"><span data-stu-id="a91b0-141">For more information, see [Serverless Binding and RootDSE](serverless-binding-and-rootdse.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="a91b0-142">Persistencia de referencia</span><span class="sxs-lookup"><span data-stu-id="a91b0-142">Reference persistance</span></span> | <span data-ttu-id="a91b0-143">Conserve las referencias a los objetos como GUID, no nombres distintivos, para cambiar el nombre y eliminarlos de forma segura.</span><span class="sxs-lookup"><span data-stu-id="a91b0-143">Persist references to objects as GUIDs, not distinguished names, in order to be rename and delete safe.</span></span><br/> <span data-ttu-id="a91b0-144">Para obtener más información, vea [usar objectGUID para enlazar a un objeto](using-objectguid-to-bind-to-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="a91b0-144">For more information, see [Using objectGUID to Bind to an Object](using-objectguid-to-bind-to-an-object.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |



 

 

