---
description: La mayoría del dibujo que se lleva a cabo durante el procesamiento del mensaje de pintura de WM \_ es asincrónico; es decir, hay un retraso entre el momento en que se invalida una parte de la ventana y la hora en que \_ se envía la pintura de WM.
ms.assetid: c4eac615-6526-4ca6-854b-b4a598da13a4
title: Dibujo sincrónico y asincrónico
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a80dd5d5d63cbe10d19ec98e9f5dc9ae9163c18a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104002806"
---
# <a name="synchronous-and-asynchronous-drawing"></a><span data-ttu-id="2e773-103">Dibujo sincrónico y asincrónico</span><span class="sxs-lookup"><span data-stu-id="2e773-103">Synchronous and Asynchronous Drawing</span></span>

<span data-ttu-id="2e773-104">La mayoría del dibujo que se lleva a cabo durante el procesamiento del mensaje de [**\_ pintura de WM**](wm-paint.md) es asincrónico; es decir, hay un retraso entre el momento en que se invalida una parte de la ventana y la hora en que \_ se envía la pintura de WM.</span><span class="sxs-lookup"><span data-stu-id="2e773-104">Most drawing carried out during processing of the [**WM\_PAINT**](wm-paint.md) message is asynchronous; that is, there is a delay between the time a portion of the window is invalidated and the time WM\_PAINT is sent.</span></span> <span data-ttu-id="2e773-105">Durante el retraso, la aplicación normalmente recupera mensajes de la cola y realiza otras tareas.</span><span class="sxs-lookup"><span data-stu-id="2e773-105">During the delay, the application typically retrieves messages from the queue and carries out other tasks.</span></span> <span data-ttu-id="2e773-106">El motivo del retraso es que el sistema trata normalmente el dibujo en una ventana como una operación de prioridad baja y funciona como si los mensajes de entrada del usuario y los mensajes que pueden afectar a la posición o el tamaño de una ventana se procesarán antes de la pintura de WM \_ .</span><span class="sxs-lookup"><span data-stu-id="2e773-106">The reason for the delay is that the system generally treats drawing in a window as a low-priority operation and works as though user-input messages and messages that may affect the position or size of a window will be processed before WM\_PAINT .</span></span>

<span data-ttu-id="2e773-107">En algunos casos, es necesario que una aplicación dibuje sincrónicamente, dibujando en la ventana inmediatamente después de invalidar una parte de la ventana.</span><span class="sxs-lookup"><span data-stu-id="2e773-107">In some cases, it is necessary for an application to draw synchronously that is, draw in the window immediately after invalidating a portion of the window.</span></span> <span data-ttu-id="2e773-108">Una aplicación típica dibuja su ventana principal inmediatamente después de crear la ventana para indicar al usuario que la aplicación se ha iniciado correctamente.</span><span class="sxs-lookup"><span data-stu-id="2e773-108">A typical application draws its main window immediately after creating the window to signal the user that the application has started successfully.</span></span> <span data-ttu-id="2e773-109">El sistema dibuja algunas ventanas de control sincrónicamente, como los botones, ya que estas ventanas sirven como el foco de los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="2e773-109">The system draws some control windows synchronously, such as buttons, because such windows serve as the focus for user input.</span></span> <span data-ttu-id="2e773-110">Aunque cualquier ventana con una rutina de dibujo simple se puede dibujar sincrónicamente, todo el dibujo debe realizarse rápidamente y no debe interferir con la capacidad de la aplicación para responder a los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="2e773-110">Although any window with a simple drawing routine can be drawn synchronously, all such drawing should be done quickly and should not interfere with the application's ability to respond to user input.</span></span>

<span data-ttu-id="2e773-111">Las funciones [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) y [**RedrawWindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) permiten dibujar sincrónicamente.</span><span class="sxs-lookup"><span data-stu-id="2e773-111">The [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) and [**RedrawWindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) functions allow for synchronous drawing.</span></span> <span data-ttu-id="2e773-112">**UpdateWindow** envía un mensaje de [**\_ dibujo de WM**](wm-paint.md) directamente a la ventana si la región de actualización no está vacía.</span><span class="sxs-lookup"><span data-stu-id="2e773-112">**UpdateWindow** sends a [**WM\_PAINT**](wm-paint.md) message directly to the window if the update region is not empty.</span></span> <span data-ttu-id="2e773-113">**RedrawWindow** también envía un mensaje de **\_ dibujo de WM** , pero proporciona a la aplicación un mayor control sobre cómo dibujar la ventana, por ejemplo, si se debe dibujar el área no cliente y el fondo de la ventana, o si se debe enviar el mensaje independientemente de si la región de actualización está vacía.</span><span class="sxs-lookup"><span data-stu-id="2e773-113">**RedrawWindow** also sends a **WM\_PAINT** message, but gives the application greater control over how to draw the window, such as whether to draw the nonclient area and window background or whether to send the message regardless of whether the update region is empty.</span></span> <span data-ttu-id="2e773-114">Estas funciones envían el mensaje de **\_ dibujo de WM** directamente a la ventana, independientemente del número de otros mensajes en la cola de mensajes de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2e773-114">These functions send the **WM\_PAINT** message directly to the window, regardless of the number of other messages in the application message queue.</span></span>

<span data-ttu-id="2e773-115">Cualquier ventana que requiera operaciones de dibujo que consumen mucho tiempo debe dibujarse de forma asincrónica para evitar que los mensajes pendientes se bloqueen mientras se dibuja la ventana.</span><span class="sxs-lookup"><span data-stu-id="2e773-115">Any window requiring time-consuming drawing operations should be drawn asynchronously to prevent pending messages from being blocked as the window is drawn.</span></span> <span data-ttu-id="2e773-116">Además, cualquier aplicación que invalide con frecuencia pequeñas partes de una ventana debe permitir que estas partes no válidas se consoliden en un solo mensaje de [**\_ dibujo de WM**](wm-paint.md) asincrónico, en lugar de una serie de mensajes de **\_ dibujo de WM** sincrónicos.</span><span class="sxs-lookup"><span data-stu-id="2e773-116">Also, any application that frequently invalidates small portions of a window should allow these invalid portions to consolidate into a single asynchronous [**WM\_PAINT**](wm-paint.md) message, rather than a series of synchronous **WM\_PAINT** messages.</span></span>

 

 



