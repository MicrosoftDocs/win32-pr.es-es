---
description: Una aplicación utiliza la función WSAEnumProtocols para determinar qué protocolos de transporte y cadenas de protocolo están presentes, y para obtener información sobre cada uno de los contenidos en la estructura de información de WSAPROTOCOL asociada \_ .
ms.assetid: 4f38cb07-d824-4d43-abd8-89d58dc15810
title: Usar varios protocolos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ab9a37dcc90f1094126f701641539dd3f26a1a3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104154243"
---
# <a name="using-multiple-protocols"></a><span data-ttu-id="3587a-103">Usar varios protocolos</span><span class="sxs-lookup"><span data-stu-id="3587a-103">Using Multiple Protocols</span></span>

<span data-ttu-id="3587a-104">Una aplicación utiliza la función [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) para determinar qué protocolos de transporte y cadenas de protocolo están presentes, y para obtener información sobre cada uno de los contenidos en la estructura de [**\_ información de WSAPROTOCOL**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) asociada.</span><span class="sxs-lookup"><span data-stu-id="3587a-104">An application uses the [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) function to determine which transport protocols and protocol chains are present, and to obtain information about each as contained in the associated [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure.</span></span>

<span data-ttu-id="3587a-105">En la mayoría de los casos, hay una única estructura de [**\_ información de WSAPROTOCOL**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) para cada cadena de protocolo o protocolo.</span><span class="sxs-lookup"><span data-stu-id="3587a-105">In most instances, there is a single [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure for each protocol or protocol chain.</span></span> <span data-ttu-id="3587a-106">Sin embargo, algunos protocolos muestran varios comportamientos.</span><span class="sxs-lookup"><span data-stu-id="3587a-106">However, some protocols exhibit multiple behaviors.</span></span> <span data-ttu-id="3587a-107">Por ejemplo, el protocolo SPX está orientado a mensajes (es decir, la red conserva los límites de los mensajes del remitente), pero el socket receptor puede omitir estos límites de mensajes y tratarlos como un flujo de bytes.</span><span class="sxs-lookup"><span data-stu-id="3587a-107">For example, the SPX protocol is message oriented (that is, the sender's message boundaries are preserved by the network), but the receiving socket can ignore these message boundaries and treat them as a byte stream.</span></span> <span data-ttu-id="3587a-108">Por lo tanto, pueden existir dos entradas diferentes de la estructura de **\_ información de WSAPROTOCOL** para SPX, una para cada comportamiento.</span><span class="sxs-lookup"><span data-stu-id="3587a-108">Thus, two different **WSAPROTOCOL\_INFO** structure entries could exist for SPX—one for each behavior.</span></span>

<span data-ttu-id="3587a-109">En Windows Sockets 2, aparecen varios valores nuevos de familia de direcciones, tipo de socket y protocolo.</span><span class="sxs-lookup"><span data-stu-id="3587a-109">In Windows Sockets 2, several new address family, socket type, and protocol values appear.</span></span> <span data-ttu-id="3587a-110">Windows Sockets 1,1 admitía una sola familia de direcciones (AF \_ inet) para IPv4 que constaba de un pequeño número de tipos de socket conocidos e identificadores de protocolo.</span><span class="sxs-lookup"><span data-stu-id="3587a-110">Windows Sockets 1.1 supported a single address family (AF\_INET) for IPv4 that consisted of a small number of well-known socket types and protocol identifiers.</span></span> <span data-ttu-id="3587a-111">Windows Sockets 2 conserva los identificadores existentes de la familia de direcciones, el tipo de socket y el Protocolo por motivos de compatibilidad, pero también admite nuevos valores de la familia de direcciones para los nuevos protocolos de transporte con nuevos tipos de medios.</span><span class="sxs-lookup"><span data-stu-id="3587a-111">Windows Sockets 2 retains the existing address family, socket type, and protocol identifiers for compatibility reasons, but it also supports new address family values for new transport protocols with new media types.</span></span>

<span data-ttu-id="3587a-112">Los nuevos identificadores únicos no son necesariamente conocidos, pero esto no debería suponer un problema.</span><span class="sxs-lookup"><span data-stu-id="3587a-112">New, unique identifiers are not necessarily well known, but this should not pose a problem.</span></span> <span data-ttu-id="3587a-113">Se recomienda que las aplicaciones que necesitan ser independientes del protocolo seleccionen un protocolo en función de su idoneidad en lugar de los valores asignados a sus parámetros de *Protocolo* o *\_ tipo de socket* .</span><span class="sxs-lookup"><span data-stu-id="3587a-113">Applications that need to be protocol-independent are encouraged to select a protocol on the basis of its suitability rather than the values assigned to their *socket\_type* or *protocol* parameters.</span></span> <span data-ttu-id="3587a-114">La idoneidad del Protocolo se indica mediante los atributos de comunicaciones, como la secuencia de mensajes frente a bytes, y la confianza frente a la no confiable, que se encuentran en la estructura de [**\_ información**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) del protocolo WSAPROTOCOL.</span><span class="sxs-lookup"><span data-stu-id="3587a-114">Protocol suitability is indicated by the communications attributes, such as message-versus-byte stream, and reliable-versus-unreliable, that are contained in the protocol [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure.</span></span> <span data-ttu-id="3587a-115">La selección de protocolos en función de la idoneidad en lugar de los nombres de protocolo conocidos y los tipos de socket permite a las aplicaciones independientes del protocolo aprovechar los nuevos protocolos de transporte y sus tipos de medios asociados, a medida que estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="3587a-115">Selecting protocols on the basis of suitability as opposed to well-known protocol names and socket types lets protocol-independent applications take advantage of new transport protocols and their associated media types, as they become available.</span></span>

<span data-ttu-id="3587a-116">La mitad del servidor de una aplicación cliente/servidor se beneficia al establecer sockets de escucha en todos los protocolos de transporte adecuados.</span><span class="sxs-lookup"><span data-stu-id="3587a-116">The server half of a client/server application benefits by establishing listening sockets on all suitable transport protocols.</span></span> <span data-ttu-id="3587a-117">A continuación, el cliente puede establecer su conexión con cualquier protocolo adecuado.</span><span class="sxs-lookup"><span data-stu-id="3587a-117">Then, the client can establish its connection using any suitable protocol.</span></span> <span data-ttu-id="3587a-118">Por ejemplo, esto permite que una aplicación cliente no se modifique si se estaba ejecutando en un sistema de escritorio conectado a través de LAN o en un equipo portátil con una red inalámbrica.</span><span class="sxs-lookup"><span data-stu-id="3587a-118">For example, this would let a client application be unmodified whether it was running on a desktop system connected through LAN or on a laptop using a wireless network.</span></span>

 

 
