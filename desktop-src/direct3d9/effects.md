---
description: Un efecto de Microsoft DirectX permite la integración de sombreadores de vértices y píxeles con estado de canalización para representar objetos. Los efectos son el siguiente paso lógico en la combinación de sombreadores para producir condiciones de representación únicas.
ms.assetid: vs|directx_sdk|~\effects.htm
title: Efectos (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d48d2ff5548dff29ede4b360bd2c319f85fafa3e
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "105714735"
---
# <a name="effects-direct3d-9"></a><span data-ttu-id="67d71-104">Efectos (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="67d71-104">Effects (Direct3D 9)</span></span>

<span data-ttu-id="67d71-105">Un efecto de Microsoft DirectX permite la integración de sombreadores de vértices y píxeles con estado de canalización para representar objetos.</span><span class="sxs-lookup"><span data-stu-id="67d71-105">A Microsoft DirectX effect enables the integration of vertex and pixel shaders with pipeline state to render objects.</span></span> <span data-ttu-id="67d71-106">Los efectos son el siguiente paso lógico en la combinación de sombreadores para producir condiciones de representación únicas.</span><span class="sxs-lookup"><span data-stu-id="67d71-106">Effects are the next logical step in combining shaders to produce unique render conditions.</span></span>

<span data-ttu-id="67d71-107">Los efectos también proporcionan una manera cómoda de escribir sombreadores para diferentes versiones de hardware.</span><span class="sxs-lookup"><span data-stu-id="67d71-107">Effects also provide a convenient way to write shaders for different hardware versions.</span></span> <span data-ttu-id="67d71-108">Dado que las distintas tarjetas de vídeo admiten distintas funcionalidades, una aplicación puede escribir varias técnicas que se ejecutarán en una variedad de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="67d71-108">Because different video cards support different functionalities, an application can write several techniques that will run on a variety of devices.</span></span> <span data-ttu-id="67d71-109">De este modo, si la aplicación se está ejecutando en el hardware más reciente y más reciente, la aplicación puede ejecutar la técnica de efectos más sofisticada.</span><span class="sxs-lookup"><span data-stu-id="67d71-109">This way, if the application is running on the latest and greatest hardware, the application can run the most sophisticated effect technique.</span></span> <span data-ttu-id="67d71-110">Por otro lado, las técnicas de efectos menos sofisticadas se pueden elegir automáticamente para ejecutarse en hardware menos costoso o menos compatible.</span><span class="sxs-lookup"><span data-stu-id="67d71-110">On the other hand, less sophisticated effect techniques can automatically be chosen to run on less-expensive or less-capable hardware.</span></span>

<span data-ttu-id="67d71-111">Un efecto puede reemplazar el procesamiento de vértices y parte del procesamiento de píxeles realizado por la canalización de gráficos.</span><span class="sxs-lookup"><span data-stu-id="67d71-111">An effect can replace the vertex processing and part of the pixel processing performed by the graphics pipeline.</span></span> <span data-ttu-id="67d71-112">Un ejemplo de un efecto que usa un sombreador de vértices y un sombreador de píxeles está en el ejemplo BasicHLSL.</span><span class="sxs-lookup"><span data-stu-id="67d71-112">An example of an effect that uses a vertex shader and a pixel shader is in the BasicHLSL Sample.</span></span> <span data-ttu-id="67d71-113">Puede obtener este ejemplo y obtener información sobre él desde el SDK de DirectX.</span><span class="sxs-lookup"><span data-stu-id="67d71-113">You can get this sample and learn about it from the DirectX SDK.</span></span> <span data-ttu-id="67d71-114">Para obtener información sobre el SDK de DirectX, vea [¿Dónde está el SDK de DirectX?](../directx-sdk--august-2009-.md).</span><span class="sxs-lookup"><span data-stu-id="67d71-114">For info about the DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md).</span></span>

<span data-ttu-id="67d71-115">Para obtener más información acerca de los efectos, consulte estos temas:</span><span class="sxs-lookup"><span data-stu-id="67d71-115">For more information about effects, see these topics:</span></span>

-   [<span data-ttu-id="67d71-116">Escribir un efecto</span><span class="sxs-lookup"><span data-stu-id="67d71-116">Writing an Effect</span></span>](writing-an-effect.md)
-   [<span data-ttu-id="67d71-117">Usar un efecto</span><span class="sxs-lookup"><span data-stu-id="67d71-117">Using an Effect</span></span>](using-an-effect.md)

## <a name="effects-and-the-3d-pipeline"></a><span data-ttu-id="67d71-118">Efectos y la canalización 3D</span><span class="sxs-lookup"><span data-stu-id="67d71-118">Effects and the 3D Pipeline</span></span>

<span data-ttu-id="67d71-119">En el diagrama siguiente se muestra la canalización.</span><span class="sxs-lookup"><span data-stu-id="67d71-119">The following diagram shows the pipeline.</span></span>

![diagrama de la canalización 3D](images/effects-block-diagram.png)

<span data-ttu-id="67d71-121">La canalización transforma los datos de entrada en píxeles de salida que rellenan el búfer de fotogramas.</span><span class="sxs-lookup"><span data-stu-id="67d71-121">The pipeline transforms input data into output pixels that fill the frame buffer.</span></span> <span data-ttu-id="67d71-122">Los datos de entrada provienen de los objetos que se componen de los vértices en el espacio de objeto, o de las superficies de orden superior creadas a partir de N-patches, las revisiones de rectángulo y las revisiones de triángulo.</span><span class="sxs-lookup"><span data-stu-id="67d71-122">The input data comes from objects that are made up of vertices in object space, or higher-order surfaces created from N-patches, rectangle patches, and triangle patches.</span></span> <span data-ttu-id="67d71-123">Una vez que los datos de entrada se han teselado, la canalización realiza el procesamiento de vértices, el procesamiento primitivo y el procesamiento de píxeles antes de generar los colores finales de los píxeles.</span><span class="sxs-lookup"><span data-stu-id="67d71-123">Once the input data has been tessellated, the pipeline performs vertex processing, primitive processing, and pixel processing before generating the final pixel colors.</span></span>

<span data-ttu-id="67d71-124">El procesamiento de vértices y píxeles se puede realizar mediante la canalización de la función fija o se puede implementar con sombreadores programables.</span><span class="sxs-lookup"><span data-stu-id="67d71-124">Vertex and pixel processing can be performed by the fixed function pipeline, or can be implemented with programmable shaders.</span></span> <span data-ttu-id="67d71-125">El estado de canalización controla la teselación de datos de entrada, el procesamiento primitivo y las salidas de datos.</span><span class="sxs-lookup"><span data-stu-id="67d71-125">The input data tessellation, primitive processing, and data outputs are controlled by pipeline state.</span></span> <span data-ttu-id="67d71-126">Todo esto se puede integrar en un efecto.</span><span class="sxs-lookup"><span data-stu-id="67d71-126">All this can be integrated into an effect.</span></span> <span data-ttu-id="67d71-127">Un efecto establece el estado que controla cómo funciona la canalización.</span><span class="sxs-lookup"><span data-stu-id="67d71-127">An effect sets the state that controls how the pipeline functions.</span></span> <span data-ttu-id="67d71-128">Los efectos administran los sombreables programables, así como el estado de la función fija.</span><span class="sxs-lookup"><span data-stu-id="67d71-128">Effects manage programmable shaders as well as fixed function state.</span></span>

<span data-ttu-id="67d71-129">Los efectos pueden guardar y restaurar el estado, lo que permite que el dispositivo tenga el mismo estado que antes de ejecutar el efecto.</span><span class="sxs-lookup"><span data-stu-id="67d71-129">Effects can save and restore state, leaving the device in the same state as before the effect was run.</span></span> <span data-ttu-id="67d71-130">Entre los tipos de estado que puede administrar un efecto se incluyen:</span><span class="sxs-lookup"><span data-stu-id="67d71-130">The types of state that an effect can manage include:</span></span>

-   <span data-ttu-id="67d71-131">Estado del sombreador.</span><span class="sxs-lookup"><span data-stu-id="67d71-131">Shader state.</span></span> <span data-ttu-id="67d71-132">Esto incluye la creación y eliminación de sombreadores, el establecimiento de constantes del sombreador, el establecimiento del estado del sombreador y la representación con sombreadores.</span><span class="sxs-lookup"><span data-stu-id="67d71-132">This includes creating and deleting shaders, setting shader constants, setting shader state, and rendering with shaders.</span></span>
-   <span data-ttu-id="67d71-133">Estado de la muestra y la textura.</span><span class="sxs-lookup"><span data-stu-id="67d71-133">Texture and sampler state.</span></span> <span data-ttu-id="67d71-134">Esto incluye la especificación de archivos de textura, la inicialización de fases de textura, la creación de objetos de muestra y el establecimiento del estado del muestrario.</span><span class="sxs-lookup"><span data-stu-id="67d71-134">This includes specifying texture files, initializing texture stages, creating sampler objects, and setting sampler state.</span></span>
-   <span data-ttu-id="67d71-135">Otro estado de canalización.</span><span class="sxs-lookup"><span data-stu-id="67d71-135">Other pipeline state.</span></span> <span data-ttu-id="67d71-136">Esto incluye los Estados para establecer las opciones de transformación, iluminación, materiales y representación.</span><span class="sxs-lookup"><span data-stu-id="67d71-136">This includes states for setting transformations, lighting, materials, and rendering options.</span></span> <span data-ttu-id="67d71-137">Pueden ser variables globales o locales.</span><span class="sxs-lookup"><span data-stu-id="67d71-137">These can be global or local variables.</span></span> <span data-ttu-id="67d71-138">Las variables pueden establecerse por el efecto en sí o por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="67d71-138">The variables can be set by either the effect itself or by the application.</span></span>

<span data-ttu-id="67d71-139">Los efectos contienen varias opciones de representación denominadas técnicas.</span><span class="sxs-lookup"><span data-stu-id="67d71-139">Effects contain multiple rendering options called techniques.</span></span> <span data-ttu-id="67d71-140">Cada técnica encapsula las variables globales, el estado de la canalización, el estado de la muestra y la textura, y el estado del sombreador.</span><span class="sxs-lookup"><span data-stu-id="67d71-140">Each technique encapsulates global variables, pipeline state, texture and sampler state, and shader state.</span></span> <span data-ttu-id="67d71-141">Un solo estilo se implementa en un paso de representación.</span><span class="sxs-lookup"><span data-stu-id="67d71-141">A single style is implemented in a rendering pass.</span></span> <span data-ttu-id="67d71-142">Una o más fases se pueden encapsular en una técnica.</span><span class="sxs-lookup"><span data-stu-id="67d71-142">One or more passes can be encapsulated in a technique.</span></span> <span data-ttu-id="67d71-143">Todas las pasadas y técnicas se pueden validar para ver si el código de efecto se ejecutará en el dispositivo de hardware.</span><span class="sxs-lookup"><span data-stu-id="67d71-143">All of the passes and techniques can be validated to see if the effect code will run on the hardware device.</span></span>

## <a name="effects-save-and-restore-state"></a><span data-ttu-id="67d71-144">Efectos de guardar y restaurar el estado</span><span class="sxs-lookup"><span data-stu-id="67d71-144">Effects Save and Restore State</span></span>

<span data-ttu-id="67d71-145">Los efectos administran el estado.</span><span class="sxs-lookup"><span data-stu-id="67d71-145">Effects manage state.</span></span> <span data-ttu-id="67d71-146">El estado de la palabra se usa muy ampliamente aquí, ya que incluye todo tipo de información que la canalización necesita para especificar las condiciones de representación.</span><span class="sxs-lookup"><span data-stu-id="67d71-146">The word state is used very broadly here as it includes all kinds of information that the pipeline needs to specify the render conditions.</span></span> <span data-ttu-id="67d71-147">Esto incluye prácticamente todas las áreas funcionales de la canalización.</span><span class="sxs-lookup"><span data-stu-id="67d71-147">This includes nearly all the functional areas of the pipeline.</span></span>

<span data-ttu-id="67d71-148">Las opciones de representación se controlan mediante técnicas y pasadas.</span><span class="sxs-lookup"><span data-stu-id="67d71-148">Rendering options are controlled by techniques and passes.</span></span> <span data-ttu-id="67d71-149">Una aplicación representa un efecto mediante la configuración de una técnica activa y la representación de una o varias fases.</span><span class="sxs-lookup"><span data-stu-id="67d71-149">An application renders an effect by setting one active technique, and rendering one or more passes.</span></span> <span data-ttu-id="67d71-150">Toda la representación en un efecto se realiza dentro de un par coincidente de llamadas [**Begin**](id3dxeffect--begin.md) y [**End**](id3dxeffect--end.md) .</span><span class="sxs-lookup"><span data-stu-id="67d71-150">All rendering in an effect is done within a matching pair of [**Begin**](id3dxeffect--begin.md) and [**End**](id3dxeffect--end.md) calls.</span></span> <span data-ttu-id="67d71-151">Cuando se llama a **Begin** , se crea un stateblock y se guarda el estado del dispositivo (a menos que se especifique lo contrario).</span><span class="sxs-lookup"><span data-stu-id="67d71-151">When **Begin** is called, a stateblock is created and device state is saved (unless you specify otherwise).</span></span> <span data-ttu-id="67d71-152">Después de que una técnica representa las pasadas que la aplicación especifica que se representen, se llama a **End** para finalizar la técnica activa.</span><span class="sxs-lookup"><span data-stu-id="67d71-152">After a technique renders the passes that the application specifies to render, **End** is called to end the active technique.</span></span> <span data-ttu-id="67d71-153">El sistema de efecto responde mediante la restauración automática del estado de canalización capturado en el bloque de estado (a menos que decida deshabilitar esta funcionalidad de guardar y restaurar).</span><span class="sxs-lookup"><span data-stu-id="67d71-153">The effect system responds by automatically restoring the pipeline state that was captured in the state block (unless you choose to disable this save and restore functionality).</span></span>

<span data-ttu-id="67d71-154">Al programar secuencias de representación de múltiples pases, cada una de las cuales requiere su propia configuración de estado, los efectos pueden reducir el mantenimiento necesario para realizar un seguimiento de los cambios de estado.</span><span class="sxs-lookup"><span data-stu-id="67d71-154">When programming multiple-pass rendering sequences, each of which requires its own state setup, effects can reduce the housekeeping required for tracking state changes.</span></span> <span data-ttu-id="67d71-155">Para obtener más información sobre los Estados que pueden guardarse y restaurarse por efectos, vea [Estados de efectos (Direct3D 9)](effect-states.md).</span><span class="sxs-lookup"><span data-stu-id="67d71-155">To see more information about the states that can be saved and restored by effects, see [Effect States (Direct3D 9)](effect-states.md).</span></span>

## <a name="effects-can-share-parameters"></a><span data-ttu-id="67d71-156">Los efectos pueden compartir parámetros</span><span class="sxs-lookup"><span data-stu-id="67d71-156">Effects Can Share Parameters</span></span>

<span data-ttu-id="67d71-157">Los parámetros de efecto son todas las variables no estáticas declaradas en un efecto.</span><span class="sxs-lookup"><span data-stu-id="67d71-157">Effect parameters are all the non-static variables declared in an effect.</span></span> <span data-ttu-id="67d71-158">Esto puede incluir variables globales y anotaciones.</span><span class="sxs-lookup"><span data-stu-id="67d71-158">This can include global variables and annotations.</span></span> <span data-ttu-id="67d71-159">Los parámetros de efecto se pueden compartir entre distintos efectos declarando parámetros con la palabra clave Shared y creando después el efecto con un grupo de efectos.</span><span class="sxs-lookup"><span data-stu-id="67d71-159">Effect parameters can be shared between different effects by declaring parameters with the shared keyword and then creating the effect with an effect pool.</span></span>

<span data-ttu-id="67d71-160">Los efectos clonados usan el mismo grupo de efectos que el efecto desde el que se clonan.</span><span class="sxs-lookup"><span data-stu-id="67d71-160">Cloned effects use the same effect pool as the effect from which they are cloned.</span></span> <span data-ttu-id="67d71-161">La clonación de un efecto realiza una copia exacta de un efecto, incluidas las variables globales, las técnicas, las pasadas y las anotaciones.</span><span class="sxs-lookup"><span data-stu-id="67d71-161">Cloning an effect makes an exact copy of an effect, including global variables, techniques, passes, and annotations.</span></span>

## <a name="related-topics"></a><span data-ttu-id="67d71-162">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="67d71-162">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="67d71-163">Guía de programación para Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="67d71-163">Programming Guide for Direct3D 9</span></span>](dx9-graphics-programming-guide.md)
</dt> </dl>

 

 
