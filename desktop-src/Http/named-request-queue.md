---
title: Cola de solicitudes con nombre
description: Cola de solicitudes con nombre
ms.assetid: d0686a9b-fc3d-4b69-b083-d04b35ce5b50
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4aca045f84fe9f9e4b57365ba8831456f2dc1ad
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104357625"
---
# <a name="named-request-queue"></a><span data-ttu-id="d092a-103">Cola de solicitudes con nombre</span><span class="sxs-lookup"><span data-stu-id="d092a-103">Named Request Queue</span></span>

<span data-ttu-id="d092a-104">La característica de cola de solicitud de la API del servidor HTTP versión 2,0 permite que varias aplicaciones, que funcionan en procesos y cuentas de usuario independientes, tengan acceso a la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-104">The HTTP Server version 2.0 API named request queue feature allows multiple applications, operating under separate processes and user accounts, access to the request queue.</span></span> <span data-ttu-id="d092a-105">La cola de solicitudes se abre por nombre y se protege mediante listas de Access Control (ACL) para asegurarse de que las aplicaciones no puedan tener acceso a todos los datos de los demás.</span><span class="sxs-lookup"><span data-stu-id="d092a-105">The request queue is opened by name, and secured using Access Control Lists (ACLs) to ensure that applications are not able to access each others data.</span></span> <span data-ttu-id="d092a-106">Un único proceso crea la cola de solicitudes y concede permiso a otros procesos para usar la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-106">A single process creates the request queue, and grants permission to other processes to use the request queue.</span></span> <span data-ttu-id="d092a-107">Por lo tanto, otros procesos del equipo tienen acceso a la cola de solicitudes con los privilegios mínimos necesarios para atender las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-107">Thus, other processes on the computer access the request queue with the least privilege necessary to service requests.</span></span> <span data-ttu-id="d092a-108">Los posibles daños en el servicio HTTP, debido a vulnerabilidades en el código de terceros, se minimizan cuando las aplicaciones se ejecutan con privilegios mínimos.</span><span class="sxs-lookup"><span data-stu-id="d092a-108">Possible damage to the HTTP service, due to vulnerabilities in third party code, is minimized when applications are running under least privileges.</span></span>

<span data-ttu-id="d092a-109">La cola de solicitudes con nombre se crea con la función [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) .</span><span class="sxs-lookup"><span data-stu-id="d092a-109">The named request queue is created with the [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) function.</span></span> <span data-ttu-id="d092a-110">Cuando se crea la cola de solicitudes, la aplicación especifica la ACL en el parámetro *pSecurityAttribute* .</span><span class="sxs-lookup"><span data-stu-id="d092a-110">When the request queue is created, the application specifies the ACL in the *pSecurityAttribute* parameter.</span></span> <span data-ttu-id="d092a-111">La ACL, que solo se puede establecer cuando se crea la cola de solicitudes, permite a los procesos de trabajo abrir la cola de solicitudes, recibir solicitudes y enviar respuestas.</span><span class="sxs-lookup"><span data-stu-id="d092a-111">The ACL, which can only be set when the request queue is created, allows worker processes to open the request queue, receive requests, and send responses.</span></span> <span data-ttu-id="d092a-112">De forma predeterminada, los procesos no pueden abrir una cola de solicitudes a menos que se les haya concedido permiso en la ACL.</span><span class="sxs-lookup"><span data-stu-id="d092a-112">By default, processes are not allowed to open a request queue unless they have been granted permission in the ACL.</span></span> <span data-ttu-id="d092a-113">Las aplicaciones no requieren privilegios administrativos para crear la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-113">Applications do not require administrative privileges to create the request queue.</span></span>

<span data-ttu-id="d092a-114">La cola de solicitudes se debe crear con un nombre especificado en el parámetro *pName* de [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) para que otros procesos puedan abrir la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-114">The request queue must be created with a name specified in the *pName* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) for other processes to open the request queue.</span></span> <span data-ttu-id="d092a-115">Si *pName* es **null**, se crea una cola de solicitudes sin nombre y ningún otro proceso puede abrirla.</span><span class="sxs-lookup"><span data-stu-id="d092a-115">If *pName* is **NULL**, an unnamed request queue is created and no other processes can open it.</span></span>

## <a name="creator-and-controller-processes"></a><span data-ttu-id="d092a-116">Procesos de creador y controlador</span><span class="sxs-lookup"><span data-stu-id="d092a-116">Creator and Controller Processes</span></span>

<span data-ttu-id="d092a-117">Cuando se crea la cola de solicitudes, la aplicación puede abrirla como un proceso de controlador o de creador.</span><span class="sxs-lookup"><span data-stu-id="d092a-117">When the request queue is created, the application can open it as a controller process or a creator process.</span></span> <span data-ttu-id="d092a-118">El controlador y el creador procesan actúan como administradores de la cola de solicitudes, pero el controlador no realiza operaciones de e/s en él.</span><span class="sxs-lookup"><span data-stu-id="d092a-118">The controller and creator processes both act as administrators for the request queue, but the controller does not perform I/O operations on it.</span></span> <span data-ttu-id="d092a-119">La aplicación indica que se trata de un proceso de controlador cuando se crea la cola de solicitudes especificando **http \_ Create \_ request \_ Queue \_ Flag \_ Controller** en el parámetro *Flags* de [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue).</span><span class="sxs-lookup"><span data-stu-id="d092a-119">The application indicates that it is a controller process when the request queue is created by specifying **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** in the *Flags* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue).</span></span> <span data-ttu-id="d092a-120">Si no se establece la marca de controlador de indicador de la **\_ cola de \_ solicitudes \_ \_ \_ http Create** , la aplicación es un proceso creador.</span><span class="sxs-lookup"><span data-stu-id="d092a-120">If the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** flag is not set, the application is a creator process.</span></span>

<span data-ttu-id="d092a-121">La lista siguiente contiene las tareas realizadas por el proceso de controlador y el proceso de creador:</span><span class="sxs-lookup"><span data-stu-id="d092a-121">The following list contains tasks performed by the controller process and the creator process:</span></span>

-   <span data-ttu-id="d092a-122">Cree la cola de solicitudes y especifique el nombre.</span><span class="sxs-lookup"><span data-stu-id="d092a-122">Create the request queue and specify the name.</span></span>
-   <span data-ttu-id="d092a-123">Configure la cola de solicitudes mediante la función [**HttpSetRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) .</span><span class="sxs-lookup"><span data-stu-id="d092a-123">Configure the request queue using the [**HttpSetRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="d092a-124">Consulte los parámetros de configuración de la cola de solicitudes mediante la función [**HttpQueryRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) .</span><span class="sxs-lookup"><span data-stu-id="d092a-124">Query the request queue configuration parameters using the [**HttpQueryRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="d092a-125">Crear grupos de direcciones URL y asociarlos a una cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-125">Create URL Groups and associates them with a request queue.</span></span>
-   <span data-ttu-id="d092a-126">Establezca la ACL especificando los procesos de trabajo que pueden recibir e/s en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-126">Set the ACL specifying the worker processes that are allowed to receive I/O on the request queue.</span></span>
-   <span data-ttu-id="d092a-127">Llame a [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) para retrasar la creación de instancias de procesos de trabajo hasta que la primera solicitud llegue a la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-127">Call [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) to delay the instantiation of worker processes until the first request arrives on the request queue.</span></span>

<span data-ttu-id="d092a-128">Además de estas tareas, el proceso de creador también puede realizar operaciones de e/s en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-128">In addition to these tasks, the creator process can also perform I/O operations on the request queue.</span></span>

## <a name="worker-processes"></a><span data-ttu-id="d092a-129">Procesos de trabajo</span><span class="sxs-lookup"><span data-stu-id="d092a-129">Worker Processes</span></span>

<span data-ttu-id="d092a-130">Un proceso de trabajo puede abrir una cola de solicitudes existente solo si se le ha concedido acceso a ella en la ACL.</span><span class="sxs-lookup"><span data-stu-id="d092a-130">A worker process can open an existing request queue only if they have been granted access to it in the ACL.</span></span> <span data-ttu-id="d092a-131">Los procesos de trabajo que operan con privilegios mínimos pueden abrir una cola de solicitudes y realizar operaciones de e/s en ella.</span><span class="sxs-lookup"><span data-stu-id="d092a-131">Worker processes operating under least privileges can open a request queue and perform I/O on it.</span></span> <span data-ttu-id="d092a-132">Las aplicaciones abren una cola de solicitudes existente mediante una llamada a [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) con la marca de la **cola de \_ solicitudes HTTP Create, \_ \_ \_ \_ abrir \_ existente** en el parámetro *Flags* y el nombre de la cola de solicitudes en el parámetro *pName* .</span><span class="sxs-lookup"><span data-stu-id="d092a-132">Applications open an existing request queue by calling [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) with the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_OPEN\_EXISTING** in the *Flags* parameter, and the name of the request queue in the *pName* parameter.</span></span>

<span data-ttu-id="d092a-133">El proceso de trabajo realiza las siguientes funciones:</span><span class="sxs-lookup"><span data-stu-id="d092a-133">The worker process performs the following functions:</span></span>

-   <span data-ttu-id="d092a-134">Recibir solicitudes y enviar respuestas en la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-134">Receive requests and send responses on the request queue.</span></span>
-   <span data-ttu-id="d092a-135">Abra una cola de solicitudes existente por nombre.</span><span class="sxs-lookup"><span data-stu-id="d092a-135">Open an existing request queue by name.</span></span> <span data-ttu-id="d092a-136">El identificador de la cola de solicitudes que se devuelve al proceso de trabajo no se puede usar para configurar la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-136">The handle to the request queue returned to the worker process cannot be used to configure the request queue.</span></span>
-   <span data-ttu-id="d092a-137">Consulte los parámetros de configuración de la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-137">Query the request queue configuration parameters.</span></span>

<span data-ttu-id="d092a-138">En el diagrama siguiente se muestra el modelo de proceso de trabajo para las colas de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-138">The following diagram shows the worker process model for request queues.</span></span> <span data-ttu-id="d092a-139">La cola de solicitudes puede tener varios procesos de trabajo que procesan la e/s y un creador que configura la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="d092a-139">The request queue can have several worker processes that process I/O, and one creator processes that configures the request queue.</span></span>

![modelo de proceso de trabajo para colas de solicitudes](images/namedrequestqueue.png)

 

 




