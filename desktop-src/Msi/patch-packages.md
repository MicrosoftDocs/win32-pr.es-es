---
description: Una revisión de Windows Installer (archivo. msp) es un archivo que se usa para proporcionar actualizaciones a Windows Installer aplicaciones.
ms.assetid: f59736d7-0b5a-466c-ab60-f210ccccb07f
title: Paquetes de revisión
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56b4bb5b7e182c8118f5a40c45be440784b92099
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103812859"
---
# <a name="patch-packages"></a><span data-ttu-id="d4352-103">Paquetes de revisión</span><span class="sxs-lookup"><span data-stu-id="d4352-103">Patch Packages</span></span>

<span data-ttu-id="d4352-104">Una revisión de Windows Installer (archivo. msp) es un archivo que se usa para proporcionar actualizaciones a Windows Installer aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="d4352-104">A Windows Installer patch (.msp file) is a file used to deliver updates to Windows Installer applications.</span></span> <span data-ttu-id="d4352-105">La revisión es un paquete independiente que contiene toda la información necesaria para actualizar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4352-105">The patch is a self-contained package that contains all the information required to update the application.</span></span> <span data-ttu-id="d4352-106">Un paquete de revisión (archivo. msp) puede ser mucho más pequeño que el paquete de Windows Installer (archivo. msi) de toda la aplicación actualizada.</span><span class="sxs-lookup"><span data-stu-id="d4352-106">A patch package (.msp file) can be much smaller than the Windows Installer package (.msi file) for the entire updated application.</span></span> <span data-ttu-id="d4352-107">Para obtener más información acerca de cómo entregar actualizaciones más pequeñas a las aplicaciones, consulte [reducir el tamaño](reducing-patch-size.md)de la revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-107">For more information about delivering smaller updates to applications, see [Reducing Patch Size](reducing-patch-size.md).</span></span>

<span data-ttu-id="d4352-108">Un paquete de revisión contiene las actualizaciones reales de la aplicación y describe qué versiones de la aplicación pueden recibir la revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-108">A patch package contains the actual updates to the application and describes which versions of the application can receive the patch.</span></span> <span data-ttu-id="d4352-109">Las revisiones contienen como mínimo dos transformaciones de base de datos.</span><span class="sxs-lookup"><span data-stu-id="d4352-109">Patches contain at minimum two database transforms.</span></span> <span data-ttu-id="d4352-110">Una transformación actualiza la información en la base de datos de instalación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4352-110">One transform updates the information in the installation database of the application.</span></span> <span data-ttu-id="d4352-111">La otra transformación agrega información que el instalador utiliza para aplicar revisiones a los archivos.</span><span class="sxs-lookup"><span data-stu-id="d4352-111">The other transform adds information that the installer uses for patching files.</span></span> <span data-ttu-id="d4352-112">El instalador usa la información proporcionada por las transformaciones para aplicar archivos de revisión que se almacenan en la secuencia del archivo. cab del paquete de revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-112">The installer uses the information provided by the transforms to apply patch files that are stored in the cabinet file stream of the patch package.</span></span> <span data-ttu-id="d4352-113">Un paquete de revisión no tiene una base de datos como un paquete de instalación (archivo. msi).</span><span class="sxs-lookup"><span data-stu-id="d4352-113">A patch package does not have a database like an installation package (.msi file.)</span></span>

<span data-ttu-id="d4352-114">A partir de Windows Installer versión 3,0, los paquetes de revisión pueden contener información que describe la secuencia de revisión de la revisión relativa a otras actualizaciones de la tabla [MsiPatchSequence](msipatchsequence-table.md) e información adicional descriptiva en la tabla [MsiPatchMetadata](msipatchmetadata-table.md) .</span><span class="sxs-lookup"><span data-stu-id="d4352-114">Beginning with Windows Installer version 3.0, patch packages can contain information that describe the patching sequence for the patch relative to other updates in the [MsiPatchSequence](msipatchsequence-table.md) table and additional descriptive information in the [MsiPatchMetadata](msipatchmetadata-table.md) table.</span></span>

<span data-ttu-id="d4352-115">Los usuarios pueden instalar aplicaciones y actualizaciones de una imagen administrativa de red.</span><span class="sxs-lookup"><span data-stu-id="d4352-115">Users can install applications and updates from a network administrative image.</span></span> <span data-ttu-id="d4352-116">Aunque los paquetes de revisión pueden aplicarse a las instalaciones administrativas, el método recomendado para proporcionar actualizaciones consiste en que los usuarios instalen la aplicación original y, a continuación, apliquen las revisiones a la instancia local de la aplicación en su equipo.</span><span class="sxs-lookup"><span data-stu-id="d4352-116">Although patch packages can be applied to administrative installations, the recommended method to deliver updates is to have users install the original application and then apply the patches to the local instance of the application on to their computer.</span></span> <span data-ttu-id="d4352-117">Esto impide que los usuarios se sincronizan con la imagen administrativa.</span><span class="sxs-lookup"><span data-stu-id="d4352-117">This keeps users in synchronization with the administrative image.</span></span> <span data-ttu-id="d4352-118">Si se aplica una revisión a la instalación administrativa, todos los clientes de esa instalación administrativa deben volver a almacenar en caché la aplicación para recibir la actualización.</span><span class="sxs-lookup"><span data-stu-id="d4352-118">If a patch is applied to the administrative installation, all clients of that administrative installation must recache and reinstall the application to receive the update.</span></span> <span data-ttu-id="d4352-119">Hasta que un usuario se vuelve a almacenar en caché y se vuelve a instalar, el usuario no puede instalar las instalaciones a petición y reparar desde la instalación administrativa revisada.</span><span class="sxs-lookup"><span data-stu-id="d4352-119">Until a user recaches and reinstalls, the user is unable to install-on-demand and repair installations from the patched administrative installation.</span></span>

<span data-ttu-id="d4352-120">A partir de Windows Installer 3,0, los usuarios que no son administradores pueden aplicar revisiones a las aplicaciones administradas por el usuario después de que un administrador haya aprobado la revisión como de confianza.</span><span class="sxs-lookup"><span data-stu-id="d4352-120">Beginning with Windows Installer 3.0, non-administrators can apply patches to per-user-managed applications after the patch has been approved as trusted by an administrator.</span></span> <span data-ttu-id="d4352-121">Para obtener más información sobre cómo hacerlo, consulte [aplicación de revisiones Per-User aplicaciones administradas](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="d4352-121">For more information on how to do this, see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span> <span data-ttu-id="d4352-122">Otro método consiste en usar la revisión de cuentas de usuario con privilegios mínimos.</span><span class="sxs-lookup"><span data-stu-id="d4352-122">Another method is to use least privileged user account patching.</span></span>

> [!Note]  
> <span data-ttu-id="d4352-123">Si se ha establecido la directiva [AllowLockdownPatch](allowlockdownpatch.md) , los usuarios que no sean administradores pueden aplicar una revisión a una aplicación existente mientras se ejecuta una instalación con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="d4352-123">If the [AllowLockdownPatch](allowlockdownpatch.md) policy has been set, non-administrator users can apply a patch to an existing application while running an installation at elevated privileges.</span></span> <span data-ttu-id="d4352-124">No se recomienda este método porque permite aplicar revisiones que no son de confianza a una aplicación que se puede ejecutar con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="d4352-124">This method is not recommended because it enables untrusted patches to be applied to an application that can run with elevated privileges.</span></span>

 

<span data-ttu-id="d4352-125">Los paquetes de revisión se componen de las siguientes partes.</span><span class="sxs-lookup"><span data-stu-id="d4352-125">Patch packages are comprised of the following parts.</span></span> <span data-ttu-id="d4352-126">Para obtener más información sobre la construcción de paquetes de revisión, consulte [crear un paquete de revisión](creating-a-patch-package.md).</span><span class="sxs-lookup"><span data-stu-id="d4352-126">For more information about the construction of patch packages, see [Creating a Patch Package](creating-a-patch-package.md).</span></span>

## <a name="summary-information-stream"></a><span data-ttu-id="d4352-127">Flujo de información de Resumen</span><span class="sxs-lookup"><span data-stu-id="d4352-127">Summary Information Stream</span></span>

<span data-ttu-id="d4352-128">La secuencia de información de resumen del paquete de revisión proporciona información acerca de la identidad y el propósito de la revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-128">The summary information stream of the patch package provides information about the identity and purpose of the patch.</span></span>

<span data-ttu-id="d4352-129">La secuencia de información de Resumen contiene un mínimo de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d4352-129">The summary information stream holds a minimum of the following:</span></span>

-   <span data-ttu-id="d4352-130">GUID que identifica de forma única la revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-130">A GUID that uniquely identifies the patch.</span></span> <span data-ttu-id="d4352-131">El GUID de esta revisión se anexa con una lista de GUID para las revisiones anteriores que se sustituyen por esta revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-131">The GUID for this patch is appended with a list of GUIDs for earlier patches that are replaced by this patch.</span></span>
-   <span data-ttu-id="d4352-132">Una lista delimitada por signos de punto y coma de códigos de producto para los destinos válidos para esta revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-132">A semicolon-delimited list of product codes for valid targets for this patch.</span></span>
-   <span data-ttu-id="d4352-133">Una lista delimitada por signos de punto y coma de nombres de subalmacenamiento de transformación en el orden en que se van a procesar.</span><span class="sxs-lookup"><span data-stu-id="d4352-133">A semicolon-delimited list of transform substorage names in the order they are to be processed.</span></span>
-   <span data-ttu-id="d4352-134">Una lista delimitada por signos de punto y coma de orígenes para esta revisión.</span><span class="sxs-lookup"><span data-stu-id="d4352-134">A semicolon-delimited list of sources for this patch.</span></span>

## <a name="transform-substorage"></a><span data-ttu-id="d4352-135">Transformación del subalmacenamiento</span><span class="sxs-lookup"><span data-stu-id="d4352-135">Transform Substorage</span></span>

<span data-ttu-id="d4352-136">Un paquete de revisión contiene transformaciones que pueden agregar o quitar archivos, entradas del registro, interfaces de usuario y personalizaciones.</span><span class="sxs-lookup"><span data-stu-id="d4352-136">A patch package contains transforms that can add or remove files, registry entries, user interfaces, and customizations.</span></span> <span data-ttu-id="d4352-137">Las transformaciones se incluyen como subalmacenamientos en el paquete.</span><span class="sxs-lookup"><span data-stu-id="d4352-137">Transforms are included as substorages in the package.</span></span> <span data-ttu-id="d4352-138">Un paquete de revisión contiene dos transformaciones para cada base de datos de destino.</span><span class="sxs-lookup"><span data-stu-id="d4352-138">A patch package contains two transforms for each target database.</span></span> <span data-ttu-id="d4352-139">Una transformación es las actualizaciones reales de la base de datos de instalación y se genera a partir de las diferencias entre las imágenes originales y actualizadas del paquete de instalación.</span><span class="sxs-lookup"><span data-stu-id="d4352-139">One transform is the actual updates to the installation database and is generated from the differences between the original and updated images of the installation package.</span></span> <span data-ttu-id="d4352-140">La otra transformación agrega entradas a las tablas [patch](patch-table.md), [PatchPackage](patchpackage-table.md), [media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md)y [AdminExecuteSequence](adminexecutesequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="d4352-140">The other transform adds entries to the [Patch](patch-table.md), [PatchPackage](patchpackage-table.md), [Media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md), and [AdminExecuteSequence](adminexecutesequence-table.md) tables.</span></span> <span data-ttu-id="d4352-141">La información del subalmacenamiento lo vincula a un [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md)y [**ProductLanguage**](productlanguage.md)específicos.</span><span class="sxs-lookup"><span data-stu-id="d4352-141">Information in the substorage ties it to a specific [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md), and [**ProductLanguage**](productlanguage.md).</span></span> <span data-ttu-id="d4352-142">Un paquete de revisión que se puede aplicar a varios destinos contiene más de un par de estas transformaciones.</span><span class="sxs-lookup"><span data-stu-id="d4352-142">A patch package that can be applied to multiple targets contains more than one pair of these transforms.</span></span>

## <a name="cabinet-file-stream"></a><span data-ttu-id="d4352-143">Secuencia de archivos. cab</span><span class="sxs-lookup"><span data-stu-id="d4352-143">Cabinet File Stream</span></span>

<span data-ttu-id="d4352-144">La secuencia del archivo. cab incluida en una revisión puede contener estos tipos de archivos:</span><span class="sxs-lookup"><span data-stu-id="d4352-144">The cabinet file stream included in a patch can contain these types of files:</span></span>

-   <span data-ttu-id="d4352-145">Archivos de revisión que contienen la información necesaria para cambiar la versión anterior del archivo a la nueva versión.</span><span class="sxs-lookup"><span data-stu-id="d4352-145">Patch files containing the information required to change the old version of the file into the new version.</span></span> <span data-ttu-id="d4352-146">Se puede usar un solo archivo de revisión para actualizar una o más versiones anteriores de un archivo.</span><span class="sxs-lookup"><span data-stu-id="d4352-146">A single patch file can be used to update one or more old versions of a file.</span></span>
-   <span data-ttu-id="d4352-147">Archivos adicionales que se agregan a la aplicación que no están presentes en la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="d4352-147">Additional files being added to the application that are not present in the old version.</span></span>
-   <span data-ttu-id="d4352-148">Un archivo de reemplazo completo.</span><span class="sxs-lookup"><span data-stu-id="d4352-148">An entire replacement file.</span></span> <span data-ttu-id="d4352-149">En el caso excepcional en el que la nueva versión de un archivo es menor que la revisión necesaria para actualizar la versión anterior de ese archivo, el nuevo archivo se puede incluir en su totalidad.</span><span class="sxs-lookup"><span data-stu-id="d4352-149">In the rare case where the new version of a file is smaller than the patch required to update the old version of that file, the new file can be included in its entirety.</span></span> <span data-ttu-id="d4352-150">Se trata de archivos nuevos que se instalan con sus versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="d4352-150">These are new files that are installed over their old versions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d4352-151">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="d4352-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d4352-152">Crear un paquete de revisión</span><span class="sxs-lookup"><span data-stu-id="d4352-152">Creating a Patch Package</span></span>](creating-a-patch-package.md)
</dt> </dl>

 

 



