---
title: Implementación de Direct3D 11 para desarrolladores de juegos
description: En este artículo se describe cómo implementar los componentes de Direct3D 11 en un sistema si es necesario.
ms.assetid: 1fd43638-0d67-4a94-3be6-8789095f491e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd935aedee23ba731bc74e52c0773e6f02e5b5fc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104271333"
---
# <a name="direct3d-11-deployment-for-game-developers"></a><span data-ttu-id="fb9d1-103">Implementación de Direct3D 11 para desarrolladores de juegos</span><span class="sxs-lookup"><span data-stu-id="fb9d1-103">Direct3D 11 deployment for game developers</span></span>

<span data-ttu-id="fb9d1-104">En este artículo se describe cómo implementar los componentes de Direct3D 11 en un sistema si es necesario.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-104">This article describes how to deploy the Direct3D 11 components on a system if necessary.</span></span>

-   [<span data-ttu-id="fb9d1-105">Información general</span><span class="sxs-lookup"><span data-stu-id="fb9d1-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="fb9d1-106">Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="fb9d1-106">Direct3D 11.3</span></span>](#direct3d-113)
-   [<span data-ttu-id="fb9d1-107">Direct3D 11,2</span><span class="sxs-lookup"><span data-stu-id="fb9d1-107">Direct3D 11.2</span></span>](#direct3d-112)
-   [<span data-ttu-id="fb9d1-108">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="fb9d1-108">Direct3D 11.1</span></span>](#direct3d-111)
-   [<span data-ttu-id="fb9d1-109">D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="fb9d1-109">D3D11InstallHelper.dll</span></span>](#d3d11installhelperdll)
-   [<span data-ttu-id="fb9d1-110">D3D11Install.exe</span><span class="sxs-lookup"><span data-stu-id="fb9d1-110">D3D11Install.exe</span></span>](#d3d11installexe)
-   [<span data-ttu-id="fb9d1-111">Integrar en programas de instalación</span><span class="sxs-lookup"><span data-stu-id="fb9d1-111">Integrating into Installation Programs</span></span>](#integrating-into-installation-programs)
    -   [<span data-ttu-id="fb9d1-112">Integración en InstallShield</span><span class="sxs-lookup"><span data-stu-id="fb9d1-112">Integrating into InstallShield</span></span>](#integrating-into-installshield)
    -   [<span data-ttu-id="fb9d1-113">Integración en un paquete MSI</span><span class="sxs-lookup"><span data-stu-id="fb9d1-113">Integrating into an MSI Package</span></span>](#integrating-into-an-msi-package)
-   [<span data-ttu-id="fb9d1-114">Sugerencias de depuración</span><span class="sxs-lookup"><span data-stu-id="fb9d1-114">Debugging Tips</span></span>](#debugging-tips)
-   [<span data-ttu-id="fb9d1-115">Configuración corporativa</span><span class="sxs-lookup"><span data-stu-id="fb9d1-115">Corporate Settings</span></span>](#corporate-settings)
-   [<span data-ttu-id="fb9d1-116">Artículos relacionados</span><span class="sxs-lookup"><span data-stu-id="fb9d1-116">Related Articles</span></span>](#related-articles)

## <a name="overview"></a><span data-ttu-id="fb9d1-117">Información general</span><span class="sxs-lookup"><span data-stu-id="fb9d1-117">Overview</span></span>

<span data-ttu-id="fb9d1-118">La API de Direct3D 11 amplía la API de Direct3D 10,1 existente compatible con la representación multiproceso y la creación de recursos, el sombreador de cálculo, la teselación de hardware, la compresión de texturas de BC6H/BC7 y el modelo de sombreador de HLSL 5,0 con vinculación dinámica del sombreador.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-118">The Direct3D 11 API extends the existing Direct3D 10.1 API with support for multithreaded rendering and resource creation, Compute Shader, hardware tessellation, BC6H/BC7 texture compression, and HLSL Shader Model 5.0 with Dynamic Shader Linkage.</span></span> <span data-ttu-id="fb9d1-119">Además del componente Direct3D 11, se incluyen varios componentes gráficos adicionales en el tiempo de ejecución de DirectX 11: Direct3D 11, DXGI 1,1, niveles de características de 10level9, dispositivo de representación de software WARP10, Direct2D, DirectWrite y un nivel de compatibilidad de Direct3D 10,1 actualizado con 10level9 y WARP10.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-119">In addition to the Direct3D 11 component, a number of additional graphics components are included in the DirectX 11 runtime: Direct3D 11, DXGI 1.1, 10level9 feature levels, WARP10 software rendering device, Direct2D, DirectWrite, and an updated Direct3D 10.1 with support for 10level9 and WARP10.</span></span> <span data-ttu-id="fb9d1-120">Para obtener información sobre estos y otros componentes de gráficos de Windows, vea [API de gráficos en Windows](graphics-apis-in-windows-vista.md).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-120">For information on these and other Windows graphics components, see [Graphics APIs in Windows](graphics-apis-in-windows-vista.md).</span></span>

<span data-ttu-id="fb9d1-121">Todos estos componentes gráficos nuevos están integrados en los sistemas operativos Windows 7 y Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-121">All of these new graphics components are built into the Windows 7 and Windows Server 2008 R2 operating systems.</span></span> <span data-ttu-id="fb9d1-122">La API de Direct3D 11 y los componentes relacionados también se pueden instalar en Windows Vista mediante una actualización del sistema desde Windows Update; Vea el artículo [KB 971644](https://support.microsoft.com/kb/971644)de Knowledge base.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-122">The Direct3D 11 API and related components can also be installed on Windows Vista by using a system update from Windows Update; see Knowledge Base article [KB 971644](https://support.microsoft.com/kb/971644).</span></span> <span data-ttu-id="fb9d1-123">Esta actualización requiere Windows Vista y Service Pack 2.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-123">This update requires Windows Vista and Service Pack 2.</span></span> <span data-ttu-id="fb9d1-124">Los usuarios finales con actualizaciones automáticas habilitadas, por lo tanto, es probable que ya tengan instalados los componentes de Direct3D 11, al igual que todos los usuarios de Windows 7.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-124">End-users with automatic updates enabled will, therefore, likely already have the Direct3D 11 components installed, as will all Windows 7 users.</span></span>

<span data-ttu-id="fb9d1-125">El ejemplo D3D11InstallHelper se ha diseñado para simplificar la detección de la API de Direct3D 11, instalar automáticamente la actualización del sistema si es aplicable a un equipo del usuario final y proporcionar los mensajes adecuados al usuario final en el procedimiento manual si se requiere un Service Pack más reciente.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-125">The D3D11InstallHelper sample is designed to simplify detection of the Direct3D 11 API, automatically install the system update if applicable to an end-user's computer, and to provide appropriate messages to the end-user on manual procedure if a newer Service Pack is required.</span></span>

> [!Note]  
> <span data-ttu-id="fb9d1-126">El compilador de HLSL (D3DCompile \* . dll) y la biblioteca de utilidades de D3DX para Direct3D 11 (D3DX11 \* . dll) no están integrados en ninguna versión del sistema operativo Windows, pero se pueden implementar como parte del instalador de una aplicación mediante la tecnología DirectSetup existente; para obtener más información sobre el uso de DirectSetup, consulte [instalación de DirectX para desarrolladores de juegos](/windows/desktop/DxTechArts/directx-setup-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-126">The HLSL compiler (D3DCompile\*.dll) and the D3DX utility library for Direct3D 11 (D3DX11\*.dll) are not built into any version of the Windows operating system, but they can be deployed as part of an application's installer by using the existing DirectSetup technology; for more information about using DirectSetup, see [DirectX Installation for Game Developers](/windows/desktop/DxTechArts/directx-setup-for-game-developers).</span></span> <span data-ttu-id="fb9d1-127">"Effects 11" está disponible como una biblioteca de compatibilidad de código fuente compartido en [efectos para la actualización de Direct3D 11](https://github.com/Microsoft/FX11), y puede incluirlo directamente en una aplicación (como la biblioteca de utilidades DXUT).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-127">"Effects 11" is available as a shared source support library at [Effects for Direct3D 11 Update](https://github.com/Microsoft/FX11), and you can include it directly into an app (much like the DXUT utility library).</span></span> <span data-ttu-id="fb9d1-128">Por lo tanto, no tiene ningún requisito de redistribución adicional en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-128">Thus, it doesn't have any additional run-time redistribution requirements.</span></span>

## <a name="direct3d-113"></a><span data-ttu-id="fb9d1-129">Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="fb9d1-129">Direct3D 11.3</span></span>

<span data-ttu-id="fb9d1-130">Windows 10 se incluye con la API de Direct3D 11,3 integrada.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-130">Windows 10 ships with the Direct3D 11.3 API built in.</span></span> <span data-ttu-id="fb9d1-131">Vea [características de direct3d 11,3](/windows/desktop/direct3d11/direct3d-11-3-features) para obtener una lista de las nuevas características de la API de Direct3D 11,3.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-131">See [Direct3D 11.3 Features](/windows/desktop/direct3d11/direct3d-11-3-features) for a list of new features in the Direct3D 11.3 API.</span></span>

## <a name="direct3d-112"></a><span data-ttu-id="fb9d1-132">Direct3D 11,2</span><span class="sxs-lookup"><span data-stu-id="fb9d1-132">Direct3D 11.2</span></span>

<span data-ttu-id="fb9d1-133">Windows 8.1 y Windows Server 2012 R2 se incluyen con la API de Direct3D 11,2 integrada.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-133">Windows 8.1 and Windows Server 2012 R2 ship with the Direct3D 11.2 API built in.</span></span> <span data-ttu-id="fb9d1-134">Vea [características de direct3d 11,2](/windows/desktop/direct3d11/direct3d-11-2-features) para obtener una lista de las nuevas características de la API de Direct3D 11,2.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-134">See [Direct3D 11.2 Features](/windows/desktop/direct3d11/direct3d-11-2-features) for a list of new features in the Direct3D 11.2 API.</span></span>

## <a name="direct3d-111"></a><span data-ttu-id="fb9d1-135">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="fb9d1-135">Direct3D 11.1</span></span>

<span data-ttu-id="fb9d1-136">Windows 8 y Windows Server 2012 vienen con la [API de Direct3D 11,1](/windows/desktop/direct3d11/direct3d-11-1-features) integrada.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-136">Windows 8 and Windows Server 2012 ship with the [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features) built in.</span></span> <span data-ttu-id="fb9d1-137">La compatibilidad parcial con la API Direct3D 11,1 está disponible en Windows 7 o Windows Server 2008 R2 con la [actualización de la plataforma para Windows 7](https://support.microsoft.com/kb/2670838) instalada.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-137">Partial support for the Direct3D 11.1 API is available on Windows 7 or Windows Server 2008 R2 with the [Platform Update for Windows 7](https://support.microsoft.com/kb/2670838) installed.</span></span> <span data-ttu-id="fb9d1-138">Para obtener más información sobre la actualización de la plataforma para Windows 7, consulte [actualización de la plataforma para Windows 7](platform-update-for-windows-7.md).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-138">For more info about the Platform Update for Windows 7, see [Platform Update for Windows 7](platform-update-for-windows-7.md).</span></span>

## <a name="d3d11installhelperdll"></a><span data-ttu-id="fb9d1-139">D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="fb9d1-139">D3D11InstallHelper.dll</span></span>

<span data-ttu-id="fb9d1-140">D3D11InstallHelper.dll hospeda la funcionalidad básica para detectar componentes de Direct3D 11 y realizar la actualización del sistema a través del servicio Windows Update, si procede.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-140">D3D11InstallHelper.dll hosts the core functionality for detecting Direct3D 11 components, and performing the system update through the Windows Update service if applicable.</span></span> <span data-ttu-id="fb9d1-141">El archivo DLL no muestra ningún mensaje o cuadro de diálogo directamente.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-141">The DLL displays no messages or dialog boxes directly.</span></span>

<span data-ttu-id="fb9d1-142">El archivo DLL consta de los siguientes puntos de entrada:</span><span class="sxs-lookup"><span data-stu-id="fb9d1-142">The DLL consists of the following entry points:</span></span>

<dl> <dt>

<span data-ttu-id="fb9d1-143"><span id="CheckDirect3D11Status"></span><span id="checkdirect3d11status"></span><span id="CHECKDIRECT3D11STATUS"></span>CheckDirect3D11Status</span><span class="sxs-lookup"><span data-stu-id="fb9d1-143"><span id="CheckDirect3D11Status"></span><span id="checkdirect3d11status"></span><span id="CHECKDIRECT3D11STATUS"></span>CheckDirect3D11Status</span></span>
</dt> <dd>

<span data-ttu-id="fb9d1-144">Esta función realiza las comprobaciones necesarias y devuelve el estado de Direct3D 11 en este equipo.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-144">This function performs the necessary checks and returns the status of Direct3D 11 on this computer.</span></span> <span data-ttu-id="fb9d1-145">Esta función no requiere derechos de administrador.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-145">This function does not require administrator rights.</span></span>

-   <span data-ttu-id="fb9d1-146">Un estado de estado de D3D11IH \_ \_ instalado indica que Direct3D 11 ya está instalado en el equipo y está listo para su uso.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-146">A status of D3D11IH\_STATUS\_INSTALLED indicates that Direct3D 11 is already installed on the computer and is ready for use.</span></span>
-   <span data-ttu-id="fb9d1-147">\_El estado \_ de D3D11IH no \_ compatible indica que esta versión de Windows no admite Direct3D 11 ni tecnologías relacionadas.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-147">D3D11IH\_STATUS\_NOT\_SUPPORTED indicates that this version of Windows does not support Direct3D 11 or related technologies.</span></span>
-   <span data-ttu-id="fb9d1-148">Un estado de estado de D3D11IH \_ \_ necesario el \_ SP más reciente \_ indica que el usuario debe instalar el Service Pack más reciente de Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-148">A status of D3D11IH\_STATUS\_NEED\_LATEST\_SP indicates that the latest Windows Vista Service Pack should be installed by the user.</span></span>
-   <span data-ttu-id="fb9d1-149">Por último, un estado de \_ Estado de D3D11IH \_ requiere \_ actualización indica que el sistema no tiene Direct3D 11 instalado, pero que la actualización del sistema sí se aplica a esta versión de Windows.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-149">Finally, a status of D3D11IH\_STATUS\_REQUIRES\_UPDATE indicates that the system does not have Direct3D 11 installed, but that the system update does apply to this version of Windows.</span></span>

</dd> <dt>

<span data-ttu-id="fb9d1-150"><span id="DoUpdateForDirect3D11"></span><span id="doupdatefordirect3d11"></span><span id="DOUPDATEFORDIRECT3D11"></span>DoUpdateForDirect3D11</span><span class="sxs-lookup"><span data-stu-id="fb9d1-150"><span id="DoUpdateForDirect3D11"></span><span id="doupdatefordirect3d11"></span><span id="DOUPDATEFORDIRECT3D11"></span>DoUpdateForDirect3D11</span></span>
</dt> <dd>

<span data-ttu-id="fb9d1-151">Esta función usa la API de Windows Update para realizar la actualización del sistema para instalar Direct3D 11 en este sistema, si procede.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-151">This function uses the Windows Update API to perform the system update for installing Direct3D 11 on this system, if applicable.</span></span> <span data-ttu-id="fb9d1-152">Tenga en cuenta que esta función requiere conectividad de red para Windows Update para que se realice correctamente, así como derechos administrativos.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-152">Note that this function requires network connectivity to Windows Update to succeed, as well as administrative rights.</span></span> <span data-ttu-id="fb9d1-153">Toma una función de devolución de llamada de progreso opcional y un puntero de contexto de usuario, y devuelve un código de resultado final cuando se completa.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-153">It takes an optional progress callback function and user-context pointer, and returns a final result code when complete.</span></span>

-   <span data-ttu-id="fb9d1-154">El \_ resultado de resultado correcto de D3D11IH \_ indica que la actualización del sistema se aplicó y está lista para su uso, mientras \_ \_ que el reinicio del resultado correcto de D3D11IH \_ indica que la actualización del sistema requiere que el equipo se reinicie antes de completarse.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-154">The D3D11IH\_RESULT\_SUCCESS result indicates that the system update was applied and is ready for use, while D3D11IH\_RESULT\_SUCCESS\_REBOOT indicates that the system update requires the computer is restarted before it is complete.</span></span> <span data-ttu-id="fb9d1-155">Tenga en cuenta que esta función no programa el reinicio del sistema.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-155">Note that this function does not schedule a system restart.</span></span>
-   <span data-ttu-id="fb9d1-156">\_El resultado \_ de D3D11IH no \_ compatible indica que la actualización del sistema no se aplica a esta versión de Windows.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-156">D3D11IH\_RESULT\_NOT\_SUPPORTED indicates that the system update does not apply to this version of Windows.</span></span> <span data-ttu-id="fb9d1-157">Este resultado no debería producirse si solo se llama a esta función después de obtener un \_ Estado de D3D11IH que \_ requiere el \_ Estado de actualización de CheckDirect3D11Status.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-157">This result should not occur if this function is only called after getting a D3D11IH\_STATUS\_REQUIRES\_UPDATE status from CheckDirect3D11Status.</span></span>
-   <span data-ttu-id="fb9d1-158">El resultado de la \_ actualización de resultados de D3D11IH \_ \_ no \_ encontrada indica que no se encontró el paquete de actualización del sistema en los servidores de Windows Update.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-158">A result of D3D11IH\_RESULT\_UPDATE\_NOT\_FOUND indicates that the system update package was not found on the Windows Update servers.</span></span>
-   <span data-ttu-id="fb9d1-159">Si se produce un error en la descarga o la instalación del Windows Update, se producirá un error en la descarga de la actualización de resultados de D3D11IH \_ \_ o se \_ \_ \_ \_ \_ \_ devolverá un error de instalación de actualización de resultados D3D11IH</span><span class="sxs-lookup"><span data-stu-id="fb9d1-159">If the Windows Update download or installation fails, then D3D11IH\_RESULT\_UPDATE\_DOWNLOAD\_FAILED or D3D11IH\_RESULT\_UPDATE\_INSTALL\_FAILED will be returned as the result.</span></span>
-   <span data-ttu-id="fb9d1-160">Si se devuelve un error de conectividad de red desde la API de Windows Update, \_ se devuelve el resultado del error del servicio D3D11IH de resultados de \_ Wu \_ \_ , lo que indica que el problema podría ser intermitente o estar relacionado con la configuración de la red o del firewall.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-160">If a network connectivity error is returned from the Windows Update API, then the D3D11IH\_RESULT\_WU\_SERVICE\_ERROR result is returned, indicating that the problem might be intermittent or related to network configuration or firewall settings.</span></span> <span data-ttu-id="fb9d1-161">Es posible que vuelva a intentar la función de actualización.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-161">Trying the update function again may succeed.</span></span>

</dd> </dl>

<span data-ttu-id="fb9d1-162">Para obtener más información sobre la API de Windows Update, consulte [Windows Update Agent API](/windows/desktop/Wua_Sdk/portal-client).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-162">For more information on the Windows Update API, see [Windows Update Agent API](/windows/desktop/Wua_Sdk/portal-client).</span></span>

## <a name="d3d11installexe"></a><span data-ttu-id="fb9d1-163">D3D11Install.exe</span><span class="sxs-lookup"><span data-stu-id="fb9d1-163">D3D11Install.exe</span></span>

> [!Note]  
> <span data-ttu-id="fb9d1-164">D3D11Install.exe requiere que D3D11InstallHelper.dll se ejecute.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-164">D3D11Install.exe requires D3D11InstallHelper.dll to execute.</span></span>

<span data-ttu-id="fb9d1-165">D3D11Install.exe es una herramienta para usar D3D11InstallHelper.dll como instalador independiente completado con mensajes de usuario final y de interfaz de usuario, así como para actuar como ejemplo para el uso correcto del archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-165">D3D11Install.exe is a tool for using D3D11InstallHelper.dll as a stand-alone installer complete with UI and end-user messages, as well as acting as an example for proper use of the DLL.</span></span> <span data-ttu-id="fb9d1-166">El proceso finaliza con un 0 si ya está instalado Direct3D 11, si la actualización del sistema se aplica correctamente sin requerir un reinicio del sistema, si se requiere una instalación del Service Pack o si el equipo no admite Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-166">The process exits with a 0 if Direct3D 11 is already installed, if the system update applies successfully without requiring a system restart, if a Service Pack installation is required, or if Direct3D 11 is not supported by this computer.</span></span> <span data-ttu-id="fb9d1-167">Se devuelve 1 si la actualización del sistema se aplica correctamente y requiere el reinicio del sistema para completarse.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-167">A 1 is returned if the system update is applied successfully and requires a system restart to complete.</span></span> <span data-ttu-id="fb9d1-168">Se devuelve un 2 para otras condiciones de error.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-168">A 2 is returned for other error conditions.</span></span> <span data-ttu-id="fb9d1-169">Tenga en cuenta que este archivo ejecutable requiere derechos de administrador para ejecutarse y que tiene un manifiesto que solicita la elevación cuando se ejecuta en Windows Vista o Windows 7 con UAC habilitado.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-169">Note that this executable file requires administrator rights to run, and it has a manifest that requests elevation when run on Windows Vista or Windows 7 with UAC enabled.</span></span> <span data-ttu-id="fb9d1-170">D3D11Install.exe puede usarse como una herramienta independiente para implementar la actualización de Direct3D 11, o bien se puede usar directamente mediante instaladores.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-170">D3D11Install.exe can be used as a stand-alone tool for deploying the Direct3D 11 update, or it can be used directly by installers.</span></span>

<span data-ttu-id="fb9d1-171">Admite los siguientes modificadores de línea de comandos:</span><span class="sxs-lookup"><span data-stu-id="fb9d1-171">It supports the following command-line switches:</span></span>

<dl> <dt>

<span data-ttu-id="fb9d1-172"><span id="_quiet__"></span><span id="_QUIET__"></span>/Quiet</span><span class="sxs-lookup"><span data-stu-id="fb9d1-172"><span id="_quiet__"></span><span id="_QUIET__"></span>/quiet</span></span> 
</dt> <dd>

<span data-ttu-id="fb9d1-173">No muestra ningún mensaje, mensaje, cuadro de diálogo de progreso o mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-173">Displays no messages, prompts, progress dialog boxes, or error messages.</span></span>

</dd> <dt>

<span data-ttu-id="fb9d1-174"><span id="_passive__"></span><span id="_PASSIVE__"></span>/Passive</span><span class="sxs-lookup"><span data-stu-id="fb9d1-174"><span id="_passive__"></span><span id="_PASSIVE__"></span>/passive</span></span> 
</dt> <dd>

<span data-ttu-id="fb9d1-175">No muestra ningún mensaje, mensaje o mensaje de error, pero mostrará el cuadro de diálogo de progreso.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-175">Displays no messages, prompts, or error messages, but will show the progress dialog box.</span></span>

</dd> <dt>

<span data-ttu-id="fb9d1-176"><span id="_minimal__"></span><span id="_MINIMAL__"></span>/minimal</span><span class="sxs-lookup"><span data-stu-id="fb9d1-176"><span id="_minimal__"></span><span id="_MINIMAL__"></span>/minimal</span></span> 
</dt> <dd>

<span data-ttu-id="fb9d1-177">Muestra solo los mensajes mínimos.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-177">Shows only minimal prompts.</span></span>

</dd> <dt>

<span data-ttu-id="fb9d1-178"><span id="_y__"></span><span id="_Y__"></span>/y</span><span class="sxs-lookup"><span data-stu-id="fb9d1-178"><span id="_y__"></span><span id="_Y__"></span>/y</span></span> 
</dt> <dd>

<span data-ttu-id="fb9d1-179">Suprime la solicitud de confirmación de la instalación de la actualización, si es necesario y aplicable, para una instalación estándar y mínima.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-179">Suppresses prompting to confirm installing the update, if needed and applicable, for a standard and minimal installation.</span></span>

</dd> <dt>

<span data-ttu-id="fb9d1-180"><span id="_langid_decimal__"></span><span id="_LANGID_DECIMAL__"></span>/langid decimal</span><span class="sxs-lookup"><span data-stu-id="fb9d1-180"><span id="_langid_decimal__"></span><span id="_LANGID_DECIMAL__"></span>/langid decimal</span></span> 
</dt> <dd>

<span data-ttu-id="fb9d1-181">Fuerza el código de identificador de idioma que se va a usar al mostrar los mensajes del usuario final y los recursos del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-181">Forces which language identifier code to use when displaying end-user messages and dialog box resources.</span></span> <span data-ttu-id="fb9d1-182">El valor predeterminado es 1024, que utiliza la configuración de idioma predeterminado del sistema.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-182">The default value is 1024, which uses the system default language setting.</span></span>

</dd> <dt>

<span data-ttu-id="fb9d1-183"><span id="_wu__"></span><span id="_WU__"></span>/wu</span><span class="sxs-lookup"><span data-stu-id="fb9d1-183"><span id="_wu__"></span><span id="_WU__"></span>/wu</span></span> 
</dt> <dd>

<span data-ttu-id="fb9d1-184">Fuerza el uso de Windows Update en lugar del valor predeterminado del sistema, que puede ser Windows Server Update Services (WSUS) que se ejecuta en un servidor administrado u otra configuración no estándar.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-184">Forces use of Windows Update rather than the system default, which may be Windows Server Update Services (WSUS) running on a managed server or some other non-standard configuration.</span></span>

</dd> </dl>

## <a name="integrating-into-installation-programs"></a><span data-ttu-id="fb9d1-185">Integrar en programas de instalación</span><span class="sxs-lookup"><span data-stu-id="fb9d1-185">Integrating into installation programs</span></span>

<span data-ttu-id="fb9d1-186">Con el fin de que sea compatible con la instalación sencilla, el [requisito técnico 3,1 para juegos para Windows](/windows/desktop/DxTechArts/games-for-windows-technical-requirements-1-1-0006), tiene que tener cuidado para que los mensajes del usuario final se presenten al principio del proceso de instalación y para asegurarse de que no haya varias peticiones de elevación relacionadas con UAC.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-186">To comply with Support Easy Installation, [Technical Requirement 3.1 for Games for Windows](/windows/desktop/DxTechArts/games-for-windows-technical-requirements-1-1-0006), care needs to be taken so that any end-user prompts are presented early in the installation process, and to ensure that there are not multiple UAC-related elevation prompts.</span></span> <span data-ttu-id="fb9d1-187">Existen tres opciones básicas para lograr este objetivo:</span><span class="sxs-lookup"><span data-stu-id="fb9d1-187">There are three basic choices for achieving this goal:</span></span>

1.  <span data-ttu-id="fb9d1-188">El método más básico consiste en ejecutar el D3D11Install.exe con el modificador de línea de comandos **/minimal**.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-188">The most basic method is to execute the D3D11Install.exe with the command-line switch **/minimal**.</span></span> <span data-ttu-id="fb9d1-189">Esto se debe hacer al principio en el instalador Q&A, y la instalación debe usar el valor devuelto de 1 para indicar que se debe programar un reinicio al final de la instalación.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-189">This should be done early in the installer Q&A, and the installation should use the return value of 1 to indicate that a restart should be scheduled at the end of the installation.</span></span> <span data-ttu-id="fb9d1-190">La ejecución del programa requiere derechos administrativos.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-190">Executing the program requires administrative rights.</span></span>
2.  <span data-ttu-id="fb9d1-191">Use D3D11InstallHelper.dll directamente para detectar la necesidad de la actualización, proporcionando los mensajes de usuario final necesarios para el estado D3D11IH \_ status \_ \_ \_ require el SP más reciente, donde la resolución requiere operaciones manuales de usuario.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-191">Use D3D11InstallHelper.dll directly to detect the need for the update, providing any end-user messages necessary for the status D3D11IH\_STATUS\_NEED\_LATEST\_SP, where the resolution requires manual user operations.</span></span> <span data-ttu-id="fb9d1-192">El resultado del estado de \_ D3D11IH \_ no \_ admitido se puede usar para controlar la instalación de los recursos relacionados con Direct3D 11, o como una condición de error para las aplicaciones de Direct3D 11 únicamente, pero no es necesariamente un mensaje de usuario final útil.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-192">The status result of D3D11IH\_STATUS\_NOT\_SUPPORTED could be used to control installation of Direct3D 11–related assets, or as an error condition for Direct3D 11–only applications, but it is otherwise not necessarily a useful end-user message.</span></span> <span data-ttu-id="fb9d1-193">Para el estado D3D11IH \_ status \_ requires \_ Update, el instalador puede usar directamente el punto de entrada de dll DoUpdateForDirect3D11 para realizar la actualización y administrar los distintos mensajes de usuario final.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-193">For the status D3D11IH\_STATUS\_REQUIRES\_UPDATE, the installer can directly use the DLL entry point DoUpdateForDirect3D11 to perform the update and handle the various resulting end-user messages.</span></span> <span data-ttu-id="fb9d1-194">Se pueden encontrar ejemplos de mensajes estándar examinando el cuadro de diálogo D3D11Install.exe y los recursos de tabla de cadenas.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-194">Examples of standard messages can be found by examining the D3D11Install.exe dialog box and string table resources.</span></span> <span data-ttu-id="fb9d1-195">El punto de entrada de actualización requiere derechos de administrador.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-195">The update entry point requires administrator rights.</span></span>
3.  <span data-ttu-id="fb9d1-196">Un enfoque híbrido consiste en comprobar el estado con D3D11InstallHelper.dll y, en el caso del código de estado D3D11IH \_ status require el estado de la \_ \_ versión más reciente de \_ SP o D3D11IH, es necesario \_ \_ \_ actualizar, D3D11Install.exe se puede ejecutar con los modificadores **/minimal** y **/y** para mostrar el cuadro de diálogo o realizar la actualización, según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-196">A hybrid approach is to check status with D3D11InstallHelper.dll, and in the case of the status code D3D11IH\_STATUS\_NEED\_LATEST\_SP or D3D11IH\_STATUS\_REQUIRES\_UPDATE, D3D11Install.exe can be executed with the switches **/minimal** and **/y** to display the dialog box or to perform the update, as needed.</span></span> <span data-ttu-id="fb9d1-197">Estos pasos deben realizarse al principio del proceso de instalación, normalmente inmediatamente después de la p&A, y la ejecución del archivo ejecutable requiere derechos administrativos.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-197">These steps should be performed early in the installation process, usually immediately after the Q&A, and running the executable requires administrative rights.</span></span>

### <a name="integrating-into-installshield"></a><span data-ttu-id="fb9d1-198">Integración en InstallShield</span><span class="sxs-lookup"><span data-stu-id="fb9d1-198">Integrating into InstallShield</span></span>

<span data-ttu-id="fb9d1-199">La administración de la implementación de Direct3D 11 desde el InstallScript de InstallShield se realiza fácilmente mediante el ejemplo D3D11InstallHelper.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-199">Handling the Direct3D 11 deployment from InstallShield's InstallScript is easily done using the D3D11InstallHelper sample.</span></span> <span data-ttu-id="fb9d1-200">Los pasos necesarios para la integración con InstallShield mediante InstallScript son los siguientes (con el método 3, que se describe en la sección anterior):</span><span class="sxs-lookup"><span data-stu-id="fb9d1-200">The steps required to integrate with InstallShield using InstallScript are as follows (using method 3, described in the previous section):</span></span>

1.  <span data-ttu-id="fb9d1-201">Abra un proyecto de InstallScript en el editor de InstallShield.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-201">Open an InstallScript project in the InstallShield editor.</span></span>
2.  <span data-ttu-id="fb9d1-202">Agregue D3D11InstallHelper.dll y D3D11Install.exe al proyecto en **archivos auxiliares**.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-202">Add D3D11InstallHelper.dll and D3D11Install.exe to the project in **Support Files**.</span></span>

    <span data-ttu-id="fb9d1-203">**Para agregar los archivos al proyecto de InstallShield**</span><span class="sxs-lookup"><span data-stu-id="fb9d1-203">**To add the files to the InstallShield Project**</span></span>

    1.  <span data-ttu-id="fb9d1-204">En la pestaña **Diseñador de instalación** , haga clic en **compatibilidad archivos/cartelera** en **comportamiento y lógica** en el panel de navegación de la izquierda.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-204">On the **Installation Designer** tab, click **Support Files/Billboards** under **Behavior and Logic** in the navigation pane on the left.</span></span>
    2.  <span data-ttu-id="fb9d1-205">Haga clic en **idioma independiente**, haga clic con el botón derecho en la ventana **archivos** y seleccione **insertar archivos**.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-205">Click **Language Independent**, then right-click in the **Files** window and select **Insert Files**.</span></span> <span data-ttu-id="fb9d1-206">Vaya a agregar D3D11InstallHelper.dll y D3D11Install.exe.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-206">Browse to add D3D11InstallHelper.dll and D3D11Install.exe.</span></span> <span data-ttu-id="fb9d1-207">La ubicación predeterminada de estos archivos es: ejemplos raíz del SDK \\ \\ C++ \\ Misc \\ bin \\ x86</span><span class="sxs-lookup"><span data-stu-id="fb9d1-207">The default location for these files is: SDK root\\Samples\\C++\\Misc\\Bin\\x86</span></span>

3.  <span data-ttu-id="fb9d1-208">En el explorador de InstallScript, haga clic en el archivo InstallScript (normalmente Setup. RUL) que llamará al archivo DLL o ejecutable, que se encuentra en **comportamiento y lógica** en el panel de navegación de la izquierda.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-208">In the InstallScript explorer, click the InstallScript file (usually Setup.rul) that will call the DLL or executable, located under **Behavior and Logic** in the navigation pane on the left.</span></span>
4.  <span data-ttu-id="fb9d1-209">Pegue el siguiente InstallScript en el archivo cerca de la parte superior:</span><span class="sxs-lookup"><span data-stu-id="fb9d1-209">Paste the following InstallScript into the file near the top:</span></span>

    ``` syntax
#define D3D11IH_STATUS_INSTALLED       0
#define D3D11IH_STATUS_NOT_SUPPORTED   1
#define D3D11IH_STATUS_REQUIRES_UPDATE 2
#define D3D11IH_STATUS_NEED_LATEST_SP  3
#define D3D11IH_STATUS_ERROR           -1
    prototype NUMBER D3D11InstallHelper.CheckDirect3D11StatusIS();

#define D3D11IH_RESULT_SUCCESS                0
#define D3D11IH_RESULT_SUCCESS_REBOOT         1
#define D3D11IH_RESULT_NOT_SUPPORTED          2
#define D3D11IH_RESULT_UPDATE_NOT_FOUND       3
#define D3D11IH_RESULT_UPDATE_DOWNLOAD_FAILED 4
#define D3D11IH_RESULT_UPDATE_INSTALL_FAILED  5
#define D3D11IH_RESULT_WU_SERVICE_ERROR       6
#define D3D11IH_RESULT_ERROR                  -1
    prototype NUMBER D3D11InstallHelper.DoUpdateForDirect3D11IS(BOOL);
    ```

5.  <span data-ttu-id="fb9d1-210">Pegue el siguiente InstallScript en el archivo en la función **OnFirstUIBefore** , justo antes de que devuelva 0:</span><span class="sxs-lookup"><span data-stu-id="fb9d1-210">Paste the following InstallScript into the file in the **OnFirstUIBefore** function, just before the return 0:</span></span>

    ``` syntax
    Dlg_D3D11:
        UseDLL( SUPPORTDIR ^ "D3D11InstallHelper.DLL" );
        nResult = D3D11InstallHelper.CheckDirect3D11StatusIS();   
        UnUseDLL( SUPPORTDIR ^ "D3D11InstallHelper.DLL" );
        
        if ( nResult = D3D11IH_STATUS_REQUIRES_UPDATE
             || nResult = D3D11IH_STATUS_NEED_LATEST_SP) then
            nResult = LaunchAppAndWait(
    SUPPORTDIR^"D3D11Install.exe",
    "/minimal /y", WAIT);
            if ( nResult < 0 ) then
                MessageBox("Unable to launch D3D11Install.exe",
     SEVERE);
            elseif ( nResult == 1 ) then
                BATCH_INSTALL = 1;
            endif;          
        endif;
    ```

### <a name="integrating-into-an-msi-package"></a><span data-ttu-id="fb9d1-211">Integración en un paquete MSI</span><span class="sxs-lookup"><span data-stu-id="fb9d1-211">Integrating into an MSI package</span></span>

<span data-ttu-id="fb9d1-212">La siguiente es una descripción de alto nivel de los pasos necesarios para integrar la implementación de Direct3D 11 mediante acciones personalizadas de MSI (con el método 3, descrito anteriormente en este tema):</span><span class="sxs-lookup"><span data-stu-id="fb9d1-212">The following is a high-level description of the steps required to integrate Direct3D 11 deployment using MSI custom actions (using method 3, described earlier in this topic):</span></span>

1.  <span data-ttu-id="fb9d1-213">Agregue una propiedad a la tabla de propiedades MSI denominada **RelativePathToD3D11IH** que contiene la ruta de acceso relativa que se va a D3D11Install.exe y D3D11InstallHelper.dll durante la instalación (normalmente se encuentra en la imagen multimedia).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-213">Add a property to the MSI Property table called **RelativePathToD3D11IH** that contains the relative path to D3D11Install.exe and D3D11InstallHelper.dll during installation (this is typically in the media image).</span></span> <span data-ttu-id="fb9d1-214">Esto también establece una propiedad de MSI D3D11IH \_ status en el estado devuelto por CheckDirect3D11Status (una propiedad de cadena igual al símbolo de enumeración o "error").</span><span class="sxs-lookup"><span data-stu-id="fb9d1-214">This also sets an MSI property D3D11IH\_STATUS to the status returned by CheckDirect3D11Status (a string property equal to the enumeration symbol or "ERROR").</span></span>
2.  <span data-ttu-id="fb9d1-215">Después de la acción CostFinalize, llame a la función de D3D11InstallHelper.dll **SetD3D11InstallMSIProperties** como una acción personalizada inmediata para establecer las propiedades MSI adecuadas para las demás acciones personalizadas.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-215">After the CostFinalize action, call the D3D11InstallHelper.dll function **SetD3D11InstallMSIProperties** as an immediate custom action to set the appropriate MSI properties for the other custom actions.</span></span>
3.  <span data-ttu-id="fb9d1-216">Tras la instalación, desencadene una acción personalizada diferida después de la acción InstallFiles que llama a la función D3D11InstallHelper.dll **DoD3D11InstallUsingMSI**.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-216">Upon installation, trigger a deferred custom action after the InstallFiles action that calls the D3D11InstallHelper.dll function **DoD3D11InstallUsingMSI**.</span></span> <span data-ttu-id="fb9d1-217">La acción personalizada debe establecer la marca msidbCustomActionTypeNoImpersonate para que se ejecute en un contexto con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-217">The custom action must set the flag msidbCustomActionTypeNoImpersonate to run in an elevated context.</span></span>
4.  <span data-ttu-id="fb9d1-218">Después de la acción InstallFinalize, llame a la función de D3D11InstallHelper.dll **FinishD3D11InstallUsingMSI** como una acción personalizada inmediata para controlar el código de resultado de la solicitud de reinicio correcta, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-218">After the InstallFinalize action, call the D3D11InstallHelper.dll function **FinishD3D11InstallUsingMSI** as an immediate custom action to handle the successful reboot request result code, if needed.</span></span>

<span data-ttu-id="fb9d1-219">Este procedimiento se describe en detalle en las siguientes instrucciones, que describen un proceso que se puede realizar mediante un editor MSI, como el [Editor Orca](/windows/desktop/Msi/orca-exe).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-219">This procedure is described in detail in the following instructions, which describe a process that can be done using an MSI editor, such as the [Orca editor](/windows/desktop/Msi/orca-exe).</span></span> <span data-ttu-id="fb9d1-220">Algunos editores de MSI tienen asistentes que simplifican algunos de estos pasos de configuración.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-220">Some MSI editors have wizards that simplify some of these configuration steps.</span></span>

<span data-ttu-id="fb9d1-221">**Para configurar un paquete MSI para la integración con D3D11InstallHelper.dll**</span><span class="sxs-lookup"><span data-stu-id="fb9d1-221">**To configure an MSI package for integration with D3D11InstallHelper.dll**</span></span>

1.  <span data-ttu-id="fb9d1-222">Abra el paquete MSI en orca.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-222">Open the MSI package in Orca.</span></span>
2.  <span data-ttu-id="fb9d1-223">Agregue la fila que se muestra en la tabla siguiente a la tabla binaria del paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-223">Add the row shown in the following table to the Binary table in the MSI package.</span></span>

    | <span data-ttu-id="fb9d1-224">Nombre</span><span class="sxs-lookup"><span data-stu-id="fb9d1-224">Name</span></span>    | <span data-ttu-id="fb9d1-225">Datos</span><span class="sxs-lookup"><span data-stu-id="fb9d1-225">Data</span></span>                                         |
    |---------|----------------------------------------------|
    | <span data-ttu-id="fb9d1-226">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="fb9d1-226">D3D11IH</span></span> | <span data-ttu-id="fb9d1-227">Ruta de acceso al archivo DLL \\D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="fb9d1-227">File path to the DLL\\D3D11InstallHelper.dll</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="fb9d1-228">Este archivo se incrustará en el paquete MSI, por lo que debe realizar este paso cada vez que vuelva a compilar D3D11InstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-228">This file will be embedded in the MSI package, so you must do this step every time that you recompile D3D11InstallHelper.dll.</span></span>

     

3.  <span data-ttu-id="fb9d1-229">Agregue las filas que se muestran en la tabla siguiente a la tabla CustomAction en el paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-229">Add the rows shown in the following table to the CustomAction table in the MSI package.</span></span> 

    | <span data-ttu-id="fb9d1-230">Acción</span><span class="sxs-lookup"><span data-stu-id="fb9d1-230">Action</span></span>              | <span data-ttu-id="fb9d1-231">Tipo</span><span class="sxs-lookup"><span data-stu-id="fb9d1-231">Type</span></span>                                                                                                                                                                   | <span data-ttu-id="fb9d1-232">Source</span><span class="sxs-lookup"><span data-stu-id="fb9d1-232">Source</span></span>  | <span data-ttu-id="fb9d1-233">Destino</span><span class="sxs-lookup"><span data-stu-id="fb9d1-233">Target</span></span>                       |
    |---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|------------------------------|
    | <span data-ttu-id="fb9d1-234">Direct3D11SetProps</span><span class="sxs-lookup"><span data-stu-id="fb9d1-234">Direct3D11SetProps</span></span>  | <span data-ttu-id="fb9d1-235">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span><span class="sxs-lookup"><span data-stu-id="fb9d1-235">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                        | <span data-ttu-id="fb9d1-236">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="fb9d1-236">D3D11IH</span></span> | <span data-ttu-id="fb9d1-237">SetD3D11InstallMSIProperties</span><span class="sxs-lookup"><span data-stu-id="fb9d1-237">SetD3D11InstallMSIProperties</span></span> |
    | <span data-ttu-id="fb9d1-238">Direct3D11DoInstall</span><span class="sxs-lookup"><span data-stu-id="fb9d1-238">Direct3D11DoInstall</span></span> | <span data-ttu-id="fb9d1-239">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="fb9d1-239">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span> | <span data-ttu-id="fb9d1-240">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="fb9d1-240">D3D11IH</span></span> | <span data-ttu-id="fb9d1-241">DoD3D11InstallUsingMSI</span><span class="sxs-lookup"><span data-stu-id="fb9d1-241">DoD3D11InstallUsingMSI</span></span>       |
    | <span data-ttu-id="fb9d1-242">Direct3D11Finish</span><span class="sxs-lookup"><span data-stu-id="fb9d1-242">Direct3D11Finish</span></span>    | <span data-ttu-id="fb9d1-243">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span><span class="sxs-lookup"><span data-stu-id="fb9d1-243">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                        | <span data-ttu-id="fb9d1-244">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="fb9d1-244">D3D11IH</span></span> | <span data-ttu-id="fb9d1-245">FinishD3D11InstallUsingMSI</span><span class="sxs-lookup"><span data-stu-id="fb9d1-245">FinishD3D11InstallUsingMSI</span></span>   |

    

     

4.  <span data-ttu-id="fb9d1-246">Agregue los valores que se muestran para Action, condition y Sequence en la tabla siguiente a la tabla InstallExecuteSequence del paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-246">Add the values shown for Action, Condition, and Sequence in the following table to the InstallExecuteSequence table in the MSI package.</span></span> 

    | <span data-ttu-id="fb9d1-247">Acción</span><span class="sxs-lookup"><span data-stu-id="fb9d1-247">Action</span></span>              | <span data-ttu-id="fb9d1-248">Condición</span><span class="sxs-lookup"><span data-stu-id="fb9d1-248">Condition</span></span>     | <span data-ttu-id="fb9d1-249">Secuencia</span><span class="sxs-lookup"><span data-stu-id="fb9d1-249">Sequence</span></span> | <span data-ttu-id="fb9d1-250">Notas</span><span class="sxs-lookup"><span data-stu-id="fb9d1-250">Notes</span></span>                                                                                                                                                          |
    |---------------------|---------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="fb9d1-251">Direct3D11SetProps</span><span class="sxs-lookup"><span data-stu-id="fb9d1-251">Direct3D11SetProps</span></span>  |               | <span data-ttu-id="fb9d1-252">1016</span><span class="sxs-lookup"><span data-stu-id="fb9d1-252">1016</span></span>     | <span data-ttu-id="fb9d1-253">El número de secuencia coloca la acción poco después de CostFinalize.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-253">The sequence number places the action soon after CostFinalize.</span></span>                                                                                                 |
    | <span data-ttu-id="fb9d1-254">Direct3D11DoInstall</span><span class="sxs-lookup"><span data-stu-id="fb9d1-254">Direct3D11DoInstall</span></span> | <span data-ttu-id="fb9d1-255">NO instalado</span><span class="sxs-lookup"><span data-stu-id="fb9d1-255">NOT Installed</span></span> | <span data-ttu-id="fb9d1-256">4004</span><span class="sxs-lookup"><span data-stu-id="fb9d1-256">4004</span></span>     | <span data-ttu-id="fb9d1-257">Esta acción personalizada solo se producirá durante una nueva instalación para todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-257">This custom action will only happen during a new installation for all users.</span></span> <span data-ttu-id="fb9d1-258">El número de secuencia coloca la acción después de InstallFiles y después de la reversión.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-258">The sequence number places the action after InstallFiles and after the rollbacks.</span></span> |
    | <span data-ttu-id="fb9d1-259">Direct3D11Finish</span><span class="sxs-lookup"><span data-stu-id="fb9d1-259">Direct3D11Finish</span></span>    |               | <span data-ttu-id="fb9d1-260">6615</span><span class="sxs-lookup"><span data-stu-id="fb9d1-260">6615</span></span>     | <span data-ttu-id="fb9d1-261">El número de secuencia coloca la acción poco después de InstallFinalize.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-261">The sequence number places the action soon after InstallFinalize.</span></span>                                                                                              |

    

     

5.  <span data-ttu-id="fb9d1-262">Agregue la fila que se muestra en la tabla siguiente a la tabla de **propiedades** del paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-262">Add the row shown in the following table to the **Property** table in the MSI package.</span></span> 

    | <span data-ttu-id="fb9d1-263">Propiedad</span><span class="sxs-lookup"><span data-stu-id="fb9d1-263">Property</span></span>              | <span data-ttu-id="fb9d1-264">Value</span><span class="sxs-lookup"><span data-stu-id="fb9d1-264">Value</span></span>                                                                        |
    |-----------------------|------------------------------------------------------------------------------|
    | <span data-ttu-id="fb9d1-265">RelativePathToD3D11IH</span><span class="sxs-lookup"><span data-stu-id="fb9d1-265">RelativePathToD3D11IH</span></span> | <span data-ttu-id="fb9d1-266">Ruta de acceso relativa del archivo que contiene D3D11Install.exe y D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="fb9d1-266">relative file path that contains D3D11Install.exe and D3D11InstallHelper.dll</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="fb9d1-267">La ubicación especificada por la ruta de acceso es relativa a la ubicación especificada por la ruta de instalación, por ejemplo, "Redist \\ ".</span><span class="sxs-lookup"><span data-stu-id="fb9d1-267">The location specified by the path is relative to the location specified by the installation path—for example, "redist\\".</span></span>

     

6.  <span data-ttu-id="fb9d1-268">Guarde el paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-268">Save the MSI package.</span></span> <span data-ttu-id="fb9d1-269">Para obtener información más detallada sobre los paquetes MSI y Windows Installer, vea [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-269">For more detailed information about MSI packages and Windows Installer, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="debugging-tips"></a><span data-ttu-id="fb9d1-270">Sugerencias de depuración</span><span class="sxs-lookup"><span data-stu-id="fb9d1-270">Debugging tips</span></span>

<span data-ttu-id="fb9d1-271">Tanto D3D11InstallHelper.dll como D3D11Install.exe pueden compilarse con la configuración de depuración en Visual Studio, y estas versiones imprimirán mensajes en el mecanismo estándar de salida de depuración de Windows.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-271">Both D3D11InstallHelper.dll and D3D11Install.exe can be built with the Debug configuration in Visual Studio, and these versions will print messages to the standard Windows debug output mechanism.</span></span>

## <a name="corporate-settings"></a><span data-ttu-id="fb9d1-272">Configuración corporativa</span><span class="sxs-lookup"><span data-stu-id="fb9d1-272">Corporate settings</span></span>

<span data-ttu-id="fb9d1-273">El ejemplo D3D11InstallHelper está diseñado para la implementación estándar a través de Windows Update, que es el escenario más común para la instalación de un juego por parte de los consumidores.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-273">The D3D11InstallHelper sample is designed for standard deployment through Windows Update, which is the most common scenario for installation of a game by consumers.</span></span> <span data-ttu-id="fb9d1-274">Sin embargo, muchos desarrolladores de juegos, que trabajan para publicadores y en estudios de desarrollo, lo hacen en la configuración empresarial que tiene un servidor administrado localmente que proporciona actualizaciones de software mediante la tecnología de Windows Server Update Services (WSUS).</span><span class="sxs-lookup"><span data-stu-id="fb9d1-274">However, Many game developers, working for publishers and in development studios, do so in enterprise settings that have a locally managed server providing software updates by using Windows Server Update Services (WSUS) technology.</span></span> <span data-ttu-id="fb9d1-275">En este tipo de entorno, el administrador de ti local tiene el control de aprobación sobre qué actualizaciones están disponibles para los equipos de la red corporativa, y la versión de consumidor estándar de Update KB 971644 no está disponible.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-275">In this type of environment, the local IT administrator has approval control over which updates are made available to computers within the corporate network, and the standard consumer version of update KB 971644 is not available.</span></span>

<span data-ttu-id="fb9d1-276">Hay tres soluciones básicas para la implementación de DirectX 11 en la configuración corporativa o empresarial:</span><span class="sxs-lookup"><span data-stu-id="fb9d1-276">There are three basic solutions for deploying DirectX 11 in corporate/enterprise settings:</span></span>

-   <span data-ttu-id="fb9d1-277">En algunas configuraciones, es posible comprobar directamente Windows Update en lugar de usar el servidor WSUS administrado localmente.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-277">In some configurations, it is possible to directly check Windows Update rather than use the locally managed WSUS server.</span></span> <span data-ttu-id="fb9d1-278">Por esta razón, D3D11InstallHelper admite el modificador de línea de comandos **/Wu** .</span><span class="sxs-lookup"><span data-stu-id="fb9d1-278">For this reason, D3D11InstallHelper supports the **/wu** command-line switch.</span></span> <span data-ttu-id="fb9d1-279">Sin embargo, no todas las redes corporativas permiten conexiones a los servidores públicos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-279">However, not all corporate networks allow connections to the public Microsoft servers.</span></span>
-   <span data-ttu-id="fb9d1-280">El administrador de ti local puede aprobar KB 971512, una actualización compatible con la empresa implementada desde WSUS, que incluye la API de Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-280">The local IT administrator can approve KB 971512, an enterprise-supported update deployed from WSUS, that includes the Direct3D 11 API.</span></span> <span data-ttu-id="fb9d1-281">Esta es la única opción para que un usuario estándar obtenga la actualización de Direct3D 11 en un entorno que está totalmente bloqueado.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-281">This is the only option for a Standard User to obtain the Direct3D 11 update in an environment that is fully locked down.</span></span>
-   <span data-ttu-id="fb9d1-282">Como alternativa, se puede instalar de forma manual [KB 971512](https://support.microsoft.com/kb/971512/) .</span><span class="sxs-lookup"><span data-stu-id="fb9d1-282">Alternatively, [KB 971512](https://support.microsoft.com/kb/971512/) can be manually installed.</span></span>

<span data-ttu-id="fb9d1-283">Es muy poco probable que el equipo de un jugador solo pueda obtener actualizaciones de un servidor WSUS administrado localmente y que sea solo desarrolladores en organizaciones de gran tamaño que probablemente estén en dichos entornos.</span><span class="sxs-lookup"><span data-stu-id="fb9d1-283">It is very rare that a gamer's computer can only get updates from a locally managed WSUS server, and it is only developers in large organizations who are likely to be in such environments.</span></span>

## <a name="related-articles"></a><span data-ttu-id="fb9d1-284">Artículos relacionados</span><span class="sxs-lookup"><span data-stu-id="fb9d1-284">Related articles</span></span>

[<span data-ttu-id="fb9d1-285">Firewall de Windows para desarrolladores de juegos</span><span class="sxs-lookup"><span data-stu-id="fb9d1-285">Windows Firewall for Game Developers</span></span>](/windows/desktop/DxTechArts/games-and-firewalls)

[<span data-ttu-id="fb9d1-286">Explorador de juegos de Windows para desarrolladores de juegos</span><span class="sxs-lookup"><span data-stu-id="fb9d1-286">Windows Games Explorer for Game Developers</span></span>](/windows/desktop/DxTechArts/windows-game-explorer-integration)