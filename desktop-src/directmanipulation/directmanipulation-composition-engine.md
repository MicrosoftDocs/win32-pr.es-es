---
description: Para impulsar las actualizaciones visuales, la aplicación debe usar IDirectManipulationCompositor.
ms.assetid: 6D8FB359-F52B-43F9-8A62-6BB2AEDE4F2B
title: Motor de composición
ms.topic: article
ms.date: 02/03/2020
ms.openlocfilehash: aa4d922893472c1fe235bae60e41a00924d13bba
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104494951"
---
# <a name="composition-engine"></a><span data-ttu-id="3363a-103">Motor de composición</span><span class="sxs-lookup"><span data-stu-id="3363a-103">Composition engine</span></span>

<span data-ttu-id="3363a-104">Para impulsar las actualizaciones visuales, la aplicación debe usar [**IDirectManipulationCompositor**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationcompositor).</span><span class="sxs-lookup"><span data-stu-id="3363a-104">In order to drive visual updates, the application should use [**IDirectManipulationCompositor**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationcompositor).</span></span> <span data-ttu-id="3363a-105">Este objeto es responsable de actualizar los objetos visuales en función de las actualizaciones de la [manipulación directa](direct-manipulation-portal.md) , impulsar las actualizaciones de inercia hacia delante y proporcionar información sobre el tiempo de composición para la manipulación directa. Además, una aplicación debe usar el [DCompManipulationCompositor](direct-manipulation-guids.md) proporcionado por la [manipulación directa](direct-manipulation-portal.md), que controlará todas las actualizaciones visuales en nombre de la aplicación y las actualizaciones de inercia.</span><span class="sxs-lookup"><span data-stu-id="3363a-105">This object is responsible for updating visuals based on [Direct Manipulation](direct-manipulation-portal.md) updates, driving inertia updates forward, and providing composition timing information to Direct Manipulation Furthermore, an application should use the [DCompManipulationCompositor](direct-manipulation-guids.md) provided by [Direct Manipulation](direct-manipulation-portal.md), which will handle all visual updates on behalf of the application and drive inertia updates.</span></span>

<span data-ttu-id="3363a-106">[DCompManipulationCompositor](direct-manipulation-guids.md) es una implementación de la interfaz [**IDirectManipulationCompositor**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationcompositor) que contiene [DirectComposition](../directcomp/directcomposition-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3363a-106">The [DCompManipulationCompositor](direct-manipulation-guids.md) is an implementation of the [**IDirectManipulationCompositor**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationcompositor) interface that wraps [DirectComposition](../directcomp/directcomposition-portal.md).</span></span> <span data-ttu-id="3363a-107">En lugar de que la aplicación aplique la salida, a través de este objeto de compositor, la [manipulación directa](direct-manipulation-portal.md) puede aplicar la salida mediante el establecimiento de las transformaciones directamente en el árbol DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="3363a-107">Rather than having the application apply the output, through this compositor object [Direct Manipulation](direct-manipulation-portal.md) can apply the output by setting the transforms directly on the DirectComposition tree.</span></span> <span data-ttu-id="3363a-108">Con esta configuración, se puede procesar la entrada y se pueden aplicar transformaciones de salida, independientemente de la actividad en el subproceso de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="3363a-108">By using this configuration, input can be processed and output transforms can be applied, regardless of activity on the UI thread.</span></span>

<span data-ttu-id="3363a-109">Para proporcionar información de [manipulación directa](direct-manipulation-portal.md) en el momento del motor de composición, la clase [DCompManipulationCompositor](direct-manipulation-guids.md) implementa la interfaz [**IDirectManipulationFrameInfoProvider**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationframeinfoprovider) .</span><span class="sxs-lookup"><span data-stu-id="3363a-109">To give [Direct Manipulation](direct-manipulation-portal.md) information on the timing of the composition engine, the [DCompManipulationCompositor](direct-manipulation-guids.md) class implements the [**IDirectManipulationFrameInfoProvider**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationframeinfoprovider) interface.</span></span> <span data-ttu-id="3363a-110">Al crear una ventanilla, [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) el puntero [**IDirectManipulationCompositor**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationcompositor) Obtenido de [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) para una instancia de **IDirectManipulationFrameInfoProvider**.</span><span class="sxs-lookup"><span data-stu-id="3363a-110">When creating a viewport, [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) the [**IDirectManipulationCompositor**](/windows/win32/api/DirectManipulation/nn-directmanipulation-idirectmanipulationcompositor) pointer obtained from [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) for an instance of **IDirectManipulationFrameInfoProvider**.</span></span> <span data-ttu-id="3363a-111">El puntero **IDirectManipulationFrameInfoProvider** se pasa a la función [**IDirectManipulationManager:: CreateViewport ()**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationmanager-createviewport) .</span><span class="sxs-lookup"><span data-stu-id="3363a-111">The **IDirectManipulationFrameInfoProvider** pointer is passed to the [**IDirectManipulationManager::CreateViewport()**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationmanager-createviewport) function.</span></span>
