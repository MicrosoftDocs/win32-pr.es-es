---
description: A partir de Windows Installer 3,0, los autores pueden agregar información de secuencia de revisiones a la base de datos del paquete de revisiones en la tabla MsiPatchSequence.
ms.assetid: 9cdcb25f-2c3d-411e-9aae-bdd52df38a97
title: Secuenciar revisiones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa9cbd9aead596abfaeb50d972915bf4d618440d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104279482"
---
# <a name="sequencing-patches"></a><span data-ttu-id="46d2c-103">Secuenciar revisiones</span><span class="sxs-lookup"><span data-stu-id="46d2c-103">Sequencing Patches</span></span>

<span data-ttu-id="46d2c-104">A partir de Windows Installer 3,0, los autores pueden agregar información de secuencia de revisiones a la base de datos del paquete de revisiones en la tabla [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="46d2c-104">Beginning with Windows Installer 3.0, authors can add patch sequencing information to the patch package database in the [MsiPatchSequence](msipatchsequence-table.md) table.</span></span> <span data-ttu-id="46d2c-105">El instalador puede usar esta información para determinar qué revisiones son aplicables a un paquete de instalación, para determinar la mejor secuencia de aplicación de revisiones y para instalar revisiones en un orden constante independiente del orden en el que se proporcionan al sistema.</span><span class="sxs-lookup"><span data-stu-id="46d2c-105">The installer can use this information to determine which patches are applicable to an installation package, to determine the best patching sequence, and to install patches in an constant order independent of the order they are provided to the system.</span></span>

<span data-ttu-id="46d2c-106">**Windows Installer 2,0:** No compatible.</span><span class="sxs-lookup"><span data-stu-id="46d2c-106">**Windows Installer 2.0:** Not supported.</span></span> <span data-ttu-id="46d2c-107">Windows Installer versiones anteriores a Windows Installer 3,0 instalan revisiones en el orden en que se proporcionan al sistema independientemente de si contienen una tabla [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="46d2c-107">Windows Installer versions previous to Windows Installer 3.0 install patches in the order that they are provided to the system regardless of whether they contain an [MsiPatchSequence](msipatchsequence-table.md) table.</span></span>

<span data-ttu-id="46d2c-108">Se requiere lo siguiente para usar la funcionalidad de secuenciación de revisiones.</span><span class="sxs-lookup"><span data-stu-id="46d2c-108">The following are required to use the patch sequencing functionality.</span></span>

-   <span data-ttu-id="46d2c-109">Los [paquetes de revisión](patch-packages.md) (archivos. msp) deben tener una tabla [MsiPatchSequence](msipatchsequence-table.md) que contenga información de secuenciación.</span><span class="sxs-lookup"><span data-stu-id="46d2c-109">[Patch packages](patch-packages.md) (.msp files) must have a [MsiPatchSequence](msipatchsequence-table.md) table containing sequencing information.</span></span> <span data-ttu-id="46d2c-110">El instalador instala las revisiones que no tienen una tabla MsiPatchSequence en el orden en que se proporcionan al sistema.</span><span class="sxs-lookup"><span data-stu-id="46d2c-110">The installer installs patches that do not have a MsiPatchSequence table in the order that they are provided to the system.</span></span>
-   <span data-ttu-id="46d2c-111">Las revisiones se instalan con Windows Installer 3,0 o posterior.</span><span class="sxs-lookup"><span data-stu-id="46d2c-111">Patches are installed using Windows Installer 3.0 or later.</span></span>

<span data-ttu-id="46d2c-112">Windows Installer versión 3,0 tiene las siguientes funciones que las aplicaciones pueden utilizar para determinar la mejor secuencia de aplicación de revisiones.</span><span class="sxs-lookup"><span data-stu-id="46d2c-112">Windows Installer version 3.0 has the following functions that applications can use to determine the best patching sequence.</span></span>

-   <span data-ttu-id="46d2c-113">La función [**MsiDeterminePatchSequence**](/windows/desktop/api/Msi/nf-msi-msideterminepatchsequencea) toma una lista de revisiones y determina en qué secuencia se pueden aplicar a un producto instalado.</span><span class="sxs-lookup"><span data-stu-id="46d2c-113">The [**MsiDeterminePatchSequence**](/windows/desktop/api/Msi/nf-msi-msideterminepatchsequencea) function takes a list of patches and determines in what sequence they can be applied to an installed product.</span></span> <span data-ttu-id="46d2c-114">Esta función cuenta para cualquier revisión o producto que ya se haya instalado en el sistema.</span><span class="sxs-lookup"><span data-stu-id="46d2c-114">This function accounts for any patches or products that have already been installed on the system.</span></span>
-   <span data-ttu-id="46d2c-115">La función [**MsiDetermineApplicablePatches**](/windows/desktop/api/Msi/nf-msi-msidetermineapplicablepatchesa) toma una lista de revisiones y determina en qué secuencia se pueden aplicar a un producto instalado.</span><span class="sxs-lookup"><span data-stu-id="46d2c-115">The [**MsiDetermineApplicablePatches**](/windows/desktop/api/Msi/nf-msi-msidetermineapplicablepatchesa) function takes a list of patches and determines in what sequence they can be applied to an installed product.</span></span> <span data-ttu-id="46d2c-116">Esta función no tiene en cuenta las revisiones o los productos que ya se han instalado en el sistema.</span><span class="sxs-lookup"><span data-stu-id="46d2c-116">This function does not account for any patches or products that have already been installed on the system.</span></span>

<span data-ttu-id="46d2c-117">Windows Installer versión 3,0 puede aplicar varias revisiones a un producto en una sola instalación de aplicación de revisiones.</span><span class="sxs-lookup"><span data-stu-id="46d2c-117">Windows Installer version 3.0 can apply multiple patches to a product in a single patching installation.</span></span> <span data-ttu-id="46d2c-118">El grupo de revisiones puede contener revisiones que incluyen información de secuencia de revisión (una tabla [MsiPatchSequence](msipatchsequence-table.md) ) y revisiones que no lo hacen.</span><span class="sxs-lookup"><span data-stu-id="46d2c-118">The group of patches can contain patches that include patching sequence information (a [MsiPatchSequence](msipatchsequence-table.md) table) and patches that do not.</span></span> <span data-ttu-id="46d2c-119">El Windows Installer instala los paquetes de revisión sin esta tabla en el orden en que se proporcionan al sistema.</span><span class="sxs-lookup"><span data-stu-id="46d2c-119">The Windows Installer installs the patch packages without this table in the order that they are provided to the system.</span></span> <span data-ttu-id="46d2c-120">El instalador tiene en cuenta los paquetes de revisión que carecen de una tabla MsiPatchSequence, pero que se han marcado como revisiones obsoletas o reemplazadas por el método descrito en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="46d2c-120">The installer accounts for patch packages that lack a MsiPatchSequence table, but that have been marked as obsolete or superseded patches by the method described in the following section.</span></span>

<span data-ttu-id="46d2c-121">Cuando Windows Installer versión 3,0 instala varias revisiones, sigue estos pasos para determinar la secuencia en la que se aplican las revisiones individuales al producto:</span><span class="sxs-lookup"><span data-stu-id="46d2c-121">When Windows Installer version 3.0 installs multiple patches, it follows these steps to determine the sequence in which individual patches are applied to the product:</span></span>

1.  <span data-ttu-id="46d2c-122">Las revisiones instaladas sin una tabla [MsiPatchSequence](msipatchsequence-table.md) se colocan en la secuencia en el orden en que se aplicaron al producto.</span><span class="sxs-lookup"><span data-stu-id="46d2c-122">Installed patches without a [MsiPatchSequence](msipatchsequence-table.md) table are put in the sequence in the order that they were applied to the product.</span></span> <span data-ttu-id="46d2c-123">La primera revisión que se aplicó se coloca en primer lugar en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="46d2c-123">The first patch that was applied is placed first in the sequence.</span></span>
2.  <span data-ttu-id="46d2c-124">Las nuevas revisiones sin una [tabla MsiPatchSequence](msipatchsequence-table.md) se colocan en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="46d2c-124">New patches without a [MsiPatchSequence table](msipatchsequence-table.md) are put in the sequence.</span></span> <span data-ttu-id="46d2c-125">Estas revisiones se aplican mediante la instalación de aplicación de revisiones actual.</span><span class="sxs-lookup"><span data-stu-id="46d2c-125">These patches are being applied by the current patching installation.</span></span> <span data-ttu-id="46d2c-126">Se colocan en el orden en que se proporcionan al sistema y se colocan después de todas las revisiones del paso 1.</span><span class="sxs-lookup"><span data-stu-id="46d2c-126">They are put in the order that they are provided to the system, and placed after all the patches in step 1.</span></span>
3.  <span data-ttu-id="46d2c-127">Las revisiones obsoletas se eliminan de la secuencia de revisiones.</span><span class="sxs-lookup"><span data-stu-id="46d2c-127">Obsolete patches are eliminated from the sequence of patches.</span></span>
    > [!Note]  
    > <span data-ttu-id="46d2c-128">Un paquete de revisión puede especificar en la propiedad [**Resumen del número de revisión**](revision-number-summary.md) una lista explícita de las revisiones obsoletas que va a quitar la revisión.</span><span class="sxs-lookup"><span data-stu-id="46d2c-128">A patch package can specify in the [**Revision Number Summary**](revision-number-summary.md) property an explicit list of obsolete patches to be removed by the patch.</span></span> <span data-ttu-id="46d2c-129">Esta lista está pensada para su uso por parte de Windows Installer versiones anteriores a la versión 3,0.</span><span class="sxs-lookup"><span data-stu-id="46d2c-129">This list is intended for use by Windows Installer versions earlier than version 3.0.</span></span> <span data-ttu-id="46d2c-130">Windows Installer versión 3,0 quita las revisiones marcadas como obsoletas de la secuencia, solo si las revisiones no tienen la [tabla MsiPatchSequence](msipatchsequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="46d2c-130">Windows Installer version 3.0 removes the patches marked as obsolete from the sequence, only if the patches do not have the [MsiPatchSequence table](msipatchsequence-table.md).</span></span>

     

4.  <span data-ttu-id="46d2c-131">El instalador recorre la secuencia de aplicación de revisiones y determina qué revisiones se aplican en la secuencia especificada.</span><span class="sxs-lookup"><span data-stu-id="46d2c-131">The installer steps through the patching sequence and determines which patches are applicable in the given sequence.</span></span> <span data-ttu-id="46d2c-132">Cuando se aplican varias revisiones a un producto, cada revisión de la secuencia transforma también la base de datos de instalación del producto (archivo. msi).</span><span class="sxs-lookup"><span data-stu-id="46d2c-132">When multiple patches are applied to a product, each patch in the sequence also transforms the product's installation database (.msi file).</span></span> <span data-ttu-id="46d2c-133">Una revisión es aplicable en una secuencia determinada solo si su transformación de base de datos es capaz de tomar el [código del producto](product-codes.md), la [**versión**](productversion.md), el [**idioma**](productlanguage.md)y el [**UpgradeCode**](upgradecode.md) que resulta de aplicar las transformaciones de todos los [paquetes de revisión](patch-packages.md) anteriores a la base de datos del producto.</span><span class="sxs-lookup"><span data-stu-id="46d2c-133">A patch is applicable in a particular sequence only if its database transform is capable of taking the [product code](product-codes.md), [**version**](productversion.md), [**language**](productlanguage.md), and [**upgradecode**](upgradecode.md) that result from applying the transforms of all preceding [patch packages](patch-packages.md) to the product database.</span></span> <span data-ttu-id="46d2c-134">El instalador elimina cualquier revisión no aplicable de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="46d2c-134">The installer eliminates any inapplicable patches from the sequence.</span></span>
5.  <span data-ttu-id="46d2c-135">El instalador comienza a colocar revisiones que tienen información de secuenciación en la tabla [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="46d2c-135">The installer begins placing patches that have sequencing information in their [MsiPatchSequence](msipatchsequence-table.md) table.</span></span> <span data-ttu-id="46d2c-136">Las revisiones de [actualización secundarias](minor-upgrades.md) que tienen la tabla MsiPatchSequence se colocan en la secuencia después de las revisiones que se secuenciaron en pasos anteriores y en el orden de las versiones de producto más bajas a las más altas después de actualizarse.</span><span class="sxs-lookup"><span data-stu-id="46d2c-136">[Minor upgrade](minor-upgrades.md) patches that have the MsiPatchSequence table are placed in the sequence after the patches that were sequenced in previous steps and in the order of their lowest to highest product versions after being upgraded.</span></span> <span data-ttu-id="46d2c-137">A continuación, Windows Installer elimina las revisiones de actualización secundarias que no son aplicables en esta secuencia.</span><span class="sxs-lookup"><span data-stu-id="46d2c-137">Windows Installer then eliminates any minor upgrade patches that are inapplicable in this sequence.</span></span>
6.  <span data-ttu-id="46d2c-138">Las revisiones de [actualización pequeñas](small-updates.md) destinadas a [actualizaciones secundarias](minor-upgrades.md) que tienen una tabla [MsiPatchSequence](msipatchsequence-table.md) se asignan a la versión más alta de la revisión de actualización secundaria de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="46d2c-138">[Small update](small-updates.md) patches targeting [minor upgrades](minor-upgrades.md) having a [MsiPatchSequence](msipatchsequence-table.md) table, are assigned to the highest version of the minor upgrade patch in the sequence.</span></span>
7.  <span data-ttu-id="46d2c-139">Todas las revisiones de [actualización pequeñas](small-updates.md) que permanecen sin asignar después de los pasos anteriores, y que tienen la tabla [MsiPatchSequence](msipatchsequence-table.md) , se colocan en la secuencia antes de la primera [actualización secundaria](minor-upgrades.md) que tiene la tabla MsiPatchSequence y después de la base de datos de instalación. msi y cualquier revisión sin la tabla MsiPatchSequence.</span><span class="sxs-lookup"><span data-stu-id="46d2c-139">All [small update](small-updates.md) patches that remain unassigned after the previous steps, and that have the [MsiPatchSequence](msipatchsequence-table.md) table, are put in the sequence before the first [minor upgrade](minor-upgrades.md) that has the MsiPatchSequence table, and after the .msi installation database and any patches without the MsiPatchSequence table.</span></span> <span data-ttu-id="46d2c-140">A continuación, Windows Installer elimina todas las revisiones de actualización pequeñas que no son aplicables en esta secuencia.</span><span class="sxs-lookup"><span data-stu-id="46d2c-140">Windows Installer then eliminates any small update patches that are inapplicable in this sequence.</span></span>
8.  <span data-ttu-id="46d2c-141">Windows Installer versión 3,0 elimina las revisiones reemplazadas de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="46d2c-141">Windows Installer version 3.0 eliminates superseded patches from the sequence.</span></span> <span data-ttu-id="46d2c-142">Cuando una revisión sustituye a las revisiones que se producen antes en la secuencia de revisión, la revisión contiene todas las correcciones de los parches anteriores.</span><span class="sxs-lookup"><span data-stu-id="46d2c-142">When a patch supersedes patches that occur earlier in the patch sequence, the patch contains all the fixes in the earlier patches.</span></span> <span data-ttu-id="46d2c-143">Las revisiones anteriores ya no son necesarias.</span><span class="sxs-lookup"><span data-stu-id="46d2c-143">The earlier patches are no longer required.</span></span> <span data-ttu-id="46d2c-144">El Windows Installer requiere la información de la tabla [MsiPatchSequence](msipatchsequence-table.md) para eliminar las revisiones reemplazadas.</span><span class="sxs-lookup"><span data-stu-id="46d2c-144">The Windows Installer requires the information in the [MsiPatchSequence](msipatchsequence-table.md) table to eliminate superseded patches.</span></span>
    > [!Note]  
    > <span data-ttu-id="46d2c-145">Se deben crear revisiones destinadas a sustituir un conjunto anterior de revisiones para sustituir a las revisiones anteriores de todas las familias de revisiones.</span><span class="sxs-lookup"><span data-stu-id="46d2c-145">Patches intended to supersede an earlier set of patches must be authored to supersede the earlier patches in all patch families.</span></span> <span data-ttu-id="46d2c-146">Las revisiones de [actualización pequeñas](small-updates.md) solo pueden sustituir a las pequeñas.</span><span class="sxs-lookup"><span data-stu-id="46d2c-146">[Small update](small-updates.md) patches can only supersede small updates.</span></span> <span data-ttu-id="46d2c-147">Las actualizaciones [secundarias](minor-upgrades.md) pueden suplantar las pequeñas actualizaciones y otras actualizaciones secundarias.</span><span class="sxs-lookup"><span data-stu-id="46d2c-147">[Minor upgrades](minor-upgrades.md) can supersede both small updates and other minor upgrades.</span></span>

     

9.  <span data-ttu-id="46d2c-148">Las revisiones de [actualización pequeñas](small-updates.md) que incluyen tablas [MsiPatchSequence](msipatchsequence-table.md) , se ordenan en las versiones del producto según la información de secuenciación de las tablas MsiPatchSequence.</span><span class="sxs-lookup"><span data-stu-id="46d2c-148">[Small update](small-updates.md) patches that carry [MsiPatchSequence](msipatchsequence-table.md) tables, get sequenced within product versions according to the sequencing information in their MsiPatchSequence tables.</span></span> <span data-ttu-id="46d2c-149">Esto determina la secuencia de revisión final.</span><span class="sxs-lookup"><span data-stu-id="46d2c-149">This determines the final patching sequence.</span></span>

<span data-ttu-id="46d2c-150">Una revisión que ya no se debe usar se puede eliminar de la secuencia de revisión.</span><span class="sxs-lookup"><span data-stu-id="46d2c-150">A patch that should no longer be used can be eliminated from the patching sequence.</span></span> <span data-ttu-id="46d2c-151">Para obtener más información sobre cómo eliminar revisiones de la secuencia de revisión, consulte [eliminar revisiones](eliminating-patches.md).</span><span class="sxs-lookup"><span data-stu-id="46d2c-151">For more information about how to eliminate patches from the patching sequence, see [Eliminating Patches](eliminating-patches.md).</span></span>

<span data-ttu-id="46d2c-152">Para obtener un ejemplo de cómo se puede usar la tabla [MsiPatchSequence](msipatchsequence-table.md) para aplicar revisiones en el orden en el que se crearon, vea el ejemplo de aplicación de [revisiones múltiples](multiple-patching-example.md).</span><span class="sxs-lookup"><span data-stu-id="46d2c-152">For an example of how the [MsiPatchSequence](msipatchsequence-table.md) table can be used to apply patches in the order in which they are authored, see the [Multiple Patching Example](multiple-patching-example.md).</span></span>

 

 



