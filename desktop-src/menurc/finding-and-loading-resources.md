---
title: Buscar y cargar recursos
description: En este tema se describe cómo cargar un recurso en la memoria.
ms.assetid: 9e56cfdd-b365-4433-a507-a30220b4a92d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca9590927cad28772a6b4a5b761d74c9ebf101a6
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "104487575"
---
# <a name="finding-and-loading-resources"></a><span data-ttu-id="45308-103">Buscar y cargar recursos</span><span class="sxs-lookup"><span data-stu-id="45308-103">Finding and Loading Resources</span></span>

<span data-ttu-id="45308-104">Antes de utilizar un recurso, una aplicación debe cargarlo en la memoria.</span><span class="sxs-lookup"><span data-stu-id="45308-104">Before using a resource, an application must load it into memory.</span></span> <span data-ttu-id="45308-105">Las funciones [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) y [**FindResourceEx**](/windows/desktop/api/Winbase/nf-winbase-findresourceexa) buscan un recurso en un módulo y devuelven un identificador a los datos de recursos binarios.</span><span class="sxs-lookup"><span data-stu-id="45308-105">The [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) and [**FindResourceEx**](/windows/desktop/api/Winbase/nf-winbase-findresourceexa) functions find a resource in a module and return a handle to the binary resource data.</span></span> <span data-ttu-id="45308-106">**FindResource** busca un recurso por tipo y nombre.</span><span class="sxs-lookup"><span data-stu-id="45308-106">**FindResource** locates a resource by type and name.</span></span> <span data-ttu-id="45308-107">**FindResourceEx** busca el recurso por tipo, nombre y lenguaje.</span><span class="sxs-lookup"><span data-stu-id="45308-107">**FindResourceEx** locates the resource by type, name, and language.</span></span> <span data-ttu-id="45308-108">La información sobre **FindResource** en este tema también se aplica a **FindResourceEx**.</span><span class="sxs-lookup"><span data-stu-id="45308-108">Information about **FindResource** in this topic also applies to **FindResourceEx**.</span></span>

<span data-ttu-id="45308-109">La función [**LoadResource**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadresource) usa el identificador de recursos devuelto por [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) para cargar el recurso en la memoria.</span><span class="sxs-lookup"><span data-stu-id="45308-109">The [**LoadResource**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadresource) function uses the resource handle returned by [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) to load the resource into memory.</span></span> <span data-ttu-id="45308-110">Después de que una aplicación carga un recurso mediante **LoadResource**, el sistema descargará la memoria asociada solo cuando todas las referencias a su módulo se liberen a través de [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary).</span><span class="sxs-lookup"><span data-stu-id="45308-110">After an application loads a resource by using **LoadResource**, the system will unload the associated memory only when all references to its module are freed through [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary).</span></span> <span data-ttu-id="45308-111">Las aplicaciones que necesitan tener acceso repetidamente a los mismos o a muchos recursos dentro de un módulo determinado pueden incurrir en penalizaciones de rendimiento debido a que la asignación de memoria se realiza en llamadas [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya) y **FreeLibrary** repetidas.</span><span class="sxs-lookup"><span data-stu-id="45308-111">Applications which need to repeatedly access the same or many resources within a particular module may incur performance penalties due to the memory mapping taking place in repeated [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya) and **FreeLibrary** calls.</span></span> <span data-ttu-id="45308-112">Las aplicaciones deben almacenar un único identificador de módulo hasta que ya no se necesiten los recursos y, a continuación, llamar a **FreeLibrary**.</span><span class="sxs-lookup"><span data-stu-id="45308-112">Applications should store a single module handle until resources are no longer needed, and then call **FreeLibrary**.</span></span> <span data-ttu-id="45308-113">Una vez que un módulo se descarga de la memoria, los identificadores de recursos dejan de ser válidos.</span><span class="sxs-lookup"><span data-stu-id="45308-113">After a module is unloaded from memory, resource handles become invalid.</span></span>

<span data-ttu-id="45308-114">Una aplicación puede usar [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) y [**LoadResource**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadresource) para buscar y cargar cualquier tipo de recurso, pero estas funciones solo deben usarse en una de estas situaciones:</span><span class="sxs-lookup"><span data-stu-id="45308-114">An application can use [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) and [**LoadResource**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadresource) to find and load any type of resource, but these functions should be used only in one of these situations:</span></span>

-   <span data-ttu-id="45308-115">Cuando la aplicación no puede tener acceso al recurso mediante una función específica del recurso existente.</span><span class="sxs-lookup"><span data-stu-id="45308-115">When the application cannot access the resource by using an existing resource-specific function.</span></span>
-   <span data-ttu-id="45308-116">Cuando la aplicación debe tener acceso al recurso como datos binarios para las siguientes llamadas de función.</span><span class="sxs-lookup"><span data-stu-id="45308-116">When the application must access the resource as binary data for subsequent function calls.</span></span>

<span data-ttu-id="45308-117">Siempre que sea posible, en su lugar, una aplicación debe usar una de las siguientes funciones específicas de recursos para buscar y cargar recursos en una llamada:</span><span class="sxs-lookup"><span data-stu-id="45308-117">Whenever possible, an application should instead use one of the following resource-specific functions to find and load resources in one call:</span></span>



| <span data-ttu-id="45308-118">Función</span><span class="sxs-lookup"><span data-stu-id="45308-118">Function</span></span>                                     | <span data-ttu-id="45308-119">Acción</span><span class="sxs-lookup"><span data-stu-id="45308-119">Action</span></span>                                   | <span data-ttu-id="45308-120">Para quitar el recurso</span><span class="sxs-lookup"><span data-stu-id="45308-120">To remove resource</span></span>                                                                                               |
|----------------------------------------------|------------------------------------------|------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="45308-121">**FormatMessage**</span><span class="sxs-lookup"><span data-stu-id="45308-121">**FormatMessage**</span></span>](/windows/desktop/api/winbase/nf-winbase-formatmessage)      | <span data-ttu-id="45308-122">Carga y da formato a una entrada de la tabla de mensajes.</span><span class="sxs-lookup"><span data-stu-id="45308-122">Loads and formats a message-table entry.</span></span> | <span data-ttu-id="45308-123">No se requiere ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="45308-123">No action needed.</span></span>                                                                                                |
| [<span data-ttu-id="45308-124">**LoadAccelerators**</span><span class="sxs-lookup"><span data-stu-id="45308-124">**LoadAccelerators**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadacceleratorsa) | <span data-ttu-id="45308-125">Carga una tabla de aceleradores.</span><span class="sxs-lookup"><span data-stu-id="45308-125">Loads an accelerator table.</span></span>              | [<span data-ttu-id="45308-126">**DestroyAcceleratorTable**</span><span class="sxs-lookup"><span data-stu-id="45308-126">**DestroyAcceleratorTable**</span></span>](/windows/desktop/api/Winuser/nf-winuser-destroyacceleratortable)                                                       |
| [<span data-ttu-id="45308-127">**LoadBitmap**</span><span class="sxs-lookup"><span data-stu-id="45308-127">**LoadBitmap**</span></span>](/windows/desktop/api/winuser/nf-winuser-loadbitmapa)             | <span data-ttu-id="45308-128">Carga un recurso de mapa de bits.</span><span class="sxs-lookup"><span data-stu-id="45308-128">Loads a bitmap resource.</span></span>                 | [<span data-ttu-id="45308-129">**DeleteObject**</span><span class="sxs-lookup"><span data-stu-id="45308-129">**DeleteObject**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-deleteobject)                                                                             |
| [<span data-ttu-id="45308-130">**LoadCursor**</span><span class="sxs-lookup"><span data-stu-id="45308-130">**LoadCursor**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadcursora)             | <span data-ttu-id="45308-131">Carga un recurso de cursor.</span><span class="sxs-lookup"><span data-stu-id="45308-131">Loads a cursor resource.</span></span>                 | [<span data-ttu-id="45308-132">**DestroyCursor**</span><span class="sxs-lookup"><span data-stu-id="45308-132">**DestroyCursor**</span></span>](/windows/desktop/api/Winuser/nf-winuser-destroycursor)                                                                           |
| [<span data-ttu-id="45308-133">**LoadIcon**</span><span class="sxs-lookup"><span data-stu-id="45308-133">**LoadIcon**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadicona)                 | <span data-ttu-id="45308-134">Carga un recurso de icono.</span><span class="sxs-lookup"><span data-stu-id="45308-134">Loads an icon resource.</span></span>                  | [<span data-ttu-id="45308-135">**DestroyIcon**</span><span class="sxs-lookup"><span data-stu-id="45308-135">**DestroyIcon**</span></span>](/windows/desktop/api/Winuser/nf-winuser-destroyicon)                                                                               |
| [<span data-ttu-id="45308-136">**LoadImage**</span><span class="sxs-lookup"><span data-stu-id="45308-136">**LoadImage**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadimagea)               | <span data-ttu-id="45308-137">Carga un icono, un cursor o un mapa de bits.</span><span class="sxs-lookup"><span data-stu-id="45308-137">Loads an icon, cursor, or bitmap.</span></span>        | <span data-ttu-id="45308-138">[**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon), [**DestroyCursor**](/windows/desktop/api/Winuser/nf-winuser-destroycursor), [**DeleteObject**](/windows/desktop/api/wingdi/nf-wingdi-deleteobject)</span><span class="sxs-lookup"><span data-stu-id="45308-138">[**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon), [**DestroyCursor**](/windows/desktop/api/Winuser/nf-winuser-destroycursor), [**DeleteObject**](/windows/desktop/api/wingdi/nf-wingdi-deleteobject)</span></span> |
| [<span data-ttu-id="45308-139">**LoadMenu**</span><span class="sxs-lookup"><span data-stu-id="45308-139">**LoadMenu**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadmenua)                 | <span data-ttu-id="45308-140">Carga un recurso de menú.</span><span class="sxs-lookup"><span data-stu-id="45308-140">Loads a menu resource.</span></span>                   | [<span data-ttu-id="45308-141">**DestroyMenu**</span><span class="sxs-lookup"><span data-stu-id="45308-141">**DestroyMenu**</span></span>](/windows/desktop/api/Winuser/nf-winuser-destroymenu)                                                                               |
| [<span data-ttu-id="45308-142">**Fall**</span><span class="sxs-lookup"><span data-stu-id="45308-142">**LoadString**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadstringa)             | <span data-ttu-id="45308-143">Carga una entrada de tabla de cadenas.</span><span class="sxs-lookup"><span data-stu-id="45308-143">Loads a string-table entry.</span></span>              | <span data-ttu-id="45308-144">No se requiere ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="45308-144">No action needed.</span></span>                                                                                                |



 

<span data-ttu-id="45308-145">Tenga en cuenta las funciones de versión de la tabla anterior.</span><span class="sxs-lookup"><span data-stu-id="45308-145">Note the release functions in the table above.</span></span> <span data-ttu-id="45308-146">Antes de finalizar, una aplicación debe liberar la memoria ocupada por las tablas de aceleradores, mapas de bits, cursores, iconos y menús mediante las funciones apropiadas.</span><span class="sxs-lookup"><span data-stu-id="45308-146">Before terminating, an application should release the memory occupied by accelerator tables, bitmaps, cursors, icons, and menus by using the appropriate functions.</span></span>

<span data-ttu-id="45308-147">La memoria asociada a los recursos cargados a través de [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) y [**LoadResource**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadresource) se liberará una vez que una llamada a [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary)haya descargado el módulo.</span><span class="sxs-lookup"><span data-stu-id="45308-147">Memory associated with resources loaded through [**FindResource**](/windows/desktop/api/Winbase/nf-winbase-findresourcea) and [**LoadResource**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadresource) will be released once the module has been unloaded by a call to [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary).</span></span> <span data-ttu-id="45308-148">El sistema liberará automáticamente todos los recursos que permanezcan descargados en la terminación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="45308-148">Any resources which remain unloaded at application termination will be automatically released by the system.</span></span>

 

 