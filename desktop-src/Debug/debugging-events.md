---
description: Un evento de depuración es un incidente en el proceso que se está depurando que hace que el sistema notifique al depurador.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Depurar eventos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bee6d159dded992e56ac05bc1d751246cd051733
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104080097"
---
# <a name="debugging-events"></a>Depurar eventos

Un evento de depuración es un incidente en el proceso que se está depurando que hace que el sistema notifique al depurador. Los eventos de depuración incluyen la creación de un proceso, la creación de un subproceso, la carga de una biblioteca de vínculos dinámicos (DLL), la descarga de un archivo DLL, el envío de una cadena de salida y la generación de una excepción.

Si se produce un evento de depuración mientras un depurador está esperando uno, el sistema rellena la estructura de [**\_ eventos de depuración**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) especificada por [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) con información que describe el evento.

Cuando el sistema notifica al depurador de un evento de depuración, también suspende todos los subprocesos del proceso afectado. Los subprocesos no reanudan la ejecución hasta que el depurador continúa el evento de depuración mediante [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Pueden producirse los siguientes eventos de depuración mientras se depura un proceso.



| Evento de depuración                          | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CREAR \_ proceso- \_ evento de depuración \_<br/> | Se genera cuando se crea un nuevo proceso en un proceso que se está depurando o cuando el depurador comienza a depurar un proceso que ya está activo. El sistema genera este evento de depuración antes de que el proceso empiece a ejecutarse en modo de usuario y antes de que el sistema genere cualquier otro evento de depuración para el nuevo proceso. <br/> La estructura de [**\_ eventos de depuración**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una estructura [**Create \_ Process \_ Debug \_ info**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) . Esta estructura incluye un identificador para el nuevo proceso, un identificador para el archivo de imagen del proceso, un identificador del subproceso inicial del proceso y otra información que describe el nuevo proceso.<br/> El identificador del proceso tiene acceso de \_ escritura de máquina virtual y de proceso de \_ lectura de VM \_ \_ . Si un depurador tiene estos tipos de acceso a un subproceso, puede leer y escribir en la memoria del proceso mediante las funciones [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) y [**writeprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) . Si el sistema ha comunicado previamente un \_ \_ evento de evento de depuración de proceso de salida \_ , el sistema cierra este identificador cuando el depurador llama a la función [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> El identificador del archivo de imagen del proceso tiene \_ acceso de lectura genérico y se abre para el uso compartido de lectura. El depurador debe cerrar este identificador mientras se procesa el \_ \_ evento de depuración Create Process \_ .<br/> El identificador del subproceso inicial del proceso tiene el \_ contexto get del subproceso, el contexto del conjunto de \_ subprocesos \_ \_ y \_ la suspensión del subproceso \_ reanuda el acceso al subproceso. Si un depurador tiene estos tipos de acceso a un subproceso, puede leer y escribir en los registros del subproceso mediante las funciones [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) y [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) , y puede suspender y reanudar el subproceso mediante las funciones [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) y [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) . Si el sistema ha comunicado previamente un \_ \_ evento de evento de depuración de proceso de salida \_ , el sistema cierra este identificador cuando el depurador llama a la función [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> |
| CREAR \_ \_ evento de depuración de subproceso \_<br/>  | Se genera cuando se crea un nuevo subproceso en un proceso que se está depurando o cuando el depurador comienza a depurar un proceso que ya está activo. Este evento de depuración se genera antes de que el nuevo subproceso empiece a ejecutarse en modo de usuario. <br/> La estructura de [**\_ eventos de depuración**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una estructura [**Create \_ Thread \_ Debug \_ info**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) . Esta estructura incluye un identificador para el nuevo subproceso y la dirección de inicio del subproceso. El identificador tiene el \_ contexto get del subproceso, el contexto del conjunto de \_ subprocesos \_ \_ y \_ la suspensión del subproceso \_ reanuda el acceso al subproceso. Si un depurador tiene estos tipos de acceso a un subproceso, puede leer y escribir en los registros del subproceso mediante las funciones [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) y [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) , y puede suspender y reanudar el subproceso mediante las funciones [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) y [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) .<br/> Si el sistema ha comunicado previamente un \_ \_ evento de evento de depuración de subprocesos de salida \_ , el sistema cierra el identificador al nuevo subproceso cuando el depurador llama a la función [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_evento de depuración de excepción \_<br/>       | Se genera cuando se produce una excepción en el proceso que se está depurando. Las posibles excepciones incluyen el intento de obtener acceso a la memoria inaccesible, la ejecución de instrucciones de puntos de interrupción, el intento de dividir por cero o cualquier otra excepción indicada en el [control de excepciones estructurado](structured-exception-handling.md). <br/> La estructura de [**\_ eventos**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) de depuración contiene una estructura de [**\_ \_ información de depuración de excepción**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) . Esta estructura describe la excepción que provocó el evento de depuración.<br/> Además de las condiciones de excepción estándar, se puede producir un código de excepción adicional durante la depuración del proceso de la consola. El sistema genera un código de excepción del control DBG de \_ \_ C cuando Ctrl + c es una entrada a un proceso de consola que controla las señales Ctrl + c y se está depurando. Este código de excepción no está diseñado para que lo controlen las aplicaciones. Una aplicación nunca debe utilizar un controlador de excepciones para tratar con ella. Solo se genera para los beneficios del depurador y solo se usa cuando se adjunta un depurador al proceso de la consola.<br/> Si un proceso no se está depurando o si el depurador pasa la \_ excepción del control dbg de \_ C no controlada (a través del comando GN), se busca la lista de funciones de controlador de la aplicación, tal como se documenta para la función [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) .<br/> Si el depurador controla la \_ excepción del control dbg de \_ C (a través del comando alvent), una aplicación no observará Ctrl + C excepto en el código como este.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Por lo tanto, el depurador no se puede usar para detener la espera de lectura en el código que se va a finalizar.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| SALIR del \_ proceso de \_ depuración \_<br/>   | Se genera cuando se cierra el último subproceso de un proceso que se está depurando. Este evento de depuración se produce inmediatamente después de que el sistema descargue los archivos DLL del proceso y actualice el código de salida del proceso. <br/> La estructura de [**\_ eventos**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) de depuración contiene una estructura de [**\_ \_ \_ información de depuración del proceso de salida**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) que especifica el código de salida.<br/> El depurador desasigna todas las estructuras internas asociadas al proceso al recibir este evento de depuración. El sistema cierra el identificador del depurador para el proceso de salida y todos los subprocesos del proceso. El depurador no debe cerrar estos identificadores.<br/> No se puede completar la parte del modo kernel del cierre del proceso hasta que el depurador que recibe este evento llame a [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Hasta entonces, los controladores de proceso están abiertos y no se libera el espacio de direcciones virtuales, por lo que el depurador puede examinar el proceso secundario. Para recibir una notificación cuando se complete la parte del modo kernel del cierre del proceso, duplique el identificador devuelto con CREATE \_ Process \_ Debug \_ Event, llame a **ContinueDebugEvent** y, a continuación, espere a que se señale el identificador de proceso duplicado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| SALIR \_ del \_ evento de depuración de subproceso \_<br/>    | Se genera cuando se cierra un subproceso que forma parte de un proceso que se está depurando. El sistema genera este evento de depuración inmediatamente después de actualizar el código de salida del subproceso. <br/> La estructura de [**\_ eventos Debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una estructura [**Exit \_ Thread \_ Debug \_ info**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) que especifica el código de salida.<br/> Este evento de depuración no se produce si el subproceso que sale es el último subproceso de un proceso. En este caso, se produce el evento de depuración de eventos de depuración del proceso de salida en \_ \_ \_ su lugar.<br/> El depurador desasigna todas las estructuras internas asociadas al subproceso en la recepción de este evento de depuración. El sistema cierra el identificador del depurador al subproceso de salida. El depurador no debe cerrar este identificador.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CARGAR \_ \_ evento de depuración dll \_<br/>       | Se genera cuando un proceso que se está depurando carga un archivo DLL. Este evento de depuración se produce cuando el cargador del sistema resuelve los vínculos a un archivo DLL o cuando el proceso depurado utiliza la función [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) . Este evento de depuración solo se produce la primera vez que el sistema adjunta un archivo DLL al espacio de direcciones virtuales de un proceso. <br/> La estructura de [**\_ eventos de depuración**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una estructura de [**\_ \_ \_ información de depuración de dll de carga**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) . Esta estructura incluye un identificador para el archivo DLL recién cargado, la dirección base del archivo DLL y otra información que describe el archivo DLL. El depurador debe cerrar el identificador del identificador de DLL mientras se procesa el \_ evento de depuración de carga de dll \_ \_ .<br/> Normalmente, un depurador carga una tabla de símbolos asociada a la DLL al recibir este evento de depuración.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| \_evento de cadena de depuración de salida \_ \_<br/>  | Se genera cuando un proceso que se está depurando utiliza el <br/>[**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) (función). La estructura de [**\_ eventos**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) de depuración contiene una estructura de [**\_ información de \_ cadena \_ de depuración de salida**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) . Esta estructura especifica la dirección, la longitud y el formato de la cadena de depuración.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| DESCARGAR \_ \_ evento de depuración dll \_<br/>     | Se genera cuando un proceso que se está depurando descarga un archivo DLL mediante la función [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) . Este evento de depuración solo se produce la última vez que se descarga un archivo DLL del espacio de direcciones de un proceso (es decir, cuando el recuento de uso de la DLL es cero). <br/> La estructura de [**\_ eventos de depuración**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una estructura de [**\_ \_ \_ información de depuración de dll de descarga**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) . Esta estructura especifica la dirección base de la DLL en el espacio de direcciones del proceso que descarga el archivo DLL.<br/> Normalmente, un depurador descarga una tabla de símbolos asociada a la DLL al recibir este evento de depuración.<br/> Cuando un proceso finaliza, el sistema descarga automáticamente los archivos DLL del proceso, pero no genera un \_ \_ evento de depuración de eventos de depuración de archivo dll de descarga \_ .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| \_evento RIP<br/>                    | Se genera cuando un proceso que se está depurando se queda fuera del control del depurador del sistema.<br/> La estructura de [**\_ eventos de depuración**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una estructura de [**\_ información de RIP**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) . Esta estructura especifica el error y el tipo de error.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
