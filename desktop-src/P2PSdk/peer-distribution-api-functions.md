---
description: El servicio de distribución del mismo nivel de Microsoft admite funciones tanto para el rol de consumidor como para los escenarios de rol de publicador.
ms.assetid: 3f5af891-4f5d-4523-8fe6-47fc6ff13b35
title: Funciones de la API de distribución del mismo nivel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b2532ad8bf5cbb14e18bd16a14bb1be2d79c1791
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105667410"
---
# <a name="peer-distribution-api-functions"></a><span data-ttu-id="7f7f3-103">Funciones de la API de distribución del mismo nivel</span><span class="sxs-lookup"><span data-stu-id="7f7f3-103">Peer Distribution API Functions</span></span>

<span data-ttu-id="7f7f3-104">El servicio de distribución del mismo nivel de Microsoft admite funciones tanto para el rol de consumidor como para los escenarios de rol de publicador.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-104">The Microsoft Peer Distribution service supports functions for both consumer role and publisher role scenarios.</span></span>

## <a name="the-following-functions-are-common-in-both-client-and-server-scenarios"></a><span data-ttu-id="7f7f3-105">Las siguientes funciones son comunes en los escenarios "cliente" y "servidor".</span><span class="sxs-lookup"><span data-stu-id="7f7f3-105">The following functions are common in both "client" and "server" scenarios.</span></span>



| <span data-ttu-id="7f7f3-106">Funciones comunes</span><span class="sxs-lookup"><span data-stu-id="7f7f3-106">Common Functions</span></span>                                                                                       | <span data-ttu-id="7f7f3-107">Descripción</span><span class="sxs-lookup"><span data-stu-id="7f7f3-107">Description</span></span>                                                                                                     |
|--------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7f7f3-108">**PeerDistStartup**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-108">**PeerDistStartup**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdiststartup)                                                             | <span data-ttu-id="7f7f3-109">Crea una nueva instancia de **\_ \_ identificador de instancia de PEERDIST** que se debe pasar a todas las demás API de distribución del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-109">Creates a new **PEERDIST\_INSTANCE\_HANDLE** instance which must be passed to all other Peer Distribution APIs.</span></span> |
| [<span data-ttu-id="7f7f3-110">**PeerDistShutdown**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-110">**PeerDistShutdown**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistshutdown)                                                           | <span data-ttu-id="7f7f3-111">Libera los recursos asignados por la llamada a [**PeerDistStartup**](/windows/desktop/api/PeerDist/nf-peerdist-peerdiststartup).</span><span class="sxs-lookup"><span data-stu-id="7f7f3-111">Releases resources allocated by the call to [**PeerDistStartup**](/windows/desktop/api/PeerDist/nf-peerdist-peerdiststartup).</span></span>                         |
| [<span data-ttu-id="7f7f3-112">**PeerDistGetStatus**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-112">**PeerDistGetStatus**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistgetstatus)                                                         | <span data-ttu-id="7f7f3-113">Devuelve el estado actual del servicio de distribución del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-113">Returns the current status of Peer Distribution service.</span></span>                                                        |
| [<span data-ttu-id="7f7f3-114">**PeerDistGetStatusEx**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-114">**PeerDistGetStatusEx**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistgetstatusex)                                                     | <span data-ttu-id="7f7f3-115">Devuelve el estado actual y las capacidades del servicio de distribución del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-115">Returns the current status and capabilities of the Peer Distribution service.</span></span>                                   |
| [<span data-ttu-id="7f7f3-116">**PeerDistGetOverlappedResult**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-116">**PeerDistGetOverlappedResult**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistgetoverlappedresult)                                     | <span data-ttu-id="7f7f3-117">Recupera los resultados de las operaciones asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-117">Retrieves the results of asynchronous operations.</span></span>                                                               |
| [<span data-ttu-id="7f7f3-118">**PeerDistRegisterForStatusChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-118">**PeerDistRegisterForStatusChangeNotification**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistregisterforstatuschangenotification)     | <span data-ttu-id="7f7f3-119">Solicita que el servicio de distribución del mismo nivel notifique al llamador cuando se produce un cambio de estado.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-119">Requests that the Peer Distribution service notify the caller when a status change occurs.</span></span>                      |
| [<span data-ttu-id="7f7f3-120">**PeerDistRegisterForStatusChangeNotificationEx**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-120">**PeerDistRegisterForStatusChangeNotificationEx**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistregisterforstatuschangenotificationex) | <span data-ttu-id="7f7f3-121">Solicita que el servicio de distribución del mismo nivel notifique al llamador cuando se produce un cambio de estado.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-121">Requests that the Peer Distribution service notify the caller when a status change occurs.</span></span>                      |
| [<span data-ttu-id="7f7f3-122">**PeerDistUnregisterForStatusChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-122">**PeerDistUnregisterForStatusChangeNotification**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistunregisterforstatuschangenotification) | <span data-ttu-id="7f7f3-123">Anula el registro de la notificación de cambio de estado para la sesión asociada al identificador proporcionado.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-123">Deregisters the status change notification for the session associated with the supplied handle.</span></span>                 |



 

## <a name="the-following-functions-are-only-supported-in-client-scenarios"></a><span data-ttu-id="7f7f3-124">Las siguientes funciones solo se admiten en escenarios de "cliente".</span><span class="sxs-lookup"><span data-stu-id="7f7f3-124">The following functions are only supported in "client" scenarios.</span></span>



| <span data-ttu-id="7f7f3-125">Funciones de cliente</span><span class="sxs-lookup"><span data-stu-id="7f7f3-125">Client Functions</span></span>                                                                             | <span data-ttu-id="7f7f3-126">Descripción</span><span class="sxs-lookup"><span data-stu-id="7f7f3-126">Description</span></span>                                                                                                                                                                                                                                                                                                                                      |
|----------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7f7f3-127">**PeerDistClientOpenContent**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-127">**PeerDistClientOpenContent**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientopencontent)                               | <span data-ttu-id="7f7f3-128">Abre y devuelve un **\_ \_ identificador de contenido de PEERDIST** para hacer referencia a ese contenido.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-128">Opens and returns a **PEERDIST\_CONTENT\_HANDLE** to reference that content.</span></span>                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="7f7f3-129">**PeerDistClientCloseContent**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-129">**PeerDistClientCloseContent**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientclosecontent)                             | <span data-ttu-id="7f7f3-130">Cierra el **identificador de \_ contenido \_ de PEERDIST**.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-130">Closes the **PEERDIST\_CONTENT\_HANDLE**.</span></span>                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="7f7f3-131">**PeerDistClientGetInformationByHandle**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-131">**PeerDistClientGetInformationByHandle**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistclientgetinformationbyhandle)         | <span data-ttu-id="7f7f3-132">Recupera información adicional del servicio de distribución del mismo nivel para un identificador de contenido específico.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-132">Retrieves additional information from the Peer Distribution service for a specific content handle.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="7f7f3-133">**PeerDistClientAddContentInformation**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-133">**PeerDistClientAddContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientaddcontentinformation)           | <span data-ttu-id="7f7f3-134">Agrega información de contenido que, a continuación, se asocia al **\_ \_ identificador de contenido de PEERDIST**.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-134">Adds content information which is then associated with the **PEERDIST\_CONTENT\_HANDLE**.</span></span> <span data-ttu-id="7f7f3-135">Un **\_ \_ identificador de contenido de PEERDIST** puede asociarse a cualquier información de contenido.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-135">A **PEERDIST\_CONTENT\_HANDLE** can be associated with any content information.</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="7f7f3-136">**PeerDistClientCompleteContentInformation**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-136">**PeerDistClientCompleteContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientcompletecontentinformation) | <span data-ttu-id="7f7f3-137">Indica el final de la información de contenido.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-137">Indicates the end of the content information.</span></span>                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="7f7f3-138">**PeerDistClientAddData**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-138">**PeerDistClientAddData**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientadddata)                                       | <span data-ttu-id="7f7f3-139">Se usa para proporcionar contenido a la memoria caché local.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-139">Used to supply content to the local cache.</span></span> <span data-ttu-id="7f7f3-140">Normalmente esto se hace cuando no se encuentran datos en la red local, como se indica cuando [**PeerDistClientBlockRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientblockread) o [**PeerDistClientStreamRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientstreamread) se completan con el **tiempo de \_ espera de error** o cuando **\_ \_ faltan \_ datos de error de PEERDIST**.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-140">Typically this is done when data could not be found on the local network as indicated when either [**PeerDistClientBlockRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientblockread) or [**PeerDistClientStreamRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientstreamread) complete with **ERROR\_TIMEOUT** or **PEERDIST\_ERROR\_MISSING\_DATA**..</span></span> |
| [<span data-ttu-id="7f7f3-141">**PeerDistClientBlockRead**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-141">**PeerDistClientBlockRead**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientblockread)                                   | <span data-ttu-id="7f7f3-142">Proporciona acceso aleatorio a la secuencia de contenido.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-142">Provides random access to the content stream.</span></span>                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="7f7f3-143">**PeerDistClientStreamRead**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-143">**PeerDistClientStreamRead**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientstreamread)                                 | <span data-ttu-id="7f7f3-144">Proporciona acceso secuencial a la secuencia de contenido.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-144">Provides sequential access to the content stream.</span></span>                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="7f7f3-145">**PeerDistClientFlushContent**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-145">**PeerDistClientFlushContent**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientflushcontent)                             | <span data-ttu-id="7f7f3-146">Quita el contenido que se ha agregado previamente al sistema local de distribución del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-146">Removes content that has been previously added to the local Peer Distribution system.</span></span>                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="7f7f3-147">**PeerDistClientCancelAsyncOperation**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-147">**PeerDistClientCancelAsyncOperation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientcancelasyncoperation)             | <span data-ttu-id="7f7f3-148">Cancela la operación asincrónica asociada a una estructura [superpuesta](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) y el identificador de contenido devuelto por [**PeerDistClientOpenContent**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientopencontent).</span><span class="sxs-lookup"><span data-stu-id="7f7f3-148">Cancels asynchronous operation associated with an [OVERLAPPED](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) structure and the content handle returned by [**PeerDistClientOpenContent**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientopencontent).</span></span>                                                                                                                     |



 

## <a name="the-following-functions-are-only-supported-in-server-scenarios"></a><span data-ttu-id="7f7f3-149">Las siguientes funciones solo se admiten en escenarios de "servidor".</span><span class="sxs-lookup"><span data-stu-id="7f7f3-149">The following functions are only supported in "server" scenarios.</span></span>



| <span data-ttu-id="7f7f3-150">Funciones de servidor</span><span class="sxs-lookup"><span data-stu-id="7f7f3-150">Server Functions</span></span>                                                                             | <span data-ttu-id="7f7f3-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="7f7f3-151">Description</span></span>                                                                                                                                                                                        |
|----------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7f7f3-152">**PeerDistServerPublishStream**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-152">**PeerDistServerPublishStream**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishstream)                           | <span data-ttu-id="7f7f3-153">Crea el **\_ \_ identificador de flujo de PEERDIST** que se puede usar con [**PeerDistServerPublishAddToStream**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishaddtostream) para crear información de contenido para la secuencia de contenido.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-153">Creates the **PEERDIST\_STREAM\_HANDLE** which can be used with [**PeerDistServerPublishAddToStream**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishaddtostream) to create content information for the content stream.</span></span> |
| [<span data-ttu-id="7f7f3-154">**PeerDistServerPublishAddToStream**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-154">**PeerDistServerPublishAddToStream**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishaddtostream)                 | <span data-ttu-id="7f7f3-155">Agrega datos a la secuencia a la que hace referencia el identificador de la secuencia de PeerDist.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-155">Adds data to the stream referenced by the PeerDist stream handle.</span></span>                                                                                                                                  |
| [<span data-ttu-id="7f7f3-156">**PeerDistServerPublishCompleteStream**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-156">**PeerDistServerPublishCompleteStream**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishcompletestream)           | <span data-ttu-id="7f7f3-157">Se llama para indicar que todos los datos se han agregado a la secuencia.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-157">Called to indicate that all data has been added to the stream.</span></span>                                                                                                                                     |
| [<span data-ttu-id="7f7f3-158">**PeerDistServerCloseStreamHandle**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-158">**PeerDistServerCloseStreamHandle**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverclosestreamhandle)                   | <span data-ttu-id="7f7f3-159">Cierra el identificador de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-159">Closes the stream handle.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="7f7f3-160">**PeerDistServerUnpublish**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-160">**PeerDistServerUnpublish**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverunpublish)                                   | <span data-ttu-id="7f7f3-161">Anula la publicación del contenido publicado previamente en el servicio de distribución del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-161">Unpublishes previously published content in the Peer Distribution service.</span></span>                                                                                                                         |
| [<span data-ttu-id="7f7f3-162">**PeerDistServerOpenContentInformation**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-162">**PeerDistServerOpenContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserveropencontentinformation)         | <span data-ttu-id="7f7f3-163">Abre un **\_ \_ identificador de CONTENTINFO de PEERDIST** para el contenido publicado.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-163">Opens a **PEERDIST\_CONTENTINFO\_HANDLE** for published content.</span></span>                                                                                                                                   |
| [<span data-ttu-id="7f7f3-164">**PeerDistServerOpenContentInformationEx**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-164">**PeerDistServerOpenContentInformationEx**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistserveropencontentinformationex)     | <span data-ttu-id="7f7f3-165">Abre un **\_ \_ identificador de CONTENTINFO de PEERDIST** para el contenido publicado.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-165">Opens a **PEERDIST\_CONTENTINFO\_HANDLE** for published content.</span></span>                                                                                                                                   |
| [<span data-ttu-id="7f7f3-166">**PeerDistServerRetrieveContentInformation**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-166">**PeerDistServerRetrieveContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverretrievecontentinformation) | <span data-ttu-id="7f7f3-167">Recupera la información de contenido asociada al contenido publicado.</span><span class="sxs-lookup"><span data-stu-id="7f7f3-167">Retrieves the content information associated with published content.</span></span>                                                                                                                               |
| [<span data-ttu-id="7f7f3-168">**PeerDistServerCloseContentInformation**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-168">**PeerDistServerCloseContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverclosecontentinformation)       | <span data-ttu-id="7f7f3-169">**PEERDIST \_ \_Identificador de CONTENTINFO** abierto por [**PeerDistServerOpenContentInformation**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserveropencontentinformation).</span><span class="sxs-lookup"><span data-stu-id="7f7f3-169">**PEERDIST\_CONTENTINFO\_HANDLE** opened by [**PeerDistServerOpenContentInformation**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserveropencontentinformation).</span></span>                                                                  |
| [<span data-ttu-id="7f7f3-170">**PeerDistServerCancelAsyncOperation**</span><span class="sxs-lookup"><span data-stu-id="7f7f3-170">**PeerDistServerCancelAsyncOperation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistservercancelasyncoperation)             | <span data-ttu-id="7f7f3-171">Cancela la operación asincrónica asociada con el identificador de contenido y la estructura [superpuesta](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) .</span><span class="sxs-lookup"><span data-stu-id="7f7f3-171">Cancels the asynchronous operation associated with the content identifier and [OVERLAPPED](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) structure.</span></span>                                             |



 

 

 
