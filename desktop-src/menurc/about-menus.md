---
title: Acerca de los menús
description: En este tema se describen los menús.
ms.assetid: fd0b26f1-93cd-421b-9097-8502ab7681e9
keywords:
- recursos, menús
- menús, acerca de
- submenús
- barras de menús
- menús de nivel superior
- menús emergentes
- menús desplegables
- menús, nivel superior
- menús emergentes
- menús, lista desplegable
- nombres de menú
- menús, acceso directo
- menús, ventana
- menús, sistema
- menús, control
- menús contextuales
- Menú Ventana
- Menú sistema
- Menú control
- identificadores de ayuda
- Controladores de menú
- menú, elementos
- elementos de comando
- identificadores de elemento de menú
- posición de elemento de menú
- selección de elementos de menú
- borrar elementos de menú
- menús dibujados por el propietario
- menús, dibujado por el propietario
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ed5d42eb42aaaaa16eef0b5b118adcfe0f91156e
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "104420610"
---
# <a name="about-menus"></a><span data-ttu-id="0571a-132">Acerca de los menús</span><span class="sxs-lookup"><span data-stu-id="0571a-132">About Menus</span></span>

<span data-ttu-id="0571a-133">Un *menú* es una lista de elementos que especifican opciones o grupos de opciones (un submenú) para una aplicación.</span><span class="sxs-lookup"><span data-stu-id="0571a-133">A *menu* is a list of items that specify options or groups of options (a submenu) for an application.</span></span> <span data-ttu-id="0571a-134">Al hacer clic en un elemento de menú, se abre un submenú o se hace que la aplicación lleve a cabo un comando.</span><span class="sxs-lookup"><span data-stu-id="0571a-134">Clicking a menu item opens a submenu or causes the application to carry out a command.</span></span> <span data-ttu-id="0571a-135">En esta sección se proporciona información sobre los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="0571a-135">This section provides information on the following topics:</span></span>

-   [<span data-ttu-id="0571a-136">Menús y barras de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-136">Menu Bars and Menus</span></span>](#menu-bars-and-menus)
    -   [<span data-ttu-id="0571a-137">Menús contextuales</span><span class="sxs-lookup"><span data-stu-id="0571a-137">Shortcut Menus</span></span>](#shortcut-menus)
    -   [<span data-ttu-id="0571a-138">El menú ventana</span><span class="sxs-lookup"><span data-stu-id="0571a-138">The Window Menu</span></span>](#the-window-menu)
    -   [<span data-ttu-id="0571a-139">Identificador de ayuda</span><span class="sxs-lookup"><span data-stu-id="0571a-139">Help Identifier</span></span>](#help-identifier)
-   [<span data-ttu-id="0571a-140">Acceso mediante teclado a menús</span><span class="sxs-lookup"><span data-stu-id="0571a-140">Keyboard Access to Menus</span></span>](#keyboard-access-to-menus)
    -   [<span data-ttu-id="0571a-141">Interfaz de teclado estándar</span><span class="sxs-lookup"><span data-stu-id="0571a-141">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
    -   [<span data-ttu-id="0571a-142">Teclas de acceso de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-142">Menu Access Keys</span></span>](#menu-access-keys)
    -   [<span data-ttu-id="0571a-143">Teclas de método abreviado de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-143">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)
-   [<span data-ttu-id="0571a-144">Creación de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-144">Menu Creation</span></span>](#menu-creation)
    -   [<span data-ttu-id="0571a-145">Recursos de plantilla de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-145">Menu Template Resources</span></span>](#menu-template-resources)
    -   [<span data-ttu-id="0571a-146">Plantilla de menú en memoria</span><span class="sxs-lookup"><span data-stu-id="0571a-146">Menu Template in Memory</span></span>](#menu-template-in-memory)
    -   [<span data-ttu-id="0571a-147">Controladores de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-147">Menu Handles</span></span>](#menu-handles)
    -   [<span data-ttu-id="0571a-148">Funciones de creación de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-148">Menu Creation Functions</span></span>](#menu-creation-functions)
    -   [<span data-ttu-id="0571a-149">Pantalla de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-149">Menu Display</span></span>](#menu-display)
    -   [<span data-ttu-id="0571a-150">Menús de clase de ventana</span><span class="sxs-lookup"><span data-stu-id="0571a-150">Window Class Menus</span></span>](#window-class-menus)
-   [<span data-ttu-id="0571a-151">Elementos de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-151">Menu Items</span></span>](#menu-items)
    -   [<span data-ttu-id="0571a-152">Elementos de comando y elementos que abren submenús</span><span class="sxs-lookup"><span data-stu-id="0571a-152">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
    -   [<span data-ttu-id="0571a-153">Identificador de elemento de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-153">Menu-Item Identifier</span></span>](#menu-item-identifier)
    -   [<span data-ttu-id="0571a-154">Posición de elemento de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-154">Menu-Item Position</span></span>](#menu-item-position)
    -   [<span data-ttu-id="0571a-155">Obtener acceso a los elementos de menú mediante programación</span><span class="sxs-lookup"><span data-stu-id="0571a-155">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
    -   [<span data-ttu-id="0571a-156">Elementos de menú predeterminados</span><span class="sxs-lookup"><span data-stu-id="0571a-156">Default Menu Items</span></span>](#default-menu-items)
    -   [<span data-ttu-id="0571a-157">Elementos de menú seleccionados y borrados</span><span class="sxs-lookup"><span data-stu-id="0571a-157">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
    -   [<span data-ttu-id="0571a-158">Elementos de menú habilitados, atenuados y deshabilitados</span><span class="sxs-lookup"><span data-stu-id="0571a-158">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
    -   [<span data-ttu-id="0571a-159">Elementos de menú resaltados</span><span class="sxs-lookup"><span data-stu-id="0571a-159">Highlighted Menu Items</span></span>](#highlighted-menu-items)
    -   [<span data-ttu-id="0571a-160">Elementos de menú dibujados por el propietario</span><span class="sxs-lookup"><span data-stu-id="0571a-160">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
    -   [<span data-ttu-id="0571a-161">Separadores de elementos de menú y saltos de línea</span><span class="sxs-lookup"><span data-stu-id="0571a-161">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)
-   [<span data-ttu-id="0571a-162">Mensajes usados con menús</span><span class="sxs-lookup"><span data-stu-id="0571a-162">Messages Used with Menus</span></span>](#messages-used-with-menus)
-   [<span data-ttu-id="0571a-163">Destrucción de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-163">Menu Destruction</span></span>](#menu-destruction)

## <a name="menu-bars-and-menus"></a><span data-ttu-id="0571a-164">Menús y barras de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-164">Menu Bars and Menus</span></span>

<span data-ttu-id="0571a-165">Un menú se organiza en una jerarquía.</span><span class="sxs-lookup"><span data-stu-id="0571a-165">A menu is arranged in a hierarchy.</span></span> <span data-ttu-id="0571a-166">En el nivel superior de la jerarquía se encuentra la *barra de menús*. que contiene una lista de *menús*, que a su vez pueden contener *submenús*.</span><span class="sxs-lookup"><span data-stu-id="0571a-166">At the top level of the hierarchy is the *menu bar*; which contains a list of *menus*, which in turn can contain *submenus*.</span></span> <span data-ttu-id="0571a-167">Una barra de menús se denomina a veces *menú de nivel superior* y los menús y submenús también se conocen como *menús emergentes*.</span><span class="sxs-lookup"><span data-stu-id="0571a-167">A menu bar is sometimes called a *top-level menu*, and the menus and submenus are also known as *pop-up menus*.</span></span>

<span data-ttu-id="0571a-168">Un elemento de menú puede ejecutar un comando o abrir un submenú.</span><span class="sxs-lookup"><span data-stu-id="0571a-168">A menu item can either carry out a command or open a submenu.</span></span> <span data-ttu-id="0571a-169">Un elemento que realiza un comando se denomina elemento de *comando* o *comando*.</span><span class="sxs-lookup"><span data-stu-id="0571a-169">An item that carries out a command is called a *command item* or a *command*.</span></span>

<span data-ttu-id="0571a-170">Un elemento de la barra de menús casi siempre abre un menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-170">An item on the menu bar almost always opens a menu.</span></span> <span data-ttu-id="0571a-171">Las barras de menús raramente contienen elementos de comando.</span><span class="sxs-lookup"><span data-stu-id="0571a-171">Menu bars rarely contain command items.</span></span> <span data-ttu-id="0571a-172">Un menú abierto en la barra de menús se despliega de la barra de menús y a veces se denomina *menú* desplegable.</span><span class="sxs-lookup"><span data-stu-id="0571a-172">A menu opened from the menu bar drops down from the menu bar and is sometimes called a *drop-down menu*.</span></span> <span data-ttu-id="0571a-173">Cuando se muestra un menú desplegable, se adjunta a la barra de menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-173">When a drop-down menu is displayed, it is attached to the menu bar.</span></span> <span data-ttu-id="0571a-174">Un elemento de menú de la barra de menús que abre un menú desplegable también se denomina *nombre de menú*.</span><span class="sxs-lookup"><span data-stu-id="0571a-174">A menu item on the menu bar that opens a drop-down menu is also called a *menu name*.</span></span>

<span data-ttu-id="0571a-175">Los nombres de menú de una barra de menús representan las categorías principales de comandos que proporciona una aplicación.</span><span class="sxs-lookup"><span data-stu-id="0571a-175">The menu names on a menu bar represent the main categories of commands that an application provides.</span></span> <span data-ttu-id="0571a-176">Al seleccionar un nombre de menú en la barra de menús, normalmente se abre un menú cuyos elementos de menú corresponden a los comandos de una categoría.</span><span class="sxs-lookup"><span data-stu-id="0571a-176">Selecting a menu name from the menu bar typically opens a menu whose menu items correspond to the commands in a category.</span></span> <span data-ttu-id="0571a-177">Por ejemplo, una barra de menús podría contener un nombre de menú de **archivo** que, cuando se hace clic en el usuario, activa un menú con elementos de menú como **nuevo**, **abrir** y **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="0571a-177">For example, a menu bar might contain a **File** menu name that, when clicked by the user, activates a menu with menu items such as **New**, **Open**, and **Save**.</span></span> <span data-ttu-id="0571a-178">Para obtener información acerca de una barra de menús, llame a [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span><span class="sxs-lookup"><span data-stu-id="0571a-178">To get information about a menu bar, call [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span></span>

<span data-ttu-id="0571a-179">Solo una ventana superpuesta o emergente puede contener una barra de menús. una ventana secundaria no puede contener una.</span><span class="sxs-lookup"><span data-stu-id="0571a-179">Only an overlapped or pop-up window can contain a menu bar; a child window cannot contain one.</span></span> <span data-ttu-id="0571a-180">Si la ventana tiene una barra de título, el sistema coloca la barra de menús justo debajo de ella.</span><span class="sxs-lookup"><span data-stu-id="0571a-180">If the window has a title bar, the system positions the menu bar just below it.</span></span> <span data-ttu-id="0571a-181">Una barra de menús siempre está visible.</span><span class="sxs-lookup"><span data-stu-id="0571a-181">A menu bar is always visible.</span></span> <span data-ttu-id="0571a-182">Sin embargo, un submenú no es visible hasta que el usuario selecciona un elemento de menú que lo activa.</span><span class="sxs-lookup"><span data-stu-id="0571a-182">A submenu is not visible, however, until the user selects a menu item that activates it.</span></span> <span data-ttu-id="0571a-183">Para obtener más información sobre las ventanas superpuestas y ventanas emergentes, consulte [tipos de ventana](/windows/desktop/winmsg/window-features).</span><span class="sxs-lookup"><span data-stu-id="0571a-183">For more information about overlapped and pop-up windows, see [Window Types](/windows/desktop/winmsg/window-features).</span></span>

<span data-ttu-id="0571a-184">Cada menú debe tener una ventana propietaria.</span><span class="sxs-lookup"><span data-stu-id="0571a-184">Each menu must have an owner window.</span></span> <span data-ttu-id="0571a-185">El sistema envía mensajes a la ventana propietaria de un menú cuando el usuario selecciona el menú o elige un elemento del menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-185">The system sends messages to a menu's owner window when the user selects the menu or chooses an item from the menu.</span></span>

<span data-ttu-id="0571a-186">En esta sección se tratan los temas siguientes.</span><span class="sxs-lookup"><span data-stu-id="0571a-186">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="0571a-187">Menús contextuales</span><span class="sxs-lookup"><span data-stu-id="0571a-187">Shortcut Menus</span></span>](#shortcut-menus)
-   [<span data-ttu-id="0571a-188">El menú ventana</span><span class="sxs-lookup"><span data-stu-id="0571a-188">The Window Menu</span></span>](#the-window-menu)
-   [<span data-ttu-id="0571a-189">Identificador de ayuda</span><span class="sxs-lookup"><span data-stu-id="0571a-189">Help Identifier</span></span>](#help-identifier)

### <a name="shortcut-menus"></a><span data-ttu-id="0571a-190">Menús contextuales</span><span class="sxs-lookup"><span data-stu-id="0571a-190">Shortcut Menus</span></span>

<span data-ttu-id="0571a-191">El sistema también proporciona *menús contextuales*.</span><span class="sxs-lookup"><span data-stu-id="0571a-191">The system also provides *shortcut menus*.</span></span> <span data-ttu-id="0571a-192">No se adjunta un menú contextual a la barra de menús. puede aparecer en cualquier parte de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="0571a-192">A shortcut menu is not attached to the menu bar; it can appear anywhere on the screen.</span></span> <span data-ttu-id="0571a-193">Normalmente, una aplicación asocia un menú contextual con una parte de una ventana, como el área cliente, o con un objeto específico, como un icono.</span><span class="sxs-lookup"><span data-stu-id="0571a-193">An application typically associates a shortcut menu with a portion of a window, such as the client area, or with a specific object, such as an icon.</span></span> <span data-ttu-id="0571a-194">Por esta razón, estos menús también se denominan *menús contextuales*.</span><span class="sxs-lookup"><span data-stu-id="0571a-194">For this reason, these menus are also called *context menus*.</span></span>

<span data-ttu-id="0571a-195">Un menú contextual permanece oculto hasta que el usuario lo activa, normalmente al hacer clic con el botón secundario en una selección, una barra de herramientas o un botón de la barra de tareas.</span><span class="sxs-lookup"><span data-stu-id="0571a-195">A shortcut menu remains hidden until the user activates it, typically by right-clicking a selection, a toolbar, or a taskbar button.</span></span> <span data-ttu-id="0571a-196">El menú suele mostrarse en la posición del símbolo de intercalación o del cursor del mouse.</span><span class="sxs-lookup"><span data-stu-id="0571a-196">The menu is usually displayed at the position of the caret or mouse cursor.</span></span>

### <a name="the-window-menu"></a><span data-ttu-id="0571a-197">El menú ventana</span><span class="sxs-lookup"><span data-stu-id="0571a-197">The Window Menu</span></span>

<span data-ttu-id="0571a-198">El menú **ventana** (también conocido como menú **del sistema** o menú de **control** ) es un menú emergente definido y administrado prácticamente exclusivamente por el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="0571a-198">The **Window** menu (also known as the **System** menu or **Control** menu) is a pop-up menu defined and managed almost exclusively by the operating system.</span></span> <span data-ttu-id="0571a-199">El usuario puede abrir el menú ventana haciendo clic en el icono de la aplicación en la barra de título o haciendo clic con el botón secundario en cualquier lugar de la barra de título.</span><span class="sxs-lookup"><span data-stu-id="0571a-199">The user can open the window menu by clicking the application icon on the title bar or by right-clicking anywhere on the title bar.</span></span>

<span data-ttu-id="0571a-200">El menú **ventana** proporciona un conjunto estándar de elementos de menú que el usuario puede elegir para cambiar el tamaño o la posición de una ventana, o cerrar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0571a-200">The **Window** menu provides a standard set of menu items that the user can choose to change a window's size or position, or close the application.</span></span> <span data-ttu-id="0571a-201">Los elementos del menú ventana se pueden agregar, eliminar y modificar, pero la mayoría de las aplicaciones solo usan el conjunto estándar de elementos de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-201">Items on the window menu can be added, deleted, and modified, but most applications just use the standard set of menu items.</span></span> <span data-ttu-id="0571a-202">Una ventana superpuesta, emergente o secundaria puede tener un menú ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-202">An overlapped, pop-up, or child window can have a window menu.</span></span> <span data-ttu-id="0571a-203">No es habitual que una ventana superpuesta o emergente no incluya un menú ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-203">It is uncommon for an overlapped or pop-up window not to include a window menu.</span></span>

<span data-ttu-id="0571a-204">Cuando el usuario elige un comando en el menú **ventana** , el sistema envía un mensaje de [**WM \_ SYSCOMMAND**](wm-syscommand.md) a la ventana propietaria del menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-204">When the user chooses a command from the **Window** menu, the system sends a [**WM\_SYSCOMMAND**](wm-syscommand.md) message to the menu's owner window.</span></span> <span data-ttu-id="0571a-205">En la mayoría de las aplicaciones, el procedimiento de ventana no procesa los mensajes desde el menú ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-205">In most applications, the window procedure does not process messages from the window menu.</span></span> <span data-ttu-id="0571a-206">En su lugar, simplemente pasa los mensajes a la función [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) para el procesamiento predeterminado del mensaje por el sistema.</span><span class="sxs-lookup"><span data-stu-id="0571a-206">Instead, it simply passes the messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for system-default processing of the message.</span></span> <span data-ttu-id="0571a-207">Si una aplicación agrega un comando al menú ventana, el procedimiento de ventana debe procesar el comando.</span><span class="sxs-lookup"><span data-stu-id="0571a-207">If an application adds a command to the window menu, the window procedure must process the command.</span></span>

<span data-ttu-id="0571a-208">Una aplicación puede usar la función [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) para crear una copia del menú de ventana predeterminado que se va a modificar.</span><span class="sxs-lookup"><span data-stu-id="0571a-208">An application can use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function to create a copy of the default window menu to modify.</span></span> <span data-ttu-id="0571a-209">Cualquier ventana que no use la función **GetSystemMenu** para hacer que su propia copia del menú ventana reciba el menú de ventana estándar.</span><span class="sxs-lookup"><span data-stu-id="0571a-209">Any window that does not use the **GetSystemMenu** function to make its own copy of the window menu receives the standard window menu.</span></span>

### <a name="help-identifier"></a><span data-ttu-id="0571a-210">Identificador de ayuda</span><span class="sxs-lookup"><span data-stu-id="0571a-210">Help Identifier</span></span>

<span data-ttu-id="0571a-211">Asociado a cada barra de menús, menú, submenú y menú contextual es un identificador de ayuda.</span><span class="sxs-lookup"><span data-stu-id="0571a-211">Associated with each menu bar, menu, submenu, and shortcut menu is a help identifier.</span></span> <span data-ttu-id="0571a-212">Si el usuario presiona la tecla F1 mientras el menú está activo, este valor se envía a la ventana propietaria como parte de un mensaje de [**\_ ayuda de WM**](../shell/wm-help.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-212">If the user presses the F1 key while the menu is active, this value is sent to the owner window as part of a [**WM\_HELP**](../shell/wm-help.md) message.</span></span>

## <a name="keyboard-access-to-menus"></a><span data-ttu-id="0571a-213">Acceso mediante teclado a menús</span><span class="sxs-lookup"><span data-stu-id="0571a-213">Keyboard Access to Menus</span></span>

<span data-ttu-id="0571a-214">El sistema proporciona una interfaz de teclado estándar para los menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-214">The system provides a standard keyboard interface for menus.</span></span> <span data-ttu-id="0571a-215">Puede mejorar esta interfaz proporcionando teclas de acceso de tecla de acceso y teclas de método abreviado (acelerador) para los elementos de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-215">You can enhance this interface by providing mnemonic access keys and shortcut (accelerator) keys for your menu items.</span></span>

<span data-ttu-id="0571a-216">En los temas siguientes se describe la interfaz de teclado estándar, las teclas de acceso y las teclas de método abreviado:</span><span class="sxs-lookup"><span data-stu-id="0571a-216">The following topics describe the standard keyboard interface, access keys, and shortcut keys:</span></span>

-   [<span data-ttu-id="0571a-217">Interfaz de teclado estándar</span><span class="sxs-lookup"><span data-stu-id="0571a-217">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
-   [<span data-ttu-id="0571a-218">Teclas de acceso de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-218">Menu Access Keys</span></span>](#menu-access-keys)
-   [<span data-ttu-id="0571a-219">Teclas de método abreviado de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-219">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)

### <a name="standard-keyboard-interface"></a><span data-ttu-id="0571a-220">Interfaz de teclado estándar</span><span class="sxs-lookup"><span data-stu-id="0571a-220">Standard Keyboard Interface</span></span>

<span data-ttu-id="0571a-221">El sistema está diseñado para funcionar con o sin un mouse u otro dispositivo señalador.</span><span class="sxs-lookup"><span data-stu-id="0571a-221">The system is designed to work with or without a mouse or other pointing device.</span></span> <span data-ttu-id="0571a-222">Dado que el sistema proporciona una interfaz de teclado estándar, el usuario puede usar el teclado para seleccionar elementos de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-222">Because the system provides a standard keyboard interface, the user can use the keyboard to select menu items.</span></span> <span data-ttu-id="0571a-223">Esta interfaz de teclado no necesita código especial.</span><span class="sxs-lookup"><span data-stu-id="0571a-223">This keyboard interface does not need special code.</span></span> <span data-ttu-id="0571a-224">Una aplicación recibe un mensaje de comando si el usuario selecciona un elemento de menú mediante el teclado o un mouse.</span><span class="sxs-lookup"><span data-stu-id="0571a-224">An application receives a command message whether the user selects a menu item through the keyboard or by using a mouse.</span></span> <span data-ttu-id="0571a-225">La interfaz de teclado estándar procesa las pulsaciones de tecla siguientes.</span><span class="sxs-lookup"><span data-stu-id="0571a-225">The standard keyboard interface processes the following keystrokes.</span></span>



| <span data-ttu-id="0571a-226">Pulsación de tecla</span><span class="sxs-lookup"><span data-stu-id="0571a-226">Keystroke</span></span>              | <span data-ttu-id="0571a-227">Acción</span><span class="sxs-lookup"><span data-stu-id="0571a-227">Action</span></span>                                                                                                                                                                                                                                   |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0571a-228">Carácter alfabético</span><span class="sxs-lookup"><span data-stu-id="0571a-228">Alphabetical character</span></span> | <span data-ttu-id="0571a-229">Selecciona el primer elemento de menú con el carácter especificado como su clave de acceso.</span><span class="sxs-lookup"><span data-stu-id="0571a-229">Selects the first menu item with the specified character as its access key.</span></span> <span data-ttu-id="0571a-230">Si el elemento seleccionado invoca un menú, se muestra el menú y el primer elemento se resalta.</span><span class="sxs-lookup"><span data-stu-id="0571a-230">If the selected item invokes a menu, the menu is displayed and the first item is highlighted.</span></span> <span data-ttu-id="0571a-231">De lo contrario, se elige el elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-231">Otherwise, the menu item is chosen.</span></span>                            |
| <span data-ttu-id="0571a-232">ALT</span><span class="sxs-lookup"><span data-stu-id="0571a-232">ALT</span></span>                    | <span data-ttu-id="0571a-233">Activa y desactiva el modo de barra de menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-233">Toggles in and out of menu bar mode.</span></span>                                                                                                                                                                                                     |
| <span data-ttu-id="0571a-234">ALT+Barra espaciadora</span><span class="sxs-lookup"><span data-stu-id="0571a-234">ALT+SPACEBAR</span></span>           | <span data-ttu-id="0571a-235">Muestra el menú de la ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-235">Displays the window menu.</span></span>                                                                                                                                                                                                                |
| <span data-ttu-id="0571a-236">ENTRAR</span><span class="sxs-lookup"><span data-stu-id="0571a-236">ENTER</span></span>                  | <span data-ttu-id="0571a-237">Activa un menú y selecciona el primer elemento de menú si un elemento tiene un menú asociado.</span><span class="sxs-lookup"><span data-stu-id="0571a-237">Activates a menu and selects the first menu item if an item has a menu associated with it.</span></span> <span data-ttu-id="0571a-238">De lo contrario, esta pulsación de tecla elige el elemento como si el usuario suelta el botón del mouse mientras se selecciona el elemento.</span><span class="sxs-lookup"><span data-stu-id="0571a-238">Otherwise, this keystroke chooses the item as if the user released the mouse button while the item was selected.</span></span>                              |
| <span data-ttu-id="0571a-239">ESC</span><span class="sxs-lookup"><span data-stu-id="0571a-239">ESC</span></span>                    | <span data-ttu-id="0571a-240">Sale del modo de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-240">Exits menu mode.</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="0571a-241">FLECHA IZQUIERDA</span><span class="sxs-lookup"><span data-stu-id="0571a-241">LEFT ARROW</span></span>             | <span data-ttu-id="0571a-242">Se desplaza al elemento de menú de nivel superior anterior.</span><span class="sxs-lookup"><span data-stu-id="0571a-242">Cycles to the previous top-level menu item.</span></span> <span data-ttu-id="0571a-243">Los elementos de menú de nivel superior incluyen los nombres de menú y el menú ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-243">Top-level menu items include menu names and the window menu.</span></span> <span data-ttu-id="0571a-244">Si el elemento seleccionado está en un menú, se selecciona la columna anterior en el menú o se selecciona el elemento de menú de nivel superior anterior.</span><span class="sxs-lookup"><span data-stu-id="0571a-244">If the selected item is in a menu, the previous column in the menu is selected or the previous top-level menu item is selected.</span></span> |
| <span data-ttu-id="0571a-245">FLECHA DERECHA</span><span class="sxs-lookup"><span data-stu-id="0571a-245">RIGHT ARROW</span></span>            | <span data-ttu-id="0571a-246">Funciona como la tecla de flecha izquierda, excepto en la dirección opuesta.</span><span class="sxs-lookup"><span data-stu-id="0571a-246">Works like the LEFT ARROW key, except in the opposite direction.</span></span> <span data-ttu-id="0571a-247">En los menús, esta pulsación de tecla avanza una columna; Cuando el elemento seleccionado actualmente está en la columna de la derecha, se selecciona el menú siguiente.</span><span class="sxs-lookup"><span data-stu-id="0571a-247">In menus, this keystroke moves forward one column; when the currently selected item is in the far-right column, the next menu is selected.</span></span>                              |
| <span data-ttu-id="0571a-248">FLECHAS arriba y abajo</span><span class="sxs-lookup"><span data-stu-id="0571a-248">UP or DOWN ARROWS</span></span>      | <span data-ttu-id="0571a-249">Activa un menú cuando se presiona en el nombre de un menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-249">Activates a menu when pressed in a menu name.</span></span> <span data-ttu-id="0571a-250">Cuando se presiona en un menú, la tecla de flecha arriba selecciona el elemento anterior; la pulsación de tecla flecha abajo selecciona el elemento siguiente.</span><span class="sxs-lookup"><span data-stu-id="0571a-250">When pressed in a menu, the UP ARROW keystroke selects the previous item; the DOWN ARROW keystroke selects the next item.</span></span>                                                                  |



 

### <a name="menu-access-keys"></a><span data-ttu-id="0571a-251">Teclas de acceso de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-251">Menu Access Keys</span></span>

<span data-ttu-id="0571a-252">La interfaz de teclado estándar para los menús se puede mejorar agregando teclas de acceso (mnemónicos) a los elementos de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-252">The standard keyboard interface for menus can be enhanced by adding access keys (mnemonics) to menu items.</span></span> <span data-ttu-id="0571a-253">Una tecla de acceso es una letra subrayada en el texto de un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-253">An access key is an underlined letter in the text of a menu item.</span></span> <span data-ttu-id="0571a-254">Cuando un menú está activo, el usuario puede seleccionar un elemento de menú presionando la tecla correspondiente a la letra subrayada del elemento.</span><span class="sxs-lookup"><span data-stu-id="0571a-254">When a menu is active, the user can select a menu item by pressing the key that corresponds to the item's underlined letter.</span></span> <span data-ttu-id="0571a-255">El usuario hace que la barra de menús esté activa presionando la tecla ALT para resaltar el primer elemento en la barra de menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-255">The user makes the menu bar active by pressing the ALT key to highlight the first item on the menu bar.</span></span> <span data-ttu-id="0571a-256">Un menú está activo cuando se muestra.</span><span class="sxs-lookup"><span data-stu-id="0571a-256">A menu is active when it is displayed.</span></span>

<span data-ttu-id="0571a-257">Para crear una tecla de acceso para un elemento de menú, anteponga un signo de y comercial a cualquier carácter de la cadena de texto del elemento.</span><span class="sxs-lookup"><span data-stu-id="0571a-257">To create an access key for a menu item, precede any character in the item's text string with an ampersand.</span></span> <span data-ttu-id="0571a-258">Por ejemplo, la cadena de texto "&Move" hace que el sistema subraye la letra "M".</span><span class="sxs-lookup"><span data-stu-id="0571a-258">For example, the text string "&Move" causes the system to underline the letter "M".</span></span>

### <a name="menu-shortcut-keys"></a><span data-ttu-id="0571a-259">Teclas de método abreviado de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-259">Menu Shortcut Keys</span></span>

<span data-ttu-id="0571a-260">Además de tener una tecla de acceso, un elemento de menú puede tener una tecla de método abreviado asociada.</span><span class="sxs-lookup"><span data-stu-id="0571a-260">In addition to having an access key, a menu item can have a shortcut key associated with it.</span></span> <span data-ttu-id="0571a-261">Una tecla de método abreviado es diferente de una tecla de acceso, ya que el menú no tiene que estar activo para que funcione la tecla de método abreviado.</span><span class="sxs-lookup"><span data-stu-id="0571a-261">A shortcut key is different from an access key, because the menu does not have to be active for the shortcut key to work.</span></span> <span data-ttu-id="0571a-262">Además, una clave de acceso *siempre* está asociada a un elemento de menú, mientras que una tecla de método abreviado *suele* ser (pero no tiene que estar) asociada con un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-262">Also, an access key is *always* associated with a menu item, while an shortcut key is *usually* (but does not have to be) associated with a menu item.</span></span>

<span data-ttu-id="0571a-263">El texto que identifica la tecla de método abreviado se agrega a la cadena de texto del elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-263">Text that identifies the shortcut key is added to the menu-item text string.</span></span> <span data-ttu-id="0571a-264">El texto de acceso directo aparece a la derecha del nombre del elemento de menú, después de una barra diagonal inversa y un carácter de tabulación ( \\ t).</span><span class="sxs-lookup"><span data-stu-id="0571a-264">The shortcut text appears to the right of the menu item name, after a backslash and tab character (\\t).</span></span> <span data-ttu-id="0571a-265">Por ejemplo, "&Close \\ tAlt + F4" representa un comando CLOSE con la combinación de teclas Alt + F4 como tecla de método abreviado y con la letra "C" como su clave de acceso.</span><span class="sxs-lookup"><span data-stu-id="0571a-265">For example, "&Close\\tAlt+F4" represents a Close command with the ALT+F4 key combination as its shortcut key and with the letter "C" as its access key.</span></span> <span data-ttu-id="0571a-266">Para obtener más información, consulte [aceleradores de teclado](keyboard-accelerators.md).</span><span class="sxs-lookup"><span data-stu-id="0571a-266">For more information, see [Keyboard Accelerators](keyboard-accelerators.md).</span></span>

## <a name="menu-creation"></a><span data-ttu-id="0571a-267">Creación de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-267">Menu Creation</span></span>

<span data-ttu-id="0571a-268">Puede crear un menú mediante una plantilla de menú o funciones de creación de menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-268">You can create a menu using either a menu template or menu creation functions.</span></span> <span data-ttu-id="0571a-269">Las plantillas de menú se suelen definir como recursos.</span><span class="sxs-lookup"><span data-stu-id="0571a-269">Menu templates are typically defined as resources.</span></span> <span data-ttu-id="0571a-270">Los recursos de la plantilla de menú se pueden cargar explícitamente o asignar como menú predeterminado para una clase de ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-270">Menu-template resources can be loaded explicitly or assigned as the default menu for a window class.</span></span> <span data-ttu-id="0571a-271">También puede crear recursos de plantilla de menú dinámicamente en la memoria.</span><span class="sxs-lookup"><span data-stu-id="0571a-271">You can also create menu-template resources dynamically in memory.</span></span>

<span data-ttu-id="0571a-272">En los temas siguientes se describe la creación de menús en detalle:</span><span class="sxs-lookup"><span data-stu-id="0571a-272">The following topics describe menu creation in detail:</span></span>

-   [<span data-ttu-id="0571a-273">Recursos de plantilla de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-273">Menu Template Resources</span></span>](#menu-template-resources)
-   [<span data-ttu-id="0571a-274">Plantilla de menú en memoria</span><span class="sxs-lookup"><span data-stu-id="0571a-274">Menu Template in Memory</span></span>](#menu-template-in-memory)
-   [<span data-ttu-id="0571a-275">Controladores de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-275">Menu Handles</span></span>](#menu-handles)
-   [<span data-ttu-id="0571a-276">Funciones de creación de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-276">Menu Creation Functions</span></span>](#menu-creation-functions)
-   [<span data-ttu-id="0571a-277">Pantalla de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-277">Menu Display</span></span>](#menu-display)
-   [<span data-ttu-id="0571a-278">Menús de clase de ventana</span><span class="sxs-lookup"><span data-stu-id="0571a-278">Window Class Menus</span></span>](#window-class-menus)

### <a name="menu-template-resources"></a><span data-ttu-id="0571a-279">Recursos de plantilla de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-279">Menu Template Resources</span></span>

<span data-ttu-id="0571a-280">La mayoría de las aplicaciones crean menús mediante recursos de plantilla de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-280">Most applications create menus using menu-template resources.</span></span> <span data-ttu-id="0571a-281">Una *plantilla de menú* define un menú, incluidos los elementos de la barra de menús y todos los menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-281">A *menu template* defines a menu, including the items in the menu bar and all menus.</span></span> <span data-ttu-id="0571a-282">Para obtener información sobre cómo crear un recurso de plantilla de menú, vea la documentación que se incluye con las herramientas de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="0571a-282">For information about creating a menu-template resource, see the documentation included with your development tools.</span></span>

<span data-ttu-id="0571a-283">Después de crear un recurso de plantilla de menú y agregarlo al archivo ejecutable (. exe) de la aplicación, puede usar la función [**LoadMenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) para cargar el recurso en la memoria.</span><span class="sxs-lookup"><span data-stu-id="0571a-283">After you create a menu-template resource and add it to your application's executable (.exe) file, you can use the [**LoadMenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) function to load the resource into memory.</span></span> <span data-ttu-id="0571a-284">Esta función devuelve un identificador al menú, que puede asignar a una ventana mediante la función [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="0571a-284">This function returns a handle to the menu, which you can then assign to a window by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="0571a-285">Puede asignar un menú a cualquier ventana que no sea una ventana secundaria.</span><span class="sxs-lookup"><span data-stu-id="0571a-285">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="0571a-286">La implementación de menús como recursos facilita la localización de la aplicación para su uso en varios países o regiones.</span><span class="sxs-lookup"><span data-stu-id="0571a-286">Implementing menus as resources makes an application easier to localize for use in multiple countries/regions.</span></span> <span data-ttu-id="0571a-287">Solo se debe localizar el archivo de definición de recursos para cada idioma, no para el código fuente de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0571a-287">Only the resource-definition file needs to be localized for each language, not the application's source code.</span></span>

### <a name="menu-template-in-memory"></a><span data-ttu-id="0571a-288">Plantilla de menú en memoria</span><span class="sxs-lookup"><span data-stu-id="0571a-288">Menu Template in Memory</span></span>

<span data-ttu-id="0571a-289">Se puede crear un menú a partir de una plantilla de menú que se compila en tiempo de ejecución en la memoria.</span><span class="sxs-lookup"><span data-stu-id="0571a-289">A menu can be created from a menu template that is built in memory at run time.</span></span> <span data-ttu-id="0571a-290">Por ejemplo, una aplicación que permite a un usuario personalizar su menú podría crear una plantilla de menú en la memoria en función de las preferencias del usuario.</span><span class="sxs-lookup"><span data-stu-id="0571a-290">For example, an application that allows a user to customize its menu might create a menu template in memory based on the user's preferences.</span></span> <span data-ttu-id="0571a-291">A continuación, la aplicación podría guardar la plantilla en un archivo o en el registro para un uso futuro.</span><span class="sxs-lookup"><span data-stu-id="0571a-291">The application could then save the template in a file or in the registry for future use.</span></span> <span data-ttu-id="0571a-292">Para crear un menú a partir de una plantilla en memoria, use la función [**LoadMenuIndirect**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) .</span><span class="sxs-lookup"><span data-stu-id="0571a-292">To create a menu from a template in memory, use the [**LoadMenuIndirect**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) function.</span></span> <span data-ttu-id="0571a-293">Para obtener descripciones de los formatos de plantilla de menú, vea [recursos de plantilla de menú](#menu-template-resources).</span><span class="sxs-lookup"><span data-stu-id="0571a-293">For descriptions of menu-template formats, see [Menu Template Resources](#menu-template-resources).</span></span>

<span data-ttu-id="0571a-294">Una plantilla de menú estándar consta de una estructura [**MENUITEMTEMPLATEHEADER**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) seguida de una o más estructuras [**MENUITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) .</span><span class="sxs-lookup"><span data-stu-id="0571a-294">A standard menu template consists of a [**MENUITEMTEMPLATEHEADER**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) structure followed by one or more [**MENUITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) structures.</span></span>

<span data-ttu-id="0571a-295">Una plantilla de menú extendida está formada por una estructura de [**\_ \_ encabezado de plantilla de MENUEX**](menuex-template-header.md) , seguida de una o varias estructuras de [**\_ \_ elemento de plantilla MENUEX**](menuex-template-item.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-295">An extended menu template consists of a [**MENUEX\_TEMPLATE\_HEADER**](menuex-template-header.md) structure followed by one or more [**MENUEX\_TEMPLATE\_ITEM**](menuex-template-item.md) structures.</span></span>

### <a name="menu-handles"></a><span data-ttu-id="0571a-296">Controladores de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-296">Menu Handles</span></span>

<span data-ttu-id="0571a-297">El sistema genera un identificador único para cada menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-297">The system generates a unique handle to each menu.</span></span> <span data-ttu-id="0571a-298">Un *identificador de menú* es un valor del tipo **HMENU** .</span><span class="sxs-lookup"><span data-stu-id="0571a-298">A *menu handle* is a value of the **HMENU** type.</span></span> <span data-ttu-id="0571a-299">Una aplicación debe especificar un identificador de menú en muchas de las funciones de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-299">An application must specify a menu handle in many of the menu functions.</span></span> <span data-ttu-id="0571a-300">Recibirá un identificador de una barra de menús al crear el menú o cargar un recurso de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-300">You receive a handle to a menu bar when you create the menu or load a menu resource.</span></span>

<span data-ttu-id="0571a-301">Para recuperar un identificador de la barra de menús de un menú que se ha creado o cargado, utilice la función [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) .</span><span class="sxs-lookup"><span data-stu-id="0571a-301">To retrieve a handle to the menu bar for a menu that has been created or loaded, use the [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) function.</span></span> <span data-ttu-id="0571a-302">Para recuperar un identificador del submenú asociado a un elemento de menú, use la función [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) o [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="0571a-302">To retrieve a handle to the submenu associated with a menu item, use the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span> <span data-ttu-id="0571a-303">Para recuperar un identificador de un menú de ventana, utilice la función [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) .</span><span class="sxs-lookup"><span data-stu-id="0571a-303">To retrieve a handle to a window menu, use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function.</span></span>

### <a name="menu-creation-functions"></a><span data-ttu-id="0571a-304">Funciones de creación de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-304">Menu Creation Functions</span></span>

<span data-ttu-id="0571a-305">Con las funciones de creación de menús, puede crear menús en tiempo de ejecución o agregar elementos de menú a los menús existentes.</span><span class="sxs-lookup"><span data-stu-id="0571a-305">Using menu creation functions, you can create menus at run time or add menu items to existing menus.</span></span> <span data-ttu-id="0571a-306">Puede usar la función [**CreateMenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) para crear una barra de menús vacía y la función [**CreatePopupMenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) para crear un menú vacío.</span><span class="sxs-lookup"><span data-stu-id="0571a-306">You can use the [**CreateMenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) function to create an empty menu bar and the [**CreatePopupMenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) function to create an empty menu.</span></span> <span data-ttu-id="0571a-307">Puede guardar cierta información de configuración de un menú mediante la estructura [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) .</span><span class="sxs-lookup"><span data-stu-id="0571a-307">You can save certain settings information for a menu by using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="0571a-308">Para obtener o recuperar la configuración de un menú, use [**GetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) o [**SetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo).</span><span class="sxs-lookup"><span data-stu-id="0571a-308">To get or retrieve the settings of a menu, use [**GetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) or [**SetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo).</span></span> <span data-ttu-id="0571a-309">Para agregar elementos a un menú, utilice la función [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) .</span><span class="sxs-lookup"><span data-stu-id="0571a-309">To add items to a menu, use the [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) function.</span></span> <span data-ttu-id="0571a-310">Todavía se admiten las funciones anteriores [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) y [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) , pero se debe usar **InsertMenuItem** para las nuevas aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="0571a-310">The older [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) and [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) functions are still supported, but **InsertMenuItem** should be used for new applications.</span></span>

### <a name="menu-display"></a><span data-ttu-id="0571a-311">Pantalla de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-311">Menu Display</span></span>

<span data-ttu-id="0571a-312">Después de cargar o crear un menú, se debe asignar a una ventana para que el sistema pueda mostrarlo.</span><span class="sxs-lookup"><span data-stu-id="0571a-312">After a menu has been loaded or created, it must be assigned to a window before the system can display it.</span></span> <span data-ttu-id="0571a-313">Puede asignar un menú mediante la definición de un menú clase.</span><span class="sxs-lookup"><span data-stu-id="0571a-313">You can assign a menu by defining a class menu.</span></span> <span data-ttu-id="0571a-314">Para obtener más información, vea [menús de clase de ventana](#window-class-menus).</span><span class="sxs-lookup"><span data-stu-id="0571a-314">For more information, see [Window Class Menus](#window-class-menus).</span></span> <span data-ttu-id="0571a-315">También puede asignar un menú a una ventana si especifica un identificador para el menú como el parámetro *hMenu* de la función [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , o bien mediante una llamada a la función [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="0571a-315">You can also assign a menu to a window by specifying a handle to the menu as the *hMenu* parameter of the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, or by calling the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span>

<span data-ttu-id="0571a-316">Para mostrar un menú contextual, use la función [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) .</span><span class="sxs-lookup"><span data-stu-id="0571a-316">To display a shortcut menu use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span> <span data-ttu-id="0571a-317">Los menús contextuales, también denominados menús emergentes flotantes o menús contextuales, se muestran normalmente cuando se procesa el mensaje de [**\_ CONTEXTMENU de WM**](wm-contextmenu.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-317">Shortcut menus, also called floating pop-up menus or context menus, are typically displayed when the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message is processed.</span></span>

<span data-ttu-id="0571a-318">Puede asignar un menú a cualquier ventana que no sea una ventana secundaria.</span><span class="sxs-lookup"><span data-stu-id="0571a-318">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="0571a-319">Todavía se admite la función [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) anterior, pero las nuevas aplicaciones deben usar la función [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) .</span><span class="sxs-lookup"><span data-stu-id="0571a-319">The older [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) function is still supported, but new applications should use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span>

### <a name="window-class-menus"></a><span data-ttu-id="0571a-320">Menús de clase de ventana</span><span class="sxs-lookup"><span data-stu-id="0571a-320">Window Class Menus</span></span>

<span data-ttu-id="0571a-321">Puede especificar un menú predeterminado, denominado menú de *clase,* al registrar una clase de ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-321">You can specify a default menu, called a *class menu,* when you register a window class.</span></span> <span data-ttu-id="0571a-322">Para ello, asigne el nombre del recurso de plantilla de menú al miembro **lpszMenuName** de la estructura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) utilizada para registrar la clase.</span><span class="sxs-lookup"><span data-stu-id="0571a-322">To do so, you assign the name of the menu-template resource to the **lpszMenuName** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure used to register the class.</span></span>

<span data-ttu-id="0571a-323">De forma predeterminada, a cada ventana se le asigna el menú clase para su clase de ventana, por lo que no es necesario cargar explícitamente el menú y asignarlo a cada ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-323">By default, every window is assigned the class menu for its window class so you do not need to explicitly load the menu and assign it to each window.</span></span> <span data-ttu-id="0571a-324">Puede invalidar el menú clase especificando un identificador de menú diferente en una llamada a la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="0571a-324">You can override the class menu by specifying a different menu handle in a call to the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="0571a-325">También puede cambiar el menú de una ventana una vez creado mediante la función [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="0571a-325">You can also change a window's menu after it is created by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="0571a-326">Para obtener más información, vea [clases de ventana](/windows/desktop/winmsg/window-classes).</span><span class="sxs-lookup"><span data-stu-id="0571a-326">For more information, see [Window Classes](/windows/desktop/winmsg/window-classes).</span></span>

## <a name="menu-items"></a><span data-ttu-id="0571a-327">Elementos de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-327">Menu Items</span></span>

<span data-ttu-id="0571a-328">En los temas siguientes se describe lo que hace el sistema cuando el usuario elige un elemento de menú y las maneras en que una aplicación puede controlar la apariencia y la funcionalidad de un elemento:</span><span class="sxs-lookup"><span data-stu-id="0571a-328">The following topics discuss what the system does when the user chooses a menu item, and the ways an application can control an item's appearance and functionality:</span></span>

-   [<span data-ttu-id="0571a-329">Elementos de comando y elementos que abren submenús</span><span class="sxs-lookup"><span data-stu-id="0571a-329">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
-   [<span data-ttu-id="0571a-330">Identificador de elemento de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-330">Menu-Item Identifier</span></span>](#menu-item-identifier)
-   [<span data-ttu-id="0571a-331">Posición de elemento de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-331">Menu-Item Position</span></span>](#menu-item-position)
-   [<span data-ttu-id="0571a-332">Obtener acceso a los elementos de menú mediante programación</span><span class="sxs-lookup"><span data-stu-id="0571a-332">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
-   [<span data-ttu-id="0571a-333">Elementos de menú predeterminados</span><span class="sxs-lookup"><span data-stu-id="0571a-333">Default Menu Items</span></span>](#default-menu-items)
-   [<span data-ttu-id="0571a-334">Elementos de menú seleccionados y borrados</span><span class="sxs-lookup"><span data-stu-id="0571a-334">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
-   [<span data-ttu-id="0571a-335">Elementos de menú habilitados, atenuados y deshabilitados</span><span class="sxs-lookup"><span data-stu-id="0571a-335">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
-   [<span data-ttu-id="0571a-336">Elementos de menú resaltados</span><span class="sxs-lookup"><span data-stu-id="0571a-336">Highlighted Menu Items</span></span>](#highlighted-menu-items)
-   [<span data-ttu-id="0571a-337">Elementos de menú dibujados por el propietario</span><span class="sxs-lookup"><span data-stu-id="0571a-337">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
-   [<span data-ttu-id="0571a-338">Separadores de elementos de menú y saltos de línea</span><span class="sxs-lookup"><span data-stu-id="0571a-338">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)

### <a name="command-items-and-items-that-open-submenus"></a><span data-ttu-id="0571a-339">Elementos de comando y elementos que abren submenús</span><span class="sxs-lookup"><span data-stu-id="0571a-339">Command Items and Items that Open Submenus</span></span>

<span data-ttu-id="0571a-340">Cuando el usuario elige un elemento de comando, el sistema envía un mensaje de comando a la ventana que posee el menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-340">When the user chooses a command item, the system sends a command message to the window that owns the menu.</span></span> <span data-ttu-id="0571a-341">Si el elemento de comando está en el menú ventana, el sistema envía el mensaje de [**\_ SYSCOMMAND de WM**](wm-syscommand.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-341">If the command item is on the window menu, the system sends the [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="0571a-342">De lo contrario, envía el mensaje del [**\_ comando de WM**](wm-command.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-342">Otherwise, it sends the [**WM\_COMMAND**](wm-command.md) message.</span></span>

<span data-ttu-id="0571a-343">Asociado a cada elemento de menú que abre un submenú es un identificador del submenú correspondiente.</span><span class="sxs-lookup"><span data-stu-id="0571a-343">Associated with each menu item that opens a submenu is a handle to the corresponding submenu.</span></span> <span data-ttu-id="0571a-344">Cuando el usuario apunta a este tipo de elemento, el sistema abre el submenú.</span><span class="sxs-lookup"><span data-stu-id="0571a-344">When the user points to such an item, the system opens the submenu.</span></span> <span data-ttu-id="0571a-345">No se envía ningún mensaje de comando a la ventana propietaria.</span><span class="sxs-lookup"><span data-stu-id="0571a-345">No command message is sent to the owner window.</span></span> <span data-ttu-id="0571a-346">Sin embargo, el sistema envía un mensaje de [**WM \_ INITMENUPOPUP**](wm-initmenupopup.md) a la ventana propietaria antes de mostrar el submenú.</span><span class="sxs-lookup"><span data-stu-id="0571a-346">However, the system sends a [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message to the owner window before displaying the submenu.</span></span> <span data-ttu-id="0571a-347">Puede obtener un identificador para el submenú asociado a un elemento mediante la función [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) o [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="0571a-347">You can get a handle to the submenu associated with an item by using the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="0571a-348">Normalmente, una barra de menús contiene nombres de menús, pero también puede contener elementos de comandos.</span><span class="sxs-lookup"><span data-stu-id="0571a-348">A menu bar typically contains menu names, but it can also contain command items.</span></span> <span data-ttu-id="0571a-349">Un submenú normalmente contiene elementos de comando, pero también puede contener elementos que abren submenús anidados.</span><span class="sxs-lookup"><span data-stu-id="0571a-349">A submenu typically contains command items, but it can also contain items that open nested submenus.</span></span> <span data-ttu-id="0571a-350">Al agregar estos elementos a los submenús, puede anidar los menús a cualquier profundidad.</span><span class="sxs-lookup"><span data-stu-id="0571a-350">By adding such items to submenus, you can nest menus to any depth.</span></span> <span data-ttu-id="0571a-351">Para proporcionar una indicación visual al usuario, el sistema muestra automáticamente una flecha pequeña situada a la derecha del texto de un elemento de menú que abre un submenú.</span><span class="sxs-lookup"><span data-stu-id="0571a-351">To provide a visual cue for the user, the system automatically displays a small arrow to the right of the text of a menu item that opens a submenu.</span></span>

### <a name="menu-item-identifier"></a><span data-ttu-id="0571a-352">Identificador de Menu-Item</span><span class="sxs-lookup"><span data-stu-id="0571a-352">Menu-Item Identifier</span></span>

<span data-ttu-id="0571a-353">Asociado a cada elemento de menú es un entero único definido por la aplicación, denominado *identificador de elemento de menú*.</span><span class="sxs-lookup"><span data-stu-id="0571a-353">Associated with each menu item is a unique, application-defined integer, called a *menu-item identifier*.</span></span> <span data-ttu-id="0571a-354">Cuando el usuario elige un elemento de comando en un menú, el sistema envía el identificador del elemento a la ventana propietaria como parte de un mensaje [**de \_ comando de WM**](wm-command.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-354">When the user chooses a command item from a menu, the system sends the item's identifier to the owner window as part of a [**WM\_COMMAND**](wm-command.md) message.</span></span> <span data-ttu-id="0571a-355">El procedimiento de ventana examina el identificador para determinar el origen del mensaje y procesa el mensaje en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="0571a-355">The window procedure examines the identifier to determine the source of the message, and processes the message accordingly.</span></span> <span data-ttu-id="0571a-356">Además, puede especificar un elemento de menú mediante su identificador al llamar a funciones de menú; por ejemplo, para habilitar o deshabilitar un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-356">In addition, you can specify a menu item using its identifier when you call menu functions; for example, to enable or disable a menu item.</span></span>

<span data-ttu-id="0571a-357">Los elementos de menú que abren submenús tienen identificadores del mismo modo que los elementos de comando.</span><span class="sxs-lookup"><span data-stu-id="0571a-357">Menu items that open submenus have identifiers just as command items do.</span></span> <span data-ttu-id="0571a-358">Sin embargo, el sistema no envía un mensaje de comando cuando se selecciona un elemento de este tipo en un menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-358">However, the system does not send a command message when such an item is selected from a menu.</span></span> <span data-ttu-id="0571a-359">En su lugar, el sistema abre el submenú asociado al elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-359">Instead, the system opens the submenu associated with the menu item.</span></span>

<span data-ttu-id="0571a-360">Para recuperar el identificador del elemento de menú en una posición especificada, utilice la función [**GetMenuItemID**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) o [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="0571a-360">To retrieve the identifier of the menu item at a specified position, use the [**GetMenuItemID**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

### <a name="menu-item-position"></a><span data-ttu-id="0571a-361">Posición Menu-Item</span><span class="sxs-lookup"><span data-stu-id="0571a-361">Menu-Item Position</span></span>

<span data-ttu-id="0571a-362">Además de tener un identificador único, cada elemento de menú de una barra de menús o menú tiene un valor de posición único.</span><span class="sxs-lookup"><span data-stu-id="0571a-362">In addition to having a unique identifier, each menu item in a menu bar or menu has a unique position value.</span></span> <span data-ttu-id="0571a-363">El elemento situado más a la izquierda en una barra de menús, o el elemento superior de un menú, tiene la posición cero.</span><span class="sxs-lookup"><span data-stu-id="0571a-363">The leftmost item in a menu bar, or the top item in a menu, has position zero.</span></span> <span data-ttu-id="0571a-364">El valor de posición se incrementa para los elementos de menú posteriores.</span><span class="sxs-lookup"><span data-stu-id="0571a-364">The position value is incremented for subsequent menu items.</span></span> <span data-ttu-id="0571a-365">El sistema asigna un valor de posición a todos los elementos de un menú, incluidos los separadores.</span><span class="sxs-lookup"><span data-stu-id="0571a-365">The system assigns a position value to all items in a menu, including separators.</span></span> <span data-ttu-id="0571a-366">En la ilustración siguiente se muestran los valores de posición de los elementos de una barra de menús y de un menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-366">The following illustration shows the position values of items in a menu bar and in a menu.</span></span>

![barra de menús y menú](images/csemn-01.png)

<span data-ttu-id="0571a-368">Al llamar a una función de menú que modifica o recupera información sobre un elemento de menú concreto, puede especificar el elemento con su identificador o su posición.</span><span class="sxs-lookup"><span data-stu-id="0571a-368">When calling a menu function that modifies or retrieves information about a specific menu item, you can specify the item using either its identifier or its position.</span></span> <span data-ttu-id="0571a-369">Para obtener más información, vea la siguiente sección.</span><span class="sxs-lookup"><span data-stu-id="0571a-369">For more information, see the next section.</span></span>

### <a name="accessing-menu-items-programmatically"></a><span data-ttu-id="0571a-370">Obtener acceso a los elementos de menú mediante programación</span><span class="sxs-lookup"><span data-stu-id="0571a-370">Accessing Menu Items Programmatically</span></span>

<span data-ttu-id="0571a-371">La mayoría de las funciones de menú permiten especificar un elemento de menú por posición o por comando.</span><span class="sxs-lookup"><span data-stu-id="0571a-371">Most menu functions allow you to specify a menu item either by position or by command.</span></span> <span data-ttu-id="0571a-372">Algunas funciones usan las marcas **MF \_ BYPOSITION** y **MF \_ BYCOMMAND** para indicar el algoritmo de búsqueda; otros tienen un parámetro *fByPosition* explícito.</span><span class="sxs-lookup"><span data-stu-id="0571a-372">Some functions use the **MF\_BYPOSITION** and **MF\_BYCOMMAND** flags to indicate the search algorithm; others have an explicit *fByPosition* parameter.</span></span> <span data-ttu-id="0571a-373">Si especifica el elemento de menú por posición, el número de elemento es un índice basado en cero en el menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-373">If you specify the menu item by position, the item number is a zero-based index into the menu.</span></span> <span data-ttu-id="0571a-374">Si especifica el elemento de menú por comando, se busca en el menú y en sus submenús un elemento cuyo identificador de menú sea igual al número de elemento proporcionado.</span><span class="sxs-lookup"><span data-stu-id="0571a-374">If you specify the menu item by command, the menu and its submenus are searched for an item whose menu identifier equals the item number provided.</span></span> <span data-ttu-id="0571a-375">Si más de un elemento de la jerarquía de menús coincide con el número de elemento, no se especifica cuál se usa.</span><span class="sxs-lookup"><span data-stu-id="0571a-375">If more than one item in the menu hierarchy matches the item number, it is unspecified which one is used.</span></span> <span data-ttu-id="0571a-376">Si los menús contienen identificadores de menú duplicados, debe usar operaciones de menú basadas en posición para evitar esta ambigüedad.</span><span class="sxs-lookup"><span data-stu-id="0571a-376">If your menus contain duplicate menu identifiers, you should use position-based menu operations to avoid this ambiguity.</span></span>

### <a name="default-menu-items"></a><span data-ttu-id="0571a-377">Elementos de menú predeterminados</span><span class="sxs-lookup"><span data-stu-id="0571a-377">Default Menu Items</span></span>

<span data-ttu-id="0571a-378">Un submenú puede contener un elemento de menú predeterminado.</span><span class="sxs-lookup"><span data-stu-id="0571a-378">A submenu can contain one default menu item.</span></span> <span data-ttu-id="0571a-379">Cuando el usuario abre un submenú haciendo doble clic en, el sistema envía un mensaje de comando a la ventana propietaria del menú y cierra el menú como si se hubiese elegido el elemento de comando predeterminado.</span><span class="sxs-lookup"><span data-stu-id="0571a-379">When the user opens a submenu by double-clicking, the system sends a command message to the menu's owner window and closes the menu as if the default command item had been chosen.</span></span> <span data-ttu-id="0571a-380">Si no hay ningún elemento de comando predeterminado, el submenú permanece abierto.</span><span class="sxs-lookup"><span data-stu-id="0571a-380">If there is no default command item, the submenu remains open.</span></span> <span data-ttu-id="0571a-381">Para recuperar y establecer el elemento predeterminado para un submenú, use las funciones [**GetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) y [**SetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) .</span><span class="sxs-lookup"><span data-stu-id="0571a-381">To retrieve and set the default item for a submenu, use the [**GetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) and [**SetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) functions.</span></span>

### <a name="selected-and-clear-menu-items"></a><span data-ttu-id="0571a-382">Elementos de menú seleccionados y borrados</span><span class="sxs-lookup"><span data-stu-id="0571a-382">Selected and Clear Menu Items</span></span>

<span data-ttu-id="0571a-383">Un elemento de menú puede estar seleccionado o desactivado.</span><span class="sxs-lookup"><span data-stu-id="0571a-383">A menu item can be either selected or clear.</span></span> <span data-ttu-id="0571a-384">El sistema muestra un mapa de bits junto a los elementos de menú seleccionados para indicar su estado seleccionado.</span><span class="sxs-lookup"><span data-stu-id="0571a-384">The system displays a bitmap next to selected menu items to indicate their selected state.</span></span> <span data-ttu-id="0571a-385">El sistema no muestra un mapa de bits junto a borrar elementos, a menos que se especifique un mapa de bits "Clear" definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0571a-385">The system does not display a bitmap next to clear items, unless an application-defined "clear" bitmap is specified.</span></span> <span data-ttu-id="0571a-386">Solo se pueden seleccionar los elementos de menú de un menú; los elementos de una barra de menús no se pueden seleccionar.</span><span class="sxs-lookup"><span data-stu-id="0571a-386">Only menu items in a menu can be selected; items in a menu bar cannot be selected.</span></span>

<span data-ttu-id="0571a-387">Las aplicaciones suelen activar o desactivar un elemento de menú para indicar si una opción está en vigor.</span><span class="sxs-lookup"><span data-stu-id="0571a-387">Applications typically check or clear a menu item to indicate whether an option is in effect.</span></span> <span data-ttu-id="0571a-388">Por ejemplo, supongamos que una aplicación tiene una barra de herramientas que el usuario puede mostrar u ocultar mediante un comando de la **barra de herramientas** en un menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-388">For example, suppose an application has a toolbar that the user can show or hide by using a **Toolbar** command on a menu.</span></span> <span data-ttu-id="0571a-389">Cuando se oculta la barra de herramientas, el elemento de menú de la **barra de herramientas** está claro.</span><span class="sxs-lookup"><span data-stu-id="0571a-389">When the toolbar is hidden, the **Toolbar** menu item is clear.</span></span> <span data-ttu-id="0571a-390">Cuando el usuario elige el comando, la aplicación comprueba el elemento de menú y muestra la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="0571a-390">When the user chooses the command, the application checks the menu item and shows the toolbar.</span></span>

<span data-ttu-id="0571a-391">Un atributo de marca de verificación controla si un elemento de menú está seleccionado.</span><span class="sxs-lookup"><span data-stu-id="0571a-391">A check mark attribute controls whether a menu item is selected.</span></span> <span data-ttu-id="0571a-392">Puede establecer el atributo de la marca de verificación de un elemento de menú mediante la función [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) .</span><span class="sxs-lookup"><span data-stu-id="0571a-392">You can set a menu item's check mark attribute by using the [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) function.</span></span> <span data-ttu-id="0571a-393">Puede usar la función [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) para determinar si un elemento de menú está seleccionado o desactivado actualmente.</span><span class="sxs-lookup"><span data-stu-id="0571a-393">You can use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is currently selected or cleared.</span></span>

<span data-ttu-id="0571a-394">En lugar de [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) y [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate), puede usar las funciones [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) y [**SetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) para recuperar y establecer el estado de activación de un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-394">Instead of [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) and [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate), you can use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) and [**SetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) functions to retrieve and set the check state of a menu item.</span></span>

<span data-ttu-id="0571a-395">A veces, un grupo de elementos de menú corresponde a un conjunto de opciones mutuamente excluyentes.</span><span class="sxs-lookup"><span data-stu-id="0571a-395">Sometimes, a group of menu items corresponds to a set of mutually exclusive options.</span></span> <span data-ttu-id="0571a-396">En este caso, puede indicar la opción seleccionada mediante el uso de un elemento de menú de radio seleccionado (análogo a un control de botón de radio).</span><span class="sxs-lookup"><span data-stu-id="0571a-396">In this case, you can indicate the selected option by using a selected radio menu item (analogous to a radio button control).</span></span> <span data-ttu-id="0571a-397">Los elementos de radio seleccionados se muestran con un mapa de bits de viñeta en lugar de un mapa de bits de marca de verificación.</span><span class="sxs-lookup"><span data-stu-id="0571a-397">Selected radio items are displayed with a bullet bitmap instead of a check mark bitmap.</span></span> <span data-ttu-id="0571a-398">Para comprobar un elemento de menú y convertirlo en un elemento de radio, use la función [**CheckMenuRadioItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) .</span><span class="sxs-lookup"><span data-stu-id="0571a-398">To check a menu item and make it a radio item, use the [**CheckMenuRadioItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) function.</span></span>

<span data-ttu-id="0571a-399">De forma predeterminada, el sistema muestra una marca de verificación o un mapa de bits de viñeta junto a los elementos de menú seleccionados y ningún mapa de bits junto a elementos de menú desactivados.</span><span class="sxs-lookup"><span data-stu-id="0571a-399">By default, the system displays a check mark or bullet bitmap next to selected menu items and no bitmap next to cleared menu items.</span></span> <span data-ttu-id="0571a-400">Sin embargo, puede usar la función [**SetMenuItemBitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) para asociar mapas de bits seleccionados y desactivados definidos por la aplicación con un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-400">However, you can use the [**SetMenuItemBitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) function to associate application-defined selected and cleared bitmaps with a menu item.</span></span> <span data-ttu-id="0571a-401">Después, el sistema usa los mapas de bits especificados para indicar el estado seleccionado o desactivado del elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-401">The system then uses the specified bitmaps to indicate the menu item's selected or cleared state.</span></span>

<span data-ttu-id="0571a-402">Los mapas de bits definidos por la aplicación asociados a un elemento de menú deben tener el mismo tamaño que el mapa de bits de la marca de verificación predeterminada; las dimensiones pueden variar en función de la resolución de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="0571a-402">Application-defined bitmaps associated with a menu item must be the same size as the default check mark bitmap, the dimensions of which may vary depending on screen resolution.</span></span> <span data-ttu-id="0571a-403">Para recuperar las dimensiones correctas, utilice la función [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .</span><span class="sxs-lookup"><span data-stu-id="0571a-403">To retrieve the correct dimensions, use the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span> <span data-ttu-id="0571a-404">Puede crear varios recursos de mapa de bits para diferentes resoluciones de pantalla. Cree un recurso de mapa de bits y escale, si es necesario. o bien, cree un mapa de bits en tiempo de ejecución y dibuje una imagen en él.</span><span class="sxs-lookup"><span data-stu-id="0571a-404">You can create multiple bitmap resources for different screen resolutions; create one bitmap resource and scale it, if necessary; or create a bitmap at run time and draw an image in it.</span></span> <span data-ttu-id="0571a-405">Los mapas de bits pueden ser monocromáticos o de color.</span><span class="sxs-lookup"><span data-stu-id="0571a-405">The bitmaps may be either monochrome or color.</span></span> <span data-ttu-id="0571a-406">Sin embargo, dado que los elementos de menú se invierten cuando están resaltados, es posible que no se deseen los mapas de bits de colores invertidos.</span><span class="sxs-lookup"><span data-stu-id="0571a-406">However, because menu items are inverted when highlighted, the appearance of certain inverted color bitmaps may be undesirable.</span></span> <span data-ttu-id="0571a-407">Para obtener más información, vea [mapas de bits](/windows/desktop/gdi/bitmaps).</span><span class="sxs-lookup"><span data-stu-id="0571a-407">For more information, see [Bitmaps](/windows/desktop/gdi/bitmaps).</span></span>

### <a name="enabled-grayed-and-disabled-menu-items"></a><span data-ttu-id="0571a-408">Elementos de menú habilitados, atenuados y deshabilitados</span><span class="sxs-lookup"><span data-stu-id="0571a-408">Enabled, Grayed, and Disabled Menu Items</span></span>

<span data-ttu-id="0571a-409">Un elemento de menú puede estar habilitado, atenuado o deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="0571a-409">A menu item can be enabled, grayed, or disabled.</span></span> <span data-ttu-id="0571a-410">De forma predeterminada, se habilita un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-410">By default, a menu item is enabled.</span></span> <span data-ttu-id="0571a-411">Cuando el usuario elige un elemento de menú habilitado, el sistema envía un mensaje de comando a la ventana propietaria o muestra el submenú correspondiente, dependiendo del tipo de elemento de menú que sea.</span><span class="sxs-lookup"><span data-stu-id="0571a-411">When the user chooses an enabled menu item, the system sends a command message to the owner window or displays the corresponding submenu, depending on what kind of menu item it is.</span></span>

<span data-ttu-id="0571a-412">Cuando los elementos de menú no están disponibles para el usuario, deben estar atenuados o deshabilitados.</span><span class="sxs-lookup"><span data-stu-id="0571a-412">When menu items are not available to the user, they should be grayed or disabled.</span></span> <span data-ttu-id="0571a-413">Los elementos de menú atenuados y deshabilitados no se pueden elegir.</span><span class="sxs-lookup"><span data-stu-id="0571a-413">Grayed and disabled menu items cannot be chosen.</span></span> <span data-ttu-id="0571a-414">Un elemento deshabilitado tiene el mismo aspecto que un elemento habilitado.</span><span class="sxs-lookup"><span data-stu-id="0571a-414">A disabled item looks just like an enabled item.</span></span> <span data-ttu-id="0571a-415">Cuando el usuario hace clic en un elemento deshabilitado, el elemento no está seleccionado y no sucede nada.</span><span class="sxs-lookup"><span data-stu-id="0571a-415">When the user clicks on a disabled item, the item is not selected, and nothing happens.</span></span> <span data-ttu-id="0571a-416">Los elementos deshabilitados pueden ser útiles en, por ejemplo, un tutorial que presenta un menú que parece activo pero no.</span><span class="sxs-lookup"><span data-stu-id="0571a-416">Disabled items can be useful in, for example, a tutorial that presents a menu that looks active but isn't.</span></span>

<span data-ttu-id="0571a-417">Una aplicación atenúa un elemento de menú no disponible para proporcionar una indicación visual al usuario de que un comando no está disponible.</span><span class="sxs-lookup"><span data-stu-id="0571a-417">An application grays an unavailable menu item to provide a visual cue to the user that a command is not available.</span></span> <span data-ttu-id="0571a-418">Puede utilizar un elemento atenuado cuando una acción no sea adecuada (por ejemplo, puede atenuar el comando **Imprimir** en el menú **archivo** cuando el sistema no tenga una impresora instalada).</span><span class="sxs-lookup"><span data-stu-id="0571a-418">You can use a grayed item when an action is not appropriate (for example, you can gray the **Print** command in the **File** menu when the system does not have a printer installed).</span></span>

<span data-ttu-id="0571a-419">La función [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) habilita, atenúa o deshabilita un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-419">The [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) function enables, grays, or disables a menu item.</span></span> <span data-ttu-id="0571a-420">Para determinar si un elemento de menú está habilitado, atenuado o deshabilitado, use la función [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="0571a-420">To determine whether a menu item is enabled, grayed, or disabled, use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="0571a-421">En lugar de [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa), también puede usar la función [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) para determinar si un elemento de menú está habilitado, atenuado o deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="0571a-421">Instead of [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa), you can also use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is enabled, grayed, or disabled.</span></span>

### <a name="highlighted-menu-items"></a><span data-ttu-id="0571a-422">Elementos de menú resaltados</span><span class="sxs-lookup"><span data-stu-id="0571a-422">Highlighted Menu Items</span></span>

<span data-ttu-id="0571a-423">El sistema resalta automáticamente los elementos de menú en los menús cuando el usuario los selecciona.</span><span class="sxs-lookup"><span data-stu-id="0571a-423">The system automatically highlights menu items on menus as the user selects them.</span></span> <span data-ttu-id="0571a-424">Sin embargo, el resaltado se puede Agregar o quitar explícitamente desde un nombre de menú en la barra de menús mediante la función [**HiliteMenuItem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) .</span><span class="sxs-lookup"><span data-stu-id="0571a-424">However, highlighting can be explicitly added or removed from a menu name on the menu bar by using the [**HiliteMenuItem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) function.</span></span> <span data-ttu-id="0571a-425">Esta función no tiene ningún efecto en los elementos de menú de los menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-425">This function has no effect on menu items on menus.</span></span> <span data-ttu-id="0571a-426">Sin embargo, cuando se usa **HiliteMenuItem** para resaltar un nombre de menú, el nombre solo parece estar seleccionado.</span><span class="sxs-lookup"><span data-stu-id="0571a-426">When **HiliteMenuItem** is used to highlight a menu name, though, the name only appears to be selected.</span></span> <span data-ttu-id="0571a-427">Si el usuario presiona la tecla entrar, no se elige el elemento resaltado.</span><span class="sxs-lookup"><span data-stu-id="0571a-427">If the user presses the ENTER key, the highlighted item is not chosen.</span></span> <span data-ttu-id="0571a-428">Esta característica puede ser útil en, por ejemplo, una aplicación de entrenamiento que muestre el uso de menús.</span><span class="sxs-lookup"><span data-stu-id="0571a-428">This feature might be useful in, for example, a training application that demonstrates the use of menus.</span></span>

### <a name="owner-drawn-menu-items"></a><span data-ttu-id="0571a-429">Owner-Drawn elementos de menú</span><span class="sxs-lookup"><span data-stu-id="0571a-429">Owner-Drawn Menu Items</span></span>

<span data-ttu-id="0571a-430">Una aplicación puede controlar por completo la apariencia de un elemento de menú mediante un *elemento dibujado por el propietario*.</span><span class="sxs-lookup"><span data-stu-id="0571a-430">An application can completely control the appearance of a menu item by using an *owner-drawn item*.</span></span> <span data-ttu-id="0571a-431">Los elementos dibujados por el propietario requieren que una aplicación asuma la responsabilidad total del dibujo seleccionado (resaltado), seleccionado y borrado.</span><span class="sxs-lookup"><span data-stu-id="0571a-431">Owner-drawn items require an application to take total responsibility for drawing selected (highlighted), selected, and cleared states.</span></span> <span data-ttu-id="0571a-432">Por ejemplo, si una aplicación proporciona un menú fuente, podría dibujar cada elemento de menú mediante la fuente correspondiente; el elemento de Roman se dibujaría con Roman, el elemento de cursiva se dibujaría en cursiva, etc.</span><span class="sxs-lookup"><span data-stu-id="0571a-432">For example, if an application provided a font menu, it could draw each menu item by using the corresponding font; the item for Roman would be drawn with roman, the item for Italic would be drawn in italic, and so on.</span></span> <span data-ttu-id="0571a-433">Para obtener más información, vea [crear Owner-Drawn elementos de menú](using-menus.md).</span><span class="sxs-lookup"><span data-stu-id="0571a-433">For more information, see [Creating Owner-Drawn Menu Items](using-menus.md).</span></span>

### <a name="menu-item-separators-and-line-breaks"></a><span data-ttu-id="0571a-434">Separadores de elementos de menú y saltos de línea</span><span class="sxs-lookup"><span data-stu-id="0571a-434">Menu Item Separators and Line Breaks</span></span>

<span data-ttu-id="0571a-435">El sistema proporciona un tipo especial de elemento de menú, denominado *separador*, que aparece como una línea horizontal.</span><span class="sxs-lookup"><span data-stu-id="0571a-435">The system provides a special type of menu item, called a *separator*, that appears as a horizontal line.</span></span> <span data-ttu-id="0571a-436">Puede usar un separador para dividir un menú en grupos de elementos relacionados.</span><span class="sxs-lookup"><span data-stu-id="0571a-436">You can use a separator to divide a menu into groups of related items.</span></span> <span data-ttu-id="0571a-437">No se puede usar un separador en una barra de menús y el usuario no puede seleccionar un separador.</span><span class="sxs-lookup"><span data-stu-id="0571a-437">A separator cannot be used in a menu bar, and the user cannot select a separator.</span></span>

<span data-ttu-id="0571a-438">Cuando una barra de menús contiene más nombres de menús de los que caben en una línea, el sistema ajusta la barra de menús de forma automática a dos o más líneas.</span><span class="sxs-lookup"><span data-stu-id="0571a-438">When a menu bar contains more menu names than will fit on one line, the system wraps the menu bar by automatically breaking it into two or more lines.</span></span> <span data-ttu-id="0571a-439">Puede hacer que se produzca un salto de línea en un elemento específico de una barra de menús asignando la marca de tipo **\_ MENUBREAK de MFT** al elemento.</span><span class="sxs-lookup"><span data-stu-id="0571a-439">You can cause a line break to occur at a specific item on a menu bar by assigning the **MFT\_MENUBREAK** type flag to the item.</span></span> <span data-ttu-id="0571a-440">El sistema coloca el elemento y todos los elementos subsiguientes en una nueva línea.</span><span class="sxs-lookup"><span data-stu-id="0571a-440">The system places that item and all subsequent items on a new line.</span></span>

<span data-ttu-id="0571a-441">Cuando un menú contiene más elementos de los que caben en una columna, el menú se trunca.</span><span class="sxs-lookup"><span data-stu-id="0571a-441">When a menu contains more items than will fit in one column, the menu will be truncated.</span></span> <span data-ttu-id="0571a-442">Puede hacer que se produzca un salto de columna en un elemento específico de un menú asignando la marca **MFT \_ MENUBREAK** Type al elemento o usando la opción MENUBREAK en la instrucción [MenuItem](/windows/desktop/menurc/menuitem-statement) .</span><span class="sxs-lookup"><span data-stu-id="0571a-442">You can cause a column break to occur at a specific item in a menu by assigning the **MFT\_MENUBREAK** type flag to the item or using the MENUBREAK option in the [MENUITEM](/windows/desktop/menurc/menuitem-statement) statement.</span></span> <span data-ttu-id="0571a-443">El sistema coloca el elemento y todos los elementos subsiguientes en una nueva columna.</span><span class="sxs-lookup"><span data-stu-id="0571a-443">The system places that item and all subsequent items in a new column.</span></span> <span data-ttu-id="0571a-444">La marca **MFT \_ MENUBARBREAK** Type tiene el mismo efecto, salvo que aparece una línea vertical entre la nueva columna y la antigua.</span><span class="sxs-lookup"><span data-stu-id="0571a-444">The **MFT\_MENUBARBREAK** type flag has the same effect, except that a vertical line appears between the new column and the old.</span></span>

<span data-ttu-id="0571a-445">Si usa las funciones [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua)o [**ModifyMenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) para asignar saltos de línea, debe asignar las marcas de tipo **MF \_ MENUBREAK** o **MF \_ MENUBARBREAK**.</span><span class="sxs-lookup"><span data-stu-id="0571a-445">If you use the [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua), or [**ModifyMenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) functions to assign line breaks, you should assign the type flags **MF\_MENUBREAK** or **MF\_MENUBARBREAK**.</span></span>

## <a name="messages-used-with-menus"></a><span data-ttu-id="0571a-446">Mensajes usados con menús</span><span class="sxs-lookup"><span data-stu-id="0571a-446">Messages Used with Menus</span></span>

<span data-ttu-id="0571a-447">La actividad relacionada con el menú informes del sistema mediante el envío de mensajes al procedimiento de ventana de la ventana que posee el menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-447">The system reports menu-related activity by sending messages to the window procedure of the window that owns the menu.</span></span> <span data-ttu-id="0571a-448">El sistema envía una serie de mensajes cuando el usuario selecciona elementos en la barra de menús o hace clic con el botón secundario del mouse para mostrar un menú contextual.</span><span class="sxs-lookup"><span data-stu-id="0571a-448">The system sends a series of messages when the user selects items on the menu bar or clicks the right mouse button to display a shortcut menu.</span></span>

<span data-ttu-id="0571a-449">Cuando el usuario activa un elemento en la barra de menús, la ventana propietaria recibe primero un mensaje de [**\_ SYSCOMMAND de WM**](wm-syscommand.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-449">When the user activates an item on the menu bar, the owner window first receives a [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="0571a-450">Este mensaje incluye una marca que indica si el usuario activó el menú mediante el teclado (SC \_ KEYMENU) o el mouse (SC \_ MOUSEMENU).</span><span class="sxs-lookup"><span data-stu-id="0571a-450">This message includes a flag that indicates whether the user activated the menu by using the keyboard (SC\_KEYMENU) or the mouse (SC\_MOUSEMENU).</span></span> <span data-ttu-id="0571a-451">Para obtener más información, consulte [acceso mediante teclado a menús](#keyboard-access-to-menus).</span><span class="sxs-lookup"><span data-stu-id="0571a-451">For more information, see [Keyboard Access to Menus](#keyboard-access-to-menus).</span></span>

<span data-ttu-id="0571a-452">Después, antes de mostrar los menús, el sistema envía el mensaje de [**\_ INITMENU de WM**](wm-initmenu.md) al procedimiento de ventana para que una aplicación pueda modificar los menús antes de que el usuario los vea.</span><span class="sxs-lookup"><span data-stu-id="0571a-452">Next, before displaying any menus, the system sends the [**WM\_INITMENU**](wm-initmenu.md) message to the window procedure so that an application can modify the menus before the user sees them.</span></span> <span data-ttu-id="0571a-453">El sistema envía el mensaje de **\_ INITMENU de WM** solo una vez por cada activación de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-453">The system sends the **WM\_INITMENU** message only once per menu activation.</span></span>

<span data-ttu-id="0571a-454">Cuando el usuario apunta a un elemento de menú que abre un submenú, el sistema envía a la ventana propietaria el mensaje de [**WM \_ INITMENUPOPUP**](wm-initmenupopup.md) antes de mostrar el submenú.</span><span class="sxs-lookup"><span data-stu-id="0571a-454">When the user points to a menu item that opens a submenu, the system sends the owner window the [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message before displaying the submenu.</span></span> <span data-ttu-id="0571a-455">Este mensaje ofrece a la aplicación una oportunidad para modificar el submenú antes de que se muestre.</span><span class="sxs-lookup"><span data-stu-id="0571a-455">This message gives the application an opportunity to modify the submenu before it is displayed.</span></span>

<span data-ttu-id="0571a-456">Cada vez que el usuario mueve el resaltado de un elemento a otro, el sistema envía un mensaje de [**WM \_ MENUSELECT**](wm-menuselect.md) al procedimiento de ventana de la ventana propietaria del menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-456">Each time the user moves the highlighting from one item to another, the system sends a [**WM\_MENUSELECT**](wm-menuselect.md) message to the window procedure of the menu's owner window.</span></span> <span data-ttu-id="0571a-457">Este mensaje identifica el elemento de menú actualmente seleccionado.</span><span class="sxs-lookup"><span data-stu-id="0571a-457">This message identifies the currently selected menu item.</span></span> <span data-ttu-id="0571a-458">Muchas aplicaciones proporcionan un área de información en la parte inferior de sus ventanas principales y usan este mensaje para mostrar información adicional sobre el elemento de menú seleccionado.</span><span class="sxs-lookup"><span data-stu-id="0571a-458">Many applications provide an information area at the bottom of their main windows and use this message to display additional information about the selected menu item.</span></span>

<span data-ttu-id="0571a-459">Cuando el usuario elige un elemento de comando en un menú, el sistema envía un mensaje de [**\_ comando de WM**](wm-command.md) al procedimiento de ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-459">When the user chooses a command item from a menu, the system sends a [**WM\_COMMAND**](wm-command.md) message to the window procedure.</span></span> <span data-ttu-id="0571a-460">La palabra de orden inferior del parámetro *wParam* del mensaje de **\_ comando de WM** contiene el identificador del elemento elegido.</span><span class="sxs-lookup"><span data-stu-id="0571a-460">The low-order word of the **WM\_COMMAND** message's *wParam* parameter contains the identifier of the chosen item.</span></span> <span data-ttu-id="0571a-461">El procedimiento de ventana debe examinar el identificador y procesar el mensaje en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="0571a-461">The window procedure should examine the identifier and process the message accordingly.</span></span>

<span data-ttu-id="0571a-462">Puede guardar la información de un menú mediante la estructura [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) .</span><span class="sxs-lookup"><span data-stu-id="0571a-462">You can save information for a menu using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="0571a-463">Si el menú se define con un **MENUINFO**. valor **dwStyle** de mns \_ NOTIFYBYPOS, el sistema envía [**WM \_ MENUCOMMAND**](wm-menucommand.md) en lugar del [**\_ comando WM**](wm-command.md) cuando se selecciona un elemento.</span><span class="sxs-lookup"><span data-stu-id="0571a-463">If the menu is defined with a **MENUINFO**.**dwStyle** value of MNS\_NOTIFYBYPOS, the system sends [**WM\_MENUCOMMAND**](wm-menucommand.md) instead of the [**WM\_COMMAND**](wm-command.md) when an item is selected.</span></span> <span data-ttu-id="0571a-464">Esto permite tener acceso a la información de la estructura **MENUINFO** y también proporciona el índice del elemento seleccionado directamente.</span><span class="sxs-lookup"><span data-stu-id="0571a-464">This allows you to access the information in the **MENUINFO** structure and also provides the index of the selected item directly.</span></span>

<span data-ttu-id="0571a-465">No se puede tener acceso a todos los menús a través de la barra de menús de una ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-465">Not all menus are accessible through a window's menu bar.</span></span> <span data-ttu-id="0571a-466">Muchas aplicaciones muestran menús contextuales cuando el usuario hace clic con el botón secundario del mouse en una ubicación específica.</span><span class="sxs-lookup"><span data-stu-id="0571a-466">Many applications display shortcut menus when the user clicks the right mouse button at a specific location.</span></span> <span data-ttu-id="0571a-467">Dichas aplicaciones deben procesar el mensaje de [**\_ CONTEXTMENU de WM**](wm-contextmenu.md) y mostrar un menú contextual, si procede.</span><span class="sxs-lookup"><span data-stu-id="0571a-467">Such applications should process the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message and display a shortcut menu, if appropriate.</span></span> <span data-ttu-id="0571a-468">Si una aplicación no muestra un menú contextual, debe pasar el mensaje **de \_ CONTEXTMENU de WM** a la función [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) para el procesamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="0571a-468">If an application does not display a shortcut menu, it should pass the **WM\_CONTEXTMENU** message to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for default processing.</span></span>

<span data-ttu-id="0571a-469">El mensaje de [**\_ MENURBUTTONUP de WM**](wm-menurbuttonup.md) se envía cuando el usuario suelta el botón secundario del mouse mientras el cursor está en un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-469">The [**WM\_MENURBUTTONUP**](wm-menurbuttonup.md) message is sent when the user releases the right mouse button while the cursor is on a menu item.</span></span> <span data-ttu-id="0571a-470">Este mensaje se proporciona para que las aplicaciones puedan mostrar un menú contextual o de acceso directo para un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-470">This message is provided so that applications can display a context-sensitive or shortcut menu for a menu item.</span></span>

<span data-ttu-id="0571a-471">Hay algunos mensajes que solo afectan a los menús de arrastrar y colocar.</span><span class="sxs-lookup"><span data-stu-id="0571a-471">There are a few messages that only involve drag-and-drop menus.</span></span> <span data-ttu-id="0571a-472">El [**\_ MENUGETOBJECT de WM**](wm-menugetobject.md) se envía al propietario de un menú de arrastrar y colocar cuando el cursor del Mouse entra en un elemento de menú o se mueve desde el centro de un elemento hasta la parte superior o inferior de un elemento.</span><span class="sxs-lookup"><span data-stu-id="0571a-472">The [**WM\_MENUGETOBJECT**](wm-menugetobject.md) is sent to the owner of a drag-and-drop menu when the mouse cursor enters a menu item or moves from the center of an item to the top or the bottom of an item.</span></span> <span data-ttu-id="0571a-473">El mensaje de [**\_ MENUDRAG de WM**](wm-menudrag.md) se envía cuando el usuario arrastra realmente un elemento de menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-473">The [**WM\_MENUDRAG**](wm-menudrag.md) message is sent when the user actually drags a menu item.</span></span>

<span data-ttu-id="0571a-474">Cuando se destruye un menú desplegable o un submenú, el sistema envía un mensaje de [**WM \_ UNINITMENUPOPUP**](wm-uninitmenupopup.md) .</span><span class="sxs-lookup"><span data-stu-id="0571a-474">When a drop-down menu or a submenu has been destroyed, the system sends a [**WM\_UNINITMENUPOPUP**](wm-uninitmenupopup.md) message.</span></span>

## <a name="menu-destruction"></a><span data-ttu-id="0571a-475">Destrucción de menús</span><span class="sxs-lookup"><span data-stu-id="0571a-475">Menu Destruction</span></span>

<span data-ttu-id="0571a-476">Si se asigna un menú a una ventana y dicha ventana se destruye, el sistema destruye automáticamente el menú y sus submenús, liberando el identificador del menú y la memoria ocupada por el menú.</span><span class="sxs-lookup"><span data-stu-id="0571a-476">If a menu is assigned to a window and that window is destroyed, the system automatically destroys the menu and its submenus, freeing the menu's handle and the memory occupied by the menu.</span></span> <span data-ttu-id="0571a-477">El sistema no destruye automáticamente un menú que no está asignado a una ventana.</span><span class="sxs-lookup"><span data-stu-id="0571a-477">The system does not automatically destroy a menu that is not assigned to a window.</span></span> <span data-ttu-id="0571a-478">Una aplicación debe destruir el menú sin asignar llamando a la función [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) .</span><span class="sxs-lookup"><span data-stu-id="0571a-478">An application must destroy the unassigned menu by calling the [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) function.</span></span> <span data-ttu-id="0571a-479">De lo contrario, el menú sigue existiendo en la memoria incluso después de que se cierre la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0571a-479">Otherwise, the menu continues to exist in memory even after the application closes.</span></span> <span data-ttu-id="0571a-480">Para finalizar el menú activo del subproceso que realiza la llamada, use [**EndMenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span><span class="sxs-lookup"><span data-stu-id="0571a-480">To end the calling thread's active menu, use [**EndMenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span></span> <span data-ttu-id="0571a-481">Si una plataforma no admite **EndMenu**, envíe un mensaje de [**WM \_ CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) al propietario del menú activo.</span><span class="sxs-lookup"><span data-stu-id="0571a-481">If a platform does not support **EndMenu**, send the owner of the active menu a [**WM\_CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) message.</span></span>

 

 