---
description: En este artículo se explica cómo registrar y distribuir controladores de propiedades para trabajar con el Windows de propiedades.
ms.assetid: E6E81E04-9CC1-4df5-9A87-DE0CBD177356
title: Registro y distribución de controladores de propiedades
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ce53f0805c4db5efe38e77ba4e7d1ab5b331c83f
ms.sourcegitcommit: ecd0ba4732f5264aab9baa2839c11f7fea36318f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/07/2021
ms.locfileid: "113481930"
---
# <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="e3b3d-103">Registro y distribución de controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-103">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="e3b3d-104">En este tema se explica cómo crear y registrar controladores de propiedades para trabajar con el Windows de propiedades.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-104">This topic explains how to create and register property handlers to work with the Windows property system.</span></span>

<span data-ttu-id="e3b3d-105">Este tema se organiza de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="e3b3d-105">This topic is organized as follows:</span></span>

-   [<span data-ttu-id="e3b3d-106">Registro y distribución de controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-106">Registering and Distributing Property Handlers</span></span>](#registering-and-distributing-property-handlers)
-   [<span data-ttu-id="e3b3d-107">Consideraciones de rendimiento y confiabilidad para los controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-107">Performance and Reliability Considerations for Property Handlers</span></span>](#performance-and-reliability-considerations-for-property-handlers)
    -   [<span data-ttu-id="e3b3d-108">Directrices para el rendimiento y la confiabilidad</span><span class="sxs-lookup"><span data-stu-id="e3b3d-108">Guidelines for Performance and Reliability</span></span>](#guidelines-for-performance-and-reliability)
-   [<span data-ttu-id="e3b3d-109">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e3b3d-109">Related topics</span></span>](#related-topics)

## <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="e3b3d-110">Registro y distribución de controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-110">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="e3b3d-111">Una vez implementado el controlador de propiedades, se debe registrar y su extensión de nombre de archivo debe estar asociada al controlador.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-111">After the property handler is implemented, it must be registered and its file name extension must be associated with the handler.</span></span> <span data-ttu-id="e3b3d-112">En el ejemplo siguiente, en el que se usa la extensión .recipe se muestran las entradas del Registro necesarias para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-112">The following example using the .recipe extension illustrates the required registry entries to do so.</span></span>

```
HKEY_CLASSES_ROOT
   CLSID
      {50d9450f-2a80-4f08-93b9-2eb526477d1a}
         (Default) = Recipe Property Handler
         ManualSafeSave [REG_DWORD] = 00000001
         InProcServer32
            (Default) = C:\\SDK\\PropertyHandlerSample\\bin\\RecipeHandlers.dll
            ThreadingModel = Apartment
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Windows
            CurrentVersion
               PropertySystem
                  PropertyHandlers
                     .recipe
                        (Default) = {50d9450f-2a80-4f08-93b9-2eb526477d1a}
```

<span data-ttu-id="e3b3d-113">Los controladores de propiedades para un tipo de archivo determinado se distribuyen normalmente con las aplicaciones que crean o manipulan archivos de ese tipo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-113">Property handlers for a particular file type are commonly distributed with the application(s) that create or manipulate files of that type.</span></span> <span data-ttu-id="e3b3d-114">Sin embargo, también debe considerar la posibilidad de que los controladores de propiedades estén disponibles independientemente de estas aplicaciones para admitir la indexación del tipo de archivo en escenarios de servidor en los que el indexador usa controladores de propiedades, pero no son necesarias sus aplicaciones que lo acompañan.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-114">However, you should also consider making your property handlers available independently of these applications to support indexing of your file type in server scenarios where property handlers are used by the indexer, but their accompanying applications are not required.</span></span> <span data-ttu-id="e3b3d-115">Si crea un paquete de instalación independiente para el controlador de propiedades, asegúrese de que incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e3b3d-115">If you create a stand-alone installation package for your property handler, be sure that it includes the following:</span></span>

-   <span data-ttu-id="e3b3d-116">Detalles del registro del controlador de propiedades especificados en el tema [Registering and Distributing Property Handlers]().</span><span class="sxs-lookup"><span data-stu-id="e3b3d-116">The property handler registration details specified in the topic [Registering and Distributing Property Handlers]().</span></span>
-   <span data-ttu-id="e3b3d-117">Registro para el tipo de archivo y los archivos de esquema que deben instalarse, para permitir que los clientes accedan a todas las características del controlador de propiedades.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-117">Registration for your file type and any schema files that must be installed, to enable clients to access all the features of your property handler.</span></span>

## <a name="performance-and-reliability-considerations-for-property-handlers"></a><span data-ttu-id="e3b3d-118">Consideraciones de rendimiento y confiabilidad para los controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-118">Performance and Reliability Considerations for Property Handlers</span></span>

<span data-ttu-id="e3b3d-119">Los controladores de propiedades se invocan para cada archivo de un equipo determinado.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-119">Property handlers are invoked for each file on a particular computer.</span></span> <span data-ttu-id="e3b3d-120">Normalmente se les llama en las siguientes circunstancias:</span><span class="sxs-lookup"><span data-stu-id="e3b3d-120">They are usually called under the following circumstances:</span></span>

-   <span data-ttu-id="e3b3d-121">Durante la indexación del archivo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-121">During indexing of the file.</span></span> <span data-ttu-id="e3b3d-122">Esto se realiza fuera de proceso, en un proceso aislado con derechos restringidos.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-122">This is done out-of-process, in an isolated process with restricted rights.</span></span>
-   <span data-ttu-id="e3b3d-123">Cuando se accede a los archivos en Windows Explorer con el fin de leer y escribir valores de propiedad.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-123">When files are accessed in Windows Explorer for the purpose of reading and writing property values.</span></span> <span data-ttu-id="e3b3d-124">Esto se realiza en proceso.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-124">This is done in-process.</span></span>

### <a name="guidelines-for-performance-and-reliability"></a><span data-ttu-id="e3b3d-125">Directrices para el rendimiento y la confiabilidad</span><span class="sxs-lookup"><span data-stu-id="e3b3d-125">Guidelines for Performance and Reliability</span></span>

<span data-ttu-id="e3b3d-126">En cualquier momento, un usuario podría tener decenas de miles de archivos de cualquier tipo específico (incluido el suyo) en sus equipos y podría acceder o modificar cualquiera o todos estos archivos en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-126">At any time, a user might have tens of thousands of files of any specific type (including yours) on his or her computers, and could access or modify any or all of these files at any time.</span></span> <span data-ttu-id="e3b3d-127">Dado que los controladores de propiedades se invocan con frecuencia para admitir estas operaciones de acceso y modificación, las características de rendimiento y confiabilidad del controlador de propiedades en entornos ocupados y muy simultáneos son de importancia crítica.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-127">Because property handlers are frequently invoked to support these access and modify operations, the performance and reliability characteristics of your property handler in busy, highly concurrent environments is of critical importance.</span></span>

<span data-ttu-id="e3b3d-128">Tenga en cuenta las siguientes directrices mientras desarrolla y prueba el controlador de propiedades.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-128">Keep in mind the following guidelines as you are developing and testing your property handler.</span></span>

-   <span data-ttu-id="e3b3d-129">**Enumeración de propiedades**</span><span class="sxs-lookup"><span data-stu-id="e3b3d-129">**Property enumeration**</span></span>

    <span data-ttu-id="e3b3d-130">Los controladores de propiedades deben tener un tiempo de respuesta muy rápido para enumerar sus propiedades.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-130">Property handlers should have a very fast response time in enumerating their properties.</span></span> <span data-ttu-id="e3b3d-131">Los cálculos de uso intensivo de memoria de valores de propiedad, búsquedas de red o la búsqueda de recursos que no sean el propio archivo deben evitarse para garantizar tiempos de respuesta rápidos.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-131">Memory-intensive calculations of property values, network lookups, or the search for resources other than the file itself should be avoided to ensure fast response times.</span></span>

-   <span data-ttu-id="e3b3d-132">**Escritura de propiedades en el lugar**</span><span class="sxs-lookup"><span data-stu-id="e3b3d-132">**In-place property writing**</span></span>

    <span data-ttu-id="e3b3d-133">Si es posible, cuando se trabaja con archivos de tamaño mediano o grande (varios cientos de KB o más), el formato de archivo debe organizarse para que la lectura o escritura de valores de propiedad no requiera la lectura de todo el archivo desde el disco.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-133">If possible, when dealing with medium-sized or large files (several hundred KB or larger), the file format should be arranged so that reading or writing property values does not require reading the whole file from disk.</span></span> <span data-ttu-id="e3b3d-134">Incluso si es necesario buscar el archivo, no debe leerse en la memoria en su totalidad porque eso abate el espacio de trabajo de Windows Explorer o el indexador de Windows Search cuando intentan acceder a estos archivos o indexar estos.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-134">Even if the file needs to be sought, it should not be read into memory in its entirety because that bloats the working set of Windows Explorer or the Windows Search indexer as they try to access or index these files.</span></span> <span data-ttu-id="e3b3d-135">Para obtener más información, vea [Inicializar controladores de propiedades](./building-property-handlers-property-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="e3b3d-135">For more information, see [Initializing Property Handlers](./building-property-handlers-property-handlers.md).</span></span>

    <span data-ttu-id="e3b3d-136">Una técnica útil para lograrlo es agregar espacio adicional al encabezado del archivo para que la próxima vez que sea necesario escribir un valor de propiedad, el valor se pueda escribir en su lugar sin necesidad de volver a escribir todo el archivo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-136">One useful technique to accomplish this is to pad the header of the file with extra space so that the next time a property value needs to be written, the value can be written in place without needing to rewrite the entire file.</span></span> <span data-ttu-id="e3b3d-137">Esto requiere la funcionalidad ManualSafeSave.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-137">This requires the ManualSafeSave functionality.</span></span> <span data-ttu-id="e3b3d-138">Este enfoque implica un riesgo adicional de que la operación de escritura de archivos se interrumpa mientras la escritura está en curso (debido a un bloqueo del sistema o a una pérdida de energía), pero como los tamaños de propiedad suelen ser pequeños, la probabilidad de esta interrupción es similarmente pequeña y las mejoras de rendimiento que se pueden realizar a través de la escritura de propiedades en el lugar se consideran lo suficientemente importantes como para justificar este riesgo adicional.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-138">This approach involves some extra risk that the file write operation might be interrupted while the write is in progress (due to a system crash or power loss), but because property sizes are generally small, the probability of such an interruption is similarly small, and the performance gains that can be realized through in-place property writing are considered significant enough to justify this additional risk.</span></span> <span data-ttu-id="e3b3d-139">Aun así, debe tener cuidado de probar la implementación exhaustivamente para asegurarse de que los archivos no estén dañados en caso de que se presente un error en el transcurso de una operación de escritura.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-139">Even so, you should take care to test your implementation extensively to ensure that your files are not corrupted in the event that a failure does arise in the course of a write operation.</span></span>

    <span data-ttu-id="e3b3d-140">Por último, al implementar la escritura de propiedades local con ManualSafeSave, a veces la operación no se puede realizar en su lugar y toda la secuencia se debe volver a escribir de todos modos.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-140">Finally, when implementing in-place property writing with ManualSafeSave, sometimes the operation cannot be performed in-place, and the whole stream must be rewritten anyway.</span></span> <span data-ttu-id="e3b3d-141">Para facilitar la reescritura, la secuencia proporcionada durante la inicialización del controlador admite la [**interfaz IDestinationStreamFactory.**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory)</span><span class="sxs-lookup"><span data-stu-id="e3b3d-141">To facilitate the rewrite, the stream provided during handler initialization supports the [**IDestinationStreamFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory) interface.</span></span> <span data-ttu-id="e3b3d-142">La **interfaz IDestinationStreamFactory permite** que las implementaciones de controladores obtengan una secuencia temporal para escribir; Cuando se completan todas las escrituras y se llama al método [**IDestinationStreamFactory::GetDestinationStream,**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) esta secuencia se usa para reemplazar completamente la secuencia de archivos original.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-142">The **IDestinationStreamFactory** interface enables handler implementations to obtain a temporary stream for writing; when all writes are completed and the [**IDestinationStreamFactory::GetDestinationStream**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) method is called, this stream is used to fully replace the original file stream.</span></span> <span data-ttu-id="e3b3d-143">Cuando se usa la secuencia de destino, la secuencia de archivo original debe tratarse como de solo lectura, ya que se reemplazará por la secuencia de destino después de llamar al método **IDestinationStreamFactory::GetDestinationStream.**</span><span class="sxs-lookup"><span data-stu-id="e3b3d-143">When the destination stream is used, the original file stream should be treated as read-only, because it will be replaced by the destination stream after the **IDestinationStreamFactory::GetDestinationStream** method has been called.</span></span>

-   <span data-ttu-id="e3b3d-144">**Elección del modelo de subprocesos COM**</span><span class="sxs-lookup"><span data-stu-id="e3b3d-144">**Choosing your COM threading model**</span></span>

    <span data-ttu-id="e3b3d-145">Para maximizar la eficacia del controlador de propiedades, debe especificar que usa el modelo de subprocesos COM `Both` .</span><span class="sxs-lookup"><span data-stu-id="e3b3d-145">To maximize the efficiency of your property handler, you should specify that it uses the COM threading model `Both`.</span></span> <span data-ttu-id="e3b3d-146">Esto permite el acceso directo desde los departamentos sta (por ejemplo, Windows Explorer) y los departamentos del agente de transferencia de mensajes (MTA) (el proceso SearchProtocolHost en Windows Search, por ejemplo), evitando la sobrecarga de serialización en esos entornos.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-146">This enables direct access from STA apartments (Windows Explorer, for example) and message transfer agent (MTA) apartments (the SearchProtocolHost process in Windows Search, for example), avoiding the overhead of marshaling in those environments.</span></span> <span data-ttu-id="e3b3d-147">Para lograr todas las ventajas del modelo de subprocesos, los servicios de los que depende el controlador también se deben designar como para evitar cualquier serialización en las llamadas a `Both` `Both` esos componentes.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-147">To achieve the full benefit of the `Both` threading model, any services on which your handler depends should also be designated as `Both` to avoid any marshaling in calls to those components.</span></span> <span data-ttu-id="e3b3d-148">Consulte la documentación de estos servicios concretos para comprobar si usan este modelo de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-148">Check the documentation of these particular services to verify whether they use this threading model.</span></span>

-   <span data-ttu-id="e3b3d-149">**Simultaneidad del controlador de propiedades**</span><span class="sxs-lookup"><span data-stu-id="e3b3d-149">**Property handler concurrency**</span></span>

    <span data-ttu-id="e3b3d-150">Los controladores de propiedades y la [**interfaz IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) están diseñados para el acceso en serie en lugar de simultáneo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-150">Property handlers and the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface are designed for serial rather than concurrent access.</span></span> <span data-ttu-id="e3b3d-151">Windows El Explorador, el Windows search y todas las demás invocaciones de controlador de propiedades de la base de Windows código base garantizan este uso.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-151">Windows Explorer, the Windows Search indexer, and all other property handler invocations from the Windows codebase guarantee this usage.</span></span> <span data-ttu-id="e3b3d-152">No debe haber ninguna razón para que terceros usen un controlador de propiedades simultáneamente, pero este comportamiento no se puede garantizar.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-152">There should be no reason for third parties to use a property handler concurrently, but this behavior cannot be guaranteed.</span></span> <span data-ttu-id="e3b3d-153">Además, aunque se espera que el patrón de llamada sea serie, las llamadas pueden aparecer en subprocesos diferentes (por ejemplo, cuando se llama al objeto de forma remota a través de COM RPC, como ocurre en el indexador).</span><span class="sxs-lookup"><span data-stu-id="e3b3d-153">Also, even though the calling pattern is expected to be serial, the calls may come on different threads (for instance, when the object is being called remotely via COM RPC, as occurs in the indexer).</span></span> <span data-ttu-id="e3b3d-154">Por lo tanto, las implementaciones del controlador de propiedades deben admitir la llamada a en subprocesos diferentes y, idealmente, no deben sufrir ningún efecto negativo cuando se llama a la vez.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-154">Therefore, property handler implementations must support being called on different threads, and ideally should not suffer any ill effects when called concurrently.</span></span> <span data-ttu-id="e3b3d-155">Dado que el patrón de llamada previsto es serie, una implementación trivial que use una sección crítica debe ser suficiente para cumplir estos requisitos en la mayoría de los casos.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-155">Because the intended calling pattern is serial, a trivial implementation using a critical section should be sufficient to meet these requirements in most cases.</span></span> <span data-ttu-id="e3b3d-156">Es aceptable evitar el bloqueo en llamadas simultáneas mediante la función [**TryEnterCriticalSection**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) para detectar y producir errores en las llamadas simultáneas.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-156">It is acceptable to avoid blocking on concurrent calls by using the [**TryEnterCriticalSection**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) function to detect and fail concurrent calls.</span></span>

-   <span data-ttu-id="e3b3d-157">**Simultaneidad de archivos**</span><span class="sxs-lookup"><span data-stu-id="e3b3d-157">**File concurrency**</span></span>

    <span data-ttu-id="e3b3d-158">Los controladores de propiedades se suelen usar en escenarios en los que varias aplicaciones acceden a un archivo simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-158">Property handlers are often used in scenarios where multiple applications access a file concurrently.</span></span> <span data-ttu-id="e3b3d-159">Por lo tanto, el controlador y las aplicaciones deben administrar la simultaneidad especificando los modos de uso compartido adecuados al abrir el archivo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-159">Hence, the handler and the applications need to manage the concurrency by specifying appropriate sharing modes when opening the file.</span></span> <span data-ttu-id="e3b3d-160">También deben tener en cuenta el acceso que especifican las otras aplicaciones y administrar los casos en los que no se permite el acceso.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-160">They also need to be aware of the access that the other applications specify and to manage cases where access is not allowed.</span></span> <span data-ttu-id="e3b3d-161">Es mejor que todos los consumidores especifiquen modos de uso compartido libre para permitir que otros usuarios accedan al archivo simultáneamente, pero al hacerlo, es necesario administrar los problemas de coherencia.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-161">It is best if all consumers specify liberal sharing modes to enable others to access the file concurrently, but when doing this, consistency issues need to be managed.</span></span> <span data-ttu-id="e3b3d-162">Las decisiones sobre los modos de uso compartido más adecuados que se deben usar deben tomarse en el contexto de la comunidad de aplicaciones que acceden al archivo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-162">Decisions on the most appropriate sharing modes to be used need to be made in the context of the community of applications that access the file.</span></span>

    <span data-ttu-id="e3b3d-163">Los sistemas de archivos permiten a las aplicaciones abrir archivos de forma que les dé control sobre si otras aplicaciones pueden abrir el archivo y cómo hacerlo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-163">File systems enable applications to open files in a way that gives them control over whether and how other applications can open the file.</span></span> <span data-ttu-id="e3b3d-164">Los modos de uso compartido permiten el acceso de lectura, escritura y eliminación.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-164">Sharing modes enable read, write, and delete access.</span></span> <span data-ttu-id="e3b3d-165">El sistema de propiedades admite un subconjunto de estos modos de uso compartido, que se describen en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-165">The property system supports a subset of these sharing modes, outlined in the following table.</span></span>

    

    | <span data-ttu-id="e3b3d-166">Modo de acceso</span><span class="sxs-lookup"><span data-stu-id="e3b3d-166">Access mode</span></span>                     | <span data-ttu-id="e3b3d-167">Modo de uso compartido</span><span class="sxs-lookup"><span data-stu-id="e3b3d-167">Sharing mode</span></span>                             |
    |---------------------------------|------------------------------------------|
    | <span data-ttu-id="e3b3d-168">Escritura</span><span class="sxs-lookup"><span data-stu-id="e3b3d-168">Write</span></span>                           | <span data-ttu-id="e3b3d-169">Denegar a otros lectores y escritores</span><span class="sxs-lookup"><span data-stu-id="e3b3d-169">Deny other readers and writers</span></span>           |
    | <span data-ttu-id="e3b3d-170">Escritura (EnableShareDenyWrite)</span><span class="sxs-lookup"><span data-stu-id="e3b3d-170">Write (EnableShareDenyWrite)</span></span>    | <span data-ttu-id="e3b3d-171">Habilitar otros lectores, denegar otros escritores</span><span class="sxs-lookup"><span data-stu-id="e3b3d-171">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="e3b3d-172">Solo lectura (valor predeterminado)</span><span class="sxs-lookup"><span data-stu-id="e3b3d-172">Read-only (default)</span></span>             | <span data-ttu-id="e3b3d-173">Habilitar otros lectores, denegar otros escritores</span><span class="sxs-lookup"><span data-stu-id="e3b3d-173">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="e3b3d-174">Solo lectura (EnableShareDenyNone)</span><span class="sxs-lookup"><span data-stu-id="e3b3d-174">Read-only (EnableShareDenyNone)</span></span> | <span data-ttu-id="e3b3d-175">Habilitación de otros lectores y escritores</span><span class="sxs-lookup"><span data-stu-id="e3b3d-175">Enable other readers and writers</span></span>         |

    

     

    <span data-ttu-id="e3b3d-176">Los controladores de propiedades abiertos **para escritura** (GPS \_ READWRITE) denegarán a otros lectores y escritores.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-176">Property handlers open for **write** (GPS\_READWRITE) will deny other readers and writers.</span></span> <span data-ttu-id="e3b3d-177">Los controladores pueden optar por un comportamiento que permita a los lectores especificar la `EnableShareDenyWrite` marca (lo que implica habilitar lectura) en su registro.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-177">Handlers can opt into behavior that enables readers by specifying the `EnableShareDenyWrite` flag (implying enable Read) in its registration.</span></span>

    <span data-ttu-id="e3b3d-178">Los controladores de propiedades se abren **para lectura** (GPS DEFAULT), de forma predeterminada habilitan otros lectores, \_ pero deniegan a otros escritores.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-178">Property handlers open for **read** (GPS\_DEFAULT), by default enable other readers but deny other writers.</span></span> <span data-ttu-id="e3b3d-179">Los controladores pueden optar por habilitar otros escritores especificando la `EnableShareDenyNone` marca en su registro.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-179">Handlers can opt into enabling other writers by specifying the `EnableShareDenyNone` flag in its registration.</span></span> <span data-ttu-id="e3b3d-180">Esto significa que un controlador puede controlar correctamente una situación en la que cambia el contenido de un archivo mientras el controlador lee el archivo.</span><span class="sxs-lookup"><span data-stu-id="e3b3d-180">This means that a handler can successfully handle a situation in which the content of a file changes while the handler is reading the file.</span></span>

    <span data-ttu-id="e3b3d-181">Para ver las definiciones de marca, [**vea GETPROPERTYSTOREFLAGS.**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags)</span><span class="sxs-lookup"><span data-stu-id="e3b3d-181">For flag definitions, see [**GETPROPERTYSTOREFLAGS**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e3b3d-182">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e3b3d-182">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e3b3d-183">Descripción de los controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-183">Understanding Property Handlers</span></span>](./building-property-handlers-properties.md)
</dt> <dt>

[<span data-ttu-id="e3b3d-184">Usar nombres de tipo</span><span class="sxs-lookup"><span data-stu-id="e3b3d-184">Using Kind Names</span></span>](./building-property-handlers-user-friendly-kind-names.md)
</dt> <dt>

[<span data-ttu-id="e3b3d-185">Usar listas de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-185">Using Property Lists</span></span>](./building-property-handlers-property-lists.md)
</dt> <dt>

[<span data-ttu-id="e3b3d-186">Inicialización de controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-186">Initializing Property Handlers</span></span>](./building-property-handlers-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="e3b3d-187">Procedimientos recomendados y preguntas más frecuentes sobre el controlador de propiedades</span><span class="sxs-lookup"><span data-stu-id="e3b3d-187">Property Handler Best Practices and FAQ</span></span>](./prophand-bestprac-faq.yml)
</dt> </dl>

 

 
