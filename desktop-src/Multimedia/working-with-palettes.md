---
title: Trabajar con paletas
description: Trabajar con paletas
ms.assetid: 0ad0d78b-4c2c-499c-ad5e-8324b59e89fc
keywords:
- Mensaje WM_CAP_PAL_PASTE
- capPalettePaste (macro)
- Mensaje WM_CAP_PAL_OPEN
- capPaletteOpen (macro)
- Mensaje WM_CAP_PAL_AUTOCREATE
- capPaletteAuto (macro)
- Mensaje WM_CAP_PAL_MANUALCREATE
- capPaletteManual (macro)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f09cbbe3ffc8ea21d1ecf8545f036f5ba6dfb927
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "105651286"
---
# <a name="working-with-palettes"></a><span data-ttu-id="19a38-111">Trabajar con paletas</span><span class="sxs-lookup"><span data-stu-id="19a38-111">Working with Palettes</span></span>

<span data-ttu-id="19a38-112">Inicialmente, si el formato de captura de vídeo requiere una paleta, la ventana de captura utiliza la paleta suministrada por el controlador de captura.</span><span class="sxs-lookup"><span data-stu-id="19a38-112">Initially, if the video capture format requires a palette, the capture window uses the palette supplied by the capture driver.</span></span> <span data-ttu-id="19a38-113">Esta paleta puede constar de valores de escala de grises para la reproducción en blanco y negro, o una amplia selección de valores de color.</span><span class="sxs-lookup"><span data-stu-id="19a38-113">This palette might consist of gray-scale values for black-and-white reproduction, or a broad selection of color values.</span></span> <span data-ttu-id="19a38-114">Puede recuperar una paleta existente para reemplazar la paleta predeterminada mediante el mensaje [](/windows/desktop/api/Vfw/nf-vfw-cappalettepaste) [](/windows/desktop/api/Vfw/nf-vfw-cappaletteopen) Open [**\_ Cap Cap \_ de \_ WM mayúsculas**](wm-cap-pal-paste.md) o [**\_ Cap \_ \_ Cap de WM**](wm-cap-pal-open.md) (o la macro capPalettePaste o capPaletteOpen).</span><span class="sxs-lookup"><span data-stu-id="19a38-114">You can retrieve an existing palette to replace the default palette by using the [**WM\_CAP\_PAL\_PASTE**](wm-cap-pal-paste.md) or [**WM\_CAP\_PAL\_OPEN**](wm-cap-pal-open.md) message (or the [**capPalettePaste**](/windows/desktop/api/Vfw/nf-vfw-cappalettepaste) or [**capPaletteOpen**](/windows/desktop/api/Vfw/nf-vfw-cappaletteopen) macro).</span></span> <span data-ttu-id="19a38-115">Como alternativa, puede crear una paleta personalizada para reemplazar la paleta predeterminada mediante el mensaje MANUALCREATE [**Cap Cap de WM con la función de \_ \_ \_ creación**](wm-cap-pal-autocreate.md) de valores de [**Cap o \_ \_ PAL \_ Cap**](wm-cap-pal-manualcreate.md) de WM (o la macro [**capPaletteAuto**](/windows/desktop/api/Vfw/nf-vfw-cappaletteauto) o [**capPaletteManual**](/windows/desktop/api/Vfw/nf-vfw-cappalettemanual) ).</span><span class="sxs-lookup"><span data-stu-id="19a38-115">Alternatively, you can create a custom palette to replace the default palette by using the [**WM\_CAP\_PAL\_AUTOCREATE**](wm-cap-pal-autocreate.md) or [**WM\_CAP\_PAL\_MANUALCREATE**](wm-cap-pal-manualcreate.md) message (or the [**capPaletteAuto**](/windows/desktop/api/Vfw/nf-vfw-cappaletteauto) or [**capPaletteManual**](/windows/desktop/api/Vfw/nf-vfw-cappalettemanual) macro).</span></span> <span data-ttu-id="19a38-116">Después de reemplazar la paleta predeterminada, la ventana captura y el controlador usan la paleta de reemplazo hasta que cree o abra otra paleta.</span><span class="sxs-lookup"><span data-stu-id="19a38-116">After you replace the default palette, the capture window and driver use the replacement palette until you create or open another palette.</span></span>

<span data-ttu-id="19a38-117">El \_ mensaje MANUALCREATE de WM Cap \_ PAL \_ AutoCreate o WM \_ Cap \_ PAL \_ crea una paleta optimizada basada en la entrada de vídeo actual.</span><span class="sxs-lookup"><span data-stu-id="19a38-117">The WM\_CAP\_PAL\_AUTOCREATE or WM\_CAP\_PAL\_MANUALCREATE message creates an optimized palette based on the current video input.</span></span> <span data-ttu-id="19a38-118">Esta paleta personalizada proporciona una secuencia de vídeo de la mejor fidelidad de color porque se basa en los colores que existen en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="19a38-118">This custom palette gives a video sequence the best color fidelity because it is based on colors that exist in the sequence.</span></span> <span data-ttu-id="19a38-119">La ventana captura crea un histograma tridimensional de los colores que muestrea.</span><span class="sxs-lookup"><span data-stu-id="19a38-119">The capture window creates a three-dimensional histogram of the colors it samples.</span></span> <span data-ttu-id="19a38-120">Reduce el número de colores mediante el examen del error absoluto entre los colores adyacentes y la consolidación de aquellos con el menor valor de error.</span><span class="sxs-lookup"><span data-stu-id="19a38-120">It reduces the number of colors by examining the absolute error between adjacent colors and consolidating those with the smallest error value.</span></span>

<span data-ttu-id="19a38-121">Al enviar la \_ \_ creación de \_ código PAL Cap de WM, debe especificar el número de fotogramas de AVICap para muestrear y especificar el tamaño de la paleta de colores.</span><span class="sxs-lookup"><span data-stu-id="19a38-121">When sending WM\_CAP\_PAL\_AUTOCREATE, you must specify the number of frames for AVICap to sample, and specify the size of the color palette.</span></span> <span data-ttu-id="19a38-122">Al especificar el número de fotogramas, incluya suficientes fotogramas para asegurarse de que se muestrean todos los colores de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="19a38-122">When specifying the number of frames, include enough frames to ensure that all colors in the sequence are sampled.</span></span>

<span data-ttu-id="19a38-123">Puede muestrear el fotograma actual mediante el uso de MANUALCREATE de Cap de WM \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="19a38-123">You can sample the current frame by using WM\_CAP\_PAL\_MANUALCREATE.</span></span> <span data-ttu-id="19a38-124">Si usa este mensaje con varios marcos seleccionados manualmente, puede crear una paleta que contenga los colores que desea que aparezcan en la paleta.</span><span class="sxs-lookup"><span data-stu-id="19a38-124">By using this message with several manually selected frames, you can create a palette that contains the colors you want to appear in the palette.</span></span>

<span data-ttu-id="19a38-125">Una paleta puede contener hasta 256 colores.</span><span class="sxs-lookup"><span data-stu-id="19a38-125">A palette can contain up to 256 colors.</span></span> <span data-ttu-id="19a38-126">Si combina las paletas o si la secuencia de vídeo se va a mostrar al mismo tiempo que otros vídeos o imágenes, debe usar una selección de color más pequeña para que los colores de cada imagen o clip de vídeo puedan coexistir.</span><span class="sxs-lookup"><span data-stu-id="19a38-126">If you merge palettes or if the video sequence is to be displayed simultaneously with other video or images, you should use a smaller color selection so that colors from each image or video clip can coexist.</span></span>

<span data-ttu-id="19a38-127">La nueva paleta se guarda con el mensaje [**de \_ \_ \_ guardado de PAL de Cap de WM**](wm-cap-pal-save.md) (o la macro [**capPaletteSave**](/windows/desktop/api/Vfw/nf-vfw-cappalettesave) ) y, posteriormente, se recupera mediante el mensaje [**\_ \_ \_ abierto PAL Cap de WM**](wm-cap-pal-open.md) .</span><span class="sxs-lookup"><span data-stu-id="19a38-127">You save a new palette by using the [**WM\_CAP\_PAL\_SAVE**](wm-cap-pal-save.md) message (or the [**capPaletteSave**](/windows/desktop/api/Vfw/nf-vfw-cappalettesave) macro) and later retrieve it by using the [**WM\_CAP\_PAL\_OPEN**](wm-cap-pal-open.md) message.</span></span> <span data-ttu-id="19a38-128">Puede guardar una paleta para el procesamiento posterior de la paleta o para su uso en otra aplicación.</span><span class="sxs-lookup"><span data-stu-id="19a38-128">You can save a palette for post-processing of the palette or for use in another application.</span></span>

<span data-ttu-id="19a38-129">Puede pegar una paleta desde el portapapeles en la ventana de captura mediante el mensaje de [**\_ \_ \_ pegado PAL de Cap de WM**](wm-cap-pal-paste.md) .</span><span class="sxs-lookup"><span data-stu-id="19a38-129">You can paste a palette from the clipboard into the capture window by using the [**WM\_CAP\_PAL\_PASTE**](wm-cap-pal-paste.md) message.</span></span> <span data-ttu-id="19a38-130">La ventana captura pasa la paleta al controlador de captura.</span><span class="sxs-lookup"><span data-stu-id="19a38-130">The capture window passes the palette to the capture driver.</span></span> <span data-ttu-id="19a38-131">Otras aplicaciones pueden copiar las paletas en el portapapeles.</span><span class="sxs-lookup"><span data-stu-id="19a38-131">Other applications can copy palettes to the clipboard.</span></span> <span data-ttu-id="19a38-132">También puede copiar una paleta en el portapapeles mediante el mensaje de [**\_ \_ Edición \_ de Cap de WM**](wm-cap-edit-copy.md) (o la macro [**capEditCopy**](/windows/desktop/api/Vfw/nf-vfw-capeditcopy) ).</span><span class="sxs-lookup"><span data-stu-id="19a38-132">You can also copy a palette to the clipboard by using the [**WM\_CAP\_EDIT\_COPY**](wm-cap-edit-copy.md) message (or the [**capEditCopy**](/windows/desktop/api/Vfw/nf-vfw-capeditcopy) macro).</span></span> <span data-ttu-id="19a38-133">Este mensaje copia el búfer de fotogramas de vídeo, incluida la paleta, en el portapapeles.</span><span class="sxs-lookup"><span data-stu-id="19a38-133">This message copies the video frame buffer, including the palette, onto the clipboard.</span></span>

 

 




