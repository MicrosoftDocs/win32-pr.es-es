---
description: Cualquier analizador de paquetes de red que pueda mostrar paquetes sin procesar se puede usar para inspeccionar las solicitudes de intercambio de metadatos HTTP. Se recomienda Monitor de red de Microsoft 3 (Netmon). Para obtener más información acerca de Netmon, consulte descarga de los filtros Netmon y DPWS de ejemplo.
ms.assetid: 9b124117-06e7-4637-9863-0f9650861526
title: Inspeccionar los seguimientos de red para las aplicaciones mediante la detección dirigida
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 98a424117896c18a5fcf84c883ba824b8223ef01
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105697682"
---
# <a name="inspecting-network-traces-for-applications-using-directed-discovery"></a><span data-ttu-id="db7ff-105">Inspeccionar los seguimientos de red para las aplicaciones mediante la detección dirigida</span><span class="sxs-lookup"><span data-stu-id="db7ff-105">Inspecting Network Traces for Applications Using Directed Discovery</span></span>

<span data-ttu-id="db7ff-106">Cualquier analizador de paquetes de red que pueda mostrar paquetes sin procesar se puede usar para inspeccionar las solicitudes de intercambio de metadatos HTTP.</span><span class="sxs-lookup"><span data-stu-id="db7ff-106">Any network packet analyzer that can display raw packets can be used to inspect HTTP metadata exchange requests.</span></span> <span data-ttu-id="db7ff-107">Se recomienda Monitor de red de Microsoft 3 (Netmon).</span><span class="sxs-lookup"><span data-stu-id="db7ff-107">Microsoft Network Monitor 3 (Netmon) is recommended.</span></span> <span data-ttu-id="db7ff-108">Para obtener más información acerca de Netmon, consulte [descarga de los filtros Netmon y DPWS de ejemplo](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="db7ff-108">For more information about Netmon, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>

<span data-ttu-id="db7ff-109">**Para inspeccionar los seguimientos de red para la detección dirigida**</span><span class="sxs-lookup"><span data-stu-id="db7ff-109">**To inspect network traces for directed discovery**</span></span>

1.  <span data-ttu-id="db7ff-110">Configure el host y el cliente para que se ejecuten en la red (es decir, asegúrese de que el host y el cliente funcionarán en equipos diferentes).</span><span class="sxs-lookup"><span data-stu-id="db7ff-110">Configure the host and client to run across the network (that is, make sure that the host and client will operate on different machines).</span></span>
2.  <span data-ttu-id="db7ff-111">Instale el analizador de paquetes (Netmon) en el cliente o en el host.</span><span class="sxs-lookup"><span data-stu-id="db7ff-111">Install the packet analyzer (Netmon) on either the client or the host.</span></span>
3.  <span data-ttu-id="db7ff-112">Configure el analizador de paquetes para capturar el tráfico en el adaptador de red que conecta el host y el cliente.</span><span class="sxs-lookup"><span data-stu-id="db7ff-112">Configure the packet analyzer to capture traffic on the network adapter connecting the host and the client.</span></span>
4.  <span data-ttu-id="db7ff-113">Reproduzca el error iniciando el host y el cliente, o presionando F5 en el explorador de red.</span><span class="sxs-lookup"><span data-stu-id="db7ff-113">Reproduce the failure by starting the host and client or by pressing F5 in the Network Explorer.</span></span>
5.  <span data-ttu-id="db7ff-114">Filtre los resultados para aislar WS-Discovery y el tráfico de intercambio de metadatos.</span><span class="sxs-lookup"><span data-stu-id="db7ff-114">Filter the results to isolate WS-Discovery and metadata exchange traffic.</span></span> <span data-ttu-id="db7ff-115">Para ver los filtros de ejemplo de Netmon, consulte [descarga de los filtros Netmon y DPWS de ejemplo](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="db7ff-115">To view sample Netmon filters, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>
    > [!Note]  
    > <span data-ttu-id="db7ff-116">Este paso es opcional.</span><span class="sxs-lookup"><span data-stu-id="db7ff-116">This step is optional.</span></span>

     

6.  <span data-ttu-id="db7ff-117">Compruebe que los mensajes enviados entre el cliente y el host cumplan los requisitos de tráfico básicos.</span><span class="sxs-lookup"><span data-stu-id="db7ff-117">Verify that messages sent between client and host meet basic traffic requirements.</span></span>

## <a name="verifying-that-messages-meet-traffic-requirements"></a><span data-ttu-id="db7ff-118">Comprobando que los mensajes cumplen los requisitos de tráfico</span><span class="sxs-lookup"><span data-stu-id="db7ff-118">Verifying that messages meet traffic requirements</span></span>

<span data-ttu-id="db7ff-119">Los clientes y hosts WSDAPI deben enviar mensajes que cumplan los criterios siguientes.</span><span class="sxs-lookup"><span data-stu-id="db7ff-119">WSDAPI clients and hosts must send messages that conform to the following criteria.</span></span> <span data-ttu-id="db7ff-120">Para obtener información general acerca de los patrones de mensajes, consulte [patrones de mensajes de intercambio de metadatos y detección](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="db7ff-120">For general information about message patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

-   <span data-ttu-id="db7ff-121">HTTP o HTTPS deben enviar los mensajes de [sondeo](probe-message.md) , normalmente al puerto 5357 o 5358.</span><span class="sxs-lookup"><span data-stu-id="db7ff-121">[Probe](probe-message.md) messages must be sent by HTTP or HTTPS, usually to port 5357 or 5358.</span></span>
-   <span data-ttu-id="db7ff-122">El elemento **Types** de un mensaje de [sondeo](probe-message.md) debe estar presente y no debe estar vacío.</span><span class="sxs-lookup"><span data-stu-id="db7ff-122">The **Types** element of a [Probe](probe-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="db7ff-123">Debe contener los tipos a los que responderá un host.</span><span class="sxs-lookup"><span data-stu-id="db7ff-123">It must contain the types to which a host will respond.</span></span>
-   <span data-ttu-id="db7ff-124">Se debe enviar un mensaje [ProbeMatches](probematches-message.md) al puerto http o https desde el que se envió el [sondeo](probe-message.md) .</span><span class="sxs-lookup"><span data-stu-id="db7ff-124">A [ProbeMatches](probematches-message.md) message must be sent to the HTTP or HTTPS port from which the [Probe](probe-message.md) was sent.</span></span>
-   <span data-ttu-id="db7ff-125">El **elemento de** la reutilización de un mensaje [ProbeMatches](probematches-message.md) debe estar presente y no debe estar vacío.</span><span class="sxs-lookup"><span data-stu-id="db7ff-125">The **RelatesTo** element of a [ProbeMatches](probematches-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="db7ff-126">Su valor debe coincidir con el valor del elemento **MessageId** del mensaje de [sondeo](probe-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="db7ff-126">Its value must match the value of the **MessageId** element from the corresponding [Probe](probe-message.md) message.</span></span>
-   <span data-ttu-id="db7ff-127">Si se incluyó un elemento **XAddrs** en el mensaje [ProbeMatches](probematches-message.md) , se deben validar las direcciones de transporte proporcionadas.</span><span class="sxs-lookup"><span data-stu-id="db7ff-127">If an **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, the supplied transport addresses must be validated.</span></span> <span data-ttu-id="db7ff-128">Para obtener más información, consulte [reglas de validación de XAddr](xaddr-validation-rules.md).</span><span class="sxs-lookup"><span data-stu-id="db7ff-128">For more information, see [XAddr Validation Rules](xaddr-validation-rules.md).</span></span>
-   <span data-ttu-id="db7ff-129">Se debe enviar un mensaje [ProbeMatches](probematches-message.md) en los 4 segundos del mensaje de [sondeo](probe-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="db7ff-129">A [ProbeMatches](probematches-message.md) message must be sent within 4 seconds of the corresponding [Probe](probe-message.md) message.</span></span> <span data-ttu-id="db7ff-130">El Firewall de Windows puede quitar un mensaje ProbeMatches enviado más de 4 segundos después de un mensaje de sondeo.</span><span class="sxs-lookup"><span data-stu-id="db7ff-130">The Windows Firewall may drop a ProbeMatches message sent more than 4 seconds after a Probe message.</span></span>
-   <span data-ttu-id="db7ff-131">Si no se incluyó ningún elemento **XAddrs** en el mensaje [ProbeMatches](probematches-message.md) y el cliente o el host enviará un mensaje http (como una [solicitud de intercambio de metadatos o](get--metadata-exchange--http-request-and-message.md) un mensaje de servicio), el cliente o el host deben enviar un mensaje de [resolución](resolve-message.md) por http o https.</span><span class="sxs-lookup"><span data-stu-id="db7ff-131">If no **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, and the client or host will send an HTTP message (such as a [Get](get--metadata-exchange--http-request-and-message.md) metadata exchange request or a service message), then the client or host must send a [Resolve](resolve-message.md) message by HTTP or HTTPS.</span></span> <span data-ttu-id="db7ff-132">Este mensaje se envía normalmente al puerto 5357 o 5358.</span><span class="sxs-lookup"><span data-stu-id="db7ff-132">This message is usually sent to port 5357 or 5358.</span></span>
-   <span data-ttu-id="db7ff-133">Si se envía un mensaje de [resolución](resolve-message.md) , se debe enviar un mensaje [RESOLVEMATCHES](resolvematches-message.md) al puerto http o https desde el que se envió el mensaje de resolución.</span><span class="sxs-lookup"><span data-stu-id="db7ff-133">If a [Resolve](resolve-message.md) message is sent, then a [ResolveMatches](resolvematches-message.md) message must be sent to the HTTP or HTTPS port from which the Resolve message was sent.</span></span>
-   <span data-ttu-id="db7ff-134">Se debe enviar un mensaje [ResolveMatches](resolvematches-message.md) en los 4 segundos del mensaje de [resolución](resolve-message.md) correspondiente.</span><span class="sxs-lookup"><span data-stu-id="db7ff-134">A [ResolveMatches](resolvematches-message.md) message must be sent within 4 seconds of the corresponding [Resolve](resolve-message.md) message.</span></span> <span data-ttu-id="db7ff-135">El Firewall de Windows puede quitar un ResolveMatchesmessage enviado más de 4 segundos después de un mensaje de resolución.</span><span class="sxs-lookup"><span data-stu-id="db7ff-135">The Windows Firewall may drop a ResolveMatchesmessage sent more than 4 seconds after a Resolve message.</span></span>

<span data-ttu-id="db7ff-136">Si los mensajes enviados por el programa no se ajustan a estos requisitos de mensaje, la causa del problema se ha identificado correctamente y no es necesario realizar más pasos para la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="db7ff-136">If the messages sent by the program do not conform to these message requirements, the cause of the problem has been successfully identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="db7ff-137">Vuelva a escribir el programa para que genere mensajes conformes y vuelva a probar el programa.</span><span class="sxs-lookup"><span data-stu-id="db7ff-137">Rewrite the program so that it generates conformant messages and retest the program.</span></span>

<span data-ttu-id="db7ff-138">Si aún no se puede identificar el origen del problema, póngase en contacto con el soporte técnico de Microsoft para obtener ayuda.</span><span class="sxs-lookup"><span data-stu-id="db7ff-138">If the source of the problem still cannot be identified, contact Microsoft support for assistance.</span></span> <span data-ttu-id="db7ff-139">Antes de ponerse en contacto con el servicio de soporte técnico, recopile los archivos de registro adecuados para ayudar a identificar la causa principal del problema.</span><span class="sxs-lookup"><span data-stu-id="db7ff-139">Before contacting support, collect the appropriate log files to help identify the root cause of the problem.</span></span> <span data-ttu-id="db7ff-140">Para obtener más información, vea [Habilitar el seguimiento de WSDAPI](enabling-wsdapi-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="db7ff-140">For more information, see [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="db7ff-141">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="db7ff-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="db7ff-142">Solución de problemas de aplicaciones con la detección dirigida</span><span class="sxs-lookup"><span data-stu-id="db7ff-142">Troubleshooting Applications Using Directed Discovery</span></span>](troubleshooting-applications-using-directed-discovery.md)
</dt> <dt>

[<span data-ttu-id="db7ff-143">Procedimientos de diagnóstico de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="db7ff-143">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="db7ff-144">Introducción con la solución de problemas de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="db7ff-144">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> <dt>

[<span data-ttu-id="db7ff-145">Descarga de los filtros Netmon y DPWS de ejemplo</span><span class="sxs-lookup"><span data-stu-id="db7ff-145">Downloading Netmon and Sample DPWS Filters</span></span>](downloading-netmon-and-sample-dpws-filters.md)
</dt> </dl>

 

 



