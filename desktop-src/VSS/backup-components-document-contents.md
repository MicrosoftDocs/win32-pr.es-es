---
description: El documento componentes de copia de seguridad se mantiene mediante instancias de la interfaz IVssBackupComponents.
ms.assetid: 8c7ebba8-58c4-4733-ba59-802abf902c5e
title: Contenido del documento componentes de copia de seguridad
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5e12c88ebffa0037702e1f30dd818d4fd23fe4e2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103913389"
---
# <a name="backup-components-document-contents"></a><span data-ttu-id="2eaf7-103">Contenido del documento componentes de copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="2eaf7-103">Backup Components Document Contents</span></span>

<span data-ttu-id="2eaf7-104">El documento componentes de copia de seguridad se mantiene mediante instancias de la interfaz [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) .</span><span class="sxs-lookup"><span data-stu-id="2eaf7-104">The Backup Components Document is maintained by instances of the [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) interface.</span></span> <span data-ttu-id="2eaf7-105">Esta interfaz también contiene numerosos métodos para controlar las operaciones de copia de seguridad, manipular instantáneas y consultar el estado del sistema.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-105">This interface also contains numerous methods for controlling backup operations, manipulating shadow copies, and querying the system state.</span></span> <span data-ttu-id="2eaf7-106">Sin embargo, no toda la información del documento es directamente accesible a través de esta interfaz.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-106">However, not all of the document's information is directly accessible through this interface.</span></span>

<span data-ttu-id="2eaf7-107">El documento componentes de copia de seguridad consta de varios conjuntos de datos:</span><span class="sxs-lookup"><span data-stu-id="2eaf7-107">The Backup Components Document consists of several sets of data:</span></span>

-   <span data-ttu-id="2eaf7-108">Información acerca de los componentes que se incluyeron explícitamente en una operación de copia de seguridad o restauración</span><span class="sxs-lookup"><span data-stu-id="2eaf7-108">Information about which components were explicitly included in a backup or restore operation</span></span>
-   <span data-ttu-id="2eaf7-109">Representación de la información del componente y del escritor almacenados</span><span class="sxs-lookup"><span data-stu-id="2eaf7-109">A representation of the stored component and writer information</span></span>
-   <span data-ttu-id="2eaf7-110">Información de estado sobre la operación de copia de seguridad o recuperación</span><span class="sxs-lookup"><span data-stu-id="2eaf7-110">State information about the backup/recover operation</span></span>

<span data-ttu-id="2eaf7-111">Mientras que la información del componente está disponible tanto para el solicitante como para el escritor, solo el escritor tiene acceso a la información de estado.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-111">While the component information is available to both the requester and the writer, only the writer has access to the state information.</span></span>

## <a name="component-inclusion-information"></a><span data-ttu-id="2eaf7-112">Información de inclusión de componentes</span><span class="sxs-lookup"><span data-stu-id="2eaf7-112">Component Inclusion Information</span></span>

<span data-ttu-id="2eaf7-113">El documento componentes de copia de seguridad contiene una lista de los componentes incluidos explícitamente en la copia de seguridad y la restauración del solicitante.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-113">The Backup Components Document contains a list of those components explicitly included in backup and restore by the requester.</span></span> <span data-ttu-id="2eaf7-114">La lista contiene lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2eaf7-114">The list contains the following:</span></span>

-   <span data-ttu-id="2eaf7-115">[*Componentes seleccionables*](vssgloss-s.md)incluidos explícitamente.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-115">Explicitly included [*selectable components*](vssgloss-s.md).</span></span>

    <span data-ttu-id="2eaf7-116">La inclusión de estos archivos en las operaciones de copia de seguridad se indica mediante [**ivssbackupcomponents:: AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent) y en las operaciones de restauración de [**Ivssbackupcomponents:: SetSelectedForRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setselectedforrestore).</span><span class="sxs-lookup"><span data-stu-id="2eaf7-116">The inclusion of these files in backup operations is indicated by [**IVssBackupComponents::AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent) and in restore operations by [**IVssBackupComponents::SetSelectedForRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setselectedforrestore).</span></span>

-   <span data-ttu-id="2eaf7-117">No seleccionable para subcomponentes de copia de seguridad sin un elemento seleccionable para el antecesor del componente de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-117">Nonselectable for backup subcomponents without a selectable for backup component ancestor.</span></span>

    <span data-ttu-id="2eaf7-118">Todos estos componentes deben incluirse si los componentes del escritor se van a incluir en la operación.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-118">All of these components must be included if any components of the writer are to be included in the operation.</span></span> <span data-ttu-id="2eaf7-119">La inclusión de estos archivos en las operaciones de copia de seguridad se indica mediante [**ivssbackupcomponents:: AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent) y en las operaciones de restauración de [**Ivssbackupcomponents:: SetSelectedForRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setselectedforrestore).</span><span class="sxs-lookup"><span data-stu-id="2eaf7-119">The inclusion of these files in backup operations is indicated by [**IVssBackupComponents::AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent) and in restore operations by [**IVssBackupComponents::SetSelectedForRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setselectedforrestore).</span></span>

-   <span data-ttu-id="2eaf7-120">Componentes agregados implícitamente a la copia de seguridad ([*subcomponentes*](vssgloss-s.md)) que se pueden [*seleccionar para la restauración*](vssgloss-s.md) y se agregan explícitamente a la restauración.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-120">Components implicitly added to the backup ([*subcomponents*](vssgloss-s.md)) that are [*selectable for restore*](vssgloss-s.md) and are explicitly added to the restore.</span></span>

    <span data-ttu-id="2eaf7-121">Estos componentes pueden ser seleccionables o no seleccionables, pero tienen un antecesor seleccionable que se usó para seleccionarlos de forma implícita para la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-121">These components may be either selectable or nonselectable, but have a selectable ancestor that was used to implicitly select them for backup.</span></span> <span data-ttu-id="2eaf7-122">Se agregan al documento componentes de copia de seguridad mediante [**IVssBackupComponents:: AddRestoreSubcomponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addrestoresubcomponent).</span><span class="sxs-lookup"><span data-stu-id="2eaf7-122">They are added to the Backup Components Document by [**IVssBackupComponents::AddRestoreSubcomponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addrestoresubcomponent).</span></span>

<span data-ttu-id="2eaf7-123">Las identidades de los componentes que se incluyen de forma implícita en la restauración no se almacenan en el documento componentes de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-123">The identities of components implicitly included in the restore are not stored in the Backup Components Document.</span></span>

<span data-ttu-id="2eaf7-124">VSS tiene acceso a información sobre la inclusión de componentes: los escritores sin componentes incluidos explícitamente en una restauración o copia de seguridad no reciben ningún evento VSS después de la generación de los eventos [*PrepareForBackup*](vssgloss-p.md) o [*prerestore*](vssgloss-p.md) .</span><span class="sxs-lookup"><span data-stu-id="2eaf7-124">VSS has access to information about component inclusion: writers with no components explicitly included in a restore or backup receive no VSS events following the generation of the [*PrepareForBackup*](vssgloss-p.md) or [*PreRestore*](vssgloss-p.md) events.</span></span>

<span data-ttu-id="2eaf7-125">Los escritores no pueden consultar directamente esta información.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-125">Writers cannot directly query this information.</span></span> <span data-ttu-id="2eaf7-126">Esta no es una limitación significativa porque, por diseño, los escritores de VSS individuales no deben requerir información detallada sobre el estado de otros escritores en el sistema y, como se indicó anteriormente, los que no tienen componentes incluidos no tendrán que participar en la operación de VSS.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-126">This is not a significant limitation because by design, individual VSS writers should not require detailed information about the status of other writers on the system and, as noted above, those with no included components will not have to participate in the VSS operation.</span></span>

<span data-ttu-id="2eaf7-127">Un solicitante puede determinar qué componentes se han incluido explícitamente en una operación.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-127">A requester can determine which components have been explicitly included in an operation.</span></span>

<span data-ttu-id="2eaf7-128">El método [**IVssBackupComponents:: GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) devuelve el número de escritores con información de componente almacenada en el documento componentes de copia de seguridad (y no el número de componentes del documento).</span><span class="sxs-lookup"><span data-stu-id="2eaf7-128">The [**IVssBackupComponents::GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) method returns the number of writers with component information stored in the Backup Components Document (and not the number of components in the document).</span></span>

<span data-ttu-id="2eaf7-129">El solicitante indexa la información del escritor almacenado mediante [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents), que devuelve instancias de la interfaz [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) .</span><span class="sxs-lookup"><span data-stu-id="2eaf7-129">The requester indexes through the stored writer information using [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents), which returns instances of the [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) interface.</span></span> <span data-ttu-id="2eaf7-130">La interfaz **IVssWriterComponentsExt** permite al solicitante obtener la clase de [*escritor*](vssgloss-w.md) y la [*instancia del escritor*](vssgloss-w.md) de escritores participantes, así como obtener acceso a información sobre los componentes almacenados en el documento componentes de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-130">The **IVssWriterComponentsExt** interface allows the requester to obtain the [*writer class*](vssgloss-w.md) and [*writer instance*](vssgloss-w.md) of participating writers, as well as to access information about those of its components stored in the Backup Components Document.</span></span>

## <a name="information-on-included-components"></a><span data-ttu-id="2eaf7-131">Información sobre los componentes incluidos</span><span class="sxs-lookup"><span data-stu-id="2eaf7-131">Information on Included Components</span></span>

<span data-ttu-id="2eaf7-132">La representación del documento de componentes de copia de seguridad de los datos del componente (que no incluye información de ruta de acceso y de especificación de archivo), a la que se accede a través de instancias de la interfaz [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) .</span><span class="sxs-lookup"><span data-stu-id="2eaf7-132">The Backup Components Document's representation of the component data (which does not include path and file specification information), which is accessed through instances of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface.</span></span>

<span data-ttu-id="2eaf7-133">Los solicitantes y escritores obtienen acceso a las instancias de la interfaz [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) de maneras diferentes.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-133">Requesters and writers obtain access to instances of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface in different ways.</span></span>

<span data-ttu-id="2eaf7-134">Un solicitante examina los datos de componentes de un escritor mediante el uso de instancias de la interfaz [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) devuelta por [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span><span class="sxs-lookup"><span data-stu-id="2eaf7-134">A requester examines component data on a writer by writer basis by using instances of the [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) interface returned by [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span></span>

<span data-ttu-id="2eaf7-135">Además de la información de identificación del escritor, la interfaz [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) proporciona una matriz de instancias de la interfaz [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) , una para cada uno de los componentes de escritores seleccionados incluidos.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-135">In addition to the writer identification information, the [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) interface provides an array of instances of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface—one for each of the selected writers included components.</span></span>

<span data-ttu-id="2eaf7-136">Como se indicó en [ciclo de vida de documentos de componentes de copia de seguridad](backup-components-document-life-cycle.md), los escritores pueden obtener acceso a la misma información a través de la interfaz [**IVssWriterComponents**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswritercomponents) al controlar el evento PrepareForBackup, PrepareForSnapshot, postsnapshot, BackupComplete, prerestore o postrestore.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-136">As noted in [Backup Components Document Life Cycle](backup-components-document-life-cycle.md), the writers can gain access to the same information through the [**IVssWriterComponents**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswritercomponents) interface when handling the PrepareForBackup, PrepareForSnapshot, PostSnapshot, BackupComplete, PreRestore, or PostRestore event.</span></span>

<span data-ttu-id="2eaf7-137">[**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) permite que el escritor y los solicitantes obtengan la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="2eaf7-137">[**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) allows both writer and requesters to get the following information:</span></span>

-   <span data-ttu-id="2eaf7-138">El nombre de un componente, el tipo y la [*ruta de acceso lógica*](vssgloss-l.md) ([**GetComponentName**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getcomponentname), [**GetComponentType**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getcomponenttype), [**GetLogicalPath**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getlogicalpath))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-138">A component's name, type, and [*logical path*](vssgloss-l.md) ([**GetComponentName**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getcomponentname), [**GetComponentType**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getcomponenttype), [**GetLogicalPath**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getlogicalpath))</span></span>
-   <span data-ttu-id="2eaf7-139">Cómo se debe restaurar un componente según lo indicado por el [*destino de restauración*](vssgloss-r.md) ([**IVssComponent:: GetRestoreTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoretarget))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-139">How a component should be restored as indicated by the [*restore target*](vssgloss-r.md) ([**IVssComponent::GetRestoreTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoretarget))</span></span>
-   <span data-ttu-id="2eaf7-140">Si se usó una ubicación alternativa en la restauración de un archivo ([**GetAlternateLocationMapping**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getalternatelocationmapping), [**GetAlternateLocationMappingCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getalternatelocationmappingcount))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-140">If an alternate location was used in restoring a file ([**GetAlternateLocationMapping**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getalternatelocationmapping), [**GetAlternateLocationMappingCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getalternatelocationmappingcount))</span></span>
-   <span data-ttu-id="2eaf7-141">Nueva información de destino, si existe ([**GetNewTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtarget), [**GetNewTargetCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtargetcount))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-141">New target information, if any ([**GetNewTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtarget), [**GetNewTargetCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtargetcount))</span></span>
-   <span data-ttu-id="2eaf7-142">Mensajes de error anteriores y posteriores a la restauración ([**GetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getprerestorefailuremsg), [**GetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpostrestorefailuremsg))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-142">Pre-and post-restore error messages ([**GetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getprerestorefailuremsg), [**GetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpostrestorefailuremsg))</span></span>
-   <span data-ttu-id="2eaf7-143">Si se ha seleccionado una [*selección para el componente de copia de seguridad*](vssgloss-s.md) que define un conjunto de componentes para la restauración ([**IsSelectedForRestore**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-isselectedforrestore))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-143">If a [*selectable for backup*](vssgloss-s.md) component defining a component set has been selected for restore ([**IsSelectedForRestore**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-isselectedforrestore))</span></span>
-   <span data-ttu-id="2eaf7-144">Si una copia de seguridad o una restauración se realizó correctamente ([**GetBackupSucceeded**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupsucceeded), [**GetFileRestoreStatus**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getfilerestorestatus))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-144">Whether a backup or restore succeeded ([**GetBackupSucceeded**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupsucceeded), [**GetFileRestoreStatus**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getfilerestorestatus))</span></span>
-   <span data-ttu-id="2eaf7-145">Todas las opciones de copia de seguridad o restauración específicas del escritor que se puedan haber establecido mediante [**ivssbackupcomponents:: SetBackupOptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupoptions) o [**Ivssbackupcomponents:: SetRestoreOptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setrestoreoptions) ([**GetBackupOptions**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupoptions), [**GetRestoreOptions**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoreoptions))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-145">Any writer-specific backup or restore options that may have been set by [**IVssBackupComponents::SetBackupOptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupoptions) or [**IVssBackupComponents::SetRestoreOptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setrestoreoptions) ([**GetBackupOptions**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupoptions), [**GetRestoreOptions**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoreoptions))</span></span>
-   <span data-ttu-id="2eaf7-146">Cualquier metadatos de copia de seguridad o restauración de metadatos específicos del escritor ([**GetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupmetadata)), [**GetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoremetadata))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-146">Any writer-specific metadata backup or restore metadata ([**GetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupmetadata)), [**GetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoremetadata))</span></span>
-   <span data-ttu-id="2eaf7-147">Información de marca de tiempo ([**GetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp), [**GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-147">Time-stamp information ([**GetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp), [**GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp))</span></span>
-   <span data-ttu-id="2eaf7-148">Información sobre los subcomponentes de copia de seguridad incluidos explícitamente en una restauración ([**GetRestoreSubcomponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoresubcomponent), [**GetRestoreSubcomponentCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoresubcomponentcount))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-148">Information about backup subcomponents explicitly included in a restore ([**GetRestoreSubcomponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoresubcomponent), [**GetRestoreSubcomponentCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoresubcomponentcount))</span></span>

<span data-ttu-id="2eaf7-149">A diferencia de los solicitantes, los escritores pueden cambiar cierta información en el documento componentes de copia de seguridad a través de la interfaz [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) :</span><span class="sxs-lookup"><span data-stu-id="2eaf7-149">Unlike requesters, writers can change certain information in the Backup Components Document via the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface:</span></span>

-   <span data-ttu-id="2eaf7-150">Cómo se debe restaurar un componente según lo indicado por el destino de restauración ([**IVssComponent:: SetRestoreTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setrestoretarget))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-150">How a component should be restored as indicated by the restore target ([**IVssComponent::SetRestoreTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setrestoretarget))</span></span>
-   <span data-ttu-id="2eaf7-151">Metadatos de copia de seguridad y restauración específicos del escritor ([**IVssComponent:: SetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupmetadata), [**IVssComponent:: SetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setrestoremetadata))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-151">Writer-specific backup and restore metadata ([**IVssComponent::SetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupmetadata), [**IVssComponent::SetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setrestoremetadata))</span></span>
-   <span data-ttu-id="2eaf7-152">Información de marca de tiempo ([**SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-152">Time-stamp information ([**SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp))</span></span>
-   <span data-ttu-id="2eaf7-153">Mensajes de error anteriores y posteriores a la restauración ([**SetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setprerestorefailuremsg), [**SetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setpostrestorefailuremsg))</span><span class="sxs-lookup"><span data-stu-id="2eaf7-153">Pre- and post-restore error messages ([**SetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setprerestorefailuremsg), [**SetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setpostrestorefailuremsg))</span></span>

## <a name="requester-state-information"></a><span data-ttu-id="2eaf7-154">Información de estado del solicitante</span><span class="sxs-lookup"><span data-stu-id="2eaf7-154">Requester State Information</span></span>

<span data-ttu-id="2eaf7-155">Los solicitantes insertan información sobre el estado de una operación de copia de seguridad o restauración en el documento componentes de copia de seguridad mediante la interfaz [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) .</span><span class="sxs-lookup"><span data-stu-id="2eaf7-155">Requesters insert information about the state of a backup or restore operation into the Backup Components Document using the [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) interface.</span></span> <span data-ttu-id="2eaf7-156">Las aplicaciones de escritura pueden consultar esta información a través de la clase [**CVssWriter**](/windows/desktop/api/VsWriter/nl-vswriter-cvsswriter) .</span><span class="sxs-lookup"><span data-stu-id="2eaf7-156">Writer applications are able to query for this information through the [**CVssWriter**](/windows/desktop/api/VsWriter/nl-vswriter-cvsswriter) class.</span></span>

<span data-ttu-id="2eaf7-157">La información de estado almacenada en el documento componentes de copia de seguridad incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2eaf7-157">State information stored in the Backup Components Document includes the following:</span></span>

<span data-ttu-id="2eaf7-158">Información general sobre la copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="2eaf7-158">General Information about the Backup</span></span>

-   <span data-ttu-id="2eaf7-159">El tipo de copia de seguridad general (incremental, diferencial o completo)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-159">The overall backup type (incremental, differential, or full)</span></span><dl> <dt>

<span data-ttu-id="2eaf7-160">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-160">Set by requesters using [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-161">Recuperado por escritores mediante [ **CVssWriter:: GetBackupType**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-getbackuptype)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-161">Retrieved by writers using [**CVssWriter::GetBackupType**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-getbackuptype)</span></span>
</dt> </dl>
-   Whether component operations are supported<dl> <dt>

<span data-ttu-id="2eaf7-162">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-162">Set by requesters using [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-163">Recuperado por escritores mediante [ **CVssWriter:: AreComponentsSelected**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-arecomponentsselected)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-163">Retrieved by writers using [**CVssWriter::AreComponentsSelected**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-arecomponentsselected)</span></span>
</dt> </dl>
-   Whether the bootable system state is backed up<dl> <dt>

<span data-ttu-id="2eaf7-164">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-164">Set by requesters using [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-165">Recuperado por escritores mediante [ **CVssWriter:: IsBootableStateBackedUp**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-isbootablesystemstatebackedup)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-165">Retrieved by writers using [**CVssWriter::IsBootableStateBackedUp**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-isbootablesystemstatebackedup)</span></span>
</dt> </dl>
-   Whether partial file operations are supported<dl> <dt>

<span data-ttu-id="2eaf7-166">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-166">Set by requesters using [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-167">Recuperado por escritores mediante [ **CVssWriter:: IsPartialFileSupportEnabled**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispartialfilesupportenabled)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-167">Retrieved by writers using [**CVssWriter::IsPartialFileSupportEnabled**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispartialfilesupportenabled)</span></span>
</dt> </dl>

<span data-ttu-id="2eaf7-168">Información general acerca de la restauración</span><span class="sxs-lookup"><span data-stu-id="2eaf7-168">General Information about the Restore</span></span>

-   <span data-ttu-id="2eaf7-169">El tipo de restauración general (ya sea por copia o importación)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-169">The overall restore type (whether restore is by copy or import)</span></span><dl> <dt>

<span data-ttu-id="2eaf7-170">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetRestoreState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setrestorestate)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-170">Set by requesters using [**IVssBackupComponents::SetRestoreState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setrestorestate)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-171">Recuperado por escritores mediante [ **CVssWriter:: GetRestoreType**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-getrestoretype)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-171">Retrieved by writers using [**CVssWriter::GetRestoreType**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-getrestoretype)</span></span>
</dt> </dl>

<span data-ttu-id="2eaf7-172">Información sobre los archivos auxiliares</span><span class="sxs-lookup"><span data-stu-id="2eaf7-172">Information about Supporting Files</span></span>

-   <span data-ttu-id="2eaf7-173">Ubicación de los archivos de intervalos utilizados por un componente específico en operaciones de archivos parciales.</span><span class="sxs-lookup"><span data-stu-id="2eaf7-173">The location of ranges files used by a specific component in partial file operations</span></span><dl> <dt>

<span data-ttu-id="2eaf7-174">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetRangesFilePath**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setrangesfilepath)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-174">Set by requesters using [**IVssBackupComponents::SetRangesFilePath**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setrangesfilepath)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-175">Recuperado por escritores (o solicitantes) mediante [ **IVssComponent:: GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-175">Retrieved by writers (or requesters) using [**IVssComponent::GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile)</span></span>
</dt> </dl>

<span data-ttu-id="2eaf7-176">Estado de la información</span><span class="sxs-lookup"><span data-stu-id="2eaf7-176">Status of Information</span></span>

-   <span data-ttu-id="2eaf7-177">Indicar si se realizó correctamente una copia de seguridad de uno de los componentes de un escritor dado</span><span class="sxs-lookup"><span data-stu-id="2eaf7-177">Indicate whether one of a given writer's components was successfully backed up</span></span><dl> <dt>

<span data-ttu-id="2eaf7-178">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetBackupSucceeded**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupsucceeded)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-178">Set by requesters using [**IVssBackupComponents::SetBackupSucceeded**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupsucceeded)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-179">Recuperado por escritores y solicitantes mediante [ **IVssComponent:: GetBackupSucceeded**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupsucceeded)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-179">Retrieved by writers and requesters using [**IVssComponent::GetBackupSucceeded**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupsucceeded)</span></span>
</dt> </dl>
-   Indicate whether one of a given writer's components was successfully restored<dl> <dt>

<span data-ttu-id="2eaf7-180">Establecido por los solicitantes mediante [ **IVssBackupComponents:: SetFileRestoreStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setfilerestorestatus)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-180">Set by requesters using [**IVssBackupComponents::SetFileRestoreStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setfilerestorestatus)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-181">Recuperado por escritores y solicitante mediante [ **IVssComponent:: GetFileRestoreStatus**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getfilerestorestatus)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-181">Retrieved by writers and requester using [**IVssComponent::GetFileRestoreStatus**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getfilerestorestatus)</span></span>
</dt> </dl>

<span data-ttu-id="2eaf7-182">Información de Writer-Settable</span><span class="sxs-lookup"><span data-stu-id="2eaf7-182">Writer-Settable Information</span></span>

-   <span data-ttu-id="2eaf7-183">Especificación adicional de copia de seguridad para uno de los componentes de un escritor determinado</span><span class="sxs-lookup"><span data-stu-id="2eaf7-183">Additional backup specification for one of a given writer's components</span></span><dl> <dt>

<span data-ttu-id="2eaf7-184">Establecido por escritores mediante [ **IVssComponent:: SetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupmetadata)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-184">Set by writers using [**IVssComponent::SetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupmetadata)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-185">Recuperado por escritores y solicitantes mediante [ **IVssComponent:: GetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupmetadata)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-185">Retrieved by writers and requesters using [**IVssComponent::GetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupmetadata)</span></span>
</dt> </dl>
-   Additional restore specification for one of a given writer's components<dl> <dt>

<span data-ttu-id="2eaf7-186">Establecido por escritores mediante [ **IVssComponent:: SetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setrestoremetadata)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-186">Set by writers using [**IVssComponent::SetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setrestoremetadata)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-187">Recuperado por escritores y solicitantes mediante [ **IVssComponent:: GetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoremetadata)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-187">Retrieved by writers and requesters using [**IVssComponent::GetRestoreMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getrestoremetadata)</span></span>
</dt> </dl>
-   A backup stamp that indicates, in a writer's own specific format, the time of the current backup of one of its component's backups<dl> <dt>

<span data-ttu-id="2eaf7-188">Establecido por escritores mediante [ **IVssComponent:: SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-188">Set by writers using [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-189">Recuperado por escritores y solicitantes mediante [ **IVssComponent:: GetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-189">Retrieved by writers and requesters using [**IVssComponent::GetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp)</span></span>
<span data-ttu-id="2eaf7-190"></dt> </dl>
-   A backup stamp that indicates, in a writer's own specific format, the time of the last backup of one of its components' backups using a backup stamp initially set by <a href="/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp">IVssComponent::SetBackupStamp</a></span><span class="sxs-lookup"><span data-stu-id="2eaf7-190"></dt> </dl>
-   A backup stamp that indicates, in a writer's own specific format, the time of the last backup of one of its components' backups using a backup stamp initially set by <a href="/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp">IVssComponent::SetBackupStamp</a></span></span><dl> <dt>

<span data-ttu-id="2eaf7-191">Almacenada y establecida por solicitantes para un componente específico mediante [ **IVssBackupComponents:: SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-191">Stored and set by requesters for a specific component using [**IVssBackupComponents::SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-192">Recuperado por escritores y solicitantes mediante [ **IVssComponent:: GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-192">Retrieved by writers and requesters using [**IVssComponent::GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp)</span></span>
</dt> </dl>
-   Error messages for failure before and after restore operations<dl> <dt>

<span data-ttu-id="2eaf7-193">Establecido por escritores mediante [**IVssComponent:: SetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setprerestorefailuremsg) o [**IVssComponent:: SetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setpostrestorefailuremsg)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-193">Set by writers using [**IVssComponent::SetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setprerestorefailuremsg) or [**IVssComponent::SetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setpostrestorefailuremsg)</span></span>
</dt> <dt>

<span data-ttu-id="2eaf7-194">Recuperado por escritores y solicitantes mediante [**IVssComponent:: GetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getprerestorefailuremsg) o [**IVssComponent:: GetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpostrestorefailuremsg)</span><span class="sxs-lookup"><span data-stu-id="2eaf7-194">Retrieved by writers and requesters using [**IVssComponent::GetPreRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getprerestorefailuremsg) or [**IVssComponent::GetPostRestoreFailureMsg**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpostrestorefailuremsg)</span></span>
</dt> </dl>

 

 
