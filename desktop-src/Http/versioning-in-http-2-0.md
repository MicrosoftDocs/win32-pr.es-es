---
title: Control de versiones (API de servidor HTTP)
description: La API del servidor HTTP versión 2,0 aplica el control de versiones del ámbito del objeto para determinar la versión de la API.
ms.assetid: 2c2d7501-85e0-44ec-aa42-01372b29266e
keywords:
- Control de versiones en la API del servidor HTTP versión 2,0
- Servidor HTTP versión 2,0 API, control de versiones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5221ff7a93bb24e7e0b8a1b9f7c2399012cdbe95
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/10/2020
ms.locfileid: "104149795"
---
# <a name="versioning-http-server-api"></a><span data-ttu-id="8ac44-105">Control de versiones (API de servidor HTTP)</span><span class="sxs-lookup"><span data-stu-id="8ac44-105">Versioning (HTTP Server API)</span></span>

<span data-ttu-id="8ac44-106">La API del servidor HTTP versión 2,0 hace que las colas de solicitudes de la versión 1,0 y las asociaciones de direcciones URL queden obsoletas con la cola de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="8ac44-106">The HTTP Server version 2.0 API makes obsolete the version 1.0 request queues and URL associations with the request queue.</span></span> <span data-ttu-id="8ac44-107">El control de versiones de ámbito de objeto permite a las aplicaciones proporcionar información de versión específica de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8ac44-107">Object-scoped versioning allows applications to supply application-specific version information.</span></span> <span data-ttu-id="8ac44-108">Una aplicación puede llamar automáticamente a la versión correcta de las estructuras para el sistema operativo en el que se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="8ac44-108">An applications can automatically call the correct version of structures for the operating system on which it is running.</span></span>

## <a name="request-queues"></a><span data-ttu-id="8ac44-109">Solicitar colas</span><span class="sxs-lookup"><span data-stu-id="8ac44-109">Request Queues</span></span>

<span data-ttu-id="8ac44-110">A partir de la versión 2,0 de la API del servidor HTTP, las colas de solicitudes se crean con [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) , lo que permite que la versión 1,0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) esté obsoleta.</span><span class="sxs-lookup"><span data-stu-id="8ac44-110">Starting with HTTP Server version 2.0 API, request queues are created with [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) making obsolete the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) function.</span></span> <span data-ttu-id="8ac44-111">Los grupos de direcciones URL se introducen en la versión 2,0 con la función [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) .</span><span class="sxs-lookup"><span data-stu-id="8ac44-111">URL groups are introduced in version 2.0 with the [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) function.</span></span> <span data-ttu-id="8ac44-112">Las direcciones URL se agregan al grupo mediante [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) , lo que hace que la función [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) de la versión 1,0 sea obsoleta.</span><span class="sxs-lookup"><span data-stu-id="8ac44-112">URLs are added to the group using [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) which makes obsolete the version 1.0 [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) function.</span></span> <span data-ttu-id="8ac44-113">Los grupos de direcciones URL de la versión 2,0 no deben usarse con colas de solicitudes de la versión 1,0.</span><span class="sxs-lookup"><span data-stu-id="8ac44-113">Version 2.0 URL groups must not be used with version 1.0 request queues.</span></span>

<span data-ttu-id="8ac44-114">A partir de la versión 2,0, las siguientes funciones de la versión 1,0 están obsoletas y no se pueden usar con las colas de solicitudes de la versión 2,0:</span><span class="sxs-lookup"><span data-stu-id="8ac44-114">Starting with version 2.0, the following version 1.0 functions are obsolete and cannot be used with version 2.0 request queues:</span></span>

-   [<span data-ttu-id="8ac44-115">**HttpCreateHttpHandle**</span><span class="sxs-lookup"><span data-stu-id="8ac44-115">**HttpCreateHttpHandle**</span></span>](/windows/desktop/api/Http/nf-http-httpcreatehttphandle)
-   [<span data-ttu-id="8ac44-116">**HttpAddUrl**</span><span class="sxs-lookup"><span data-stu-id="8ac44-116">**HttpAddUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpaddurl)
-   [<span data-ttu-id="8ac44-117">**HttpRemoveUrl**</span><span class="sxs-lookup"><span data-stu-id="8ac44-117">**HttpRemoveUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpremoveurl)

<span data-ttu-id="8ac44-118">Para obtener más información sobre la configuración de grupos de direcciones URL, vea el tema [configurar el grupo de direcciones URL](configuring-the-url-group.md) .</span><span class="sxs-lookup"><span data-stu-id="8ac44-118">For more information about configuring URL groups, see the [Configuring the URL Group](configuring-the-url-group.md) topic.</span></span> <span data-ttu-id="8ac44-119">Para obtener más información sobre las colas de solicitudes de la versión 2,0, vea el tema [cola de solicitudes con nombre](named-request-queue.md) .</span><span class="sxs-lookup"><span data-stu-id="8ac44-119">For more information about version 2.0 request queues, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="object-scoped-versioning"></a><span data-ttu-id="8ac44-120">Control de versiones de Object-Scoped</span><span class="sxs-lookup"><span data-stu-id="8ac44-120">Object-Scoped Versioning</span></span>

<span data-ttu-id="8ac44-121">En la versión 1,0, la aplicación proporciona la versión de la API del servidor HTTP en la llamada a [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span><span class="sxs-lookup"><span data-stu-id="8ac44-121">In version 1.0, the application supplies the HTTP Server API version in the call to [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span></span> <span data-ttu-id="8ac44-122">La información de versión solo se acepta desde la primera aplicación que llamó a **HttpInitialize** y se aplica a todas las aplicaciones de API de servidor http en el mismo proceso.</span><span class="sxs-lookup"><span data-stu-id="8ac44-122">The version information is accepted only from the first application that called **HttpInitialize** and is applied to all the HTTP Server API applications in the same process.</span></span> <span data-ttu-id="8ac44-123">A partir de la versión 2,0 de la API, no se utiliza la información de versión global suministrada en la llamada a **HttpInitialize** .</span><span class="sxs-lookup"><span data-stu-id="8ac44-123">Starting with the version 2.0 API, the global version information supplied in the call to **HttpInitialize** is not used.</span></span> <span data-ttu-id="8ac44-124">En el caso de las aplicaciones de la versión 2,0, la versión de la API del servidor HTTP se pasa en el parámetro de versión cuando [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) o [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession)crea la cola de solicitudes o la sesión del servidor.</span><span class="sxs-lookup"><span data-stu-id="8ac44-124">For version 2.0 applications, the HTTP Server API version is passed in the Version parameter when the request queue or server session is created by [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) or [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession).</span></span> <span data-ttu-id="8ac44-125">Cuando se crea la cola de solicitudes con la versión 1,0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), se marca automáticamente como la versión 1,0.</span><span class="sxs-lookup"><span data-stu-id="8ac44-125">When the request queue is created with the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), it is automatically marked as version 1.0.</span></span> <span data-ttu-id="8ac44-126">Las aplicaciones de la versión 1,0 y la versión 2,0 se pueden ejecutar en el mismo proceso.</span><span class="sxs-lookup"><span data-stu-id="8ac44-126">Both version 1.0 and version 2.0 applications can run in the same process.</span></span>

<span data-ttu-id="8ac44-127">Las estructuras de [**\_ solicitud HTTP**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) y [**\_ respuesta http**](http-response.md) se actualizan para incluir información de autenticación en la API del servidor http versión 2,0.</span><span class="sxs-lookup"><span data-stu-id="8ac44-127">The [**HTTP\_REQUEST**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) and [**HTTP\_RESPONSE**](http-response.md) structures are updated to include authentication information in the HTTP Server version 2.0 API.</span></span> <span data-ttu-id="8ac44-128">[**Http \_ Las solicitudes \_ v1**](/windows/desktop/api/Http/ns-http-http_request_v1) y [**http \_ \_ V2**](/windows/desktop/api/Http/ns-http-http_request_v2) son específicas de la versión de la API usada por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8ac44-128">[**HTTP\_REQUEST\_V1**](/windows/desktop/api/Http/ns-http-http_request_v1) and [**HTTP\_REQUEST\_V2**](/windows/desktop/api/Http/ns-http-http_request_v2) are specific to the version of the API used by the application.</span></span> <span data-ttu-id="8ac44-129">Sin embargo, las aplicaciones no deben usar estas estructuras directamente en su código; en su lugar, deben utilizar la **\_ solicitud HTTP** para obtener la versión correcta en función de la versión de la cola de solicitudes en la que se recibió la solicitud.</span><span class="sxs-lookup"><span data-stu-id="8ac44-129">However, applications should not use these structures directly in their code; instead they should use **HTTP\_REQUEST** to get the correct version based on the version of the request queue on which the request was received.</span></span> <span data-ttu-id="8ac44-130">Además, tenga en cuenta que el tamaño de la estructura de la **\_ solicitud HTTP** se basa en la versión del sistema operativo en el que se compila el código.</span><span class="sxs-lookup"><span data-stu-id="8ac44-130">Also, be aware that size of the **HTTP\_REQUEST** structure is based on the version of the operating system under which the code is compiled.</span></span>

 

 
