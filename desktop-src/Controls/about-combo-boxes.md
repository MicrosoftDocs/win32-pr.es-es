---
title: Acerca de los cuadros combinados
description: En esta sección se describen los diferentes tipos de cuadros combinados.
ms.assetid: 76410a87-aa0e-4da9-9e78-c80ac485e3cd
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 344596a3c0aa772568956344aaddcc053b534993
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104556195"
---
# <a name="about-combo-boxes"></a><span data-ttu-id="5e0b8-103">Acerca de los cuadros combinados</span><span class="sxs-lookup"><span data-stu-id="5e0b8-103">About Combo Boxes</span></span>

<span data-ttu-id="5e0b8-104">Un cuadro combinado combina un cuadro de edición o texto estático y una lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-104">A combo box combines an edit box or static text and a list.</span></span>

<span data-ttu-id="5e0b8-105">En este tema se incluyen las siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-105">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="5e0b8-106">Tipos y estilos de cuadro combinado</span><span class="sxs-lookup"><span data-stu-id="5e0b8-106">Combo Box Types and Styles</span></span>](#combo-box-types-and-styles)
-   [<span data-ttu-id="5e0b8-107">Lista de cuadro combinado</span><span class="sxs-lookup"><span data-stu-id="5e0b8-107">Combo Box List</span></span>](#combo-box-list)
    -   [<span data-ttu-id="5e0b8-108">Selección actual</span><span class="sxs-lookup"><span data-stu-id="5e0b8-108">Current Selection</span></span>](#current-selection)
    -   [<span data-ttu-id="5e0b8-109">Listas desplegables</span><span class="sxs-lookup"><span data-stu-id="5e0b8-109">Drop-down Lists</span></span>](#drop-down-lists)
    -   [<span data-ttu-id="5e0b8-110">Contenido de la lista</span><span class="sxs-lookup"><span data-stu-id="5e0b8-110">List Contents</span></span>](#list-contents)
-   [<span data-ttu-id="5e0b8-111">Editar campos de selección de controles</span><span class="sxs-lookup"><span data-stu-id="5e0b8-111">Edit Control Selection Fields</span></span>](#edit-control-selection-fields)
-   [<span data-ttu-id="5e0b8-112">Cuadros combinados dibujados por el propietario</span><span class="sxs-lookup"><span data-stu-id="5e0b8-112">Owner-Drawn Combo Boxes</span></span>](#owner-drawn-combo-boxes)
-   [<span data-ttu-id="5e0b8-113">Cuadros combinados de subclases</span><span class="sxs-lookup"><span data-stu-id="5e0b8-113">Subclassed Combo Boxes</span></span>](#subclassed-combo-boxes)

## <a name="combo-box-types-and-styles"></a><span data-ttu-id="5e0b8-114">Tipos y estilos de cuadro combinado</span><span class="sxs-lookup"><span data-stu-id="5e0b8-114">Combo Box Types and Styles</span></span>

<span data-ttu-id="5e0b8-115">Un cuadro combinado consta de una lista y un campo de selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-115">A combo box consists of a list and a selection field.</span></span> <span data-ttu-id="5e0b8-116">La lista presenta las opciones que un usuario puede seleccionar y el campo de selección muestra la selección actual.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-116">The list presents the options that a user can select, and the selection field displays the current selection.</span></span> <span data-ttu-id="5e0b8-117">Si el campo de selección es un control de edición, el usuario puede escribir información que no esté disponible en la lista. de lo contrario, el usuario solo puede seleccionar los elementos de la lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-117">If the selection field is an edit control, the user can enter information not available in the list; otherwise, the user can only select items in the list.</span></span>

<span data-ttu-id="5e0b8-118">La biblioteca de controles comunes incluye tres estilos principales de cuadro combinado, tal y como se muestra en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-118">The common controls library includes three main styles of combo box, as shown in the following table.</span></span>



| <span data-ttu-id="5e0b8-119">Tipo de cuadro combinado</span><span class="sxs-lookup"><span data-stu-id="5e0b8-119">Combo box type</span></span>             | <span data-ttu-id="5e0b8-120">Constante de estilo</span><span class="sxs-lookup"><span data-stu-id="5e0b8-120">Style constant</span></span>                                                 | <span data-ttu-id="5e0b8-121">Descripción</span><span class="sxs-lookup"><span data-stu-id="5e0b8-121">Description</span></span>                                                                                  |
|----------------------------|----------------------------------------------------------------|----------------------------------------------------------------------------------------------|
| <span data-ttu-id="5e0b8-122">Simple</span><span class="sxs-lookup"><span data-stu-id="5e0b8-122">Simple</span></span>                     | [<span data-ttu-id="5e0b8-123">**CBS \_ simple**</span><span class="sxs-lookup"><span data-stu-id="5e0b8-123">**CBS\_SIMPLE**</span></span>](combo-box-styles.md)             | <span data-ttu-id="5e0b8-124">Muestra la lista en todo momento y muestra el elemento seleccionado en un control de edición.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-124">Displays the list at all times, and shows the selected item in an edit control.</span></span>              |
| <span data-ttu-id="5e0b8-125">Drop-down</span><span class="sxs-lookup"><span data-stu-id="5e0b8-125">Drop-down</span></span>                  | [<span data-ttu-id="5e0b8-126">**\_lista desplegable de CBS**</span><span class="sxs-lookup"><span data-stu-id="5e0b8-126">**CBS\_DROPDOWN**</span></span>](combo-box-styles.md)         | <span data-ttu-id="5e0b8-127">Muestra la lista al hacer clic en el icono y muestra el elemento seleccionado en un control de edición.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-127">Displays the list when the icon is clicked, and shows the selected item in an edit control.</span></span>  |
| <span data-ttu-id="5e0b8-128">Lista desplegable (lista desplegable)</span><span class="sxs-lookup"><span data-stu-id="5e0b8-128">Drop-down list (drop list)</span></span> | [<span data-ttu-id="5e0b8-129">**DROPDOWNLIST de CBS \_**</span><span class="sxs-lookup"><span data-stu-id="5e0b8-129">**CBS\_DROPDOWNLIST**</span></span>](combo-box-styles.md) | <span data-ttu-id="5e0b8-130">Muestra la lista al hacer clic en el icono y muestra el elemento seleccionado en un control estático.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-130">Displays the list when the icon is clicked, and shows the selected item in a static control.</span></span> |



 

<span data-ttu-id="5e0b8-131">Las capturas de pantalla siguientes muestran los tres tipos de cuadro combinado tal como pueden aparecer en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-131">The following screen shots each show the three kinds of combo box as they might appear in Windows Vista.</span></span> <span data-ttu-id="5e0b8-132">En la primera captura de pantalla, el usuario ha seleccionado un elemento en el cuadro combinado simple.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-132">In the first screen shot, the user has selected an item in the simple combo box.</span></span> <span data-ttu-id="5e0b8-133">El usuario también puede escribir un nuevo valor en el cuadro de edición de este control.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-133">The user can also type a new value in the edit box of this control.</span></span> <span data-ttu-id="5e0b8-134">La lista tiene el mismo tamaño en el editor de recursos de Microsoft Visual Studio y es lo suficientemente grande como para alojar dos elementos.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-134">The list has been sized in the Microsoft Visual Studio resource editor and is only large enough to accommodate two items.</span></span>

![captura de pantalla que muestra un elemento seleccionado en un cuadro combinado simple](images/simplecombo.png)

<span data-ttu-id="5e0b8-136">En la segunda captura de pantalla, el usuario ha escrito nuevo texto en el control de edición del cuadro combinado desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-136">In the second screen shot, the user has typed new text in the edit control of the drop-down combo box.</span></span> <span data-ttu-id="5e0b8-137">El usuario también podría haber seleccionado un elemento existente.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-137">The user could also have selected an existing item.</span></span> <span data-ttu-id="5e0b8-138">El cuadro de lista se expande para acomodar tantos elementos como sea posible.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-138">The list box expands to accommodate as many items as possible.</span></span>

![captura de pantalla que muestra el texto escrito en un cuadro combinado desplegable](images/dropdown.png)

<span data-ttu-id="5e0b8-140">En la tercera captura de pantalla, el usuario ha abierto el cuadro combinado de la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-140">In the third screen shot, the user has opened the drop-down list combo box.</span></span> <span data-ttu-id="5e0b8-141">El cuadro de lista se expande para acomodar tantos elementos como sea posible.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-141">The list box expands to accommodate as many items as possible.</span></span> <span data-ttu-id="5e0b8-142">El usuario no puede escribir texto nuevo.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-142">The user cannot enter new text.</span></span>

![captura de pantalla que muestra un elemento seleccionado en un cuadro combinado de lista desplegable](images/droplist.png)

<span data-ttu-id="5e0b8-144">También hay varios estilos de cuadro combinado que definen propiedades específicas.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-144">There are also a number of combo box styles that define specific properties.</span></span> <span data-ttu-id="5e0b8-145">Los estilos de cuadro combinado definen propiedades específicas de un cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-145">Combo box styles define specific properties of a combo box.</span></span> <span data-ttu-id="5e0b8-146">Puede combinar estilos; sin embargo, algunos estilos solo se aplican a determinados tipos de cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-146">You can combine styles; however, some styles apply only to certain combo box types.</span></span> <span data-ttu-id="5e0b8-147">Para obtener una tabla de estilos de cuadro combinado, vea [estilos de cuadro combinado](combo-box-styles.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-147">For a table of combo box styles, see [Combo Box Styles](combo-box-styles.md).</span></span>

> [!Note]  
> <span data-ttu-id="5e0b8-148">Para usar estilos visuales con cuadros combinados, una aplicación debe incluir un manifiesto y debe llamar a [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) al principio del programa.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-148">To use visual styles with combo boxes, an application must include a manifest and must call [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) at the beginning of the program.</span></span> <span data-ttu-id="5e0b8-149">Para obtener información sobre los estilos visuales, vea [estilos visuales](themes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-149">For information on visual styles, see [Visual Styles](themes-overview.md).</span></span> <span data-ttu-id="5e0b8-150">Para obtener información sobre los manifiestos, vea [habilitar estilos visuales](cookbook-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-150">For information on manifests, see [Enabling Visual Styles](cookbook-overview.md).</span></span>

 

## <a name="combo-box-list"></a><span data-ttu-id="5e0b8-151">Lista de cuadro combinado</span><span class="sxs-lookup"><span data-stu-id="5e0b8-151">Combo Box List</span></span>

<span data-ttu-id="5e0b8-152">La lista es la parte de un cuadro combinado que muestra los elementos que un usuario puede seleccionar.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-152">The list is the portion of a combo box that displays the items a user can select.</span></span> <span data-ttu-id="5e0b8-153">Normalmente, una aplicación inicializa el contenido de la lista cuando crea un cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-153">Typically, an application initializes the contents of the list when it creates a combo box.</span></span> <span data-ttu-id="5e0b8-154">Cualquier elemento de lista seleccionado por el usuario es la *selección actual*.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-154">Any list item selected by the user is the *current selection*.</span></span> <span data-ttu-id="5e0b8-155">No se pueden seleccionar varios elementos.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-155">Multiple items cannot be selected.</span></span> <span data-ttu-id="5e0b8-156">En los cuadros combinados simple y desplegable, el usuario puede escribir en el campo de selección en lugar de seleccionar un elemento de lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-156">In simple and drop-down combo boxes, the user can type in the selection field instead of selecting a list item.</span></span> <span data-ttu-id="5e0b8-157">En estos casos, no hay ninguna selección actual y es responsabilidad de la aplicación agregar el elemento a la lista y convertirlo en la selección actual, si es adecuado hacerlo.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-157">In these cases, there is no current selection, and it is the application's responsibility to add the item to the list and make it the current selection, if it is appropriate to do so.</span></span>

<span data-ttu-id="5e0b8-158">En esta sección se tratan los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="5e0b8-158">This section discusses following topics:</span></span>

-   [<span data-ttu-id="5e0b8-159">Selección actual</span><span class="sxs-lookup"><span data-stu-id="5e0b8-159">Current Selection</span></span>](#current-selection)
-   [<span data-ttu-id="5e0b8-160">Listas desplegables</span><span class="sxs-lookup"><span data-stu-id="5e0b8-160">Drop-down Lists</span></span>](#drop-down-lists)
-   [<span data-ttu-id="5e0b8-161">Contenido de la lista</span><span class="sxs-lookup"><span data-stu-id="5e0b8-161">List Contents</span></span>](#list-contents)

### <a name="current-selection"></a><span data-ttu-id="5e0b8-162">Selección actual</span><span class="sxs-lookup"><span data-stu-id="5e0b8-162">Current Selection</span></span>

<span data-ttu-id="5e0b8-163">La selección actual es un elemento de lista que el usuario ha seleccionado; el texto seleccionado aparece en el campo de selección del cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-163">The current selection is a list item that the user has selected; the selected text appears in the selection field of the combo box.</span></span> <span data-ttu-id="5e0b8-164">Sin embargo, en el caso de un cuadro combinado simple o un cuadro combinado desplegable, la selección actual solo es una forma de posible entrada del usuario en un cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-164">However, in the case of a simple combo box or a drop-down combo box, the current selection is only one form of possible user input in a combo box.</span></span> <span data-ttu-id="5e0b8-165">El usuario también puede escribir texto en el campo de selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-165">The user can also type text in the selection field.</span></span>

<span data-ttu-id="5e0b8-166">La selección actual está identificada por el índice de base cero del elemento de lista seleccionado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-166">The current selection is identified by the zero-based index of the selected list item.</span></span> <span data-ttu-id="5e0b8-167">Una aplicación puede establecerla y recuperarla en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-167">An application can set and retrieve it at any time.</span></span> <span data-ttu-id="5e0b8-168">La ventana primaria o el procedimiento de cuadro de diálogo recibe una notificación cuando el usuario cambia la selección actual de un cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-168">The parent window or dialog box procedure receives notification when the user changes the current selection for a combo box.</span></span> <span data-ttu-id="5e0b8-169">La ventana o el cuadro de diálogo primario no se notifican cuando la aplicación cambia la selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-169">The parent window or dialog box is not notified when the application changes the selection.</span></span>

<span data-ttu-id="5e0b8-170">Cuando se crea un cuadro combinado, no hay ninguna selección actual.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-170">When a combo box is created, there is no current selection.</span></span> <span data-ttu-id="5e0b8-171">Esto también se aplica a un cuadro combinado simple o desplegable, si el usuario ha editado el contenido del campo de selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-171">This is also true for a simple or drop-down combo box, if the user has edited the contents of the selection field.</span></span> <span data-ttu-id="5e0b8-172">Para establecer la selección actual, una aplicación envía el mensaje [**CB \_ SETCURSEL**](cb-setcursel.md) al cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-172">To set the current selection, an application sends the [**CB\_SETCURSEL**](cb-setcursel.md) message to the combo box.</span></span> <span data-ttu-id="5e0b8-173">Una aplicación también puede usar el mensaje [**CB \_ SELECTSTRING**](cb-selectstring.md) para establecer la selección actual en un elemento de lista cuya cadena comienza con una cadena especificada.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-173">An application can also use the [**CB\_SELECTSTRING**](cb-selectstring.md) message to set the current selection to a list item whose string begins with a specified string.</span></span> <span data-ttu-id="5e0b8-174">Para determinar la selección actual, una aplicación envía el mensaje [**CB \_ GETCURSEL**](cb-getcursel.md) al cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-174">To determine the current selection, an application sends the [**CB\_GETCURSEL**](cb-getcursel.md) message to the combo box.</span></span> <span data-ttu-id="5e0b8-175">Si no hay ninguna selección actual, este mensaje devuelve el \_ error CB.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-175">If there is no current selection, this message returns CB\_ERR.</span></span>

<span data-ttu-id="5e0b8-176">Cuando el usuario cambia la selección actual en un cuadro combinado, el procedimiento de cuadro de diálogo o la ventana primaria recibe un mensaje de [**\_ comando de WM**](/windows/desktop/menurc/wm-command) con el código de notificación [ \_ SELCHANGE de CBN](cbn-selchange.md) en la palabra de orden superior del parámetro *wParam* .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-176">When the user changes the current selection in a combo box, the parent window or dialog-box procedure receives a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message with the [CBN\_SELCHANGE](cbn-selchange.md) notification code in the high-order word of the *wParam* parameter.</span></span> <span data-ttu-id="5e0b8-177">Este código de notificación no se envía cuando la selección actual se establece mediante el mensaje [**CB \_ SETCURSEL**](cb-setcursel.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-177">This notification code is not sent when the current selection is set using the [**CB\_SETCURSEL**](cb-setcursel.md) message.</span></span>

<span data-ttu-id="5e0b8-178">Un cuadro combinado desplegable o un cuadro de lista desplegable envía el código de notificación [CBN \_ primer plano](cbn-closeup.md) al procedimiento primario de la ventana o cuadro de diálogo cuando se cierra la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-178">A drop-down combo box or drop-down list box sends the [CBN\_CLOSEUP](cbn-closeup.md) notification code to the parent window or dialog-box procedure when the drop-down list closes.</span></span> <span data-ttu-id="5e0b8-179">Si el usuario ha cambiado la selección actual, el cuadro combinado también enviará el código de notificación [CBN \_ SELCHANGE](cbn-selchange.md) cuando se cierre la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-179">If the user changed the current selection, the combo box also sends the [CBN\_SELCHANGE](cbn-selchange.md) notification code when the drop-down list closes.</span></span> <span data-ttu-id="5e0b8-180">Para ejecutar un proceso específico cada vez que el usuario selecciona un elemento de lista, puede controlar el \_ código de notificación CBN SELCHANGE o CBN \_ primer plano.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-180">To execute a specific process each time the user selects a list item, you can handle either the CBN\_SELCHANGE or CBN\_CLOSEUP notification code.</span></span> <span data-ttu-id="5e0b8-181">Normalmente, se espera el \_ código de notificación primer plano de CBN antes de procesar un cambio en la selección actual.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-181">Typically, you would wait for the CBN\_CLOSEUP notification code before processing a change in the current selection.</span></span> <span data-ttu-id="5e0b8-182">Esto puede ser especialmente importante si se requiere una cantidad significativa de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-182">This can be particularly important if a significant amount of processing is required.</span></span>

<span data-ttu-id="5e0b8-183">Una aplicación también podría procesar los códigos de notificación [CBN \_ SELENDOK](cbn-selendok.md) y [CBN \_ SELENDCANCEL](cbn-selendcancel.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-183">An application could also process the [CBN\_SELENDOK](cbn-selendok.md) and [CBN\_SELENDCANCEL](cbn-selendcancel.md) notification codes.</span></span> <span data-ttu-id="5e0b8-184">El sistema envía CBN \_ SELENDOK cuando el usuario selecciona un elemento de lista, o selecciona un elemento y, a continuación, cierra la lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-184">The system sends CBN\_SELENDOK when the user selects a list item, or selects an item and then closes the list.</span></span> <span data-ttu-id="5e0b8-185">Esto indica que el usuario ha finalizado y que se debe procesar la selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-185">This indicates that the user has finished, and that the selection should be processed.</span></span> <span data-ttu-id="5e0b8-186">CBN \_ SELENDCANCEL se envía cuando el usuario selecciona un elemento, pero selecciona otro control, presiona ESC mientras la lista desplegable está abierta o cierra el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-186">CBN\_SELENDCANCEL is sent when the user selects an item, but then selects another control, presses ESC while the drop-down list is open, or closes the dialog box.</span></span> <span data-ttu-id="5e0b8-187">Esto indica que la selección del usuario se debe omitir.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-187">This indicates that the user's selection should be ignored.</span></span> <span data-ttu-id="5e0b8-188">CBN \_ SELENDOK se envía antes de cada mensaje de [CBN \_ SELCHANGE](cbn-selchange.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-188">CBN\_SELENDOK is sent before every [CBN\_SELCHANGE](cbn-selchange.md) message.</span></span>

<span data-ttu-id="5e0b8-189">En un cuadro combinado simple, el sistema envía el código de notificación [CBN \_ DBLCLK](cbn-dblclk.md) cuando el usuario hace doble clic en un elemento de lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-189">In a simple combo box, the system sends the [CBN\_DBLCLK](cbn-dblclk.md) notification code when the user double-clicks a list item.</span></span> <span data-ttu-id="5e0b8-190">En un cuadro combinado desplegable o una lista desplegable, un solo clic oculta la lista, por lo que no es posible hacer doble clic en un elemento.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-190">In a drop-down combo box or drop-down list, a single click hides the list, so it is not possible to double-click an item.</span></span>

### <a name="drop-down-lists"></a><span data-ttu-id="5e0b8-191">Listas desplegables</span><span class="sxs-lookup"><span data-stu-id="5e0b8-191">Drop-down Lists</span></span>

<span data-ttu-id="5e0b8-192">Ciertas notificaciones y mensajes solo se aplican a los cuadros combinados que contienen listas desplegables.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-192">Certain notifications and messages apply only to combo boxes containing drop-down lists.</span></span> <span data-ttu-id="5e0b8-193">Cuando una lista desplegable está abierta o cerrada, la ventana primaria de un cuadro combinado recibe una notificación en forma de mensaje de [**\_ comando de WM**](/windows/desktop/menurc/wm-command) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-193">When a drop-down list is open or closed, the parent window of a combo box receives a notification in the form of a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message.</span></span> <span data-ttu-id="5e0b8-194">Si se abre la lista, la palabra de orden superior de *wParam* es [CBN \_ DROPDOWN](cbn-dropdown.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-194">If the list is being opened, the high-order word of *wParam* is [CBN\_DROPDOWN](cbn-dropdown.md).</span></span> <span data-ttu-id="5e0b8-195">Si se cierra la lista, es [CBN \_ primer plano](cbn-closeup.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-195">If the list is being closed, it is [CBN\_CLOSEUP](cbn-closeup.md).</span></span>

<span data-ttu-id="5e0b8-196">Una aplicación puede abrir la lista de un cuadro combinado desplegable o un cuadro de lista desplegable mediante el mensaje [**CB \_ SHOWDROPDOWN**](cb-showdropdown.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-196">An application can open the list of a drop-down combo box or drop-down list box by using the [**CB\_SHOWDROPDOWN**](cb-showdropdown.md) message.</span></span> <span data-ttu-id="5e0b8-197">Puede determinar si la lista está abierta mediante el mensaje [**CB \_ GETDROPPEDSTATE**](cb-getdroppedstate.md) y puede determinar las coordenadas de una lista desplegable mediante el mensaje [**CB \_ GETDROPPEDCONTROLRECT**](cb-getdroppedcontrolrect.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-197">It can determine whether the list is open by using the [**CB\_GETDROPPEDSTATE**](cb-getdroppedstate.md) message and can determine the coordinates of a drop-down list by using the [**CB\_GETDROPPEDCONTROLRECT**](cb-getdroppedcontrolrect.md) message.</span></span> <span data-ttu-id="5e0b8-198">Una aplicación también puede aumentar el ancho de una lista desplegable mediante el mensaje [**CB \_ SETDROPPEDWIDTH**](cb-setdroppedwidth.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-198">An application can also increase the width of a drop-down list by using the [**CB\_SETDROPPEDWIDTH**](cb-setdroppedwidth.md) message.</span></span>

### <a name="list-contents"></a><span data-ttu-id="5e0b8-199">Contenido de la lista</span><span class="sxs-lookup"><span data-stu-id="5e0b8-199">List Contents</span></span>

<span data-ttu-id="5e0b8-200">Cuando una aplicación crea un cuadro combinado, normalmente inicializa el cuadro combinado agregando uno o más elementos a la lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-200">When an application creates a combo box, it typically initializes the combo box by adding one or more items to the list.</span></span> <span data-ttu-id="5e0b8-201">Más adelante, una aplicación puede Agregar o eliminar elementos de lista, reinicializar la lista o recuperar información de los elementos de ella.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-201">Later, an application may add or delete list items, reinitialize the list, or retrieve item information from it.</span></span>

<span data-ttu-id="5e0b8-202">Una aplicación agrega elementos de lista a un cuadro combinado mediante el envío del mensaje [**CB \_ ADDSTRING**](cb-addstring.md) a él.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-202">An application adds list items to a combo box by sending the [**CB\_ADDSTRING**](cb-addstring.md) message to it.</span></span> <span data-ttu-id="5e0b8-203">El elemento especificado se agrega al final de la lista o, en un cuadro combinado ordenado, en su posición ordenada correcta en función de la cadena del elemento.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-203">The specified item is added to the end of the list or, in a sorted combo box, in its correct sorted position based on the item's string.</span></span> <span data-ttu-id="5e0b8-204">En un cuadro combinado sin ordenar, una aplicación puede utilizar el mensaje [**CB \_ INSERTSTRING**](cb-insertstring.md) para insertar un elemento en una posición específica.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-204">In an unsorted combo box, an application can use the [**CB\_INSERTSTRING**](cb-insertstring.md) message to insert an item at a specific position.</span></span> <span data-ttu-id="5e0b8-205">Una vez agregado, un elemento de lista se identifica por su posición.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-205">Once added, a list item is identified by its position.</span></span>

<span data-ttu-id="5e0b8-206">Mediante el mensaje [**CB \_ FINDSTRING**](cb-findstring.md) o [**CB \_ FindExactString con**](cb-findstringexact.md) , una aplicación puede determinar la posición de un elemento de lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-206">By using the [**CB\_FINDSTRING**](cb-findstring.md) or [**CB\_FINDSTRINGEXACT**](cb-findstringexact.md) message, an application can determine the position of a list item.</span></span> <span data-ttu-id="5e0b8-207">**CB \_ FINDSTRING** busca un elemento cuya cadena comienza con la cadena especificada.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-207">**CB\_FINDSTRING** finds an item whose string begins with the specified string.</span></span> <span data-ttu-id="5e0b8-208">**CB \_ FINDEXACTSTRING con** busca un elemento cuya cadena coincide exactamente con la cadena.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-208">**CB\_FINDSTRINGEXACT** finds an item whose string matches the string exactly.</span></span> <span data-ttu-id="5e0b8-209">Ninguno de los mensajes distingue mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-209">Neither message is case sensitive.</span></span>

<span data-ttu-id="5e0b8-210">Una aplicación puede quitar un elemento de lista mediante el mensaje [**CB \_ DELETESTRING**](cb-deletestring.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-210">An application can remove a list item by using the [**CB\_DELETESTRING**](cb-deletestring.md) message.</span></span> <span data-ttu-id="5e0b8-211">Si una aplicación necesita reinicializar la lista de cuadro combinado, primero puede borrar todo su contenido mediante el mensaje [**CB \_ RESETCONTENT**](cb-resetcontent.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-211">If an application needs to reinitialize the combo box list, it can first clear its entire contents by using the [**CB\_RESETCONTENT**](cb-resetcontent.md) message.</span></span> <span data-ttu-id="5e0b8-212">Cuando se agregan varios elementos a la lista después de que ya se haya mostrado un cuadro combinado, una aplicación puede desactivar la marca volver a dibujar para evitar que el cuadro combinado se vuelva a dibujar después de agregar cada elemento.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-212">When adding multiple items to the list after a combo box has already been shown, an application can clear the redraw flag to prevent the combo box from being repainted after each item is added.</span></span> <span data-ttu-id="5e0b8-213">Para obtener más información sobre cómo volver a dibujar, vea la descripción del mensaje de [**\_ SETREDRAW de WM**](/windows/desktop/gdi/wm-setredraw) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-213">For more information about redrawing, see the description of the [**WM\_SETREDRAW**](/windows/desktop/gdi/wm-setredraw) message.</span></span>

<span data-ttu-id="5e0b8-214">Para recuperar la cadena asociada con un elemento de lista, una aplicación puede usar el mensaje [**CB \_ GETLBTEXT**](cb-getlbtext.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-214">To retrieve the string associated with a list item, an application can use the [**CB\_GETLBTEXT**](cb-getlbtext.md) message.</span></span> <span data-ttu-id="5e0b8-215">La cadena del elemento se copia en el búfer especificado por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-215">The item's string is copied to the buffer specified by the application.</span></span> <span data-ttu-id="5e0b8-216">Para asegurarse de que el búfer es lo suficientemente grande como para recibir la cadena, la aplicación puede utilizar primero el mensaje [**CB \_ GETLBTEXTLEN**](cb-getlbtextlen.md) para determinar la longitud de la cadena.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-216">To ensure that the buffer is large enough to receive the string, the application can first use the [**CB\_GETLBTEXTLEN**](cb-getlbtextlen.md) message to determine the length of the string.</span></span> <span data-ttu-id="5e0b8-217">Para obtener el número de elementos de lista en un cuadro combinado, una aplicación puede usar el mensaje [**\_ GETCOUNT GETCOUNT**](cb-getcount.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-217">To get the number of list items in a combo box, an application can use the [**CB\_GETCOUNT**](cb-getcount.md) message.</span></span>

## <a name="edit-control-selection-fields"></a><span data-ttu-id="5e0b8-218">Editar campos de selección de controles</span><span class="sxs-lookup"><span data-stu-id="5e0b8-218">Edit Control Selection Fields</span></span>

<span data-ttu-id="5e0b8-219">Una aplicación puede recuperar o establecer el contenido del campo de selección y puede determinar o establecer la selección de edición.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-219">An application can retrieve or set the contents of the selection field and can determine or set the edit selection.</span></span> <span data-ttu-id="5e0b8-220">La aplicación también puede limitar la cantidad de texto que un usuario puede escribir en el campo de selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-220">The application can also limit the amount of text a user can type in the selection field.</span></span> <span data-ttu-id="5e0b8-221">Cuando cambia el contenido del campo de selección, el sistema envía mensajes de notificación a la ventana primaria o al procedimiento de cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-221">When the contents of the selection field change, the system sends notification messages to the parent window or dialog box procedure.</span></span>

<span data-ttu-id="5e0b8-222">Para recuperar el contenido del campo de selección, una aplicación puede enviar el mensaje de [**\_ GETTEXT de WM**](/windows/desktop/winmsg/wm-gettext) al cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-222">To retrieve the content of the selection field, an application can send the [**WM\_GETTEXT**](/windows/desktop/winmsg/wm-gettext) message to the combo box.</span></span> <span data-ttu-id="5e0b8-223">Para establecer el contenido del campo de selección de un cuadro combinado simple o desplegable, una aplicación puede enviar el mensaje de [**WM \_ SETTEXT**](/windows/desktop/winmsg/wm-settext) al cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-223">To set the contents of the selection field of a simple or drop-down combo box, an application can send the [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message to the combo box.</span></span>

<span data-ttu-id="5e0b8-224">La selección de edición es el intervalo de texto seleccionado, si existe, en el campo de selección de un cuadro combinado simple o desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-224">The edit selection is the range of selected text, if any, in the selection field of a simple or drop-down combo box.</span></span> <span data-ttu-id="5e0b8-225">Una aplicación puede determinar las posiciones de caracteres inicial y final de la selección actual mediante el mensaje [**CB \_ GETEDITSEL**](cb-geteditsel.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-225">An application can determine the starting and ending character positions of the current selection by using the [**CB\_GETEDITSEL**](cb-geteditsel.md) message.</span></span> <span data-ttu-id="5e0b8-226">También puede seleccionar caracteres en la selección de edición mediante el mensaje [**CB \_ SETEDITSEL**](cb-seteditsel.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-226">It can also select characters in the edit selection by using the [**CB\_SETEDITSEL**](cb-seteditsel.md) message.</span></span>

<span data-ttu-id="5e0b8-227">Inicialmente, la cantidad de texto que el usuario puede escribir en el campo de selección está limitada por el tamaño del campo de selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-227">Initially, the amount of text that the user can type into the selection field is limited by the size of the selection field.</span></span> <span data-ttu-id="5e0b8-228">Sin embargo, si el cuadro combinado tiene el estilo [**CBS \_ AUTOHSCROLL**](combo-box-styles.md) , el texto puede continuar más allá del tamaño del campo de selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-228">However, if the combo box has the [**CBS\_AUTOHSCROLL**](combo-box-styles.md) style, the text can continue beyond the size of the selection field.</span></span> <span data-ttu-id="5e0b8-229">Una aplicación puede usar el mensaje [**CB \_ LIMITTEXT**](cb-limittext.md) para limitar la cantidad de texto que un usuario puede escribir en el campo de selección, independientemente de si el control tiene el estilo **CBS \_ AUTOHSCROLL** .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-229">An application can use the [**CB\_LIMITTEXT**](cb-limittext.md) message to limit the amount of text a user can type into the selection field, regardless of whether the control has the **CBS\_AUTOHSCROLL** style.</span></span>

<span data-ttu-id="5e0b8-230">Cuando el usuario edita el contenido del campo de selección, la ventana primaria o el procedimiento de cuadro de diálogo recibe mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-230">When the user edits the content of the selection field, the parent window or dialog box procedure receives notification messages.</span></span> <span data-ttu-id="5e0b8-231">El código de notificación [ \_ EDITUPDATE de CBN](cbn-editupdate.md) se envía en primer lugar, lo que indica que se ha editado el texto en el campo de selección.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-231">The [CBN\_EDITUPDATE](cbn-editupdate.md) notification code is sent first, indicating that the text in the selection field has been edited.</span></span> <span data-ttu-id="5e0b8-232">Una vez mostrado el texto modificado, el sistema envía [CBN \_ EDITCHANGE](cbn-editchange.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-232">After the altered text is displayed, the system sends [CBN\_EDITCHANGE](cbn-editchange.md).</span></span> <span data-ttu-id="5e0b8-233">Cuando el contenido del campo de selección cambia a medida que el resultado de un elemento de lista se selecciona, estos mensajes no se envían.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-233">When the selection field content changes as the result of a list item being selected, these messages are not sent.</span></span>

## <a name="owner-drawn-combo-boxes"></a><span data-ttu-id="5e0b8-234">Owner-Drawn cuadros combinados</span><span class="sxs-lookup"><span data-stu-id="5e0b8-234">Owner-Drawn Combo Boxes</span></span>

<span data-ttu-id="5e0b8-235">Una aplicación puede crear un cuadro combinado dibujado por el propietario para asumir la responsabilidad de dibujar los elementos de la lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-235">An application can create an owner-drawn combo box to take responsibility for painting list items.</span></span> <span data-ttu-id="5e0b8-236">La ventana primaria de un cuadro combinado dibujado por el propietario (su propietario) recibe mensajes de [**WM \_ DRAWITEM**](wm-drawitem.md) cuando es necesario pintar una parte del cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-236">The parent window of an owner-drawn combo box (its owner) receives [**WM\_DRAWITEM**](wm-drawitem.md) messages when a portion of the combo box needs to be painted.</span></span> <span data-ttu-id="5e0b8-237">Un cuadro combinado dibujado por el propietario puede mostrar información distinta de las cadenas de texto, o además de ellas.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-237">An owner-drawn combo box can list information other than, or in addition to, text strings.</span></span> <span data-ttu-id="5e0b8-238">Los cuadros combinados dibujados por el propietario pueden ser de cualquier tipo.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-238">Owner-drawn combo boxes can be of any type.</span></span> <span data-ttu-id="5e0b8-239">Sin embargo, el control de edición de un cuadro combinado simple o desplegable solo puede mostrar texto, mientras que el propietario pinta el campo de selección en un cuadro de lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-239">However, the edit control in a simple or drop-down combo box can only display text, while the owner paints the selection field in a drop-down list box.</span></span>

<span data-ttu-id="5e0b8-240">El propietario de un cuadro combinado dibujado por el propietario debe procesar el mensaje de la [**\_ DRAWITEM de WM**](wm-drawitem.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-240">The owner of an owner-drawn combo box must process the [**WM\_DRAWITEM**](wm-drawitem.md) message.</span></span> <span data-ttu-id="5e0b8-241">Este mensaje se envía siempre que se debe volver a dibujar una parte del cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-241">This message is sent whenever a portion of the combo box must be redrawn.</span></span> <span data-ttu-id="5e0b8-242">Es posible que el propietario tenga que procesar otros mensajes, en función de los estilos especificados para el cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-242">The owner may need to process other messages, depending on the styles specified for the combo box.</span></span>

<span data-ttu-id="5e0b8-243">Una aplicación puede crear un cuadro combinado dibujado por el propietario especificando el estilo [**CBS \_ OWNERDRAWFIXED**](combo-box-styles.md) o [**CBS \_ OWNERDRAWVARIABLE**](combo-box-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-243">An application can create an owner-drawn combo box by specifying the [**CBS\_OWNERDRAWFIXED**](combo-box-styles.md) or [**CBS\_OWNERDRAWVARIABLE**](combo-box-styles.md) style.</span></span> <span data-ttu-id="5e0b8-244">Si todos los elementos de la lista del cuadro combinado tienen el mismo alto, como cadenas o iconos, una aplicación puede usar el estilo de **CBS \_ OWNERDRAWFIXED** .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-244">If all list items in the combo box are the same height, such as strings or icons, an application can use the **CBS\_OWNERDRAWFIXED** style.</span></span> <span data-ttu-id="5e0b8-245">Si los elementos de lista son de alto variable, como mapas de bits de tamaño diferente, una aplicación puede usar el estilo **CBS \_ OWNERDRAWVARIABLE** .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-245">If list items are of varying height, like bitmaps of different size, an application can use the **CBS\_OWNERDRAWVARIABLE** style.</span></span>

<span data-ttu-id="5e0b8-246">El propietario de un cuadro combinado dibujado por el propietario puede procesar un mensaje de [**\_ MEASUREITEM de WM**](wm-measureitem.md) para especificar las dimensiones de los elementos de la lista en el cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-246">The owner of an owner-drawn combo box can process a [**WM\_MEASUREITEM**](wm-measureitem.md) message to specify the dimensions of list items in the combo box.</span></span> <span data-ttu-id="5e0b8-247">Si la aplicación crea el cuadro combinado mediante el estilo de [**CBS \_ OWNERDRAWFIXED**](combo-box-styles.md) , el sistema envía el mensaje de **WM \_ MEASUREITEM** una sola vez.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-247">If the application creates the combo box by using the [**CBS\_OWNERDRAWFIXED**](combo-box-styles.md) style, the system sends the **WM\_MEASUREITEM** message only once.</span></span> <span data-ttu-id="5e0b8-248">Las dimensiones especificadas por el propietario se usan para todos los elementos de lista.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-248">The dimensions specified by the owner are used for all list items.</span></span> <span data-ttu-id="5e0b8-249">Si se usa el estilo [**CBS \_ OWNERDRAWVARIABLE**](combo-box-styles.md) , el sistema envía un mensaje de **WM \_ MEASUREITEM** para cada elemento de lista que se agrega al cuadro combinado.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-249">If the [**CBS\_OWNERDRAWVARIABLE**](combo-box-styles.md) style is used, the system sends a **WM\_MEASUREITEM** message for each list item added to the combo box.</span></span> <span data-ttu-id="5e0b8-250">El propietario puede determinar o establecer el alto de un elemento de lista en cualquier momento mediante los mensajes [**CB \_ GETITEMHEIGHT**](cb-getitemheight.md) y [**CB \_ SETITEMHEIGHT**](cb-setitemheight.md) , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-250">The owner can determine or set the height of a list item at any time by using the [**CB\_GETITEMHEIGHT**](cb-getitemheight.md) and [**CB\_SETITEMHEIGHT**](cb-setitemheight.md) messages, respectively.</span></span>

<span data-ttu-id="5e0b8-251">Si la información que se muestra en un cuadro combinado dibujado por el propietario incluye texto, una aplicación puede realizar un seguimiento del texto de cada elemento de la lista especificando el estilo de [**CBS \_ HASSTRINGS**](combo-box-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-251">If the information displayed in an owner-drawn combo box includes text, an application can keep track of the text for each list item by specifying the [**CBS\_HASSTRINGS**](combo-box-styles.md) style.</span></span> <span data-ttu-id="5e0b8-252">Los cuadros combinados con el estilo de [**\_ ordenación CBS**](combo-box-styles.md) se ordenan en función de este texto.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-252">Combo boxes with the [**CBS\_SORT**](combo-box-styles.md) style are sorted based on this text.</span></span> <span data-ttu-id="5e0b8-253">Si un cuadro combinado está ordenado y no es el estilo **\_ HASSTRINGS de CBS** , el propietario debe procesar el mensaje de [**\_ COMPAREITEM de WM**](wm-compareitem.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-253">If a combo box is sorted and not of the **CBS\_HASSTRINGS** style, the owner must process the [**WM\_COMPAREITEM**](wm-compareitem.md) message.</span></span>

<span data-ttu-id="5e0b8-254">En un cuadro combinado dibujado por el propietario, el propietario debe realizar un seguimiento de los elementos de la lista que contienen información que no es o además del texto.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-254">In an owner-drawn combo box, the owner must keep track of list items containing information other than or in addition to text.</span></span> <span data-ttu-id="5e0b8-255">Una manera cómoda de hacerlo es guardar el identificador de la información como datos de elemento.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-255">One convenient way to do this is to save the handle to the information as item data.</span></span> <span data-ttu-id="5e0b8-256">Para liberar los objetos de datos asociados a los elementos de un cuadro combinado, el propietario puede procesar el mensaje de [**WM \_ DELETEITEM**](wm-deleteitem.md) .</span><span class="sxs-lookup"><span data-stu-id="5e0b8-256">To free data objects associated with items in a combo box, the owner can process the [**WM\_DELETEITEM**](wm-deleteitem.md) message.</span></span>

## <a name="subclassed-combo-boxes"></a><span data-ttu-id="5e0b8-257">Cuadros combinados de subclases</span><span class="sxs-lookup"><span data-stu-id="5e0b8-257">Subclassed Combo Boxes</span></span>

<span data-ttu-id="5e0b8-258">La subclase es un procedimiento que permite que una aplicación intercepte y procese mensajes enviados o publicados en una ventana.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-258">Subclassing is a procedure that allows an application to intercept and process messages sent or posted to a window.</span></span> <span data-ttu-id="5e0b8-259">Mediante el uso de subclases, una aplicación puede sustituir su propio procesamiento para ciertos mensajes, a la vez que se mantiene la mayor parte del procesamiento de mensajes en el procedimiento de ventana definido por la clase.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-259">By using subclassing, an application can substitute its own processing for certain messages, while leaving most message processing to the class-defined window procedure.</span></span>

<span data-ttu-id="5e0b8-260">Cuando el sistema operativo crea una ventana, guarda información sobre ella en una estructura de datos interna que incluye un puntero al procedimiento de ventana.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-260">When the operating system creates a window, it saves information about it in an internal data structure that includes a pointer to the window procedure.</span></span> <span data-ttu-id="5e0b8-261">Para subclases de una ventana, una aplicación llama a la función [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) para reemplazar el puntero a ese procedimiento con un puntero a un procedimiento de subclase definido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-261">To subclass a window, an application calls the [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) function to replace the pointer to that procedure with a pointer to an application-defined subclass procedure.</span></span> <span data-ttu-id="5e0b8-262">A partir de ese momento, todos los mensajes a la ventana se envían al procedimiento de subclase.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-262">Thereafter, all messages to the window are sent to the subclass procedure.</span></span> <span data-ttu-id="5e0b8-263">Este procedimiento utiliza la función [**CallWindowProc**](/windows/desktop/api/winuser/nf-winuser-callwindowproca) para pasar los mensajes no procesados al procedimiento de ventana original.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-263">This procedure then uses the [**CallWindowProc**](/windows/desktop/api/winuser/nf-winuser-callwindowproca) function to pass unprocessed messages to the original window procedure.</span></span> <span data-ttu-id="5e0b8-264">Para obtener una descripción del procesamiento de mensajes realizado por el procedimiento de ventana de clase COMBOBOX, vea [comportamiento del cuadro combinado predeterminado](combo-box-features.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-264">For a description of the message processing performed by the COMBOBOX class window procedure, see [Default Combo Box Behavior](combo-box-features.md).</span></span>

<span data-ttu-id="5e0b8-265">Cuando el cuadro combinado está fuera de un cuadro de diálogo, una aplicación no puede procesar las teclas TAB, entrar y ESC a menos que use un procedimiento de subclase.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-265">When the combo box is outside a dialog box, an application cannot process the TAB, ENTER, and ESC keys unless it uses a subclass procedure.</span></span> <span data-ttu-id="5e0b8-266">Cuando un cuadro combinado simple o desplegable recibe el foco de entrada, establece inmediatamente el foco en su control de edición secundario.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-266">When a simple or drop-down combo box receives the input focus, it immediately sets the focus to its child edit control.</span></span> <span data-ttu-id="5e0b8-267">Por lo tanto, una aplicación debe subclase del control de edición para interceptar la entrada del teclado para un cuadro combinado simple o desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-267">Therefore, an application must subclass the edit control to intercept keyboard input for a simple or drop-down combo box.</span></span> <span data-ttu-id="5e0b8-268">Para obtener un ejemplo de esto, vea [subclase de un cuadro combinado](using-combo-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="5e0b8-268">For an example of this, see [Subclassing a Combo Box](using-combo-boxes.md).</span></span>

<span data-ttu-id="5e0b8-269">Si un procedimiento de subclase procesa el mensaje de [**\_ dibujo de WM**](/windows/desktop/gdi/wm-paint) , debe utilizar la función [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) para preparar el dibujo.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-269">If a subclass procedure processes the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) message, it must use the [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) function to prepare for painting.</span></span> <span data-ttu-id="5e0b8-270">Antes de llamar a la función [**EndPaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) , pasa el identificador de contexto de dispositivo (DC) como parámetro *wParam* para el procedimiento de ventana.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-270">Before calling the [**EndPaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) function, it passes the device context (DC) handle as the *wParam* parameter for the window procedure.</span></span> <span data-ttu-id="5e0b8-271">Si se llama primero a **EndPaint** , el procedimiento de ventana de clase no realiza ningún dibujo porque **EndPaint** valida toda la ventana.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-271">If **EndPaint** is called first, the class window procedure does no painting because **EndPaint** validates the entire window.</span></span>

<span data-ttu-id="5e0b8-272">Una técnica relacionada con la subclase es la superclase.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-272">A technique related to subclassing is superclassing.</span></span> <span data-ttu-id="5e0b8-273">Una superclase es similar a cualquier otra clase, salvo que su procedimiento de ventana no llama a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) para controlar los mensajes no procesados.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-273">A superclass resembles any other class except that its window procedure does not call [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to handle unprocessed messages.</span></span> <span data-ttu-id="5e0b8-274">En su lugar, pasa los mensajes no procesados al procedimiento de ventana para la clase de ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-274">Instead, it passes unprocessed messages to the window procedure for the parent window class.</span></span> <span data-ttu-id="5e0b8-275">Siga las instrucciones de [procedimientos de ventana](/windows/desktop/winmsg/window-procedures) para evitar problemas que pueden producirse con subclases y superclases.</span><span class="sxs-lookup"><span data-stu-id="5e0b8-275">Follow the guidelines in [Window Procedures](/windows/desktop/winmsg/window-procedures) to avoid problems that can occur with subclassing and superclassing.</span></span>

 

 