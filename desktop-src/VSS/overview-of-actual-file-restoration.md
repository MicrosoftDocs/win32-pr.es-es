---
description: Después de realizar las acciones descritas en información general sobre la inicialización de restauración y la introducción a la preparación de la restauración, el solicitante tiene suficiente información para empezar a restaurar los archivos.
ms.assetid: 15df39fa-1eb1-4e96-9e26-14470f391de4
title: Información general de la restauración de archivos real
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6527a10d0880b1e599377abb797449816019ab89
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105696994"
---
# <a name="overview-of-actual-file-restoration"></a><span data-ttu-id="31621-103">Información general de la restauración de archivos real</span><span class="sxs-lookup"><span data-stu-id="31621-103">Overview of Actual File Restoration</span></span>

<span data-ttu-id="31621-104">Después de realizar las acciones descritas en [información general sobre la inicialización de restauración](overview-of-restore-initialization.md) y la introducción a la preparación de la [restauración](overview-of-preparing-for-restore.md), el solicitante tiene suficiente información para empezar a restaurar los archivos.</span><span class="sxs-lookup"><span data-stu-id="31621-104">After performing the actions described in [Overview of Restore Initialization](overview-of-restore-initialization.md) and [Overview of Preparing for Restore](overview-of-preparing-for-restore.md), the requester has sufficient information to begin restoring files.</span></span> <span data-ttu-id="31621-105">La restauración de archivos no implica interacciones del escritor ni la generación de eventos.</span><span class="sxs-lookup"><span data-stu-id="31621-105">File restoration does not involve writer interactions or the generation of events.</span></span> <span data-ttu-id="31621-106">Para obtener más información, vea [información general sobre el procesamiento de una restauración en VSS](overview-of-processing-a-restore-under-vss.md).</span><span class="sxs-lookup"><span data-stu-id="31621-106">For more information, see [Overview of Processing a Restore Under VSS](overview-of-processing-a-restore-under-vss.md).</span></span>

<span data-ttu-id="31621-107">En la tabla siguiente se muestra la secuencia de acciones y eventos necesarios para restaurar archivos.</span><span class="sxs-lookup"><span data-stu-id="31621-107">The following table shows the sequence of actions and events that are required to restore files.</span></span>



| <span data-ttu-id="31621-108">Acción del solicitante</span><span class="sxs-lookup"><span data-stu-id="31621-108">Requester action</span></span>                                                                                                                                                                                                                                                                                                          | <span data-ttu-id="31621-109">Evento</span><span class="sxs-lookup"><span data-stu-id="31621-109">Event</span></span> | <span data-ttu-id="31621-110">Acción del escritor</span><span class="sxs-lookup"><span data-stu-id="31621-110">Writer action</span></span> |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------|---------------|
| <span data-ttu-id="31621-111">Generar una lista de conjuntos de restauración para archivos en medios de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="31621-111">Generate a restore set listing for files on backup media.</span></span>                                                                                                                                                                                                                                                                 | <span data-ttu-id="31621-112">None</span><span class="sxs-lookup"><span data-stu-id="31621-112">None</span></span>  | <span data-ttu-id="31621-113">None</span><span class="sxs-lookup"><span data-stu-id="31621-113">None</span></span>          |
| <span data-ttu-id="31621-114">Controlar los [*destinos dirigidos*](vssgloss-d.md) o la restauración [*parcial de archivos*](vssgloss-p.md) (vea [**IVssComponent:: GetDirectedTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtarget), [**IVssComponent:: GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile)).</span><span class="sxs-lookup"><span data-stu-id="31621-114">Handle [*directed targets*](vssgloss-d.md) or [*partial file*](vssgloss-p.md) restoration (see [**IVssComponent::GetDirectedTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtarget), [**IVssComponent::GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile)).</span></span> | <span data-ttu-id="31621-115">None</span><span class="sxs-lookup"><span data-stu-id="31621-115">None</span></span>  | <span data-ttu-id="31621-116">None</span><span class="sxs-lookup"><span data-stu-id="31621-116">None</span></span>          |
| <span data-ttu-id="31621-117">Si es necesario, omita todas las ubicaciones de restauración especificadas y restáurela en una nueva ubicación especificada en una llamada anterior a [**IVssBackupComponents:: AddNewTarget**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addnewtarget).</span><span class="sxs-lookup"><span data-stu-id="31621-117">If necessary, ignore all specified restore locations and restore to a new location specified in an earlier call to [**IVssBackupComponents::AddNewTarget**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addnewtarget).</span></span>                                                                                                                       | <span data-ttu-id="31621-118">None</span><span class="sxs-lookup"><span data-stu-id="31621-118">None</span></span>  | <span data-ttu-id="31621-119">None</span><span class="sxs-lookup"><span data-stu-id="31621-119">None</span></span>          |
| <span data-ttu-id="31621-120">Si la restauración es incremental y se necesitan restauraciones adicionales, indique (consulte [**IVssBackupComponents:: SetAdditionalRestores**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores) y [copias de seguridad incrementales y diferenciales](incremental-and-differential-backups.md)).</span><span class="sxs-lookup"><span data-stu-id="31621-120">If the restore is incremental and further restores are needed, indicate (see [**IVssBackupComponents::SetAdditionalRestores**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores) and [Incremental and Differential Backups](incremental-and-differential-backups.md)).</span></span>                                                     | <span data-ttu-id="31621-121">None</span><span class="sxs-lookup"><span data-stu-id="31621-121">None</span></span>  | <span data-ttu-id="31621-122">None</span><span class="sxs-lookup"><span data-stu-id="31621-122">None</span></span>          |
| <span data-ttu-id="31621-123">Para saber si un escritor ha modificado el contenido del documento de componentes de copia de seguridad, llame a [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span><span class="sxs-lookup"><span data-stu-id="31621-123">To learn whether a writer has modified the contents of the Backup Components Document, call [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span></span> <span data-ttu-id="31621-124">Por ejemplo, el escritor podría haber cambiado el destino de restauración.</span><span class="sxs-lookup"><span data-stu-id="31621-124">For example, the writer might have changed the restore target.</span></span>                                                                 | <span data-ttu-id="31621-125">None</span><span class="sxs-lookup"><span data-stu-id="31621-125">None</span></span>  | <span data-ttu-id="31621-126">None</span><span class="sxs-lookup"><span data-stu-id="31621-126">None</span></span>          |



 

## <a name="requester-actions-during-restoring-files"></a><span data-ttu-id="31621-127">Acciones del solicitante durante la restauración de archivos</span><span class="sxs-lookup"><span data-stu-id="31621-127">Requester Actions during Restoring Files</span></span>

<span data-ttu-id="31621-128">Para la mayoría de los archivos del medio de copia de seguridad, el solicitante debe determinar sus ubicaciones originales y todas las ubicaciones nuevas o asignaciones de ubicación alternativas que se les apliquen.</span><span class="sxs-lookup"><span data-stu-id="31621-128">For most files on the backup media, the requester needs to determine their original locations and any new locations or alternate location mappings that apply to them.</span></span> <span data-ttu-id="31621-129">(Vea [generar un conjunto de restauración](generating-a-restore-set.md) para obtener una explicación de los procedimientos recomendados para determinar qué archivos se van a restaurar y dónde restaurarlos).</span><span class="sxs-lookup"><span data-stu-id="31621-129">(See [Generating a Restore Set](generating-a-restore-set.md) for a discussion of best practices in determining which files to restore and where to restore them.)</span></span>

<span data-ttu-id="31621-130">Además, algunos archivos pueden tener [*destinos dirigidos*](vssgloss-d.md) o admitir la restauración [*parcial de archivos*](vssgloss-p.md) .</span><span class="sxs-lookup"><span data-stu-id="31621-130">In addition, some files may have [*directed targets*](vssgloss-d.md) or support [*partial file*](vssgloss-p.md) restoration.</span></span> <span data-ttu-id="31621-131">El número de estos archivos se puede encontrar mediante una llamada a [**IVssComponent:: GetDirectedTargetCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtargetcount) y [**IVssComponent:: GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount), y se puede encontrar información sobre las instrucciones de restauración detalladas llamando a [**IVssComponent:: AddDirectedTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddirectedtarget) y [**IVssComponent:: GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile).</span><span class="sxs-lookup"><span data-stu-id="31621-131">The number of such files can be found by calling [**IVssComponent::GetDirectedTargetCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtargetcount) and [**IVssComponent::GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount), and information on detailed restoration instructions can be found by calling [**IVssComponent::AddDirectedTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddirectedtarget) and [**IVssComponent::GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile).</span></span> <span data-ttu-id="31621-132">(Los archivos parciales y dirigidos pueden formar parte de los componentes agregados implícita o explícitamente a la copia de seguridad original. para obtener más información, vea [trabajar con la selección para restaurar y subcomponentes](working-with-selectability-for-restore-and-subcomponents.md) .)</span><span class="sxs-lookup"><span data-stu-id="31621-132">(Partial and directed files can be part of components added implicitly or explicitly to the original backup, see [Working with Selectability For Restore and Subcomponents](working-with-selectability-for-restore-and-subcomponents.md) for more information.)</span></span>

<span data-ttu-id="31621-133">El éxito o el fracaso de una restauración se indica en función de cada componente mediante [**IVssBackupComponents:: SetFileRestoreStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setfilerestorestatus).</span><span class="sxs-lookup"><span data-stu-id="31621-133">Success or failure of a restore is indicated on a component-by-component basis using [**IVssBackupComponents::SetFileRestoreStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setfilerestorestatus).</span></span> <span data-ttu-id="31621-134">La necesidad de operaciones de restauración adicionales (en el caso de las restauraciones incrementales o diferenciales) también se indica de forma individual componente a componente mediante [**IVssBackupComponents:: SetAdditionalRestores**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores).</span><span class="sxs-lookup"><span data-stu-id="31621-134">The need for further restore operations (in the case of incremental or differential restores) is also indicated on a component-by-component basis using [**IVssBackupComponents::SetAdditionalRestores**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores).</span></span>

<span data-ttu-id="31621-135">En general, VSS no especifica un mecanismo para recuperar datos de un medio de almacenamiento, una opción de medio de almacenamiento o cómo determinar qué archivos deben restaurarse donde.</span><span class="sxs-lookup"><span data-stu-id="31621-135">In general, VSS does not specify a mechanism for retrieving data from a storage media, a choice of storage medium, or how to determine which files should be restored where.</span></span>

<span data-ttu-id="31621-136">Sin embargo, para determinados escritores, la restauración de archivos puede implicar el uso de una interfaz y un procedimiento personalizados documentados.</span><span class="sxs-lookup"><span data-stu-id="31621-136">However, for certain writers, restoring files may involve the use of a documented custom interface and procedure.</span></span> <span data-ttu-id="31621-137">Los sistemas de escritura del sistema de Windows, que actualmente requieren dicha compatibilidad, están documentados en [casos especiales de uso de VSS](special-vss-usage-cases.md).</span><span class="sxs-lookup"><span data-stu-id="31621-137">Windows system writers, which currently require such support, are documented in [Special VSS Usage Cases](special-vss-usage-cases.md).</span></span>

<span data-ttu-id="31621-138">En general, se recomienda que los archivos de cada componente de cada [*instancia del escritor*](vssgloss-w.md) se procesen como una unidad.</span><span class="sxs-lookup"><span data-stu-id="31621-138">In general, it is recommended that the files of each component of each [*writer instance*](vssgloss-w.md) be processed as a unit.</span></span> <span data-ttu-id="31621-139">Esto requiere lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="31621-139">This requires the following:</span></span>

-   <span data-ttu-id="31621-140">Asociar cada archivo que se va a restaurar con el componente que lo administra.</span><span class="sxs-lookup"><span data-stu-id="31621-140">Associating each file to be restored with the component that managed it.</span></span> <span data-ttu-id="31621-141">Esto requiere el uso de documentos de metadatos de escritor.</span><span class="sxs-lookup"><span data-stu-id="31621-141">This requires the use of Writer Metadata Documents.</span></span>
-   <span data-ttu-id="31621-142">Obtención de la información de destino de restauración correcta.</span><span class="sxs-lookup"><span data-stu-id="31621-142">Obtaining correct restoration target information.</span></span> <span data-ttu-id="31621-143">Esto requiere información del documento componentes de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="31621-143">This requires information from the Backup Components Document.</span></span>

 

 



