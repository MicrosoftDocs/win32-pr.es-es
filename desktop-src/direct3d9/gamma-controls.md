---
description: Los controles gamma permiten cambiar el modo en que el sistema muestra el contenido de la superficie sin afectar al contenido de la propia superficie.
ms.assetid: 74f106be-8f47-4875-9908-32ff35912968
title: Controles gamma (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6484bcf7e8fa5e07a3bf4bb718cd361330560f8c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104565859"
---
# <a name="gamma-controls-direct3d-9"></a><span data-ttu-id="8202e-103">Controles gamma (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8202e-103">Gamma Controls (Direct3D 9)</span></span>

<span data-ttu-id="8202e-104">Los controles gamma permiten cambiar el modo en que el sistema muestra el contenido de la superficie sin afectar al contenido de la propia superficie.</span><span class="sxs-lookup"><span data-stu-id="8202e-104">Gamma controls allow you to change how the system displays the contents of the surface, without affecting the contents of the surface itself.</span></span> <span data-ttu-id="8202e-105">Considere estos controles como filtros muy simples que Direct3D aplica a los datos cuando salen de una superficie y antes de que se representen en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="8202e-105">Think of these controls as very simple filters that Direct3D applies to data as it leaves a surface and before it is rendered on the screen.</span></span>

<span data-ttu-id="8202e-106">Los controles gamma son una propiedad de una cadena de intercambio.</span><span class="sxs-lookup"><span data-stu-id="8202e-106">Gamma controls are a property of a swap chain.</span></span> <span data-ttu-id="8202e-107">Los controles gamma permiten cambiar de forma dinámica cómo se asignan los niveles rojo, verde y azul de una superficie a los niveles reales que el sistema muestra.</span><span class="sxs-lookup"><span data-stu-id="8202e-107">Gamma controls make it possible to dynamically change how a surface's red, green, and blue levels map to the actual levels that the system displays.</span></span> <span data-ttu-id="8202e-108">Al establecer los niveles gamma, puede hacer que la pantalla del usuario parpadee en color rojo cuando se toma el carácter del usuario, verde cuando el carácter recoge un nuevo elemento, y así sucesivamente sin copiar nuevas imágenes en el búfer de fotogramas para lograr el efecto.</span><span class="sxs-lookup"><span data-stu-id="8202e-108">By setting gamma levels, you can cause the user's screen to flash colors - red when the user's character is shot, green when the character picks up a new item, and so on - without copying new images to the frame buffer to achieve the effect.</span></span> <span data-ttu-id="8202e-109">O bien, puede ajustar los niveles de color para aplicar una inclinación de color a las imágenes en el búfer de reserva.</span><span class="sxs-lookup"><span data-stu-id="8202e-109">Or, you might adjust color levels to apply a color bias to the images in the back buffer.</span></span>

<span data-ttu-id="8202e-110">Siempre hay al menos una cadena de intercambio (la cadena de intercambio implícita) para cada dispositivo porque Direct3D 9 tiene una cadena de intercambio como una propiedad del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8202e-110">There is always at least one swap chain (the implicit swap chain) for each device because Direct3D 9 has one swap chain as a property of the device.</span></span> <span data-ttu-id="8202e-111">Dado que la rampa de gamma es una propiedad de la cadena de intercambio, la rampa de gamma se puede aplicar cuando la cadena de intercambio está en la ventana.</span><span class="sxs-lookup"><span data-stu-id="8202e-111">Because the gamma ramp is a property of the swap chain, the gamma ramp can be applied when the swap chain is windowed.</span></span> <span data-ttu-id="8202e-112">La rampa de gamma surte efecto inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="8202e-112">The gamma ramp takes effect immediately.</span></span> <span data-ttu-id="8202e-113">No hay ninguna espera para una operación de sincronización vertical.</span><span class="sxs-lookup"><span data-stu-id="8202e-113">There is no waiting for a vertical sync operation.</span></span>

<span data-ttu-id="8202e-114">Los métodos [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) y [**GetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) permiten manipular los niveles de rampa que afectan a los componentes de color rojo, verde y azul de los píxeles de la superficie antes de que se envíen al convertidor digital a analógico (DAC) para su presentación.</span><span class="sxs-lookup"><span data-stu-id="8202e-114">The [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) and [**GetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) methods allow you to manipulate ramp levels that affect the red, green, and blue color components of pixels from the surface before they are sent to the digital-to-analog converter (DAC) for display.</span></span>

## <a name="gamma-ramp-levels"></a><span data-ttu-id="8202e-115">Niveles de rampa de gamma</span><span class="sxs-lookup"><span data-stu-id="8202e-115">Gamma Ramp Levels</span></span>

<span data-ttu-id="8202e-116">En Direct3D, el término rampa de gamma describe un conjunto de valores que asignan el nivel de un componente de color determinado: rojo, verde y azul para todos los píxeles del búfer de fotogramas a los nuevos niveles que la DAC recibe para su presentación.</span><span class="sxs-lookup"><span data-stu-id="8202e-116">In Direct3D, the term gamma ramp describes a set of values that map the level of a particular color component - red, green, blue - for all pixels in the frame buffer to new levels that are received by the DAC for display.</span></span> <span data-ttu-id="8202e-117">La reasignación se realiza por medio de tres tablas de búsqueda, una para cada componente de color.</span><span class="sxs-lookup"><span data-stu-id="8202e-117">The remapping is performed by way of three look-up tables, one for each color component.</span></span>

<span data-ttu-id="8202e-118">Aquí se muestra cómo funciona: Direct3D toma un píxel del búfer de fotogramas y evalúa sus componentes de color rojo, verde y azul.</span><span class="sxs-lookup"><span data-stu-id="8202e-118">Here's how it works: Direct3D takes a pixel from the frame buffer and evaluates its individual red, green, and blue color components.</span></span> <span data-ttu-id="8202e-119">Cada componente se representa con un valor comprendido entre 0 y 65535.</span><span class="sxs-lookup"><span data-stu-id="8202e-119">Each component is represented by a value from 0 to 65535.</span></span> <span data-ttu-id="8202e-120">Direct3D toma el valor original y lo utiliza para indizar una matriz de elementos 256 (la rampa), donde cada elemento contiene un valor que reemplaza al original.</span><span class="sxs-lookup"><span data-stu-id="8202e-120">Direct3D takes the original value and uses it to index a 256-element array (the ramp), where each element contains a value that replaces the original one.</span></span> <span data-ttu-id="8202e-121">Direct3D realiza este proceso de búsqueda y reemplazo para cada componente de color de cada píxel en el búfer de fotogramas, lo que cambia los colores finales de todos los píxeles en pantalla.</span><span class="sxs-lookup"><span data-stu-id="8202e-121">Direct3D performs this look-up and replace process for each color component of each pixel in the frame buffer, thereby changing the final colors for all the on-screen pixels.</span></span>

<span data-ttu-id="8202e-122">Resulta útil visualizar los valores de la rampa mediante el gráfico, tal como se muestra en los dos gráficos siguientes.</span><span class="sxs-lookup"><span data-stu-id="8202e-122">It's handy to visualize the ramp values by graphing them, as shown in the following two graphs.</span></span> <span data-ttu-id="8202e-123">El gráfico de la izquierda muestra una rampa que no modifica los colores.</span><span class="sxs-lookup"><span data-stu-id="8202e-123">The left graph shows a ramp that doesn't modify colors at all.</span></span> <span data-ttu-id="8202e-124">El gráfico de la derecha muestra una rampa que impone una desviación negativa al componente de color al que se aplica.</span><span class="sxs-lookup"><span data-stu-id="8202e-124">The right graph shows a ramp that imposes a negative bias to the color component to which it is applied.</span></span>

![gráficos de los valores de rampa de gamma](images/gammalv.png)

<span data-ttu-id="8202e-126">Los elementos de matriz para el gráfico de la izquierda contienen valores idénticos a su índice-0 en el elemento en el índice 0 y 65535 en el índice 255.</span><span class="sxs-lookup"><span data-stu-id="8202e-126">The array elements for the graph on the left contain values identical to their index - 0 in the element at index 0, and 65535 at index 255.</span></span> <span data-ttu-id="8202e-127">Este tipo de rampa es el valor predeterminado, ya que no cambia los valores de entrada antes de que se muestren.</span><span class="sxs-lookup"><span data-stu-id="8202e-127">This type of ramp is the default, as it doesn't change the input values before they're displayed.</span></span> <span data-ttu-id="8202e-128">El gráfico derecho proporciona más variación; su rampa contiene valores que van desde 0 en el primer elemento hasta 32768 en el último elemento, con valores que abarcan uniformemente entre.</span><span class="sxs-lookup"><span data-stu-id="8202e-128">The right graph provides more variation; its ramp contains values that range from 0 in the first element to 32768 in the last element, with values ranging uniformly in between.</span></span> <span data-ttu-id="8202e-129">El efecto es que el componente de color que usa esta rampa aparece silenciado en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="8202e-129">The effect is that the color component that uses this ramp appears muted on the display.</span></span> <span data-ttu-id="8202e-130">No está limitado al uso de gráficos lineales; Si la aplicación puede asignar una asignación arbitraria si es necesario.</span><span class="sxs-lookup"><span data-stu-id="8202e-130">You are not limited to using linear graphs; if your application can assign arbitrary mapping if needed.</span></span> <span data-ttu-id="8202e-131">Incluso puede establecer las entradas en ceros para quitar un componente de color completamente de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="8202e-131">You can even set the entries to all zeroes to remove a color component completely from the display.</span></span>

## <a name="setting-and-retrieving-gamma-ramp-levels"></a><span data-ttu-id="8202e-132">Establecimiento y recuperación de niveles de rampa de gamma</span><span class="sxs-lookup"><span data-stu-id="8202e-132">Setting and Retrieving Gamma Ramp Levels</span></span>

<span data-ttu-id="8202e-133">Los niveles de rampa de gamma son tablas de búsqueda efectivas que usa Direct3D para asignar los componentes de color del búfer de fotogramas a los nuevos niveles que se van a mostrar.</span><span class="sxs-lookup"><span data-stu-id="8202e-133">Gamma ramp levels are effectively look-up tables that Direct3D uses to map the frame buffer color components to new levels that will be displayed.</span></span> <span data-ttu-id="8202e-134">Puede establecer y recuperar los niveles de rampa para la superficie principal llamando a los métodos [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) y [**GetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) .</span><span class="sxs-lookup"><span data-stu-id="8202e-134">You can set and retrieve ramp levels for the primary surface by calling the [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) and [**GetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) methods.</span></span> <span data-ttu-id="8202e-135">**SetGammaRamp** acepta dos parámetros y **GetGammaRamp** acepta un parámetro.</span><span class="sxs-lookup"><span data-stu-id="8202e-135">**SetGammaRamp** accepts two parameters and **GetGammaRamp** accepts one parameter.</span></span> <span data-ttu-id="8202e-136">En el caso de **SetGammaRamp**, el primer parámetro es D3DSGR \_ Calibrate o D3DSGR \_ sin \_ calibración.</span><span class="sxs-lookup"><span data-stu-id="8202e-136">For **SetGammaRamp**, the first parameter is either D3DSGR\_CALIBRATE or D3DSGR\_NO\_CALIBRATION.</span></span> <span data-ttu-id="8202e-137">El segundo parámetro, pRamp, es un puntero a una estructura [**D3DGAMMARAMP**](d3dgammaramp.md) .</span><span class="sxs-lookup"><span data-stu-id="8202e-137">The second parameter, pRamp, is a pointer to a [**D3DGAMMARAMP**](d3dgammaramp.md) structure.</span></span> <span data-ttu-id="8202e-138">La estructura **D3DGAMMARAMP** contiene matrices de palabras de 3 256 elementos, una matriz cada una para contener las rampas gamma rojo, verde y azul.</span><span class="sxs-lookup"><span data-stu-id="8202e-138">The **D3DGAMMARAMP** structure contains three 256-element arrays of WORDs, one array each to contain the red, green, and blue gamma ramps.</span></span> <span data-ttu-id="8202e-139">**GetGammaRamp** tiene un parámetro que toma un puntero a un tipo de **D3DGAMMARAMP** que se rellenará con la rampa gamma actual.</span><span class="sxs-lookup"><span data-stu-id="8202e-139">**GetGammaRamp** has one parameter that takes a pointer to a **D3DGAMMARAMP** type that will be filled with the current gamma ramp.</span></span>

<span data-ttu-id="8202e-140">Puede incluir el valor de \_ calibración D3DSGR para el primer parámetro de [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) para invocar al del calibrador al establecer nuevos niveles de gamma.</span><span class="sxs-lookup"><span data-stu-id="8202e-140">You can include the D3DSGR\_CALIBRATE value for the first parameter of [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) to invoke the calibrator when setting new gamma levels.</span></span> <span data-ttu-id="8202e-141">La calibración de rampas de gamma incurre en cierta sobrecarga de procesamiento y no se debe utilizar con frecuencia.</span><span class="sxs-lookup"><span data-stu-id="8202e-141">Calibrating gamma ramps incurs some processing overhead, and should not be used frequently.</span></span> <span data-ttu-id="8202e-142">La configuración de una rampa de gamma calibrada proporciona un valor gamma uniforme y absoluto para el usuario, independientemente del adaptador de pantalla y del monitor.</span><span class="sxs-lookup"><span data-stu-id="8202e-142">Setting a calibrated gamma ramp provides a consistent and absolute gamma value for the user, regardless of the display adapter and monitor.</span></span>

<span data-ttu-id="8202e-143">No todos los sistemas admiten la calibración gamma.</span><span class="sxs-lookup"><span data-stu-id="8202e-143">Not all systems support gamma calibration.</span></span> <span data-ttu-id="8202e-144">Para determinar si se admite la calibración de gamma, llame a [**GetDeviceCaps**](/windows/desktop/api)y examine el miembro Caps2 de la estructura [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) asociada después de que el método devuelva.</span><span class="sxs-lookup"><span data-stu-id="8202e-144">To determine if gamma calibration is supported, call [**GetDeviceCaps**](/windows/desktop/api), and examine the Caps2 member of the associated [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) structure after the method returns.</span></span> <span data-ttu-id="8202e-145">Si la marca de capacidad de D3DCAPS2 \_ CANCALIBRATEGAMMA está presente, se admite la calibración de gamma.</span><span class="sxs-lookup"><span data-stu-id="8202e-145">If the D3DCAPS2\_CANCALIBRATEGAMMA capability flag is present, then gamma calibration is supported.</span></span>

<span data-ttu-id="8202e-146">Al establecer nuevos niveles de rampa, tenga en cuenta que los niveles establecidos en las matrices solo se usan cuando la aplicación está en modo de pantalla completa y exclusivo.</span><span class="sxs-lookup"><span data-stu-id="8202e-146">When setting new ramp levels, keep in mind that the levels you set in the arrays are only used when your application is in full-screen, exclusive mode.</span></span> <span data-ttu-id="8202e-147">Cada vez que la aplicación cambia al modo normal, los niveles de rampa se reservan y surten efecto de nuevo cuando la aplicación vuelve al modo de pantalla completa.</span><span class="sxs-lookup"><span data-stu-id="8202e-147">Whenever your application changes to normal mode, the ramp levels are set aside, taking effect again when the application reinstates full-screen mode.</span></span>

<span data-ttu-id="8202e-148">Si el dispositivo no admite rampas gamma en el modo de presentación actual de la cadena de intercambio (pantalla completa o con ventanas), no se devuelve ningún valor de error.</span><span class="sxs-lookup"><span data-stu-id="8202e-148">If the device does not support gamma ramps in the swap chain's current presentation mode (full-screen or windowed), no error value is returned.</span></span> <span data-ttu-id="8202e-149">Las aplicaciones pueden comprobar los \_ bits de capacidad de D3DCAPS2 FULLSCREENGAMMA y D3DCAPS2 \_ CANCALIBRATEGAMMA en el miembro Caps2 del tipo D3DCAPS9 para determinar las capacidades del dispositivo y si un del calibrador está instalado.</span><span class="sxs-lookup"><span data-stu-id="8202e-149">Applications can check the D3DCAPS2\_FULLSCREENGAMMA and D3DCAPS2\_CANCALIBRATEGAMMA capability bits in the Caps2 member of the D3DCAPS9 type to determine the capabilities of the device and whether a calibrator is installed.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8202e-150">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="8202e-150">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8202e-151">Superficies de Direct3D</span><span class="sxs-lookup"><span data-stu-id="8202e-151">Direct3D Surfaces</span></span>](direct3d-surfaces.md)
</dt> </dl>

 

 
