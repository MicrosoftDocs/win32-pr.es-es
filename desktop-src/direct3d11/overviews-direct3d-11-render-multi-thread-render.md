---
title: Representación inmediata y diferida
description: Direct3D 11 admite dos tipos de representación inmediata y diferida. Ambos se implementan mediante la interfaz ID3D11DeviceContext.
ms.assetid: 8991be9f-c882-4752-9048-704fe4ae1725
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef954a8e794755e1405c8e1e07505a5f39189b03
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104996777"
---
# <a name="immediate-and-deferred-rendering"></a><span data-ttu-id="f9d89-104">Representación inmediata y diferida</span><span class="sxs-lookup"><span data-stu-id="f9d89-104">Immediate and Deferred Rendering</span></span>

<span data-ttu-id="f9d89-105">Direct3D 11 admite dos tipos de representación: inmediato y aplazado.</span><span class="sxs-lookup"><span data-stu-id="f9d89-105">Direct3D 11 supports two types of rendering: immediate and deferred.</span></span> <span data-ttu-id="f9d89-106">Ambos se implementan mediante la interfaz [**ID3D11DeviceContext**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) .</span><span class="sxs-lookup"><span data-stu-id="f9d89-106">Both are implemented by using the [**ID3D11DeviceContext**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) interface.</span></span>

## <a name="immediate-rendering"></a><span data-ttu-id="f9d89-107">Representación inmediata</span><span class="sxs-lookup"><span data-stu-id="f9d89-107">Immediate Rendering</span></span>

<span data-ttu-id="f9d89-108">La representación inmediata hace referencia a la llamada de API o comandos de representación desde un dispositivo, que pone en cola los comandos de un búfer para su ejecución en la GPU.</span><span class="sxs-lookup"><span data-stu-id="f9d89-108">Immediate rendering refers to calling rendering APIs or commands from a device, which queues the commands in a buffer for execution on the GPU.</span></span> <span data-ttu-id="f9d89-109">Usar un contexto inmediato para representar, establecer el estado de la canalización y reproducir una lista de comandos.</span><span class="sxs-lookup"><span data-stu-id="f9d89-109">Use an immediate context to render, set pipeline state, and play back a command list.</span></span>

<span data-ttu-id="f9d89-110">Cree un contexto inmediato mediante [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) o [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain).</span><span class="sxs-lookup"><span data-stu-id="f9d89-110">Create an immediate context using [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) or [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain).</span></span>

## <a name="deferred-rendering"></a><span data-ttu-id="f9d89-111">Representación diferida</span><span class="sxs-lookup"><span data-stu-id="f9d89-111">Deferred Rendering</span></span>

<span data-ttu-id="f9d89-112">La representación aplazada registra los comandos de gráficos en un búfer de comandos para que se puedan reproducir en otro momento.</span><span class="sxs-lookup"><span data-stu-id="f9d89-112">Deferred rendering records graphics commands in a command buffer so that they can be played back at some other time.</span></span> <span data-ttu-id="f9d89-113">Use un contexto diferido para registrar comandos (representación y configuración de estado) en una lista de comandos.</span><span class="sxs-lookup"><span data-stu-id="f9d89-113">Use a deferred context to record commands (rendering as well as state setting) to a command list.</span></span> <span data-ttu-id="f9d89-114">La representación diferida es un nuevo concepto en Direct3D 11; la representación diferida está diseñada para admitir la representación en un subproceso mientras se graban comandos para la representación en subprocesos adicionales.</span><span class="sxs-lookup"><span data-stu-id="f9d89-114">Deferred rendering is a new concept in Direct3D 11; deferred rendering is designed to support rendering on one thread while recording commands for rendering on additional threads.</span></span> <span data-ttu-id="f9d89-115">Esta estrategia paralela y multiproceso permite dividir escenas complejas en tareas simultáneas.</span><span class="sxs-lookup"><span data-stu-id="f9d89-115">This parallel, multithread strategy allows you to break up complex scenes into concurrent tasks.</span></span> <span data-ttu-id="f9d89-116">Para obtener más información sobre la representación de escenas complejas, consulte [representación de varias pasadas](overviews-direct3d-11-render-multipass.md).</span><span class="sxs-lookup"><span data-stu-id="f9d89-116">For more information about rendering complex scenes, see [Multiple-Pass Rendering](overviews-direct3d-11-render-multipass.md).</span></span>

<span data-ttu-id="f9d89-117">Cree un contexto diferido mediante [**ID3D11Device:: CreateDeferredContext**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createdeferredcontext).</span><span class="sxs-lookup"><span data-stu-id="f9d89-117">Create a deferred context using [**ID3D11Device::CreateDeferredContext**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createdeferredcontext).</span></span>

<span data-ttu-id="f9d89-118">Direct3D genera una sobrecarga de representación cuando pone en cola comandos en el búfer de comandos.</span><span class="sxs-lookup"><span data-stu-id="f9d89-118">Direct3D generates rendering overhead when it queues up commands in the command buffer.</span></span> <span data-ttu-id="f9d89-119">En cambio, una [lista de comandos](overviews-direct3d-11-render-multi-thread-command-list.md) se ejecuta mucho más eficazmente durante la reproducción.</span><span class="sxs-lookup"><span data-stu-id="f9d89-119">In contrast, a [command list](overviews-direct3d-11-render-multi-thread-command-list.md) executes much more efficiently during playback.</span></span> <span data-ttu-id="f9d89-120">Para usar una lista de comandos, grabe los comandos de representación con un contexto diferido y vuelva a reproducirlos mediante un contexto inmediato.</span><span class="sxs-lookup"><span data-stu-id="f9d89-120">To use a command list, record rendering commands with a deferred context and play them back using an immediate context.</span></span>

<span data-ttu-id="f9d89-121">Solo puede generar una lista de comandos única en un modo de un solo subproceso.</span><span class="sxs-lookup"><span data-stu-id="f9d89-121">You can generate only a single command list in a single-threaded fashion.</span></span> <span data-ttu-id="f9d89-122">Sin embargo, puede crear y usar varios contextos aplazados simultáneamente, cada uno en un subproceso independiente.</span><span class="sxs-lookup"><span data-stu-id="f9d89-122">However, you can create and use multiple deferred contexts simultaneously, each in a separate thread.</span></span> <span data-ttu-id="f9d89-123">Después, puede usar esos contextos diferidos para crear simultáneamente varias listas de comandos.</span><span class="sxs-lookup"><span data-stu-id="f9d89-123">Then, you can use those multiple deferred contexts to simultaneously create multiple command lists.</span></span>

<span data-ttu-id="f9d89-124">No se pueden reproducir dos o más listas de comandos simultáneamente en el contexto inmediato.</span><span class="sxs-lookup"><span data-stu-id="f9d89-124">You cannot play back two or more command lists simultaneously on the immediate context.</span></span>

<span data-ttu-id="f9d89-125">Para determinar si un contexto de dispositivo es un contexto inmediato o diferido, llame a [**ID3D11DeviceContext:: GetType**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gettype).</span><span class="sxs-lookup"><span data-stu-id="f9d89-125">To determine if a device context is an immediate or a deferred context, call [**ID3D11DeviceContext::GetType**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gettype).</span></span>

<span data-ttu-id="f9d89-126">El método [**ID3D11DeviceContext:: Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) solo se admite en un contexto diferido para recursos dinámicos ([**D3D11 \_ Usage \_ Dynamic**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_usage)), donde la primera llamada dentro de la lista de comandos es D3D11 el [**\_ \_ \_ descarte de escritura de asignación**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_map).</span><span class="sxs-lookup"><span data-stu-id="f9d89-126">The [**ID3D11DeviceContext::Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) method is only supported in a deferred context for dynamic resources ([**D3D11\_USAGE\_DYNAMIC**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_usage)) where the first call within the command list is [**D3D11\_MAP\_WRITE\_DISCARD**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_map).</span></span> <span data-ttu-id="f9d89-127">**D3D11 \_ NO se admite la escritura de asignación \_ \_ sin \_** sobrescritura en las llamadas subsiguientes si están disponibles para el tipo de recurso especificado.</span><span class="sxs-lookup"><span data-stu-id="f9d89-127">**D3D11\_MAP\_WRITE\_NO\_OVERWRITE** is supported on subsequent calls if available for the given type of resource.</span></span>

<span data-ttu-id="f9d89-128">Las consultas en un contexto diferido se limitan a la generación de datos y al dibujo de predicado.</span><span class="sxs-lookup"><span data-stu-id="f9d89-128">Queries in a deferred context are limited to data generation and predicated drawing.</span></span> <span data-ttu-id="f9d89-129">No se puede llamar a [**ID3D11DeviceContext:: GetData**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-getdata) en un contexto diferido para obtener datos sobre una consulta; solo se puede llamar a **GetData** en el contexto inmediato para obtener datos sobre una consulta.</span><span class="sxs-lookup"><span data-stu-id="f9d89-129">You cannot call [**ID3D11DeviceContext::GetData**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-getdata) on a deferred context to get data about a query; you can only call **GetData** on the immediate context to get data about a query.</span></span> <span data-ttu-id="f9d89-130">Puede establecer un predicado de representación (un tipo de consulta) llamando a [**D3D11DeviceContext:: SetPredication**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-setpredication) para usar los resultados de la consulta en la GPU.</span><span class="sxs-lookup"><span data-stu-id="f9d89-130">You can set a rendering predicate (a type of query) by calling [**D3D11DeviceContext::SetPredication**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-setpredication) to use query results on the GPU.</span></span> <span data-ttu-id="f9d89-131">Puede generar datos de consulta mediante llamadas a [**ID3D11DeviceContext:: Begin**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-begin) y [**ID3D11DeviceContext:: end**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-end).</span><span class="sxs-lookup"><span data-stu-id="f9d89-131">You can generate query data through calls to [**ID3D11DeviceContext::Begin**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-begin) and [**ID3D11DeviceContext::End**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-end).</span></span> <span data-ttu-id="f9d89-132">Sin embargo, los datos de consulta no estarán disponibles hasta que llame a [**ID3D11DeviceContext:: ExecuteCommandList**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-executecommandlist) en el contexto inmediato para enviar la lista de comandos de contexto aplazado.</span><span class="sxs-lookup"><span data-stu-id="f9d89-132">However, the query data will not be available until you call [**ID3D11DeviceContext::ExecuteCommandList**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-executecommandlist) on the immediate context to submit the deferred context command list.</span></span> <span data-ttu-id="f9d89-133">A continuación, la GPU procesa los datos de la consulta.</span><span class="sxs-lookup"><span data-stu-id="f9d89-133">The query data is then processed by the GPU.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f9d89-134">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="f9d89-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f9d89-135">Multithreading</span><span class="sxs-lookup"><span data-stu-id="f9d89-135">Multithreading</span></span>](overviews-direct3d-11-render-multi-thread.md)
</dt> </dl>

 

 




