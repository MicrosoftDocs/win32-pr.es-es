---
title: Exposición de recursos en mosaico de HLSL
description: Se requiere una nueva sintaxis de lenguaje de sombreado de alto nivel (HLSL) de Microsoft para admitir recursos en mosaico en el modelo de sombreador 5.
ms.assetid: B6CE51E6-1BA9-4D15-9654-86FE9BAAF585
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b2b266b98045b38645e1e8d24ed0014a5f448a38
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104487963"
---
# <a name="hlsl-tiled-resources-exposure"></a><span data-ttu-id="4b616-103">Exposición de recursos en mosaico de HLSL</span><span class="sxs-lookup"><span data-stu-id="4b616-103">HLSL tiled resources exposure</span></span>

<span data-ttu-id="4b616-104">Se requiere una nueva sintaxis de lenguaje de sombreado de alto nivel (HLSL) de Microsoft para admitir recursos en mosaico en el [modelo de sombreador 5](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5).</span><span class="sxs-lookup"><span data-stu-id="4b616-104">New Microsoft High Level Shader Language (HLSL) syntax is required to support tiled resources in [Shader Model 5](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5).</span></span>

<span data-ttu-id="4b616-105">La nueva sintaxis de HLSL solo se permite en dispositivos con compatibilidad con recursos en mosaico.</span><span class="sxs-lookup"><span data-stu-id="4b616-105">The new HLSL syntax is allowed only on devices with tiled resources support.</span></span> <span data-ttu-id="4b616-106">Cada método HLSL relevante para los recursos en mosaico en la tabla siguiente acepta uno (comentarios) o dos (abrazadera y comentarios en este orden) parámetros opcionales adicionales.</span><span class="sxs-lookup"><span data-stu-id="4b616-106">Each relevant HLSL method for tiled resources in the following table accepts either one (feedback) or two (clamp and feedback in this order) additional optional parameters.</span></span> <span data-ttu-id="4b616-107">Por ejemplo, un método de **ejemplo** es:</span><span class="sxs-lookup"><span data-stu-id="4b616-107">For example, a **Sample** method is:</span></span>

<span data-ttu-id="4b616-108">**Ejemplo (muestra, ubicación \[ , desplazamiento \[ , abrazadera \[ , comentarios \] \] \] )**</span><span class="sxs-lookup"><span data-stu-id="4b616-108">**Sample(sampler, location \[, offset \[, clamp \[, feedback\] \] \])**</span></span>

<span data-ttu-id="4b616-109">Un ejemplo de método de **ejemplo** es [**Texture2D. sample (S, Float, int, Float, uint)**](/windows/desktop/direct3dhlsl/t2darray-sample-s-float-int-float-uint-).</span><span class="sxs-lookup"><span data-stu-id="4b616-109">An example of a **Sample** method is [**Texture2D.Sample(S,float,int,float,uint)**](/windows/desktop/direct3dhlsl/t2darray-sample-s-float-int-float-uint-).</span></span>

<span data-ttu-id="4b616-110">Los parámetros offset, Clamp y feedback son opcionales.</span><span class="sxs-lookup"><span data-stu-id="4b616-110">The offset, clamp and feedback parameters are optional.</span></span> <span data-ttu-id="4b616-111">Debe especificar todos los parámetros opcionales hasta el que necesite, lo que es coherente con las reglas de C++ de los argumentos de función predeterminados.</span><span class="sxs-lookup"><span data-stu-id="4b616-111">You must specify all optional parameters up to the one you need, which is consistent with the C++ rules for default function arguments.</span></span> <span data-ttu-id="4b616-112">Por ejemplo, si se necesita el estado de los comentarios, los parámetros offset y Clamp deben proporcionarse explícitamente al **ejemplo**, aunque es posible que no sean necesarios lógicamente.</span><span class="sxs-lookup"><span data-stu-id="4b616-112">For example, if the feedback status is needed, both offset and clamp parameters need to be explicitly supplied to **Sample**, even though they may not be logically needed.</span></span>

<span data-ttu-id="4b616-113">El parámetro Clamp es un valor Float escalar.</span><span class="sxs-lookup"><span data-stu-id="4b616-113">The clamp parameter is a scalar float value.</span></span> <span data-ttu-id="4b616-114">El valor literal de Clamp = 0.0 f indica que no se realiza la operación de abrazadera.</span><span class="sxs-lookup"><span data-stu-id="4b616-114">The literal value of clamp=0.0f indicates that the clamp operation isn't performed.</span></span>

<span data-ttu-id="4b616-115">El parámetro feedback es una variable **uint** que se puede proporcionar a la función [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) intrínseca de consulta de acceso a la memoria.</span><span class="sxs-lookup"><span data-stu-id="4b616-115">The feedback parameter is a **uint** variable that you can supply to the memory-access querying intrinsic [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) function.</span></span> <span data-ttu-id="4b616-116">No debe modificar ni interpretar el valor del parámetro feedback. pero el compilador no proporciona ningún diagnóstico y análisis avanzados para detectar si modificó el valor.</span><span class="sxs-lookup"><span data-stu-id="4b616-116">You must not modify or interpret the value of the feedback parameter; but, the compiler doesn't provide any advanced analysis and diagnostics to detect whether you modified the value.</span></span>

<span data-ttu-id="4b616-117">Esta es la sintaxis de [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped):</span><span class="sxs-lookup"><span data-stu-id="4b616-117">Here is the syntax of [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped):</span></span>

<span data-ttu-id="4b616-118">**bool CheckAccessFullyMapped (en uint FeedbackVar);**</span><span class="sxs-lookup"><span data-stu-id="4b616-118">**bool CheckAccessFullyMapped(in uint FeedbackVar);**</span></span>

<span data-ttu-id="4b616-119">[**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) interpreta el valor de *FeedbackVar* y devuelve true si todos los datos a los que se tiene acceso se asignaron en el recurso; de lo contrario, **CheckAccessFullyMapped** devuelve false.</span><span class="sxs-lookup"><span data-stu-id="4b616-119">[**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) interprets the value of *FeedbackVar* and returns true if all data being accessed was mapped in the resource; otherwise, **CheckAccessFullyMapped** returns false.</span></span>

<span data-ttu-id="4b616-120">Si el parámetro clamp o feedback está presente, el compilador emite una variante de la instrucción básica.</span><span class="sxs-lookup"><span data-stu-id="4b616-120">If either the clamp or feedback parameter is present, the compiler emits a variant of the basic instruction.</span></span> <span data-ttu-id="4b616-121">Por ejemplo, el ejemplo de un recurso en mosaico genera la `sample_cl_s` instrucción.</span><span class="sxs-lookup"><span data-stu-id="4b616-121">For example, sample of a tiled resource generates the `sample_cl_s` instruction.</span></span> <span data-ttu-id="4b616-122">Si no se especifican Clamp ni feedback, el compilador emite la instrucción básica, de modo que no hay ningún cambio en el comportamiento actual.</span><span class="sxs-lookup"><span data-stu-id="4b616-122">If neither clamp nor feedback is specified, the compiler emits the basic instruction, so that there is no change from the current behavior.</span></span> <span data-ttu-id="4b616-123">El valor de Clamp de 0,0 f indica que no se realiza ninguna abrazadera; por lo tanto, el compilador de controladores puede personalizar aún más la instrucción al hardware de destino.</span><span class="sxs-lookup"><span data-stu-id="4b616-123">The clamp value of 0.0f indicates that no clamp is performed; thus, the driver compiler can further tailor the instruction to the target hardware.</span></span> <span data-ttu-id="4b616-124">Si los comentarios son un registro nulo en una instrucción, los comentarios no se usan. por lo tanto, el compilador de controladores puede adaptar aún más la instrucción a la arquitectura de destino.</span><span class="sxs-lookup"><span data-stu-id="4b616-124">If feedback is a NULL register in an instruction, the feedback is unused; thus, the driver compiler can further tailor the instruction to the target architecture.</span></span>

<span data-ttu-id="4b616-125">Si el compilador de HLSL infiere que la abrazadera es 0,0 f y los comentarios no se usan, el compilador emite la instrucción básica correspondiente (por ejemplo, `sample` en lugar de `sample_cl_s` ).</span><span class="sxs-lookup"><span data-stu-id="4b616-125">If the HLSL compiler infers that clamp is 0.0f and feedback is unused, the compiler emits the corresponding basic instruction (for example, `sample` rather than `sample_cl_s`).</span></span>

<span data-ttu-id="4b616-126">Si el acceso a un recurso en mosaico consta de varias instrucciones de código de bytes constituyentes, por ejemplo, para los recursos estructurados, el compilador agrega valores de comentarios individuales a través de la operación o para generar el valor final de los comentarios.</span><span class="sxs-lookup"><span data-stu-id="4b616-126">If a tiled resource access consists of several constituent byte code instructions, for example, for structured resources, the compiler aggregates individual feedback values via the OR operation to produce the final feedback value.</span></span> <span data-ttu-id="4b616-127">Por lo tanto, verá un valor de comentarios único para este tipo de acceso complejo.</span><span class="sxs-lookup"><span data-stu-id="4b616-127">Therefore, you see a single feedback value for such a complex access.</span></span>

<span data-ttu-id="4b616-128">Esta es la tabla de Resumen de los métodos de HLSL que se cambian para admitir comentarios y/o abrazadera.</span><span class="sxs-lookup"><span data-stu-id="4b616-128">This is the summary table of HLSL methods that are changed to support feedback and/or clamp.</span></span> <span data-ttu-id="4b616-129">Todas ellas funcionan en recursos en mosaico y no en mosaico de todas las dimensiones.</span><span class="sxs-lookup"><span data-stu-id="4b616-129">These all work on tiled and non-tiled resources of all dimensions.</span></span> <span data-ttu-id="4b616-130">Los recursos no mosaicos siempre parecen estar totalmente asignados.</span><span class="sxs-lookup"><span data-stu-id="4b616-130">Non-tiled resources always appear to be fully mapped.</span></span>



| [<span data-ttu-id="4b616-131">Objetos HLSL</span><span class="sxs-lookup"><span data-stu-id="4b616-131">HLSL objects</span></span>](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5-objects)                                                                                                                                                                                                                                | <span data-ttu-id="4b616-132">Métodos intrínsecos con la opción feedback ( \* )-también tiene la opción Clamp</span><span class="sxs-lookup"><span data-stu-id="4b616-132">Intrinsic methods with feedback option (\*) - also has clamp option</span></span>                                                                                                                                                                  |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="4b616-133">\[RW \] Texture2D</span><span class="sxs-lookup"><span data-stu-id="4b616-133">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="4b616-134">\[RW \] Texture2DArray</span><span class="sxs-lookup"><span data-stu-id="4b616-134">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="4b616-135">TextureCUBE</span><span class="sxs-lookup"><span data-stu-id="4b616-135">TextureCUBE</span></span><br/> <span data-ttu-id="4b616-136">TextureCUBEArray</span><span class="sxs-lookup"><span data-stu-id="4b616-136">TextureCUBEArray</span></span><br/>                                                                                                                                                                                    | <span data-ttu-id="4b616-137">Recopilar</span><span class="sxs-lookup"><span data-stu-id="4b616-137">Gather</span></span><br/> <span data-ttu-id="4b616-138">GatherRed</span><span class="sxs-lookup"><span data-stu-id="4b616-138">GatherRed</span></span><br/> <span data-ttu-id="4b616-139">GatherGreen</span><span class="sxs-lookup"><span data-stu-id="4b616-139">GatherGreen</span></span><br/> <span data-ttu-id="4b616-140">GatherBlue</span><span class="sxs-lookup"><span data-stu-id="4b616-140">GatherBlue</span></span><br/> <span data-ttu-id="4b616-141">GatherAlpha</span><span class="sxs-lookup"><span data-stu-id="4b616-141">GatherAlpha</span></span><br/> <span data-ttu-id="4b616-142">GatherCmp</span><span class="sxs-lookup"><span data-stu-id="4b616-142">GatherCmp</span></span><br/> <span data-ttu-id="4b616-143">GatherCmpRed</span><span class="sxs-lookup"><span data-stu-id="4b616-143">GatherCmpRed</span></span><br/> <span data-ttu-id="4b616-144">GatherCmpGreen</span><span class="sxs-lookup"><span data-stu-id="4b616-144">GatherCmpGreen</span></span><br/> <span data-ttu-id="4b616-145">GatherCmpBlue</span><span class="sxs-lookup"><span data-stu-id="4b616-145">GatherCmpBlue</span></span><br/> <span data-ttu-id="4b616-146">GatherCmpAlpha</span><span class="sxs-lookup"><span data-stu-id="4b616-146">GatherCmpAlpha</span></span><br/> |
| <span data-ttu-id="4b616-147">\[RW \] Texture1D</span><span class="sxs-lookup"><span data-stu-id="4b616-147">\[RW\]Texture1D</span></span><br/> <span data-ttu-id="4b616-148">\[RW \] Texture1DArray</span><span class="sxs-lookup"><span data-stu-id="4b616-148">\[RW\]Texture1DArray</span></span><br/> <span data-ttu-id="4b616-149">\[RW \] Texture2D</span><span class="sxs-lookup"><span data-stu-id="4b616-149">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="4b616-150">\[RW \] Texture2DArray</span><span class="sxs-lookup"><span data-stu-id="4b616-150">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="4b616-151">\[RW \] Texture3D</span><span class="sxs-lookup"><span data-stu-id="4b616-151">\[RW\]Texture3D</span></span><br/> <span data-ttu-id="4b616-152">TextureCUBE</span><span class="sxs-lookup"><span data-stu-id="4b616-152">TextureCUBE</span></span><br/> <span data-ttu-id="4b616-153">TextureCUBEArray</span><span class="sxs-lookup"><span data-stu-id="4b616-153">TextureCUBEArray</span></span><br/>                                                                                              | <span data-ttu-id="4b616-154">Ejemplo\*</span><span class="sxs-lookup"><span data-stu-id="4b616-154">Sample\*</span></span><br/> <span data-ttu-id="4b616-155">SampleBias\*</span><span class="sxs-lookup"><span data-stu-id="4b616-155">SampleBias\*</span></span><br/> <span data-ttu-id="4b616-156">SampleCmp\*</span><span class="sxs-lookup"><span data-stu-id="4b616-156">SampleCmp\*</span></span><br/> <span data-ttu-id="4b616-157">SampleCmpLevelZero</span><span class="sxs-lookup"><span data-stu-id="4b616-157">SampleCmpLevelZero</span></span><br/> <span data-ttu-id="4b616-158">SampleGrad\*</span><span class="sxs-lookup"><span data-stu-id="4b616-158">SampleGrad\*</span></span><br/> <span data-ttu-id="4b616-159">SampleLevel</span><span class="sxs-lookup"><span data-stu-id="4b616-159">SampleLevel</span></span><br/>                                                                                      |
| <span data-ttu-id="4b616-160">\[RW \] Texture1D</span><span class="sxs-lookup"><span data-stu-id="4b616-160">\[RW\]Texture1D</span></span><br/> <span data-ttu-id="4b616-161">\[RW \] Texture1DArray</span><span class="sxs-lookup"><span data-stu-id="4b616-161">\[RW\]Texture1DArray</span></span><br/> <span data-ttu-id="4b616-162">\[RW \] Texture2D</span><span class="sxs-lookup"><span data-stu-id="4b616-162">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="4b616-163">Texture2DMS</span><span class="sxs-lookup"><span data-stu-id="4b616-163">Texture2DMS</span></span><br/> <span data-ttu-id="4b616-164">\[RW \] Texture2DArray</span><span class="sxs-lookup"><span data-stu-id="4b616-164">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="4b616-165">Texture2DArrayMS</span><span class="sxs-lookup"><span data-stu-id="4b616-165">Texture2DArrayMS</span></span><br/> <span data-ttu-id="4b616-166">\[RW \] Texture3D</span><span class="sxs-lookup"><span data-stu-id="4b616-166">\[RW\]Texture3D</span></span><br/> <span data-ttu-id="4b616-167">\[Búfer de RW \]</span><span class="sxs-lookup"><span data-stu-id="4b616-167">\[RW\]Buffer</span></span><br/> <span data-ttu-id="4b616-168">\[RW \] ByteAddressBuffer</span><span class="sxs-lookup"><span data-stu-id="4b616-168">\[RW\]ByteAddressBuffer</span></span><br/> <span data-ttu-id="4b616-169">\[RW \] StructuredBuffer</span><span class="sxs-lookup"><span data-stu-id="4b616-169">\[RW\]StructuredBuffer</span></span><br/> | <span data-ttu-id="4b616-170">Carga</span><span class="sxs-lookup"><span data-stu-id="4b616-170">Load</span></span>                                                                                                                                                                                                                                 |



 

## <a name="related-topics"></a><span data-ttu-id="4b616-171">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="4b616-171">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4b616-172">Acceso de canalización a recursos en mosaico</span><span class="sxs-lookup"><span data-stu-id="4b616-172">Pipeline access to tiled resources</span></span>](pipeline-access-to-tiled-resources.md)
</dt> </dl>

 

