---
title: Escribir archivos en el dispositivo
description: Escribir archivos en el dispositivo
ms.assetid: 66eaed16-032b-4ac0-a768-aded80f10255
keywords:
- Windows Media Administrador de dispositivos, escribir archivos en dispositivos
- Administrador de dispositivos, escribir archivos en dispositivos
- Guía de programación, escribir archivos en dispositivos
- aplicaciones de escritorio, escribir archivos en dispositivos
- crear aplicaciones de Windows Media Administrador de dispositivos, escribir archivos en dispositivos
- escribir archivos en dispositivos, acerca de
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 62d8b5234cc275eed1b4aa344c16a2b927b8122d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104531887"
---
# <a name="writing-files-to-the-device"></a><span data-ttu-id="ebed5-109">Escribir archivos en el dispositivo</span><span class="sxs-lookup"><span data-stu-id="ebed5-109">Writing Files to the Device</span></span>

<span data-ttu-id="ebed5-110">Antes de enviar un archivo a un dispositivo, la aplicación debe averiguar qué tipos de archivos y formatos puede controlar el dispositivo, de modo que la aplicación pueda determinar si el archivo se debe transcodificar antes de enviarlo o enviarlo sin modificarlo o no enviarlo.</span><span class="sxs-lookup"><span data-stu-id="ebed5-110">Before sending a file to a device, your application must find out what types of files and formats the device can handle, so that the application can determine whether the file should be transcoded before sending, or sent unmodified, or not sent at all.</span></span>

<span data-ttu-id="ebed5-111">En los pasos siguientes se muestra cómo enviar un archivo existente al dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ebed5-111">The following steps show how to send an existing file down to the device.</span></span> <span data-ttu-id="ebed5-112">Para crear un archivo nuevo en el dispositivo, como una lista de reproducción, consulte [creación de una lista de reproducción en el dispositivo](creating-a-playlist-on-the-device.md).</span><span class="sxs-lookup"><span data-stu-id="ebed5-112">To create a new file on the device, such as a playlist, see [Creating a Playlist on the Device](creating-a-playlist-on-the-device.md).</span></span>

1.  <span data-ttu-id="ebed5-113">Obtiene el formato del archivo que desea enviar al dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ebed5-113">Get the format of the file you intend to send to the device.</span></span> <span data-ttu-id="ebed5-114">Para obtener más información, vea [detectar el formato de un archivo](discovering-a-files-format.md).</span><span class="sxs-lookup"><span data-stu-id="ebed5-114">For more information, see [Discovering a File's Format](discovering-a-files-format.md).</span></span>
2.  <span data-ttu-id="ebed5-115">Si el dispositivo está diseñado para reproducir el archivo,</span><span class="sxs-lookup"><span data-stu-id="ebed5-115">If the device is intended to play the file,</span></span>
    -   <span data-ttu-id="ebed5-116">Consulte el archivo para obtener sus capacidades de formato.</span><span class="sxs-lookup"><span data-stu-id="ebed5-116">Query the file for its format capabilities.</span></span> <span data-ttu-id="ebed5-117">Para obtener más información, consulte [detectar capacidades de formato de dispositivo](discovering-device-format-capabilities.md).</span><span class="sxs-lookup"><span data-stu-id="ebed5-117">For more information, see [Discovering Device Format Capabilities](discovering-device-format-capabilities.md).</span></span>
    -   <span data-ttu-id="ebed5-118">Busque un formato aceptable que la aplicación pueda crear a partir del archivo original.</span><span class="sxs-lookup"><span data-stu-id="ebed5-118">Find an acceptable format that the application can create from the original file.</span></span>
    -   <span data-ttu-id="ebed5-119">Si es necesario transcodificar el archivo, transcodificarlo.</span><span class="sxs-lookup"><span data-stu-id="ebed5-119">If the file needs to be transcoded, transcode it.</span></span>
3.  <span data-ttu-id="ebed5-120">Busque un almacenamiento primario para el nuevo objeto.</span><span class="sxs-lookup"><span data-stu-id="ebed5-120">Find a parent storage for the new object.</span></span> <span data-ttu-id="ebed5-121">Windows Media Administrador de dispositivos no proporciona una manera de detectar la ubicación de almacenamiento estándar para los tipos de archivo en particular (archivos de vídeo o audio, WMV o BMP, una carpeta "favoritos", etc.), por lo que tendrá que examinar cada dispositivo para intentar averiguar dónde es mejor almacenar el nuevo objeto.</span><span class="sxs-lookup"><span data-stu-id="ebed5-121">Windows Media Device Manager does not provide a way to discover the standard storage location for any particular file types (video or audio files, WMV or BMP, a "Favorites" folder, and so on), so you will have to examine each device to try to figure out where best to store the new object.</span></span> <span data-ttu-id="ebed5-122">(Otras aplicaciones imponen una determinada estructura de carpetas, por ejemplo, Windows Media Player crea álbumes, listas de reproducción y carpetas de música donde la carpeta música contiene un artista y una jerarquía nombre del álbum.</span><span class="sxs-lookup"><span data-stu-id="ebed5-122">(Other applications enforce a certain folder structure, for example, Windows Media Player creates Albums, Playlists and Music folders where the Music folder contains an Artist and AlbumName heirarchy.</span></span> <span data-ttu-id="ebed5-123">Por esta razón, y dado que es posible que algunos dispositivos no se hayan probado con software que no sea Windows Media Player, tenga en cuenta que la ubicación de los objetos de la lista de reproducción o del álbum en cualquier carpeta que no sea la lista de reproducción o las carpetas de álbumes a veces puede conducir a la no función de objetos en algunos dispositivos).</span><span class="sxs-lookup"><span data-stu-id="ebed5-123">For this reason, and because some devices may not have been tested with software other than Windows Media Player, be aware that the placement of playlist or album objects in any folder other than the Playlists or Albums folders may sometimes lead to nonfunctioning objects on some devices.)</span></span>
4.  <span data-ttu-id="ebed5-124">Si el almacenamiento de destino admite [**IWMDMStorageControl3**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmstoragecontrol3), cree una nueva interfaz de metadatos mediante una llamada a [**IWMDMStorage3:: CreateEmptyMetadataObject**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage3-createemptymetadataobject).</span><span class="sxs-lookup"><span data-stu-id="ebed5-124">If the target storage supports [**IWMDMStorageControl3**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmstoragecontrol3), create a new metadata interface by calling [**IWMDMStorage3::CreateEmptyMetadataObject**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage3-createemptymetadataobject).</span></span> <span data-ttu-id="ebed5-125">Establezca los metadatos en una interfaz [**IWMDMMetaData**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmmetadata) .</span><span class="sxs-lookup"><span data-stu-id="ebed5-125">Set metadata on an [**IWMDMMetaData**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmmetadata) interface.</span></span> <span data-ttu-id="ebed5-126">Para obtener más información, consulte [configuración de metadatos en un archivo](setting-metadata-on-a-file.md).</span><span class="sxs-lookup"><span data-stu-id="ebed5-126">For more information, see [Setting Metadata on a File](setting-metadata-on-a-file.md).</span></span> <span data-ttu-id="ebed5-127">Los únicos metadatos necesarios son g \_ wszWMDMFormatCode (un valor [**\_ FORMATCODE de WMDM**](wmdm-formatcode.md) que describe el contenido), pero los más metadatos que se pueden proporcionar es más eficaz para el proveedor de servicios.</span><span class="sxs-lookup"><span data-stu-id="ebed5-127">The only required metadata is g\_wszWMDMFormatCode (a [**WMDM\_FORMATCODE**](wmdm-formatcode.md) value describing the content), but the more metadata you can provide, the more efficient the transfer will be for the service provider.</span></span>
5.  <span data-ttu-id="ebed5-128">Envíe el archivo al dispositivo mediante el método [**Insert**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol-insert), [**Insert2**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol2-insert2)o [**Insert3**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol3-insert3) .</span><span class="sxs-lookup"><span data-stu-id="ebed5-128">Send the file to the device by using the [**Insert**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol-insert), [**Insert2**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol2-insert2), or [**Insert3**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol3-insert3) method.</span></span> <span data-ttu-id="ebed5-129">**Insert3** permite incluir los metadatos en el dispositivo como parte del método.</span><span class="sxs-lookup"><span data-stu-id="ebed5-129">**Insert3** allows you to include the metadata on the device as part of the method.</span></span> <span data-ttu-id="ebed5-130">Para obtener más información, consulte [Enviar el archivo al dispositivo](sending-the-file-to-the-device.md).</span><span class="sxs-lookup"><span data-stu-id="ebed5-130">For more information, see [Sending the File to the Device](sending-the-file-to-the-device.md).</span></span>

<span data-ttu-id="ebed5-131">El código que muestra cada uno de estos pasos se proporciona en las páginas del tema vinculado.</span><span class="sxs-lookup"><span data-stu-id="ebed5-131">Code demonstrating each of these steps is provided on the linked topic pages.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ebed5-132">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ebed5-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ebed5-133">**Crear una aplicación de Windows Media Administrador de dispositivos**</span><span class="sxs-lookup"><span data-stu-id="ebed5-133">**Creating a Windows Media Device Manager Application**</span></span>](creating-a-windows-media-device-manager-application.md)
</dt> </dl>

 

 




