---
title: Introducción a las firmas raíz
description: La aplicación y los vínculos muestran las listas de comandos a los recursos que requieren los sombreadores.
ms.assetid: 2E649DA2-6CAC-4C2A-A420-D4EC0DD6EA73
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 85eb5882e4a893c2933c55281f21c49f2d7d50d7
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104549139"
---
# <a name="root-signatures-overview"></a><span data-ttu-id="cd68f-103">Introducción a las firmas raíz</span><span class="sxs-lookup"><span data-stu-id="cd68f-103">Root Signatures Overview</span></span>

<span data-ttu-id="cd68f-104">La aplicación y los vínculos muestran las listas de comandos a los recursos que requieren los sombreadores.</span><span class="sxs-lookup"><span data-stu-id="cd68f-104">A root signature is configured by the app and links command lists to the resources the shaders require.</span></span> <span data-ttu-id="cd68f-105">La lista de comandos gráficos tiene un gráfico y una firma de raíz de proceso.</span><span class="sxs-lookup"><span data-stu-id="cd68f-105">The graphics command list has both a graphics and compute root signature.</span></span> <span data-ttu-id="cd68f-106">Una lista de comandos de proceso simplemente tendrá una firma de raíz de proceso.</span><span class="sxs-lookup"><span data-stu-id="cd68f-106">A compute command list will simply have one compute root signature.</span></span> <span data-ttu-id="cd68f-107">Estas firmas raíz son independientes entre sí.</span><span class="sxs-lookup"><span data-stu-id="cd68f-107">These root signatures are independent of each other.</span></span>

-   [<span data-ttu-id="cd68f-108">Parámetros y argumentos raíz</span><span class="sxs-lookup"><span data-stu-id="cd68f-108">Root parameters and arguments</span></span>](#root-parameters-and-arguments)
-   [<span data-ttu-id="cd68f-109">Constantes, descriptores y tablas raíz</span><span class="sxs-lookup"><span data-stu-id="cd68f-109">Root constants, descriptors and tables</span></span>](#root-constants-descriptors-and-tables)
-   [<span data-ttu-id="cd68f-110">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="cd68f-110">Related topics</span></span>](#related-topics)

## <a name="root-parameters-and-arguments"></a><span data-ttu-id="cd68f-111">Parámetros y argumentos raíz</span><span class="sxs-lookup"><span data-stu-id="cd68f-111">Root parameters and arguments</span></span>

<span data-ttu-id="cd68f-112">Una **firma raíz** es similar a una firma de función de la API, determina los tipos de datos que los sombreadores deberían esperar, pero no define la memoria o los datos reales.</span><span class="sxs-lookup"><span data-stu-id="cd68f-112">A **root signature** is similar to an API function signature, it determines the types of data the shaders should expect, but does not define the actual memory or data.</span></span> <span data-ttu-id="cd68f-113">Un **parámetro raíz** es una entrada en la firma raíz.</span><span class="sxs-lookup"><span data-stu-id="cd68f-113">A **root parameter** is one entry in the root signature.</span></span> <span data-ttu-id="cd68f-114">Los valores reales de los parámetros raíz establecidos y modificados en tiempo de ejecución se denominan **argumentos raíz**.</span><span class="sxs-lookup"><span data-stu-id="cd68f-114">The actual values of root parameters set and changed at runtime are called **root arguments**.</span></span> <span data-ttu-id="cd68f-115">Al cambiar los argumentos raíz se cambian los datos que los sombreadores leen.</span><span class="sxs-lookup"><span data-stu-id="cd68f-115">Changing the root arguments changes the data that the shaders read.</span></span>

## <a name="root-constants-descriptors-and-tables"></a><span data-ttu-id="cd68f-116">Constantes, descriptores y tablas raíz</span><span class="sxs-lookup"><span data-stu-id="cd68f-116">Root constants, descriptors and tables</span></span>

<span data-ttu-id="cd68f-117">La firma raíz puede contener tres tipos de parámetros: constantes de raíz (constantes insertadas en los argumentos raíz), descriptores de raíz (descriptores insertados en los argumentos raíz) y tablas de descriptores (punteros a un intervalo de descriptores en el montón de descriptores).</span><span class="sxs-lookup"><span data-stu-id="cd68f-117">The root signature can contain three types of parameters; root constants (constants inlined in the root arguments), root descriptors (descriptors inlined in the root arguments), and descriptor tables (pointers to a range of descriptors in the descriptor heap).</span></span>

<span data-ttu-id="cd68f-118">Las constantes raíz son valores de 32 bits en línea que se muestran en el sombreador como un búfer de constantes.</span><span class="sxs-lookup"><span data-stu-id="cd68f-118">The root constants are inline 32-bit values that show up in the shader as a constant buffer.</span></span>

<span data-ttu-id="cd68f-119">Los descriptores de raíz insertados deben contener descriptores a los que se accede con mayor frecuencia, aunque se limita a CBVs, y búferes UAV o SRV sin procesar o estructurados.</span><span class="sxs-lookup"><span data-stu-id="cd68f-119">The inlined root descriptors should contain descriptors that are accessed most often, though is limited to CBVs, and raw or structured UAV or SRV buffers.</span></span> <span data-ttu-id="cd68f-120">Un tipo más complejo, como un SRV de textura de 2D, no se puede usar como un descriptor raíz.</span><span class="sxs-lookup"><span data-stu-id="cd68f-120">A more complex type, such as a 2D texture SRV, cannot be used as a root descriptor.</span></span> <span data-ttu-id="cd68f-121">Los descriptores raíz no incluyen un límite de tamaño, por lo que no puede haber comprobaciones fuera de límite, a diferencia de los descriptores de los montones de descriptores, que incluyen un tamaño.</span><span class="sxs-lookup"><span data-stu-id="cd68f-121">Root descriptors do not include a size limit, so there can be no out-of-bounds checking, unlike descriptors in descriptor heaps, which do include a size.</span></span>

<span data-ttu-id="cd68f-122">Las entradas de la tabla de descriptores en las signaturas raíz contienen el descriptor, el nombre de enlace del sombreador HLSL y la marca de visibilidad.</span><span class="sxs-lookup"><span data-stu-id="cd68f-122">Descriptor table entries within root signatures contain the descriptor, HLSL shader bind name and visibility flag.</span></span> <span data-ttu-id="cd68f-123">Consulte [modelo de sombreador 5,1](/windows/desktop/direct3dhlsl/shader-model-5-1) para más información sobre los nombres de los sombreadores.</span><span class="sxs-lookup"><span data-stu-id="cd68f-123">Refer to [Shader Model 5.1](/windows/desktop/direct3dhlsl/shader-model-5-1) for details of shader names.</span></span> <span data-ttu-id="cd68f-124">En algunos requisitos de hardware, puede haber una mejora en el rendimiento, ya que solo los descriptores son visibles para las fases del sombreador que los requieren (consulte la [**\_ \_ visibilidad del sombreador D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_shader_visibility)).</span><span class="sxs-lookup"><span data-stu-id="cd68f-124">On some hardware, there can be a performance gain from only making descriptors visible to the shader stages that require them (refer to [**D3D12\_SHADER\_VISIBILITY**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_shader_visibility)).</span></span>

![entrada de tabla de descriptores raíz](images/root-descriptor-table.png)

<span data-ttu-id="cd68f-126">El diseño de la firma raíz es bastante flexible, con algunas restricciones impuestas en hardware menos compatible.</span><span class="sxs-lookup"><span data-stu-id="cd68f-126">The layout of the root signature is quite flexible, with some constraints imposed on less capable hardware.</span></span> <span data-ttu-id="cd68f-127">Independientemente del nivel de hardware, las aplicaciones siempre deben intentar crear la firma raíz tan pequeña como sea necesario para obtener la máxima eficacia.</span><span class="sxs-lookup"><span data-stu-id="cd68f-127">Regardless of the level of hardware, applications should always try to make the root signature as small as needed for maximum efficiency.</span></span> <span data-ttu-id="cd68f-128">Las aplicaciones pueden componerse al tener más tablas de descriptores en la firma raíz pero menos espacio para las constantes raíz, o viceversa.</span><span class="sxs-lookup"><span data-stu-id="cd68f-128">Applications can trade off having more descriptor tables in the root signature but less room for root constants, or vice versa.</span></span>

<span data-ttu-id="cd68f-129">El contenido de la firma raíz (las tablas de descriptores, las constantes raíz y los descriptores raíz) que la aplicación ha enlazado automáticamente obtiene las versiones del controlador D3D12 siempre que cualquier parte del contenido cambie entre las llamadas a Draw (Graphics)/dispatch (Compute).</span><span class="sxs-lookup"><span data-stu-id="cd68f-129">The contents of the root signature (the descriptor tables, root constants and root descriptors) that the application has bound automatically get versioned by the D3D12 driver whenever any part of the contents change between draw (graphics)/dispatch (compute) calls.</span></span> <span data-ttu-id="cd68f-130">Por lo tanto, cada Draw/Dispatch obtiene un conjunto completo único de estado de firma raíz.</span><span class="sxs-lookup"><span data-stu-id="cd68f-130">So each draw/dispatch gets a unique full set of root signature state.</span></span>

<span data-ttu-id="cd68f-131">Idealmente, hay grupos de objetos de estado de canalización (PSO) que comparten la misma firma raíz.</span><span class="sxs-lookup"><span data-stu-id="cd68f-131">Ideally, there are groups of Pipeline State Objects (PSOs) that share the same root signature.</span></span> <span data-ttu-id="cd68f-132">Después de establecer una firma raíz en la canalización, todos los enlaces que define (descriptor tables, descriptores, constantes) se pueden establecer o cambiar individualmente, incluida la herencia en paquetes.</span><span class="sxs-lookup"><span data-stu-id="cd68f-132">After a root signature is set on the pipeline, all the bindings that it defines (descriptor tables, descriptors, constants) can each be individually set or changed, including inheritance into bundles.</span></span>

<span data-ttu-id="cd68f-133">Una aplicación puede hacer su propio equilibrio entre el número de tablas de descriptores que quiere que los descriptores en línea (que ocupan más espacio pero quitar un direccionamiento indirecto) dejen constantes insertadas (que no tienen direccionamiento indirecto) que deseen en la firma raíz.</span><span class="sxs-lookup"><span data-stu-id="cd68f-133">An app can make its own tradeoff between how many descriptor tables it wants verses inline descriptors (which take more space but remove an indirection) verses inline constants (which have no indirection) they want in the root signature.</span></span> <span data-ttu-id="cd68f-134">Las aplicaciones deben usar la firma raíz de la manera más moderada posible, confiando en la memoria controlada por la aplicación, como los montones y los montones de descriptor que apuntan a ellos para representar los datos masivos.</span><span class="sxs-lookup"><span data-stu-id="cd68f-134">Applications should use the root signature as sparingly as possible, relying on application controlled memory such as heaps and descriptor heaps pointing into them to represent bulk data.</span></span>

## <a name="related-topics"></a><span data-ttu-id="cd68f-135">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="cd68f-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cd68f-136">Firmas raíz</span><span class="sxs-lookup"><span data-stu-id="cd68f-136">Root Signatures</span></span>](root-signatures.md)
</dt> </dl>

 

 