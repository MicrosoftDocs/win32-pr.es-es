---
title: Solución de problemas de aplicaciones
description: En esta sección se ofrecen soluciones a problemas comunes.
ms.assetid: dfdc5a97-aa0a-4011-8f61-6e405e28b6f8
keywords:
- Windows Touch, solución de problemas de aplicaciones
- Windows Touch, rechazo de palm
- rechazo de la mano
- Windows Touch, compatibilidad heredada
- solución de problemas de Windows Touch
- inercia, solución de problemas de aplicaciones
- manipulaciones, solución de problemas de aplicaciones
- gestos, solución de problemas de aplicaciones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 389d200cedc57b7f128a535355b12a9288c6e9eb
ms.sourcegitcommit: 099ecdda1e83618b844387405da0db0ebda93a65
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/04/2021
ms.locfileid: "111443156"
---
# <a name="troubleshooting-applications"></a>Solución de problemas de aplicaciones

En esta sección se ofrecen soluciones a problemas comunes.

## <a name="general-troubleshooting"></a>Solución general de problemas



| Categoría | Descripción |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Estoy ejecutando Windows Server 2008 y las características de Windows Touch no funcionan.                                                                                                                                                                                                                                       |
| Causa    | No ha habilitado la experiencia de escritorio.                                                                                                                                                                                                                                                                        |
| Solución | Abra la herramienta Administrador del servidor administrativa: haga **clic** en Inicio , seleccione Herramientas **administrativas** y, a continuación, haga clic **Administrador del servidor**. Haga clic en **el elemento** Características de la columna izquierda. Haga **clic en Agregar** características en la **sección** Características. Seleccione **Experiencia de escritorio,** haga clic **en Siguiente** y, a continuación, haga clic **en Instalar.** |



 



| Categoría | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Cada vez que mudo el dedo rápidamente por la aplicación, aparece una flecha y mi gesto o manipulación no se registra correctamente.                                                             |
| Causa    | Tener habilitados los gestos cuando no lo necesite.                                                                                                                                                      |
| Solución | Tiene los gestos habilitados cuando desea que se deshabilite. Consulte [Compatibilidad heredada con desplazamiento](legacy-support-for-panning-with-scrollbars.md) panorámico con barras de desplazamiento para obtener información sobre cómo deshabilitar los gestos de lápiz. |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Incidencia</td>
<td>No puedo distinguir entre la entrada del mouse y la entrada de Windows Touch.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Windows genera mensajes del mouse para la compatibilidad heredada cuando un usuario hace clic en la pantalla.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>Puede llamar a <a href="/windows/win32/api/winuser/nf-winuser-getmessageextrainfo">GetMessageExtraInfo para</a> <strong>el</strong> WM_LBUTTONDOWN y <strong>WM_LBUTTONUP</strong> para determinar el origen. El código siguiente muestra cómo se podría hacer esto. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#define MOUSEEVENTF_FROMTOUCH 0xFF515700

if ((GetMessageExtraInfo() & MOUSEEVENTF_FROMTOUCH) == MOUSEEVENTF_FROMTOUCH) { 
    // Click was generated by wisptis / Windows Touch
}else{ 
    // Click was generated by the mouse.
}
</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



| Categoría | Descripción |
|----------|------------------------------------------------------------------------------------|
| Incidencia    | Cómo ejecutar aplicaciones de Microsoft PixelSense en Windows 7?                       |
| Causa    | Windows Touch y Microsoft PixelSense no son compatibles.                           |
| Solución | Debe tener como destino la plataforma Windows 7 o la plataforma Microsoft PixelSense. |



 

## <a name="troubleshooting-manipulations-and-inertia"></a>Solución de problemas de manipulaciones e inercia



| Categoría | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Mi aplicación se está inmovilizando sin motivo alguno. Obtendrá infracciones de acceso al inicializar las interfaces de objeto.                                                                                                                                          |
| Causa    | Falta una llamada a **CoInitialize** cuando se usan las interfaces [**IManipulationProcessor**](/windows/desktop/api/manipulations/nn-manipulations-imanipulationprocessor) [**o IInertiaProcessor.**](/windows/desktop/api/manipulations/nn-manipulations-iinertiaprocessor)                                                                                 |
| Solución | Esto podría deberse a la creación de instancias de los objetos del Modelo de objetos componentes (COM) de Windows Touch sin llamar a CoInitialize. Esto sucede a veces cuando se convierten proyectos de usar gestos a usar las manipulaciones o interfaces de inercia. |



 



| Categoría | Descripción |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Mi objeto se está girando incorrectamente cuando se está traduciendo. La rotación con un solo dedo no funciona correctamente.                                                                                                                                                                                                                                                                           |
| Causa    | Establecer incorrectamente pivotes en un objeto .                                                                                                                                                                                                                                                                                                                                                 |
| Solución | No está configurando correctamente los puntos de pivote de manipulación. Establezca las [**propiedades PivotPointX**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointx) y [**PivotPointY**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointy) en el centro del objeto o punto en el que desea girar y establezca la propiedad [**PivotRadius**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotradius) en el radio del objeto. |



 

## <a name="troubleshooting-windows-touch-input"></a>Solución de problemas de entrada táctil de Windows



| Categoría | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Después de controlar el mensaje [**WM \_ TOUCH,**](wm-touchdown.md) deté de recibir comentarios de límites.                                                                                                                                                                                                                                        |
| Causa    | Consumir el [**mensaje WM \_ TOUCH**](wm-touchdown.md) sin controlarlo.                                                                                                                                                                                                                                                           |
| Solución | Es probable que esté consumiendo un mensaje de Windows Touch sin reenviarlo a **DefWindowProc,** lo que dará lugar a un comportamiento inesperado. Consulte [Tareas iniciales mensajes de Windows Touch](getting-started-with-multi-touch-messages.md) para obtener más información sobre cómo controlar correctamente los mensajes WM [**\_ TOUCH.**](wm-touchdown.md) |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Incidencia</td>
<td>Estoy incluyendo windows.h, pero sigue indicando que WM_TOUCH <a href="wm-touchdown.md"><strong>no</strong></a> está definido.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>La versión de Windows en Targetver.h es incorrecta.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>No ha establecido la versión correcta de Windows en el proyecto. El código siguiente muestra las versiones de Windows establecidas correctamente para Windows Touch en Windows 7. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#ifndef WINVER                  // Specify that the minimum required platform is Windows 7.
#define WINVER 0x0601           
#endif</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Incidencia</td>
<td>Mis coordenadas x de entrada táctil y las coordenadas Y parecen no válidas. Son valores mayores de los esperados o son valores negativos.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Es posible que tenga que convertir los puntos táctiles en píxeles o que necesite convertir las coordenadas de pantalla.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>Asegúrese de llamar a <a href="/windows/desktop/api/winuser/nf-winuser-touch_coord_to_pixel"><strong>TOUCH_COORD_TO_PIXEL</strong></a> y <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient</strong></a>. El código siguiente muestra cómo hacerlo. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>      POINT ptInput;
      if (GetTouchInputInfo((HTOUCHINPUT)lParam, cInputs, pInputs, sizeof(TOUCHINPUT))){
        for (int i=0; i < static_cast<INT>(cInputs); i++){
          TOUCHINPUT ti = pInputs[i];                       
          if (ti.dwID != 0){                
            // Do something with your touch input handle.
            ptInput.x = TOUCH_COORD_TO_PIXEL(ti.x);
            ptInput.y = TOUCH_COORD_TO_PIXEL(ti.y);
            ScreenToClient(hWnd, &ptInput);
            points[ti.dwID][0] = ptInput.x;
            points[ti.dwID][1] = ptInput.y;
          }
        }
      }</code></pre></td>
</tr>
</tbody>
</table>

<div class="alert">
<blockquote>
[!Note]<br />
Para usar la función <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient,</strong></a> debe tener compatibilidad con valores altos de PPP en la aplicación. Para obtener más información sobre la compatibilidad con valores altos de PPP, visite la <a href=" /windows/win32/hidpi/high-dpi-desktop-application-development-on-windows">sección Valores altos</a> de PPP de MSDN.
</blockquote>
</div>
<div>
 
</div></td>
</tr>
</tbody>
</table>



 



| Categoría | Descripción |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | No veo mensajes [**WM \_ TOUCH,**](wm-touchdown.md) pero sé que Windows Touch funciona porque veo mensajes [**WM \_ GESTURE.**](wm-gesture.md)                                                             |
| Causa    | Falta una llamada a [**RegisterTouchWindow.**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)                                                                                                                                                          |
| Solución | [**WM \_ Los mensajes TOUCH**](wm-touchdown.md) [**y WM \_ GESTURE**](wm-gesture.md) son mutuamente excluyentes. Si no llama a [**RegisterTouchWindow,**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)solo recibirá mensajes **WM \_ GESTURE.** |



 



| Categoría | Descripción |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Estoy apercibiendo pequeños retrasos desde el momento en que toco el dedo hacia abajo hasta que obtendí entradas en mi aplicación.                                                                                                                                                                                                                                         |
| Causa    | El rechazo de la mano está causando retrasos en la entrada.                                                                                                                                                                                                                                                                                                            |
| Solución | Si **TWF \_ WANTPALM se establece** en llamadas a [**RegisterTouchWindow,**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)el rechazo de la mano está habilitado. Esto provoca un retraso pequeño (100 ms) mientras el software comprueba si la entrada viene de un dedo, un lápiz o la mano del usuario. Deshabilite el rechazo de hojas llamando **a RegisterTouchWindow** con la **marca \_ TWF WANTPALM** desactivada. |



 

## <a name="troubleshooting-windows-touch-gestures"></a>Solución de problemas de gestos táctiles de Windows



| Categoría | Descripción |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Después de controlar el [**mensaje \_ WM GESTURE,**](wm-gesture.md) deté de recibir comentarios de límites. O bien, un gesto que funcionaba anteriormente no funciona ahora.                                                                                                                                                                                                                         |
| Causa    | Consumir el mensaje [**WM \_ GESTURE**](wm-gesture.md) sin controlarlo.                                                                                                                                                                                                                                                                                                    |
| Solución | Es probable que esté consumiendo un mensaje de Windows Touch sin reenviarlo a [DefWindowProc,](/windows/win32/api/winuser/nf-winuser-defwindowproca)lo que provocará un comportamiento inesperado. Compruebe [Tareas iniciales con gestos de Windows](getting-started-with-multi-touch-gestures.md) para obtener más información sobre cómo controlar correctamente los mensajes DE WM [**\_ GESTURE.**](wm-gesture.md) |



 



| Categoría | Descripción |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | No veo mensajes [**WM \_ GESTURE,**](wm-gesture.md) pero sé que Windows Touch funciona porque veo mensajes [**WM \_ TOUCH.**](wm-touchdown.md)                                                      |
| Causa    | Llamar [**a RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow).                                                                                                                                                             |
| Solución | [**WM \_ Los mensajes TOUCH**](wm-touchdown.md) [**y WM \_ GESTURE**](wm-gesture.md) son mutuamente excluyentes. Si llama a [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow), no recibirá mensajes **WM \_ GESTURE.** |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Incidencia</td>
<td>No veo todos los gestos que esperaba ver. Por ejemplo, veo gestos con el identificador GID_PAN <strong>pero</strong> <strong>no GID_ROTATE</strong>.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Algunos gestos, como el gesto de rotación, no están habilitados de forma predeterminada.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>Debe llamar a <a href="/windows/desktop/api/winuser/nf-winuser-setgestureconfig"><strong>SetGestureConfig</strong></a> cuando reciba un mensaje <a href="wm-gesturenotify.md"><strong>WM_GESTURENOTIFY</strong></a> como se describe en la referencia <strong>de WM_GESTURENOTIFY,</strong> o bien debe agregar un controlador para el <strong>mensaje WM_GESTURENOTIFY.</strong> El código siguiente muestra cómo se podría implementar un controlador para habilitar la compatibilidad con la rotación. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>// The message map.
BEGIN_MESSAGE_MAP()
    ON_WM_CREATE()
     ... ... ...
    ON_MESSAGE(WM_GESTURENOTIFY, OnWindowsGestureNotify)
END_MESSAGE_MAP()  

LRESULT CTestWndApp::OnWindowsGestureNotify(
    UINT    uMsg,
    WPARAM  wParam,
    LPARAM  lParam,
    BOOL&   bHandled
    ){
    GESTURECONFIG gc;
    gc.dwID    = GID_ROTATE; // The gesture identifier.
    gc.dwWant  = GC_ROTATE;  // The gesture command you are enabling for GID_ROTATE.
    gc.dwBlock = 0;          // Don&#39;t block anything.
    UINT uiGcs = 1;          // The number of gestures being set.

  BOOL bResult = SetGestureConfig(g_hMainWnd, 0, uiGcs, &gc, sizeof(GESTURECONFIG));
    if(!bResult) {
        // Something went wrong, report the error using your preferred logging.
    }

  return 0;
}  </code></pre></td>
</tr>
</tbody>
</table>

Para obtener más ejemplos de configuraciones de gestos típicas, <strong>vea SetGestureConfig</strong>.</td>
</tr>
</tbody>
</table>



 



| Categoría | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Las barras de desplazamiento personalizadas de mi aplicación no se desplazan cuando se realiza el gesto de desplazamiento.                                                                                                                                                                                                                                                                                                         |
| Causa    | Faltan controladores para los mensajes WM \_ \* SCROLL correctos.                                                                                                                                                                                                                                                                                                                                            |
| Solución | No está controlando todos los mensajes WM \_ \* SCROLL en las barras de desplazamiento personalizadas. Se recomienda controlar el mensaje [**WM \_ GESTURE**](wm-gesture.md) en lugar de conservar la funcionalidad de barra de desplazamiento personalizada mediante compatibilidad heredada. Debe admitir mensajes como se detalla en la sección Compatibilidad heredada para el movimiento [panorámico con barras de desplazamiento](legacy-support-for-panning-with-scrollbars.md). |



 



| Categoría | Descripción |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Incidencia    | Estoy obteniendo retrasos para los gestos.                                                                                                                                                                                                                               |
| Causa    | Los gestos pueden estar causando retrasos.                                                                                                                                                                                                                      |
| Solución | Los gestos pueden provocar retrasos durante el tiempo que tarda la aplicación en recibir [**mensajes WM \_ GESTURE.**](wm-gesture.md) Consulte [Compatibilidad heredada para el movimiento panorámico](legacy-support-for-panning-with-scrollbars.md) con barras de desplazamiento para obtener información sobre cómo deshabilitar los gestos. |



 

## <a name="related-topics"></a>Temas relacionados

<dl> <dt>

[Guía de programación](programming-guide.md)
</dt> </dl>

 

 