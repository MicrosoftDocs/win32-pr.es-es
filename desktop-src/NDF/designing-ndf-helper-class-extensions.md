---
title: Diseñar extensiones de clase auxiliar NDF
description: El objetivo de este tema es proporcionar instrucciones genéricas mediante el proceso de desarrollo de la extensión de clase auxiliar.
ms.assetid: f5dbd198-7d22-4e7e-830e-6753e9f4d6c8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d91ff748d8139aad17fca3710b17e73b5e1eaa14
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "103994105"
---
# <a name="designing-ndf-helper-class-extensions"></a><span data-ttu-id="ea7b0-103">Diseñar extensiones de clase auxiliar NDF</span><span class="sxs-lookup"><span data-stu-id="ea7b0-103">Designing NDF Helper Class Extensions</span></span>

<span data-ttu-id="ea7b0-104">El objetivo de este tema es proporcionar instrucciones genéricas mediante el proceso de desarrollo de la extensión de clase auxiliar.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-104">This topic is intended to provide generic guidance through the helper class extension development process.</span></span> <span data-ttu-id="ea7b0-105">Las instrucciones de este tema se aplican a todas las extensiones de clase auxiliares.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-105">The guidance in this topic applies to all helper class extensions.</span></span> <span data-ttu-id="ea7b0-106">Para obtener instrucciones más específicas, consulte la [clase auxiliar extensible](windows-filtering-platform-extensible-helper-class.md) de la plataforma de filtrado de Windows y [las clases auxiliares extensibles de diagnóstico inalámbrico de 802,11](802-11-wireless-diagnostics-extensible-helper-classes.md).</span><span class="sxs-lookup"><span data-stu-id="ea7b0-106">For more specific guidance, see [Windows Filtering Platform Extensible Helper Class](windows-filtering-platform-extensible-helper-class.md) and [802.11 Wireless Diagnostics Extensible Helper Classes](802-11-wireless-diagnostics-extensible-helper-classes.md).</span></span>

## <a name="extending-ndf-functionality"></a><span data-ttu-id="ea7b0-107">Extender la funcionalidad NDF</span><span class="sxs-lookup"><span data-stu-id="ea7b0-107">Extending NDF Functionality</span></span>

<span data-ttu-id="ea7b0-108">Windows Vista y versiones posteriores se incluyen con una variedad de clases auxiliares ya implementadas que pueden diagnosticar y reparar una amplia gama de problemas.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-108">Windows Vista and later versions ship with a variety of helper classes already implemented that can diagnose and repair a wide range of issues.</span></span> <span data-ttu-id="ea7b0-109">Sin embargo, en ocasiones, es posible que los desarrolladores de terceros quieran ampliar estas clases auxiliares para diagnosticar y resolver problemas específicos de sus productos e implementaciones particulares.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-109">At times, however, third-party developers may wish to extend these helper classes to diagnose and resolve issues specific to their particular products and implementations.</span></span>

<span data-ttu-id="ea7b0-110">Las siguientes clases auxiliares de Microsoft NDF son extensibles.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-110">The following Microsoft NDF helper classes are extensible.</span></span>

-   [<span data-ttu-id="ea7b0-111">Plataforma de filtrado de Windows</span><span class="sxs-lookup"><span data-stu-id="ea7b0-111">Windows Filtering Platform</span></span>](windows-filtering-platform-extensible-helper-class.md)
-   [<span data-ttu-id="ea7b0-112">Seguridad inalámbrica</span><span class="sxs-lookup"><span data-stu-id="ea7b0-112">Wireless Security</span></span>](802-11-wireless-diagnostics-extensible-helper-classes.md)

## <a name="implementing-a-helper-class-extension"></a><span data-ttu-id="ea7b0-113">Implementar una extensión de clase auxiliar</span><span class="sxs-lookup"><span data-stu-id="ea7b0-113">Implementing a Helper Class Extension</span></span>

<span data-ttu-id="ea7b0-114">Microsoft envía dos interfaces que se pueden usar para desarrollar extensiones de clase auxiliares de NDF.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-114">Microsoft ships two interfaces that can be used to develop NDF helper class extensions.</span></span>

<span data-ttu-id="ea7b0-115">NDF llama a la interfaz [**INetDiagHelperInfo**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelperinfo) para validar que tiene toda la información necesaria y que ha elegido la clase auxiliar correcta.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-115">The [**INetDiagHelperInfo**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelperinfo) interface is called by NDF to validate that it has all required information and that it has chosen the correct helper class.</span></span> <span data-ttu-id="ea7b0-116">Esto lo lleva a cabo a través del método [**GetAttributeInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelperinfo-getattributeinfo) .</span><span class="sxs-lookup"><span data-stu-id="ea7b0-116">It accomplishes this through the [**GetAttributeInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelperinfo-getattributeinfo) method.</span></span>

<span data-ttu-id="ea7b0-117">NDF llama a la interfaz [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper) para la mayoría de las actividades que se producen durante el procedimiento de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-117">The [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper) interface is called by NDF for most of the activities that occur during the diagnostic procedure.</span></span> <span data-ttu-id="ea7b0-118">Algunos de sus métodos son obligatorios, pero otros son opcionales para usos específicos.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-118">Several of its methods are required, but others are optional for specific uses.</span></span>

<span data-ttu-id="ea7b0-119">Los métodos necesarios incluyen [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) y [**GetDiagnosticsInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-getdiagnosticsinfo).</span><span class="sxs-lookup"><span data-stu-id="ea7b0-119">The required methods include [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) and [**GetDiagnosticsInfo**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-getdiagnosticsinfo).</span></span> <span data-ttu-id="ea7b0-120">NDF llama a **Initialize** para enviar parámetros de clave a la extensión de clase auxiliar para inicializar el estado de la instancia.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-120">NDF calls **Initialize** to send key parameters to the helper class extension to initialize its instance state.</span></span> <span data-ttu-id="ea7b0-121">**GetDiagnosticsInfo** proporciona una estimación del tiempo que puede tardar el diagnóstico y de si requiere la suplantación del contexto de usuario original.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-121">**GetDiagnosticsInfo** provides an estimate of how long the diagnosis may take and whether it requires impersonation of the original user context.</span></span>

<span data-ttu-id="ea7b0-122">Otro método, [**LowHealth**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-lowhealth), se llama para realizar el diagnóstico en el componente de red correspondiente a la clase auxiliar.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-122">Another method, [**LowHealth**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-lowhealth), is called to perform diagnosis on the network component corresponding to the helper class.</span></span> <span data-ttu-id="ea7b0-123">Se llama a [**Cancel**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cancel) cuando NDF determina que se debe detener el diagnóstico o la reparación en curso.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-123">[**Cancel**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cancel) is called when NDF determines an ongoing diagnosis or repair should be stopped.</span></span> <span data-ttu-id="ea7b0-124">La [**limpieza**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cleanup) permite a NDF liberar los recursos NDF que la extensión de clase auxiliar ha usado desde que se realizó la llamada a [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) .</span><span class="sxs-lookup"><span data-stu-id="ea7b0-124">[**Cleanup**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-cleanup) allows NDF to release NDF resources that the helper class extension has used since the call to [**Initialize**](/windows/desktop/api/ndhelper/nf-ndhelper-inetdiaghelper-initialize) was made.</span></span>

<span data-ttu-id="ea7b0-125">Para obtener información sobre métodos adicionales, vea [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper).</span><span class="sxs-lookup"><span data-stu-id="ea7b0-125">For information on additional methods, see [**INetDiagHelper**](/windows/desktop/api/ndhelper/nn-ndhelper-inetdiaghelper).</span></span>

<span data-ttu-id="ea7b0-126">Las extensiones de clase auxiliar NDF se usan para diagnosticar y resolver problemas de conectividad asociados a una aplicación o componente específico.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-126">NDF helper class extensions are used to diagnose and resolve connectivity problems associated with a specific application or component.</span></span> <span data-ttu-id="ea7b0-127">También validan el éxito o el fracaso de un intento de resolución.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-127">They also validate the success or failure of a resolution attempt.</span></span>

<span data-ttu-id="ea7b0-128">Los desarrolladores que consideren la implementación de una extensión de clase auxiliar deben realizar las siguientes tareas.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-128">Developers considering the implementation of a helper class extension should perform the following tasks.</span></span>

-   <span data-ttu-id="ea7b0-129">Identificar los escenarios de usuario en los que resultan útiles las acciones de diagnóstico y reparación.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-129">Identify user scenarios in which diagnostic and repair actions are helpful.</span></span>
-   <span data-ttu-id="ea7b0-130">Proporcionar soluciones a los problemas de conectividad que se producen con frecuencia.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-130">Provide resolutions to frequently encountered connectivity problems.</span></span>
-   <span data-ttu-id="ea7b0-131">Si se requiere una extensión de clase auxiliar, defina un modelo de estado de componente que se usa para representar el estado de mantenimiento del componente en NDF.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-131">If a helper class extension is required, define a component health model used to represent the component's health state in NDF.</span></span>

## <a name="identify-user-scenarios"></a><span data-ttu-id="ea7b0-132">Identificar escenarios de usuario</span><span class="sxs-lookup"><span data-stu-id="ea7b0-132">Identify User Scenarios</span></span>

<span data-ttu-id="ea7b0-133">Es posible que las pruebas y el uso de una aplicación ya hayan proporcionado patrones que puedan ser capaces de diagnosticar y reparar.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-133">Testing and use of an application may have already provided discernable patterns that a helper class extension may be able to diagnose and possibly repair.</span></span> <span data-ttu-id="ea7b0-134">Los desarrolladores de aplicaciones pueden usar estos datos para determinar los problemas de conectividad más importantes que se deben abordar e identificar los escenarios de usuario en los que es probable que se produzcan problemas de conectividad.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-134">Application developers can use this data to determine the most important connectivity issues to address and to identify the user scenarios in which connectivity issues are likely to occur.</span></span>

<span data-ttu-id="ea7b0-135">La determinación de la causa principal de cada problema es fundamental en esta parte del proceso.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-135">Determining the root cause of each problem is vital in this part of the process.</span></span> <span data-ttu-id="ea7b0-136">Esto puede requerir una investigación extensa, pero le ayudará a crear software que sea mucho más fácil de usar para los usuarios y los administradores.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-136">This may require extensive research, but will help create software that is far easier for users and administrators to use.</span></span> <span data-ttu-id="ea7b0-137">Si no se identifica una causa raíz, resulta difícil o imposible ofrecer resolución de problemas con la extensión de clase auxiliar.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-137">If a root cause is not identified, it becomes difficult or impossible to offer problem resolution using the helper class extension.</span></span>

## <a name="provide-resolutions"></a><span data-ttu-id="ea7b0-138">Proporcionar soluciones</span><span class="sxs-lookup"><span data-stu-id="ea7b0-138">Provide Resolutions</span></span>

<span data-ttu-id="ea7b0-139">Después de que un equipo de desarrollo identifique las causas raíz de los problemas asociados a su software, el paso siguiente consiste en identificar las acciones de resolución adecuadas para ayudar al usuario a resolver el problema de la manera más eficaz posible.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-139">After a development team has identified the root causes of problems associated with their software, the next step is to identify the appropriate resolution actions for helping the user solve the problem as efficiently as possible.</span></span>

<span data-ttu-id="ea7b0-140">No todas las resoluciones requieren que se cree una extensión de clase auxiliar o una acción automatizada.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-140">Not all resolutions require that a helper class extension or automated action be created.</span></span> <span data-ttu-id="ea7b0-141">En algunos casos, el equipo puede determinar que el mejor enfoque para resolver una causa raíz es corregir o actualizar el componente, proporcionar contenido de ayuda adicional para el componente o desarrollar otras estrategias que proporcionan mejores soluciones a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-141">In some cases, the team may determine that the best approach to resolving a root cause is to fix or update the component, provide additional help content for the component, or develop other strategies that provide better long-term solutions.</span></span>

<span data-ttu-id="ea7b0-142">En el caso de los problemas en los que una acción automatizada es ideal, la creación de una extensión de clase auxiliar NDF suele ser una solución excelente.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-142">For problems in which an automated action is ideal, creating an NDF helper class extension is often an excellent solution.</span></span>

<span data-ttu-id="ea7b0-143">Las extensiones de clase auxiliar devuelven información sobre las causas raíz y la información de reparación a los usuarios a través de NDF.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-143">Helper class extensions return information about root causes and repair information to users through NDF.</span></span> <span data-ttu-id="ea7b0-144">Las cadenas que se usan para describir las causas raíz y la información de reparación deben ser sencillas y fáciles de entender para un usuario no técnico.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-144">The strings used to describe the root causes and repair information must be simple and easy for a non-technical user to understand.</span></span> <span data-ttu-id="ea7b0-145">Para obtener más información sobre estas cadenas, vea [directrices de la interfaz de usuario para las extensiones de clase auxiliares de NDF](user-interface-guidelines-for-ndf-helper-class-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="ea7b0-145">For more information on these strings, see [User Interface Guidelines for NDF Helper Class Extensions](user-interface-guidelines-for-ndf-helper-class-extensions.md).</span></span>

## <a name="define-a-component-health-model"></a><span data-ttu-id="ea7b0-146">Definir un modelo de estado de componentes</span><span class="sxs-lookup"><span data-stu-id="ea7b0-146">Define a Component Health Model</span></span>

<span data-ttu-id="ea7b0-147">Los desarrolladores de software deben definir niveles de "mantenimiento" asociados a la capacidad de administración de los problemas de red.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-147">Software developers should define levels of "health" associated with the manageability of networking problems.</span></span> <span data-ttu-id="ea7b0-148">Un modelo de estado usado para desarrollar clases auxiliares define solo dos niveles de mantenimiento: correcto y incorrecto.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-148">A health model used to develop helper classes defines just two levels of health: healthy and unhealthy.</span></span> <span data-ttu-id="ea7b0-149">Estos niveles también se pueden aplicar a las extensiones de clase auxiliar NDF.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-149">These levels can also be applied to NDF helper class extensions.</span></span>

<span data-ttu-id="ea7b0-150">Un componente correcto indica una ausencia de problemas.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-150">A healthy component indicates an absence of problems.</span></span> <span data-ttu-id="ea7b0-151">Un componente se puede considerar incorrecto debido a sus propios problemas o debido a problemas que se producen en otros componentes de los que depende.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-151">A component can be considered unhealthy because of its own problems, or because of problems occurring in other components on which it depends.</span></span>



| <span data-ttu-id="ea7b0-152">Término</span><span class="sxs-lookup"><span data-stu-id="ea7b0-152">Term</span></span>                                                                                                                             | <span data-ttu-id="ea7b0-153">Descripción</span><span class="sxs-lookup"><span data-stu-id="ea7b0-153">Description</span></span>                                                                                                                      |
|----------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ea7b0-154"><span id="LowHealth"></span><span id="lowhealth"></span><span id="LOWHEALTH"></span>LowHealth</span><span class="sxs-lookup"><span data-stu-id="ea7b0-154"><span id="LowHealth"></span><span id="lowhealth"></span><span id="LOWHEALTH"></span>LowHealth</span></span><br/>                         | <span data-ttu-id="ea7b0-155">Este estado indica un nivel inaceptable de errores de este componente y que el componente es el problema.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-155">This state indicates an unacceptable level of failures from this component, and that the component is the problem.</span></span><br/>    |
| <span data-ttu-id="ea7b0-156"><span id="LowHealth_Below"></span><span id="lowhealth_below"></span><span id="LOWHEALTH_BELOW"></span>LowHealth a continuación</span><span class="sxs-lookup"><span data-stu-id="ea7b0-156"><span id="LowHealth_Below"></span><span id="lowhealth_below"></span><span id="LOWHEALTH_BELOW"></span>LowHealth Below</span></span><br/> | <span data-ttu-id="ea7b0-157">Este estado indica un nivel inaceptable de errores de un componente del equipo local del que depende este componente.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-157">This state indicates an unacceptable level of failures from a local machine component that this component depends on.</span></span><br/> |



 

<span data-ttu-id="ea7b0-158">Cuando se realiza el diagnóstico con NDF, se formula una serie de preguntas en la extensión de clase auxiliar para determinar su estado de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-158">When diagnosis takes place using NDF, the helper class extension is asked a series of questions to determine its state of health.</span></span> <span data-ttu-id="ea7b0-159">Si la extensión responde que está en mal estado, NDF le pedirá dudas, intentando diagnosticar el problema, su ubicación y dónde buscar a continuación.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-159">If the extension responds that it is unhealthy, NDF asks clarifying questions, trying to diagnose the problem, its location, and where to look next.</span></span> <span data-ttu-id="ea7b0-160">Cada clase auxiliar debe ser capaz de responder a la pregunta de un estado bajo para mejorar las actividades de diagnóstico adecuadas.</span><span class="sxs-lookup"><span data-stu-id="ea7b0-160">Each helper class must be able to answer the question of low health in order to better direct appropriate diagnostic activities.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ea7b0-161">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ea7b0-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ea7b0-162">Clase auxiliar extensible de la plataforma de filtrado de Windows</span><span class="sxs-lookup"><span data-stu-id="ea7b0-162">Windows Filtering Platform Extensible Helper Class</span></span>](windows-filtering-platform-extensible-helper-class.md)
</dt> <dt>

[<span data-ttu-id="ea7b0-163">802,11 clases auxiliares extensibles de diagnóstico inalámbrico</span><span class="sxs-lookup"><span data-stu-id="ea7b0-163">802.11 Wireless Diagnostics Extensible Helper Classes</span></span>](802-11-wireless-diagnostics-extensible-helper-classes.md)
</dt> </dl>

 

 





