---
title: Acerca de los controles Up-Down
description: Un control de flechas es un par de botones de flecha en los que el usuario puede hacer clic para aumentar o disminuir un valor, como una posición de desplazamiento o un número mostrado en un control complementario (denominado ventana relacionada).
ms.assetid: ae2c0283-9cad-40d1-b8a6-a90484a95f56
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2cc8dad15a8254b138cae4175cc16b1ef3111745
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "103794086"
---
# <a name="about-up-down-controls"></a><span data-ttu-id="b1c7e-103">Acerca de los controles Up-Down</span><span class="sxs-lookup"><span data-stu-id="b1c7e-103">About Up-Down Controls</span></span>

<span data-ttu-id="b1c7e-104">Un control de flechas es un par de botones de flecha en los que el usuario puede hacer clic para aumentar o disminuir un valor, como una posición de desplazamiento o un número mostrado en un control complementario (denominado ventana relacionada).</span><span class="sxs-lookup"><span data-stu-id="b1c7e-104">An up-down control is a pair of arrow buttons that the user can click to increment or decrement a value, such as a scroll position or a number displayed in a companion control (called a buddy window).</span></span>

<span data-ttu-id="b1c7e-105">Para el usuario, un control de flechas y su ventana relacionada suelen tener el mismo control.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-105">To the user, an up-down control and its buddy window often look like a single control.</span></span> <span data-ttu-id="b1c7e-106">Puede especificar que un control de flechas se coloque automáticamente junto a su ventana relacionada y que establezca automáticamente la leyenda de la ventana relacionada en su posición actual.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-106">You can specify that an up-down control automatically position itself next to its buddy window and that it automatically set the caption of the buddy window to its current position.</span></span> <span data-ttu-id="b1c7e-107">Por ejemplo, puede utilizar un control de flechas con un control de edición para solicitar al usuario una entrada numérica.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-107">For example, you can use an up-down control with an edit control to prompt the user for numeric input.</span></span> <span data-ttu-id="b1c7e-108">En la ilustración siguiente se muestra un control de flechas con un control de edición como su ventana relacionada, una combinación a la que a veces se hace referencia como control de número.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-108">The following illustration shows an up-down control with an edit control as its buddy window, a combination that is sometimes referred to as a spinner control.</span></span>

![captura de pantalla que muestra un control rectangular corto y ancho con flechas arriba y abajo en el borde derecho](images/updown.jpg)

<span data-ttu-id="b1c7e-110">Los temas siguientes se describen en esta sección.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-110">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="b1c7e-111">Estilos de control de flechas</span><span class="sxs-lookup"><span data-stu-id="b1c7e-111">Up-Down Control Styles</span></span>](#up-down-control-styles)
-   [<span data-ttu-id="b1c7e-112">Posición y aceleración</span><span class="sxs-lookup"><span data-stu-id="b1c7e-112">Position and Acceleration</span></span>](#position-and-acceleration)
-   [<span data-ttu-id="b1c7e-113">El Up-Down predeterminado controla el procesamiento de mensajes</span><span class="sxs-lookup"><span data-stu-id="b1c7e-113">Default Up-Down Controls Message Processing</span></span>](#default-up-down-controls-message-processing)

## <a name="up-down-control-styles"></a><span data-ttu-id="b1c7e-114">Estilos de control de Up-Down</span><span class="sxs-lookup"><span data-stu-id="b1c7e-114">Up-Down Control Styles</span></span>

<span data-ttu-id="b1c7e-115">Mediante el uso de estilos de ventana, puede manipular las características de un control de flechas, como la forma en que se coloca en relación con su ventana relacionada, tanto si establece el texto de su ventana relacionada como si procesa las teclas de flecha arriba y flecha abajo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-115">Using window styles, you can manipulate characteristics of an up-down control, such as how it positions itself relative to its buddy window, whether it sets the text of its buddy window, and whether it processes the UP ARROW and DOWN ARROW keys.</span></span>

<span data-ttu-id="b1c7e-116">Un control de flechas con el estilo [**uds \_ ALIGNLEFT**](up-down-control-styles.md) o [**uds \_ ALIGNRIGHT**](up-down-control-styles.md) se alinea con el borde izquierdo o derecho de su ventana relacionada.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-116">An up-down control with the [**UDS\_ALIGNLEFT**](up-down-control-styles.md) or [**UDS\_ALIGNRIGHT**](up-down-control-styles.md) style aligns with the left or right edge of its buddy window.</span></span> <span data-ttu-id="b1c7e-117">El ancho de la ventana relacionada se reduce para acomodar el ancho del control de flechas.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-117">The width of the buddy window is decreased to accommodate the width of the up-down control.</span></span>

<span data-ttu-id="b1c7e-118">Un control de flechas con el estilo [**uds \_ SETBUDDYINT**](up-down-control-styles.md) establece el título de su ventana relacionada cada vez que cambia la posición actual.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-118">An up-down control with the [**UDS\_SETBUDDYINT**](up-down-control-styles.md) style sets the caption of its buddy window whenever the current position changes.</span></span> <span data-ttu-id="b1c7e-119">El control inserta un separador de miles entre cada tres dígitos de una cadena decimal a menos que se especifique el estilo [**uds \_ nomiles**](up-down-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-119">The control inserts a thousands separator between every three digits of a decimal string unless the [**UDS\_NOTHOUSANDS**](up-down-control-styles.md) style is specified.</span></span> <span data-ttu-id="b1c7e-120">Si la ventana relacionada es un cuadro de lista, un control de flechas establece su selección actual en lugar de su título.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-120">If the buddy window is a list box, an up-down control sets its current selection instead of its caption.</span></span>

<span data-ttu-id="b1c7e-121">Puede especificar el estilo [**uds \_ ARROWKEYS**](up-down-control-styles.md) para proporcionar una interfaz de teclado para un control de flechas.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-121">You can specify the [**UDS\_ARROWKEYS**](up-down-control-styles.md) style to provide a keyboard interface for an up-down control.</span></span> <span data-ttu-id="b1c7e-122">Si se especifica este estilo, el control procesa las teclas de dirección arriba y abajo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-122">If this style is specified, the control processes the up and down arrow keys.</span></span> <span data-ttu-id="b1c7e-123">El control también subclase la ventana relacionada para que pueda procesar estas claves cuando la ventana relacionada tenga el foco.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-123">The control also subclasses the buddy window so that it can process these keys when the buddy window has the focus.</span></span>

<span data-ttu-id="b1c7e-124">Si usa un control de flechas para el desplazamiento horizontal, puede especificar el estilo [**uds \_ horizontal**](up-down-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-124">If you use an up-down control for horizontal scrolling, you can specify the [**UDS\_HORZ**](up-down-control-styles.md) style.</span></span> <span data-ttu-id="b1c7e-125">Este estilo hace que las flechas del control de flechas señalen hacia la izquierda y hacia la derecha en lugar de hacia arriba y hacia abajo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-125">This style causes the up-down control's arrows to point left and right instead of up and down.</span></span>

<span data-ttu-id="b1c7e-126">De forma predeterminada, la posición actual no cambia si el usuario intenta incrementarlo o disminuirlo más allá del valor máximo o mínimo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-126">By default, the current position does not change if the user attempts to increment it or decrement it beyond the maximum or minimum value.</span></span> <span data-ttu-id="b1c7e-127">Puede cambiar este comportamiento mediante el estilo de [**\_ ajuste uds**](up-down-control-styles.md) , de modo que la posición "se ajusta" al extremo opuesto.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-127">You can change this behavior by using the [**UDS\_WRAP**](up-down-control-styles.md) style, so the position "wraps" to the opposite extreme.</span></span> <span data-ttu-id="b1c7e-128">Por ejemplo, el incremento más allá del límite superior ajusta la posición de nuevo al límite inferior.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-128">For example, incrementing past the upper limit wraps the position back to the lower limit.</span></span>

## <a name="position-and-acceleration"></a><span data-ttu-id="b1c7e-129">Posición y aceleración</span><span class="sxs-lookup"><span data-stu-id="b1c7e-129">Position and Acceleration</span></span>

<span data-ttu-id="b1c7e-130">Después de crear un control de flechas, puede cambiar la posición actual, la posición mínima y la posición máxima del control mediante el envío de mensajes.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-130">After an up-down control is created, you can change the control's current position, minimum position, and maximum position by sending messages.</span></span> <span data-ttu-id="b1c7e-131">También puede cambiar la base de base que se usa para mostrar la posición actual en la ventana relacionada y la velocidad a la que cambia la posición actual cuando se hace clic en la flecha arriba o abajo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-131">You can also change the radix base used to display the current position in the buddy window and the rate at which the current position changes when the up or down arrow is clicked.</span></span>

<span data-ttu-id="b1c7e-132">Para recuperar la posición actual de un control de flechas, use el mensaje [**\_ GETPOS UDM**](udm-getpos.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-132">To retrieve the current position of an up-down control, use the [**UDM\_GETPOS**](udm-getpos.md) message.</span></span> <span data-ttu-id="b1c7e-133">En el caso de un control de flechas con una ventana relacionada, la posición actual es el número en el título de la ventana relacionada.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-133">For an up-down control with a buddy window, the current position is the number in the buddy window's caption.</span></span> <span data-ttu-id="b1c7e-134">Dado que el título puede haber cambiado (por ejemplo, el usuario puede haber editado el texto de un control de edición), el control de flechas recupera el título actual y actualiza su posición actual según corresponda.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-134">Because the caption may have changed (for example, the user may have edited the text of an edit control), the up-down control retrieves the current caption and updates its current position accordingly.</span></span>

<span data-ttu-id="b1c7e-135">El título de la ventana del contacto puede ser una cadena decimal o hexadecimal, dependiendo de la base de base (es decir, base 10 o 16) del control de flechas.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-135">The buddy window's caption may be either a decimal or hexadecimal string, depending on the radix base (that is, either base 10 or 16) of the up-down control.</span></span> <span data-ttu-id="b1c7e-136">Puede establecer la base de base mediante el mensaje [**UDM \_ SETBASE**](udm-setbase.md) y recuperar la base de base mediante el mensaje [**\_ GETBASE de UDM**](udm-getbase.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-136">You can set the radix base by using the [**UDM\_SETBASE**](udm-setbase.md) message and retrieve the radix base by using the [**UDM\_GETBASE**](udm-getbase.md) message.</span></span>

<span data-ttu-id="b1c7e-137">El mensaje [**UDM \_ SETPOS**](udm-setpos.md) establece la posición actual de una ventana relacionada.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-137">The [**UDM\_SETPOS**](udm-setpos.md) message sets the current position of a buddy window.</span></span> <span data-ttu-id="b1c7e-138">Tenga en cuenta que, a diferencia de una barra de desplazamiento, un control de flechas cambia automáticamente su posición actual cuando se hace clic en las flechas arriba y abajo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-138">Note that unlike a scroll bar, an up-down control automatically changes its current position when the up and down arrows are clicked.</span></span> <span data-ttu-id="b1c7e-139">Por lo tanto, una aplicación no necesita establecer la posición actual al procesar el mensaje de [**WM \_ VSCROLL**](wm-vscroll.md) o [**WM \_ HSCROLL**](wm-hscroll.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-139">An application, therefore, does not need to set the current position when processing the [**WM\_VSCROLL**](wm-vscroll.md) or [**WM\_HSCROLL**](wm-hscroll.md) message.</span></span>

<span data-ttu-id="b1c7e-140">Puede cambiar las posiciones mínima y máxima de un control de flechas mediante el mensaje de [**\_ SetRange UDM**](udm-setrange.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-140">You can change the minimum and maximum positions of an up-down control by using the [**UDM\_SETRANGE**](udm-setrange.md) message.</span></span> <span data-ttu-id="b1c7e-141">La posición máxima puede ser menor que el mínimo y, en ese caso, al hacer clic en el botón de flecha arriba, se reduce la posición actual.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-141">The maximum position may be less than the minimum, and in that case clicking the up arrow button decreases the current position.</span></span> <span data-ttu-id="b1c7e-142">Para colocarlo de otro modo, subir significa moverse hacia la posición máxima.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-142">To put it another way, up means moving toward the maximum position.</span></span> <span data-ttu-id="b1c7e-143">Para recuperar las posiciones mínima y máxima de un control de flechas, use el mensaje [**\_ GETRANGE UDM**](udm-getrange.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-143">To retrieve the minimum and maximum positions for an up-down control, use the [**UDM\_GETRANGE**](udm-getrange.md) message.</span></span>

<span data-ttu-id="b1c7e-144">Puede controlar la velocidad a la que cambia la posición cuando el usuario mantiene presionado un botón de flecha estableciendo la aceleración del control de flechas.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-144">You can control the rate at which the position changes when the user holds down an arrow button by setting the up-down control's acceleration.</span></span> <span data-ttu-id="b1c7e-145">La aceleración se define mediante una matriz de estructuras [**UDACCEL**](/windows/desktop/api/Commctrl/ns-commctrl-udaccel) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-145">The acceleration is defined by an array of [**UDACCEL**](/windows/desktop/api/Commctrl/ns-commctrl-udaccel) structures.</span></span> <span data-ttu-id="b1c7e-146">Cada estructura especifica un intervalo de tiempo y el número de unidades que se incrementan o disminuyen al final de ese intervalo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-146">Each structure specifies a time interval and the number of units by which to increment or decrement at the end of that interval.</span></span> <span data-ttu-id="b1c7e-147">Para establecer la aceleración, use el [**mensaje \_ SETACCEL UDM**](udm-setaccel.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-147">To set the acceleration, use the [**UDM\_SETACCEL**](udm-setaccel.md) message.</span></span> <span data-ttu-id="b1c7e-148">Para recuperar la información de aceleración, use el mensaje [**\_ GETACCEL UDM**](udm-getaccel.md) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-148">To retrieve acceleration information, use the [**UDM\_GETACCEL**](udm-getaccel.md) message.</span></span>

## <a name="default-up-down-controls-message-processing"></a><span data-ttu-id="b1c7e-149">El Up-Down predeterminado controla el procesamiento de mensajes</span><span class="sxs-lookup"><span data-stu-id="b1c7e-149">Default Up-Down Controls Message Processing</span></span>

<span data-ttu-id="b1c7e-150">En esta sección se describen los mensajes de Windows estándar procesados por un control de flechas.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-150">This section describes the standard Windows messages processed by an up-down control.</span></span>



| <span data-ttu-id="b1c7e-151">Message</span><span class="sxs-lookup"><span data-stu-id="b1c7e-151">Message</span></span>                                        | <span data-ttu-id="b1c7e-152">Procesamiento realizado</span><span class="sxs-lookup"><span data-stu-id="b1c7e-152">Processing performed</span></span>                                                                                                                                                                                         |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b1c7e-153">**creación de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-153">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)             | <span data-ttu-id="b1c7e-154">Asigna e inicializa una estructura de datos privada y guarda su dirección como datos de ventana.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-154">Allocates and initializes a private data structure and saves its address as window data.</span></span>                                                                                                                     |
| [<span data-ttu-id="b1c7e-155">**destrucción de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-155">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)           | <span data-ttu-id="b1c7e-156">Libera los datos asignados durante el procesamiento de la [**\_ creación de WM**](/windows/desktop/winmsg/wm-create) .</span><span class="sxs-lookup"><span data-stu-id="b1c7e-156">Frees data allocated during [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) processing.</span></span>                                                                                                                                   |
| [<span data-ttu-id="b1c7e-157">**\_habilitación de WM**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-157">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)             | <span data-ttu-id="b1c7e-158">Invalida la ventana.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-158">Invalidates the window.</span></span>                                                                                                                                                                                      |
| [<span data-ttu-id="b1c7e-159">**KEYDOWN de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-159">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)         | <span data-ttu-id="b1c7e-160">Cambia la posición actual en el caso de una tecla de flecha arriba o flecha abajo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-160">Changes the current position in the case of an UP ARROW or DOWN ARROW key.</span></span>                                                                                                                                   |
| [<span data-ttu-id="b1c7e-161">**KEYUP de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-161">**WM\_KEYUP**</span></span>](/windows/desktop/inputdev/wm-keyup)             | <span data-ttu-id="b1c7e-162">Completa el cambio de posición.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-162">Completes the position change.</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="b1c7e-163">**LBUTTONDOWN de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-163">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown) | <span data-ttu-id="b1c7e-164">Captura el mouse.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-164">Captures the mouse.</span></span> <span data-ttu-id="b1c7e-165">Si la ventana relacionada es un control de edición o un cuadro de lista, establece el foco en la ventana relacionada.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-165">If the buddy window is an edit control or list box, it sets the focus to the buddy window.</span></span> <span data-ttu-id="b1c7e-166">Si el mouse está encima del botón arriba o abajo, comienza a cambiar la posición y establece un temporizador.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-166">If the mouse is over the up or down button, it begins changing the position and sets a timer.</span></span> |
| [<span data-ttu-id="b1c7e-167">**LBUTTONUP de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-167">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)     | <span data-ttu-id="b1c7e-168">Completa el cambio de posición y libera la captura del mouse si el control de flechas ha capturado el mouse.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-168">Completes the position change and releases the mouse capture if the up-down control has captured the mouse.</span></span> <span data-ttu-id="b1c7e-169">Si la ventana relacionada es un control de edición, selecciona todo el texto del control de edición.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-169">If the buddy window is an edit control, it selects all the text in the edit control.</span></span>             |
| [<span data-ttu-id="b1c7e-170">**pintura de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-170">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                  | <span data-ttu-id="b1c7e-171">Dibuja el control de flechas.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-171">Paints the up-down control.</span></span> <span data-ttu-id="b1c7e-172">Si el parámetro *wParam* no es null, el control supone que el valor es **HDC** y pinta usando ese contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-172">If the *wParam* parameter is non-NULL, the control assumes that the value is an **HDC** and paints using that device context.</span></span>                                                    |
| [<span data-ttu-id="b1c7e-173">**temporizador de WM \_**</span><span class="sxs-lookup"><span data-stu-id="b1c7e-173">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)               | <span data-ttu-id="b1c7e-174">Cambia la posición actual si se mantiene el mouse sobre un botón y ha transcurrido un intervalo suficiente.</span><span class="sxs-lookup"><span data-stu-id="b1c7e-174">Changes the current position if the mouse is being held down over a button and a sufficient interval has elapsed.</span></span>                                                                                            |



 

 

 