---
description: Los receptores de medios son los objetos de canalización que reciben datos multimedia.
ms.assetid: a0fbce1b-0a16-4449-9eca-906fd9056a1c
title: Receptores de medios
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9394cbfd49a631d59b9296202a2b6ca7a868869
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/03/2021
ms.locfileid: "104361848"
---
# <a name="media-sinks"></a><span data-ttu-id="901d2-103">Receptores de medios</span><span class="sxs-lookup"><span data-stu-id="901d2-103">Media Sinks</span></span>

<span data-ttu-id="901d2-104">Los *receptores de medios* son los objetos de canalización que reciben datos multimedia.</span><span class="sxs-lookup"><span data-stu-id="901d2-104">*Media sinks* are the pipeline objects that receive media data.</span></span> <span data-ttu-id="901d2-105">Un receptor de medios es el destino de una o más secuencias de multimedia.</span><span class="sxs-lookup"><span data-stu-id="901d2-105">A media sink is the destination for one or more media streams.</span></span> <span data-ttu-id="901d2-106">Los receptores de medios se dividen en dos categorías generales:</span><span class="sxs-lookup"><span data-stu-id="901d2-106">Media sinks fall into two general categories:</span></span>

-   <span data-ttu-id="901d2-107">Un *representador* es un receptor de medios que presenta los datos para la reproducción.</span><span class="sxs-lookup"><span data-stu-id="901d2-107">A *renderer* is a media sink that presents data for playback.</span></span> <span data-ttu-id="901d2-108">El representador de vídeo mejorado (EVR) muestra fotogramas de vídeo y el representador de audio reproduce secuencias de audio a través de la tarjeta de sonido u otro dispositivo de audio.</span><span class="sxs-lookup"><span data-stu-id="901d2-108">The enhanced video renderer (EVR) displays video frames, and the audio renderer plays audio streams through the sound card or other audio device.</span></span>

-   <span data-ttu-id="901d2-109">Un *receptor de archivo* es un receptor de medios que escribe datos en un archivo u otro almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="901d2-109">An *archive sink* is a media sink that writes data to a file or other storage.</span></span>

<span data-ttu-id="901d2-110">La diferencia principal entre ellos es que un receptor de archivo no utiliza los datos con una velocidad de reproducción fija.</span><span class="sxs-lookup"><span data-stu-id="901d2-110">The main difference between them is that an archive sink does not consume the data at a fixed playback rate.</span></span> <span data-ttu-id="901d2-111">En su lugar, escribe los datos que recibe lo más rápido posible.</span><span class="sxs-lookup"><span data-stu-id="901d2-111">Instead, it writes the data that it receives as quickly as possible.</span></span>

<span data-ttu-id="901d2-112">Los receptores de medios exponen la interfaz [**IMFMediaSink**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasink) .</span><span class="sxs-lookup"><span data-stu-id="901d2-112">Media sinks expose the [**IMFMediaSink**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasink) interface.</span></span> <span data-ttu-id="901d2-113">Cada receptor de medios contiene uno o varios *receptores de secuencias*.</span><span class="sxs-lookup"><span data-stu-id="901d2-113">Each media sink contains one or more *stream sinks*.</span></span> <span data-ttu-id="901d2-114">Cada receptor de la secuencia recibe los datos de una secuencia.</span><span class="sxs-lookup"><span data-stu-id="901d2-114">Each stream sink receives the data from one stream.</span></span> <span data-ttu-id="901d2-115">Los receptores de flujo exponen la interfaz [**IMFStreamSink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) .</span><span class="sxs-lookup"><span data-stu-id="901d2-115">Stream sinks expose the [**IMFStreamSink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) interface.</span></span> <span data-ttu-id="901d2-116">Normalmente, una aplicación no crea receptores de medios directamente.</span><span class="sxs-lookup"><span data-stu-id="901d2-116">Typically an application does not create media sinks directly.</span></span> <span data-ttu-id="901d2-117">En su lugar, la aplicación crea uno o varios objetos de activación, que la sesión multimedia utiliza para crear el receptor.</span><span class="sxs-lookup"><span data-stu-id="901d2-117">Instead, the application creates one or more activation objects, which the Media Session uses to create the sink.</span></span> <span data-ttu-id="901d2-118">Todas las demás operaciones del receptor se controlan mediante la sesión de medios y la aplicación no llama a ningún método en el receptor de medios ni en ninguno de los receptores de flujo.</span><span class="sxs-lookup"><span data-stu-id="901d2-118">All other operations on the sink are handled by the Media Session, and the application does not call any methods on the media sink or any of the stream sinks.</span></span> <span data-ttu-id="901d2-119">Para obtener más información sobre los objetos de activación, vea [objetos de activación](activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="901d2-119">For more information about activation objects, see [Activation Objects](activation-objects.md).</span></span>

<span data-ttu-id="901d2-120">Lea el resto de este tema si está escribiendo un receptor de multimedia personalizado o si desea usar un receptor de medios directamente sin la sesión multimedia.</span><span class="sxs-lookup"><span data-stu-id="901d2-120">You should read the remainder of this topic if you are writing a custom media sink, or if you want to use a media sink directly without the Media Session.</span></span>

-   [<span data-ttu-id="901d2-121">Receptores de flujo</span><span class="sxs-lookup"><span data-stu-id="901d2-121">Stream Sinks</span></span>](#stream-sinks)
-   [<span data-ttu-id="901d2-122">Reloj de presentación</span><span class="sxs-lookup"><span data-stu-id="901d2-122">Presentation Clock</span></span>](#presentation-clock)
-   [<span data-ttu-id="901d2-123">Formatos de secuencia</span><span class="sxs-lookup"><span data-stu-id="901d2-123">Stream Formats</span></span>](#stream-formats)
-   [<span data-ttu-id="901d2-124">Flujo de datos</span><span class="sxs-lookup"><span data-stu-id="901d2-124">Data Flow</span></span>](#data-flow)
-   [<span data-ttu-id="901d2-125">Marcadores</span><span class="sxs-lookup"><span data-stu-id="901d2-125">Markers</span></span>](#markers)
-   [<span data-ttu-id="901d2-126">Cambios de estado</span><span class="sxs-lookup"><span data-stu-id="901d2-126">State Changes</span></span>](#state-changes)
-   [<span data-ttu-id="901d2-127">Finalizando</span><span class="sxs-lookup"><span data-stu-id="901d2-127">Finalizing</span></span>](#finalizing)
-   [<span data-ttu-id="901d2-128">Apagar</span><span class="sxs-lookup"><span data-stu-id="901d2-128">Shutting Down</span></span>](#shutting-down)
-   [<span data-ttu-id="901d2-129">Interfaces del receptor de medios</span><span class="sxs-lookup"><span data-stu-id="901d2-129">Media Sink Interfaces</span></span>](#media-sink-interfaces)
-   [<span data-ttu-id="901d2-130">Interfaces del receptor de secuencias</span><span class="sxs-lookup"><span data-stu-id="901d2-130">Stream Sink Interfaces</span></span>](#stream-sink-interfaces)
-   [<span data-ttu-id="901d2-131">Eventos de receptor de secuencias</span><span class="sxs-lookup"><span data-stu-id="901d2-131">Stream Sink Events</span></span>](#stream-sink-events)
-   [<span data-ttu-id="901d2-132">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="901d2-132">Related topics</span></span>](#related-topics)

## <a name="stream-sinks"></a><span data-ttu-id="901d2-133">Receptores de flujo</span><span class="sxs-lookup"><span data-stu-id="901d2-133">Stream Sinks</span></span>

<span data-ttu-id="901d2-134">Un receptor de medios puede tener un número fijo de receptores de secuencias, o puede admitir la adición y eliminación de receptores de flujo.</span><span class="sxs-lookup"><span data-stu-id="901d2-134">A media sink can have a fixed number of stream sinks, or it can support adding and removing stream sinks.</span></span> <span data-ttu-id="901d2-135">Si tiene un número fijo de receptores de secuencias, el método [**IMFMediaSink:: GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) devuelve la marca de \_ secuencias fijas MEDIASINK \_ .</span><span class="sxs-lookup"><span data-stu-id="901d2-135">If it has a fixed number of stream sinks, the [**IMFMediaSink::GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method returns the MEDIASINK\_FIXED\_STREAMS flag.</span></span> <span data-ttu-id="901d2-136">De lo contrario, puede Agregar y quitar receptores de flujo.</span><span class="sxs-lookup"><span data-stu-id="901d2-136">Otherwise, you can add and remove stream sinks.</span></span> <span data-ttu-id="901d2-137">Para agregar un nuevo receptor de la secuencia, llame a [**IMFMediaSink:: AddStreamSink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-addstreamsink).</span><span class="sxs-lookup"><span data-stu-id="901d2-137">To add a new stream sink, call [**IMFMediaSink::AddStreamSink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-addstreamsink).</span></span> <span data-ttu-id="901d2-138">Para quitar un receptor de flujo, llame a [**IMFMediaSink:: RemoveStreamSink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-removestreamsink).</span><span class="sxs-lookup"><span data-stu-id="901d2-138">To remove a stream sink, call [**IMFMediaSink::RemoveStreamSink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-removestreamsink).</span></span> <span data-ttu-id="901d2-139">La \_ marca MEDIASINK Fixed \_ streams indica que el receptor multimedia no admite estos dos métodos.</span><span class="sxs-lookup"><span data-stu-id="901d2-139">The MEDIASINK\_FIXED\_STREAMS flag indicates that the media sink does not support these two methods.</span></span> <span data-ttu-id="901d2-140">(Es posible que admita algún otro método para configurar el número de secuencias, por ejemplo, estableciendo los parámetros de inicialización cuando se crea el receptor). La lista de receptores de secuencia está ordenada.</span><span class="sxs-lookup"><span data-stu-id="901d2-140">(It might support some other way to configure the number of streams, for example by setting initialization parameters when the sink is created.) The list of stream sinks is ordered.</span></span> <span data-ttu-id="901d2-141">Para enumerarlos por valor de índice, llame al método [**IMFMediaSink:: GetStreamSinkByIndex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyindex) .</span><span class="sxs-lookup"><span data-stu-id="901d2-141">To enumerate them by index value, call the [**IMFMediaSink::GetStreamSinkByIndex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyindex) method.</span></span>

<span data-ttu-id="901d2-142">Los receptores de secuencias también tienen identificadores.</span><span class="sxs-lookup"><span data-stu-id="901d2-142">Stream sinks also have identifiers.</span></span> <span data-ttu-id="901d2-143">Los identificadores de flujo son únicos en el receptor de medios, pero no tienen que ser consecutivos.</span><span class="sxs-lookup"><span data-stu-id="901d2-143">Stream identifiers are unique within the media sink, but do not have to be consecutive.</span></span> <span data-ttu-id="901d2-144">Dependiendo del receptor de medios, los identificadores de flujo podrían tener algún significado relacionado con el contenido.</span><span class="sxs-lookup"><span data-stu-id="901d2-144">Depending on the media sink, the stream identifiers might have some meaning that is related to the content.</span></span> <span data-ttu-id="901d2-145">Por ejemplo, un receptor de archivo podría escribir los identificadores de secuencia en el encabezado del archivo.</span><span class="sxs-lookup"><span data-stu-id="901d2-145">For example, an archive sink might write the stream identifiers into the file header.</span></span> <span data-ttu-id="901d2-146">De lo contrario, son arbitrarios.</span><span class="sxs-lookup"><span data-stu-id="901d2-146">Otherwise, they are arbitrary.</span></span> <span data-ttu-id="901d2-147">Para obtener un receptor de flujo mediante su identificador, llame a [**IMFMediaSink:: GetStreamSinkById**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyid).</span><span class="sxs-lookup"><span data-stu-id="901d2-147">To get a stream sink by its identifier, call [**IMFMediaSink::GetStreamSinkById**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyid).</span></span>

## <a name="presentation-clock"></a><span data-ttu-id="901d2-148">Reloj de presentación</span><span class="sxs-lookup"><span data-stu-id="901d2-148">Presentation Clock</span></span>

<span data-ttu-id="901d2-149">La velocidad a la que un receptor de medios consume muestras se controla mediante el reloj de la [presentación](presentation-clock.md).</span><span class="sxs-lookup"><span data-stu-id="901d2-149">The rate at which a media sink consumes samples is controlled by the [Presentation Clock](presentation-clock.md).</span></span> <span data-ttu-id="901d2-150">La sesión multimedia selecciona el reloj de la presentación y lo establece en el receptor de medios llamando al método [**IMFMediaSink:: SetPresentationClock**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-setpresentationclock) del receptor de medios.</span><span class="sxs-lookup"><span data-stu-id="901d2-150">The Media Session selects the presentation clock and sets it on the media sink by calling the media sink's [**IMFMediaSink::SetPresentationClock**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-setpresentationclock) method.</span></span> <span data-ttu-id="901d2-151">El reloj de la presentación debe establecerse en el receptor de medios antes de que pueda comenzar la transmisión por secuencias.</span><span class="sxs-lookup"><span data-stu-id="901d2-151">The presentation clock must be set on the media sink before streaming can begin.</span></span> <span data-ttu-id="901d2-152">Cada receptor de medios requiere un reloj de presentación para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="901d2-152">Every media sink requires a presentation clock to run.</span></span> <span data-ttu-id="901d2-153">El receptor de medios usa el reloj de presentación para dos propósitos:</span><span class="sxs-lookup"><span data-stu-id="901d2-153">The media sink uses the presentation clock for two purposes:</span></span>

-   <span data-ttu-id="901d2-154">Para recibir notificaciones cuando se inicia o se detiene el streaming.</span><span class="sxs-lookup"><span data-stu-id="901d2-154">To receive notifications when streaming starts or stops.</span></span> <span data-ttu-id="901d2-155">El receptor de medios recibe estas notificaciones a través de la interfaz [**IMFClockStateSink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) , que todos los receptores de medios deben implementar.</span><span class="sxs-lookup"><span data-stu-id="901d2-155">The media sink receives these notifications through the [**IMFClockStateSink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) interface, which all media sinks must implement.</span></span>

-   <span data-ttu-id="901d2-156">Para determinar cuándo debe representar los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="901d2-156">To determine when it should render samples.</span></span> <span data-ttu-id="901d2-157">Cuando el receptor de medios recibe un nuevo ejemplo, obtiene la marca de tiempo del ejemplo e intenta representar el ejemplo en ese momento de presentación.</span><span class="sxs-lookup"><span data-stu-id="901d2-157">When the media sink receives a new sample, it gets the time stamp from the sample and tries to render the sample at that presentation time.</span></span>

<span data-ttu-id="901d2-158">El reloj de la presentación deriva sus horas de reloj de otro objeto denominado *origen de tiempo de presentación*.</span><span class="sxs-lookup"><span data-stu-id="901d2-158">The presentation clock derives its clock times from another object called the *presentation time source*.</span></span> <span data-ttu-id="901d2-159">Los orígenes de tiempo de presentación exponen la interfaz [**IMFPresentationTimeSource**](/windows/desktop/api/mfidl/nn-mfidl-imfpresentationtimesource) .</span><span class="sxs-lookup"><span data-stu-id="901d2-159">Presentation time sources expose the [**IMFPresentationTimeSource**](/windows/desktop/api/mfidl/nn-mfidl-imfpresentationtimesource) interface.</span></span> <span data-ttu-id="901d2-160">Algunos receptores de medios tienen acceso a un reloj preciso, de modo que exponen esta interfaz.</span><span class="sxs-lookup"><span data-stu-id="901d2-160">Some media sinks have access to an accurate clock, so they expose this interface.</span></span> <span data-ttu-id="901d2-161">Esto significa que un receptor de medios podría programar muestras con un tiempo proporcionado por su propio reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-161">This means that a media sink might schedule samples against a time provided by its own clock.</span></span> <span data-ttu-id="901d2-162">Sin embargo, el receptor de medios no puede suponer que este sea el caso.</span><span class="sxs-lookup"><span data-stu-id="901d2-162">However, the media sink cannot assume this to be the case.</span></span> <span data-ttu-id="901d2-163">Siempre debe usar el tiempo desde el reloj de la presentación, independientemente de si el reloj de la presentación está controlado por el propio receptor de medios o por algún otro reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-163">It must always use the time from the presentation clock, regardless of whether the presentation clock is driven by the media sink itself, or by some other clock.</span></span>

<span data-ttu-id="901d2-164">Si un receptor de medios no puede coincidir con las tasas con un reloj que no sea el suyo propio, el método [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) devuelve MEDIASINK \_ no puede \_ coincidir con la \_ marca del reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-164">If a media sink cannot match rates with a clock other than its own, the [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method returns the MEDIASINK\_CANNOT\_MATCH\_CLOCK flag.</span></span> <span data-ttu-id="901d2-165">Si esta marca está presente y el reloj de la presentación utiliza un origen de tiempo de presentación diferente, es probable que el receptor de medios funcione mal.</span><span class="sxs-lookup"><span data-stu-id="901d2-165">If this flag is present and the presentation clock uses a different presentation time source, the media sink is likely to perform poorly.</span></span> <span data-ttu-id="901d2-166">Por ejemplo, podría producirse un problema durante la reproducción.</span><span class="sxs-lookup"><span data-stu-id="901d2-166">For example, it might glitch during playback.</span></span>

<span data-ttu-id="901d2-167">Un receptor sin *velocidad* es un receptor de medios que omite las marcas de tiempo de las muestras y consume datos en cuanto llega cada ejemplo.</span><span class="sxs-lookup"><span data-stu-id="901d2-167">A *rateless* sink is a media sink that ignores the time stamps on samples and consumes data as soon as each sample arrives.</span></span> <span data-ttu-id="901d2-168">Un receptor de medios sin velocidad devuelve la \_ marca sin tasa de MEDIASINK del método [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) .</span><span class="sxs-lookup"><span data-stu-id="901d2-168">A rateless media sink returns the MEDIASINK\_RATELESS flag from the [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method.</span></span> <span data-ttu-id="901d2-169">Normalmente, esta marca se aplica a los receptores de archivo.</span><span class="sxs-lookup"><span data-stu-id="901d2-169">Typically this flag applies to archive sinks.</span></span> <span data-ttu-id="901d2-170">Si cada receptor de medios de la canalización no tiene frecuencia, la sesión multimedia utiliza un reloj de presentación sin velocidad especial.</span><span class="sxs-lookup"><span data-stu-id="901d2-170">If every media sink in the pipeline is rateless, the Media Session uses a special rateless presentation clock.</span></span> <span data-ttu-id="901d2-171">Este reloj se ejecuta tan pronto como los receptores consumen ejemplos.</span><span class="sxs-lookup"><span data-stu-id="901d2-171">This clock runs as quickly as the sinks consume samples.</span></span>

## <a name="stream-formats"></a><span data-ttu-id="901d2-172">Formatos de secuencia</span><span class="sxs-lookup"><span data-stu-id="901d2-172">Stream Formats</span></span>

<span data-ttu-id="901d2-173">Antes de que el receptor de medios pueda recibir ejemplos, el cliente debe establecer el tipo de medio en los receptores de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="901d2-173">Before the media sink can receive samples, the client must set the media type on the stream sinks.</span></span> <span data-ttu-id="901d2-174">Para establecer el tipo de medio, llame al método [**IMFStreamSink:: GetMediaTypeHandler**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-getmediatypehandler) del receptor de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="901d2-174">To set the media type, call the stream sink's [**IMFStreamSink::GetMediaTypeHandler**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-getmediatypehandler) method.</span></span> <span data-ttu-id="901d2-175">Este método devuelve un puntero a la interfaz [**IMFMediaTypeHandler**](/windows/desktop/api/mfidl/nn-mfidl-imfmediatypehandler) .</span><span class="sxs-lookup"><span data-stu-id="901d2-175">This method returns a pointer to the [**IMFMediaTypeHandler**](/windows/desktop/api/mfidl/nn-mfidl-imfmediatypehandler) interface.</span></span> <span data-ttu-id="901d2-176">Use esta interfaz para obtener la lista de tipos de medios preferidos, obtener el tipo de medio actual y establecer el tipo de medio.</span><span class="sxs-lookup"><span data-stu-id="901d2-176">Use this interface to get the list of preferred media types, get the current media type, and set the media type.</span></span>

<span data-ttu-id="901d2-177">Para obtener la lista de tipos de medios preferidos, llame a [**IMFMediaTypeHandler:: GetMediaTypeByIndex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getmediatypebyindex).</span><span class="sxs-lookup"><span data-stu-id="901d2-177">To get the list of preferred media types, call [**IMFMediaTypeHandler::GetMediaTypeByIndex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getmediatypebyindex).</span></span> <span data-ttu-id="901d2-178">Los tipos preferidos se deben tomar como una sugerencia para el cliente.</span><span class="sxs-lookup"><span data-stu-id="901d2-178">The preferred types should be taken as a hint to the client.</span></span> <span data-ttu-id="901d2-179">La lista puede estar incompleta o incluir tipos de medios parciales.</span><span class="sxs-lookup"><span data-stu-id="901d2-179">The list might be incomplete or include partial media types.</span></span> <span data-ttu-id="901d2-180">Un tipo de medio parcial es aquél que no tiene todos los atributos necesarios para describir un formato válido.</span><span class="sxs-lookup"><span data-stu-id="901d2-180">A partial media type is one that does not have all of the attributes needed to describe a valid format.</span></span> <span data-ttu-id="901d2-181">Por ejemplo, un tipo de vídeo parcial podría especificar el espacio de color y la profundidad de bits, pero no el ancho o el alto de la imagen.</span><span class="sxs-lookup"><span data-stu-id="901d2-181">For example, a partial video type might specify the color space and bit depth but not the image width or height.</span></span> <span data-ttu-id="901d2-182">Un tipo de audio parcial puede especificar el formato de compresión y la velocidad de muestra, pero no el número de canales de audio.</span><span class="sxs-lookup"><span data-stu-id="901d2-182">A partial audio type might specify the compression format and the sample rate but not the number of audio channels.</span></span>

<span data-ttu-id="901d2-183">Para obtener el tipo de medio actual del receptor de flujo, llame a [**IMFMediaTypeHandler:: GetCurrentMediaType**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getcurrentmediatype).</span><span class="sxs-lookup"><span data-stu-id="901d2-183">To get the stream sink's current media type, call [**IMFMediaTypeHandler::GetCurrentMediaType**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getcurrentmediatype).</span></span> <span data-ttu-id="901d2-184">Cuando se crea por primera vez un receptor de flujo, es posible que tenga un tipo de medio predeterminado ya establecido o que no tenga ningún tipo de medio hasta que el cliente establezca uno.</span><span class="sxs-lookup"><span data-stu-id="901d2-184">When a stream sink is first created, it might have a default media type already set, or it might have no media type until the client sets one.</span></span>

<span data-ttu-id="901d2-185">Para establecer el tipo de medio, llame a [**IMFMediaTypeHandler:: SetCurrentMediaType**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-setcurrentmediatype).</span><span class="sxs-lookup"><span data-stu-id="901d2-185">To set the media type, call [**IMFMediaTypeHandler::SetCurrentMediaType**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-setcurrentmediatype).</span></span> <span data-ttu-id="901d2-186">Es posible que algunos receptores de secuencias no admitan el cambio del tipo después de que se haya establecido.</span><span class="sxs-lookup"><span data-stu-id="901d2-186">Some stream sinks might not support changing the type after is has been set.</span></span> <span data-ttu-id="901d2-187">Por lo tanto, resulta útil probar los tipos de medios antes de establecerlos.</span><span class="sxs-lookup"><span data-stu-id="901d2-187">Therefore, it useful to test media types before setting them.</span></span> <span data-ttu-id="901d2-188">Para probar si el receptor de medios aceptará un tipo de medio (sin establecer el tipo), llame a [**IMFMediaTypeHandler:: IsMediaTypeSupported**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-ismediatypesupported).</span><span class="sxs-lookup"><span data-stu-id="901d2-188">To test whether the media sink will accept a media type, (without setting the type), call [**IMFMediaTypeHandler::IsMediaTypeSupported**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-ismediatypesupported).</span></span>

## <a name="data-flow"></a><span data-ttu-id="901d2-189">Data Flow</span><span class="sxs-lookup"><span data-stu-id="901d2-189">Data Flow</span></span>

<span data-ttu-id="901d2-190">Los receptores de medios usan un *modelo de extracción*, lo que significa que los receptores de la secuencia solicitan datos según lo necesiten.</span><span class="sxs-lookup"><span data-stu-id="901d2-190">Media sinks use a *pull model*, which means that the stream sinks request data as they need it.</span></span> <span data-ttu-id="901d2-191">El cliente debe responder a tiempo para evitar los problemas.</span><span class="sxs-lookup"><span data-stu-id="901d2-191">The client should respond in a timely manner to avoid any glitching.</span></span>

<span data-ttu-id="901d2-192">Algunos receptores de *medios admiten* la reversión.</span><span class="sxs-lookup"><span data-stu-id="901d2-192">Some media sinks support *prerolling*.</span></span> <span data-ttu-id="901d2-193">La preprocesamiento es el proceso de asignar datos al receptor de medios antes de que se inicie el reloj de presentación.</span><span class="sxs-lookup"><span data-stu-id="901d2-193">Prerolling is the process of giving data to the media sink before the presentation clock starts.</span></span> <span data-ttu-id="901d2-194">Si un receptor de medios admite la reversión, el receptor de medios expone la interfaz [**IMFMediaSinkPreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll) y el método [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) devuelve la \_ marca de \_ preroll MEDIASINK.</span><span class="sxs-lookup"><span data-stu-id="901d2-194">If a media sink supports prerolling, the media sink exposes the [**IMFMediaSinkPreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll) interface, and the [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method returns the MEDIASINK\_CAN\_PREROLL flag.</span></span> <span data-ttu-id="901d2-195">La garantiza que el receptor de medios está listo para presentar el primer ejemplo cuando se inicia el reloj de presentación.</span><span class="sxs-lookup"><span data-stu-id="901d2-195">Prerolling ensures that the media sink is ready to present the first sample when the presentation clock starts.</span></span> <span data-ttu-id="901d2-196">Se recomienda que el cliente siempre se previerta en caso de que el receptor de medios lo admita, ya que puede evitar problemas o interrupciones durante la reproducción.</span><span class="sxs-lookup"><span data-stu-id="901d2-196">It is recommended that the client always preroll if the media sink supports it, because it can prevent glitching or gaps during playback.</span></span>

<span data-ttu-id="901d2-197">El flujo de datos a un receptor de medios funciona de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="901d2-197">Data flow to a media sink works as follows:</span></span>

1.  <span data-ttu-id="901d2-198">El cliente establece los tipos de medios y el reloj de la presentación.</span><span class="sxs-lookup"><span data-stu-id="901d2-198">The client sets the media types and the presentation clock.</span></span> <span data-ttu-id="901d2-199">El receptor de medios se registra a sí mismo con el reloj de presentación para recibir notificaciones sobre los cambios de estado de reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-199">The media sink registers itself with the presentation clock to receive notifications about clock state changes.</span></span>
2.  <span data-ttu-id="901d2-200">Opcionalmente, el cliente consulta para [**IMFMediaSinkPreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll).</span><span class="sxs-lookup"><span data-stu-id="901d2-200">Optionally, the client queries for [**IMFMediaSinkPreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll).</span></span> <span data-ttu-id="901d2-201">Si el receptor de medios expone esta interfaz, el cliente llama a [**IMFMediaSinkPreroll:: NotifyPreroll**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasinkpreroll-notifypreroll).</span><span class="sxs-lookup"><span data-stu-id="901d2-201">If the media sink exposes this interface, the client calls [**IMFMediaSinkPreroll::NotifyPreroll**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasinkpreroll-notifypreroll).</span></span> <span data-ttu-id="901d2-202">De lo contrario, el cliente omite el paso 5.</span><span class="sxs-lookup"><span data-stu-id="901d2-202">Otherwise, the client skips to step 5.</span></span>
3.  <span data-ttu-id="901d2-203">Cada receptor de la secuencia envía uno o más eventos [MEStreamSinkRequestSample](mestreamsinkrequestsample.md) .</span><span class="sxs-lookup"><span data-stu-id="901d2-203">Each stream sink sends one or more [MEStreamSinkRequestSample](mestreamsinkrequestsample.md) events.</span></span> <span data-ttu-id="901d2-204">En respuesta a cada uno de estos eventos, el cliente obtiene la siguiente muestra de datos para esa secuencia y llama a [**IMFStreamSink::P rocesssample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample).</span><span class="sxs-lookup"><span data-stu-id="901d2-204">In response to each of these events, the client gets the next sample of data for that stream and calls [**IMFStreamSink::ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample).</span></span>
4.  <span data-ttu-id="901d2-205">Cuando cada receptor de la secuencia recibe suficientes datos de prescrito, envía un evento [MEStreamSinkPrerolled](mestreamsinkprerolled.md) .</span><span class="sxs-lookup"><span data-stu-id="901d2-205">When each stream sink receives enough preroll data, it sends an [MEStreamSinkPrerolled](mestreamsinkprerolled.md) event.</span></span>
5.  <span data-ttu-id="901d2-206">El cliente llama a [**IMFPresentationClock:: Start**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-start) para iniciar el reloj de la presentación.</span><span class="sxs-lookup"><span data-stu-id="901d2-206">The client calls [**IMFPresentationClock::Start**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-start) to start the presentation clock.</span></span>
6.  <span data-ttu-id="901d2-207">El reloj de la presentación notifica al receptor de medios que se está iniciando el reloj llamando a [**IMFClockStateSink:: OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span><span class="sxs-lookup"><span data-stu-id="901d2-207">The presentation clock notifies the media sink that the clock is starting, by calling [**IMFClockStateSink::OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span></span>
7.  <span data-ttu-id="901d2-208">Para obtener más datos, cada receptor de flujo envía eventos [MEStreamSinkRequestSample](mestreamsinkrequestsample.md) .</span><span class="sxs-lookup"><span data-stu-id="901d2-208">To get more data, each stream sink sends [MEStreamSinkRequestSample](mestreamsinkrequestsample.md) events.</span></span> <span data-ttu-id="901d2-209">En respuesta a cada uno de estos eventos, el cliente obtiene el ejemplo siguiente y llama a [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample).</span><span class="sxs-lookup"><span data-stu-id="901d2-209">In response to each of these events, the client gets the next sample and calls [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample).</span></span> <span data-ttu-id="901d2-210">Este paso se repite hasta que finaliza la presentación.</span><span class="sxs-lookup"><span data-stu-id="901d2-210">This step is repeated until the presentation ends.</span></span>

<span data-ttu-id="901d2-211">La mayoría de los receptores de medios procesan ejemplos de forma asincrónica, por lo que los receptores de secuencias pueden enviar más de una solicitud de ejemplo a la vez.</span><span class="sxs-lookup"><span data-stu-id="901d2-211">Most media sinks process samples asynchronously, so the stream sinks can send out more than one sample request at a time.</span></span>

<span data-ttu-id="901d2-212">Durante el streaming, el cliente puede llamar a [**IMFStreamSink::P lacemarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) y [**IMFStreamSink:: Flush**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-flush) en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="901d2-212">During streaming, the client can call [**IMFStreamSink::PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) and [**IMFStreamSink::Flush**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-flush) at any time.</span></span> <span data-ttu-id="901d2-213">Los marcadores se describen en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="901d2-213">Markers are described in the next section.</span></span> <span data-ttu-id="901d2-214">El vaciado hace que el receptor de la secuencia Quite cualquier ejemplo que haya puesto en cola pero que no se haya representado todavía.</span><span class="sxs-lookup"><span data-stu-id="901d2-214">Flushing causes the stream sink to drop any samples that it has queued but not rendered yet.</span></span>

## <a name="markers"></a><span data-ttu-id="901d2-215">Marcadores</span><span class="sxs-lookup"><span data-stu-id="901d2-215">Markers</span></span>

<span data-ttu-id="901d2-216">Los marcadores proporcionan una manera para que el cliente indique puntos específicos en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="901d2-216">Markers provide a way for the client to indicate specific points in the stream.</span></span> <span data-ttu-id="901d2-217">Un marcador consta de la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="901d2-217">A marker consists of the following information:</span></span>

-   <span data-ttu-id="901d2-218">El tipo de marcador, definido como miembro de la enumeración de [**\_ \_ tipo de marcador MFSTREAMSINK**](/windows/desktop/api/mfidl/ne-mfidl-mfstreamsink_marker_type) .</span><span class="sxs-lookup"><span data-stu-id="901d2-218">The marker type, defined as a member of the [**MFSTREAMSINK\_MARKER\_TYPE**](/windows/desktop/api/mfidl/ne-mfidl-mfstreamsink_marker_type) enumeration.</span></span>
-   <span data-ttu-id="901d2-219">Datos asociados al marcador.</span><span class="sxs-lookup"><span data-stu-id="901d2-219">Data associated with the marker.</span></span> <span data-ttu-id="901d2-220">El significado de los datos depende del tipo de marcador.</span><span class="sxs-lookup"><span data-stu-id="901d2-220">The meaning of the data depends on the marker type.</span></span> <span data-ttu-id="901d2-221">Algunos tipos de marcador no tienen datos.</span><span class="sxs-lookup"><span data-stu-id="901d2-221">Some marker types do not have data.</span></span>
-   <span data-ttu-id="901d2-222">Datos opcionales para el propio uso del cliente.</span><span class="sxs-lookup"><span data-stu-id="901d2-222">Optional data for the client's own use.</span></span>

<span data-ttu-id="901d2-223">Para colocar un marcador, el cliente llama a [**IMFStreamSink::P lacemarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker).</span><span class="sxs-lookup"><span data-stu-id="901d2-223">To place a marker, the client calls [**IMFStreamSink::PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker).</span></span> <span data-ttu-id="901d2-224">El receptor de la secuencia finaliza el procesamiento de cualquier ejemplo que haya recibido antes de la llamada a **PlaceMarker** y, a continuación, envía un evento [MEStreamSinkMarker](mestreamsinkmarker.md) .</span><span class="sxs-lookup"><span data-stu-id="901d2-224">The stream sink finishes processing any samples that it received before the **PlaceMarker** call, and then sends an [MEStreamSinkMarker](mestreamsinkmarker.md) event.</span></span>

<span data-ttu-id="901d2-225">La mayoría de los receptores de medios mantienen una cola de ejemplos pendientes, que se procesan de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="901d2-225">Most media sinks keep a queue of pending samples, which they process asynchronously.</span></span> <span data-ttu-id="901d2-226">Los eventos de marcador se deben serializar con procesamiento de ejemplo, por lo que el receptor de medios debe colocar los marcadores en la misma cola.</span><span class="sxs-lookup"><span data-stu-id="901d2-226">Marker events must be serialized with sample processing, so the media sink should place the markers in the same queue.</span></span> <span data-ttu-id="901d2-227">Por ejemplo, supongamos que el cliente realiza las llamadas a métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="901d2-227">For example, suppose the client makes the following method calls:</span></span>

1.  <span data-ttu-id="901d2-228">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (ejemplo \# 1)</span><span class="sxs-lookup"><span data-stu-id="901d2-228">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Sample \#1)</span></span>
2.  <span data-ttu-id="901d2-229">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (ejemplo \# 2)</span><span class="sxs-lookup"><span data-stu-id="901d2-229">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Sample \#2)</span></span>
3.  <span data-ttu-id="901d2-230">[**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (marcador \# 1)</span><span class="sxs-lookup"><span data-stu-id="901d2-230">[**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (Marker \#1)</span></span>
4.  <span data-ttu-id="901d2-231">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (ejemplo \# 3)</span><span class="sxs-lookup"><span data-stu-id="901d2-231">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Sample \#3)</span></span>
5.  <span data-ttu-id="901d2-232">[**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (marcador \# 2)</span><span class="sxs-lookup"><span data-stu-id="901d2-232">[**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (Marker \#2)</span></span>

<span data-ttu-id="901d2-233">En este ejemplo, el receptor del flujo debe enviar el evento [MEStreamSinkMarker](mestreamsinkmarker.md) para el marcador \# 1 después de procesar el ejemplo \# 2 y el evento para el marcador \# 2 después de procesar el ejemplo \# 3.</span><span class="sxs-lookup"><span data-stu-id="901d2-233">In this example, the stream sink must send the [MEStreamSinkMarker](mestreamsinkmarker.md) event for marker \#1 after it processes sample \#2, and the event for marker \#2 after it processes sample \#3.</span></span>

<span data-ttu-id="901d2-234">Si el cliente vacía un receptor de flujo, el receptor de flujo procesa inmediatamente cualquier marcador que estuviera en la cola.</span><span class="sxs-lookup"><span data-stu-id="901d2-234">If the client flushes a stream sink, the stream sink immediately processes any markers that were in the queue.</span></span> <span data-ttu-id="901d2-235">Establece el código de estado en E \_ anular en estos eventos.</span><span class="sxs-lookup"><span data-stu-id="901d2-235">It sets the status code to E\_ABORT on these events.</span></span>

<span data-ttu-id="901d2-236">Algunos marcadores contienen información que es relevante para el receptor de medios:</span><span class="sxs-lookup"><span data-stu-id="901d2-236">Some markers contain information that is relevant to the media sink:</span></span>

-   <span data-ttu-id="901d2-237">**MFSTREAMSINK \_ \_Marca de marcador**: indica que hay un hueco en la secuencia.</span><span class="sxs-lookup"><span data-stu-id="901d2-237">**MFSTREAMSINK\_MARKER\_TICK**: Indicates there is a gap in the stream.</span></span> <span data-ttu-id="901d2-238">El ejemplo siguiente será una discontinuidad.</span><span class="sxs-lookup"><span data-stu-id="901d2-238">The next sample will be a discontinuity.</span></span>
-   <span data-ttu-id="901d2-239">**MFSTREAMSINK \_ MARCADOR \_ ENDOFSEGMENT**: indica el final de un segmento o el final de una secuencia.</span><span class="sxs-lookup"><span data-stu-id="901d2-239">**MFSTREAMSINK\_MARKER\_ENDOFSEGMENT**: Indicates the end of a segment or the end of a stream.</span></span> <span data-ttu-id="901d2-240">El ejemplo siguiente (si existe) puede ser una discontinuidad.</span><span class="sxs-lookup"><span data-stu-id="901d2-240">The next sample (if any) might be a discontinuity.</span></span>
-   <span data-ttu-id="901d2-241">**MFSTREAMSINK \_ \_Evento de marcador**: contiene un evento.</span><span class="sxs-lookup"><span data-stu-id="901d2-241">**MFSTREAMSINK\_MARKER\_EVENT**: Contains an event.</span></span> <span data-ttu-id="901d2-242">Dependiendo del tipo de evento y la implementación del receptor de medios, el receptor de medios podría controlar el evento u omitirlo.</span><span class="sxs-lookup"><span data-stu-id="901d2-242">Depending on the event type and the implementation of the media sink, the media sink might handle the event or ignore it.</span></span>

## <a name="state-changes"></a><span data-ttu-id="901d2-243">Cambios de estado</span><span class="sxs-lookup"><span data-stu-id="901d2-243">State Changes</span></span>

<span data-ttu-id="901d2-244">A un receptor de medios se le notifican los cambios de estado en el reloj de la presentación a través de la interfaz [**IMFClockStateSink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) del receptor de medios.</span><span class="sxs-lookup"><span data-stu-id="901d2-244">A media sink is notified of state changes in the presentation clock through the media sink's [**IMFClockStateSink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) interface.</span></span> <span data-ttu-id="901d2-245">Cuando el cliente establece el reloj de la presentación, el receptor de medios llama a [**IMFPresentationClock:: AddClockStateSink**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-addclockstatesink) para registrarse para recibir notificaciones del reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-245">When the client sets the presentation clock, the media sink calls [**IMFPresentationClock::AddClockStateSink**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-addclockstatesink) to register itself for notifications from the clock.</span></span> <span data-ttu-id="901d2-246">En la tabla siguiente se resume cómo se comporta un receptor de medios en respuesta a los cambios de estado de reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-246">The following table summarizes how a media sink behaves in response to clock state changes.</span></span>



| <span data-ttu-id="901d2-247">Cambio de estado del reloj</span><span class="sxs-lookup"><span data-stu-id="901d2-247">Clock state change</span></span>                                         | <span data-ttu-id="901d2-248">Procesamiento de ejemplo</span><span class="sxs-lookup"><span data-stu-id="901d2-248">Sample processing</span></span>                                                                                                                                                                                                                                             | <span data-ttu-id="901d2-249">Procesamiento de marcadores</span><span class="sxs-lookup"><span data-stu-id="901d2-249">Marker processing</span></span>                                                                                                                                                                                   |
|------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="901d2-250">**OnClockStart**</span><span class="sxs-lookup"><span data-stu-id="901d2-250">**OnClockStart**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart)     | <span data-ttu-id="901d2-251">Los ejemplos de procesos cuya marca de tiempo es igual o posterior a la hora de inicio del reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-251">Process samples whose time stamp is equal to or later than the clock start time.</span></span>                                                                                                                                                                              | <span data-ttu-id="901d2-252">Envíe el evento [MEStreamSinkMarker](mestreamsinkmarker.md) cuando se hayan procesado todos los ejemplos recibidos antes del marcador.</span><span class="sxs-lookup"><span data-stu-id="901d2-252">Send the [MEStreamSinkMarker](mestreamsinkmarker.md) event when all of the samples received before the marker have been processed.</span></span>                                                                 |
| [<span data-ttu-id="901d2-253">**OnClockPause**</span><span class="sxs-lookup"><span data-stu-id="901d2-253">**OnClockPause**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockpause)     | <span data-ttu-id="901d2-254">El receptor de medios puede producir un error de [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) mientras está en pausa.</span><span class="sxs-lookup"><span data-stu-id="901d2-254">The media sink can fail [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) while paused.</span></span><br/> <span data-ttu-id="901d2-255">Si el receptor de medios acepta ejemplos mientras está en pausa, debe ponerlos en cola hasta que se reinicie el reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-255">If the media sink accepts samples while paused, it must queue them until the clock restarts.</span></span> <span data-ttu-id="901d2-256">No procese ningún ejemplo en cola mientras esté en pausa.</span><span class="sxs-lookup"><span data-stu-id="901d2-256">Do not process any queued samples while paused.</span></span><br/> | <span data-ttu-id="901d2-257">Si hay ejemplos en cola, coloque los marcadores en la misma cola.</span><span class="sxs-lookup"><span data-stu-id="901d2-257">If there are queued samples, put markers onto the same queue.</span></span> <span data-ttu-id="901d2-258">Envíe el evento de marcador cuando se reinicie el reloj.</span><span class="sxs-lookup"><span data-stu-id="901d2-258">Send the marker event when the clock restarts.</span></span><br/> <span data-ttu-id="901d2-259">De lo contrario, envíe el evento de marcador inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="901d2-259">Otherwise, send the marker event immediately.</span></span><br/>                    |
| [<span data-ttu-id="901d2-260">**OnClockRestart**</span><span class="sxs-lookup"><span data-stu-id="901d2-260">**OnClockRestart**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockrestart) | <span data-ttu-id="901d2-261">Procese cualquier ejemplo que se puso en cola mientras estaba en pausa y, a continuación, trate lo mismo que [**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span><span class="sxs-lookup"><span data-stu-id="901d2-261">Process any samples that were queued while paused, and then treat the same as [**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span></span>                                                                                                                         | <span data-ttu-id="901d2-262">Envíe eventos [MEStreamSinkMarker](mestreamsinkmarker.md) para marcadores en cola (serializados con procesamiento de ejemplo) y, a continuación, trate el mismo como [**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span><span class="sxs-lookup"><span data-stu-id="901d2-262">Send [MEStreamSinkMarker](mestreamsinkmarker.md) events for queued markers (serialized with sample processing), and then treat the same as [**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span></span> |
| [<span data-ttu-id="901d2-263">**OnClockStop**</span><span class="sxs-lookup"><span data-stu-id="901d2-263">**OnClockStop**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstop)       | <span data-ttu-id="901d2-264">Quitar todos los ejemplos en cola.</span><span class="sxs-lookup"><span data-stu-id="901d2-264">Drop all queued samples.</span></span> <span data-ttu-id="901d2-265">Se puede producir un error en otras llamadas a [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) .</span><span class="sxs-lookup"><span data-stu-id="901d2-265">Further calls to [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) can fail.</span></span>                                                                                                                                                      | <span data-ttu-id="901d2-266">Enviar eventos de marcador en cola.</span><span class="sxs-lookup"><span data-stu-id="901d2-266">Send queued marker events.</span></span> <span data-ttu-id="901d2-267">En las llamadas posteriores a [**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker), envíe el evento de marcador inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="901d2-267">On subsequent calls to [**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker), send the marker event immediately.</span></span>                                                              |



 

<span data-ttu-id="901d2-268">Además, los receptores de secuencias deben enviar los eventos siguientes cuando hayan completado las transiciones de estado:</span><span class="sxs-lookup"><span data-stu-id="901d2-268">In addition, stream sinks must send the following events when they have completed the state transitions:</span></span>

-   <span data-ttu-id="901d2-269">[**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart), [**OnClockRestart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockrestart): evento [MEStreamSinkStarted](mestreamsinkstarted.md)</span><span class="sxs-lookup"><span data-stu-id="901d2-269">[**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart), [**OnClockRestart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockrestart): [MEStreamSinkStarted](mestreamsinkstarted.md) event</span></span>
-   <span data-ttu-id="901d2-270">[**OnClockPause**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockpause): evento [MEStreamSinkPaused](mestreamsinkpaused.md)</span><span class="sxs-lookup"><span data-stu-id="901d2-270">[**OnClockPause**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockpause): [MEStreamSinkPaused](mestreamsinkpaused.md) event</span></span>
-   <span data-ttu-id="901d2-271">[**OnClockStop**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstop): evento [MEStreamSinkStopped](mestreamsinkstopped.md)</span><span class="sxs-lookup"><span data-stu-id="901d2-271">[**OnClockStop**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstop): [MEStreamSinkStopped](mestreamsinkstopped.md) event</span></span>

## <a name="finalizing"></a><span data-ttu-id="901d2-272">Finalizando</span><span class="sxs-lookup"><span data-stu-id="901d2-272">Finalizing</span></span>

<span data-ttu-id="901d2-273">Algunos receptores de medios requieren un paso de procesamiento adicional después de que se entregue la última muestra.</span><span class="sxs-lookup"><span data-stu-id="901d2-273">Some media sinks require an extra processing step after the last sample is delivered.</span></span> <span data-ttu-id="901d2-274">Normalmente, este requisito se aplica a los receptores de archivo, que deben escribir encabezados o índices en el archivo.</span><span class="sxs-lookup"><span data-stu-id="901d2-274">Typically this requirement applies to archive sinks, which must write headers or indexes into the file.</span></span> <span data-ttu-id="901d2-275">Si un receptor de medios requiere un procesamiento final, expone la interfaz [**IMFFinalizableMediaSink**](/windows/desktop/api/mfidl/nn-mfidl-imffinalizablemediasink) .</span><span class="sxs-lookup"><span data-stu-id="901d2-275">If a media sink requires any final processing, it exposes the [**IMFFinalizableMediaSink**](/windows/desktop/api/mfidl/nn-mfidl-imffinalizablemediasink) interface.</span></span>

<span data-ttu-id="901d2-276">Después de que el cliente entregue el último ejemplo, el cliente consulta esta interfaz.</span><span class="sxs-lookup"><span data-stu-id="901d2-276">After the client delivers the last sample, the client queries for this interface.</span></span> <span data-ttu-id="901d2-277">Si el receptor de medios admite la interfaz, el cliente llama a [**IMFFinalizableMediaSink:: BeginFinalize**](/windows/desktop/api/mfidl/nf-mfidl-imffinalizablemediasink-beginfinalize) para realizar el procesamiento final de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="901d2-277">If the media sink supports the interface, the client calls [**IMFFinalizableMediaSink::BeginFinalize**](/windows/desktop/api/mfidl/nf-mfidl-imffinalizablemediasink-beginfinalize) to perform the final processing asynchronously.</span></span> <span data-ttu-id="901d2-278">Este método sigue el modelo asincrónico de Media Foundation estándar, que se describe en [métodos de devolución de llamada asincrónica](asynchronous-callback-methods.md).</span><span class="sxs-lookup"><span data-stu-id="901d2-278">This method follows the standard Media Foundation asynchronous model, described in [Asynchronous Callback Methods](asynchronous-callback-methods.md).</span></span> <span data-ttu-id="901d2-279">El receptor de medios puede suponer que el cliente llamará a **BeginFinalize**.</span><span class="sxs-lookup"><span data-stu-id="901d2-279">The media sink can assume that the client will call **BeginFinalize**.</span></span> <span data-ttu-id="901d2-280">Si no se llama a **BeginFinalize** , se puede producir un archivo creado incorrectamente.</span><span class="sxs-lookup"><span data-stu-id="901d2-280">Failure to call **BeginFinalize** can result in an incorrectly authored file.</span></span>

## <a name="shutting-down"></a><span data-ttu-id="901d2-281">Apagar</span><span class="sxs-lookup"><span data-stu-id="901d2-281">Shutting Down</span></span>

<span data-ttu-id="901d2-282">Cuando el cliente se realiza mediante el receptor de medios, el cliente llama a [**IMFMediaSink:: Shutdown**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-shutdown).</span><span class="sxs-lookup"><span data-stu-id="901d2-282">When the client is done using the media sink, the client calls [**IMFMediaSink::Shutdown**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-shutdown).</span></span> <span data-ttu-id="901d2-283">Dentro de este método, el receptor de medios debe romper cualquier recuento de referencias circulares.</span><span class="sxs-lookup"><span data-stu-id="901d2-283">Inside this method, the media sink should break any circular reference counts.</span></span> <span data-ttu-id="901d2-284">Normalmente, habrá referencias circulares entre el receptor de medios y los receptores de flujo.</span><span class="sxs-lookup"><span data-stu-id="901d2-284">Typically, there will be circular references between the media sink and the stream sinks.</span></span>

<span data-ttu-id="901d2-285">Si está utilizando el objeto auxiliar de cola de eventos para implementar [**IMFMediaEventGenerator**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator), llame a [**IMFMediaEventQueue:: Shutdown**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediaeventqueue-shutdown) en la cola de eventos.</span><span class="sxs-lookup"><span data-stu-id="901d2-285">If you are using the event queue helper object to implement [**IMFMediaEventGenerator**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator), call [**IMFMediaEventQueue::Shutdown**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediaeventqueue-shutdown) on the event queue.</span></span> <span data-ttu-id="901d2-286">Este método cierra la cola de eventos y señala cualquier llamador que esté esperando actualmente un evento.</span><span class="sxs-lookup"><span data-stu-id="901d2-286">This method shuts down the event queue and signals any caller that is currently waiting for an event.</span></span>

<span data-ttu-id="901d2-287">Después del apagado, todos los métodos del receptor multimedia devuelven \_ \_ el cierre de MF E, con la excepción de los métodos **IUnknown** .</span><span class="sxs-lookup"><span data-stu-id="901d2-287">After shutdown, all methods on the media sink return MF\_E\_SHUTDOWN, with the exception of **IUnknown** methods.</span></span>

## <a name="media-sink-interfaces"></a><span data-ttu-id="901d2-288">Interfaces del receptor de medios</span><span class="sxs-lookup"><span data-stu-id="901d2-288">Media Sink Interfaces</span></span>

<span data-ttu-id="901d2-289">En la tabla siguiente se enumeran las interfaces estándar que los receptores de medios pueden exponer a través de **QueryInterface**.</span><span class="sxs-lookup"><span data-stu-id="901d2-289">The following table lists the standard interfaces that media sinks can expose through **QueryInterface**.</span></span> <span data-ttu-id="901d2-290">Los receptores de medios también pueden exponer interfaces personalizadas.</span><span class="sxs-lookup"><span data-stu-id="901d2-290">Media sinks can also expose custom interfaces.</span></span>



| <span data-ttu-id="901d2-291">Interfaz</span><span class="sxs-lookup"><span data-stu-id="901d2-291">Interface</span></span>                                                      | <span data-ttu-id="901d2-292">Descripción</span><span class="sxs-lookup"><span data-stu-id="901d2-292">Description</span></span>                                                                                   |
|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| [<span data-ttu-id="901d2-293">**IMFMediaSink**</span><span class="sxs-lookup"><span data-stu-id="901d2-293">**IMFMediaSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmediasink)                           | <span data-ttu-id="901d2-294">La interfaz principal para los receptores de medios.</span><span class="sxs-lookup"><span data-stu-id="901d2-294">The primary interface for media sinks.</span></span> <span data-ttu-id="901d2-295">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-295">(Required.)</span></span>                                            |
| [<span data-ttu-id="901d2-296">**IMFClockStateSink**</span><span class="sxs-lookup"><span data-stu-id="901d2-296">**IMFClockStateSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink)                 | <span data-ttu-id="901d2-297">Se usa para notificar al receptor de medios cuando el reloj de la presentación cambia de estado.</span><span class="sxs-lookup"><span data-stu-id="901d2-297">Used to notify the media sink when presentation clock changes state.</span></span> <span data-ttu-id="901d2-298">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-298">(Required.)</span></span>              |
| [<span data-ttu-id="901d2-299">**IMFFinalizableMediaSink**</span><span class="sxs-lookup"><span data-stu-id="901d2-299">**IMFFinalizableMediaSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imffinalizablemediasink)     | <span data-ttu-id="901d2-300">Implemente si el receptor de medios debe realizar un paso de procesamiento final.</span><span class="sxs-lookup"><span data-stu-id="901d2-300">Implement if the media sink must perform a final processing step.</span></span> <span data-ttu-id="901d2-301">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-301">(Optional.)</span></span>                 |
| [<span data-ttu-id="901d2-302">**IMFGetService**</span><span class="sxs-lookup"><span data-stu-id="901d2-302">**IMFGetService**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice)                         | <span data-ttu-id="901d2-303">Implemente si el receptor de medios expone cualquier interfaz de servicio.</span><span class="sxs-lookup"><span data-stu-id="901d2-303">Implement if the media sink exposes any service interfaces.</span></span> <span data-ttu-id="901d2-304">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-304">(Optional.)</span></span>                       |
| [<span data-ttu-id="901d2-305">**IMFMediaEventGenerator**</span><span class="sxs-lookup"><span data-stu-id="901d2-305">**IMFMediaEventGenerator**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator)       | <span data-ttu-id="901d2-306">Implemente si el receptor multimedia envía eventos.</span><span class="sxs-lookup"><span data-stu-id="901d2-306">Implement if the media sink sends any events.</span></span> <span data-ttu-id="901d2-307">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-307">(Optional.)</span></span>                                     |
| [<span data-ttu-id="901d2-308">**IMFMediaSinkPreroll**</span><span class="sxs-lookup"><span data-stu-id="901d2-308">**IMFMediaSinkPreroll**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll)             | <span data-ttu-id="901d2-309">Implemente si el receptor de medios admite el prelanzamiento.</span><span class="sxs-lookup"><span data-stu-id="901d2-309">Implement if the media sink supports preroll.</span></span> <span data-ttu-id="901d2-310">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-310">(Optional.)</span></span>                                     |
| [<span data-ttu-id="901d2-311">**IMFPresentationTimeSource**</span><span class="sxs-lookup"><span data-stu-id="901d2-311">**IMFPresentationTimeSource**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfpresentationtimesource) | <span data-ttu-id="901d2-312">Implemente si el receptor de medios puede proporcionar un origen de hora para el reloj de presentación.</span><span class="sxs-lookup"><span data-stu-id="901d2-312">Implement if the media sink can provide a time source for the presentation clock.</span></span> <span data-ttu-id="901d2-313">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-313">(Optional.)</span></span> |
| [<span data-ttu-id="901d2-314">**IMFQualityAdvise**</span><span class="sxs-lookup"><span data-stu-id="901d2-314">**IMFQualityAdvise**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise)                   | <span data-ttu-id="901d2-315">Implemente si el receptor de medios puede ajustar la calidad de la reproducción.</span><span class="sxs-lookup"><span data-stu-id="901d2-315">Implement if the media sink can adjust playback quality.</span></span> <span data-ttu-id="901d2-316">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-316">(Optional.)</span></span>                          |



 

<span data-ttu-id="901d2-317">Opcionalmente, un receptor de medios puede implementar la siguiente interfaz como un servicio.</span><span class="sxs-lookup"><span data-stu-id="901d2-317">Optionally, a media sink can implement the following interface as a service.</span></span>



| <span data-ttu-id="901d2-318">Interfaz de servicio</span><span class="sxs-lookup"><span data-stu-id="901d2-318">Service interface</span></span>                        | <span data-ttu-id="901d2-319">Descripción</span><span class="sxs-lookup"><span data-stu-id="901d2-319">Description</span></span>                                    |
|------------------------------------------|------------------------------------------------|
| [<span data-ttu-id="901d2-320">**IMFRateSupport**</span><span class="sxs-lookup"><span data-stu-id="901d2-320">**IMFRateSupport**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfratesupport) | <span data-ttu-id="901d2-321">Informa del intervalo de velocidades de reproducción admitidas.</span><span class="sxs-lookup"><span data-stu-id="901d2-321">Reports the range of supported playback rates.</span></span> |



 

<span data-ttu-id="901d2-322">Para obtener más información sobre las interfaces de servicio y [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice), consulte [interfaces de servicio](service-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="901d2-322">For more information about service interfaces and [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice), see [Service Interfaces](service-interfaces.md).</span></span>

## <a name="stream-sink-interfaces"></a><span data-ttu-id="901d2-323">Interfaces del receptor de secuencias</span><span class="sxs-lookup"><span data-stu-id="901d2-323">Stream Sink Interfaces</span></span>

<span data-ttu-id="901d2-324">Los receptores de secuencias deben exponer las siguientes interfaces a través de **QueryInterface**.</span><span class="sxs-lookup"><span data-stu-id="901d2-324">Stream sinks must expose the following interfaces through **QueryInterface**.</span></span>



| <span data-ttu-id="901d2-325">Interfaz</span><span class="sxs-lookup"><span data-stu-id="901d2-325">Interface</span></span>                                                | <span data-ttu-id="901d2-326">Descripción</span><span class="sxs-lookup"><span data-stu-id="901d2-326">Description</span></span>                                                                                              |
|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="901d2-327">**IMFStreamSink**</span><span class="sxs-lookup"><span data-stu-id="901d2-327">**IMFStreamSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink)                   | <span data-ttu-id="901d2-328">La interfaz principal para los receptores de flujo.</span><span class="sxs-lookup"><span data-stu-id="901d2-328">The primary interface for stream sinks.</span></span> <span data-ttu-id="901d2-329">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-329">(Required.)</span></span>                                                      |
| [<span data-ttu-id="901d2-330">**IMFMediaEventGenerator**</span><span class="sxs-lookup"><span data-stu-id="901d2-330">**IMFMediaEventGenerator**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator) | <span data-ttu-id="901d2-331">Pone en cola los eventos.</span><span class="sxs-lookup"><span data-stu-id="901d2-331">Queues events.</span></span> <span data-ttu-id="901d2-332">La interfaz [**IMFStreamSink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) hereda esta interfaz.</span><span class="sxs-lookup"><span data-stu-id="901d2-332">The [**IMFStreamSink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) interface inherits this interface.</span></span> <span data-ttu-id="901d2-333">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-333">(Required.)</span></span> |



 

<span data-ttu-id="901d2-334">Actualmente no hay interfaces de servicio definidas para los receptores de flujo.</span><span class="sxs-lookup"><span data-stu-id="901d2-334">Currently no service interfaces are defined for stream sinks.</span></span>

## <a name="stream-sink-events"></a><span data-ttu-id="901d2-335">Eventos de receptor de secuencias</span><span class="sxs-lookup"><span data-stu-id="901d2-335">Stream Sink Events</span></span>

<span data-ttu-id="901d2-336">En la tabla siguiente se enumeran los eventos que se definen para los receptores de secuencias genéricos.</span><span class="sxs-lookup"><span data-stu-id="901d2-336">The following table lists the events that are defined for generic stream sinks.</span></span> <span data-ttu-id="901d2-337">Los receptores de secuencias también pueden enviar eventos personalizados que no se enumeran aquí.</span><span class="sxs-lookup"><span data-stu-id="901d2-337">Stream sinks can also send custom events not listed here.</span></span>



| <span data-ttu-id="901d2-338">Evento</span><span class="sxs-lookup"><span data-stu-id="901d2-338">Event</span></span>                                                                  | <span data-ttu-id="901d2-339">Descripción</span><span class="sxs-lookup"><span data-stu-id="901d2-339">Description</span></span>                                                  |
|------------------------------------------------------------------------|--------------------------------------------------------------|
| [<span data-ttu-id="901d2-340">MEStreamSinkFormatChanged</span><span class="sxs-lookup"><span data-stu-id="901d2-340">MEStreamSinkFormatChanged</span></span>](mestreamsinkformatchanged.md)             | <span data-ttu-id="901d2-341">El tipo de medio del receptor de flujo ya no es válido.</span><span class="sxs-lookup"><span data-stu-id="901d2-341">The stream sink's media type is no longer valid.</span></span> <span data-ttu-id="901d2-342">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-342">(Optional.)</span></span> |
| [<span data-ttu-id="901d2-343">MEStreamSinkMarker</span><span class="sxs-lookup"><span data-stu-id="901d2-343">MEStreamSinkMarker</span></span>](mestreamsinkmarker.md)                           | <span data-ttu-id="901d2-344">Se procesó un marcador.</span><span class="sxs-lookup"><span data-stu-id="901d2-344">A marker was processed.</span></span> <span data-ttu-id="901d2-345">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-345">(Required.)</span></span>                          |
| [<span data-ttu-id="901d2-346">MEStreamSinkPaused</span><span class="sxs-lookup"><span data-stu-id="901d2-346">MEStreamSinkPaused</span></span>](mestreamsinkpaused.md)                           | <span data-ttu-id="901d2-347">El receptor de flujo se ha pausado.</span><span class="sxs-lookup"><span data-stu-id="901d2-347">The stream sink has paused.</span></span> <span data-ttu-id="901d2-348">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-348">(Required.)</span></span>                      |
| [<span data-ttu-id="901d2-349">MEStreamSinkPrerolled</span><span class="sxs-lookup"><span data-stu-id="901d2-349">MEStreamSinkPrerolled</span></span>](mestreamsinkprerolled.md)                     | <span data-ttu-id="901d2-350">Se ha completado el prelanzamiento.</span><span class="sxs-lookup"><span data-stu-id="901d2-350">Preroll is complete.</span></span> <span data-ttu-id="901d2-351">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-351">(Optional.)</span></span>                             |
| [<span data-ttu-id="901d2-352">MEStreamSinkRateChanged</span><span class="sxs-lookup"><span data-stu-id="901d2-352">MEStreamSinkRateChanged</span></span>](mestreamsinkratechanged.md)                 | <span data-ttu-id="901d2-353">El receptor de la secuencia ha cambiado la velocidad de reproducción.</span><span class="sxs-lookup"><span data-stu-id="901d2-353">The stream sink has changed playback rate.</span></span> <span data-ttu-id="901d2-354">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-354">(Optional.)</span></span>       |
| [<span data-ttu-id="901d2-355">MEStreamSinkRequestSample</span><span class="sxs-lookup"><span data-stu-id="901d2-355">MEStreamSinkRequestSample</span></span>](mestreamsinkrequestsample.md)             | <span data-ttu-id="901d2-356">Se solicita un nuevo ejemplo.</span><span class="sxs-lookup"><span data-stu-id="901d2-356">A new sample is requested.</span></span> <span data-ttu-id="901d2-357">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-357">(Required.)</span></span>                       |
| [<span data-ttu-id="901d2-358">MEStreamSinkScrubSampleComplete</span><span class="sxs-lookup"><span data-stu-id="901d2-358">MEStreamSinkScrubSampleComplete</span></span>](mestreamsinkscrubsamplecomplete.md) | <span data-ttu-id="901d2-359">Se completó una solicitud de limpieza.</span><span class="sxs-lookup"><span data-stu-id="901d2-359">A scrub request was completed.</span></span> <span data-ttu-id="901d2-360">(Opcional).</span><span class="sxs-lookup"><span data-stu-id="901d2-360">(Optional.)</span></span>                   |
| [<span data-ttu-id="901d2-361">MEStreamSinkStarted</span><span class="sxs-lookup"><span data-stu-id="901d2-361">MEStreamSinkStarted</span></span>](mestreamsinkstarted.md)                         | <span data-ttu-id="901d2-362">El receptor de flujo se ha iniciado.</span><span class="sxs-lookup"><span data-stu-id="901d2-362">The stream sink has started.</span></span> <span data-ttu-id="901d2-363">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-363">(Required.)</span></span>                     |
| [<span data-ttu-id="901d2-364">MEStreamSinkStopped</span><span class="sxs-lookup"><span data-stu-id="901d2-364">MEStreamSinkStopped</span></span>](mestreamsinkstopped.md)                         | <span data-ttu-id="901d2-365">El receptor de la secuencia se ha detenido.</span><span class="sxs-lookup"><span data-stu-id="901d2-365">The stream sink has stopped.</span></span> <span data-ttu-id="901d2-366">(Requerido)</span><span class="sxs-lookup"><span data-stu-id="901d2-366">(Required.)</span></span>                     |



 

<span data-ttu-id="901d2-367">Actualmente no se definen eventos de uso general para los receptores de medios.</span><span class="sxs-lookup"><span data-stu-id="901d2-367">Currently no general-purpose events are defined for media sinks.</span></span> <span data-ttu-id="901d2-368">Algunos receptores de medios podrían enviar eventos personalizados.</span><span class="sxs-lookup"><span data-stu-id="901d2-368">Some media sinks might send custom events.</span></span>

## <a name="related-topics"></a><span data-ttu-id="901d2-369">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="901d2-369">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="901d2-370">Canalización de Media Foundation</span><span class="sxs-lookup"><span data-stu-id="901d2-370">Media Foundation Pipeline</span></span>](media-foundation-pipeline.md)
</dt> <dt>

[<span data-ttu-id="901d2-371">Arquitectura de Media Foundation</span><span class="sxs-lookup"><span data-stu-id="901d2-371">Media Foundation Architecture</span></span>](media-foundation-architecture.md)
</dt> </dl>

 

 




