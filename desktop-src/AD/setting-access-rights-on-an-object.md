---
title: Establecer derechos de acceso en un objeto
description: En este tema se describe cómo crear una ACE para un derecho de acceso y establecer esa ACE en la DACL de un objeto.
ms.assetid: c0b45709-4652-46c7-8d52-44076802d109
ms.tgt_platform: multiple
keywords:
- Establecer derechos de acceso en un objeto AD
- Objetos AD, establecer derechos de acceso en un objeto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2bcf54de381dab2af1dab4ea44654fb0a5682f06
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2020
ms.locfileid: "104487395"
---
# <a name="setting-access-rights-on-an-object"></a><span data-ttu-id="148d1-105">Establecer derechos de acceso en un objeto</span><span class="sxs-lookup"><span data-stu-id="148d1-105">Setting Access Rights on an Object</span></span>

<span data-ttu-id="148d1-106">Cuando se usan los objetos COM ADSI [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) (descriptor de seguridad), [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) (DACL y SACL) y [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) (ACE) para agregar una ACE a una ACL, se están realizando cambios en la propiedad **nTSecurityDescriptor** del objeto especificado en la caché de propiedades.</span><span class="sxs-lookup"><span data-stu-id="148d1-106">When using the ADSI COM objects [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) (security descriptor), [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) (DACLs and SACLs), and [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) (ACE) to add an ACE to a ACL, you are making changes to the **nTSecurityDescriptor** property of the specified object in the property cache.</span></span> <span data-ttu-id="148d1-107">Esto significa que se debe llamar a los métodos put en los objetos que contienen la nueva ACE y el método [**IADs. SetInfo**](/windows/desktop/api/iads/nf-iads-iads-setinfo) para escribir el descriptor de seguridad actualizado en el directorio desde la memoria caché de propiedades.</span><span class="sxs-lookup"><span data-stu-id="148d1-107">This means put methods on the objects that contain the new ACE and the [**IADs.SetInfo**](/windows/desktop/api/iads/nf-iads-iads-setinfo) method must be called in order to write the updated security descriptor to the directory from the property cache.</span></span>

<span data-ttu-id="148d1-108">Para obtener más información y un ejemplo de código que establece una ACE en un objeto de Active Directory Domain Services, vea el [código de ejemplo para establecer una ACE en un objeto de directorio](example-code-for-setting-an-ace-on-a-directory-object.md).</span><span class="sxs-lookup"><span data-stu-id="148d1-108">For more information and a code example that sets an ACE on an object in Active Directory Domain Services, see [Example Code for Setting an ACE on a Directory Object](example-code-for-setting-an-ace-on-a-directory-object.md).</span></span>

<span data-ttu-id="148d1-109">Utilice el siguiente proceso general para crear una ACE para un derecho de acceso y establecer esa ACE en la DACL de un objeto.</span><span class="sxs-lookup"><span data-stu-id="148d1-109">Use the following general process to create an ACE for an access right and setting that ACE on the DACL of an object.</span></span>

1.  <span data-ttu-id="148d1-110">Obtiene un puntero de interfaz [**IADs**](/windows/desktop/api/iads/nn-iads-iads) al objeto.</span><span class="sxs-lookup"><span data-stu-id="148d1-110">Get an [**IADs**](/windows/desktop/api/iads/nn-iads-iads) interface pointer to the object.</span></span>
2.  <span data-ttu-id="148d1-111">Use el método [**IADs. Get**](/windows/desktop/api/iads/nf-iads-iads-get) para obtener el descriptor de seguridad del objeto.</span><span class="sxs-lookup"><span data-stu-id="148d1-111">Use the [**IADs.Get**](/windows/desktop/api/iads/nf-iads-iads-get) method to get the security descriptor of the object.</span></span> <span data-ttu-id="148d1-112">El nombre de la propiedad que contiene el descriptor de seguridad es **nTSecurityDescriptor**.</span><span class="sxs-lookup"><span data-stu-id="148d1-112">The name of the property containing the security descriptor is **nTSecurityDescriptor**.</span></span> <span data-ttu-id="148d1-113">La propiedad se devolverá como una [**variante**](/windows/win32/api/oaidl/ns-oaidl-variant) que contiene un puntero [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) (el miembro **VT** es el **\_ envío de VT**).</span><span class="sxs-lookup"><span data-stu-id="148d1-113">The property will be returned as a [**VARIANT**](/windows/win32/api/oaidl/ns-oaidl-variant) containing an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer (the **vt** member is **VT\_DISPATCH**).</span></span> <span data-ttu-id="148d1-114">Llame a **QueryInterface** en ese puntero **IDispatch** para obtener una interfaz [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) para usar los métodos de esa interfaz para tener acceso a la ACL del descriptor de seguridad.</span><span class="sxs-lookup"><span data-stu-id="148d1-114">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) interface to use the methods on that interface to access the security descriptor's ACL.</span></span>
3.  <span data-ttu-id="148d1-115">Use la propiedad [**IADsSecurityDescriptor. DiscretionaryAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) para obtener la DACL.</span><span class="sxs-lookup"><span data-stu-id="148d1-115">Use the [**IADsSecurityDescriptor.DiscretionaryAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) property to get the DACL.</span></span> <span data-ttu-id="148d1-116">El método devuelve un puntero [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) .</span><span class="sxs-lookup"><span data-stu-id="148d1-116">The method returns an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer.</span></span> <span data-ttu-id="148d1-117">Llame a **QueryInterface** en ese puntero **IDispatch** para obtener una interfaz [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) para usar los métodos de esa interfaz para tener acceso a las ACE individuales de la ACL.</span><span class="sxs-lookup"><span data-stu-id="148d1-117">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) interface to use the methods on that interface to access the individual ACEs in the ACL.</span></span>
4.  <span data-ttu-id="148d1-118">Use [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) para crear el objeto com ADSI para la nueva ACE y obtener un puntero de interfaz [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) a ese objeto.</span><span class="sxs-lookup"><span data-stu-id="148d1-118">Use [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) to create the ADSI COM object for the new ACE and get an [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) interface pointer to that object.</span></span> <span data-ttu-id="148d1-119">Tenga en cuenta que el identificador de clase es CLSID \_ AccessControlEntry.</span><span class="sxs-lookup"><span data-stu-id="148d1-119">Be aware that the class ID is CLSID\_AccessControlEntry.</span></span>
5.  <span data-ttu-id="148d1-120">Establezca las propiedades de la ACE mediante los métodos [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) :</span><span class="sxs-lookup"><span data-stu-id="148d1-120">Set the properties of the ACE using the [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) methods:</span></span>

    1.  <span data-ttu-id="148d1-121">Use [**IADsAccessControlEntry::p de \_ confianza UT**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) para establecer el administrador de confianza al que se aplica esta ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-121">Use [**IADsAccessControlEntry::put\_Trustee**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) to set the trustee to whom this ACE applies.</span></span> <span data-ttu-id="148d1-122">El administrador de confianza es un usuario, un grupo u otra entidad de seguridad.</span><span class="sxs-lookup"><span data-stu-id="148d1-122">The trustee is a user, group, or other security principal.</span></span> <span data-ttu-id="148d1-123">La aplicación debe usar el valor de la propiedad correspondiente del objeto de usuario o grupo del administrador de confianza al que desea aplicar la ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-123">Your application should use the value from the appropriate property from the user or group object of the trustee to which you want to apply the ACE.</span></span> <span data-ttu-id="148d1-124">El administrador de confianza se especifica como **BSTR** y puede adoptar los siguientes formatos:</span><span class="sxs-lookup"><span data-stu-id="148d1-124">The trustee is specified as a **BSTR** and can take the following forms:</span></span>
        -   <span data-ttu-id="148d1-125">Cuenta de dominio (el nombre de inicio de sesión usado en una versión anterior de Windows NT) de la forma " <domain> \\ <user account> ", donde " &lt; dominio &gt; " es el nombre del dominio de Windows NT que contiene el usuario y " &lt; cuenta &gt; de usuario" es la propiedad **samAccountName** del usuario especificado.</span><span class="sxs-lookup"><span data-stu-id="148d1-125">Domain account (the logon name used in a previous version of Windows NT) of the form "<domain>\\<user account>" where "&lt;domain&gt;" is the name of the Windows NT domain that contains the user and "&lt;user account&gt;" is the **sAMAccountName** property of the specified user.</span></span> <span data-ttu-id="148d1-126">Por ejemplo: "fabrikam \\ juanpérez".</span><span class="sxs-lookup"><span data-stu-id="148d1-126">For example: "fabrikam\\jeffsmith".</span></span>
        -   <span data-ttu-id="148d1-127">Entidad de seguridad conocida que representa las identidades especiales definidas por el sistema de seguridad de Windows NT, como todos los usuarios, sistema local, propio de la entidad de seguridad, usuario autenticado, propietario del creador, etc.</span><span class="sxs-lookup"><span data-stu-id="148d1-127">Well-known security principal that represents special identities defined by the Windows NT security system, such as everyone, local system, principal self, authenticated user, creator owner, and so on.</span></span> <span data-ttu-id="148d1-128">Los objetos que representan las entidades de seguridad conocidas se almacenan en el contenedor de entidades de seguridad conocidas bajo el contenedor de configuración.</span><span class="sxs-lookup"><span data-stu-id="148d1-128">The objects representing the well-known security principals are stored in the Well Known Security Principals container beneath the Configuration container.</span></span> <span data-ttu-id="148d1-129">Por ejemplo, Inicio de sesión anónimo.</span><span class="sxs-lookup"><span data-stu-id="148d1-129">For example, anonymous logon.</span></span>
        -   <span data-ttu-id="148d1-130">Grupo integrado que representa los grupos de usuarios integrados definidos por el sistema de seguridad de Windows NT.</span><span class="sxs-lookup"><span data-stu-id="148d1-130">Built-in group that represent the built-in user groups defined by the Windows NT security system.</span></span> <span data-ttu-id="148d1-131">Tiene el formato "Builtin", \\ <group name> donde " &lt; nombre de grupo &gt; " es el nombre del grupo de usuarios integrado.</span><span class="sxs-lookup"><span data-stu-id="148d1-131">It has the form "BUILTIN\\<group name>" where "&lt;group name&gt;" is the name of the built-in user group.</span></span> <span data-ttu-id="148d1-132">Los objetos que representan los grupos integrados se almacenan en el contenedor Builtin debajo del contenedor de dominio.</span><span class="sxs-lookup"><span data-stu-id="148d1-132">The objects representing the built-in groups are stored in the Builtin container beneath the domain container.</span></span> <span data-ttu-id="148d1-133">Por ejemplo, "Builtin \\ Administrators".</span><span class="sxs-lookup"><span data-stu-id="148d1-133">For example, "BUILTIN\\Administrators".</span></span>
        -   <span data-ttu-id="148d1-134">SID (formato de cadena) del usuario especificado, que es la propiedad **objectSid** del usuario especificado.</span><span class="sxs-lookup"><span data-stu-id="148d1-134">SID (string format) of the specified user, which is the **objectSID** property of the specified user.</span></span> <span data-ttu-id="148d1-135">Puede convertir al formato de cadena mediante la función [**ConvertSidToStringSid**](/windows/desktop/api/sddl/nf-sddl-convertsidtostringsida) de la API de seguridad de Win32.</span><span class="sxs-lookup"><span data-stu-id="148d1-135">You can convert to string form using the [**ConvertSidToStringSid**](/windows/desktop/api/sddl/nf-sddl-convertsidtostringsida) function in the Win32 Security API.</span></span> <span data-ttu-id="148d1-136">Por ejemplo: "S-1-5-32-548".</span><span class="sxs-lookup"><span data-stu-id="148d1-136">For example: "S-1-5-32-548".</span></span>
    2.  <span data-ttu-id="148d1-137">Use la propiedad [**IADsAccessControlEntry. AccessMask**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) para establecer la máscara que especifica el derecho de acceso.</span><span class="sxs-lookup"><span data-stu-id="148d1-137">Use the [**IADsAccessControlEntry.AccessMask**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) property to set the mask that specifies the access right.</span></span> <span data-ttu-id="148d1-138">La enumeración [**ADS \_ Rights \_ enum**](/windows/win32/api/iads/ne-iads-ads_rights_enum) especifica los derechos de acceso que se pueden establecer en un objeto de directorio.</span><span class="sxs-lookup"><span data-stu-id="148d1-138">The [**ADS\_RIGHTS\_ENUM**](/windows/win32/api/iads/ne-iads-ads_rights_enum) enumeration specifies the access rights you can set on a directory object.</span></span>
    3.  <span data-ttu-id="148d1-139">Use la propiedad [**IADsAccessControlEntry. AceType**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) para especificar si se permiten o deniegan los derechos de acceso establecidos por **AccessMask**.</span><span class="sxs-lookup"><span data-stu-id="148d1-139">Use the [**IADsAccessControlEntry.AceType**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) property to specify whether to allow or deny the access rights set by **AccessMask**.</span></span> <span data-ttu-id="148d1-140">En el caso de los derechos estándar, puede ser **ADS \_ ACETYPE \_ acceso \_ permitido** o **ADS \_ ACETYPE \_ acceso \_ denegado**.</span><span class="sxs-lookup"><span data-stu-id="148d1-140">For standard rights, this can be **ADS\_ACETYPE\_ACCESS\_ALLOWED** or **ADS\_ACETYPE\_ACCESS\_DENIED**.</span></span> <span data-ttu-id="148d1-141">Para los derechos específicos de objetos (derechos que se aplican a una parte específica de un objeto o a un tipo específico de objeto), use **ADS \_ ACETYPE \_ Access \_ allowed \_ Object** o **ADS \_ ACETYPE \_ Access \_ deniedd \_ Object**.</span><span class="sxs-lookup"><span data-stu-id="148d1-141">For object-specific rights (rights that apply to a specific part of an object or to a specific type of object), use **ADS\_ACETYPE\_ACCESS\_ALLOWED\_OBJECT** or **ADS\_ACETYPE\_ACCESS\_DENIED\_OBJECT**.</span></span> <span data-ttu-id="148d1-142">La enumeración de [**\_ \_ enumeración ADS ACETYPE**](/windows/win32/api/iads/ne-iads-ads_acetype_enum) especifica los tipos de acceso que se pueden establecer en una ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-142">The [**ADS\_ACETYPE\_ENUM**](/windows/win32/api/iads/ne-iads-ads_acetype_enum) enumeration specifies the access types you can set on an ACE.</span></span>
    4.  <span data-ttu-id="148d1-143">Use la propiedad [**IADsAccessControlEntry. AceFlags**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) para especificar si otros contenedores u objetos situados debajo del objeto especificado pueden heredar la ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-143">Use the [**IADsAccessControlEntry.AceFlags**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) property to specify whether other containers or objects beneath the specified object can inherit the ACE.</span></span> <span data-ttu-id="148d1-144">La enumeración de [**\_ \_ enumeración ADS ACEFLAG**](/windows/win32/api/iads/ne-iads-ads_aceflag_enum) especifica los marcadores de herencia que se pueden establecer en una ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-144">The [**ADS\_ACEFLAG\_ENUM**](/windows/win32/api/iads/ne-iads-ads_aceflag_enum) enumeration specifies the inheritance flags you can set on an ACE.</span></span>
    5.  <span data-ttu-id="148d1-145">Use la propiedad [**IADsAccessControlEntry. Flags**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) para especificar si el derecho se aplica a una parte específica del objeto, a un tipo de objeto heredado o a ambos.</span><span class="sxs-lookup"><span data-stu-id="148d1-145">Use the [**IADsAccessControlEntry.Flags**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) property to specify whether the right applies to a specific part of the object, an inherited object type, or both.</span></span>
    6.  <span data-ttu-id="148d1-146">Si **Flags** se establece en **ADS \_ Flag Type (tipo de \_ objeto \_ \_**), establezca la propiedad [**IADsAccessControlEntry. OBJECTTYPE**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) o especifique una cadena que contenga el GUID de la clase de objeto (para **ADS \_ right \_ DS \_ Create \_ Child** o **ADS \_ right \_ DS \_ Delete \_ Child**), propiedad, conjunto de propiedades, escritura validada o derecho extendido al que se aplica la ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-146">If **Flags** is set to **ADS\_FLAG\_OBJECT\_TYPE\_PRESENT**, set the [**IADsAccessControlEntry.ObjectType**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) property o specify a string containing the GUID of the object class (for **ADS\_RIGHT\_DS\_CREATE\_CHILD** or **ADS\_RIGHT\_DS\_DELETE\_CHILD**), property, property set, validated write, or extended right that the ACE applies to.</span></span> <span data-ttu-id="148d1-147">El GUID debe especificarse como una cadena del formulario generado por la función [**StringFromGUID2**](/windows/win32/api/combaseapi/nf-combaseapi-stringfromguid2) en la biblioteca com.</span><span class="sxs-lookup"><span data-stu-id="148d1-147">The GUID must be specified as a string of the form produced by the [**StringFromGUID2**](/windows/win32/api/combaseapi/nf-combaseapi-stringfromguid2) function in the COM library.</span></span>
    7.  <span data-ttu-id="148d1-148">Si **Flags** se establece en la **\_ marca ADS \_ \_ \_ tipo \_ de objeto heredado**, establezca la propiedad [**IADsAccessControlEntry. InheritedObjectType**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) para especificar una cadena que contenga el GUID de la clase de objeto heredada a la que se aplica la ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-148">If **Flags** is set to **ADS\_FLAG\_INHERITED\_OBJECT\_TYPE\_PRESENT**, set the [**IADsAccessControlEntry.InheritedObjectType**](/windows/desktop/ADSI/iadsaccesscontrolentry-property-methods) property to specify a string that contains the GUID of the inherited object class that the ACE applies to.</span></span> <span data-ttu-id="148d1-149">El GUID debe especificarse como una cadena del formulario generado por la función [**StringFromGUID2**](/windows/win32/api/combaseapi/nf-combaseapi-stringfromguid2) en la biblioteca com.</span><span class="sxs-lookup"><span data-stu-id="148d1-149">The GUID must be specified as a string of the form produced by the [**StringFromGUID2**](/windows/win32/api/combaseapi/nf-combaseapi-stringfromguid2) function in the COM library.</span></span>

6.  <span data-ttu-id="148d1-150">Use el método **QueryInterface** en el objeto [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) para obtener un puntero [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) .</span><span class="sxs-lookup"><span data-stu-id="148d1-150">Use the **QueryInterface** method on the [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) object to get an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer.</span></span> <span data-ttu-id="148d1-151">El método [**IADsAccessControlList. AddAce**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-addace) requiere un puntero de interfaz **IDISPATCH** a la ACE.</span><span class="sxs-lookup"><span data-stu-id="148d1-151">The [**IADsAccessControlList.AddAce**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-addace) method requires an **IDispatch** interface pointer to the ACE.</span></span>
7.  <span data-ttu-id="148d1-152">Use [**IADsAccessControlList. AddAce**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-addace) para agregar la nueva ACE a la DACL.</span><span class="sxs-lookup"><span data-stu-id="148d1-152">Use [**IADsAccessControlList.AddAce**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-addace) to add the new ACE to the DACL.</span></span> <span data-ttu-id="148d1-153">Tenga en cuenta que el orden de las ACE dentro de la ACL puede afectar a la evaluación del acceso al objeto.</span><span class="sxs-lookup"><span data-stu-id="148d1-153">Be aware that the order of the ACEs within the ACL can affect the evaluation of access to the object.</span></span> <span data-ttu-id="148d1-154">El acceso correcto al objeto puede requerir que cree una nueva ACL, que agregue las ACE de la ACL existente en el orden correcto a la nueva ACL y que, a continuación, reemplace la ACL existente en el descriptor de seguridad por la nueva ACL.</span><span class="sxs-lookup"><span data-stu-id="148d1-154">The correct access to the object may require you to create an new ACL, add the ACEs from the existing ACL in the correct order to the new ACL, and then replace the existing ACL in the security descriptor with the new ACL.</span></span> <span data-ttu-id="148d1-155">Para obtener más información, vea [orden de las ACE en una DACL](/windows/desktop/SecAuthZ/order-of-aces-in-a-dacl).</span><span class="sxs-lookup"><span data-stu-id="148d1-155">For more information, see [Order of ACEs in a DACL](/windows/desktop/SecAuthZ/order-of-aces-in-a-dacl).</span></span>
8.  <span data-ttu-id="148d1-156">Use la propiedad [**IADsSecurityDescriptor. DiscretionaryAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) para escribir la DACL que contiene la nueva ACE en el descriptor de seguridad.</span><span class="sxs-lookup"><span data-stu-id="148d1-156">Use the [**IADsSecurityDescriptor.DiscretionaryAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) property to write the DACL containing the new ACE to the security descriptor.</span></span> <span data-ttu-id="148d1-157">Para obtener más información acerca de las DACL, vea [DACL NULL y DACL vacías](null-dacls-and-empty-dacls.md).</span><span class="sxs-lookup"><span data-stu-id="148d1-157">For more information about DACLs, see [Null DACLs and Empty DACLs](null-dacls-and-empty-dacls.md).</span></span>
9.  <span data-ttu-id="148d1-158">Use el método [**IADs. put**](/windows/desktop/api/iads/nf-iads-iads-put) para escribir el descriptor de seguridad en la propiedad **nTSecurityDescriptor** del objeto en la caché de propiedades.</span><span class="sxs-lookup"><span data-stu-id="148d1-158">Use the [**IADs.Put**](/windows/desktop/api/iads/nf-iads-iads-put) method to write the security descriptor to the object's **nTSecurityDescriptor** property to the property cache.</span></span>
10. <span data-ttu-id="148d1-159">Utilice el método [**IADs. SetInfo**](/windows/desktop/api/iads/nf-iads-iads-setinfo) para actualizar la propiedad en el objeto en el directorio.</span><span class="sxs-lookup"><span data-stu-id="148d1-159">Use the [**IADs.SetInfo**](/windows/desktop/api/iads/nf-iads-iads-setinfo) method to update the property on the object in the directory.</span></span>

 

 