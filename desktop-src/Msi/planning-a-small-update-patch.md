---
description: El archivo de características de concierto del producto original, MNP2000, contiene un error en el archivo de Concert.txt.
ms.assetid: 4289bd0c-bdf3-4747-9287-94f737ce4f5c
title: Planeación de una revisión de actualización pequeña
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f15f3667c6a18ab7a71e86997091bd76d4b15577
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/05/2021
ms.locfileid: "103914250"
---
# <a name="planning-a-small-update-patch"></a><span data-ttu-id="a7a62-103">Planeación de una revisión de actualización pequeña</span><span class="sxs-lookup"><span data-stu-id="a7a62-103">Planning a Small Update Patch</span></span>

<span data-ttu-id="a7a62-104">El archivo de características de concierto del producto original, MNP2000, contiene un error en el archivo de Concert.txt.</span><span class="sxs-lookup"><span data-stu-id="a7a62-104">The Concert feature file of the original product, MNP2000, contains an error in the Concert.txt file.</span></span> <span data-ttu-id="a7a62-105">Dado que Windows Installer se usó para la instalación y la configuración de la aplicación, las correcciones secundarias en la aplicación se pueden controlar mediante la instalación de un paquete de revisión de actualización pequeño.</span><span class="sxs-lookup"><span data-stu-id="a7a62-105">Because Windows Installer was used for the installation and setup of the application, minor fixes to the application may be handled by installing a small update patch package.</span></span> <span data-ttu-id="a7a62-106">Una [actualización pequeña](small-updates.md) realiza cambios en uno o varios archivos de aplicación que son demasiado pequeños para cambiar el código de producto.</span><span class="sxs-lookup"><span data-stu-id="a7a62-106">A [small update](small-updates.md) makes changes to one or more application files that are too minor to change the product code.</span></span> <span data-ttu-id="a7a62-107">En el ejemplo siguiente se muestra cómo crear un paquete de revisión de Windows Installer que puede aplicar la actualización pequeña y proporcionar una corrección rápida del producto MNP2000.</span><span class="sxs-lookup"><span data-stu-id="a7a62-107">The following example shows you how to create a Windows Installer patch package that can apply the small update and provide a quick fix to the MNP2000 product.</span></span>

<span data-ttu-id="a7a62-108">Para crear la actualización pequeña, primero obtenga una imagen totalmente descomprimida del producto MNP2000 que incluye el error en Concert.txt.</span><span class="sxs-lookup"><span data-stu-id="a7a62-108">To create the small update first obtain a fully uncompressed image of the MNP2000 product that includes the error in Concert.txt.</span></span> <span data-ttu-id="a7a62-109">La imagen debe incluir MNP2000.msi y todos los archivos de código fuente descritos en [planear la instalación](planning-the-installation.md).</span><span class="sxs-lookup"><span data-stu-id="a7a62-109">The image must include MNP2000.msi and all the source files described in [Planning the Installation](planning-the-installation.md).</span></span> <span data-ttu-id="a7a62-110">En la siguiente explicación, esto se denomina imagen de destino.</span><span class="sxs-lookup"><span data-stu-id="a7a62-110">In the following discussion this is called the Target image.</span></span> <span data-ttu-id="a7a62-111">La imagen de destino debe descomprimirse completamente porque el proceso de creación de revisiones no puede generar revisiones binarias para archivos comprimidos en los archivadores.</span><span class="sxs-lookup"><span data-stu-id="a7a62-111">The Target image must be fully uncompressed because the patch creation process is unable to generate binary patches for files compressed in cabinets.</span></span> <span data-ttu-id="a7a62-112">Coloque el archivo. msi y todos los archivos de origen de la imagen de destino en una carpeta denominada Target.</span><span class="sxs-lookup"><span data-stu-id="a7a62-112">Put the .msi file and all the source files of the Target image into a folder named Target.</span></span>

<span data-ttu-id="a7a62-113">A continuación, obtenga una imagen totalmente descomprimida del producto MNP2000 con un archivo Concert.txt que sea fijo.</span><span class="sxs-lookup"><span data-stu-id="a7a62-113">Next, obtain a fully uncompressed image of the MNP2000 product with a Concert.txt file that is fixed.</span></span> <span data-ttu-id="a7a62-114">Esto se denomina imagen actualizada en la siguiente explicación.</span><span class="sxs-lookup"><span data-stu-id="a7a62-114">This is called the Upgraded image in the following discussion.</span></span> <span data-ttu-id="a7a62-115">Use una herramienta de edición de base de datos de instalación, como orca, para actualizar el archivo. msi.</span><span class="sxs-lookup"><span data-stu-id="a7a62-115">Use an installation database editing tool, such as Orca, to update the .msi file.</span></span> <span data-ttu-id="a7a62-116">Por ejemplo, si el tamaño de la Concert.txt corregida es menor que el original, asegúrese de especificar el nuevo tamaño en el campo de archivo de la tabla de archivos de la imagen actualizada.</span><span class="sxs-lookup"><span data-stu-id="a7a62-116">For example, if the size of the corrected Concert.txt is smaller than the original, be sure to enter the new size in the FileSize field of the File table of the upgraded image.</span></span> <span data-ttu-id="a7a62-117">Tenga en cuenta que, dado que el paquete ha cambiado, debe asignar un nuevo código de paquete en la propiedad [**Resumen del número de revisión**](revision-number-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="a7a62-117">Note that because the package has changed you must assign a new package code in the [**Revision Number Summary**](revision-number-summary.md) Property.</span></span> <span data-ttu-id="a7a62-118">Coloque el archivo. msi y todos los archivos de origen de la imagen actualizada en una carpeta denominada actualizado.</span><span class="sxs-lookup"><span data-stu-id="a7a62-118">Put the .msi file and all the source files of the Upgraded image into a folder named Upgraded.</span></span>

<span data-ttu-id="a7a62-119">Para los fines de este ejemplo, supongamos que cambia el tamaño del archivo Concert.txt.</span><span class="sxs-lookup"><span data-stu-id="a7a62-119">For the purposes of this example, assume that the size of the Concert.txt file changes.</span></span> <span data-ttu-id="a7a62-120">Esto significa que los campos de archivo de las tablas de archivos del destino y de la base de datos actualizada contienen datos diferentes.</span><span class="sxs-lookup"><span data-stu-id="a7a62-120">This means that FileSize fields in the File tables of the Target and Upgraded database contain different data.</span></span>

<span data-ttu-id="a7a62-121">La siguiente [tabla de archivos](file-table.md) identifica el registro de la imagen de destino.</span><span class="sxs-lookup"><span data-stu-id="a7a62-121">The following [File Table](file-table.md) identifies the record from the Target Image.</span></span>



| <span data-ttu-id="a7a62-122">Archivo</span><span class="sxs-lookup"><span data-stu-id="a7a62-122">File</span></span>        | <span data-ttu-id="a7a62-123">Componente\_</span><span class="sxs-lookup"><span data-stu-id="a7a62-123">Component\_</span></span> | <span data-ttu-id="a7a62-124">FileName</span><span class="sxs-lookup"><span data-stu-id="a7a62-124">FileName</span></span>    | <span data-ttu-id="a7a62-125">FileSize</span><span class="sxs-lookup"><span data-stu-id="a7a62-125">FileSize</span></span> | <span data-ttu-id="a7a62-126">Versión</span><span class="sxs-lookup"><span data-stu-id="a7a62-126">Version</span></span> | <span data-ttu-id="a7a62-127">Idioma</span><span class="sxs-lookup"><span data-stu-id="a7a62-127">Language</span></span> | <span data-ttu-id="a7a62-128">Atributos</span><span class="sxs-lookup"><span data-stu-id="a7a62-128">Attributes</span></span> | <span data-ttu-id="a7a62-129">Secuencia</span><span class="sxs-lookup"><span data-stu-id="a7a62-129">Sequence</span></span> |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| <span data-ttu-id="a7a62-130">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="a7a62-130">Concert.txt</span></span> | <span data-ttu-id="a7a62-131">Concierto</span><span class="sxs-lookup"><span data-stu-id="a7a62-131">Concert</span></span>     | <span data-ttu-id="a7a62-132">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="a7a62-132">Concert.txt</span></span> | <span data-ttu-id="a7a62-133">1000</span><span class="sxs-lookup"><span data-stu-id="a7a62-133">1000</span></span>     |         |          | <span data-ttu-id="a7a62-134">0</span><span class="sxs-lookup"><span data-stu-id="a7a62-134">0</span></span>          | <span data-ttu-id="a7a62-135">1</span><span class="sxs-lookup"><span data-stu-id="a7a62-135">1</span></span>        |



 

<span data-ttu-id="a7a62-136">La siguiente tabla de archivos identifica el registro de la imagen actualizada.</span><span class="sxs-lookup"><span data-stu-id="a7a62-136">The following File Table identifies the record from the Upgraded Image.</span></span>



| <span data-ttu-id="a7a62-137">Archivo</span><span class="sxs-lookup"><span data-stu-id="a7a62-137">File</span></span>        | <span data-ttu-id="a7a62-138">Componente\_</span><span class="sxs-lookup"><span data-stu-id="a7a62-138">Component\_</span></span> | <span data-ttu-id="a7a62-139">FileName</span><span class="sxs-lookup"><span data-stu-id="a7a62-139">FileName</span></span>    | <span data-ttu-id="a7a62-140">FileSize</span><span class="sxs-lookup"><span data-stu-id="a7a62-140">FileSize</span></span> | <span data-ttu-id="a7a62-141">Versión</span><span class="sxs-lookup"><span data-stu-id="a7a62-141">Version</span></span> | <span data-ttu-id="a7a62-142">Idioma</span><span class="sxs-lookup"><span data-stu-id="a7a62-142">Language</span></span> | <span data-ttu-id="a7a62-143">Atributos</span><span class="sxs-lookup"><span data-stu-id="a7a62-143">Attributes</span></span> | <span data-ttu-id="a7a62-144">Secuencia</span><span class="sxs-lookup"><span data-stu-id="a7a62-144">Sequence</span></span> |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| <span data-ttu-id="a7a62-145">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="a7a62-145">Concert.txt</span></span> | <span data-ttu-id="a7a62-146">Concierto</span><span class="sxs-lookup"><span data-stu-id="a7a62-146">Concert</span></span>     | <span data-ttu-id="a7a62-147">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="a7a62-147">Concert.txt</span></span> | <span data-ttu-id="a7a62-148">900</span><span class="sxs-lookup"><span data-stu-id="a7a62-148">900</span></span>      |         |          | <span data-ttu-id="a7a62-149">0</span><span class="sxs-lookup"><span data-stu-id="a7a62-149">0</span></span>          | <span data-ttu-id="a7a62-150">1</span><span class="sxs-lookup"><span data-stu-id="a7a62-150">1</span></span>        |



 

> [!Note]
> <span data-ttu-id="a7a62-151">El archivo debe tener la misma clave en las [tablas de archivo](file-table.md) de la imagen de destino y la imagen actualizada.</span><span class="sxs-lookup"><span data-stu-id="a7a62-151">The file must have the same key in the [File Tables](file-table.md) of both the target image and the updated image.</span></span> <span data-ttu-id="a7a62-152">Los valores de cadena de la columna de archivo de ambas tablas deben ser idénticos.</span><span class="sxs-lookup"><span data-stu-id="a7a62-152">The string values in the File column of both tables must be identical.</span></span> <span data-ttu-id="a7a62-153">Los caracteres en mayúsculas y minúsculas también deben ser idénticos.</span><span class="sxs-lookup"><span data-stu-id="a7a62-153">Uppercase and lowercase must be identical also.</span></span>
> 
> <span data-ttu-id="a7a62-154">Siga las directrices descritas en [creación de un paquete de revisión](creating-a-patch-package.md).</span><span class="sxs-lookup"><span data-stu-id="a7a62-154">Follow the guidelines described in [Creating a Patch Package](creating-a-patch-package.md).</span></span> <span data-ttu-id="a7a62-155">No cree un paquete con claves de [tabla de archivos](file-table.md) que solo se diferencien por mayúsculas y minúsculas, porque [Msimsp.exe](msimsp-exe.md) y [Patchwiz.dll](patchwiz-dll.md) llaman a Makecab.exe, que no distingue entre mayúsculas y minúsculas y se produce un error en la generación de revisiones.</span><span class="sxs-lookup"><span data-stu-id="a7a62-155">Do not author a package with [File Table](file-table.md) keys that differ only by case, because [Msimsp.exe](msimsp-exe.md) and [Patchwiz.dll](patchwiz-dll.md) call Makecab.exe, which is case-insensitive and patch generation fails.</span></span>

[<span data-ttu-id="a7a62-156">Continuar</span><span class="sxs-lookup"><span data-stu-id="a7a62-156">Continue</span></span>](creating-a-patch-creation-properties-file.md)

 

 



