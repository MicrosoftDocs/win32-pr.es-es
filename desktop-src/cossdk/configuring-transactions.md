---
description: El atributo de transacción es una propiedad declarativa que administra automáticamente las transacciones del desarrollador de componentes. Al establecer este atributo, se elimina la necesidad de usar controles de transacción explícitos en el componente.
ms.assetid: ea0e4d7e-2598-4a42-993c-58815f2fa138
title: Configuración de transacciones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b57f27d47836193dc5d23c44e3344cb2a81d5984
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/05/2021
ms.locfileid: "104550530"
---
# <a name="configuring-transactions"></a><span data-ttu-id="9b00f-104">Configuración de transacciones</span><span class="sxs-lookup"><span data-stu-id="9b00f-104">Configuring Transactions</span></span>

<span data-ttu-id="9b00f-105">El *atributo de transacción* es una propiedad declarativa que administra automáticamente las transacciones del desarrollador de componentes.</span><span class="sxs-lookup"><span data-stu-id="9b00f-105">The *transaction attribute* is a declarative property that automatically manages transactions for the component developer.</span></span> <span data-ttu-id="9b00f-106">Al establecer este atributo, se elimina la necesidad de usar controles de transacción explícitos en el componente.</span><span class="sxs-lookup"><span data-stu-id="9b00f-106">By setting this attribute, you eliminate the need to use explicit transaction controls in your component.</span></span>

<span data-ttu-id="9b00f-107">COM+ utiliza el atributo de transacción del componente para determinar el tipo de protección de transacciones necesaria para cada objeto que se activa.</span><span class="sxs-lookup"><span data-stu-id="9b00f-107">COM+ uses the component's transaction attribute to determine the type of transaction protection required for each object it activates.</span></span> <span data-ttu-id="9b00f-108">Dependiendo de su requisito, un objeto puede compartir la transacción del llamador, requerir una nueva transacción o funcionar sin protección de transacciones.</span><span class="sxs-lookup"><span data-stu-id="9b00f-108">Depending on its requirement, an object can share its caller's transaction, require a new transaction, or operate without transaction protection.</span></span>

<span data-ttu-id="9b00f-109">COM+ proporciona los siguientes valores de atributo de transacción:</span><span class="sxs-lookup"><span data-stu-id="9b00f-109">COM+ provides the following transaction attribute values:</span></span>

<dl> <dt>

<span data-ttu-id="9b00f-110"><span id="Disabled"></span><span id="disabled"></span><span id="DISABLED"></span>Disponible</span><span class="sxs-lookup"><span data-stu-id="9b00f-110"><span id="Disabled"></span><span id="disabled"></span><span id="DISABLED"></span>Disabled</span></span>
</dt> <dd>

<span data-ttu-id="9b00f-111">En general, debe establecer este valor de atributo solo cuando esté seguro de que el componente nunca accede a un administrador de recursos.</span><span class="sxs-lookup"><span data-stu-id="9b00f-111">In general, you should set this attribute value only when you are sure that the component never accesses a resource manager.</span></span> <span data-ttu-id="9b00f-112">Cuando se deshabilita el atributo de transacción, COM+ omite los requisitos transaccionales del componente para determinar la ubicación del contexto del objeto.</span><span class="sxs-lookup"><span data-stu-id="9b00f-112">When you disable the transaction attribute, COM+ ignores the transactional requirements of the component in determining context placement of the object.</span></span> <span data-ttu-id="9b00f-113">Como resultado, el objeto puede compartir el contexto (y la transacción) del autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="9b00f-113">As a result, the object can share its caller's context (and transaction).</span></span> <span data-ttu-id="9b00f-114">Al migrar un componente COM a COM+, debe deshabilitar el atributo de transacción para mantener el mismo comportamiento transaccional que el componente COM sin configurar.</span><span class="sxs-lookup"><span data-stu-id="9b00f-114">When migrating a COM component to COM+, you must disable the transaction attribute to maintain the same transactional behavior as the unconfigured COM component.</span></span>

> [!Note]  
> <span data-ttu-id="9b00f-115">Un *componente sin configurar* es un componente com que no se ha instalado en una aplicación com+.</span><span class="sxs-lookup"><span data-stu-id="9b00f-115">An *unconfigured component* is a COM component that has not been installed in a COM+ application.</span></span>

 

</dd> <dt>

<span data-ttu-id="9b00f-116"><span id="Not_Supported"></span><span id="not_supported"></span><span id="NOT_SUPPORTED"></span>No compatible</span><span class="sxs-lookup"><span data-stu-id="9b00f-116"><span id="Not_Supported"></span><span id="not_supported"></span><span id="NOT_SUPPORTED"></span>Not Supported</span></span>
</dt> <dd>

<span data-ttu-id="9b00f-117">Al establecer este valor de atributo, COM+ garantiza que cualquier objeto creado a partir del componente nunca participa en una transacción, independientemente del estado transaccional de su llamador.</span><span class="sxs-lookup"><span data-stu-id="9b00f-117">When you set this attribute value, COM+ ensures that any object created from the component never participates in a transaction, regardless of the transactional status of its caller.</span></span> <span data-ttu-id="9b00f-118">Al declarar este valor, se asegura de que un objeto no vota en la transacción de su llamador ni puede comenzar una transacción propia.</span><span class="sxs-lookup"><span data-stu-id="9b00f-118">By declaring this value, you ensure that an object does not vote in its caller's transaction nor can it begin a transaction of its own.</span></span> <span data-ttu-id="9b00f-119">No compatible es el valor predeterminado para todos los componentes de.</span><span class="sxs-lookup"><span data-stu-id="9b00f-119">Not Supported is the default value for all components.</span></span>

</dd> <dt>

<span data-ttu-id="9b00f-120"><span id="Supported"></span><span id="supported"></span><span id="SUPPORTED"></span>Realizar</span><span class="sxs-lookup"><span data-stu-id="9b00f-120"><span id="Supported"></span><span id="supported"></span><span id="SUPPORTED"></span>Supported</span></span>
</dt> <dd>

<span data-ttu-id="9b00f-121">Al establecer este valor de atributo, COM+ garantiza que cualquier objeto creado a partir del componente participa en una transacción, si existe.</span><span class="sxs-lookup"><span data-stu-id="9b00f-121">When you set this attribute value, COM+ ensures that any object created from the component participates in a transaction if one exists.</span></span> <span data-ttu-id="9b00f-122">Este valor se declara cuando se desea que un objeto se comparta en la transacción del llamador sin necesidad de una transacción propia.</span><span class="sxs-lookup"><span data-stu-id="9b00f-122">You declare this value when you want an object to share in its caller's transaction without requiring a transaction of its own.</span></span>

</dd> <dt>

<span data-ttu-id="9b00f-123"><span id="Required"></span><span id="required"></span><span id="REQUIRED"></span>Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-123"><span id="Required"></span><span id="required"></span><span id="REQUIRED"></span>Required</span></span>
</dt> <dd>

<span data-ttu-id="9b00f-124">Al establecer este valor de atributo, COM+ garantiza que cualquier objeto creado a partir del componente sea transaccional.</span><span class="sxs-lookup"><span data-stu-id="9b00f-124">When you set this attribute value, COM+ ensures that any object created from the component is transactional.</span></span> <span data-ttu-id="9b00f-125">Cuando COM+ activa un objeto con la configuración necesaria, examina el estado transaccional de su llamador.</span><span class="sxs-lookup"><span data-stu-id="9b00f-125">When COM+ activates an object with the Required setting, it looks at the transactional status of its caller.</span></span> <span data-ttu-id="9b00f-126">Si el llamador tiene una transacción, el nuevo objeto se incluye en la transacción actual.</span><span class="sxs-lookup"><span data-stu-id="9b00f-126">If the caller has a transaction, the new object is included in the current transaction.</span></span> <span data-ttu-id="9b00f-127">De lo contrario, COM+ inicia una transacción, lo que hace que el nuevo objeto sea la raíz de la transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-127">Otherwise, COM+ begins a transaction, making the new object the root of the transaction.</span></span> <span data-ttu-id="9b00f-128">Esta es la configuración preferida para un componente que realiza actividades de recursos porque ayuda a proporcionar protección de transacciones para esas actividades.</span><span class="sxs-lookup"><span data-stu-id="9b00f-128">This is the preferred setting for a component that performs resource activities because it helps provide transaction protection for those activities.</span></span>

</dd> <dt>

<span data-ttu-id="9b00f-129"><span id="Requires_New"></span><span id="requires_new"></span><span id="REQUIRES_NEW"></span>Requiere nuevo</span><span class="sxs-lookup"><span data-stu-id="9b00f-129"><span id="Requires_New"></span><span id="requires_new"></span><span id="REQUIRES_NEW"></span>Requires New</span></span>
</dt> <dd>

<span data-ttu-id="9b00f-130">Al establecer este valor de atributo, COM+ garantiza que todos los objetos creados a partir del componente deben participar en una nueva transacción como raíz de la transacción, independientemente del estado transaccional del llamador.</span><span class="sxs-lookup"><span data-stu-id="9b00f-130">When you set this attribute value, COM+ ensures that any objects created from the component must participate in a new transaction as the root of the transaction, regardless of the transactional status of the caller.</span></span> <span data-ttu-id="9b00f-131">COM+ inicia automáticamente una nueva transacción distinta de la transacción del llamador.</span><span class="sxs-lookup"><span data-stu-id="9b00f-131">COM+ automatically initiates a new transaction that is distinct from the caller's transaction.</span></span>

> [!Note]  
> <span data-ttu-id="9b00f-132">COM+ no admite transacciones anidadas.</span><span class="sxs-lookup"><span data-stu-id="9b00f-132">COM+ does not support nested transactions.</span></span> <span data-ttu-id="9b00f-133">Cuando un objeto transaccional llama a otro componente marcado como requires New, COM+ crea un límite transaccional independiente para el objeto que se acaba de activar.</span><span class="sxs-lookup"><span data-stu-id="9b00f-133">When one transactional object calls another component marked as Requires New, COM+ creates an independent transactional boundary for the newly activated object.</span></span> <span data-ttu-id="9b00f-134">La segunda transacción no puede afectar a la primera transacción, a menos que la primera transacción apunte explícitamente los resultados de la segunda transacción y modifique su votación en función de los resultados.</span><span class="sxs-lookup"><span data-stu-id="9b00f-134">The second transaction cannot affect the first transaction unless the first transaction explicitly notes the results of the second transaction and modifies its vote based on those results.</span></span>

 

</dd> </dl>

## <a name="transaction-attribute-dependencies"></a><span data-ttu-id="9b00f-135">Dependencias de atributos de transacción</span><span class="sxs-lookup"><span data-stu-id="9b00f-135">Transaction Attribute Dependencies</span></span>

<span data-ttu-id="9b00f-136">En la tabla siguiente se muestran las características de cada valor de atributo de transacción COM+, incluido el efecto del valor en las características de la transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-136">The following table shows the characteristics of each COM+ transaction attribute value, including the value's effect on transaction characteristics.</span></span> <span data-ttu-id="9b00f-137">COM+ aplica la [activación JIT](com--just-in-time-activation.md) y la [sincronización](com--synchronization.md) de todos los componentes de transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-137">COM+ enforces [JIT activation](com--just-in-time-activation.md) and [Synchronization](com--synchronization.md) for all transaction components.</span></span>



| <span data-ttu-id="9b00f-138">Valor del atributo</span><span class="sxs-lookup"><span data-stu-id="9b00f-138">Attribute Value</span></span>          | <span data-ttu-id="9b00f-139">Nueva transacción</span><span class="sxs-lookup"><span data-stu-id="9b00f-139">New Transaction</span></span>   | <span data-ttu-id="9b00f-140">Transacción del cliente</span><span class="sxs-lookup"><span data-stu-id="9b00f-140">Client's Transaction</span></span>                 | <span data-ttu-id="9b00f-141">Raíz de la transacción</span><span class="sxs-lookup"><span data-stu-id="9b00f-141">Transaction Root</span></span>                        | <span data-ttu-id="9b00f-142">Activación JIT</span><span class="sxs-lookup"><span data-stu-id="9b00f-142">JIT Activation</span></span>      | <span data-ttu-id="9b00f-143">Synchronization</span><span class="sxs-lookup"><span data-stu-id="9b00f-143">Synchronization</span></span>     |
|--------------------------|-------------------|--------------------------------------|-----------------------------------------|---------------------|---------------------|
| <span data-ttu-id="9b00f-144">Disabled</span><span class="sxs-lookup"><span data-stu-id="9b00f-144">Disabled</span></span><br/>      | <span data-ttu-id="9b00f-145">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-145">Never</span></span><br/>  | <span data-ttu-id="9b00f-146">Es posible</span><span class="sxs-lookup"><span data-stu-id="9b00f-146">Maybe</span></span><br/>                     | <span data-ttu-id="9b00f-147">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-147">Never</span></span><br/>                        | <span data-ttu-id="9b00f-148">Opcional</span><span class="sxs-lookup"><span data-stu-id="9b00f-148">Optional</span></span><br/> | <span data-ttu-id="9b00f-149">Opcional</span><span class="sxs-lookup"><span data-stu-id="9b00f-149">Optional</span></span><br/> |
| <span data-ttu-id="9b00f-150">No compatible</span><span class="sxs-lookup"><span data-stu-id="9b00f-150">Not Supported</span></span><br/> | <span data-ttu-id="9b00f-151">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-151">Never</span></span><br/>  | <span data-ttu-id="9b00f-152">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-152">Never</span></span><br/>                     | <span data-ttu-id="9b00f-153">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-153">Never</span></span><br/>                        | <span data-ttu-id="9b00f-154">Opcional</span><span class="sxs-lookup"><span data-stu-id="9b00f-154">Optional</span></span><br/> | <span data-ttu-id="9b00f-155">Opcional</span><span class="sxs-lookup"><span data-stu-id="9b00f-155">Optional</span></span><br/> |
| <span data-ttu-id="9b00f-156">Compatible</span><span class="sxs-lookup"><span data-stu-id="9b00f-156">Supported</span></span><br/>     | <span data-ttu-id="9b00f-157">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-157">Never</span></span><br/>  | <span data-ttu-id="9b00f-158">Si el cliente tiene una transacción</span><span class="sxs-lookup"><span data-stu-id="9b00f-158">If client has transaction</span></span><br/> | <span data-ttu-id="9b00f-159">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-159">Never</span></span><br/>                        | <span data-ttu-id="9b00f-160">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-160">Required</span></span><br/> | <span data-ttu-id="9b00f-161">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-161">Required</span></span><br/> |
| <span data-ttu-id="9b00f-162">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-162">Required</span></span><br/>      | <span data-ttu-id="9b00f-163">Es posible</span><span class="sxs-lookup"><span data-stu-id="9b00f-163">Maybe</span></span><br/>  | <span data-ttu-id="9b00f-164">Si el cliente tiene una transacción</span><span class="sxs-lookup"><span data-stu-id="9b00f-164">If client has transaction</span></span><br/> | <span data-ttu-id="9b00f-165">Si el cliente no tiene ninguna transacción</span><span class="sxs-lookup"><span data-stu-id="9b00f-165">If client has no transaction</span></span><br/> | <span data-ttu-id="9b00f-166">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-166">Required</span></span><br/> | <span data-ttu-id="9b00f-167">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-167">Required</span></span><br/> |
| <span data-ttu-id="9b00f-168">Se requiere nueva</span><span class="sxs-lookup"><span data-stu-id="9b00f-168">Requires New</span></span><br/>  | <span data-ttu-id="9b00f-169">Siempre</span><span class="sxs-lookup"><span data-stu-id="9b00f-169">Always</span></span><br/> | <span data-ttu-id="9b00f-170">Nunca</span><span class="sxs-lookup"><span data-stu-id="9b00f-170">Never</span></span><br/>                     | <span data-ttu-id="9b00f-171">Siempre</span><span class="sxs-lookup"><span data-stu-id="9b00f-171">Always</span></span><br/>                       | <span data-ttu-id="9b00f-172">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-172">Required</span></span><br/> | <span data-ttu-id="9b00f-173">Obligatorio</span><span class="sxs-lookup"><span data-stu-id="9b00f-173">Required</span></span><br/> |



 

## <a name="transaction-boundaries"></a><span data-ttu-id="9b00f-174">Límites de transacciones</span><span class="sxs-lookup"><span data-stu-id="9b00f-174">Transaction Boundaries</span></span>

<span data-ttu-id="9b00f-175">Una transacción tiene un principio, un final y se produce exactamente una vez.</span><span class="sxs-lookup"><span data-stu-id="9b00f-175">A transaction has a beginning, an end, and occurs exactly once.</span></span> <span data-ttu-id="9b00f-176">Durante su ejecución, una transacción puede llamar a en un recurso, como una base de datos o una cola, para realizar una o más tareas.</span><span class="sxs-lookup"><span data-stu-id="9b00f-176">During its execution, a transaction may call on a resource, such as a database or queue, to accomplish one or more tasks.</span></span> <span data-ttu-id="9b00f-177">Cada recurso se encuentra dentro del límite de la *transacción*.</span><span class="sxs-lookup"><span data-stu-id="9b00f-177">Each resource falls within the *transaction boundary*.</span></span> <span data-ttu-id="9b00f-178">Todos los recursos dentro de un límite de transacción, que pueden abarcar varios límites de proceso y equipo, comparten una sola transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-178">All resources within a transaction boundary, which can span multiple process and computer boundaries, share a single transaction.</span></span> <span data-ttu-id="9b00f-179">Es importante administrar la coherencia entre estos procesos y los límites del equipo.</span><span class="sxs-lookup"><span data-stu-id="9b00f-179">Managing consistency across these process and computer boundaries is important.</span></span>

<span data-ttu-id="9b00f-180">COM+ garantiza la coherencia mediante la administración automática de los límites de las transacciones, según el valor del atributo de transacción que se establezca para cada componente.</span><span class="sxs-lookup"><span data-stu-id="9b00f-180">COM+ ensures consistency by managing transaction boundaries automatically, based on the value of the transaction attribute that you set for each component.</span></span> <span data-ttu-id="9b00f-181">Una transacción de COM+ fluye automáticamente a los objetos indicados para participar en una transacción y omite los objetos indicados para ejecutarse fuera de una transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-181">A COM+ transaction automatically flows to objects instructed to participate in a transaction and bypasses objects instructed to execute outside a transaction.</span></span> <span data-ttu-id="9b00f-182">COM+ no admite transacciones anidadas.</span><span class="sxs-lookup"><span data-stu-id="9b00f-182">COM+ does not support nested transactions.</span></span> <span data-ttu-id="9b00f-183">En su lugar, las transacciones de COM+ son distintas y de corta duración.</span><span class="sxs-lookup"><span data-stu-id="9b00f-183">Instead, COM+ transactions are distinct and short-lived.</span></span>

<span data-ttu-id="9b00f-184">El primer objeto de un límite de transacción es especial para la transacción y se denomina el *objeto raíz* de la transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-184">The first object in a transaction boundary is special to the transaction and is called the *root object* of the transaction.</span></span> <span data-ttu-id="9b00f-185">Solo puede haber un objeto raíz en una transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-185">There can be only one root object in a transaction.</span></span> <span data-ttu-id="9b00f-186">Todos los demás objetos de la jerarquía transaccional bajo el objeto raíz se denominan *objetos interiores*.</span><span class="sxs-lookup"><span data-stu-id="9b00f-186">All other objects in the transactional hierarchy under the root object are called *interior objects*.</span></span>

## <a name="mapping-transactions"></a><span data-ttu-id="9b00f-187">Asignación de transacciones</span><span class="sxs-lookup"><span data-stu-id="9b00f-187">Mapping Transactions</span></span>

<span data-ttu-id="9b00f-188">Una manera de asegurarse de que un objeto se incluye en el límite de transacción correcto es asignar las transacciones antes de empezar a escribir los componentes.</span><span class="sxs-lookup"><span data-stu-id="9b00f-188">One way to ensure that an object is included in the correct transaction boundary is to map your transactions before you start writing your components.</span></span> <span data-ttu-id="9b00f-189">Mediante la asignación de transacciones, puede determinar el mejor valor para cada componente que escriba.</span><span class="sxs-lookup"><span data-stu-id="9b00f-189">By mapping transactions, you can determine the best setting for each component you write.</span></span> <span data-ttu-id="9b00f-190">Cuanto mayor sea el modo en que se van a usar los componentes, más fácil será seleccionar el valor de atributo de transacción correcto.</span><span class="sxs-lookup"><span data-stu-id="9b00f-190">The more certain you are about how your components are to be used, the easier it is to select the correct transaction attribute value.</span></span>

<span data-ttu-id="9b00f-191">En tiempo de ejecución, COM+ examina el atributo de transacción para determinar si un objeto debe ser la raíz de una nueva transacción, crearse en una transacción existente o crearse como un objeto no transaccional.</span><span class="sxs-lookup"><span data-stu-id="9b00f-191">At run time, COM+ looks at the transaction attribute to determine whether an object should be the root of a new transaction, be created in an existing transaction, or be created as a non-transactional object.</span></span>

<span data-ttu-id="9b00f-192">En la ilustración siguiente se muestra una posible asignación de transacciones.</span><span class="sxs-lookup"><span data-stu-id="9b00f-192">The following illustration shows a possible transaction mapping.</span></span> <span data-ttu-id="9b00f-193">En la ilustración, el cliente crea el objeto 1, que requiere una transacción.</span><span class="sxs-lookup"><span data-stu-id="9b00f-193">In the illustration, the client creates Object  1, which requires a transaction.</span></span> <span data-ttu-id="9b00f-194">Dado que no existe ninguna transacción, COM+ crea la transacción 1 y coloca el objeto 1 en ella como el objeto raíz.</span><span class="sxs-lookup"><span data-stu-id="9b00f-194">Because no transaction exists, COM+ creates Transaction 1 and places Object 1 in it as the root object.</span></span> <span data-ttu-id="9b00f-195">El objeto 1 crea el objeto 2, que admite las transacciones y, por tanto, se coloca en la transacción 1.</span><span class="sxs-lookup"><span data-stu-id="9b00f-195">Object 1 creates Object 2, which supports transactions and is therefore placed in Transaction 1.</span></span> <span data-ttu-id="9b00f-196">El objeto 2 crea el objeto 3, que no admite transacciones y, por tanto, se coloca fuera de todas las transacciones.</span><span class="sxs-lookup"><span data-stu-id="9b00f-196">Object 2 creates Object 3, which does not support transactions and therefore is placed outside all transactions.</span></span> <span data-ttu-id="9b00f-197">El objeto 2 también crea el objeto 4, que requiere una transacción y, por tanto, se coloca en la transacción 1.</span><span class="sxs-lookup"><span data-stu-id="9b00f-197">Object 2 also creates Object 4, which requires a transaction and is therefore placed in Transaction  1.</span></span> <span data-ttu-id="9b00f-198">El objeto 3 crea el objeto 5, que admite las transacciones.</span><span class="sxs-lookup"><span data-stu-id="9b00f-198">Object 3 creates Object 5, which supports transactions.</span></span> <span data-ttu-id="9b00f-199">Sin embargo, dado que un objeto que no existe en una transacción crea el objeto 5, también se coloca fuera de todas las transacciones.</span><span class="sxs-lookup"><span data-stu-id="9b00f-199">However, because Object 5 is created by an object that does not exist within a transaction, it also is placed outside all transactions.</span></span> <span data-ttu-id="9b00f-200">El objeto 4 crea el objeto 6, que requiere una nueva transacción, por lo que COM+ crea la transacción 2 y coloca el objeto 6 en ella como el objeto raíz.</span><span class="sxs-lookup"><span data-stu-id="9b00f-200">Object 4 creates Object 6, which requires a new transaction, so COM+ creates Transaction 2 and places Object 6 in it as the root object.</span></span> <span data-ttu-id="9b00f-201">El objeto 6 crea el objeto 7, que admite las transacciones y, por tanto, se coloca en la transacción 2.</span><span class="sxs-lookup"><span data-stu-id="9b00f-201">Object 6 creates Object 7, which supports transactions and is therefore placed in Transaction 2.</span></span>

![Diagrama que muestra una interacción del cliente con las transacciones 1 y 2.](images/fc7e2d03-94c2-40d9-a79b-1e05ca31dd80.png)

<span data-ttu-id="9b00f-203">En la ilustración anterior se muestran dos áreas problemáticas posibles.</span><span class="sxs-lookup"><span data-stu-id="9b00f-203">The preceding illustration shows two potential problem areas.</span></span> <span data-ttu-id="9b00f-204">En primer lugar, la mayoría del trabajo se divide entre dos transacciones distintas.</span><span class="sxs-lookup"><span data-stu-id="9b00f-204">First, the majority of work is split between two distinct transactions.</span></span> <span data-ttu-id="9b00f-205">Si se produce un error en la transacción 1 después de que el objeto 4 cree el objeto 6, la transacción 2 se ejecutará de forma no afectada por el resultado de la transacción 1.</span><span class="sxs-lookup"><span data-stu-id="9b00f-205">If Transaction 1 fails after Object 4 creates Object 6, Transaction 2 runs unaffected by the outcome of Transaction 1.</span></span> <span data-ttu-id="9b00f-206">Si este resultado no es el previsto, es posible que prefiera doblar las operaciones de ambas transacciones en una única transacción, lo que puede lograr cambiando el atributo de transacción del objeto 6 a requerido.</span><span class="sxs-lookup"><span data-stu-id="9b00f-206">If this outcome is unintended, you might prefer to fold the operations of both transactions into a single transaction, which you can accomplish by changing the transaction attribute of Object  6 to Required.</span></span>

<span data-ttu-id="9b00f-207">En la ilustración de la asignación también se muestra que el objeto 3 y el objeto 5 son no transaccionales y se ejecutan completamente fuera del ámbito de las transacciones 1 y 2.</span><span class="sxs-lookup"><span data-stu-id="9b00f-207">The mapping illustration also shows that Object 3 and Object 5 are non-transactional, running completely outside the scope of Transactions 1 and 2.</span></span> <span data-ttu-id="9b00f-208">Si el objeto 5 actualiza los datos persistentes, es posible que desee reconsiderar su estado no transaccional.</span><span class="sxs-lookup"><span data-stu-id="9b00f-208">If Object 5 updates persistent data, you might want to reconsider its non-transactional status.</span></span> <span data-ttu-id="9b00f-209">El objeto 5 se puede colocar en una transacción cambiando su atributo de transacción a requerido.</span><span class="sxs-lookup"><span data-stu-id="9b00f-209">Object 5 can be placed within a transaction by changing its transaction attribute to Required.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9b00f-210">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="9b00f-210">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9b00f-211">Establecer el atributo de transacción</span><span class="sxs-lookup"><span data-stu-id="9b00f-211">Setting the Transaction Attribute</span></span>](setting-the-transaction-attribute.md)
</dt> </dl>

 

 




