---
description: En este tema se describen las diferencias entre las funciones de cadena utilizadas para controlar la información de Unicode y del juego de caracteres. Estas funciones tienen implementaciones de páginas de códigos Unicode y de Windows para admitir los parámetros de página de códigos Unicode y Windows.
ms.assetid: 52a15957-b44b-49ba-b915-e5c8e003a7e6
title: Diferencias de las funciones de cadena
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ad0c940aa8be1603f7958fb1993cc521ca7b1ed7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104001566"
---
# <a name="string-function-differences"></a><span data-ttu-id="c26af-104">Diferencias de las funciones de cadena</span><span class="sxs-lookup"><span data-stu-id="c26af-104">String Function Differences</span></span>

<span data-ttu-id="c26af-105">En este tema se describen las diferencias entre las funciones de cadena utilizadas para controlar la información de Unicode y del juego de caracteres.</span><span class="sxs-lookup"><span data-stu-id="c26af-105">This topic describes differences among string functions used in handling Unicode and character set information.</span></span> <span data-ttu-id="c26af-106">Estas funciones tienen implementaciones de [páginas de códigos](code-pages.md) [Unicode](unicode.md) y de Windows para admitir los parámetros de página de códigos Unicode y Windows.</span><span class="sxs-lookup"><span data-stu-id="c26af-106">These functions have both [Unicode](unicode.md) and [Windows code page](code-pages.md) implementations to support Unicode and Windows code page parameters.</span></span>

<span data-ttu-id="c26af-107">Las siguientes funciones de cadena no requieren un comentario especial.</span><span class="sxs-lookup"><span data-stu-id="c26af-107">The following string functions do not require special comment.</span></span> <span data-ttu-id="c26af-108">Sus implementaciones de páginas de códigos de Windows y Unicode funcionan de manera idéntica.</span><span class="sxs-lookup"><span data-stu-id="c26af-108">Their Unicode and Windows code page implementations work identically.</span></span>

-   [<span data-ttu-id="c26af-109">**CharNext**</span><span class="sxs-lookup"><span data-stu-id="c26af-109">**CharNext**</span></span>](/windows/win32/api/winuser/nf-winuser-charnexta)
-   [<span data-ttu-id="c26af-110">**CharPrev**</span><span class="sxs-lookup"><span data-stu-id="c26af-110">**CharPrev**</span></span>](/windows/win32/api/winuser/nf-winuser-charpreva)
-   <span data-ttu-id="c26af-111">[**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [ **StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa)</span><span class="sxs-lookup"><span data-stu-id="c26af-111">[**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa)</span></span>
-   <span data-ttu-id="c26af-112">[**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [ **StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa)</span><span class="sxs-lookup"><span data-stu-id="c26af-112">[**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa)</span></span>
-   <span data-ttu-id="c26af-113">[**StrCbLength**](/windows/win32/api/strsafe/nf-strsafe-stringcblengtha), [ **StrCchLength**](/windows/win32/api/strsafe/nf-strsafe-stringcchlengtha)</span><span class="sxs-lookup"><span data-stu-id="c26af-113">[**StrCbLength**](/windows/win32/api/strsafe/nf-strsafe-stringcblengtha), [**StrCchLength**](/windows/win32/api/strsafe/nf-strsafe-stringcchlengtha)</span></span>

<span data-ttu-id="c26af-114">El valor de longitud recuperado por una de las funciones de longitud de cadena siempre se basa en el ancho normal de caracteres: 8 bits para páginas de códigos de Windows, 16 bits para Unicode.</span><span class="sxs-lookup"><span data-stu-id="c26af-114">The length value retrieved by one of the string length functions is always based on normal character width: 8 bits for Windows code pages, 16 bits for Unicode.</span></span> <span data-ttu-id="c26af-115">Este valor a menudo se conoce como "recuento de caracteres".</span><span class="sxs-lookup"><span data-stu-id="c26af-115">This value is often referred to as a "count of characters."</span></span> <span data-ttu-id="c26af-116">Este término es estrictamente correcto porque las páginas de códigos de Windows que usan [juegos de caracteres de doble byte](double-byte-character-sets.md) (DBCS) tienen algunos caracteres de ancho completo que realmente representan dos bytes consecutivos.</span><span class="sxs-lookup"><span data-stu-id="c26af-116">This term is strictly correct because Windows code pages that use [double-byte character sets](double-byte-character-sets.md) (DBCSs) have some full-width characters that are actually represented by two consecutive bytes.</span></span> <span data-ttu-id="c26af-117">Se produce una situación similar para los [suplentes](surrogates-and-supplementary-characters.md) de Unicode.</span><span class="sxs-lookup"><span data-stu-id="c26af-117">A similar situation arises for [surrogates](surrogates-and-supplementary-characters.md) in Unicode.</span></span>

<span data-ttu-id="c26af-118">Las siguientes funciones de cadena son sensibles a la configuración regional del subproceso actual, derivada del idioma que el usuario selecciona en el panel de control.</span><span class="sxs-lookup"><span data-stu-id="c26af-118">The following string functions are sensitive to the locale of the current thread, derived from the language the user selects in the Control Panel.</span></span> <span data-ttu-id="c26af-119">Las funciones [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) y [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) no realizan comparaciones de bytes como su namesakes ANSI, por ejemplo, [strcmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp).</span><span class="sxs-lookup"><span data-stu-id="c26af-119">The [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) functions do not perform byte comparisons like their ANSI namesakes, for example, [strcmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp).</span></span> <span data-ttu-id="c26af-120">En su lugar, comparan cadenas según las reglas de la configuración regional.</span><span class="sxs-lookup"><span data-stu-id="c26af-120">Instead, they compare strings according to the rules of the locale.</span></span>

-   [<span data-ttu-id="c26af-121">**CharLower**</span><span class="sxs-lookup"><span data-stu-id="c26af-121">**CharLower**</span></span>](/windows/win32/api/winuser/nf-winuser-charlowera)
-   [<span data-ttu-id="c26af-122">**CharLowerBuff**</span><span class="sxs-lookup"><span data-stu-id="c26af-122">**CharLowerBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-charlowerbuffa)
-   [<span data-ttu-id="c26af-123">**CharUpper**</span><span class="sxs-lookup"><span data-stu-id="c26af-123">**CharUpper**</span></span>](/windows/win32/api/winuser/nf-winuser-charuppera)
-   [<span data-ttu-id="c26af-124">**CharUpperBuff**</span><span class="sxs-lookup"><span data-stu-id="c26af-124">**CharUpperBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-charupperbuffa)
-   [<span data-ttu-id="c26af-125">**lstrcmp**</span><span class="sxs-lookup"><span data-stu-id="c26af-125">**lstrcmp**</span></span>](/windows/win32/api/winbase/nf-winbase-lstrcmpa)
-   [<span data-ttu-id="c26af-126">**lstrcmpi**</span><span class="sxs-lookup"><span data-stu-id="c26af-126">**lstrcmpi**</span></span>](/windows/win32/api/winbase/nf-winbase-lstrcmpia)

<span data-ttu-id="c26af-127">Las siguientes funciones convierten entre el juego de caracteres OEM y la página de códigos de Windows actual o Unicode, dependiendo de la versión utilizada:</span><span class="sxs-lookup"><span data-stu-id="c26af-127">The following functions convert between the OEM character set and either the current Windows code page or Unicode, depending on which version is used:</span></span>

-   [<span data-ttu-id="c26af-128">**CharToOem**</span><span class="sxs-lookup"><span data-stu-id="c26af-128">**CharToOem**</span></span>](/windows/win32/api/winuser/nf-winuser-chartooema)
-   [<span data-ttu-id="c26af-129">**CharToOemBuff**</span><span class="sxs-lookup"><span data-stu-id="c26af-129">**CharToOemBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-chartooembuffa)
-   [<span data-ttu-id="c26af-130">**OemToCharBuff**</span><span class="sxs-lookup"><span data-stu-id="c26af-130">**OemToCharBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-oemtocharbuffa)

<span data-ttu-id="c26af-131">Las funciones de impresión, por ejemplo, [**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), admiten Unicode proporcionando los siguientes tipos de datos nuevos y modificados en sus especificaciones de formato.</span><span class="sxs-lookup"><span data-stu-id="c26af-131">The print functions, for example, [**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), support Unicode by providing the following new and changed data types in their format specifications.</span></span> <span data-ttu-id="c26af-132">Estas especificaciones de formato afectan a la manera en que las funciones interpretan el parámetro de entrada correspondiente.</span><span class="sxs-lookup"><span data-stu-id="c26af-132">These format specifications affect the way the functions interpret the corresponding input parameter.</span></span>



| <span data-ttu-id="c26af-133">Especificación de formato</span><span class="sxs-lookup"><span data-stu-id="c26af-133">Format specification</span></span> | <span data-ttu-id="c26af-134">Tipo de datos para la versión de la página de códigos de Windows</span><span class="sxs-lookup"><span data-stu-id="c26af-134">Data type for Windows code page version</span></span> | <span data-ttu-id="c26af-135">Tipo de datos para la versión Unicode</span><span class="sxs-lookup"><span data-stu-id="c26af-135">Data type for Unicode version</span></span> |
|----------------------|-----------------------------------------|-------------------------------|
| <span data-ttu-id="c26af-136">c</span><span class="sxs-lookup"><span data-stu-id="c26af-136">c</span></span>                    | <span data-ttu-id="c26af-137">CHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-137">CHAR</span></span>                                    | <span data-ttu-id="c26af-138">WCHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-138">WCHAR</span></span>                         |
| <span data-ttu-id="c26af-139">C</span><span class="sxs-lookup"><span data-stu-id="c26af-139">C</span></span>                    | <span data-ttu-id="c26af-140">WCHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-140">WCHAR</span></span>                                   | <span data-ttu-id="c26af-141">CHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-141">CHAR</span></span>                          |
| <span data-ttu-id="c26af-142">HC, hC</span><span class="sxs-lookup"><span data-stu-id="c26af-142">hc, hC</span></span>               | <span data-ttu-id="c26af-143">CHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-143">CHAR</span></span>                                    | <span data-ttu-id="c26af-144">CHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-144">CHAR</span></span>                          |
| <span data-ttu-id="c26af-145">HS, hS</span><span class="sxs-lookup"><span data-stu-id="c26af-145">hs, hS</span></span>               | <span data-ttu-id="c26af-146">LPSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-146">LPSTR</span></span>                                   | <span data-ttu-id="c26af-147">LPSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-147">LPSTR</span></span>                         |
| <span data-ttu-id="c26af-148">LC, lC</span><span class="sxs-lookup"><span data-stu-id="c26af-148">lc, lC</span></span>               | <span data-ttu-id="c26af-149">WCHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-149">WCHAR</span></span>                                   | <span data-ttu-id="c26af-150">WCHAR</span><span class="sxs-lookup"><span data-stu-id="c26af-150">WCHAR</span></span>                         |
| <span data-ttu-id="c26af-151">LS, lS</span><span class="sxs-lookup"><span data-stu-id="c26af-151">ls, lS</span></span>               | <span data-ttu-id="c26af-152">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-152">LPWSTR</span></span>                                  | <span data-ttu-id="c26af-153">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-153">LPWSTR</span></span>                        |
| <span data-ttu-id="c26af-154">s</span><span class="sxs-lookup"><span data-stu-id="c26af-154">s</span></span>                    | <span data-ttu-id="c26af-155">LPSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-155">LPSTR</span></span>                                   | <span data-ttu-id="c26af-156">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-156">LPWSTR</span></span>                        |
| <span data-ttu-id="c26af-157">S</span><span class="sxs-lookup"><span data-stu-id="c26af-157">S</span></span>                    | <span data-ttu-id="c26af-158">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-158">LPWSTR</span></span>                                  | <span data-ttu-id="c26af-159">LPSTR</span><span class="sxs-lookup"><span data-stu-id="c26af-159">LPSTR</span></span>                         |



 

<span data-ttu-id="c26af-160">El tipo de datos para el texto de salida siempre depende de la versión de la función.</span><span class="sxs-lookup"><span data-stu-id="c26af-160">The data type for the output text always depends on the version of the function.</span></span> <span data-ttu-id="c26af-161">Cuando el tipo de datos del parámetro de entrada y el tipo de datos del texto de salida no coinciden, la función print realiza una conversión de Unicode a la página de códigos actual de Windows, o viceversa, según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="c26af-161">When the data type of the input parameter and the data type of the output text do not agree, the print function performs a conversion from Unicode to the current Windows code page, or vice versa, as required.</span></span>

<span data-ttu-id="c26af-162">Para la versión Unicode de las funciones de impresión, la cadena de formato es Unicode, como es el texto de salida.</span><span class="sxs-lookup"><span data-stu-id="c26af-162">For the Unicode version of the print functions, the format string is Unicode, as is the output text.</span></span>

> [!Caution]  
> <span data-ttu-id="c26af-163">Un control deficiente del búfer es implicado en muchos problemas de seguridad que implican saturaciones del búfer.</span><span class="sxs-lookup"><span data-stu-id="c26af-163">Poor buffer handling is implicated in many security issues that involve buffer overruns.</span></span> <span data-ttu-id="c26af-164">Consulte [referencia de strsafe. h](../menurc/strsafe-ovw.md).</span><span class="sxs-lookup"><span data-stu-id="c26af-164">See [Strsafe.h Reference](../menurc/strsafe-ovw.md).</span></span> <span data-ttu-id="c26af-165">Las funciones definidas en strsafe. h proporcionan procesamiento adicional para el control de búfer adecuado en el código.</span><span class="sxs-lookup"><span data-stu-id="c26af-165">The functions defined in Strsafe.h provide additional processing for proper buffer handling in your code.</span></span> <span data-ttu-id="c26af-166">Por este motivo, están diseñados para reemplazar sus homólogos de C/C++ integrados, así como las implementaciones específicas de Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="c26af-166">For this reason, they are intended to replace their built-in C/C++ counterparts as well as specific Microsoft Windows implementations.</span></span> <span data-ttu-id="c26af-167">Para obtener más información, vea [consideraciones de seguridad: características internacionales](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="c26af-167">For more information, see [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="c26af-168">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="c26af-168">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c26af-169">Unicode en la API de Windows</span><span class="sxs-lookup"><span data-stu-id="c26af-169">Unicode in the Windows API</span></span>](unicode-in-the-windows-api.md)
</dt> </dl>

 

 
