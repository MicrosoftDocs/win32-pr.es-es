---
title: Información general sobre animaciones de Windows
description: Esta información general proporciona una introducción al administrador de animaciones de Windows y se centra en los conceptos y componentes clave.
ms.assetid: de1380c9-6801-4178-9281-a23af7d71d77
keywords:
- Animación de Windows animación de Windows, información general
- objetos del administrador de animaciones animación de Windows, descripción
- variables de animación animación de Windows, descripción
- objetos de temporizador de animación animación de Windows, descripción
- Animación de ventanas de sistema de control de tiempo
- Animación de duración contextual de Windows
- Animación de Windows con coincidencia de velocidad
- Animación de Windows de administración de contención
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a60b02b29d8d434cc93420f36c3cdca4428f94c
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104077851"
---
# <a name="windows-animation-overview"></a><span data-ttu-id="10225-111">Información general sobre animaciones de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-111">Windows Animation Overview</span></span>

<span data-ttu-id="10225-112">Esta información general proporciona una introducción al administrador de animaciones de Windows y se centra en los conceptos y componentes clave.</span><span class="sxs-lookup"><span data-stu-id="10225-112">This overview provides an introduction to the Windows Animation Manager and focuses on key components and concepts.</span></span> <span data-ttu-id="10225-113">Para obtener más información sobre los guiones gráficos y las transiciones, vea [información general sobre guiones gráficos](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="10225-113">For more information on storyboards and transitions, see [Storyboard Overview](storyboard-construction.md).</span></span>

<span data-ttu-id="10225-114">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="10225-114">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="10225-115">Conceptos básicos</span><span class="sxs-lookup"><span data-stu-id="10225-115">Basic Concepts</span></span>](#basic-concepts)
-   [<span data-ttu-id="10225-116">Componentes de la animación de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-116">Components of Windows Animation</span></span>](#components-of-windows-animation)
-   [<span data-ttu-id="10225-117">La API de animación de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-117">The Windows Animation API</span></span>](#the-windows-animation-api)
-   [<span data-ttu-id="10225-118">Configuraciones</span><span class="sxs-lookup"><span data-stu-id="10225-118">Configurations</span></span>](#configurations)
    -   [<span data-ttu-id="10225-119">Animación controlada por aplicaciones</span><span class="sxs-lookup"><span data-stu-id="10225-119">Application-Driven Animation</span></span>](#application-driven-animation)
    -   [<span data-ttu-id="10225-120">Animación controlada por temporizador</span><span class="sxs-lookup"><span data-stu-id="10225-120">Timer-Driven Animation</span></span>](#timer-driven-animation)
-   [<span data-ttu-id="10225-121">Características avanzadas</span><span class="sxs-lookup"><span data-stu-id="10225-121">Advanced Features</span></span>](#advanced-features)
    -   [<span data-ttu-id="10225-122">Administración de contención</span><span class="sxs-lookup"><span data-stu-id="10225-122">Contention Management</span></span>](#contention-management)
-   [<span data-ttu-id="10225-123">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="10225-123">Related topics</span></span>](#related-topics)

## <a name="basic-concepts"></a><span data-ttu-id="10225-124">Conceptos básicos</span><span class="sxs-lookup"><span data-stu-id="10225-124">Basic Concepts</span></span>

<span data-ttu-id="10225-125">La *animación* es una secuencia de imágenes aún sucesivas que produce una ilusión de movimiento al reproducirse.</span><span class="sxs-lookup"><span data-stu-id="10225-125">*Animation* is a sequence of successive still images that produces an illusion of movement when played back.</span></span> <span data-ttu-id="10225-126">El uso de la animación interactiva en su interfaz de usuario puede dar a una aplicación una personalidad única y mejorar la experiencia del usuario.</span><span class="sxs-lookup"><span data-stu-id="10225-126">Using interactive animation in its user interface can give an application a unique personality as well as improve the user experience.</span></span> <span data-ttu-id="10225-127">La animación puede ayudar a comunicar los cambios de estado principales en la interfaz de usuario y ayudar a administrar la complejidad de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="10225-127">Animation can help to communicate major state changes in the user interface and help to manage the complexity of the user interface.</span></span> <span data-ttu-id="10225-128">La animación también puede agregarse a la percepción del usuario de la calidad de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="10225-128">Animation can also add to the user's perception of the quality of an application.</span></span>

<span data-ttu-id="10225-129">Como ejemplo, la animación de Windows se usa en la barra de tareas para ayudarle a administrar y tener acceso a los archivos y programas, y al ampliador para ampliar diferentes partes de la pantalla con el fin de facilitar la visualización de los usuarios.</span><span class="sxs-lookup"><span data-stu-id="10225-129">As examples, Windows Animation is used in the taskbar to help you manage and access files and programs, and Magnifier to enlarge different parts of the screen to make them easier for users to see.</span></span>

<span data-ttu-id="10225-130">Las unidades fundamentales de una animación son la característica de un elemento visual que se va a animar y la descripción de cómo cambia esa característica con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="10225-130">The fundamental units of an animation are the characteristic of a visual element to be animated and the description of how that characteristic changes over time.</span></span> <span data-ttu-id="10225-131">Una aplicación puede animar una gran variedad de características, como la posición, el color, el tamaño, la rotación, el contraste y la opacidad.</span><span class="sxs-lookup"><span data-stu-id="10225-131">An application can animate a wide variety of characteristics such as position, color, size, rotation, contrast, and opacity.</span></span>

<span data-ttu-id="10225-132">En la animación de Windows, una *variable de animación* representa la característica que se va a animar.</span><span class="sxs-lookup"><span data-stu-id="10225-132">In Windows Animation, an *animation variable* represents the characteristic to be animated.</span></span> <span data-ttu-id="10225-133">Una *transición* describe el modo en que el valor de la variable de animación cambia a medida que se produce la animación.</span><span class="sxs-lookup"><span data-stu-id="10225-133">A *transition* describes how the value of that animation variable changes as animation occurs.</span></span> <span data-ttu-id="10225-134">Por ejemplo, un elemento visual podría tener una variable de animación que especifica su opacidad y una acción del usuario podría generar una transición que toma esa opacidad de un valor de 50 a 100, que representa una animación de semitransparente a totalmente opaca.</span><span class="sxs-lookup"><span data-stu-id="10225-134">For example, a visual element might have an animation variable that specifies its opacity, and a user action might generate a transition that takes that opacity from a value of 50 to 100, representing an animation from semi-transparent to fully opaque.</span></span>

<span data-ttu-id="10225-135">Un *guión gráfico* es un conjunto de transiciones que se aplican a una o varias variables de animación a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="10225-135">A *storyboard* is a set of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="10225-136">Una aplicación muestra animaciones construyendo y reproduciendo guiones gráficos y, a continuación, dibujando secuencias de fotogramas discretos a medida que los valores de las variables de animación cambian con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="10225-136">An application displays animations by constructing and playing storyboards and then drawing sequences of discrete frames as the values of animation variables change over time.</span></span>

## <a name="components-of-windows-animation"></a><span data-ttu-id="10225-137">Componentes de la animación de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-137">Components of Windows Animation</span></span>

<span data-ttu-id="10225-138">La animación de Windows consta de los siguientes componentes:</span><span class="sxs-lookup"><span data-stu-id="10225-138">Windows Animation consists of the following components:</span></span>

<dl> <dt>

<span data-ttu-id="10225-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>Administrador de animaciones</span><span class="sxs-lookup"><span data-stu-id="10225-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>animation manager</span></span>
</dt> <dd>

<span data-ttu-id="10225-140">Las aplicaciones usan un objeto de administrador de animaciones para crear variables de animación y guiones gráficos, programar y controlar animaciones, y actualizar la información de estado antes de que la aplicación dibuje cada fotograma.</span><span class="sxs-lookup"><span data-stu-id="10225-140">Applications use an animation manager object to create animation variables and storyboards, schedule and control animations, and update state information before the application draws each frame.</span></span> <span data-ttu-id="10225-141">Normalmente, un único objeto de administrador de animaciones administra todas las animaciones en una aplicación y, por tanto, tiene control global sobre todos los guiones gráficos programados.</span><span class="sxs-lookup"><span data-stu-id="10225-141">A single animation manager object typically manages all animations across an application and therefore has global control over all scheduled storyboards.</span></span>

</dd> <dt>

<span data-ttu-id="10225-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>variables de animación</span><span class="sxs-lookup"><span data-stu-id="10225-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>animation variables</span></span>
</dt> <dd>

<span data-ttu-id="10225-143">Antes de iniciar las animaciones, una aplicación necesita crear objetos de variable de animación.</span><span class="sxs-lookup"><span data-stu-id="10225-143">Before starting any animations, an application needs to create animation variable objects.</span></span> <span data-ttu-id="10225-144">Una variable de animación representa un aspecto de un elemento visual que se va a animar.</span><span class="sxs-lookup"><span data-stu-id="10225-144">An animation variable represents one aspect of a visual element to be animated.</span></span> <span data-ttu-id="10225-145">La variable es un valor de punto flotante escalar, aunque el valor se puede redondear a un valor entero.</span><span class="sxs-lookup"><span data-stu-id="10225-145">The variable is a scalar floating-point value, although the value can be rounded to an integer value.</span></span>

<span data-ttu-id="10225-146">Normalmente, una variable de animación tiene la misma duración que el elemento visual que se va a animar.</span><span class="sxs-lookup"><span data-stu-id="10225-146">An animation variable typically has the same lifetime as the visual element it is to animate.</span></span> <span data-ttu-id="10225-147">El valor inicial de una variable de animación se especifica cuando se crea la variable.</span><span class="sxs-lookup"><span data-stu-id="10225-147">The initial value of an animation variable is specified when the variable is created.</span></span> <span data-ttu-id="10225-148">Después, su valor no se puede cambiar directamente. debe actualizarse a través del administrador de animaciones.</span><span class="sxs-lookup"><span data-stu-id="10225-148">Thereafter, its value cannot be changed directly; it must be updated through the animation manager.</span></span>

<span data-ttu-id="10225-149">Una variable de animación se puede identificar mediante una *etiqueta*, que es un emparejamiento de un identificador entero con un puntero a un objeto com.</span><span class="sxs-lookup"><span data-stu-id="10225-149">An animation variable can be identified by a *tag*, which is a pairing of an integer identifier with a pointer to a COM object.</span></span> <span data-ttu-id="10225-150">Una etiqueta no debe ser única, a menos que la aplicación la utilice para buscar una variable.</span><span class="sxs-lookup"><span data-stu-id="10225-150">A tag need not be unique, unless the application uses it to search for a variable.</span></span> <span data-ttu-id="10225-151">De forma predeterminada, una variable de animación no tiene una etiqueta y se producirá un error en cualquier intento de leer su etiqueta hasta que se haya establecido una.</span><span class="sxs-lookup"><span data-stu-id="10225-151">By default, an animation variable does not have a tag, and any attempts to read its tag will fail until one has been set.</span></span>

</dd> <dt>

<span data-ttu-id="10225-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>sistema de control de tiempo</span><span class="sxs-lookup"><span data-stu-id="10225-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>timing system</span></span>
</dt> <dd>

<span data-ttu-id="10225-153">La animación de Windows incluye un sistema de control de tiempo que ayuda a garantizar que las animaciones se representan a una velocidad de fotogramas homogénea y uniforme, a la vez que se reduce el uso de los recursos del sistema para la representación cuando el sistema está ocupado.</span><span class="sxs-lookup"><span data-stu-id="10225-153">Windows Animation includes a timing system that helps to ensure that animations are rendered at a frame rate that is smooth and consistent, while also reducing the use of system resources for rendering when the system is busy.</span></span> <span data-ttu-id="10225-154">Un *temporizador* ayuda a administrar la representación de animaciones indicando automáticamente el paso de una pequeña unidad de tiempo, denominada *paso*.</span><span class="sxs-lookup"><span data-stu-id="10225-154">A *timer* helps to manage animation rendering by automatically indicating the passage of a small unit of time, called a *tick*.</span></span> <span data-ttu-id="10225-155">El sistema de control de tiempo supervisa el rendimiento general de la representación del sistema y *limita* las animaciones al aumentar o reducir dinámicamente la frecuencia de los tics.</span><span class="sxs-lookup"><span data-stu-id="10225-155">The timing system monitors overall system rendering performance and *throttles* animations by dynamically increasing or decreasing the frequency of ticks.</span></span> <span data-ttu-id="10225-156">Las aplicaciones pueden permitir que un temporizador impulse el administrador de animaciones y puede registrar un controlador para que se le notifique antes y después de que se actualice el administrador para cada paso.</span><span class="sxs-lookup"><span data-stu-id="10225-156">Applications can let a timer drive the animation manager and can register a handler to be notified before and after the manager is updated for each tick.</span></span> <span data-ttu-id="10225-157">Las aplicaciones pueden especificar la velocidad de fotogramas de animación mínima aceptable para un temporizador y recibir una notificación si la velocidad de fotogramas real de una animación cae por debajo de esta tarifa.</span><span class="sxs-lookup"><span data-stu-id="10225-157">Applications can specify the minimum acceptable animation frame rate for a timer and be notified if an animation's actual frame rate falls below this rate.</span></span>

<span data-ttu-id="10225-158">Para conservar los recursos del sistema, se puede configurar un temporizador para deshabilitarse cuando no se realiza ninguna animación.</span><span class="sxs-lookup"><span data-stu-id="10225-158">To conserve system resources, a timer can be configured to disable itself when no animation is taking place.</span></span>

</dd> </dl>

## <a name="the-windows-animation-api"></a><span data-ttu-id="10225-159">La API de animación de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-159">The Windows Animation API</span></span>

<span data-ttu-id="10225-160">La API de animación de Windows es una API basada en COM de un solo subproceso que proporciona las siguientes características para los desarrolladores:</span><span class="sxs-lookup"><span data-stu-id="10225-160">The Windows Animation API is a single-threaded COM-based API that provides the following features for developers:</span></span>

-   <span data-ttu-id="10225-161">Un objeto de administrador de animaciones, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), para crear objetos de animación y controlar animaciones</span><span class="sxs-lookup"><span data-stu-id="10225-161">An animation manager object, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), for creating animation objects and controlling animations</span></span>
-   <span data-ttu-id="10225-162">Variables y guiones gráficos de animación</span><span class="sxs-lookup"><span data-stu-id="10225-162">Animation variables and storyboards</span></span>
-   <span data-ttu-id="10225-163">Una biblioteca básica, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), de transiciones listas para usar</span><span class="sxs-lookup"><span data-stu-id="10225-163">A foundational library, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), of ready-to-use transitions</span></span>
-   <span data-ttu-id="10225-164">Un objeto de temporizador, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), para determinar la hora actual y, opcionalmente, para impulsar la animación</span><span class="sxs-lookup"><span data-stu-id="10225-164">A timer object, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), for determining the current time and, optionally, for driving animation</span></span>
-   <span data-ttu-id="10225-165">Enlaces de eventos para supervisar el estado y el progreso de la animación</span><span class="sxs-lookup"><span data-stu-id="10225-165">Event hooks for monitoring the state and progress of animation</span></span>

<span data-ttu-id="10225-166">Para consultar la referencia completa de la API, consulte [referencia de animación de Windows](windows-animation-reference.md).</span><span class="sxs-lookup"><span data-stu-id="10225-166">For the complete API reference, see [Windows Animation Reference](windows-animation-reference.md).</span></span> <span data-ttu-id="10225-167">Para ver un ejemplo de código, vea [tareas de animación de Windows](using-windows-animation.md) y ejemplos de animación de [Windows](windows-animation-samples.md).</span><span class="sxs-lookup"><span data-stu-id="10225-167">For example code, see [Windows Animation Tasks](using-windows-animation.md) and [Windows Animation Samples](windows-animation-samples.md).</span></span>

## <a name="configurations"></a><span data-ttu-id="10225-168">Configurations</span><span class="sxs-lookup"><span data-stu-id="10225-168">Configurations</span></span>

<span data-ttu-id="10225-169">Las aplicaciones deben obtener la hora actual antes de programar una nueva animación.</span><span class="sxs-lookup"><span data-stu-id="10225-169">Applications must get the current time before scheduling a new animation.</span></span> <span data-ttu-id="10225-170">A continuación se indican los mecanismos de control de tiempo admitidos por la animación de Windows:</span><span class="sxs-lookup"><span data-stu-id="10225-170">The following are the timing mechanisms supported by Windows Animation:</span></span>

-   [<span data-ttu-id="10225-171">Animación controlada por aplicaciones</span><span class="sxs-lookup"><span data-stu-id="10225-171">Application-Driven Animation</span></span>](#application-driven-animation)
-   [<span data-ttu-id="10225-172">Animación controlada por temporizador</span><span class="sxs-lookup"><span data-stu-id="10225-172">Timer-Driven Animation</span></span>](#timer-driven-animation)

### <a name="application-driven-animation"></a><span data-ttu-id="10225-173">Application-Driven animación</span><span class="sxs-lookup"><span data-stu-id="10225-173">Application-Driven Animation</span></span>

<span data-ttu-id="10225-174">Las aplicaciones que usan una API de gráficos con aceleración de hardware pueden sincronizarse con la frecuencia de actualización del monitor para representar animaciones suaves.</span><span class="sxs-lookup"><span data-stu-id="10225-174">Applications using a hardware-accelerated graphics API can synchronize with the monitor refresh rate to render smooth animations.</span></span> <span data-ttu-id="10225-175">Como alternativa, una aplicación puede usar un mecanismo de control de tiempo propio para determinar cuándo se debe dibujar cada fotograma de una animación.</span><span class="sxs-lookup"><span data-stu-id="10225-175">Alternately, an application may use a timing mechanism of its own to determine when to draw each frame of an animation.</span></span> <span data-ttu-id="10225-176">En cualquier caso, la aplicación le indicará al administrador de animaciones Cuándo debe actualizar su estado.</span><span class="sxs-lookup"><span data-stu-id="10225-176">In either case, the application will tell the animation manager when to update its state.</span></span> <span data-ttu-id="10225-177">Todavía se puede usar un temporizador de animación para determinar la hora actual con alta precisión en las unidades requeridas por el administrador de animaciones.</span><span class="sxs-lookup"><span data-stu-id="10225-177">An animation timer can still be used to determine the current time with high precision, in the units required by the animation manager.</span></span>

<span data-ttu-id="10225-178">En el diagrama siguiente se muestran las interacciones entre una aplicación y los componentes de animación de Windows cuando la aplicación está llevando a cabo actualizaciones de animación directamente.</span><span class="sxs-lookup"><span data-stu-id="10225-178">The following diagram shows the interactions between an application and the Windows Animation components when the application is driving animation updates directly.</span></span>

![diagrama que muestra las interacciones entre una aplicación y los componentes de animación de Windows cuando la aplicación está llevando a cabo actualizaciones de animación directamente.](images/animationupdates.png)

<span data-ttu-id="10225-180">En la configuración más sencilla, una aplicación volverá a dibujar todo cada vez que se actualice la pantalla, aunque no se esté reproduciendo ninguna animación.</span><span class="sxs-lookup"><span data-stu-id="10225-180">In the simplest configuration, an application will redraw everything every time the screen is refreshed, even when no animations are playing.</span></span> <span data-ttu-id="10225-181">Para evitar el trabajo desperdiciado, una aplicación puede registrar un controlador de eventos de administrador para que se le notifique cuando se hayan programado animaciones y pueda detectar cuándo está vacía la programación para que pueda dejar de volver a dibujar.</span><span class="sxs-lookup"><span data-stu-id="10225-181">To avoid wasted work, an application can register a manager event handler to be notified when there are animations scheduled, and can detect when the schedule is empty so that it can stop redrawing.</span></span>

### <a name="timer-driven-animation"></a><span data-ttu-id="10225-182">Timer-Driven animación</span><span class="sxs-lookup"><span data-stu-id="10225-182">Timer-Driven Animation</span></span>

<span data-ttu-id="10225-183">En lugar de actualizar el administrador de animaciones directamente, las aplicaciones pueden dejar que el temporizador de animación indique al administrador de animaciones Cuándo debe actualizar su estado y, simplemente, recibir una notificación cuando se realice cada actualización.</span><span class="sxs-lookup"><span data-stu-id="10225-183">Rather than updating the animation manager directly, applications may let the animation timer tell the animation manager when to update its state, and simply be notified when each update has taken place.</span></span> <span data-ttu-id="10225-184">Se recomienda este enfoque para las API de gráficos anteriores.</span><span class="sxs-lookup"><span data-stu-id="10225-184">This approach is recommended for older graphics APIs.</span></span> <span data-ttu-id="10225-185">En general, si es posible sincronizar con la frecuencia de actualización del monitor, es mejor hacerlo y usar la animación controlada por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="10225-185">In general, if it is possible to synchronize with the monitor refresh rate, it is better to do so and use application-driven animation.</span></span>

<span data-ttu-id="10225-186">En el diagrama siguiente se muestran las interacciones entre una aplicación y los componentes de animación de Windows cuando el temporizador de animación está llevando a cabo actualizaciones de animaciones.</span><span class="sxs-lookup"><span data-stu-id="10225-186">The following diagram shows the interactions between an application and the Windows Animation components when the animation timer is driving animation updates.</span></span>

![diagrama que muestra las interacciones entre una aplicación y los componentes de animación de Windows cuando el temporizador de animación está impulsando actualizaciones de animaciones.](images/animationtimerupdates.png)

<span data-ttu-id="10225-188">El temporizador se puede configurar para que se ejecute solo cuando se programan las animaciones; hacerlo es una cuestión sencilla de pasar un parámetro determinado cuando el temporizador y el administrador de animaciones están conectados.</span><span class="sxs-lookup"><span data-stu-id="10225-188">The timer can be configured to run only when the animations are scheduled; doing so is a simple matter of passing a particular parameter when the timer and animation manager are connected.</span></span>

## <a name="advanced-features"></a><span data-ttu-id="10225-189">Características avanzadas</span><span class="sxs-lookup"><span data-stu-id="10225-189">Advanced Features</span></span>

<span data-ttu-id="10225-190">Además de una base básica para admitir la animación, la animación de Windows incluye compatibilidad con varias técnicas de animación avanzadas, entre las que se incluyen:</span><span class="sxs-lookup"><span data-stu-id="10225-190">Beyond a basic foundation to support animation, Windows Animation includes support for several advanced animation techniques, including:</span></span>

<dl> <dt>

<span data-ttu-id="10225-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*duración contextual*</span><span class="sxs-lookup"><span data-stu-id="10225-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*context-sensitive duration*</span></span>
</dt> <dd>

<span data-ttu-id="10225-192">No es necesario corregir la duración de una transición; se puede determinar en función del valor y la velocidad de la variable animada cuando comienza la transición.</span><span class="sxs-lookup"><span data-stu-id="10225-192">The duration of a transition need not be fixed; it can be determined based on the value and velocity of the animated variable when the transition begins.</span></span>

</dd> <dt>

<span data-ttu-id="10225-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*coincidencia de velocidad*</span><span class="sxs-lookup"><span data-stu-id="10225-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*velocity matching*</span></span>
</dt> <dd>

<span data-ttu-id="10225-194">Por lo general, el movimiento es más agradable a la vista si la posición y la velocidad de un objeto móvil no se saltan de forma instantánea entre los valores.</span><span class="sxs-lookup"><span data-stu-id="10225-194">Movement is generally more pleasing to the eye if a moving object's position and velocity do not jump instantaneously between values.</span></span> <span data-ttu-id="10225-195">Cuando un nuevo guion gráfico interrumpe uno que se está reproduciendo actualmente, la coincidencia de velocidad permite que el nuevo guion gráfico se seleccione sin problemas en el punto en el que finalizó el anterior.</span><span class="sxs-lookup"><span data-stu-id="10225-195">When a new storyboard interrupts one that is currently playing, velocity matching enables the new storyboard to pick up smoothly where the previous one ended.</span></span>

</dd> <dt>

<span data-ttu-id="10225-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*Administración de contención*</span><span class="sxs-lookup"><span data-stu-id="10225-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*contention management*</span></span>
</dt> <dd>

<span data-ttu-id="10225-197">Si dos guiones gráficos necesitan actualizar la misma variable de animación simultáneamente, se produce un conflicto de programación.</span><span class="sxs-lookup"><span data-stu-id="10225-197">If two storyboards need to update the same animation variable simultaneously, a scheduling conflict occurs.</span></span> <span data-ttu-id="10225-198">En lugar de requerir una prioridad numérica específica para cada guión gráfico, la animación de Windows permite a la aplicación determinar las prioridades relativas de dos guiones gráficos.</span><span class="sxs-lookup"><span data-stu-id="10225-198">Rather than requiring a specific numeric priority for each storyboard, Windows Animation enables the application to determine the relative priorities of any two storyboards.</span></span>

</dd> </dl>

### <a name="contention-management"></a><span data-ttu-id="10225-199">Administración de contención</span><span class="sxs-lookup"><span data-stu-id="10225-199">Contention Management</span></span>

<span data-ttu-id="10225-200">Los desarrolladores pueden implementar una devolución de llamada de *comparación de prioridad* para comparar la prioridad del guion gráfico que se va a programar y el guión gráfico que ya está en la programación.</span><span class="sxs-lookup"><span data-stu-id="10225-200">Developers can implement a *priority comparison* callback to compare the priority of the storyboard of being scheduled and the storyboard that is already in the schedule.</span></span> <span data-ttu-id="10225-201">Una aplicación que implementa una comparación de prioridad puede usar cualquier lógica preferida para determinar cuándo un guion gráfico se empts en otro.</span><span class="sxs-lookup"><span data-stu-id="10225-201">An application implementing a priority comparison can use any preferred logic to determine when a storyboard pre-empts another.</span></span> <span data-ttu-id="10225-202">Para resolver el conflicto de programación, animación de Windows pregunta a la aplicación qué acciones se pueden realizar, en el siguiente orden:</span><span class="sxs-lookup"><span data-stu-id="10225-202">To resolve the scheduling conflict, Windows Animation asks the application which of these actions may be taken, in the following order:</span></span>

-   <span data-ttu-id="10225-203">**Cancele el guión gráfico programado.**</span><span class="sxs-lookup"><span data-stu-id="10225-203">**Cancel the scheduled storyboard.**</span></span> <span data-ttu-id="10225-204">Si el guión gráfico programado aún no ha empezado a reproducirse, podría cancelarse y quitarse inmediatamente de la programación.</span><span class="sxs-lookup"><span data-stu-id="10225-204">If the scheduled storyboard has not yet started to play, it might be canceled and immediately removed from the schedule.</span></span>
-   <span data-ttu-id="10225-205">**Recorte el guión gráfico programado.**</span><span class="sxs-lookup"><span data-stu-id="10225-205">**Trim the scheduled storyboard.**</span></span> <span data-ttu-id="10225-206">Cuando un nuevo guion gráfico recorta un guion gráfico programado, el guion gráfico programado deja de afectar a la variable en cuanto comienza el nuevo guión gráfico para animarlo.</span><span class="sxs-lookup"><span data-stu-id="10225-206">When a new storyboard trims a scheduled storyboard, the scheduled storyboard ceases to affect the variable as soon as the new storyboard begins to animate it.</span></span> <span data-ttu-id="10225-207">Las velocidades coinciden, lo que permite que el nuevo guion gráfico se seleccione sin problemas donde se quedó el anterior.</span><span class="sxs-lookup"><span data-stu-id="10225-207">The velocities are matched, enabling the new storyboard to pick up smoothly where the previous one left off.</span></span>
-   <span data-ttu-id="10225-208">**Concluye el guión gráfico programado.**</span><span class="sxs-lookup"><span data-stu-id="10225-208">**Conclude the scheduled storyboard.**</span></span> <span data-ttu-id="10225-209">Un guión gráfico solo se puede concluir si contiene un bucle que se repite indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="10225-209">A storyboard may be concluded only if it contains a loop that repeats indefinitely.</span></span> <span data-ttu-id="10225-210">Si el guion gráfico se encuentra en un bucle de este tipo al concluir, se completa la repetición actual y, a continuación, se reproduce el resto del guión gráfico.</span><span class="sxs-lookup"><span data-stu-id="10225-210">If the storyboard is in such a loop when concluded, the current repetition completes, and the remainder of the storyboard then plays.</span></span> <span data-ttu-id="10225-211">Si el bucle no ha empezado aún cuando se finaliza un guion gráfico, el bucle se omite por completo.</span><span class="sxs-lookup"><span data-stu-id="10225-211">If the loop has not yet begun when a storyboard is concluded, the loop is skipped entirely.</span></span>
-   <span data-ttu-id="10225-212">**Comprimir el guion gráfico programado.**</span><span class="sxs-lookup"><span data-stu-id="10225-212">**Compress the scheduled storyboard.**</span></span> <span data-ttu-id="10225-213">Si recortar o cancelar el guión gráfico programado no es una opción, se permite que el guion gráfico se complete.</span><span class="sxs-lookup"><span data-stu-id="10225-213">If trimming or canceling the scheduled storyboard is not an option, the storyboard is allowed to complete.</span></span> <span data-ttu-id="10225-214">La animación de Windows presenta la posibilidad de comprimir el tiempo disponible para el guión gráfico programado (y los guiones gráficos programados antes), por lo que las variables alcanzan su estado final con mayor rapidez.</span><span class="sxs-lookup"><span data-stu-id="10225-214">Windows Animation introduces the possibility of compressing the time available for the scheduled storyboard (and any storyboards scheduled before it), so the variables reach their final state more quickly.</span></span> <span data-ttu-id="10225-215">Cuando se aplica la compresión, el tiempo se acelera temporalmente para los guiones gráficos afectados, de modo que se reproducen más rápido.</span><span class="sxs-lookup"><span data-stu-id="10225-215">When compression is applied, time is temporarily accelerated for affected storyboards, so they play faster.</span></span>

<span data-ttu-id="10225-216">Si no se permite ninguna de las acciones anteriores mediante los objetos de comparación de prioridad registrados, se produce un error al intentar programar el nuevo guion gráfico.</span><span class="sxs-lookup"><span data-stu-id="10225-216">If none of the above actions is allowed by the registered priority comparison objects, the attempt to schedule the new storyboard fails.</span></span> <span data-ttu-id="10225-217">De forma predeterminada, todos los guiones gráficos se pueden recortar, concluir o comprimir para evitar errores, pero no se puede cancelar ninguno.</span><span class="sxs-lookup"><span data-stu-id="10225-217">By default, all storyboards can be trimmed, concluded, or compressed to prevent failure, but none can be canceled.</span></span>

<span data-ttu-id="10225-218">En el diagrama siguiente se muestra el ciclo de vida de un guion gráfico, con los Estados definidos por la enumeración de [**\_ \_ \_ Estado de guion gráfico de animación de IU**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) .</span><span class="sxs-lookup"><span data-stu-id="10225-218">The following diagram shows the life cycle of a storyboard, using the states defined by the [**UI\_ANIMATION\_STORYBOARD\_STATUS**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) enumeration.</span></span> <span data-ttu-id="10225-219">Las aplicaciones usan la API de animación de Windows para crear un guion gráfico y enviarlo para su programación.</span><span class="sxs-lookup"><span data-stu-id="10225-219">Applications use the Windows Animation API to build a storyboard and submit it for scheduling.</span></span> <span data-ttu-id="10225-220">El administrador de animaciones programa el guión gráfico y administra la animación.</span><span class="sxs-lookup"><span data-stu-id="10225-220">The animation manager schedules the storyboard and manages the animation.</span></span>

![diagrama que muestra cómo el administrador de animaciones programa el guión gráfico y administra la animación.](images/statediagram.png)

<span data-ttu-id="10225-222">Para obtener más información sobre la programación y la administración de guiones gráficos, consulte [información general sobre guiones gráficos](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="10225-222">For more information on storyboard scheduling and management, see [Storyboard Overview](storyboard-construction.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="10225-223">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="10225-223">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="10225-224">Referencia de animación de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-224">Windows Animation Reference</span></span>](windows-animation-reference.md)
</dt> <dt>

[<span data-ttu-id="10225-225">Ejemplos de animación de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-225">Windows Animation Samples</span></span>](windows-animation-samples.md)
</dt> <dt>

[<span data-ttu-id="10225-226">Tareas de animación de Windows</span><span class="sxs-lookup"><span data-stu-id="10225-226">Windows Animation Tasks</span></span>](using-windows-animation.md)
</dt> </dl>

 

 