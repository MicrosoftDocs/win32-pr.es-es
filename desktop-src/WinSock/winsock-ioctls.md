---
description: Tema de navegación para ioCTLs de sockets de Windows Sockets (Winsock).
ms.assetid: 6a63c2c9-4e09-4a62-b39f-3ccb26287da8
title: IOCTLs de Winsock (Winsock2.h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: eadf4a0e2799d6123bf81069fe65ea16313af444
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/27/2021
ms.locfileid: "110550260"
---
# <a name="winsock-ioctls"></a><span data-ttu-id="1882b-103">ICTLs de Winsock</span><span class="sxs-lookup"><span data-stu-id="1882b-103">Winsock IOCTLs</span></span>

<span data-ttu-id="1882b-104">En esta sección se describen los controles de entrada y salida (IOCTL) de Winsock Socket para varias ediciones de sistemas operativos Windows.</span><span class="sxs-lookup"><span data-stu-id="1882b-104">This section describes Winsock Socket input/output controls (IOCTLs) for various editions of Windows operating systems.</span></span> <span data-ttu-id="1882b-105">Use la [**función WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) o [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) para emitir una IOCTL de Winsock para controlar el modo de un socket, el protocolo de transporte o el subsistema de comunicaciones.</span><span class="sxs-lookup"><span data-stu-id="1882b-105">Use the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) function to issue a Winsock IOCTL to control the mode of a socket, the transport protocol, or the communications subsystem.</span></span>

<span data-ttu-id="1882b-106">Algunas ICTL de Winsock requieren más explicaciones de las que puede transmitir esta tabla. estas opciones contienen vínculos a temas adicionales.</span><span class="sxs-lookup"><span data-stu-id="1882b-106">Some Winsock IOCTLs require more explanation than this table can convey; such options contain links to additional topics.</span></span>

<span data-ttu-id="1882b-107">Es posible adoptar un esquema de codificación que conserve los códigos de operación [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) definidos actualmente y, al mismo tiempo, proporcionar una manera cómoda de particionar el espacio del identificador de código de operación en tanto como el parámetro *dwIoControlCode* sea ahora una entidad de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="1882b-107">It is possible to adopt an encoding scheme that preserves the currently defined [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) opcodes while providing a convenient way to partition the opcode identifier space in as much as the *dwIoControlCode* parameter is now a 32-bit entity.</span></span> <span data-ttu-id="1882b-108">El *parámetro dwIoControlCode* se ha creado para permitir la independencia del protocolo y del proveedor al agregar nuevos códigos de control y, al mismo tiempo, mantener la compatibilidad con versiones anteriores con los códigos de control de Windows Sockets 1.1 y Unix.</span><span class="sxs-lookup"><span data-stu-id="1882b-108">The *dwIoControlCode* parameter is built to allow for protocol and vendor independence when adding new control codes while retaining backward compatibility with the Windows Sockets 1.1 and Unix control codes.</span></span> <span data-ttu-id="1882b-109">El *parámetro dwIoControlCode* tiene el formato siguiente.</span><span class="sxs-lookup"><span data-stu-id="1882b-109">The *dwIoControlCode* parameter has the following form.</span></span>

| <span data-ttu-id="1882b-110">I</span><span class="sxs-lookup"><span data-stu-id="1882b-110">I</span></span>  | <span data-ttu-id="1882b-111">O</span><span class="sxs-lookup"><span data-stu-id="1882b-111">O</span></span>  | <span data-ttu-id="1882b-112">V</span><span class="sxs-lookup"><span data-stu-id="1882b-112">V</span></span>  | <span data-ttu-id="1882b-113">T</span><span class="sxs-lookup"><span data-stu-id="1882b-113">T</span></span>  | <span data-ttu-id="1882b-114">Familia de proveedores y direcciones</span><span class="sxs-lookup"><span data-stu-id="1882b-114">Vendor/address family</span></span> | <span data-ttu-id="1882b-115">Código</span><span class="sxs-lookup"><span data-stu-id="1882b-115">Code</span></span>                   |
|-|-|-|-|-|-|
| <span data-ttu-id="1882b-116">3</span><span class="sxs-lookup"><span data-stu-id="1882b-116">3</span></span>  | <span data-ttu-id="1882b-117">3</span><span class="sxs-lookup"><span data-stu-id="1882b-117">3</span></span>  | <span data-ttu-id="1882b-118">2</span><span class="sxs-lookup"><span data-stu-id="1882b-118">2</span></span>  | <span data-ttu-id="1882b-119">2 2</span><span class="sxs-lookup"><span data-stu-id="1882b-119">2 2</span></span> | <span data-ttu-id="1882b-120">2 2 2 2 2 2 2 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="1882b-120">2 2 2 2 2 2 2 1 1 1 1</span></span> | <span data-ttu-id="1882b-121">1 1 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="1882b-121">1 1 1 1 1 1</span></span>              |
| <span data-ttu-id="1882b-122">1</span><span class="sxs-lookup"><span data-stu-id="1882b-122">1</span></span>  | <span data-ttu-id="1882b-123">0</span><span class="sxs-lookup"><span data-stu-id="1882b-123">0</span></span>  | <span data-ttu-id="1882b-124">9</span><span class="sxs-lookup"><span data-stu-id="1882b-124">9</span></span>  | <span data-ttu-id="1882b-125">8 7</span><span class="sxs-lookup"><span data-stu-id="1882b-125">8 7</span></span> | <span data-ttu-id="1882b-126">6 5 4 3 2 1 0 9 8 7 6</span><span class="sxs-lookup"><span data-stu-id="1882b-126">6 5 4 3 2 1 0 9 8 7 6</span></span> | <span data-ttu-id="1882b-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span><span class="sxs-lookup"><span data-stu-id="1882b-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span></span> |

> [!Note] 
> <span data-ttu-id="1882b-128">Los bits del *parámetro dwIoControlCode* mostrado en la tabla deben leerse verticalmente de arriba abajo por columna.</span><span class="sxs-lookup"><span data-stu-id="1882b-128">The bits in *dwIoControlCode* parameter displayed in the table must be read vertically from top to bottom by column.</span></span> <span data-ttu-id="1882b-129">Por lo tanto, el bit más a la izquierda es el bit 31, el bit siguiente es el bit 30 y el bit más a la derecha es el bit 0.</span><span class="sxs-lookup"><span data-stu-id="1882b-129">So the left-most bit is bit 31, the next bit is bit 30, and the right-most bit is bit 0.</span></span>

<span data-ttu-id="1882b-130">Se establece si el búfer de entrada es válido para el código, como con **IOC_IN**.</span><span class="sxs-lookup"><span data-stu-id="1882b-130">I is set if the input buffer is valid for the code, as with **IOC_IN**.</span></span>

<span data-ttu-id="1882b-131">O se establece si el búfer de salida es válido para el código, como con **IOC_OUT**.</span><span class="sxs-lookup"><span data-stu-id="1882b-131">O is set if the output buffer is valid for the code, as with **IOC_OUT**.</span></span> <span data-ttu-id="1882b-132">Los códigos de control que usan búferes de entrada y salida establecen E/S.</span><span class="sxs-lookup"><span data-stu-id="1882b-132">Control codes using both input and output buffers set both I and O.</span></span>

<span data-ttu-id="1882b-133">V se establece si no hay parámetros para el código, como con **IOC_VOID**.</span><span class="sxs-lookup"><span data-stu-id="1882b-133">V is set if there are no parameters for the code, as with **IOC_VOID**.</span></span>

<span data-ttu-id="1882b-134">T es una cantidad de 2 bits que define el tipo de LA IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-134">T is a 2-bit quantity that defines the type of the IOCTL.</span></span> <span data-ttu-id="1882b-135">Se definen los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="1882b-135">The following values are defined:</span></span>

<span data-ttu-id="1882b-136">0 La IOCTL es un código estándar de UNIX IOCTL, como con **FIONREAD** y **FIONBIO.**</span><span class="sxs-lookup"><span data-stu-id="1882b-136">0 The IOCTL is a standard Unix IOCTL code, as with **FIONREAD** and **FIONBIO**.</span></span>

<span data-ttu-id="1882b-137">1 La IOCTL es un código genérico de IOCTL de Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="1882b-137">1 The IOCTL is a generic Windows Sockets 2 IOCTL code.</span></span> <span data-ttu-id="1882b-138">Los nuevos códigos IOCTL definidos para Windows Sockets 2 tendrán T == 1.</span><span class="sxs-lookup"><span data-stu-id="1882b-138">New IOCTL codes defined for Windows Sockets 2 will have T == 1.</span></span>

<span data-ttu-id="1882b-139">2 La IOCTL solo se aplica a una familia de direcciones específica.</span><span class="sxs-lookup"><span data-stu-id="1882b-139">2 The IOCTL applies only to a specific address family.</span></span>

<span data-ttu-id="1882b-140">3 La IOCTL solo se aplica al proveedor de un proveedor específico, como sucede **con IOC_VENDOR**.</span><span class="sxs-lookup"><span data-stu-id="1882b-140">3 The IOCTL applies only to a specific vendor's provider, as with **IOC_VENDOR**.</span></span> <span data-ttu-id="1882b-141">Este tipo permite asignar a las empresas un número de proveedor que aparece en el parámetro de la familia **Vendor/Address.**</span><span class="sxs-lookup"><span data-stu-id="1882b-141">This type allows companies to be assigned a vendor number that appears in the **Vendor/Address family** parameter.</span></span> <span data-ttu-id="1882b-142">A continuación, el proveedor puede definir nuevas IOCTL específicas de ese proveedor sin tener que registrar la IOCTL con un centro de compensación, lo que proporciona flexibilidad y privacidad al proveedor.</span><span class="sxs-lookup"><span data-stu-id="1882b-142">Then, the vendor can define new IOCTLs specific to that vendor without having to register the IOCTL with a clearinghouse, thereby providing vendor flexibility and privacy.</span></span>

<span data-ttu-id="1882b-143">**Familia de proveedores y direcciones** Cantidad de 11 bits que define el proveedor que posee el código (si T == 3) o que contiene la familia de direcciones a la que se aplica el código (si T == 2).</span><span class="sxs-lookup"><span data-stu-id="1882b-143">**Vendor/Address family** An 11-bit quantity that defines the vendor who owns the code (if T == 3) or that contains the address family to which the code applies (if T == 2).</span></span> <span data-ttu-id="1882b-144">Si se trata de un código IOCTL de Unix (T == 0), este parámetro tiene el mismo valor que el código en Unix.</span><span class="sxs-lookup"><span data-stu-id="1882b-144">If this is a Unix IOCTL code (T == 0) then this parameter has the same value as the code on Unix.</span></span> <span data-ttu-id="1882b-145">Si se trata de una IOCTL genérica de Windows Sockets 2 (T == 1), este parámetro se puede usar como una extensión del parámetro de código para proporcionar valores de código adicionales.</span><span class="sxs-lookup"><span data-stu-id="1882b-145">If this is a generic Windows Sockets 2 IOCTL (T == 1) then this parameter can be used as an extension of the code parameter to provide additional code values.</span></span>

<span data-ttu-id="1882b-146">**Código** Cantidad de 16 bits que contiene el código IOCTL específico para la operación.</span><span class="sxs-lookup"><span data-stu-id="1882b-146">**Code** The 16-bit quantity that contains the specific IOCTL code for the operation.</span></span>

## <a name="unix-ioctl-codes"></a><span data-ttu-id="1882b-147">Códigos IOCTL de Unix</span><span class="sxs-lookup"><span data-stu-id="1882b-147">Unix IOCTL codes</span></span>

<span data-ttu-id="1882b-148">Se admiten los siguientes códigos (comandos) de IOCTL de Unix.</span><span class="sxs-lookup"><span data-stu-id="1882b-148">The following Unix IOCTL codes (commands) are supported.</span></span>

### <a name="fionbio"></a><span data-ttu-id="1882b-149">FIONBIO</span><span class="sxs-lookup"><span data-stu-id="1882b-149">FIONBIO</span></span>

<span data-ttu-id="1882b-150">Habilite o deshabilite el modo de no bloqueo en el *socket.*</span><span class="sxs-lookup"><span data-stu-id="1882b-150">Enable or disable non-blocking mode on socket *s*.</span></span> <span data-ttu-id="1882b-151">El *parámetro lpvInBuffer* apunta **a** un long sin signo (QoS), que es distinto de cero si se va a habilitar el modo sin bloqueo y cero si se va a deshabilitar.</span><span class="sxs-lookup"><span data-stu-id="1882b-151">The *lpvInBuffer* parameter points at an **unsigned long** (QoS), which is nonzero if non-blocking mode is to be enabled and zero if it is to be disabled.</span></span> <span data-ttu-id="1882b-152">Cuando se crea un socket, funciona en modo de bloqueo (es decir, el modo sin bloqueo está deshabilitado).</span><span class="sxs-lookup"><span data-stu-id="1882b-152">When a socket is created, it operates in blocking mode (that is, non-blocking mode is disabled).</span></span> <span data-ttu-id="1882b-153">Esto es coherente con los sockets de BSD.</span><span class="sxs-lookup"><span data-stu-id="1882b-153">This is consistent with BSD sockets.</span></span>

<span data-ttu-id="1882b-154">La [**rutina WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) o [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) establece automáticamente un socket en modo sin bloqueo.</span><span class="sxs-lookup"><span data-stu-id="1882b-154">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) or [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) routine automatically sets a socket to non-blocking mode.</span></span> <span data-ttu-id="1882b-155">Si **WSAAsyncSelect** o **WSAEventSelect** se han emitido en un socket, cualquier intento de usar [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) para volver a establecer el socket en modo de bloqueo producirá un error con WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="1882b-155">If **WSAAsyncSelect** or **WSAEventSelect** has been issued on a socket, then any attempt to use [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) to set the socket back to blocking mode will fail with WSAEINVAL.</span></span> <span data-ttu-id="1882b-156">Para volver a establecer el socket en modo de bloqueo, una aplicación debe deshabilitar **primero WSAAsyncSelect** llamando a **WSAAsyncSelect** con el parámetro *lEvent* igual a cero o deshabilitar **WSAEventSelect** llamando a **WSAEventSelect** con el parámetro *lNetworkEvents* igual a cero.</span><span class="sxs-lookup"><span data-stu-id="1882b-156">To set the socket back to blocking mode, an application must first disable **WSAAsyncSelect** by calling **WSAAsyncSelect** with the *lEvent* parameter equal to zero, or disable **WSAEventSelect** by calling **WSAEventSelect** with the *lNetworkEvents* parameter equal to zero.</span></span>

### <a name="fionread"></a><span data-ttu-id="1882b-157">FIONREAD</span><span class="sxs-lookup"><span data-stu-id="1882b-157">FIONREAD</span></span>

<span data-ttu-id="1882b-158">Determine la cantidad de datos que se pueden leer de forma atómica desde el *socket.*</span><span class="sxs-lookup"><span data-stu-id="1882b-158">Determine the amount of data that can be read atomically from socket *s*.</span></span> <span data-ttu-id="1882b-159">El *parámetro lpvOutBuffer* apunta a **un long** sin signo en el que [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) almacena el resultado.</span><span class="sxs-lookup"><span data-stu-id="1882b-159">The *lpvOutBuffer* parameter points at an **unsigned long** in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

<span data-ttu-id="1882b-160">Si el socket pasado en el parámetro *s* está orientado a secuencias (por ejemplo, escriba SOCK \_ STREAM), **FIONREAD** devuelve la cantidad total de datos que se pueden leer en una sola operación de recepción; normalmente es la misma que la cantidad total de datos puestos en cola en el socket (dado que un flujo de datos está orientado a bytes, esto no se garantiza).</span><span class="sxs-lookup"><span data-stu-id="1882b-160">If the socket passed in the *s* parameter is stream oriented (for example, type SOCK\_STREAM), **FIONREAD** returns the total amount of data that can be read in a single receive operation; this is normally the same as the total amount of data queued on the socket (since a data stream is byte-oriented, this is not guaranteed).</span></span>

<span data-ttu-id="1882b-161">Si el socket pasado en el parámetro *s* está orientado a mensajes (por ejemplo, escriba SOCK \_ DGRAM), **FIONREAD** devuelve a los informes el número total de bytes disponibles para leer, no el tamaño del primer datagrama (mensaje) en cola en el socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-161">If the socket passed in the *s* parameter is message oriented (for example, type SOCK\_DGRAM), **FIONREAD** returns the reports the total number of bytes available to read, not the size of the first datagram (message) queued on the socket.</span></span>

### <a name="siocatmark"></a><span data-ttu-id="1882b-162">SIOCATMARK</span><span class="sxs-lookup"><span data-stu-id="1882b-162">SIOCATMARK</span></span>

<span data-ttu-id="1882b-163">Determine si se han leído o no todos los datos de OOB.</span><span class="sxs-lookup"><span data-stu-id="1882b-163">Determine whether or not all OOB data has been read.</span></span> <span data-ttu-id="1882b-164">Esto solo se aplica a un socket de estilo de flujo (por ejemplo, tipo SOCK STREAM) que se ha configurado para la recepción insertada de cualquier dato \_ de OOB (SO \_ OOBINLINE).</span><span class="sxs-lookup"><span data-stu-id="1882b-164">This applies only to a socket of stream-style (for example, type SOCK\_STREAM) that has been configured for inline reception of any OOB data (SO\_OOBINLINE).</span></span> <span data-ttu-id="1882b-165">Si no hay datos de OOB a la espera de ser leídos, la operación devuelve TRUE.</span><span class="sxs-lookup"><span data-stu-id="1882b-165">If no OOB data is waiting to be read, the operation returns TRUE.</span></span> <span data-ttu-id="1882b-166">De lo contrario, devuelve **FALSE** y la siguiente operación de recepción realizada en el socket recuperará algunos o todos los datos anteriores a la marca. la aplicación debe usar la **operación SIOCATMARK** para determinar si queda alguno.</span><span class="sxs-lookup"><span data-stu-id="1882b-166">Otherwise, it returns **FALSE**, and the next receive operation performed on the socket will retrieve some or all of the data preceding the mark; the application should use the **SIOCATMARK** operation to determine whether any remains.</span></span> <span data-ttu-id="1882b-167">Si hay algún dato normal que preceda a los datos urgentes (fuera de banda), se recibirán en orden.</span><span class="sxs-lookup"><span data-stu-id="1882b-167">If there is any normal data preceding the urgent (out of band) data, it will be received in order.</span></span> <span data-ttu-id="1882b-168">(Tenga en cuenta [**que las operaciones de recv**](/windows/desktop/api/winsock/nf-winsock-recv) nunca mezclarán datos normales y OOB en la misma llamada). *lpvOutBuffer* apunta a un BOOL en el que [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) almacena el resultado.</span><span class="sxs-lookup"><span data-stu-id="1882b-168">(Note that [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operations will never mix OOB and normal data in the same call.) *lpvOutBuffer* points at a BOOL in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

## <a name="windows-sockets-2-commands"></a><span data-ttu-id="1882b-169">Comandos de Windows Sockets 2</span><span class="sxs-lookup"><span data-stu-id="1882b-169">Windows Sockets 2 commands</span></span>

<span data-ttu-id="1882b-170">Se admiten los siguientes comandos de Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="1882b-170">The following Windows Sockets 2 commands are supported.</span></span>

### <a name="sio_acquire_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="1882b-171">SIO_ACQUIRE_PORT_RESERVATION (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-171">SIO_ACQUIRE_PORT_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-172">Solicite una reserva en tiempo de ejecución para un bloque de puertos TCP o UDP.</span><span class="sxs-lookup"><span data-stu-id="1882b-172">Request a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="1882b-173">Para las reservas de puertos en tiempo de ejecución, el grupo de puertos requiere que las reservas se consuman desde el proceso en cuyo socket se concedió la reserva.</span><span class="sxs-lookup"><span data-stu-id="1882b-173">For runtime port reservations, the port pool requires that reservations be consumed from the process on whose socket the reservation was granted.</span></span> <span data-ttu-id="1882b-174">Las reservas de puertos en tiempo de ejecución solo duren mientras dure el socket en el que se llamó a [**SIO \_ ACQUIRE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-174">Runtime port reservations last only as long as the lifetime of the socket on which the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL was called.</span></span> <span data-ttu-id="1882b-175">Por el contrario, cualquier proceso puede consumir las reservas de puertos persistentes creadas mediante la función [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) o [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) con la capacidad de obtener reservas persistentes.</span><span class="sxs-lookup"><span data-stu-id="1882b-175">In contrast, persistent port reservations created using the [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) or [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) function may be consumed by any process with the ability to obtain persistent reservations.</span></span>

<span data-ttu-id="1882b-176">Para obtener información más detallada, consulte la referencia [**DE SIO \_ ACQUIRE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-176">For more detailed information, see the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) reference.</span></span>

<span data-ttu-id="1882b-177">[**SIO \_ ACQUIRE \_ PORT \_ RESERVATION se**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) admite en Windows Vista y versiones posteriores del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="1882b-177">[**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_address_list_change-opcode-setting-v-t1"></a><span data-ttu-id="1882b-178">SIO \_ ADDRESS LIST CHANGE \_ \_ (configuración de código de operación: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-178">SIO\_ADDRESS\_LIST\_CHANGE (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1882b-179">Para recibir una notificación de los cambios en la lista de direcciones de transporte local de la familia de protocolos del socket a la que se puede enlazar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1882b-179">To receive notification of changes in the list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="1882b-180">No se proporciona información de salida tras la finalización de esta IOCTL; la finalización simplemente indica que la lista de direcciones locales disponibles ha cambiado y se debe consultar de nuevo a través de **SIO \_ ADDRESS LIST \_ \_ QUERY**.</span><span class="sxs-lookup"><span data-stu-id="1882b-180">No output information will be provided upon completion of this IOCTL; the completion merely indicates that list of available local address has changed and should be queried again through **SIO\_ADDRESS\_LIST\_QUERY**.</span></span>

<span data-ttu-id="1882b-181">Se supone (aunque no es necesario) que la aplicación usa E/S superpuestas para recibir una notificación del cambio mediante la finalización de **la solicitud SIO \_ ADDRESS LIST \_ \_ CHANGE.**</span><span class="sxs-lookup"><span data-stu-id="1882b-181">It is assumed (although not required) that the application uses overlapped I/O to be notified of change by completion of **SIO\_ADDRESS\_LIST\_CHANGE** request.</span></span> <span data-ttu-id="1882b-182">Como alternativa, si la INSTRUCCIÓN **SIO \_ ADDRESS LIST \_ \_ CHANGE** IOCTL se emite en un socket sin bloqueo y sin parámetros superpuestos *(lpOverlapped* lpCompletionRoutine se establece en NULL), se completará inmediatamente con /   el error [WSACTLCTLDBLOCK](windows-sockets-error-codes-2.md). </span><span class="sxs-lookup"><span data-stu-id="1882b-182">Alternatively, if the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL is issued on a non-blocking socket and without overlapped parameters (*lpOverlapped*/ *lpCompletionRoutine* are set to **NULL**), it will complete immediately with error [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="1882b-183">A continuación, la aplicación puede esperar eventos de cambio de lista de direcciones mediante una llamada a [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) o [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) con el conjunto de bits FD ADDRESS LIST CHANGE en la máscara de bits de eventos \_ de \_ \_ red.</span><span class="sxs-lookup"><span data-stu-id="1882b-183">The application can then wait for address list change events through a call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ADDRESS\_LIST\_CHANGE bit set in the network event bitmask.</span></span>

### <a name="sio_address_list_query-opcode-setting-o-t1"></a><span data-ttu-id="1882b-184">SIO \_ ADDRESS LIST QUERY \_ \_ (configuración del código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-184">SIO\_ADDRESS\_LIST\_QUERY (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-185">Obtiene una lista de direcciones de transporte local de la familia de protocolos del socket a la que se puede enlazar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1882b-185">Obtains a list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="1882b-186">La lista de direcciones varía en función de la familia de direcciones y algunas direcciones se excluyen de la lista.</span><span class="sxs-lookup"><span data-stu-id="1882b-186">The list of addresses varies based on address family and some addresses are excluded from the list.</span></span>

> [!Note] 
> <span data-ttu-id="1882b-187">En entornos de Windows Plug-n-Play, las direcciones se pueden agregar y quitar dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="1882b-187">In Windows Plug-n-Play environments, addresses can be added and removed dynamically.</span></span> <span data-ttu-id="1882b-188">Por lo tanto, las aplicaciones no pueden confiar en que la información devuelta por **SIO \_ ADDRESS LIST \_ \_ QUERY** sea persistente.</span><span class="sxs-lookup"><span data-stu-id="1882b-188">Therefore, applications cannot rely on the information returned by **SIO\_ADDRESS\_LIST\_QUERY** to be persistent.</span></span> <span data-ttu-id="1882b-189">Las aplicaciones pueden registrarse para recibir notificaciones de cambio de dirección a través de **SIO \_ ADDRESS LIST \_ \_ CHANGE** IOCTL, que proporciona la notificación a través de E/S superpuesta o evento FD \_ ADDRESS LIST \_ \_ CHANGE.</span><span class="sxs-lookup"><span data-stu-id="1882b-189">Applications may register for address change notifications through the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL which provides for notification through either overlapped I/O or FD\_ADDRESS\_LIST\_CHANGE event.</span></span> <span data-ttu-id="1882b-190">La siguiente secuencia de acciones se puede usar para garantizar que la aplicación siempre tiene información de lista de direcciones actual:</span><span class="sxs-lookup"><span data-stu-id="1882b-190">The following sequence of actions can be used to guarantee that the application always has current address list information:</span></span>

-  <span data-ttu-id="1882b-191">Problema **de CAMBIO DE LA LISTA DE DIRECCIONES \_ DE SIO \_ \_** IOCTL</span><span class="sxs-lookup"><span data-stu-id="1882b-191">Issue **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL</span></span>
-  <span data-ttu-id="1882b-192">Problema **de SIO \_ ADDRESS LIST \_ \_ QUERY** IOCTL</span><span class="sxs-lookup"><span data-stu-id="1882b-192">Issue **SIO\_ADDRESS\_LIST\_QUERY** IOCTL</span></span>
-  <span data-ttu-id="1882b-193">Cada **vez que SIO ADDRESS LIST \_ \_ \_ CHANGE** IOCTL notifica a la aplicación el cambio de la lista de direcciones (ya sea a través de E/S superpuesta o señalando el evento FD ADDRESS LIST CHANGE), se debe repetir toda la secuencia de \_ \_ \_ acciones.</span><span class="sxs-lookup"><span data-stu-id="1882b-193">Whenever **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL notifies the application of address list change (either through overlapped I/O or by signaling FD\_ADDRESS\_LIST\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="1882b-194">Para obtener información más detallada, consulte la [**referencia DE CONSULTA DE SIO ADDRESS \_ \_ LIST. \_**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-194">For more detailed information, see the [**SIO\_ADDRESS\_LIST\_QUERY**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-195">**SIO \_ ADDRESS \_ LIST \_ QUERY se** admite en Windows 2000 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-195">**SIO\_ADDRESS\_LIST\_QUERY** is supported on Windows 2000 and later.</span></span>

### <a name="sio_apply_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="1882b-196">SIO \_ APPLY TRANSPORT SETTING \_ \_ (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-196">SIO\_APPLY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-197">Aplica una configuración de transporte a un socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-197">Applies a transport setting to a socket.</span></span> <span data-ttu-id="1882b-198">La configuración de transporte que se aplica se basa en el [**identificador de CONFIGURACIÓN DE \_ \_ TRANSPORTE**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) pasado en *el parámetro lpvInBuffer.*</span><span class="sxs-lookup"><span data-stu-id="1882b-198">The transport setting being applied is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="1882b-199">La única configuración de transporte que define actualmente es para la funcionalidad **\_ FUNCIONALIDAD DE NOTIFICACIÓN \_ \_ EN** TIEMPO REAL en un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="1882b-199">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="1882b-200">Si el identificador de [**\_ CONFIGURACIÓN \_**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) DE TRANSPORTE pasado tiene el miembro **GUID** establecido en FUNCIONALIDAD DE NOTIFICACIÓN EN TIEMPO **REAL, \_ \_ \_** se trata de una solicitud para aplicar la configuración de notificación en tiempo real para el socket TCP usado con [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) para recibir notificaciones de red en segundo plano en una aplicación de la Tienda Windows.</span><span class="sxs-lookup"><span data-stu-id="1882b-200">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to apply real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span>

<span data-ttu-id="1882b-201">Para obtener información más detallada, vea la [**referencia SIO \_ APPLY TRANSPORT \_ \_ SETTING.**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-201">For more detailed information, see the [**SIO\_APPLY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-202">**SIO \_ APPLY \_ TRANSPORT \_ SETTING** se admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-202">**SIO\_APPLY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_associate_handle-opcode-setting-i-t1"></a><span data-ttu-id="1882b-203">SIO \_ ASSOCIATE \_ HANDLE (configuración del código de operación: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-203">SIO\_ASSOCIATE\_HANDLE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1882b-204">Asocie este socket al identificador (handle) especificado de la interfaz correspondiente.</span><span class="sxs-lookup"><span data-stu-id="1882b-204">Associate this socket with the specified handle of a companion interface.</span></span> <span data-ttu-id="1882b-205">El búfer de entrada contiene el valor entero correspondiente a la constante de manifiesto para la interfaz complementaria (por ejemplo, TH NETDEV y \_ TH TAPI)., seguido de un valor que es un identificador de la interfaz complementaria especificada, junto con cualquier otra información \_ necesaria.</span><span class="sxs-lookup"><span data-stu-id="1882b-205">The input buffer contains the integer value corresponding to the manifest constant for the companion interface (for example, TH\_NETDEV and TH\_TAPI.), followed by a value that is a handle of the specified companion interface, along with any other required information.</span></span> <span data-ttu-id="1882b-206">Consulte la sección adecuada de [Los anexos de Winsock](winsock-annexes.md) para obtener detalles específicos de una interfaz complementaria determinada.</span><span class="sxs-lookup"><span data-stu-id="1882b-206">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="1882b-207">El tamaño total se refleja en la longitud del búfer de entrada.</span><span class="sxs-lookup"><span data-stu-id="1882b-207">The total size is reflected in the input buffer length.</span></span> <span data-ttu-id="1882b-208">No se requiere ningún búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-208">No output buffer is required.</span></span> <span data-ttu-id="1882b-209">El código de error [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) se indica para los proveedores de servicios que no admiten esta IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-209">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span> <span data-ttu-id="1882b-210">El identificador asociado por esta IOCTL se puede recuperar mediante **SIO \_ TRANSLATE \_ HANDLE**.</span><span class="sxs-lookup"><span data-stu-id="1882b-210">The handle associated by this IOCTL can be retrieved using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="1882b-211">Se podría usar una interfaz complementaria, por ejemplo, si un proveedor determinado proporciona (1) una gran cantidad de controles adicionales sobre el comportamiento de un socket y (2) los controles son lo suficientemente específicos del proveedor como para que no se asignen a funciones de Windows Socket existentes o a otras que probablemente se definan en el futuro.</span><span class="sxs-lookup"><span data-stu-id="1882b-211">A companion interface might be used, for example, if a particular provider provides (1) a great deal of additional controls over the behavior of a socket and (2) the controls are provider-specific enough that they do not map to existing Windows Socket functions or ones likely to be defined in the future.</span></span> <span data-ttu-id="1882b-212">Se recomienda usar el modelo de objetos componentes (COM) en lugar de esta IOCTL para detectar y realizar un seguimiento de otras interfaces que podrían ser compatibles con un socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-212">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="1882b-213">Esta IOCTL está presente para la compatibilidad (inversa) con sistemas en los que COM no está disponible o no se puede usar por alguna otra razón.</span><span class="sxs-lookup"><span data-stu-id="1882b-213">This IOCTL is present for (reverse) compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_associate_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="1882b-214">SIO \_ ASSOCIATE PORT RESERVATION \_ \_ (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-214">SIO\_ASSOCIATE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-215">Asocie un socket a una reserva persistente o en tiempo de ejecución para un bloque de puertos TCP o UDP identificados por el token de reserva de puertos.</span><span class="sxs-lookup"><span data-stu-id="1882b-215">Associate a socket with a persistent or runtime reservation for a block of TCP or UDP ports identified by the port reservation token.</span></span> <span data-ttu-id="1882b-216">La [**IOCTL SIO \_ ASSOCIATE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) debe emitirse antes de enlazar el socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-216">The [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) IOCTL must be issued before the socket is bound.</span></span> <span data-ttu-id="1882b-217">Si y cuando se enlaza el socket, el puerto asignado a él se seleccionará de la reserva de puertos identificada por el token especificado.</span><span class="sxs-lookup"><span data-stu-id="1882b-217">If and when the socket is bound, the port assigned to it will be selected from the port reservation identified by the given token.</span></span> <span data-ttu-id="1882b-218">Si no hay puertos disponibles desde la reserva especificada, se producirá un error en la llamada [**a**](/windows/desktop/api/winsock/nf-winsock-bind) la función de enlace.</span><span class="sxs-lookup"><span data-stu-id="1882b-218">If no ports are available from the specified reservation, the [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) function call will fail.</span></span>

<span data-ttu-id="1882b-219">Para obtener información más detallada, consulte la referencia [**DE SIO \_ ASSOCIATE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-219">For more detailed information, see the [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) reference.</span></span>

<span data-ttu-id="1882b-220">[**SIO \_ ASSOCIATE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) se admite en Windows Vista y versiones posteriores del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="1882b-220">[**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_base_handle-opcode-setting-o-t1"></a><span data-ttu-id="1882b-221">SIO \_ BASE \_ HANDLE (configuración del código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-221">SIO\_BASE\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-222">Recupera el identificador del proveedor de servicios base para un socket determinado.</span><span class="sxs-lookup"><span data-stu-id="1882b-222">Retrieves the base service provider handle for a given socket.</span></span> <span data-ttu-id="1882b-223">El valor devuelto es **socket**.</span><span class="sxs-lookup"><span data-stu-id="1882b-223">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1882b-224">Un proveedor de servicios en capas nunca interceptaría esta IOCTL, ya que el valor devuelto debe ser el identificador de socket del proveedor de servicios base.</span><span class="sxs-lookup"><span data-stu-id="1882b-224">A layered service provider would never intercept this IOCTL since the return value must be the socket handle from the base service provider.</span></span>

<span data-ttu-id="1882b-225">Si el búfer de salida no es lo suficientemente grande para un identificador de socket *(el cbOutBuffer* es menor que el tamaño de un **SOCKET**) o el parámetro *lpvOutBuffer* es un puntero **NULL,** se devuelve **SOCKET \_ ERROR** como resultado de esta IOCTL y [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) devuelve [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1882b-225">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1882b-226">**SIO \_ EL \_ IDENTIFICADOR BASE** se define en el archivo de encabezado *Mswsock.h* y se admite en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-226">**SIO\_BASE\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle-opcode-setting-o-t1"></a><span data-ttu-id="1882b-227">SIO \_ BSP \_ HANDLE (configuración del código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-227">SIO\_BSP\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-228">Recupera el identificador del proveedor de servicios base para un socket utilizado por la [**función WSASendMsg.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="1882b-228">Retrieves the base service provider handle for a socket used by the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span> <span data-ttu-id="1882b-229">El valor devuelto es **socket**.</span><span class="sxs-lookup"><span data-stu-id="1882b-229">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1882b-230">Un proveedor de servicios en capas usa esta ioctl para asegurarse de que el proveedor intercepta la [**función WSASendMsg.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="1882b-230">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span>

<span data-ttu-id="1882b-231">Si el búfer de salida no es lo suficientemente grande para un identificador de socket *(cbOutBuffer* es menor que el tamaño de un **SOCKET)** o el parámetro *lpvOutBuffer* es un puntero **NULL,** **socket \_ ERROR** se devuelve como resultado de esta IOCTL y [**WSAGetLastError devuelve**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1882b-231">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1882b-232">**SIO \_ El identificador \_ de BSP** se define en el archivo de *encabezado Mswsock.h* y se admite en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-232">**SIO\_BSP\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_select-opcode-setting-o-t1"></a><span data-ttu-id="1882b-233">SIO \_ BSP \_ HANDLE SELECT \_ (configuración de código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-233">SIO\_BSP\_HANDLE\_SELECT (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-234">Recupera el identificador del proveedor de servicios base para un socket utilizado por la [**función select.**](/windows/desktop/api/Winsock2/nf-winsock2-select)</span><span class="sxs-lookup"><span data-stu-id="1882b-234">Retrieves the base service provider handle for a socket used by the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span> <span data-ttu-id="1882b-235">El valor devuelto es **un SOCKET**.</span><span class="sxs-lookup"><span data-stu-id="1882b-235">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1882b-236">Un proveedor de servicios en capas usa esta ioctl para asegurarse de que el proveedor intercepta la [**función select.**](/windows/desktop/api/Winsock2/nf-winsock2-select)</span><span class="sxs-lookup"><span data-stu-id="1882b-236">This Ioctl is used by a layered service provider to ensure the provider intercept the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span>

<span data-ttu-id="1882b-237">Si el búfer de salida no es lo suficientemente grande para un identificador de socket *(cbOutBuffer* es menor que el tamaño de un **SOCKET)** o el parámetro *lpvOutBuffer* es un puntero **NULL,** se devuelve **SOCKET \_ ERROR** como resultado de esta IOCTL y [**WSAGetLastError devuelve**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) [WSAEFAULT.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="1882b-237">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1882b-238">**SIO \_ BSP \_ HANDLE \_ SELECT** se define en el archivo de encabezado *Mswsock.h* y se admite en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-238">**SIO\_BSP\_HANDLE\_SELECT** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_poll-opcode-setting-o-t1"></a><span data-ttu-id="1882b-239">SIO \_ BSP \_ HANDLE POLL \_ (configuración del código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-239">SIO\_BSP\_HANDLE\_POLL (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-240">Recupera el identificador del proveedor de servicios base para un socket utilizado por la [**función WSAPoll.**](/windows/win32/api/winsock2/nf-winsock2-wsapoll)</span><span class="sxs-lookup"><span data-stu-id="1882b-240">Retrieves the base service provider handle for a socket used by the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="1882b-241">El *parámetro lpOverlapped* debe ser un **puntero NULL.**</span><span class="sxs-lookup"><span data-stu-id="1882b-241">The *lpOverlapped* parameter must be a **NULL** pointer.</span></span> <span data-ttu-id="1882b-242">El valor devuelto es **un SOCKET**.</span><span class="sxs-lookup"><span data-stu-id="1882b-242">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1882b-243">Un proveedor de servicios en capas usa esta ioctl para asegurarse de que el proveedor intercepta la [**función WSAPoll.**](/windows/win32/api/winsock2/nf-winsock2-wsapoll)</span><span class="sxs-lookup"><span data-stu-id="1882b-243">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span>

<span data-ttu-id="1882b-244">Si el búfer de salida no es lo suficientemente grande para un identificador de socket *(cbOutBuffer* es menor que el tamaño de un **SOCKET),** el parámetro *lpvOutBuffer* es un puntero **NULL** o el parámetro *lpOverlapped* no es un puntero **NULL,** **socket \_ ERROR** se devuelve como resultado de esta IOCTL y [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) devuelve [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1882b-244">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**), the *lpvOutBuffer* parameter is a **NULL** pointer, or the *lpOverlapped* parameter is not a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1882b-245">**SIO \_ BSP \_ HANDLE \_ POLL se** define en el archivo de encabezado *Mswsock.h* y se admite en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-245">**SIO\_BSP\_HANDLE\_POLL** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_chk_qos-opcode-setting-i-o-t3"></a><span data-ttu-id="1882b-246">QOS \_ de SIO CHK \_ (configuración del código de operación: I, O, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-246">SIO\_CHK\_QOS (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="1882b-247">Recupera información sobre las características de tráfico de QoS.</span><span class="sxs-lookup"><span data-stu-id="1882b-247">Retrieves information about QoS traffic characteristics.</span></span> <span data-ttu-id="1882b-248">Durante la fase de transición en el sistema de envío entre la configuración del flujo y la recepción de un mensaje de [RESV](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) (vea Cómo invoca TC el servicio RSVP para obtener más información sobre la fase de transición), el tráfico asociado a un flujo RSVP se forma en función del tipo de servicio[(BEST EFFORT,](/previous-versions/windows/desktop/qos/best-effort) [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load)o [GUARANTEED).](/previous-versions/windows/desktop/qos/guaranteed)</span><span class="sxs-lookup"><span data-stu-id="1882b-248">During the transitional phase on the sending system between flow setup and the receipt of a RESV message (see [How the RSVP Service Invokes TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) for more information on the transitional phase), traffic associated with an RSVP flow is shaped based on service type ([BEST EFFORT](/previous-versions/windows/desktop/qos/best-effort), [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load), or [GUARANTEED](/previous-versions/windows/desktop/qos/guaranteed)).</span></span> <span data-ttu-id="1882b-249">Para obtener más información, consulte [Uso de SIO \_ CHK \_ QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) en la [sección Calidad](/previous-versions/windows/desktop/qos/qos-start-page) de servicio del SDK de plataforma.</span><span class="sxs-lookup"><span data-stu-id="1882b-249">For more information, see [Using SIO\_CHK\_QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) in the [Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) section of the Platform SDK.</span></span>

### <a name="sio_cpu_affinity-opcode-setting-i-t3"></a><span data-ttu-id="1882b-250">SIO_CPU_AFFINITY (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-250">SIO_CPU_AFFINITY (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-251">Habilita el uso compartido de puertos y la paralelización de la indicación de recepción.</span><span class="sxs-lookup"><span data-stu-id="1882b-251">Enables port sharing and receive indication parallelization.</span></span> <span data-ttu-id="1882b-252">Cuando la aplicación usa esta opción de socket para asociar sockets a distintos procesadores y, a continuación, enlaza los sockets a la misma dirección, las indicaciones de recepción se distribuirán entre los sockets en función del hash de ajuste de escala del lado de recepción (RSS).</span><span class="sxs-lookup"><span data-stu-id="1882b-252">When your application uses this socket option to associate sockets to different processors, and then binds the sockets to the same address, receive indications will be distributed across the sockets based on Receive Side Scaling (RSS) hash.</span></span> <span data-ttu-id="1882b-253">La configuración de RSS no cambia, por lo que cualquier flujo determinado (punto de conexión local, par de punto de conexión remoto) siempre se indicará en el mismo procesador.</span><span class="sxs-lookup"><span data-stu-id="1882b-253">The RSS settings don't change, so any given flow (local endpoint, remote endpoint pair) will always be indicated on the same processor.</span></span> <span data-ttu-id="1882b-254">Como resultado, todos los paquetes que pertenecen a un flujo determinado se indicarán en el mismo socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-254">As a result, all packets belonging to a given flow will be indicated to the same socket.</span></span> <span data-ttu-id="1882b-255">Se debe llamar a esta IOCTL antes del enlace; de lo contrario, se devolverá WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="1882b-255">This IOCTL must be called prior to bind, otherwise WSAEINVAL will be returned.</span></span> <span data-ttu-id="1882b-256">El búfer de entrada es un índice de procesador (basado en 0) de tipo USHORT.</span><span class="sxs-lookup"><span data-stu-id="1882b-256">The input buffer is a processor index (0-based) of type USHORT.</span></span> <span data-ttu-id="1882b-257">La IOCTL no es compatible con SO_REUSEADDR y SO_REUSE_MULTICASTPORT.</span><span class="sxs-lookup"><span data-stu-id="1882b-257">The IOCTL is incompatible with SO_REUSEADDR and SO_REUSE_MULTICASTPORT.</span></span> <span data-ttu-id="1882b-258">Solo se admite para sockets UDP.</span><span class="sxs-lookup"><span data-stu-id="1882b-258">Only supported for UDP sockets.</span></span>

> [!NOTE]
> <span data-ttu-id="1882b-259">Si tiene como destino la versión 10.0.19041.0 (Windows 10, versión 2004) del Windows SDK, use el valor en lugar del nombre `0x98000015` **SIO_CPU_AFFINITY**.</span><span class="sxs-lookup"><span data-stu-id="1882b-259">If you're targeting version 10.0.19041.0 (Windows 10, version 2004) of the Windows SDK, then use the value `0x98000015` instead of the name **SIO_CPU_AFFINITY**.</span></span>

### <a name="sio_enable_circular_queueing-opcode-setting-v-t1"></a><span data-ttu-id="1882b-260">SIO \_ ENABLE \_ CIRCULAR \_ QUEUEING (configuración de código de operación: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-260">SIO\_ENABLE\_CIRCULAR\_QUEUEING (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1882b-261">Indica al proveedor de servicios orientado a mensajes subyacente que nunca se debe descartar un mensaje recién llegado debido a un desbordamiento de cola de búfer.</span><span class="sxs-lookup"><span data-stu-id="1882b-261">Indicates to the underlying message-oriented service provider that a newly arrived message should never be dropped because of a buffer queue overflow.</span></span> <span data-ttu-id="1882b-262">En su lugar, se debe eliminar el mensaje más antiguo de la cola para dar cabida al mensaje recién llegado.</span><span class="sxs-lookup"><span data-stu-id="1882b-262">Instead, the oldest message in the queue should be eliminated in order to accommodate the newly arrived message.</span></span> <span data-ttu-id="1882b-263">No se requieren búferes de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-263">No input and output buffers are required.</span></span> <span data-ttu-id="1882b-264">Tenga en cuenta que esta IOCTL solo es válida para los sockets asociados a protocolos no confiables orientados a mensajes.</span><span class="sxs-lookup"><span data-stu-id="1882b-264">Note that this IOCTL is only valid for sockets associated with unreliable, message-oriented protocols.</span></span> <span data-ttu-id="1882b-265">El código de error [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) se indica para los proveedores de servicios que no admiten esta IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-265">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_find_route-opcode-setting-o-t1"></a><span data-ttu-id="1882b-266">SIO \_ FIND \_ ROUTE (configuración del código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-266">SIO\_FIND\_ROUTE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-267">Cuando se emite, esta IOCTL solicita que se descubra la ruta a la dirección remota especificada como [**sockaddr**](sockaddr-2.md) en el búfer de entrada.</span><span class="sxs-lookup"><span data-stu-id="1882b-267">When issued, this IOCTL requests that the route to the remote address specified as a [**sockaddr**](sockaddr-2.md) in the input buffer be discovered.</span></span> <span data-ttu-id="1882b-268">Si la dirección ya existe en la caché local, su entrada se invalida.</span><span class="sxs-lookup"><span data-stu-id="1882b-268">If the address already exists in the local cache, its entry is invalidated.</span></span> <span data-ttu-id="1882b-269">En el caso del IPX de Hexadecimal, esta llamada inicia una dirección IPX GetLocalTarget (GLT), que consulta la red para la dirección remota dada.</span><span class="sxs-lookup"><span data-stu-id="1882b-269">In the case of Novell's IPX, this call initiates an IPX GetLocalTarget (GLT), which queries the network for the given remote address.</span></span>

### <a name="sio_flush-opcode-setting-v-t1"></a><span data-ttu-id="1882b-270">SIO \_ FLUSH (configuración del código de operación: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-270">SIO\_FLUSH (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1882b-271">Descarta el contenido actual de la cola de envío asociada a este socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-271">Discards current contents of the sending queue associated with this socket.</span></span> <span data-ttu-id="1882b-272">No se requieren búferes de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-272">No input and output buffers are required.</span></span> <span data-ttu-id="1882b-273">El código de error [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) se indica para los proveedores de servicios que no admiten esta IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-273">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_get_broadcast_address-opcode-setting-o-t1"></a><span data-ttu-id="1882b-274">SIO \_ GET BROADCAST ADDRESS \_ \_ (configuración del código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-274">SIO\_GET\_BROADCAST\_ADDRESS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-275">Esta IOCTL rellena el búfer de salida con una estructura [sockaddr](sockaddr-2.md) que contiene una dirección de difusión adecuada para su uso [**con sendto**](/windows/desktop/api/winsock/nf-winsock-sendto) /  [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span><span class="sxs-lookup"><span data-stu-id="1882b-275">This IOCTL fills the output buffer with a [sockaddr](sockaddr-2.md) structure containing a suitable broadcast address for use with [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto)/ [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span></span> <span data-ttu-id="1882b-276">Esta IOCTL no se admite para sockets IPv6 y devuelve el código de error [WSAENOPROTOOPT.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="1882b-276">This IOCTL is not supported for IPv6 sockets and returns the [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code.</span></span>

### <a name="sio_get_extension_function_pointer-opcode-setting-o-i-t1"></a><span data-ttu-id="1882b-277">SIO \_ GET EXTENSION FUNCTION POINTER \_ \_ \_ (configuración de código de operación: O, I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-277">SIO\_GET\_EXTENSION\_FUNCTION\_POINTER (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="1882b-278">Recupere un puntero a la función de extensión especificada admitida por el proveedor de servicios asociado.</span><span class="sxs-lookup"><span data-stu-id="1882b-278">Retrieve a pointer to the specified extension function supported by the associated service provider.</span></span> <span data-ttu-id="1882b-279">El búfer de entrada contiene un identificador único global **(GUID)** cuyo valor identifica la función de extensión en cuestión.</span><span class="sxs-lookup"><span data-stu-id="1882b-279">The input buffer contains a globally unique identifier (**GUID**) whose value identifies the extension function in question.</span></span> <span data-ttu-id="1882b-280">El puntero a la función deseada se devuelve en el búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-280">The pointer to the desired function is returned in the output buffer.</span></span> <span data-ttu-id="1882b-281">Los proveedores de proveedores de servicios establecen los identificadores de función de extensión y deben incluirse en la documentación del proveedor que describe las funcionalidades y la semántica de la función de extensión.</span><span class="sxs-lookup"><span data-stu-id="1882b-281">Extension function identifiers are established by service provider vendors and should be included in vendor documentation that describes extension function capabilities and semantics.</span></span>

<span data-ttu-id="1882b-282">Los valores GUID para las funciones de extensión compatibles con el proveedor de servicios TCP/IP de Windows se definen en el archivo de encabezado *Mswsock.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-282">The GUID values for extension functions supported by the Windows TCP/IP service provider are defined in the *Mswsock.h* header file.</span></span> <span data-ttu-id="1882b-283">El valor posible de estos GUID es el siguiente:</span><span class="sxs-lookup"><span data-stu-id="1882b-283">The possible value for these GUIDs are as follows:</span></span>

| <span data-ttu-id="1882b-284">Término</span><span class="sxs-lookup"><span data-stu-id="1882b-284">Term</span></span>                                                                                                                | <span data-ttu-id="1882b-285">Descripción</span><span class="sxs-lookup"><span data-stu-id="1882b-285">Description</span></span>                                                                               |
|-|-|
| <span data-ttu-id="1882b-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID \_ ACCEPTEX</span><span class="sxs-lookup"><span data-stu-id="1882b-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID\_ACCEPTEX</span></span><br/>                                     | <span data-ttu-id="1882b-287">Función [**de extensión AcceptEx.**](/windows/win32/api/mswsock/nf-mswsock-acceptex)</span><span class="sxs-lookup"><span data-stu-id="1882b-287">The [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) extension function.</span></span><br/>                         |
| <span data-ttu-id="1882b-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID \_ CONNECTEX</span><span class="sxs-lookup"><span data-stu-id="1882b-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID\_CONNECTEX</span></span><br/>                                  | <span data-ttu-id="1882b-289">Función [**de extensión ConnectEx.**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex)</span><span class="sxs-lookup"><span data-stu-id="1882b-289">The [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) extension function.</span></span> <br/>                      |
| <span data-ttu-id="1882b-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID \_ DISCONNECTEX</span><span class="sxs-lookup"><span data-stu-id="1882b-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID\_DISCONNECTEX</span></span><br/>                         | <span data-ttu-id="1882b-291">Función [**de extensión DisconnectEx.**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-291">The [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) extension function.</span></span> <br/>                |
| <span data-ttu-id="1882b-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID \_ GETACCEPTEXSOCKADDRS</span><span class="sxs-lookup"><span data-stu-id="1882b-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID\_GETACCEPTEXSOCKADDRS</span></span><br/> | <span data-ttu-id="1882b-293">Función [**de extensión GetAcceptExSockaddrs.**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs)</span><span class="sxs-lookup"><span data-stu-id="1882b-293">The [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) extension function.</span></span><br/> |
| <span data-ttu-id="1882b-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>ARCHIVO DE TRANSMISIÓN WSAID \_</span><span class="sxs-lookup"><span data-stu-id="1882b-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID\_TRANSMITFILE</span></span><br/>                         | <span data-ttu-id="1882b-295">Función [**de extensión TransmitFile.**](/windows/win32/api/mswsock/nf-mswsock-transmitfile)</span><span class="sxs-lookup"><span data-stu-id="1882b-295">The [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) extension function.</span></span><br/>                 |
| <span data-ttu-id="1882b-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>TRANSMITPACKETS DE WSAID \_</span><span class="sxs-lookup"><span data-stu-id="1882b-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID\_TRANSMITPACKETS</span></span><br/>                | <span data-ttu-id="1882b-297">Función [**de extensión TransmitPackets.**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets)</span><span class="sxs-lookup"><span data-stu-id="1882b-297">The [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) extension function.</span></span> <br/>          |
| <span data-ttu-id="1882b-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID \_ WSARECVMSG</span><span class="sxs-lookup"><span data-stu-id="1882b-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID\_WSARECVMSG</span></span><br/>                               | <span data-ttu-id="1882b-299">La [**LPFN_WSARECVMSG de extensión (WSARecvMsg).**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)</span><span class="sxs-lookup"><span data-stu-id="1882b-299">The [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) extension function.</span></span><br/>                     |
| <span data-ttu-id="1882b-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID \_ WSASENDMSG</span><span class="sxs-lookup"><span data-stu-id="1882b-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID\_WSASENDMSG</span></span><br/>                               | <span data-ttu-id="1882b-301">Función [**de extensión WSASendMsg.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="1882b-301">The [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) extension function.</span></span> <br/>                      |

### <a name="sio_get_group_qos-opcode-setting-o-i-t1"></a><span data-ttu-id="1882b-302">SIO \_ GET \_ GROUP \_ QOS (configuración de código de operación: O, I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-302">SIO\_GET\_GROUP\_QOS (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="1882b-303">Reservado para su uso futuro con sockets.</span><span class="sxs-lookup"><span data-stu-id="1882b-303">Reserved for future use with sockets.</span></span>

<span data-ttu-id="1882b-304">Recupere la [**estructura qos**](/windows/win32/api/winsock2/ns-winsock2-qos) asociada al grupo de sockets al que pertenece este socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-304">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket group to which this socket belongs.</span></span> <span data-ttu-id="1882b-305">El búfer de entrada es opcional.</span><span class="sxs-lookup"><span data-stu-id="1882b-305">The input buffer is optional.</span></span> <span data-ttu-id="1882b-306">Algunos protocolos (por ejemplo, RSVP) permiten usar el búfer de entrada para calificar una solicitud de calidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="1882b-306">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="1882b-307">La **estructura qos** se copiará en el búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-307">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="1882b-308">Si este socket no pertenece a un grupo de sockets adecuado, los miembros **SendingFlowspec** y **ReceivingFlowspec** de la estructura **QOS** devuelta se establecen en **NULL.**</span><span class="sxs-lookup"><span data-stu-id="1882b-308">If this socket does not belong to an appropriate socket group, the **SendingFlowspec** and **ReceivingFlowspec** members of the returned **QOS** structure are set to **NULL**.</span></span> <span data-ttu-id="1882b-309">El código de error [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) se indica para los proveedores de servicios que no admiten la calidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="1882b-309">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_get_interface_list-opcode-setting-o-t0"></a><span data-ttu-id="1882b-310">SIO \_ GET INTERFACE LIST \_ \_ (configuración de código de operación: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="1882b-310">SIO\_GET\_INTERFACE\_LIST (opcode setting: O, T==0)</span></span>

<span data-ttu-id="1882b-311">Devuelve una lista de interfaces IP configuradas y sus parámetros como una matriz de estructuras [**INTERFACE \_ INFO.**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info)</span><span class="sxs-lookup"><span data-stu-id="1882b-311">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures.</span></span>

> [!Note]  
> <span data-ttu-id="1882b-312">La compatibilidad con este comando es obligatoria para los proveedores de servicios TCP/IP compatibles con Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="1882b-312">Support of this command is mandatory for Windows Sockets 2-compliant TCP/IP service providers.</span></span>

<span data-ttu-id="1882b-313">El *parámetro lpvOutBuffer* apunta al búfer en el que se va a almacenar la información sobre las interfaces como una matriz de estructuras [**INTERFACE \_ INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) para direcciones IP de unidifusión en las interfaces.</span><span class="sxs-lookup"><span data-stu-id="1882b-313">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures for unicast IP addresses on the interfaces.</span></span> <span data-ttu-id="1882b-314">El *parámetro cbOutBuffer* especifica la longitud del búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-314">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="1882b-315">El número de interfaces devueltas (número de estructuras devueltas en el búfer al que apunta el parámetro *lpvOutBuffer)* se puede determinar en función de la longitud real del búfer de salida devuelto en el parámetro *lpcbBytesReturned.*</span><span class="sxs-lookup"><span data-stu-id="1882b-315">The number of interfaces returned (number of structures returned in the buffer pointed to by *lpvOutBuffer* parameter) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="1882b-316">Si se llama a la función [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) con **SIO \_ GET INTERFACE \_ \_ LIST** y el miembro de nivel del parámetro *s* del socket no se define como **\_ IP IP DE IPPROTO,** se devuelve **WSAEINVAL.**</span><span class="sxs-lookup"><span data-stu-id="1882b-316">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function is called with **SIO\_GET\_INTERFACE\_LIST** and the level member of the socket *s* parameter is not defined as **IPPROTO\_IP**, **WSAEINVAL** is returned.</span></span> <span data-ttu-id="1882b-317">Una llamada a la función **WSAIoctl** con **SIO \_ GET INTERFACE \_ \_ LIST** devuelve **WSAEFAULT** si el parámetro *cbOutBuffer* que especifica la longitud del búfer de salida es demasiado pequeño y recibe la lista de interfaces configuradas.</span><span class="sxs-lookup"><span data-stu-id="1882b-317">A call to the **WSAIoctl** function with **SIO\_GET\_INTERFACE\_LIST** returns **WSAEFAULT** if the *cbOutBuffer* parameter that specifies the length of the output buffer is too small ro receive the list of configured interfaces.</span></span>

<span data-ttu-id="1882b-318">**SIO \_ GET \_ INTERFACE \_ LIST** se admite en Windows Me/98 y Windows NT 4.0 con SP4 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-318">**SIO\_GET\_INTERFACE\_LIST** is supported on Windows Me/98 and Windows NT 4.0 with SP4 and later.</span></span>

### <a name="sio_get_interface_list_ex-opcode-setting-o-t0"></a><span data-ttu-id="1882b-319">SIO \_ GET INTERFACE LIST EX \_ \_ \_ (configuración del código de operación: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="1882b-319">SIO\_GET\_INTERFACE\_LIST\_EX (opcode setting: O, T==0)</span></span>

<span data-ttu-id="1882b-320">Reservado para su uso futuro con sockets.</span><span class="sxs-lookup"><span data-stu-id="1882b-320">Reserved for future use with sockets.</span></span>

<span data-ttu-id="1882b-321">Devuelve una lista de interfaces IP configuradas y sus parámetros como una matriz de [**estructuras INTERFACE \_ INFO \_ EX.**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex)</span><span class="sxs-lookup"><span data-stu-id="1882b-321">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures.</span></span>

<span data-ttu-id="1882b-322">El *parámetro lpvOutBuffer* apunta al búfer en el que se va a almacenar la información sobre las interfaces como una matriz de estructuras [**INTERFACE INFO \_ \_ EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) para direcciones IP de unidifusión en la interfaz.</span><span class="sxs-lookup"><span data-stu-id="1882b-322">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures for unicast IP addresses on the interface.</span></span> <span data-ttu-id="1882b-323">El *parámetro cbOutBuffer* especifica la longitud del búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-323">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="1882b-324">El número de interfaces devueltas (número de estructuras devueltas en *lpvOutBuffer*) se puede determinar en función de la longitud real del búfer de salida devuelto en el parámetro *lpcbBytesReturned.*</span><span class="sxs-lookup"><span data-stu-id="1882b-324">The number of interfaces returned (number of structures returned in *lpvOutBuffer*) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="1882b-325">**SIO \_ GET \_ INTERFACE \_ LIST \_ EX** no se admite actualmente en Windows.</span><span class="sxs-lookup"><span data-stu-id="1882b-325">**SIO\_GET\_INTERFACE\_LIST\_EX** is not currently supported on Windows.</span></span>

### <a name="sio_get_qos-opcode-setting-o-t1"></a><span data-ttu-id="1882b-326">SIO \_ GET \_ QOS (configuración del código de operación: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-326">SIO\_GET\_QOS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-327">Reservado para su uso futuro con sockets.</span><span class="sxs-lookup"><span data-stu-id="1882b-327">Reserved for future use with sockets.</span></span> <span data-ttu-id="1882b-328">Recupere la [**estructura qos**](/windows/win32/api/winsock2/ns-winsock2-qos) asociada al socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-328">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket.</span></span> <span data-ttu-id="1882b-329">El búfer de entrada es opcional.</span><span class="sxs-lookup"><span data-stu-id="1882b-329">The input buffer is optional.</span></span> <span data-ttu-id="1882b-330">Algunos protocolos (por ejemplo, RSVP) permiten usar el búfer de entrada para calificar una solicitud de calidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="1882b-330">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="1882b-331">La **estructura qos** se copiará en el búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="1882b-331">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="1882b-332">El búfer de salida debe tener un tamaño lo suficientemente grande como para poder contener la estructura **qos** completa.</span><span class="sxs-lookup"><span data-stu-id="1882b-332">The output buffer must be sized large enough to be able to contain the full **QOS** structure.</span></span> <span data-ttu-id="1882b-333">El código de error [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) se indica para los proveedores de servicios que no admiten la calidad del servicio.</span><span class="sxs-lookup"><span data-stu-id="1882b-333">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

<span data-ttu-id="1882b-334">Un remitente no puede llamar a **SIO \_ GET \_ QOS** hasta que el socket esté conectado.</span><span class="sxs-lookup"><span data-stu-id="1882b-334">A sender may not call **SIO\_GET\_QOS** until the socket is connected.</span></span>

<span data-ttu-id="1882b-335">Un receptor puede llamar **a SIO \_ GET \_ QOS** en cuanto se enlaza.</span><span class="sxs-lookup"><span data-stu-id="1882b-335">A receiver may call **SIO\_GET\_QOS** as soon as it is bound.</span></span>

### <a name="sio_get_tx_timestamp"></a><span data-ttu-id="1882b-336">SIO_GET_TX_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1882b-336">SIO_GET_TX_TIMESTAMP</span></span>

<span data-ttu-id="1882b-337">Una IOCTL de socket usada para obtener marcas de tiempo para paquetes transmitidos (TX).</span><span class="sxs-lookup"><span data-stu-id="1882b-337">A socket IOCTL used to get timestamps for transmitted (TX) packets.</span></span> <span data-ttu-id="1882b-338">Solo es válido para sockets de datagramas.</span><span class="sxs-lookup"><span data-stu-id="1882b-338">Valid only for datagram sockets.</span></span>

<span data-ttu-id="1882b-339">El **SIO_GET_TX_TIMESTAMP** control quita una marca de tiempo de transmisión de la cola de marca de tiempo de transmisión de un socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-339">The **SIO_GET_TX_TIMESTAMP** control code removes a transmit timestamp from a socket's transmit timestamp queue.</span></span> <span data-ttu-id="1882b-340">Habilite primero la recepción de marca de tiempo mediante [**SIO_TIMESTAMPING**](#sio_timestamping) IOCTL del socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-340">Enable timestamp reception first by using the [**SIO_TIMESTAMPING**](#sio_timestamping) socket IOCTL.</span></span> <span data-ttu-id="1882b-341">A continuación, recupere las marcas de tiempo tx por identificador llamando a la función [**WSAIoctl**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (o [**WSPIoctl)**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))con los parámetros siguientes.</span><span class="sxs-lookup"><span data-stu-id="1882b-341">Then retrieve tx timestamps by ID by calling the [**WSAIoctl**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))) function with the following parameters.</span></span>

<span data-ttu-id="1882b-342">Por **SIO_GET_TX_TIMESTAMP**, la entrada es un identificador de marca de tiempo **UINT32** y la salida es un valor de marca **de tiempo UINT64.**</span><span class="sxs-lookup"><span data-stu-id="1882b-342">For **SIO_GET_TX_TIMESTAMP**, the input is a **UINT32** timestamp ID, and the output is a **UINT64** timestamp value.</span></span> <span data-ttu-id="1882b-343">Si se ejecuta correctamente, la marca de tiempo tx está disponible y se devuelve.</span><span class="sxs-lookup"><span data-stu-id="1882b-343">On success, the tx timestamp is available, and is returned.</span></span> <span data-ttu-id="1882b-344">Si no hay marcas de tiempo de transmisión disponibles, [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) devuelve **WSAEWOULDBLOCK**.</span><span class="sxs-lookup"><span data-stu-id="1882b-344">If no transmit timestamps are available, then [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) returns **WSAEWOULDBLOCK**.</span></span>

> [!NOTE]
> <span data-ttu-id="1882b-345">Las marcas de tiempo TX no se admiten al realizar un envío de forma UDP_SEND_MSG_SIZE **.**</span><span class="sxs-lookup"><span data-stu-id="1882b-345">TX timestamps are not supported when doing a coalesced send via **UDP_SEND_MSG_SIZE**.</span></span>

<span data-ttu-id="1882b-346">Consulte también [Marca de tiempo de Winsock.](/windows/win32/winsock/winsock-timestamping)</span><span class="sxs-lookup"><span data-stu-id="1882b-346">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_ideal_send_backlog_change-opcode-setting-v-t0"></a><span data-ttu-id="1882b-347">SIO \_ IDEAL \_ SEND \_ BACKLOG CHANGE \_ (configuración del código de operación: V, T==0)</span><span class="sxs-lookup"><span data-stu-id="1882b-347">SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE (opcode setting: V, T==0)</span></span>

<span data-ttu-id="1882b-348">Notifica a una aplicación cuándo cambia el valor del trabajo pendiente de envío (ISB) ideal para la conexión subyacente.</span><span class="sxs-lookup"><span data-stu-id="1882b-348">Notifies an application when the ideal send backlog (ISB) value changes for the underlying connection.</span></span>

<span data-ttu-id="1882b-349">Al enviar datos a través de una conexión TCP mediante sockets de Windows, es importante mantener una cantidad suficiente de datos pendientes (enviados pero aún no reconocidos) en TCP para lograr el máximo rendimiento.</span><span class="sxs-lookup"><span data-stu-id="1882b-349">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="1882b-350">El valor ideal para la cantidad de datos pendientes para lograr el mejor rendimiento para la conexión TCP se denomina tamaño de trabajo pendiente de envío (ISB) ideal.</span><span class="sxs-lookup"><span data-stu-id="1882b-350">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="1882b-351">El valor de ISB es una función del producto de retraso de ancho de banda de la conexión TCP y la ventana de recepción anunciada del receptor (y en parte la cantidad de congestión en la red).</span><span class="sxs-lookup"><span data-stu-id="1882b-351">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="1882b-352">El valor de ISB por conexión está disponible en la implementación del protocolo TCP en Windows Server 2008, Windows Vista con SP1 y versiones posteriores del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="1882b-352">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span> <span data-ttu-id="1882b-353">Una aplicación puede usar **SIO \_ IDEAL SEND \_ \_ BACKLOG \_ CHANGE** IOCTL para obtener una notificación cuando el valor de ISB cambia dinámicamente para una conexión.</span><span class="sxs-lookup"><span data-stu-id="1882b-353">The **SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE** IOCTL can be used by an application to get notification when the ISB value changes dynamically for a connection.</span></span>

<span data-ttu-id="1882b-354">Para obtener información más detallada, consulte la referencia [**de SIO \_ IDEAL SEND \_ \_ BACKLOG \_ CHANGE.**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-354">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) reference.</span></span>

<span data-ttu-id="1882b-355">[**SIO \_ IDEAL \_ SEND \_ BACKLOG \_ CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) se admite en Windows Server 2008, Windows Vista con SP1 y versiones posteriores del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="1882b-355">[**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_ideal_send_backlog_query-opcode-setting-o-t0"></a><span data-ttu-id="1882b-356">SIO \_ IDEAL \_ SEND \_ BACKLOG QUERY \_ (configuración del código de operación: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="1882b-356">SIO\_IDEAL\_SEND\_BACKLOG\_QUERY (opcode setting: O, T==0)</span></span>

<span data-ttu-id="1882b-357">Recupera el valor de trabajo pendiente de envío (ISB) ideal para la conexión subyacente.</span><span class="sxs-lookup"><span data-stu-id="1882b-357">Retrieves the ideal send backlog (ISB) value for the underlying connection.</span></span>

<span data-ttu-id="1882b-358">Al enviar datos a través de una conexión TCP mediante sockets de Windows, es importante mantener una cantidad suficiente de datos pendientes (enviados pero aún no reconocidos) en TCP para lograr el máximo rendimiento.</span><span class="sxs-lookup"><span data-stu-id="1882b-358">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="1882b-359">El valor ideal para la cantidad de datos pendientes para lograr el mejor rendimiento para la conexión TCP se denomina tamaño de trabajo pendiente de envío (ISB) ideal.</span><span class="sxs-lookup"><span data-stu-id="1882b-359">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="1882b-360">El valor de ISB es una función del producto de retraso de ancho de banda de la conexión TCP y la ventana de recepción anunciada del receptor (y en parte la cantidad de congestión en la red).</span><span class="sxs-lookup"><span data-stu-id="1882b-360">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="1882b-361">El valor de ISB por conexión está disponible en la implementación del protocolo TCP en Windows Server 2008 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-361">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008 and later.</span></span> <span data-ttu-id="1882b-362">**Sio \_ IDEAL SEND \_ \_ BACKLOG \_ QUERY** IOCTL puede ser utilizado por una aplicación para consultar el valor de ISB para una conexión.</span><span class="sxs-lookup"><span data-stu-id="1882b-362">The **SIO\_IDEAL\_SEND\_BACKLOG\_QUERY** IOCTL can be used by an application to query the ISB value for a connection.</span></span>

<span data-ttu-id="1882b-363">Para obtener información más detallada, consulte la referencia [**de SIO \_ IDEAL SEND \_ \_ BACKLOG \_ QUERY.**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-363">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) reference.</span></span>

<span data-ttu-id="1882b-364">[**SIO \_ IDEAL \_ SEND \_ BACKLOG \_ QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) se admite en Windows Server 2008, Windows Vista con SP1 y versiones posteriores del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="1882b-364">[**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_keepalive_vals-opcode-setting-i-t3"></a><span data-ttu-id="1882b-365">SIO \_ KEEPALIVE \_ VALS (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-365">SIO\_KEEPALIVE\_VALS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-366">Habilita o deshabilita la configuración por conexión de la opción **keep-alive** de TCP, que especifica el tiempo de espera y el intervalo de mantenimiento de TCP.</span><span class="sxs-lookup"><span data-stu-id="1882b-366">Enables or disables the per-connection setting of the TCP **keep-alive** option which specifies the TCP keep-alive timeout and interval.</span></span> <span data-ttu-id="1882b-367">Para obtener más información sobre la opción keep-alive, vea la sección 4.2.3.6 sobre los requisitos de los hosts de *Internet:* capas de comunicación especificadas en RFC 1122 disponible en el sitio web [de IETF](https://www.ietf.org/rfc/rfc1122.txt).</span><span class="sxs-lookup"><span data-stu-id="1882b-367">For more information on the keep-alive option, see section 4.2.3.6 on the *Requirements for Internet Hosts—Communication Layers* specified in RFC 1122 available at the [IETF website](https://www.ietf.org/rfc/rfc1122.txt).</span></span> <span data-ttu-id="1882b-368">(Este recurso solo puede estar disponible en inglés).</span><span class="sxs-lookup"><span data-stu-id="1882b-368">(This resource may only be available in English.)</span></span>

<span data-ttu-id="1882b-369">**SIO \_ KEEPALIVE \_ VALS** se puede usar para habilitar o deshabilitar los sondeos keep-alive y establecer el tiempo de espera y el intervalo de mantenimiento activo.</span><span class="sxs-lookup"><span data-stu-id="1882b-369">**SIO\_KEEPALIVE\_VALS** can be used to enable or disable keep-alive probes and set the keep-alive timeout and interval.</span></span> <span data-ttu-id="1882b-370">El tiempo de espera de conexión continua especifica el tiempo de espera, en milisegundos, sin actividad hasta que se envía el primer paquete keep-alive.</span><span class="sxs-lookup"><span data-stu-id="1882b-370">The keep-alive timeout specifies the timeout, in milliseconds, with no activity until the first keep-alive packet is sent.</span></span> <span data-ttu-id="1882b-371">El intervalo de mantenimiento activo especifica el intervalo, en milisegundos, entre el momento en que se envían paquetes de mantenimiento activo sucesivos si no se recibe ninguna confirmación.</span><span class="sxs-lookup"><span data-stu-id="1882b-371">The keep-alive interval specifies the interval, in milliseconds, between when successive keep-alive packets are sent if no acknowledgement is received.</span></span>

<span data-ttu-id="1882b-372">La [**opción \_ SO KEEPALIVE,**](so-keepalive.md) que es una de las opciones de socket de SOCKET DE [SOL, \_](sol-socket-socket-options.md)también se puede usar para habilitar o deshabilitar la conexión continua TCP en una conexión, así como para consultar el estado actual de esta opción.</span><span class="sxs-lookup"><span data-stu-id="1882b-372">The [**SO\_KEEPALIVE**](so-keepalive.md) option, which is one of the [SOL\_SOCKET Socket Options](sol-socket-socket-options.md), can also be used to enable or disable the TCP keep-alive on a connection, as well as query the current state of this option.</span></span> <span data-ttu-id="1882b-373">Para consultar si tcp keep-alive está habilitado en un socket, se puede llamar a la función [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) con la **opción SO \_ KEEPALIVE.**</span><span class="sxs-lookup"><span data-stu-id="1882b-373">To query whether TCP keep-alive is enabled on a socket, the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) function can be called with the **SO\_KEEPALIVE** option.</span></span> <span data-ttu-id="1882b-374">Para habilitar o deshabilitar tcp keep-alive, se puede llamar a la función [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) con la [**opción SO \_ KEEPALIVE.**](so-keepalive.md)</span><span class="sxs-lookup"><span data-stu-id="1882b-374">To enable or disable TCP keep-alive, the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function can be called with the [**SO\_KEEPALIVE**](so-keepalive.md) option.</span></span> <span data-ttu-id="1882b-375">Si tcp keep-alive está habilitado con **SO \_ KEEPALIVE**, la configuración de TCP predeterminada se usa para el tiempo de espera y el intervalo de mantenimiento activo a menos que estos valores se hayan cambiado mediante **SIO \_ KEEPALIVE \_ VALS**.</span><span class="sxs-lookup"><span data-stu-id="1882b-375">If TCP keep-alive is enabled with **SO\_KEEPALIVE**, then the default TCP settings are used for keep-alive timeout and interval unless these values have been changed using **SIO\_KEEPALIVE\_VALS**.</span></span>

<span data-ttu-id="1882b-376">Para obtener información más detallada, consulte la referencia [**de SIO \_ KEEPALIVE \_ VALS.**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-376">For more detailed information, see the [**SIO\_KEEPALIVE\_VALS**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-377">**SIO \_ KEEPALIVE \_ VALS es** compatible con Windows 2000 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-377">**SIO\_KEEPALIVE\_VALS** is supported on Windows 2000 and later.</span></span>

### <a name="sio_loopback_fast_path-opcode-setting-i-t3"></a><span data-ttu-id="1882b-378">SIO \_ LOOPBACK \_ FAST PATH \_ (configuración de código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-378">SIO\_LOOPBACK\_FAST\_PATH (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-379">Configura un socket TCP para una latencia más baja y operaciones más rápidas en la interfaz de bucle atrás.</span><span class="sxs-lookup"><span data-stu-id="1882b-379">Configures a TCP socket for lower latency and faster operations on the loopback interface.</span></span> <span data-ttu-id="1882b-380">Esta IOCTL solicita que la pila TCP/IP use una ruta de acceso rápida especial para las operaciones de bucleback en este socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-380">This IOCTL requests that the TCP/IP stack uses a special fast path for loopback operations on this socket.</span></span> <span data-ttu-id="1882b-381">[**SIO \_ LOOPBACK \_ FAST \_ PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL solo se puede usar con sockets TCP.</span><span class="sxs-lookup"><span data-stu-id="1882b-381">The [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL can be used only with TCP sockets.</span></span> <span data-ttu-id="1882b-382">Esta IOCTL debe usarse en ambos lados de la sesión de bucle atrás.</span><span class="sxs-lookup"><span data-stu-id="1882b-382">This IOCTL must be used on both sides of the loopback session.</span></span> <span data-ttu-id="1882b-383">La ruta de acceso rápida de bucles tcp se admite mediante la interfaz de bucle atrás IPv4 o IPv6.</span><span class="sxs-lookup"><span data-stu-id="1882b-383">The TCP loopback fast path is supported using either the IPv4 or IPv6 loopback interface.</span></span> <span data-ttu-id="1882b-384">De forma predeterminada, **SIO \_ LOOPBACK \_ FAST \_ PATH** está deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="1882b-384">By default, **SIO\_LOOPBACK\_FAST\_PATH** is disabled.</span></span>

<span data-ttu-id="1882b-385">Para obtener información más detallada, consulte la referencia [**DE SIO \_ LOOPBACK \_ FAST \_ PATH.**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-385">For more detailed information, see the [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-386">**SIO \_ LOOPBACK \_ FAST \_ PATH se** admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-386">**SIO\_LOOPBACK\_FAST\_PATH** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_multipoint_loopback-opcode-setting-v-t1"></a><span data-ttu-id="1882b-387">SIO \_ MULTIPOINT \_ LOOPBACK (configuración del código de operación: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-387">SIO\_MULTIPOINT\_LOOPBACK (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1882b-388">Controla si los datos enviados por una aplicación en el equipo local (no necesariamente por el mismo socket) en una sesión de multidifusión serán recibidos por un socket unido al grupo de destino de multidifusión en la interfaz de bucle recuperación.</span><span class="sxs-lookup"><span data-stu-id="1882b-388">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="1882b-389">Un valor **true hace que** los datos de multidifusión enviados por una aplicación en el equipo local se entreguen a un socket de escucha en la interfaz de bucles bucles.</span><span class="sxs-lookup"><span data-stu-id="1882b-389">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="1882b-390">Un valor **FALSE impide que los** datos de multidifusión enviados por una aplicación en el equipo local se entreguen a un socket de escucha en la interfaz de bucles bucles.</span><span class="sxs-lookup"><span data-stu-id="1882b-390">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="1882b-391">De forma predeterminada, **SIO \_ MULTIPOINT \_ LOOPBACK** está habilitado.</span><span class="sxs-lookup"><span data-stu-id="1882b-391">By default, **SIO\_MULTIPOINT\_LOOPBACK** is enabled.</span></span>

### <a name="sio_multicast_scope-opcode-setting-i-t1"></a><span data-ttu-id="1882b-392">ÁMBITO DE MULTIDIFUSIÓN DE SIO \_ \_ (configuración del código de operación: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-392">SIO\_MULTICAST\_SCOPE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1882b-393">Especifica el ámbito en el que se producirán las transmisiones de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="1882b-393">Specifies the scope over which multicast transmissions will occur.</span></span> <span data-ttu-id="1882b-394">El ámbito se define como el número de segmentos de red enrutados que se va a cubrir.</span><span class="sxs-lookup"><span data-stu-id="1882b-394">Scope is defined as the number of routed network segments to be covered.</span></span> <span data-ttu-id="1882b-395">Un ámbito de cero indicaría que la transmisión de multidifusión no se colocaría en la conexión, pero se podría propagar entre sockets dentro del host local.</span><span class="sxs-lookup"><span data-stu-id="1882b-395">A scope of zero would indicate that the multicast transmission would not be placed on the wire but could be disseminated across sockets within the local host.</span></span> <span data-ttu-id="1882b-396">Un valor de ámbito de uno (el valor predeterminado) indica que la transmisión se colocará en la conexión, pero no cruzará ningún enrutador.</span><span class="sxs-lookup"><span data-stu-id="1882b-396">A scope value of one (the default) indicates that the transmission will be placed on the wire, but will not cross any routers.</span></span> <span data-ttu-id="1882b-397">Los valores de ámbito más altos determinan el número de enrutadores que se pueden cruzar.</span><span class="sxs-lookup"><span data-stu-id="1882b-397">Higher scope values determine the number of routers that can be crossed.</span></span> <span data-ttu-id="1882b-398">Tenga en cuenta que esto corresponde al parámetro de período de vida (TTL) en la multidifusión IP.</span><span class="sxs-lookup"><span data-stu-id="1882b-398">Note that this corresponds to the time-to-live (TTL) parameter in IP multicasting.</span></span> <span data-ttu-id="1882b-399">De forma predeterminada, el ámbito es 1.</span><span class="sxs-lookup"><span data-stu-id="1882b-399">By default, scope is 1.</span></span>

### <a name="sio_query_rss_processor_info-opcode-setting-o-t1"></a><span data-ttu-id="1882b-400">SIO \_ QUERY \_ RSS \_ PROCESSOR \_ INFO (opcode setting: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-400">SIO\_QUERY\_RSS\_PROCESSOR\_INFO (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1882b-401">Consulta la asociación entre un socket y un núcleo de procesador RSS y un nodo NUMA.</span><span class="sxs-lookup"><span data-stu-id="1882b-401">Queries the association between a socket and an RSS processor core and NUMA node.</span></span>

<span data-ttu-id="1882b-402">[**SIO \_ QUERY RSS PROCESSOR \_ \_ \_ INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL devuelve una estructura [**SOCKET PROCESSOR \_ \_ AFFINITY**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) que contiene el [**NÚMERO DE \_**](/windows/win32/api/winnt/ns-winnt-processor_number) PROCESADOR y el identificador de nodo NUMA.</span><span class="sxs-lookup"><span data-stu-id="1882b-402">The [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL returns a [**SOCKET\_PROCESSOR\_AFFINITY**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) structure that contains the [**PROCESSOR\_NUMBER**](/windows/win32/api/winnt/ns-winnt-processor_number) and the NUMA node ID.</span></span> <span data-ttu-id="1882b-403">La estructura **PROCESSOR \_ NUMBER devuelta** contiene un número de grupo y un número de procesador relativo dentro del grupo.</span><span class="sxs-lookup"><span data-stu-id="1882b-403">The returned **PROCESSOR\_NUMBER** structure contains a group number and relative processor number within the group.</span></span>

<span data-ttu-id="1882b-404">Para obtener información más detallada, consulte la referencia [**DE INFORMACIÓN DEL PROCESADOR RSS DE CONSULTA \_ \_ \_ \_ DE SIO.**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-404">For more detailed information, see the [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-405">**SIO \_ QUERY \_ RSS \_ PROCESSOR \_ INFO** se admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-405">**SIO\_QUERY\_RSS\_PROCESSOR\_INFO** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_rss_scalability_info-opcode-setting-o-t3"></a><span data-ttu-id="1882b-406">SIO \_ QUERY \_ RSS \_ SCALABILITY \_ INFO (opcode setting: O, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-406">SIO\_QUERY\_RSS\_SCALABILITY\_INFO (opcode setting: O, T==3)</span></span>

<span data-ttu-id="1882b-407">Las consultas descargan interfaces para la funcionalidad de escalado del lado de recepción (RSS).</span><span class="sxs-lookup"><span data-stu-id="1882b-407">Queries offload interfaces for receive-side scaling (RSS) capability.</span></span> <span data-ttu-id="1882b-408">La estructura de argumentos devuelta para **SIO \_ QUERY RSS \_ \_ SCALABILITY \_ INFO** se especifica en la estructura **RSS \_ SCALABILITY \_ INFO** definida en el archivo de encabezado *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-408">The argument structure returned for **SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is specified in the **RSS\_SCALABILITY\_INFO** structure defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="1882b-409">Esta estructura se define de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="1882b-409">This structure is defined as follows:</span></span>

```cpp
// Scalability info for the transport
typedef struct _RSS_SCALABILITY_INFO {
   BOOLEAN RssEnabled;
} RSS_SCALABILITY_INFO, *PRSS_SCALABILITY_INFO;
```

<span data-ttu-id="1882b-410">El valor devuelto en el **miembro RssEnabled** indica si RSS está habilitado en al menos una interfaz.</span><span class="sxs-lookup"><span data-stu-id="1882b-410">The value returned in the **RssEnabled** member indicates if RSS is enabled on at least one interface.</span></span>

<span data-ttu-id="1882b-411">Si el búfer de salida no es lo suficientemente grande para la estructura **RSS \_ SCALABILITY \_ INFO** *(cbOutBuffer* es menor que el tamaño de una INFORMACIÓN DE ESCALABILIDAD **\_ \_ RSS)** o el parámetro *lpvOutBuffer* es un puntero **NULL,** se devuelve **SOCKET \_ ERROR** como resultado de esta IOCTL y [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) devuelve [WSAEINVAL.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="1882b-411">If the output buffer is not large enough for the **RSS\_SCALABILITY\_INFO** structure (the *cbOutBuffer* is less than the size of a **RSS\_SCALABILITY\_INFO**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1882b-412">En las redes de alta velocidad en las que varias CPU residen dentro de un único sistema, la capacidad de la pila de protocolos de red para escalar bien en un sistema de varias CPU se impide porque la arquitectura de NDIS 5.1 y versiones anteriores limita el procesamiento del protocolo de recepción a una sola CPU.</span><span class="sxs-lookup"><span data-stu-id="1882b-412">In high-speed networking where multiple CPUs reside within a single system, the ability of the networking protocol stack to scale well on a multi-CPU system is inhibited because the architecture of NDIS 5.1 and earlier versions limits receive protocol processing to a single CPU.</span></span> <span data-ttu-id="1882b-413">El escalado en el lado de recepción (RSS) resuelve este problema al permitir que la carga de red de un adaptador de red se equilibre entre varias CPU.</span><span class="sxs-lookup"><span data-stu-id="1882b-413">Receive-side scaling (RSS) resolves this issue by allowing the network load from a network adapter to be balanced across multiple CPUs.</span></span>

<span data-ttu-id="1882b-414">**SIO \_ QUERY \_ RSS \_ SCALABILITY \_ INFO** se admite en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-414">**SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="1882b-415">SIO \_ QUERY TRANSPORT SETTING \_ \_ (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-415">SIO\_QUERY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-416">Consulta la configuración de transporte en un socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-416">Queries the transport settings on a socket.</span></span> <span data-ttu-id="1882b-417">La configuración de transporte que se consulta se basa en el identificador [**\_ de CONFIGURACIÓN DE \_ TRANSPORTE**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) pasado en el *parámetro lpvInBuffer.*</span><span class="sxs-lookup"><span data-stu-id="1882b-417">The transport setting being queried is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="1882b-418">La única configuración de transporte que se define actualmente es para la funcionalidad FUNCIONALIDAD DE NOTIFICACIÓN **\_ \_ \_ EN** TIEMPO REAL en un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="1882b-418">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="1882b-419">Si el identificador de CONFIGURACIÓN DE TRANSPORTE tiene el miembro **GUID** establecido en FUNCIONALIDAD DE NOTIFICACIÓN EN TIEMPO REAL , se trata de una solicitud para consultar la configuración de notificación en tiempo real del socket TCP usado con [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) para recibir notificaciones de red en segundo plano en una aplicación de la Tienda Windows. **\_ \_ \_** [**\_ \_**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id)</span><span class="sxs-lookup"><span data-stu-id="1882b-419">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to query the real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span> <span data-ttu-id="1882b-420">Si la [**llamada a WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) o [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) se realiza correctamente, esta IOCTL devuelve una estructura DE SALIDA [**DE \_ \_ CONFIGURACIÓN \_ \_**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) DE NOTIFICACIÓN EN TIEMPO REAL con el estado actual.</span><span class="sxs-lookup"><span data-stu-id="1882b-420">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) call is successful, this IOCTL returns a [**REAL\_TIME\_NOTIFICATION\_SETTING\_OUTPUT**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) structure with the current status.</span></span>

<span data-ttu-id="1882b-421">Para obtener información más detallada, vea la referencia [**SIO \_ QUERY TRANSPORT \_ \_ SETTING.**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-421">For more detailed information, see the [**SIO\_QUERY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-422">**SIO \_ QUERY \_ TRANSPORT \_ SETTING** se admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-422">**SIO\_QUERY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_ale_endpoint_handle-opcode-setting-o-t3"></a><span data-ttu-id="1882b-423">SIO \_ QUERY \_ WFP \_ ALE ENDPOINT HANDLE \_ \_ (configuración del código de operación: O, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-423">SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE (opcode setting: O, T==3)</span></span>

<span data-ttu-id="1882b-424">Consulta el identificador de punto de conexión de aplicación de cumplimiento de capa de aplicación (ALE).</span><span class="sxs-lookup"><span data-stu-id="1882b-424">Queries the Application Layer Enforcement (ALE) endpoint handle.</span></span>

<span data-ttu-id="1882b-425">La Plataforma de filtrado de Windows (WFP) admite la inspección y modificación del tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="1882b-425">The Windows Filtering Platform (WFP) supports network traffic inspection and modification.</span></span> <span data-ttu-id="1882b-426">En Windows Vista, WFP se centra en escenarios donde el equipo host es el punto de conexión de comunicación.</span><span class="sxs-lookup"><span data-stu-id="1882b-426">On Windows Vista, WFP focuses on scenarios where the host machine is the communication endpoint.</span></span> <span data-ttu-id="1882b-427">En Windows Server 2008, sin embargo, hay implementaciones de firewall perimetral que le gustaría aprovechar la plataforma WFP para inspeccionar y proxy el tráfico de paso a través.</span><span class="sxs-lookup"><span data-stu-id="1882b-427">On Windows Server 2008 , however, there are edge firewall implementations which would like to leverage the WFP platform to inspect and proxy pass-through traffic.</span></span> <span data-ttu-id="1882b-428">El servidor de seguridad y aceleración de Internet (ISA) es un ejemplo de este tipo de dispositivo perimetral.</span><span class="sxs-lookup"><span data-stu-id="1882b-428">The Internet Security and Acceleration (ISA) server is an example of such an edge device.</span></span>

<span data-ttu-id="1882b-429">Hay algunos escenarios de firewall que pueden requerir la capacidad de insertar un paquete entrante en la ruta de acceso de envío asociada a un punto de conexión existente.</span><span class="sxs-lookup"><span data-stu-id="1882b-429">There are some firewall scenarios that may require the ability to inject an inbound packet into the send path associated with an existing endpoint.</span></span> <span data-ttu-id="1882b-430">Debe haber un mecanismo para detectar el identificador del punto de conexión de la capa de transporte asociado al punto de conexión de destino.</span><span class="sxs-lookup"><span data-stu-id="1882b-430">There needs to be a mechanism to discover the transport layer endpoint handle associated with the destination endpoint.</span></span> <span data-ttu-id="1882b-431">La aplicación que creó el punto de conexión posee estos puntos de conexión de la capa de transporte.</span><span class="sxs-lookup"><span data-stu-id="1882b-431">The application that created the endpoint owns these transport layer endpoints.</span></span> <span data-ttu-id="1882b-432">Esta IOCTL se usa para proporcionar el identificador de socket para la asignación del identificador del punto de conexión de la capa de transporte.</span><span class="sxs-lookup"><span data-stu-id="1882b-432">This IOCTL is used to provide socket handle to transport layer endpoint handle mapping.</span></span>

<span data-ttu-id="1882b-433">Si el búfer de salida no es lo suficientemente grande para el identificador del punto de conexión *(cbOutBuffer* es menor que el tamaño de **un UINT64**) o el parámetro *lpvOutBuffer* es un puntero **NULL,** se devuelve **SOCKET \_ ERROR** como resultado de esta IOCTL y [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) devuelve [WSAEINVAL.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="1882b-433">If the output buffer is not large enough for the endpoint handle (the *cbOutBuffer* is less than the size of a **UINT64**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1882b-434">**SIO \_ QUERY \_ WFP \_ ALE \_ ENDPOINT \_ HANDLE** se admite en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-434">**SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_context-opcode-setting-i-t3"></a><span data-ttu-id="1882b-435">SIO \_ QUERY \_ WFP \_ CONNECTION \_ REDIRECT \_ CONTEXT (opcode setting: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-435">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-436">Consulta el contexto de redireccionamiento para un registro de redireccionamiento utilizado por un servicio de redirección de la Plataforma de filtrado de Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="1882b-436">Queries the redirect context for a redirect record used by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="1882b-437">[**SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ \_ CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL se usa para proporcionar el seguimiento de conexiones con proxy en las conexiones de socket redirigido.</span><span class="sxs-lookup"><span data-stu-id="1882b-437">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="1882b-438">Esta característica wfp facilita el seguimiento de los registros de redireccionamiento desde el redireccionamiento inicial de una conexión a la conexión final al destino.</span><span class="sxs-lookup"><span data-stu-id="1882b-438">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="1882b-439">Para obtener información más detallada, vea la referencia DE CONTEXTO DE REDIRECCIÓN [**\_ DE \_ CONEXIONES WFP DE CONSULTA \_ \_ \_ DE SIO.**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-439">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-440">**SIO \_ QUERY \_ WFP \_ CONNECTION REDIRECT \_ \_ CONTEXT** se admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-440">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="1882b-441">SIO \_ QUERY \_ WFP \_ CONNECTION \_ REDIRECT \_ RECORDS (opcode setting: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-441">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-442">Consulta el registro de redireccionamiento de la conexión TCP/IP aceptada para que la use un servicio de redirección de la Plataforma de filtrado de Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="1882b-442">Queries the redirect record for the accepted TCP/IP connection for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="1882b-443">[**SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL se usa para proporcionar el seguimiento de conexiones con proxy en las conexiones de socket redirigido.</span><span class="sxs-lookup"><span data-stu-id="1882b-443">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="1882b-444">Esta característica wfp facilita el seguimiento de los registros de redirección desde el redireccionamiento inicial de una conexión a la conexión final al destino.</span><span class="sxs-lookup"><span data-stu-id="1882b-444">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="1882b-445">Para obtener información más detallada, vea la referencia DE REGISTROS DE REDIRECCIÓN [**\_ DE \_ CONEXIONES WFP \_ \_ DE \_ CONSULTA DE SIO.**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-445">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-446">**SIO \_ QUERY \_ WFP \_ CONNECTION REDIRECT \_ \_ RECORDS** se admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-446">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_rcvall-opcode-setting-i-t3"></a><span data-ttu-id="1882b-447">SIO \_ RCVALL (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-447">SIO\_RCVALL (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-448">Permite que un socket reciba todos los paquetes IPv4 o IPv6 que pasan una interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="1882b-448">Enables a socket to receive all IPv4 or IPv6 packets passing throuigh a network interface.</span></span> <span data-ttu-id="1882b-449">El identificador de socket pasado a [**la función WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) debe ser uno de los siguientes:</span><span class="sxs-lookup"><span data-stu-id="1882b-449">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be one of the following:</span></span>

-   <span data-ttu-id="1882b-450">Socket IPv4 creado con la familia de direcciones establecida en AF INET, el tipo de socket establecido en SOCK RAW y el protocolo establecido en \_ \_ IP IPPROTO. \_</span><span class="sxs-lookup"><span data-stu-id="1882b-450">An IPv4 socket that was created with the address family set to AF\_INET, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IP.</span></span>
-   <span data-ttu-id="1882b-451">Un socket IPv6 que se creó con la familia de direcciones establecida en AF INET6, el tipo de socket establecido en SOCK RAW y el protocolo establecido en \_ \_ IPPROTO \_ IPV6.</span><span class="sxs-lookup"><span data-stu-id="1882b-451">An IPv6 socket that was created with the address family set to AF\_INET6, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IPV6.</span></span>

<span data-ttu-id="1882b-452">El socket también debe enlazarse a una interfaz IPv4 o IPv6 local explícita, lo que significa que no se puede enlazar a **INADDR \_ ANY** ni **a in6addr. \_**</span><span class="sxs-lookup"><span data-stu-id="1882b-452">The socket also must be bound to an explicit local IPv4 or IPv6 interface, which means that you cannot bind to **INADDR\_ANY** or **in6addr\_any**.</span></span>

<span data-ttu-id="1882b-453">En Windows Server 2008 y versiones anteriores, la configuración DE IOCTL DE [**SIO \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) no capturaba los paquetes locales enviados desde una interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="1882b-453">On Windows Server 2008 and earlier, the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL setting would not capture local packets sent out of a network interface.</span></span> <span data-ttu-id="1882b-454">Esto incluía los paquetes recibidos en otra interfaz y reenviaba la interfaz de red especificada para LA IOCTL DE **SIO \_ RCVALL.**</span><span class="sxs-lookup"><span data-stu-id="1882b-454">This included packets received on another interface and forwarded out the network interface specified for the **SIO\_RCVALL** IOCTL.</span></span>

<span data-ttu-id="1882b-455">En Windows 7 y Windows Server 2008 R2, esto se cambió para que también se capturaron los paquetes locales enviados fuera de una interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="1882b-455">On Windows 7 and Windows Server 2008 R2 , this was changed so that local packets sent out of a network interface are also captured.</span></span> <span data-ttu-id="1882b-456">Esto incluye los paquetes recibidos en otra interfaz y, a continuación, reenviado la interfaz de red enlazada al socket [**con SIO \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-456">This includes packets received on another interface and then forwarded out the network interface bound to the socket with [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="1882b-457">Establecer esta IOCTL requiere privilegios de administrador en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="1882b-457">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="1882b-458">Esta característica se conoce a veces como modo promiscuo.</span><span class="sxs-lookup"><span data-stu-id="1882b-458">This feature is sometimes referred to as promiscuous mode.</span></span>

<span data-ttu-id="1882b-459">Los valores posibles para la opción **SIO \_ RCVALL** IOCTL se especifican en la enumeración **RCVALL \_ VALUE** definida en el archivo de encabezado *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-459">The possible values for the **SIO\_RCVALL** IOCTL option are specified in the **RCVALL\_VALUE** enumeration defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="1882b-460">Los valores posibles para SIO \_ RCVALL son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="1882b-460">The possible values for SIO\_RCVALL are as follows:</span></span>

| <span data-ttu-id="1882b-461">Término</span><span class="sxs-lookup"><span data-stu-id="1882b-461">Term</span></span>                                                                                                                 | <span data-ttu-id="1882b-462">Descripción</span><span class="sxs-lookup"><span data-stu-id="1882b-462">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-|-|
| <span data-ttu-id="1882b-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL \_ OFF</span><span class="sxs-lookup"><span data-stu-id="1882b-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL\_OFF</span></span><br/>                                     | <span data-ttu-id="1882b-464">Deshabilite esta opción para que un socket no reciba todos los paquetes IPv4 o IPv6 de la red.</span><span class="sxs-lookup"><span data-stu-id="1882b-464">Disable this option so a socket does not receive all IPv4 or IPv6 packets on the network.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="1882b-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL \_ ON</span><span class="sxs-lookup"><span data-stu-id="1882b-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL\_ON</span></span><br/>                                        | <span data-ttu-id="1882b-466">Habilite esta opción para que un socket reciba todos los paquetes IPv4 o IPv6 de la red.</span><span class="sxs-lookup"><span data-stu-id="1882b-466">Enable this option so a socket receives all IPv4 or IPv6 packets on the network.</span></span> <span data-ttu-id="1882b-467">Esta opción habilita el modo promiscuo en la tarjeta de interfaz de red (NIC), si la NIC admite el modo promiscuo.</span><span class="sxs-lookup"><span data-stu-id="1882b-467">This option enables promiscuous mode on the network interface card (NIC), if the NIC supports promiscuous mode.</span></span> <span data-ttu-id="1882b-468">En un segmento LAN con un centro de red, una NIC que admita el modo promiscuo capturará todo el tráfico IPv4 o IPv6 en la LAN, incluido el tráfico entre otros equipos en el mismo segmento DE LAN.</span><span class="sxs-lookup"><span data-stu-id="1882b-468">On a LAN segment with a network hub, a NIC that supports promiscuous mode will capture all IPv4 or IPv6 traffic on the LAN, including traffic between other computers on the same LAN segment.</span></span> <span data-ttu-id="1882b-469">Todos los paquetes capturados (IPv4 o IPv6, según el socket) se entregarán al socket sin formato.</span><span class="sxs-lookup"><span data-stu-id="1882b-469">All of the captured packets (IPv4 or IPv6, depending on the socket) will be delivered to the raw socket.</span></span> <br/> <span data-ttu-id="1882b-470">Esta opción no capturará otros paquetes (paquetes ARP, IPX y NetBEUI, por ejemplo) en la interfaz.</span><span class="sxs-lookup"><span data-stu-id="1882b-470">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) on the interface.</span></span><br/> <span data-ttu-id="1882b-471">Netmon usa el mismo modo para la interfaz de red, pero no usa esta opción para capturar el tráfico.</span><span class="sxs-lookup"><span data-stu-id="1882b-471">Netmon uses the same mode for the network interface, but does not use this option to capture traffic.</span></span><br/> |
| <span data-ttu-id="1882b-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL \_ SOCKETLEVELONLY</span><span class="sxs-lookup"><span data-stu-id="1882b-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL\_SOCKETLEVELONLY</span></span><br/> | <span data-ttu-id="1882b-473">Esta característica no está implementada actualmente, por lo que establecer esta opción no tiene ningún efecto.</span><span class="sxs-lookup"><span data-stu-id="1882b-473">This feature is not currently implemented, so setting this option does not have any affect.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="1882b-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL \_ IPLEVEL</span><span class="sxs-lookup"><span data-stu-id="1882b-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL\_IPLEVEL</span></span><br/>                         | <span data-ttu-id="1882b-475">Habilite esta opción para que un socket IPv4 o IPv6 reciba todos los paquetes en el nivel de IP de la red.</span><span class="sxs-lookup"><span data-stu-id="1882b-475">Enable this option so an IPv4 or IPv6 socket receives all packets at the IP level on the network.</span></span> <span data-ttu-id="1882b-476">Esta opción no habilita el modo promiscuo en la tarjeta de interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="1882b-476">This option does not enable promiscuous mode on the network interface card.</span></span> <span data-ttu-id="1882b-477">Esta opción solo afecta al procesamiento de paquetes en el nivel de IP.</span><span class="sxs-lookup"><span data-stu-id="1882b-477">This option only affects packet processing at the IP level.</span></span> <span data-ttu-id="1882b-478">La NIC todavía recibe solo paquetes dirigidos a sus direcciones de unidifusión y multidifusión configuradas.</span><span class="sxs-lookup"><span data-stu-id="1882b-478">The NIC still receives only packets directed to its configured unicast and multicast addresses.</span></span> <span data-ttu-id="1882b-479">Sin embargo, un socket con esta opción habilitada no solo recibirá paquetes dirigidos a direcciones IP específicas, sino que recibirá todos los paquetes IPv4 o IPv6 que recibe la NIC.</span><span class="sxs-lookup"><span data-stu-id="1882b-479">However, a socket with this option enabled will receive not only packets directed to specific IP addresses, but will receive all the IPv4 or IPv6 packets the NIC receives.</span></span><br/> <span data-ttu-id="1882b-480">Esta opción no capturará otros paquetes (paquetes ARP, IPX y NetBEUI, por ejemplo) recibidos en la interfaz.</span><span class="sxs-lookup"><span data-stu-id="1882b-480">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) received on the interface.</span></span><br/>                                                                                             |



 

<span data-ttu-id="1882b-481">Para obtener información más detallada, consulte la [**referencia de SIO \_ RCVALL.**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-481">For more detailed information, see the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) reference.</span></span>

<span data-ttu-id="1882b-482">**SIO \_ RCVALL se** admite en Windows 2000 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-482">**SIO\_RCVALL** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_igmpmcast-opcode-setting-i-t3"></a><span data-ttu-id="1882b-483">SIO \_ RCVALL \_ IGMPMCAST (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-483">SIO\_RCVALL\_IGMPMCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-484">Permite que un socket reciba todo el tráfico IP de multidifusión IGMP en la red, sin recibir otro tráfico IP de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="1882b-484">Enables a socket to receive all IGMP multicast IP traffic on the network, without receiving other multicast IP traffic.</span></span> <span data-ttu-id="1882b-485">El identificador de socket pasado a la función [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) debe ser de la familia de direcciones AF INET, el tipo de socket SOCK RAW y el \_ \_ protocolo IGMP de IPPROTO. \_</span><span class="sxs-lookup"><span data-stu-id="1882b-485">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_IGMP protocol.</span></span> <span data-ttu-id="1882b-486">El socket también debe enlazarse a una interfaz local explícita, lo que significa que no se puede enlazar a INADDR \_ ANY.</span><span class="sxs-lookup"><span data-stu-id="1882b-486">The socket also must be bound to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span>

<span data-ttu-id="1882b-487">Una vez enlazado el socket y el conjunto de IOCTL, las llamadas a las funciones [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) o [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) devuelven datagramas IP de multidifusión que pasan a través de la interfaz dada.</span><span class="sxs-lookup"><span data-stu-id="1882b-487">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="1882b-488">Tenga en cuenta que debe proporcionar un búfer lo suficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="1882b-488">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="1882b-489">Establecer esta IOCTL requiere privilegios de administrador en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="1882b-489">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="1882b-490">**SIO \_ RCVALL \_ IGMPMCAST** es compatible con Windows 2000 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-490">**SIO\_RCVALL\_IGMPMCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_mcast-opcode-setting-i-t3"></a><span data-ttu-id="1882b-491">SIO \_ RCVALL \_ MCAST (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-491">SIO\_RCVALL\_MCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-492">Permite que un socket reciba todo el tráfico IP de multidifusión en la red (es decir, todos los paquetes IP destinados a direcciones IP en el intervalo de 224.0.0.0 a 239.255.255.255).</span><span class="sxs-lookup"><span data-stu-id="1882b-492">Enables a socket to receive all multicast IP traffic on the network (that is, all IP packets destined for IP addresses in the range of 224.0.0.0 to 239.255.255.255).</span></span> <span data-ttu-id="1882b-493">El identificador de socket pasado a la función [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) debe ser de la familia de direcciones AF INET, el tipo de socket SOCK RAW y el \_ protocolo UDP \_ \_ IPPROTO.</span><span class="sxs-lookup"><span data-stu-id="1882b-493">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_UDP protocol.</span></span> <span data-ttu-id="1882b-494">El socket también debe enlazarse a una interfaz local explícita, lo que significa que no se puede enlazar a INADDR \_ ANY.</span><span class="sxs-lookup"><span data-stu-id="1882b-494">The socket also must bind to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span> <span data-ttu-id="1882b-495">El socket debe enlazarse al puerto cero.</span><span class="sxs-lookup"><span data-stu-id="1882b-495">The socket should bind to port zero.</span></span>

<span data-ttu-id="1882b-496">Una vez enlazado el socket y el conjunto de IOCTL, las llamadas a las funciones [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) o [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) devuelven datagramas IP de multidifusión que pasan a través de la interfaz dada.</span><span class="sxs-lookup"><span data-stu-id="1882b-496">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="1882b-497">Tenga en cuenta que debe proporcionar un búfer lo suficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="1882b-497">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="1882b-498">Establecer esta IOCTL requiere privilegios de administrador en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="1882b-498">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="1882b-499">**SIO \_ RCVALL \_ MCAST es** compatible con Windows 2000 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-499">**SIO\_RCVALL\_MCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_release_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="1882b-500">SIO \_ RELEASE PORT RESERVATION \_ \_ (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-500">SIO\_RELEASE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-501">Libera una reserva en tiempo de ejecución para un bloque de puertos TCP o UDP.</span><span class="sxs-lookup"><span data-stu-id="1882b-501">Releases a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="1882b-502">La reserva en tiempo de ejecución que se va a liberar debe haber obtenido del proceso de emisión mediante [**SIO \_ ACQUIRE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-502">The runtime reservation to be released must have been obtained from the issuing process using the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="1882b-503">Para obtener información más detallada, consulte la referencia [**SIO \_ RELEASE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-503">For more detailed information, see the [**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) reference.</span></span>

<span data-ttu-id="1882b-504">[**SIO \_ RELEASE \_ PORT \_ RESERVATION es**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) compatible con Windows Vista y versiones posteriores del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="1882b-504">[**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_routing_interface_change-opcode-setting-i-t1"></a><span data-ttu-id="1882b-505">CAMBIO DE LA INTERFAZ DE ENRUTAMIENTO DE SIO \_ \_ \_ (configuración del código de operación: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-505">SIO\_ROUTING\_INTERFACE\_CHANGE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1882b-506">Para recibir la notificación de un cambio de interfaz de enrutamiento que se debe usar para llegar a la dirección remota en el búfer de entrada (especificado como [**una estructura sockaddr).**](sockaddr-2.md)</span><span class="sxs-lookup"><span data-stu-id="1882b-506">To receive notification of a routing interface change that should be used to reach the remote address in the input buffer (specified as a [**sockaddr**](sockaddr-2.md) structure).</span></span> <span data-ttu-id="1882b-507">No se proporciona información de salida sobre la nueva interfaz de enrutamiento tras la finalización de esta IOCTL; la finalización simplemente indica que la interfaz de enrutamiento para un destino determinado ha cambiado y se debe consultar mediante LA CONSULTA DE LA INTERFAZ DE ENRUTAMIENTO DE **SIO \_ \_ \_** IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-507">No output information on the new routing interface will be provided upon completion of this IOCTL; the completion merely indicates that the routing interface for a given destination has changed and should be queried using the **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL.</span></span>

<span data-ttu-id="1882b-508">Se supone, aunque no es necesario, que la aplicación usa E/S superpuestas para recibir una notificación del cambio de la interfaz de enrutamiento mediante la finalización de la solicitud DE CAMBIO DE LA INTERFAZ DE ENRUTAMIENTO **\_ \_ \_ DE SIO.**</span><span class="sxs-lookup"><span data-stu-id="1882b-508">It is assumed, although not required, that the application uses overlapped I/O to be notified of the routing interface change through completion of **SIO\_ROUTING\_INTERFACE\_CHANGE** request.</span></span> <span data-ttu-id="1882b-509">Como alternativa, si LA INTERFAZ DE ENRUTAMIENTO DE SIO CHANGE IOCTL se emite en un socket sin bloqueo con los parámetros *lpOverlapped* y *lpCompletionRoutine* establecidos en **NULL),** se completará la devolución inmediata y [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) como error, y la aplicación puede esperar a los eventos de cambio de enrutamiento mediante la llamada a [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) o [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) con el bit CHANGE de LA INTERFAZ DE ENRUTAMIENTO de FD establecido en la máscara de bits del evento de **\_ \_ \_** \_ \_ \_ red.</span><span class="sxs-lookup"><span data-stu-id="1882b-509">Alternatively, if the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL is issued on a non-blocking socket with the *lpOverlapped* and *lpCompletionRoutine* parameters set to **NULL**), it will complete immediately returning and [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) as an error, and the application can then wait for routing change events through call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ROUTING\_INTERFACE\_CHANGE bit set in the network event bitmask.</span></span>

<span data-ttu-id="1882b-510">Se reconoce que la información de enrutamiento permanece estable en la mayoría de los casos, por lo que, al requerir que la aplicación mantenga varias E/SCL pendientes para obtener notificaciones sobre todos los destinos que le interesen, así como hacer que el proveedor de servicios realice un seguimiento de estas solicitudes de notificación, se usará una cantidad considerable de recursos del sistema.</span><span class="sxs-lookup"><span data-stu-id="1882b-510">It is recognized that routing information remains stable in most cases so that requiring the application to keep multiple outstanding IOCTLs to get notifications about all destinations that it is interested in as well as having the service provider keep track of these notification requests will use a significant amount system resources.</span></span> <span data-ttu-id="1882b-511">Esta situación se puede evitar ampliando el significado de los parámetros de entrada y relajando los requisitos del proveedor de servicios como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="1882b-511">This situation can be avoided by extending the meaning of the input parameters and relaxing the service provider requirements as follows:</span></span>

-   <span data-ttu-id="1882b-512">La aplicación puede especificar una dirección de comodín [](/windows/desktop/api/winsock/nf-winsock-bind) específica de la familia de protocolos (la misma que se usa en la llamada de enlace al solicitar el enlace a cualquier dirección disponible) para solicitar notificaciones de los cambios de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="1882b-512">The application can specify a protocol family specific wildcard address (same as one used in [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) call when requesting to bind to any available address) to request notifications of any routing changes.</span></span> <span data-ttu-id="1882b-513">Esto permite a la aplicación mantener solo un cambio de interfaz de enrutamiento de SIO pendiente para todos los sockets y destinos que tiene y, a continuación, usar **SIO \_ ROUTING INTERFACE \_ \_ QUERY** para obtener la información de enrutamiento real. **\_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="1882b-513">This allows the application to keep only one outstanding **SIO\_ROUTING\_INTERFACE\_CHANGE** for all the sockets and destinations it has and then use **SIO\_ROUTING\_INTERFACE\_QUERY** to get the actual routing information.</span></span>
-   <span data-ttu-id="1882b-514">Un proveedor de servicios tiene la opción de omitir la información especificada por la aplicación en el búfer de entrada de **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** (como si la aplicación especificara una dirección de carácter comodín) y completar el evento DE CAMBIO DE LA INTERFAZ DE ENRUTAMIENTO DE **SIO \_ \_ \_** IOCTL o señal FD ROUTING INTERFACE CHANGE en caso de que se cambie la información de enrutamiento (no solo la ruta al destino especificado en el búfer de \_ \_ \_ entrada).</span><span class="sxs-lookup"><span data-stu-id="1882b-514">A service provider has the option to ignore the information specified by the application in the input buffer of the **SIO\_ROUTING\_INTERFACE\_CHANGE** (as though the application specified a wildcard address) and complete the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL or signal FD\_ROUTING\_INTERFACE\_CHANGE event in the event of any routing information change (not just the route to the destination specified in the input buffer).</span></span>

### <a name="sio_routing_interface_query-opcode-setting-i-o-t1"></a><span data-ttu-id="1882b-515">SIO \_ ROUTING INTERFACE QUERY \_ \_ (configuración del código de operación: I, O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-515">SIO\_ROUTING\_INTERFACE\_QUERY (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="1882b-516">Para obtener la dirección de la interfaz local (representada como estructura [**sockaddr)**](sockaddr-2.md) que se debe usar para enviar a la dirección remota especificada en el búfer de entrada (como **sockaddr**).</span><span class="sxs-lookup"><span data-stu-id="1882b-516">To obtain the address of the local interface (represented as [**sockaddr**](sockaddr-2.md) structure) which should be used to send to the remote address specified in the input buffer (as **sockaddr**).</span></span> <span data-ttu-id="1882b-517">Las direcciones de multidifusión remota se pueden enviar en el búfer de entrada para obtener la dirección de la interfaz preferida para la transmisión de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="1882b-517">Remote multicast addresses may be submitted in the input buffer to get the address of the preferred interface for multicast transmission.</span></span> <span data-ttu-id="1882b-518">En cualquier caso, la aplicación puede usar la dirección de interfaz devuelta en una solicitud bind() subsiguiente.</span><span class="sxs-lookup"><span data-stu-id="1882b-518">In any case, the interface address returned may be used by the application in a subsequent bind() request.</span></span>

<span data-ttu-id="1882b-519">Tenga en cuenta que las rutas están sujetas a cambios.</span><span class="sxs-lookup"><span data-stu-id="1882b-519">Note that routes are subject to change.</span></span> <span data-ttu-id="1882b-520">Por lo tanto, las aplicaciones no pueden confiar en la información devuelta por **SIO \_ ROUTING INTERFACE \_ \_ QUERY** para que sea persistente.</span><span class="sxs-lookup"><span data-stu-id="1882b-520">Therefore, applications cannot rely on the information returned by **SIO\_ROUTING\_INTERFACE\_QUERY** to be persistent.</span></span> <span data-ttu-id="1882b-521">Las aplicaciones pueden registrarse para enrutar las notificaciones de cambio a través de LA IOCTL CHANGE DE LA INTERFAZ DE ENRUTAMIENTO DE **SIO, \_ \_ \_** que proporciona la notificación a través de E/S superpuesta o un evento CHANGE de la INTERFAZ DE ENRUTAMIENTO \_ \_ de \_ FD.</span><span class="sxs-lookup"><span data-stu-id="1882b-521">Applications may register for routing change notifications through the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL which provides for notification through either overlapped I/O or a FD\_ROUTING\_INTERFACE\_CHANGE event.</span></span> <span data-ttu-id="1882b-522">La siguiente secuencia de acciones se puede usar para garantizar que la aplicación siempre tiene información de la interfaz de enrutamiento actual para un destino determinado:</span><span class="sxs-lookup"><span data-stu-id="1882b-522">The following sequence of actions can be used to guarantee that the application always has current routing interface information for a given destination:</span></span>

-   <span data-ttu-id="1882b-523">Problema de **CAMBIO DE LA INTERFAZ DE ENRUTAMIENTO \_ DE SIO \_ \_** IOCTL</span><span class="sxs-lookup"><span data-stu-id="1882b-523">Issue **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL</span></span>
-   <span data-ttu-id="1882b-524">Problema de **IOCTL \_ de CONSULTA DE LA INTERFAZ \_ DE \_ ENRUTAMIENTO** DE SIO</span><span class="sxs-lookup"><span data-stu-id="1882b-524">Issue **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL</span></span>
-   <span data-ttu-id="1882b-525">Cada **vez que SIO ROUTING INTERFACE \_ \_ \_ CHANGE** IOCTL notifica a la aplicación el cambio de enrutamiento (ya sea a través de E/S superpuesta o mediante la señalización del evento CHANGE de LA INTERFAZ DE ENRUTAMIENTO DE FD), se debe repetir toda la secuencia de \_ \_ \_ acciones.</span><span class="sxs-lookup"><span data-stu-id="1882b-525">Whenever **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL notifies the application of routing change (either through overlapped I/O or by signaling FD\_ROUTING\_INTERFACE\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="1882b-526">Si el búfer de salida no es lo suficientemente grande como para contener la dirección de interfaz, se devuelve SOCKET ERROR como resultado de esta IOCTL y \_ [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) devuelve [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1882b-526">If the output buffer is not large enough to contain the interface address, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="1882b-527">El tamaño necesario del búfer de salida se devolverá *en lpcbBytesReturned* en este caso.</span><span class="sxs-lookup"><span data-stu-id="1882b-527">The required size of the output buffer will be returned in *lpcbBytesReturned* in this case.</span></span> <span data-ttu-id="1882b-528">Tenga en cuenta que también se devuelve el código de error de WSAEFAULT si el parámetro *lpvInBuffer*, *lpvOutBuffer* o *lpcbBytesReturned* no está totalmente contenido en una parte válida del espacio de direcciones del usuario.</span><span class="sxs-lookup"><span data-stu-id="1882b-528">Note the WSAEFAULT error code is also returned if the *lpvInBuffer*, *lpvOutBuffer*, or *lpcbBytesReturned* parameter is not totally contained in a valid part of the user address space.</span></span>

<span data-ttu-id="1882b-529">Si no se puede acceder a la dirección de destino especificada en el búfer de entrada a través de cualquiera de las interfaces disponibles, se devuelve SOCKET ERROR como resultado de esta IOCTL y \_ [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) devuelve [WSAENETUNREACH](windows-sockets-error-codes-2.md) o [incluso WSAENETDOWN](windows-sockets-error-codes-2.md) si se pierde toda la conectividad de red.</span><span class="sxs-lookup"><span data-stu-id="1882b-529">If the destination address specified in the input buffer cannot be reached through any of the available interfaces, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAENETUNREACH](windows-sockets-error-codes-2.md) or even [WSAENETDOWN](windows-sockets-error-codes-2.md) if all of the network connectivity is lost.</span></span>

### <a name="sio_set_compatibility_mode-opcode-setting-i-t3"></a><span data-ttu-id="1882b-530">SIO \_ SET COMPATIBILITY MODE \_ \_ (configuración de código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-530">SIO\_SET\_COMPATIBILITY\_MODE (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-531">Solicita cómo la pila de redes debe controlar determinados comportamientos para los que la manera predeterminada de controlar el comportamiento puede diferir entre las versiones de Windows.</span><span class="sxs-lookup"><span data-stu-id="1882b-531">Requests how the networking stack should handle certain behaviors for which the default way of handling the behavior may differ across Windows versions.</span></span> <span data-ttu-id="1882b-532">La estructura de argumentos **para SIO \_ SET COMPATIBILITY \_ \_ MODE** se especifica en la estructura **WSA \_ COMPATIBILITY \_ MODE** definida en el archivo de encabezado *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-532">The argument structure for **SIO\_SET\_COMPATIBILITY\_MODE** is specified in the **WSA\_COMPATIBILITY\_MODE** structure defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="1882b-533">Esta estructura se define de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="1882b-533">This structure is defined as follows:</span></span>

```cpp
/* Argument structure for SIO_SET_COMPATIBILITY_MODE */
typedef struct _WSA_COMPATIBILITY_MODE {
    WSA_COMPATIBILITY_BEHAVIOR_ID BehaviorId;
    ULONG TargetOsVersion;
} WSA_COMPATIBILITY_MODE, *PWSA_COMPATIBILITY_MODE;
```

<span data-ttu-id="1882b-534">El valor especificado en el **miembro BehaviorId** indica el comportamiento solicitado.</span><span class="sxs-lookup"><span data-stu-id="1882b-534">The value specified in the **BehaviorId** member indicates the behavior requested.</span></span> <span data-ttu-id="1882b-535">El valor especificado en el **miembro TargetOsVersion** indica la versión de Windows que se solicita para el comportamiento.</span><span class="sxs-lookup"><span data-stu-id="1882b-535">The value specified in the **TargetOsVersion** member indicates the Windows version that is being requested for the behavior.</span></span>

<span data-ttu-id="1882b-536">El **miembro BehaviorId** puede ser uno de los valores del tipo de enumeración ID DE COMPORTAMIENTO DE COMPATIBILIDAD de **WSA \_ \_ \_** definido en el archivo de encabezado *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-536">The **BehaviorId** member can be one of the values from the **WSA\_COMPATIBILITY\_BEHAVIOR\_ID** enumeration type defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="1882b-537">Los valores posibles para **el miembro BehaviorId** son los siguientes.</span><span class="sxs-lookup"><span data-stu-id="1882b-537">The possible values for the **BehaviorId** member are as follows.</span></span>

| <span data-ttu-id="1882b-538">Término</span><span class="sxs-lookup"><span data-stu-id="1882b-538">Term</span></span>                                                                                                                                                                             | <span data-ttu-id="1882b-539">Descripción</span><span class="sxs-lookup"><span data-stu-id="1882b-539">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-|-|
| <span data-ttu-id="1882b-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span><span class="sxs-lookup"><span data-stu-id="1882b-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span></span><br/>                                                     | <span data-ttu-id="1882b-541">Esto equivale a solicitar todos los posibles comportamientos compatibles definidos para el identificador de COMPORTAMIENTO DE COMPATIBILIDAD **\_ \_ de \_ WSA.**</span><span class="sxs-lookup"><span data-stu-id="1882b-541">This is equivalent to requesting all of the possible compatible behaviors defined for **WSA\_COMPATIBILITY\_BEHAVIOR\_ID**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="1882b-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span><span class="sxs-lookup"><span data-stu-id="1882b-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span></span><br/> | <span data-ttu-id="1882b-543">Cuando el miembro **TargetOsVersion** se establece en un valor para Windows Vista o versiones posteriores, se permiten reducciones en el tamaño de búfer de recepción TCP en este socket mediante la opción de socket **SO \_ RCVBUF** incluso después de que se haya establecido una conexión TCP.</span><span class="sxs-lookup"><span data-stu-id="1882b-543">When the **TargetOsVersion** member is set to a value for Windows Vista or later, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are allowed even after a TCP connection has been establishment.</span></span> <br/> <span data-ttu-id="1882b-544">Cuando el miembro **TargetOsVersion** se establece en un valor anterior a Windows Vista, las reducciones en el tamaño de búfer de recepción TCP en este socket mediante la opción de socket **SO \_ RCVBUF** no se permiten después del establecimiento de la conexión.</span><span class="sxs-lookup"><span data-stu-id="1882b-544">When the **TargetOsVersion** member is set to a value earlier than Windows Vista, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are not allowed after connection establishment.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="1882b-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span><span class="sxs-lookup"><span data-stu-id="1882b-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span></span><br/>                         | <span data-ttu-id="1882b-546">Cuando el **miembro TargetOsVersion** se establece en un valor para Windows Vista o versiones posteriores, se habilita el ajuste automático de la ventana de recepción y el factor de escala de ventana TCP se reduce a 2 desde el valor predeterminado de 8.</span><span class="sxs-lookup"><span data-stu-id="1882b-546">When the **TargetOsVersion** member is set to a value for Windows Vista or later, receive window auto-tuning is enabled and the TCP window scale factor is reduced to 2 from the default value of 8.</span></span><br/> <span data-ttu-id="1882b-547">Cuando **TargetOsVersion se** establece en un valor anterior a Windows Vista, se deshabilita el ajuste automático de la ventana de recepción.</span><span class="sxs-lookup"><span data-stu-id="1882b-547">When the **TargetOsVersion** is set to a value earlier than Windows Vista, receive window auto-tuning is disabled.</span></span> <span data-ttu-id="1882b-548">La opción de escalado de ventanas TCP también está deshabilitada y el tamaño máximo de la ventana de recepción verdadera está limitado a 65 535 bytes.</span><span class="sxs-lookup"><span data-stu-id="1882b-548">The TCP window scaling option is also disabled and the maximum true receive window size is limited to 65,535 bytes.</span></span> <span data-ttu-id="1882b-549">La opción de escalado de ventana TCP no se puede negociar en la conexión aunque se llamó a la opción de socket **SO \_ RCVBUF** en este socket especificando un valor superior a 65 535 bytes antes de establecer la conexión.</span><span class="sxs-lookup"><span data-stu-id="1882b-549">The TCP window scaling option can't be negotiated on the connection even if the **SO\_RCVBUF** socket option was called on this socket specifying a value greater than 65,535 bytes before the connection was established.</span></span><br/> |



 

<span data-ttu-id="1882b-550">Para obtener información más detallada, consulte la referencia [**de SIO \_ SET COMPATIBILITY \_ \_ MODE.**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-550">For more detailed information, see the [**SIO\_SET\_COMPATIBILITY\_MODE**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) reference.</span></span>

<span data-ttu-id="1882b-551">**SIO \_ SET \_ COMPATIBILITY \_ MODE se** admite en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-551">**SIO\_SET\_COMPATIBILITY\_MODE** is supported on Windows Vista and later.</span></span>

### <a name="sio_set_group_qos-opcode-setting-i-t1"></a><span data-ttu-id="1882b-552">SIO \_ SET \_ GROUP \_ QOS (configuración de código de operación: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-552">SIO\_SET\_GROUP\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1882b-553">Reservado.</span><span class="sxs-lookup"><span data-stu-id="1882b-553">Reserved.</span></span>

### <a name="sio_set_priority_hint-opcode-setting-i-t3"></a><span data-ttu-id="1882b-554">SIO_SET_PRIORITY_HINT (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-554">SIO_SET_PRIORITY_HINT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-555">Proporciona una sugerencia al protocolo de transporte subyacente para tratar el tráfico en este socket con una prioridad específica.</span><span class="sxs-lookup"><span data-stu-id="1882b-555">Provides a hint to the underlying transport protocol to treat the traffic on this socket with a specific priority.</span></span> <span data-ttu-id="1882b-556">*lpvInBuffer debe apuntar* a una variable de tipo **PRIORITY_HINT** *con cbInBuffer* establecido en sizeof(PRIORITY_HINT).</span><span class="sxs-lookup"><span data-stu-id="1882b-556">The *lpvInBuffer* must point to a variable of type **PRIORITY_HINT** with *cbInBuffer* set to sizeof(PRIORITY_HINT).</span></span> <span data-ttu-id="1882b-557">Los *parámetros lpvOutBuffer* y *cbOutBuffer* deben ser **NULL** y 0, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="1882b-557">The *lpvOutBuffer* and *cbOutBuffer* parameters must be **NULL** and 0, respectively.</span></span> <span data-ttu-id="1882b-558">La implementación tcp de Microsoft Windows admite esta IOCTL a partir Windows 10, versión 1809 (10.0; Compilación 17763) y versiones posteriores como sigue: cuando el valor de prioridad solicitado se establece en **IoPriorityHintVeryLow,** TCP usa una versión modificada del algoritmo LEDBAT (definido en RFC 6817) para controlar la velocidad de tráfico saliente en el socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-558">The Microsoft Windows TCP implementation supports this IOCTL starting with Windows 10, version 1809 (10.0; Build 17763) and later as follows: when the requested priority value is set to **IoPriorityHintVeryLow**, TCP uses a modified version of the LEDBAT algorithm (defined in RFC 6817) for controlling the outbound traffic rate on the socket.</span></span> <span data-ttu-id="1882b-559">El tráfico entrante no se ve afectado por esta IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1882b-559">The inbound traffic is not affected by this IOCTL.</span></span> <span data-ttu-id="1882b-560">LEDBAT es un algoritmo de búsqueda y su objetivo es mantener la latencia baja y evitar cualquier efecto adverso en el tráfico de prioridad normal al salir del camino cuando el tráfico de prioridad normal está presente.</span><span class="sxs-lookup"><span data-stu-id="1882b-560">LEDBAT is a scavenger algorithm, and its goal is to keep latency low and prevent any adverse effect on normal-priority traffic by getting out of the way when normal-priority traffic is present.</span></span>

<span data-ttu-id="1882b-561">Consulte también [RFC 6817](https://tools.ietf.org/html/rfc6817).</span><span class="sxs-lookup"><span data-stu-id="1882b-561">Also see [RFC 6817](https://tools.ietf.org/html/rfc6817).</span></span>

<span data-ttu-id="1882b-562">**SIO_SET_PRIORITY_HINT** se admite en Windows 10, versión 1809 (10.0; Compilación 17763) y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-562">**SIO_SET_PRIORITY_HINT** is supported on Windows 10, version 1809 (10.0; Build 17763) and later.</span></span>

### <a name="sio_set_qos-opcode-setting-i-t1"></a><span data-ttu-id="1882b-563">SIO \_ SET \_ QOS (configuración de código de operación: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-563">SIO\_SET\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1882b-564">Asocie la estructura [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) especificada al socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-564">Associate the specified [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure with the socket.</span></span> <span data-ttu-id="1882b-565">No se requiere ningún búfer de salida, la **estructura qos** se obtendrá del búfer de entrada.</span><span class="sxs-lookup"><span data-stu-id="1882b-565">No output buffer is required, the **QOS** structure will be obtained from the input buffer.</span></span> <span data-ttu-id="1882b-566">El código de error [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) se indica para los proveedores de servicios que no admiten la calidad de servicio.</span><span class="sxs-lookup"><span data-stu-id="1882b-566">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_tcp_initial_rto-opcode-setting-i-t3"></a><span data-ttu-id="1882b-567">SIO_TCP_INITIAL_RTO (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-567">SIO_TCP_INITIAL_RTO (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-568">Controla las características iniciales de retransmisión (SYN/SYN+ACK) de un socket TCP mediante la configuración de parámetros de tiempo de espera de retransmisión inicial (RTO).</span><span class="sxs-lookup"><span data-stu-id="1882b-568">Controls the initial (SYN / SYN+ACK) retransmission characteristics of a TCP socket by configuring initial retransmission timeout (RTO) parameters.</span></span> <span data-ttu-id="1882b-569">Los parámetros de configuración se especifican en una [**estructura \_ TCP INITIAL \_ RTO \_ PARAMETERS.**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers)</span><span class="sxs-lookup"><span data-stu-id="1882b-569">The configuration parameters are specified in a [**TCP\_INITIAL\_RTO\_PARAMETERS**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) structure.</span></span>

<span data-ttu-id="1882b-570">Para obtener información más detallada, consulte [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) referencia.</span><span class="sxs-lookup"><span data-stu-id="1882b-570">For more detailed information, see the [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) reference.</span></span> <span data-ttu-id="1882b-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) se admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_timestamping"></a><span data-ttu-id="1882b-572">SIO_TIMESTAMPING</span><span class="sxs-lookup"><span data-stu-id="1882b-572">SIO_TIMESTAMPING</span></span>

<span data-ttu-id="1882b-573">Una IOCTL de socket que se usa para configurar la recepción de marcas de tiempo de transmisión y recepción de sockets.</span><span class="sxs-lookup"><span data-stu-id="1882b-573">A socket IOCTL used to configure reception of socket transmit/receive timestamps.</span></span> <span data-ttu-id="1882b-574">Válido solo para sockets de datagramas.</span><span class="sxs-lookup"><span data-stu-id="1882b-574">Valid only for datagram sockets.</span></span> <span data-ttu-id="1882b-575">El tipo de entrada **para SIO_TIMESTAMPING** es la [**TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) estructura.</span><span class="sxs-lookup"><span data-stu-id="1882b-575">The input type for **SIO_TIMESTAMPING** is the [**TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) structure.</span></span>

<span data-ttu-id="1882b-576">Consulte también [Creación de marcas de tiempo de Winsock.](/windows/win32/winsock/winsock-timestamping)</span><span class="sxs-lookup"><span data-stu-id="1882b-576">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_translate_handle-opcode-setting-i-o-t1"></a><span data-ttu-id="1882b-577">SIO \_ TRANSLATE \_ HANDLE (configuración del código de operación: I, O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1882b-577">SIO\_TRANSLATE\_HANDLE (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="1882b-578">Para obtener un identificador correspondiente para *sockets* válidos en el contexto de una interfaz complementaria (por ejemplo, TH \_ NETDEV y TH \_ TAPI).</span><span class="sxs-lookup"><span data-stu-id="1882b-578">To obtain a corresponding handle for socket *s* that is valid in the context of a companion interface (for example, TH\_NETDEV and TH\_TAPI).</span></span> <span data-ttu-id="1882b-579">En el búfer de entrada se especifica una constante de manifiesto que identifica la interfaz complementaria junto con cualquier otro parámetro necesario.</span><span class="sxs-lookup"><span data-stu-id="1882b-579">A manifest constant identifying the companion interface along with any other needed parameters are specified in the input buffer.</span></span> <span data-ttu-id="1882b-580">El identificador correspondiente estará disponible en el búfer de salida tras la finalización de esta función.</span><span class="sxs-lookup"><span data-stu-id="1882b-580">The corresponding handle will be available in the output buffer upon completion of this function.</span></span> <span data-ttu-id="1882b-581">Consulte la sección adecuada en [Anexos de Winsock](winsock-annexes.md) para obtener detalles específicos de una interfaz complementaria determinada.</span><span class="sxs-lookup"><span data-stu-id="1882b-581">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="1882b-582">El código de error [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) se indica para los proveedores de servicios que no admiten esta IOCTL para la interfaz complementaria especificada.</span><span class="sxs-lookup"><span data-stu-id="1882b-582">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL for the specified companion interface.</span></span> <span data-ttu-id="1882b-583">Esta IOCTL recupera el identificador asociado mediante **SIO \_ TRANSLATE \_ HANDLE**.</span><span class="sxs-lookup"><span data-stu-id="1882b-583">This IOCTL retrieves the handle associated using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="1882b-584">Se recomienda usar el modelo de objetos componentes (COM) en lugar de esta IOCTL para detectar y realizar un seguimiento de otras interfaces que podrían ser compatibles con un socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-584">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="1882b-585">Esta IOCTL está presente por compatibilidad con versiones anteriores con sistemas en los que COM no está disponible o no se puede usar por alguna otra razón.</span><span class="sxs-lookup"><span data-stu-id="1882b-585">This IOCTL is present for backward compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_udp_connreset-opcode-setting-i-t3"></a><span data-ttu-id="1882b-586">SIO \_ UDP \_ CONNRESET (configuración del código de operación: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-586">SIO\_UDP\_CONNRESET (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-587">**Windows XP:** Controla si se notifican los mensajes UDP PORT \_ UNREACHABLE.</span><span class="sxs-lookup"><span data-stu-id="1882b-587">**Windows XP:** Controls whether UDP PORT\_UNREACHABLE messages are reported.</span></span> <span data-ttu-id="1882b-588">Establezca en **TRUE para** habilitar los informes.</span><span class="sxs-lookup"><span data-stu-id="1882b-588">Set to **TRUE** to enable reporting.</span></span> <span data-ttu-id="1882b-589">Establezca en **FALSE para** deshabilitar los informes.</span><span class="sxs-lookup"><span data-stu-id="1882b-589">Set to **FALSE** to disable reporting.</span></span>

### <a name="sio_set_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="1882b-590">SIO \_ SET \_ WFP \_ CONNECTION \_ REDIRECT \_ RECORDS (opcode setting: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-590">SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1882b-591">Establece el registro de redireccionamiento en el nuevo socket TCP usado para conectarse al destino final para que lo use un servicio de redireccionamiento de la Plataforma de filtrado de Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="1882b-591">Sets the redirect record to the new TCP socket used for connecting to the final destination for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="1882b-592">[**SIO \_ SET \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL se usa como parte del seguimiento de conexiones con proxy en conexiones de socket redirigidas.</span><span class="sxs-lookup"><span data-stu-id="1882b-592">The [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL is used as part of proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="1882b-593">Esta característica wfp facilita el seguimiento de los registros de redireccionamiento desde el redireccionamiento inicial de una conexión a la conexión final al destino.</span><span class="sxs-lookup"><span data-stu-id="1882b-593">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="1882b-594">Para obtener información más detallada, vea la referencia [**DE \_ SIO SET \_ WFP \_ CONNECTION REDIRECT \_ \_ RECORDS.**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1882b-594">For more detailed information, see the [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) reference.</span></span> <span data-ttu-id="1882b-595">**SIO \_ SET \_ WFP \_ CONNECTION REDIRECT \_ \_ RECORDS** se admite en Windows 8, Windows Server 2012 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-595">**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_tcp_info-opcode-setting-i-o-t3"></a><span data-ttu-id="1882b-596">SIO \_ TCP \_ INFO (configuración del código de operación: I, O, T==3)</span><span class="sxs-lookup"><span data-stu-id="1882b-596">SIO\_TCP\_INFO (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="1882b-597">Recupera las estadísticas TCP de un socket.</span><span class="sxs-lookup"><span data-stu-id="1882b-597">Retrieves the TCP statistics for a socket.</span></span> <span data-ttu-id="1882b-598">Las estadísticas tcp se proporcionan en una [**estructura \_ TCP INFO \_ v0.**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0)</span><span class="sxs-lookup"><span data-stu-id="1882b-598">The TCP statistics are provided in a [**TCP\_INFO\_v0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) structure.</span></span>

<span data-ttu-id="1882b-599">A diferencia de la recuperación de estadísticas TCP con la función [**GetPerTcpConnectionEStats,**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) la recuperación de estadísticas TCP con este código de control no requiere que el código de usuario cargue, almacene y filtre la tabla de conexión TCP, y no requiere privilegios elevados para su uso.</span><span class="sxs-lookup"><span data-stu-id="1882b-599">Unlike retrieving TCP statistics with the [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) function, retrieving TCP statistics with this control code does not require the user code to load, store, and filter the TCP connection table, and does not require elevated privileges to use.</span></span>

<span data-ttu-id="1882b-600">Para obtener más información, [**vea SIO \_ TCP \_ INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="1882b-600">For more information, see [**SIO\_TCP\_INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span></span> <span data-ttu-id="1882b-601">**SIO \_ TCP \_ INFO** se admite en Windows 10, versión 1703, Windows Server 2016 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="1882b-601">**SIO\_TCP\_INFO** is supported on Windows 10, version 1703, Windows Server 2016, and later.</span></span>

## <a name="remarks"></a><span data-ttu-id="1882b-602">Comentarios</span><span class="sxs-lookup"><span data-stu-id="1882b-602">Remarks</span></span>

<span data-ttu-id="1882b-603">Las ioctls de Winsock se definen en varios archivos de encabezado diferentes.</span><span class="sxs-lookup"><span data-stu-id="1882b-603">Winsock Ioctls are defined in a number of different header files.</span></span> <span data-ttu-id="1882b-604">Estos incluyen el *archivo de encabezado Winsock2.h,* *Mswsock.h y* *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-604">These include the *Winsock2.h*, *Mswsock.h*, and *Mstcpip.h* header file.</span></span>

<span data-ttu-id="1882b-605">En Microsoft Kit de desarrollo de software de Windows (SDK) publicado para Windows Vista y versiones posteriores, la organización de los archivos de encabezado ha cambiado y también se definen varias ioctls de Winsock en los archivos de encabezado *Ws2def.h,* *Ws2ipdef.h y* *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-605">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and a number of Winsock Ioctls are also defined in the *Ws2def.h*, *Ws2ipdef.h*, and *Mswsockdef.h* header files.</span></span> <span data-ttu-id="1882b-606">El archivo de encabezado Winsock2.h incluye automáticamente el archivo de encabezado *Ws2def.h.* </span><span class="sxs-lookup"><span data-stu-id="1882b-606">The *Ws2def.h* header file is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="1882b-607">El *archivo de encabezado Ws2tcpip.h* incluye automáticamente el archivo de encabezado *Ws2tcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-607">The *Ws2ipdef.h* header file is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="1882b-608">El *archivo de encabezado Mswsockdef.h* se incluye automáticamente en el archivo de encabezado *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="1882b-608">The *Mswsockdef.h* header file is automatically included in the *Mswsockdef.h* header file.</span></span>

## <a name="requirements"></a><span data-ttu-id="1882b-609">Requisitos</span><span class="sxs-lookup"><span data-stu-id="1882b-609">Requirements</span></span>

|<span data-ttu-id="1882b-610">Requisito</span><span class="sxs-lookup"><span data-stu-id="1882b-610">Requirement</span></span>|<span data-ttu-id="1882b-611">Value</span><span class="sxs-lookup"><span data-stu-id="1882b-611">Value</span></span>|
|-|-|
| <span data-ttu-id="1882b-612">Encabezado</span><span class="sxs-lookup"><span data-stu-id="1882b-612">Header</span></span><br/> | <dl> <span data-ttu-id="1882b-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h en Windows Vista, Windows Server 2008 y Windows 7 (incluido Mswsock.h); </dt> <dt>Ws2def.h en Windows Vista, Windows Server 2008 y Windows 7 (incluye Winsock2.h); </dt> <dt>Ws2ipdef.h en Windows Vista, Windows Server 2008 y Windows 7 (incluido Ws2tcpip.h)</dt></span><span class="sxs-lookup"><span data-stu-id="1882b-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Mswsock.h); </dt> <dt>Ws2def.h on Windows Vista, Windows Server 2008 and Windows 7 (include Winsock2.h); </dt> <dt>Ws2ipdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Ws2tcpip.h)</dt></span></span> </dl> |
