---
description: Una aplicación obtiene un controlador de dominio de visualización mediante una llamada a la función BeginPaint, GetDC o GetDCEx e identifica la ventana en la que aparecerá el resultado correspondiente.
ms.assetid: 8f952d68-ee52-4e63-9f09-80a14c755d31
title: Mostrar contextos de dispositivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 41d0eeb3055209ad99a6a50fd129f9f9c064bf52
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103811984"
---
# <a name="display-device-contexts"></a><span data-ttu-id="092ce-103">Mostrar contextos de dispositivo</span><span class="sxs-lookup"><span data-stu-id="092ce-103">Display Device Contexts</span></span>

<span data-ttu-id="092ce-104">Una aplicación obtiene un controlador de dominio de visualización mediante una llamada a la función [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc)o [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) e identifica la ventana en la que aparecerá el resultado correspondiente.</span><span class="sxs-lookup"><span data-stu-id="092ce-104">An application obtains a display DC by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and identifying the window in which the corresponding output will appear.</span></span> <span data-ttu-id="092ce-105">Normalmente, una aplicación obtiene un controlador de dominio de visualización solo cuando se debe dibujar en el área de cliente.</span><span class="sxs-lookup"><span data-stu-id="092ce-105">Typically, an application obtains a display DC only when it must draw in the client area.</span></span> <span data-ttu-id="092ce-106">Sin embargo, puede obtener un [contexto de dispositivo de ventana](#window-device-contexts) mediante una llamada a la función [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) .</span><span class="sxs-lookup"><span data-stu-id="092ce-106">However, one may obtain a [window device context](#window-device-contexts) by calling the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) function.</span></span> <span data-ttu-id="092ce-107">Cuando finaliza el dibujo de la aplicación, debe liberar el controlador de dominio mediante una llamada a la función [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) o [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) .</span><span class="sxs-lookup"><span data-stu-id="092ce-107">When the application is finished drawing, it must release the DC by calling the [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) or [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="092ce-108">Hay cinco tipos de controladores de DC para presentaciones de vídeo:</span><span class="sxs-lookup"><span data-stu-id="092ce-108">There are five types of DCs for video displays:</span></span>

-   <span data-ttu-id="092ce-109">Clase</span><span class="sxs-lookup"><span data-stu-id="092ce-109">Class</span></span>
-   <span data-ttu-id="092ce-110">Comunes</span><span class="sxs-lookup"><span data-stu-id="092ce-110">Common</span></span>
-   <span data-ttu-id="092ce-111">Private</span><span class="sxs-lookup"><span data-stu-id="092ce-111">Private</span></span>
-   <span data-ttu-id="092ce-112">Periodo</span><span class="sxs-lookup"><span data-stu-id="092ce-112">Window</span></span>
-   <span data-ttu-id="092ce-113">Parent</span><span class="sxs-lookup"><span data-stu-id="092ce-113">Parent</span></span>

## <a name="class-device-contexts"></a><span data-ttu-id="092ce-114">Contextos de dispositivo de clase</span><span class="sxs-lookup"><span data-stu-id="092ce-114">Class Device Contexts</span></span>

<span data-ttu-id="092ce-115">Los *contextos de dispositivo de clase* se admiten estrictamente por compatibilidad con las versiones de 16 bits de Windows.</span><span class="sxs-lookup"><span data-stu-id="092ce-115">*Class device contexts* are supported strictly for compatibility with 16-bit versions of Windows.</span></span> <span data-ttu-id="092ce-116">Al escribir la aplicación, evite usar el contexto de dispositivo de clase. en su lugar, use un contexto de dispositivo privado.</span><span class="sxs-lookup"><span data-stu-id="092ce-116">When writing your application, avoid using the class device context; use a private device context instead.</span></span>

## <a name="common-device-contexts"></a><span data-ttu-id="092ce-117">Contextos de dispositivo comunes</span><span class="sxs-lookup"><span data-stu-id="092ce-117">Common Device Contexts</span></span>

<span data-ttu-id="092ce-118">Los *contextos de dispositivo comunes* son los controladores de dispositivos que el sistema mantiene en una memoria caché especial.</span><span class="sxs-lookup"><span data-stu-id="092ce-118">*Common device contexts* are display DCs maintained in a special cache by the system.</span></span> <span data-ttu-id="092ce-119">Los contextos de dispositivo comunes se utilizan en aplicaciones que realizan operaciones de dibujo poco frecuentes.</span><span class="sxs-lookup"><span data-stu-id="092ce-119">Common device contexts are used in applications that perform infrequent drawing operations.</span></span> <span data-ttu-id="092ce-120">Antes de que el sistema devuelva el identificador de controlador de dominio, inicializa el contexto de dispositivo común con los objetos, atributos y modos predeterminados.</span><span class="sxs-lookup"><span data-stu-id="092ce-120">Before the system returns the DC handle, it initializes the common device context with default objects, attributes, and modes.</span></span> <span data-ttu-id="092ce-121">Cualquier operación de dibujo realizada por la aplicación utiliza estos valores predeterminados, a menos que se llame a una de las funciones GDI para seleccionar un nuevo objeto, cambiar los atributos de un objeto existente o seleccionar un nuevo modo.</span><span class="sxs-lookup"><span data-stu-id="092ce-121">Any drawing operations performed by the application use these defaults unless one of the GDI functions is called to select a new object, change the attributes of an existing object, or select a new mode.</span></span>

<span data-ttu-id="092ce-122">Dado que solo existe un número limitado de contextos de dispositivo comunes, una aplicación debe liberarlos una vez que haya terminado de dibujar.</span><span class="sxs-lookup"><span data-stu-id="092ce-122">Because only a limited number of common device contexts exist, an application should release them after it has finished drawing.</span></span> <span data-ttu-id="092ce-123">Cuando la aplicación libera un contexto de dispositivo común, se pierden los cambios realizados en los datos predeterminados.</span><span class="sxs-lookup"><span data-stu-id="092ce-123">When the application releases a common device context, any changes to the default data are lost.</span></span>

## <a name="private-device-contexts"></a><span data-ttu-id="092ce-124">Contextos de dispositivo privados</span><span class="sxs-lookup"><span data-stu-id="092ce-124">Private Device Contexts</span></span>

<span data-ttu-id="092ce-125">Los *contextos de dispositivo privados* son controladores de eventos que, a diferencia de los contextos de dispositivos comunes, conservan los cambios en los datos predeterminados incluso después de que una aplicación los libere.</span><span class="sxs-lookup"><span data-stu-id="092ce-125">*Private device contexts* are display DCs that, unlike common device contexts, retain any changes to the default data even after an application releases them.</span></span> <span data-ttu-id="092ce-126">Los contextos de dispositivo privados se usan en aplicaciones que realizan numerosas operaciones de dibujo, como aplicaciones de diseño asistido por PC (CAD), aplicaciones de publicación de escritorio, aplicaciones de dibujo y pintado, etc.</span><span class="sxs-lookup"><span data-stu-id="092ce-126">Private device contexts are used in applications that perform numerous drawing operations such as computer-aided design (CAD) applications, desktop-publishing applications, drawing and painting applications, and so on.</span></span> <span data-ttu-id="092ce-127">Los contextos de dispositivos privados no forman parte de la memoria caché del sistema y, por tanto, no es necesario liberarlos después del uso.</span><span class="sxs-lookup"><span data-stu-id="092ce-127">Private device contexts are not part of the system cache and therefore need not be released after use.</span></span> <span data-ttu-id="092ce-128">El sistema quita automáticamente un contexto de dispositivo privado después de que se haya destruido la última ventana de esa clase.</span><span class="sxs-lookup"><span data-stu-id="092ce-128">The system automatically removes a private device context after the last window of that class has been destroyed.</span></span>

<span data-ttu-id="092ce-129">Una aplicación crea un contexto de dispositivo privado especificando primero el \_ estilo de clase de ventana CS OWNDC cuando inicializa el miembro de **estilo** de la estructura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) y llama a la función [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) .</span><span class="sxs-lookup"><span data-stu-id="092ce-129">An application creates a private device context by first specifying the CS\_OWNDC window-class style when it initializes the **style** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure and calls the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="092ce-130">(Para obtener más información sobre las clases de ventana, vea [clases de ventana](../winmsg/window-classes.md)).</span><span class="sxs-lookup"><span data-stu-id="092ce-130">(For more information about window classes, see [Window Classes](../winmsg/window-classes.md).)</span></span>

<span data-ttu-id="092ce-131">Después de crear una ventana con el \_ estilo CS OWNDC, una aplicación puede llamar a la función [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex)o [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) una vez para obtener un identificador que identifique un contexto de dispositivo privado.</span><span class="sxs-lookup"><span data-stu-id="092ce-131">After creating a window with the CS\_OWNDC style, an application can call the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex), or [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function once to obtain a handle identifying a private device context.</span></span> <span data-ttu-id="092ce-132">La aplicación puede seguir usando este identificador (y el controlador de dominio asociado) hasta que se elimina la ventana creada con esta clase.</span><span class="sxs-lookup"><span data-stu-id="092ce-132">The application can continue using this handle (and the associated DC) until it deletes the window created with this class.</span></span> <span data-ttu-id="092ce-133">Los cambios realizados en los objetos gráficos y sus atributos, o en los modos gráficos se retienen en el sistema hasta que se elimina la ventana.</span><span class="sxs-lookup"><span data-stu-id="092ce-133">Any changes to graphic objects and their attributes, or graphic modes are retained by the system until the window is deleted.</span></span>

## <a name="window-device-contexts"></a><span data-ttu-id="092ce-134">Contextos de dispositivo de ventana</span><span class="sxs-lookup"><span data-stu-id="092ce-134">Window Device Contexts</span></span>

<span data-ttu-id="092ce-135">Un *contexto de dispositivo de ventana* permite a una aplicación dibujar en cualquier parte de una ventana, incluido el área no cliente.</span><span class="sxs-lookup"><span data-stu-id="092ce-135">A *window device context* enables an application to draw anywhere in a window, including the nonclient area.</span></span> <span data-ttu-id="092ce-136">Los contextos de dispositivo de ventana suelen usarse en aplicaciones que procesan los mensajes de [**WM \_ NCPAINT**](wm-ncpaint.md) y [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) para Windows con áreas no cliente personalizadas.</span><span class="sxs-lookup"><span data-stu-id="092ce-136">Window device contexts are typically used by applications that process the [**WM\_NCPAINT**](wm-ncpaint.md) and [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) messages for windows with custom nonclient areas.</span></span> <span data-ttu-id="092ce-137">No se recomienda usar un contexto de dispositivo de ventana para ningún otro propósito.</span><span class="sxs-lookup"><span data-stu-id="092ce-137">Using a window device context is not recommended for any other purpose.</span></span> <span data-ttu-id="092ce-138">Para obtener más información, vea [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span><span class="sxs-lookup"><span data-stu-id="092ce-138">For more information; see [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span></span>

## <a name="parent-device-contexts"></a><span data-ttu-id="092ce-139">Contextos de dispositivo primarios</span><span class="sxs-lookup"><span data-stu-id="092ce-139">Parent Device Contexts</span></span>

<span data-ttu-id="092ce-140">Un *contexto de dispositivo primario* permite a una aplicación minimizar el tiempo necesario para configurar la región de recorte de una ventana.</span><span class="sxs-lookup"><span data-stu-id="092ce-140">A *parent device context* enables an application to minimize the time necessary to set up the clipping region for a window.</span></span> <span data-ttu-id="092ce-141">Normalmente, una aplicación usa contextos de dispositivo primarios para acelerar el dibujo de ventanas de control sin necesidad de un contexto de dispositivo privado o de clase.</span><span class="sxs-lookup"><span data-stu-id="092ce-141">An application typically uses parent device contexts to speed up drawing for control windows without requiring a private or class device context.</span></span> <span data-ttu-id="092ce-142">Por ejemplo, el sistema utiliza contextos de dispositivo primarios para los controles de botón de control y edición.</span><span class="sxs-lookup"><span data-stu-id="092ce-142">For example, the system uses parent device contexts for push button and edit controls.</span></span> <span data-ttu-id="092ce-143">Los contextos de dispositivos primarios están pensados para usarse solo con ventanas secundarias, nunca con ventanas emergentes o de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="092ce-143">Parent device contexts are intended for use with child windows only, never with top-level or pop-up windows.</span></span> <span data-ttu-id="092ce-144">Para obtener más información, vea [contextos de dispositivo de pantalla primaria](parent-display-device-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="092ce-144">For more information; see [Parent Display Device Contexts](parent-display-device-contexts.md).</span></span>

 

 
