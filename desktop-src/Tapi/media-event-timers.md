---
description: Muchas aplicaciones dependen de la relación de sincronización entre los eventos multimedia (por ejemplo, los dígitos DTMF recibidos) para determinar la naturaleza de una operación solicitada.
ms.assetid: 8d25a31f-de40-4c74-b8e7-a81fbfd47db2
title: Temporizadores de eventos multimedia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4a584518c9c33e8991bd2388f01cb863bab1c7a3
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/03/2021
ms.locfileid: "105689649"
---
# <a name="media-event-timers"></a><span data-ttu-id="da11d-103">Temporizadores de eventos multimedia</span><span class="sxs-lookup"><span data-stu-id="da11d-103">Media Event Timers</span></span>

<span data-ttu-id="da11d-104">Muchas aplicaciones dependen de la relación de sincronización entre los eventos multimedia (por ejemplo, los dígitos DTMF recibidos) para determinar la naturaleza de una operación solicitada.</span><span class="sxs-lookup"><span data-stu-id="da11d-104">Many applications depend on the timing relationship between media events (for example, DTMF digits received) to determine the nature of a requested operation.</span></span> <span data-ttu-id="da11d-105">Por ejemplo, en una aplicación de correo de voz, dos dígitos de DTMF "1" consecutivos pueden significar "hacer una copia de seguridad de dos segmentos" o "reproducir desde el principio del mensaje", dependiendo de cuánto tiempo transcurrido entre los dos dígitos.</span><span class="sxs-lookup"><span data-stu-id="da11d-105">For example, in a voice mail application, two consecutive DTMF "1" digits may mean "back up two segments" or "replay from beginning of message", depending on how much time elapsed between the two digits.</span></span> <span data-ttu-id="da11d-106">En un entorno cliente/servidor, si la detección de DTMF se realiza en un procesador independiente del que se está ejecutando la aplicación, la latencia en la red de área local hace que sea muy probable que la relación de sincronización entre eventos multimedia se sesgado, con el resultado de que estas diferencias basadas en el tiempo podrían perderse o ser poco confiables.</span><span class="sxs-lookup"><span data-stu-id="da11d-106">In a client/server environment, if the DTMF detection is being performed on a separate processor from the one on which the application is running, latency in the local area network makes it very likely that the timing relationship between media events will be skewed, with the result that these timing-based differences could be lost or become unreliable.</span></span>

<span data-ttu-id="da11d-107">Para resolver este problema, se puede asignar una marca de tiempo a varios mensajes TAPI.</span><span class="sxs-lookup"><span data-stu-id="da11d-107">To resolve this issue, several TAPI messages can be timestamped.</span></span> <span data-ttu-id="da11d-108">Dado que es el control de tiempo relativo entre estos eventos que es importante, el "tiempo de reloj" del evento no es importante y el tiempo de subsegundo está implicado, estas marcas de tiempo usan el "tiempo de resolución de milisegundos desde que se inició Windows" devuelto por la función [**GetTickCount**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-gettickcount) .</span><span class="sxs-lookup"><span data-stu-id="da11d-108">Because it is the relative timing between these events that is important, the "clock time" of the event is not important, and sub-second timing is involved, these timestamps use the millisecond-resolution "time since Windows started" returned by the [**GetTickCount**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-gettickcount) function.</span></span> <span data-ttu-id="da11d-109">Las aplicaciones deben tener en cuenta que este es el número de pasos en el servidor (o el equipo donde se está ejecutando el proveedor de servicios que administra directamente el hardware) y no es necesariamente el mismo equipo en el que se ejecuta la aplicación. por lo tanto, las marcas de tiempo de estos mensajes TAPI solo se pueden comparar entre sí, y no con el valor devuelto por **GetTickCount** en el procesador en el que se ejecuta la aplicación.</span><span class="sxs-lookup"><span data-stu-id="da11d-109">Applications must be aware that this is the tick count on the server (or machine where the service provider directly managing the hardware is running), and is not necessarily the same machine on which the application is executing; thus, the timestamps in these TAPI messages can only be compared to each other, and not to the value returned by **GetTickCount** on the processor on which the application is running.</span></span>

<span data-ttu-id="da11d-110">Los mensajes TAPI que pueden marcarse como marcas de tiempo son: [**line \_ GATHERDIGITS**](line-gatherdigits.md), [**line \_ Generate**](line-generate.md), [**line \_ MONITORDIGITS**](line-monitordigits.md), [**line \_ MONITORMEDIA**](line-monitormedia.md)y [**line \_ MONITORTONE**](line-monitortone.md).</span><span class="sxs-lookup"><span data-stu-id="da11d-110">The TAPI messages that can be timestamped are: [**LINE\_GATHERDIGITS**](line-gatherdigits.md), [**LINE\_GENERATE**](line-generate.md), [**LINE\_MONITORDIGITS**](line-monitordigits.md), [**LINE\_MONITORMEDIA**](line-monitormedia.md), and [**LINE\_MONITORTONE**](line-monitortone.md).</span></span> <span data-ttu-id="da11d-111">El recuento de pasos se inserta en *dwParam3* de estos mensajes.</span><span class="sxs-lookup"><span data-stu-id="da11d-111">The tick count is inserted into *dwParam3* of these messages.</span></span> <span data-ttu-id="da11d-112">Si el proveedor de servicios no admite la marca de tiempo (que se indica mediante la configuración del proveedor de servicios *dwParam3* en estos mensajes en 0), TAPI insertará el número de pasos en *dwParam3* de todos estos mensajes (se puede sesgar en cierto modo, pero menor que si la aplicación hizo lo mismo después de que los mensajes hubieran recorrido un esquema de comunicación entre procesos).</span><span class="sxs-lookup"><span data-stu-id="da11d-112">If timestamping is not supported by the service provider (which is indicated by the service provider setting *dwParam3* in these messages to 0), then TAPI itself will insert the tick count into *dwParam3* of all of these messages (it can be skewed somewhat, but less than if the application did the same after the messages had traversed an interprocess communication scheme).</span></span>

 

 
