---
title: Operaciones del portapapeles
description: Una ventana debe usar el Portapapeles al cortar, copiar o pegar datos. Una ventana coloca los datos en el portapapeles para las operaciones de cortar y copiar y recupera los datos del portapapeles para las operaciones de pegado.
ms.assetid: 27f9142c-3154-4de5-aea6-3c53f7e940ec
keywords:
- Interfaz de usuario de Windows, Portapapeles
- portapapeles, Windows
- portapapeles, cortar datos
- portapapeles, copiar datos
- portapapeles, pegar datos
- portapapeles, ventana propietaria
- portapapeles, representación diferida
- portapapeles, memoria
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5cb2c3451cf562b35b976e137a974e19892acbb3
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104359333"
---
# <a name="clipboard-operations"></a><span data-ttu-id="6dd24-112">Operaciones del portapapeles</span><span class="sxs-lookup"><span data-stu-id="6dd24-112">Clipboard Operations</span></span>

<span data-ttu-id="6dd24-113">Una ventana debe usar el Portapapeles al cortar, copiar o pegar datos.</span><span class="sxs-lookup"><span data-stu-id="6dd24-113">A window should use the clipboard when cutting, copying, or pasting data.</span></span> <span data-ttu-id="6dd24-114">Una ventana coloca los datos en el portapapeles para las operaciones de cortar y copiar y recupera los datos del portapapeles para las operaciones de pegado.</span><span class="sxs-lookup"><span data-stu-id="6dd24-114">A window places data on the clipboard for cut and copy operations and retrieves data from the clipboard for paste operations.</span></span> <span data-ttu-id="6dd24-115">En las secciones siguientes se describen estas operaciones y problemas relacionados.</span><span class="sxs-lookup"><span data-stu-id="6dd24-115">The following sections describe these operations and related issues.</span></span>

<span data-ttu-id="6dd24-116">Para colocar datos o recuperar datos del portapapeles, una ventana debe abrir primero el portapapeles mediante la función [**OpenClipboard**](/windows/desktop/api/Winuser/nf-winuser-openclipboard) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-116">To place data on or retrieve data from the clipboard, a window must first open the clipboard by using the [**OpenClipboard**](/windows/desktop/api/Winuser/nf-winuser-openclipboard) function.</span></span> <span data-ttu-id="6dd24-117">Solo una ventana puede tener el portapapeles abierto a la vez.</span><span class="sxs-lookup"><span data-stu-id="6dd24-117">Only one window can have the clipboard open at a time.</span></span> <span data-ttu-id="6dd24-118">Para averiguar qué ventana tiene abierto el portapapeles, llame a la función [**GetOpenClipboardWindow**](/windows/desktop/api/Winuser/nf-winuser-getopenclipboardwindow) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-118">To find out which window has the clipboard open, call the [**GetOpenClipboardWindow**](/windows/desktop/api/Winuser/nf-winuser-getopenclipboardwindow) function.</span></span> <span data-ttu-id="6dd24-119">Cuando haya terminado, la ventana debe cerrar el portapapeles mediante una llamada a la función [**CloseClipboard**](/windows/desktop/api/Winuser/nf-winuser-closeclipboard) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-119">When it has finished, the window must close the clipboard by calling the [**CloseClipboard**](/windows/desktop/api/Winuser/nf-winuser-closeclipboard) function.</span></span>

<span data-ttu-id="6dd24-120">Los temas siguientes se describen en esta sección.</span><span class="sxs-lookup"><span data-stu-id="6dd24-120">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="6dd24-121">Operaciones de cortar y copiar</span><span class="sxs-lookup"><span data-stu-id="6dd24-121">Cut and Copy Operations</span></span>](#cut-and-copy-operations)
-   [<span data-ttu-id="6dd24-122">Operaciones de pegar</span><span class="sxs-lookup"><span data-stu-id="6dd24-122">Paste Operations</span></span>](#paste-operations)
-   [<span data-ttu-id="6dd24-123">Propiedad del portapapeles</span><span class="sxs-lookup"><span data-stu-id="6dd24-123">Clipboard Ownership</span></span>](#clipboard-ownership)
-   [<span data-ttu-id="6dd24-124">Representación diferida</span><span class="sxs-lookup"><span data-stu-id="6dd24-124">Delayed Rendering</span></span>](#delayed-rendering)
-   [<span data-ttu-id="6dd24-125">Memoria y Portapapeles</span><span class="sxs-lookup"><span data-stu-id="6dd24-125">Memory and the Clipboard</span></span>](#memory-and-the-clipboard)

## <a name="cut-and-copy-operations"></a><span data-ttu-id="6dd24-126">Operaciones de cortar y copiar</span><span class="sxs-lookup"><span data-stu-id="6dd24-126">Cut and Copy Operations</span></span>

<span data-ttu-id="6dd24-127">Para colocar información en el portapapeles, una ventana borra primero cualquier contenido anterior del portapapeles mediante la función [**EmptyClipboard**](/windows/win32/api/winuser/nf-winuser-emptyclipboard) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-127">To place information on the clipboard, a window first clears any previous clipboard content by using the [**EmptyClipboard**](/windows/win32/api/winuser/nf-winuser-emptyclipboard) function.</span></span> <span data-ttu-id="6dd24-128">Esta función envía el mensaje de [**\_ DESTROYCLIPBOARD de WM**](wm-destroyclipboard.md) al propietario anterior del portapapeles, libera los recursos asociados a los datos del portapapeles y asigna la propiedad del portapapeles a la ventana que tiene el portapapeles abierto.</span><span class="sxs-lookup"><span data-stu-id="6dd24-128">This function sends the [**WM\_DESTROYCLIPBOARD**](wm-destroyclipboard.md) message to the previous clipboard owner, frees resources associated with data on the clipboard, and assigns clipboard ownership to the window that has the clipboard open.</span></span> <span data-ttu-id="6dd24-129">Para averiguar qué ventana es propietaria del portapapeles, llame a la función [**GetClipboardOwner**](/windows/win32/api/winuser/nf-winuser-getclipboardowner) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-129">To find out which window owns the clipboard, call the [**GetClipboardOwner**](/windows/win32/api/winuser/nf-winuser-getclipboardowner) function.</span></span>

<span data-ttu-id="6dd24-130">Después de vaciar el portapapeles, la ventana coloca los datos en el portapapeles en tantos formatos del portapapeles como sea posible, ordenados desde el formato de Portapapeles más descriptivo hasta el menos descriptivo.</span><span class="sxs-lookup"><span data-stu-id="6dd24-130">After emptying the clipboard, the window places data on the clipboard in as many clipboard formats as possible, ordered from the most descriptive clipboard format to the least descriptive.</span></span> <span data-ttu-id="6dd24-131">Para cada formato, la ventana llama a la función [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) , especificando el identificador de formato y un identificador de memoria global.</span><span class="sxs-lookup"><span data-stu-id="6dd24-131">For each format, the window calls the [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) function, specifying the format identifier and a global memory handle.</span></span> <span data-ttu-id="6dd24-132">El identificador de memoria puede ser NULL, lo que indica que la ventana representa los datos a petición.</span><span class="sxs-lookup"><span data-stu-id="6dd24-132">The memory handle can be NULL, indicating that the window renders the data on request.</span></span> <span data-ttu-id="6dd24-133">Para obtener más información, consulte [representación diferida](#delayed-rendering).</span><span class="sxs-lookup"><span data-stu-id="6dd24-133">For more information, see [Delayed Rendering](#delayed-rendering).</span></span>

## <a name="paste-operations"></a><span data-ttu-id="6dd24-134">Operaciones de pegar</span><span class="sxs-lookup"><span data-stu-id="6dd24-134">Paste Operations</span></span>

<span data-ttu-id="6dd24-135">Para recuperar la información de pegado del portapapeles, una ventana determina primero el formato del portapapeles que se va a recuperar.</span><span class="sxs-lookup"><span data-stu-id="6dd24-135">To retrieve paste information from the clipboard, a window first determines the clipboard format to retrieve.</span></span> <span data-ttu-id="6dd24-136">Normalmente, una ventana enumera los formatos de Portapapeles disponibles mediante la función [**EnumClipboardFormats**](/windows/desktop/api/Winuser/nf-winuser-enumclipboardformats) y usa el primer formato que reconozca.</span><span class="sxs-lookup"><span data-stu-id="6dd24-136">Typically, a window enumerates the available clipboard formats by using the [**EnumClipboardFormats**](/windows/desktop/api/Winuser/nf-winuser-enumclipboardformats) function and uses the first format it recognizes.</span></span> <span data-ttu-id="6dd24-137">Este método selecciona el mejor formato disponible según la prioridad establecida cuando se colocan los datos en el portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-137">This method selects the best available format according to the priority set when the data was placed on the clipboard.</span></span>

<span data-ttu-id="6dd24-138">Como alternativa, una ventana puede utilizar la función [**GetPriorityClipboardFormat**](/windows/desktop/api/Winuser/nf-winuser-getpriorityclipboardformat) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-138">Alternatively, a window can use the [**GetPriorityClipboardFormat**](/windows/desktop/api/Winuser/nf-winuser-getpriorityclipboardformat) function.</span></span> <span data-ttu-id="6dd24-139">Esta función identifica el mejor formato de Portapapeles disponible según una prioridad especificada.</span><span class="sxs-lookup"><span data-stu-id="6dd24-139">This function identifies the best available clipboard format according to a specified priority.</span></span> <span data-ttu-id="6dd24-140">Una ventana que solo reconoce un formato de Portapapeles puede determinar simplemente si ese formato está disponible mediante la función [**IsClipboardFormatAvailable**](/windows/desktop/api/Winuser/nf-winuser-isclipboardformatavailable) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-140">A window that recognizes only one clipboard format can simply determine whether that format is available by using the [**IsClipboardFormatAvailable**](/windows/desktop/api/Winuser/nf-winuser-isclipboardformatavailable) function.</span></span>

<span data-ttu-id="6dd24-141">Después de determinar el formato del portapapeles que se va a usar, una ventana llama a la función [**GetClipboardData**](/windows/desktop/api/Winuser/nf-winuser-getclipboarddata) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-141">After determining the clipboard format to use, a window calls the [**GetClipboardData**](/windows/desktop/api/Winuser/nf-winuser-getclipboarddata) function.</span></span> <span data-ttu-id="6dd24-142">Esta función devuelve el identificador de un objeto de memoria global que contiene datos con el formato especificado.</span><span class="sxs-lookup"><span data-stu-id="6dd24-142">This function returns the handle to a global memory object containing data in the specified format.</span></span> <span data-ttu-id="6dd24-143">Una ventana puede bloquear brevemente el objeto de memoria para examinar o copiar los datos.</span><span class="sxs-lookup"><span data-stu-id="6dd24-143">A window can briefly lock the memory object in order to examine or copy the data.</span></span> <span data-ttu-id="6dd24-144">Sin embargo, una ventana no debe liberar el objeto ni dejarlo bloqueado durante un largo período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="6dd24-144">However, a window should not free the object or leave it locked for a long period of time.</span></span>

## <a name="clipboard-ownership"></a><span data-ttu-id="6dd24-145">Propiedad del portapapeles</span><span class="sxs-lookup"><span data-stu-id="6dd24-145">Clipboard Ownership</span></span>

<span data-ttu-id="6dd24-146">El *propietario del portapapeles* es la ventana asociada a la información del portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-146">The *clipboard owner* is the window associated with the information on the clipboard.</span></span> <span data-ttu-id="6dd24-147">Una ventana se convierte en el propietario del portapapeles cuando coloca datos en el portapapeles, en concreto, cuando llama a la función [**EmptyClipboard**](/windows/desktop/api/Winuser/nf-winuser-emptyclipboard) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-147">A window becomes the clipboard owner when it places data on the clipboard, specifically, when it calls the [**EmptyClipboard**](/windows/desktop/api/Winuser/nf-winuser-emptyclipboard) function.</span></span> <span data-ttu-id="6dd24-148">La ventana sigue siendo el propietario del Portapapeles hasta que se cierra o hasta que otra ventana vacía el portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-148">The window remains the clipboard owner until it is closed or another window empties the clipboard.</span></span>

<span data-ttu-id="6dd24-149">Cuando se vacía el portapapeles, el propietario del portapapeles recibe un mensaje de [**\_ DESTROYCLIPBOARD de WM**](wm-destroyclipboard.md) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-149">When the clipboard is emptied, the clipboard owner receives a [**WM\_DESTROYCLIPBOARD**](wm-destroyclipboard.md) message.</span></span> <span data-ttu-id="6dd24-150">A continuación se indican algunos de los motivos por los que una ventana podría procesar este mensaje:</span><span class="sxs-lookup"><span data-stu-id="6dd24-150">Following are some reasons why a window might process this message:</span></span>

-   <span data-ttu-id="6dd24-151">La representación retrasada de una o varias formatos del portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-151">The window delayed rendering of one or more clipboard formats.</span></span> <span data-ttu-id="6dd24-152">En respuesta al mensaje [**de \_ DESTROYCLIPBOARD de WM**](wm-destroyclipboard.md) , es posible que la ventana libere recursos asignados para representar los datos a petición.</span><span class="sxs-lookup"><span data-stu-id="6dd24-152">In response to the [**WM\_DESTROYCLIPBOARD**](wm-destroyclipboard.md) message, the window might free resources it had allocated in order to render data on request.</span></span> <span data-ttu-id="6dd24-153">Para obtener más información sobre la representación de datos, vea [retardo](#delayed-rendering)en la representación.</span><span class="sxs-lookup"><span data-stu-id="6dd24-153">For more information about the rendering of data, see [Delayed Rendering](#delayed-rendering).</span></span>
-   <span data-ttu-id="6dd24-154">La ventana colocó los datos en el portapapeles en un formato privado del portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-154">The window placed data on the clipboard in a private clipboard format.</span></span> <span data-ttu-id="6dd24-155">El sistema no libera los datos para los formatos privados del portapapeles cuando se vacía el portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-155">The data for private clipboard formats is not freed by the system when the clipboard is emptied.</span></span> <span data-ttu-id="6dd24-156">Por lo tanto, el propietario del portapapeles debe liberar los datos al recibir el mensaje de [**\_ DESTROYCLIPBOARD de WM**](wm-destroyclipboard.md) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-156">Therefore, the clipboard owner should free the data upon receiving the [**WM\_DESTROYCLIPBOARD**](wm-destroyclipboard.md) message.</span></span> <span data-ttu-id="6dd24-157">Para obtener más información acerca de los formatos privados del portapapeles, vea [formatos del portapapeles](clipboard-formats.md).</span><span class="sxs-lookup"><span data-stu-id="6dd24-157">For more information about private clipboard formats, see [Clipboard Formats](clipboard-formats.md).</span></span>
-   <span data-ttu-id="6dd24-158">La ventana colocó datos en el Portapapeles con el formato de Portapapeles de **\_ OWNERDISPLAY de CF** .</span><span class="sxs-lookup"><span data-stu-id="6dd24-158">The window placed data on the clipboard using the **CF\_OWNERDISPLAY** clipboard format.</span></span> <span data-ttu-id="6dd24-159">En respuesta al mensaje [**de \_ DESTROYCLIPBOARD de WM**](wm-destroyclipboard.md) , es posible que la ventana libere los recursos que se utilizaron para mostrar información en la ventana del visor del portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-159">In response to the [**WM\_DESTROYCLIPBOARD**](wm-destroyclipboard.md) message, the window might free resources it had used to display information in the clipboard viewer window.</span></span> <span data-ttu-id="6dd24-160">Para obtener más información acerca de este formato alternativo, consulte [formato de presentación de propietario](about-the-clipboard.md).</span><span class="sxs-lookup"><span data-stu-id="6dd24-160">For more information about this alternative format, see [Owner Display Format](about-the-clipboard.md).</span></span>

## <a name="delayed-rendering"></a><span data-ttu-id="6dd24-161">Representación diferida</span><span class="sxs-lookup"><span data-stu-id="6dd24-161">Delayed Rendering</span></span>

<span data-ttu-id="6dd24-162">Al colocar un formato de Portapapeles en el portapapeles, una ventana puede retrasar la representación de los datos en ese formato hasta que se necesiten los datos.</span><span class="sxs-lookup"><span data-stu-id="6dd24-162">When placing a clipboard format on the clipboard, a window can delay rendering the data in that format until the data is needed.</span></span> <span data-ttu-id="6dd24-163">Para ello, una aplicación puede especificar **null** para el parámetro *hData* de la función [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-163">To do so, an application can specify **NULL** for the *hData* parameter of the [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) function.</span></span> <span data-ttu-id="6dd24-164">Esto resulta útil si la aplicación admite varios formatos del portapapeles, algunos o todos ellos requieren mucho tiempo para representarse.</span><span class="sxs-lookup"><span data-stu-id="6dd24-164">This is useful if the application supports several clipboard formats, some or all of which are time-consuming to render.</span></span> <span data-ttu-id="6dd24-165">Al pasar un identificador **nulo** , una ventana solo presenta formatos complejos del portapapeles cuando y si son necesarios.</span><span class="sxs-lookup"><span data-stu-id="6dd24-165">By passing a **NULL** handle, a window renders complex clipboard formats only when and if they are needed.</span></span>

<span data-ttu-id="6dd24-166">Si una ventana retrasa la representación del formato del portapapeles, debe estar preparada para que represente el formato cuando se solicite, siempre y cuando sea el propietario del portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-166">If a window delays rendering a clipboard format, it must be prepared to render the format upon request for as long as it is the clipboard owner.</span></span> <span data-ttu-id="6dd24-167">El sistema envía el propietario del portapapeles a un mensaje de [**WM \_ RENDERFORMAT**](wm-renderformat.md) cuando se recibe una solicitud para un formato específico que no se ha representado.</span><span class="sxs-lookup"><span data-stu-id="6dd24-167">The system sends the clipboard owner a [**WM\_RENDERFORMAT**](wm-renderformat.md) message when a request is received for a specific format that has not been rendered.</span></span> <span data-ttu-id="6dd24-168">Al recibir este mensaje, la ventana debe llamar a la función [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) para colocar un identificador de memoria global en el portapapeles en el formato solicitado.</span><span class="sxs-lookup"><span data-stu-id="6dd24-168">Upon receiving this message, the window should call the [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) function to place a global memory handle on the clipboard in the requested format.</span></span>

<span data-ttu-id="6dd24-169">Una aplicación no debe abrir el portapapeles antes de llamar a [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) en respuesta al mensaje de [**\_ RENDERFORMAT de WM**](wm-renderformat.md) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-169">An application must not open the clipboard before calling [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) in response to the [**WM\_RENDERFORMAT**](wm-renderformat.md) message.</span></span> <span data-ttu-id="6dd24-170">No es necesario abrir el portapapeles y cualquier intento de hacerlo producirá un error porque el Portapapeles está siendo abierto actualmente por la aplicación que solicitó el formato que se va a representar.</span><span class="sxs-lookup"><span data-stu-id="6dd24-170">Opening the clipboard is not necessary, and any attempt to do so will fail because the clipboard is currently being held open by the application that requested the format to be rendered.</span></span>

<span data-ttu-id="6dd24-171">Si el propietario del Portapapeles está a punto de ser destruido y ha retrasado la representación de algunos o todos los formatos del portapapeles, recibe el mensaje de [**\_ RENDERALLFORMATS de WM**](wm-renderallformats.md) .</span><span class="sxs-lookup"><span data-stu-id="6dd24-171">If the clipboard owner is about to be destroyed and has delayed rendering some or all clipboard formats, it receives the [**WM\_RENDERALLFORMATS**](wm-renderallformats.md) message.</span></span> <span data-ttu-id="6dd24-172">Al recibir este mensaje, la ventana debe abrir el portapapeles, comprobar que sigue siendo el propietario del Portapapeles con la función [**GetClipboardOwner**](/windows/win32/api/winuser/nf-winuser-getclipboardowner) y, a continuación, colocar los identificadores de memoria válidos en el portapapeles para todos los formatos del portapapeles que proporciona.</span><span class="sxs-lookup"><span data-stu-id="6dd24-172">Upon receiving this message, the window should open the clipboard, check that it is still the clipboard owner with the the [**GetClipboardOwner**](/windows/win32/api/winuser/nf-winuser-getclipboardowner) function, and then place valid memory handles on the clipboard for all clipboard formats that it provides.</span></span> <span data-ttu-id="6dd24-173">Esto garantiza que estos formatos permanecen disponibles una vez destruido el propietario del portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-173">This ensures that these formats remain available after the clipboard owner is destroyed.</span></span>

<span data-ttu-id="6dd24-174">A diferencia de [**\_ RENDERFORMAT de WM**](wm-renderformat.md), una aplicación que responde a [**WM \_ RENDERALLFORMATS**](wm-renderallformats.md) debe abrir el portapapeles antes de llamar a [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) para colocar los controladores de memoria globales en el portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-174">Unlike with [**WM\_RENDERFORMAT**](wm-renderformat.md), an application responding to [**WM\_RENDERALLFORMATS**](wm-renderallformats.md) should open the clipboard before calling [**SetClipboardData**](/windows/win32/api/winuser/nf-winuser-setclipboarddata) to place any global memory handles on the clipboard.</span></span>

<span data-ttu-id="6dd24-175">Los formatos del portapapeles que no se representen en respuesta al mensaje de [**\_ RENDERALLFORMATS de WM**](wm-renderallformats.md) dejan de estar disponibles para otras aplicaciones y ya no se enumeran en las funciones del portapapeles.</span><span class="sxs-lookup"><span data-stu-id="6dd24-175">Any clipboard formats that are not rendered in response to the [**WM\_RENDERALLFORMATS**](wm-renderallformats.md) message cease to be available to other applications and are no longer enumerated by the clipboard functions.</span></span>

## <a name="memory-and-the-clipboard"></a><span data-ttu-id="6dd24-176">Memoria y Portapapeles</span><span class="sxs-lookup"><span data-stu-id="6dd24-176">Memory and the Clipboard</span></span>

<span data-ttu-id="6dd24-177">Se debe asignar un objeto de memoria que se va a colocar en el portapapeles mediante la función [**GlobalAlloc**](/windows/desktop/api/winbase/nf-winbase-globalalloc) con la marca **\_ móvil GMEM** .</span><span class="sxs-lookup"><span data-stu-id="6dd24-177">A memory object that is to be placed on the clipboard should be allocated by using the [**GlobalAlloc**](/windows/desktop/api/winbase/nf-winbase-globalalloc) function with the **GMEM\_MOVEABLE** flag.</span></span>

<span data-ttu-id="6dd24-178">Después de colocar un objeto de memoria en el portapapeles, la propiedad de ese identificador de memoria se transfiere al sistema.</span><span class="sxs-lookup"><span data-stu-id="6dd24-178">After a memory object is placed on the clipboard, ownership of that memory handle is transferred to the system.</span></span> <span data-ttu-id="6dd24-179">Cuando se vacía el portapapeles y el objeto de memoria tiene uno de los siguientes formatos del portapapeles, el sistema libera el objeto de memoria mediante una llamada a la función especificada:</span><span class="sxs-lookup"><span data-stu-id="6dd24-179">When the clipboard is emptied and the memory object has one of the following clipboard formats, the system frees the memory object by calling the specified function:</span></span>



| <span data-ttu-id="6dd24-180">Función para liberar el objeto</span><span class="sxs-lookup"><span data-stu-id="6dd24-180">Function to free object</span></span>                             | <span data-ttu-id="6dd24-181">Formato del portapapeles</span><span class="sxs-lookup"><span data-stu-id="6dd24-181">Clipboard format</span></span>                                                                                                                                               |
|-----------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6dd24-182">**DeleteMetaFile**</span><span class="sxs-lookup"><span data-stu-id="6dd24-182">**DeleteMetaFile**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-deletemetafile)<br/> | <span data-ttu-id="6dd24-183">**CF \_ DSPENHMETAFILE**</span><span class="sxs-lookup"><span data-stu-id="6dd24-183">**CF\_DSPENHMETAFILE**</span></span><br/> <span data-ttu-id="6dd24-184">**CF \_ DSPMETAFILEPICT**</span><span class="sxs-lookup"><span data-stu-id="6dd24-184">**CF\_DSPMETAFILEPICT**</span></span><br/> <span data-ttu-id="6dd24-185">**CF \_ ENHMETAFILE**</span><span class="sxs-lookup"><span data-stu-id="6dd24-185">**CF\_ENHMETAFILE**</span></span><br/> <span data-ttu-id="6dd24-186">**CF \_ METAFILEPICT**</span><span class="sxs-lookup"><span data-stu-id="6dd24-186">**CF\_METAFILEPICT**</span></span><br/>                            |
| [<span data-ttu-id="6dd24-187">**DeleteObject**</span><span class="sxs-lookup"><span data-stu-id="6dd24-187">**DeleteObject**</span></span>](/windows/desktop/api/wingdi/nf-wingdi-deleteobject)<br/>     | <span data-ttu-id="6dd24-188">**mapa de bits de CF \_**</span><span class="sxs-lookup"><span data-stu-id="6dd24-188">**CF\_BITMAP**</span></span><br/> <span data-ttu-id="6dd24-189">**CF \_ DSPBITMAP**</span><span class="sxs-lookup"><span data-stu-id="6dd24-189">**CF\_DSPBITMAP**</span></span><br/> <span data-ttu-id="6dd24-190">**\_paleta CF**</span><span class="sxs-lookup"><span data-stu-id="6dd24-190">**CF\_PALETTE**</span></span><br/>                                                                              |
| [<span data-ttu-id="6dd24-191">**GlobalFree**</span><span class="sxs-lookup"><span data-stu-id="6dd24-191">**GlobalFree**</span></span>](/windows/desktop/api/winbase/nf-winbase-globalfree)<br/>        | <span data-ttu-id="6dd24-192">**DIB de CF \_**</span><span class="sxs-lookup"><span data-stu-id="6dd24-192">**CF\_DIB**</span></span><br/> <span data-ttu-id="6dd24-193">**CF \_ DIBV5**</span><span class="sxs-lookup"><span data-stu-id="6dd24-193">**CF\_DIBV5**</span></span><br/> <span data-ttu-id="6dd24-194">**CF \_ DSPTEXT**</span><span class="sxs-lookup"><span data-stu-id="6dd24-194">**CF\_DSPTEXT**</span></span><br/> <span data-ttu-id="6dd24-195">**CF \_ OEMTEXT**</span><span class="sxs-lookup"><span data-stu-id="6dd24-195">**CF\_OEMTEXT**</span></span><br/> <span data-ttu-id="6dd24-196">**\_texto CF**</span><span class="sxs-lookup"><span data-stu-id="6dd24-196">**CF\_TEXT**</span></span><br/> <span data-ttu-id="6dd24-197">**CF \_ UNICODETEXT**</span><span class="sxs-lookup"><span data-stu-id="6dd24-197">**CF\_UNICODETEXT**</span></span><br/>   |
| <span data-ttu-id="6dd24-198">ninguno</span><span class="sxs-lookup"><span data-stu-id="6dd24-198">none</span></span><br/>                                     | <span data-ttu-id="6dd24-199">**CF \_ OWNERDISPLAY**</span><span class="sxs-lookup"><span data-stu-id="6dd24-199">**CF\_OWNERDISPLAY**</span></span><br/> <span data-ttu-id="6dd24-200">Cuando el Portapapeles está vacío de un objeto **\_ OWNERDISPLAY de CF** , la propia aplicación debe liberar el objeto de memoria.</span><span class="sxs-lookup"><span data-stu-id="6dd24-200">When the clipboard is emptied of a **CF\_OWNERDISPLAY** object, the application itself must free the memory object.</span></span><br/> |



 

 

