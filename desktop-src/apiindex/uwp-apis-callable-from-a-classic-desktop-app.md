---
description: La regla general es que una aplicación de escritorio puede llamar a una API de Windows Runtime (WinRT). Sin embargo, algunas API, incluidas las API de la interfaz de usuario XAML, requieren que la aplicación que realiza la llamada tenga una identidad de paquete.
ms.assetid: F3808C28-72DE-49B5-A389-EB085EFC02CC
title: API de WinRT que se puede llamar desde una aplicación de escritorio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9083fbfb16391c626f49b79176fed7a81068c028
ms.sourcegitcommit: 0c786b1682063d0cae0fc43180945183fa2c7981
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/24/2020
ms.locfileid: "104078595"
---
# <a name="calling-winrt-apis-from-a-desktop-app"></a><span data-ttu-id="ed22d-104">Llamada a las API de WinRT desde una aplicación de escritorio</span><span class="sxs-lookup"><span data-stu-id="ed22d-104">Calling WinRT APIs from a desktop app</span></span>

<span data-ttu-id="ed22d-105">La regla general es que una aplicación de escritorio puede llamar a una API de WinRT.</span><span class="sxs-lookup"><span data-stu-id="ed22d-105">The general rule is that a desktop app can call a WinRT API.</span></span> <span data-ttu-id="ed22d-106">Sin embargo, algunas API, incluidas las API de la interfaz de usuario XAML, requieren que la aplicación que realiza la llamada tenga una identidad de paquete.</span><span class="sxs-lookup"><span data-stu-id="ed22d-106">However, some APIs, including the XAML UI APIs, require the calling app to have a package identity.</span></span> <span data-ttu-id="ed22d-107">Las aplicaciones para UWP tienen un modelo de aplicación bien definido y tienen una identidad de paquete.</span><span class="sxs-lookup"><span data-stu-id="ed22d-107">UWP apps have a well-defined app model, and they have a package identity.</span></span> <span data-ttu-id="ed22d-108">Los otros tipos de aplicaciones de escritorio no tienen un modelo de aplicación bien definido ni una identidad de paquete.</span><span class="sxs-lookup"><span data-stu-id="ed22d-108">The other types of desktop apps have neither a well-defined app model, nor a package identity.</span></span> <span data-ttu-id="ed22d-109">Por lo tanto, si una API requiere una identidad de paquete, una aplicación WPF, Windows Forms o Win32 no puede llamarla a menos que la aplicación [esté empaquetada en un paquete MSIX](/windows/msix/desktop/desktop-to-uwp-root).</span><span class="sxs-lookup"><span data-stu-id="ed22d-109">Therefore, if an API requires a package identity, a WPF, Windows Forms, or Win32 app cannot call it unless the app [is packaged in an MSIX package](/windows/msix/desktop/desktop-to-uwp-root).</span></span>

## <a name="the-dualapipartition-attribute"></a><span data-ttu-id="ed22d-110">El atributo DualApiPartition</span><span class="sxs-lookup"><span data-stu-id="ed22d-110">The DualApiPartition attribute</span></span>

<span data-ttu-id="ed22d-111">Este es el proceso que hay que seguir siempre que haya un WinRT determinado al que le gustaría llamar desde la aplicación de escritorio.</span><span class="sxs-lookup"><span data-stu-id="ed22d-111">This is the process to follow whenever there's a particular WinRT that you'd like to call from your desktop app.</span></span> <span data-ttu-id="ed22d-112">Este proceso responderá a la pregunta de si se permite llamar a la API desde una aplicación de escritorio.</span><span class="sxs-lookup"><span data-stu-id="ed22d-112">This process will answer the question of whether the API is allowed to be called from a desktop app.</span></span> <span data-ttu-id="ed22d-113">En primer lugar, visite la referencia de la [API de Windows para Windows Runtime aplicaciones](/uwp/), busque el tema de referencia de la API de clase o miembro que le interese y compruebe si el atributo [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) se encuentra en la sección de atributos.</span><span class="sxs-lookup"><span data-stu-id="ed22d-113">First, visit the [Windows API reference for Windows Runtime apps](/uwp/), find the reference topic for the class or member API you're interested in, and check whether the [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) attribute is listed in the Attributes section.</span></span>

## <a name="if-the-dualapipartition-attribute-is-listed"></a><span data-ttu-id="ed22d-114">Si se muestra el atributo DualApiPartition</span><span class="sxs-lookup"><span data-stu-id="ed22d-114">If the DualApiPartition attribute is listed</span></span>

<span data-ttu-id="ed22d-115">Si aparece el atributo DualApiPartition, la API no necesita que la aplicación que realiza la llamada tenga una identidad de paquete y se permite que se llame a la API desde cualquier aplicación de escritorio.</span><span class="sxs-lookup"><span data-stu-id="ed22d-115">If the DualApiPartition attribute is listed, the API does not need the calling app to have a package identity, and the API is allowed to be called from any desktop app.</span></span> <span data-ttu-id="ed22d-116">[**Windows. Devices. geolocation. geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) es un ejemplo; no es necesario que una aplicación se identifique de forma única para realizar tareas de ubicación.</span><span class="sxs-lookup"><span data-stu-id="ed22d-116">[**Windows.Devices.Geolocation.Geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) is an example; an app does not need to be uniquely identified in order to perform location tasks.</span></span>

## <a name="if-the-dualapipartition-attribute-is-not-listed"></a><span data-ttu-id="ed22d-117">Si el atributo DualApiPartition no aparece en la lista</span><span class="sxs-lookup"><span data-stu-id="ed22d-117">If the DualApiPartition attribute is not listed</span></span>

<span data-ttu-id="ed22d-118">Si el atributo DualApiPartition no aparece en la lista, la API necesita que la aplicación que realiza la llamada tenga una identidad de paquete.</span><span class="sxs-lookup"><span data-stu-id="ed22d-118">If the DualApiPartition attribute is not listed, the API does need the calling app to have a package identity.</span></span> <span data-ttu-id="ed22d-119">Por lo tanto, una aplicación de WPF, Windows Forms o Win32 no tiene permiso para llamar a la API a menos que la aplicación se haya convertido en una aplicación de UWP.</span><span class="sxs-lookup"><span data-stu-id="ed22d-119">Therefore a WPF, Windows Forms, or Win32 app is not allowed to call the API unless the app has been converted to a UWP app.</span></span> <span data-ttu-id="ed22d-120">[**Windows. UI. Xaml. Controls. Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) es un ejemplo.</span><span class="sxs-lookup"><span data-stu-id="ed22d-120">[**Windows.UI.Xaml.Controls.Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) is an example.</span></span>
