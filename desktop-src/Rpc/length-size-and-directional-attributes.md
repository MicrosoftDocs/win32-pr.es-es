---
title: Longitud, tamaño y atributos direccionales
description: Al pasar matrices entre el cliente y el servidor, los atributos relacionados con el tamaño \ Max \_ es \ y \ size \_ es \ determina cuántos elementos de matriz asigna el código auxiliar del servidor.
ms.assetid: 2c95cf47-6fc0-4ccd-bb4f-acf356596e56
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 98ffbf1ac75ad82a89e258ab595590fce2190b9e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103793131"
---
# <a name="length-size-and-directional-attributes"></a><span data-ttu-id="e789b-103">Longitud, tamaño y atributos direccionales</span><span class="sxs-lookup"><span data-stu-id="e789b-103">Length, Size, and Directional Attributes</span></span>

<span data-ttu-id="e789b-104">Al pasar matrices entre el cliente y el servidor, los atributos relacionados con el tamaño \[ [**Max \_ es**](/windows/desktop/Midl/max-is) \] y \[ [**size \_**](/windows/desktop/Midl/size-is) \] determina cuántos elementos de matriz asigna el código auxiliar del servidor.</span><span class="sxs-lookup"><span data-stu-id="e789b-104">In passing arrays between the client and the server, the size-related attributes \[[**max\_is**](/windows/desktop/Midl/max-is)\] and \[[**size\_is**](/windows/desktop/Midl/size-is)\] determine how many array elements the server stub allocates.</span></span> <span data-ttu-id="e789b-105">La longitud de los atributos relacionados con la longitud \[ [**\_ es**](/windows/desktop/Midl/length-is) \] , el \[ [**primero \_ es**](/windows/desktop/Midl/first-is) \] y \[ el [**último \_**](/windows/desktop/Midl/last-is) determina el \] número de elementos que se transmiten al servidor y al cliente.</span><span class="sxs-lookup"><span data-stu-id="e789b-105">The length-related attributes \[[**length\_is**](/windows/desktop/Midl/length-is)\], \[[**first\_is**](/windows/desktop/Midl/first-is)\], and \[[**last\_is**](/windows/desktop/Midl/last-is)\] determine how many elements are transmitted to both the server and the client.</span></span>

<span data-ttu-id="e789b-106">Se pueden aplicar atributos direccionales diferentes a los parámetros.</span><span class="sxs-lookup"><span data-stu-id="e789b-106">Different directional attributes can be applied to parameters.</span></span> <span data-ttu-id="e789b-107">Sin embargo, algunas combinaciones de atributos direccionales pueden producir errores.</span><span class="sxs-lookup"><span data-stu-id="e789b-107">However, some combinations of directional attributes can cause errors.</span></span> <span data-ttu-id="e789b-108">Por ejemplo, supongamos que está escribiendo una interfaz que especifica un procedimiento con dos parámetros, una matriz y la longitud transmitida de la matriz.</span><span class="sxs-lookup"><span data-stu-id="e789b-108">As an example, suppose you are writing an interface that specifies a procedure with two parameters, an array, and the transmitted length of the array.</span></span> <span data-ttu-id="e789b-109">El término *dir \_ ATTR* hace referencia al atributo direccional que se aplica al parámetro como:</span><span class="sxs-lookup"><span data-stu-id="e789b-109">The term *dir\_attr* refers to the directional attribute applied to the parameter as:</span></span>

``` syntax
Proc1(
    [dir_attr] short *plength;
    [dir_attr, length_is(pLength)] short array[MAX_SIZE]);
```

<span data-ttu-id="e789b-110">En la tabla siguiente se describe el comportamiento del compilador de MIDL para cada combinación de atributos direccionales.</span><span class="sxs-lookup"><span data-stu-id="e789b-110">The MIDL compiler behavior for each combination of directional attributes is described in the following table.</span></span>



| <span data-ttu-id="e789b-111">Array</span><span class="sxs-lookup"><span data-stu-id="e789b-111">Array</span></span>                                          | <span data-ttu-id="e789b-112">Parámetro de longitud</span><span class="sxs-lookup"><span data-stu-id="e789b-112">Length parameter</span></span>                               | <span data-ttu-id="e789b-113">Acciones de código auxiliar durante la llamada desde el cliente al servidor</span><span class="sxs-lookup"><span data-stu-id="e789b-113">Stub actions during call from client to server</span></span>                                                                                                                                                                                                                          | <span data-ttu-id="e789b-114">Acciones de código auxiliar en la devolución del servidor al cliente</span><span class="sxs-lookup"><span data-stu-id="e789b-114">Stub actions on return from server to client</span></span>                                                                                                                                                                         |
|------------------------------------------------|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e789b-115">\[[**de**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-115">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="e789b-116">\[[**de**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-116">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="e789b-117">Transmita la longitud y el número de elementos indicados por el parámetro.</span><span class="sxs-lookup"><span data-stu-id="e789b-117">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                                                                              | <span data-ttu-id="e789b-118">No se transmite ningún dato.</span><span class="sxs-lookup"><span data-stu-id="e789b-118">No data transmitted.</span></span>                                                                                                                                                                                                 |
| <span data-ttu-id="e789b-119">\[[**de**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-119">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="e789b-120">\[[**enuncia**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-120">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="e789b-121">No es legal; Error del compilador de MIDL.</span><span class="sxs-lookup"><span data-stu-id="e789b-121">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                                                                         | <span data-ttu-id="e789b-122">No es legal; Error del compilador de MIDL.</span><span class="sxs-lookup"><span data-stu-id="e789b-122">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                      |
| <span data-ttu-id="e789b-123">\[[**de**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-123">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="e789b-124">\[[**in**](/windows/desktop/Midl/in), [ **out**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-124">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="e789b-125">Transmita la longitud y el número de elementos indicados por el parámetro de longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-125">Transmit the length and the number of elements indicated by the length parameter.</span></span>                                                                                                                                                                                       | <span data-ttu-id="e789b-126">Transmita la longitud únicamente.</span><span class="sxs-lookup"><span data-stu-id="e789b-126">Transmit the length only.</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="e789b-127">\[[**enuncia**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-127">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="e789b-128">\[[**de**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-128">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="e789b-129">Transmita la longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-129">Transmit the length.</span></span><br/> <span data-ttu-id="e789b-130">Si el tamaño de la matriz es fijo, se asigna el tamaño de la matriz en el servidor, pero no se transmite ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="e789b-130">If array size is fixed, allocate the array size on the server, but transmit no elements.</span></span><br/> <span data-ttu-id="e789b-131">Si el tamaño de la matriz no está enlazado, no es válido: error del compilador de MIDL.</span><span class="sxs-lookup"><span data-stu-id="e789b-131">If array size is not bound, not legal: MIDL compiler error.</span></span><br/>                                                              | <span data-ttu-id="e789b-132">Transmita el número de elementos indicado por la longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-132">Transmit the number of elements indicated by the length.</span></span><br/> <span data-ttu-id="e789b-133">Tenga en cuenta que la longitud se puede cambiar y puede tener un valor diferente del valor en el cliente.</span><span class="sxs-lookup"><span data-stu-id="e789b-133">Note that the length can be changed and can have a different value from the value on the client.</span></span> <span data-ttu-id="e789b-134">No transmita la longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-134">Do not transmit the length.</span></span><br/>          |
| <span data-ttu-id="e789b-135">\[[**enuncia**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-135">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="e789b-136">\[[**enuncia**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-136">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="e789b-137">Asigne espacio para el parámetro de longitud en el servidor pero no transmita el parámetro.</span><span class="sxs-lookup"><span data-stu-id="e789b-137">Allocate space for the length parameter on the server but do not transmit the parameter.</span></span> <span data-ttu-id="e789b-138">Si el tamaño de la matriz es fijo, se asigna el tamaño de la matriz en el servidor, pero no se transmite ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="e789b-138">If the array size is fixed, allocate the array size on the server, but transmit no elements.</span></span><br/> <span data-ttu-id="e789b-139">Si el tamaño de la matriz no es fijo, no es válido: error del compilador de MIDL.</span><span class="sxs-lookup"><span data-stu-id="e789b-139">If array size is not fixed, not legal: MIDL compiler error.</span></span><br/> | <span data-ttu-id="e789b-140">Transmita la longitud y el número de elementos indicados por la longitud establecida por la aplicación de servidor.</span><span class="sxs-lookup"><span data-stu-id="e789b-140">Transmit the length and the number of elements indicated by the length as set by the server application.</span></span>                                                                                                             |
| <span data-ttu-id="e789b-141">\[[**enuncia**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-141">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="e789b-142">\[[**in**](/windows/desktop/Midl/in), [ **out**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-142">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="e789b-143">Transmita el parámetro de longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-143">Transmit the length parameter.</span></span> <span data-ttu-id="e789b-144">Si el tamaño de la matriz está enlazado, se asigna el tamaño de la matriz en el servidor, pero no se transmite ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="e789b-144">If the array size is bound, allocate the array size on the server, but transmit no elements.</span></span><br/> <span data-ttu-id="e789b-145">Si el tamaño de la matriz no está enlazado, no es válido: error del compilador de MIDL.</span><span class="sxs-lookup"><span data-stu-id="e789b-145">If array size is not bound, not legal: MIDL compiler error.</span></span><br/>                                                           | <span data-ttu-id="e789b-146">Transmita la longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-146">Transmit the length.</span></span> <span data-ttu-id="e789b-147">Transmita el número de elementos de matriz indicados por la longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-147">Transmit the number of array elements indicated by the length.</span></span><br/>                                                                                                                       |
| <span data-ttu-id="e789b-148">\[[**in**](/windows/desktop/Midl/in), [ **out**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-148">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="e789b-149">\[[**de**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-149">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="e789b-150">Transmita la longitud y el número de elementos indicados por el parámetro.</span><span class="sxs-lookup"><span data-stu-id="e789b-150">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                                                                              | <span data-ttu-id="e789b-151">No transmita la longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-151">Do not transmit the length.</span></span> <span data-ttu-id="e789b-152">Transmita el número de elementos indicado por la longitud.</span><span class="sxs-lookup"><span data-stu-id="e789b-152">Transmit the number of elements indicated by the length.</span></span><br/> <span data-ttu-id="e789b-153">Tenga en cuenta que la longitud se puede cambiar y puede tener un valor distinto del valor original en el cliente.</span><span class="sxs-lookup"><span data-stu-id="e789b-153">Note that the length can be changed and can have a different value from the original value on the client.</span></span><br/> |
| <span data-ttu-id="e789b-154">\[[**in**](/windows/desktop/Midl/in), [ **out**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-154">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="e789b-155">\[[**enuncia**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-155">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="e789b-156">No es legal; Error del compilador de MIDL.</span><span class="sxs-lookup"><span data-stu-id="e789b-156">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                                                                         | <span data-ttu-id="e789b-157">No es legal; Error del compilador de MIDL.</span><span class="sxs-lookup"><span data-stu-id="e789b-157">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                      |
| <span data-ttu-id="e789b-158">\[[**in**](/windows/desktop/Midl/in), [ **out**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-158">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="e789b-159">\[[**in**](/windows/desktop/Midl/in), [ **out**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="e789b-159">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="e789b-160">Transmita la longitud y el número de elementos indicados por el parámetro.</span><span class="sxs-lookup"><span data-stu-id="e789b-160">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                                                                              | <span data-ttu-id="e789b-161">Transmita la longitud y el número de elementos indicados por el parámetro.</span><span class="sxs-lookup"><span data-stu-id="e789b-161">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                           |



 

<span data-ttu-id="e789b-162">En general, no debe modificar los parámetros de longitud o tamaño en el lado del servidor.</span><span class="sxs-lookup"><span data-stu-id="e789b-162">In general, you should not modify the length or size parameters on the server side.</span></span> <span data-ttu-id="e789b-163">Si cambia el parámetro de longitud, puede obtener una memoria huérfana.</span><span class="sxs-lookup"><span data-stu-id="e789b-163">If you change the length parameter, you can orphan memory.</span></span> <span data-ttu-id="e789b-164">Para obtener más información, consulte [memoria huérfana](memory-orphaning.md).</span><span class="sxs-lookup"><span data-stu-id="e789b-164">For more information, see [Memory Orphaning](memory-orphaning.md).</span></span>

 

