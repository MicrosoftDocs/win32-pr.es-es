---
title: Establecer la seguridad de Process-Wide a través del registro
description: Si desea establecer la seguridad para un proceso completo, una solución consiste en establecer los niveles de seguridad que desee en el registro.
ms.assetid: 87f0a64f-f3ec-4ee2-8d65-4f82e8971f0b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d303f184229cb20aef1cbf71733956a3b6ce6618
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "103995664"
---
# <a name="setting-process-wide-security-through-the-registry"></a><span data-ttu-id="7dd5c-103">Establecer la seguridad de Process-Wide a través del registro</span><span class="sxs-lookup"><span data-stu-id="7dd5c-103">Setting Process-Wide Security Through the Registry</span></span>

<span data-ttu-id="7dd5c-104">Si desea establecer la seguridad para un proceso completo, una solución consiste en establecer los niveles de seguridad que desee en el registro.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-104">If you want to set security for an entire process, one solution is to set the security levels you want in the registry.</span></span> <span data-ttu-id="7dd5c-105">Si la aplicación no puede llamar a [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) o si prefiere no usar la seguridad mediante programación, podría ser una buena opción.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-105">If your application cannot call [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) or if you prefer not to use programmatic security, this might be a good option.</span></span> <span data-ttu-id="7dd5c-106">Si decide establecer la seguridad de todo el proceso mediante el registro, debe tener en cuenta que si llama a **CoInitializeSecurity** en el programa com, usará los valores de **CoInitializeSecurity** y omitirá los valores del registro.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-106">If you decide to set process-wide security using the registry, you should be aware that if you call **CoInitializeSecurity** within your program COM will use the values in **CoInitializeSecurity** and ignore the registry values.</span></span>

<span data-ttu-id="7dd5c-107">Hay dos maneras de establecer la seguridad en el registro de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="7dd5c-107">There are two ways to set security in the registry for your application:</span></span>

-   <span data-ttu-id="7dd5c-108">Puede usar Dcomcnfg.exe, que proporciona una interfaz de usuario simple para modificar los valores de seguridad.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-108">You can use Dcomcnfg.exe, which provides a simple user interface for modifying security values.</span></span> <span data-ttu-id="7dd5c-109">Todos los servidores COM se pueden configurar mediante Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-109">All COM servers can be configured using Dcomcnfg.exe.</span></span> <span data-ttu-id="7dd5c-110">Para obtener más información, vea [establecer la seguridad de Process-Wide mediante DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span><span class="sxs-lookup"><span data-stu-id="7dd5c-110">For more information, see [Setting Process-Wide Security Using DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span></span> <span data-ttu-id="7dd5c-111">Sin embargo, las aplicaciones cliente no aparecen normalmente en Dcomcnfg.exe a menos que el cliente cree un GUID y lo escriba en el registro.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-111">However, client applications do not normally appear in Dcomcnfg.exe unless the client creates a GUID and enters it in the registry.</span></span>
-   <span data-ttu-id="7dd5c-112">Puede establecer valores de seguridad en la clave [AppID](appid-key.md) de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-112">You can set security values under the [AppID](appid-key.md) key for the application.</span></span> <span data-ttu-id="7dd5c-113">En el resto de este tema se explica cómo establecer la seguridad en el registro mediante la clave **AppID** .</span><span class="sxs-lookup"><span data-stu-id="7dd5c-113">The rest of this topic explains how to set security in the registry using the **AppID** key.</span></span>

<span data-ttu-id="7dd5c-114">Un AppID es un GUID que representa un proceso de servidor para una o más clases.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-114">An AppID is a GUID that represents a server process for one or more classes.</span></span> <span data-ttu-id="7dd5c-115">Cada clase está asociada con exactamente un AppID y AppIDs solo se puede asignar a exe.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-115">Each class is associated with exactly one AppID, and AppIDs can be assigned only to EXEs.</span></span> <span data-ttu-id="7dd5c-116">Los archivos dll no obtienen AppIDs a menos que se ejecuten en un suplente y, a continuación, es el proceso suplente que tiene el AppID.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-116">DLLs do not get AppIDs unless they are running in a surrogate, and then it is the surrogate process that has the AppID.</span></span> <span data-ttu-id="7dd5c-117">Si se cargan varios archivos dll en un suplente, cada suplente tiene solo un AppID.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-117">If multiple DLLs are loaded into a surrogate, each surrogate has only one AppID.</span></span>

<span data-ttu-id="7dd5c-118">En algunos servidores COM, el código de registro genera un AppID y coloca entradas en el registro que asignan el AppID al nombre del archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-118">For some COM servers, the registration code generates an AppID and places entries in the registry that map the AppID to the name of the executable.</span></span> <span data-ttu-id="7dd5c-119">Sin embargo, algunos servidores COM no proporcionan esta funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-119">But some COM servers do not provide this functionality.</span></span> <span data-ttu-id="7dd5c-120">Sin embargo, si el código de registro del servidor agrega una entrada para \\ el CLSID HKCR {ServerCLSID} \\ [LocalServer32](localserver32.md) cuando se ejecuta dcomcnfg.exe, se agregará automáticamente un AppID para el CLSID.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-120">However, if the server's registration code adds an entry for HKCR\\CLSID{ServerCLSID}\\[LocalServer32](localserver32.md) when dcomcnfg.exe is run, it will automatically add an AppID for the CLSID.</span></span>

<span data-ttu-id="7dd5c-121">Para un cliente COM que no es un servidor, esta asignación no se crea porque el cliente nunca se registra.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-121">For a COM client that is not a server, this mapping is not created because the client is never registered.</span></span> <span data-ttu-id="7dd5c-122">Por consiguiente, para establecer la seguridad mediante la clave **AppID** , el cliente debe crear las entradas del registro necesarias, ya sea mediante programación con las [funciones del registro](/windows/desktop/SysInfo/registry-functions) o mediante regedit.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-122">Therefore, to set security using the **AppID** key, the client must create the necessary registry entries, either programmatically by using the [registry functions](/windows/desktop/SysInfo/registry-functions) or by using regedit.</span></span>

<span data-ttu-id="7dd5c-123">Si decide establecer la seguridad de todo el proceso en el registro con la clave **AppID** , tenga en cuenta que hay dos valores con nombre en la clave **AppID** que puede establecer sin tener permisos de administrador:</span><span class="sxs-lookup"><span data-stu-id="7dd5c-123">If you decide to set process-wide security in the registry under the **AppID** key, be aware that there are two named values under the **AppID** key that you can set without having administrator permissions:</span></span>

-   [<span data-ttu-id="7dd5c-124">AccessPermission</span><span class="sxs-lookup"><span data-stu-id="7dd5c-124">AccessPermission</span></span>](accesspermission.md)
-   [<span data-ttu-id="7dd5c-125">AuthenticationLevel</span><span class="sxs-lookup"><span data-stu-id="7dd5c-125">AuthenticationLevel</span></span>](authenticationlevel.md)

<span data-ttu-id="7dd5c-126">Los valores **AuthenticationLevel** y **AccessPermission** se establecen de forma independiente y tienen valores predeterminados independientes.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-126">The **AuthenticationLevel** and **AccessPermission** values are set independently and have separate default values.</span></span> <span data-ttu-id="7dd5c-127">Si el valor de **AuthenticationLevel** no está presente, el valor de [LegacyAuthenticationLevel](legacyauthenticationlevel.md) se utiliza como valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-127">If the **AuthenticationLevel** value is not present, the [LegacyAuthenticationLevel](legacyauthenticationlevel.md) value is used as the default.</span></span> <span data-ttu-id="7dd5c-128">Del mismo modo, si el valor de **AccessPermission** no está presente, el valor de [DefaultAccessPermission](defaultaccesspermission.md) se utiliza como valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-128">Similarly, if the **AccessPermission** value is not present, the [DefaultAccessPermission](defaultaccesspermission.md) value is used as the default.</span></span> <span data-ttu-id="7dd5c-129">Sin embargo, los valores de **AuthenticationLevel** y **AccessPermission** se interrelacionan de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="7dd5c-129">However, the **AuthenticationLevel** and the **AccessPermission** values are interrelated in the following ways:</span></span>

-   <span data-ttu-id="7dd5c-130">Si el valor de **AuthenticationLevel** es None, los valores **AccessPermission** y **DefaultAccessPermission** se omiten para esa aplicación.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-130">If the **AuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>
-   <span data-ttu-id="7dd5c-131">Si **AuthenticationLevel** no está presente y **LegacyAuthenticationLevel** es None, los valores **AccessPermission** y **DefaultAccessPermission** se omiten para esa aplicación.</span><span class="sxs-lookup"><span data-stu-id="7dd5c-131">If the **AuthenticationLevel** is not present and the **LegacyAuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7dd5c-132">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="7dd5c-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7dd5c-133">Configuración de la seguridad de Process-Wide</span><span class="sxs-lookup"><span data-stu-id="7dd5c-133">Setting Process-Wide Security</span></span>](setting-processwide-security.md)
</dt> </dl>

 

 