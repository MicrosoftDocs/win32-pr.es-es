---
description: En las secciones siguientes se describen varias maneras en que la programación con Windows GDI+ es diferente de la programación con Windows Interfaz de dispositivo gráfico (GDI).
ms.assetid: 89a154c1-6a49-45d6-a73c-94b0b1567408
title: Cambios en el modelo de programación
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a90cd6f1c3a6ebab1e55562e67cb4926f0ffedf9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104082502"
---
# <a name="changes-in-the-programming-model"></a><span data-ttu-id="a114f-103">Cambios en el modelo de programación</span><span class="sxs-lookup"><span data-stu-id="a114f-103">Changes in the Programming Model</span></span>

<span data-ttu-id="a114f-104">En las secciones siguientes se describen varias maneras en que la programación con Windows GDI+ es diferente de la programación con Windows Interfaz de dispositivo gráfico (GDI).</span><span class="sxs-lookup"><span data-stu-id="a114f-104">The following sections describe several ways that programming with Windows GDI+ is different from programming with Windows Graphics Device Interface (GDI).</span></span>

-   [<span data-ttu-id="a114f-105">Contextos de dispositivo, identificadores y objetos gráficos</span><span class="sxs-lookup"><span data-stu-id="a114f-105">Device Contexts, Handles, and Graphics Objects</span></span>](#device-contexts-handles-and-graphics-objects)
-   [<span data-ttu-id="a114f-106">Dos maneras de dibujar una línea</span><span class="sxs-lookup"><span data-stu-id="a114f-106">Two Ways to Draw a Line</span></span>](#two-ways-to-draw-a-line)
    -   [<span data-ttu-id="a114f-107">Dibujar una línea con GDI</span><span class="sxs-lookup"><span data-stu-id="a114f-107">Drawing a line with GDI</span></span>](#drawing-a-line-with-gdi)
    -   [<span data-ttu-id="a114f-108">Dibujar una línea con GDI+ y la interfaz de clase de C++</span><span class="sxs-lookup"><span data-stu-id="a114f-108">Drawing a line with GDI+ and the C++ class interface</span></span>](#drawing-a-line-with-gdi-and-the-c-class-interface)
-   [<span data-ttu-id="a114f-109">Lápices, pinceles, trazados, imágenes y fuentes como parámetros</span><span class="sxs-lookup"><span data-stu-id="a114f-109">Pens, Brushes, Paths, Images, and Fonts as Parameters</span></span>](#pens-brushes-paths-images-and-fonts-as-parameters)
-   [<span data-ttu-id="a114f-110">Sobrecarga de métodos</span><span class="sxs-lookup"><span data-stu-id="a114f-110">Method Overloading</span></span>](#method-overloading)
-   [<span data-ttu-id="a114f-111">Ninguna posición actual</span><span class="sxs-lookup"><span data-stu-id="a114f-111">No More Current Position</span></span>](#no-more-current-position)
-   [<span data-ttu-id="a114f-112">Métodos independientes para dibujar y rellenar</span><span class="sxs-lookup"><span data-stu-id="a114f-112">Separate Methods for Draw and Fill</span></span>](#separate-methods-for-draw-and-fill)
-   [<span data-ttu-id="a114f-113">Construir regiones</span><span class="sxs-lookup"><span data-stu-id="a114f-113">Constructing Regions</span></span>](#constructing-regions)

## <a name="device-contexts-handles-and-graphics-objects"></a><span data-ttu-id="a114f-114">Contextos de dispositivo, identificadores y objetos gráficos</span><span class="sxs-lookup"><span data-stu-id="a114f-114">Device Contexts, Handles, and Graphics Objects</span></span>

<span data-ttu-id="a114f-115">Si ha escrito programas mediante GDI (la interfaz de dispositivo gráfico incluida en versiones anteriores de Windows), está familiarizado con la idea de un contexto de dispositivo (DC).</span><span class="sxs-lookup"><span data-stu-id="a114f-115">If you have written programs using GDI (the graphics device interface included in previous versions of Windows), you are familiar with the idea of a device context (DC).</span></span> <span data-ttu-id="a114f-116">Un contexto de dispositivo es una estructura utilizada por Windows para almacenar información sobre las capacidades de un dispositivo de pantalla determinado y atributos que especifican cómo se dibujarán los elementos en ese dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a114f-116">A device context is a structure used by Windows to store information about the capabilities of a particular display device and attributes that specify how items will be drawn on that device.</span></span> <span data-ttu-id="a114f-117">Un contexto de dispositivo para una presentación de vídeo también está asociado a una ventana determinada de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="a114f-117">A device context for a video display is also associated with a particular window on the display.</span></span> <span data-ttu-id="a114f-118">En primer lugar, obtenga un identificador de un contexto de dispositivo (HDC) y, a continuación, pase ese identificador como un argumento a las funciones GDI que realmente realizan el dibujo.</span><span class="sxs-lookup"><span data-stu-id="a114f-118">First you obtain a handle to a device context (HDC), and then you pass that handle as an argument to GDI functions that actually do the drawing.</span></span> <span data-ttu-id="a114f-119">También se pasa el identificador como argumento a las funciones GDI que obtienen o establecen los atributos del contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a114f-119">You also pass the handle as an argument to GDI functions that obtain or set the attributes of the device context.</span></span>

<span data-ttu-id="a114f-120">Cuando se usa GDI+, no es necesario tener los mismos identificadores y contextos de dispositivo que cuando se usa GDI.</span><span class="sxs-lookup"><span data-stu-id="a114f-120">When you use GDI+, you don't have to be as concerned with handles and device contexts as you do when you use GDI.</span></span> <span data-ttu-id="a114f-121">Basta con crear un objeto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) y, a continuación, invocar sus métodos en el conocido estilo orientado a objetos, MyGraphicsObject. DrawLine (*Parameters*).</span><span class="sxs-lookup"><span data-stu-id="a114f-121">You simply create a [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object and then invoke its methods in the familiar object-oriented style — myGraphicsObject.DrawLine(*parameters*).</span></span> <span data-ttu-id="a114f-122">El objeto **Graphics** es la base de GDI+ del mismo modo que el contexto de dispositivo es el núcleo de GDI.</span><span class="sxs-lookup"><span data-stu-id="a114f-122">The **Graphics** object is at the core of GDI+ just as the device context is at the core of GDI.</span></span> <span data-ttu-id="a114f-123">El contexto de dispositivo y el objeto de **gráficos** desempeñan roles similares, pero hay algunas diferencias fundamentales entre el modelo de programación basado en identificadores que se usa con los contextos de dispositivo (GDI) y el modelo orientado a objetos que se usa con objetos **gráficos** (GDI+).</span><span class="sxs-lookup"><span data-stu-id="a114f-123">The device context and the **Graphics** object play similar roles, but there are some fundamental differences between the handle-based programming model used with device contexts (GDI) and the object-oriented model used with **Graphics** objects (GDI+).</span></span>

<span data-ttu-id="a114f-124">El objeto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) , al igual que el contexto de dispositivo, está asociado a una ventana concreta de la pantalla y contiene atributos (por ejemplo, el modo de suavizado y la sugerencia de representación de texto) que especifican cómo se van a dibujar los elementos.</span><span class="sxs-lookup"><span data-stu-id="a114f-124">The [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object, like the device context, is associated with a particular window on the screen and contains attributes (for example, smoothing mode and text rendering hint) that specify how items are to be drawn.</span></span> <span data-ttu-id="a114f-125">Sin embargo, el objeto **Graphics** no está asociado a un lápiz, un pincel, una ruta de acceso, una imagen o una fuente, ya que el contexto del dispositivo es.</span><span class="sxs-lookup"><span data-stu-id="a114f-125">However, the **Graphics** object is not tied to a pen, brush, path, image, or font as a device context is.</span></span> <span data-ttu-id="a114f-126">Por ejemplo, en GDI, antes de poder usar un contexto de dispositivo para dibujar una línea, debe llamar a [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) para asociar un objeto Pen al contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a114f-126">For example, in GDI, before you can use a device context to draw a line, you must call [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) to associate a pen object with the device context.</span></span> <span data-ttu-id="a114f-127">Esto se conoce como seleccionar el lápiz en el contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a114f-127">This is referred to as selecting the pen into the device context.</span></span> <span data-ttu-id="a114f-128">Todas las líneas dibujadas en el contexto del dispositivo usarán ese lápiz hasta que seleccione un lápiz diferente.</span><span class="sxs-lookup"><span data-stu-id="a114f-128">All lines drawn in the device context will use that pen until you select a different pen.</span></span> <span data-ttu-id="a114f-129">Con GDI+, se pasa un objeto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) como argumento al método [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) de la clase **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="a114f-129">With GDI+, you pass a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object as an argument to the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the **Graphics** class.</span></span> <span data-ttu-id="a114f-130">Puede usar un objeto **Pen** diferente en cada una de las series de llamadas DrawLine sin tener que asociar un objeto **Pen** determinado a un objeto **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="a114f-130">You can use a different **Pen** object in each of a series of DrawLine calls without having to associate a given **Pen** object with a **Graphics** object.</span></span>

## <a name="two-ways-to-draw-a-line"></a><span data-ttu-id="a114f-131">Dos maneras de dibujar una línea</span><span class="sxs-lookup"><span data-stu-id="a114f-131">Two Ways to Draw a Line</span></span>

<span data-ttu-id="a114f-132">Los dos ejemplos siguientes dibujan una línea roja de ancho 3 desde la ubicación (20, 10) hasta la ubicación (200.100).</span><span class="sxs-lookup"><span data-stu-id="a114f-132">The following two examples each draw a red line of width 3 from location (20, 10) to location (200,100).</span></span> <span data-ttu-id="a114f-133">En el primer ejemplo se llama a GDI y el segundo llama a GDI+ a través de la interfaz de clase de C++.</span><span class="sxs-lookup"><span data-stu-id="a114f-133">The first example calls GDI, and the second calls GDI+ through the C++ class interface.</span></span>

-   [<span data-ttu-id="a114f-134">Dibujar una línea con GDI</span><span class="sxs-lookup"><span data-stu-id="a114f-134">Drawing a line with GDI</span></span>](#drawing-a-line-with-gdi)
-   [<span data-ttu-id="a114f-135">Dibujar una línea con GDI+ y la interfaz de clase de C++</span><span class="sxs-lookup"><span data-stu-id="a114f-135">Drawing a line with GDI+ and the C++ class interface</span></span>](#drawing-a-line-with-gdi-and-the-c-class-interface)

### <a name="drawing-a-line-with-gdi"></a><span data-ttu-id="a114f-136">Dibujar una línea con GDI</span><span class="sxs-lookup"><span data-stu-id="a114f-136">Drawing a line with GDI</span></span>

<span data-ttu-id="a114f-137">Para dibujar una línea con GDI, se necesitan dos objetos: un contexto de dispositivo y un lápiz.</span><span class="sxs-lookup"><span data-stu-id="a114f-137">To draw a line with GDI, you need two objects: a device context and a pen.</span></span> <span data-ttu-id="a114f-138">Para obtener un identificador de un contexto de dispositivo, llame a [**BeginPaint**](/windows/win32/api/winuser/nf-winuser-beginpaint)y un identificador a un lápiz mediante una llamada a [CreatePen](/windows/win32/api/wingdi/nf-wingdi-createpen).</span><span class="sxs-lookup"><span data-stu-id="a114f-138">You get a handle to a device context by calling [**BeginPaint**](/windows/win32/api/winuser/nf-winuser-beginpaint), and a handle to a pen by calling [CreatePen](/windows/win32/api/wingdi/nf-wingdi-createpen).</span></span> <span data-ttu-id="a114f-139">A continuación, llame a [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) para seleccionar el lápiz en el contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a114f-139">Next, you call [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) to select the pen into the device context.</span></span> <span data-ttu-id="a114f-140">Establezca la posición del lápiz en (20, 10) llamando a [MoveToEx](/windows/win32/api/wingdi/nf-wingdi-movetoex) y, a continuación, dibuje una línea desde esa posición del lápiz a (200, 100) llamando a **lineTo**.</span><span class="sxs-lookup"><span data-stu-id="a114f-140">You set the pen position to (20, 10) by calling [MoveToEx](/windows/win32/api/wingdi/nf-wingdi-movetoex) and then draw a line from that pen position to (200, 100) by calling **LineTo**.</span></span> <span data-ttu-id="a114f-141">Tenga en cuenta que MoveToEx y [lineTo](/windows/win32/api/wingdi/nf-wingdi-lineto) reciben **HDC** como argumento.</span><span class="sxs-lookup"><span data-stu-id="a114f-141">Note that MoveToEx and [LineTo](/windows/win32/api/wingdi/nf-wingdi-lineto) both receive **hdc** as an argument.</span></span>


```
HDC          hdc;
PAINTSTRUCT  ps;
HPEN         hPen;
HPEN         hPenOld;
hdc = BeginPaint(hWnd, &ps);
   hPen = CreatePen(PS_SOLID, 3, RGB(255, 0, 0));
   hPenOld = (HPEN)SelectObject(hdc, hPen);
   MoveToEx(hdc, 20, 10, NULL);
   LineTo(hdc, 200, 100);
   SelectObject(hdc, hPenOld);
   DeleteObject(hPen);
EndPaint(hWnd, &ps);
```



### <a name="drawing-a-line-with-gdi-and-the-c-class-interface"></a><span data-ttu-id="a114f-142">Dibujar una línea con GDI+ y la interfaz de clase de C++</span><span class="sxs-lookup"><span data-stu-id="a114f-142">Drawing a line with GDI+ and the C++ class interface</span></span>

<span data-ttu-id="a114f-143">Para dibujar una línea con GDI+ y la interfaz de clase de C++, necesita un objeto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) y un objeto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) .</span><span class="sxs-lookup"><span data-stu-id="a114f-143">To draw a line with GDI+ and the C++ class interface, you need a [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object and a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object.</span></span> <span data-ttu-id="a114f-144">Tenga en cuenta que no pide a Windows los identificadores de estos objetos.</span><span class="sxs-lookup"><span data-stu-id="a114f-144">Note that you don't ask Windows for handles to these objects.</span></span> <span data-ttu-id="a114f-145">En su lugar, se usan constructores para crear una instancia de la clase **Graphics** (un objeto **Graphics** ) y una instancia de la clase **Pen** (un objeto **Pen** ).</span><span class="sxs-lookup"><span data-stu-id="a114f-145">Instead, you use constructors to create an instance of the **Graphics** class (a **Graphics** object) and an instance of the **Pen** class (a **Pen** object).</span></span> <span data-ttu-id="a114f-146">Dibujar una línea implica llamar al método [**Graphics::D rawline**](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) de la clase **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="a114f-146">Drawing a line involves calling the [**Graphics::DrawLine**](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the **Graphics** class.</span></span> <span data-ttu-id="a114f-147">El primer parámetro del método **Graphics::D rawline** es un puntero al objeto **Pen** .</span><span class="sxs-lookup"><span data-stu-id="a114f-147">The first parameter of the **Graphics::DrawLine** method is a pointer to your **Pen** object.</span></span> <span data-ttu-id="a114f-148">Se trata de un esquema más sencillo y flexible que seleccionar un lápiz en un contexto de dispositivo, tal como se muestra en el ejemplo de GDI anterior.</span><span class="sxs-lookup"><span data-stu-id="a114f-148">This is a simpler and more flexible scheme than selecting a pen into a device context as shown in the preceding GDI example.</span></span>


```
HDC          hdc;
PAINTSTRUCT  ps;
Pen*         myPen;
Graphics*    myGraphics;
hdc = BeginPaint(hWnd, &ps);
   myPen = new Pen(Color(255, 255, 0, 0), 3);
   myGraphics = new Graphics(hdc);
   myGraphics->DrawLine(myPen, 20, 10, 200, 100);
   delete myGraphics;
   delete myPen;
EndPaint(hWnd, &ps);
```



## <a name="pens-brushes-paths-images-and-fonts-as-parameters"></a><span data-ttu-id="a114f-149">Lápices, pinceles, trazados, imágenes y fuentes como parámetros</span><span class="sxs-lookup"><span data-stu-id="a114f-149">Pens, Brushes, Paths, Images, and Fonts as Parameters</span></span>

<span data-ttu-id="a114f-150">En los ejemplos anteriores se muestra que los objetos [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) se pueden crear y mantener por separado del objeto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) , que proporciona los métodos de dibujo.</span><span class="sxs-lookup"><span data-stu-id="a114f-150">The preceding examples show that [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) objects can be created and maintained separately from the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object, which supplies the drawing methods.</span></span> <span data-ttu-id="a114f-151">Los objetos [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush), [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath), [**Image**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image)y [**Font**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-font) también se pueden crear y mantener independientemente del objeto **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="a114f-151">[**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush), [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath), [**Image**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image), and [**Font**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-font) objects can also be created and maintained separately from the **Graphics** object.</span></span> <span data-ttu-id="a114f-152">Muchos de los métodos de dibujo proporcionados por la clase **Graphics** reciben un objeto **Brush**, **GraphicsPath**, **Image** o **Font** como argumento.</span><span class="sxs-lookup"><span data-stu-id="a114f-152">Many of the drawing methods provided by the **Graphics** class receive a **Brush**, **GraphicsPath**, **Image**, or **Font** object as an argument.</span></span> <span data-ttu-id="a114f-153">Por ejemplo, la dirección de un objeto **Brush** se pasa como argumento al método [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) y la dirección de un objeto **GraphicsPath** se pasa como argumento al método [**Graphics::D rawpath**](/windows/win32/api/Gdiplusgraphics/nf-gdiplusgraphics-graphics-drawpath) .</span><span class="sxs-lookup"><span data-stu-id="a114f-153">For example, the address of a **Brush** object is passed as an argument to the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) method, and the address of a **GraphicsPath** object is passed as an argument to the [**Graphics::DrawPath**](/windows/win32/api/Gdiplusgraphics/nf-gdiplusgraphics-graphics-drawpath) method.</span></span> <span data-ttu-id="a114f-154">Del mismo modo, las direcciones de los objetos **Image** y **Font** se pasan a los métodos [DrawImage](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inconstpointf_)) y [DrawString](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawstring(constwchar_int_constfont_constpointf__constbrush)) .</span><span class="sxs-lookup"><span data-stu-id="a114f-154">Similarly, addresses of **Image** and **Font** objects are passed to the [DrawImage](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inconstpointf_)) and [DrawString](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawstring(constwchar_int_constfont_constpointf__constbrush)) methods.</span></span> <span data-ttu-id="a114f-155">Esto contrasta con GDI, donde se selecciona un pincel, una ruta de acceso, una imagen o una fuente en el contexto del dispositivo y, a continuación, se pasa un identificador al contexto del dispositivo como un argumento a una función de dibujo.</span><span class="sxs-lookup"><span data-stu-id="a114f-155">This is in contrast to GDI where you select a brush, path, image, or font into the device context and then pass a handle to the device context as an argument to a drawing function.</span></span>

## <a name="method-overloading"></a><span data-ttu-id="a114f-156">Sobrecarga de métodos</span><span class="sxs-lookup"><span data-stu-id="a114f-156">Method Overloading</span></span>

<span data-ttu-id="a114f-157">Muchos de los métodos de GDI+ están sobrecargados; es decir, varios métodos comparten el mismo nombre pero tienen listas de parámetros diferentes.</span><span class="sxs-lookup"><span data-stu-id="a114f-157">Many of the GDI+ methods are overloaded; that is, several methods share the same name but have different parameter lists.</span></span> <span data-ttu-id="a114f-158">Por ejemplo, el método [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) de la clase [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) incluye los siguientes formatos:</span><span class="sxs-lookup"><span data-stu-id="a114f-158">For example, the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) class comes in the following forms:</span></span>


```
Status DrawLine(IN const Pen* pen,
                IN REAL x1,
                IN REAL y1,
                IN REAL x2,
                IN REAL y2);
Status DrawLine(IN const Pen* pen,
                IN const PointF& pt1,
                IN const PointF& pt2);
Status DrawLine(IN const Pen* pen,
                IN INT x1,
                IN INT y1,
                IN INT x2,
                IN INT y2);
    
Status DrawLine(IN const Pen* pen,
                IN const Point& pt1,
                IN const Point& pt2);
```



<span data-ttu-id="a114f-159">Las cuatro variaciones de [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) anteriores reciben un puntero a un objeto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) , las coordenadas del punto inicial y las coordenadas del punto final.</span><span class="sxs-lookup"><span data-stu-id="a114f-159">All four of the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) variations above receive a pointer to a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object, the coordinates of the starting point, and the coordinates of the ending point.</span></span> <span data-ttu-id="a114f-160">Las dos primeras variaciones reciben las coordenadas como números de punto flotante y las dos últimas variaciones reciben las coordenadas como enteros.</span><span class="sxs-lookup"><span data-stu-id="a114f-160">The first two variations receive the coordinates as floating point numbers, and the last two variations receive the coordinates as integers.</span></span> <span data-ttu-id="a114f-161">La primera y la tercera variaciones reciben las coordenadas como una lista de cuatro números independientes, mientras que las variaciones segunda y cuarta reciben las coordenadas como un par de objetos [**Point**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-point) (o [**PointF**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-pointf)).</span><span class="sxs-lookup"><span data-stu-id="a114f-161">The first and third variations receive the coordinates as a list of four separate numbers, while the second and fourth variations receive the coordinates as a pair of [**Point**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-point) (or [**PointF**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-pointf)) objects.</span></span>

## <a name="no-more-current-position"></a><span data-ttu-id="a114f-162">Ninguna posición actual</span><span class="sxs-lookup"><span data-stu-id="a114f-162">No More Current Position</span></span>

<span data-ttu-id="a114f-163">Tenga en cuenta que en los métodos [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) mostrados anteriormente, el punto inicial y el punto final de la línea se reciben como argumentos.</span><span class="sxs-lookup"><span data-stu-id="a114f-163">Note that in the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) methods shown previously both the starting point and the ending point of the line are received as arguments.</span></span> <span data-ttu-id="a114f-164">Se trata de una salida del esquema GDI en la que se llama a **MoveToEx** para establecer la posición del lápiz actual seguido de **lineTo** para dibujar una línea que empieza en (**x1**, **Y1**) y termina en (**x2**, **Y2**).</span><span class="sxs-lookup"><span data-stu-id="a114f-164">This is a departure from the GDI scheme where you call **MoveToEx** to set the current pen position followed by **LineTo** in order to draw a line starting at (**x1**, **y1**) and ending at (**x2**, **y2**).</span></span> <span data-ttu-id="a114f-165">GDI+ como un todo ha abandonado la noción de la posición actual.</span><span class="sxs-lookup"><span data-stu-id="a114f-165">GDI+ as a whole has abandoned the notion of current position.</span></span>

## <a name="separate-methods-for-draw-and-fill"></a><span data-ttu-id="a114f-166">Métodos independientes para dibujar y rellenar</span><span class="sxs-lookup"><span data-stu-id="a114f-166">Separate Methods for Draw and Fill</span></span>

<span data-ttu-id="a114f-167">GDI+ es más flexible que GDI cuando se trata de dibujar los contornos y rellenar el interior de las formas como rectángulos.</span><span class="sxs-lookup"><span data-stu-id="a114f-167">GDI+ is more flexible than GDI when it comes to drawing the outlines and filling the interiors of shapes like rectangles.</span></span> <span data-ttu-id="a114f-168">GDI tiene una función de [rectángulo](/windows/win32/api/wingdi/nf-wingdi-rectangle) que dibuja el contorno y rellena el interior de un rectángulo en un solo paso.</span><span class="sxs-lookup"><span data-stu-id="a114f-168">GDI has a [Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) function that draws the outline and fills the interior of a rectangle all in one step.</span></span> <span data-ttu-id="a114f-169">El contorno se dibuja con el lápiz seleccionado actualmente y el interior se rellena con el pincel seleccionado actualmente.</span><span class="sxs-lookup"><span data-stu-id="a114f-169">The outline is drawn with the currently selected pen, and the interior is filled with the currently selected brush.</span></span>


```
hBrush = CreateHatchBrush(HS_CROSS, RGB(0, 0, 255));
hPen = CreatePen(PS_SOLID, 3, RGB(255, 0, 0));
SelectObject(hdc, hBrush);
SelectObject(hdc, hPen);
Rectangle(hdc, 100, 50, 200, 80);
```



<span data-ttu-id="a114f-170">GDI+ tiene métodos independientes para dibujar el contorno y rellenar el interior de un rectángulo.</span><span class="sxs-lookup"><span data-stu-id="a114f-170">GDI+ has separate methods for drawing the outline and filling the interior of a rectangle.</span></span> <span data-ttu-id="a114f-171">El método [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) de la [**clase Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) tiene la dirección de un objeto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) como uno de sus parámetros y el método [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) tiene la dirección de un objeto [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush) como uno de sus parámetros.</span><span class="sxs-lookup"><span data-stu-id="a114f-171">The [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) method of the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) class has the address of a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object as one of its parameters, and the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) method has the address of a [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush) object as one of its parameters.</span></span>


```
HatchBrush* myHatchBrush = new HatchBrush(
   HatchStyleCross,
   Color(255, 0, 255, 0),
   Color(255, 0, 0, 255));
Pen* myPen = new Pen(Color(255, 255, 0, 0), 3);
myGraphics.FillRectangle(myHatchBrush, 100, 50, 100, 30);
myGraphics.DrawRectangle(myPen, 100, 50, 100, 30);
```



<span data-ttu-id="a114f-172">Tenga en cuenta que los métodos [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) y [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) en GDI+ reciben argumentos que especifican el borde izquierdo, la parte superior, el ancho y el alto del rectángulo.</span><span class="sxs-lookup"><span data-stu-id="a114f-172">Note that the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) and [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) methods in GDI+ receive arguments that specify the rectangle's left edge, top, width, and height.</span></span> <span data-ttu-id="a114f-173">Esto contrasta con la función de[rectángulo](/windows/win32/api/wingdi/nf-wingdi-rectangle) de GDI, que toma argumentos que especifican el borde izquierdo del rectángulo, el borde derecho, la parte superior y la parte inferior.</span><span class="sxs-lookup"><span data-stu-id="a114f-173">This is in contrast to the GDI[Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) function, which takes arguments that specify the rectangle's left edge, right edge, top, and bottom.</span></span> <span data-ttu-id="a114f-174">Tenga en cuenta también que el constructor de la clase de [**color**](/windows/win32/api/gdipluscolor/nl-gdipluscolor-color) en GDI+ tiene cuatro parámetros.</span><span class="sxs-lookup"><span data-stu-id="a114f-174">Also note that the constructor for the [**Color**](/windows/win32/api/gdipluscolor/nl-gdipluscolor-color) class in GDI+ has four parameters.</span></span> <span data-ttu-id="a114f-175">Los tres últimos parámetros son los valores normales de rojo, verde y azul; el primer parámetro es el valor alfa, que especifica la medida en la que el color que se dibuja se combina con el color de fondo.</span><span class="sxs-lookup"><span data-stu-id="a114f-175">The last three parameters are the usual red, green, and blue values; the first parameter is the alpha value, which specifies the extent to which the color being drawn is blended with the background color.</span></span>

## <a name="constructing-regions"></a><span data-ttu-id="a114f-176">Construir regiones</span><span class="sxs-lookup"><span data-stu-id="a114f-176">Constructing Regions</span></span>

<span data-ttu-id="a114f-177">GDI proporciona varias funciones para crear regiones: CreateRectRgn, CreateEllpticRgn, CreateRoundRectRgn, CreatePolygonRgn y CreatePolyPolygonRgn.</span><span class="sxs-lookup"><span data-stu-id="a114f-177">GDI provides several functions for creating regions: CreateRectRgn, CreateEllpticRgn, CreateRoundRectRgn, CreatePolygonRgn, and CreatePolyPolygonRgn.</span></span> <span data-ttu-id="a114f-178">Podría esperar que la clase [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) en GDI+ tenga constructores análogos que toman rectángulos, elipses, rectángulos redondeados y polígonos como argumentos, pero no es el caso.</span><span class="sxs-lookup"><span data-stu-id="a114f-178">You might expect the [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) class in GDI+ to have analogous constructors that take rectangles, ellipses, rounded rectangles, and polygons as arguments, but that is not the case.</span></span> <span data-ttu-id="a114f-179">La clase **Region** de GDI+ proporciona un constructor que recibe una referencia de objeto [**Rect**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-rect) y otro constructor que recibe la dirección de un objeto [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) .</span><span class="sxs-lookup"><span data-stu-id="a114f-179">The **Region** class in GDI+ provides a constructor that receives a [**Rect**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-rect) object reference and another constructor that receives the address of a [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) object.</span></span> <span data-ttu-id="a114f-180">Si desea crear una región basada en una elipse, un rectángulo redondeado o un polígono, puede hacerlo fácilmente mediante la creación de un objeto **GraphicsPath** (que contiene una elipse, por ejemplo) y, a continuación, pasar la dirección de ese objeto **GraphicsPath** a un constructor de **región** .</span><span class="sxs-lookup"><span data-stu-id="a114f-180">If you want to construct a region based on an ellipse, rounded rectangle, or polygon, you can easily do so by creating a **GraphicsPath** object (that contains an ellipse, for example) and then passing the address of that **GraphicsPath** object to a **Region** constructor.</span></span>

<span data-ttu-id="a114f-181">GDI+ facilita la forma de crear regiones complejas combinando formas y trazados.</span><span class="sxs-lookup"><span data-stu-id="a114f-181">GDI+ makes it easy to form complex regions by combining shapes and paths.</span></span> <span data-ttu-id="a114f-182">La clase [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) tiene métodos [Union](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-union(inconstrectf_)) e [Intersect](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-intersect(inconstgraphicspath)) que puede usar para aumentar una región existente con una ruta de acceso u otra región.</span><span class="sxs-lookup"><span data-stu-id="a114f-182">The [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) class has [Union](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-union(inconstrectf_)) and [Intersect](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-intersect(inconstgraphicspath)) methods that you can use to augment an existing region with a path or another region.</span></span> <span data-ttu-id="a114f-183">Una característica agradable del esquema GDI+ es que un objeto [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) no se destruye cuando se pasa como argumento a un constructor **Region** .</span><span class="sxs-lookup"><span data-stu-id="a114f-183">One nice feature of the GDI+ scheme is that a [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) object is not destroyed when it is passed as an argument to a **Region** constructor.</span></span> <span data-ttu-id="a114f-184">En GDI, puede convertir una ruta de acceso a una región con la función [PathToRegion](/windows/win32/api/wingdi/nf-wingdi-pathtoregion) , pero la ruta de acceso se destruye en el proceso.</span><span class="sxs-lookup"><span data-stu-id="a114f-184">In GDI, you can convert a path to a region with the [PathToRegion](/windows/win32/api/wingdi/nf-wingdi-pathtoregion) function, but the path is destroyed in the process.</span></span> <span data-ttu-id="a114f-185">Además, un objeto **GraphicsPath** no se destruye cuando su dirección se pasa como argumento a un método Union o Intersect, por lo que puede usar una ruta de acceso determinada como bloque de creación para varias regiones independientes.</span><span class="sxs-lookup"><span data-stu-id="a114f-185">Also, a **GraphicsPath** object is not destroyed when its address is passed as an argument to a Union or Intersect method, so you can use a given path as a building block for several separate regions.</span></span> <span data-ttu-id="a114f-186">Esto se muestra en el ejemplo siguiente.</span><span class="sxs-lookup"><span data-stu-id="a114f-186">This is shown in the following example.</span></span> <span data-ttu-id="a114f-187">Supongamos que **onePath** es un puntero a un objeto **GraphicsPath** (simple o complejo) que ya se ha inicializado.</span><span class="sxs-lookup"><span data-stu-id="a114f-187">Assume that **onePath** is a pointer to a **GraphicsPath** object (simple or complex) that has already been initialized.</span></span>


```
Region  region1(rect1);
Region  region2(rect2);
region1.Union(onePath);
region2.Intersect(onePath);
```



 

 
