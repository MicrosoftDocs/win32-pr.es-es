---
title: Usar precisión mínima de HLSL
description: A partir de Windows 8, los controladores de gráficos pueden implementar tipos de datos escalares HLSL de precisión mínima con cualquier precisión mayor o igual que la precisión de bits especificada.
ms.assetid: 422B0C45-5CEB-4235-AD05-62D36C36CFC6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de7f66f35aef3e870edb4e8564a280be89ce34be
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103792274"
---
# <a name="using-hlsl-minimum-precision"></a><span data-ttu-id="ecbd2-103">Usar precisión mínima de HLSL</span><span class="sxs-lookup"><span data-stu-id="ecbd2-103">Using HLSL minimum precision</span></span>

<span data-ttu-id="ecbd2-104">A partir de Windows 8, los controladores de gráficos pueden implementar [tipos de datos escalares HLSL](dx-graphics-hlsl-scalar.md) de precisión mínima con cualquier precisión mayor o igual que la precisión de bits especificada.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-104">Starting with Windows 8, graphics drivers can implement minimum precision [HLSL scalar data types](dx-graphics-hlsl-scalar.md) by using any precision greater than or equal to their specified bit precision.</span></span> <span data-ttu-id="ecbd2-105">Cuando el código del sombreador de precisión mínima de HLSL se usa en hardware que implementa la precisión mínima de HLSL, se usa menos ancho de banda de memoria y, como resultado, también se usa menos energía del sistema.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-105">When your HLSL minimum precision shader code is used on hardware that implements HLSL minimum precision, you use less memory bandwidth and as a result you also use less system power.</span></span>

<span data-ttu-id="ecbd2-106">Puede consultar la compatibilidad de precisión mínima que proporciona el controlador de gráficos llamando a [**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) con el valor de [**\_ \_ \_ \_ \_ compatibilidad de precisión mínima del sombreador de características de D3D11**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) .</span><span class="sxs-lookup"><span data-stu-id="ecbd2-106">You can query for the minimum precision support that the graphics driver provides by calling [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) with the [**D3D11\_FEATURE\_SHADER\_MIN\_PRECISION\_SUPPORT**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) value.</span></span> <span data-ttu-id="ecbd2-107">Para obtener más información, consulte [compatibilidad con precisión mínima de HLSL](/windows/desktop/direct3d11/direct3d-11-1-features).</span><span class="sxs-lookup"><span data-stu-id="ecbd2-107">For more info, see [HLSL minimum precision support](/windows/desktop/direct3d11/direct3d-11-1-features).</span></span>

-   [<span data-ttu-id="ecbd2-108">Declarar variables con tipos de datos de precisión mínimos</span><span class="sxs-lookup"><span data-stu-id="ecbd2-108">Declare variables with minimum precision data types</span></span>](#declare-variables-with-minimum-precision-data-types)
-   [<span data-ttu-id="ecbd2-109">Probar el código del sombreador de precisión mínima</span><span class="sxs-lookup"><span data-stu-id="ecbd2-109">Testing your minimum precision shader code</span></span>](#testing-your-minimum-precision-shader-code)
-   [<span data-ttu-id="ecbd2-110">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ecbd2-110">Related topics</span></span>](#related-topics)

## <a name="declare-variables-with-minimum-precision-data-types"></a><span data-ttu-id="ecbd2-111">Declarar variables con tipos de datos de precisión mínimos</span><span class="sxs-lookup"><span data-stu-id="ecbd2-111">Declare variables with minimum precision data types</span></span>

<span data-ttu-id="ecbd2-112">Para usar la precisión mínima en el código del sombreador HLSL, declare las variables individuales con tipos como **min16float** (**min16float4** para un vector), **min16int**, **min10float**, etc.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-112">To use minimum precision in HLSL shader code, declare individual variables with types like **min16float** (**min16float4** for a vector), **min16int**, **min10float**, and so on.</span></span> <span data-ttu-id="ecbd2-113">Con estas variables, el código del sombreador indica que no requiere más precisión de lo que indican las variables.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-113">With these variables, your shader code indicates that it doesn’t require more precision than what the variables indicate.</span></span> <span data-ttu-id="ecbd2-114">Pero el hardware puede pasar por alto los indicadores de precisión mínima y ejecutarse en una precisión completa de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-114">But hardware can ignore the minimum precision indicators and run at full 32-bit precision.</span></span> <span data-ttu-id="ecbd2-115">Cuando el código del sombreador se usa en hardware que aprovecha la precisión mínima, se usa menos ancho de banda de memoria y, como resultado, también se usa menos energía del sistema siempre que el código del sombreador no espere más precisión de lo especificado.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-115">When your shader code is used on hardware that takes advantage of minimum precision, you use less memory bandwidth and as a result you also use less system power as long as your shader code doesn’t expect more precision than it specified.</span></span>

<span data-ttu-id="ecbd2-116">No es necesario crear varios sombreadores que no utilicen la precisión mínima.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-116">You don't need to author multiple shaders that do and don't use minimum precision.</span></span> <span data-ttu-id="ecbd2-117">En su lugar, cree sombreadores con precisión mínima y las variables de precisión mínima se comportan en una precisión completa de 32 bits si el controlador de gráficos informa de que no admite ninguna precisión mínima.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-117">Instead, create shaders with minimum precision, and the minimum precision variables behave at full 32-bit precision if the graphics driver reports that it doesn't support any minimum precision.</span></span> <span data-ttu-id="ecbd2-118">Los sombreadores de precisión mínima de HLSL no funcionan en sistemas operativos anteriores a Windows 8, por lo que si planea dirigirse a sistemas operativos anteriores, tendrá que crear varios sombreadores, otros que sí lo hacen y otros que no usan la precisión mínima.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-118">HLSL minimum precision shaders don't work on operating systems earlier than Windows 8 so if you plan to target earlier operating systems, you'll need to author multiple shaders, some that do and others that don't use minimum precision.</span></span>

> [!Note]  
> <span data-ttu-id="ecbd2-119">No haga que los datos cambien entre distintos niveles de precisión dentro de un sombreador porque estos tipos de conversiones son excesivos y reducen el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-119">Don't make data switches between different precision levels within a shader because these types of conversions are wasteful and reduce performance.</span></span> <span data-ttu-id="ecbd2-120">La excepción es que las constantes de sombreador siguen siendo siempre de 32 bits, pero los proveedores pueden diseñar hardware de gráficos que se puede reducir libremente a cualquier precisión inferior que la lectura de instrucciones de HLSL pueda usar.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-120">The exception is that shader constants are still always 32 bit, but vendors can design graphics hardware that can freely down-convert to whatever lower precision the HLSL instruction reading might use.</span></span>

 

<span data-ttu-id="ecbd2-121">Al usar la precisión mínima, puede controlar la precisión de los cálculos en varias partes del código del sombreador.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-121">By using minimum precision, you can control the precision of computations in various parts of your shader code.</span></span>

<span data-ttu-id="ecbd2-122">Las reglas de precisión mínima de HLSL son similares a C/C++, donde los tipos de una expresión determinan la precisión de la operación, no el tipo en el que finalmente se escribe.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-122">The rules for HLSL minimum precision are similar to C/C++, where the types in an expression determine the precision of the operation, not the type being eventually written to.</span></span>

## <a name="testing-your-minimum-precision-shader-code"></a><span data-ttu-id="ecbd2-123">Probar el código del sombreador de precisión mínima</span><span class="sxs-lookup"><span data-stu-id="ecbd2-123">Testing your minimum precision shader code</span></span>

<span data-ttu-id="ecbd2-124">El rasterizador de referencia [**( \_ \_ \_ referencia de tipo de controlador D3D**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) le ofrece una idea aproximada de cómo se comporta la precisión mínima en el código del sombreador HLSL al cuantificar cada instrucción de HLSL a la precisión especificada.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-124">The reference rasterizer ([**D3D\_DRIVER\_TYPE\_REFERENCE**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) gives you a rough idea of how minimum precision in your HLSL shader code behaves by quantizing each HLSL instruction to the specified precision.</span></span> <span data-ttu-id="ecbd2-125">Esto le ayuda a detectar código que podría confiar accidentalmente en más de la precisión mínima.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-125">This helps you discover code that might accidentally rely on more than the minimum precision.</span></span> <span data-ttu-id="ecbd2-126">El rasterizador de referencia no se ejecuta más rápido cuando el código del sombreador HLSL usa la precisión mínima, pero se puede usar para comprobar la exactitud del código.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-126">The reference rasterizer doesn’t run any faster when your HLSL shader code uses minimum precision, but you can use it to verify the correctness of your code.</span></span> <span data-ttu-id="ecbd2-127">[Warp](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**\_ tipo de controlador D3D \_ \_ Warp**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) no admite el uso de precisión mínima en el código del sombreador HLSL; WARP solo se ejecuta en una precisión completa de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="ecbd2-127">[WARP](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**D3D\_DRIVER\_TYPE\_WARP**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) doesn’t support using minimum precision in HLSL shader code; WARP just runs at full 32-bit precision.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ecbd2-128">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ecbd2-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ecbd2-129">Guía de programación para HLSL</span><span class="sxs-lookup"><span data-stu-id="ecbd2-129">Programming Guide for HLSL</span></span>](dx-graphics-hlsl-pguide.md)
</dt> </dl>

 

 