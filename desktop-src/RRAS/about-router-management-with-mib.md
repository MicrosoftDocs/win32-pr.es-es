---
title: Acerca de la administración de enrutadores con MIB
description: Las API de base de información de administración (MIB) para la administración de enrutadores permiten consultar y establecer los valores de las variables MIB exportadas por uno de los administradores de enrutadores o cualquiera de los protocolos de enrutamiento que el servicio de administradores de enrutadores.
ms.assetid: d0fafd82-e7cb-4524-a499-d14830f02b21
keywords:
- Enrutamiento, base de información de administración
- Enrutamiento, base de información de administración, descripción
- RRAS base de información de administración
- MIB
- MIB, consulte base de información de administración
- RRAS base de información de administración
- Base de información de administración RRAS, descripción
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e015dacc0b36a00ab62d42c710551aa368aa59e0
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "103776741"
---
# <a name="about-router-management-with-mib"></a><span data-ttu-id="4b9d0-110">Acerca de la administración de enrutadores con MIB</span><span class="sxs-lookup"><span data-stu-id="4b9d0-110">About Router Management with MIB</span></span>

<span data-ttu-id="4b9d0-111">Las API de base de información de administración (MIB) para la administración de enrutadores permiten consultar y establecer los valores de las variables MIB exportadas por uno de los administradores de enrutadores o cualquiera de los protocolos de enrutamiento que el servicio de administradores de enrutadores.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-111">The Management Information Base (MIB) APIs for router management makes it possible to query and set the values of MIB variables exported by one of the router managers or any of the routing protocols that the router managers service.</span></span> <span data-ttu-id="4b9d0-112">Mediante esta API, el enrutador es compatible con el Protocolo simple de administración de redes (SNMP).</span><span class="sxs-lookup"><span data-stu-id="4b9d0-112">By using this API, the router supports the Simple Network Management Protocol (SNMP).</span></span>

<span data-ttu-id="4b9d0-113">En el marco SNMP, cada uno de los objetos que se administran en el enrutador se representa mediante una variable que tiene un identificador de objeto único (OID).</span><span class="sxs-lookup"><span data-stu-id="4b9d0-113">In the SNMP framework, each of the manageable objects in the router is represented by a variable that has a unique Object Identifier (OID).</span></span> <span data-ttu-id="4b9d0-114">Correspondiente a cada OID es un valor que representa el estado actual del objeto.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-114">Corresponding to each OID is a value that represents the current state of the object.</span></span> <span data-ttu-id="4b9d0-115">La colección de OID y valores se conoce como base de datos de información de administración (MIB).</span><span class="sxs-lookup"><span data-stu-id="4b9d0-115">The collection of OIDs and values is referred to as a Management Information Base (MIB).</span></span> <span data-ttu-id="4b9d0-116">Las llamadas MprAdminMib permiten a los desarrolladores especificar un objeto por su OID y consulta o escritura ("SET") el valor del objeto.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-116">The MprAdminMib calls allow a developer to specify an object by its OID and either query or write ("Set") the object's value.</span></span>

<span data-ttu-id="4b9d0-117">Para consultar y establecer variables MIB, el módulo que renueva las llamadas debe definir un conjunto de estructuras de datos.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-117">To query and set MIB variables, the module that services the calls must define a set of data structures.</span></span> <span data-ttu-id="4b9d0-118">Estas estructuras de datos incluyen estructuras que se usan como identificadores de objeto y estructuras que contienen los valores de las variables MIB a las que se tiene acceso.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-118">These data structures include structures to use as Object Identifiers and structures that hold the values of the MIB variables being accessed.</span></span> <span data-ttu-id="4b9d0-119">Estas estructuras de datos son opacas para todo excepto el autor de la llamada de la función MIB y el módulo que atiende la llamada.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-119">These data structures are opaque to all but the caller of the MIB function and the module servicing the call.</span></span>

<span data-ttu-id="4b9d0-120">El módulo que atiende la llamada MIB es un administrador de enrutador o uno de los protocolos de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-120">The module servicing the MIB call is a router manager or one of the routing protocols.</span></span> <span data-ttu-id="4b9d0-121">El autor de la llamada debe especificar un administrador de enrutadores aunque la llamada sea administrada por uno de los protocolos de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-121">The caller must specify a router manager even if the call is handled by one of the routing protocols.</span></span> <span data-ttu-id="4b9d0-122">En tal caso, el autor de la llamada debe especificar el administrador del enrutador que corresponde a la familia de protocolos para ese protocolo de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-122">In such a case, the caller should specify the router manager that corresponds to the protocol family for that routing protocol.</span></span> <span data-ttu-id="4b9d0-123">Por ejemplo, si el protocolo de enrutamiento abrir primero la ruta de acceso más corta (OSPF) estaba controlando la llamada MIB, el autor de la llamada tendría que especificar el administrador del enrutador IP, ya que OSPF pertenece a la familia del protocolo IP.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-123">For example, if the Open Shortest Path First (OSPF) routing protocol were handling the MIB call, the caller would need to specify the IP Router Manager, since OSPF belongs to the IP protocol family.</span></span> <span data-ttu-id="4b9d0-124">En cada una de las funciones MIB, el parámetro *dwTransportId* especifica un administrador de enrutadores y el parámetro *RoutingPid* especifica el protocolo de enrutamiento.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-124">In each of the MIB functions, the *dwTransportId* parameter specifies a router manager, and the *RoutingPid* parameter specifies the routing protocol.</span></span> <span data-ttu-id="4b9d0-125">El administrador de enrutadores también tiene un *RoutingPid* único, ya que algunas de las variables MIB pueden ser controladas por el propio administrador de enrutador.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-125">The router manager also has a unique *RoutingPid*, since some of the MIB variables may be handled by the router manager itself.</span></span>

<span data-ttu-id="4b9d0-126">Se puede llamar a las funciones MprAdminMib en un equipo que no sea el que se está administrando.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-126">The MprAdminMib functions can be called on a computer other than the one being administered.</span></span> <span data-ttu-id="4b9d0-127">Las funciones MprAdminMIB que consultan o escriben valores, toman como parámetro un identificador para el equipo que se va a administrar.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-127">The MprAdminMIB functions that query or write values, take as a parameter a handle to the computer to administer.</span></span> <span data-ttu-id="4b9d0-128">Utilice la función [**MprAdminMIBServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverconnect) para establecer la conexión con el equipo remoto y obtener este identificador.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-128">Use the [**MprAdminMIBServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverconnect) function to establish the connection to the remote computer and obtain this handle.</span></span> <span data-ttu-id="4b9d0-129">Después de llamar a las funciones de MprAdminMIB necesarias para realizar una tarea administrativa determinada, llame a la función [**MprAdminMIBServerDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverdisconnect) para finalizar la conexión al equipo remoto.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-129">After calling the necessary MprAdminMIB functions to accomplish a particular administrative task, call the [**MprAdminMIBServerDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverdisconnect) function to terminate the connection to the remote computer.</span></span>

<span data-ttu-id="4b9d0-130">Las funciones [**MprAdminMIBEntryCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrycreate) y [**MprAdminMIBEntrySet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryset) toman como parámetros un OID y un búfer que contiene el nuevo valor para el objeto.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-130">The [**MprAdminMIBEntryCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrycreate) and [**MprAdminMIBEntrySet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryset) functions take as parameters an OID and a buffer which contains the new value for the object.</span></span>

<span data-ttu-id="4b9d0-131">Las funciones [**MprAdminMIBEntryGet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryget), [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) y [**MPRADMINMIBENTRYGETNEXT**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) toman como parámetros un OID y la dirección de una variable de puntero.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-131">The [**MprAdminMIBEntryGet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryget), [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) and [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) functions take as parameters an OID and the address of a pointer variable.</span></span> <span data-ttu-id="4b9d0-132">Si la devolución es correcta, la variable de puntero señala a un búfer que contiene el valor del objeto.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-132">On successful return, the pointer variable points to a buffer that contains the value for the object.</span></span> <span data-ttu-id="4b9d0-133">El llamador debe liberar la memoria para este búfer mediante una llamada a la función [**MprAdminMIBBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibbufferfree) .</span><span class="sxs-lookup"><span data-stu-id="4b9d0-133">The caller should free the memory for this buffer by calling the [**MprAdminMIBBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibbufferfree) function.</span></span>

<span data-ttu-id="4b9d0-134">Las funciones [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) y [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) permiten a los desarrolladores realizar un *recorrido de SNMP*.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-134">The [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) and [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) functions enable a developer to perform an *SNMP walk*.</span></span> <span data-ttu-id="4b9d0-135">Dado que los OID están ordenados, cada OID y, por tanto, cada objeto administrable tiene un OID *siguiente* .</span><span class="sxs-lookup"><span data-stu-id="4b9d0-135">Because the OIDs are ordered, each OID and therefore each manageable object has a *next* OID.</span></span> <span data-ttu-id="4b9d0-136">Un recorrido de SNMP hace referencia al recorrido de una parte de la MIB mediante la lectura o escritura de una secuencia de OID.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-136">An SNMP walk refers to traversing a portion of the MIB by reading or writing a sequence of OIDs.</span></span>

<span data-ttu-id="4b9d0-137">Todas las llamadas a MprAdminMib pasan a través del administrador de interfaz dinámica (DIM).</span><span class="sxs-lookup"><span data-stu-id="4b9d0-137">All MprAdminMib calls pass through the Dynamic Interface Manager (DIM).</span></span> <span data-ttu-id="4b9d0-138">Dependiendo del OID, DIM pasa la llamada a uno de los administradores de enrutadores.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-138">Depending on the OID, DIM passes the call to one of the router managers.</span></span> <span data-ttu-id="4b9d0-139">(Tanto IP como IPX admiten SNMP).</span><span class="sxs-lookup"><span data-stu-id="4b9d0-139">(Both IP and IPX support SNMP).</span></span> <span data-ttu-id="4b9d0-140">De nuevo, dependiendo del OID, el administrador de enrutador puede controlar la propia llamada o pasar la llamada a uno de sus clientes.</span><span class="sxs-lookup"><span data-stu-id="4b9d0-140">Again, depending on the OID, the router manager may handle the call itself, or pass the call to one of its clients.</span></span> <span data-ttu-id="4b9d0-141">Todos los clientes de enrutador deben implementar y exportar las funciones siguientes, que corresponden a las funciones de MprAdminMIB con el mismo nombre:</span><span class="sxs-lookup"><span data-stu-id="4b9d0-141">All router clients are required to implement and export the following functions which correspond to the similarly named MprAdminMIB functions:</span></span>

-   [<span data-ttu-id="4b9d0-142">**MibCreate**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-142">**MibCreate**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_create)
-   [<span data-ttu-id="4b9d0-143">**MibDelete**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-143">**MibDelete**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_delete)
-   [<span data-ttu-id="4b9d0-144">**MibSet**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-144">**MibSet**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_set)
-   [<span data-ttu-id="4b9d0-145">**MibGet**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-145">**MibGet**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get)
-   [<span data-ttu-id="4b9d0-146">**MibGetFirst**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-146">**MibGetFirst**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_first)
-   [<span data-ttu-id="4b9d0-147">**MibGetNext**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-147">**MibGetNext**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_next)
-   [<span data-ttu-id="4b9d0-148">**MibGetTrapInfo**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-148">**MibGetTrapInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_trap_info)
-   [<span data-ttu-id="4b9d0-149">**MibSetTrapInfo**</span><span class="sxs-lookup"><span data-stu-id="4b9d0-149">**MibSetTrapInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_set_trap_info)

 

 




