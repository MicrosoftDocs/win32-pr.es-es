---
title: Arquitectura de cliente de NAP
description: Un cliente NAP es un equipo que ejecuta Windows XP con Service Pack 3 (SP3), Windows Vista o Windows Server 2008 que incluye la plataforma NAP.
ms.assetid: 163c33c9-b18b-49f9-a2a1-fd90a1dc0826
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15862eaa6ae4f4c1f79c53cf9d540aedec295e8a
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104357578"
---
# <a name="nap-client-architecture"></a><span data-ttu-id="ce93d-103">Arquitectura de cliente de NAP</span><span class="sxs-lookup"><span data-stu-id="ce93d-103">NAP Client Architecture</span></span>

> [!Note]  
> <span data-ttu-id="ce93d-104">La plataforma de protección de acceso a redes no está disponible a partir de Windows 10</span><span class="sxs-lookup"><span data-stu-id="ce93d-104">The Network Access Protection platform is not available starting with Windows 10</span></span>

 

<span data-ttu-id="ce93d-105">Un cliente NAP es un equipo que ejecuta Windows XP con Service Pack 3 (SP3), Windows Vista o Windows Server 2008 que incluye la plataforma NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-105">A NAP client is a computer running Windows XP with Service Pack 3 (SP3), Windows Vista, or Windows Server 2008 that includes the NAP platform.</span></span>

<span data-ttu-id="ce93d-106">En esta ilustración se muestra la arquitectura de la plataforma NAP en un cliente NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-106">This figure shows the architecture of the NAP platform on a NAP client.</span></span>

![arquitectura de la plataforma NAP en un cliente NAP](images/nap-client-side-arch.png)

<span data-ttu-id="ce93d-108">La arquitectura de cliente de NAP consta de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ce93d-108">The NAP client architecture consists of the following:</span></span>

-   <span data-ttu-id="ce93d-109">Una capa de componentes de cliente de cumplimiento (EC)</span><span class="sxs-lookup"><span data-stu-id="ce93d-109">A layer of Enforcement Client (EC) components</span></span>

    <span data-ttu-id="ce93d-110">Cada NAP EC se define para un tipo de acceso de red diferente.</span><span class="sxs-lookup"><span data-stu-id="ce93d-110">Each NAP EC is defined for a different type of network access.</span></span> <span data-ttu-id="ce93d-111">Por ejemplo, hay un NAP EC para la configuración de DHCP y un NAP EC para conexiones VPN de acceso remoto.</span><span class="sxs-lookup"><span data-stu-id="ce93d-111">For example, there is a NAP EC for DHCP configuration and a NAP EC for remote access VPN connections.</span></span> <span data-ttu-id="ce93d-112">Se puede hacer coincidir el NAP EC con un tipo específico de punto de cumplimiento NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-112">The NAP EC can be matched to a specific type of NAP enforcement point.</span></span> <span data-ttu-id="ce93d-113">Por ejemplo, el NAP de DHCP EC está diseñado para funcionar con un punto de cumplimiento NAP basado en DHCP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-113">For example, the DHCP NAP EC is designed to work with a DHCP-based NAP enforcement point.</span></span> <span data-ttu-id="ce93d-114">Algunos de NAP se proporcionan con la plataforma NAP y proveedores de software de terceros, o bien Microsoft puede proporcionar a otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="ce93d-114">Some NAP ECs are provided with the NAP platform and third-party software vendors or Microsoft can provide others.</span></span>

-   <span data-ttu-id="ce93d-115">Una capa de componentes del agente de mantenimiento del sistema (SHA)</span><span class="sxs-lookup"><span data-stu-id="ce93d-115">A layer of System Health Agent (SHA) components</span></span>

    <span data-ttu-id="ce93d-116">Un componente SHA mantiene e informa de uno o varios elementos de mantenimiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="ce93d-116">An SHA component maintains and reports one or multiple elements of system health.</span></span> <span data-ttu-id="ce93d-117">Por ejemplo, puede haber un SHA para las firmas de antivirus y un SHA para las actualizaciones del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ce93d-117">For example, there might be an SHA for antivirus signatures and an SHA for operating system updates.</span></span> <span data-ttu-id="ce93d-118">Un SHA puede coincidir con un servidor de actualizaciones, que es un equipo que contiene recursos de actualización de estado a los que los clientes NAP pueden acceder para corregir su estado no compatible.</span><span class="sxs-lookup"><span data-stu-id="ce93d-118">An SHA can be matched to a remediation server, which is a computer that contains health update resources that NAP clients can access to remediate their noncompliant state.</span></span> <span data-ttu-id="ce93d-119">Por ejemplo, un SHA para comprobar las firmas de antivirus coincide con el servidor que contiene el archivo de firma de antivirus más reciente.</span><span class="sxs-lookup"><span data-stu-id="ce93d-119">For example, an SHA for checking antivirus signatures is matched to the server that contains the latest antivirus signature file.</span></span> <span data-ttu-id="ce93d-120">Los Sha no tienen que tener un servidor de actualizaciones correspondiente.</span><span class="sxs-lookup"><span data-stu-id="ce93d-120">SHAs do not have to have a corresponding remediation server.</span></span> <span data-ttu-id="ce93d-121">Por ejemplo, un SHA solo puede comprobar la configuración del sistema local para asegurarse de que está habilitado un firewall basado en host.</span><span class="sxs-lookup"><span data-stu-id="ce93d-121">For example, an SHA can just check local system settings to ensure that a host-based firewall is enabled.</span></span> <span data-ttu-id="ce93d-122">Windows Vista y Windows XP Service Pack 3 incluyen el agente de mantenimiento de seguridad de Windows (WSHA) que supervisa la configuración de la Security Center de Windows.</span><span class="sxs-lookup"><span data-stu-id="ce93d-122">Windows Vista and Windows XP Service Pack 3 include the Windows Security Health Agent (WSHA) that monitors the settings of the Windows Security Center.</span></span> <span data-ttu-id="ce93d-123">Los proveedores de software de terceros o Microsoft pueden proporcionar Sha adicionales a la plataforma NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-123">Third-party software vendors or Microsoft can provide additional SHAs to the NAP platform.</span></span>

-   <span data-ttu-id="ce93d-124">Agente NAP</span><span class="sxs-lookup"><span data-stu-id="ce93d-124">NAP Agent</span></span>

    <span data-ttu-id="ce93d-125">Mantiene la información de estado de mantenimiento actual del cliente NAP y facilita la comunicación entre las capas NAP EC y SHA.</span><span class="sxs-lookup"><span data-stu-id="ce93d-125">Maintains the current health state information of the NAP client and facilitates communication between the NAP EC and SHA layers.</span></span> <span data-ttu-id="ce93d-126">El agente NAP se proporciona con la plataforma NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-126">The NAP Agent is provided with the NAP platform.</span></span>

-   <span data-ttu-id="ce93d-127">API del agente de mantenimiento del sistema</span><span class="sxs-lookup"><span data-stu-id="ce93d-127">System Health Agent API</span></span>

    <span data-ttu-id="ce93d-128">Proporciona un conjunto de funciones que permiten que los Sha se registren en el agente NAP para indicar el estado del sistema, responder a las consultas del estado de mantenimiento del sistema del agente NAP y para que el agente NAP pase información de corrección de mantenimiento del sistema a SHA.</span><span class="sxs-lookup"><span data-stu-id="ce93d-128">Provides a set of functions that allow SHAs to register with the NAP Agent, to indicate system health status, respond to queries for system health status from the NAP Agent, and for the NAP Agent to pass system health remediation information to an SHA.</span></span> <span data-ttu-id="ce93d-129">La API SHA permite a los proveedores crear e instalar Sha adicionales.</span><span class="sxs-lookup"><span data-stu-id="ce93d-129">The SHA API allows vendors to create and install additional SHAs.</span></span> <span data-ttu-id="ce93d-130">La API SHA se proporciona con la plataforma NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-130">The SHA API is provided with the NAP platform.</span></span> <span data-ttu-id="ce93d-131">Consulte las siguientes interfaces NAP: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md)y [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span><span class="sxs-lookup"><span data-stu-id="ce93d-131">See the following NAP interfaces: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md), and [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span></span>

<span data-ttu-id="ce93d-132">Para indicar el estado de mantenimiento de un SHA específico, un SHA crea un informe de mantenimiento ([**SOH**](/windows/win32/api/naptypes/ns-naptypes-soh)) y lo pasa al agente NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-132">To indicate the health state of a specific SHA, an SHA creates a statement of health ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) and passes it to the NAP Agent.</span></span> <span data-ttu-id="ce93d-133">Un SoH puede contener uno o varios elementos de mantenimiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="ce93d-133">An SoH can contain one or multiple elements of system health.</span></span> <span data-ttu-id="ce93d-134">Por ejemplo, el SHA de un programa antivirus puede crear un SoH que contenga el estado del software antivirus que se ejecuta en el equipo, su versión y la última actualización de la firma antivirus recibida.</span><span class="sxs-lookup"><span data-stu-id="ce93d-134">For example, the SHA for an antivirus program can create an SoH containing the state of the antivirus software running on the computer, its version, and the last antivirus signature update received.</span></span> <span data-ttu-id="ce93d-135">Cada vez que un SHA actualiza su estado, crea un nuevo SoH y lo pasa al agente NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-135">Whenever an SHA updates its status, it creates a new SoH and passes it to the NAP Agent.</span></span> <span data-ttu-id="ce93d-136">Para indicar el estado de mantenimiento general de un cliente NAP, el agente NAP usa un informe de mantenimiento del sistema (SSoH), que incluye información de versión para el cliente NAP y el conjunto de SOH para los Sha instalados.</span><span class="sxs-lookup"><span data-stu-id="ce93d-136">To indicate the overall health state of a NAP client, the NAP Agent uses a system statement of health (SSoH), which includes version information for the NAP client and the set of SoHs for the installed SHAs.</span></span>

<span data-ttu-id="ce93d-137">En las secciones siguientes se describen con más detalle los componentes de la arquitectura de cliente de NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-137">The following sections describe the components of the NAP client architecture in further detail.</span></span>

## <a name="nap-enforcement-client"></a><span data-ttu-id="ce93d-138">Cliente de cumplimiento NAP</span><span class="sxs-lookup"><span data-stu-id="ce93d-138">NAP Enforcement Client</span></span>

<span data-ttu-id="ce93d-139">Un cliente de cumplimiento NAP (EC) solicita cierto nivel de acceso a una red, pasa el estado de mantenimiento del equipo a un punto de cumplimiento NAP que proporciona el acceso a la red.</span><span class="sxs-lookup"><span data-stu-id="ce93d-139">A NAP Enforcement Client (EC) requests some level of access to a network, passes the computer's health status to a NAP enforcement point that is providing the network access.</span></span> <span data-ttu-id="ce93d-140">Los puntos de cumplimiento NAP son equipos o dispositivos de acceso a la red que usan NAP o se pueden usar con NAP para requerir la evaluación del estado de mantenimiento de un cliente NAP y proporcionar acceso de red restringido o comunicación.</span><span class="sxs-lookup"><span data-stu-id="ce93d-140">NAP enforcement points are computers or network access devices that use NAP or can be used with NAP to require the evaluation of a NAP client’s health state and provide restricted network access or communication.</span></span> <span data-ttu-id="ce93d-141">Si el estado del equipo no es conforme, NAP EC indica el estado restringido del cliente NAP a otros componentes de la arquitectura del cliente NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-141">If the computer’s health is not compliant, the NAP EC indicates the restricted status of the NAP client to other components of the NAP client architecture.</span></span>

<span data-ttu-id="ce93d-142">El EC de NAP para la plataforma NAP proporcionada en Windows XP con SP3, Windows Vista y Windows Server 2008 son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="ce93d-142">The NAP ECs for the NAP platform supplied in Windows XP with SP3, Windows Vista, and Windows Server 2008 are the following:</span></span>

-   <span data-ttu-id="ce93d-143">Un NAP de IPsec para las comunicaciones protegidas por IPsec.</span><span class="sxs-lookup"><span data-stu-id="ce93d-143">An IPsec NAP EC for IPsec-protected communications.</span></span>
-   <span data-ttu-id="ce93d-144">Un NAP de EAPHost EC para las conexiones autenticadas por 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="ce93d-144">An EAPHost NAP EC for 802.1X-authenticated connections.</span></span>
-   <span data-ttu-id="ce93d-145">Una VPN NAP EC para conexiones VPN de acceso remoto.</span><span class="sxs-lookup"><span data-stu-id="ce93d-145">A VPN NAP EC for remote access VPN connections.</span></span>
-   <span data-ttu-id="ce93d-146">Un NAP de DHCP para la configuración de direcciones IPv4 basadas en DHCP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-146">A DHCP NAP EC for DHCP-based IPv4 address configuration.</span></span>
-   <span data-ttu-id="ce93d-147">Un NAP EC de puerta de enlace de TS para conexiones de puerta de enlace de TS.</span><span class="sxs-lookup"><span data-stu-id="ce93d-147">A TS Gateway NAP EC for TS Gateway connections.</span></span>

<span data-ttu-id="ce93d-148">En el caso de Windows XP con SP3, existen NAP para conexiones inalámbricas y cableadas autenticadas por 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="ce93d-148">For Windows XP with SP3, there are separate NAP ECs for 802.1X-authenticated wired and wireless connections.</span></span>

### <a name="ipsec-nap-ec"></a><span data-ttu-id="ce93d-149">NAP para IPsec</span><span class="sxs-lookup"><span data-stu-id="ce93d-149">IPsec NAP EC</span></span>

<span data-ttu-id="ce93d-150">NAP de IPsec es un componente que obtiene el SSoH del agente NAP y lo envía a una autoridad de registro de mantenimiento (HRA), un equipo que ejecuta Windows Server 2008 y Internet Information Services (IIS) que obtiene certificados de mantenimiento de una entidad de certificación (CA) para equipos compatibles.</span><span class="sxs-lookup"><span data-stu-id="ce93d-150">The IPsec NAP EC is a component that obtains the SSoH from the NAP Agent and sends it to a Health Registration Authority (HRA), a computer running Windows Server 2008 and Internet Information Services (IIS) that obtains health certificates from a certification authority (CA) for compliant computers.</span></span> <span data-ttu-id="ce93d-151">El NAP de IPsec EC se conoce como el usuario de confianza de IPsec en el complemento configuración del cliente de NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-151">The IPsec NAP EC is known as the IPsec Relying Party EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="ce93d-152">IPsec NAP EC también interactúa con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="ce93d-152">The IPsec NAP EC also interacts with the following:</span></span>

-   <span data-ttu-id="ce93d-153">El almacén de certificados para almacenar el certificado de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="ce93d-153">The certificate store to store the health certificate.</span></span>
-   <span data-ttu-id="ce93d-154">Los componentes de IPsec en Windows para asegurarse de que el certificado de mantenimiento se usa para la comunicación protegida por IPsec.</span><span class="sxs-lookup"><span data-stu-id="ce93d-154">The IPsec components in Windows to ensure that the health certificate is used for IPsec-protected communication.</span></span>
-   <span data-ttu-id="ce93d-155">El Firewall basado en host (como el Firewall de Windows) para que el Firewall permita el tráfico protegido por IPsec.</span><span class="sxs-lookup"><span data-stu-id="ce93d-155">The host-based firewall (such as Windows Firewall) so that IPsec-protected traffic is allowed by the firewall.</span></span>

### <a name="eaphost-nap-ec"></a><span data-ttu-id="ce93d-156">NAP de EAPHost EC</span><span class="sxs-lookup"><span data-stu-id="ce93d-156">EAPHost NAP EC</span></span>

<span data-ttu-id="ce93d-157">El NAP de EAPHost EC es un componente que obtiene el SSoH del agente NAP y lo envía como un mensaje de tipo PEAP-Type-length-Value (TLV) para las conexiones autenticadas por 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="ce93d-157">The EAPHost NAP EC is a component that obtains the SSoH from the NAP Agent and sends it as a PEAP-Type-Length-Value (TLV) message for 802.1X-authenticated connections.</span></span> <span data-ttu-id="ce93d-158">EAPHost NAP EC se conoce como la cuarentena de EAP EC en el complemento configuración del cliente de NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-158">The EAPHost NAP EC is known as the EAP Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="vpn-nap-ec"></a><span data-ttu-id="ce93d-159">NAP PARA VPN</span><span class="sxs-lookup"><span data-stu-id="ce93d-159">VPN NAP EC</span></span>

<span data-ttu-id="ce93d-160">La VPN NAP EC es una funcionalidad en el servicio Administrador de conexiones de acceso remoto que obtiene el SSoH del agente NAP y lo envía como un mensaje PEAP-TLV para las conexiones VPN de acceso remoto.</span><span class="sxs-lookup"><span data-stu-id="ce93d-160">The VPN NAP EC is functionality in the Remote Access Connection Manager service that obtains the SSoH from the NAP Agent and sends it as a PEAP-TLV message for remote access VPN connections.</span></span> <span data-ttu-id="ce93d-161">La VPN NAP EC se conoce como cuarentena de acceso remoto EC en el complemento configuración del cliente de NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-161">The VPN NAP EC is known as the Remote Access Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="dhcp-nap-ec"></a><span data-ttu-id="ce93d-162">NAP PARA DHCP</span><span class="sxs-lookup"><span data-stu-id="ce93d-162">DHCP NAP EC</span></span>

<span data-ttu-id="ce93d-163">El NAP de DHCP EC es una funcionalidad en el servicio de cliente DHCP que usa mensajes DHCP estándar del sector para intercambiar mensajes de mantenimiento del sistema e información de acceso a la red limitada.</span><span class="sxs-lookup"><span data-stu-id="ce93d-163">The DHCP NAP EC is functionality in the DHCP Client service that uses industry standard DHCP messages to exchange system health messages and limited network access information.</span></span> <span data-ttu-id="ce93d-164">La EC DHCP de IPsec se conoce como la cuarentena de DHCP EC en el complemento configuración del cliente de NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-164">The IPsec DHCP EC is known as the DHCP Quarantine EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="ce93d-165">El NAP de DHCP EC obtiene el SSoH del agente NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-165">The DHCP NAP EC obtains the SSoH from the NAP Agent.</span></span> <span data-ttu-id="ce93d-166">El servicio del cliente DHCP fragmenta el SSoH, si es necesario, y coloca cada fragmento en una opción DHCP específica del proveedor de Microsoft que se envía en los mensajes DHCPDiscover, DHCPRequest o DHCPInform.</span><span class="sxs-lookup"><span data-stu-id="ce93d-166">The DHCP Client service fragments the SSoH, if required, and puts each fragment into a Microsoft vendor-specific DHCP option that is sent in DHCPDiscover, DHCPRequest or DHCPInform messages.</span></span> <span data-ttu-id="ce93d-167">Los mensajes DHCPDecline y DHCPRelease no contienen SSoH.</span><span class="sxs-lookup"><span data-stu-id="ce93d-167">DHCPDecline and DHCPRelease messages do not contain the SSoH.</span></span>

## <a name="system-health-agent"></a><span data-ttu-id="ce93d-168">Agente de mantenimiento del sistema</span><span class="sxs-lookup"><span data-stu-id="ce93d-168">System Health Agent</span></span>

<span data-ttu-id="ce93d-169">Un agente de mantenimiento del sistema (SHA) realiza actualizaciones de mantenimiento del sistema y publica su estado en forma de SoH en el agente NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-169">A System Health Agent (SHA) performs system health updates and publishes its status in the form of an SoH to the NAP Agent.</span></span> <span data-ttu-id="ce93d-170">El SoH contiene información que el servidor de directivas de mantenimiento de NAP puede usar para comprobar que el equipo cliente se encuentra en el estado de mantenimiento requerido.</span><span class="sxs-lookup"><span data-stu-id="ce93d-170">The SoH contains information that the NAP health policy server can use to verify that the client computer is in the required state of health.</span></span> <span data-ttu-id="ce93d-171">Un SHA coincide con un validador de mantenimiento del sistema (SHV) en el lado servidor de la arquitectura de la plataforma NAP.</span><span class="sxs-lookup"><span data-stu-id="ce93d-171">An SHA is matched to a System Health Validator (SHV) on the server-side of the NAP platform architecture.</span></span> <span data-ttu-id="ce93d-172">El SHV correspondiente puede devolver una respuesta de SoH (SoHR) al cliente NAP, que se pasa por NAP EC y el agente NAP al SHA, lo que le informa de qué hacer si el SHA no tiene un estado de mantenimiento requerido.</span><span class="sxs-lookup"><span data-stu-id="ce93d-172">The corresponding SHV can return an SoH Response (SoHR) to the NAP client, which is passed by the NAP EC and the NAP Agent to the SHA, informing it of what to do if the SHA is not in a required state of health.</span></span> <span data-ttu-id="ce93d-173">Por ejemplo, el SoHR enviado por un SHV de antivirus podría indicar a la SHA de antivirus correspondiente que consulte a un servidor de firmas antivirus para obtener la versión más reciente del archivo de firma de antivirus.</span><span class="sxs-lookup"><span data-stu-id="ce93d-173">For example, the SoHR sent by an antivirus SHV could instruct the corresponding antivirus SHA to query an antivirus signature server to obtain the latest version of the antivirus signature file.</span></span> <span data-ttu-id="ce93d-174">El SoHR también puede incluir el nombre o la dirección IP del servidor de firma de antivirus que se va a consultar.</span><span class="sxs-lookup"><span data-stu-id="ce93d-174">The SoHR can also include the name or IP address of the antivirus signature server to query.</span></span>

<span data-ttu-id="ce93d-175">Un SHA puede usar un cliente de directivas instalado localmente para ayudar en las funciones de administración del mantenimiento del sistema junto con un servidor de directivas.</span><span class="sxs-lookup"><span data-stu-id="ce93d-175">An SHA can use a locally installed policy client to assist in system health management functions in conjunction with a policy server.</span></span> <span data-ttu-id="ce93d-176">Por ejemplo, una actualización de software SHA puede usar el software cliente de software instalado localmente (el cliente de directivas) para realizar la comprobación de la versión y la instalación y actualización de las funciones con el servidor de actualización de software (el servidor de directivas).</span><span class="sxs-lookup"><span data-stu-id="ce93d-176">For example, a software update SHA can use the locally installed software client software (the policy client) to perform version checking and installation and update functions with the software update server (the policy server).</span></span>

## <a name="nap-agent"></a><span data-ttu-id="ce93d-177">Agente NAP</span><span class="sxs-lookup"><span data-stu-id="ce93d-177">NAP Agent</span></span>

<span data-ttu-id="ce93d-178">El agente NAP proporciona los siguientes servicios:</span><span class="sxs-lookup"><span data-stu-id="ce93d-178">The NAP Agent provides the following services:</span></span>

-   <span data-ttu-id="ce93d-179">Recopila el SOH de cada SHA y lo almacena en caché.</span><span class="sxs-lookup"><span data-stu-id="ce93d-179">Collects the SoHs from each SHA and caches them.</span></span> <span data-ttu-id="ce93d-180">La memoria caché de SoH se actualiza cada vez que un SHA proporciona un SoH nuevo o actualizado.</span><span class="sxs-lookup"><span data-stu-id="ce93d-180">The SoH cache is updated whenever an SHA supplies a new or updated SoH.</span></span>
-   <span data-ttu-id="ce93d-181">Almacena el SSoH y lo suministra a la solicitud de EC de NAP a petición.</span><span class="sxs-lookup"><span data-stu-id="ce93d-181">Stores the SSoH and supplies it to the NAP ECs upon request.</span></span>
-   <span data-ttu-id="ce93d-182">Pasa las notificaciones a los Sha cuando cambia el estado restringido.</span><span class="sxs-lookup"><span data-stu-id="ce93d-182">Passes notifications to SHAs when the restricted state changes.</span></span>
-   <span data-ttu-id="ce93d-183">Mantiene el estado restringido del sistema y recopila información de estado de cada SHA.</span><span class="sxs-lookup"><span data-stu-id="ce93d-183">Maintains the system restricted state and collects status information from each SHA.</span></span>
-   <span data-ttu-id="ce93d-184">Pasa SoHRs al SHA adecuado.</span><span class="sxs-lookup"><span data-stu-id="ce93d-184">Passes SoHRs to the appropriate SHA.</span></span>

 

 




