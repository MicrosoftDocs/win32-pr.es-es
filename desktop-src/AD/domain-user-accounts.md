---
title: Usar una cuenta de usuario de dominio como cuenta de inicio de sesión de servicio
description: Una cuenta de usuario de dominio permite al servicio sacar el máximo partido de las características de seguridad del servicio de Windows y Microsoft Active Directory Domain Services.
ms.assetid: 03c486fd-faec-450c-9348-314680eb73cb
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.custom: contperf-fy21q3
ms.openlocfilehash: f482359eb8445cacef12c46716ecde662a95d46d
ms.sourcegitcommit: 11f52354f570aacaf1ba2a266b2e507abd73352a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/19/2021
ms.locfileid: "105653288"
---
# <a name="using-a-domain-user-account-as-a-service-logon-account"></a><span data-ttu-id="40a05-103">Usar una cuenta de usuario de dominio como cuenta de inicio de sesión de servicio</span><span class="sxs-lookup"><span data-stu-id="40a05-103">Using a Domain User Account as a Service Logon Account</span></span>

<span data-ttu-id="40a05-104">Una cuenta de usuario de dominio permite al servicio sacar el máximo partido de las características de seguridad del servicio de Windows y Microsoft Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="40a05-104">A domain user account enables the service to take full advantage of the service security features of Windows and Microsoft Active Directory Domain Services.</span></span> <span data-ttu-id="40a05-105">El servicio tiene el acceso local y de red que se concede a la cuenta, o a los grupos de los que es miembro la cuenta.</span><span class="sxs-lookup"><span data-stu-id="40a05-105">The service has whatever local and network access is granted to the account, or to any groups of which the account is a member.</span></span> <span data-ttu-id="40a05-106">El servicio puede admitir la autenticación mutua de Kerberos.</span><span class="sxs-lookup"><span data-stu-id="40a05-106">The service can support Kerberos mutual authentication.</span></span>

> [!Note]  
> <span data-ttu-id="40a05-107">La siguiente documentación es para desarrolladores de.</span><span class="sxs-lookup"><span data-stu-id="40a05-107">The following documentation is for developers.</span></span> <span data-ttu-id="40a05-108">Si es un usuario final que busca información sobre un mensaje de error relacionado con cuentas de usuario de dominio, consulte los foros de la [comunidad de Microsoft](https://answers.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="40a05-108">If you are an end-user looking for information about an error message involving domain user accounts, see the [Microsoft community forums](https://answers.microsoft.com).</span></span> <span data-ttu-id="40a05-109">Para obtener información acerca de la administración de cuentas de usuario de dominio, consulte [technet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc754217(v=ws.11)).</span><span class="sxs-lookup"><span data-stu-id="40a05-109">For information about managing domain user accounts, see [TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc754217(v=ws.11)).</span></span>

<span data-ttu-id="40a05-110">La ventaja de usar una cuenta de usuario de dominio es que las acciones del servicio están limitadas por los derechos de acceso y los privilegios asociados a la cuenta.</span><span class="sxs-lookup"><span data-stu-id="40a05-110">The advantage of using a domain user account is that the service's actions are limited by the access rights and privileges associated with the account.</span></span> <span data-ttu-id="40a05-111">A diferencia de un `LocalSystem` servicio, los errores en un servicio de cuenta de usuario no pueden dañar el sistema.</span><span class="sxs-lookup"><span data-stu-id="40a05-111">Unlike a `LocalSystem` service, bugs in a user-account service cannot damage the system.</span></span> <span data-ttu-id="40a05-112">Si el servicio se ve comprometido por un ataque de seguridad, el daño se aísla en las operaciones que el sistema permite que realice la cuenta de usuario.</span><span class="sxs-lookup"><span data-stu-id="40a05-112">If the service is compromised by a security attack, the damage is isolated to the operations that the system allows the user account to perform.</span></span> <span data-ttu-id="40a05-113">Al mismo tiempo, los clientes que se ejecutan en distintos niveles de privilegios pueden conectarse al servicio, lo que permite al servicio suplantar a un cliente para realizar operaciones confidenciales.</span><span class="sxs-lookup"><span data-stu-id="40a05-113">At the same time, clients running at varying privilege levels can connect to the service, which enables the service to impersonate a client to perform sensitive operations.</span></span>

<span data-ttu-id="40a05-114">La cuenta de usuario de un servicio no debe ser miembro de los grupos de administradores locales, de dominio o de empresa.</span><span class="sxs-lookup"><span data-stu-id="40a05-114">A service's user account should not be a member of any administrators groups that are local, domain, or enterprise.</span></span> <span data-ttu-id="40a05-115">Si el servicio necesita privilegios administrativos locales, ejecútelo en la `LocalSystem` cuenta.</span><span class="sxs-lookup"><span data-stu-id="40a05-115">If your service needs local administrative privileges, run it under the `LocalSystem` account.</span></span> <span data-ttu-id="40a05-116">En el caso de las operaciones que requieren privilegios administrativos de dominio, realizarlas suplantando el contexto de seguridad de una aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="40a05-116">For operations that require domain administrative privileges, perform them by impersonating the security context of a client application.</span></span>

<span data-ttu-id="40a05-117">Una instancia de servicio que usa una cuenta de usuario de dominio requiere una acción administrativa periódica para mantener la contraseña de la cuenta.</span><span class="sxs-lookup"><span data-stu-id="40a05-117">A service instance that uses a domain user account requires periodic administrative action to maintain the account password.</span></span> <span data-ttu-id="40a05-118">El administrador de control de servicios (SCM) del equipo host de una instancia de servicio almacena en caché la contraseña de la cuenta para utilizarla en el registro en el servicio.</span><span class="sxs-lookup"><span data-stu-id="40a05-118">The service control manager (SCM) on the host computer of a service instance caches the account password for use in logging on the service.</span></span> <span data-ttu-id="40a05-119">Al cambiar la contraseña de la cuenta, también debe actualizar la contraseña almacenada en caché en el equipo host en el que está instalado el servicio.</span><span class="sxs-lookup"><span data-stu-id="40a05-119">When you change the account password, you must also update the cached password on the host computer where the service is installed.</span></span> <span data-ttu-id="40a05-120">Para obtener más información y un ejemplo de código, consulte [cambiar la contraseña en la cuenta de usuario de un servicio](changing-the-password-on-a-serviceampaposs-user-account.md).</span><span class="sxs-lookup"><span data-stu-id="40a05-120">For more information and a code example, see [Changing the Password on a Service's User Account](changing-the-password-on-a-serviceampaposs-user-account.md).</span></span> <span data-ttu-id="40a05-121">Puede evitar el mantenimiento normal si no cambia la contraseña, pero esto aumentaría la probabilidad de que se produzca un ataque de contraseña en la cuenta de servicio.</span><span class="sxs-lookup"><span data-stu-id="40a05-121">You could avoid the regular maintenance by leaving the password unchanged, but that would increase the likelihood of a password attack on the service account.</span></span> <span data-ttu-id="40a05-122">Tenga en cuenta que aunque el SCM almacene la contraseña en una parte segura del registro, está sujeta a ataques.</span><span class="sxs-lookup"><span data-stu-id="40a05-122">Be aware that even though the SCM stores the password in a secure portion of the registry, it is nevertheless subject to attack.</span></span>

<span data-ttu-id="40a05-123">Una cuenta de usuario de dominio tiene dos formatos de nombre: el nombre distintivo del objeto de usuario en el directorio y el <domain> \\ <username> formato "" usado por el administrador de control de servicios local.</span><span class="sxs-lookup"><span data-stu-id="40a05-123">A domain user account has two name formats: the distinguished name of the user object in the directory and the "<domain>\\<username>" format used by the local service control manager.</span></span> <span data-ttu-id="40a05-124">Para obtener más información y un ejemplo de código que convierte de un formato a otro, vea [convertir los formatos de nombre de cuenta de dominio](converting-domain-account-name-formats.md).</span><span class="sxs-lookup"><span data-stu-id="40a05-124">For more information and a code example that converts from one format to the other, see [Converting Domain Account Name Formats](converting-domain-account-name-formats.md).</span></span>

 

 
