---
title: Impacto en las aplicaciones Directory-Enabled
description: En este tema se describe el impacto en las aplicaciones habilitadas para el directorio cuando se producen sesgos de versión, actualizaciones parciales o colisiones.
ms.assetid: 0aec6fe3-7757-4472-bc18-add2327d4e1b
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 061818fc791e1c75d440d0c477a321b8c4e5edfb
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2020
ms.locfileid: "103995077"
---
# <a name="impact-on-directory-enabled-applications"></a><span data-ttu-id="b9fd7-103">Impacto en las aplicaciones Directory-Enabled</span><span class="sxs-lookup"><span data-stu-id="b9fd7-103">Impact on Directory-Enabled Applications</span></span>

## <a name="version-skew"></a><span data-ttu-id="b9fd7-104">Sesgo de versión</span><span class="sxs-lookup"><span data-stu-id="b9fd7-104">Version Skew</span></span>

<span data-ttu-id="b9fd7-105">El sesgo de versiones se produce cuando las aplicaciones leen los mismos objetos de diferentes réplicas antes de que se haya replicado un cambio.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-105">Version skew occurs when applications read the same objects from different replicas before a change has replicated.</span></span> <span data-ttu-id="b9fd7-106">Las aplicaciones que leen la réplica remota reconocen el objeto sin modificar.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-106">Applications reading the remote replica recognize the unchanged object.</span></span> <span data-ttu-id="b9fd7-107">El sesgo de versiones es un problema cuando una aplicación o un conjunto de aplicaciones determinados utilizan los datos del directorio para interoperar.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-107">Version skew is an issue when a given application or set of applications use the data in the directory to interoperate.</span></span>

<span data-ttu-id="b9fd7-108">Por ejemplo, un servicio RPC puede publicar sus extremos en el directorio mediante las API de RPC estándar (como [**RpcNsBindingExport**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindingexporta)).</span><span class="sxs-lookup"><span data-stu-id="b9fd7-108">For example, an RPC Service can publish its endpoints in the directory using standard RPC APIs (such as [**RpcNsBindingExport**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindingexporta)).</span></span> <span data-ttu-id="b9fd7-109">Los clientes se conectan al servicio mediante la búsqueda del punto de conexión deseado en el directorio ( [**RpcNsBindingLookupBegin**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupbegina), [**RpcNsBindingLookupNext**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupnext), etc.) y el enlace a él.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-109">Clients connect to the service by looking up the desired endpoint in the directory ( [**RpcNsBindingLookupBegin**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupbegina), [**RpcNsBindingLookupNext**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupnext), and so on) and binding to it.</span></span>

<span data-ttu-id="b9fd7-110">Supongamos que un servicio RPC S ₁ publica el extremo es ₁ y, posteriormente, se mueve a otro equipo.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-110">Assume that an RPC Service S₁ publishes endpoint Eₛ₁ and subsequently moves to a different computer.</span></span> <span data-ttu-id="b9fd7-111">El punto de conexión original es ₁ se cambia a E<sub>S2,</sub> que refleja la dirección del nuevo equipo.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-111">The original endpoint Eₛ₁ is changed to E<sub>s2,</sub> reflecting the new computer's address.</span></span> <span data-ttu-id="b9fd7-112">Los clientes que leen réplicas remotas del servicio de directorio no pueden conectarse al servicio hasta que se replique el punto de conexión actualizado.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-112">Clients reading remote replicas of the directory service are unable to connect to the service until the updated endpoint is replicated.</span></span> <span data-ttu-id="b9fd7-113">Sin embargo, es poco frecuente mover un servicio de un equipo a otro. por lo tanto, esta interrupción y retraso no se suelen encontrar, especialmente si el movimiento del servicio está bien planeado.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-113">However, moving a service from one computer to another is a rare occurrence; therefore, this interruption/delay should rarely be encountered, especially if the movement of the service is well-planned.</span></span>

## <a name="partial-updates"></a><span data-ttu-id="b9fd7-114">Actualizaciones parciales</span><span class="sxs-lookup"><span data-stu-id="b9fd7-114">Partial Updates</span></span>

<span data-ttu-id="b9fd7-115">En general, la actualización parcial se produce cuando una aplicación Lee un conjunto de datos mientras otra aplicación está escribiendo en el mismo conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-115">In general, partial update occurs when one application is reading a set of data while another application is writing to that same set of data.</span></span> <span data-ttu-id="b9fd7-116">Se trata de una situación que puede producirse en cualquier aplicación de un sistema con varios maestros.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-116">This is a situation that can occur with any application in a multi-mastered system.</span></span> <span data-ttu-id="b9fd7-117">Esto puede ocurrir de muchas maneras.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-117">There are many ways this can occur.</span></span> <span data-ttu-id="b9fd7-118">Puede tener más de una aplicación escribiendo en el mismo conjunto de datos a la vez.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-118">You could have more than one application writing to the same data set at once.</span></span> <span data-ttu-id="b9fd7-119">Si observa esto de esta manera, el servicio de replicación de directorios es simplemente otra aplicación que podría estar escribiendo en el mismo conjunto de datos que otra aplicación puede estar leyendo.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-119">If you look at it this way, the directory replication service is just another application that could potentially be writing to the same data set that another application may be reading.</span></span> <span data-ttu-id="b9fd7-120">Esto podría ser un problema potencial para una aplicación.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-120">This could be a potential problem for an application.</span></span> <span data-ttu-id="b9fd7-121">Sin embargo, el período de tiempo en el que una actualización parcial puede afectar a la aplicación es relativamente pequeño.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-121">However, the window of time in which a partial update can affect your application is relatively small.</span></span> <span data-ttu-id="b9fd7-122">En raras ocasiones, debería ser un problema para las aplicaciones que no dependen de la sincronización de varios objetos.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-122">This should rarely if ever be an issue for applications that are not dependent on the synchronization of multiple objects.</span></span> <span data-ttu-id="b9fd7-123">Si su aplicación depende en gran medida de la sincronización de un conjunto de objetos relacionado, debe tener en cuenta los efectos de una actualización parcial en el diseño de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-123">If your application is highly dependent on the synchronization of a related set of objects, you should consider the effects of a partial update in your application design.</span></span>

<span data-ttu-id="b9fd7-124">En lo que respecta a la replicación de directorios, la actualización parcial se produce cuando las aplicaciones leen el mismo conjunto de objetos de diferentes réplicas mientras la replicación está en curso.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-124">In terms of the directory replication, partial update occurs when applications read the same set of objects from different replicas while replication is in progress.</span></span> <span data-ttu-id="b9fd7-125">Las aplicaciones de la réplica remota ven algunos, pero no todos, los cambios.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-125">Applications at the remote replica see some, but not all, of the changes.</span></span>

> [!Note]  
> <span data-ttu-id="b9fd7-126">La ventana en la que la actualización parcial puede afectar a una aplicación es pequeña: la aplicación debe empezar a leer objetos mientras la replicación entrante está en curso, una vez que se han recibido uno o varios de los objetos cambiados relacionados pero antes de que se hayan recibido todos.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-126">The window in which partial update can affect an application is small: the application must start reading objects while inbound replication is in progress, after one or more of the related, changed objects have been received but before all have been received.</span></span> <span data-ttu-id="b9fd7-127">El tiempo entre las actualizaciones en la réplica de origen afecta directamente al tamaño de esta ventana, ya que las actualizaciones que se producen cerca del tiempo se replican juntas en el tiempo.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-127">The time between the updates at the source replica directly affects the size of this window—updates that occur close together in time are replicated close together in time.</span></span> <span data-ttu-id="b9fd7-128">La actualización parcial puede ser un problema cuando una aplicación utiliza un conjunto de objetos relacionado.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-128">Partial update can be an issue when an application uses a related set of objects.</span></span>

 

<span data-ttu-id="b9fd7-129">Por ejemplo, un servicio de acceso remoto puede utilizar el directorio para almacenar los datos de la Directiva y del perfil.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-129">For example, a remote access service can use the directory to store policy and profile data.</span></span> <span data-ttu-id="b9fd7-130">Los datos de la Directiva se almacenan en un conjunto de objetos y el perfil en otro conjunto.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-130">The policy data is stored in one set of objects, and the profile in another set.</span></span> <span data-ttu-id="b9fd7-131">Cuando un usuario se conecta al servicio de acceso remoto, el servicio de acceso remoto lee la Directiva para determinar si el usuario puede conectarse y, en caso afirmativo, qué perfil aplicar a la sesión de usuario.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-131">When a user connects to the remote access service, the remote access service reads the policy to determine whether the user is allowed to connect, and if so what profile to apply to the user session.</span></span> <span data-ttu-id="b9fd7-132">La actualización parcial puede afectar al servicio de acceso remoto de varias maneras:</span><span class="sxs-lookup"><span data-stu-id="b9fd7-132">Partial update can affect the remote access service in several ways:</span></span>

-   <span data-ttu-id="b9fd7-133">Si la Directiva es compleja y consta de varios objetos, el servicio de acceso remoto podría leer una directiva parcialmente actualizada, lo que provocaría una denegación incorrecta o la concesión del servicio al usuario, imposibilidad de procesar la Directiva debido a una incoherencia interna, etc.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-133">If the policy is complex and consists of multiple objects, the remote access service might read a partially updated policy resulting in incorrect denial or granting of service to the user, inability to process the policy due to internal inconsistency, and so on.</span></span>
-   <span data-ttu-id="b9fd7-134">Si se han actualizado la Directiva y los perfiles, es posible que el servicio procese correctamente la Directiva, pero aplique un perfil obsoleto, ya que los objetos de Directiva se han replicado pero no los objetos de perfil.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-134">If both the policy and profiles have been updated, the service might correctly process the policy but apply a stale profile, because the policy objects have replicated but the profile objects have not.</span></span>
-   <span data-ttu-id="b9fd7-135">Si el perfil es complejo y consta de varios objetos, es posible que el servicio procese correctamente la Directiva pero aplique un perfil parcialmente actualizado, ya que los objetos de Directiva se han replicado, pero solo algunos de los objetos de perfil lo han hecho.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-135">If the profile is complex and consists of multiple objects, the service might correctly process the policy but apply a partially updated profile because the policy objects have replicated, but only some of the profile objects have done so.</span></span>

## <a name="collisions"></a><span data-ttu-id="b9fd7-136">Colisiones</span><span class="sxs-lookup"><span data-stu-id="b9fd7-136">Collisions</span></span>

<span data-ttu-id="b9fd7-137">Las colisiones se producen cuando se modifican los mismos atributos de dos o más réplicas de un objeto determinado durante el mismo intervalo de replicación.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-137">Collisions occur when the same attributes of two or more replicas of a given object are changed during the same replication interval.</span></span> <span data-ttu-id="b9fd7-138">El proceso de replicación concilia la colisión; debido a la reconciliación, un usuario o una aplicación puede "ver" un valor distinto del que escribió.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-138">The replication process reconciles the collision; because of reconciliation a user or application may "see" a value other than the one they wrote.</span></span>

<span data-ttu-id="b9fd7-139">Un ejemplo sencillo es la información de dirección de usuario: un usuario cambia una dirección de correo en la réplica R1 y un administrador cambia la misma dirección de correo en la réplica R2.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-139">A simple example is user address information: A user changes a mailing address at replica R1 and an administrator changes the same mailing address at replica R2.</span></span> <span data-ttu-id="b9fd7-140">Un valor escrito se propaga hasta que el mecanismo de conciliación de colisiones selecciona otro valor en ese valor.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-140">A written value propagates until another value is selected over that value by the collision reconciliation mechanism.</span></span> <span data-ttu-id="b9fd7-141">Siempre que un valor siga "ganando" con respecto a otros valores del proceso de resolución de colisiones, el valor seguirá propagando.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-141">As long as a value continues to "win" against other values in the collision resolution process, the value continues to propagate.</span></span> <span data-ttu-id="b9fd7-142">En última instancia, este valor "ganador" se propagará a R1, R2 y a todas las demás réplicas si no se realiza ningún otro cambio.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-142">Ultimately, this "winning" value will be propagated to R1,R2, and all other replicas if no other changes are made.</span></span>

<span data-ttu-id="b9fd7-143">La resolución de colisiones es un problema para las aplicaciones que realizan suposiciones sobre la coherencia interna de objetos o conjuntos de objetos.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-143">Collision resolution is an issue for applications that make assumptions about the internal consistency of objects or sets of objects.</span></span> <span data-ttu-id="b9fd7-144">Por ejemplo, un servicio de administración de asignación de ancho de banda de red almacena los datos de ancho de banda de red para un segmento de red determinado en el directorio de un objeto O1.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-144">For example, a network bandwidth allocation management service stores network bandwidth data for a given network segment in the directory in an object O1.</span></span> <span data-ttu-id="b9fd7-145">El objeto contiene el ancho de banda disponible en bits por segundo y el ancho de banda máximo que un solo usuario puede reservar.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-145">The object contains the bandwidth available in bits-per-second and the maximum bandwidth any single user can reserve.</span></span> <span data-ttu-id="b9fd7-146">El servicio espera que el ancho de banda Reservable del usuario sea siempre menor o igual que el ancho de banda disponible.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-146">The service expects that the user reservable bandwidth will always be less than or equal to the bandwidth available.</span></span>

<span data-ttu-id="b9fd7-147">Considere la siguiente secuencia de eventos:</span><span class="sxs-lookup"><span data-stu-id="b9fd7-147">Consider the following sequence of events:</span></span>

-   <span data-ttu-id="b9fd7-148">El objeto en el estado de replicación completa inicial proporciona el ancho de banda disponible de 56 kilobits por segundo y el ancho de banda Reservable del usuario como 9.600 bits por segundo.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-148">The object in the initial fully replicated state gives the available bandwidth as 56 kilobits-per-second, and the user reservable bandwidth as 9,600 bits-per-second.</span></span>
-   <span data-ttu-id="b9fd7-149">Un administrador de la réplica R ₁ cambia los valores a 64k y 19.200, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-149">An administrator at replica R₁ changes the values to 64k and 19,200 respectively.</span></span>
-   <span data-ttu-id="b9fd7-150">Un administrador de la réplica R ₂ cambia los valores a 10 millones y 1 millón, respectivamente, antes de que llegue la actualización de R ₁.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-150">An administrator at replica R₂ changes the values to 10 million and 1 million respectively before the update from R₁ arrives.</span></span>

<span data-ttu-id="b9fd7-151">Suponiendo que los atributos en cuestión tienen números de versión iguales cuando se producen las actualizaciones, hay una posibilidad pequeña, pero real, de que el objeto terminará con un ancho de banda máximo de 64k y un máximo de 1 millón de usuarios, si la aplicación realiza las actualizaciones como operaciones de escritura independientes.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-151">Assuming the attributes in question have equal version numbers when the updates occur, there is a small, but real, possibility that the object will end up with a maximum bandwidth of 64k and a user reservable maximum of 1 million—if the application performs the updates as separate write operations.</span></span> <span data-ttu-id="b9fd7-152">La aplicación siempre debe actualizar ambas propiedades en una sola operación.</span><span class="sxs-lookup"><span data-stu-id="b9fd7-152">The application should always update both properties in a single operation.</span></span>

 

 