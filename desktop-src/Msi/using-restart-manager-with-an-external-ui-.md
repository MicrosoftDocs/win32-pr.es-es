---
description: Windows Installer los desarrolladores pueden preparar el paquete de instalación para que funcione con reinicio Manager siguiendo las instrucciones descritas en uso de Windows Installer con el administrador de reinicio.
ms.assetid: 777f8864-b3d2-43c7-9296-1118f3595d7b
title: Uso del administrador de reinicio con una interfaz de usuario externa
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0f112884669b173b40f3806c48cf8e05308c5b44
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104275434"
---
# <a name="using-restart-manager-with-an-external-ui"></a><span data-ttu-id="ba951-103">Uso del administrador de reinicio con una interfaz de usuario externa</span><span class="sxs-lookup"><span data-stu-id="ba951-103">Using Restart Manager with an External UI</span></span>

<span data-ttu-id="ba951-104">Windows Installer los desarrolladores pueden preparar el paquete de instalación para que funcione con [reinicio Manager](../rstmgr/restart-manager-portal.md) siguiendo las instrucciones descritas en [uso de Windows Installer con el administrador de reinicio](using-windows-installer-with-restart-manager.md).</span><span class="sxs-lookup"><span data-stu-id="ba951-104">Windows Installer developers can prepare their installation package to work with [Restart Manager](../rstmgr/restart-manager-portal.md) by following the guidelines described in [Using Windows Installer with Restart Manager](using-windows-installer-with-restart-manager.md).</span></span>

<span data-ttu-id="ba951-105">Especifique el \_ tipo de mensaje RMFILESINUSE de INSTALLLOGMODE al llamar a la función [**MsiSetExternalUI**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) o [**MsiSetExternalUIRecord**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) para habilitar el controlador de la interfaz de usuario externo.</span><span class="sxs-lookup"><span data-stu-id="ba951-105">Specify the INSTALLLOGMODE\_RMFILESINUSE message type when calling the [**MsiSetExternalUI**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) or [**MsiSetExternalUIRecord**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) function to enable the external user-interface handler.</span></span> <span data-ttu-id="ba951-106">A continuación, Windows Installer envía un \_ mensaje RMFILESINUSE de INSTALLMESSAGE para que lo usen los controladores externos de la interfaz de usuario que admiten el [Administrador de reinicio](../rstmgr/restart-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="ba951-106">Windows Installer then sends an INSTALLMESSAGE\_RMFILESINUSE message for use by external user-interface handlers that support the [Restart Manager](../rstmgr/restart-manager-portal.md).</span></span>

<span data-ttu-id="ba951-107">El controlador de la interfaz de usuario externo debe administrar la información contenida en \_ los mensajes de INSTALLMESSAGE RMFILESINUSE.</span><span class="sxs-lookup"><span data-stu-id="ba951-107">Your external user-interface handler should handle the information contained in INSTALLMESSAGE\_RMFILESINUSE messages.</span></span> <span data-ttu-id="ba951-108">Si no hay ninguna interfaz de usuario registrada o interna que controla el \_ mensaje INSTALLMESSAGE RMFILESINUSE, Windows Installer envía un \_ mensaje FILESINUSE de INSTALLMESSAGE para que lo usen los controladores externos existentes que admiten \_ los mensajes INSTALLMESSAGE FILESINUSE y el cuadro de diálogo [FILESINUSE](filesinuse-dialog.md) .</span><span class="sxs-lookup"><span data-stu-id="ba951-108">If no registered or internal user-interface handles the INSTALLMESSAGE\_RMFILESINUSE message, Windows Installer sends an INSTALLMESSAGE\_FILESINUSE message for use by existing external handlers that support INSTALLMESSAGE\_FILESINUSE messages and the [FilesInUse](filesinuse-dialog.md) dialog box.</span></span>

<span data-ttu-id="ba951-109">La interfaz de usuario externa puede devolver los valores que se muestran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="ba951-109">The external user interface can return the values listed in the following table.</span></span>



| <span data-ttu-id="ba951-110">Valor devuelto de IU externa</span><span class="sxs-lookup"><span data-stu-id="ba951-110">External UI return value</span></span> | <span data-ttu-id="ba951-111">Acción realizada por Windows Installer</span><span class="sxs-lookup"><span data-stu-id="ba951-111">Action taken by Windows Installer</span></span>                                                                                                                                                                                                                                                                                                              |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ba951-112">IDOK</span><span class="sxs-lookup"><span data-stu-id="ba951-112">IDOK</span></span>                     | <span data-ttu-id="ba951-113">El usuario presionó el botón **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="ba951-113">The **OK** button was pressed by the user.</span></span> <span data-ttu-id="ba951-114">El Windows Installer solicitará que el [Administrador de reinicio](../rstmgr/restart-manager-portal.md) se apague y reinicie las aplicaciones que contienen archivos que están en uso actualmente.</span><span class="sxs-lookup"><span data-stu-id="ba951-114">The Windows Installer will request that the [Restart Manager](../rstmgr/restart-manager-portal.md) shut down and restart the applications that hold files currently in use.</span></span>                                                                                                                                               |
| <span data-ttu-id="ba951-115">IDCANCEL</span><span class="sxs-lookup"><span data-stu-id="ba951-115">IDCANCEL</span></span>                 | <span data-ttu-id="ba951-116">Se presionó el botón **Cancelar** .</span><span class="sxs-lookup"><span data-stu-id="ba951-116">The **CANCEL** button was pressed.</span></span> <span data-ttu-id="ba951-117">Cancele la instalación.</span><span class="sxs-lookup"><span data-stu-id="ba951-117">Cancel the installation.</span></span>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="ba951-118">IDIGNORE</span><span class="sxs-lookup"><span data-stu-id="ba951-118">IDIGNORE</span></span>                 | <span data-ttu-id="ba951-119">Se presionó el botón **omitir** .</span><span class="sxs-lookup"><span data-stu-id="ba951-119">The **IGNORE** button was pressed.</span></span> <span data-ttu-id="ba951-120">Omitir y continuar con la instalación.</span><span class="sxs-lookup"><span data-stu-id="ba951-120">Ignore and continue the installation.</span></span> <span data-ttu-id="ba951-121">Al final de la instalación, se requerirá un reinicio.</span><span class="sxs-lookup"><span data-stu-id="ba951-121">A restart will be required at the end of the installation.</span></span>                                                                                                                                                                                                            |
| <span data-ttu-id="ba951-122">IDNO</span><span class="sxs-lookup"><span data-stu-id="ba951-122">IDNO</span></span>                     | <span data-ttu-id="ba951-123">Se presionó el botón **no** .</span><span class="sxs-lookup"><span data-stu-id="ba951-123">The **NO** button was pressed.</span></span> <span data-ttu-id="ba951-124">Si el paquete tiene un cuadro de diálogo [MsiRMFilesInUse](msirmfilesinuse-dialog.md) , envíe un mensaje 1610.</span><span class="sxs-lookup"><span data-stu-id="ba951-124">If the package has an [MsiRMFilesInUse](msirmfilesinuse-dialog.md) dialog box, send a 1610 message.</span></span> <span data-ttu-id="ba951-125">Para obtener más información, vea [Windows Installer mensajes de error](windows-installer-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="ba951-125">For more information, see [Windows Installer Error Messages](windows-installer-error-messages.md).</span></span> <span data-ttu-id="ba951-126">Si el paquete no tiene un cuadro de diálogo MsiRMFilesInUse, envíe un \_ mensaje INSTALLMESSAGE FILESINUSE.</span><span class="sxs-lookup"><span data-stu-id="ba951-126">If the package does not have a MsiRMFilesInUse dialog box, send an INSTALLMESSAGE\_FILESINUSE message.</span></span> |
| <span data-ttu-id="ba951-127">IDRETRY</span><span class="sxs-lookup"><span data-stu-id="ba951-127">IDRETRY</span></span>                  | <span data-ttu-id="ba951-128">Se presionó el botón **Reintentar** .</span><span class="sxs-lookup"><span data-stu-id="ba951-128">The **RETRY** button was pressed.</span></span> <span data-ttu-id="ba951-129">Envíe el \_ mensaje FILESINUSE de INSTALLMESSAGE.</span><span class="sxs-lookup"><span data-stu-id="ba951-129">Send the INSTALLMESSAGE\_FILESINUSE message.</span></span>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="ba951-130">-1</span><span class="sxs-lookup"><span data-stu-id="ba951-130">-1</span></span>                       | <span data-ttu-id="ba951-131">Un error.</span><span class="sxs-lookup"><span data-stu-id="ba951-131">An error.</span></span> <span data-ttu-id="ba951-132">Finalice la instalación.</span><span class="sxs-lookup"><span data-stu-id="ba951-132">End the installation.</span></span>                                                                                                                                                                                                                                                                                                                |



 

 

 
