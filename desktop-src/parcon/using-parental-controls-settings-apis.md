---
description: Uso de las API de configuración de controles parentales
ms.assetid: 77a239e9-1cec-4710-b673-7d0cebd502e9
title: Uso de las API de configuración de controles parentales
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1dde4827dfe3ed5ee7eec6787744e6ff92f18775
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103815363"
---
# <a name="using-parental-controls-settings-apis"></a><span data-ttu-id="8474a-103">Uso de las API de configuración de controles parentales</span><span class="sxs-lookup"><span data-stu-id="8474a-103">Using Parental Controls Settings APIs</span></span>

<span data-ttu-id="8474a-104">La configuración se trata con anterioridad al registro porque el registro es condicional en la configuración del usuario.</span><span class="sxs-lookup"><span data-stu-id="8474a-104">Settings are discussed ahead of logging because logging is conditional on the user's settings.</span></span>

## <a name="wmi-api-settings-writeread"></a><span data-ttu-id="8474a-105">Escritura/lectura de la configuración de la API de WMI</span><span class="sxs-lookup"><span data-stu-id="8474a-105">WMI API Settings Write/Read</span></span>

<span data-ttu-id="8474a-106">La API de WMI proporciona acceso no abstracto (sin formato) a todas las opciones de configuración creadas por la infraestructura de controles parentales, tal como se define en el archivo de esquema Wpcsprov. mof.</span><span class="sxs-lookup"><span data-stu-id="8474a-106">The WMI API provides non-abstracted (raw) access to all settings instantiated by the Parental Controls infrastructure as defined in the Wpcsprov.mof schema file.</span></span> <span data-ttu-id="8474a-107">El almacén de configuración existe en \\ el \\ espacio de nombres WindowsParentalControls de aplicaciones de cimv2 raíz \\ \\ , con las siguientes definiciones de clase que definen un esquema.</span><span class="sxs-lookup"><span data-stu-id="8474a-107">The settings store exists in the \\root\\CIMV2\\Applications\\WindowsParentalControls namespace, with the following class definitions defining a schema.</span></span> <span data-ttu-id="8474a-108">Se indican los elementos de extensibilidad.</span><span class="sxs-lookup"><span data-stu-id="8474a-108">Extensibility elements are noted.</span></span>

<span data-ttu-id="8474a-109">Por equipo:</span><span class="sxs-lookup"><span data-stu-id="8474a-109">Per-computer:</span></span>

-   <span data-ttu-id="8474a-110">WpcSystemSettings (una instancia)</span><span class="sxs-lookup"><span data-stu-id="8474a-110">WpcSystemSettings (one instance)</span></span>
    -   <span data-ttu-id="8474a-111">Los métodos AddUser () y RemoveUser () para crear y eliminar la configuración de controles parentales para un SID determinado, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="8474a-111">AddUser() and RemoveUser() methods to create and delete parental controls settings for a given SID, respectively.</span></span>
    -   <span data-ttu-id="8474a-112">Propiedades del sistema actual de clasificación de juegos en vigor y seguimiento y notificación relacionados con la comprobación de administración de registros.</span><span class="sxs-lookup"><span data-stu-id="8474a-112">Properties for current game ratings system in force, and tracking and notification related to admin checking of logs.</span></span>
    -   <span data-ttu-id="8474a-113">Extensibilidad: propiedades de la aplicación HTTP de solo lectura y de lectura/escritura y las listas de exenciones de dirección URL para el filtrado de contenido Web, el filtro de contenido web invalida el identificador y la ruta de acceso y el identificador del archivo DLL de recurso de nombre, y el registro de campos y el registro de nombres de encabezado.</span><span class="sxs-lookup"><span data-stu-id="8474a-113">Extensibility: Properties for read-only and read/write HTTP application and URL exemption lists for web content filtering, Web Content Filter override ID and name resource DLL path and ID, and custom log event number of fields and header name registration.</span></span>
-   <span data-ttu-id="8474a-114">WpcRatingsSystem (una instancia por cada sistema de clasificación instalado)</span><span class="sxs-lookup"><span data-stu-id="8474a-114">WpcRatingsSystem (one instance per each ratings system installed)</span></span>
    -   <span data-ttu-id="8474a-115">WpcRating (una instancia por nivel de clasificación).</span><span class="sxs-lookup"><span data-stu-id="8474a-115">WpcRating (one instance per rating level).</span></span>
    -   <span data-ttu-id="8474a-116">WpcRatingDescriptor (una instancia por cada descriptor de clasificación).</span><span class="sxs-lookup"><span data-stu-id="8474a-116">WpcRatingDescriptor (one instance per rating descriptor).</span></span>
-   <span data-ttu-id="8474a-117">Extensibilidad: WpcExtension (se ha agregado una instancia por cada vínculo de extensibilidad del panel de controles parentales).</span><span class="sxs-lookup"><span data-stu-id="8474a-117">Extensibility: WpcExtension (one instance per each Parental Controls Panel extensibility link added).</span></span>
    -   <span data-ttu-id="8474a-118">Propiedades de GUID, subsistema, identificador, ruta de acceso del recurso de imagen, ruta de acceso del recurso de imagen de estado deshabilitada, ruta de acceso de archivo, nombre para mostrar ruta de acceso e ID. de dll de recurso de subtítulo y identificador.</span><span class="sxs-lookup"><span data-stu-id="8474a-118">Properties for GUID, subsystem, ID, image resource path, disabled state image resource path, executable path, display name resource DLL path and ID, subtitle resource DLL path and ID.</span></span>

<span data-ttu-id="8474a-119">Usuario controlado:</span><span class="sxs-lookup"><span data-stu-id="8474a-119">Per-controlled user:</span></span>

-   <span data-ttu-id="8474a-120">WpcUserSettings (una instancia por usuario controlado)</span><span class="sxs-lookup"><span data-stu-id="8474a-120">WpcUserSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="8474a-121">Propiedades para el indicador de SID de propiedad, marca de activación/desactivación, marca de inicio/desactivación, límite de tiempo activado/desactivado, marca de invalidaciones habilitadas, máscara de horas de inicio de sesión y restricciones de aplicaciones generales en la marca/desactivación.</span><span class="sxs-lookup"><span data-stu-id="8474a-121">Properties for owning SID, parental controls on/off flag, logging on/off flag, time limits on/off flag, overrides enabled flag, logon hours mask, and General Application Restrictions on/off flag.</span></span>
    -   <span data-ttu-id="8474a-122">En Windows 8, la propiedad existente representa la primera media hora de cada hora.</span><span class="sxs-lookup"><span data-stu-id="8474a-122">In Windows 8 the existing property represents the first half-hour for each hour.</span></span> <span data-ttu-id="8474a-123">Se ha agregado una nueva propiedad de media hour para representar la segunda mitad de cada hora.</span><span class="sxs-lookup"><span data-stu-id="8474a-123">A new half-hour property has been added to represent the second half of each hour.</span></span> <span data-ttu-id="8474a-124">Se presentó una nueva propiedad adicional para representar la asignación de tiempo diaria.</span><span class="sxs-lookup"><span data-stu-id="8474a-124">An additional new property was introduced to represent daily time allowance.</span></span>

        <span data-ttu-id="8474a-125">**Windows 7 y Windows Vista:** Las restricciones de temporizador admiten la granularidad de 1 hora.</span><span class="sxs-lookup"><span data-stu-id="8474a-125">**Windows 7 and Windows Vista:** Timer restrictions supported 1 hour granularity.</span></span>

-   <span data-ttu-id="8474a-126">WpcWebSettings (una instancia por usuario controlado)</span><span class="sxs-lookup"><span data-stu-id="8474a-126">WpcWebSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="8474a-127">Propiedades para el SID de propiedad, marca de filtrado de activado/desactivado, nivel de filtro, marca de descargas bloqueadas de archivo, marca de sitios sin clasificación bloqueados.</span><span class="sxs-lookup"><span data-stu-id="8474a-127">Properties for owning SID, filter on/off flag, filter level, file downloads blocked flag, unrated sites blocked flag.</span></span>
-   <span data-ttu-id="8474a-128">WpcUrlOverride (una instancia por dirección URL permitida o denegada explícitamente en la lista de invalidamientos de direcciones URL usada como permitir o bloquear la lista para el filtrado de contenido web)</span><span class="sxs-lookup"><span data-stu-id="8474a-128">WpcUrlOverride (one instance per URL explicitly allowed or denied in URL override list used as allow/block list for web content filtering)</span></span>
    -   <span data-ttu-id="8474a-129">Propiedades para el estado SID, URL afectada, permitido o bloqueado.</span><span class="sxs-lookup"><span data-stu-id="8474a-129">Properties for owning SID, URL affected, allowed/blocked state.</span></span>
-   <span data-ttu-id="8474a-130">WpcAppOverride (una instancia por ruta de acceso permitida explícitamente en la lista de invalidaciones de aplicación de restricciones de aplicaciones generales)</span><span class="sxs-lookup"><span data-stu-id="8474a-130">WpcAppOverride (one instance per path explicitly allowed in General Application Restrictions application override list)</span></span>
    -   <span data-ttu-id="8474a-131">Propiedades para el SID de propiedad.</span><span class="sxs-lookup"><span data-stu-id="8474a-131">Properties for owning SID.</span></span> <span data-ttu-id="8474a-132">IDENTIFICADOR de regla más seguro, ruta de acceso a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8474a-132">SAFER rule ID, path to application.</span></span>
-   <span data-ttu-id="8474a-133">WpcGamesSettings (una instancia por usuario controlado)</span><span class="sxs-lookup"><span data-stu-id="8474a-133">WpcGamesSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="8474a-134">Propiedades del SID propietario, marca de juegos permitidos, GUID del sistema de clasificación para esta configuración, permitir marca de juegos sin clasificación, ID. de la clasificación máxima permitida en el sistema actual, colección de descriptores denegados.</span><span class="sxs-lookup"><span data-stu-id="8474a-134">Properties for owning SID, games permitted flag, GUID of ratings system for these settings, allow unrated games flag, ID of maximum allowed rating under current system, collection of denied descriptors.</span></span>
-   <span data-ttu-id="8474a-135">WpcGameOverride (una instancia por cada identificador de aplicación permitida o denegada explícitamente)</span><span class="sxs-lookup"><span data-stu-id="8474a-135">WpcGameOverride (one instance per application ID explicitly allowed or denied)</span></span>
    -   <span data-ttu-id="8474a-136">Propiedades de SID propietario, juego de identificación de identificador de aplicación, estado permitido o denegado.</span><span class="sxs-lookup"><span data-stu-id="8474a-136">Properties for owning SID, application ID identifying game, allowed/denied state.</span></span>

## <a name="data-representation-notes"></a><span data-ttu-id="8474a-137">Notas de representación de datos</span><span class="sxs-lookup"><span data-stu-id="8474a-137">Data Representation Notes</span></span>

<span data-ttu-id="8474a-138">Algunas de las opciones del esquema están restringidas por el archivo. mof con un atributo que no \_ es NULL.</span><span class="sxs-lookup"><span data-stu-id="8474a-138">Several of the settings within the schema are constrained by the .mof file with attribute non\_null.</span></span> <span data-ttu-id="8474a-139">No se pueden establecer en una variante nula.</span><span class="sxs-lookup"><span data-stu-id="8474a-139">These cannot be set to a null variant.</span></span> <span data-ttu-id="8474a-140">En el caso de todos los tipos que no son de matriz, el código de controles parentales inicializa valores.</span><span class="sxs-lookup"><span data-stu-id="8474a-140">For all non-array types, the Parental Controls code initializes values.</span></span> <span data-ttu-id="8474a-141">En el caso de las matrices, los Estados vacíos se pueden escribir con una variante nula, una variante vacía o una matriz de variantes de tamaño cero.</span><span class="sxs-lookup"><span data-stu-id="8474a-141">For arrays, empty states may be written by using a null variant, empty variant, or zero-sized variant array.</span></span> <span data-ttu-id="8474a-142">El proveedor WMI normalizará todos estos valores en una representación de estado variante nula en la lectura.</span><span class="sxs-lookup"><span data-stu-id="8474a-142">The WMI provider will normalize all of these to a null variant state representation on read.</span></span>

## <a name="user-interface-extensibility-link-notes"></a><span data-ttu-id="8474a-143">Notas del vínculo de extensibilidad de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="8474a-143">User Interface Extensibility Link Notes</span></span>

<span data-ttu-id="8474a-144">El uso de WMI para registrar un vínculo de extensibilidad de la interfaz de usuario requiere la especificación de la siguiente información:</span><span class="sxs-lookup"><span data-stu-id="8474a-144">Using WMI to register a UI extensibility link requires specifying the following information:</span></span>

-   <span data-ttu-id="8474a-145">GUID: varios vínculos pueden compartir el mismo GUID si forman parte de un paquete o conjunto común.</span><span class="sxs-lookup"><span data-stu-id="8474a-145">GUID - multiple links may share the same GUID if they are part of a common package or suite.</span></span>
-   <span data-ttu-id="8474a-146">Subsistema: diseñado para indicar las clasificaciones de tipos de vínculo, como conjuntos o aplicaciones compatibles independientes</span><span class="sxs-lookup"><span data-stu-id="8474a-146">Subsystem - intended to indicate classifications of link types, such as suites or standalone compliant applications</span></span>
-   <span data-ttu-id="8474a-147">Nombre y ruta de acceso de la DLL del recurso Name: especifica el recurso para el nombre para mostrar que se mostrará para el vínculo.</span><span class="sxs-lookup"><span data-stu-id="8474a-147">Name resource DLL path and ID - specifies resource for display name to be displayed for the link.</span></span>
-   <span data-ttu-id="8474a-148">IDENTIFICADOR y ruta de acceso del archivo DLL de recursos de subtítulos: especifica el recurso para texto adicional debajo del nombre.</span><span class="sxs-lookup"><span data-stu-id="8474a-148">Subtitle resource DLL path and ID - specifies resource for additional text below the name.</span></span>
-   <span data-ttu-id="8474a-149">Ruta de acceso de la imagen: ruta de acceso completa de un mapa de bits de 24 x 24 píxeles (BMP), con una profundidad de color de 8 bits por píxel y, preferiblemente, un canal alfa.</span><span class="sxs-lookup"><span data-stu-id="8474a-149">Image path - full path of a 24 × 24 pixel bitmap (BMP), with 8 bits-per-pixel color depth and preferably an alpha channel.</span></span> <span data-ttu-id="8474a-150">Esto se especifica de manera coherente con las extensiones de Shell: <file system path> , <negative resource ID> .</span><span class="sxs-lookup"><span data-stu-id="8474a-150">This is specified in a manner consistent with shell extensions: <file system path>,<negative resource ID>.</span></span> <span data-ttu-id="8474a-151">Por ejemplo: C: \\ Windows \\ system32 \\Wpccpl.dll,-20.</span><span class="sxs-lookup"><span data-stu-id="8474a-151">As an example: C:\\Windows\\System32\\Wpccpl.dll,-20.</span></span>
-   <span data-ttu-id="8474a-152">Ruta de acceso de imagen deshabilitada: igual que la ruta de acceso de la imagen anterior, excepto la variante del mapa de bits que muestra el estado</span><span class="sxs-lookup"><span data-stu-id="8474a-152">Disabled image path - same as image path above, except variant of bitmap showing disabled state.</span></span> <span data-ttu-id="8474a-153">Esta imagen se muestra cuando el control parental está desactivado.</span><span class="sxs-lookup"><span data-stu-id="8474a-153">This image is shown when parental controls is off.</span></span>
-   <span data-ttu-id="8474a-154">Ruta de acceso de exe: ruta de acceso completa a un archivo ejecutable que se va a invocar mediante ShellExecute ().</span><span class="sxs-lookup"><span data-stu-id="8474a-154">Exe path - full path to an executable to be invoked by using ShellExecute().</span></span> <span data-ttu-id="8474a-155">Esta ruta de acceso se debe especificar con barras diagonales inversas o el vínculo no invocará el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="8474a-155">This path must be specified with backslashes, or the link will not invoke the executable.</span></span> <span data-ttu-id="8474a-156">La adición de un token% SID% después de la ruta de acceso del archivo exe dará como resultado la ejecución del vínculo que sustituye a la cadena SID del usuario para el que se está viendo la página del concentrador.</span><span class="sxs-lookup"><span data-stu-id="8474a-156">Addition of a %SID% token after the exe path will result in the link execution substituting the SID string for the user for which the hub page is currently being viewed.</span></span> <span data-ttu-id="8474a-157">Después, el ejecutable puede usar la cadena SID para administrar la funcionalidad del usuario especificado.</span><span class="sxs-lookup"><span data-stu-id="8474a-157">The executable may then use the SID string to manage functionality for the specified user.</span></span>

<span data-ttu-id="8474a-158">La desinstalación de la aplicación debe quitar un registro de vínculo de extensibilidad.</span><span class="sxs-lookup"><span data-stu-id="8474a-158">Application uninstallation must remove an extensibility link registration.</span></span>

## <a name="web-extensibility-link-and-web-content-filter-override-notes"></a><span data-ttu-id="8474a-159">Notas sobre el vínculo de extensibilidad web y el filtro de contenido web</span><span class="sxs-lookup"><span data-stu-id="8474a-159">Web Extensibility Link and Web Content Filter Override Notes</span></span>

<span data-ttu-id="8474a-160">Al establecer la propiedad FilterID en el mismo GUID que un vínculo de extensibilidad de la interfaz de usuario registrado existente, el vínculo mostrado se promoverá de un vínculo genérico en otros valores al vínculo restricciones web exclusivas.</span><span class="sxs-lookup"><span data-stu-id="8474a-160">By setting the FilterID property to the same GUID as an existing registered UI extensibility link, the link displayed will be promoted from a generic link in Other Settings to the exclusive Web Restrictions link.</span></span> <span data-ttu-id="8474a-161">Se trata de una configuración de todo el equipo, por lo que el LSP del filtro de contenido web integrado omitirá todos los filtros de todos los usuarios controlados.</span><span class="sxs-lookup"><span data-stu-id="8474a-161">This is a computer-wide setting, and so will cause the in-box Web Content Filter LSP to bypass all filtering for all controlled users.</span></span> <span data-ttu-id="8474a-162">También se debe establecer un nombre descriptivo en la propiedad FilterName, que se especifica mediante una ruta de acceso a la DLL de recursos y el identificador.</span><span class="sxs-lookup"><span data-stu-id="8474a-162">A descriptive name should also be set in the FilterName property, which is specified by a path to resource DLL and ID.</span></span>

<span data-ttu-id="8474a-163">El sistema de controles parentales recomienda lo siguiente desde cualquier filtro Web de invalidación:</span><span class="sxs-lookup"><span data-stu-id="8474a-163">The Parental Controls system recommends the following from any overriding web filter:</span></span>

-   <span data-ttu-id="8474a-164">Respetar el estado general de activar y desactivar controles parentales para un usuario.</span><span class="sxs-lookup"><span data-stu-id="8474a-164">Honor the overall Parental Controls on/off state for a user.</span></span>
-   <span data-ttu-id="8474a-165">Respetar la configuración de informes de actividad de un usuario.</span><span class="sxs-lookup"><span data-stu-id="8474a-165">Honor the Activity Reporting settings for a user.</span></span>
-   <span data-ttu-id="8474a-166">Supervise la propiedad FilterID.</span><span class="sxs-lookup"><span data-stu-id="8474a-166">Monitor the FilterID property.</span></span> <span data-ttu-id="8474a-167">Si cambia desde el GUID especificado del proveedor, otro filtro ha tomado posesión y el filtro del proveedor debe deshabilitarse.</span><span class="sxs-lookup"><span data-stu-id="8474a-167">If it changes from the vendor's specified GUID, another filter has taken ownership and the vendor's filter should disable itself.</span></span> <span data-ttu-id="8474a-168">Se ha agregado una interfaz COM para reducir la sobrecarga de comprobar periódicamente este cambio frente a una llamada WMI.</span><span class="sxs-lookup"><span data-stu-id="8474a-168">A COM interface has been added to reduce the overhead of checking periodically for this change versus a WMI call.</span></span>
-   <span data-ttu-id="8474a-169">Se recomienda encarecidamente que respete las entradas de la lista de exclusión de URL y la aplicación HTTP de solo lectura y de lectura/escritura.</span><span class="sxs-lookup"><span data-stu-id="8474a-169">Highly recommended to honor both the read-only and read/write HTTP application and URL exemption list entries.</span></span>
-   <span data-ttu-id="8474a-170">Se recomienda respetar la lista de invalidaciones de direcciones URL por usuario (lista de permitidos o bloqueados).</span><span class="sxs-lookup"><span data-stu-id="8474a-170">Recommended to honor the per-user URL override list (allow/block list).</span></span>
-   <span data-ttu-id="8474a-171">Sea robusto para el cambio rápido de usuario.</span><span class="sxs-lookup"><span data-stu-id="8474a-171">Be robust to fast user switching.</span></span>

<span data-ttu-id="8474a-172">Los controles parentales no imponen ninguna limitación sobre cómo se conecta un filtro de contenido o Web a Windows para implementar el filtrado.</span><span class="sxs-lookup"><span data-stu-id="8474a-172">Parental Controls does not place any limitations on how a web or other content filter plugs in to Windows for implementing filtering.</span></span> <span data-ttu-id="8474a-173">Los proveedores pueden aprovechar sus inversiones actuales o tecnologías preferidas (LSP, TDI, otras).</span><span class="sxs-lookup"><span data-stu-id="8474a-173">Vendors may leverage their current investments or preferred technologies (LSP, TDI, other).</span></span>

<span data-ttu-id="8474a-174">La desinstalación del filtro del proveedor debe anular el registro de las entradas FilterID y FilterName.</span><span class="sxs-lookup"><span data-stu-id="8474a-174">Uninstallation of the vendor's filter must unregister the FilterID and FilterName entries.</span></span> <span data-ttu-id="8474a-175">Esto se realiza estableciendo FilterID en GUID \_ null y filtername en una variante null.</span><span class="sxs-lookup"><span data-stu-id="8474a-175">This is performed by setting FilterID to GUID\_NULL and FilterName to a variant null.</span></span> <span data-ttu-id="8474a-176">Se volverá a habilitar el filtro de contenido web en la caja.</span><span class="sxs-lookup"><span data-stu-id="8474a-176">The in-box web content filter will then be re-enabled.</span></span>

<span data-ttu-id="8474a-177">Tenga en cuenta que al volver a habilitar el filtro Web integrado solo se filtrarán las sesiones nuevas y no las sesiones activas desde antes del cambio.</span><span class="sxs-lookup"><span data-stu-id="8474a-177">Note that re-enabling of the in-box web filter will only filter new sessions, and not sessions active from before the switch.</span></span>

## <a name="web-content-filter-allowblock-list-exportimport-format"></a><span data-ttu-id="8474a-178">Filtro de contenido web-formato de exportación/importación de lista de bloqueo</span><span class="sxs-lookup"><span data-stu-id="8474a-178">Web Content Filter Allow/Block List Export/Import Format</span></span>

<span data-ttu-id="8474a-179">Esta característica no se admite en Windows 8.</span><span class="sxs-lookup"><span data-stu-id="8474a-179">This feature is not supported on Windows 8.</span></span>

<span data-ttu-id="8474a-180">**Windows 7 y Windows Vista:** Esta característica es compatible.</span><span class="sxs-lookup"><span data-stu-id="8474a-180">**Windows 7 and Windows Vista:** This feature is supported.</span></span>

<WebAddresses>

<URL AllowBlock="1">https://alloweddomain.com/</URL>

<URL AllowBlock="1">https://allowedurl.com/allowed/default.html</URL>

<URL AllowBlock="2">https://blockeddomain.com/</URL>

<URL AllowBlock="2">https://blockedurl.com/blocked/default.html</URL>

</WebAddresses>

## <a name="application-restrictions-override-notes"></a><span data-ttu-id="8474a-181">Notas de invalidación de restricciones de aplicación</span><span class="sxs-lookup"><span data-stu-id="8474a-181">Application Restrictions Override Notes</span></span>

<span data-ttu-id="8474a-182">Las invalidaciones de restricciones de aplicación se establecen en función de cada usuario para permitir rutas de acceso o archivos binarios específicos.</span><span class="sxs-lookup"><span data-stu-id="8474a-182">Application restrictions overrides are set on a per user basis to allow specific binaries or paths.</span></span> <span data-ttu-id="8474a-183">Si se configura un nuevo usuario controlado con control parental y se necesitan invalidaciones de restricciones de aplicación para ese usuario, se recomienda usar la clave de ejecución de Windows en el registro con una aplicación pequeña marcada como que requiere elevación implementada para escribir las invalidaciones.</span><span class="sxs-lookup"><span data-stu-id="8474a-183">If a new parentally controlled user is configured and application restrictions overrides are needed for that user, it is recommended that the Windows Run key in the registry be used with a small application marked as requiring elevation deployed to write the overrides.</span></span> <span data-ttu-id="8474a-184">Esto producirá una solicitud de credenciales de un solo tiempo para configurar las invalidaciones del usuario, después de las cuales los archivos binarios de destino para las invalidaciones no serán molestas para los usuarios debido a mensajes de invalidación de administrador adicionales.</span><span class="sxs-lookup"><span data-stu-id="8474a-184">This will result in a one-time credentials prompt to configure the overrides for the user, after which the target binaries for the overrides will not be a nuisance to users due to further administrator override prompts.</span></span>

## <a name="actions-required-for-settings-changes-to-become-effective"></a><span data-ttu-id="8474a-185">Acciones necesarias para que los cambios de configuración surtan efecto</span><span class="sxs-lookup"><span data-stu-id="8474a-185">Actions Required for Settings Changes to Become Effective</span></span>

<span data-ttu-id="8474a-186">Si un administrador cambia la configuración de un usuario estándar que ha iniciado sesión, se genera un mensaje de advertencia.</span><span class="sxs-lookup"><span data-stu-id="8474a-186">If an Administrator changes settings for a logged-in standard user, a warning message is generated.</span></span> <span data-ttu-id="8474a-187">Indica que es posible que los cambios de configuración no surtan efecto hasta que el usuario controlado cierre la sesión y vuelva a intentarlo.</span><span class="sxs-lookup"><span data-stu-id="8474a-187">It states the settings changes may not take effect until the controlled user logs out and back in again.</span></span> <span data-ttu-id="8474a-188">Se trata de un diseño conservador.</span><span class="sxs-lookup"><span data-stu-id="8474a-188">This is conservative design.</span></span> <span data-ttu-id="8474a-189">La mayoría de las opciones de configuración se aplicarán casi inmediatamente mientras el usuario controlado haya iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="8474a-189">Most settings will take effect nearly immediately while the controlled user is logged in.</span></span> <span data-ttu-id="8474a-190">Una excepción es para juegos, donde la configuración surtirá efecto la próxima vez que se ejecute el explorador de juegos o se intente invocar el juego.</span><span class="sxs-lookup"><span data-stu-id="8474a-190">One exception is for games, where settings will take effect the next time the Games Explorer is run or invoking the game is attempted.</span></span>

## <a name="sample-code"></a><span data-ttu-id="8474a-191">Código de ejemplo</span><span class="sxs-lookup"><span data-stu-id="8474a-191">Sample code</span></span>

<span data-ttu-id="8474a-192">En el SDK se proporcionan ejemplos de C++ que muestran el uso de las características de extensibilidad de configuración.</span><span class="sxs-lookup"><span data-stu-id="8474a-192">C++ samples are provided in the SDK demonstrating use of the settings extensibility features.</span></span> <span data-ttu-id="8474a-193">Consulte la sección ejemplos de controles parentales.</span><span class="sxs-lookup"><span data-stu-id="8474a-193">Please see the Parental Controls Samples section.</span></span>

## <a name="independent-test-tools"></a><span data-ttu-id="8474a-194">Herramientas de pruebas independientes</span><span class="sxs-lookup"><span data-stu-id="8474a-194">Independent Test Tools</span></span>

<span data-ttu-id="8474a-195">El complemento Wmimgmt. msc y la herramienta Wbemtest.exe facilitan la inspección de clases e instancias.</span><span class="sxs-lookup"><span data-stu-id="8474a-195">Inspection of classes and instances is facilitated by the Wmimgmt.msc plug-in and the Wbemtest.exe tool.</span></span>

## <a name="64-bit-considerations"></a><span data-ttu-id="8474a-196">Consideraciones de 64 bits</span><span class="sxs-lookup"><span data-stu-id="8474a-196">64-Bit Considerations</span></span>

<span data-ttu-id="8474a-197">las versiones de sistema operativo Windows de 64 bits tienen actualmente un proveedor WMI de 32 bits y un proveedor de 64 bits instalado.</span><span class="sxs-lookup"><span data-stu-id="8474a-197">64-bit Windows operating system versions currently have both a 32-bit WMI provider and a 64-bit provider installed.</span></span>

## <a name="general-code-development-and-debugging"></a><span data-ttu-id="8474a-198">Desarrollo y depuración de código generales</span><span class="sxs-lookup"><span data-stu-id="8474a-198">General Code Development and Debugging</span></span>

<span data-ttu-id="8474a-199">Si se usa Visual Studio para el desarrollo de código de administración de configuración, la depuración local requerirá la ejecución de Visual Studio con derechos de administrador (al invocar con ejecutar como administrador mediante la línea de comandos o la opción de hacer clic con el botón derecho).</span><span class="sxs-lookup"><span data-stu-id="8474a-199">If Visual Studio is used for settings management code development, local debugging will require running Visual Studio with administrator rights (invoking with Run as Administrator using command line or right-click option).</span></span> <span data-ttu-id="8474a-200">Esto se debe al aislamiento de procesos y mensajes implementado por UAC.</span><span class="sxs-lookup"><span data-stu-id="8474a-200">This is due to process and message isolation implemented by UAC.</span></span>

## <a name="minimum-compliance-api-settings-read"></a><span data-ttu-id="8474a-201">Configuración de API de cumplimiento mínima leída</span><span class="sxs-lookup"><span data-stu-id="8474a-201">Minimum Compliance API Settings Read</span></span>

### <a name="interfaces-and-methods"></a><span data-ttu-id="8474a-202">Interfaces y métodos</span><span class="sxs-lookup"><span data-stu-id="8474a-202">Interfaces and Methods</span></span>

<span data-ttu-id="8474a-203">La API de cumplimiento controlada por el archivo de encabezado Wpcapi. h proporciona acceso de solo lectura simplificado a las siguientes configuraciones mediante el uso de interfaces COM.</span><span class="sxs-lookup"><span data-stu-id="8474a-203">The Compliance API controlled by header file Wpcapi.h provides simplified read-only access to the following settings by using COM interfaces.</span></span>

<span data-ttu-id="8474a-204">Los métodos de interfaz raíz [**IWindowsParentalControls**](/windows/desktop/api/Wpcapi/nn-wpcapi-iwindowsparentalcontrols) proporcionan acceso a:</span><span class="sxs-lookup"><span data-stu-id="8474a-204">[**IWindowsParentalControls**](/windows/desktop/api/Wpcapi/nn-wpcapi-iwindowsparentalcontrols) root interface methods provide access to:</span></span>

-   <span data-ttu-id="8474a-205">Métodos IWPCSettings:</span><span class="sxs-lookup"><span data-stu-id="8474a-205">IWPCSettings methods:</span></span>
    -   <span data-ttu-id="8474a-206">IsLoggingRequired (): ¿los informes de actividad se configuran como on para el usuario?</span><span class="sxs-lookup"><span data-stu-id="8474a-206">IsLoggingRequired()—is activity reporting configured as on for the user?</span></span>
    -   <span data-ttu-id="8474a-207">GetLastSettingsChangeTime (): la aplicación puede ser consciente de que las directivas de configuración han cambiado desde una comprobación anterior.</span><span class="sxs-lookup"><span data-stu-id="8474a-207">GetLastSettingsChangeTime()—application can be aware if any settings policies have changed since a previous check.</span></span>
    -   <span data-ttu-id="8474a-208">GetRestrictions (): leer si las restricciones Web, los límites de tiempo, las restricciones de juego o las restricciones de la aplicación se establecen en on.</span><span class="sxs-lookup"><span data-stu-id="8474a-208">GetRestrictions()—read whether web restrictions, time limits, game restrictions, or application restrictions are set to on.</span></span>
-   <span data-ttu-id="8474a-209">Métodos IWPCWebSettings:</span><span class="sxs-lookup"><span data-stu-id="8474a-209">IWPCWebSettings methods:</span></span>
    -   <span data-ttu-id="8474a-210">GetSettings (): recupera marcas para el filtro activado o desactivado y descargas bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="8474a-210">GetSettings()– retrieves flags for filter on or off and downloads blocked.</span></span>
    -   <span data-ttu-id="8474a-211">RequestURLOverride (): escriba una solicitud en el mecanismo de invalidación del administrador (aprobación por encima del hombro) que presentará un cuadro de diálogo que contiene las direcciones URL que se van a aprobar.</span><span class="sxs-lookup"><span data-stu-id="8474a-211">RequestURLOverride()—input a request into the administrator override (over-the-shoulder approval) mechanism that will present a dialog box that contains the URLs to be approved.</span></span>
-   <span data-ttu-id="8474a-212">Métodos IWPCGamesSettings:</span><span class="sxs-lookup"><span data-stu-id="8474a-212">IWPCGamesSettings methods:</span></span>
    -   <span data-ttu-id="8474a-213">IsBlocked (): para un identificador de aplicación de juego determinado, es el juego bloqueado por controles parentales y por qué motivo.</span><span class="sxs-lookup"><span data-stu-id="8474a-213">IsBlocked()—for a given game application ID, is the game blocked by parental controls and for what reason.</span></span>
-   <span data-ttu-id="8474a-214">GetVisibility (): proporciona información sobre si la interfaz de usuario de controles parentales está oculta actualmente.</span><span class="sxs-lookup"><span data-stu-id="8474a-214">GetVisibility()—provides information on whether the Parental Controls UI is currently hidden.</span></span>
-   <span data-ttu-id="8474a-215">GetWebFilterInfo (): proporciona una interfaz para obtener el identificador del filtro de contenido Web activo actualmente.</span><span class="sxs-lookup"><span data-stu-id="8474a-215">GetWebFilterInfo()—provides an interface for obtaining the ID of the currently active Web Content Filter.</span></span>

### <a name="sample-code"></a><span data-ttu-id="8474a-216">Código de ejemplo</span><span class="sxs-lookup"><span data-stu-id="8474a-216">Sample code</span></span>

<span data-ttu-id="8474a-217">En el SDK se proporcionan ejemplos de C++ que muestran el uso de la API de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="8474a-217">C++ samples are provided in the SDK demonstrating use of the Compliance API.</span></span> <span data-ttu-id="8474a-218">Consulte la sección ejemplos de controles parentales.</span><span class="sxs-lookup"><span data-stu-id="8474a-218">Please see the Parental Controls Samples section.</span></span>

 

 



