---
description: El sistema envía un mensaje de WM \_ NCPAINT a la ventana cuando se debe actualizar una parte del área no cliente de la ventana, como la barra de título, la barra de menús o el marco de la ventana.
ms.assetid: e4dc61f3-6a9f-4ed4-8685-62eb4ceb85f1
title: Área no cliente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c51da31709f5bd9326cc0d05a9e37e2df78bfbb4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104275992"
---
# <a name="nonclient-area"></a><span data-ttu-id="0d13f-103">Área no cliente</span><span class="sxs-lookup"><span data-stu-id="0d13f-103">Nonclient Area</span></span>

<span data-ttu-id="0d13f-104">El sistema envía un mensaje de [**WM \_ NCPAINT**](wm-ncpaint.md) a la ventana cuando se debe actualizar una parte del área no cliente de la ventana, como la barra de título, la barra de menús o el marco de la ventana.</span><span class="sxs-lookup"><span data-stu-id="0d13f-104">The system sends a [**WM\_NCPAINT**](wm-ncpaint.md) message to the window whenever a part of the nonclient area of the window, such as the title bar, menu bar, or window frame, must be updated.</span></span> <span data-ttu-id="0d13f-105">El sistema también puede enviar otros mensajes para dirigir una ventana para actualizar una parte de su área de cliente. por ejemplo, cuando una ventana se activa o inactiva, envía el mensaje [**de \_ NCACTIVATE de WM**](../winmsg/wm-ncactivate.md) para actualizar la barra de título.</span><span class="sxs-lookup"><span data-stu-id="0d13f-105">The system may also send other messages to direct a window to update a portion of its client area; for example, when a window becomes active or inactive, it sends the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message to update its title bar.</span></span> <span data-ttu-id="0d13f-106">En general, no se recomienda el procesamiento de estos mensajes para Windows estándar, ya que la aplicación debe ser capaz de dibujar todas las partes necesarias del área no cliente de la ventana.</span><span class="sxs-lookup"><span data-stu-id="0d13f-106">In general, processing these messages for standard windows is not recommended, because the application must be able to draw all the required parts of the nonclient area for the window.</span></span> <span data-ttu-id="0d13f-107">Por esta razón, la mayoría de las aplicaciones pasan estos mensajes a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) para el procesamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="0d13f-107">For this reason, most applications pass these messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

<span data-ttu-id="0d13f-108">Una aplicación que crea áreas no cliente personalizadas para sus ventanas debe procesar estos mensajes.</span><span class="sxs-lookup"><span data-stu-id="0d13f-108">An application that creates custom nonclient areas for its windows must process these messages.</span></span> <span data-ttu-id="0d13f-109">Al hacerlo, la aplicación debe usar un contexto de dispositivo de ventana para realizar el dibujo en la ventana.</span><span class="sxs-lookup"><span data-stu-id="0d13f-109">When doing so, the application must use a window device context to carry out drawing in the window.</span></span> <span data-ttu-id="0d13f-110">El *contexto de dispositivo de ventana* permite que la aplicación dibuje en todas las partes de la ventana, incluido el área no cliente.</span><span class="sxs-lookup"><span data-stu-id="0d13f-110">The *window device context* enables the application to draw in all portions of the window, including the nonclient area.</span></span> <span data-ttu-id="0d13f-111">Una aplicación recupera un contexto de dispositivo de ventana mediante la función [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) o [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) y, cuando se completa el dibujo, debe liberar el contexto de dispositivo de ventana mediante la función [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) .</span><span class="sxs-lookup"><span data-stu-id="0d13f-111">An application retrieves a window device context by using the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and, when drawing is complete, must release the window device context by using the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="0d13f-112">El sistema mantiene una región de actualización para el área no cliente.</span><span class="sxs-lookup"><span data-stu-id="0d13f-112">The system maintains an update region for the nonclient area.</span></span> <span data-ttu-id="0d13f-113">Cuando una aplicación recibe un mensaje de [**\_ NCPAINT de WM**](wm-ncpaint.md) , el parámetro *wParam* contiene un identificador a una región que define las dimensiones de la región de actualización.</span><span class="sxs-lookup"><span data-stu-id="0d13f-113">When an application receives a [**WM\_NCPAINT**](wm-ncpaint.md) message, the *wParam* parameter contains a handle to a region defining the dimensions of the update region.</span></span> <span data-ttu-id="0d13f-114">La aplicación puede utilizar el identificador para combinar la región de actualización con la región de recorte para el contexto de dispositivo de ventana.</span><span class="sxs-lookup"><span data-stu-id="0d13f-114">The application can use the handle to combine the update region with the clipping region for the window device context.</span></span> <span data-ttu-id="0d13f-115">El sistema no combina automáticamente la región de actualización al recuperar el contexto de dispositivo de ventana a menos que la aplicación use [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) y especifica el identificador de región y la \_ marca DCX INTERSECTRGN.</span><span class="sxs-lookup"><span data-stu-id="0d13f-115">The system does not automatically combine the update region when retrieving the window device context unless the application uses [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) and specifies both the region handle and the DCX\_INTERSECTRGN flag.</span></span> <span data-ttu-id="0d13f-116">Si la aplicación no combina la región de actualización, solo se recortan las operaciones de dibujo que, de otro modo, se extienden fuera de la ventana.</span><span class="sxs-lookup"><span data-stu-id="0d13f-116">If the application does not combine the update region, only drawing operations that would otherwise extend outside the window are clipped.</span></span> <span data-ttu-id="0d13f-117">La aplicación no es responsable de borrar la región de actualización, independientemente de si usa la región.</span><span class="sxs-lookup"><span data-stu-id="0d13f-117">The application is not responsible for clearing the update region, regardless of whether it uses the region.</span></span>

<span data-ttu-id="0d13f-118">Si una aplicación procesa el mensaje de [**\_ NCACTIVATE de WM**](../winmsg/wm-ncactivate.md) , después del procesamiento debe devolver **true** para indicar al sistema que complete el cambio de la ventana activa.</span><span class="sxs-lookup"><span data-stu-id="0d13f-118">If an application processes the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message, after processing it must return **TRUE** to direct the system to complete the change of active window.</span></span> <span data-ttu-id="0d13f-119">Si la ventana está minimizada cuando la aplicación recibe el mensaje de **\_ NCACTIVATE de WM** , debe pasar el mensaje a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="0d13f-119">If the window is minimized when the application receives the **WM\_NCACTIVATE** message, it should pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span> <span data-ttu-id="0d13f-120">En tales casos, la función predeterminada vuelve a dibujar la etiqueta para el icono.</span><span class="sxs-lookup"><span data-stu-id="0d13f-120">In such cases, the default function redraws the label for the icon.</span></span>

 

 
