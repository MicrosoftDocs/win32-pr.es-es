---
description: Muestra cómo registrar un proveedor de raíz de sincronización e integrar un proveedor de almacenamiento en la nube en el nivel raíz del panel de navegación.
ms.assetid: BB177EDC-8C88-4540-B2F8-994C1C8BA91C
title: Integración de un proveedor de almacenamiento en la nube
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21fdc5abfbf9881bfe23b00a924fce989aec7c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104569390"
---
# <a name="integrate-a-cloud-storage-provider"></a><span data-ttu-id="e91c1-103">Integración de un proveedor de almacenamiento en la nube</span><span class="sxs-lookup"><span data-stu-id="e91c1-103">Integrate a Cloud Storage Provider</span></span>

<span data-ttu-id="e91c1-104">Si tiene un proveedor de almacenamiento en la nube, debe realizar un par de pasos para proporcionar una experiencia coherente y preferida para el usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-104">When you have a cloud storage provider, there are a couple of steps you should take in order to provide a consistent and preferred experience for the user.</span></span> <span data-ttu-id="e91c1-105">Estas dos acciones se registran como un proveedor raíz de sincronización e integran la aplicación en el nivel raíz del panel de navegación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-105">These two things are registering as a sync root provider and integrating your application into the root level of the Navigation Pane.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e91c1-106">La integración del proveedor de almacenamiento en la nube solo se admite a partir de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="e91c1-106">Integrating your cloud storage provider is only supported starting in Windows 10.</span></span>

 

<span data-ttu-id="e91c1-107">Lo primero es registrarse como proveedor raíz de sincronización.</span><span class="sxs-lookup"><span data-stu-id="e91c1-107">The first thing is to register as a sync root provider.</span></span> <span data-ttu-id="e91c1-108">Esto permite que el shell de Windows Conozca la aplicación y que la aplicación sea responsable de sincronizar los archivos en la raíz de sincronización.</span><span class="sxs-lookup"><span data-stu-id="e91c1-108">This lets the Windows Shell know about your application and that your application will be responsible for synchronizing files under your sync root.</span></span> <span data-ttu-id="e91c1-109">Esto también permitirá que otras aplicaciones sepan que está sincronizando estos archivos para que puedan responder adecuadamente.</span><span class="sxs-lookup"><span data-stu-id="e91c1-109">This will also let other applications know that you are synchronizing these files so that they can respond appropriately.</span></span> <span data-ttu-id="e91c1-110">Después, otras aplicaciones pueden usar [**StorageFile. Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) para obtener el [**displayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) y el [**identificador**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-110">Other applications can then use [**StorageFile.Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) to get the [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) and [**Id**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) of your application.</span></span>

<span data-ttu-id="e91c1-111">Para registrarse como proveedor de raíz de sincronización, deberá crear varias entradas del registro.</span><span class="sxs-lookup"><span data-stu-id="e91c1-111">In order to register as a sync root provider, you will need to create multiple registry entries.</span></span> <span data-ttu-id="e91c1-112">Antes de proporcionar la lista de pares clave-valor, estos son algunos marcadores de posición que debe reemplazar por sus propios datos de aplicación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-112">Before providing the list of key-value pairs, here are some placeholders that you should replace with your own application data.</span></span>

-   <span data-ttu-id="e91c1-113">*\[ identificador \] de proveedor de almacenamiento*: el nombre del proveedor de almacenamiento en la nube.</span><span class="sxs-lookup"><span data-stu-id="e91c1-113">*\[storage provider ID\]*: The name of your cloud storage provider.</span></span> <span data-ttu-id="e91c1-114">Este nombre debe ser coherente independientemente de la versión de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-114">This name should be consistent regardless of the version of your application.</span></span> <span data-ttu-id="e91c1-115">Un ejemplo de esto es OneDrive.</span><span class="sxs-lookup"><span data-stu-id="e91c1-115">An example of this is OneDrive.</span></span>
-   <span data-ttu-id="e91c1-116">*\[ SID \] de Windows*: el SID de Windows único que identifica al usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-116">*\[Windows SID\]*: The unique Windows SID that identifies the user.</span></span> <span data-ttu-id="e91c1-117">Si la aplicación admite varias instalaciones para varios usuarios en un solo equipo, se requiere esta parte.</span><span class="sxs-lookup"><span data-stu-id="e91c1-117">If your app supports multiple installations for multiple users on a single machine, this piece is required.</span></span>
-   <span data-ttu-id="e91c1-118">*\[ ID \]*. de cuenta: el identificador de proveedor de servicios para la cuenta actual de este usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-118">*\[Account ID\]*: The service provider identifier for this user's current account.</span></span> <span data-ttu-id="e91c1-119">Algunos proveedores requieren la capacidad de proporcionar varias raíces de sincronización para un usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-119">Some providers require the ability to provide multiple synchronization roots for a user.</span></span> <span data-ttu-id="e91c1-120">Un ejemplo de esto es un trabajo y una cuenta personal.</span><span class="sxs-lookup"><span data-stu-id="e91c1-120">One example of this is a work and a personal account.</span></span> <span data-ttu-id="e91c1-121">El *identificador de cuenta* permite tener varias cuentas registradas para un usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-121">The *Account ID* enables you to have multiple accounts registered for one user.</span></span> <span data-ttu-id="e91c1-122">Si el proveedor admite varias raíces de sincronización por usuario, esta parte es obligatoria.</span><span class="sxs-lookup"><span data-stu-id="e91c1-122">If your provider does support multiple synchronization roots per user, this piece is required.</span></span>

<span data-ttu-id="e91c1-123">Estos marcadores de posición se combinan para formar el identificador raíz de sincronización. Debe colocar un **.**</span><span class="sxs-lookup"><span data-stu-id="e91c1-123">These placeholders are combined together to form the sync root id. You must place a **!**</span></span> <span data-ttu-id="e91c1-124">carácter entre cada uno de los marcadores de posición al formar el identificador raíz de sincronización. Estos son los pares clave-valor que se deben crear.</span><span class="sxs-lookup"><span data-stu-id="e91c1-124">character between each of the placeholders when forming the sync root id. Here are the key-value pairs that need to be created.</span></span>

-   <span data-ttu-id="e91c1-125">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ explorador \\ SyncRootManager \\**_\[ ID. \] de proveedor de almacenamiento_\*\* _\[ SID \] de Windows_\*\* _\[ Identificador \] de cuenta_*_\\ DisplayNameResource_* : apunta al recurso en el que el shell de Windows u otras aplicaciones pueden obtener un nombre descriptivo para la raíz de sincronización.</span><span class="sxs-lookup"><span data-stu-id="e91c1-125">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\DisplayNameResource_* : Points to the resource where the Windows Shell or other applications can get a user-friendly name for your sync root.</span></span>
-   <span data-ttu-id="e91c1-126">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ explorador \\ SyncRootManager \\**_\[ ID. \] de proveedor de almacenamiento_\*\* _\[ SID \] de Windows_\*\* _\[ Identificador \] de cuenta_*_\\ IconResource_* : apunta al recurso en el que el shell de Windows u otras aplicaciones pueden obtener un icono para la raíz de sincronización.</span><span class="sxs-lookup"><span data-stu-id="e91c1-126">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\IconResource_* : Points to the resource where the Windows Shell or other applications can get an icon for your sync root.</span></span>
-   <span data-ttu-id="e91c1-127">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ explorador \\ SyncRootManager \\**_\[ ID. \] de proveedor de almacenamiento_\*\* _\[ SID \] de Windows_\*\* _\[ Identificador \] de cuenta_*_\\ UserSyncRoots \\_*_\[ SID \] de Windows_ : la ubicación en el disco donde se encuentra la raíz de sincronización.</span><span class="sxs-lookup"><span data-stu-id="e91c1-127">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\UserSyncRoots\\_*_\[Windows SID\]_ : The location on disk where the sync root is located.</span></span>

<span data-ttu-id="e91c1-128">Aparte de registrarlo como un proveedor raíz de sincronización, también desea que los usuarios tengan fácil acceso a los datos proporcionados.</span><span class="sxs-lookup"><span data-stu-id="e91c1-128">Other than registering as a sync root provider, you also want users to have easy access to the data you provide.</span></span> <span data-ttu-id="e91c1-129">El espacio de nombres del explorador de archivos está diseñado para proporcionar un método para facilitar el acceso.</span><span class="sxs-lookup"><span data-stu-id="e91c1-129">The File Explorer namespace is designed to provide a method for that easy access.</span></span> <span data-ttu-id="e91c1-130">La creación de una extensión de espacio de nombres para el proveedor y su incorporación en la ventana del explorador de archivos permitirá a los usuarios interactuar con el nivel raíz de los servicios de la misma manera que se usan con otros elementos del explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="e91c1-130">Creating a namespace extension for your provider and incorporating it into the File Explorer window will allow users to interact with the root level of your services just like they are used to with other File Explorer items.</span></span> <span data-ttu-id="e91c1-131">En este tema se explica cómo extender el espacio de nombres del explorador de archivos para que el proveedor aparezca en el nivel raíz en el panel de navegación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-131">This topic explains how to extend the File Explorer namespace so that your provider will appear at the root level in the Navigation Pane.</span></span>

<span data-ttu-id="e91c1-132">El panel de navegación de la ventana Explorador de archivos es la parte de la ventana que se muestra en el lado izquierdo.</span><span class="sxs-lookup"><span data-stu-id="e91c1-132">The Navigation Pane of the File Explorer window is the portion of the window displayed on the left side.</span></span> <span data-ttu-id="e91c1-133">En la imagen siguiente, puede ver la estructura del espacio de nombres para este usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-133">In the image below, you can see the namespace structure for this user.</span></span> <span data-ttu-id="e91c1-134">El nivel raíz del panel de navegación incluye los objetos para **OneDrive**, **este equipo** y la **red**.</span><span class="sxs-lookup"><span data-stu-id="e91c1-134">The root level on the Navigation Pane includes the objects for **OneDrive**, **This PC**, and **Network**.</span></span> <span data-ttu-id="e91c1-135">Al seguir estos pasos, se agregará la extensión al mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="e91c1-135">Following these steps will add your extension to the same level.</span></span>

![Panel de navegación](images/navigationpane.png)

<span data-ttu-id="e91c1-137">Para agregar la extensión al panel de navegación, debe tener lo siguiente antes de editar el registro:</span><span class="sxs-lookup"><span data-stu-id="e91c1-137">In order to add your extension to the Navigation Pane, you will need to have the following before editing the registry:</span></span>

-   <span data-ttu-id="e91c1-138">Carpeta del sistema de archivos que contiene los datos que se van a mostrar al usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-138">A file system folder that contains the data to display to the user.</span></span>

-   <span data-ttu-id="e91c1-139">Nombre del servicio en la nube que aparecerá en el panel de navegación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-139">Name of your cloud service that will appear in the Navigation Pane.</span></span> <span data-ttu-id="e91c1-140">También podría ser el nombre de la instancia si el servicio admite varias cuentas.</span><span class="sxs-lookup"><span data-stu-id="e91c1-140">This could also be the name of the instance if your service supports multiple accounts.</span></span>

-   <span data-ttu-id="e91c1-141">Icono de identificación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-141">Identifiable icon for your application.</span></span>

-   <span data-ttu-id="e91c1-142">Un CLSID para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-142">A CLSID for your application.</span></span> <span data-ttu-id="e91c1-143">Una manera de generar un CLSID para la aplicación es usar el Uuidgen.exe.</span><span class="sxs-lookup"><span data-stu-id="e91c1-143">One way to generate a CLSID for your application is to use the Uuidgen.exe.</span></span> <span data-ttu-id="e91c1-144">Consulte [clave CLSID](../com/clsid-key-hklm.md) para obtener más información acerca de CLSID.</span><span class="sxs-lookup"><span data-stu-id="e91c1-144">See [CLSID Key](../com/clsid-key-hklm.md) for more information about CLSID.</span></span>

<span data-ttu-id="e91c1-145">En los pasos siguientes se modifica el registro para obtener la información necesaria en el espacio de nombres del explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="e91c1-145">The following steps modify the registry in order to get the necessary information into the File Explorer namespace.</span></span> <span data-ttu-id="e91c1-146">Los pasos específicos hacen tres cosas.</span><span class="sxs-lookup"><span data-stu-id="e91c1-146">The specific steps do three things.</span></span>

-   <span data-ttu-id="e91c1-147">Cree claves en el registro para el CLSID que incluya valores para el nombre y el icono de la extensión, así como otra información que defina su comportamiento.</span><span class="sxs-lookup"><span data-stu-id="e91c1-147">Create keys in the registry for your CLSID that includes values for the name and icon for your extension as well as other information that defines its behavior.</span></span>

-   <span data-ttu-id="e91c1-148">Configure la extensión para que se integre en el panel de navegación en la ubicación adecuada y con la visibilidad adecuada.</span><span class="sxs-lookup"><span data-stu-id="e91c1-148">Configure your extension to be integrated into the Navigation Pane in the proper location and with the proper visibility.</span></span>

-   <span data-ttu-id="e91c1-149">Configure la extensión para que tenga el comportamiento esperado para un elemento en el panel de navegación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-149">Configure your extension to have the expected behavior for an element in the navigation pane.</span></span>

<span data-ttu-id="e91c1-150">Estas instrucciones usan específicamente el comando **reg.exe** , pero puede usar cualquier herramienta de edición del registro que prefiera.</span><span class="sxs-lookup"><span data-stu-id="e91c1-150">These instructions specifically use the **reg.exe** command, however you can use any registry editing tool of your choice.</span></span> <span data-ttu-id="e91c1-151">Incluso puede integrar estos pasos en un instalador que actualice el registro mediante programación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-151">You can even integrate these steps into an installer that updates the registry programmatically.</span></span>

## <a name="instructions"></a><span data-ttu-id="e91c1-152">Instrucciones</span><span class="sxs-lookup"><span data-stu-id="e91c1-152">Instructions</span></span>

### <a name="step-1-add-your-clsid-and-name-your-extension"></a><span data-ttu-id="e91c1-153">Paso 1: agregar el CLSID y asignar un nombre a la extensión</span><span class="sxs-lookup"><span data-stu-id="e91c1-153">Step 1: Add your CLSID and name your extension</span></span>

<span data-ttu-id="e91c1-154">Agregue el nombre de la extensión al registro en HKEY \_ Current \_ User.</span><span class="sxs-lookup"><span data-stu-id="e91c1-154">Add the name of your extension to the registry under HKEY\_CURRENT\_USER.</span></span> <span data-ttu-id="e91c1-155">También agregará el identificador único para esta extensión.</span><span class="sxs-lookup"><span data-stu-id="e91c1-155">You will also be adding the unique identifier for this extension.</span></span> <span data-ttu-id="e91c1-156">Es posible agregar más de una extensión por usuario, pero en ese caso necesitará un nombre y un identificador únicos para cada extensión.</span><span class="sxs-lookup"><span data-stu-id="e91c1-156">It is possible to add more than one extension per user, but in that case you will need a unique name and identifier for each extension.</span></span> <span data-ttu-id="e91c1-157">Este nombre e identificador deben ser coherentes en el resto de estos pasos.</span><span class="sxs-lookup"><span data-stu-id="e91c1-157">This name and identifier must be consistent throughout the rest of these steps.</span></span> <span data-ttu-id="e91c1-158">En este ejemplo, el nombre es *MyCloudStorageApp*.</span><span class="sxs-lookup"><span data-stu-id="e91c1-158">In this example, the name is *MyCloudStorageApp*.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e91c1-159">El identificador proporcionado (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) en estos pasos se usa simplemente como ejemplo.</span><span class="sxs-lookup"><span data-stu-id="e91c1-159">The identifier provided (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) in these steps is just used as a sample.</span></span> <span data-ttu-id="e91c1-160">Tendrá que cambiar esto por el CLSID único.</span><span class="sxs-lookup"><span data-stu-id="e91c1-160">You will need to change this to your unique CLSID.</span></span>

 

<span data-ttu-id="e91c1-161">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/ve/t reg \_ SZ/d "MyCloudStorageApp"/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-161">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d "MyCloudStorageApp" /f**</span></span>

### <a name="step-2-set-the-image-for-your-icon"></a><span data-ttu-id="e91c1-162">Paso 2: establecer la imagen para el icono</span><span class="sxs-lookup"><span data-stu-id="e91c1-162">Step 2: Set the image for your icon</span></span>

<span data-ttu-id="e91c1-163">Proporcione la ruta de acceso al icono que debe mostrarse en el panel de navegación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-163">Provide the path to the icon that should be displayed in the Navigation Pane.</span></span> <span data-ttu-id="e91c1-164">En el ejemplo siguiente, *1043* hace referencia al identificador de recurso del icono de la dll indicada.</span><span class="sxs-lookup"><span data-stu-id="e91c1-164">In the example below, *1043* refers to the resource identifier for the icon in the indicated DLL.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="e91c1-165">Debe actualizar la ruta de acceso de la imagen.</span><span class="sxs-lookup"><span data-stu-id="e91c1-165">You need to update the image path.</span></span> <span data-ttu-id="e91c1-166">Debe apuntar a una ruta de acceso genérica donde la aplicación ha instalado una imagen.</span><span class="sxs-lookup"><span data-stu-id="e91c1-166">It should point to a generic path where your app installed an image.</span></span>

 

<span data-ttu-id="e91c1-167">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ DefaultIcon/ve/t reg \_ Expand \_ SZ/d%% SystemRoot%% \\ system32 \\imageres.dll,-1043/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-167">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\DefaultIcon /ve /t REG\_EXPAND\_SZ /d %%SystemRoot%%\\system32\\imageres.dll,-1043 /f**</span></span>

### <a name="step-3-add-your-extension-to-the-navigation-pane-and-make-it-visible"></a><span data-ttu-id="e91c1-168">Paso 3: agregar la extensión al panel de navegación y hacer que esté visible</span><span class="sxs-lookup"><span data-stu-id="e91c1-168">Step 3: Add your extension to the Navigation Pane and make it visible</span></span>

<span data-ttu-id="e91c1-169">Establecer este valor en 0x1 indica que se debe anclar la extensión.</span><span class="sxs-lookup"><span data-stu-id="e91c1-169">Setting this value to 0x1 indicates that the extension should be pinned.</span></span> <span data-ttu-id="e91c1-170">Esto garantizará que se muestre a los usuarios de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e91c1-170">This will make sure it is shown to users by default.</span></span> <span data-ttu-id="e91c1-171">La configuración predeterminada de un usuario es que solo se mostrarán los elementos anclados en el panel de navegación.</span><span class="sxs-lookup"><span data-stu-id="e91c1-171">The default configuration for a user is that only pinned items will be shown in the Navigation Pane.</span></span> <span data-ttu-id="e91c1-172">Un usuario puede cambiar esa configuración si hace clic con el botón secundario en el panel de navegación y selecciona **Mostrar todas las carpetas**.</span><span class="sxs-lookup"><span data-stu-id="e91c1-172">A user can change that setting by right-clicking in the Navigation Pane and selecting **Show all folders**.</span></span> <span data-ttu-id="e91c1-173">Si no desea anclar la extensión, puede establecer este valor en 0X0.</span><span class="sxs-lookup"><span data-stu-id="e91c1-173">If you don't want to pin your extension, you can set this value to 0x0.</span></span> <span data-ttu-id="e91c1-174">Esto no quitará la extensión, pero simplemente impedirá que se muestre al usuario de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="e91c1-174">That will not remove your extension, but merely prevent it from being displayed to the user by default.</span></span>

<span data-ttu-id="e91c1-175">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/v System. IsPinnedToNameSpaceTree/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-175">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v System.IsPinnedToNameSpaceTree /t REG\_DWORD /d 0x1 /f**</span></span>

### <a name="step-4-set-the-location-for-your-extension-in-the-navigation-pane"></a><span data-ttu-id="e91c1-176">Paso 4: establecer la ubicación de la extensión en el panel de navegación</span><span class="sxs-lookup"><span data-stu-id="e91c1-176">Step 4: Set the location for your extension in the Navigation Pane</span></span>

<span data-ttu-id="e91c1-177">Esto es crítico para asegurarse de que el panel de navegación proporciona una experiencia coherente para el usuario.</span><span class="sxs-lookup"><span data-stu-id="e91c1-177">This is critical in order to make sure the Navigation Pane provides a consistent experience for the user.</span></span>

<span data-ttu-id="e91c1-178">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/V SortOrderIndex/t reg \_ DWORD/d 0x42/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-178">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v SortOrderIndex /t REG\_DWORD /d 0x42 /f**</span></span>

### <a name="step-5-provide-the-dll-that-hosts-your-extension"></a><span data-ttu-id="e91c1-179">Paso 5: proporcione el archivo DLL que hospeda la extensión.</span><span class="sxs-lookup"><span data-stu-id="e91c1-179">Step 5: Provide the dll that hosts your extension.</span></span>

<span data-ttu-id="e91c1-180">Use el shell32.dll para emular las carpetas predeterminadas de Windows.</span><span class="sxs-lookup"><span data-stu-id="e91c1-180">Use the shell32.dll to emulate default windows folders.</span></span> <span data-ttu-id="e91c1-181">Cámbielo solo si tiene una razón concreta para hacerlo y está familiarizado con las extensiones de espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="e91c1-181">Only change this if you have a specific reason to do so and are familiar with namespace extensions.</span></span>

<span data-ttu-id="e91c1-182">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ InProcServer32/ve/t reg \_ Expand \_ SZ/d%% SystemRoot%% \\ system32 \\shell32.dll/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-182">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\InProcServer32 /ve /t REG\_EXPAND\_SZ /d %%systemroot%%\\system32\\shell32.dll /f**</span></span>

### <a name="step-6-define-the-instance-object"></a><span data-ttu-id="e91c1-183">Paso 6: definir el objeto de instancia</span><span class="sxs-lookup"><span data-stu-id="e91c1-183">Step 6: Define the instance object</span></span>

<span data-ttu-id="e91c1-184">Indique que la extensión de espacio de nombres debe funcionar como otras estructuras de carpetas de archivos en el explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="e91c1-184">Indicate that your namespace extension should function like other file folder structures in File Explorer.</span></span> <span data-ttu-id="e91c1-185">Para obtener más información sobre los objetos de instancia de Shell, vea [crear extensiones de Shell con objetos de instancia de Shell](/previous-versions/ms997573(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="e91c1-185">For more information about shell instance objects, see [Creating Shell Extensions with Shell Instance Objects](/previous-versions/ms997573(v=msdn.10)).</span></span>

<span data-ttu-id="e91c1-186">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ Instance/v CLSID/T reg \_ SZ/d {0E5AAE11-A475-4c5b-AB00-C66DE400274E}/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-186">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance /v CLSID /t REG\_SZ /d {0E5AAE11-A475-4c5b-AB00-C66DE400274E} /f**</span></span>

### <a name="step-7-provide-the-file-system-attributes-of-the-target-folder"></a><span data-ttu-id="e91c1-187">Paso 7: proporcionar los atributos del sistema de archivos de la carpeta de destino</span><span class="sxs-lookup"><span data-stu-id="e91c1-187">Step 7: Provide the file system attributes of the target folder</span></span>

<span data-ttu-id="e91c1-188">Esto es necesario para asegurarse de que el explorador de archivos proporciona una experiencia coherente y esperada a los usuarios.</span><span class="sxs-lookup"><span data-stu-id="e91c1-188">This is required to make sure that the File Explorer provides a consistent and expected experience for users.</span></span> <span data-ttu-id="e91c1-189">Este comando establece **el \_ \_ Directorio de atributos de archivo** y el atributo de **archivo \_ \_ ReadOnly**, y ambos son [**constantes de atributo de archivo**](../fileio/file-attribute-constants.md).</span><span class="sxs-lookup"><span data-stu-id="e91c1-189">This command sets **FILE\_ATTRIBUTE\_DIRECTORY** and **FILE\_ATTRIBUTE\_READONLY**, both of which are [**File Attribute Constants**](../fileio/file-attribute-constants.md).</span></span>

<span data-ttu-id="e91c1-190">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ Instance \\ InitPropertyBag/v Attributes/t reg \_ DWORD/d 0x11/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-190">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v Attributes /t REG\_DWORD /d 0x11 /f**</span></span>

### <a name="step-8-set-the-path-for-the-sync-root"></a><span data-ttu-id="e91c1-191">Paso 8: establecer la ruta de acceso de la raíz de sincronización</span><span class="sxs-lookup"><span data-stu-id="e91c1-191">Step 8: Set the path for the sync root</span></span>

<span data-ttu-id="e91c1-192">Establezca la ruta de acceso de la raíz de sincronización.</span><span class="sxs-lookup"><span data-stu-id="e91c1-192">Set the path for the sync root.</span></span>

<span data-ttu-id="e91c1-193">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ Instance \\ InitPropertyBag/v TargetFolderPath/t reg \_ Expand \_ SZ/d%% userprofile%% \\ MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-193">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v TargetFolderPath /t REG\_EXPAND\_SZ /d %%USERPROFILE%%\\MyCloudStorageApp /f**</span></span>

### <a name="step-9-set-appropriate-shell-flags"></a><span data-ttu-id="e91c1-194">Paso 9: establecimiento de las marcas de Shell adecuadas</span><span class="sxs-lookup"><span data-stu-id="e91c1-194">Step 9: Set appropriate shell flags</span></span>

<span data-ttu-id="e91c1-195">Establezca algunas marcas necesarias para anclar la extensión de espacio de nombres al árbol del explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="e91c1-195">Set some flags necessary to pin your namespace extension to the File Explorer tree.</span></span>

<span data-ttu-id="e91c1-196">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ ShellFolder/v FolderValueFlags/t reg \_ DWORD/d 0x28/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-196">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v FolderValueFlags /t REG\_DWORD /d 0x28 /f**</span></span>

### <a name="step-10-set-the-appropriate-flags-to-control-your-shell-behavior"></a><span data-ttu-id="e91c1-197">Paso 10: establecimiento de las marcas adecuadas para controlar el comportamiento del shell</span><span class="sxs-lookup"><span data-stu-id="e91c1-197">Step 10: Set the appropriate flags to control your shell behavior</span></span>

<span data-ttu-id="e91c1-198">Establezca las marcas [**SFGAO**](sfgao.md) adecuadas.</span><span class="sxs-lookup"><span data-stu-id="e91c1-198">Set the appropriate [**SFGAO**](sfgao.md) flags.</span></span> <span data-ttu-id="e91c1-199">Las marcas pertinentes son SFGAO \_ CANCOPY, SFGAO \_ CANLINK, SFGAO \_ Storage, SFGAO \_ HASPROPSHEET, SFGAO \_ STORAGEANCESTOR, SFGAO \_ FILESYSANCESTOR, SFGAO \_ Folder, SFGAO \_ FILESYSTEM y SFGAO \_ HASSUBFOLDER.</span><span class="sxs-lookup"><span data-stu-id="e91c1-199">The relevant flags are SFGAO\_CANCOPY, SFGAO\_CANLINK, SFGAO\_STORAGE, SFGAO\_HASPROPSHEET, SFGAO\_STORAGEANCESTOR, SFGAO\_FILESYSANCESTOR, SFGAO\_FOLDER, SFGAO\_FILESYSTEM, and SFGAO\_HASSUBFOLDER.</span></span>

<span data-ttu-id="e91c1-200">**REG Add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ SHELLFOLDER/V Attributes/t reg \_ DWORD/d 0xF080004D/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-200">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v Attributes /t REG\_DWORD /d 0xF080004D /f**</span></span>

### <a name="step-11-register-your-extension-in-the-namespace-root"></a><span data-ttu-id="e91c1-201">Paso 11: registro de la extensión en la raíz del espacio de nombres</span><span class="sxs-lookup"><span data-stu-id="e91c1-201">Step 11: Register your extension in the namespace root</span></span>

<span data-ttu-id="e91c1-202">Configure la extensión de espacio de nombres para que sea un elemento secundario de la carpeta escritorio.</span><span class="sxs-lookup"><span data-stu-id="e91c1-202">Configure the namespace extension to be a child of the desktop folder.</span></span>

<span data-ttu-id="e91c1-203">**REG Add HKCU \\ software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ Desktop \\ namespace \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/ve/t reg \_ SZ/d MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-203">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Desktop\\NameSpace\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d MyCloudStorageApp /f**</span></span>

### <a name="step-12-hide-your-extension-from-the-desktop"></a><span data-ttu-id="e91c1-204">Paso 12: ocultar la extensión del escritorio</span><span class="sxs-lookup"><span data-stu-id="e91c1-204">Step 12: Hide your extension from the Desktop</span></span>

<span data-ttu-id="e91c1-205">Es importante que la extensión solo aparezca en el panel de navegación del explorador de archivos.</span><span class="sxs-lookup"><span data-stu-id="e91c1-205">It is important that your extension only appears on the Navigation Pane of the File Explorer.</span></span> <span data-ttu-id="e91c1-206">Una extensión de espacio de nombres no funciona como un método abreviado normal.</span><span class="sxs-lookup"><span data-stu-id="e91c1-206">A namespace extension does not function like a normal shortcut.</span></span> <span data-ttu-id="e91c1-207">Por lo tanto, no debe utilizar este método para crear un acceso directo de escritorio.</span><span class="sxs-lookup"><span data-stu-id="e91c1-207">Therefore, you should not use this method to create a Desktop shortcut.</span></span>

<span data-ttu-id="e91c1-208">**REG Add HKCU \\ software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ HideDesktopIcons \\ NewStartPanel/v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="e91c1-208">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\HideDesktopIcons\\NewStartPanel /v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /t REG\_DWORD /d 0x1 /f**</span></span>

 

 
