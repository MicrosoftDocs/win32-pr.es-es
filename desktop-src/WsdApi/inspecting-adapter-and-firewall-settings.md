---
description: Un firewall mal configurado puede provocar errores en las aplicaciones WSD.
ms.assetid: eba61235-29b4-463a-b7c5-d34d3b39b095
title: Inspeccionando la configuración del adaptador y del firewall
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 490909c9f3acdc3025e72350118f303bfdae73d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104360574"
---
# <a name="inspecting-adapter-and-firewall-settings"></a><span data-ttu-id="d4858-103">Inspeccionando la configuración del adaptador y del firewall</span><span class="sxs-lookup"><span data-stu-id="d4858-103">Inspecting Adapter and Firewall Settings</span></span>

<span data-ttu-id="d4858-104">Un firewall mal configurado puede provocar errores en las aplicaciones WSD.</span><span class="sxs-lookup"><span data-stu-id="d4858-104">A misconfigured firewall can cause WSD applications to fail.</span></span> <span data-ttu-id="d4858-105">En este tema se proporcionan algunos procedimientos de solución de problemas para usar cuando los hosts y los hosts WSD no se pueden ver entre sí en la red.</span><span class="sxs-lookup"><span data-stu-id="d4858-105">This topic provides some troubleshooting procedures to use when WSD clients and hosts cannot see each other on the network.</span></span> <span data-ttu-id="d4858-106">La configuración del firewall debe inspeccionarse antes de usar cualquier otro procedimiento de solución de problemas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4858-106">The firewall settings should be inspected before using any other application troubleshooting procedure.</span></span>

<span data-ttu-id="d4858-107">**Para inspeccionar la configuración del adaptador y del firewall**</span><span class="sxs-lookup"><span data-stu-id="d4858-107">**To inspect the adapter and firewall settings**</span></span>

1.  <span data-ttu-id="d4858-108">Compruebe que la excepción **detección de redes** está habilitada.</span><span class="sxs-lookup"><span data-stu-id="d4858-108">Verify that the **Network Discovery** exception is enabled.</span></span>
2.  <span data-ttu-id="d4858-109">Compruebe que no hay ninguna regla de Firewall específica de la aplicación que bloquee la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4858-109">Check that there are no application-specific firewall rules blocking the application.</span></span>
3.  <span data-ttu-id="d4858-110">Habilite explícitamente los puertos utilizados para la detección y el intercambio de metadatos.</span><span class="sxs-lookup"><span data-stu-id="d4858-110">Explicitly enable the ports used for discovery and metadata exchange.</span></span>
4.  <span data-ttu-id="d4858-111">Deshabilite el firewall y pruebe de nuevamente la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4858-111">Disable the firewall and retest the application.</span></span>
    > [!Note]  
    > <span data-ttu-id="d4858-112">El Firewall se debe volver a habilitar después de completar este paso.</span><span class="sxs-lookup"><span data-stu-id="d4858-112">The firewall should be re-enabled after completing this step.</span></span>

     

## <a name="verifying-that-the-network-discovery-exception-is-enabled"></a><span data-ttu-id="d4858-113">Comprobando que la excepción de detección de redes está habilitada</span><span class="sxs-lookup"><span data-stu-id="d4858-113">Verifying that the Network Discovery exception is enabled</span></span>

<span data-ttu-id="d4858-114">Si se están ejecutando aplicaciones WS-Discovery, se debe permitir la excepción de Firewall de **detección de redes** .</span><span class="sxs-lookup"><span data-stu-id="d4858-114">If any WS-Discovery applications are running, the **Network Discovery** firewall exception must be allowed.</span></span>

<span data-ttu-id="d4858-115">**Para habilitar la excepción de Firewall de detección de redes**</span><span class="sxs-lookup"><span data-stu-id="d4858-115">**To enable the Network Discovery firewall exception**</span></span>

1.  <span data-ttu-id="d4858-116">Haga clic en **Inicio**, haga clic en **Ejecutar** y, a continuación, escriba **firewall.cpl**.</span><span class="sxs-lookup"><span data-stu-id="d4858-116">Click **Start**, click **Run**, and then type **firewall.cpl**.</span></span> <span data-ttu-id="d4858-117">Se abrirá el applet **Panel de control del firewall de Windows** .</span><span class="sxs-lookup"><span data-stu-id="d4858-117">This opens the **Windows Firewall Control Panel** applet.</span></span>
2.  <span data-ttu-id="d4858-118">Elija **permitir un programa a través de Firewall de Windows**.</span><span class="sxs-lookup"><span data-stu-id="d4858-118">Choose **Allow a program through Windows Firewall**.</span></span>
3.  <span data-ttu-id="d4858-119">En la pestaña **excepciones** , active la casilla **detección de redes** .</span><span class="sxs-lookup"><span data-stu-id="d4858-119">On the **Exceptions** tab, select the **Network Discovery** check box.</span></span>
4.  <span data-ttu-id="d4858-120">Haga clic en **Aceptar** para cerrar el applet de Firewall.</span><span class="sxs-lookup"><span data-stu-id="d4858-120">Click **OK** to close the firewall applet.</span></span>

<span data-ttu-id="d4858-121">Pruebe a probar el programa después de cambiar este firewall.</span><span class="sxs-lookup"><span data-stu-id="d4858-121">Retest the program after making this firewall change.</span></span> <span data-ttu-id="d4858-122">Si el programa funciona ahora correctamente, se ha identificado la causa del problema y no es necesario realizar más pasos para la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="d4858-122">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="d4858-123">En caso contrario, vaya al paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="d4858-123">Otherwise, move on to the next step.</span></span>

## <a name="checking-for-application-specific-firewall-rules"></a><span data-ttu-id="d4858-124">Comprobando las reglas de Firewall específicas de la aplicación</span><span class="sxs-lookup"><span data-stu-id="d4858-124">Checking for application-specific firewall rules</span></span>

<span data-ttu-id="d4858-125">La configuración avanzada del firewall de Windows puede tener lugar en un complemento de Microsoft Management Control (MMC) denominado **firewall de Windows con seguridad avanzada**.</span><span class="sxs-lookup"><span data-stu-id="d4858-125">Advanced configuration of the Windows Firewall can take place in a Microsoft Management Control (MMC) snap-in named **Windows Firewall with Advanced Security**.</span></span> <span data-ttu-id="d4858-126">Este complemento se puede usar para solucionar problemas de Firewall sospechosos.</span><span class="sxs-lookup"><span data-stu-id="d4858-126">This snap-in can be used to troubleshoot suspected firewall problems.</span></span>

<span data-ttu-id="d4858-127">Los desarrolladores pueden usar las API de [firewall de Windows con seguridad avanzada](/previous-versions/windows/desktop/ics/windows-firewall-with-advanced-security-reference) para crear reglas de firewall que se aplican a sus aplicaciones WSD.</span><span class="sxs-lookup"><span data-stu-id="d4858-127">Developers can use the [Windows Firewall with Advanced Security](/previous-versions/windows/desktop/ics/windows-firewall-with-advanced-security-reference) APIs to create firewall rules that apply to their WSD applications.</span></span> <span data-ttu-id="d4858-128">En concreto, el método [**Add**](/previous-versions/windows/desktop/api/netfw/nf-netfw-inetfwrules-add) de la interfaz [**INetFwRules**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwrules) se puede usar para agregar una nueva regla de Firewall.</span><span class="sxs-lookup"><span data-stu-id="d4858-128">Specifically, the [**Add**](/previous-versions/windows/desktop/api/netfw/nf-netfw-inetfwrules-add) method of the [**INetFwRules**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwrules) interface can be used to add a new firewall rule.</span></span> <span data-ttu-id="d4858-129">Si las reglas de Firewall se crean de forma incorrecta, es posible que los clientes y los hosts no se puedan ver entre sí en la red.</span><span class="sxs-lookup"><span data-stu-id="d4858-129">If firewall rules are created incorrectly, clients and hosts may not be able to see each other on the network.</span></span>

<span data-ttu-id="d4858-130">**Para comprobar las reglas de Firewall específicas de la aplicación**</span><span class="sxs-lookup"><span data-stu-id="d4858-130">**To check for application-specific firewall rules**</span></span>

1.  <span data-ttu-id="d4858-131">Haga clic en **Inicio**, haga clic en **Ejecutar** y, a continuación, escriba **WF. msc**.</span><span class="sxs-lookup"><span data-stu-id="d4858-131">Click **Start**, click **Run**, and then type **wf.msc**.</span></span>
2.  <span data-ttu-id="d4858-132">Busque reglas específicas de la aplicación que puedan estar bloqueando el tráfico.</span><span class="sxs-lookup"><span data-stu-id="d4858-132">Look for application-specific rules that may be blocking traffic.</span></span> <span data-ttu-id="d4858-133">Para obtener más información, consulte [firewall de Windows con seguridad avanzada: herramientas de diagnóstico y solución de problemas](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc722062(v=ws.10)?ocid=fwlink).</span><span class="sxs-lookup"><span data-stu-id="d4858-133">For more information, see [Windows Firewall with Advanced Security - Diagnostics and Troubleshooting Tools](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc722062(v=ws.10)?ocid=fwlink).</span></span>
3.  <span data-ttu-id="d4858-134">Quite las reglas específicas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4858-134">Remove application-specific rules.</span></span>

<span data-ttu-id="d4858-135">Si no se encuentra ninguna regla específica de la aplicación, vaya al paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="d4858-135">If no application-specific rules were found, move on to the next step.</span></span> <span data-ttu-id="d4858-136">Si se ha encontrado y quitado una regla específica de la aplicación, pruebe a probar el programa después de cambiar el firewall.</span><span class="sxs-lookup"><span data-stu-id="d4858-136">If an application-specific rule was found and removed, retest the program after making the firewall change.</span></span> <span data-ttu-id="d4858-137">Si el programa funciona ahora correctamente, se ha identificado la causa del problema y no es necesario realizar más pasos para la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="d4858-137">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="d4858-138">En caso contrario, vaya al paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="d4858-138">Otherwise, move on to the next step.</span></span>

## <a name="enabling-the-ports-used-for-discovery-and-metadata-exchange"></a><span data-ttu-id="d4858-139">Habilitación de los puertos utilizados para la detección y el intercambio de metadatos</span><span class="sxs-lookup"><span data-stu-id="d4858-139">Enabling the ports used for discovery and metadata exchange</span></span>

<span data-ttu-id="d4858-140">WS-Discovery usa el puerto UDP 3702 para el intercambio de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d4858-140">WS-Discovery uses the UDP port 3702 for message exchange.</span></span> <span data-ttu-id="d4858-141">Además, los puertos TCP 5357 y 5358 a veces se usan para el intercambio de metadatos.</span><span class="sxs-lookup"><span data-stu-id="d4858-141">In addition, TCP ports 5357 and 5358 are sometimes used for metadata exchange.</span></span> <span data-ttu-id="d4858-142">Estos puertos se pueden abrir explícitamente en el Firewall mediante los procedimientos descritos en [abrir un puerto en firewall de Windows](https://windowshelp.microsoft.com/Windows/Help/4da18300-9044-47b6-9038-595c78db81ab1033.mspx).</span><span class="sxs-lookup"><span data-stu-id="d4858-142">These ports can be explicitly opened on the firewall using the procedures described in [Open a port in Windows Firewall](https://windowshelp.microsoft.com/Windows/Help/4da18300-9044-47b6-9038-595c78db81ab1033.mspx).</span></span>

<span data-ttu-id="d4858-143">Pruebe a probar el programa después de cambiar este firewall.</span><span class="sxs-lookup"><span data-stu-id="d4858-143">Retest the program after making this firewall change.</span></span> <span data-ttu-id="d4858-144">Si el programa funciona ahora correctamente, se ha identificado la causa del problema y no es necesario realizar más pasos para la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="d4858-144">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="d4858-145">En caso contrario, vaya al paso siguiente.</span><span class="sxs-lookup"><span data-stu-id="d4858-145">Otherwise, move on to the next step.</span></span>

## <a name="disabling-the-firewall"></a><span data-ttu-id="d4858-146">Deshabilitar el Firewall</span><span class="sxs-lookup"><span data-stu-id="d4858-146">Disabling the firewall</span></span>

<span data-ttu-id="d4858-147">El Firewall de Windows se puede deshabilitar para ayudar a solucionar problemas sospechosos.</span><span class="sxs-lookup"><span data-stu-id="d4858-147">The Windows Firewall can be disabled to help troubleshoot suspected problems.</span></span> <span data-ttu-id="d4858-148">Otros firewalls aplicables (como el Firewall de un enrutador) también se pueden deshabilitar para solucionar problemas.</span><span class="sxs-lookup"><span data-stu-id="d4858-148">Other applicable firewalls (such as the firewall on a router) can also be disabled for troubleshooting purposes.</span></span> <span data-ttu-id="d4858-149">Para obtener información acerca de cómo habilitar y deshabilitar el Firewall de Windows, consulte [activar o desactivar Firewall de Windows](https://windowshelp.microsoft.com/Windows/Help/bfe523a9-7eec-4d3f-add1-2f68b9cfa1c01033.mspx).</span><span class="sxs-lookup"><span data-stu-id="d4858-149">For information about enabling and disabling the Windows Firewall, see [Turn Windows Firewall on or off](https://windowshelp.microsoft.com/Windows/Help/bfe523a9-7eec-4d3f-add1-2f68b9cfa1c01033.mspx).</span></span>

<span data-ttu-id="d4858-150">Pruebe de nuevamente la aplicación después de deshabilitar los firewalls aplicables.</span><span class="sxs-lookup"><span data-stu-id="d4858-150">Retest the application after disabling any applicable firewalls.</span></span> <span data-ttu-id="d4858-151">Si el programa funciona ahora correctamente, el Firewall estaba bloqueando el tráfico.</span><span class="sxs-lookup"><span data-stu-id="d4858-151">If the program now works successfully, then the firewall was blocking the traffic.</span></span> <span data-ttu-id="d4858-152">Hay algunas causas posibles del tráfico bloqueado.</span><span class="sxs-lookup"><span data-stu-id="d4858-152">There are a few possible causes of blocked traffic.</span></span>

-   <span data-ttu-id="d4858-153">Las excepciones específicas de la aplicación bloquean el tráfico.</span><span class="sxs-lookup"><span data-stu-id="d4858-153">Application-specific exceptions blocked the traffic.</span></span> <span data-ttu-id="d4858-154">Compruebe las reglas de Firewall específicas de la aplicación como se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="d4858-154">Check for application-specific firewall rules as described above.</span></span>
-   <span data-ttu-id="d4858-155">El dispositivo tardó demasiado tiempo en responder a las solicitudes UDP.</span><span class="sxs-lookup"><span data-stu-id="d4858-155">The device took too long to respond to UDP requests.</span></span> <span data-ttu-id="d4858-156">El Firewall de Windows puede bloquear las respuestas UDP que devuelven más de 4 segundos después de que se enviara la solicitud inicial.</span><span class="sxs-lookup"><span data-stu-id="d4858-156">The Windows Firewall may block UDP responses that return more than 4 seconds after the initial request was sent.</span></span> <span data-ttu-id="d4858-157">Siga los procedimientos que se indican en [usar un host y un cliente genéricos para WS-Discovery de UDP](using-a-generic-host-and-client-for-udp-ws-discovery.md) para ver si el problema se reproduce con un host que responde en menos de 4 segundos.</span><span class="sxs-lookup"><span data-stu-id="d4858-157">Continue troubleshooting by following the procedures given in [Using a Generic Host and Client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md) to see if the problem reproduces with a host that responds in less than 4 seconds.</span></span>

<span data-ttu-id="d4858-158">Si se produce un error en la aplicación después de que el Firewall esté deshabilitado, el Firewall no provocará el error de aplicación.</span><span class="sxs-lookup"><span data-stu-id="d4858-158">If the application still fails after the firewall is disabled, then the firewall is not causing the application failure.</span></span> <span data-ttu-id="d4858-159">Vuelva a habilitar los firewalls y siga los pasos que se indican en uso de [un host y cliente genéricos para WS-Discovery de UDP](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="d4858-159">Re-enable the firewalls and continue troubleshooting by following the procedures given in [Using a Generic Host and Client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>

<span data-ttu-id="d4858-160">Los firewalls siempre se deben volver a habilitar después de que haya finalizado la solución de problemas.</span><span class="sxs-lookup"><span data-stu-id="d4858-160">Firewalls should always be re-enabled after troubleshooting has finished.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d4858-161">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="d4858-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d4858-162">Procedimientos de diagnóstico de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="d4858-162">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="d4858-163">Introducción con la solución de problemas de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="d4858-163">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> </dl>

 

 
