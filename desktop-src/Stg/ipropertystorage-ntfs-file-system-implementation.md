---
title: 'IPropertyStorage: implementación del sistema de archivos NTFS'
description: La versión 5,0 de NTFS proporciona una implementación de la interfaz IPropertyStorage para los archivos de un volumen NTFS cuando los archivos no son archivos compuestos.
ms.assetid: d0ffd975-5bc2-4de3-b0c1-c9188541f46a
keywords:
- IPropertyStorage Strctd STG, implementaciones, sistema de archivos NTFS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca359bebbd05e67a034494023d7fc23089396b32
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "105665837"
---
# <a name="ipropertystorage-ntfs-file-system-implementation"></a><span data-ttu-id="cd380-104">IPropertyStorage: implementación del sistema de archivos NTFS</span><span class="sxs-lookup"><span data-stu-id="cd380-104">IPropertyStorage-NTFS File System Implementation</span></span>

<span data-ttu-id="cd380-105">La versión 5,0 de NTFS proporciona una implementación de la interfaz [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) para los archivos de un volumen NTFS cuando los archivos no son archivos compuestos.</span><span class="sxs-lookup"><span data-stu-id="cd380-105">The NTFS version 5.0 provides an implementation of the [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) interface for files on an NTFS volume when the files are not compound files.</span></span>

<span data-ttu-id="cd380-106">**Para obtener un puntero a la implementación del sistema de archivos NTFS de IPropertySetStorage**</span><span class="sxs-lookup"><span data-stu-id="cd380-106">**To get a pointer to the NTFS file system implementation of IPropertySetStorage**</span></span>

1.  <span data-ttu-id="cd380-107">Llame a [**IPropertySetStorage:: Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) con la implementación NTFS de [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage).</span><span class="sxs-lookup"><span data-stu-id="cd380-107">Call [**IPropertySetStorage::Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) using the NTFS implementation of [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage).</span></span>
2.  <span data-ttu-id="cd380-108">Llame a [**IPropertySetStorage:: Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) mediante la implementación NTFS de [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage).</span><span class="sxs-lookup"><span data-stu-id="cd380-108">Call [**IPropertySetStorage::Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) using the NTFS implementation of [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage).</span></span>

## <a name="when-to-use"></a><span data-ttu-id="cd380-109">Cuándo usar</span><span class="sxs-lookup"><span data-stu-id="cd380-109">When to Use</span></span>

<span data-ttu-id="cd380-110">Use [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) para administrar propiedades dentro de un único conjunto de propiedades.</span><span class="sxs-lookup"><span data-stu-id="cd380-110">Use [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) to manage properties within a single property set.</span></span> <span data-ttu-id="cd380-111">Sus métodos admiten las propiedades de lectura, escritura y eliminación, así como los nombres de cadena opcionales que se pueden asociar a los identificadores de propiedad.</span><span class="sxs-lookup"><span data-stu-id="cd380-111">Its methods support reading, writing, and deleting properties and the optional string names that can be associated with property identifiers.</span></span> <span data-ttu-id="cd380-112">Otro método le permite establecer las horas asociadas al almacenamiento de propiedades y otro permite la asignación de un CLSID, que se usa para asociar otro código, como el código de la interfaz de usuario (IU), con la propiedad establecida.</span><span class="sxs-lookup"><span data-stu-id="cd380-112">Another method enables you to set times associated with the property storage, and another permits the assignment of a CLSID, used to associate other code, such as user interface (UI) code, with the property set.</span></span> <span data-ttu-id="cd380-113">La llamada al método [**enum**](/windows/desktop/api/Propidl/nf-propidl-ipropertystorage-enum) proporciona un puntero a la implementación NTFS de [**IEnumSTATPROPSTG**](/windows/win32/api/propidlbase/nn-propidlbase-ienumstatpropstg), que permite enumerar las propiedades del conjunto.</span><span class="sxs-lookup"><span data-stu-id="cd380-113">Calling the [**Enum**](/windows/desktop/api/Propidl/nf-propidl-ipropertystorage-enum) method supplies a pointer to the NTFS implementation of [**IEnumSTATPROPSTG**](/windows/win32/api/propidlbase/nn-propidlbase-ienumstatpropstg), which enables you to enumerate the properties in the set.</span></span>

## <a name="remarks"></a><span data-ttu-id="cd380-114">Observaciones</span><span class="sxs-lookup"><span data-stu-id="cd380-114">Remarks</span></span>

<span data-ttu-id="cd380-115">La implementación de NTFS proporciona esencialmente las mismas características que la implementación de archivo compuesto.</span><span class="sxs-lookup"><span data-stu-id="cd380-115">The NTFS implementation provides essentially the same features as the compound file implementation.</span></span> <span data-ttu-id="cd380-116">Para obtener más información, vea [IPropertyStorage: implementación de archivos compuestos](ipropertystorage-compound-file-implementation.md).</span><span class="sxs-lookup"><span data-stu-id="cd380-116">For more information, see [IPropertyStorage-Compound File Implementation](ipropertystorage-compound-file-implementation.md).</span></span>

<span data-ttu-id="cd380-117">Dado que NTFS es un sistema de archivos sólido, un conjunto de propiedades NTFS nunca se quedará en un estado incorrecto.</span><span class="sxs-lookup"><span data-stu-id="cd380-117">Because NTFS is a robust file system, an NTFS property set will never be left in an incorrect state.</span></span> <span data-ttu-id="cd380-118">Cuando el contenido de un [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) de NTFS se vacía en el archivo NTFS subyacente, todos o ninguno de los Estados se escriben en el archivo como una operación atómica, incluso si se produce un error durante la operación, como una terminación anómala del proceso.</span><span class="sxs-lookup"><span data-stu-id="cd380-118">When the content of an NTFS [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) is flushed to the underlying NTFS file, either all or none of the state is written to the file as an atomic operation, even if there is a failure during the operation such as an abnormal process termination.</span></span> <span data-ttu-id="cd380-119">Para lograr un comportamiento similar con la implementación de archivo compuesto, la interfaz [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) primaria debe estar abierta en modo de transacción.</span><span class="sxs-lookup"><span data-stu-id="cd380-119">To achieve similar behavior with the compound file implementation, the parent [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) interface must be opened in transacted mode.</span></span>

<span data-ttu-id="cd380-120">Este nivel de solidez solo es posible cuando se tiene acceso a un conjunto de propiedades NTFS en un volumen NTFS 5,0.</span><span class="sxs-lookup"><span data-stu-id="cd380-120">This level of robustness is only possible when accessing an NTFS property set on an NTFS 5.0 volume.</span></span> <span data-ttu-id="cd380-121">Es posible tener acceso a los conjuntos de propiedades NTFS en versiones anteriores de NTFS (por ejemplo, un equipo que ejecuta en Windows NT o Windows 2000 que tiene acceso a los conjuntos de propiedades en un equipo de servidor de archivos que ejecuta en Windows NT 4,0), pero no se garantiza que estén en un estado correcto en caso de que se produzca un error inesperado.</span><span class="sxs-lookup"><span data-stu-id="cd380-121">It is possible to access NTFS property sets on earlier versions of NTFS (for example, a computer running on Windows NT or Windows 2000 that accesses the property sets on a file server computer running on Windows NT 4.0), but they are not guaranteed to be in a correct state in the event of an unexpected failure.</span></span>

<span data-ttu-id="cd380-122">Aunque la implementación de NTFS de [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) no admite la transacción, la implementación NTFS de [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) lo admite.</span><span class="sxs-lookup"><span data-stu-id="cd380-122">Although the NTFS implementation of [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) does not support transactioning, the NTFS implementation of [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) supports it.</span></span> <span data-ttu-id="cd380-123">Es decir, **la \_ transacción STGM** se puede especificar en el parámetro *GrfMode* para los métodos [**Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) y [**Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) de **IPropertySetStorage**.</span><span class="sxs-lookup"><span data-stu-id="cd380-123">That is, **STGM\_TRANSACTED** may be specified in the *grfMode* parameter to the [**Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) and [**Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) methods of **IPropertySetStorage**.</span></span> <span data-ttu-id="cd380-124">Como en la implementación de archivo compuesto, el modo de transacción solo es posible para los almacenamientos de propiedades no simples (especificando **PROPSETFLAG no \_ simple** en el parámetro *grfFlags* ).</span><span class="sxs-lookup"><span data-stu-id="cd380-124">As in the compound file implementation, transacted mode is possible only for nonsimple property storages (specifying **PROPSETFLAG\_NONSIMPLE** in the *grfFlags* parameter).</span></span>

## <a name="related-topics"></a><span data-ttu-id="cd380-125">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="cd380-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cd380-126">**IPropertyStorage**</span><span class="sxs-lookup"><span data-stu-id="cd380-126">**IPropertyStorage**</span></span>](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage)
</dt> <dt>

[<span data-ttu-id="cd380-127">IPropertySetStorage: implementación del sistema de archivos NTFS</span><span class="sxs-lookup"><span data-stu-id="cd380-127">IPropertySetStorage-NTFS File System Implementation</span></span>](ipropertysetstorage-ntfs-file-system-implementation.md)
</dt> </dl>

 

 