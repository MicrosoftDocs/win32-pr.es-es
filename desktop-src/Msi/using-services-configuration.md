---
description: La configuración de servicios permite al Windows Installer personalizar los servicios de un equipo.
ms.assetid: 164280b2-1c75-49d2-ac04-c3654be84134
title: Uso de la configuración de servicios
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2f6e3040d51b1056a370490fc5328a6bafe07555
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104496894"
---
# <a name="using-services-configuration"></a><span data-ttu-id="23688-103">Uso de la configuración de servicios</span><span class="sxs-lookup"><span data-stu-id="23688-103">Using Services Configuration</span></span>

<span data-ttu-id="23688-104">La configuración de servicios permite al Windows Installer personalizar los [servicios](../services/services.md) de un equipo.</span><span class="sxs-lookup"><span data-stu-id="23688-104">Services configuration enables the Windows Installer to customize the [services](../services/services.md) on a computer.</span></span> <span data-ttu-id="23688-105">Los desarrolladores pueden crear un paquete de Windows Installer para instalar, detener, iniciar y eliminar servicios durante una instalación mediante las tablas [ServiceControl](servicecontrol-table.md) y [ServiceInstall](serviceinstall-table.md) y las acciones [InstallServices](installservices-action.md), [StopServices](stopservices-action.md) y [DeleteServices](deleteservices-action.md) .</span><span class="sxs-lookup"><span data-stu-id="23688-105">Developers can author a Windows Installer package to install, stop, start and delete services during an installation by using the [ServiceControl](servicecontrol-table.md) and [ServiceInstall](serviceinstall-table.md) tables and the [InstallServices](installservices-action.md), [StopServices](stopservices-action.md) and [DeleteServices](deleteservices-action.md) actions.</span></span>

<span data-ttu-id="23688-106">A partir de los paquetes escritos para Windows Installer 5,0, los desarrolladores también pueden usar la acción estándar [MsiConfigureServices](msiconfigureservices-action.md) y la [tabla MsiServiceConfig](msiserviceconfig-table.md) para configurar las opciones de personalización de servicio extendidas disponibles con Windows 7 y Windows Server 2008 R2 y Windows Vista y Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="23688-106">Beginning with packages written for Windows Installer 5.0, developers can also use the [MsiConfigureServices](msiconfigureservices-action.md) standard action and the [MsiServiceConfig table](msiserviceconfig-table.md) to configure the extended service customization options available with Windows 7 and Windows Server 2008 R2 and Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="23688-107">Los paquetes de instalación existentes escritos para las versiones del Windows Installer que no incluían la tabla MsiServiceConfig se pueden instalar con Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="23688-107">Existing installation packages written for versions of the Windows Installer that did not include the MsiServiceConfig table can be still be installed using Windows Installer 5.0.</span></span> <span data-ttu-id="23688-108">La característica de configuración de servicios del Windows Installer no puede configurar cuentas de servicio de red, instalar procesos de host de servicios compartidos (svchost) o reiniciar servicios detenidos como parte de la instalación.</span><span class="sxs-lookup"><span data-stu-id="23688-108">The services configuration feature of the Windows Installer cannot configure network service accounts, install shared service host (svchost) processes, or restart services stopped as part of the installation.</span></span>

<span data-ttu-id="23688-109">**Windows XP y Windows Server 2003 o anterior:** No compatible.</span><span class="sxs-lookup"><span data-stu-id="23688-109">**Windows XP and Windows Server 2003 or earlier:** Not supported.</span></span> <span data-ttu-id="23688-110">Las tablas de configuración del servicio y las acciones estándar están disponibles a partir de Windows Installer 5,0 que se ejecuta en Windows 7 y Windows Server 2008 R2 y Windows Installer 4,5 que se ejecutan en Windows Vista y Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="23688-110">The service configuration tables and standard actions are available beginning with Windows Installer 5.0 running on Windows 7 and Windows Server 2008 R2 and Windows Installer 4.5 running on Windows Vista and Windows Server 2008.</span></span>

<span data-ttu-id="23688-111">Debe incluir la acción [MsiConfigureServices](msiconfigureservices-action.md) en la tabla [InstallExecuteSequence](installexecutesequence-table.md) para solicitar las configuraciones de servicio que especifique en la [tabla MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="23688-111">You must include the [MsiConfigureServices](msiconfigureservices-action.md) action in the [InstallExecuteSequence](installexecutesequence-table.md) table to request the service configurations that you specify in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="23688-112">El Windows Installer usa la información de la tabla MsiServiceConfig solo cuando la acción de MsiConfigureServices estándar está incluida en una tabla de secuencia.</span><span class="sxs-lookup"><span data-stu-id="23688-112">The Windows Installer uses the information in the MsiServiceConfig table only when the MsiConfigureServices standard action is included in a sequence table.</span></span> <span data-ttu-id="23688-113">La acción estándar MsiConfigureServices también usa información en las tablas [ServiceControl](servicecontrol-table.md) y [ServiceInstall](serviceinstall-table.md) .</span><span class="sxs-lookup"><span data-stu-id="23688-113">The MsiConfigureServices standard action also uses information in the [ServiceControl](servicecontrol-table.md) and [ServiceInstall](serviceinstall-table.md) tables.</span></span>

<span data-ttu-id="23688-114">Para solicitar que el sistema proporcione solo los privilegios necesarios para un servicio determinado, especifique el servicio y la opción de configuración del servicio configuración de **\_ \_ \_ \_ privilegios necesaria** en la [tabla MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="23688-114">To request that the system give only required privileges to a particular service, specify the service and the **SERVICE\_CONFIG\_REQUIRED\_PRIVILEGES\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="23688-115">Quite los privilegios innecesarios del token de proceso del servicio.</span><span class="sxs-lookup"><span data-stu-id="23688-115">Remove the unneeded privileges from the service's process token.</span></span> <span data-ttu-id="23688-116">Esta opción se puede usar para configurar los servicios que se ejecutan en el contexto de seguridad de las [cuentas de usuario del servicio](../services/service-user-accounts.md)LocalSystem, LocalService o NetworkService.</span><span class="sxs-lookup"><span data-stu-id="23688-116">This option can be used to configure services run in the security context of the LocalSystem, LocalService, or NetworkService [service user accounts](../services/service-user-accounts.md).</span></span>

<span data-ttu-id="23688-117">Para solicitar que el sistema retrase el inicio automático de un servicio durante un tiempo después del inicio de todos los demás servicios de inicio automático, especifique el servicio y la opción de **\_ \_ \_ \_ Inicio automático retrasado** de la configuración del servicio en la [tabla MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="23688-117">To request that the system delay the automatic start of a service for a time after the start of all other auto-start services, specify the service and the **SERVICE\_CONFIG\_DELAYED\_AUTO\_START** option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="23688-118">El servicio que se retrasa debe instalarse mediante el paquete actual con el servicio de \_ \_ Inicio automático especificado en la tabla [ServiceInstall](serviceinstall-table.md) o el servicio ya debe estar instalado como un servicio de inicio automático.</span><span class="sxs-lookup"><span data-stu-id="23688-118">The service being delayed must be installed by the current package with SERVICE\_AUTO\_START specified in the [ServiceInstall](serviceinstall-table.md) table or the service must already be installed as an auto-start service.</span></span>

<span data-ttu-id="23688-119">Para solicitar que el sistema Reserve un recurso para el uso exclusivo de un servicio determinado, especifique el servicio, el tipo de SID de servicio y la opción de configuración **\_ información de \_ \_ SID \_ del servicio** de configuración de servicio en la [tabla MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="23688-119">To request that the system reserve a resource for the exclusive use of a particular service, specify the service, the service SID type, and the **SERVICE\_CONFIG\_SERVICE\_SID\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="23688-120">Agregue el SID del servicio a la lista de Access Control (ACL) del recurso.</span><span class="sxs-lookup"><span data-stu-id="23688-120">Add the service's SID to the resource's Access Control List (ACL) for the resource.</span></span>

<span data-ttu-id="23688-121">Para solicitar que el [Administrador de control de servicios](../services/service-control-manager.md) (SCM) espere después de enviar la notificación de **cierre del \_ control \_ del servicio** a un servicio, haga lo siguiente.</span><span class="sxs-lookup"><span data-stu-id="23688-121">To request that the [Service Control Manager](../services/service-control-manager.md) (SCM) wait after sending the **SERVICE\_CONTROL\_PRESHUTDOWN** notification to a service, do the following.</span></span> <span data-ttu-id="23688-122">Especifique el servicio, la cantidad de tiempo que debe esperar el SCM y la opción de configuración **\_ \_ \_ información de preapagado de configuración del servicio** en la [tabla MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="23688-122">Specify the service, the length of time the SCM should wait, and the **SERVICE\_CONFIG\_PRESHUTDOWN\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span>

<span data-ttu-id="23688-123">Para configurar el momento en que el sistema debe ejecutar acciones después del error de un servicio, especifique el servicio y la opción de marca de acciones de error de configuración del servicio en la [tabla MsiServiceConfig](msiserviceconfig-table.md). **\_ \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="23688-123">To configure when the system should run actions after the failure of a service, specify the service and the **SERVICE\_CONFIG\_FAILURE\_ACTIONS\_FLAG** option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="23688-124">Agregue las acciones que se van a ejecutar en la [tabla MsiServiceConfigFailureActions](msiserviceconfigfailureactions-table.md).</span><span class="sxs-lookup"><span data-stu-id="23688-124">Add the actions to be run to the [MsiServiceConfigFailureActions table](msiserviceconfigfailureactions-table.md).</span></span>

<span data-ttu-id="23688-125">Para obtener más información acerca de las capacidades de personalización de servicio extendidas que se introdujeron con los sistemas operativos Windows Vista y Windows Server 2008, consulte [cambios de servicio para Windows Vista](../services/service-changes-for-windows-vista.md).</span><span class="sxs-lookup"><span data-stu-id="23688-125">For more about the extended service customization capabilities introduced with the Windows Vista and Windows Server 2008 operating systems, see [Service Changes for Windows Vista](../services/service-changes-for-windows-vista.md).</span></span>

 

 
