---
description: Se han realizado cambios significativos en el modelo de servicios para mejorar el rendimiento, la confiabilidad, la seguridad, la administración y la administración de los servicios.
ms.assetid: b1c09468-51e1-4ffd-bf07-6faa9f9336dd
title: Cambios de servicio para Windows Vista
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e6ba96cc0c69e2bda4e19e7d093098c578e31c4b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103907859"
---
# <a name="service-changes-for-windows-vista"></a>Cambios de servicio para Windows Vista

Se han realizado cambios significativos en el modelo de servicios para mejorar el rendimiento, la confiabilidad, la seguridad, la administración y la administración de los servicios.

En la tabla siguiente se resumen las mejoras en los servicios de para Windows Vista.



| Mejora                                                                                                                                                                                                  | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="Delayed_Auto-Start"></span><span id="delayed_auto-start"></span><span id="DELAYED_AUTO-START"></span>Inicio automático retrasado<br/>                                                                 | Los servicios de inicio automático retrasados se inician poco después de que se inicie el sistema. Esto mejora el rendimiento de inicio del sistema y, al mismo tiempo, proporciona un inicio automático para estos servicios. Para establecer la marca de inicio automático retrasada, llame a la función [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) con la **\_ \_ \_ \_ \_ información de inicio automático retrasada** de la configuración del servicio.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="Failure_Detection_and_Recovery"></span><span id="failure_detection_and_recovery"></span><span id="FAILURE_DETECTION_AND_RECOVERY"></span>Detección de errores y recuperación<br/>                 | Si se produce un error en un servicio, el administrador de control de servicios (SCM) puede realizar una acción de error, como reiniciar el servicio en un intento de recuperación de ese error. Para configurar una acción de error, llame a [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) con **acciones de error de configuración de servicio \_ \_ \_**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="Preshutdown_Notifications"></span><span id="preshutdown_notifications"></span><span id="PRESHUTDOWN_NOTIFICATIONS"></span>Notificaciones de cierre<br/>                                     | Un servicio puede registrarse para recibir una notificación de **\_ \_ cierre** de un control de servicio en su función [*HandlerEx*](/windows/desktop/api/WinSvc/nc-winsvc-lphandler_function_ex) antes de recibir la notificación de cierre real. Esto proporciona a los servicios un procedimiento de cierre largo más tiempo para cerrarse correctamente. Para establecer el valor de tiempo de espera, llame a [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) con la **\_ \_ \_ información de preapagado de configuración de servicio**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="Restricted_Network_Access"></span><span id="restricted_network_access"></span><span id="RESTRICTED_NETWORK_ACCESS"></span>Acceso restringido a la red<br/>                                     | Puede usar SID de servicio para restringir el acceso a puertos, protocolos o la dirección del tráfico de red. Para restringir el acceso de un servicio a la red, use la interfaz [**INetFwServiceRestriction**](/windows/desktop/api/netfw/nn-netfw-inetfwservicerestriction) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="Running_with_Least_Privilege"></span><span id="running_with_least_privilege"></span><span id="RUNNING_WITH_LEAST_PRIVILEGE"></span>Ejecución con privilegios mínimos<br/>                         | Los servicios se pueden ejecutar en cualquier cuenta que contenga los privilegios necesarios (LocalService, NetworkService, LocalSystem, una cuenta de dominio o una cuenta local) e indicar los privilegios necesarios llamando a [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) con la **\_ \_ \_ \_ información de privilegios necesarios** para la configuración de servicio. El SCM quita los privilegios que no son necesarios.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="Service_Isolation"></span><span id="service_isolation"></span><span id="SERVICE_ISOLATION"></span>Aislamiento del servicio<br/>                                                                     | Un servicio puede aislar objetos, como archivos o claves del registro, para su uso exclusivo al protegerlos con una entrada de control de acceso que contenga un SID de servicio. Una vez asignado este SID a un servicio, el propietario del servicio puede modificar las listas de control de acceso de los objetos para conceder acceso al SID. Esto permite a un servicio tener acceso a objetos específicos sin ejecutarse en una cuenta con privilegios elevados o reduciendo la seguridad en los objetos. Para establecer el SID del servicio, llame a [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) con la **información del SID del servicio de configuración de servicio \_ \_ \_ \_**.<br/>                                                                                                                                                                                                                                     |
| <span id="Service_State_Change_Notifications"></span><span id="service_state_change_notifications"></span><span id="SERVICE_STATE_CHANGE_NOTIFICATIONS"></span>Notificaciones de cambio de estado del servicio<br/> | Los servicios se pueden registrar para recibir notificaciones cuando se crea o se elimina un servicio, o cuando se cambia el estado mediante la función [**NotifyServiceStatusChange**](/windows/desktop/api/Winsvc/nf-winsvc-notifyservicestatuschangea) . Esto es más eficaz que llamar a la función [**QueryServiceStatusEx**](/windows/desktop/api/Winsvc/nf-winsvc-queryservicestatusex) en un bucle para sondear el estado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="Session_0_Isolation"></span><span id="session_0_isolation"></span><span id="SESSION_0_ISOLATION"></span>Aislamiento de sesión 0<br/>                                                             | Los servicios siempre se ejecutan en la sesión 0. Antes de Windows Vista, el primer usuario que inicia sesión también se asignó a la sesión 0. Ahora, la sesión 0 se reserva exclusivamente para los servicios y otras aplicaciones no asociadas a una sesión de usuario interactivo. (El primer usuario que inicia sesión está conectado a la sesión 1, el segundo usuario que inicia sesión está conectado a la sesión 2, y así sucesivamente). La sesión 0 no es compatible con los procesos que interactúan con el usuario.<br/> Este cambio significa que un servicio no puede publicar o enviar un mensaje a una aplicación, y una aplicación no puede enviar o publicar un mensaje en un servicio. Además, los servicios no pueden mostrar un elemento de la interfaz de usuario, como un cuadro de diálogo directamente. Un servicio puede usar la función [**WTSSendMessage**](/windows/desktop/api/wtsapi32/nf-wtsapi32-wtssendmessagea) para mostrar un cuadro de diálogo en otra sesión.<br/> |



 

## <a name="related-topics"></a>Temas relacionados

<dl> <dt>

[Servicios](services.md)
</dt> </dl>

 

