---
description: El cuadro de diálogo común de fuentes simplifica el proceso de creación y selección de fuentes.
ms.assetid: 7183be25-a8e4-47a0-a34a-63eadf6ca10d
title: Creación y selección de fuentes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37b4a70a1a49fc318ca69998d97e15fca838668d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104997392"
---
# <a name="font-creation-and-selection"></a><span data-ttu-id="a940e-103">Creación y selección de fuentes</span><span class="sxs-lookup"><span data-stu-id="a940e-103">Font Creation and Selection</span></span>

<span data-ttu-id="a940e-104">El cuadro de diálogo común de **fuentes** simplifica el proceso de creación y selección de fuentes.</span><span class="sxs-lookup"><span data-stu-id="a940e-104">The **Font** common dialog box simplifies the process of creating and selecting fonts.</span></span> <span data-ttu-id="a940e-105">Al inicializar la estructura [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) y llamar a la función [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) , una aplicación puede admitir la misma interfaz de selección de fuente que anteriormente requería muchas líneas de código personalizado.</span><span class="sxs-lookup"><span data-stu-id="a940e-105">By initializing the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure and calling the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function, an application can support the same font-selection interface that previously required many lines of custom code.</span></span> <span data-ttu-id="a940e-106">(Para obtener más información sobre el cuadro de diálogo común de **fuentes** , vea [biblioteca de cuadros de diálogo comunes](../dlgbox/common-dialog-box-library.md).)</span><span class="sxs-lookup"><span data-stu-id="a940e-106">(For more information about the **Font** common dialog box, see [Common Dialog Box Library](../dlgbox/common-dialog-box-library.md).)</span></span>

## <a name="selection-by-the-user"></a><span data-ttu-id="a940e-107">Selección por parte del usuario</span><span class="sxs-lookup"><span data-stu-id="a940e-107">Selection by the User</span></span>

<span data-ttu-id="a940e-108">La mayoría de las operaciones de creación y selección de fuentes implican al usuario.</span><span class="sxs-lookup"><span data-stu-id="a940e-108">Most font creation and selection operations involve the user.</span></span> <span data-ttu-id="a940e-109">Por ejemplo, las aplicaciones de procesamiento de texto permiten al usuario seleccionar fuentes únicas para los encabezados, las notas a pie y el texto del cuerpo.</span><span class="sxs-lookup"><span data-stu-id="a940e-109">For example, word processing applications let the user select unique fonts for headings, footnotes, and body text.</span></span> <span data-ttu-id="a940e-110">Una vez que el usuario selecciona una fuente mediante el cuadro de diálogo **fuente** y presiona el botón **Aceptar** , la función [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) inicializa los miembros de una estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) con los atributos de la fuente solicitada.</span><span class="sxs-lookup"><span data-stu-id="a940e-110">After the user selects a font by using the **Font** dialog box and presses the **OK** button, the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function initializes the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure with the attributes of the requested font.</span></span> <span data-ttu-id="a940e-111">Para usar esta fuente para operaciones de salida de texto, una aplicación debe crear primero una fuente lógica y, a continuación, seleccionar esa fuente en su contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a940e-111">To use this font for text-output operations, an application must first create a logical font and then select that font into its device context.</span></span> <span data-ttu-id="a940e-112">Una *fuente lógica* es una descripción proporcionada por la aplicación de una fuente ideal.</span><span class="sxs-lookup"><span data-stu-id="a940e-112">A *logical font* is an application-supplied description of an ideal font.</span></span> <span data-ttu-id="a940e-113">Un desarrollador puede crear una fuente lógica llamando a las funciones [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) o [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) .</span><span class="sxs-lookup"><span data-stu-id="a940e-113">A developer can create a logical font by calling the [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) or the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) functions.</span></span> <span data-ttu-id="a940e-114">En este caso, la aplicación llamaría a [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) y proporcionara un puntero a la estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inicializada por [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta).</span><span class="sxs-lookup"><span data-stu-id="a940e-114">In this case, the application would call [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) and supply a pointer to the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure initialized by [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta).</span></span> <span data-ttu-id="a940e-115">En general, resulta más eficaz llamar a **CreateFontIndirect** porque [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) requiere varios parámetros, mientras que **CreateFontIndirect** solo requiere un puntero a **LOGFONT**.</span><span class="sxs-lookup"><span data-stu-id="a940e-115">In general, it is more efficient to call **CreateFontIndirect** because [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) requires several parameters while **CreateFontIndirect** requires only one pointer to **LOGFONT**.</span></span>

<span data-ttu-id="a940e-116">Antes de que una aplicación pueda comenzar a dibujar texto con una fuente lógica, debe encontrar la coincidencia más cercana de las fuentes almacenadas internamente en el dispositivo y las fuentes cuyos recursos se han cargado en el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a940e-116">Before an application can actually begin drawing text with a logical font, it must find the closest match from the fonts stored internally on the device and the fonts whose resources have been loaded into the operating system.</span></span> <span data-ttu-id="a940e-117">Las fuentes almacenadas en el dispositivo o en el sistema operativo se denominan *fuentes físicas*.</span><span class="sxs-lookup"><span data-stu-id="a940e-117">The fonts stored on the device or in the operating system are called *physical fonts*.</span></span> <span data-ttu-id="a940e-118">El proceso de búsqueda de la fuente física que más se aproxime a una fuente lógica especificada se denomina asignación de fuentes.</span><span class="sxs-lookup"><span data-stu-id="a940e-118">The process of finding the physical font that most closely matches a specified logical font is called font mapping.</span></span> <span data-ttu-id="a940e-119">Este proceso se produce cuando una aplicación llama a la función [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) y proporciona un identificador que identifica una fuente lógica.</span><span class="sxs-lookup"><span data-stu-id="a940e-119">This process occurs when an application calls the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function and supplies a handle identifying a logical font.</span></span> <span data-ttu-id="a940e-120">La asignación de fuentes se realiza mediante un algoritmo interno que compara los atributos de la fuente lógica solicitada con los atributos de las fuentes físicas disponibles.</span><span class="sxs-lookup"><span data-stu-id="a940e-120">Font mapping is performed by using an internal algorithm that compares the attributes of the requested logical font against the attributes of available physical fonts.</span></span> <span data-ttu-id="a940e-121">Cuando el algoritmo del asignador de fuentes completa su búsqueda y determina la coincidencia más cercana posible, la función [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject) devuelve y la aplicación puede empezar a dibujar texto con la nueva fuente.</span><span class="sxs-lookup"><span data-stu-id="a940e-121">When the font mapper algorithm completes its search and determines the closest possible match, the [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject) function returns and the application can begin drawing text with the new font.</span></span>

<span data-ttu-id="a940e-122">La función [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) especifica si el algoritmo del asignador de fuentes busca solo las fuentes físicas con relaciones de aspecto que coinciden con el dispositivo físico.</span><span class="sxs-lookup"><span data-stu-id="a940e-122">The [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) function specifies whether the font mapper algorithm searches only for physical fonts with aspect ratios that match the physical device.</span></span> <span data-ttu-id="a940e-123">La relación de aspecto de un dispositivo es la proporción formada por el ancho y el alto de un píxel en ese dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a940e-123">The aspect ratio for a device is the ratio formed by the width and the height of a pixel on that device.</span></span>

<span data-ttu-id="a940e-124">La fuente del sistema (también conocida como el shell o la fuente predeterminada) es la fuente usada para el texto de las barras de título, los menús y los cuadros de diálogo.</span><span class="sxs-lookup"><span data-stu-id="a940e-124">The system font (also known as the shell or default font) is the font used for text in the title bars, menus, and dialog boxes.</span></span>

## <a name="special-font-selection-considerations"></a><span data-ttu-id="a940e-125">Consideraciones sobre la selección de fuentes especiales</span><span class="sxs-lookup"><span data-stu-id="a940e-125">Special Font Selection Considerations</span></span>

<span data-ttu-id="a940e-126">Aunque la mayoría de las operaciones de selección de fuentes implican al usuario, hay algunos casos en los que esto no es cierto.</span><span class="sxs-lookup"><span data-stu-id="a940e-126">Although most font selection operations involve the user, there are some instances where this is not true.</span></span> <span data-ttu-id="a940e-127">Por ejemplo, es posible que un desarrollador desee usar una fuente única en una aplicación para dibujar texto en una ventana de control.</span><span class="sxs-lookup"><span data-stu-id="a940e-127">For example, a developer may want to use a unique font in an application to draw text in a control window.</span></span> <span data-ttu-id="a940e-128">Para seleccionar una fuente adecuada, la aplicación debe poder determinar qué fuentes están disponibles, crear una fuente lógica que describa una de estas fuentes disponibles y, a continuación, seleccionar esa fuente en el contexto de dispositivo adecuado.</span><span class="sxs-lookup"><span data-stu-id="a940e-128">To select an appropriate font, the application must be able to determine what fonts are available, create a logical font that describes one of these available fonts, and then select that font into the appropriate device context.</span></span>

<span data-ttu-id="a940e-129">Una aplicación puede enumerar las fuentes disponibles mediante las funciones [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) o [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) .</span><span class="sxs-lookup"><span data-stu-id="a940e-129">An application can enumerate the available fonts by using the [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) or [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) functions.</span></span> <span data-ttu-id="a940e-130">Se recomienda [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) porque enumera todos los estilos asociados a un nombre de familia.</span><span class="sxs-lookup"><span data-stu-id="a940e-130">[**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) is recommended because it enumerates all the styles associated with a family name.</span></span> <span data-ttu-id="a940e-131">Esto puede ser útil para fuentes con muchos o estilos inusuales y para fuentes que atraviesan bordes internacionales.</span><span class="sxs-lookup"><span data-stu-id="a940e-131">This can be useful for fonts with many or unusual styles and for fonts that cross international borders.</span></span>

<span data-ttu-id="a940e-132">Una vez que una aplicación ha enumerado las fuentes disponibles y encontrado una coincidencia adecuada, debe utilizar los valores devueltos por la función de enumeración Font para inicializar los miembros de una estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) .</span><span class="sxs-lookup"><span data-stu-id="a940e-132">Once an application has enumerated the available fonts and located an appropriate match, it should use the values returned by the font enumeration function to initialize the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="a940e-133">Después, puede llamar a la función [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) , pasándole un puntero a la estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inicializada.</span><span class="sxs-lookup"><span data-stu-id="a940e-133">Then it can call the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) function, passing to it a pointer to the initialized [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="a940e-134">Si la función [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) se ejecuta correctamente, la aplicación puede seleccionar la fuente lógica mediante una llamada a la función [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) .</span><span class="sxs-lookup"><span data-stu-id="a940e-134">If the [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) function is successful, the application can then select the logical font by calling the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function.</span></span> <span data-ttu-id="a940e-135">Al inicializar los miembros de la estructura **LOGFONT** , asegúrese de especificar un juego de caracteres específico en el miembro **lfCharSet** .</span><span class="sxs-lookup"><span data-stu-id="a940e-135">When initializing the members of the **LOGFONT** structure, be sure to specify a specific character set in the **lfCharSet** member.</span></span> <span data-ttu-id="a940e-136">Este miembro es importante en el proceso de asignación de fuentes y los resultados serán incoherentes si este miembro no se ha inicializado correctamente.</span><span class="sxs-lookup"><span data-stu-id="a940e-136">This member is important in the font mapping process and the results will be inconsistent if this member is not initialized correctly.</span></span> <span data-ttu-id="a940e-137">Si especifica un nombre de tipo de letra en el miembro **lfFaceName** de la estructura **LOGFONT** , asegúrese de que el valor **lfCharSet** coincide con el juego de caracteres del tipo de letra especificado en **lfFaceName**.</span><span class="sxs-lookup"><span data-stu-id="a940e-137">If you specify a typeface name in the **lfFaceName** member of the **LOGFONT** structure, make sure that the **lfCharSet** value matches the character set of the typeface specified in **lfFaceName**.</span></span> <span data-ttu-id="a940e-138">Por ejemplo, si desea seleccionar una fuente como MS Mincho, **lfCharSet** debe establecerse en el valor predefinido SHIFTJIS \_ CharSet.</span><span class="sxs-lookup"><span data-stu-id="a940e-138">For example, if you want to select a font such as MS Mincho, **lfCharSet** must be set to the predefined value SHIFTJIS\_CHARSET.</span></span>

<span data-ttu-id="a940e-139">Las fuentes de muchos idiomas de Asia oriental tienen dos nombres de tipo de letra: un nombre en inglés y un nombre localizado.</span><span class="sxs-lookup"><span data-stu-id="a940e-139">The fonts for many East Asian languages have two typeface names: an English name and a localized name.</span></span> <span data-ttu-id="a940e-140">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)y [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) toman el nombre de tipo de letra localizado para una configuración regional del sistema que coincida con el idioma, pero toman el nombre del tipo de letra inglés para todas las demás configuraciones regionales del sistema.</span><span class="sxs-lookup"><span data-stu-id="a940e-140">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) take the localized typeface name for a system locale that matches the language, but they take the English typeface name for all other system locales.</span></span> <span data-ttu-id="a940e-141">El mejor método es probar un nombre y, en caso de error, probar el otro.</span><span class="sxs-lookup"><span data-stu-id="a940e-141">The best method is to try one name and, on failure, try the other.</span></span> <span data-ttu-id="a940e-142">Tenga en cuenta que [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa)y [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) devuelven el nombre del tipo de letra inglés si la configuración regional del sistema no coincide con el idioma de la fuente.</span><span class="sxs-lookup"><span data-stu-id="a940e-142">Note that [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa), and [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) return the English typeface name if the system locale does not match the language of the font.</span></span> <span data-ttu-id="a940e-143">A partir de Windows 2000, esto ya no es un problema porque el asignador de fuentes para [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta)y [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) reconoce cualquier nombre de tipo de letra, independientemente de la configuración regional.</span><span class="sxs-lookup"><span data-stu-id="a940e-143">Starting with Windows 2000, this is no longer a problem because the font mapper for [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) recognizes either typeface name, regardless of locale.</span></span>

 

 
