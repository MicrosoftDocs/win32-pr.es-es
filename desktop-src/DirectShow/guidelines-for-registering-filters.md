---
description: Directrices para registrar filtros
ms.assetid: 05945937-9e01-4930-ae95-1931a711b55e
title: Directrices para registrar filtros
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5ed616d90c17d232995994d8ceccfdc72d022d56
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104151962"
---
# <a name="guidelines-for-registering-filters"></a><span data-ttu-id="ff10c-103">Directrices para registrar filtros</span><span class="sxs-lookup"><span data-stu-id="ff10c-103">Guidelines for Registering Filters</span></span>

<span data-ttu-id="ff10c-104">La información del registro de filtros determina cómo funciona el administrador de gráficos de filtro durante la [conexión inteligente](intelligent-connect.md).</span><span class="sxs-lookup"><span data-stu-id="ff10c-104">The filter registry information determines how the Filter Graph Manager functions during [Intelligent Connect](intelligent-connect.md).</span></span> <span data-ttu-id="ff10c-105">Por lo tanto, afecta a todas las aplicaciones escritas para DirectShow, no solo a las que usarán el filtro.</span><span class="sxs-lookup"><span data-stu-id="ff10c-105">Thus, it affects every application written for DirectShow, not just the ones that will use your filter.</span></span> <span data-ttu-id="ff10c-106">Debe asegurarse de que el filtro se comporta correctamente siguiendo estas instrucciones.</span><span class="sxs-lookup"><span data-stu-id="ff10c-106">You should make sure that your filter behaves correctly, by following these guidelines.</span></span>

1.  <span data-ttu-id="ff10c-107">¿Necesita los datos de filtro en el registro?</span><span class="sxs-lookup"><span data-stu-id="ff10c-107">Do you need the filter data in the registry?</span></span> <span data-ttu-id="ff10c-108">En el caso de muchos filtros personalizados, no hay ninguna razón para que el filtro sea visible para el asignador de filtros o el enumerador de dispositivos del sistema.</span><span class="sxs-lookup"><span data-stu-id="ff10c-108">For many custom filters, there is no reason to make the filter visible to the Filter Mapper or the System Device Enumerator.</span></span> <span data-ttu-id="ff10c-109">Siempre que registre el archivo DLL, la aplicación puede crear el filtro mediante **CoCreateInstance**.</span><span class="sxs-lookup"><span data-stu-id="ff10c-109">As long as you register the DLL, your application can create the filter using **CoCreateInstance**.</span></span> <span data-ttu-id="ff10c-110">En ese caso, simplemente omita la estructura del [**\_ filtro AMOVIESETUP**](amoviesetup-filter.md) de la plantilla de fábrica.</span><span class="sxs-lookup"><span data-stu-id="ff10c-110">In that case, simply omit the [**AMOVIESETUP\_FILTER**](amoviesetup-filter.md) structure from the factory template.</span></span> <span data-ttu-id="ff10c-111">(Una desventaja es que el filtro no será visible en GraphEdit.</span><span class="sxs-lookup"><span data-stu-id="ff10c-111">(One drawback is that your filter will not be visible in GraphEdit.</span></span> <span data-ttu-id="ff10c-112">Para solucionar este tema, puede crear una categoría de "pruebas" privada mediante el método [**IFilterMapper2:: CreateCategory**](/windows/desktop/api/Strmif/nf-strmif-ifiltermapper2-createcategory) .</span><span class="sxs-lookup"><span data-stu-id="ff10c-112">To get around this, you can create a private "Testing" category using the [**IFilterMapper2::CreateCategory**](/windows/desktop/api/Strmif/nf-strmif-ifiltermapper2-createcategory) method.</span></span> <span data-ttu-id="ff10c-113">Solo debe hacer esto para las compilaciones de depuración).</span><span class="sxs-lookup"><span data-stu-id="ff10c-113">You should only do this for debug builds.)</span></span>
2.  <span data-ttu-id="ff10c-114">Elija la categoría de filtro correcta.</span><span class="sxs-lookup"><span data-stu-id="ff10c-114">Choose the correct filter category.</span></span> <span data-ttu-id="ff10c-115">La categoría predeterminada "filtros de DirectShow" es para los filtros de uso general.</span><span class="sxs-lookup"><span data-stu-id="ff10c-115">The default "DirectShow Filters" category is for general purpose filters.</span></span> <span data-ttu-id="ff10c-116">Siempre que sea necesario, registre el filtro en una categoría más específica.</span><span class="sxs-lookup"><span data-stu-id="ff10c-116">Whenever appropriate, register your filter in a more specific category.</span></span> <span data-ttu-id="ff10c-117">Cuando [**IFilterMapper2**](/windows/desktop/api/Strmif/nn-strmif-ifiltermapper2) busca un filtro, omite cualquier categoría cuyo mérito sea mérito \_ \_ no \_ use o Less.</span><span class="sxs-lookup"><span data-stu-id="ff10c-117">When [**IFilterMapper2**](/windows/desktop/api/Strmif/nn-strmif-ifiltermapper2) searches for a filter, it ignores any category whose merit is MERIT\_DO\_NOT\_USE or less.</span></span> <span data-ttu-id="ff10c-118">Las categorías que no están destinadas a la reproducción normal tienen un mérito bajo.</span><span class="sxs-lookup"><span data-stu-id="ff10c-118">Categories not intended for normal playback have low merit.</span></span>
3.  <span data-ttu-id="ff10c-119">Evite especificar MEDIATYPE \_ None, MEDIASUBTYPE \_ None o GUID \_ null en la información de un valor de [**\_ mediatype de AMOVIESETUP**](amoviesetup-mediatype.md) para un PIN.</span><span class="sxs-lookup"><span data-stu-id="ff10c-119">Avoid specifying MEDIATYPE\_None, MEDIASUBTYPE\_None, or GUID\_NULL in the [**AMOVIESETUP\_MEDIATYPE**](amoviesetup-mediatype.md) information for a pin.</span></span> <span data-ttu-id="ff10c-120">**IFilterMapper2** los trata como caracteres comodín, lo que puede ralentizar el proceso de creación de gráficos.</span><span class="sxs-lookup"><span data-stu-id="ff10c-120">**IFilterMapper2** treats these as wildcards, which can slow the graph-building process.</span></span>
4.  <span data-ttu-id="ff10c-121">Elija el valor de mérito más bajo posible.</span><span class="sxs-lookup"><span data-stu-id="ff10c-121">Choose the lowest merit value possible.</span></span> <span data-ttu-id="ff10c-122">Estas son algunas directrices:</span><span class="sxs-lookup"><span data-stu-id="ff10c-122">Here are some guidelines:</span></span>

    | <span data-ttu-id="ff10c-123">Tipo de filtro</span><span class="sxs-lookup"><span data-stu-id="ff10c-123">Type of filter</span></span>                                                                                       | <span data-ttu-id="ff10c-124">Mérito recomendado</span><span class="sxs-lookup"><span data-stu-id="ff10c-124">Recommended merit</span></span>                                                                                   |
    |------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="ff10c-125">Representador predeterminado</span><span class="sxs-lookup"><span data-stu-id="ff10c-125">Default renderer</span></span>                                                                                     | <span data-ttu-id="ff10c-126">MÉRITO \_ recomendado.</span><span class="sxs-lookup"><span data-stu-id="ff10c-126">MERIT\_PREFERRED.</span></span> <span data-ttu-id="ff10c-127">En el caso de los tipos de medios estándar, sin embargo, un representador personalizado nunca debe ser el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="ff10c-127">For standard media types, however, a custom renderer should never be the default.</span></span> |
    | <span data-ttu-id="ff10c-128">Representador no predeterminado</span><span class="sxs-lookup"><span data-stu-id="ff10c-128">Non-default renderer</span></span>                                                                                 | <span data-ttu-id="ff10c-129">MÉRITO \_ \_ no se \_ utiliza o no es \_ probable que el mérito</span><span class="sxs-lookup"><span data-stu-id="ff10c-129">MERIT\_DO\_NOT\_USE or MERIT\_UNLIKELY</span></span>                                                              |
    | <span data-ttu-id="ff10c-130">MUX</span><span class="sxs-lookup"><span data-stu-id="ff10c-130">Mux</span></span>                                                                                                  | <span data-ttu-id="ff10c-131">MÉRITO \_ \_ no se \_ usa</span><span class="sxs-lookup"><span data-stu-id="ff10c-131">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="ff10c-132">Descodificador</span><span class="sxs-lookup"><span data-stu-id="ff10c-132">Decoder</span></span>                                                                                              | <span data-ttu-id="ff10c-133">MÉRITO \_ normal</span><span class="sxs-lookup"><span data-stu-id="ff10c-133">MERIT\_NORMAL</span></span>                                                                                       |
    | <span data-ttu-id="ff10c-134">Spitter, analizador</span><span class="sxs-lookup"><span data-stu-id="ff10c-134">Spitter, parser</span></span>                                                                                      | <span data-ttu-id="ff10c-135">MÉRITO \_ normal o inferior</span><span class="sxs-lookup"><span data-stu-id="ff10c-135">MERIT\_NORMAL or lower</span></span>                                                                              |
    | <span data-ttu-id="ff10c-136">Filtro de propósito especial; cualquier filtro creado directamente por la aplicación</span><span class="sxs-lookup"><span data-stu-id="ff10c-136">Special purpose filter; any filter that is created directly by the application</span></span>                       | <span data-ttu-id="ff10c-137">MÉRITO \_ \_ no se \_ usa</span><span class="sxs-lookup"><span data-stu-id="ff10c-137">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="ff10c-138">Capturar</span><span class="sxs-lookup"><span data-stu-id="ff10c-138">Capture</span></span>                                                                                              | <span data-ttu-id="ff10c-139">MÉRITO \_ \_ no se \_ usa</span><span class="sxs-lookup"><span data-stu-id="ff10c-139">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="ff10c-140">Filtro de "reserva"; por ejemplo, el [filtro del convertidor de espacio de colores](color-space-converter-filter.md)</span><span class="sxs-lookup"><span data-stu-id="ff10c-140">"Fallback" filter; for example, the [Color Space Converter Filter](color-space-converter-filter.md)</span></span> | <span data-ttu-id="ff10c-141">MÉRITO \_ improbable</span><span class="sxs-lookup"><span data-stu-id="ff10c-141">MERIT\_UNLIKELY</span></span>                                                                                     |

    

     

    <span data-ttu-id="ff10c-142">Si está asignando un filtro, no se debe \_ \_ \_ usar el mérito, tenga en cuenta si tiene que registrar esta información en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="ff10c-142">If you are giving a filter a merit of MERIT\_DO\_NOT\_USE, consider whether you need to register this information in the first place.</span></span> <span data-ttu-id="ff10c-143">(Vea el elemento 1).</span><span class="sxs-lookup"><span data-stu-id="ff10c-143">(See item 1.)</span></span>

5.  <span data-ttu-id="ff10c-144">No registre un filtro en la categoría "filtros de DirectShow" que acepte RGB de 24 bits.</span><span class="sxs-lookup"><span data-stu-id="ff10c-144">Do not register a filter in the "DirectShow Filters" category that accepts 24-bit RGB.</span></span> <span data-ttu-id="ff10c-145">El filtro interferirá con el filtro del convertidor de espacio de colores.</span><span class="sxs-lookup"><span data-stu-id="ff10c-145">Your filter will interfere with the Color Space Converter filter.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ff10c-146">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ff10c-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ff10c-147">Cómo registrar filtros de DirectShow</span><span class="sxs-lookup"><span data-stu-id="ff10c-147">How to Register DirectShow Filters</span></span>](how-to-register-directshow-filters.md)
</dt> </dl>

 

 



