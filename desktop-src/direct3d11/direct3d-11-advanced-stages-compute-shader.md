---
title: Información general del sombreador de cálculo
description: Un sombreador de cálculo es una fase de sombreador programable que amplía Microsoft Direct3D 11 más allá de la programación de gráficos. La tecnología del sombreador de cálculo también se conoce como tecnología DirectCompute.
ms.assetid: 02c1f98e-fdd6-49b0-b8b2-efbd472ab599
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 67c890e63b468a993e0d08f678d2276d6ce2adad
ms.sourcegitcommit: 73417d55867c804274a55abe5ca71bcba7006119
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/20/2020
ms.locfileid: "103797217"
---
# <a name="compute-shader-overview"></a><span data-ttu-id="5938d-104">Información general del sombreador de cálculo</span><span class="sxs-lookup"><span data-stu-id="5938d-104">Compute Shader Overview</span></span>

<span data-ttu-id="5938d-105">Un sombreador de cálculo es una fase de sombreador programable que amplía Microsoft Direct3D 11 más allá de la programación de gráficos.</span><span class="sxs-lookup"><span data-stu-id="5938d-105">A compute shader is a programmable shader stage that expands Microsoft Direct3D 11 beyond graphics programming.</span></span> <span data-ttu-id="5938d-106">La tecnología del sombreador de cálculo también se conoce como tecnología DirectCompute.</span><span class="sxs-lookup"><span data-stu-id="5938d-106">The compute shader technology is also known as the DirectCompute technology.</span></span>

<span data-ttu-id="5938d-107">Al igual que otros sombreadores programables (por ejemplo, los sombreadores de vértices y de geometría), un sombreador de cálculo se ha diseñado e implementado con [HLSL](/windows/desktop/direct3dhlsl/dx-graphics-hlsl) , pero es precisamente donde finaliza la similitud.</span><span class="sxs-lookup"><span data-stu-id="5938d-107">Like other programmable shaders (vertex and geometry shaders for example), a compute shader is designed and implemented with [HLSL](/windows/desktop/direct3dhlsl/dx-graphics-hlsl) but that is just about where the similarity ends.</span></span> <span data-ttu-id="5938d-108">Un sombreador de cálculo proporciona una informática de uso general de alta velocidad y aprovecha el gran número de procesadores en paralelo de la unidad de procesamiento de gráficos (GPU).</span><span class="sxs-lookup"><span data-stu-id="5938d-108">A compute shader provides high-speed general purpose computing and takes advantage of the large numbers of parallel processors on the graphics processing unit (GPU).</span></span> <span data-ttu-id="5938d-109">El sombreador de cálculo proporciona características de uso compartido de memoria y sincronización de subprocesos para permitir métodos de programación paralelas más eficaces.</span><span class="sxs-lookup"><span data-stu-id="5938d-109">The compute shader provides memory sharing and thread synchronization features to allow more effective parallel programming methods.</span></span> <span data-ttu-id="5938d-110">Llame al método [**ID3D11DeviceContext::D ispatch**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-dispatch) o [**ID3D11DeviceContext::D ispatchindirect**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-dispatchindirect) para ejecutar comandos en un sombreador de cálculo.</span><span class="sxs-lookup"><span data-stu-id="5938d-110">You call the [**ID3D11DeviceContext::Dispatch**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-dispatch) or [**ID3D11DeviceContext::DispatchIndirect**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-dispatchindirect) method to execute commands in a compute shader.</span></span> <span data-ttu-id="5938d-111">Un sombreador de cálculo puede ejecutarse en muchos subprocesos en paralelo.</span><span class="sxs-lookup"><span data-stu-id="5938d-111">A compute shader can run on many threads in parallel.</span></span>

## <a name="using-compute-shader-on-direct3d-10x-hardware"></a><span data-ttu-id="5938d-112">Usar el sombreador de cálculo en hardware de Direct3D 10. x</span><span class="sxs-lookup"><span data-stu-id="5938d-112">Using Compute Shader on Direct3D 10.x Hardware</span></span>

<span data-ttu-id="5938d-113">Un sombreador de cálculo en Microsoft Direct3D 10 también se conoce como DirectCompute 4. x.</span><span class="sxs-lookup"><span data-stu-id="5938d-113">A compute shader on Microsoft Direct3D 10 is also known as DirectCompute 4.x.</span></span>

<span data-ttu-id="5938d-114">Si usa la API de Direct3D 11 y controladores actualizados, el hardware de Direct3D de [nivel de característica](overviews-direct3d-11-devices-downlevel-intro.md) 10 y 10,1 puede admitir opcionalmente una forma limitada de DirectCompute que usa los \_ perfiles CS 4 \_ 0 y CS \_ 4 \_ 1. [](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-models)</span><span class="sxs-lookup"><span data-stu-id="5938d-114">If you use the Direct3D 11 API and updated drivers, [feature level](overviews-direct3d-11-devices-downlevel-intro.md) 10 and 10.1 Direct3D hardware can optionally support a limited form of DirectCompute that uses the cs\_4\_0 and cs\_4\_1 [profiles](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-models).</span></span> <span data-ttu-id="5938d-115">Al usar DirectCompute en este hardware, tenga en cuenta las siguientes limitaciones:</span><span class="sxs-lookup"><span data-stu-id="5938d-115">When you use DirectCompute on this hardware, keep the following limitations in mind:</span></span>

-   <span data-ttu-id="5938d-116">El número máximo de subprocesos está limitado a los subprocesos máximos de grupo de subprocesos de D3D11 \_ CS \_ 4 \_ X \_ \_ \_ \_ \_ por \_ grupo (768) por grupo.</span><span class="sxs-lookup"><span data-stu-id="5938d-116">The maximum number of threads is limited to D3D11\_CS\_4\_X\_THREAD\_GROUP\_MAX\_THREADS\_PER\_GROUP (768) per group.</span></span>
-   <span data-ttu-id="5938d-117">La dimensión X e y de **numthreads** está limitada a D3D11 \_ CS \_ 4 \_ x \_ grupo de subprocesos \_ \_ \_ x (768) y D3D11 \_ CS \_ 4 \_ x \_ número máximo de subprocesos \_ \_ \_ y (768).</span><span class="sxs-lookup"><span data-stu-id="5938d-117">The X and Y dimension of **numthreads** is limited to D3D11\_CS\_4\_X\_THREAD\_GROUP\_MAX\_X (768) and D3D11\_CS\_4\_X\_THREAD\_GROUP\_MAX\_Y (768).</span></span>
-   <span data-ttu-id="5938d-118">La dimensión Z de **numthreads** está limitada a 1.</span><span class="sxs-lookup"><span data-stu-id="5938d-118">The Z dimension of **numthreads** is limited to 1.</span></span>
-   <span data-ttu-id="5938d-119">La dimensión Z de Dispatch se limita a D3D11 \_ CS \_ 4 \_ X \_ Dispatch \_ Max \_ Thread \_ Groups \_ en \_ Z \_ Dimension (1).</span><span class="sxs-lookup"><span data-stu-id="5938d-119">The Z dimension of dispatch is limited to D3D11\_CS\_4\_X\_DISPATCH\_MAX\_THREAD\_GROUPS\_IN\_Z\_DIMENSION (1).</span></span>
-   <span data-ttu-id="5938d-120">Solo se puede enlazar una vista de acceso sin ordenar al sombreador (el número de registros de D3D11 \_ CS \_ 4 \_ X \_ UAV \_ \_ es 1).</span><span class="sxs-lookup"><span data-stu-id="5938d-120">Only one unordered-access view can be bound to the shader (D3D11\_CS\_4\_X\_UAV\_REGISTER\_COUNT is 1).</span></span>
-   <span data-ttu-id="5938d-121">Solo [RWStructuredBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwstructuredbuffer)s y [RWByteAddressBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer)s están disponibles como vistas de acceso desordenado.</span><span class="sxs-lookup"><span data-stu-id="5938d-121">Only [RWStructuredBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwstructuredbuffer)s and [RWByteAddressBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer)s are available as unordered-access views.</span></span>
-   <span data-ttu-id="5938d-122">Un subproceso solo puede tener acceso a su propia región en la memoria de groupshared para escritura, aunque puede leer desde cualquier ubicación.</span><span class="sxs-lookup"><span data-stu-id="5938d-122">A thread can only access its own region in groupshared memory for writing, though it can read from any location.</span></span>
-   <span data-ttu-id="5938d-123">[SV \_](/previous-versions/windows/desktop/legacy/ff471569(v=vs.85)) Se debe usar GroupIndex o [SV \_ DispatchThreadID](/windows/desktop/direct3dhlsl/sv-dispatchthreadid) al tener acceso a la memoria **groupshared** para escritura.</span><span class="sxs-lookup"><span data-stu-id="5938d-123">[SV\_GroupIndex](/previous-versions/windows/desktop/legacy/ff471569(v=vs.85)) or [SV\_DispatchThreadID](/windows/desktop/direct3dhlsl/sv-dispatchthreadid) must be used when accessing **groupshared** memory for writing.</span></span>
-   <span data-ttu-id="5938d-124">La memoria de **Groupshared** está limitada a 16 KB por grupo.</span><span class="sxs-lookup"><span data-stu-id="5938d-124">**Groupshared** memory is limited to 16KB per group.</span></span>
-   <span data-ttu-id="5938d-125">Un solo subproceso se limita a una región de 256 bytes de memoria **groupshared** para escritura.</span><span class="sxs-lookup"><span data-stu-id="5938d-125">A single thread is limited to a 256 byte region of **groupshared** memory for writing.</span></span>
-   <span data-ttu-id="5938d-126">No hay instrucciones atómicas disponibles.</span><span class="sxs-lookup"><span data-stu-id="5938d-126">No atomic instructions are available.</span></span>
-   <span data-ttu-id="5938d-127">No hay valores de precisión doble disponibles.</span><span class="sxs-lookup"><span data-stu-id="5938d-127">No double-precision values are available.</span></span>

## <a name="using-compute-shader-on-direct3d-11x-hardware"></a><span data-ttu-id="5938d-128">Usar el sombreador de cálculo en hardware de Direct3D 11. x</span><span class="sxs-lookup"><span data-stu-id="5938d-128">Using Compute Shader on Direct3D 11.x Hardware</span></span>

<span data-ttu-id="5938d-129">Un sombreador de cálculo en Direct3D 11 también se conoce como DirectCompute 5,0.</span><span class="sxs-lookup"><span data-stu-id="5938d-129">A compute shader on Direct3D 11 is also known as DirectCompute 5.0.</span></span>

<span data-ttu-id="5938d-130">Cuando use DirectCompute con perfiles CS \_ 5 \_ 0 [](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-models), tenga en cuenta los siguientes elementos:</span><span class="sxs-lookup"><span data-stu-id="5938d-130">When you use DirectCompute with cs\_5\_0 [profiles](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-models), keep the following items in mind:</span></span>

-   <span data-ttu-id="5938d-131">El número máximo de subprocesos se limita al grupo de subprocesos máximo de D3D11 \_ CS \_ \_ \_ \_ \_ por \_ grupo (1024) por grupo.</span><span class="sxs-lookup"><span data-stu-id="5938d-131">The maximum number of threads is limited to D3D11\_CS\_THREAD\_GROUP\_MAX\_THREADS\_PER\_GROUP (1024) per group.</span></span>
-   <span data-ttu-id="5938d-132">La dimensión X e y de **numthreads** se limita al \_ grupo de \_ subprocesos de D3D11 cs \_ \_ Max \_ X (1024) y al \_ grupo de subprocesos de D3D11 CS \_ \_ \_ Max \_ y (1024).</span><span class="sxs-lookup"><span data-stu-id="5938d-132">The X and Y dimension of **numthreads** is limited to D3D11\_CS\_THREAD\_GROUP\_MAX\_X (1024) and D3D11\_CS\_THREAD\_GROUP\_MAX\_Y (1024).</span></span>
-   <span data-ttu-id="5938d-133">La dimensión Z de **numthreads** se limita al \_ grupo de \_ subprocesos de D3D11 CS \_ \_ Max \_ Z (64).</span><span class="sxs-lookup"><span data-stu-id="5938d-133">The Z dimension of **numthreads** is limited to D3D11\_CS\_THREAD\_GROUP\_MAX\_Z (64).</span></span>
-   <span data-ttu-id="5938d-134">La dimensión máxima de Dispatch está limitada a D3D11 \_ CS \_ Dispatch \_ Max \_ Thread \_ groups \_ per \_ Dimension (65535).</span><span class="sxs-lookup"><span data-stu-id="5938d-134">The maximum dimension of dispatch is limited to D3D11\_CS\_DISPATCH\_MAX\_THREAD\_GROUPS\_PER\_DIMENSION (65535).</span></span>
-   <span data-ttu-id="5938d-135">El número máximo de vistas de acceso desordenado que se pueden enlazar a un sombreador es D3D11 \_ PS \_ CS \_ UAV \_ Register \_ Count (8).</span><span class="sxs-lookup"><span data-stu-id="5938d-135">The maximum number of unordered-access views that can be bound to a shader is D3D11\_PS\_CS\_UAV\_REGISTER\_COUNT (8).</span></span>
-   <span data-ttu-id="5938d-136">Admite [RWStructuredBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwstructuredbuffer)s, [RWByteAddressBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer)s y vistas de acceso desordenado con tipo ([RWTexture1D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture1d), [RWTexture2D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture2d), [RWTexture3D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture3d), etc.).</span><span class="sxs-lookup"><span data-stu-id="5938d-136">Supports [RWStructuredBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwstructuredbuffer)s, [RWByteAddressBuffer](/windows/desktop/direct3dhlsl/sm5-object-rwbyteaddressbuffer)s, and typed unordered-access views ([RWTexture1D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture1d), [RWTexture2D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture2d), [RWTexture3D](/windows/desktop/direct3dhlsl/sm5-object-rwtexture3d), and so on).</span></span>
-   <span data-ttu-id="5938d-137">Hay instrucciones atómicas disponibles.</span><span class="sxs-lookup"><span data-stu-id="5938d-137">Atomic instructions are available.</span></span>
-   <span data-ttu-id="5938d-138">La compatibilidad de doble precisión podría estar disponible.</span><span class="sxs-lookup"><span data-stu-id="5938d-138">Double-precision support might be available.</span></span> <span data-ttu-id="5938d-139">Para obtener información sobre cómo determinar si la precisión doble está disponible, vea [**la \_ característica D3D11 \_ dobles**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_feature).</span><span class="sxs-lookup"><span data-stu-id="5938d-139">For information about how to determine whether double-precision is available, see [**D3D11\_FEATURE\_DOUBLES**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_feature).</span></span>

## <a name="in-this-section"></a><span data-ttu-id="5938d-140">En esta sección</span><span class="sxs-lookup"><span data-stu-id="5938d-140">In this section</span></span>



| <span data-ttu-id="5938d-141">Tema</span><span class="sxs-lookup"><span data-stu-id="5938d-141">Topic</span></span>                                                                              | <span data-ttu-id="5938d-142">Descripción</span><span class="sxs-lookup"><span data-stu-id="5938d-142">Description</span></span>                                                                                                                                                                                                                                                           |
|------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="5938d-143">Nuevos tipos de recursos</span><span class="sxs-lookup"><span data-stu-id="5938d-143">New Resource Types</span></span>](direct3d-11-advanced-stages-cs-resources.md)<br/>      | <span data-ttu-id="5938d-144">Se han agregado varios tipos de recursos nuevos en Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="5938d-144">Several new resource types have been added in Direct3D 11.</span></span><br/>                                                                                                                                                                                                 |
| [<span data-ttu-id="5938d-145">Acceso a recursos</span><span class="sxs-lookup"><span data-stu-id="5938d-145">Accessing Resources</span></span>](direct3d-11-advanced-stages-cs-access.md)<br/>        | <span data-ttu-id="5938d-146">Hay varias maneras de tener acceso a [los recursos](overviews-direct3d-11-resources-types.md).</span><span class="sxs-lookup"><span data-stu-id="5938d-146">There are several ways to access [resources](overviews-direct3d-11-resources-types.md).</span></span><br/>                                                                                                                                                                   |
| [<span data-ttu-id="5938d-147">Funciones atómicas</span><span class="sxs-lookup"><span data-stu-id="5938d-147">Atomic Functions</span></span>](direct3d-11-advanced-stages-cs-atomic-functions.md)<br/> | <span data-ttu-id="5938d-148">Para tener acceso a un nuevo tipo de recurso o a la memoria compartida, use una función intrínseca entrelazada.</span><span class="sxs-lookup"><span data-stu-id="5938d-148">To access a new resource type or shared memory, use an interlocked intrinsic function.</span></span> <span data-ttu-id="5938d-149">Se garantiza que las funciones entrelazadas funcionen de forma atómica.</span><span class="sxs-lookup"><span data-stu-id="5938d-149">Interlocked functions are guaranteed to operate atomically.</span></span> <span data-ttu-id="5938d-150">Es decir, se garantiza que se produzcan en el orden programado.</span><span class="sxs-lookup"><span data-stu-id="5938d-150">That is, they are guaranteed to occur in the order programmed.</span></span> <span data-ttu-id="5938d-151">En esta sección se enumeran las funciones atómicas.</span><span class="sxs-lookup"><span data-stu-id="5938d-151">This section lists the atomic functions.</span></span><br/> |



 

## <a name="related-topics"></a><span data-ttu-id="5938d-152">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="5938d-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5938d-153">Canalización de gráficos</span><span class="sxs-lookup"><span data-stu-id="5938d-153">Graphics Pipeline</span></span>](overviews-direct3d-11-graphics-pipeline.md)
</dt> <dt>

[<span data-ttu-id="5938d-154">Cómo: crear un sombreador de cálculo</span><span class="sxs-lookup"><span data-stu-id="5938d-154">How To: Create a Compute Shader</span></span>](direct3d-11-advanced-stages-compute-create.md)
</dt> </dl>

 

