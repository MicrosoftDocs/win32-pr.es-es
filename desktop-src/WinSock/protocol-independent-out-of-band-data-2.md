---
description: La abstracción de sockets de secuencia incluye la noción de datos fuera de banda (OOB).
ms.assetid: 1a517885-2688-421f-9389-2d329e5c3d56
title: Protocol-Independent datos fuera de banda
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a929f4273d9cc9f268a296b711649406622ca9b4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104360293"
---
# <a name="protocol-independent-out-of-band-data"></a><span data-ttu-id="16028-103">Protocol-Independent datos fuera de banda</span><span class="sxs-lookup"><span data-stu-id="16028-103">Protocol-Independent Out-of-Band Data</span></span>

<span data-ttu-id="16028-104">La abstracción de sockets de secuencia incluye la noción de datos fuera de banda (OOB).</span><span class="sxs-lookup"><span data-stu-id="16028-104">The stream socket abstraction includes the notion of out of band (OOB) data.</span></span> <span data-ttu-id="16028-105">Muchos protocolos permiten marcar partes de los datos entrantes como especiales de algún modo, y estos bloques de datos especiales se pueden entregar al usuario fuera de la secuencia normal.</span><span class="sxs-lookup"><span data-stu-id="16028-105">Many protocols allow portions of incoming data to be marked as special in some way, and these special data blocks can be delivered to the user out of the normal sequence.</span></span> <span data-ttu-id="16028-106">Entre los ejemplos se incluyen datos expedidos en X. 25 y otros protocolos OSI, y datos urgentes en el uso de TCP en BSD UNIX.</span><span class="sxs-lookup"><span data-stu-id="16028-106">Examples include expedited data in X.25 and other OSI protocols, and urgent data in BSD UNIX's use of TCP.</span></span> <span data-ttu-id="16028-107">En la siguiente sección se describe el control de datos OOB de manera independiente del protocolo.</span><span class="sxs-lookup"><span data-stu-id="16028-107">The following section describes OOB data handling in a protocol-independent manner.</span></span> <span data-ttu-id="16028-108">Una descripción de los datos de OOB implementados mediante datos urgentes de TCP sigue la explicación independiente del protocolo.</span><span class="sxs-lookup"><span data-stu-id="16028-108">A discussion of OOB data implemented using TCP urgent data follows the protocol-independent explanation.</span></span> <span data-ttu-id="16028-109">En cada debate, el uso de [**RECV**](/windows/desktop/api/winsock/nf-winsock-recv) también implica [**recvfrom**](/windows/desktop/api/winsock/nf-winsock-recvfrom), [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv)y [**WSARecvFrom**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecvfrom), y las referencias a [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) también se aplican a [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect).</span><span class="sxs-lookup"><span data-stu-id="16028-109">In each discussion, the use of [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) also implies [**recvfrom**](/windows/desktop/api/winsock/nf-winsock-recvfrom), [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), and [**WSARecvFrom**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecvfrom), and references to [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) also apply to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect).</span></span>

## <a name="protocol-independent-oob-data"></a><span data-ttu-id="16028-110">Datos OOB independientes del Protocolo</span><span class="sxs-lookup"><span data-stu-id="16028-110">Protocol Independent OOB Data</span></span>

<span data-ttu-id="16028-111">Los datos OOB son un canal de transmisión independiente lógicamente asociado a cada par de sockets de secuencias conectados.</span><span class="sxs-lookup"><span data-stu-id="16028-111">OOB data is a logically independent transmission channel associated with each pair of connected stream sockets.</span></span> <span data-ttu-id="16028-112">Los datos OOB se pueden entregar al usuario independientemente de los datos normales.</span><span class="sxs-lookup"><span data-stu-id="16028-112">OOB data may be delivered to the user independently of normal data.</span></span> <span data-ttu-id="16028-113">La abstracción define que los servicios de datos OOB deben admitir la entrega confiable de al menos un bloque de datos OOB a la vez.</span><span class="sxs-lookup"><span data-stu-id="16028-113">The abstraction defines that the OOB data facilities must support the reliable delivery of at least one OOB data block at a time.</span></span> <span data-ttu-id="16028-114">Este bloque de datos puede contener al menos un byte de datos, y al menos un bloque de datos OOB puede estar pendiente de entrega al usuario en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="16028-114">This data block can contain at least one byte of data, and at least one OOB data block can be pending delivery to the user at any one time.</span></span> <span data-ttu-id="16028-115">En el caso de los protocolos de comunicaciones que admiten la señalización en banda (como TCP, donde los datos urgentes se entregan en secuencia con los datos normales), el sistema normalmente extrae los datos OOB del flujo de datos normal y los almacena por separado (quedando un hueco en el flujo de datos normal).</span><span class="sxs-lookup"><span data-stu-id="16028-115">For communications protocols that support in-band signaling (such as TCP, where the urgent data is delivered in sequence with the normal data), the system normally extracts the OOB data from the normal data stream and stores it separately (leaving a gap in the normal data stream).</span></span> <span data-ttu-id="16028-116">Esto permite a los usuarios elegir entre recibir los datos OOB en orden y recibirlos fuera de secuencia sin tener que almacenar en búfer todos los datos que intervienen.</span><span class="sxs-lookup"><span data-stu-id="16028-116">This allows users to choose between receiving the OOB data in order and receiving it out of sequence without having to buffer all the intervening data.</span></span> <span data-ttu-id="16028-117">Es posible ver los datos fuera de banda (OOB).</span><span class="sxs-lookup"><span data-stu-id="16028-117">It is possible to peek at out-of-band (OOB) data.</span></span>

<span data-ttu-id="16028-118">Un usuario puede determinar si algún dato OOB está esperando para ser leído mediante la función [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) o [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) con el ioctl **SIOCATMARK** .</span><span class="sxs-lookup"><span data-stu-id="16028-118">A user can determine if any OOB data is waiting to be read using the [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) or [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function with the **SIOCATMARK** IOCTL.</span></span> <span data-ttu-id="16028-119">En el caso de los protocolos en los que el concepto de la posición del bloque de datos OOB dentro del flujo de datos normal es significativo, como TCP, un proveedor de servicios de Windows Sockets mantiene un marcador conceptual que indica la posición del último byte de los datos OOB en el flujo de datos normal.</span><span class="sxs-lookup"><span data-stu-id="16028-119">For protocols where the concept of the position of the OOB data block within the normal data stream is meaningful, such as TCP, a Windows Sockets service provider maintains a conceptual marker indicating the position of the last byte of OOB data within the normal data stream.</span></span> <span data-ttu-id="16028-120">Esto no es necesario para la implementación de las funciones **ioctlsocket** o **WSAIoctl** que admiten **SIOCATMARK**.</span><span class="sxs-lookup"><span data-stu-id="16028-120">This is not necessary for the implementation of the **ioctlsocket** or **WSAIoctl** functions that support **SIOCATMARK**.</span></span> <span data-ttu-id="16028-121">La presencia o ausencia de datos OOB es obligatoria.</span><span class="sxs-lookup"><span data-stu-id="16028-121">The presence or absence of OOB data is all is required.</span></span>

<span data-ttu-id="16028-122">En el caso de los protocolos en los que el concepto de la posición del bloque de datos OOB dentro del flujo de datos normal es significativo, una aplicación podría procesar los datos fuera de banda en línea, como parte del flujo de datos normal.</span><span class="sxs-lookup"><span data-stu-id="16028-122">For protocols where the concept of the position of the OOB data block within the normal data stream is meaningful, an application might process out-of-band data inline, as part of the normal data stream.</span></span> <span data-ttu-id="16028-123">Esto se consigue estableciendo la opción de socket de modo que \_ OOBINLINE [](/windows/desktop/api/winsock/nf-winsock-setsockopt) con la función de la función de la.</span><span class="sxs-lookup"><span data-stu-id="16028-123">This is achieved by setting the socket option SO\_OOBINLINE with the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function.</span></span> <span data-ttu-id="16028-124">En el caso de otros protocolos en los que los bloques de datos OOB son verdaderamente independientes del flujo de datos normal, si se intenta establecer el valor de OOBINLINE, se \_ producirá un error.</span><span class="sxs-lookup"><span data-stu-id="16028-124">For other protocols where the OOB data blocks are truly independent of the normal data stream, attempting to set SO\_OOBINLINE results in an error.</span></span> <span data-ttu-id="16028-125">Una aplicación puede usar la función [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) o [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) con el ioctl **SIOCATMARK** para determinar si hay algún dato OOB de no lectura antes de la marca.</span><span class="sxs-lookup"><span data-stu-id="16028-125">An application can use the [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) or [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function with the **SIOCATMARK** IOCTL to determine whether there is any unread OOB data preceding the mark.</span></span> <span data-ttu-id="16028-126">Por ejemplo, puede usar esta información para volver a sincronizar con su elemento del mismo nivel asegurándose de que todos los datos hasta la marca del flujo de datos se descartan cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="16028-126">For example, it can use this information to resynchronize with its peer by ensuring that all data up to the mark in the data stream is discarded when appropriate.</span></span>

<span data-ttu-id="16028-127">Con SO \_ OOBINLINE deshabilitado (la configuración predeterminada):</span><span class="sxs-lookup"><span data-stu-id="16028-127">With SO\_OOBINLINE disabled (the default setting):</span></span>

-   <span data-ttu-id="16028-128">Windows Sockets notifica a una aplicación de un \_ evento FD OOB, si la aplicación se registra para recibir notificaciones con [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect), exactamente de la misma manera \_ que se usa FD Read para notificar la presencia de datos normales.</span><span class="sxs-lookup"><span data-stu-id="16028-128">Windows Sockets notifies an application of an FD\_OOB event, if the application registered for notification with [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect), in exactly the same way FD\_READ is used to notify of the presence of normal data.</span></span> <span data-ttu-id="16028-129">Es decir, \_ se publica FD OOB cuando llegan datos OOB sin datos OOB previamente puestos en cola.</span><span class="sxs-lookup"><span data-stu-id="16028-129">That is, FD\_OOB is posted when OOB data arrives with no OOB data previously queued.</span></span> <span data-ttu-id="16028-130">El FD \_ OOB también se publica cuando se leen los datos mediante la \_ marca de mensaje OOB mientras algunos datos de OOB permanecen en la cola después de que se haya devuelto la operación de lectura.</span><span class="sxs-lookup"><span data-stu-id="16028-130">The FD\_OOB is also posted when data is read using the MSG\_OOB flag while some OOB data remains queued after the read operation has returned.</span></span> <span data-ttu-id="16028-131">\_Los mensajes de lectura FD no se publican para los datos OOB.</span><span class="sxs-lookup"><span data-stu-id="16028-131">FD\_READ messages are not posted for OOB data.</span></span>
-   <span data-ttu-id="16028-132">Windows Sockets vuelve de [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) con el conjunto de sockets de *exceptfds* adecuado si los datos de OOB se ponen en cola en el socket.</span><span class="sxs-lookup"><span data-stu-id="16028-132">Windows Sockets returns from [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) with the appropriate *exceptfds* socket set if OOB data is queued on the socket.</span></span>
-   <span data-ttu-id="16028-133">La aplicación puede llamar a [**RECV**](/windows/desktop/api/winsock/nf-winsock-recv) con el mensaje \_ OOB para leer el bloque de datos urgentes en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="16028-133">The application can call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) with MSG\_OOB to read the urgent data block at any time.</span></span> <span data-ttu-id="16028-134">El bloque de datos OOB salta la cola.</span><span class="sxs-lookup"><span data-stu-id="16028-134">The block of OOB data jumps the queue.</span></span>
-   <span data-ttu-id="16028-135">La aplicación puede llamar a [**RECV**](/windows/desktop/api/winsock/nf-winsock-recv) sin msg \_ OOB para leer el flujo de datos normal.</span><span class="sxs-lookup"><span data-stu-id="16028-135">The application can call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) without MSG\_OOB to read the normal data stream.</span></span> <span data-ttu-id="16028-136">El bloque de datos OOB no aparece en el flujo de datos con datos normales.</span><span class="sxs-lookup"><span data-stu-id="16028-136">The OOB data block does not appear in the data stream with normal data.</span></span> <span data-ttu-id="16028-137">Si los datos OOB permanecen después de cualquier llamada a **RECV**, Windows Sockets notifica a la aplicación con FD \_ OOB o con *exceptfds* cuando se usa [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select).</span><span class="sxs-lookup"><span data-stu-id="16028-137">If OOB data remains after any call to **recv**, Windows Sockets notifies the application with FD\_OOB or with *exceptfds* when using [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select).</span></span>
-   <span data-ttu-id="16028-138">En el caso de los protocolos en los que los datos OOB tienen una posición dentro del flujo de datos normal, una única operación [**recibida**](/windows/desktop/api/winsock/nf-winsock-recv) no abarca esa posición.</span><span class="sxs-lookup"><span data-stu-id="16028-138">For protocols where the OOB data has a position within the normal data stream, a single [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operation does not span that position.</span></span> <span data-ttu-id="16028-139">Un **RECV** devuelve los datos normales antes de la marca y se requiere una segunda instrucción **RECV** para empezar a leer los datos después de la marca.</span><span class="sxs-lookup"><span data-stu-id="16028-139">One **recv** returns the normal data before the mark, and a second **recv** is required to begin reading data after the mark.</span></span>

<span data-ttu-id="16028-140">Con SO \_ OOBINLINE habilitado:</span><span class="sxs-lookup"><span data-stu-id="16028-140">With SO\_OOBINLINE enabled:</span></span>

-   <span data-ttu-id="16028-141">\_Los mensajes de FD OOB no se publican para los datos OOB.</span><span class="sxs-lookup"><span data-stu-id="16028-141">FD\_OOB messages are not posted for OOB data.</span></span> <span data-ttu-id="16028-142">Los datos OOB se tratan como normales para el propósito de las funciones [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) y [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) , y se indican mediante el establecimiento del socket en *readfds* o mediante el envío de un mensaje de \_ lectura FD respectivamente.</span><span class="sxs-lookup"><span data-stu-id="16028-142">OOB data is treated as normal for the purpose of the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) and [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) functions, and indicated by setting the socket in *readfds* or by sending an FD\_READ message respectively.</span></span>
-   <span data-ttu-id="16028-143">La aplicación no puede llamar a [**RECV**](/windows/desktop/api/winsock/nf-winsock-recv) con la marca de mensaje \_ OOB establecida para leer el bloque de datos OOB.</span><span class="sxs-lookup"><span data-stu-id="16028-143">The application cannot call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) with the MSG\_OOB flag set to read the OOB data block.</span></span> <span data-ttu-id="16028-144">Se devuelve el código de error WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="16028-144">The error code WSAEINVAL is returned.</span></span>
-   <span data-ttu-id="16028-145">La aplicación puede llamar a [**RECV**](/windows/desktop/api/winsock/nf-winsock-recv) sin la \_ marca OOB de MSG establecida.</span><span class="sxs-lookup"><span data-stu-id="16028-145">The application can call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) without the MSG\_OOB flag set.</span></span> <span data-ttu-id="16028-146">Los datos OOB se entregan en su orden correcto en el flujo de datos normal.</span><span class="sxs-lookup"><span data-stu-id="16028-146">Any OOB data is delivered in its correct order within the normal data stream.</span></span> <span data-ttu-id="16028-147">Los datos OOB nunca se mezclan con datos normales.</span><span class="sxs-lookup"><span data-stu-id="16028-147">OOB data is never mixed with normal data.</span></span> <span data-ttu-id="16028-148">Debe haber tres solicitudes de lectura para poder más allá de los datos OOB.</span><span class="sxs-lookup"><span data-stu-id="16028-148">There must be three read requests to get past the OOB data.</span></span> <span data-ttu-id="16028-149">El primero devuelve los datos normales antes del bloque de datos OOB, el segundo devuelve los datos OOB, el tercero devuelve los datos normales que siguen a los datos OOB.</span><span class="sxs-lookup"><span data-stu-id="16028-149">The first returns the normal data prior to the OOB data block, the second returns the OOB data, the third returns the normal data following the OOB data.</span></span> <span data-ttu-id="16028-150">En otras palabras, los límites del bloque de datos OOB se conservan.</span><span class="sxs-lookup"><span data-stu-id="16028-150">In other words, the OOB data block boundaries are preserved.</span></span>

<span data-ttu-id="16028-151">La rutina [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) es especialmente adecuada para controlar la presencia de datos fuera de banda cuando \_ OOBINLINE está desactivada.</span><span class="sxs-lookup"><span data-stu-id="16028-151">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) routine is particularly well suited to handling notification of the presence of out-of-band-data when SO\_OOBINLINE is off.</span></span>

## <a name="oob-data-in-tcp"></a><span data-ttu-id="16028-152">Datos OOB en TCP</span><span class="sxs-lookup"><span data-stu-id="16028-152">OOB Data in TCP</span></span>

> [!IMPORTANT]
> <span data-ttu-id="16028-153">La siguiente explicación de los datos fuera de banda (OOB), implementados mediante datos urgentes de TCP, sigue el modelo usado en la distribución de software Berkeley.</span><span class="sxs-lookup"><span data-stu-id="16028-153">The following discussion of out-of-band data (OOB), implemented using TCP urgent data, follows the model used in the Berkeley software distribution.</span></span> <span data-ttu-id="16028-154">Los usuarios e implementadores deben tener en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="16028-154">Users and implementers should be aware that:</span></span>

 

-   <span data-ttu-id="16028-155">Existen, en la actualidad, dos interpretaciones conflictivas de [RFC 793](https://www.ietf.org/rfc/rfc793.txt) (donde se introduce el concepto).</span><span class="sxs-lookup"><span data-stu-id="16028-155">There are, at present, two conflicting interpretations of [RFC 793](https://www.ietf.org/rfc/rfc793.txt) (where the concept is introduced).</span></span>
-   <span data-ttu-id="16028-156">La implementación de datos OOB en la distribución de software Berkeley (BSD) no cumple los requisitos de host especificados en [RFC 1122](https://www.ietf.org/rfc/rfc1122.txt).</span><span class="sxs-lookup"><span data-stu-id="16028-156">The implementation of OOB data in the Berkeley Software Distribution (BSD) does not conform to the Host Requirements specified in [RFC 1122](https://www.ietf.org/rfc/rfc1122.txt).</span></span>

    <span data-ttu-id="16028-157">En concreto, el puntero urgente de TCP en BSD apunta al byte después del byte de datos urgente y un puntero de TCP urgente compatible con RFC apunta al byte de datos urgente.</span><span class="sxs-lookup"><span data-stu-id="16028-157">Specifically, the TCP urgent pointer in BSD points to the byte after the urgent data byte, and an RFC-compliant TCP urgent pointer points to the urgent data byte.</span></span> <span data-ttu-id="16028-158">Como resultado, si una aplicación envía datos urgentes desde una implementación compatible con BSD a una implementación compatible con RFC 1122, el receptor lee el byte de datos urgente equivocado (lee el byte que se encuentra después del byte correcto en el flujo de datos como el byte de datos urgente).</span><span class="sxs-lookup"><span data-stu-id="16028-158">As a result, if an application sends urgent data from a BSD-compatible implementation to an implementation compatible with RFC 1122, the receiver reads the wrong urgent data byte (it reads the byte located after the correct byte in the data stream as the urgent data byte).</span></span>

    <span data-ttu-id="16028-159">Para minimizar los problemas de interoperabilidad, se recomienda a los escritores de aplicaciones que no usen datos OOB a menos que sea necesario para interoperar con un servicio existente.</span><span class="sxs-lookup"><span data-stu-id="16028-159">To minimize interoperability problems, applications writers are advised not to use OOB data unless this is required to interoperate with an existing service.</span></span> <span data-ttu-id="16028-160">Se recomienda a los proveedores de Windows Sockets que documenten la semántica de OOB (BSD o RFC 1122) que implementa su producto.</span><span class="sxs-lookup"><span data-stu-id="16028-160">Windows Sockets suppliers are urged to document the OOB semantics (BSD or RFC 1122) that their product implements.</span></span>

<span data-ttu-id="16028-161">La llegada de un segmento TCP con el conjunto de marcas URG (para urgente) indica la existencia de un solo byte de datos OOB en el flujo de datos TCP.</span><span class="sxs-lookup"><span data-stu-id="16028-161">The arrival of a TCP segment with the URG (for urgent) flag set indicates the existence of a single byte of OOB data within the TCP data stream.</span></span> <span data-ttu-id="16028-162">El bloque de datos OOB tiene un tamaño de un byte.</span><span class="sxs-lookup"><span data-stu-id="16028-162">The OOB data block is one byte in size.</span></span> <span data-ttu-id="16028-163">El puntero urgente es un desplazamiento positivo desde el número de secuencia actual en el encabezado TCP que indica la ubicación del bloque de datos OOB (de forma ambigua, como se indicó en el anterior).</span><span class="sxs-lookup"><span data-stu-id="16028-163">The urgent pointer is a positive offset from the current sequence number in the TCP header that indicates the location of the OOB data block (ambiguously, as noted in the preceding).</span></span> <span data-ttu-id="16028-164">Por lo tanto, podría apuntar a datos que aún no se han recibido.</span><span class="sxs-lookup"><span data-stu-id="16028-164">It might, therefore, point to data that has not yet been received.</span></span>

<span data-ttu-id="16028-165">Si \_ es así, OOBINLINE está deshabilitado (valor predeterminado) cuando llega el segmento TCP que contiene el byte al que apunta el puntero urgente, el bloque de datos OOB (un byte) se quita del flujo de datos y se almacena en búfer.</span><span class="sxs-lookup"><span data-stu-id="16028-165">If SO\_OOBINLINE is disabled (the default) when the TCP segment containing the byte pointed to by the urgent pointer arrives, the OOB data block (one byte) is removed from the data stream and buffered.</span></span> <span data-ttu-id="16028-166">Si un segmento TCP subsiguiente llega con el conjunto de marcas urgentes (y un nuevo puntero urgente), el byte de OOB actualmente en cola se puede perder, ya que se reemplaza por el nuevo bloque de datos OOB (como ocurre en la distribución de software Berkeley).</span><span class="sxs-lookup"><span data-stu-id="16028-166">If a subsequent TCP segment arrives with the urgent flag set (and a new urgent pointer), the OOB byte currently queued can be lost as it is replaced by the new OOB data block (as occurs in Berkeley Software Distribution).</span></span> <span data-ttu-id="16028-167">Sin embargo, nunca se reemplaza en el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="16028-167">It is never replaced in the data stream, however.</span></span>

<span data-ttu-id="16028-168">Con \_ la OOBINLINE habilitada, los datos urgentes permanecen en el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="16028-168">With SO\_OOBINLINE enabled, the urgent data remains in the data stream.</span></span> <span data-ttu-id="16028-169">Como resultado, el bloque de datos OOB nunca se pierde cuando llega un nuevo segmento TCP que contiene datos urgentes.</span><span class="sxs-lookup"><span data-stu-id="16028-169">As a result, the OOB data block is never lost when a new TCP segment arrives containing urgent data.</span></span> <span data-ttu-id="16028-170">La marca de datos OOB existente se actualiza a la nueva posición.</span><span class="sxs-lookup"><span data-stu-id="16028-170">The existing OOB data mark is updated to the new position.</span></span>

> [!Note]  
> <span data-ttu-id="16028-171">Cuando \_ se establece la opción de socket for OOBINLINE, el ioctl de SIOCATMARK siempre devuelve **true** y los datos OOB se devuelven al usuario como datos normales.</span><span class="sxs-lookup"><span data-stu-id="16028-171">When the SO\_OOBINLINE socket option is set, the SIOCATMARK IOCTL always returns **TRUE**, and OOB data is returned to the user as normal data.</span></span>

 

 

 



