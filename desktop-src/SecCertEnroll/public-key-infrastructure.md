---
description: La criptografía de clave pública (también denominada criptografía de clave asimétrica) usa un par de claves para cifrar y descifrar contenido.
ms.assetid: 93f65367-ca4b-4b44-9833-0653cfd3f3d3
title: Infraestructura de clave pública
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 55e4ff0b2b3912bc44851be105c2e2b15200eb62
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105667721"
---
# <a name="public-key-infrastructure"></a><span data-ttu-id="a4fc1-103">Infraestructura de clave pública</span><span class="sxs-lookup"><span data-stu-id="a4fc1-103">Public Key Infrastructure</span></span>

<span data-ttu-id="a4fc1-104">La criptografía de clave pública (también denominada criptografía de clave asimétrica) usa un par de claves para cifrar y descifrar contenido.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-104">Public-key cryptography (also called asymmetric-key cryptography) uses a key pair to encrypt and decrypt content.</span></span> <span data-ttu-id="a4fc1-105">El par de claves se compone de una clave pública y una privada que están relacionadas matemáticamente.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-105">The key pair consists of one public and one private key that are mathematically related.</span></span> <span data-ttu-id="a4fc1-106">Una persona que pretenda comunicarse de forma segura con otros usuarios puede distribuir la [*clave pública*](/windows/desktop/SecGloss/p-gly) , pero debe mantener el secreto de la [*clave privada*](/windows/desktop/SecGloss/p-gly) .</span><span class="sxs-lookup"><span data-stu-id="a4fc1-106">An individual who intends to communicate securely with others can distribute the [*public key*](/windows/desktop/SecGloss/p-gly) but must keep the [*private key*](/windows/desktop/SecGloss/p-gly) secret.</span></span> <span data-ttu-id="a4fc1-107">El contenido cifrado mediante una de las claves se puede descifrar con el otro.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-107">Content encrypted by using one of the keys can be decrypted by using the other.</span></span> <span data-ttu-id="a4fc1-108">Supongamos, por ejemplo, que Bob desea enviar un mensaje de correo electrónico seguro a Alice.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-108">Assume, for example, that Bob wants to send a secure email message to Alice.</span></span> <span data-ttu-id="a4fc1-109">Esto se puede lograr de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="a4fc1-109">This can be accomplished in the following manner:</span></span>

1.  <span data-ttu-id="a4fc1-110">Tanto Bob como Alice tienen sus propios pares de claves.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-110">Both Bob and Alice have their own key pairs.</span></span> <span data-ttu-id="a4fc1-111">Han mantenido sus claves privadas de forma segura y han enviado sus claves públicas directamente entre sí.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-111">They have kept their private keys securely to themselves and have sent their public keys directly to each other.</span></span>
2.  <span data-ttu-id="a4fc1-112">Bob utiliza la clave pública de Alice para cifrar el mensaje y lo envía a ella.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-112">Bob uses Alice's public key to encrypt the message and sends it to her.</span></span>
3.  <span data-ttu-id="a4fc1-113">Alice usa su clave privada para descifrar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-113">Alice uses her private key to decrypt the message.</span></span>

<span data-ttu-id="a4fc1-114">En este ejemplo simplificado se resalta al menos un problema obvio que Bob debe tener acerca de la clave pública que usó para cifrar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-114">This simplified example highlights at least one obvious concern Bob must have about the public key he used to encrypt the message.</span></span> <span data-ttu-id="a4fc1-115">Es decir, no puede saber con certeza que la clave que usó para el cifrado pertenecía realmente a Alice.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-115">That is, he cannot know with certainty that the key he used for encryption actually belonged to Alice.</span></span> <span data-ttu-id="a4fc1-116">Es posible que otra parte que supervisa el canal de comunicación entre Bob y Alice sustituya una clave diferente.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-116">It is possible that another party monitoring the communication channel between Bob and Alice substituted a different key.</span></span>

<span data-ttu-id="a4fc1-117">El concepto de infraestructura de clave pública ha evolucionado para ayudar a abordar este problema y otros.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-117">The public key infrastructure concept has evolved to help address this problem and others.</span></span> <span data-ttu-id="a4fc1-118">Una infraestructura de clave pública (PKI) consta de elementos de software y hardware que un tercero de confianza puede usar para establecer la integridad y la propiedad de una clave pública.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-118">A public key infrastructure (PKI) consists of software and hardware elements that a trusted third party can use to establish the integrity and ownership of a public key.</span></span> <span data-ttu-id="a4fc1-119">La entidad de confianza, denominada [*entidad de certificación*](/windows/desktop/SecGloss/c-gly) (CA), lo consigue normalmente mediante la emisión de certificados binarios (cifrados) firmados que afirman la identidad del sujeto del certificado y enlazan esa identidad con la clave pública incluida en el certificado.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-119">The trusted party, called a [*certification authority*](/windows/desktop/SecGloss/c-gly) (CA), typically accomplishes this by issuing signed (encrypted) binary certificates that affirm the identity of the certificate subject and bind that identity to the public key contained in the certificate.</span></span> <span data-ttu-id="a4fc1-120">La CA firma el certificado con su clave privada.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-120">The CA signs the certificate by using its private key.</span></span> <span data-ttu-id="a4fc1-121">Emite la clave pública correspondiente a todas las partes interesadas en un certificado de entidad de certificación autofirmado.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-121">It issues the corresponding public key to all interested parties in a self-signed CA certificate.</span></span> <span data-ttu-id="a4fc1-122">Cuando se usa una CA, el ejemplo anterior se puede modificar de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="a4fc1-122">When a CA is used, the preceding example can be modified in the following manner:</span></span>

1.  <span data-ttu-id="a4fc1-123">Supongamos que la entidad de certificación ha emitido un certificado digital firmado que contiene su clave pública.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-123">Assume that the CA has issued a signed digital certificate that contains its public key.</span></span> <span data-ttu-id="a4fc1-124">La CA firma automáticamente este certificado con la clave privada que corresponde a la clave pública del certificado.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-124">The CA self-signs this certificate by using the private key that corresponds to the public key in the certificate.</span></span>
2.  <span data-ttu-id="a4fc1-125">Alice y Bob acuerdan usar la CA para comprobar sus identidades.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-125">Alice and Bob agree to use the CA to verify their identities.</span></span>
3.  <span data-ttu-id="a4fc1-126">Alice solicita un certificado de clave pública de la CA.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-126">Alice requests a public key certificate from the CA.</span></span>
4.  <span data-ttu-id="a4fc1-127">La entidad de certificación comprueba su identidad, calcula un hash del contenido que va a componer su certificado, firma el hash mediante la clave privada que corresponde a la clave pública del certificado de CA publicado, crea un nuevo certificado mediante la concatenación del contenido del certificado y el hash firmado y hace que el nuevo certificado esté disponible públicamente.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-127">The CA verifies her identity, computes a hash of the content that will make up her certificate, signs the hash by using the private key that corresponds to the public key in the published CA certificate, creates a new certificate by concatenating the certificate content and the signed hash, and makes the new certificate publicly available.</span></span>
5.  <span data-ttu-id="a4fc1-128">Bob recupera el certificado, descifra el hash firmado mediante la clave pública de la CA, calcula un nuevo hash del contenido del certificado y compara los dos valores hash.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-128">Bob retrieves the certificate, decrypts the signed hash by using the public key of the CA, computes a new hash of the certificate content, and compares the two hashes.</span></span> <span data-ttu-id="a4fc1-129">Si los valores hash coinciden, se comprueba la firma y Bob puede suponer que la clave pública del certificado pertenece realmente a Alice.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-129">If the hashes match, the signature is verified and Bob can assume that the public key in the certificate does indeed belong to Alice.</span></span>
6.  <span data-ttu-id="a4fc1-130">Bob usa la clave pública comprobada de Alice para cifrar un mensaje.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-130">Bob uses Alice's verified public key to encrypt a message to her.</span></span>
7.  <span data-ttu-id="a4fc1-131">Alice usa su clave privada para descifrar el mensaje de Bob.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-131">Alice uses her private key to decrypt the message from Bob.</span></span>

<span data-ttu-id="a4fc1-132">En Resumen, el proceso de firma de certificados permite a Bob comprobar que la clave pública no se ha manipulado o dañado durante el tránsito.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-132">In summary, the certificate signing process enables Bob to verify that the public key was not tampered with or corrupted during transit.</span></span> <span data-ttu-id="a4fc1-133">Antes de emitir un certificado, la entidad de certificación aplica un algoritmo hash al contenido, firma (cifra) el hash mediante su propia clave privada e incluye el hash cifrado en el certificado emitido.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-133">Before issuing a certificate, the CA hashes the contents, signs (encrypts) the hash by using its own private key, and includes the encrypted hash in the issued certificate.</span></span> <span data-ttu-id="a4fc1-134">Bob comprueba el contenido del certificado mediante el descifrado del hash con la clave pública de la CA, la realización de un hash independiente del contenido del certificado y la comparación de los dos valores hash.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-134">Bob verifies the certificate contents by decrypting the hash with the CA public key, performing a separate hash of the certificate contents, and comparing the two hashes.</span></span> <span data-ttu-id="a4fc1-135">Si coinciden, Bob puede estar razonablemente seguro de que el certificado y la clave pública que contiene no se han modificado.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-135">If they match, Bob can be reasonably certain that the certificate and the public key it contains have not been altered.</span></span>

<span data-ttu-id="a4fc1-136">Una PKI típica consta de los siguientes elementos.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-136">A typical PKI consists of the following elements.</span></span>

| <span data-ttu-id="a4fc1-137">Elemento</span><span class="sxs-lookup"><span data-stu-id="a4fc1-137">Element</span></span>                            | <span data-ttu-id="a4fc1-138">Descripción</span><span class="sxs-lookup"><span data-stu-id="a4fc1-138">Description</span></span>                                                                                                                                                                               |
|------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a4fc1-139">Entidad de certificación</span><span class="sxs-lookup"><span data-stu-id="a4fc1-139">Certification Authority</span></span><br/> | <span data-ttu-id="a4fc1-140">Actúa como la raíz de confianza en una infraestructura de clave pública y proporciona servicios que autentican la identidad de individuos, equipos y otras entidades de una red.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-140">Acts as the root of trust in a public key infrastructure and provides services that authenticate the identity of individuals, computers, and other entities in a network.</span></span><br/>      |
| <span data-ttu-id="a4fc1-141">Autoridad de registro</span><span class="sxs-lookup"><span data-stu-id="a4fc1-141">Registration Authority</span></span><br/>  | <span data-ttu-id="a4fc1-142">Está certificado por una entidad de certificación raíz para emitir certificados para usos específicos permitidos por la raíz.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-142">Is certified by a root CA to issue certificates for specific uses permitted by the root.</span></span> <span data-ttu-id="a4fc1-143">En una PKI de Microsoft, una autoridad de registro (RA) se denomina normalmente entidad de certificación subordinada.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-143">In a Microsoft PKI, a registration authority (RA) is usually called a subordinate CA.</span></span><br/> |
| <span data-ttu-id="a4fc1-144">Base de datos de certificados</span><span class="sxs-lookup"><span data-stu-id="a4fc1-144">Certificate Database</span></span><br/>    | <span data-ttu-id="a4fc1-145">Guarda las solicitudes de certificados y los certificados emitidos y revocados y las solicitudes de certificado en la entidad de certificación o RA.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-145">Saves certificate requests and issued and revoked certificates and certificate requests on the CA or RA.</span></span><br/>                                                                       |
| <span data-ttu-id="a4fc1-146">Almacén de certificados</span><span class="sxs-lookup"><span data-stu-id="a4fc1-146">Certificate Store</span></span><br/>       | <span data-ttu-id="a4fc1-147">Guarda los certificados emitidos y las solicitudes de certificados pendientes o rechazadas en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-147">Saves issued certificates and pending or rejected certificate requests on the local computer.</span></span><br/>                                                                                  |
| <span data-ttu-id="a4fc1-148">Servidor de archivo de claves</span><span class="sxs-lookup"><span data-stu-id="a4fc1-148">Key Archival Server</span></span><br/>     | <span data-ttu-id="a4fc1-149">Guarda las claves privadas cifradas en la base de datos de certificados para su recuperación después de la pérdida.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-149">Saves encrypted private keys in the certificate database for recovery after loss.</span></span><br/>                                                                                              |



 

<span data-ttu-id="a4fc1-150">La API de inscripción de certificados permite enviar solicitudes de archivo de certificado y clave a las entidades de certificación y de registro, e instalar el certificado emitido en un equipo local.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-150">The Certificate Enrollment API enables you to submit certificate and key archival requests to certification and registration authorities and install the issued certificate on a local computer.</span></span> <span data-ttu-id="a4fc1-151">No permite manipular directamente la base de datos de certificados o el almacén de certificados.</span><span class="sxs-lookup"><span data-stu-id="a4fc1-151">It does not enable you to directly manipulate the certificate database or certificate store.</span></span>

<span data-ttu-id="a4fc1-152">En los temas siguientes se describe la infraestructura de clave pública de Microsoft con más detalle:</span><span class="sxs-lookup"><span data-stu-id="a4fc1-152">The following topics discuss the Microsoft public key infrastructure in more detail:</span></span>

-   [<span data-ttu-id="a4fc1-153">Certificados de clave pública X. 509</span><span class="sxs-lookup"><span data-stu-id="a4fc1-153">X.509 Public Key Certificates</span></span>](about-x-509-public-key-certificates.md)
-   [<span data-ttu-id="a4fc1-154">Elementos PKI</span><span class="sxs-lookup"><span data-stu-id="a4fc1-154">PKI Elements</span></span>](about-pki-components.md)
-   [<span data-ttu-id="a4fc1-155">Modelos de confianza</span><span class="sxs-lookup"><span data-stu-id="a4fc1-155">Trust Models</span></span>](about-trust-models.md)

## <a name="related-topics"></a><span data-ttu-id="a4fc1-156">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="a4fc1-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a4fc1-157">Acerca de la API de inscripción de certificados</span><span class="sxs-lookup"><span data-stu-id="a4fc1-157">About the Certificate Enrollment API</span></span>](about-the-certificate-enrollment-api.md)
</dt> </dl>

 

