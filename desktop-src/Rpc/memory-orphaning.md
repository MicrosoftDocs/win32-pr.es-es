---
title: Memoria huérfana
description: Si la aplicación distribuida utiliza un parámetro \ in, out, Unique \ o \ in, out, PTR, el lado servidor de la aplicación puede cambiar el valor del parámetro Pointer a NULL.
ms.assetid: 65588b4d-6bf4-44f7-994c-29a5b185c6b9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32042911695f377e0a628168e91387bfa25f0d79
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "105676483"
---
# <a name="memory-orphaning"></a><span data-ttu-id="de69a-103">Memoria huérfana</span><span class="sxs-lookup"><span data-stu-id="de69a-103">Memory Orphaning</span></span>

<span data-ttu-id="de69a-104">Si la aplicación distribuida utiliza un \[ parámetro [de puntero in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [Unique](/windows/desktop/Midl/unique) \] o \[ **in**, **out**, [ptr](/windows/desktop/Midl/ptr) \] , el lado servidor de la aplicación puede cambiar el valor del parámetro Pointer a NULL.</span><span class="sxs-lookup"><span data-stu-id="de69a-104">If your distributed application uses an \[ [in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [unique](/windows/desktop/Midl/unique)\] or \[**in**, **out**, [ptr](/windows/desktop/Midl/ptr)\] pointer parameter, the server side of the application can change the value of the pointer parameter to null.</span></span> <span data-ttu-id="de69a-105">Cuando el servidor devuelve posteriormente el valor null al cliente, la memoria a la que hace referencia el puntero antes de la llamada a procedimiento remoto todavía está presente en el lado cliente, pero ya no es accesible desde ese puntero (excepto en el caso de un puntero completo con alias).</span><span class="sxs-lookup"><span data-stu-id="de69a-105">When the server subsequently returns the null value to the client, memory referenced by the pointer before the remote procedure call is still present on the client side, but is no longer accessible from that pointer (except in the case of an aliased full pointer).</span></span> <span data-ttu-id="de69a-106">Se dice que esta memoria está *huérfana*.</span><span class="sxs-lookup"><span data-stu-id="de69a-106">This memory is said to be *orphaned*.</span></span> <span data-ttu-id="de69a-107">Esto también se denomina pérdida de *memoria*.</span><span class="sxs-lookup"><span data-stu-id="de69a-107">This is also termed a *memory leak*.</span></span> <span data-ttu-id="de69a-108">La memoria huérfana que se repite en el cliente hace que el cliente se quede sin recursos de memoria disponibles.</span><span class="sxs-lookup"><span data-stu-id="de69a-108">Repeated orphaning of memory on the client causes the client to run out of available memory resources.</span></span>

<span data-ttu-id="de69a-109">También se puede eliminar la memoria cuando el servidor cambia un puntero incrustado a un valor null.</span><span class="sxs-lookup"><span data-stu-id="de69a-109">Memory can also be orphaned whenever the server changes an embedded pointer to a null value.</span></span> <span data-ttu-id="de69a-110">Por ejemplo, si el parámetro apunta a una estructura de datos compleja, como un árbol, el lado servidor de la aplicación puede eliminar nodos del árbol y establecer punteros dentro del árbol en NULL.</span><span class="sxs-lookup"><span data-stu-id="de69a-110">For example, if the parameter points to a complex data structure such as a tree, the server side of the application can delete nodes of the tree and set pointers inside the tree to null.</span></span>

<span data-ttu-id="de69a-111">Otra situación que puede conducir a una fuga de memoria implica que las matrices que contienen punteros sean compatibles, distintas y abiertas.</span><span class="sxs-lookup"><span data-stu-id="de69a-111">Another situation that can lead to a memory leak involves conformant, varying, and open arrays containing pointers.</span></span> <span data-ttu-id="de69a-112">Cuando la aplicación de servidor modifica el parámetro que especifica el tamaño de la matriz o el intervalo transmitido para que represente un valor más pequeño, el código auxiliar usa los valores más pequeños para liberar memoria.</span><span class="sxs-lookup"><span data-stu-id="de69a-112">When the server application modifies the parameter that specifies the array size or transmitted range so that it represents a smaller value, the stubs use the smaller value(s) to free memory.</span></span> <span data-ttu-id="de69a-113">Los elementos de matriz con índices mayores que el parámetro de tamaño son huérfanos.</span><span class="sxs-lookup"><span data-stu-id="de69a-113">The array elements with indices larger than the size parameter are orphaned.</span></span> <span data-ttu-id="de69a-114">La aplicación debe liberar elementos fuera del intervalo transmitido.</span><span class="sxs-lookup"><span data-stu-id="de69a-114">Your application must free elements outside the transmitted range.</span></span>

 

 