---
title: Uso de la recuperación y reinicio de aplicaciones
description: Una aplicación puede usar la recuperación y el reinicio de la aplicación (ARR) para guardar los datos y la información de estado antes de que se cierre la aplicación debido a una excepción no controlada o cuando la aplicación deja de responder. También se reinicia la aplicación, si se solicita.
ms.assetid: 28cbb4c0-a287-4302-b3a9-daddc69adb40
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b0d5bf0b9bd0e0f6cc257ee785ab5df6febc8fef
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103904640"
---
# <a name="using-application-recovery-and-restart"></a><span data-ttu-id="97dce-104">Uso de la recuperación y reinicio de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="97dce-104">Using Application Recovery and Restart</span></span>

<span data-ttu-id="97dce-105">Una aplicación puede usar la recuperación y el reinicio de la aplicación (ARR) para guardar los datos y la información de estado antes de que se cierre la aplicación debido a una excepción no controlada o cuando la aplicación deja de responder.</span><span class="sxs-lookup"><span data-stu-id="97dce-105">An application can use Application Recovery and Restart (ARR) to save data and state information before the application exits due to an unhandled exception or when the application stops responding.</span></span> <span data-ttu-id="97dce-106">También se reinicia la aplicación, si se solicita.</span><span class="sxs-lookup"><span data-stu-id="97dce-106">The application is also restarted, if requested.</span></span>

<span data-ttu-id="97dce-107">Al registrarse para la recuperación o el reinicio, se agrega la información de registro al proceso.</span><span class="sxs-lookup"><span data-stu-id="97dce-107">When you register for recovery or restart, the registration information is added to the process.</span></span> <span data-ttu-id="97dce-108">[Informe de errores de Windows (WER)](/windows/desktop/wer/windows-error-reporting) utiliza la información de registro para llamar a la devolución de llamada de recuperación y reiniciar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="97dce-108">[Windows Error Reporting (WER)](/windows/desktop/wer/windows-error-reporting) uses the registration information to call your recovery callback and restart your application.</span></span> <span data-ttu-id="97dce-109">Por ejemplo, si se registra para la recuperación y la aplicación encuentra una excepción no controlada, WER muestra un cuadro de diálogo al usuario que ofrece al usuario la opción de comprobar una solución en línea, cerrar el programa o depurar el programa.</span><span class="sxs-lookup"><span data-stu-id="97dce-109">For example, if you register for recovery and your application encounters an unhandled exception, WER displays a dialog to the user that gives the user the option of checking for a solution online, closing the program, or debugging the program.</span></span> <span data-ttu-id="97dce-110">Si el usuario elige buscar una solución o cerrar el programa, WER llama a la devolución de llamada registrada y proporciona a la aplicación la oportunidad de guardar los datos y la información de estado.</span><span class="sxs-lookup"><span data-stu-id="97dce-110">If the user chooses to either check for a solution or close the program, WER calls the registered callback and gives the application the chance to save data and state information.</span></span> <span data-ttu-id="97dce-111">Una vez finalizada la recuperación, se finaliza la aplicación.</span><span class="sxs-lookup"><span data-stu-id="97dce-111">When the recovery is complete, the application is terminated.</span></span>

<span data-ttu-id="97dce-112">Si se registra para el reinicio y la aplicación encuentra una excepción no controlada, WER muestra el mismo cuadro de diálogo al usuario, pero ofrece la opción de reiniciar el programa en lugar de cerrar el programa.</span><span class="sxs-lookup"><span data-stu-id="97dce-112">If you register for restart and your application encounters an unhandled exception, WER displays the same dialog to the user but gives the option of restarting the program instead of closing the program.</span></span> <span data-ttu-id="97dce-113">Si se registra para la recuperación y el reinicio, se produce primero la recuperación; a continuación, la aplicación se termina y se reinicia.</span><span class="sxs-lookup"><span data-stu-id="97dce-113">If you register for both recovery and restart, recovery occurs first; the application is then terminated and restarted.</span></span>

<span data-ttu-id="97dce-114">Una aplicación que no responde se administra de manera similar.</span><span class="sxs-lookup"><span data-stu-id="97dce-114">An unresponsive application is handled in a similar fashion.</span></span> <span data-ttu-id="97dce-115">Una aplicación se considera que no responde si no responde a los mensajes de Windows durante cinco segundos y el usuario intenta interactuar con la aplicación. el usuario verá (no responde) en la barra de título.</span><span class="sxs-lookup"><span data-stu-id="97dce-115">An application is considered unresponsive if it does not respond to Windows messages for five seconds and the user then tries to interact with the application; the user will see (Not Responding) in the title bar.</span></span> <span data-ttu-id="97dce-116">WER se activa cuando el usuario hace clic en el botón Cerrar del sistema.</span><span class="sxs-lookup"><span data-stu-id="97dce-116">WER is activated when the user clicks the system close button.</span></span>

<span data-ttu-id="97dce-117">Debe registrarse para recuperar o reiniciar, o bien quitar el registro, antes de que la aplicación deje de responder o encuentre una excepción no controlada.</span><span class="sxs-lookup"><span data-stu-id="97dce-117">You must register for recovery or restart, or remove the registration, before the application becomes unresponsive or encounters an unhandled exception.</span></span> <span data-ttu-id="97dce-118">Sin embargo, en la devolución de llamada de recuperación, puede cambiar la línea de comandos de reinicio.</span><span class="sxs-lookup"><span data-stu-id="97dce-118">However, in your recovery callback, you can change the restart command line.</span></span>

<span data-ttu-id="97dce-119">Para obtener más información sobre el registro para la recuperación o el reinicio, vea los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="97dce-119">For details on registering for recovery or restart, see the following topics:</span></span>

-   [<span data-ttu-id="97dce-120">Registro para la recuperación de la aplicación</span><span class="sxs-lookup"><span data-stu-id="97dce-120">Registering for Application Recovery</span></span>](registering-for-application-recovery.md)
-   [<span data-ttu-id="97dce-121">Registrando el reinicio de la aplicación</span><span class="sxs-lookup"><span data-stu-id="97dce-121">Registering for Application Restart</span></span>](registering-for-application-restart.md)

<span data-ttu-id="97dce-122">Para obtener ejemplos que implementan las características de recuperación y reinicio, vea los ejemplos de AppRecovery y AppRestart en el Windows SDK ubicado en la \\ carpeta Winbase WindowsErrorReporting.</span><span class="sxs-lookup"><span data-stu-id="97dce-122">For samples that implement the recovery and restart features, see the AppRecovery and AppRestart samples in the Windows SDK located in the WinBase\\WindowsErrorReporting folder.</span></span>

 

 