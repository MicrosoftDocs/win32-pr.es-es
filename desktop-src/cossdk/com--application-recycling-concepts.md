---
description: El reciclaje de aplicaciones puede aumentar significativamente la estabilidad general de las aplicaciones COM+ al ofrecer una corrección rápida para los problemas conocidos y ayudar a protegerse frente a las inesperadas.
ms.assetid: bf98318b-4d87-44cc-85a1-68faf5547e06
title: Conceptos de reciclaje de aplicaciones COM+
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ab37376ff3bc6d03f454f63822641ed69fad0b47
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104423287"
---
# <a name="com-application-recycling-concepts"></a><span data-ttu-id="0ee47-103">Conceptos de reciclaje de aplicaciones COM+</span><span class="sxs-lookup"><span data-stu-id="0ee47-103">COM+ Application Recycling Concepts</span></span>

<span data-ttu-id="0ee47-104">El reciclaje de aplicaciones puede aumentar significativamente la estabilidad general de las aplicaciones COM+ al ofrecer una corrección rápida para los problemas conocidos y ayudar a protegerse frente a las inesperadas.</span><span class="sxs-lookup"><span data-stu-id="0ee47-104">Application recycling can significantly increase the overall stability of your COM+ applications by offering a quick fix for known problems and helping to protect against unexpected ones.</span></span> <span data-ttu-id="0ee47-105">Por ejemplo, el rendimiento de la aplicación puede reducirse con el tiempo debido a problemas como pérdidas de memoria, uso de recursos no escalables y errores de proceso.</span><span class="sxs-lookup"><span data-stu-id="0ee47-105">For example, application performance can degrade over time because of problems such as memory leaks, nonscalable resource usage, and process failure.</span></span> <span data-ttu-id="0ee47-106">COM+ proporciona reciclaje de aplicaciones como una solución para estos problemas.</span><span class="sxs-lookup"><span data-stu-id="0ee47-106">COM+ provides application recycling as a solution to these problems.</span></span> <span data-ttu-id="0ee47-107">Puede usar el reciclaje de aplicaciones para apagar automáticamente un proceso y reiniciarlo, con lo que se reinicializa un proceso con errores y se reasigna la memoria que usa.</span><span class="sxs-lookup"><span data-stu-id="0ee47-107">You can use application recycling to automatically shut down a process and restart it, thus reinitializing a failing process and reallocating memory it uses.</span></span>

<span data-ttu-id="0ee47-108">El reciclaje de aplicaciones funciona creando un duplicado del proceso Dllhost asociado a una aplicación.</span><span class="sxs-lookup"><span data-stu-id="0ee47-108">Application recycling works by creating a duplicate of the Dllhost process associated with an application.</span></span> <span data-ttu-id="0ee47-109">Este proceso Dllhost duplicado atiende todas las solicitudes de objeto futuras, lo que deja que el Dllhost antiguo termine de atender las solicitudes de objeto restantes.</span><span class="sxs-lookup"><span data-stu-id="0ee47-109">This duplicate Dllhost process services all future object requests, which leaves the old Dllhost to finish servicing the remaining object requests.</span></span> <span data-ttu-id="0ee47-110">El proceso Dllhost anterior se cierra cuando detecta el lanzamiento de todas las referencias externas a los objetos del proceso o cuando se alcanza el valor de tiempo de espera de expiración.</span><span class="sxs-lookup"><span data-stu-id="0ee47-110">The old Dllhost process is shut down when it detects the release of all external references to objects in the process or when the expiration time-out value is reached.</span></span> <span data-ttu-id="0ee47-111">A través de este comportamiento, el reciclaje de aplicaciones garantiza que una aplicación cliente no experimenta una interrupción del servicio.</span><span class="sxs-lookup"><span data-stu-id="0ee47-111">Through this behavior, application recycling ensures that a client application does not experience a service interruption.</span></span>

> [!Note]  
> <span data-ttu-id="0ee47-112">No se puede reciclar una aplicación COM+ que se ha configurado para ejecutarse como un servicio de Windows.</span><span class="sxs-lookup"><span data-stu-id="0ee47-112">You cannot recycle a COM+ application that has been configured to run as a Windows service.</span></span> <span data-ttu-id="0ee47-113">Además, las aplicaciones de biblioteca tienen las propiedades de reciclaje y agrupación de su proceso de host.</span><span class="sxs-lookup"><span data-stu-id="0ee47-113">Also, library applications have the recycling and pooling properties of their host process.</span></span>

 

<span data-ttu-id="0ee47-114">Puede configurar el reciclaje de aplicaciones administrativamente, mediante la herramienta administrativa Servicios de componentes o mediante programación, a través del SDK administrativo de COM+.</span><span class="sxs-lookup"><span data-stu-id="0ee47-114">You can configure application recycling administratively, by using the Component Services administrative tool, or programmatically, through the COM+ Administrative SDK.</span></span> <span data-ttu-id="0ee47-115">Puede reciclar los procesos en función de varios criterios, determinados por las siguientes propiedades de un objeto [**COMAdminCatalogObject**](comadmincatalogobject.md) en la colección de [**aplicaciones**](applications.md) :</span><span class="sxs-lookup"><span data-stu-id="0ee47-115">You can recycle processes based on several criteria, determined by the following properties of a [**COMAdminCatalogObject**](comadmincatalogobject.md) object in the [**Applications**](applications.md) collection:</span></span>

-   <span data-ttu-id="0ee47-116">**RecycleLifetimeLimit.**</span><span class="sxs-lookup"><span data-stu-id="0ee47-116">**RecycleLifetimeLimit.**</span></span> <span data-ttu-id="0ee47-117">Número máximo de minutos que puede ejecutarse un proceso antes de que se recicle.</span><span class="sxs-lookup"><span data-stu-id="0ee47-117">The maximum number of minutes a process can run before it's recycled.</span></span> <span data-ttu-id="0ee47-118">El intervalo válido es de 0 a 30.240 minutos (21 días).</span><span class="sxs-lookup"><span data-stu-id="0ee47-118">The valid range is 0 through 30,240 minutes (21 days).</span></span> <span data-ttu-id="0ee47-119">El número predeterminado de minutos es 0, lo que indica que el proceso no se reciclará para alcanzar un límite de duración.</span><span class="sxs-lookup"><span data-stu-id="0ee47-119">The default number of minutes is 0, which indicates that the process will not recycle from reaching a lifetime limit.</span></span>
-   <span data-ttu-id="0ee47-120">**RecycleMemoryLimit.**</span><span class="sxs-lookup"><span data-stu-id="0ee47-120">**RecycleMemoryLimit.**</span></span> <span data-ttu-id="0ee47-121">Cantidad máxima de uso de memoria de proceso (en kilobytes) antes de reciclar el proceso.</span><span class="sxs-lookup"><span data-stu-id="0ee47-121">The maximum amount of process memory usage (in kilobytes) before recycling the process.</span></span> <span data-ttu-id="0ee47-122">Si el uso de memoria del proceso supera el número especificado durante más de un minuto, el proceso se recicla.</span><span class="sxs-lookup"><span data-stu-id="0ee47-122">If the process memory usage exceeds the specified number for longer than one minute, the process is recycled.</span></span> <span data-ttu-id="0ee47-123">El intervalo válido es de 0 a 1.048.576 KB.</span><span class="sxs-lookup"><span data-stu-id="0ee47-123">The valid range is 0 through 1,048,576 KB.</span></span> <span data-ttu-id="0ee47-124">El uso de memoria predeterminado es 0 KB, lo que indica que el proceso no se reciclará para alcanzar un límite de memoria.</span><span class="sxs-lookup"><span data-stu-id="0ee47-124">The default amount of memory usage is 0 KB, which indicates that the process will not recycle from reaching a memory limit.</span></span>
-   <span data-ttu-id="0ee47-125">**RecycleCallLimit.**</span><span class="sxs-lookup"><span data-stu-id="0ee47-125">**RecycleCallLimit.**</span></span> <span data-ttu-id="0ee47-126">Número máximo de llamadas que los objetos de aplicación pueden aceptar antes de reciclar el proceso.</span><span class="sxs-lookup"><span data-stu-id="0ee47-126">The maximum number of calls that application objects can accept before recycling the process.</span></span> <span data-ttu-id="0ee47-127">El intervalo válido es de 0 a 1.048.576 llamadas.</span><span class="sxs-lookup"><span data-stu-id="0ee47-127">The valid range is 0 through 1,048,576 calls.</span></span> <span data-ttu-id="0ee47-128">El número predeterminado de llamadas es 0, lo que indica que el proceso no se reciclará al alcanzar un límite de llamadas.</span><span class="sxs-lookup"><span data-stu-id="0ee47-128">The default number of calls is 0, which indicates that the process will not recycle from reaching a call limit.</span></span>
-   <span data-ttu-id="0ee47-129">**RecycleActivationLimit.**</span><span class="sxs-lookup"><span data-stu-id="0ee47-129">**RecycleActivationLimit.**</span></span> <span data-ttu-id="0ee47-130">Número máximo de activaciones de objetos de aplicación que se aceptan antes de reciclar el proceso.</span><span class="sxs-lookup"><span data-stu-id="0ee47-130">The maximum number of application object activations to accept before recycling the process.</span></span> <span data-ttu-id="0ee47-131">El intervalo válido es de 0 a 1.048.576 activaciones.</span><span class="sxs-lookup"><span data-stu-id="0ee47-131">The valid range is 0 through 1,048,576 activations.</span></span> <span data-ttu-id="0ee47-132">El número predeterminado de activaciones es 0, lo que indica que el proceso no se reciclará para alcanzar un límite de activación.</span><span class="sxs-lookup"><span data-stu-id="0ee47-132">The default number of activations is 0, which indicates that the process will not recycle from reaching an activation limit.</span></span>

<span data-ttu-id="0ee47-133">Además, la propiedad RecycleExpirationTimeout del objeto [**COMAdminCatalogObject**](comadmincatalogobject.md) se usa para forzar el cierre de un proceso reciclado.</span><span class="sxs-lookup"><span data-stu-id="0ee47-133">Additionally, the RecycleExpirationTimeout property of the [**COMAdminCatalogObject**](comadmincatalogobject.md) object is used to force the shutdown of a recycled process.</span></span> <span data-ttu-id="0ee47-134">Indica el número de minutos que se esperará a que se liberen todas las referencias externas a los objetos del proceso reciclado antes de que se apague el proceso.</span><span class="sxs-lookup"><span data-stu-id="0ee47-134">It indicates the number of minutes to wait for the release of all external references to objects in the recycled process before forcibly shutting down the process.</span></span> <span data-ttu-id="0ee47-135">El intervalo válido es de 1 a 1440 minutos (24 horas) y el tiempo de espera de expiración predeterminado es 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="0ee47-135">The valid range is 1 through 1440 minutes (24 hours), and the default expiration time-out is 15 minutes.</span></span> <span data-ttu-id="0ee47-136">Este valor sólo se usa cuando ya se ha determinado que un proceso se reciclará en función de otros criterios.</span><span class="sxs-lookup"><span data-stu-id="0ee47-136">This value is used only when it is already determined that a process will be recycled based on the other criteria.</span></span>

<span data-ttu-id="0ee47-137">Puede seleccionar más de un criterio para reciclar una aplicación.</span><span class="sxs-lookup"><span data-stu-id="0ee47-137">You can select more than one criterion for recycling an application.</span></span> <span data-ttu-id="0ee47-138">COM+ recicla la aplicación después de que se cumple el primer conjunto de criterios.</span><span class="sxs-lookup"><span data-stu-id="0ee47-138">COM+ recycles the application after the first of the set of criteria is satisfied.</span></span> <span data-ttu-id="0ee47-139">Puede establecer el valor de tiempo de espera de expiración para determinar cuánto tiempo un proceso Dllhost antiguo puede gastar en completar las solicitudes de servicio restantes antes de que se apague la fuerza.</span><span class="sxs-lookup"><span data-stu-id="0ee47-139">You can set the expiration time-out value to determine how long an old Dllhost process can spend completing remaining service requests before being forcibly shut down.</span></span>

<span data-ttu-id="0ee47-140">La colección [**ApplicationInstances**](applicationinstances.md) proporciona la propiedad HasRecycled, que proporciona una manera de determinar si la aplicación se ha reciclado alguna vez.</span><span class="sxs-lookup"><span data-stu-id="0ee47-140">The [**ApplicationInstances**](applicationinstances.md) collection provides the HasRecycled property, which provides a way to determine whether the application has ever been recycled.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0ee47-141">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0ee47-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0ee47-142">Tareas de reciclaje de aplicaciones COM+</span><span class="sxs-lookup"><span data-stu-id="0ee47-142">COM+ Application Recycling Tasks</span></span>](com--application-recycling-tasks.md)
</dt> <dt>

[<span data-ttu-id="0ee47-143">**RecycleSurrogate**</span><span class="sxs-lookup"><span data-stu-id="0ee47-143">**RecycleSurrogate**</span></span>](/windows/desktop/api/ComSvcs/nf-comsvcs-recyclesurrogate)
</dt> </dl>

 

 



