---
description: A partir de Windows Server 2003, el grupo usuarios del monitor de rendimiento y el grupo usuarios del registro de rendimiento estaban disponibles para los programadores y usuarios de archivos dll de rendimiento y las funciones de la API de la aplicación auxiliar de datos de rendimiento (PDH).
ms.assetid: 423359be-9d41-4a5f-91cd-f6d7a6a91d9d
title: Restringir el acceso a los archivos dll de extensión de rendimiento
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dd433cad68ec3e50f6b17994da98164e2ae9f237
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103909710"
---
# <a name="restricting-access-to-performance-extension-dlls"></a><span data-ttu-id="09ceb-103">Restringir el acceso a los archivos dll de extensión de rendimiento</span><span class="sxs-lookup"><span data-stu-id="09ceb-103">Restricting Access to Performance Extension DLLs</span></span>

<span data-ttu-id="09ceb-104">A partir de Windows Server 2003, el grupo usuarios del monitor de rendimiento y el grupo usuarios del registro de rendimiento estaban disponibles para los programadores y usuarios de archivos dll de rendimiento y las funciones de la API de la aplicación auxiliar de datos de rendimiento (PDH).</span><span class="sxs-lookup"><span data-stu-id="09ceb-104">Beginning with Windows Server 2003, the Performance Monitor Users group and the Performance Log Users group were made available to developers and users of performance DLLs and the Performance Data Helper (PDH) API functions.</span></span> <span data-ttu-id="09ceb-105">Estos grupos de seguridad de rendimiento están pensados para que los usen los administradores del sistema a fin de restringir el acceso a la información expuesta por los archivos dll de rendimiento a una lista específica de usuarios.</span><span class="sxs-lookup"><span data-stu-id="09ceb-105">These performance security groups are intended for use by system administrators in restricting access to the information exposed by performance DLLs to a specific list of users.</span></span>

<span data-ttu-id="09ceb-106">El grupo usuarios del monitor de rendimiento está diseñado para incluir a los usuarios que ven datos de contador y no registran datos de contadores mediante el servicio Registros y alertas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="09ceb-106">The Performance Monitor Users group is intended to include users that view counter data and do not log counter data using the Performance Logs and Alerts service.</span></span> <span data-ttu-id="09ceb-107">El grupo usuarios del registro de rendimiento debe incluir los usuarios que tienen permiso para usar los registros de rendimiento y el servicio de alertas para registrar los contadores en el servidor local o remoto.</span><span class="sxs-lookup"><span data-stu-id="09ceb-107">The Performance Log Users group should include users that have permission to use the Performance Logs and Alert service to log counters on the local or remote server.</span></span> <span data-ttu-id="09ceb-108">Los privilegios de este grupo también incluyen la creación de archivos de registro en sistemas locales o remotos, el uso del servicio de alertas y la ejecución de programas como parte del servicio.</span><span class="sxs-lookup"><span data-stu-id="09ceb-108">Privileges of this group also include creating log files on local or remote systems, using the alerts service, and running programs as part of the service.</span></span>

<span data-ttu-id="09ceb-109">Tenga en cuenta que estos grupos de seguridad de rendimiento no son por sí mismos un mecanismo de restricción de acceso.</span><span class="sxs-lookup"><span data-stu-id="09ceb-109">Note that these performance security groups are not by themselves an access restriction mechanism.</span></span> <span data-ttu-id="09ceb-110">Para ello, debe usar estos grupos con el modelo de control de acceso a objetos de Windows.</span><span class="sxs-lookup"><span data-stu-id="09ceb-110">You must use these groups with the Windows object access-control model to do this.</span></span>

<span data-ttu-id="09ceb-111">La mayoría de las aplicaciones se comunican con el archivo DLL de rendimiento a través de un mecanismo IPC, normalmente la memoria compartida.</span><span class="sxs-lookup"><span data-stu-id="09ceb-111">Most applications communicate with the performance DLL through an IPC mechanism, typically shared memory.</span></span> <span data-ttu-id="09ceb-112">Por lo tanto, puede Agregar los miembros de un grupo de seguridad de rendimiento al descriptor de seguridad del objeto de memoria compartida para restringir el acceso al archivo DLL a esos miembros del grupo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="09ceb-112">Therefore, you can add the members of a performance security group to the security descriptor of the shared memory object to restrict access to the DLL to those members of the security group.</span></span> <span data-ttu-id="09ceb-113">Al hacerlo, también debe agregar los miembros del grupo al descriptor de seguridad de los objetos del sistema a los que el archivo DLL de rendimiento tiene acceso para proporcionar los datos del contador, por ejemplo, los archivos de registro y las carpetas.</span><span class="sxs-lookup"><span data-stu-id="09ceb-113">When doing this, you must also add the group members to the security descriptor of the system objects that the performance DLL accesses in order to provide counter data, for example, log files and folders.</span></span> <span data-ttu-id="09ceb-114">Para obtener información más detallada sobre cómo agregar ACL a descriptores de seguridad de objetos, consulte [modificar la ACL de un objeto](/windows/desktop/SecAuthZ/modifying-the-acls-of-an-object-in-c--).</span><span class="sxs-lookup"><span data-stu-id="09ceb-114">For more detailed information on adding ACLs to object security descriptors, refer to [Modifying an Object's ACL](/windows/desktop/SecAuthZ/modifying-the-acls-of-an-object-in-c--).</span></span>

<span data-ttu-id="09ceb-115">Otro método que puede usar para modificar la información de la ACL del descriptor de seguridad de un objeto del sistema IPC es especificar los miembros de la lista de grupos de seguridad de rendimiento con el lenguaje de definición de descriptores de seguridad (SDDL) y llamar a [**ConvertStringSecurityDescriptorToSecurityDescriptor**](/windows/desktop/api/sddl/nf-sddl-convertstringsecuritydescriptortosecuritydescriptora) para crear el descriptor de seguridad.</span><span class="sxs-lookup"><span data-stu-id="09ceb-115">Another method you can use to modify the ACL information of an IPC system object's security descriptor is to specify the members of the performance security group list with Security Descriptor Definition Language (SDDL) and call [**ConvertStringSecurityDescriptorToSecurityDescriptor**](/windows/desktop/api/sddl/nf-sddl-convertstringsecuritydescriptortosecuritydescriptora) to create the security descriptor.</span></span> <span data-ttu-id="09ceb-116">Este descriptor de seguridad se adjunta al objeto de sistema IPC.</span><span class="sxs-lookup"><span data-stu-id="09ceb-116">This security descriptor is then attached to the IPC system object.</span></span> <span data-ttu-id="09ceb-117">A continuación se muestra una cadena SDDL que incluye el grupo de usuarios del monitor de rendimiento, MU y el grupo de usuarios del registro de rendimiento, LU.</span><span class="sxs-lookup"><span data-stu-id="09ceb-117">The following shows an SDDL string that includes the Performance Monitor Users group, MU, and the Performance Log Users group, LU.</span></span>

``` syntax
D:(A;OICI;GA;;;SY)(A;OICI;GA;;;BA)(A;OICI;FRFWFXSDRC;;;NS)(A;OICI;FRFWFXSDRC;;;LU)(A;OICI;FRFX;;;MU) 
```

 

 
