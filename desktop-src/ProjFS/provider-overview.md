---
title: Información general del proveedor
description: Información general conceptual de una aplicación de proveedor.
ms.assetid: <GUID-GOES-HERE>
ms.date: 01/17/2020
ms.topic: article
ms.openlocfilehash: 89b49096b7b68a723b52b4eb998c446661b7d3c9
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/10/2020
ms.locfileid: "104488692"
---
# <a name="provider-overview"></a><span data-ttu-id="c7a2e-103">Información general del proveedor</span><span class="sxs-lookup"><span data-stu-id="c7a2e-103">Provider Overview</span></span>

<span data-ttu-id="c7a2e-104">El proveedor es una aplicación de modo de usuario que mantiene y entiende un almacén de datos de respaldo.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-104">The provider is a user-mode application that maintains and understands a backing data store.</span></span>  <span data-ttu-id="c7a2e-105">El proveedor implementa las devoluciones de llamada de ProjFS y usa la API ProjFS para proyectar este almacén de datos en el sistema de archivos en el que se muestra al usuario como archivos y directorios.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-105">The provider implements ProjFS callbacks and uses the ProjFS API to project this data store into the file system where it appears to the user as files and directories.</span></span>  <span data-ttu-id="c7a2e-106">La memoria auxiliar del proveedor puede ser local para el sistema del usuario o puede estar ubicada de forma remota.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-106">The provider’s backing store may be local to the user’s system, or it may be located remotely.</span></span>

## <a name="data-projection"></a><span data-ttu-id="c7a2e-107">Proyección de datos</span><span class="sxs-lookup"><span data-stu-id="c7a2e-107">Data Projection</span></span>

<span data-ttu-id="c7a2e-108">La parte del sistema de archivos que posee el proveedor, donde se proyectan los datos, se basa en un directorio denominado "virtualización raíz".</span><span class="sxs-lookup"><span data-stu-id="c7a2e-108">The part of the file system that the provider owns, where its data is projected, is rooted in a directory called the “virtualization root”.</span></span>  <span data-ttu-id="c7a2e-109">Cuando el proveedor desea empezar a proyectar sus datos, inicia una "instancia de virtualización", que es un objeto que administra la comunicación entre el proveedor y ProjFS para el conjunto de archivos y directorios ubicados en una raíz de virtualización concreta.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-109">When the provider wants to start projecting its data it starts a "virtualization instance", which is an object that manages communication between the provider and ProjFS for the set of files and directories located under a particular virtualization root.</span></span>  <span data-ttu-id="c7a2e-110">Los archivos y directorios que son descendientes de la raíz de virtualización que no ha creado localmente el usuario son materializados por el proveedor a través de la API de ProjFS.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-110">Any files and directories that are descendants of the virtualization root that have not been created locally by the user are materialized by the provider via the ProjFS API.</span></span>  <span data-ttu-id="c7a2e-111">Estos elementos se inician como archivos y directorios virtuales, lo que significa que no existen en el dispositivo de almacenamiento local del usuario, pero se insertan en los resultados de enumeración de ProjFS.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-111">These items start off as virtual files and directories, meaning that they do not exist on the user’s local storage device, but are injected into enumeration results by ProjFS.</span></span>  <span data-ttu-id="c7a2e-112">A medida que se abren y leen los elementos, ProjFS invoca las devoluciones de llamada implementadas por el proveedor para solicitar datos y el proveedor usa las API de ProjFS para enviar esos datos al almacenamiento local donde se almacenan en caché para el acceso posterior.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-112">As the items are opened and read, ProjFS invokes callbacks implemented by the provider to request data, and the provider uses ProjFS APIs to send that data to the local storage where it is cached for subsequent access.</span></span>  <span data-ttu-id="c7a2e-113">Si la vista del usuario del almacén de datos de respaldo debe cambiar, por ejemplo, si el contenido del almacén de datos ha cambiado, el proveedor puede usar las API de ProjFS para actualizar o eliminar elementos locales para reflejar la nueva vista del almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-113">If the user's view of the backing data store needs to change, for instance if the contents of the data store have changed, the provider can use ProjFS APIs to update or delete local items to reflect the new view of the data store.</span></span>

## <a name="callback-return-codes"></a><span data-ttu-id="c7a2e-114">Códigos de retorno de devolución de llamada</span><span class="sxs-lookup"><span data-stu-id="c7a2e-114">Callback return codes</span></span>

<span data-ttu-id="c7a2e-115">Cada devolución de llamada muestra un número de valores devueltos posibles específicos de esa devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-115">Each callback lists a number of possible return values specific to that callback.</span></span>  <span data-ttu-id="c7a2e-116">Además de los valores devueltos que se enumeran para una devolución de llamada determinada, una devolución de llamada también puede devolver otros códigos de error.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-116">In addition to the return values listed for a given callback, a callback may also return certain other error codes.</span></span>  <span data-ttu-id="c7a2e-117">Esta es la lista completa de códigos de error que puede devolver una devolución de llamada:</span><span class="sxs-lookup"><span data-stu-id="c7a2e-117">This is the complete list of error codes that a callback may return:</span></span>

| <span data-ttu-id="c7a2e-118">Código de error</span><span class="sxs-lookup"><span data-stu-id="c7a2e-118">Error Code</span></span>                                    | <span data-ttu-id="c7a2e-119">Significado</span><span class="sxs-lookup"><span data-stu-id="c7a2e-119">Meaning</span></span>
|-----------------------------------------------|--------
| <span data-ttu-id="c7a2e-120">S_OK</span><span class="sxs-lookup"><span data-stu-id="c7a2e-120">S_OK</span></span>                                          | <span data-ttu-id="c7a2e-121">Operación correcta</span><span class="sxs-lookup"><span data-stu-id="c7a2e-121">Operation Successful</span></span>
| <span data-ttu-id="c7a2e-122">E_OUTOFMEMORY</span><span class="sxs-lookup"><span data-stu-id="c7a2e-122">E_OUTOFMEMORY</span></span>                                 | <span data-ttu-id="c7a2e-123">No se pudo asignar la memoria necesaria.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-123">Failed to allocate necessary memory.</span></span>
| <span data-ttu-id="c7a2e-124">HRESULT_FROM_WIN32 (ERROR_IO_PENDING)</span><span class="sxs-lookup"><span data-stu-id="c7a2e-124">HRESULT_FROM_WIN32(ERROR_IO_PENDING)</span></span>          | <span data-ttu-id="c7a2e-125">El proveedor desea completar la operación más adelante.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-125">The provider wishes to complete the operation at a later time.</span></span>
| <span data-ttu-id="c7a2e-126">HRESULT_FROM_WIN32(ERROR_INSUFFICIENT_BUFFER)</span><span class="sxs-lookup"><span data-stu-id="c7a2e-126">HRESULT_FROM_WIN32(ERROR_INSUFFICIENT_BUFFER)</span></span> | <span data-ttu-id="c7a2e-127">Un búfer pasado a una devolución de llamada era demasiado pequeño.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-127">A buffer passed to a callback was too small.</span></span>
| <span data-ttu-id="c7a2e-128">HRESULT_FROM_WIN32(ERROR_FILE_NOT_FOUND)</span><span class="sxs-lookup"><span data-stu-id="c7a2e-128">HRESULT_FROM_WIN32(ERROR_FILE_NOT_FOUND)</span></span>      | <span data-ttu-id="c7a2e-129">El archivo no existe en la memoria auxiliar del proveedor.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-129">The file does not exist in the provider’s backing store.</span></span>
| <span data-ttu-id="c7a2e-130">HRESULT_FROM_WIN32 (ERROR_INVALID_PARAMETER)</span><span class="sxs-lookup"><span data-stu-id="c7a2e-130">HRESULT_FROM_WIN32(ERROR_INVALID_PARAMETER)</span></span>   | <span data-ttu-id="c7a2e-131">Un argumento de devolución de llamada no es válido.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-131">A callback argument is invalid.</span></span>  <span data-ttu-id="c7a2e-132">Por ejemplo, un identificador de enumeración no corresponde a una sesión de enumeración activa.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-132">For example, an enumeration ID doesn't correspond to an active enumeration session.</span></span>
| <span data-ttu-id="c7a2e-133">HRESULT_FROM_WIN32(ERROR_ACCESS_DENIED)</span><span class="sxs-lookup"><span data-stu-id="c7a2e-133">HRESULT_FROM_WIN32(ERROR_ACCESS_DENIED)</span></span>       | <span data-ttu-id="c7a2e-134">El proveedor desea impedir que se realice una operación, como cambiar el nombre o eliminar.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-134">The provider wishes to prevent an operation, such as a rename or delete, from taking place.</span></span>

<span data-ttu-id="c7a2e-135">Las devoluciones de llamada también pueden devolver cualquier error que puedan recibir de las llamadas a las API de ProjFS.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-135">Callbacks may also return any errors they may receive from calls to ProjFS APIs.</span></span>
<span data-ttu-id="c7a2e-136">Si una devolución de llamada devuelve un código de error que no está en la lista anterior o que no procedía de una API de ProjFS, ProjFS lo devolverá al sistema de archivos como STATUS_INTERNAL_ERROR.</span><span class="sxs-lookup"><span data-stu-id="c7a2e-136">If a callback returns an error code that is not on the preceding list or that did not come from a ProjFS API, ProjFS will return it to the file system as STATUS_INTERNAL_ERROR.</span></span>
