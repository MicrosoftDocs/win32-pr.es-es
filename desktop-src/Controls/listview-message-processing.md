---
title: Procesamiento List-View mensajes predeterminados
description: En esta sección se muestra el procesamiento de mensajes de ventana realizado por un control de vista de lista.
ms.assetid: c634c446-37e5-4f7c-b337-306c29961e58
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27daa334b8640c855c150216f68e8b243cacbc7b2fe9a218a7e3e17bf69402b8
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/11/2021
ms.locfileid: "119698845"
---
# <a name="default-list-view-message-processing"></a>Procesamiento List-View mensajes predeterminados

En esta sección se muestra el procesamiento de mensajes de ventana realizado por un control de vista de lista.

## <a name="message-processing"></a>Procesamiento de mensajes

En la tabla siguiente se describe el procesamiento de mensajes de ventana realizado por un control de vista de lista.



| Message                  | Procesamiento realizado                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|--------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **WM \_ CHAR**             | Busca un elemento de vista de lista que comience con el carácter especificado y, si se encuentra el elemento, selecciona y establece el foco en el elemento. Se concatenan varios caracteres recibidos dentro de un intervalo de tiempo de espera, que actualmente se fijan en un segundo, y el control de vista de lista busca un elemento que comienza con la cadena resultante.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **COMANDO \_ WM**          | Procesa los [códigos de notificación EN \_ UPDATE](en-update.md) [y EN \_ KILLFOCUS](en-killfocus.md) y reenvía todas las demás notificaciones de control de edición a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **WM \_ CREATE**           | Realiza la inicialización adicional a [**WM \_ NCCREATE**](/windows/desktop/winmsg/wm-nccreate). Si no se especifica el estilo de ventana [**LVS \_ SHAREIMAGELISTS,**](list-view-window-styles.md) el control de vista de lista crea el icono y las listas de imágenes de iconos pequeños en este momento.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **WM \_ DESTROY**          | Libera los recursos asignados durante [**WM \_ CREATE.**](/windows/desktop/winmsg/wm-create)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ ERASEBNDAND**       | Borra el fondo de la ventana con el color de fondo actual para el control de vista de lista. Si el color de fondo es el valor \_ CLR NONE, el control list-view reenvía el mensaje a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **WM \_ GETDLGCODE**       | Devuelve una combinación de los valores WANTTAB y \_ DLGC \_ WANTARROWS de DLGC.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **WM \_ GETFONT**          | Devuelve el identificador a la fuente de etiqueta actual.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **WM \_ HSCROLL**          | Desplaza horizontalmente el control list-view.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **WM \_ KEYDOWN**          | Procesa las teclas SPACEBAR, ENTER y arrow y envía un código [de notificación LVN \_ KEYDOWN](lvn-keydown.md) a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **WM \_ KILLFOCUS**        | Vuelve a dibujar el elemento de lista centrado, si lo hay, y envía un código de notificación [ \_ KILLFOCUS](nm-killfocus.md) nm a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **WM \_ LBUTTONDBLCLK**    | Envía a la ventana primaria un [código de \_ notificación DBLCLK de NM (vista de](nm-dblclk-list-view.md) lista).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **WM \_ LBUTTONDOWN**      | Se procesa de maneras diferentes en función de si se está iniciando una operación de clic o arrastre. Para determinar qué operación está implicada, el control list-view entra en un bucle de mensajes modal hasta que se libera el botón o se mueve el mouse. En el caso de un clic, el control de vista de lista puede cambiar qué elemento tiene el foco y qué elementos están seleccionados, teniendo en cuenta la posición del cursor, el estado de las teclas MAYÚS y CTRL, y así sucesivamente. A continuación, el control list-view envía a su ventana primaria un código de notificación [NM \_ CLICK (vista](nm-click-list-view.md) de lista).<br/> Si el arrastre comienza sobre un elemento, el control de vista de lista selecciona y establece el foco en el elemento. A continuación, envía un [código de notificación \_ BEGINDRAG](lvn-begindrag.md) de LVN a la ventana primaria. La ventana primaria es responsable de llevar a cabo realmente la operación de arrastre.<br/> Si el arrastre comienza sobre el fondo de la ventana, el control de vista de lista entra en otro bucle de mensajes modal, lo que permite al usuario formar un rectángulo arrastrando el mouse. Se seleccionan los elementos del rectángulo.<br/> |
| **WM \_ NCCREATE**         | Asigna e inicializa una estructura de datos interna y, a continuación, llama a la [**función DefWindowProc.**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **WM \_ NCDESTROY**        | Libera los recursos asignados por el control list-view. A menos que se utilice el estilo [**\_ LVS SHAREIMAGELISTS,**](list-view-window-styles.md) esto incluye eliminar las listas de imágenes pequeñas y de tamaño completo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **WM \_ NOTIFY**           | Procesa códigos de notificación de control de encabezado.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **WM \_ PAINT**            | Muestra los elementos de la región de actualización. En el caso de los elementos de devolución de llamada, el control envía primero un [código de notificación \_ GETDISPINFO de LVN](lvn-getdispinfo.md) a la ventana del propietario para solicitar información para mostrar. Si el *parámetro wParam* no es NULL, el control asume que el valor es un HDC y pinta con ese contexto de dispositivo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **WM \_ RBUTTONDOWN**      | Se procesó de la misma manera que el mensaje [**\_ WM LBUTTONDOWN,**](/windows/desktop/inputdev/wm-lbuttondown) salvo que el control envía un código de notificación [NM \_ RCLICK (vista](nm-rclick-list-view.md) de lista) (en lugar de NM CLICK (vista de [ \_ lista)](nm-click-list-view.md)y un código de notificación [LVN \_ BEGINRDRAG](lvn-beginrdrag.md) (en lugar de [LVN \_ BEGINDRAG).](lvn-begindrag.md) Tenga en cuenta que el control procesa el mensaje [**\_ RBUTTONUP de WM**](/windows/desktop/inputdev/wm-rbuttonup) correspondiente y no lo envía. Por lo tanto, las aplicaciones no pueden ver este mensaje, ni siquiera mediante la subclase del control .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ SETFOCUS**         | Vuelve a dibujar el elemento de lista centrado, si lo hay, y envía un código de notificación [ \_ SETFOCUS](nm-setfocus.md) de NM a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **WM \_ SETFONT**          | Guarda el identificador de fuente especificado, reenvía el mensaje a la ventana de encabezado, si lo hubiera, y vuelve a dibujar con la nueva fuente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ SETREDRAW**        | Activa o desactiva el dibujo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **TEMPORIZADOR \_ WM**            | Comienza la edición de una etiqueta de elemento. Si el usuario hace clic en la etiqueta del elemento centrado, el control de vista de lista establece un temporizador en lugar de entrar en modo de edición inmediatamente. El temporizador permite que el control  de vista de lista no entre en modo de edición si el usuario hace doble clic en la etiqueta.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ VSCROLL**          | Desplaza verticalmente el control list-view.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **VENTANA \_ WMPOSCHANGED** | Actualiza las barras de desplazamiento de la ventana. Si la vista actual es icono o vista de icono pequeño, y se especifica el estilo [**LVS \_ AUTOARRANGE,**](list-view-window-styles.md) el control de vista de lista también organizará los elementos de lista.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **WM \_ WININICHANGE**     | Procesa los cambios en las métricas del sistema.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |



 

 

