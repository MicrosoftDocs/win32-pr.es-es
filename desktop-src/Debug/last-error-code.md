---
description: Cuando se produce un error, la mayoría de las funciones del sistema devuelven un código de error, normalmente 0, NULL o &\# 8211; 1.
ms.assetid: fd5b0d6e-78cf-4f51-b61d-d32576cd485a
title: Código de Last-Error
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 80bf0fe2f544fc3d87690be81b0d09767745ef95
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103998145"
---
# <a name="last-error-code"></a><span data-ttu-id="f774d-103">Código de Last-Error</span><span class="sxs-lookup"><span data-stu-id="f774d-103">Last-Error Code</span></span>

<span data-ttu-id="f774d-104">Cuando se produce un error, la mayoría de las funciones del sistema devuelven un código de error, normalmente 0, **null** o – 1.</span><span class="sxs-lookup"><span data-stu-id="f774d-104">When an error occurs, most system functions return an error code, usually 0, **NULL**, or –1.</span></span> <span data-ttu-id="f774d-105">Muchas funciones del sistema también establecen un código de error adicional denominado *código de último error*.</span><span class="sxs-lookup"><span data-stu-id="f774d-105">Many system functions also set an additional error code called the *last-error code*.</span></span> <span data-ttu-id="f774d-106">Este código de error se mantiene por separado para cada subproceso en ejecución; un error en un subproceso no sobrescribe el código de último error en otro subproceso.</span><span class="sxs-lookup"><span data-stu-id="f774d-106">This error code is maintained separately for each running thread; an error in one thread does not overwrite the last-error code in another thread.</span></span> <span data-ttu-id="f774d-107">Cualquier función puede llamar a la función [**SetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-setlasterror) o [**SetLastErrorEx**](/windows/desktop/api/Winuser/nf-winuser-setlasterrorex) para establecer el último código de error del subproceso actual.</span><span class="sxs-lookup"><span data-stu-id="f774d-107">Any function can call the [**SetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-setlasterror) or [**SetLastErrorEx**](/windows/desktop/api/Winuser/nf-winuser-setlasterrorex) function to set the last-error code for the current thread.</span></span> <span data-ttu-id="f774d-108">Estas funciones están pensadas principalmente para las bibliotecas de vínculos dinámicos (DLL), por lo que pueden proporcionar información a la aplicación que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="f774d-108">These functions are intended primarily for dynamic-link libraries (DLL), so they can provide information to the calling application.</span></span> <span data-ttu-id="f774d-109">Tenga en cuenta que algunas funciones llaman a **SetLastError** o **SetLastErrorEx** con 0 cuando se ejecutan correctamente, borrando el código de error establecido por la función con error más reciente, mientras que otros no.</span><span class="sxs-lookup"><span data-stu-id="f774d-109">Note that some functions call **SetLastError** or **SetLastErrorEx** with 0 when they succeed, wiping out the error code set by the most recently failed function, while others do not.</span></span>

<span data-ttu-id="f774d-110">Una aplicación puede recuperar el código de último error mediante la función [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror) . el código de error puede indicar más información sobre lo que se produjo realmente para que se produzca un error en la función.</span><span class="sxs-lookup"><span data-stu-id="f774d-110">An application can retrieve the last-error code by using the [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror) function; the error code may tell more about what actually occurred to make the function fail.</span></span> <span data-ttu-id="f774d-111">La documentación de las funciones del sistema indicará las condiciones en las que la función establece el código de último error.</span><span class="sxs-lookup"><span data-stu-id="f774d-111">The documentation for system functions will indicate the conditions under which the function sets the last-error code.</span></span>

<span data-ttu-id="f774d-112">El sistema define un conjunto de códigos de error que se pueden establecer como códigos de último error o que pueden ser devueltos por estas funciones.</span><span class="sxs-lookup"><span data-stu-id="f774d-112">The system defines a set of error codes that can be set as last-error codes or be returned by these functions.</span></span> <span data-ttu-id="f774d-113">Los códigos de error son valores de 32 bits (el bit 31 es el bit más significativo).</span><span class="sxs-lookup"><span data-stu-id="f774d-113">Error codes are 32-bit values (bit 31 is the most significant bit).</span></span> <span data-ttu-id="f774d-114">El bit 29 está reservado para los códigos de error definidos por la aplicación; ningún código de error del sistema tiene este bit establecido.</span><span class="sxs-lookup"><span data-stu-id="f774d-114">Bit 29 is reserved for application-defined error codes; no system error code has this bit set.</span></span> <span data-ttu-id="f774d-115">Si define los códigos de error de la aplicación, establezca este bit para indicar que una aplicación ha definido el código de error y para asegurarse de que los códigos de error no entran en conflicto con los códigos de error definidos por el sistema.</span><span class="sxs-lookup"><span data-stu-id="f774d-115">If you define error codes for your application, set this bit to indicate that the error code has been defined by an application and to ensure that the error codes do not conflict with any system-defined error codes.</span></span> <span data-ttu-id="f774d-116">Para obtener más información, consulte WinError. h y [códigos de error del sistema](system-error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="f774d-116">For more information, see WinError.h and [System Error Codes](system-error-codes.md).</span></span>

 

 
