---
title: Cuadro de diálogo Fuente
description: El cuadro de diálogo fuente permite al usuario elegir atributos para una fuente lógica, como la familia de fuentes y el estilo de fuente asociado, el tamaño de los puntos, los efectos (subrayado, tachado y color del texto) y un script (o juego de caracteres).
ms.assetid: e8a996aa-4e34-45d0-a325-9c20b1a6ce07
keywords:
- Interfaz de usuario de Windows, entrada de usuario
- Interfaz de usuario de Windows, biblioteca de cuadros de diálogo comunes
- entrada de usuario, biblioteca de cuadros de diálogo comunes
- capturar la entrada del usuario, la biblioteca de cuadros de diálogo comunes
- Biblioteca de cuadros de diálogo comunes
- cuadros de diálogo comunes
- Fuente (cuadro de diálogo)
- cuadro de diálogo Personalizar fuente
- marcas, fuente (cuadro de diálogo)
- marcas de inicialización
- cuadros de diálogo predefinidos
- cuadros de diálogo, fuente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f9a752ce53ecf496c58efb0c346a8c3d67c4f1b1
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104078305"
---
# <a name="font-dialog-box"></a><span data-ttu-id="088f3-115">Cuadro de diálogo Fuente</span><span class="sxs-lookup"><span data-stu-id="088f3-115">Font Dialog Box</span></span>

<span data-ttu-id="088f3-116">El cuadro de diálogo **fuente** permite al usuario elegir atributos para una fuente lógica, como la familia de fuentes y el estilo de fuente asociado, el tamaño de los puntos, los efectos (subrayado, tachado y color del texto) y un script (o juego de caracteres).</span><span class="sxs-lookup"><span data-stu-id="088f3-116">The **Font** dialog box lets the user choose attributes for a logical font, such as font family and associated font style, point size, effects (underline, strikeout, and text color), and a script (or character set).</span></span>

<span data-ttu-id="088f3-117">Puede crear y mostrar un cuadro de diálogo de **fuente** inicializando una estructura [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) y pasando la estructura a la función [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) .</span><span class="sxs-lookup"><span data-stu-id="088f3-117">You create and display a **Font** dialog box by initializing a [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure and passing the structure to the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function.</span></span>

<span data-ttu-id="088f3-118">En la captura de pantalla siguiente se muestra un cuadro de diálogo de **fuente** típico.</span><span class="sxs-lookup"><span data-stu-id="088f3-118">The following screen shot shows a typical **Font** dialog box.</span></span>

![captura de pantalla que muestra el cuadro de diálogo fuente](images/fontdialogboxxp.png)

<span data-ttu-id="088f3-120">Si el usuario hace clic en el botón **Aceptar** , la función [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) devuelve **true** y establece la información sobre la selección del usuario en la estructura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) .</span><span class="sxs-lookup"><span data-stu-id="088f3-120">If the user clicks the **OK** button, the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function returns **TRUE** and sets the information about the user's selection in the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure.</span></span>

<span data-ttu-id="088f3-121">Si el usuario cancela el cuadro de diálogo **fuente** o se produce un error, [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) devuelve **false** y no se define el contenido de la estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) .</span><span class="sxs-lookup"><span data-stu-id="088f3-121">If the user cancels the **Font** dialog box or an error occurs, [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) returns **FALSE** and the contents of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure are not defined.</span></span> <span data-ttu-id="088f3-122">Puede determinar la causa de un error mediante la función [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) para recuperar el valor de error extendido.</span><span class="sxs-lookup"><span data-stu-id="088f3-122">You can determine the cause of an error by using the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="088f3-123">Los temas siguientes se describen en esta sección.</span><span class="sxs-lookup"><span data-stu-id="088f3-123">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="088f3-124">Marcas de inicialización del cuadro de diálogo fuente</span><span class="sxs-lookup"><span data-stu-id="088f3-124">Font Dialog Box Initialization Flags</span></span>](#font-dialog-box-initialization-flags)
-   [<span data-ttu-id="088f3-125">Personalizar el cuadro de diálogo fuente en versiones anteriores de Windows</span><span class="sxs-lookup"><span data-stu-id="088f3-125">Customizing the Font Dialog Box on earlier versions of Windows</span></span>](#customizing-the-font-dialog-box-on-earlier-versions-of-windows)
-   [<span data-ttu-id="088f3-126">Personalización del cuadro de diálogo fuente en Windows 7</span><span class="sxs-lookup"><span data-stu-id="088f3-126">Customizing the Font Dialog Box on Windows 7</span></span>](#customizing-the-font-dialog-box-on-windows-7)

## <a name="font-dialog-box-initialization-flags"></a><span data-ttu-id="088f3-127">Marcas de inicialización del cuadro de diálogo fuente</span><span class="sxs-lookup"><span data-stu-id="088f3-127">Font Dialog Box Initialization Flags</span></span>

<span data-ttu-id="088f3-128">Antes de llamar a [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta), el miembro **Flags** de la estructura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) debe especificar **CF \_ SCREENFONTS**, **CF \_ PRINTERFONTS** o **CF \_ both** para indicar si el cuadro de diálogo debe mostrar fuentes de pantalla, fuentes de impresora o ambos.</span><span class="sxs-lookup"><span data-stu-id="088f3-128">Before calling [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta), the **Flags** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure must specify **CF\_SCREENFONTS**, **CF\_PRINTERFONTS**, or **CF\_BOTH**, to indicate whether the dialog box should list screen fonts, printer fonts, or both.</span></span> <span data-ttu-id="088f3-129">Si especifica **CF \_ PRINTERFONTS** o **CF en \_ ambos**, el miembro **HDC** de la estructura **CHOOSEFONT** debe especificar un identificador de un contexto de dispositivo para la impresora.</span><span class="sxs-lookup"><span data-stu-id="088f3-129">If you specify **CF\_PRINTERFONTS** or **CF\_BOTH**, the **hDC** member of the **CHOOSEFONT** structure must specify a handle to a device context for the printer.</span></span>

<span data-ttu-id="088f3-130">Si se establece la marca **CF \_ PRINTERFONTS** o **CF \_ both** , la etiqueta tipo de fuente Descripción aparece en la parte inferior del cuadro de diálogo **fuente** .</span><span class="sxs-lookup"><span data-stu-id="088f3-130">If the **CF\_PRINTERFONTS** or **CF\_BOTH** flag is set, the font type description label appears at the bottom of the **Font** dialog box.</span></span>

<span data-ttu-id="088f3-131">A partir de Windows 7, las marcas **CF \_ PRINTERFONTS**, **CF \_ SCREENFONTS**, **CF \_** y **CF \_ WYSIWYG** ya no se usan en la función [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para la enumeración de fuentes.</span><span class="sxs-lookup"><span data-stu-id="088f3-131">Starting with Windows 7, the **CF\_PRINTERFONTS**, **CF\_SCREENFONTS**, **CF\_BOTH**, and **CF\_WYSIWYG** flags are no longer used by the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function for font enumeration.</span></span> <span data-ttu-id="088f3-132">Están obsoletas en Windows 7.</span><span class="sxs-lookup"><span data-stu-id="088f3-132">They are obsolete in Windows 7.</span></span> <span data-ttu-id="088f3-133">Sin embargo, la marca **CF \_ PRINTERFONTS** conserva una función: para mostrar la etiqueta de Descripción del tipo de fuente en la parte inferior del cuadro de diálogo **fuente** .</span><span class="sxs-lookup"><span data-stu-id="088f3-133">However, the **CF\_PRINTERFONTS** flag retains one function: to display the font type description label at the bottom of the **Font** dialog box.</span></span>

<span data-ttu-id="088f3-134">Puede usar el miembro **Flags** para habilitar o deshabilitar algunos de los controles de cuadro de diálogo **fuente** , y puede usar el miembro **Flags** junto con otros miembros [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para controlar los valores iniciales de algunos controles.</span><span class="sxs-lookup"><span data-stu-id="088f3-134">You can use the **Flags** member to enable or disable some of the **Font** dialog box controls, and you can use the **Flags** member in conjunction with other [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) members to control the initial values of some controls.</span></span>

<span data-ttu-id="088f3-135">**Para mostrar los controles que permiten al usuario seleccionar las opciones de tachado, subrayado y color:**</span><span class="sxs-lookup"><span data-stu-id="088f3-135">**To display the controls that allow the user to select strikeout, underline, and color options:**</span></span>

-   <span data-ttu-id="088f3-136">Establezca la marca de **\_ efectos de CF** .</span><span class="sxs-lookup"><span data-stu-id="088f3-136">Set the **CF\_EFFECTS** flag.</span></span> <span data-ttu-id="088f3-137">Puede usar el miembro **rgbColors** de la estructura [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para especificar un color de fuente inicial.</span><span class="sxs-lookup"><span data-stu-id="088f3-137">You can use the **rgbColors** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure to specify an initial font color.</span></span>

<span data-ttu-id="088f3-138">**Para especificar los valores iniciales de los controles de cuadro de diálogo fuente, estilo de fuente, tamaño, tachado y subrayado:**</span><span class="sxs-lookup"><span data-stu-id="088f3-138">**To specify the initial values for the Font, Font Style, Size, Strikeout, and Underline dialog box controls:**</span></span>

1.  <span data-ttu-id="088f3-139">Para especificar los valores iniciales de los controles de cuadro de diálogo fuente, estilo de fuente, tamaño, tachado y subrayado:</span><span class="sxs-lookup"><span data-stu-id="088f3-139">To specify the initial values for the Font, Font Style, Size, Strikeout, and Underline dialog box controls:</span></span>
2.  <span data-ttu-id="088f3-140">Establezca la **marca CF \_ INITTOLOGFONTSTRUCT** en el miembro **Flags** , junto con los miembros de la estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) a los que apunta **lpLogFont**, para especificar los valores iniciales de los atributos de fuente.</span><span class="sxs-lookup"><span data-stu-id="088f3-140">Set the **CF\_INITTOLOGFONTSTRUCT** flag in the **Flags** member, along with members of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that is pointed to by the **lpLogFont**, to specify the initial values for the font attributes.</span></span>
3.  <span data-ttu-id="088f3-141">También puede usar las marcas **CF \_ NOFACESEL**, **CF \_ NOSTYLESEL** y **CF \_ NOSIZESEL** para impedir que el cuadro de diálogo **fuente** muestre los valores iniciales de los controles correspondientes.</span><span class="sxs-lookup"><span data-stu-id="088f3-141">You can also use the **CF\_NOFACESEL**, **CF\_NOSTYLESEL**, and **CF\_NOSIZESEL** flags to prevent the **Font** dialog box from displaying initial values for the corresponding controls.</span></span> <span data-ttu-id="088f3-142">Esto resulta útil cuando se trabaja con una selección de texto que tiene más de un tipo de letra, estilo o tamaño de punto.</span><span class="sxs-lookup"><span data-stu-id="088f3-142">This is useful when you are working with a selection of text that has more than one typeface, style, or point size.</span></span> <span data-ttu-id="088f3-143">Estos valores también se establecerán en **marcas** cuando [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) devuelva, si el usuario no ha seleccionado un valor correspondiente.</span><span class="sxs-lookup"><span data-stu-id="088f3-143">These values will also be set in **Flags** when [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) returns, if the user did not select a corresponding value.</span></span>

<span data-ttu-id="088f3-144">**Para inicializar el control de estilo de fuente en un nombre de estilo especificado**</span><span class="sxs-lookup"><span data-stu-id="088f3-144">**To initialize the Font Style control to a specified style name**</span></span>

-   <span data-ttu-id="088f3-145">Establezca la marca **CF \_ USESTYLE** y use el miembro **lpszStyle** para especificar el nombre de estilo.</span><span class="sxs-lookup"><span data-stu-id="088f3-145">Set the **CF\_USESTYLE** flag and use the **lpszStyle** member to specify the style name.</span></span>

> [!Note]  
> <span data-ttu-id="088f3-146">Para globalizar la aplicación, especifique el estilo mediante los miembros **lfWeight** y **lfItalic** de la estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) a la que apunta **lpLogFont**.</span><span class="sxs-lookup"><span data-stu-id="088f3-146">To globalize your application, specify the style by using the **lfWeight** and **lfItalic** members of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that is pointed to by **lpLogFont**.</span></span> <span data-ttu-id="088f3-147">El nombre de estilo puede cambiar en función del idioma de la interfaz de usuario del sistema.</span><span class="sxs-lookup"><span data-stu-id="088f3-147">The style name may change depending on the system user interface language.</span></span>

 

<span data-ttu-id="088f3-148">**Para mostrar el botón aplicar**</span><span class="sxs-lookup"><span data-stu-id="088f3-148">**To display the Apply button**</span></span>

-   <span data-ttu-id="088f3-149">Establezca la marca **CF \_ Apply** y proporcione un procedimiento de enlace para procesar los mensajes de [**\_ comando de WM**](/windows/desktop/menurc/wm-command) para el botón **aplicar** .</span><span class="sxs-lookup"><span data-stu-id="088f3-149">Set the **CF\_APPLY** flag and provide a hook procedure to process [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages for the **Apply** button.</span></span> <span data-ttu-id="088f3-150">El procedimiento de enlace puede enviar el mensaje de [**\_ CHOOSEFONT \_ GETLOGFONT de WM**](wm-choosefont-getlogfont.md) al cuadro de diálogo para recuperar la dirección de la estructura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) que contiene las selecciones actuales de la fuente.</span><span class="sxs-lookup"><span data-stu-id="088f3-150">The hook procedure can send the [**WM\_CHOOSEFONT\_GETLOGFONT**](wm-choosefont-getlogfont.md) message to the dialog box to retrieve the address of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that contains the current selections for the font.</span></span>

<span data-ttu-id="088f3-151">**Para mostrar el botón ayuda**</span><span class="sxs-lookup"><span data-stu-id="088f3-151">**To display the Help button**</span></span>

-   <span data-ttu-id="088f3-152">Establezca la marca **CF \_ SHOWHELP** .</span><span class="sxs-lookup"><span data-stu-id="088f3-152">Set the **CF\_SHOWHELP** flag.</span></span> <span data-ttu-id="088f3-153">El miembro **hwndOwner** debe identificar la ventana que recibirá el mensaje registrado [**HELPMSGSTRING**](helpmsgstring.md) cuando el usuario haga clic en el botón **ayuda** .</span><span class="sxs-lookup"><span data-stu-id="088f3-153">The **hwndOwner** member must identify the window to receive the [**HELPMSGSTRING**](helpmsgstring.md) registered message when the user clicks the **Help** button.</span></span>

<span data-ttu-id="088f3-154">**Para restringir las fuentes que se muestran en el cuadro de diálogo**</span><span class="sxs-lookup"><span data-stu-id="088f3-154">**To restrict the fonts displayed in the dialog box**</span></span>

-   <span data-ttu-id="088f3-155">Establezca cualquier combinación de las **marcas \_ CF TTONLY**, **CF \_ FIXEDPITCHONLY**, **CF \_ NOVECTORFONTS**, **CF \_ NOVERTFONTS**, **CF \_ SCALABLEONLY** y **CF \_ WYSIWYG** .</span><span class="sxs-lookup"><span data-stu-id="088f3-155">Set any combination of the **CF\_TTONLY**, **CF\_FIXEDPITCHONLY**, **CF\_NOVECTORFONTS**, **CF\_NOVERTFONTS**, **CF\_SCALABLEONLY**, and **CF\_WYSIWYG** flags.</span></span> <span data-ttu-id="088f3-156">También puede restringir los estilos disponibles que el cuadro de diálogo muestra para algunas fuentes mediante el valor de **CF \_ nosimulations** .</span><span class="sxs-lookup"><span data-stu-id="088f3-156">You can also restrict the available styles that the dialog box displays for some fonts by using the **CF\_NOSIMULATIONS** value.</span></span>

<span data-ttu-id="088f3-157">A partir de Windows 7, la lista de fuentes que se muestran en el cuadro de diálogo se restringe según las fuentes mostradas del usuario.</span><span class="sxs-lookup"><span data-stu-id="088f3-157">Starting with Windows 7, the list of fonts displayed in the dialog box is restricted based on the user's shown fonts.</span></span> <span data-ttu-id="088f3-158">Para quitar la restricción, establezca la marca **CF \_ INACTIVEFONTS** .</span><span class="sxs-lookup"><span data-stu-id="088f3-158">To remove the restriction, set the **CF\_INACTIVEFONTS** flag.</span></span>

<span data-ttu-id="088f3-159">**Para restringir los nombres de tipo de letra, los estilos y los tamaños de punto que el usuario puede especificar**</span><span class="sxs-lookup"><span data-stu-id="088f3-159">**To restrict the typeface names, styles, and point sizes that the user can specify**</span></span>

1.  <span data-ttu-id="088f3-160">Establezca la marca **CF \_ FORCEFONTEXIST** para restringir al usuario que solo especifique nombres de tipo de letra válidos, estilos y tamaños de punto que se enumeran en el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="088f3-160">Set the **CF\_FORCEFONTEXIST** flag to restrict the user to specifying only valid typeface names, styles, and point sizes listed in the dialog box.</span></span>
2.  <span data-ttu-id="088f3-161">Establezca la marca de **\_ límite de CF** para impedir que el usuario especifique los tamaños de punto en el intervalo especificado por los miembros **nSizeMin** y **nSizeMax** .</span><span class="sxs-lookup"><span data-stu-id="088f3-161">Set the **CF\_LIMITSIZE** flag to restrict the user to specifying point sizes in the range specified by the **nSizeMin** and **nSizeMax** members.</span></span>

<span data-ttu-id="088f3-162">**Para restringir o deshabilitar el cuadro combinado scripts**</span><span class="sxs-lookup"><span data-stu-id="088f3-162">**To restrict or disable the Scripts combo box**</span></span>

-   <span data-ttu-id="088f3-163">Establezca la **marca CF \_ NOSCRIPTSEL** en deshabilitar el cuadro combinado **scripts** o establezca la marca **CF \_ SELECTSCRIPT** para restringir selecciones en el cuadro combinado **scripts** a un juego de caracteres especificado.</span><span class="sxs-lookup"><span data-stu-id="088f3-163">Set the **CF\_NOSCRIPTSEL** flag to disable the **Scripts** combo box, or set the **CF\_SELECTSCRIPT** flag to restrict selections in the **Scripts** combo box to a specified character set.</span></span>

## <a name="customizing-the-font-dialog-box-on-earlier-versions-of-windows"></a><span data-ttu-id="088f3-164">Personalizar el cuadro de diálogo fuente en versiones anteriores de Windows</span><span class="sxs-lookup"><span data-stu-id="088f3-164">Customizing the Font Dialog Box on earlier versions of Windows</span></span>

<span data-ttu-id="088f3-165">Puede proporcionar una plantilla personalizada para el cuadro de diálogo **fuente** , por ejemplo, si desea incluir controles adicionales que son exclusivos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="088f3-165">You can provide a custom template for the **Font** dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="088f3-166">La función [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) usa la plantilla personalizada en lugar de la plantilla predeterminada.</span><span class="sxs-lookup"><span data-stu-id="088f3-166">The [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function uses your custom template in place of the default template.</span></span>

<span data-ttu-id="088f3-167">**Para proporcionar una plantilla personalizada para el cuadro de diálogo fuente**</span><span class="sxs-lookup"><span data-stu-id="088f3-167">**To provide a custom template for the Font dialog box**</span></span>

1.  <span data-ttu-id="088f3-168">Cree la plantilla personalizada modificando la plantilla predeterminada especificada en el archivo font. Dlg.</span><span class="sxs-lookup"><span data-stu-id="088f3-168">Create the custom template by modifying the default template specified in the Font.dlg file.</span></span> <span data-ttu-id="088f3-169">Los identificadores de control usados en la plantilla de cuadro de diálogo de fuente predeterminada se definen en el archivo Dlgs. h.</span><span class="sxs-lookup"><span data-stu-id="088f3-169">The control identifiers used in the default Font dialog template are defined in the Dlgs.h file.</span></span>
2.  <span data-ttu-id="088f3-170">Use la estructura [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para habilitar la plantilla de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="088f3-170">Use the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="088f3-171">Si la plantilla personalizada es un recurso de una aplicación o una biblioteca de vínculos dinámicos, establezca la marca **CF \_ ENABLETEMPLATE** en el miembro **Flags** .</span><span class="sxs-lookup"><span data-stu-id="088f3-171">If your custom template is a resource in an application or dynamic link library, set the **CF\_ENABLETEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="088f3-172">Use los miembros **hInstance** y **lpTemplateName** de la estructura para identificar el nombre del módulo y del recurso.</span><span class="sxs-lookup"><span data-stu-id="088f3-172">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>
    -   <span data-ttu-id="088f3-173">Si la plantilla personalizada ya está en la memoria, establezca la marca **CF \_ ENABLETEMPLATEHANDLE** .</span><span class="sxs-lookup"><span data-stu-id="088f3-173">If your custom template is already in memory, set the **CF\_ENABLETEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="088f3-174">Use el miembro **hInstance** para identificar el objeto de memoria que contiene la plantilla.</span><span class="sxs-lookup"><span data-stu-id="088f3-174">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="088f3-175">Puede proporcionar un procedimiento de enlace [**CFHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcfhookproc) para el cuadro de diálogo **fuente** .</span><span class="sxs-lookup"><span data-stu-id="088f3-175">You can provide a [**CFHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcfhookproc) hook procedure for the **Font** dialog box.</span></span> <span data-ttu-id="088f3-176">El procedimiento de enlace puede procesar los mensajes enviados al cuadro de diálogo y enviar mensajes al cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="088f3-176">The hook procedure can process messages sent to the dialog box and send messages to the dialog box.</span></span> <span data-ttu-id="088f3-177">Si usa una plantilla personalizada para definir controles adicionales, debe proporcionar un procedimiento de enlace para procesar la entrada para los controles.</span><span class="sxs-lookup"><span data-stu-id="088f3-177">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

<span data-ttu-id="088f3-178">**Para habilitar un procedimiento de enlace para el cuadro de diálogo fuente**</span><span class="sxs-lookup"><span data-stu-id="088f3-178">**To enable a hook procedure for the Font dialog box**</span></span>

1.  <span data-ttu-id="088f3-179">Establezca la marca **CF \_ ENABLEHOOK** en el miembro **Flags** de la estructura [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) .</span><span class="sxs-lookup"><span data-stu-id="088f3-179">Set the **CF\_ENABLEHOOK** flag in the **Flags** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure.</span></span>
2.  <span data-ttu-id="088f3-180">Especifique la dirección del procedimiento de enlace en el miembro **lpfnHook** .</span><span class="sxs-lookup"><span data-stu-id="088f3-180">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="088f3-181">Después de procesar el mensaje de [**\_ INITDIALOG de WM**](wm-initdialog.md) , el procedimiento de cuadro de diálogo envía un mensaje de **WM \_ INITDIALOG** al procedimiento de enlace.</span><span class="sxs-lookup"><span data-stu-id="088f3-181">After processing the [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="088f3-182">El parámetro *lParam* de este mensaje es un puntero a la estructura [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) que se usa para inicializar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="088f3-182">The *lParam* parameter of this message is a pointer to the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure that is used to initialize the dialog box.</span></span>

<span data-ttu-id="088f3-183">El procedimiento de enlace puede enviar los mensajes [**WM \_ CHOOSEFONT \_ GETLOGFONT**](wm-choosefont-getlogfont.md), [**WM \_ CHOOSEFONT \_ SETLOGFONT**](wm-choosefont-setlogfont.md)y [**WM \_ CHOOSEFONT \_ SETFLAGS**](wm-choosefont-setflags.md) al cuadro de diálogo para obtener y establecer los valores actuales y los marcadores del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="088f3-183">The hook procedure can send the [**WM\_CHOOSEFONT\_GETLOGFONT**](wm-choosefont-getlogfont.md), [**WM\_CHOOSEFONT\_SETLOGFONT**](wm-choosefont-setlogfont.md), and [**WM\_CHOOSEFONT\_SETFLAGS**](wm-choosefont-setflags.md) messages to the dialog box to get and set the current values and flags of the dialog box.</span></span>

## <a name="customizing-the-font-dialog-box-on-windows-7"></a><span data-ttu-id="088f3-184">Personalización del cuadro de diálogo fuente en Windows 7</span><span class="sxs-lookup"><span data-stu-id="088f3-184">Customizing the Font Dialog Box on Windows 7</span></span>

<span data-ttu-id="088f3-185">En la captura de pantalla siguiente se muestra un cuadro de diálogo de **fuente** típico en Windows 7.</span><span class="sxs-lookup"><span data-stu-id="088f3-185">The following screen shot shows a typical **Font** dialog box in Windows 7.</span></span>

![captura de pantalla que muestra el cuadro fuente dialob](images/fontdialogboxwin7.png)

<span data-ttu-id="088f3-187">En versiones anteriores de Windows, el archivo de plantilla Font. Dlg contiene una plantilla ChooseFont predeterminada.</span><span class="sxs-lookup"><span data-stu-id="088f3-187">In earlier Windows versions, the font.dlg template file contains one default ChooseFont template.</span></span> <span data-ttu-id="088f3-188">El archivo de plantilla Font. Dlg en Windows 7 contiene dos plantillas predeterminadas: la predeterminada de las versiones anteriores de Windows y la nueva plantilla ChooseFont de Windows 7.</span><span class="sxs-lookup"><span data-stu-id="088f3-188">The font.dlg template file on Windows 7 contains two default templates: the default template from earlier Windows versions and the new Windows 7 ChooseFont template.</span></span> <span data-ttu-id="088f3-189">Por lo tanto, cuando Personalice el cuadro de diálogo **fuente** en Windows 7, debe tener en cuenta los siguientes problemas.</span><span class="sxs-lookup"><span data-stu-id="088f3-189">Therefore, when you customize the **Font** dialog box on Windows 7, you must consider the following issues.</span></span>

1.  <span data-ttu-id="088f3-190">Use la nueva plantilla al crear plantillas personalizadas para las aplicaciones que se ejecutan en Windows 7.</span><span class="sxs-lookup"><span data-stu-id="088f3-190">Use the new template when you create custom templates for applications that run on Windows 7.</span></span> <span data-ttu-id="088f3-191">Esta nueva plantilla contiene un control de vínculo en el que el usuario puede hacer clic para iniciar la ventana **fuentes del panel de control** , como se muestra en la siguiente captura de pantalla.</span><span class="sxs-lookup"><span data-stu-id="088f3-191">This new template contains a link control that the user can click to launch the **Fonts Control Panel** window, as shown in the following screen shot.</span></span>

    ![captura de pantalla que muestra el panel de control fuente en Windows 7](images/fontcontrolpanelforwin7.png)

2.  <span data-ttu-id="088f3-193">Para usar este control de vínculo, la aplicación que realiza la llamada debe usar la COMCTL32.DLL versión 6 o posterior.</span><span class="sxs-lookup"><span data-stu-id="088f3-193">To use this link control, your calling application must use the COMCTL32.DLL version 6 or later.</span></span> <span data-ttu-id="088f3-194">De lo contrario, la función [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) devuelve un error cuando intenta crear el control de vínculo en la plantilla personalizada.</span><span class="sxs-lookup"><span data-stu-id="088f3-194">Otherwise, the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function returns an error when it tries to create the link control in your custom template.</span></span> <span data-ttu-id="088f3-195">Para determinar si este control está habilitado, compile la aplicación que realiza la llamada en COMCTL32.DLL versión 6,0.</span><span class="sxs-lookup"><span data-stu-id="088f3-195">To determine if this control is enabled, compile your calling application against COMCTL32.DLL version 6.0.</span></span> <span data-ttu-id="088f3-196">Para obtener más información, vea [habilitar estilos visuales con controles comunes](/previous-versions//ms649781(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="088f3-196">For more information, see [Enabling Visual Styles with Common Controls](/previous-versions//ms649781(v=vs.85)).</span></span>
3.  <span data-ttu-id="088f3-197">Si la aplicación usa COMCTL32.DLL versión 5,0 o anterior, debe hacer lo siguiente al crear una plantilla personalizada:</span><span class="sxs-lookup"><span data-stu-id="088f3-197">If your application uses COMCTL32.DLL version 5.0 or earlier, you must do the following when you create a custom template:</span></span>

    -   <span data-ttu-id="088f3-198">Especifique el control como un **pulsador**.</span><span class="sxs-lookup"><span data-stu-id="088f3-198">Specify the control as a **PUSHBUTTON**.</span></span> <span data-ttu-id="088f3-199">El control usado para iniciar el **Panel de control fuentes** aparecerá como un botón en lugar de como un vínculo.</span><span class="sxs-lookup"><span data-stu-id="088f3-199">The control used to launch the **Fonts Control Panel** will appear as a button rather than as a link.</span></span>
    -   <span data-ttu-id="088f3-200">Reemplace el texto siguiente en la fuente. Dlg:</span><span class="sxs-lookup"><span data-stu-id="088f3-200">Replace the following text in the font.dlg:</span></span>

        `CONTROL         "<A>Show more fonts</A>", IDC_MANAGE_LINK, "SysLink", WS_TABSTOP, 7, 199, 227, 9`

        <span data-ttu-id="088f3-201">con el siguiente texto:</span><span class="sxs-lookup"><span data-stu-id="088f3-201">with the following text:</span></span>

        `PUSHBUTTON      "S&how more fonts", IDC_MANAGE_LINK, 7, 199, 74, 14 , WS_TABSTOP`

    -   <span data-ttu-id="088f3-202">Para asegurarse de que la aplicación usa una plantilla personalizada, debe especificar una plantilla personalizada con la marca **CF \_ ENABLETEMPLATE** , crear una plantilla personalizada basada en la plantilla ChooseFont de Windows 7 y, a continuación, habilitar opcionalmente un procedimiento de enlace.</span><span class="sxs-lookup"><span data-stu-id="088f3-202">To ensure that your application uses a custom template, you must specify a custom template with the **CF\_ENABLETEMPLATE** flag, create a custom template based on the Windows 7 ChooseFont template, and then optionally enable a hook procedure.</span></span>

        <span data-ttu-id="088f3-203">Si habilita un procedimiento de enlace sin crear una plantilla personalizada, se cargará la plantilla predeterminada de ChooseFont para versiones anteriores de Windows.</span><span class="sxs-lookup"><span data-stu-id="088f3-203">If you enable a hook procedure without creating a custom template, the default ChooseFont template for earlier Windows versions will be loaded.</span></span>

> [!Note]  
> <span data-ttu-id="088f3-204">Debe especificar el tipo de control **control** o **PUSHBUTTON** en la nueva plantilla, en función de la versión de COMMCTL.DLL con la que se compile la aplicación.</span><span class="sxs-lookup"><span data-stu-id="088f3-204">You must specify the **CONTROL** or **PUSHBUTTON** control type in your new template, depending on the version of COMMCTL.DLL that your application compiles against.</span></span> <span data-ttu-id="088f3-205">Tenga en cuenta también que las características específicas de Windows 7, como la presentación WYSIWYG de listas de fuentes y familias extendidas, no están disponibles cuando las aplicaciones se ejecutan en versiones anteriores del sistema operativo Windows.</span><span class="sxs-lookup"><span data-stu-id="088f3-205">Also note that Windows 7 specific features, such as WYSIWYG display of font lists and extended families, are not available when your applications run on earlier versions of the Windows operating system.</span></span>

 

 

 