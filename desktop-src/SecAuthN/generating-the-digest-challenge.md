---
description: El desafío Microsoft Digest se genera mediante la llamada inicial del servidor a la función AcceptSecurityContext (síntesis).
ms.assetid: d33383c2-5c0d-401f-ab28-2a985f6508e0
title: Generar el desafío de síntesis
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 511ec4f01c90acf08669835f9728cc711dfd1023
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104278586"
---
# <a name="generating-the-digest-challenge"></a><span data-ttu-id="5131d-103">Generar el desafío de síntesis</span><span class="sxs-lookup"><span data-stu-id="5131d-103">Generating the Digest Challenge</span></span>

<span data-ttu-id="5131d-104">El desafío Microsoft Digest se genera mediante la llamada inicial del servidor a la función [**AcceptSecurityContext (síntesis)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="5131d-104">The Microsoft Digest challenge is generated by the server's initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="5131d-105">Esta llamada de función genera un valor de seguridad (nonce), que es un valor único que contiene información que se puede usar para detectar infracciones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="5131d-105">This function call generates a nonce, which is a unique value that contains information that can be used to detect security violations.</span></span> <span data-ttu-id="5131d-106">Esta llamada también genera un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly) parcial que se usa para mantener la información de estado.</span><span class="sxs-lookup"><span data-stu-id="5131d-106">This call also generates a partial [*security context*](/windows/desktop/SecGloss/s-gly) which is used to maintain state information.</span></span> <span data-ttu-id="5131d-107">Cuando se llama a **AcceptSecurityContext (digest)** , se especifican marcas de requisitos de contexto para controlar el comportamiento de Microsoft Digest y para establecer la calidad de protección.</span><span class="sxs-lookup"><span data-stu-id="5131d-107">When calling **AcceptSecurityContext (Digest)** you specify context requirements flags to control the behavior of Microsoft Digest and to set the quality of protection.</span></span> <span data-ttu-id="5131d-108">Para obtener más información, vea [requisitos de contexto de desafío de síntesis](#digest-challenge-context-requirements).</span><span class="sxs-lookup"><span data-stu-id="5131d-108">For more information, see [Digest Challenge Context Requirements](#digest-challenge-context-requirements).</span></span>

<span data-ttu-id="5131d-109">La salida de la llamada inicial a la [*función*](/windows/desktop/SecGloss/c-gly) [**AcceptSecurityContext (digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) es un búfer de seguridad que contiene un token que se envía al cliente con una respuesta http 401 (acceso denegado).</span><span class="sxs-lookup"><span data-stu-id="5131d-109">The output from the initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) [*function*](/windows/desktop/SecGloss/c-gly) is a security buffer that contains a token that is sent to the client with an HTTP 401 response (Access Denied).</span></span>

> [!Note]  
> <span data-ttu-id="5131d-110">Las llamadas a [**AcceptSecurityContext (digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) que no contienen información en los búferes de entrada devuelven un desafío de síntesis.</span><span class="sxs-lookup"><span data-stu-id="5131d-110">Calls to [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) that do not contain information in the input buffers return a Digest challenge.</span></span>

 

## <a name="digest-challenge-context-requirements"></a><span data-ttu-id="5131d-111">Requisitos de contexto de desafío de síntesis</span><span class="sxs-lookup"><span data-stu-id="5131d-111">Digest Challenge Context Requirements</span></span>

<span data-ttu-id="5131d-112">Los requisitos de contexto son marcas que determinan:</span><span class="sxs-lookup"><span data-stu-id="5131d-112">Context requirements are flags that determine:</span></span>

-   <span data-ttu-id="5131d-113">Si Microsoft Digest funciona como un mecanismo SASL o un protocolo de autenticación HTTP.</span><span class="sxs-lookup"><span data-stu-id="5131d-113">Whether Microsoft Digest functions as a SASL mechanism or HTTP authentication protocol.</span></span>
-   <span data-ttu-id="5131d-114">Calidad de protección admitida por el contexto de seguridad compartido por el cliente y el servidor.</span><span class="sxs-lookup"><span data-stu-id="5131d-114">The quality of protection supported by the security context shared by the client and server.</span></span>

<span data-ttu-id="5131d-115">De forma predeterminada, Microsoft Digest funciona como un mecanismo SASL.</span><span class="sxs-lookup"><span data-stu-id="5131d-115">By default, Microsoft Digest functions as a SASL mechanism.</span></span> <span data-ttu-id="5131d-116">Para usarlo para la autenticación HTTP, el \_ \_ servidor debe establecer la marca ASC req http (0x10000000).</span><span class="sxs-lookup"><span data-stu-id="5131d-116">To use it for HTTP authentication, the ASC\_REQ\_HTTP ( 0x10000000) flag must be set by the server.</span></span>

<span data-ttu-id="5131d-117">Los requisitos de contexto se especifican como marcas pasadas al parámetro *fContextReq* de la función [**AcceptSecurityContext (implícita)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="5131d-117">Context requirements are specified as flags passed to the *fContextReq* parameter of the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="5131d-118">Las marcas afectan a la calidad de protección del contexto de seguridad mediante el control de la Directiva qop en el desafío.</span><span class="sxs-lookup"><span data-stu-id="5131d-118">The flags affect the security context's quality of protection by controlling the qop directive in the challenge.</span></span>

<span data-ttu-id="5131d-119">De forma predeterminada, la Directiva qop se establece en "auth".</span><span class="sxs-lookup"><span data-stu-id="5131d-119">By default, the qop directive is set to "auth".</span></span> <span data-ttu-id="5131d-120">Para generar un desafío que establezca la Directiva qop en "auth-int", el servidor debe especificar una o varias de las marcas siguientes:</span><span class="sxs-lookup"><span data-stu-id="5131d-120">To generate a challenge that sets the qop directive to "auth-int", the server must specify one or more of the following flags:</span></span>

-   <span data-ttu-id="5131d-121">\_integridad de REQ de ASC \_</span><span class="sxs-lookup"><span data-stu-id="5131d-121">ASC\_REQ\_INTEGRITY</span></span>
-   <span data-ttu-id="5131d-122">\_detección de \_ repeticiones de ASC req \_</span><span class="sxs-lookup"><span data-stu-id="5131d-122">ASC\_REQ\_REPLAY\_DETECT</span></span>
-   <span data-ttu-id="5131d-123">\_detección de \_ secuencia de REQ de ASC \_</span><span class="sxs-lookup"><span data-stu-id="5131d-123">ASC\_REQ\_SEQUENCE\_DETECT</span></span>

<span data-ttu-id="5131d-124">Solo para SASL: genera un desafío con la Directiva qop establecida en "auth-conf" mediante la especificación de la \_ marca de requisito de contexto de confidencialidad de ASC req \_ .</span><span class="sxs-lookup"><span data-stu-id="5131d-124">For SASL only: Generate a challenge with the qop directive set to "auth-conf" by specifying the ASC\_REQ\_CONFIDENTIALITY context requirement flag.</span></span> <span data-ttu-id="5131d-125">Dado que esta marca no es válida para la autenticación HTTP, no se puede usar con la \_ marca de http req de ASC \_ .</span><span class="sxs-lookup"><span data-stu-id="5131d-125">Because this flag is not valid for HTTP authentication, it cannot be used with the ASC\_REQ\_HTTP flag.</span></span>

<span data-ttu-id="5131d-126">Para obtener más información sobre la Directiva qop, vea [calidad de protección y cifrado](quality-of-protection-and-ciphers.md).</span><span class="sxs-lookup"><span data-stu-id="5131d-126">For more information about the qop directive, see [Quality of Protection and Ciphers](quality-of-protection-and-ciphers.md).</span></span>

<span data-ttu-id="5131d-127">Para obtener más información sobre los desafíos, consulte [contenido de un desafío de síntesis](contents-of-a-digest-challenge.md).</span><span class="sxs-lookup"><span data-stu-id="5131d-127">For more information about challenges, see [Contents of a Digest Challenge](contents-of-a-digest-challenge.md).</span></span>

 

 
