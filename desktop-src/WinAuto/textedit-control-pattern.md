---
title: Patrón de control TextEdit
description: Presenta directrices y convenciones para implementar ITextEditProvider, incluida información sobre propiedades y métodos.
ms.assetid: AA9E04AC-1AC0-6434-ADEF-9FF82ADA7CD9
keywords:
- Automatización de la interfaz de usuario, implementar el patrón de control TextEdit
- Automatización de la interfaz de usuario, patrón de control TextEdit
- patrones de control, TextEdit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bdf8512db4f676a263bf46bdbdfea7b6b7eaba11
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104359378"
---
# <a name="textedit-control-pattern"></a><span data-ttu-id="e7800-106">Patrón de control TextEdit</span><span class="sxs-lookup"><span data-stu-id="e7800-106">TextEdit Control Pattern</span></span>

<span data-ttu-id="e7800-107">Presenta directrices y convenciones para implementar [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), incluida información sobre propiedades y métodos.</span><span class="sxs-lookup"><span data-stu-id="e7800-107">Introduces guidelines and conventions for implementing [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), including information about properties and methods.</span></span> <span data-ttu-id="e7800-108">El patrón de control **TextEdit** se usa para el acceso mediante programación a un control que modifica texto, por ejemplo, un control que realiza la corrección automática o habilita la composición de entradas.</span><span class="sxs-lookup"><span data-stu-id="e7800-108">The **TextEdit** control pattern is used for programmatic access to a control that modifies text, for example a control that performs auto-correction or enables input composition.</span></span>

> [!Note]  
> <span data-ttu-id="e7800-109">Las notas de implementación de este tema hacen referencia a las API que proceden de Text Services Framework (TSF).</span><span class="sxs-lookup"><span data-stu-id="e7800-109">Implementation notes in this topic refer to APIs that come from Text Services Framework (TSF).</span></span> <span data-ttu-id="e7800-110">Para obtener más información sobre TSF y la referencia de API, vea [Text Services Framework](/windows/desktop/TSF/text-services-framework).</span><span class="sxs-lookup"><span data-stu-id="e7800-110">For more info about TSF and the API reference, see [Text Services Framework](/windows/desktop/TSF/text-services-framework).</span></span>

 

## <a name="required-members-for-itexteditprovider"></a><span data-ttu-id="e7800-111">Miembros requeridos para **ITextEditProvider**</span><span class="sxs-lookup"><span data-stu-id="e7800-111">Required Members for **ITextEditProvider**</span></span>

<span data-ttu-id="e7800-112">Estas propiedades y métodos son necesarios para implementar la interfaz [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) .</span><span class="sxs-lookup"><span data-stu-id="e7800-112">These properties and methods are required for implementing the [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) interface.</span></span>



| <span data-ttu-id="e7800-113">Miembros requeridos</span><span class="sxs-lookup"><span data-stu-id="e7800-113">Required members</span></span>                                                              | <span data-ttu-id="e7800-114">Tipo de miembro</span><span class="sxs-lookup"><span data-stu-id="e7800-114">Member type</span></span> | <span data-ttu-id="e7800-115">Notas</span><span class="sxs-lookup"><span data-stu-id="e7800-115">Notes</span></span>                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------------------------------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e7800-116">**GetActiveComposition**</span><span class="sxs-lookup"><span data-stu-id="e7800-116">**GetActiveComposition**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getactivecomposition) | <span data-ttu-id="e7800-117">Método</span><span class="sxs-lookup"><span data-stu-id="e7800-117">Method</span></span>      | <span data-ttu-id="e7800-118">Devuelve el intervalo de la conversión actual (ninguno si no hay ninguna conversión).</span><span class="sxs-lookup"><span data-stu-id="e7800-118">Returns the range of the current conversion (none if there is no conversion).</span></span> <span data-ttu-id="e7800-119">Devuelve la composición activa (en TSF, este es el intervalo marcado por el **GUID \_ prop \_ componiendo**).</span><span class="sxs-lookup"><span data-stu-id="e7800-119">Return the active composition (in TSF, this is the range marked by **GUID\_PROP\_COMPOSING**).</span></span> <span data-ttu-id="e7800-120">Por ejemplo, con el editor de métodos de entrada (IME) japonés de Microsoft, este sería el texto subrayado completo.</span><span class="sxs-lookup"><span data-stu-id="e7800-120">For example with the Microsoft Japanese Input Method Editor (IME), this would be the full underlined text.</span></span> |
| [<span data-ttu-id="e7800-121">**GetConversionTarget**</span><span class="sxs-lookup"><span data-stu-id="e7800-121">**GetConversionTarget**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getconversiontarget)   | <span data-ttu-id="e7800-122">Método</span><span class="sxs-lookup"><span data-stu-id="e7800-122">Method</span></span>      | <span data-ttu-id="e7800-123">Devuelve el intervalo de destino de la conversión actual (ninguno si no hay conversión).</span><span class="sxs-lookup"><span data-stu-id="e7800-123">Returns the current conversion target range (none if no conversion).</span></span> <span data-ttu-id="e7800-124">En TSF, este es el intervalo de caracteres marcados como destino de **TF \_ ATTR \_ \_ NOTCONVERTED** o **TF \_ ATTR \_ target \_ convertido** a partir de la estructura **TF \_ DISPLAYATTRIBUTE** .</span><span class="sxs-lookup"><span data-stu-id="e7800-124">In TSF, this is the range of characters marked as **TF\_ATTR\_TARGET\_NOTCONVERTED** or **TF\_ATTR\_TARGET\_CONVERTED** from the **TF\_DISPLAYATTRIBUTE** structure.</span></span>                                               |



 

<span data-ttu-id="e7800-125">Los elementos de automatización de la interfaz de usuario de Microsoft que admiten el patrón **TextEdit** deben generar los eventos **TextEditTextChanged** y **ConversionTargetChanged** .</span><span class="sxs-lookup"><span data-stu-id="e7800-125">The **TextEditTextChanged** and **ConversionTargetChanged** events are required to be raised by Microsoft UI Automation elements supporting the **TextEdit** pattern.</span></span>

### <a name="textedittextchanged"></a><span data-ttu-id="e7800-126">**TextEditTextChanged**</span><span class="sxs-lookup"><span data-stu-id="e7800-126">**TextEditTextChanged**</span></span>

-   <span data-ttu-id="e7800-127">Utilice la función [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) para generar el evento **TextEditTextChanged** .</span><span class="sxs-lookup"><span data-stu-id="e7800-127">Use the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) function to raise the **TextEditTextChanged** event.</span></span>
-   <span data-ttu-id="e7800-128">En la tabla siguiente se enumeran los casos en los que se debe generar el evento y los parámetros [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) que se van a usar.</span><span class="sxs-lookup"><span data-stu-id="e7800-128">The following table lists the cases when you should raise the event and the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) parameters to use.</span></span>



| <span data-ttu-id="e7800-129">TextEditChangeType</span><span class="sxs-lookup"><span data-stu-id="e7800-129">TextEditChangeType</span></span>                                            | <span data-ttu-id="e7800-130">Carga del evento</span><span class="sxs-lookup"><span data-stu-id="e7800-130">Event Payload</span></span>                                | <span data-ttu-id="e7800-131">Notas</span><span class="sxs-lookup"><span data-stu-id="e7800-131">Notes</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------------------------------------|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e7800-132">**Autocorrección**</span><span class="sxs-lookup"><span data-stu-id="e7800-132">**AutoCorrect**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="e7800-133">Nueva cadena corregida</span><span class="sxs-lookup"><span data-stu-id="e7800-133">New corrected string</span></span>                         | <span data-ttu-id="e7800-134">Se genera cuando el control realiza una corrección automática.</span><span class="sxs-lookup"><span data-stu-id="e7800-134">Raised when an auto-correction is made by the control.</span></span> <span data-ttu-id="e7800-135">O cada vez que se realiza un reemplazo a través de TSF y el intervalo tiene un **GUID \_ prop \_ TKB valor \_ alternativo** de **TKB \_ alternativos se \_ \_ aplica la Autocorrección**.</span><span class="sxs-lookup"><span data-stu-id="e7800-135">Or whenever a replacement is made through TSF and the range has a **GUID\_PROP\_TKB\_ALTERNATES** value of **TKB\_ALTERNATES\_AUTOCORRECTION\_APPLIED**.</span></span><br/>                                                                                                                                                                   |
| [<span data-ttu-id="e7800-136">**Composición**</span><span class="sxs-lookup"><span data-stu-id="e7800-136">**Composition**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="e7800-137">La cadena actualizada</span><span class="sxs-lookup"><span data-stu-id="e7800-137">The updated string</span></span>                           | <span data-ttu-id="e7800-138">La carga útil solo debe incluir los caracteres que han cambiado (no enviar toda la cadena de composición).</span><span class="sxs-lookup"><span data-stu-id="e7800-138">The payload must only include the characters that changed (do not send the entire composition string).</span></span> <span data-ttu-id="e7800-139">Se genera cuando se realiza un reemplazo de composición.</span><span class="sxs-lookup"><span data-stu-id="e7800-139">Raised whenever a composition replacement is made.</span></span> <span data-ttu-id="e7800-140">En TSF, un reemplazo de composición se define como un reemplazo que tiene establecida la marca de **\_ \_ composición de prop de GUID** .</span><span class="sxs-lookup"><span data-stu-id="e7800-140">In TSF, a composition replacement is defined as a replacement that has the **GUID\_PROP\_COMPOSING** flag set.</span></span> <span data-ttu-id="e7800-141">Los controles de edición que implementan TSF pueden supervisar estos cambios a través de la notificación **OnEndEdit** .</span><span class="sxs-lookup"><span data-stu-id="e7800-141">Edit controls implementing TSF can monitor for these changes via the **OnEndEdit** notification.</span></span><br/>         |
| [<span data-ttu-id="e7800-142">**CompositionFinalized**</span><span class="sxs-lookup"><span data-stu-id="e7800-142">**CompositionFinalized**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype) | <span data-ttu-id="e7800-143">Cadena de composición finalizada (vea las notas)</span><span class="sxs-lookup"><span data-stu-id="e7800-143">The finalized composition string (see Notes)</span></span> | <span data-ttu-id="e7800-144">En TSF, la cadena de conversión que se va a finalizar se define mediante la marca de composición del **GUID \_ \_** que se va a quitar de una composición.</span><span class="sxs-lookup"><span data-stu-id="e7800-144">In TSF, the conversion string being finalized is defined by the **GUID\_PROP\_COMPOSING** flag being removed from a composition.</span></span> <span data-ttu-id="e7800-145">Los controles de edición que implementan TSF deben determinar la cadena finalizada desde **EndComposition** y generar el evento cuando se llama a **OnEndEdit** .</span><span class="sxs-lookup"><span data-stu-id="e7800-145">Edit controls implementing TSF should determine the finalized string from **EndComposition** and raise the event when **OnEndEdit** is called.</span></span><br/> <span data-ttu-id="e7800-146">La cadena de composición finalizada puede estar vacía si la composición se canceló o se eliminó.</span><span class="sxs-lookup"><span data-stu-id="e7800-146">The finalized composition string may be empty if composition was cancelled or deleted.</span></span><br/> |



 

### <a name="conversiontargetchanged"></a><span data-ttu-id="e7800-147">**ConversionTargetChanged**</span><span class="sxs-lookup"><span data-stu-id="e7800-147">**ConversionTargetChanged**</span></span>

-   <span data-ttu-id="e7800-148">**ConversionTargetChanged** se produce cuando el destino de la conversión cambia de un destino a otro.</span><span class="sxs-lookup"><span data-stu-id="e7800-148">**ConversionTargetChanged** occurs when conversion target changes from one target to another.</span></span>
-   <span data-ttu-id="e7800-149">Use la función [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) para generar el evento **ConversionTargetChanged** (pase el identificador de eventos [**\_ \_ ConversionTargetChangedEventId de UIA TextEdit**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) ).</span><span class="sxs-lookup"><span data-stu-id="e7800-149">Use the [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) function to raise the **ConversionTargetChanged** event (pass the [**UIA\_TextEdit\_ConversionTargetChangedEventId**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) event identifier).</span></span>
-   <span data-ttu-id="e7800-150">No se debe generar **ConversionTargetChanged** cuando cambia el contenido del destino.</span><span class="sxs-lookup"><span data-stu-id="e7800-150">**ConversionTargetChanged** should not be raised when the content of the target changes.</span></span> <span data-ttu-id="e7800-151">Si el cambio de destino se produce de forma simultánea con un cambio de composición, el evento de cambio de destino debe generarse una vez que ya se hayan producido eventos de composición.</span><span class="sxs-lookup"><span data-stu-id="e7800-151">If the target change occurs simultaneous with a composition change, the target change event must be raised after any composition events have already been raised.</span></span>
-   <span data-ttu-id="e7800-152">En TSF, el destino de la conversión se define mediante el valor **TF \_ ATTR \_ target \_ convertido** que se establece a partir de la estructura **TF \_ DISPLAYATTRIBUTE** .</span><span class="sxs-lookup"><span data-stu-id="e7800-152">In TSF, the conversion target is defined by the value **TF\_ATTR\_TARGET\_CONVERTED** being set from the **TF\_DISPLAYATTRIBUTE** structure.</span></span> <span data-ttu-id="e7800-153">Los cambios pueden supervisarse mediante **OnEndEdit**.</span><span class="sxs-lookup"><span data-stu-id="e7800-153">Changes can be monitored using **OnEndEdit**.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e7800-154">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e7800-154">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="e7800-155">**Vista**</span><span class="sxs-lookup"><span data-stu-id="e7800-155">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="e7800-156">Tipos de control y sus patrones de control admitidos</span><span class="sxs-lookup"><span data-stu-id="e7800-156">Control Types and Their Supported Control Patterns</span></span>](uiauto-controlpatternmapping.md)
</dt> <dt>

[<span data-ttu-id="e7800-157">Información general acerca de los patrones de control de UI Automation</span><span class="sxs-lookup"><span data-stu-id="e7800-157">UI Automation Control Patterns Overview</span></span>](uiauto-controlpatternsoverview.md)
</dt> <dt>

[<span data-ttu-id="e7800-158">Información general sobre el árbol de la UI Automation</span><span class="sxs-lookup"><span data-stu-id="e7800-158">UI Automation Tree Overview</span></span>](uiauto-treeoverview.md)
</dt> </dl>

 

