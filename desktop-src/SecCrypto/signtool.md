---
title: SignTool
description: SignTool es una herramienta de línea de comandos que firma archivos digitalmente, comprueba las firmas de los archivos y marca los archivos de marcas de tiempo.
ms.assetid: aa59cb35-5fba-4ce8-97ea-fc767c83f88e
ms.topic: article
ms.date: 10/12/2020
ms.openlocfilehash: 884d4c132a2877a51cef7610dd32e8ef6b9c4bc3
ms.sourcegitcommit: 25e1fa2b3641ae13b79e0afdf9cb7a168d99e009
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/16/2020
ms.locfileid: "104421575"
---
# <a name="signtool"></a><span data-ttu-id="3717c-103">SignTool</span><span class="sxs-lookup"><span data-stu-id="3717c-103">SignTool</span></span>

<span data-ttu-id="3717c-104">SignTool es una herramienta de línea de comandos que firma archivos digitalmente, comprueba las firmas de los archivos y marca los archivos de marcas de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-104">SignTool is a command-line tool that digitally signs files, verifies the signatures in files, and timestamps files.</span></span> <span data-ttu-id="3717c-105">Para obtener información sobre por qué es importante la firma de los archivos, vea [Introducción a la firma de código](cryptography-tools.md).</span><span class="sxs-lookup"><span data-stu-id="3717c-105">For information about why signing files is important, see [Introduction to Code Signing](cryptography-tools.md).</span></span> <span data-ttu-id="3717c-106">La herramienta se instala en la \\ carpeta bin de la ruta de instalación del kit de desarrollo de software (SDK) de Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="3717c-106">The tool is installed in the \\Bin folder of the Microsoft Windows Software Development Kit (SDK) installation path.</span></span>

<span data-ttu-id="3717c-107">SignTool está disponible como parte de la Windows SDK, que puede descargar desde <https://developer.microsoft.com/windows/downloads/windows-10-sdk/> .</span><span class="sxs-lookup"><span data-stu-id="3717c-107">SignTool is available as part of the Windows SDK, which you can download from <https://developer.microsoft.com/windows/downloads/windows-10-sdk/>.</span></span>

> [!Note]  
> <span data-ttu-id="3717c-108">El SDK de Windows 10, Windows 10 HLK, Windows 10 WDK y Windows 10 ADK **compilaciones 20236 y versiones posteriores** requerirán ahora la especificación del algoritmo de síntesis.</span><span class="sxs-lookup"><span data-stu-id="3717c-108">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and above** will now require specifying the digest algorithm.</span></span> <span data-ttu-id="3717c-109">El comando SignTool Sign requiere `file digest algorithm` `timestamp digest algorithm` que se especifique/FD y la opción/TD durante la firma y la marca de tiempo, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="3717c-109">The SignTool sign command requires the /fd `file digest algorithm` and the /td `timestamp digest algorithm` option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="3717c-110">Se producirá una advertencia (código de error 0, inicialmente) si no se especifica/FD durante la firma y si/TD no se especifica durante la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-110">A warning (error code 0, initially) will be thrown if /fd is not specified during signing and if /td is not specified during timestamping.</span></span> <span data-ttu-id="3717c-111">En versiones posteriores de SignTool, la advertencia se convertirá en un error.</span><span class="sxs-lookup"><span data-stu-id="3717c-111">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="3717c-112">Se recomienda SHA256, el que el sector considera más seguro que SHA1.</span><span class="sxs-lookup"><span data-stu-id="3717c-112">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  


## <a name="syntax"></a><span data-ttu-id="3717c-113">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="3717c-113">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  

## <a name="parameters"></a><span data-ttu-id="3717c-114">Parámetros</span><span class="sxs-lookup"><span data-stu-id="3717c-114">Parameters</span></span>  
  
|<span data-ttu-id="3717c-115">Argumento</span><span class="sxs-lookup"><span data-stu-id="3717c-115">Argument</span></span>|<span data-ttu-id="3717c-116">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-116">Description</span></span>|  
|----|----|  
|`command`|<span data-ttu-id="3717c-117">Uno de los cuatro comandos (`catdb`, `sign`, `Timestamp` o `Verify`) que especifica una operación para realizar en un archivo.</span><span class="sxs-lookup"><span data-stu-id="3717c-117">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="3717c-118">Para obtener una descripción de cada comando, vea la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="3717c-118">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="3717c-119">Una opción que modifica un comando.</span><span class="sxs-lookup"><span data-stu-id="3717c-119">An option that modifies a command.</span></span> <span data-ttu-id="3717c-120">Además de las opciones globales `/q` y `/v`, cada comando admite un conjunto único de opciones.</span><span class="sxs-lookup"><span data-stu-id="3717c-120">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="3717c-121">Ruta de acceso a un archivo que se va a firmar.</span><span class="sxs-lookup"><span data-stu-id="3717c-121">The path to a file to sign.</span></span>| 


<span data-ttu-id="3717c-122">SignTool admite los siguientes comandos.</span><span class="sxs-lookup"><span data-stu-id="3717c-122">The following commands are supported by SignTool.</span></span>

|<span data-ttu-id="3717c-123">Get-Help</span><span class="sxs-lookup"><span data-stu-id="3717c-123">Command</span></span>|<span data-ttu-id="3717c-124">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-124">Description</span></span>|  
|----|----|  
|`Catdb`|<span data-ttu-id="3717c-125">Agrega un archivo de catálogo a una base de datos de catálogo o bien lo quita de esta.</span><span class="sxs-lookup"><span data-stu-id="3717c-125">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="3717c-126">Las bases de datos de catálogo se utilizan para la búsqueda automática de archivos de catálogo y se identifican mediante un GUID.</span><span class="sxs-lookup"><span data-stu-id="3717c-126">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="3717c-127">Para obtener una lista de las opciones admitidas por el comando `catdb`, vea [Opciones del comando catdb](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span><span class="sxs-lookup"><span data-stu-id="3717c-127">For a list of the options supported by the `catdb` command, see [catdb Command Options](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span></span>|  
|`Sign`|<span data-ttu-id="3717c-128">Firma archivos digitalmente.</span><span class="sxs-lookup"><span data-stu-id="3717c-128">Digitally signs files.</span></span> <span data-ttu-id="3717c-129">Las signaturas digitales protegen los archivos contra la manipulación y permiten a los usuarios comprobar el firmante en función de un certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-129">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="3717c-130">Para obtener una lista de las opciones admitidas por el comando `sign`, vea [Opciones del comando sign](/dotnet/framework/tools/signtool-exe#sign-command-options).</span><span class="sxs-lookup"><span data-stu-id="3717c-130">For a list of the options supported by the `sign` command, see [sign Command Options](/dotnet/framework/tools/signtool-exe#sign-command-options).</span></span>|  
|`Timestamp`|<span data-ttu-id="3717c-131">Asigna marcas de tiempo a archivos.</span><span class="sxs-lookup"><span data-stu-id="3717c-131">Time-stamps files.</span></span> <span data-ttu-id="3717c-132">Para obtener una lista de las opciones admitidas por el comando `TimeStamp`, vea [Opciones del comando TimeStamp](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span><span class="sxs-lookup"><span data-stu-id="3717c-132">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span></span>|  
|`Verify`|<span data-ttu-id="3717c-133">Comprueba la signatura digital de los archivos; para ello, determina si una autoridad de confianza ha emitido el certificado de firma, si se ha revocado y, opcionalmente, si es válido para una directiva determinada.</span><span class="sxs-lookup"><span data-stu-id="3717c-133">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="3717c-134">Para obtener una lista de las opciones admitidas por el comando `Verify`, vea [Opciones del comando Verify](/dotnet/framework/tools/signtool-exe#verify-command-options).</span><span class="sxs-lookup"><span data-stu-id="3717c-134">For a list of the options supported by the `Verify` command, see [Verify Command Options](/dotnet/framework/tools/signtool-exe#verify-command-options).</span></span>|

 <span data-ttu-id="3717c-135">Las opciones siguientes se aplican a todos los comandos de la herramienta Firmar.</span><span class="sxs-lookup"><span data-stu-id="3717c-135">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="3717c-136">Opción global</span><span class="sxs-lookup"><span data-stu-id="3717c-136">Global option</span></span>|<span data-ttu-id="3717c-137">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-137">Description</span></span>|  
|----|----|  
|<span data-ttu-id="3717c-138">**/q**</span><span class="sxs-lookup"><span data-stu-id="3717c-138">**/q**</span></span>|<span data-ttu-id="3717c-139">No muestra ninguna salida si el comando se ejecuta correctamente y muestra el resultado mínimo si se produce un error en el comando.</span><span class="sxs-lookup"><span data-stu-id="3717c-139">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="3717c-140">**/v**</span><span class="sxs-lookup"><span data-stu-id="3717c-140">**/v**</span></span>|<span data-ttu-id="3717c-141">Muestra resultados detallados independientemente de si el comando se ejecuta correctamente o no y muestra mensajes de advertencia.</span><span class="sxs-lookup"><span data-stu-id="3717c-141">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="3717c-142">**/debug**</span><span class="sxs-lookup"><span data-stu-id="3717c-142">**/debug**</span></span>|<span data-ttu-id="3717c-143">Muestra información de depuración.</span><span class="sxs-lookup"><span data-stu-id="3717c-143">Displays debugging information.</span></span>|  

 
## <a name="catdb-command-options"></a><span data-ttu-id="3717c-144">Opciones del comando CatDB</span><span class="sxs-lookup"><span data-stu-id="3717c-144">Catdb command options</span></span>  

 <span data-ttu-id="3717c-145">En la tabla siguiente se enumeran las opciones que se pueden utilizar con el comando `Catdb`.</span><span class="sxs-lookup"><span data-stu-id="3717c-145">The following table lists the options that can be used with the `Catdb` command.</span></span>

| <span data-ttu-id="3717c-146">Opción de catdb</span><span class="sxs-lookup"><span data-stu-id="3717c-146">Catdb option</span></span> | <span data-ttu-id="3717c-147">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-147">Description</span></span> |
|----|----| 
| <span data-ttu-id="3717c-148">**/d**</span><span class="sxs-lookup"><span data-stu-id="3717c-148">**/d**</span></span> | <span data-ttu-id="3717c-149">Especifica que se va a actualizar la base de datos de catálogo predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3717c-149">Specifies that the default catalog database be updated.</span></span> <span data-ttu-id="3717c-150">Si no se usa la opción **/d** ni **/g** , SignTool actualiza el componente del sistema y la base de datos del controlador.</span><span class="sxs-lookup"><span data-stu-id="3717c-150">If neither the **/d** nor **/g** option is used, SignTool updates the system component and driver database.</span></span> |
| <span data-ttu-id="3717c-151">**/g** ( *GUID* )</span><span class="sxs-lookup"><span data-stu-id="3717c-151">**/g** *GUID*</span></span> | <span data-ttu-id="3717c-152">Especifica que se actualice la base de datos de catálogo identificada por el GUID.</span><span class="sxs-lookup"><span data-stu-id="3717c-152">Specifies that the catalog database identified by the GUID be updated.</span></span>|
| <span data-ttu-id="3717c-153">**/r**</span><span class="sxs-lookup"><span data-stu-id="3717c-153">**/r**</span></span> | <span data-ttu-id="3717c-154">Quita el catálogo especificado de la base de datos de catálogo.</span><span class="sxs-lookup"><span data-stu-id="3717c-154">Removes the specified catalog from the catalog database.</span></span> <span data-ttu-id="3717c-155">Si no se especifica esta opción, SignTool agregará el catálogo especificado a la base de datos de catálogo.</span><span class="sxs-lookup"><span data-stu-id="3717c-155">If this option is not specified, SignTool will add the specified catalog to the catalog database.</span></span>|
| <span data-ttu-id="3717c-156">**/u**</span><span class="sxs-lookup"><span data-stu-id="3717c-156">**/u**</span></span> | <span data-ttu-id="3717c-157">Especifica que se generará automáticamente un nombre único para los archivos de catálogo agregados.</span><span class="sxs-lookup"><span data-stu-id="3717c-157">Specifies that a unique name be automatically generated for the added catalog files.</span></span> <span data-ttu-id="3717c-158">Si es necesario, a los archivos de catálogo se les cambia el nombre para evitar que se produzcan conflictos de nombre con archivos de catálogo existentes.</span><span class="sxs-lookup"><span data-stu-id="3717c-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="3717c-159">Si no se especifica esta opción, SignTool sobrescribe cualquier catálogo existente que tenga el mismo nombre que el catálogo que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="3717c-159">If this option is not specified, SignTool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|

> [!Note]  
> <span data-ttu-id="3717c-160">Las bases de datos de catálogo se utilizan para la búsqueda automática de archivos de catálogo.</span><span class="sxs-lookup"><span data-stu-id="3717c-160">Catalog databases are used for automatic lookup of catalog files.</span></span>


## <a name="sign-command-options"></a><span data-ttu-id="3717c-161">Opciones del comando Sign</span><span class="sxs-lookup"><span data-stu-id="3717c-161">Sign command options</span></span>  

 <span data-ttu-id="3717c-162">En la tabla siguiente se enumeran las opciones que se pueden utilizar con el comando `sign`.</span><span class="sxs-lookup"><span data-stu-id="3717c-162">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="3717c-163">Opción del comando sign</span><span class="sxs-lookup"><span data-stu-id="3717c-163">Sign command option</span></span>|<span data-ttu-id="3717c-164">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-164">Description</span></span>|  
|----|----| 
|`/a`|<span data-ttu-id="3717c-165">Selecciona automáticamente el mejor certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-165">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="3717c-166">La herramienta Firmar encuentra todos los certificados válidos que cumplan todas las condiciones especificadas y selecciona el que sea válido durante más tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-166">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="3717c-167">Si esta opción no está presente, la herramienta Firmar solo espera encontrar un certificado de firma válido.</span><span class="sxs-lookup"><span data-stu-id="3717c-167">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="3717c-168">`/ac`  *file*</span><span class="sxs-lookup"><span data-stu-id="3717c-168">`/ac`  *file*</span></span>|<span data-ttu-id="3717c-169">Agrega un certificado adicional desde *file* al bloque de signatura.</span><span class="sxs-lookup"><span data-stu-id="3717c-169">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="3717c-170">Anexa esta signatura.</span><span class="sxs-lookup"><span data-stu-id="3717c-170">Appends this signature.</span></span> <span data-ttu-id="3717c-171">Si no hay ninguna signatura principal presente, esta signatura se convierte en la principal.</span><span class="sxs-lookup"><span data-stu-id="3717c-171">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="3717c-172">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="3717c-172">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="3717c-173">Especifica el nombre de plantilla de certificado (una extensión de Microsoft) para el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-173">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="3717c-174">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="3717c-174">`/csp`  *CSPName*</span></span>|<span data-ttu-id="3717c-175">Especifica el proveedor de servicios criptográficos (CSP) que contiene el contenedor de claves privadas.</span><span class="sxs-lookup"><span data-stu-id="3717c-175">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="3717c-176">`/d`  *Desc*</span><span class="sxs-lookup"><span data-stu-id="3717c-176">`/d`  *Desc*</span></span>|<span data-ttu-id="3717c-177">Especifica una descripción del contenido firmado.</span><span class="sxs-lookup"><span data-stu-id="3717c-177">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="3717c-178">`/dg`  *Ruta*</span><span class="sxs-lookup"><span data-stu-id="3717c-178">`/dg`  *Path*</span></span>|<span data-ttu-id="3717c-179">Genera el resumen que se va a firmar y los archivos PKCS7 sin firmar.</span><span class="sxs-lookup"><span data-stu-id="3717c-179">Generates the digest to be signed and the unsigned PKCS7 files.</span></span> <span data-ttu-id="3717c-180">Los archivos de Resumen de salida y PKCS7 serán: *Path\FileName.Dig* y *Path\FileName.p7u*.</span><span class="sxs-lookup"><span data-stu-id="3717c-180">The output digest and PKCS7 files will be: *Path\FileName.dig* and *Path\FileName.p7u*.</span></span> <span data-ttu-id="3717c-181">Para generar un archivo XML adicional, vea <strong>/dxml</strong>.</span><span class="sxs-lookup"><span data-stu-id="3717c-181">To output an additional XML file, see <strong>/dxml</strong>.</span></span>|  
|<span data-ttu-id="3717c-182">`/di`  *Ruta*</span><span class="sxs-lookup"><span data-stu-id="3717c-182">`/di`  *Path*</span></span>|<span data-ttu-id="3717c-183">Crea la firma mediante la ingesta del Resumen firmado en el archivo PKCS7 sin firmar.</span><span class="sxs-lookup"><span data-stu-id="3717c-183">Creates the signature by ingesting the signed digest to the unsigned PKCS7 file.</span></span> <span data-ttu-id="3717c-184">La síntesis firmada de entrada y los archivos PKCS7 sin firmar deben ser: *Path\FileName.Dig.signed* y *Path\FileName.p7u*.</span><span class="sxs-lookup"><span data-stu-id="3717c-184">The input signed digest and unsigned PKCS7 files should be: *Path\FileName.dig.signed* and *Path\FileName.p7u*.</span></span>|  
|<span data-ttu-id="3717c-185">`/dlib`  *DLL*</span><span class="sxs-lookup"><span data-stu-id="3717c-185">`/dlib`  *DLL*</span></span>|<span data-ttu-id="3717c-186">Especifica el archivo DLL que implementa la <code>AuthenticodeDigestSign</code> función con la que se va a firmar el resumen.</span><span class="sxs-lookup"><span data-stu-id="3717c-186">Specifies the DLL implementing the <code>AuthenticodeDigestSign</code> function to sign the digest with.</span></span> <span data-ttu-id="3717c-187">Esta opción es equivalente a usar <strong>SignTool</strong> por separado con los modificadores <strong>/DG</strong>, <strong>/DS</strong>y <strong>/di</strong> , salvo que esta opción invoca a las tres como una operación atómica.</span><span class="sxs-lookup"><span data-stu-id="3717c-187">This option is equivalent to using <strong>SignTool</strong> separately with the <strong>/dg</strong>, <strong>/ds</strong>, and <strong>/di</strong> switches, except this option invokes all three as one atomic operation.</span></span>|  
|<span data-ttu-id="3717c-188">`/dmdf`  *Extensión*</span><span class="sxs-lookup"><span data-stu-id="3717c-188">`/dmdf`  *Filename*</span></span>|<span data-ttu-id="3717c-189">Cuando se usa con la opción <strong>/DG</strong> , pasa el contenido del archivo a la <code>AuthenticodeDigestSign</code> función sin modificaciones.</span><span class="sxs-lookup"><span data-stu-id="3717c-189">When used with the <strong>/dg</strong> option, passes the file’s contents to the <code>AuthenticodeDigestSign</code> function without modification.</span></span>|  
|`/ds`  |<span data-ttu-id="3717c-190">Firma solo el resumen.</span><span class="sxs-lookup"><span data-stu-id="3717c-190">Signs the digest only.</span></span> <span data-ttu-id="3717c-191">El archivo de entrada debe ser la síntesis generada por la opción <strong>/DG</strong> .</span><span class="sxs-lookup"><span data-stu-id="3717c-191">The input file should be the digest generated by the <strong>/dg</strong> option.</span></span> <span data-ttu-id="3717c-192">El archivo de salida será: *file. signed*.</span><span class="sxs-lookup"><span data-stu-id="3717c-192">The output file will be: *File.signed*.</span></span>|  
|<span data-ttu-id="3717c-193">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="3717c-193">`/du`  *URL*</span></span>|<span data-ttu-id="3717c-194">Especifica el localizador uniforme de recursos (URL) de la descripción ampliada del contenido firmado.</span><span class="sxs-lookup"><span data-stu-id="3717c-194">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|`/dxml`  |<span data-ttu-id="3717c-195">Cuando se usa con la opción <strong>/DG</strong> , genera un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="3717c-195">When used with the <strong>/dg</strong> option, produces an XML file.</span></span> <span data-ttu-id="3717c-196">El archivo de salida será: *Path\FileName.dig.xml*.</span><span class="sxs-lookup"><span data-stu-id="3717c-196">The output file will be: *Path\FileName.dig.xml*.</span></span>|  
|<span data-ttu-id="3717c-197">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="3717c-197">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="3717c-198">Especifica el certificado de firma en un archivo.</span><span class="sxs-lookup"><span data-stu-id="3717c-198">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="3717c-199">Si el archivo está en formato de intercambio de información personal (PFX) y protegido por una contraseña, utilice la opción `/p` para especificar la contraseña.</span><span class="sxs-lookup"><span data-stu-id="3717c-199">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="3717c-200">Si el archivo no contiene claves privadas, utilice las opciones `/csp` y `/kc` para especificar el CSP y el nombre de contenedor de claves privadas, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="3717c-200">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|<span data-ttu-id="3717c-201">`/fd`*alg*</span><span class="sxs-lookup"><span data-stu-id="3717c-201">`/fd` *alg*</span></span>|<span data-ttu-id="3717c-202">Especifica el algoritmo de resumen de archivo que se va a usar para crear signaturas de archivo.</span><span class="sxs-lookup"><span data-stu-id="3717c-202">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="3717c-203">**Nota:** Se genera una advertencia si no se proporciona el modificador <strong>/FD</strong> durante la firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-203">**Note:** A warning is generated if <strong>/fd</strong> switch is not provided while signing.</span></span> <span data-ttu-id="3717c-204">El alg predeterminado es SHA1, pero se recomienda SHA256.</span><span class="sxs-lookup"><span data-stu-id="3717c-204">The default alg is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="3717c-205">`/fd`  *certHash*</span><span class="sxs-lookup"><span data-stu-id="3717c-205">`/fd`  *certHash*</span></span>|<span data-ttu-id="3717c-206">Si se especifica la cadena certHash, se establecerá de manera predeterminada en el algoritmo que se usa en el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-206">Specifying the string certHash will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="3717c-207">**Nota:** Solo disponible en el kit de Windows 10 compilaciones 20236 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="3717c-207">**Note:** Only available in Windows 10 kit builds 20236 and greater.</span></span>|  
|<span data-ttu-id="3717c-208">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="3717c-208">`/i`  *IssuerName*</span></span>|<span data-ttu-id="3717c-209">Especifica el nombre del emisor del certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-209">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="3717c-210">Este valor puede corresponder a una subcadena del nombre del emisor completo.</span><span class="sxs-lookup"><span data-stu-id="3717c-210">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="3717c-211">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="3717c-211">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="3717c-212">Especifica el nombre del contenedor de claves privadas.</span><span class="sxs-lookup"><span data-stu-id="3717c-212">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="3717c-213">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="3717c-213">`/n`  *SubjectName*</span></span>|<span data-ttu-id="3717c-214">Especifica el nombre del sujeto del certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-214">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="3717c-215">Este valor puede corresponder a una subcadena del nombre del sujeto completo.</span><span class="sxs-lookup"><span data-stu-id="3717c-215">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="3717c-216">Si se admite, suprime los hash de página para los archivos ejecutables.</span><span class="sxs-lookup"><span data-stu-id="3717c-216">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="3717c-217">La variable de entorno SIGNTOOL_PAGE_HASHES y la versión de wintrust.dll determinan el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="3717c-217">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="3717c-218">Esta opción se omite para los archivos sin PE.</span><span class="sxs-lookup"><span data-stu-id="3717c-218">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="3717c-219">`/p`  *Password*</span><span class="sxs-lookup"><span data-stu-id="3717c-219">`/p`  *Password*</span></span>|<span data-ttu-id="3717c-220">Especifica la contraseña que se debe utilizar al abrir un archivo PFX.</span><span class="sxs-lookup"><span data-stu-id="3717c-220">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="3717c-221">(Utilice la opción `/f` para especificar un archivo PFX).</span><span class="sxs-lookup"><span data-stu-id="3717c-221">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="3717c-222">`/p7` *Ruta de acceso*</span><span class="sxs-lookup"><span data-stu-id="3717c-222">`/p7` *Path*</span></span>|<span data-ttu-id="3717c-223">Especifica que se genera un archivo PKCS (Estándares de criptografía de clave pública) #7 para cada archivo de contenido especificado.</span><span class="sxs-lookup"><span data-stu-id="3717c-223">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="3717c-224">Los archivos PKCS #7 se denominan *path*\\*filename*.p7.</span><span class="sxs-lookup"><span data-stu-id="3717c-224">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="3717c-225">`/p7ce` *Value*</span><span class="sxs-lookup"><span data-stu-id="3717c-225">`/p7ce` *Value*</span></span>|<span data-ttu-id="3717c-226">Especifica opciones para el contenido PKCS #7 firmado.</span><span class="sxs-lookup"><span data-stu-id="3717c-226">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="3717c-227">Establezca *Value* en "Embedded" para insertar el contenido firmado en el archivo PKCS #7 o en "DetachedSignedData" para mostrar la parte de datos firmados de un archivo PKCS #7 desasociado.</span><span class="sxs-lookup"><span data-stu-id="3717c-227">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="3717c-228">Si no se utiliza la opción `/p7ce`, el contenido firmado se incrusta de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3717c-228">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="3717c-229">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="3717c-229">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="3717c-230">Especifica el identificador de objeto (OID) que identifica el contenido PKCS #7 firmado.</span><span class="sxs-lookup"><span data-stu-id="3717c-230">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="3717c-231">Si se admite, genera los hash de página para los archivos ejecutables.</span><span class="sxs-lookup"><span data-stu-id="3717c-231">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="3717c-232">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="3717c-232">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="3717c-233">Especifica el nombre del sujeto del certificado raíz al que el certificado de firma debe encadenarse.</span><span class="sxs-lookup"><span data-stu-id="3717c-233">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="3717c-234">Este valor puede corresponder a una subcadena del nombre de sujeto completo del certificado raíz.</span><span class="sxs-lookup"><span data-stu-id="3717c-234">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="3717c-235">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="3717c-235">`/s`  *StoreName*</span></span>|<span data-ttu-id="3717c-236">Especifica el almacén que se va a abrir al buscar el certificado.</span><span class="sxs-lookup"><span data-stu-id="3717c-236">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="3717c-237">Si no se especifica esta opción, se abre el almacén `My`.</span><span class="sxs-lookup"><span data-stu-id="3717c-237">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="3717c-238">`/sha1`  *Hash*</span><span class="sxs-lookup"><span data-stu-id="3717c-238">`/sha1`  *Hash*</span></span>|<span data-ttu-id="3717c-239">Especifica el hash SHA1 del certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-239">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="3717c-240">El hash SHA1 se especifica normalmente cuando varios certificados cumplen los criterios especificados por los modificadores restantes.</span><span class="sxs-lookup"><span data-stu-id="3717c-240">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="3717c-241">Especifica que se utiliza un almacén de equipo, en lugar de un almacén de usuario.</span><span class="sxs-lookup"><span data-stu-id="3717c-241">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="3717c-242">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="3717c-242">`/t`  *URL*</span></span>|<span data-ttu-id="3717c-243">Especifica la dirección URL del servidor con marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-243">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="3717c-244">Si esta opción (o `/tr`) no está presente, el archivo firmado no tendrá marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-244">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="3717c-245">Se genera una advertencia si se produce algún error relacionado con la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-245">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="3717c-246">Esta opción no se puede combinar con la opción `/tr`.</span><span class="sxs-lookup"><span data-stu-id="3717c-246">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="3717c-247">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="3717c-247">`/td`  *alg*</span></span>|<span data-ttu-id="3717c-248">Se utiliza con la opción `/tr` para solicitar un algoritmo de resumen utilizado por el servidor de marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="3717c-248">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="3717c-249">**Nota:** Se genera una advertencia si no se proporciona el modificador <strong>/TD</strong> durante la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-249">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="3717c-250">El alg predeterminado es SHA1, pero se recomienda SHA256.</span><span class="sxs-lookup"><span data-stu-id="3717c-250">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="3717c-251">El modificador <strong>/TD</strong> se debe declarar después del modificador <strong>/TR</strong> , no antes de.</span><span class="sxs-lookup"><span data-stu-id="3717c-251">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="3717c-252">Si el modificador <strong>/TD</strong> se declara antes que el modificador <strong>/TR</strong> , la marca de tiempo que se devuelve procede de un algoritmo SHA1 en lugar del algoritmo SHA256 previsto.</span><span class="sxs-lookup"><span data-stu-id="3717c-252">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="3717c-253">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="3717c-253">`/tr`  *URL*</span></span>|<span data-ttu-id="3717c-254">Especifica la dirección URL del servidor con marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="3717c-254">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="3717c-255">Si esta opción (o `/t`) no está presente, el archivo firmado no tendrá marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-255">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="3717c-256">Se genera una advertencia si se produce algún error relacionado con la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-256">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="3717c-257">Esta opción no se puede combinar con la opción `/t`.</span><span class="sxs-lookup"><span data-stu-id="3717c-257">This option cannot be used with the `/t` option.</span></span>|  
|<span data-ttu-id="3717c-258">`/u`  *Usage*</span><span class="sxs-lookup"><span data-stu-id="3717c-258">`/u`  *Usage*</span></span>|<span data-ttu-id="3717c-259">Especifica el uso mejorado de clave (EKU) que debe encontrarse en el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-259">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="3717c-260">El valor de uso se puede especificar mediante un identificador de objetos (OID) o una cadena.</span><span class="sxs-lookup"><span data-stu-id="3717c-260">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="3717c-261">El uso predeterminado es "Firma de código" (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="3717c-261">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="3717c-262">Especifica el uso de "Comprobación de componentes del sistema de Windows" (1.3.6.1.4.1.311.10.3.6).</span><span class="sxs-lookup"><span data-stu-id="3717c-262">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="3717c-263">Para obtener ejemplos de uso, vea [Using SignTool to Sign a File](using-signtool-to-sign-a-file.md) (Usar SignTool para firmar un archivo).</span><span class="sxs-lookup"><span data-stu-id="3717c-263">For usage examples, see [Using SignTool to Sign a File](using-signtool-to-sign-a-file.md).</span></span>  
  

## <a name="timestamp-command-options"></a><span data-ttu-id="3717c-264">Opciones del comando TimeStamp</span><span class="sxs-lookup"><span data-stu-id="3717c-264">TimeStamp command options</span></span>  

 <span data-ttu-id="3717c-265">En la tabla siguiente se enumeran las opciones que se pueden utilizar con el comando `TimeStamp`.</span><span class="sxs-lookup"><span data-stu-id="3717c-265">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="3717c-266">Opción de TimeStamp</span><span class="sxs-lookup"><span data-stu-id="3717c-266">TimeStamp option</span></span>|<span data-ttu-id="3717c-267">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-267">Description</span></span>|  
|----|----|  
|`/p7`|<span data-ttu-id="3717c-268">Agrega marcas de tiempo a archivos PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="3717c-268">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="3717c-269">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="3717c-269">`/t`  *URL*</span></span>|<span data-ttu-id="3717c-270">Especifica la dirección URL del servidor con marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-270">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="3717c-271">El archivo al que se va a agregar la marca de tiempo se debe haber firmado previamente.</span><span class="sxs-lookup"><span data-stu-id="3717c-271">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="3717c-272">Se requiere la opción `/t` o `/tr`.</span><span class="sxs-lookup"><span data-stu-id="3717c-272">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="3717c-273">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="3717c-273">`/td`  *alg*</span></span>|<span data-ttu-id="3717c-274">Se utiliza con la opción `/tr` para solicitar un algoritmo de resumen utilizado por el servidor de marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="3717c-274">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="3717c-275">**Nota:** Se genera una advertencia si no se proporciona el modificador <strong>/TD</strong> durante la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-275">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="3717c-276">El alg predeterminado es SHA1, pero se recomienda SHA256.</span><span class="sxs-lookup"><span data-stu-id="3717c-276">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="3717c-277">El modificador <strong>/TD</strong> se debe declarar después del modificador <strong>/TR</strong> , no antes de.</span><span class="sxs-lookup"><span data-stu-id="3717c-277">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="3717c-278">Si el modificador <strong>/TD</strong> se declara antes que el modificador <strong>/TR</strong> , la marca de tiempo que se devuelve procede de un algoritmo SHA1 en lugar del algoritmo SHA256 previsto.</span><span class="sxs-lookup"><span data-stu-id="3717c-278">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="3717c-279">`/tp` *index*</span><span class="sxs-lookup"><span data-stu-id="3717c-279">`/tp` *index*</span></span>|<span data-ttu-id="3717c-280">Agrega una marca de tiempo a la signatura en *index*.</span><span class="sxs-lookup"><span data-stu-id="3717c-280">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="3717c-281">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="3717c-281">`/tr`  *URL*</span></span>|<span data-ttu-id="3717c-282">Especifica la dirección URL del servidor con marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="3717c-282">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="3717c-283">El archivo al que se va a agregar la marca de tiempo se debe haber firmado previamente.</span><span class="sxs-lookup"><span data-stu-id="3717c-283">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="3717c-284">Se requiere la opción `/tr` o `/t`.</span><span class="sxs-lookup"><span data-stu-id="3717c-284">Either the `/tr` or the `/t` option is required.</span></span>|  


## <a name="verify-command-options"></a><span data-ttu-id="3717c-285">Opciones del comando verify</span><span class="sxs-lookup"><span data-stu-id="3717c-285">Verify command options</span></span>  

|<span data-ttu-id="3717c-286">Opción de Verify</span><span class="sxs-lookup"><span data-stu-id="3717c-286">Verify option</span></span>|<span data-ttu-id="3717c-287">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-287">Description</span></span>|
|----|----|
| <span data-ttu-id="3717c-288">**/a**</span><span class="sxs-lookup"><span data-stu-id="3717c-288">**/a**</span></span> | <span data-ttu-id="3717c-289">Especifica que todos los métodos se puedan utilizar para comprobar el archivo.</span><span class="sxs-lookup"><span data-stu-id="3717c-289">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="3717c-290">Primero, se buscan las bases de datos de catálogo para determinar si el archivo se firma en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="3717c-290">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="3717c-291">Si el archivo no está firmado en ningún catálogo, SignTool intenta comprobar la firma incrustada del archivo.</span><span class="sxs-lookup"><span data-stu-id="3717c-291">If the file is not signed in any catalog, SignTool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="3717c-292">Se recomienda esta opción a la hora de comprobar si se pueden firmar o no archivos en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="3717c-292">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="3717c-293">Algunos ejemplos de archivos que pueden o no estar firmados son los archivos o controladores de Windows.</span><span class="sxs-lookup"><span data-stu-id="3717c-293">Examples of files that may or may not be signed include Windows files or drivers.</span></span> |
| <span data-ttu-id="3717c-294">**/ad**</span><span class="sxs-lookup"><span data-stu-id="3717c-294">**/ad**</span></span> | <span data-ttu-id="3717c-295">Busca el catálogo utilizando la base de datos de catálogo predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3717c-295">Finds the catalog by using the default catalog database.</span></span> |
| <span data-ttu-id="3717c-296">**/all**</span><span class="sxs-lookup"><span data-stu-id="3717c-296">**/all**</span></span> | <span data-ttu-id="3717c-297">Comprueba todas las firmas de un archivo con varias firmas.</span><span class="sxs-lookup"><span data-stu-id="3717c-297">Verifies all signatures in a file with multiple signatures.</span></span> |
| <span data-ttu-id="3717c-298">**/as**</span><span class="sxs-lookup"><span data-stu-id="3717c-298">**/as**</span></span> | <span data-ttu-id="3717c-299">Busca el catálogo utilizando la base de datos de catálogo de componentes del sistema (controlador).</span><span class="sxs-lookup"><span data-stu-id="3717c-299">Finds the catalog by using the system component (driver) catalog database.</span></span> |
| <span data-ttu-id="3717c-300">**/AG** *CatDBGUID*</span><span class="sxs-lookup"><span data-stu-id="3717c-300">**/ag** *CatDBGUID*</span></span> | <span data-ttu-id="3717c-301">Busca el catálogo en la base de datos de catálogo identificada por el **GUID**.</span><span class="sxs-lookup"><span data-stu-id="3717c-301">Finds the catalog in the catalog database identified by the **GUID**.</span></span> |
| <span data-ttu-id="3717c-302">**/c** *CatFile*</span><span class="sxs-lookup"><span data-stu-id="3717c-302">**/c** *CatFile*</span></span> | <span data-ttu-id="3717c-303">Especifica el archivo de catálogo por nombre.</span><span class="sxs-lookup"><span data-stu-id="3717c-303">Specifies the catalog file by name.</span></span> |
| <span data-ttu-id="3717c-304">**/d**</span><span class="sxs-lookup"><span data-stu-id="3717c-304">**/d**</span></span> | <span data-ttu-id="3717c-305">Imprima la descripción y la dirección URL de la descripción.</span><span class="sxs-lookup"><span data-stu-id="3717c-305">Print the description and description URL.</span></span><br/> <span data-ttu-id="3717c-306">**Windows Vista y versiones anteriores:** Esta marca no se admite.</span><span class="sxs-lookup"><span data-stu-id="3717c-306">**Windows Vista and earlier:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="3717c-307"> *Índice* de/DS</span><span class="sxs-lookup"><span data-stu-id="3717c-307">**/ds** *Index*</span></span> | <span data-ttu-id="3717c-308">Comprueba la signatura en una posición determinada.</span><span class="sxs-lookup"><span data-stu-id="3717c-308">Verifies the signature at a certain position.</span></span> |
| <span data-ttu-id="3717c-309">**/hash**{**SHA1** \| **SHA256**}</span><span class="sxs-lookup"><span data-stu-id="3717c-309">**/hash**{**SHA1**\|**SHA256**}</span></span> | <span data-ttu-id="3717c-310">Especifica un algoritmo hash opcional que se usará al buscar un archivo en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="3717c-310">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span> |
| <span data-ttu-id="3717c-311">**/kp**</span><span class="sxs-lookup"><span data-stu-id="3717c-311">**/kp**</span></span> | <span data-ttu-id="3717c-312">Realiza la comprobación mediante la Directiva de firma de controladores en modo kernel x64.</span><span class="sxs-lookup"><span data-stu-id="3717c-312">Performs the verification by using the x64 kernel-mode driver signing policy.</span></span> |
| <span data-ttu-id="3717c-313">**/MS**</span><span class="sxs-lookup"><span data-stu-id="3717c-313">**/ms**</span></span> | <span data-ttu-id="3717c-314">Utiliza la semántica de comprobación múltiple.</span><span class="sxs-lookup"><span data-stu-id="3717c-314">Uses multiple verification semantics.</span></span> <span data-ttu-id="3717c-315">Éste es el comportamiento predeterminado de una llamada a [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) .</span><span class="sxs-lookup"><span data-stu-id="3717c-315">This is the default behavior of a [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) call.</span></span> |
| <span data-ttu-id="3717c-316"> *versión* /o</span><span class="sxs-lookup"><span data-stu-id="3717c-316">**/o** *Version*</span></span> | <span data-ttu-id="3717c-317">Comprueba el archivo por versión del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="3717c-317">Verifies the file by operating system version.</span></span> <span data-ttu-id="3717c-318">El parámetro Version tiene el siguiente formato:</span><span class="sxs-lookup"><span data-stu-id="3717c-318">The version parameter is of the form:</span></span><br/> <span data-ttu-id="3717c-319">*PlatformID ***:*** VerMajor ***.*** Parásitor ***.*** BuildNumber*</span><span class="sxs-lookup"><span data-stu-id="3717c-319">*PlatformID ***:*** VerMajor ***.*** VerMinor ***.*** BuildNumber*</span></span><br/> <span data-ttu-id="3717c-320">Se recomienda el uso del modificador */o* .</span><span class="sxs-lookup"><span data-stu-id="3717c-320">The use of the */o* switch is recommended.</span></span> <span data-ttu-id="3717c-321">Si no se especifica */o* , SignTool puede devolver resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="3717c-321">If */o* is not specified SignTool may return unexpected results.</span></span> <span data-ttu-id="3717c-322">Por ejemplo, si no incluye el modificador */o* , los catálogos del sistema que se validan correctamente en un sistema operativo anterior pueden no validarse correctamente en un sistema operativo más reciente.</span><span class="sxs-lookup"><span data-stu-id="3717c-322">For example, if you do not include the */o* switch, then system catalogs that validate correctly on an older OS may not validate correctly on a newer OS.</span></span> |
| <span data-ttu-id="3717c-323">**/p7**</span><span class="sxs-lookup"><span data-stu-id="3717c-323">**/p7**</span></span> | <span data-ttu-id="3717c-324">Compruebe \# los archivos PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="3717c-324">Verify PKCS \#7 files.</span></span> <span data-ttu-id="3717c-325">No se usa ninguna directiva existente para la validación de PKCS \# 7.</span><span class="sxs-lookup"><span data-stu-id="3717c-325">No existing policies are used for PKCS \#7 validation.</span></span> <span data-ttu-id="3717c-326">Se comprueba la signatura y se genera una cadena para el certificado de firma.</span><span class="sxs-lookup"><span data-stu-id="3717c-326">The signature is checked and a chain is built for the signing certificate.</span></span> |
| <span data-ttu-id="3717c-327">**/pa**</span><span class="sxs-lookup"><span data-stu-id="3717c-327">**/pa**</span></span> | <span data-ttu-id="3717c-328">Especifica que se utiliza la Directiva de comprobación de autenticación predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3717c-328">Specifies that the Default Authentication Verification Policy is used.</span></span> <span data-ttu-id="3717c-329">Si no se especifica la opción **/PA** , SignTool utiliza la Directiva de comprobación de controladores de Windows.</span><span class="sxs-lookup"><span data-stu-id="3717c-329">If the **/pa** option is not specified, SignTool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="3717c-330">Esta opción no se puede usar con las opciones **CatDB** .</span><span class="sxs-lookup"><span data-stu-id="3717c-330">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="3717c-331">**/PG** *PolicyGUID*</span><span class="sxs-lookup"><span data-stu-id="3717c-331">**/pg** *PolicyGUID*</span></span> | <span data-ttu-id="3717c-332">Especifica una directiva de comprobación por **GUID**.</span><span class="sxs-lookup"><span data-stu-id="3717c-332">Specifies a verification policy by **GUID**.</span></span> <span data-ttu-id="3717c-333">El **GUID** corresponde a la ActionID de la Directiva de comprobación.</span><span class="sxs-lookup"><span data-stu-id="3717c-333">The **GUID** corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="3717c-334">Esta opción no se puede usar con las opciones **CatDB** .</span><span class="sxs-lookup"><span data-stu-id="3717c-334">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="3717c-335">**/ph**</span><span class="sxs-lookup"><span data-stu-id="3717c-335">**/ph**</span></span> | <span data-ttu-id="3717c-336">Imprimir y comprobar los valores hash de la página.</span><span class="sxs-lookup"><span data-stu-id="3717c-336">Print and verify page hash values.</span></span><br/> <span data-ttu-id="3717c-337">**Windows Vista y versiones anteriores:** Esta marca no se admite.</span><span class="sxs-lookup"><span data-stu-id="3717c-337">**Windows Vista and earlier:** This flag is not supported.</span></span><br/>  |
| <span data-ttu-id="3717c-338">**/R** *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="3717c-338">**/r** *RootSubjectName*</span></span> | <span data-ttu-id="3717c-339">Especifica el nombre del sujeto del certificado raíz al que el certificado de firma debe encadenarse.</span><span class="sxs-lookup"><span data-stu-id="3717c-339">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="3717c-340">Este valor puede corresponder a una subcadena del nombre del sujeto completo del certificado raíz.</span><span class="sxs-lookup"><span data-stu-id="3717c-340">This value can be a substring of the entire subject name of the root certificate.</span></span> |
| <span data-ttu-id="3717c-341">**/tw**</span><span class="sxs-lookup"><span data-stu-id="3717c-341">**/tw**</span></span> | <span data-ttu-id="3717c-342">Especifica que se genera una advertencia si la firma no tiene marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-342">Specifies that a warning is generated if the signature is not time stamped.</span></span>|


<span data-ttu-id="3717c-343">El comando SignTool **Verify** determina si el certificado de firma fue emitido por una entidad de confianza, si se ha revocado el certificado de firma y, opcionalmente, si el certificado de firma es válido para una directiva específica.</span><span class="sxs-lookup"><span data-stu-id="3717c-343">The SignTool **verify** command determines whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span>  

<span data-ttu-id="3717c-344">El comando SignTool **Verify** generará el estado de la firma **incrustada** a menos que se especifique una opción para buscar en un catálogo (/a,/ad,/as,/AG,/c).</span><span class="sxs-lookup"><span data-stu-id="3717c-344">The SignTool **verify** command will output the **embedded** signature status unless an option is specified to search a catalog (/a, /ad, /as, /ag, /c).</span></span>


## <a name="return-value"></a><span data-ttu-id="3717c-345">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="3717c-345">Return value</span></span>  

 <span data-ttu-id="3717c-346">La herramienta Firmar devuelve uno de los siguientes códigos de salida al finalizar.</span><span class="sxs-lookup"><span data-stu-id="3717c-346">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="3717c-347">Código de salida</span><span class="sxs-lookup"><span data-stu-id="3717c-347">Exit code</span></span>|<span data-ttu-id="3717c-348">Descripción</span><span class="sxs-lookup"><span data-stu-id="3717c-348">Description</span></span>|  
|----|----| 
|<span data-ttu-id="3717c-349">0</span><span class="sxs-lookup"><span data-stu-id="3717c-349">0</span></span>|<span data-ttu-id="3717c-350">La ejecución se realizó correctamente.</span><span class="sxs-lookup"><span data-stu-id="3717c-350">Execution was successful.</span></span>|  
|<span data-ttu-id="3717c-351">1</span><span class="sxs-lookup"><span data-stu-id="3717c-351">1</span></span>|<span data-ttu-id="3717c-352">Error en la ejecución.</span><span class="sxs-lookup"><span data-stu-id="3717c-352">Execution has failed.</span></span>|  
|<span data-ttu-id="3717c-353">2</span><span class="sxs-lookup"><span data-stu-id="3717c-353">2</span></span>|<span data-ttu-id="3717c-354">La ejecución ha finalizado con advertencias.</span><span class="sxs-lookup"><span data-stu-id="3717c-354">Execution has completed with warnings.</span></span>|


## <a name="examples"></a><span data-ttu-id="3717c-355">Ejemplos</span><span class="sxs-lookup"><span data-stu-id="3717c-355">Examples</span></span>  

 <span data-ttu-id="3717c-356">El comando siguiente agrega el archivo de catálogo MyCatalogFileName.cat al componente del sistema y la base de datos del controlador.</span><span class="sxs-lookup"><span data-stu-id="3717c-356">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="3717c-357">La opción `/u` genera un nombre único si es necesario para impedir que se reemplace un archivo de catálogo existente denominado `MyCatalogFileName.cat`.</span><span class="sxs-lookup"><span data-stu-id="3717c-357">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="3717c-358">El comando siguiente firma un archivo automáticamente y para ello usa el mejor certificado.</span><span class="sxs-lookup"><span data-stu-id="3717c-358">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console  
signtool sign /a /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="3717c-359">El comando siguiente firma un archivo digitalmente con un certificado almacenado en un archivo PFX protegido por contraseña.</span><span class="sxs-lookup"><span data-stu-id="3717c-359">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="3717c-360">El comando siguiente firma digitalmente un archivo y le agrega una marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3717c-360">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="3717c-361">El certificado utilizado para firmar el archivo se almacena en un archivo PFX.</span><span class="sxs-lookup"><span data-stu-id="3717c-361">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="3717c-362">El comando siguiente firma un archivo con un certificado ubicado en el almacén `My` cuyo nombre de sujeto sea `My Company Certificate`.</span><span class="sxs-lookup"><span data-stu-id="3717c-362">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="3717c-363">El comando siguiente firma un control ActiveX y proporciona información que Internet Explorer muestra cuando se le pide al usuario que instale el control.</span><span class="sxs-lookup"><span data-stu-id="3717c-363">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe 
```  
  
 <span data-ttu-id="3717c-364">El comando siguiente agrega una marca de tiempo a un archivo que ya se ha firmado digitalmente.</span><span class="sxs-lookup"><span data-stu-id="3717c-364">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="3717c-365">El comando siguiente agrega una marca de tiempo a un archivo mediante un servidor de marca de tiempo RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="3717c-365">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="3717c-366">El comando siguiente comprueba que se ha firmado un archivo.</span><span class="sxs-lookup"><span data-stu-id="3717c-366">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="3717c-367">El comando siguiente comprueba si un archivo del sistema puede estar firmado en un catálogo.</span><span class="sxs-lookup"><span data-stu-id="3717c-367">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="3717c-368">El comando siguiente comprueba un archivo del sistema firmado en un catálogo denominado `MyCatalog.cat`.</span><span class="sxs-lookup"><span data-stu-id="3717c-368">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
