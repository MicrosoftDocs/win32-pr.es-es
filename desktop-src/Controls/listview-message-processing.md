---
title: Procesamiento de mensajes de List-View predeterminado
description: En esta sección se muestra el procesamiento de mensajes de ventana que realiza un control de vista de lista.
ms.assetid: c634c446-37e5-4f7c-b337-306c29961e58
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bdc19927479a78bd2bffeaaa66b2986847747f3
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104078438"
---
# <a name="default-list-view-message-processing"></a>Procesamiento de mensajes de List-View predeterminado

En esta sección se muestra el procesamiento de mensajes de ventana que realiza un control de vista de lista.

## <a name="message-processing"></a>Procesamiento de mensajes

En la tabla siguiente se describe el procesamiento de mensajes de ventana que realiza un control de vista de lista.



| Message                  | Procesamiento realizado                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|--------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **carácter de WM \_**             | Busca un elemento de vista de lista que comienza con el carácter especificado y, si se encuentra el elemento, selecciona y establece el foco en el elemento. Varios caracteres recibidos dentro de un intervalo de tiempo de espera, actualmente fijos en un segundo, se concatenan y el control de vista de lista busca un elemento que comienza con la cadena resultante.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **comando de WM \_**          | Procesa los códigos de notificación [en la \_ actualización](en-update.md) y [en \_ KILLFOCUS](en-killfocus.md) y reenvía todas las demás notificaciones del control de edición a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **creación de WM \_**           | Realiza la inicialización adicional a [**WM \_ NCCREATE**](/windows/desktop/winmsg/wm-nccreate). Si no se especifica el estilo de ventana de [**LVS \_ SHAREIMAGELISTS**](list-view-window-styles.md) , el control de vista de lista crea las listas de imágenes icono y pequeño icono en este momento.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **destrucción de WM \_**          | Libera los recursos asignados durante la [**\_ creación de WM**](/windows/desktop/winmsg/wm-create).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **ERASEBKGND de WM \_**       | Borra el fondo de la ventana con el color de fondo actual del control de vista de lista. Si el color de fondo es el \_ valor NONE de CLR, el control de vista de lista reenvía el mensaje a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **GETDLGCODE de WM \_**       | Devuelve una combinación de los valores de DLGC \_ WANTTAB y DLGC \_ WANTARROWS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **GETFONT de WM \_**          | Devuelve el identificador de la fuente de la etiqueta actual.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **HSCROLL de WM \_**          | Desplaza el control de vista de lista horizontalmente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **KEYDOWN de WM \_**          | Procesa la barra ESPACIAdora, la tecla entrar y las teclas de dirección y envía un código de notificación [ \_ KEYDOWN LVN](lvn-keydown.md) a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **KILLFOCUS de WM \_**        | Vuelve a dibujar el elemento de lista enfocado, si existe, y envía un código de notificación de [nm \_ KILLFOCUS](nm-killfocus.md) a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **LBUTTONDBLCLK de WM \_**    | Envía a la ventana primaria un código de notificación de [nm \_ DBLCLK (vista de lista)](nm-dblclk-list-view.md) .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **LBUTTONDOWN de WM \_**      | Se procesa de maneras diferentes en función de si se está iniciando una operación de hacer clic o arrastrar. Para determinar qué operación implica, el control de vista de lista entra en un bucle de mensajes modal hasta que se suelta el botón o se mueve el mouse. En el caso de un clic, el control de vista de lista puede cambiar el elemento que tiene el foco y los elementos seleccionados, teniendo en cuenta la posición del cursor, el estado de las teclas Mayús y CTRL, etc. A continuación, el control de vista de lista envía a su ventana primaria un código de notificación de [ \_ clic en Nm (vista de lista)](nm-click-list-view.md) .<br/> Si el arrastre comienza sobre un elemento, el control de vista de lista selecciona y establece el foco en el elemento. Después, envía un código de notificación [LVN \_ BEGINDRAG](lvn-begindrag.md) a la ventana primaria. La ventana primaria es responsable de llevar a cabo realmente la operación de arrastre.<br/> Si el arrastre comienza sobre el fondo de la ventana, el control de vista de lista entra en otro bucle de mensajes modal, lo que permite al usuario formar un rectángulo arrastrando el mouse. Se seleccionan los elementos del rectángulo.<br/> |
| **NCCREATE de WM \_**         | Asigna e inicializa una estructura de datos interna y, a continuación, llama a la función [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **NCDESTROY de WM \_**        | Libera los recursos asignados por el control de vista de lista. A menos que se use el estilo [**LVS \_ SHAREIMAGELISTS**](list-view-window-styles.md) , esto incluye la eliminación de las listas de imágenes pequeñas y de tamaño completo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **\_notificaciones de WM**           | Procesa los códigos de notificación del control de encabezado.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **pintura de WM \_**            | Muestra los elementos de la región de actualización. En el caso de los elementos de devolución de llamada, el control envía primero un código de notificación [LVN \_ GETDISPINFO](lvn-getdispinfo.md) a la ventana propietaria para solicitar información de visualización. Si el parámetro *wParam* no es null, el control supone que el valor es HDC y pinta usando ese contexto de dispositivo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **RBUTTONDOWN de WM \_**      | Se procesa de la misma manera que el mensaje [**\_ LBUTTONDOWN de WM**](/windows/desktop/inputdev/wm-lbuttondown) , salvo que el control envía un código de notificación de [ \_ RCLICK nm (vista de lista)](nm-rclick-list-view.md) (en lugar de [nm \_ click (vista de lista)](nm-click-list-view.md)) y un código de notificación de [LVN \_ BEGINRDRAG](lvn-beginrdrag.md) (en lugar de [LVN \_ BEGINDRAG](lvn-begindrag.md)). Tenga en cuenta que el control procesa el mensaje de [**\_ RBUTTONUP de WM**](/windows/desktop/inputdev/wm-rbuttonup) correspondiente y no lo envía. Por lo tanto, las aplicaciones no pueden ver este mensaje, ni siquiera mediante la subclase del control.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **SETFOCUS de WM \_**         | Vuelve a dibujar el elemento de lista enfocado, si existe, y envía un código de notificación de [ \_ SETFOCUS](nm-setfocus.md) de la actualización a la ventana primaria.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **WM \_**          | Guarda el identificador de fuente especificado, reenvía el mensaje a la ventana de encabezado, si existe, y vuelve a dibujar el uso de la nueva fuente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **SETREDRAW de WM \_**        | Activa o desactiva la redibujado.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **temporizador de WM \_**            | Comienza la edición de una etiqueta de elemento. Si el usuario hace clic en la etiqueta del elemento enfocado, el control de vista de lista establece un temporizador en lugar de especificar el modo de edición de inmediato. El temporizador permite que el control de vista de lista *no* entre en modo de edición si el usuario hace doble clic en la etiqueta.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **VSCROLL de WM \_**          | Desplaza el control de vista de lista verticalmente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **WINDOWPOSCHANGED de WM \_** | Actualiza las barras de desplazamiento de la ventana. Si la vista actual es un icono o una vista de iconos pequeños y se especifica el estilo [**LVS \_ AutoArrange**](list-view-window-styles.md) , el control de vista de lista también organizará los elementos de la lista.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **WININICHANGE de WM \_**     | Procesa los cambios en las métricas del sistema.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |



 

 

