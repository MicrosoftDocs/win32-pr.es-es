---
description: Configuración de los pin de salida de Demux
ms.assetid: c53f3fe6-5588-4faf-ba5c-6a6cf7e16f3a
title: Configuración de los pin de salida de Demux
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b56a24af3f49f26efe4ff6afad075a3cef61fcd1
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104152453"
---
# <a name="configuring-the-demux-output-pins"></a><span data-ttu-id="f352e-103">Configuración de los pin de salida de Demux</span><span class="sxs-lookup"><span data-stu-id="f352e-103">Configuring the Demux Output Pins</span></span>

<span data-ttu-id="f352e-104">Cuando el Demux de MPEG-2 recibe un paquete de datos, debe determinar qué PIN de salida debe analizar y proporcionar los datos.</span><span class="sxs-lookup"><span data-stu-id="f352e-104">When the MPEG-2 demux receives a packet of data, it must determine which output pin should parse and deliver the data.</span></span> <span data-ttu-id="f352e-105">En el modo de flujo de programa, Demux asigna los identificadores de flujo a los pin de salida.</span><span class="sxs-lookup"><span data-stu-id="f352e-105">In program stream mode, the demux maps stream IDs to output pins.</span></span> <span data-ttu-id="f352e-106">En el modo de flujo de transporte, asigna los PID a los pin de salida.</span><span class="sxs-lookup"><span data-stu-id="f352e-106">In transport stream mode, it maps PIDs to output pins.</span></span> <span data-ttu-id="f352e-107">Por ejemplo, en el modo de flujo de transporte, si el PID 0x31 está asignado al pin 0, cada paquete de TS con ese número de PID se enruta a la clavija de salida 0.</span><span class="sxs-lookup"><span data-stu-id="f352e-107">For example, in transport stream mode, if PID 0x31 is mapped to pin 0, then every TS packet with that PID number is routed to output pin 0.</span></span> <span data-ttu-id="f352e-108">Si el Demux recibe un paquete cuyo identificador de secuencia o PID no esté asignado a ningún PIN de salida, simplemente descartará el paquete.</span><span class="sxs-lookup"><span data-stu-id="f352e-108">If the demux receives a packet whose stream ID or PID is not mapped to any output pin, it simply discards the packet.</span></span>

<span data-ttu-id="f352e-109">En el modo de extracción, el Demux crea automáticamente clavijas de salida para las secuencias de audio y vídeo en el archivo, y asigna los identificadores de flujo a los pin.</span><span class="sxs-lookup"><span data-stu-id="f352e-109">In pull mode, the demux automatically creates output pins for the audio and video streams in the file, and maps the stream IDs to the pins.</span></span>

<span data-ttu-id="f352e-110">En el modo de extracción, los pin de salida deben ser configurados por la aplicación o por otro filtro.</span><span class="sxs-lookup"><span data-stu-id="f352e-110">In push mode, the output pins must be configured by the application or by another filter.</span></span> <span data-ttu-id="f352e-111">En el caso de las fuentes de televisión digital que usan la arquitectura de controlador de difusión (BDA), el filtro de proveedor de red trabaja con el filtro TIF para configurar Demux.</span><span class="sxs-lookup"><span data-stu-id="f352e-111">For digital television sources using the Broadcast Driver Architecture (BDA), the network provider filter works with the TIF filter to configure the demux.</span></span> <span data-ttu-id="f352e-112">La aplicación no tiene que hacer nada.</span><span class="sxs-lookup"><span data-stu-id="f352e-112">The application does not have to do anything.</span></span> <span data-ttu-id="f352e-113">En otros escenarios, la aplicación debe configurar los pin de salida.</span><span class="sxs-lookup"><span data-stu-id="f352e-113">In other scenarios, the application must configure the output pins.</span></span>

<span data-ttu-id="f352e-114">Demux comienza sin clavijas de salida.</span><span class="sxs-lookup"><span data-stu-id="f352e-114">The demux starts with no output pins.</span></span> <span data-ttu-id="f352e-115">Para crear un PIN de salida, llame al método [**IMpeg2Demultiplexer:: CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) en el filtro.</span><span class="sxs-lookup"><span data-stu-id="f352e-115">To create an output pin, call the [**IMpeg2Demultiplexer::CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) method on the filter.</span></span> <span data-ttu-id="f352e-116">Este método toma un tipo de medio y un nombre de PIN, y devuelve un puntero **IPin** .</span><span class="sxs-lookup"><span data-stu-id="f352e-116">This method takes a media type and a pin name, and returns an **IPin** pointer.</span></span> <span data-ttu-id="f352e-117">El tipo de medio se usa cuando el PIN se conecta a otro filtro, normalmente un descodificador, se proporciona un ejemplo de la sección [mediante Demux con secuencias elementales](using-the-demux-with-elementary-streams.md).</span><span class="sxs-lookup"><span data-stu-id="f352e-117">The media type is used when the pin connects to another filter, typically a decoder—an example is given the section [Using the Demux with Elementary Streams](using-the-demux-with-elementary-streams.md).</span></span> <span data-ttu-id="f352e-118">El nombre del pin puede ser cualquier cosa que desee, con la excepción de que no se permiten nombres de anclaje duplicados.</span><span class="sxs-lookup"><span data-stu-id="f352e-118">The pin name can be anything you like, except that duplicate pin names are not allowed.</span></span>

<span data-ttu-id="f352e-119">A continuación, asigne uno o más identificadores o PID de flujo al nuevo PIN de salida.</span><span class="sxs-lookup"><span data-stu-id="f352e-119">Next, assign one or more stream IDs or PIDs to the new output pin.</span></span> <span data-ttu-id="f352e-120">En el caso de las secuencias de programa, consulte el PIN de **IMPEG2StreamIdMap** y llame a [**IMPEG2StreamIdMap:: MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span><span class="sxs-lookup"><span data-stu-id="f352e-120">For program streams, query the pin for **IMPEG2StreamIdMap** and call [**IMPEG2StreamIdMap::MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span></span> <span data-ttu-id="f352e-121">En el caso de las secuencias de transporte, consulte el PIN de **IMPEG2PIDMap** y llame a [**IMPEG2PIDMap:: MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span><span class="sxs-lookup"><span data-stu-id="f352e-121">For transport streams, query the pin for **IMPEG2PIDMap** and call [**IMPEG2PIDMap::MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span></span>

<span data-ttu-id="f352e-122">Los Demux pueden analizar paquetes de TS de varias maneras.</span><span class="sxs-lookup"><span data-stu-id="f352e-122">There are several ways that the demux can parse TS packets.</span></span> <span data-ttu-id="f352e-123">Para cada pin de salida, el método de análisis viene determinado por el parámetro *MediaSampleContent* para el método **MapPID** .</span><span class="sxs-lookup"><span data-stu-id="f352e-123">For each output pin, the parsing method is determined by the *MediaSampleContent* parameter to the **MapPID** method.</span></span>



| <span data-ttu-id="f352e-124">Value</span><span class="sxs-lookup"><span data-stu-id="f352e-124">Value</span></span>                     | <span data-ttu-id="f352e-125">Descripción</span><span class="sxs-lookup"><span data-stu-id="f352e-125">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f352e-126">\_secuencia básica de medios \_</span><span class="sxs-lookup"><span data-stu-id="f352e-126">MEDIA\_ELEMENTARY\_STREAM</span></span> | <span data-ttu-id="f352e-127">El filtro proporciona cargas de PES.</span><span class="sxs-lookup"><span data-stu-id="f352e-127">The filter delivers PES payloads.</span></span> <span data-ttu-id="f352e-128">En este modo, el filtro depacketizes los paquetes PES, por lo que el filtro de nivel inferior recibe el flujo de bytes ES, sin los encabezados de paquete de PES.</span><span class="sxs-lookup"><span data-stu-id="f352e-128">In this mode, the filter depacketizes the PES packets, so the downstream filter receives the ES byte stream, without the PES packet headers.</span></span> <span data-ttu-id="f352e-129">(Solo secuencias de audio y vídeo).</span><span class="sxs-lookup"><span data-stu-id="f352e-129">(Audio and video streams only.)</span></span>                                                                                                                                                     |
| <span data-ttu-id="f352e-130">MEDIA \_ MPEG2 \_ PSI</span><span class="sxs-lookup"><span data-stu-id="f352e-130">MEDIA\_MPEG2\_PSI</span></span>         | <span data-ttu-id="f352e-131">El filtro ofrece secciones de PSI completas, como tablas de PAT, tablas de pago, tablas de gatos, etc.</span><span class="sxs-lookup"><span data-stu-id="f352e-131">The filter delivers complete PSI sections, such as PAT tables, PMT tables, CAT tables, and so forth.</span></span>                                                                                                                                                                                                                                                               |
| <span data-ttu-id="f352e-132">\_carga de transporte multimedia \_</span><span class="sxs-lookup"><span data-stu-id="f352e-132">MEDIA\_TRANSPORT\_PAYLOAD</span></span> | <span data-ttu-id="f352e-133">El filtro extrae las cargas de los paquetes de TS y las entrega sin más análisis.</span><span class="sxs-lookup"><span data-stu-id="f352e-133">The filter extracts the payloads from the TS packets and delivers them without further parsing.</span></span> <span data-ttu-id="f352e-134">En el caso de las secuencias elementales, esto significa que el Demux proporcionará paquetes PES completos, incluidos los encabezados de paquetes de PES.</span><span class="sxs-lookup"><span data-stu-id="f352e-134">For elementary streams, this means the demux will deliver entire PES packets, including the PES packet headers.</span></span>                                                                                                                                                    |
| <span data-ttu-id="f352e-135">\_paquete de transporte de medios \_</span><span class="sxs-lookup"><span data-stu-id="f352e-135">MEDIA\_TRANSPORT\_PACKET</span></span>  | <span data-ttu-id="f352e-136">El filtro entrega los paquetes de TS completos.</span><span class="sxs-lookup"><span data-stu-id="f352e-136">The filter delivers entire TS packets.</span></span> <span data-ttu-id="f352e-137">El Demux enruta los paquetes de TS de acuerdo con sus PID, pero no examina ni procesa los paquetes de otra manera.</span><span class="sxs-lookup"><span data-stu-id="f352e-137">The demux routes the TS packets according to their PIDs, but does not otherwise examine or process the packets.</span></span> <span data-ttu-id="f352e-138">Los paquetes con errores no se filtran. Demux no vuelve a multiplexar los paquetes y el flujo de salida resultante no es una secuencia de transporte MPEG-2 compatible.</span><span class="sxs-lookup"><span data-stu-id="f352e-138">Packets with errors are not filtered out. The demux does not re-multiplex the packets, and the resulting output stream is not a compliant MPEG-2 transport stream.</span></span> <span data-ttu-id="f352e-139">Este modo se denomina modo de *paso a través* .</span><span class="sxs-lookup"><span data-stu-id="f352e-139">This mode is called *pass through* mode.</span></span> |



 

<span data-ttu-id="f352e-140">En el caso de las secuencias de programa, Demux siempre proporciona cargas de PES.</span><span class="sxs-lookup"><span data-stu-id="f352e-140">For program streams, the demux always delivers PES payloads.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f352e-141">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="f352e-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f352e-142">Usar el demultiplexador MPEG-2</span><span class="sxs-lookup"><span data-stu-id="f352e-142">Using the MPEG-2 Demultiplexer</span></span>](using-the-mpeg-2-demultiplexer.md)
</dt> </dl>

 

 



