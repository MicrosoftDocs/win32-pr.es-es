---
title: Operación asincrónica
description: En el modo asincrónico, una aplicación puede ejecutar cualquier función que incluya un valor de contexto como uno de sus parámetros y puede seguir ejecutando otros comandos o funciones mientras la aplicación espera a que la función complete su tarea.
ms.assetid: 4b8ade00-deb3-4d9f-9ceb-5ba3296c8c68
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9a7e1d0cf84aa92691e1d926d771ea809d31a171
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103792849"
---
# <a name="asynchronous-operation"></a><span data-ttu-id="75fe8-103">Operación asincrónica</span><span class="sxs-lookup"><span data-stu-id="75fe8-103">Asynchronous Operation</span></span>

<span data-ttu-id="75fe8-104">La cantidad de tiempo que necesita una aplicación para tener acceso a un recurso de Internet depende de una serie de factores, como la conexión que se está usando, el servidor en el que se encuentra el recurso y el número de usuarios que intentan obtener acceso al recurso.</span><span class="sxs-lookup"><span data-stu-id="75fe8-104">The amount of time it takes an application to access an Internet resource depends on a number of factors, such as the connection being used, the server on which the resource is located, and the number of users trying to access the resource.</span></span> <span data-ttu-id="75fe8-105">En el caso de las aplicaciones que descargan varios recursos o controlan varias tareas (incluidas una o más descargas), a la espera de que se complete cada descarga antes de pasar a la siguiente tarea puede ser extremadamente ineficaz.</span><span class="sxs-lookup"><span data-stu-id="75fe8-105">For applications that download multiple resources or handle multiple tasks (including one or more downloads), waiting for each download to complete before moving on to the next task can be extremely inefficient.</span></span> <span data-ttu-id="75fe8-106">Para reducir la cantidad de tiempo que una aplicación tiene que esperar, muchas de las funciones WinINet pueden funcionar de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="75fe8-106">To decrease the amount of time an application has to wait, many of the WinINet functions can operate asynchronously.</span></span>

<span data-ttu-id="75fe8-107">En el modo asincrónico, una aplicación puede ejecutar cualquier función que incluya un valor de contexto como uno de sus parámetros y puede seguir ejecutando otros comandos o funciones mientras la aplicación espera a que la función complete su tarea.</span><span class="sxs-lookup"><span data-stu-id="75fe8-107">In asynchronous mode, an application can execute any function that includes a context value as one of its parameters and can continue to execute other commands or functions while the application waits for the function to complete its task.</span></span> <span data-ttu-id="75fe8-108">Mientras se completa la tarea, se notifica a una función de devolución de llamada de estado proporcionada por la aplicación el progreso de la tarea y cuándo se ha completado.</span><span class="sxs-lookup"><span data-stu-id="75fe8-108">While the task is completing, a status callback function provided by the application is notified about the progress of the task and when it has completed.</span></span> <span data-ttu-id="75fe8-109">En este momento, la función de devolución de llamada de estado puede llamar a otras funciones o realizar cualquier otra tarea necesaria que dependía de la finalización de la tarea.</span><span class="sxs-lookup"><span data-stu-id="75fe8-109">At this time, the status callback function can call other functions or perform any other required tasks that were dependent on the task's completion.</span></span>

<span data-ttu-id="75fe8-110">No hay ningún subproceso de devolución de llamada afinity cuando se llama a WinINet de forma asincrónica: una llamada podría iniciarse desde un subproceso, pero cualquier otro subproceso puede recibir la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="75fe8-110">There is no callback thread afinity when you call WinINet asynchronously: a call might start from one thread, but any other thread can receive the callback.</span></span>

-   [<span data-ttu-id="75fe8-111">Ventajas</span><span class="sxs-lookup"><span data-stu-id="75fe8-111">Benefits</span></span>](#benefits)
-   [<span data-ttu-id="75fe8-112">Escenarios</span><span class="sxs-lookup"><span data-stu-id="75fe8-112">Scenarios</span></span>](#scenarios)
-   [<span data-ttu-id="75fe8-113">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="75fe8-113">Related Topics</span></span>](#related-topics)

## <a name="benefits"></a><span data-ttu-id="75fe8-114">Ventajas</span><span class="sxs-lookup"><span data-stu-id="75fe8-114">Benefits</span></span>

<span data-ttu-id="75fe8-115">El funcionamiento de forma asincrónica presenta varias ventajas.</span><span class="sxs-lookup"><span data-stu-id="75fe8-115">There are several benefits to operating asynchronously.</span></span> <span data-ttu-id="75fe8-116">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="75fe8-116">For example:</span></span>

-   <span data-ttu-id="75fe8-117">Descargar varios recursos de Internet simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="75fe8-117">Downloading multiple Internet resources simultaneously.</span></span>

    <span data-ttu-id="75fe8-118">Puede conectarse a varios recursos de Internet al mismo tiempo y descargarlos a medida que estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="75fe8-118">You can connect to multiple Internet resources at the same time and download them as they become available.</span></span>

-   <span data-ttu-id="75fe8-119">Aumento del rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="75fe8-119">Increasing performance of your application.</span></span>

    <span data-ttu-id="75fe8-120">Una aplicación que usa las funciones WinINet de forma asincrónica no tiene que esperar hasta que se complete la solicitud, por lo que la aplicación es gratuita para realizar otras tareas que no dependen de la solicitud, con lo que se mejora el rendimiento general de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="75fe8-120">An application using the WinINet functions asynchronously does not have to wait until the request is completed, so the application is free to do other tasks that are not dependent on the request, thus improving the application's overall performance.</span></span>

-   <span data-ttu-id="75fe8-121">Supervise el progreso de la descarga.</span><span class="sxs-lookup"><span data-stu-id="75fe8-121">Monitor the progress of the download.</span></span>

    <span data-ttu-id="75fe8-122">La función de devolución de llamada de estado recibe notificaciones mientras está procesando una solicitud.</span><span class="sxs-lookup"><span data-stu-id="75fe8-122">The status callback function receives notifications while it is processing a request.</span></span> <span data-ttu-id="75fe8-123">Si es necesario, la aplicación puede usar la información proporcionada por esa función de devolución de llamada de estado para mantener informado al usuario sobre el progreso de la operación o para interrumpir las solicitudes que están tardando demasiado tiempo en completarse.</span><span class="sxs-lookup"><span data-stu-id="75fe8-123">If needed, your application can use the information provided by that status callback function to keep the user informed about the progress of the operation or to interrupt requests that are taking too long to complete.</span></span>

## <a name="scenarios"></a><span data-ttu-id="75fe8-124">Escenarios</span><span class="sxs-lookup"><span data-stu-id="75fe8-124">Scenarios</span></span>

<span data-ttu-id="75fe8-125">Supongamos que la aplicación necesita descargar los precios de café del Downfall café & té y los sitios de la cuarta cafetería y comparar los precios.</span><span class="sxs-lookup"><span data-stu-id="75fe8-125">Let's say your application needs to download coffee prices from the Downfall Coffee & Tea and the Fourth Coffee sites and compare prices.</span></span> <span data-ttu-id="75fe8-126">El sitio de Fourth Coffee normalmente tiene un tiempo de respuesta más lento, por lo que la aplicación debe descargar primero la información de Downfall Coffee & té.</span><span class="sxs-lookup"><span data-stu-id="75fe8-126">The Fourth Coffee site usually has a slower response time, so your application should download the information from Downfall Coffee & Tea first.</span></span>

<span data-ttu-id="75fe8-127">Se desarrollan dos versiones de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="75fe8-127">Two versions of the application are developed.</span></span> <span data-ttu-id="75fe8-128">Uno funciona de forma sincrónica, descargando primero los precios del sitio de Downfall Coffee & de té y, después, los precios del sitio de Fourth Coffee.</span><span class="sxs-lookup"><span data-stu-id="75fe8-128">One works synchronously, first downloading the prices from the Downfall Coffee & Tea site and then the prices from the Fourth Coffee site.</span></span> <span data-ttu-id="75fe8-129">La segunda funciona de forma asincrónica, enviando solicitudes a ambos sitios y descargando los precios cuando estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="75fe8-129">The second works asynchronously, sending requests to both sites and downloading the prices when they become available.</span></span>

<span data-ttu-id="75fe8-130">En la tabla siguiente se muestra lo que sucedería si el sitio de Fourth Coffeer fuera más rápido en un día determinado.</span><span class="sxs-lookup"><span data-stu-id="75fe8-130">The following table illustrates what would happen if the Fourth Coffee site was faster on a particular day.</span></span>



| <span data-ttu-id="75fe8-131">Evento</span><span class="sxs-lookup"><span data-stu-id="75fe8-131">Event</span></span>                                                            | <span data-ttu-id="75fe8-132">Versión sincrónica</span><span class="sxs-lookup"><span data-stu-id="75fe8-132">Synchronous version</span></span>                        | <span data-ttu-id="75fe8-133">Versión asincrónica</span><span class="sxs-lookup"><span data-stu-id="75fe8-133">Asynchronous version</span></span>                                     |
|------------------------------------------------------------------|--------------------------------------------|----------------------------------------------------------|
| <span data-ttu-id="75fe8-134">Start</span><span class="sxs-lookup"><span data-stu-id="75fe8-134">Start</span></span>                                                            | <span data-ttu-id="75fe8-135">Enviar solicitud a Downfall café & té</span><span class="sxs-lookup"><span data-stu-id="75fe8-135">Send request to Downfall Coffee & Tea</span></span>      | <span data-ttu-id="75fe8-136">Enviar solicitudes a Downfall café & té y Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="75fe8-136">Send requests to Downfall Coffee & Tea and Fourth Coffee</span></span> |
| <span data-ttu-id="75fe8-137">Solicitud de la versión asincrónica a Fourth Coffee completada</span><span class="sxs-lookup"><span data-stu-id="75fe8-137">Request from the asynchronous version to Fourth Coffee completed</span></span> | <span data-ttu-id="75fe8-138">En espera</span><span class="sxs-lookup"><span data-stu-id="75fe8-138">Waiting</span></span>                                    | <span data-ttu-id="75fe8-139">Descargar precios de Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="75fe8-139">Download prices from Fourth Coffee</span></span>                       |
| <span data-ttu-id="75fe8-140">Solicitud de Downfall café & té completado</span><span class="sxs-lookup"><span data-stu-id="75fe8-140">Request to Downfall Coffee & Tea completed</span></span>                       | <span data-ttu-id="75fe8-141">Descargar precios de Downfall café & té</span><span class="sxs-lookup"><span data-stu-id="75fe8-141">Download prices from Downfall Coffee & Tea</span></span> | <span data-ttu-id="75fe8-142">Descargar precios de Downfall café & té</span><span class="sxs-lookup"><span data-stu-id="75fe8-142">Download prices from Downfall Coffee & Tea</span></span>               |
| <span data-ttu-id="75fe8-143">Una vez que se descargan los precios de Downfall café & la té</span><span class="sxs-lookup"><span data-stu-id="75fe8-143">After Downfall Coffee & Tea's prices are downloaded</span></span>              | <span data-ttu-id="75fe8-144">Enviar solicitud a Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="75fe8-144">Send request to Fourth Coffee</span></span>              | <span data-ttu-id="75fe8-145">Comparar precios</span><span class="sxs-lookup"><span data-stu-id="75fe8-145">Compare prices</span></span>                                           |
| <span data-ttu-id="75fe8-146">Comparación de la versión asincrónica completada</span><span class="sxs-lookup"><span data-stu-id="75fe8-146">Asynchronous version's comparison completed</span></span>                      | <span data-ttu-id="75fe8-147">En espera</span><span class="sxs-lookup"><span data-stu-id="75fe8-147">Waiting</span></span>                                    | <span data-ttu-id="75fe8-148">Operación completada</span><span class="sxs-lookup"><span data-stu-id="75fe8-148">Operation complete</span></span>                                       |
| <span data-ttu-id="75fe8-149">Solicitud de la versión sincrónica a Fourth Coffee completada</span><span class="sxs-lookup"><span data-stu-id="75fe8-149">Request from the synchronous version to Fourth Coffee completed</span></span>  | <span data-ttu-id="75fe8-150">Descargar precios de Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="75fe8-150">Download prices from Fourth Coffee</span></span>         | <span data-ttu-id="75fe8-151">N/D</span><span class="sxs-lookup"><span data-stu-id="75fe8-151">n/a</span></span>                                                      |
| <span data-ttu-id="75fe8-152">Una vez descargados los precios de Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="75fe8-152">After Fourth Coffee's prices are downloaded</span></span>                      | <span data-ttu-id="75fe8-153">Comparar precios</span><span class="sxs-lookup"><span data-stu-id="75fe8-153">Compare prices</span></span>                             | <span data-ttu-id="75fe8-154">N/D</span><span class="sxs-lookup"><span data-stu-id="75fe8-154">n/a</span></span>                                                      |
| <span data-ttu-id="75fe8-155">Comparación de la versión sincrónica completada</span><span class="sxs-lookup"><span data-stu-id="75fe8-155">Synchronous version's comparison completed</span></span>                       | <span data-ttu-id="75fe8-156">Operación completada</span><span class="sxs-lookup"><span data-stu-id="75fe8-156">Operation complete</span></span>                         | <span data-ttu-id="75fe8-157">N/D</span><span class="sxs-lookup"><span data-stu-id="75fe8-157">n/a</span></span>                                                      |



 

<span data-ttu-id="75fe8-158">Otro ejemplo sería un explorador Web como Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="75fe8-158">Another example would be a web browser such as Microsoft Internet Explorer.</span></span> <span data-ttu-id="75fe8-159">Cuando el explorador descarga una página, a menudo es necesario descargar otros recursos, como imágenes y archivos de sonido.</span><span class="sxs-lookup"><span data-stu-id="75fe8-159">When the browser downloads a page, it often needs to download other resources, such as images and sound files.</span></span> <span data-ttu-id="75fe8-160">En el modo asincrónico, la página y sus recursos asociados se pueden solicitar simultáneamente y descargar a medida que estén disponibles, en lugar de solicitar y descargar la página y cada recurso de una en una.</span><span class="sxs-lookup"><span data-stu-id="75fe8-160">In asynchronous mode, the page and its associated resources can be requested simultaneously and downloaded as they become available, instead of requesting and downloading the page and each resource one at a time.</span></span>

## <a name="related-topics"></a><span data-ttu-id="75fe8-161">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="75fe8-161">Related Topics</span></span>

<span data-ttu-id="75fe8-162">Los siguientes son vínculos relacionados.</span><span class="sxs-lookup"><span data-stu-id="75fe8-162">The following are related links.</span></span>

<span data-ttu-id="75fe8-163">Tutoriales</span><span class="sxs-lookup"><span data-stu-id="75fe8-163">Tutorials</span></span>

-   [<span data-ttu-id="75fe8-164">Crear funciones de devolución de llamada de estado</span><span class="sxs-lookup"><span data-stu-id="75fe8-164">Creating Status Callback Functions</span></span>](creating-status-callback-functions.md)

<span data-ttu-id="75fe8-165">Funciones necesarias para configurar la operación asincrónica</span><span class="sxs-lookup"><span data-stu-id="75fe8-165">Functions needed to set up asynchronous operation</span></span>

-   [<span data-ttu-id="75fe8-166">**InternetOpen**</span><span class="sxs-lookup"><span data-stu-id="75fe8-166">**InternetOpen**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetopena)
-   [<span data-ttu-id="75fe8-167">**InternetSetStatusCallback**</span><span class="sxs-lookup"><span data-stu-id="75fe8-167">**InternetSetStatusCallback**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetsetstatuscallback)

<span data-ttu-id="75fe8-168">Funciones que se pueden usar de forma asincrónica</span><span class="sxs-lookup"><span data-stu-id="75fe8-168">Functions that can be used asynchronously</span></span>

-   [<span data-ttu-id="75fe8-169">**FtpCreateDirectory**</span><span class="sxs-lookup"><span data-stu-id="75fe8-169">**FtpCreateDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya)
-   [<span data-ttu-id="75fe8-170">**FtpDeleteFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-170">**FtpDeleteFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea)
-   [<span data-ttu-id="75fe8-171">**FtpFindFirstFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-171">**FtpFindFirstFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpfindfirstfilea)
-   [<span data-ttu-id="75fe8-172">**FtpGetCurrentDirectory**</span><span class="sxs-lookup"><span data-stu-id="75fe8-172">**FtpGetCurrentDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya)
-   [<span data-ttu-id="75fe8-173">**FtpGetFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-173">**FtpGetFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpgetfilea)
-   [<span data-ttu-id="75fe8-174">**FtpOpenFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-174">**FtpOpenFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpopenfilea)
-   [<span data-ttu-id="75fe8-175">**FtpPutFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-175">**FtpPutFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpputfilea)
-   [<span data-ttu-id="75fe8-176">**FtpRemoveDirectory**</span><span class="sxs-lookup"><span data-stu-id="75fe8-176">**FtpRemoveDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya)
-   [<span data-ttu-id="75fe8-177">**FtpRenameFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-177">**FtpRenameFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea)
-   [<span data-ttu-id="75fe8-178">**FtpSetCurrentDirectory**</span><span class="sxs-lookup"><span data-stu-id="75fe8-178">**FtpSetCurrentDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya)
-   [<span data-ttu-id="75fe8-179">**GopherFindFirstFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-179">**GopherFindFirstFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-gopherfindfirstfilea)
-   [<span data-ttu-id="75fe8-180">**GopherOpenFile**</span><span class="sxs-lookup"><span data-stu-id="75fe8-180">**GopherOpenFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-gopheropenfilea)
-   [<span data-ttu-id="75fe8-181">**HttpEndRequest**</span><span class="sxs-lookup"><span data-stu-id="75fe8-181">**HttpEndRequest**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpendrequesta)
-   [<span data-ttu-id="75fe8-182">**HttpOpenRequest**</span><span class="sxs-lookup"><span data-stu-id="75fe8-182">**HttpOpenRequest**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpopenrequesta)
-   [<span data-ttu-id="75fe8-183">**HttpSendRequestEx**</span><span class="sxs-lookup"><span data-stu-id="75fe8-183">**HttpSendRequestEx**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpsendrequestexa)
-   [<span data-ttu-id="75fe8-184">**InternetConnect**</span><span class="sxs-lookup"><span data-stu-id="75fe8-184">**InternetConnect**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetconnecta)
-   [<span data-ttu-id="75fe8-185">**InternetOpenUrl**</span><span class="sxs-lookup"><span data-stu-id="75fe8-185">**InternetOpenUrl**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetopenurla)
-   [<span data-ttu-id="75fe8-186">**InternetReadFileEx**</span><span class="sxs-lookup"><span data-stu-id="75fe8-186">**InternetReadFileEx**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetreadfileexa)

> [!Note]  
> <span data-ttu-id="75fe8-187">Las funciones [**FtpCreateDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya), [**FtpRemoveDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya), [**FtpSetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya), [**FtpGetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya), [**FtpDeleteFile**](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea)y [**FtpRenameFile**](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea) usan el valor de contexto proporcionado en la llamada a la función [**InternetConnect**](/windows/desktop/api/Wininet/nf-wininet-internetconnecta) .</span><span class="sxs-lookup"><span data-stu-id="75fe8-187">The [**FtpCreateDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya), [**FtpRemoveDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya), [**FtpSetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya), [**FtpGetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya), [**FtpDeleteFile**](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea), and [**FtpRenameFile**](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea) functions use the context value provided in the call to the [**InternetConnect**](/windows/desktop/api/Wininet/nf-wininet-internetconnecta) function.</span></span>

 

> [!Note]  
> <span data-ttu-id="75fe8-188">WinINet no admite implementaciones de servidor.</span><span class="sxs-lookup"><span data-stu-id="75fe8-188">WinINet does not support server implementations.</span></span> <span data-ttu-id="75fe8-189">Además, no se debe usar desde un servicio.</span><span class="sxs-lookup"><span data-stu-id="75fe8-189">In addition, it should not be used from a service.</span></span> <span data-ttu-id="75fe8-190">En el caso de servicios o implementaciones de servidor, use los [servicios http de Microsoft Windows (WinHTTP)](/windows/desktop/WinHttp/winhttp-start-page).</span><span class="sxs-lookup"><span data-stu-id="75fe8-190">For server implementations or services use [Microsoft Windows HTTP Services (WinHTTP)](/windows/desktop/WinHttp/winhttp-start-page).</span></span>

 

 

 