---
title: Invocar los archivos dll de extensión
description: Llama a esta función para cada paquete de autenticación o de cuentas válido que recibe del servidor de acceso a la red (NAS).
ms.assetid: 6d738ad7-cce5-4835-97d6-c57173c79a16
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8bc96fab078a982f23f5f5dd86d51dbed46d5541
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103995484"
---
# <a name="invoking-the-extension-dlls"></a><span data-ttu-id="3d92a-103">Invocar los archivos dll de extensión</span><span class="sxs-lookup"><span data-stu-id="3d92a-103">Invoking the Extension DLLs</span></span>

> [!Note]  
> <span data-ttu-id="3d92a-104">Se ha cambiado el nombre del servicio de autenticación de Internet (IAS) a partir de Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="3d92a-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="3d92a-105">El contenido de este tema se aplica a IAS y NPS.</span><span class="sxs-lookup"><span data-stu-id="3d92a-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="3d92a-106">En todo el texto, NPS se usa para hacer referencia a todas las versiones del servicio, incluidas las versiones mencionadas originalmente como IAS.</span><span class="sxs-lookup"><span data-stu-id="3d92a-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="3d92a-107">Los archivos dll de extensión de NPS deben exportar al menos una de las siguientes funciones de devolución de llamada: [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)o [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="3d92a-107">NPS Extension DLLs must export at least one of the following callback functions: [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), or [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span> <span data-ttu-id="3d92a-108">NPS llama a estas funciones para cada paquete de autenticación o de cuentas válido que recibe del servidor de acceso a la red (NAS).</span><span class="sxs-lookup"><span data-stu-id="3d92a-108">NPS calls these function for each valid authentication or accounting packet that it receives from the Network Access Server (NAS).</span></span> <span data-ttu-id="3d92a-109">NPS llama a estas funciones en cada uno de los archivos DLL que aparecen debajo de la [clave del registro de parámetros](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)de NPS.</span><span class="sxs-lookup"><span data-stu-id="3d92a-109">NPS calls these functions in each of the DLLs listed below the NPS' [Parameters registry key](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls).</span></span> <span data-ttu-id="3d92a-110">Se llama a los archivos dll en el orden en que aparecen en la lista.</span><span class="sxs-lookup"><span data-stu-id="3d92a-110">The DLLs are called in the order in which they are listed.</span></span>

<span data-ttu-id="3d92a-111">Si un archivo DLL de extensión de NPS exporta más de una de las funciones anteriores, NPS invoca solo una de ellas: la función más reciente compatible con el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="3d92a-111">If an NPS Extension DLL exports more than one of the above functions, NPS invokes just one of them: the newest function that is supported by the operating system.</span></span>

> [!Note]  
> <span data-ttu-id="3d92a-112">IAS solo admitía originalmente [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span><span class="sxs-lookup"><span data-stu-id="3d92a-112">IAS originally supported only [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="3d92a-113">IAS también es compatible con [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span><span class="sxs-lookup"><span data-stu-id="3d92a-113">IAS supports also [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span></span> <span data-ttu-id="3d92a-114">IAS (y NPS posterior) admite también [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="3d92a-114">IAS (and later NPS) supports also [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span>

 

<span data-ttu-id="3d92a-115">Los archivos dll de extensión de NPS también pueden exportar funciones [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) y [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) .</span><span class="sxs-lookup"><span data-stu-id="3d92a-115">NPS Extension DLLs may also export [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) and [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) functions.</span></span> <span data-ttu-id="3d92a-116">Si están presentes, NPS llama a estas funciones cuando el servicio se inicia y se detiene, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="3d92a-116">If they are present, NPS calls these functions when the service starts and stops, respectively.</span></span>

## <a name="radiusextensionprocess-callback-function"></a><span data-ttu-id="3d92a-117">Función de devolución de llamada RadiusExtensionProcess</span><span class="sxs-lookup"><span data-stu-id="3d92a-117">RadiusExtensionProcess Callback Function</span></span>

<span data-ttu-id="3d92a-118">En un archivo DLL de extensión de autenticación, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) recibe todos los atributos que NPS recibe en la solicitud de autenticación o de cuentas.</span><span class="sxs-lookup"><span data-stu-id="3d92a-118">In an Authentication Extension DLL, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) receives all the attributes that are received by NPS in the authentication or accounting request.</span></span> <span data-ttu-id="3d92a-119">Con estos atributos, la función puede realizar validaciones adicionales, comprobar las autorizaciones del usuario o enviar registros de cuentas a un servidor de estado central.</span><span class="sxs-lookup"><span data-stu-id="3d92a-119">Using these attributes, the function can perform additional validations, verify the user's authorizations, or send accounting records to a central state server.</span></span>

<span data-ttu-id="3d92a-120">En un archivo DLL de extensión de autorización, **RadiusExtensionProcess** recibe todos los atributos generados por el servicio de autorización de NPS.</span><span class="sxs-lookup"><span data-stu-id="3d92a-120">In an Authorization Extension DLL, **RadiusExtensionProcess** receives all the attributes generated by the NPS authorization service.</span></span> <span data-ttu-id="3d92a-121">Estos son los atributos que se devuelven en el paquete de Access-Accept.</span><span class="sxs-lookup"><span data-stu-id="3d92a-121">These are the attributes that are returned in the Access-Accept packet.</span></span>

<span data-ttu-id="3d92a-122">Después de llamar a **RadiusExtensionProcess**, la acción que realiza NPS depende del valor devuelto de **RadiusExtensionProcess** y del valor devuelto en el parámetro *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="3d92a-122">After calling **RadiusExtensionProcess**, the action performed by NPS depends on the return value of **RadiusExtensionProcess**, and the value returned in the *pfAction* parameter.</span></span> <span data-ttu-id="3d92a-123">Los valores se muestran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="3d92a-123">These values are listed in the following table.</span></span>



| <span data-ttu-id="3d92a-124">*pfAction*</span><span class="sxs-lookup"><span data-stu-id="3d92a-124">*pfAction*</span></span> | <span data-ttu-id="3d92a-125">DLL de extensión de autenticación</span><span class="sxs-lookup"><span data-stu-id="3d92a-125">Authentication Extension DLL</span></span>                                                                                                                                            | <span data-ttu-id="3d92a-126">DLL de extensión de autorización</span><span class="sxs-lookup"><span data-stu-id="3d92a-126">Authorization Extension DLL</span></span>                                                                                                                                 |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3d92a-127">Aceptar</span><span class="sxs-lookup"><span data-stu-id="3d92a-127">Accept</span></span>     | <span data-ttu-id="3d92a-128">Omite cualquier dll de extensión de autenticación adicional y también omite el mecanismo de autenticación de NPS.</span><span class="sxs-lookup"><span data-stu-id="3d92a-128">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span>                                                                  | <span data-ttu-id="3d92a-129">Aceptación no permitida.</span><span class="sxs-lookup"><span data-stu-id="3d92a-129">Accept not allowed.</span></span>                                                                                                                                         |
| <span data-ttu-id="3d92a-130">Reject</span><span class="sxs-lookup"><span data-stu-id="3d92a-130">Reject</span></span>     | <span data-ttu-id="3d92a-131">Omite cualquier dll de extensión de autenticación adicional y también omite el mecanismo de autenticación de NPS.</span><span class="sxs-lookup"><span data-stu-id="3d92a-131">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span> <span data-ttu-id="3d92a-132">Se envía Access-Reject paquete.</span><span class="sxs-lookup"><span data-stu-id="3d92a-132">Access-Reject packet is sent.</span></span>                                    | <span data-ttu-id="3d92a-133">Omite cualquier dll de extensión de autorización adicional.</span><span class="sxs-lookup"><span data-stu-id="3d92a-133">Bypasses any further Authorization Extension DLLs.</span></span>                                                                                                          |
| <span data-ttu-id="3d92a-134">Continuar</span><span class="sxs-lookup"><span data-stu-id="3d92a-134">Continue</span></span>   | <span data-ttu-id="3d92a-135">El paquete se envía a la siguiente DLL de extensión de autenticación o al mecanismo de autenticación de NPS si no hay más archivos dll de extensión de autenticación en el registro.</span><span class="sxs-lookup"><span data-stu-id="3d92a-135">The packet is sent to the next Authentication Extension DLL or to the NPS authentication mechanism if no more Authentication Extension DLLs are listed in the registry.</span></span> | <span data-ttu-id="3d92a-136">El paquete se envía a la siguiente DLL de extensión de autorización o al registro de cuentas NPS si no se enumeran más archivos dll de extensión de autorización en el registro.</span><span class="sxs-lookup"><span data-stu-id="3d92a-136">The packet is sent to the next Authorization Extension DLL or to the NPS accounting log if no more Authorization Extension DLLs are listed in the registry.</span></span> |



 

<span data-ttu-id="3d92a-137">En el caso de todos los archivos dll de extensión, si **RadiusExtensionProcess** devuelve un error, el paquete se descarta.</span><span class="sxs-lookup"><span data-stu-id="3d92a-137">For all Extension DLLs, if **RadiusExtensionProcess** returns an error, the packet is discarded.</span></span> <span data-ttu-id="3d92a-138">El registro de cuentas NPS no procesa los paquetes que se descartan debido a un error.</span><span class="sxs-lookup"><span data-stu-id="3d92a-138">Packets that are discarded because of an error are not processed by the NPS accounting log.</span></span>

<span data-ttu-id="3d92a-139">Si se produce un error, NPS envía un evento de error genérico al registro de eventos.</span><span class="sxs-lookup"><span data-stu-id="3d92a-139">If an error occurs, NPS posts a generic error event to the Event Log.</span></span> <span data-ttu-id="3d92a-140">Se recomienda que el archivo DLL de extensión proporcione un registro de errores adicional.</span><span class="sxs-lookup"><span data-stu-id="3d92a-140">It is recommended that the Extension DLL provide additional error logging.</span></span>

<span data-ttu-id="3d92a-141">Para obtener más información y un diagrama que represente el proceso anterior, vea [About NPS Extensions](/windows/desktop/Nps/ias-about-internet-authentication-service).</span><span class="sxs-lookup"><span data-stu-id="3d92a-141">For more information and a diagram that represents the preceding process, see [About NPS Extensions](/windows/desktop/Nps/ias-about-internet-authentication-service).</span></span>

<span data-ttu-id="3d92a-142">**RadiusExtensionProcess** debe devolver un error si no puede comprobar la aceptación o el rechazo del paquete.</span><span class="sxs-lookup"><span data-stu-id="3d92a-142">**RadiusExtensionProcess** should return an error if it cannot verify the acceptance or rejection of the packet.</span></span> <span data-ttu-id="3d92a-143">Esta situación puede surgir si un problema de red impide que **RadiusExtensionProcess** se comunique con su base de datos de autenticación de usuario.</span><span class="sxs-lookup"><span data-stu-id="3d92a-143">This situation might arise if a network problem prevents **RadiusExtensionProcess** from communicating with its user authentication database.</span></span>

<span data-ttu-id="3d92a-144">Al procesar un paquete de cuentas, el parámetro *pfAction* es **null**, por lo que no se puede establecer *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="3d92a-144">When processing an accounting packet, the *pfAction* parameter is **NULL**, so *pfAction* cannot be set.</span></span> <span data-ttu-id="3d92a-145">Si se devuelve un error desde la función **RadiusExtensionProcess** al procesar una solicitud de cuentas, NPS descartará la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3d92a-145">Returning an error from the **RadiusExtensionProcess** function while processing an accounting request causes the request to be discarded by NPS.</span></span>

> [!Note]  
> <span data-ttu-id="3d92a-146">Después de recibir una aceptación, NPS no llama a **RadiusExtensionProcess** en los archivos dll restantes de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="3d92a-146">After receiving an accept, NPS does not call **RadiusExtensionProcess** in the remaining DLLs in the sequence.</span></span> <span data-ttu-id="3d92a-147">Dado que algunas funciones de autenticación también pueden implementar autorizaciones, omitir estas funciones de autenticación puede hacer que se omitan las autorizaciones.</span><span class="sxs-lookup"><span data-stu-id="3d92a-147">Because some authentication functions may also implement authorizations, skipping such authentication functions may cause authorizations to be omitted.</span></span> <span data-ttu-id="3d92a-148">Si una instancia de [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) devuelve Accept, es importante no hacer ninguna suposición sobre las autorizaciones recuperadas.</span><span class="sxs-lookup"><span data-stu-id="3d92a-148">If an instance of [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) returns Accept, it is important not to make any assumptions about the authorizations retrieved.</span></span>

 

<span data-ttu-id="3d92a-149">Si se devuelve continue o Accept, el perfil correspondiente al dominio Kerberos se devuelve en el paquete de Access-Accept.</span><span class="sxs-lookup"><span data-stu-id="3d92a-149">If Continue or Accept is returned, the profile corresponding to the realm is sent back in the Access-Accept packet.</span></span>

<span data-ttu-id="3d92a-150">Los archivos dll de extensión de autenticación deben diseñarse para coexistir con los proveedores de autenticación NPS integrados y con otros archivos dll de extensión.</span><span class="sxs-lookup"><span data-stu-id="3d92a-150">Authentication Extension DLLs should be designed to coexist with the built-in NPS authentication providers and with other Extension DLLs.</span></span> <span data-ttu-id="3d92a-151">Si una extensión solo se puede aplicar a una determinada base de datos de usuario (por ejemplo, Windows Active Directory), debe comprobar el atributo [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) pasado en el parámetro *pAttrs* antes de procesar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3d92a-151">If an extension is only applicable to a certain user database (for example Windows Active Directory), then it should verify the [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) attribute passed in the *pAttrs* parameter, before processing the request.</span></span> <span data-ttu-id="3d92a-152">El atributo ratProvider sería uno de los atributos a los que apunta el parámetro *pAttrs* .</span><span class="sxs-lookup"><span data-stu-id="3d92a-152">The ratProvider attribute would be one of a list of attributes pointed to by the *pAttrs* parameter.</span></span>

<span data-ttu-id="3d92a-153">Los archivos dll de extensión no deben rechazar solicitudes porque faltan atributos requeridos.</span><span class="sxs-lookup"><span data-stu-id="3d92a-153">Extension DLLs should not reject requests because required attributes are missing.</span></span> <span data-ttu-id="3d92a-154">Por ejemplo, si una extensión de autenticación requiere el atributo User-Password, ratUserPassword y el atributo no está presente, la extensión debe devolver una acción de raContinue para proporcionar a otras extensiones y proveedores una oportunidad para procesar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3d92a-154">For example, if an authentication extension requires the User-Password attribute, ratUserPassword, and the attribute is not present, the extension should return an action of raContinue to give other extensions and providers a chance to process the request.</span></span>

<span data-ttu-id="3d92a-155">NPS llama a la función [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) después de que se haya tomado la decisión de usar una base de datos de autenticación determinada, pero antes de que el usuario se autentique.</span><span class="sxs-lookup"><span data-stu-id="3d92a-155">NPS calls the [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) function after the decision to use a particular authentication database is made, but before the user is authenticated.</span></span> <span data-ttu-id="3d92a-156">Por lo tanto, la información sobre la base de datos de autenticación que se va a utilizar está disponible para la función, de modo que la función puede comprobar las autorizaciones del usuario en la base de datos de autenticación adecuada.</span><span class="sxs-lookup"><span data-stu-id="3d92a-156">Therefore, information about which authentication database to use is available to the function, so that the function can check for the user's authorizations in the appropriate authentication database.</span></span> <span data-ttu-id="3d92a-157">NPS admite varias bases de datos de autenticación, incluida la Active Directory de Windows.</span><span class="sxs-lookup"><span data-stu-id="3d92a-157">NPS supports various authentication databases including the Windows Active Directory.</span></span>

## <a name="radiusextensionprocessex-callback-function"></a><span data-ttu-id="3d92a-158">Función de devolución de llamada RadiusExtensionProcessEx</span><span class="sxs-lookup"><span data-stu-id="3d92a-158">RadiusExtensionProcessEx Callback Function</span></span>

<span data-ttu-id="3d92a-159">Los archivos dll de extensión de NPS pueden exportar [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) en lugar de, o además de [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span><span class="sxs-lookup"><span data-stu-id="3d92a-159">NPS Extension DLLs may export [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="3d92a-160">Esta función permite que el archivo DLL Anexe atributos de autorización adicionales a la respuesta de autenticación.</span><span class="sxs-lookup"><span data-stu-id="3d92a-160">This function enables the DLL to append additional authorization attributes to the authentication response.</span></span>

<span data-ttu-id="3d92a-161">La misma información que se describe en la sección de la *función de devolución de llamada RadiusExtensionProcess* se aplica a la función [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) .</span><span class="sxs-lookup"><span data-stu-id="3d92a-161">The same information described in the *RadiusExtensionProcess Callback Function* section applies to the [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function.</span></span>

<span data-ttu-id="3d92a-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) no puede modificar ni quitar ninguno de los atributos que están presentes.</span><span class="sxs-lookup"><span data-stu-id="3d92a-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) cannot modify or remove any of the attributes that are present.</span></span> <span data-ttu-id="3d92a-163">Si se produce un escenario en el que la DLL debe modificar o quitar atributos, la única opción es usar la interfaz de usuario de NPS para asegurarse de que los atributos no están presentes.</span><span class="sxs-lookup"><span data-stu-id="3d92a-163">If a scenario arises in which the DLL must modify or remove attributes, the only option is to use the NPS user interface to ensure that the attributes are not present.</span></span> <span data-ttu-id="3d92a-164">De forma predeterminada, no hay ningún atributo de autorización presente.</span><span class="sxs-lookup"><span data-stu-id="3d92a-164">By default, no authorization attributes are present.</span></span> <span data-ttu-id="3d92a-165">Cualquier que esté presente se debe haber agregado a través de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="3d92a-165">Any that are present must have been added through the user interface.</span></span>

<span data-ttu-id="3d92a-166">Si se configuran varias dll de autorización y algunas de estas dll implementan [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), la función **RadiusExtensionProcess/ex** de un archivo dll determinado no recibe los atributos de los archivos dll de autorización previamente llamados.</span><span class="sxs-lookup"><span data-stu-id="3d92a-166">If multiple Authorization DLLs are configured and some of these DLLs implement [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), the **RadiusExtensionProcess/Ex** function in a given DLL does not receive the attributes from the previously called Authorization DLLs.</span></span> <span data-ttu-id="3d92a-167">Recibe solo los atributos generados por el servicio de autorización de NPS.</span><span class="sxs-lookup"><span data-stu-id="3d92a-167">It receives only those attributes generated by the NPS authorization service.</span></span>

## <a name="radiusextensionprocess2-callback-function"></a><span data-ttu-id="3d92a-168">Función de devolución de llamada RadiusExtensionProcess2</span><span class="sxs-lookup"><span data-stu-id="3d92a-168">RadiusExtensionProcess2 Callback Function</span></span>

<span data-ttu-id="3d92a-169">Los archivos dll de extensión de NPS también pueden exportar [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) en lugar de, o además de [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) y **RadiusExtensionProcessEx**.</span><span class="sxs-lookup"><span data-stu-id="3d92a-169">NPS Extension DLLs may also export [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) and **RadiusExtensionProcessEx**.</span></span> <span data-ttu-id="3d92a-170">Esta función permite que el archivo DLL agregue, modifique y quite atributos de la solicitud o respuesta de autenticación.</span><span class="sxs-lookup"><span data-stu-id="3d92a-170">This function enables the DLL to add, modify, and remove attributes to and from the authentication request or response.</span></span>

<span data-ttu-id="3d92a-171">La misma información que se describe en la sección de la *función de devolución de llamada RadiusExtensionProcessEx* se aplica a la función [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) , con las siguientes excepciones:</span><span class="sxs-lookup"><span data-stu-id="3d92a-171">The same information described in the *RadiusExtensionProcessEx Callback Function* section applies to the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function, with the following exceptions:</span></span>

-   <span data-ttu-id="3d92a-172">En una DLL de autorización, **RadiusExtensionProcess2** recibe los atributos generados por el servicio de autorización NPS y los atributos generados a partir de los archivos dll de autorización previamente llamados.</span><span class="sxs-lookup"><span data-stu-id="3d92a-172">In an Authorization DLL, **RadiusExtensionProcess2** receives both the attributes generated by the NPS authorization service and the attributes generated from previously called Authorization DLLs.</span></span>
-   <span data-ttu-id="3d92a-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) no tiene un parámetro *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="3d92a-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) does not have a *pfAction* parameter.</span></span> <span data-ttu-id="3d92a-174">**RadiusExtensionProcess2** establece la disposición final de la solicitud mediante la función [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) proporcionada en la estructura de bloques de [**control de \_ extensión \_ \_ RADIUS**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) .</span><span class="sxs-lookup"><span data-stu-id="3d92a-174">**RadiusExtensionProcess2** sets the final disposition of the request using the [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) function provided in the [**RADIUS\_EXTENSION\_CONTROL\_BLOCK**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) structure.</span></span>
-   <span data-ttu-id="3d92a-175">NPS siempre llama a la función [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) en cualquier dll restante independientemente de si las funciones de los archivos dll anteriores devolvieron Accept.</span><span class="sxs-lookup"><span data-stu-id="3d92a-175">NPS always calls the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) function in any remaining DLLs regardless of whether functions in previous DLLs returned Accept.</span></span>

## <a name="related-topics"></a><span data-ttu-id="3d92a-176">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="3d92a-176">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3d92a-177">Configuración de los archivos dll de extensión</span><span class="sxs-lookup"><span data-stu-id="3d92a-177">Setting Up the Extension DLLs</span></span>](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)
</dt> <dt>

[<span data-ttu-id="3d92a-178">Atributos de identificación de usuario</span><span class="sxs-lookup"><span data-stu-id="3d92a-178">User Identification Attributes</span></span>](/windows/desktop/Nps/ias-user-identification-attributes)
</dt> </dl>

 

 