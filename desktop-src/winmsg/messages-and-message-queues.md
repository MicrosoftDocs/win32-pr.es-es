---
description: En esta sección se describen los mensajes y las colas de mensajes, y cómo usarlos en las aplicaciones.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\messagesandmessagequeues.htm
title: Mensajes y colas de mensajes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d0233af932d1aa9a4130e244af002d6180fdf055
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105706336"
---
# <a name="messages-and-message-queues"></a>Mensajes y colas de mensajes

En esta sección se describen los mensajes y las colas de mensajes, y cómo usarlos en las aplicaciones.

### <a name="in-this-section"></a>En esta sección



| Nombre                                                                       | Descripción                                                                                                                                |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| [Acerca de los mensajes y las colas de mensajes](about-messages-and-message-queues.md) | En esta sección se describen los mensajes y las colas de mensajes de Windows.<br/>                                                                     |
| [Uso de mensajes y colas de mensajes](using-messages-and-message-queues.md) | En los siguientes ejemplos de código se muestra cómo realizar las siguientes tareas asociadas a mensajes de Windows y colas de mensajes.<br/> |
| [Referencia de mensaje](message-and-message-queue-reference.md)               | Contiene la referencia de la API.<br/>                                                                                                     |



 

### <a name="system-provided-messages"></a>Mensajes de System-Provided

Para ver las listas de los mensajes proporcionados por el sistema, consulte [mensajes definidos por el sistema](about-messages-and-message-queues.md).

### <a name="message-functions"></a>Funciones de mensajes



| Nombre                                                         | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage)     | Envía un mensaje a los destinatarios especificados. Los destinatarios pueden ser aplicaciones, controladores instalables, controladores de red, controladores de dispositivos de nivel de sistema o cualquier combinación de estos componentes del sistema. <br/> Para recibir información adicional si se define la solicitud, use la función [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) .<br/>                                                                                                                                                                                                                                  |
| [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) | Envía un mensaje a los destinatarios especificados. Los destinatarios pueden ser aplicaciones, controladores instalables, controladores de red, controladores de dispositivos de nivel de sistema o cualquier combinación de estos componentes del sistema. <br/> Esta función es similar a [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , salvo que esta función puede devolver más información de los destinatarios.<br/>                                                                                                                                                                                                              |
| [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage)                   | Envía un mensaje a un procedimiento de ventana. Normalmente se usa para enviar un mensaje recuperado por la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**GetInputState**](/windows/win32/api/winuser/nf-winuser-getinputstate)                       | Determina si hay mensajes de teclado o botón del mouse en la cola de mensajes del subproceso que realiza la llamada. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage)                             | Recupera un mensaje de la cola de mensajes del subproceso que realiza la llamada. La función envía mensajes enviados entrantes hasta que un mensaje expuesto está disponible para su recuperación. <br/> A diferencia de [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), la función [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) no espera a que se envíe un mensaje antes de la devolución.<br/>                                                                                                                                                                                                                                                              |
| [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo)           | Recupera la información adicional del mensaje para el subproceso actual. La información adicional del mensaje es un valor definido por la aplicación o por el controlador asociado a la cola de mensajes del subproceso actual. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos)                       | Recupera la posición del cursor para el último mensaje recuperado por la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . <br/> Para determinar la posición actual del cursor, utilice la función [**GetCursorPos**](/windows/desktop/api/winuser/nf-winuser-getcursorpos) .<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime)                     | Recupera la hora del mensaje para el último mensaje recuperado por la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . El tiempo es un entero largo que especifica el tiempo transcurrido, en milisegundos, desde el momento en que se inició el sistema hasta la hora en que se creó el mensaje (es decir, se coloca en la cola de mensajes del subproceso). <br/>                                                                                                                                                                                                                                                                         |
| [**GetQueueStatus**](/windows/win32/api/winuser/nf-winuser-getqueuestatus)                     | Indica el tipo de mensajes encontrados en la cola de mensajes del subproceso que realiza la llamada.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage)                       | Determina si el procedimiento de ventana actual está procesando un mensaje que se envió desde otro subproceso (en el mismo proceso o en un proceso diferente) mediante una llamada a la función [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) . <br/> Para obtener información adicional sobre cómo se envió el mensaje, utilice la función [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .<br/>                                                                                                                                                                                                                              |
| [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex)                   | Determina si el procedimiento de ventana actual está procesando un mensaje que se envió desde otro subproceso (en el mismo proceso o en un proceso diferente).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea)                           | Envía los mensajes enviados entrantes, comprueba la cola de mensajes de subprocesos en busca de un mensaje expuesto y recupera el mensaje (si existe alguno).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea)                           | Envía un mensaje en la cola de mensajes asociada al subproceso que creó la ventana especificada y devuelve sin esperar a que el subproceso procese el mensaje. <br/> Para publicar un mensaje en la cola de mensajes asociada a un subproceso, utilice la función [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/>                                                                                                                                                                                                                                                                          |
| [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage)                   | Indica al sistema que un subproceso ha realizado una solicitud para finalizar (Quit). Normalmente se usa como respuesta a un mensaje [**de \_ destrucción de WM**](wm-destroy.md) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea)               | Envía un mensaje a la cola de mensajes del subproceso especificado. Devuelve sin esperar a que el subproceso procese el mensaje.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea)       | Define un nuevo mensaje de ventana que se garantiza que es único en todo el sistema. El valor del mensaje se puede utilizar al enviar o publicar mensajes.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage)                         | Responde a un mensaje enviado a través de la función [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) sin devolver el control a la función que llamó a **SendMessage**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc)                         | Función de devolución de llamada definida por la aplicación que se usa con la función [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) . El sistema pasa el mensaje a la función de devolución de llamada después de pasar el mensaje al procedimiento de ventana de destino. El tipo **SENDASYNCPROC** define un puntero a esta función de devolución de llamada. [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc) es un marcador de posición para el nombre de la función definida por la aplicación.<br/>                                                                                                                                                                          |
| [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage)                           | Envía el mensaje especificado a una ventana o ventanas. La función [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) llama al procedimiento de ventana de la ventana especificada y no devuelve ningún valor hasta que el procedimiento de ventana ha procesado el mensaje. <br/> Para enviar un mensaje y volver inmediatamente, use la función [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) o [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) . Para publicar un mensaje en la cola de mensajes de un subproceso y volver inmediatamente, use la función [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) o [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/> |
| [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka)           | Envía el mensaje especificado a una ventana o ventanas. Llama al procedimiento de ventana de la ventana especificada y vuelve inmediatamente. Una vez que el procedimiento de ventana procesa el mensaje, el sistema llama a la función de devolución de llamada especificada, pasando el resultado del procesamiento de mensajes y un valor definido por la aplicación a la función de devolución de llamada.<br/>                                                                                                                                                                                                                                             |
| [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)             | Envía el mensaje especificado a una de más ventanas.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)               | Envía el mensaje especificado a una ventana o ventanas. Si el subproceso que realiza la llamada creó la ventana, [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) llama al procedimiento de ventana de la ventana y no vuelve hasta que el procedimiento de ventana haya procesado el mensaje. Si la ventana fue creada por un subproceso diferente, **SendNotifyMessage** pasa el mensaje al procedimiento de ventana y vuelve inmediatamente; no espera a que el procedimiento de ventana finalice el procesamiento del mensaje.<br/>                                                                                              |
| [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo)           | Establece la información adicional del mensaje para el subproceso actual. La información adicional del mensaje es un valor definido por la aplicación o por el controlador asociado a la cola de mensajes del subproceso actual. Una aplicación puede usar la función [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) para recuperar la información adicional del mensaje de un subproceso.<br/>                                                                                                                                                                                                                                                                |
| [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)                 | Traduce mensajes de clave virtual en mensajes de caracteres. Los mensajes de caracteres se exponen en la cola de mensajes del subproceso de llamada, que se leerán la próxima vez que el subproceso llame a la función [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .<br/>                                                                                                                                                                                                                                                                                                                            |
| [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage)                           | Proporciona el control a otros subprocesos cuando un subproceso no tiene ningún otro mensaje en su cola de mensajes. La función [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) suspende el subproceso y no devuelve ningún resultado hasta que se coloca un nuevo mensaje en la cola de mensajes del subproceso.<br/>                                                                                                                                                                                                                                                                                                                                              |



 

### <a name="message-constants"></a>Constantes de mensaje



| Nombre                             | Descripción                                                                    |
|----------------------------------|--------------------------------------------------------------------------------|
| [**BASE de OCM \_ \_**](ocm--base.md) | Se usa para definir mensajes privados para su uso por parte de clases de ventana privadas. <br/> |
| [**aplicación de WM \_**](wm-app.md)        | Se usa para definir mensajes privados. <br/>                                   |
| [**usuario de WM \_**](wm-user.md)      | Usó mensajes privados de todefine para su uso por parte de clases de ventana privadas. <br/>  |



 

### <a name="message-structures"></a>Estructuras de mensajes



| Nombre                       | Descripción                                                                                                                              |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| [**BSMINFO**](/windows/win32/api/winuser/ns-winuser-bsminfo) | Contiene información sobre una ventana que ha denegado una solicitud de [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa). <br/> |
| [**MENSAJE**](/windows/win32/api/winuser/ns-winuser-msg)         | Contiene información de mensaje de la cola de mensajes de un subproceso. <br/>                                                                  |



 

 

