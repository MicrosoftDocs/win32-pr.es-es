---
description: En muchos escenarios, la seguridad basada en roles es un mecanismo muy eficaz, pero hay situaciones en las que es menos eficaz.
ms.assetid: 6a1e6cf3-7a8c-4249-926d-675a54061adf
title: Diseñar roles de forma eficaz
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c0a340cb2fc643a414ebf784a14e7b61a45bccd3
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104538589"
---
# <a name="designing-roles-effectively"></a><span data-ttu-id="785c1-103">Diseñar roles de forma eficaz</span><span class="sxs-lookup"><span data-stu-id="785c1-103">Designing Roles Effectively</span></span>

<span data-ttu-id="785c1-104">En muchos escenarios, la seguridad basada en roles es un mecanismo muy eficaz, pero hay situaciones en las que es menos eficaz.</span><span class="sxs-lookup"><span data-stu-id="785c1-104">In many scenarios, role-based security is a very effective mechanism, but there are situations where it is less effective.</span></span> <span data-ttu-id="785c1-105">Debe tener en cuenta varios factores a la hora de decidir dónde y cómo aplicar la seguridad basada en roles a una aplicación determinada.</span><span class="sxs-lookup"><span data-stu-id="785c1-105">You should take a number of factors into consideration when deciding where and how to apply role-based security to a particular application.</span></span>

## <a name="user-and-data-characteristics-and-the-suitability-of-roles"></a><span data-ttu-id="785c1-106">Características de usuario y datos y la idoneidad de los roles</span><span class="sxs-lookup"><span data-stu-id="785c1-106">User and Data Characteristics and the Suitability of Roles</span></span>

<span data-ttu-id="785c1-107">Los roles funcionan muy bien para caracterizar a los grupos de usuarios y, en ese caso, filtran las acciones que pueden realizar esos usuarios.</span><span class="sxs-lookup"><span data-stu-id="785c1-107">Roles work very well to characterize groups of users and, on that basis, filter what actions those users can perform.</span></span> <span data-ttu-id="785c1-108">A menudo, esto se lleva a cabo en la práctica mediante la creación de roles que reflejan el lugar de un usuario dentro de una organización, por ejemplo, las funciones "administradores" y "cajeros", "administradores" y "lectores", "proyecto de un empleado" y "proyecto de dos empleados".</span><span class="sxs-lookup"><span data-stu-id="785c1-108">Often, this is carried out in practice by creating roles that reflect a user's place within an organization—for example, the roles "Managers" and "Tellers," "Administrators" and "Readers," "Project One Employees" and "Project Two Employees."</span></span> <span data-ttu-id="785c1-109">En tales casos, en los que los datos a los que se tiene acceso son bastante genéricos con respecto a los usuarios, los roles se pueden usar de forma eficaz para aplicar reglas de negocios como las siguientes:</span><span class="sxs-lookup"><span data-stu-id="785c1-109">In such cases, where the data being accessed is fairly generic relative to the users, roles can be used efficiently to enforce business rules such as the following:</span></span>

-   <span data-ttu-id="785c1-110">"Los administradores pueden transferir cualquier cantidad de dinero.</span><span class="sxs-lookup"><span data-stu-id="785c1-110">"Managers can transfer any amount of money.</span></span> <span data-ttu-id="785c1-111">Los cajeros solo pueden transferir hasta $10.000 ".</span><span class="sxs-lookup"><span data-stu-id="785c1-111">Tellers can transfer only up to $10,000."</span></span>

-   <span data-ttu-id="785c1-112">"Los administradores pueden cambiar cualquier cosa.</span><span class="sxs-lookup"><span data-stu-id="785c1-112">"Administrators can change anything.</span></span> <span data-ttu-id="785c1-113">Todos los demás solo pueden leer ".</span><span class="sxs-lookup"><span data-stu-id="785c1-113">Everyone else can only read."</span></span>

-   <span data-ttu-id="785c1-114">"Project One Employees puede tener acceso a una determinada base de datos.</span><span class="sxs-lookup"><span data-stu-id="785c1-114">"Project One employees can access a certain database.</span></span> <span data-ttu-id="785c1-115">Nadie más puede ".</span><span class="sxs-lookup"><span data-stu-id="785c1-115">No one else can."</span></span>

<span data-ttu-id="785c1-116">Los usuarios pueden entrar en varios roles de forma natural, en función de cómo los roles modelan la estructura organizativa de una empresa.</span><span class="sxs-lookup"><span data-stu-id="785c1-116">Users might naturally fall into multiple roles, depending on how the roles model the organizational structure of a business.</span></span>

<span data-ttu-id="785c1-117">Sin embargo, los roles no funcionan bien cuando una decisión de acceso de seguridad se sitúa en las características de un determinado dato.</span><span class="sxs-lookup"><span data-stu-id="785c1-117">However, roles don't work very well when a security access decision rests on the characteristics of a particular piece of data.</span></span> <span data-ttu-id="785c1-118">Por ejemplo, sería difícil utilizar roles para reflejar relaciones de datos de usuario complicadas, como las siguientes:</span><span class="sxs-lookup"><span data-stu-id="785c1-118">For example, it would be difficult to use roles to reflect complicated user-data relationships such as the following:</span></span>

-   <span data-ttu-id="785c1-119">"Un administrador determinado solo puede acceder a los datos de personal de sus informes".</span><span class="sxs-lookup"><span data-stu-id="785c1-119">"A particular manager can access personnel data for only her reports."</span></span>

-   <span data-ttu-id="785c1-120">"El consumidor de Joe puede buscar el saldo de su cuenta".</span><span class="sxs-lookup"><span data-stu-id="785c1-120">"Joe Consumer can look up his account balance."</span></span>

<span data-ttu-id="785c1-121">En tales casos, la comprobación de seguridad se debe realizar a menudo en la base de datos, donde es más fácil tener en cuenta las características de INNATE de los datos a los que se tiene acceso.</span><span class="sxs-lookup"><span data-stu-id="785c1-121">In such cases, security checking must often be done at the database itself, where it is easier to take into account innate characteristics of the data being accessed.</span></span> <span data-ttu-id="785c1-122">Esto significa que debe usar la *suplantación* para pasar la identidad del cliente a la base de datos y permitir que la base de datos valide la solicitud.</span><span class="sxs-lookup"><span data-stu-id="785c1-122">This means that you must use *impersonation* to pass the client identity along to the database and let the database validate the request.</span></span> <span data-ttu-id="785c1-123">Esto puede afectar al rendimiento y puede afectar al diseño de la aplicación; por ejemplo, la agrupación de conexiones podría no funcionar cuando se abre una conexión con una identidad de usuario determinada.</span><span class="sxs-lookup"><span data-stu-id="785c1-123">This can affect performance and can affect the application's design—for example, connection pooling might not work when a connection is opened under a particular user identity.</span></span> <span data-ttu-id="785c1-124">Para obtener una explicación de los problemas implicados, consulte [seguridad de aplicaciones de niveles múltiples](multi-tier-application-security.md) y [delegación y delegación de clientes](client-impersonation-and-delegation.md).</span><span class="sxs-lookup"><span data-stu-id="785c1-124">For a discussion of issues involved, see [Multi-Tier Application Security](multi-tier-application-security.md) and [Client Impersonation and Delegation](client-impersonation-and-delegation.md).</span></span>

## <a name="complexity-and-scalability-of-a-role-based-authorization-policy"></a><span data-ttu-id="785c1-125">Complejidad y escalabilidad de una directiva de autorización de Role-Based</span><span class="sxs-lookup"><span data-stu-id="785c1-125">Complexity and Scalability of a Role-Based Authorization Policy</span></span>

<span data-ttu-id="785c1-126">Cualquier directiva de seguridad que ponga en marcha solo será tan eficaz como su implementación por parte de los administradores del sistema que implementen la aplicación.</span><span class="sxs-lookup"><span data-stu-id="785c1-126">Whatever security policy you put in place will be only as effective as its implementation by the system administrators deploying your application.</span></span> <span data-ttu-id="785c1-127">Si los administradores cometen errores en la asignación de usuarios a los roles correctos según la Directiva de seguridad, la Directiva no funcionará según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="785c1-127">If administrators make mistakes in assigning users to the correct roles according to your security policy, your policy won't work as intended.</span></span> <span data-ttu-id="785c1-128">Es más probable que se produzcan problemas en las siguientes circunstancias:</span><span class="sxs-lookup"><span data-stu-id="785c1-128">Problems are most likely to occur under the following circumstances:</span></span>

-   <span data-ttu-id="785c1-129">Ha realizado una Directiva muy compleja basada en roles, con muchos roles y usuarios asignados a varios roles.</span><span class="sxs-lookup"><span data-stu-id="785c1-129">You have made a very intricate role-based policy, with many roles and users mapping to numerous roles.</span></span>
-   <span data-ttu-id="785c1-130">Los roles se crean con criterios ambiguos para los que deben pertenecer a ellos.</span><span class="sxs-lookup"><span data-stu-id="785c1-130">You create roles with ambiguous criteria for who should belong to them.</span></span>
-   <span data-ttu-id="785c1-131">Hay muchos usuarios en el sitio donde se instala la aplicación y los usuarios se mueven con frecuencia dentro de la organización, cambiando con respecto a los roles que ha creado.</span><span class="sxs-lookup"><span data-stu-id="785c1-131">There are many users at the site where the application is installed, and users are frequently moving within the organization, changing with respect to the roles you have created.</span></span>
-   <span data-ttu-id="785c1-132">Hay muchos administradores en el sitio donde se instala la aplicación, con división de responsabilidades, de modo que un administrador familiarizado con los requisitos de seguridad de la aplicación no esté familiarizado con los grandes grupos de usuarios que deben usarlo.</span><span class="sxs-lookup"><span data-stu-id="785c1-132">There are many administrators at the site where the application is installed, with division of responsibilities, so that an administrator familiar with the security requirements of your application is potentially unfamiliar with the large groups of users that must use it.</span></span> <span data-ttu-id="785c1-133">Este es un problema especial a medida que los usuarios se mueven dentro de la organización, por lo que la información debe comunicarse bien.</span><span class="sxs-lookup"><span data-stu-id="785c1-133">This is of particular concern as users move within the organization—such information needs to be well communicated.</span></span>

<span data-ttu-id="785c1-134">Además, a medida que aumenta el número de roles asignados a una aplicación, la cantidad de tiempo que COM+ debe invertir en buscar la pertenencia del llamador en esos roles, con una degradación probable del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="785c1-134">Additionally, as the number of roles assigned to an application increases, so does the amount of time COM+ must spend looking up caller membership in those roles, with a likely degradation in performance.</span></span>

<span data-ttu-id="785c1-135">Para administrar la complejidad y mitigar estos problemas, puede usar las siguientes directrices:</span><span class="sxs-lookup"><span data-stu-id="785c1-135">To manage complexity and mitigate these concerns, you can use the following guidelines:</span></span>

-   <span data-ttu-id="785c1-136">Elija nombres de rol que sean autodescriptivos.</span><span class="sxs-lookup"><span data-stu-id="785c1-136">Choose role names that are self-descriptive.</span></span> <span data-ttu-id="785c1-137">Haga que sea lo más obvio posible qué usuarios deben pertenecer a cada rol.</span><span class="sxs-lookup"><span data-stu-id="785c1-137">Make it as obvious as possible which users should belong to which roles.</span></span>
-   <span data-ttu-id="785c1-138">Haga que su directiva basada en roles sea lo más sencilla posible (y no más sencilla).</span><span class="sxs-lookup"><span data-stu-id="785c1-138">Make your role-based policy as simple as possible (and no simpler).</span></span> <span data-ttu-id="785c1-139">Elija el menor número posible de roles, mientras mantiene una directiva efectiva.</span><span class="sxs-lookup"><span data-stu-id="785c1-139">Choose as few roles as you can, while maintaining an effective policy.</span></span>
-   <span data-ttu-id="785c1-140">Documente claramente la directiva basada en roles que crea para los administradores, si la pertenencia a roles es obvia (para usted).</span><span class="sxs-lookup"><span data-stu-id="785c1-140">Clearly document the role-based policy that you construct for administrators, whether role membership is obvious (to you).</span></span> <span data-ttu-id="785c1-141">En concreto, use el campo de Descripción disponible para cada rol para describir la intención del rol.</span><span class="sxs-lookup"><span data-stu-id="785c1-141">In particular, use the description field available for each role to describe the intent of the role.</span></span> <span data-ttu-id="785c1-142">Si no puede describir generalmente quién debe pertenecer al rol en un par de oraciones, probablemente es demasiado complicado.</span><span class="sxs-lookup"><span data-stu-id="785c1-142">If you can't describe generally who should belong to the role in a couple of sentences, it is probably too complicated.</span></span>
-   <span data-ttu-id="785c1-143">Recomendamos encarecidamente que los administradores de la aplicación rellenen los roles con grupos de usuarios en lugar de usuarios individuales.</span><span class="sxs-lookup"><span data-stu-id="785c1-143">Strongly suggest that administrators of your application populate roles with user groups instead of individual users.</span></span> <span data-ttu-id="785c1-144">Se trata de una solución mucho más escalable.</span><span class="sxs-lookup"><span data-stu-id="785c1-144">This is a much more scalable solution.</span></span> <span data-ttu-id="785c1-145">Facilita la reasignación o eliminación de usuarios a medida que se mueven dentro de la organización y aísla a los administradores de una determinada cantidad de supervisión y problemas de comunicación.</span><span class="sxs-lookup"><span data-stu-id="785c1-145">It makes it easier to reassign or remove users as they move within the organization and insulates administrators from a certain amount of oversight and problems in communication.</span></span>

## <a name="related-topics"></a><span data-ttu-id="785c1-146">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="785c1-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="785c1-147">Límites de seguridad</span><span class="sxs-lookup"><span data-stu-id="785c1-147">Security Boundaries</span></span>](security-boundaries.md)
</dt> <dt>

[<span data-ttu-id="785c1-148">Información de contexto de llamada de seguridad</span><span class="sxs-lookup"><span data-stu-id="785c1-148">Security Call Context Information</span></span>](security-call-context-information.md)
</dt> <dt>

[<span data-ttu-id="785c1-149">Propiedad de contexto de seguridad</span><span class="sxs-lookup"><span data-stu-id="785c1-149">Security Context Property</span></span>](security-context-property.md)
</dt> <dt>

[<span data-ttu-id="785c1-150">Uso de roles para la autorización de cliente</span><span class="sxs-lookup"><span data-stu-id="785c1-150">Using Roles for Client Authorization</span></span>](using-roles-for-client-authorization.md)
</dt> </dl>

 

 



