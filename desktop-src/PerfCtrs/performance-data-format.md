---
description: El formato de los datos recuperados por la función RegQueryValueEx comienza con una estructura de encabezado de longitud fija, un bloque de datos de rendimiento \_ \_ .
ms.assetid: a68fa617-834c-4ad9-b922-fac3a648ad75
title: Formato de datos de rendimiento
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 88029634594843a50fd6010993eb6517dce831f7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104567740"
---
# <a name="performance-data-format"></a><span data-ttu-id="eed7a-103">Formato de datos de rendimiento</span><span class="sxs-lookup"><span data-stu-id="eed7a-103">Performance Data Format</span></span>

<span data-ttu-id="eed7a-104">El formato de los datos recuperados por la función [**RegQueryValueEx**](/windows/desktop/api/winreg/nf-winreg-regqueryvalueexa) comienza con una estructura de encabezado de longitud fija, un [**bloque de \_ datos \_ de rendimiento**](/windows/desktop/api/Winperf/ns-winperf-perf_data_block).</span><span class="sxs-lookup"><span data-stu-id="eed7a-104">The format of the data retrieved by the [**RegQueryValueEx**](/windows/desktop/api/winreg/nf-winreg-regqueryvalueexa) function begins with a fixed-length header structure, [**PERF\_DATA\_BLOCK**](/windows/desktop/api/Winperf/ns-winperf-perf_data_block).</span></span> <span data-ttu-id="eed7a-105">La estructura de **\_ \_ bloque de datos** de rendimiento describe el sistema y los datos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eed7a-105">The **PERF\_DATA\_BLOCK** structure describes the system and the performance data.</span></span> <span data-ttu-id="eed7a-106">La estructura de **\_ \_ bloque de datos de rendimiento** va seguida de un número variable de elementos de datos de objeto de longitud variable.</span><span class="sxs-lookup"><span data-stu-id="eed7a-106">The **PERF\_DATA\_BLOCK** structure is followed by variable number of variable-length object data items.</span></span> <span data-ttu-id="eed7a-107">El encabezado de cada elemento de objeto contiene el desplazamiento del siguiente elemento de objeto de la lista.</span><span class="sxs-lookup"><span data-stu-id="eed7a-107">The header of each object item contains the offset of the next object item in the list.</span></span> <span data-ttu-id="eed7a-108">En el diagrama siguiente se muestra la estructura básica de datos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="eed7a-108">The following diagram shows the basic performance data structure.</span></span>

![estructura de datos de rendimiento](images/perfdata.png)

<span data-ttu-id="eed7a-110">Hay dos formatos para los elementos de datos de objeto: uno que admite varias instancias y otro que no admite varias instancias.</span><span class="sxs-lookup"><span data-stu-id="eed7a-110">There are two formats for the object data items: one that supports multiple instances, and the other that does not support multiple instances.</span></span>

<span data-ttu-id="eed7a-111">Cada bloque de elementos de datos de objeto contiene una estructura de [**\_ \_ tipo de objeto de rendimiento**](/windows/desktop/api/Winperf/ns-winperf-perf_object_type) , que describe los datos de rendimiento para el objeto.</span><span class="sxs-lookup"><span data-stu-id="eed7a-111">Each object data item block contains a [**PERF\_OBJECT\_TYPE**](/windows/desktop/api/Winperf/ns-winperf-perf_object_type) structure, which describes the performance data for the object.</span></span> <span data-ttu-id="eed7a-112">La estructura de **\_ \_ tipo de objeto Perf** va seguida de una lista de estructuras de [**\_ \_ definición de contadores de rendimiento**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_definition) , una para cada contador definida para el objeto.</span><span class="sxs-lookup"><span data-stu-id="eed7a-112">The **PERF\_OBJECT\_TYPE** structure is followed by a list of [**PERF\_COUNTER\_DEFINITION**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_definition) structures, one for each counter defined for the object.</span></span> <span data-ttu-id="eed7a-113">Para un objeto con una sola instancia, la lista de estructuras de **\_ \_ definición de contadores de rendimiento** va seguida de una única estructura de [**\_ \_ bloques de contadores de rendimiento**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_block) , seguida de los datos del contador.</span><span class="sxs-lookup"><span data-stu-id="eed7a-113">For an object with only one instance, the list of **PERF\_COUNTER\_DEFINITION** structures is followed by a single [**PERF\_COUNTER\_BLOCK**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_block) structure, followed by the counter data.</span></span> <span data-ttu-id="eed7a-114">Cada estructura de **\_ \_ definición de contador de rendimiento** contiene el desplazamiento desde el inicio de la estructura de **\_ \_ bloques de contadores de rendimiento** a los datos de contador correspondientes.</span><span class="sxs-lookup"><span data-stu-id="eed7a-114">Each **PERF\_COUNTER\_DEFINITION** structure contains the offset from the start of the **PERF\_COUNTER\_BLOCK** structure to the corresponding counter data.</span></span> <span data-ttu-id="eed7a-115">En el diagrama siguiente se muestra la estructura de un objeto de rendimiento que no admite varias instancias.</span><span class="sxs-lookup"><span data-stu-id="eed7a-115">The following diagram shows the structure of a performance object that does not support multiple instances.</span></span>

![estructura del objeto de rendimiento que no admite varias instancias](images/perfnoinst.png)

<span data-ttu-id="eed7a-117">Para un tipo de objeto que admite varias instancias, la lista de estructuras de [**\_ \_ definición de contadores de rendimiento**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_definition) va seguida de una lista de bloques de información de instancia (uno para cada instancia).</span><span class="sxs-lookup"><span data-stu-id="eed7a-117">For an object type that supports multiple instances, the list of [**PERF\_COUNTER\_DEFINITION**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_definition) structures is followed by a list of instance information blocks (one for each instance).</span></span> <span data-ttu-id="eed7a-118">Cada bloque de información de instancia contiene una estructura de [**\_ \_ definición de instancia de rendimiento**](/windows/desktop/api/Winperf/ns-winperf-perf_instance_definition) , el nombre de la instancia y una estructura de [**\_ \_ bloques de contadores de rendimiento**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_block) .</span><span class="sxs-lookup"><span data-stu-id="eed7a-118">Each instance information block contains a [**PERF\_INSTANCE\_DEFINITION**](/windows/desktop/api/Winperf/ns-winperf-perf_instance_definition) structure, the name of the instance, and a [**PERF\_COUNTER\_BLOCK**](/windows/desktop/api/Winperf/ns-winperf-perf_counter_block) structure.</span></span> <span data-ttu-id="eed7a-119">En el diagrama siguiente se muestra la estructura de un objeto de rendimiento que admite dos instancias de.</span><span class="sxs-lookup"><span data-stu-id="eed7a-119">The following diagram shows the structure of a performance object that supports two instances.</span></span>

![estructura de un objeto de rendimiento que admite dos instancias](images/perfinst.png)

<span data-ttu-id="eed7a-121">Para obtener un ejemplo en el que se usan los desplazamientos, vea [Mostrar los nombres de objeto, instancia y contador](displaying-object-instance-and-counter-names.md).</span><span class="sxs-lookup"><span data-stu-id="eed7a-121">For an example that uses the offsets, see [Displaying Object, Instance, and Counter Names](displaying-object-instance-and-counter-names.md).</span></span>

 

 
