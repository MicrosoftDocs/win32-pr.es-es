---
title: Consideraciones sobre el diseño del servidor de estado
description: Dependiendo del diseño, puede que necesite un servidor para realizar un seguimiento de los usuarios que han iniciado sesión actualmente en la red.
ms.assetid: 2f8d268b-5518-4ad2-aed6-5971c913db6d
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7a0ef654f3641138075acc667d733b20c94c4840
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104418940"
---
# <a name="state-server-design-considerations"></a><span data-ttu-id="16737-103">Consideraciones sobre el diseño del servidor de estado</span><span class="sxs-lookup"><span data-stu-id="16737-103">State Server Design Considerations</span></span>

> [!Note]  
> <span data-ttu-id="16737-104">Se ha cambiado el nombre del servicio de autenticación de Internet (IAS) a partir de Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="16737-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="16737-105">El contenido de este tema se aplica a IAS y NPS.</span><span class="sxs-lookup"><span data-stu-id="16737-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="16737-106">En todo el texto, NPS se usa para hacer referencia a todas las versiones del servicio, incluidas las versiones mencionadas originalmente como IAS.</span><span class="sxs-lookup"><span data-stu-id="16737-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="16737-107">Dependiendo del diseño, puede que necesite un servidor para realizar un seguimiento de los usuarios que han iniciado sesión actualmente en la red.</span><span class="sxs-lookup"><span data-stu-id="16737-107">Depending on your design, you may need a server to track the users that are currently logged onto the network.</span></span> <span data-ttu-id="16737-108">El principal desafío del servidor de estado es mantener sincronizada la información de la base de datos del servidor de estado con la que ha iniciado sesión realmente.</span><span class="sxs-lookup"><span data-stu-id="16737-108">The main challenge with the state server is keeping the information in the state server database in-sync with who is actually logged on.</span></span> <span data-ttu-id="16737-109">Si la información del servidor de estado no está sincronizada, es posible que los usuarios tengan varias sesiones cuando no estén autorizadas para ello.</span><span class="sxs-lookup"><span data-stu-id="16737-109">If the information in the state server is out of sync, users may succeed in having multiple sessions when they aren't authorized to do so.</span></span> <span data-ttu-id="16737-110">Además, los usuarios que no tienen varias sesiones podrían penalizarse accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="16737-110">Also, users who do not have multiple sessions could be inadvertently penalized.</span></span>

<span data-ttu-id="16737-111">Se debe tener en cuenta lo siguiente para implementar el servidor de estado:</span><span class="sxs-lookup"><span data-stu-id="16737-111">The following should be taken into consideration in implementing the state server:</span></span>

-   <span data-ttu-id="16737-112">El servidor de Estado debe poner en línea la decisión en unos segundos.</span><span class="sxs-lookup"><span data-stu-id="16737-112">The state server must make the decision online in a few seconds.</span></span> <span data-ttu-id="16737-113">Por esta razón, el servidor de estado requiere una infraestructura escalable que pueda admitir muchas actualizaciones y consultas por segundo.</span><span class="sxs-lookup"><span data-stu-id="16737-113">For this reason the state server requires a scaleable infrastructure that can support many updates and queries per second.</span></span> <span data-ttu-id="16737-114">Las bases de datos relacionales no son adecuadas para consultas de gran tamaño con actualizaciones simultáneas.</span><span class="sxs-lookup"><span data-stu-id="16737-114">Relational databases are not appropriate for such large queries with simultaneous updates.</span></span> <span data-ttu-id="16737-115">Las bases de datos relacionales se compilan principalmente para mantener la coherencia de los datos y proporcionar una vista coherente de los datos para todos los consumidores.</span><span class="sxs-lookup"><span data-stu-id="16737-115">Relational databases are primarily built to keep data consistent and to provide a consistent view of the data to all consumers.</span></span> <span data-ttu-id="16737-116">No se compilan para las actualizaciones rápidas.</span><span class="sxs-lookup"><span data-stu-id="16737-116">They are not built for quick updates.</span></span>
-   <span data-ttu-id="16737-117">La coherencia transaccional en las actualizaciones entre varios objetos no es importante.</span><span class="sxs-lookup"><span data-stu-id="16737-117">Transactional consistency on updates between multiple objects is not important.</span></span> <span data-ttu-id="16737-118">Esto se debe a que el servidor de estado puede tolerar una pequeña ventana de oportunidad.</span><span class="sxs-lookup"><span data-stu-id="16737-118">This is because the state server can tolerate a small window of opportunity.</span></span> <span data-ttu-id="16737-119">Sin embargo, la coherencia transaccional de una sola actualización es importante para reducir las posibilidades de que el servidor de estado se quede en un estado incoherente si uno de los servidores RADIUS se apaga en medio de la actualización.</span><span class="sxs-lookup"><span data-stu-id="16737-119">However, transactional consistency of a single update is important to reduce the chances of leaving the state server in an inconsistent state if one of the RADIUS servers is shut down in the middle of the update.</span></span>
-   <span data-ttu-id="16737-120">La persistencia (guardar el estado de la red en un almacenamiento persistente) no es importante, ya que la información persistente dejará de sincronizarse rápidamente con el estado real de la red.</span><span class="sxs-lookup"><span data-stu-id="16737-120">Persistence (saving the state of the network to persistent storage) is not important because the persistent information will quickly fall out of sync with the actual state of the network.</span></span>
-   <span data-ttu-id="16737-121">Si se admiten ISDN (RDSI) u otras formas de multivínculo en la red, el servidor de Estado debe ser capaz de controlar los escenarios que utilizan estas características.</span><span class="sxs-lookup"><span data-stu-id="16737-121">If ISDN or other forms of multilink are supported on the network, the state server should be able to handle scenarios that use these features.</span></span>

<span data-ttu-id="16737-122">Un posible diseño es implementar un archivo DLL de extensión de autenticación y un archivo DLL de extensión de autorización.</span><span class="sxs-lookup"><span data-stu-id="16737-122">One possible design is to implement both an Authentication Extension DLL and an Authorization Extension DLL.</span></span> <span data-ttu-id="16737-123">Cada uno de estos archivos dll puede comunicarse a través de la red con una base de datos de.</span><span class="sxs-lookup"><span data-stu-id="16737-123">Each of these DLLs can communicate over the network with a database.</span></span> <span data-ttu-id="16737-124">El archivo DLL de la extensión de autorización puede actualizar la base de datos con información sobre quién ha iniciado sesión actualmente en la red.</span><span class="sxs-lookup"><span data-stu-id="16737-124">The Authorization Extension DLL can update the database with information about who is currently logged onto the network.</span></span> <span data-ttu-id="16737-125">El archivo DLL de extensión de autenticación puede consultar la base de datos para obtener esta información y decidir si aceptar o rechazar la solicitud de autenticación de un usuario determinado. Si el usuario ya ha iniciado sesión, se rechazará la solicitud.</span><span class="sxs-lookup"><span data-stu-id="16737-125">The Authentication Extension DLL can query the database for this information to decide whether to accept or reject a particular user's authentication request; if the user is already logged on, the request is rejected.</span></span>

<span data-ttu-id="16737-126">La ventaja de tener la DLL de extensión de autorización para actualizar la base de datos de estado es que el archivo DLL de extensión de autorización tiene acceso a más información sobre el usuario autenticado.</span><span class="sxs-lookup"><span data-stu-id="16737-126">The advantage of having the Authorization Extension DLL update the state-server database is that the Authorization Extension DLL has access to more information about the authenticated user.</span></span> <span data-ttu-id="16737-127">El archivo DLL de la extensión de autorización tiene acceso a todos los atributos de autorización del mecanismo de autorización de NPS.</span><span class="sxs-lookup"><span data-stu-id="16737-127">The Authorization Extension DLL has access to all of the authorization attributes from the NPS Authorization mechanism.</span></span> <span data-ttu-id="16737-128">Por ejemplo, algunos usuarios pueden tener autorizaciones que les permitan tener varias sesiones.</span><span class="sxs-lookup"><span data-stu-id="16737-128">For example, some users may have authorizations that allow them to have multiple sessions.</span></span> <span data-ttu-id="16737-129">El servidor de Estado debe tratar a estos usuarios como un caso especial.</span><span class="sxs-lookup"><span data-stu-id="16737-129">The state server should treat such users as a special case.</span></span>

 

 




