---
title: Implementar el modelo de seguridad de Teredo
description: El modelo de seguridad de Teredo se basa en la tecnología de la plataforma de filtrado de Windows (WFP) integrada en Windows Vista. Como resultado, se recomienda que los firewalls de terceros usen WFP para aplicar el modelo de seguridad de Teredo.
ms.assetid: ee81e5f1-e3e0-440e-a53f-2accced476bc
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a39668f8e1c86e0cd5b12056df5eb9a5fd9cd3ee
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103792939"
---
# <a name="implementing-the-teredo-security-model"></a><span data-ttu-id="b2295-104">Implementar el modelo de seguridad de Teredo</span><span class="sxs-lookup"><span data-stu-id="b2295-104">Implementing the Teredo Security Model</span></span>

<span data-ttu-id="b2295-105">El modelo de seguridad de Teredo se basa en la tecnología de la [plataforma de filtrado de Windows](/windows/desktop/FWP/windows-filtering-platform-start-page) (WFP) integrada en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="b2295-105">The Teredo security model is based on the [Windows Filtering Platform](/windows/desktop/FWP/windows-filtering-platform-start-page) (WFP) technology built into Windows Vista.</span></span> <span data-ttu-id="b2295-106">Como resultado, se recomienda que los firewalls de terceros usen WFP para aplicar el modelo de seguridad de [Teredo](about-teredo.md) .</span><span class="sxs-lookup"><span data-stu-id="b2295-106">As a result, it is recommended that third-party firewalls use WFP to enforce the [Teredo](about-teredo.md) security model.</span></span>

<span data-ttu-id="b2295-107">La implementación general del [modelo de seguridad de Teredo](the-teredo-security-model.md) requiere lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b2295-107">The general implementation of the [Teredo Security Model](the-teredo-security-model.md) requires the following:</span></span>

-   <span data-ttu-id="b2295-108">Un firewall de host compatible con IPv6 se debe registrar con Windows Security Center (WSC) en la máquina.</span><span class="sxs-lookup"><span data-stu-id="b2295-108">An IPv6-capable host firewall must be registered with Windows Security Center (WSC) on the machine.</span></span> <span data-ttu-id="b2295-109">En ausencia de un firewall basado en host, o el propio WSC, la interfaz Teredo no estará disponible para su uso.</span><span class="sxs-lookup"><span data-stu-id="b2295-109">In the absence of a host-based firewall, or WSC itself, the Teredo interface will not be available for use.</span></span> <span data-ttu-id="b2295-110">Este es el único requisito para recibir el tráfico solicitado desde Internet a través de la interfaz Teredo.</span><span class="sxs-lookup"><span data-stu-id="b2295-110">This is the only requirement to receive solicited traffic from the Internet over the Teredo interface.</span></span>
-   <span data-ttu-id="b2295-111">Cualquier aplicación que reciba tráfico no solicitado de Internet a través de la interfaz Teredo debe registrarse en un firewall compatible con IPv6, como [firewall de Windows](/previous-versions/windows/desktop/ics/windows-firewall-start-page), antes de recibir el tráfico no solicitado.</span><span class="sxs-lookup"><span data-stu-id="b2295-111">Any application that receives unsolicited traffic from the Internet over the Teredo interface must register with an IPv6-capable firewall, like [Windows Firewall](/previous-versions/windows/desktop/ics/windows-firewall-start-page), before receiving the unsolicited traffic.</span></span>

<span data-ttu-id="b2295-112">Una dirección Teredo entrará en estado inactivo si no se ha enviado o recibido tráfico a través de la interfaz Teredo durante una hora y si las aplicaciones que cumplen los criterios de seguridad necesarios para el tráfico no solicitado no se están ejecutando o no tienen Sockets en escucha abiertos.</span><span class="sxs-lookup"><span data-stu-id="b2295-112">A Teredo address will become dormant if traffic has not been sent or received over the Teredo interface for one hour and if applications that meet the required security criteria for unsolicited traffic are not running or do not have listening sockets open.</span></span>

<span data-ttu-id="b2295-113">Después del reinicio de una máquina, o si la dirección Teredo pierde sus calificaciones, Windows Vista calificará automáticamente la dirección y estará disponible para su uso en cuanto una aplicación se enlace a Sockets compatibles con IPv6.</span><span class="sxs-lookup"><span data-stu-id="b2295-113">After the reboot of a machine, or if the Teredo address loses its qualifications, Windows Vista will automatically qualify the address and makes it available for use as soon as an application binds to IPv6-capable sockets.</span></span> <span data-ttu-id="b2295-114">Es importante tener en cuenta que la opción "cruce seguro" del firewall de Windows establecida por una aplicación para permitir el tráfico no solicitado a través de Teredo es persistente en los reinicios.</span><span class="sxs-lookup"><span data-stu-id="b2295-114">It is important to note that the Windows Firewall "Edge Traversal" option set by an application to allow unsolicited traffic via Teredo is persistent across reboots.</span></span>

## <a name="firewall-requirements-for-teredo"></a><span data-ttu-id="b2295-115">Requisitos de Firewall para Teredo</span><span class="sxs-lookup"><span data-stu-id="b2295-115">Firewall Requirements for Teredo</span></span>

<span data-ttu-id="b2295-116">Los proveedores de Firewall pueden incorporar fácilmente compatibilidad con Teredo en sus productos y proteger a sus usuarios mediante las capacidades de la plataforma de filtrado de Windows.</span><span class="sxs-lookup"><span data-stu-id="b2295-116">Firewall vendors can easily incorporate Teredo support in their products and protect their users by using the capabilities of the Windows Filtering Platform.</span></span> <span data-ttu-id="b2295-117">Esto puede realizarse registrando el Firewall compatible con IPv6 con la Security Center de Windows, agregando las reglas adecuadas a la subcapa Teredo de WFP y usando las API integradas en Windows para enumerar las aplicaciones que pueden escuchar el tráfico no solicitado a través de Teredo.</span><span class="sxs-lookup"><span data-stu-id="b2295-117">This can be accomplished by registering the IPv6-capable firewall with the Windows Security Center, adding appropriate rules into the WFP Teredo sublayer, and using built-in APIs in Windows to enumerate applications that might listen to unsolicited traffic over Teredo.</span></span> <span data-ttu-id="b2295-118">En situaciones en las que una aplicación no necesita escuchar el tráfico solicitado a través de Teredo, los firewalls no requieren reglas adicionales agregadas a la WFP.</span><span class="sxs-lookup"><span data-stu-id="b2295-118">In situations where an application does not need to listen to solicited traffic over Teredo, firewalls do not require additional rules added to the WFP.</span></span> <span data-ttu-id="b2295-119">Sin embargo, un registro de Firewall compatible con IPv6 con Windows Security Center sigue siendo un requisito para que la dirección Teredo esté disponible para su uso.</span><span class="sxs-lookup"><span data-stu-id="b2295-119">However an IPv6 capable firewall registration with Windows Security Center is still a requirement to make the Teredo address to available for use.</span></span>

<span data-ttu-id="b2295-120">Con el fin de admitir este escenario, el Firewall debe ser compatible con IPv6 y registrarse con el Security Center de Windows.</span><span class="sxs-lookup"><span data-stu-id="b2295-120">In order to support this scenario, the firewall must be IPv6-capable and registered with the Windows Security Center.</span></span> <span data-ttu-id="b2295-121">Además, el Firewall no debe cambiar el estado de ejecución o de inicio del servicio Security Center de Windows (wscsvc), ya que Teredo depende de la información de estado proporcionada a través de las API de WSC.</span><span class="sxs-lookup"><span data-stu-id="b2295-121">Additionally, the firewall must not change the running or startup state of the Windows Security Center service (wscsvc), as Teredo is dependent on the state information provided through the WSC APIs.</span></span>

<span data-ttu-id="b2295-122">La API utilizada para registrar un firewall con el WSC se puede obtener poniéndose en contacto con Microsoft en wscisv@microsoft.com .</span><span class="sxs-lookup"><span data-stu-id="b2295-122">The API utilized to register a firewall with the WSC can be obtained by contacting Microsoft at wscisv@microsoft.com.</span></span> <span data-ttu-id="b2295-123">Se requiere un acuerdo de CONFIDENCIALidad para la divulgación de esta API debido a problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="b2295-123">A Non-Disclosure Agreement (NDA) is required for the disclosure of this API due to security concerns.</span></span>

<span data-ttu-id="b2295-124">La siguiente documentación detalla los filtros y las excepciones que se usan para garantizar la compatibilidad óptima con Teredo:</span><span class="sxs-lookup"><span data-stu-id="b2295-124">The following documentation details the filters and exceptions utilized to ensure optimal compatibility with Teredo:</span></span>

-   [<span data-ttu-id="b2295-125">Implementación de filtros de Firewall para Teredo</span><span class="sxs-lookup"><span data-stu-id="b2295-125">Implementing Firewall Filters for Teredo</span></span>](implementing-firewall-filters-for-teredo.md)
-   [<span data-ttu-id="b2295-126">Excepciones de Firewall necesarias para Teredo</span><span class="sxs-lookup"><span data-stu-id="b2295-126">Required Firewall Exceptions for Teredo</span></span>](required-firewall-exceptions-for-teredo.md)
-   [<span data-ttu-id="b2295-127">Excepciones de plataforma de filtrado de Windows necesarias para Teredo</span><span class="sxs-lookup"><span data-stu-id="b2295-127">Required Windows Filtering Platform Exceptions for Teredo</span></span>](required-windows-filtering-platform-exceptions-for-teredo.md)

## <a name="firewall-requirements-for-other-ipv6-transition-technologies"></a><span data-ttu-id="b2295-128">Requisitos de Firewall para otras tecnologías de transición de IPv6</span><span class="sxs-lookup"><span data-stu-id="b2295-128">Firewall Requirements for Other IPv6 Transition Technologies</span></span>

<span data-ttu-id="b2295-129">Con el fin de admitir otras tecnologías de transición de IPv6 (como 6to4 e ISATAP), el producto de Firewall de host debe ser capaz de procesar el tráfico IPv6.</span><span class="sxs-lookup"><span data-stu-id="b2295-129">In order to support other IPv6 transition technologies (such as 6to4 and ISATAP), the host firewall product must be capable of processing IPv6 traffic.</span></span> <span data-ttu-id="b2295-130">El protocolo IP 41 indica cuando un encabezado IPv6 sigue a un encabezado IPv4.</span><span class="sxs-lookup"><span data-stu-id="b2295-130">The IP Protocol 41 indicates when an IPv6 header follows an IPv4 header.</span></span> <span data-ttu-id="b2295-131">Cuando un firewall de host encuentra el protocolo 41, debe reconocer que el paquete es un paquete encapsulado en IPv6 y, como resultado, debe procesar el paquete adecuadamente y tomar las decisiones de aceptación o denegación en función de las reglas de IPv6 en su Directiva.</span><span class="sxs-lookup"><span data-stu-id="b2295-131">When a host firewall encounters protocol 41, it must recognize that the packet is an IPv6-encapsulated packet and as a result must process the packet appropriately and make the accept/deny decisions based on the IPv6 rules in its policy.</span></span>

 

 