---
description: El uso de símbolos públicos para los archivos binarios de imagen de destino y actualización puede reducir el tamaño de las revisiones binarias en aproximadamente una mitad.
ms.assetid: 83351a1b-ba70-4f0b-bacf-71ad7993a5aa
title: Usar símbolos para reducir el tamaño de la revisión binaria
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d5ccf33dbf3ffefbee909d99bd0204ea2f49aba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105677431"
---
# <a name="using-symbols-to-reduce-binary-patch-size"></a><span data-ttu-id="f1225-103">Usar símbolos para reducir el tamaño de la revisión binaria</span><span class="sxs-lookup"><span data-stu-id="f1225-103">Using Symbols to Reduce Binary Patch Size</span></span>

<span data-ttu-id="f1225-104">El uso de símbolos públicos para los archivos binarios de imagen de destino y actualización puede reducir el tamaño de las revisiones binarias en aproximadamente una mitad.</span><span class="sxs-lookup"><span data-stu-id="f1225-104">Using public symbols for your target and upgrade image binaries can reduce binary patch sizes by approximately one half.</span></span> <span data-ttu-id="f1225-105">La reducción real depende de los símbolos usados.</span><span class="sxs-lookup"><span data-stu-id="f1225-105">The actual reduction depends upon the symbols used.</span></span> <span data-ttu-id="f1225-106">Tenga en cuenta que el uso de símbolos puede dar lugar a tiempos de creación de revisiones más lentos, ya que tarda más tiempo en procesar los archivos de símbolos.</span><span class="sxs-lookup"><span data-stu-id="f1225-106">Note that using symbols can result in slower patch creation times because it takes longer to process the symbol files.</span></span>

<span data-ttu-id="f1225-107">Para reducir el tamaño de una revisión binaria mediante símbolos, debe proporcionar símbolos para los archivos binarios de la imagen de destino y de actualización.</span><span class="sxs-lookup"><span data-stu-id="f1225-107">To reduce the size of a binary patch using symbols, you must provide symbols for both the target and upgrade image binaries.</span></span> <span data-ttu-id="f1225-108">Especifique los símbolos en la columna SymbolPaths de la tabla [TargetImages](targetimages-table-patchwiz-dll-.md) y la columna SymbolPaths de la tabla [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) .</span><span class="sxs-lookup"><span data-stu-id="f1225-108">Specify the symbols in the SymbolPaths column of the [TargetImages](targetimages-table-patchwiz-dll-.md) table and the SymbolPaths column of the [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) table.</span></span> <span data-ttu-id="f1225-109">Debe utilizar Visual C++ para generar símbolos en el formato de archivo de base de datos de programa (PDB).</span><span class="sxs-lookup"><span data-stu-id="f1225-109">You must use Visual C++ to generate symbols in the program database (PDB) file format.</span></span> <span data-ttu-id="f1225-110">Las versiones más recientes de Visual C++ proporcionan toda la información necesaria en el archivo PDB.</span><span class="sxs-lookup"><span data-stu-id="f1225-110">Newer versions of Visual C++ provide all of the necessary information in the PDB file.</span></span> <span data-ttu-id="f1225-111">Las versiones anteriores de Visual C++ también generan el formato de archivo de depuración (DBG).</span><span class="sxs-lookup"><span data-stu-id="f1225-111">Older versions of Visual C++ also generate the debug (DBG) file format.</span></span> <span data-ttu-id="f1225-112">En este caso, el valor SymbolsPaths debe especificar la ubicación de los archivos PDB y DBG.</span><span class="sxs-lookup"><span data-stu-id="f1225-112">In this case, the SymbolsPaths value should specify the location of both the PDB and DBG files.</span></span>

<span data-ttu-id="f1225-113">Por ejemplo, el TargetImage de una revisión podría ser el paquete de instalación incluido con Windows 2000 y que instala la versión 1.1.1029.0 de MSI.DLL.</span><span class="sxs-lookup"><span data-stu-id="f1225-113">For example, the TargetImage for a patch might be the installation package that shipped with Windows 2000 and that installs the 1.1.1029.0 version of MSI.DLL.</span></span> <span data-ttu-id="f1225-114">UpgradedImage podría ser el paquete de instalación actualizado que se incluye con Windows 2000 con Service Pack 1 (SP1) y que instala la versión 1.11.1314.0 de MSI.DLL.</span><span class="sxs-lookup"><span data-stu-id="f1225-114">The UpgradedImage might be the updated installation package that shipped with Windows 2000 with Service Pack 1 (SP1) and that installs the 1.11.1314.0 version of MSI.DLL.</span></span> <span data-ttu-id="f1225-115">A continuación, se tendrían que crear dos archivos de propiedades de creación de revisiones (PCP), uno con la columna SymbolPaths de las tablas [TargetImages](targetimages-table-patchwiz-dll-.md) y [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) a la izquierda (en blanco) y el otro con la columna SymbolPaths de las tablas TargetImages y UpgradedImages que se rellenan con la ubicación de los símbolos para los archivos binarios.</span><span class="sxs-lookup"><span data-stu-id="f1225-115">Two Patch Creation Properties (PCP) files would then have to be created, one with the SymbolPaths column of both the [TargetImages](targetimages-table-patchwiz-dll-.md) and [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) tables left NULL (blank) and the other with the SymbolPaths column of both the TargetImages and UpgradedImages tables populated with the location of the symbols for the binaries.</span></span> <span data-ttu-id="f1225-116">En este caso, el tamaño de la revisión generada sin usar símbolos puede ser aproximadamente tres veces el tamaño de la revisión generado mediante símbolos.</span><span class="sxs-lookup"><span data-stu-id="f1225-116">In this case, the size of the patch generated without using symbols can be approximately three times the size of the patch generated using symbols.</span></span>

<span data-ttu-id="f1225-117">La utilidad Mpatch.exe se puede usar para probar la generación de revisiones binarias para un único archivo y para comprobar si los símbolos son válidos o no.</span><span class="sxs-lookup"><span data-stu-id="f1225-117">The Mpatch.exe utility can be used to test the generation of binary patches for a single file and to check whether or not the symbols are valid.</span></span> <span data-ttu-id="f1225-118">La utilidad de Mpatch.exe se incluye en los [componentes de Windows SDK para Windows Installer desarrolladores](platform-sdk-components-for-windows-installer-developers.md).</span><span class="sxs-lookup"><span data-stu-id="f1225-118">The Mpatch.exe utility is included in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md).</span></span> <span data-ttu-id="f1225-119">La salida de Mpatch.exe indicará si los símbolos no coinciden.</span><span class="sxs-lookup"><span data-stu-id="f1225-119">The output of Mpatch.exe will indicate if the symbols do not match.</span></span>

<span data-ttu-id="f1225-120">Por ejemplo, escriba la siguiente línea de comandos para comprobar si los símbolos son válidos.</span><span class="sxs-lookup"><span data-stu-id="f1225-120">For example, enter the following command line to check whether or not the symbols are valid.</span></span>

<span data-ttu-id="f1225-121">**mpatch.exe-NEWSYMPATH: d: \\ Update-OLDSYMPATH: d: \\ target d: \\ target \\example.dll d: \\ Update \\example.dll example. Pat**</span><span class="sxs-lookup"><span data-stu-id="f1225-121">**mpatch.exe -NEWSYMPATH:d:\\update -OLDSYMPATH:d:\\target d:\\target\\example.dll d:\\update\\example.dll example.pat**</span></span>

<span data-ttu-id="f1225-122">Si los símbolos no están en la ubicación correcta, la salida de Mpatch.exe puede incluir la advertencia siguiente.</span><span class="sxs-lookup"><span data-stu-id="f1225-122">If the symbols are not in the correct location, the output of Mpatch.exe may include the following warning.</span></span>

``` syntax
WARNING: no debug symbols for d:\update\example.dll
```

 

 



