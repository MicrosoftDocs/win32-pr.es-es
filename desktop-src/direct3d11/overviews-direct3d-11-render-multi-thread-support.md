---
title: Cómo comprobar la compatibilidad de controladores
description: En este tema se muestra cómo determinar si las características de multithreading (incluida la creación de recursos y las listas de comandos) se admiten para la aceleración de hardware.
ms.assetid: f577357c-c2e5-4e58-9870-2e995bdc6782
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ae42bbb3eedb76d049479839d497a79db81b5697
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104996756"
---
# <a name="how-to-check-for-driver-support"></a><span data-ttu-id="91ea6-103">Cómo: comprobar la compatibilidad de controladores</span><span class="sxs-lookup"><span data-stu-id="91ea6-103">How To: Check for Driver Support</span></span>

<span data-ttu-id="91ea6-104">En este tema se muestra cómo determinar si las características de multithreading (incluida la [creación de recursos](overviews-direct3d-11-render-multi-thread-intro.md) y [las listas de comandos](overviews-direct3d-11-render-multi-thread-command-list.md)) se admiten para la aceleración de hardware.</span><span class="sxs-lookup"><span data-stu-id="91ea6-104">This topic shows how to determine whether multithreading features (including [resource creation](overviews-direct3d-11-render-multi-thread-intro.md) and [command lists](overviews-direct3d-11-render-multi-thread-command-list.md)) are supported for hardware acceleration.</span></span>

<span data-ttu-id="91ea6-105">Se recomienda que las aplicaciones comprueben la compatibilidad de hardware de gráficos con multithreading.</span><span class="sxs-lookup"><span data-stu-id="91ea6-105">We recommend for applications to check for graphics hardware support of multithreading.</span></span> <span data-ttu-id="91ea6-106">Si el controlador y el hardware de gráficos no admiten la creación de objetos multiproceso, el rendimiento se puede limitar de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="91ea6-106">If the driver and graphics hardware do not support multithreaded object creation, performance can be limited in the following ways:</span></span>

-   <span data-ttu-id="91ea6-107">Es posible que se limite la creación de varios objetos (incluso de tipos diferentes) al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="91ea6-107">Creating multiple objects (even of different types) at the same time might be limited.</span></span>
-   <span data-ttu-id="91ea6-108">La creación de un objeto mientras se representan los comandos de gráficos mediante un [contexto inmediato](overviews-direct3d-11-render-multi-thread-render.md) podría estar limitada.</span><span class="sxs-lookup"><span data-stu-id="91ea6-108">Creating an object while rendering graphics commands by using an [immediate context](overviews-direct3d-11-render-multi-thread-render.md) might be limited.</span></span> <span data-ttu-id="91ea6-109">Por ejemplo, si el hardware no admite el multithreading, una aplicación debe evitar crear en un subproceso en segundo plano un objeto que requiera mucho tiempo de creación.</span><span class="sxs-lookup"><span data-stu-id="91ea6-109">For example, if hardware does not support multithreading, an application should avoid creating on a background thread an object that requires a very long time to create.</span></span> <span data-ttu-id="91ea6-110">Una operación de creación que tarda mucho tiempo puede bloquear la representación de contexto inmediata y aumentar el riesgo de una velocidad de fotogramas visual intermitente.</span><span class="sxs-lookup"><span data-stu-id="91ea6-110">A create operation that takes very long can block immediate context rendering and increase the risk of a visual frame rate stutter.</span></span>

<span data-ttu-id="91ea6-111">El motor en tiempo de ejecución admite multithreading y listas de comandos, independientemente de la compatibilidad de controladores y hardware. Si no hay compatibilidad con controladores y hardware para multithreads o listas de comandos, el tiempo de ejecución emulará la funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="91ea6-111">The runtime supports multithreading and command lists regardless of driver and hardware support; if there is no driver and hardware support for either multithreads or command lists, the runtime will emulate the functionality.</span></span> <span data-ttu-id="91ea6-112">Para obtener más información sobre el multithreading, vea [Introducción al multithreading en Direct3D 11](overviews-direct3d-11-render-multi-thread-intro.md).</span><span class="sxs-lookup"><span data-stu-id="91ea6-112">For more information about multithreading, see [Introduction to Multithreading in Direct3D 11](overviews-direct3d-11-render-multi-thread-intro.md).</span></span>

<span data-ttu-id="91ea6-113">**Para comprobar la compatibilidad de los controladores con multithreading:**</span><span class="sxs-lookup"><span data-stu-id="91ea6-113">**To check for driver support for multithreading:**</span></span>

1.  <span data-ttu-id="91ea6-114">Inicialice un objeto de interfaz [**ID3D11Device**](/windows/desktop/api/D3D11/nn-d3d11-id3d11device) .</span><span class="sxs-lookup"><span data-stu-id="91ea6-114">Initialize an [**ID3D11Device**](/windows/desktop/api/D3D11/nn-d3d11-id3d11device) interface object.</span></span> <span data-ttu-id="91ea6-115">De forma predeterminada, el multithreading está habilitado.</span><span class="sxs-lookup"><span data-stu-id="91ea6-115">By default, multithreading is enabled.</span></span>
2.  <span data-ttu-id="91ea6-116">Llame a [**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport).</span><span class="sxs-lookup"><span data-stu-id="91ea6-116">Call [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport).</span></span> <span data-ttu-id="91ea6-117">Pase el valor de **\_ \_ subproceso de la característica D3D11** al parámetro de *característica* , pase la estructura de [**\_ \_ \_ subprocesos de datos de la característica D3D11**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) al parámetro *pFeatureSupportData* y pase el tamaño de la estructura de **\_ \_ \_ subprocesos de datos de la característica D3D11** al parámetro *FeatureSupportDataSize* .</span><span class="sxs-lookup"><span data-stu-id="91ea6-117">Pass the **D3D11\_FEATURE\_THREADING** value to the *Feature* parameter, pass the [**D3D11\_FEATURE\_DATA\_THREADING**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) structure to the *pFeatureSupportData* parameter, and pass the size of the **D3D11\_FEATURE\_DATA\_THREADING** structure to the *FeatureSupportDataSize* parameter.</span></span>
3.  <span data-ttu-id="91ea6-118">Si el método [**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) se ejecuta correctamente, la estructura de [**\_ \_ \_ subprocesos de datos de la característica D3D11**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) que pasó en el paso anterior se inicializará con información sobre la compatibilidad con multithreading.</span><span class="sxs-lookup"><span data-stu-id="91ea6-118">If the [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) method succeeds, the [**D3D11\_FEATURE\_DATA\_THREADING**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_threading) structure that you passed in the previous step will be initialized with information about multithreading support.</span></span>
    -   <span data-ttu-id="91ea6-119">Si **DriverConcurrentCreates** es **true**, un controlador puede crear más de un recurso al mismo tiempo (simultáneamente) en subprocesos diferentes.</span><span class="sxs-lookup"><span data-stu-id="91ea6-119">If **DriverConcurrentCreates** is **TRUE**, a driver can create more than one resource at the same time (concurrently) on different threads.</span></span>

        <span data-ttu-id="91ea6-120">Si **DriverCommandLists** es **true**, el controlador admite listas de comandos.</span><span class="sxs-lookup"><span data-stu-id="91ea6-120">If **DriverCommandLists** is **TRUE**, the driver supports command lists.</span></span> <span data-ttu-id="91ea6-121">Es decir, los comandos de representación emitidos por un contexto inmediato pueden estar simultáneos con la creación de objetos en subprocesos independientes con un bajo riesgo de una velocidad de fotogramas intermitente.</span><span class="sxs-lookup"><span data-stu-id="91ea6-121">That is, rendering commands issued by an immediate context can be concurrent with object creation on separate threads with low risk of a frame rate stutter.</span></span>

    -   <span data-ttu-id="91ea6-122">Si **DriverConcurrentCreates** es **false**, un controlador no admite la creación simultánea, lo que significa que la cantidad de simultaneidad posible es muy limitada.</span><span class="sxs-lookup"><span data-stu-id="91ea6-122">If **DriverConcurrentCreates** is **FALSE**, a driver does not support concurrent creation, which means the amount of concurrency possible is extremely limited.</span></span> <span data-ttu-id="91ea6-123">El hardware gráfico no puede crear objetos de tipos diferentes en diferentes subprocesos simultanueously.</span><span class="sxs-lookup"><span data-stu-id="91ea6-123">The graphics hardware cannot create objects of different types on different threads simultanueously.</span></span> <span data-ttu-id="91ea6-124">Además, el hardware gráfico no puede usar un contexto inmediato para emitir comandos de representación mientras el hardware gráfico intenta crear un recurso en otro subproceso.</span><span class="sxs-lookup"><span data-stu-id="91ea6-124">Additionally, the graphics hardware cannot use an immediate context to issue render commands while the graphics hardware attempts to create a resource on another thread.</span></span>

## <a name="related-topics"></a><span data-ttu-id="91ea6-125">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="91ea6-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="91ea6-126">Cómo usar Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="91ea6-126">How to Use Direct3D 11</span></span>](how-to-use-direct3d-11.md)
</dt> <dt>

[<span data-ttu-id="91ea6-127">Multithreading</span><span class="sxs-lookup"><span data-stu-id="91ea6-127">Multithreading</span></span>](overviews-direct3d-11-render-multi-thread.md)
</dt> </dl>

 

 




