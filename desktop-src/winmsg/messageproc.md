---
UID: ''
title: Función de devolución de llamada MessageProc
description: El sistema llama a esta función después de que se produzca un evento de entrada en un cuadro de diálogo, un cuadro de mensaje, un menú o una barra de desplazamiento. | Función de devolución de llamada MessageProc
old-location: ''
ms.assetid: na
ms.date: 04/05/2019
ms.keywords: ''
ms.topic: reference
req.header: ''
req.include-header: ''
req.target-type: Windows
req.target-min-winverclnt: ''
req.target-min-winversvr: ''
req.kmdf-ver: ''
req.umdf-ver: ''
req.ddi-compliance: ''
req.unicode-ansi: ''
req.idl: ''
req.max-support: ''
req.namespace: ''
req.assembly: ''
req.type-library: ''
req.lib: ''
req.dll: ''
req.irql: ''
topic_type:
- APIRef
api_type: ''
api_location: ''
api_name: ''
targetos: Windows
req.typenames: ''
req.redist: ''
ms.openlocfilehash: 00a1d1c52d50d0d9a028829181c886a813112a15
ms.sourcegitcommit: 92e74c99f8f4d097676959d0c317f533c2400a80
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/09/2021
ms.locfileid: "104362313"
---
# <a name="messageproc-function"></a><span data-ttu-id="51996-104">MessageProc función)</span><span class="sxs-lookup"><span data-stu-id="51996-104">MessageProc function</span></span>

## <a name="description"></a><span data-ttu-id="51996-105">Descripción</span><span class="sxs-lookup"><span data-stu-id="51996-105">Description</span></span>

<span data-ttu-id="51996-106">Función de devolución de llamada definida por la aplicación o definida por la biblioteca que se usa con la función [SetWindowsHookEx](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw) .</span><span class="sxs-lookup"><span data-stu-id="51996-106">An application-defined or library-defined callback function used with the [SetWindowsHookEx](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw) function.</span></span>
<span data-ttu-id="51996-107">El sistema llama a esta función después de que se produzca un evento de entrada en un cuadro de diálogo, un cuadro de mensaje, un menú o una barra de desplazamiento, pero antes de que se procese el mensaje generado por el evento de entrada.</span><span class="sxs-lookup"><span data-stu-id="51996-107">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span>
<span data-ttu-id="51996-108">El procedimiento de enlace puede supervisar los mensajes de un cuadro de diálogo, un cuadro de mensaje, un menú o una barra de desplazamiento creados por una aplicación determinada o por todas las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="51996-108">The hook procedure can monitor messages for a dialog box, message box, menu, or scroll bar created by a particular application or all applications.</span></span>

<span data-ttu-id="51996-109">El tipo **HOOKPROC** define un puntero a esta función de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="51996-109">The **HOOKPROC** type defines a pointer to this callback function.</span></span>
<span data-ttu-id="51996-110">**MessageProc** es un marcador de posición para el nombre de la función definida por la aplicación o por la biblioteca.</span><span class="sxs-lookup"><span data-stu-id="51996-110">**MessageProc** is a placeholder for the application-defined or library-defined function name.</span></span>

```cpp
LRESULT CALLBACK MessageProc(
  _In_ int    code,
       WPARAM wParam,
  _In_ LPARAM lParam
);
```

## <a name="parameters"></a><span data-ttu-id="51996-111">Parámetros</span><span class="sxs-lookup"><span data-stu-id="51996-111">Parameters</span></span>

### <a name="code-in"></a><span data-ttu-id="51996-112">código [in]</span><span class="sxs-lookup"><span data-stu-id="51996-112">code [in]</span></span>

<span data-ttu-id="51996-113">Tipo: **int**</span><span class="sxs-lookup"><span data-stu-id="51996-113">Type: **int**</span></span>

<span data-ttu-id="51996-114">El tipo de evento de entrada que generó el mensaje.</span><span class="sxs-lookup"><span data-stu-id="51996-114">The type of input event that generated the message.</span></span>
<span data-ttu-id="51996-115">Si el *código* es menor que cero, el procedimiento de enlace debe pasar el mensaje a la función [CallNextHookEx](/windows/desktop/api/winuser/nf-winuser-callnexthookex) sin más procesamiento y devolver el valor devuelto por **CallNextHookEx**.</span><span class="sxs-lookup"><span data-stu-id="51996-115">If *code* is less than zero, the hook procedure must pass the message to the [CallNextHookEx](/windows/desktop/api/winuser/nf-winuser-callnexthookex) function without further processing and return the value returned by **CallNextHookEx**.</span></span>
<span data-ttu-id="51996-116">Este parámetro puede ser uno de los valores siguientes.</span><span class="sxs-lookup"><span data-stu-id="51996-116">This parameter can be one of the following values.</span></span>

| <span data-ttu-id="51996-117">Valor</span><span class="sxs-lookup"><span data-stu-id="51996-117">Value</span></span> | <span data-ttu-id="51996-118">Significado</span><span class="sxs-lookup"><span data-stu-id="51996-118">Meaning</span></span> |
|-------|---------|
| <span data-ttu-id="51996-119">**MSGF_DDEMGR** 0x8001</span><span class="sxs-lookup"><span data-stu-id="51996-119">**MSGF_DDEMGR** 0x8001</span></span> | <span data-ttu-id="51996-120">El evento de entrada se produjo mientras la biblioteca de administración de Intercambio dinámico de datos (DDEML) estaba esperando a que finalizara una transacción sincrónica.</span><span class="sxs-lookup"><span data-stu-id="51996-120">The input event occurred while the Dynamic Data Exchange Management Library (DDEML) was waiting for a synchronous transaction to finish.</span></span> <span data-ttu-id="51996-121">Para obtener más información acerca de DDEML, consulte [biblioteca de administración de intercambio dinámico de datos](../dataxchg/dynamic-data-exchange-management-library.md).</span><span class="sxs-lookup"><span data-stu-id="51996-121">For more information about DDEML, see [Dynamic Data Exchange Management Library](../dataxchg/dynamic-data-exchange-management-library.md).</span></span> |
| <span data-ttu-id="51996-122">**MSGF_DIALOGBOX** 0</span><span class="sxs-lookup"><span data-stu-id="51996-122">**MSGF_DIALOGBOX** 0</span></span> | <span data-ttu-id="51996-123">El evento de entrada se produjo en un cuadro de mensaje o en un cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="51996-123">The input event occurred in a message box or dialog box.</span></span> |
| <span data-ttu-id="51996-124">**MSGF_MENU** 2</span><span class="sxs-lookup"><span data-stu-id="51996-124">**MSGF_MENU** 2</span></span> | <span data-ttu-id="51996-125">El evento de entrada se produjo en un menú.</span><span class="sxs-lookup"><span data-stu-id="51996-125">The input event occurred in a menu.</span></span> |
| <span data-ttu-id="51996-126">**MSGF_SCROLLBAR** 5</span><span class="sxs-lookup"><span data-stu-id="51996-126">**MSGF_SCROLLBAR** 5</span></span> | <span data-ttu-id="51996-127">El evento de entrada se produjo en una barra de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="51996-127">The input event occurred in a scroll bar.</span></span> |

### <a name="wparam"></a><span data-ttu-id="51996-128">wParam</span><span class="sxs-lookup"><span data-stu-id="51996-128">wParam</span></span>

<span data-ttu-id="51996-129">Tipo: **wParam**</span><span class="sxs-lookup"><span data-stu-id="51996-129">Type: **WPARAM**</span></span>

<span data-ttu-id="51996-130">Este parámetro no se utiliza.</span><span class="sxs-lookup"><span data-stu-id="51996-130">This parameter is not used.</span></span>

### <a name="lparam-in"></a><span data-ttu-id="51996-131">lParam [in]</span><span class="sxs-lookup"><span data-stu-id="51996-131">lParam [in]</span></span>

<span data-ttu-id="51996-132">Tipo: **lParam**</span><span class="sxs-lookup"><span data-stu-id="51996-132">Type: **LPARAM**</span></span>

<span data-ttu-id="51996-133">Puntero a una estructura [MSG](/windows/win32/api/winuser/ns-winuser-msg) .</span><span class="sxs-lookup"><span data-stu-id="51996-133">A pointer to an [MSG](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span>

## <a name="returns"></a><span data-ttu-id="51996-134">Devoluciones</span><span class="sxs-lookup"><span data-stu-id="51996-134">Returns</span></span>

<span data-ttu-id="51996-135">Tipo: **LRESULT**</span><span class="sxs-lookup"><span data-stu-id="51996-135">Type: **LRESULT**</span></span>

<span data-ttu-id="51996-136">Si el *código* es menor que cero, el procedimiento de enlace debe devolver el valor devuelto por **CallNextHookEx**.</span><span class="sxs-lookup"><span data-stu-id="51996-136">If *code* is less than zero, the hook procedure must return the value returned by **CallNextHookEx**.</span></span>

<span data-ttu-id="51996-137">Si el *código* es mayor o igual que cero y el procedimiento de enlace no procese el mensaje, se recomienda encarecidamente llamar a **CallNextHookEx** y devolver el valor que devuelve; de lo contrario, otras aplicaciones que tengan instalado [WH_MSGFILTER](about-hooks.md) enlaces no recibirán notificaciones de enlace y se comportarán de forma incorrecta como resultado.</span><span class="sxs-lookup"><span data-stu-id="51996-137">If *code* is greater than or equal to zero, and the hook procedure did not process the message, it is highly recommended that you call **CallNextHookEx** and return the value it returns; otherwise, other applications that have installed [WH_MSGFILTER](about-hooks.md) hooks will not receive hook notifications and may behave incorrectly as a result.</span></span>
<span data-ttu-id="51996-138">Si el procedimiento de enlace ha procesado el mensaje, es posible que devuelva un valor distinto de cero para evitar que el sistema pase el mensaje al resto de la cadena de enlace o al procedimiento de ventana de destino.</span><span class="sxs-lookup"><span data-stu-id="51996-138">If the hook procedure processed the message, it may return a nonzero value to prevent the system from passing the message to the rest of the hook chain or the target window procedure.</span></span>

## <a name="remarks"></a><span data-ttu-id="51996-139">Observaciones</span><span class="sxs-lookup"><span data-stu-id="51996-139">Remarks</span></span>

<span data-ttu-id="51996-140">Una aplicación instala el procedimiento de enlace especificando el tipo de enlace de **WH_MSGFILTER** y un puntero al procedimiento de enlace en una llamada a la función **SetWindowsHookEx** .</span><span class="sxs-lookup"><span data-stu-id="51996-140">An application installs the hook procedure by specifying the **WH_MSGFILTER** hook type and a pointer to the hook procedure in a call to the **SetWindowsHookEx** function.</span></span>

<span data-ttu-id="51996-141">Si una aplicación que usa DDEML y realiza transacciones sincrónicas debe procesar los mensajes antes de que se envíen, debe usar el **WH_MSGFILTER** enlace.</span><span class="sxs-lookup"><span data-stu-id="51996-141">If an application that uses the DDEML and performs synchronous transactions must process messages before they are dispatched, it must use the **WH_MSGFILTER** hook.</span></span>

## <a name="see-also"></a><span data-ttu-id="51996-142">Vea también</span><span class="sxs-lookup"><span data-stu-id="51996-142">See also</span></span>

[<span data-ttu-id="51996-143">CallNextHookEx</span><span class="sxs-lookup"><span data-stu-id="51996-143">CallNextHookEx</span></span>](/windows/desktop/api/winuser/nf-winuser-callnexthookex)

[<span data-ttu-id="51996-144">SetWindowsHookEx</span><span class="sxs-lookup"><span data-stu-id="51996-144">SetWindowsHookEx</span></span>](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw)

[<span data-ttu-id="51996-145">MENSAJE</span><span class="sxs-lookup"><span data-stu-id="51996-145">MSG</span></span>](/windows/win32/api/winuser/ns-winuser-msg)

[<span data-ttu-id="51996-146">Enlaces</span><span class="sxs-lookup"><span data-stu-id="51996-146">Hooks</span></span>](hooks.md)
