---
description: Al aplicar una revisión a los archivos que tienen contenido variable, puede ser necesario conservar las regiones seleccionadas del archivo de destino para evitar la pérdida de información crítica.
ms.assetid: 4a610588-556e-489f-ac14-73e5e6b776fe
title: Aplicar revisiones a las regiones seleccionadas de un archivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 778df4b0cc98eeacd1106929b18c7461c6fa9e70
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105652503"
---
# <a name="patching-selected-regions-of-a-file"></a><span data-ttu-id="ebe92-103">Aplicar revisiones a las regiones seleccionadas de un archivo</span><span class="sxs-lookup"><span data-stu-id="ebe92-103">Patching Selected Regions of a File</span></span>

<span data-ttu-id="ebe92-104">Al aplicar una revisión a los archivos que tienen contenido variable, puede ser necesario conservar las regiones seleccionadas del archivo de destino para evitar la pérdida de información crítica.</span><span class="sxs-lookup"><span data-stu-id="ebe92-104">When patching files having variable content, it may be necessary to retain selected regions of the target file to prevent the lost of critical information.</span></span> <span data-ttu-id="ebe92-105">Por ejemplo, algunas aplicaciones marcan información de usuario en el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="ebe92-105">For example, some applications stamp user information into the executable file.</span></span> <span data-ttu-id="ebe92-106">Dado que el contenido del archivo de destino puede depender del equipo en el que está instalada la aplicación, resulta difícil determinar si un archivo determinado es un destino válido para la revisión.</span><span class="sxs-lookup"><span data-stu-id="ebe92-106">Because the contents of the target file might depend upon the computer on which the application is installed, it becomes difficult to determine whether a particular file is a valid target for the patch.</span></span> <span data-ttu-id="ebe92-107">La información de usuario escrita en el archivo de destino también se puede sobrescribir con una revisión.</span><span class="sxs-lookup"><span data-stu-id="ebe92-107">User information written in the target file can also be overwritten by a patch.</span></span>

<span data-ttu-id="ebe92-108">Al generar un archivo de propiedades de creación de revisiones (PCP) con [Msimsp.exe](msimsp-exe.md) y [PATCHWIZ.DLL](patchwiz-dll.md), puede especificar que se omita la información de ciertas regiones del archivo de destino durante la revisión.</span><span class="sxs-lookup"><span data-stu-id="ebe92-108">When you generate a patch creation properties (PCP) file with [Msimsp.exe](msimsp-exe.md) and [PATCHWIZ.DLL](patchwiz-dll.md), you can specify that the information in certain regions of the target file be ignored during patching.</span></span> <span data-ttu-id="ebe92-109">También puede especificar que la información de otras regiones del archivo de destino se retenga y copie en una ubicación de desplazamiento en el archivo actualizado.</span><span class="sxs-lookup"><span data-stu-id="ebe92-109">You can also specify that information in other regions of the target file be retained and copied to an offset location in the updated file.</span></span> <span data-ttu-id="ebe92-110">Especifique qué regiones del archivo de destino se omitirán y qué regiones se conservarán al crear las tablas [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md), [ExternalFiles](externalfiles-table-patchwiz-dll-.md)y [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) .</span><span class="sxs-lookup"><span data-stu-id="ebe92-110">You specify which regions of the target file to ignore and which regions to retain when authoring the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md), [ExternalFiles](externalfiles-table-patchwiz-dll-.md), and [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) tables.</span></span>

<span data-ttu-id="ebe92-111">Use la columna RetainOffsets de la tabla [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) y las columnas RetainOffsets y RetainLengths de la tabla [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) para copiar un intervalo de información del archivo de destino en un intervalo de desplazamiento en el archivo actualizado.</span><span class="sxs-lookup"><span data-stu-id="ebe92-111">Use the RetainOffsets column of the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) table and the RetainOffsets and RetainLengths columns of the [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) table to copy a range of information from the target file to an offset range in the updated file.</span></span> <span data-ttu-id="ebe92-112">Se conserva la información de este intervalo.</span><span class="sxs-lookup"><span data-stu-id="ebe92-112">The information in this range is retained.</span></span> <span data-ttu-id="ebe92-113">Especifique la longitud del intervalo mediante las columnas RetainLengths de la tabla FamilyFileRanges.</span><span class="sxs-lookup"><span data-stu-id="ebe92-113">Specify the length of the range using the RetainLengths columns of the FamilyFileRanges table.</span></span> <span data-ttu-id="ebe92-114">La longitud del intervalo retenido es la misma en los archivos de destino y actualizados.</span><span class="sxs-lookup"><span data-stu-id="ebe92-114">The length of the retained range is the same in the target and updated files.</span></span> <span data-ttu-id="ebe92-115">Especifique el desplazamiento del intervalo en el archivo de destino mediante la columna RetainOffsets de la tabla OptionalData de TargetFiles.</span><span class="sxs-lookup"><span data-stu-id="ebe92-115">Specify the offset of the range in the target file using the RetainOffsets column of the TargetFiles OptionalData table.</span></span> <span data-ttu-id="ebe92-116">Especifique el desplazamiento del intervalo en el archivo actualizado mediante la columna RetainOffsets de la tabla FamilyFileRanges.</span><span class="sxs-lookup"><span data-stu-id="ebe92-116">Specify the offset of the range in the updated file using the RetainOffsets column of the FamilyFileRanges table.</span></span> <span data-ttu-id="ebe92-117">El intervalo del archivo de destino retenido es, por lo tanto, el valor de RetainOffsets en la tabla TargetFiles OptionalData y RetainLengths.</span><span class="sxs-lookup"><span data-stu-id="ebe92-117">The range of the target file retained is therefore the value of RetainOffsets in the TargetFiles OptionalData table plus RetainLengths.</span></span> <span data-ttu-id="ebe92-118">Esta información se copia en el archivo de actualización en el intervalo proporcionado por el valor de RetainOffsets en las tablas FamilyFileRanges más RetainLengths.</span><span class="sxs-lookup"><span data-stu-id="ebe92-118">This information gets copied to the update file in the range given by the value of RetainOffsets in the FamilyFileRanges tables plus RetainLengths.</span></span> <span data-ttu-id="ebe92-119">Puede especificar varios intervalos, pero el orden de las longitudes debe coincidir con el orden de los desplazamientos.</span><span class="sxs-lookup"><span data-stu-id="ebe92-119">You can specify multiple ranges but the order of the lengths must match the order of the offsets.</span></span>

<span data-ttu-id="ebe92-120">Use la tabla [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) para omitir un intervalo del archivo de destino.</span><span class="sxs-lookup"><span data-stu-id="ebe92-120">Use the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) table to ignore a range of the target file.</span></span> <span data-ttu-id="ebe92-121">La revisión puede seguir sobrescribiendo la información de este intervalo del archivo de destino.</span><span class="sxs-lookup"><span data-stu-id="ebe92-121">Information in this range of the target file can still be overwritten by the patch.</span></span> <span data-ttu-id="ebe92-122">Especifique el desplazamiento del intervalo en la columna IgnoreOffsets y su longitud en la columna IgnoreLengths.</span><span class="sxs-lookup"><span data-stu-id="ebe92-122">Specify the offset of the range in the IgnoreOffsets column and its length in the IgnoreLengths column.</span></span> <span data-ttu-id="ebe92-123">Puede especificar varios intervalos, pero el orden de las longitudes debe coincidir con el orden de los desplazamientos.</span><span class="sxs-lookup"><span data-stu-id="ebe92-123">You can specify multiple ranges but the order of the lengths must match the order of the offsets.</span></span>

<span data-ttu-id="ebe92-124">Los valores de las columnas longitudes y desplazamientos pueden ser decimales o hexadecimales.</span><span class="sxs-lookup"><span data-stu-id="ebe92-124">The values in the lengths and offsets columns can be decimal or hexadecimal.</span></span> <span data-ttu-id="ebe92-125">[PATCHWIZ.DLL](patchwiz-dll.md) trata el valor como hexadecimal si tiene el prefijo "0x".</span><span class="sxs-lookup"><span data-stu-id="ebe92-125">[PATCHWIZ.DLL](patchwiz-dll.md) treats the value as hexadecimal if it is prefixed by "0x".</span></span> <span data-ttu-id="ebe92-126">Las columnas son columnas de cadena, por lo que PATCHWIZ.DLL convierte los valores en ULONGs.</span><span class="sxs-lookup"><span data-stu-id="ebe92-126">The columns are string columns, so PATCHWIZ.DLL converts the values to ULONGs.</span></span> <span data-ttu-id="ebe92-127">La columna longitud especifica la longitud en bytes.</span><span class="sxs-lookup"><span data-stu-id="ebe92-127">The length column specifies the length in bytes.</span></span>

 

 



