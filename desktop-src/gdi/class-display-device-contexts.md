---
description: Mediante el uso de un contexto de dispositivo de clase, una aplicación puede usar un único contexto de dispositivo de pantalla para cada ventana que pertenece a una clase especificada.
ms.assetid: fc76abbf-68da-47f2-8145-4fad806297b4
title: La clase muestra contextos de dispositivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5e5a4cc0268d948e1a6f95050409698217e3f13e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104985051"
---
# <a name="class-display-device-contexts"></a><span data-ttu-id="5c8d1-103">La clase muestra contextos de dispositivo</span><span class="sxs-lookup"><span data-stu-id="5c8d1-103">Class Display Device Contexts</span></span>

<span data-ttu-id="5c8d1-104">Mediante el uso de un *contexto de dispositivo de clase*, una aplicación puede usar un único contexto de dispositivo de pantalla para cada ventana que pertenece a una clase especificada.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-104">By using a *class device context*, an application can use a single display device context for every window belonging to a specified class.</span></span> <span data-ttu-id="5c8d1-105">Los contextos de dispositivo de clase se suelen usar con ventanas de control que se dibujan con los mismos valores de atributo.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-105">Class device contexts are often used with control windows that are drawn using the same attribute values.</span></span> <span data-ttu-id="5c8d1-106">Al igual que los contextos de dispositivos privados, los contextos de dispositivo de clase minimizan el tiempo necesario para preparar un contexto de dispositivo para el dibujo.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-106">Like private device contexts, class device contexts minimize the time required to prepare a device context for drawing.</span></span>

<span data-ttu-id="5c8d1-107">El sistema proporciona un contexto de dispositivo de clase para una ventana si pertenece a una clase de ventana con el \_ estilo CS CLASSDC.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-107">The system supplies a class device context for a window if it belongs to a window class having the CS\_CLASSDC style.</span></span> <span data-ttu-id="5c8d1-108">El sistema crea el contexto de dispositivo al crear la primera ventana que pertenece a la clase y, a continuación, usa el mismo contexto de dispositivo para todas las ventanas creadas posteriormente en la clase.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-108">The system creates the device context when creating the first window belonging to the class and then uses the same device context for all subsequently created windows in the class.</span></span> <span data-ttu-id="5c8d1-109">Inicialmente, el contexto de dispositivo de clase tiene los mismos valores predeterminados para los atributos que un contexto de dispositivo común, pero la aplicación puede modificarlos en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-109">Initially, the class device context has the same default values for attributes as a common device context, but the application can modify these at any time.</span></span> <span data-ttu-id="5c8d1-110">El sistema conserva todos los cambios, excepto la región de recorte y el origen del dispositivo, hasta que se destruya la última ventana de la clase.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-110">The system preserves all changes, except for the clipping region and device origin, until the last window in the class has been destroyed.</span></span> <span data-ttu-id="5c8d1-111">Un cambio realizado en una ventana se aplica a todas las ventanas de esa clase.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-111">A change made for one window applies to all windows in that class.</span></span>

<span data-ttu-id="5c8d1-112">Una aplicación puede recuperar el identificador del contexto de dispositivo de clase usando la función [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) en cualquier momento después de crear la primera ventana.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-112">An application can retrieve the handle to the class device context by using the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) function any time after the first window has been created.</span></span> <span data-ttu-id="5c8d1-113">La aplicación puede mantener y usar el identificador sin liberarlo porque el contexto de dispositivo de clase no forma parte de la memoria caché de contexto del dispositivo de pantalla.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-113">The application can keep and use the handle without releasing it because the class device context is not part of the display device context cache.</span></span> <span data-ttu-id="5c8d1-114">Si la aplicación crea otra ventana en la misma clase de ventana, la aplicación debe recuperar de nuevo el contexto de dispositivo de clase.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-114">If the application creates another window in the same window class, the application must retrieve the class device context again.</span></span> <span data-ttu-id="5c8d1-115">Al recuperar el contexto de dispositivo, se establece el origen de dispositivo y la región de recorte correctos para la nueva ventana.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-115">Retrieving the device context sets the correct device origin and clipping region for the new window.</span></span> <span data-ttu-id="5c8d1-116">Una vez que la aplicación recupera el contexto de dispositivo de clase para una nueva ventana en la clase, el contexto de dispositivo ya no se puede usar para dibujar en la ventana original sin recuperarlo de nuevo para esa ventana.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-116">After the application retrieves the class device context for a new window in the class, the device context can no longer be used to draw in the original window without again retrieving it for that window.</span></span> <span data-ttu-id="5c8d1-117">En general, cada vez que se debe dibujar en una ventana, una aplicación debe recuperar explícitamente el contexto de dispositivo de clase para la ventana.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-117">In general, each time it must draw in a window, an application must explicitly retrieve the class device context for the window.</span></span>

<span data-ttu-id="5c8d1-118">Las aplicaciones que usan contextos de dispositivo de clase siempre deben llamar a [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) al procesar un mensaje de [**\_ pintura de WM**](wm-paint.md) .</span><span class="sxs-lookup"><span data-stu-id="5c8d1-118">Applications that use class device contexts should always call [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) when processing a [**WM\_PAINT**](wm-paint.md) message.</span></span> <span data-ttu-id="5c8d1-119">La función establece el origen de dispositivo y la región de recorte correctos para la ventana e incorpora la región de actualización.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-119">The function sets the correct device origin and clipping region for the window, and incorporates the update region.</span></span> <span data-ttu-id="5c8d1-120">La aplicación también debe llamar a [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) para restaurar el símbolo de intercalación si **BeginPaint** lo HID.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-120">The application should also call [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) to restore the caret if **BeginPaint** hid it.</span></span> <span data-ttu-id="5c8d1-121">**EndPaint** no tiene ningún efecto en un contexto de dispositivo de clase.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-121">**EndPaint** has no other effect on a class device context.</span></span>

<span data-ttu-id="5c8d1-122">El sistema pasa el contexto de dispositivo de clase al enviar el mensaje de [**\_ ERASEBKGND de WM**](../winmsg/wm-erasebkgnd.md) a la aplicación, lo que permite que los valores de atributo actuales afecten a cualquier dibujo realizado por la aplicación o el sistema al procesar este mensaje.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-122">The system passes the class device context when sending the [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message to the application, permitting the current attribute values to affect any drawing carried out by the application or the system when processing this message.</span></span> <span data-ttu-id="5c8d1-123">Como podría tener una ventana con un contexto de dispositivo privado, una aplicación puede usar [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) para obligar al sistema a devolver un contexto de dispositivo común para la ventana que tiene un contexto de dispositivo de clase.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-123">As it could with a window having a private device context, an application can use [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) to force the system to return a common device context for the window that has a class device context.</span></span>

<span data-ttu-id="5c8d1-124">No se recomienda usar contextos de dispositivo de clase.</span><span class="sxs-lookup"><span data-stu-id="5c8d1-124">Using class device contexts is not recommended.</span></span>

 

 
