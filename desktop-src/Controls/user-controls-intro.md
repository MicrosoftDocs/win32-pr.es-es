---
title: Controles personalizados
description: Esta sección contiene información sobre los controles personalizados o definidos por la aplicación.
ms.assetid: 220f7058-db04-46d0-acee-ed5e676790b3
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e82ed9394ec06257e524153b86ef487f4507f35b
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/21/2020
ms.locfileid: "104149640"
---
# <a name="custom-controls"></a><span data-ttu-id="6fc9c-103">Controles personalizados</span><span class="sxs-lookup"><span data-stu-id="6fc9c-103">Custom Controls</span></span>

<span data-ttu-id="6fc9c-104">Esta sección contiene información sobre los controles personalizados o definidos por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-104">This section contains information about application-defined or custom controls.</span></span>

<span data-ttu-id="6fc9c-105">Se tratan los temas siguientes.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-105">The following topics are discussed.</span></span>

-   [<span data-ttu-id="6fc9c-106">Crear controles de Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="6fc9c-106">Creating Owner-Drawn Controls</span></span>](#creating-owner-drawn-controls)
-   [<span data-ttu-id="6fc9c-107">Subclase de la clase de ventana de un control existente</span><span class="sxs-lookup"><span data-stu-id="6fc9c-107">Subclassing the Window Class of an Existing Control</span></span>](#subclassing-the-window-class-of-an-existing-control)
-   [<span data-ttu-id="6fc9c-108">Implementar una clase de ventana Application-Defined</span><span class="sxs-lookup"><span data-stu-id="6fc9c-108">Implementing an Application-Defined Window Class</span></span>](#implementing-an-application-defined-window-class)
-   [<span data-ttu-id="6fc9c-109">Enviar notificaciones desde un control</span><span class="sxs-lookup"><span data-stu-id="6fc9c-109">Sending Notifications from a Control</span></span>](#sending-notifications-from-a-control)
-   [<span data-ttu-id="6fc9c-110">Accesibilidad</span><span class="sxs-lookup"><span data-stu-id="6fc9c-110">Accessibility</span></span>](#accessibility)
-   [<span data-ttu-id="6fc9c-111">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6fc9c-111">Related topics</span></span>](#related-topics)

## <a name="creating-owner-drawn-controls"></a><span data-ttu-id="6fc9c-112">Crear controles de Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="6fc9c-112">Creating Owner-Drawn Controls</span></span>

<span data-ttu-id="6fc9c-113">Los botones, los menús, los controles de texto estático, los cuadros de lista y los cuadros combinados se pueden crear con una marca de estilo dibujado por el propietario.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-113">Buttons, menus, static text controls, list boxes, and combo boxes can be created with an owner-drawn style flag.</span></span> <span data-ttu-id="6fc9c-114">Cuando un control tiene el estilo dibujado por el propietario, el sistema controla la interacción del usuario con el control como de costumbre, realizando tareas como detectar cuándo un usuario ha elegido un botón y notificando al propietario del botón el evento.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-114">When a control has the owner-drawn style, the system handles the user's interaction with the control as usual, performing such tasks as detecting when a user has chosen a button and notifying the button's owner of the event.</span></span> <span data-ttu-id="6fc9c-115">Sin embargo, dado que el control está dibujado por el propietario, la ventana primaria del control es responsable de la apariencia visual del control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-115">However, because the control is owner-drawn, the parent window of the control is responsible for the visual appearance of the control.</span></span> <span data-ttu-id="6fc9c-116">La ventana primaria recibe un mensaje cada vez que se debe dibujar el control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-116">The parent window receives a message whenever the control must be drawn.</span></span>

<span data-ttu-id="6fc9c-117">En el caso de los botones y los controles de texto estático, el estilo dibujado por el propietario afecta al modo en que el sistema dibuja todo el control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-117">For buttons and static text controls, the owner-drawn style affects how the system draws the entire control.</span></span> <span data-ttu-id="6fc9c-118">En los cuadros de lista y cuadros combinados, la ventana primaria dibuja los elementos dentro del control y el control dibuja su propio esquema.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-118">For list boxes and combo boxes, the parent window draws the items within the control, and the control draws its own outline.</span></span> <span data-ttu-id="6fc9c-119">Por ejemplo, una aplicación puede personalizar un cuadro de lista para que muestre un mapa de bits pequeño junto a cada elemento de la lista.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-119">For example, an application can customize a list box so that it displays a small bitmap next to each item in the list.</span></span>

<span data-ttu-id="6fc9c-120">En el ejemplo de código siguiente se muestra cómo crear un control de texto estático dibujado por el propietario.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-120">The following example code shows how to create an owner-drawn static text control.</span></span> <span data-ttu-id="6fc9c-121">Supongamos que se ha definido Unicode.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-121">Assume that Unicode is defined.</span></span>


```
// g_myStatic is a global HWND variable.
g_myStatic = CreateWindowEx(0, L"STATIC", L"Some static text", 
            WS_CHILD | WS_VISIBLE | SS_OWNERDRAW, 
            25, 125, 150, 20, hDlg, 0, 0, 0);
```



<span data-ttu-id="6fc9c-122">En el ejemplo siguiente, en el procedimiento de ventana del cuadro de diálogo que contiene el control creado en el ejemplo anterior, se controla el mensaje de Windows de [**WM \_**](wm-drawitem.md) mostrando el texto en un color personalizado con la fuente predeterminada.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-122">In the following example, from the window procedure for the dialog box that contains the control created in the previous example, the [**WM\_DRAWITEM**](wm-drawitem.md) message is handled by displaying the text in a custom color, using the default font.</span></span> <span data-ttu-id="6fc9c-123">Tenga en cuenta que no es necesario llamar a [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) y [**EndPaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) cuando se controla **WM \_ DRAWITEM**.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-123">Note that you do not need to call [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) and [**EndPaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) when handling **WM\_DRAWITEM**.</span></span>


```
case WM_DRAWITEM:
{
    LPDRAWITEMSTRUCT pDIS = (LPDRAWITEMSTRUCT)lParam;
    if (pDIS->hwndItem == g_myStatic)
    {
        SetTextColor(pDIS->hDC, RGB(100, 0, 100));
        WCHAR staticText[99];
        int len = SendMessage(myStatic, WM_GETTEXT, 
            ARRAYSIZE(staticText), (LPARAM)staticText);
        TextOut(pDIS->hDC, pDIS->rcItem.left, pDIS->rcItem.top, staticText, len);
    }
    return TRUE;
}
```



<span data-ttu-id="6fc9c-124">Para obtener más información sobre los controles dibujados por el propietario, vea [crear un cuadro de lista dibujado por el propietario](using-list-boxes.md) y [cuadros combinados dibujados](about-combo-boxes.md)por el propietario.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-124">For more information about owner-drawn controls, see [Creating an Owner-drawn List Box](using-list-boxes.md) and [Owner Drawn Combo Boxes](about-combo-boxes.md).</span></span>

## <a name="subclassing-the-window-class-of-an-existing-control"></a><span data-ttu-id="6fc9c-125">Subclase de la clase de ventana de un control existente</span><span class="sxs-lookup"><span data-stu-id="6fc9c-125">Subclassing the Window Class of an Existing Control</span></span>

<span data-ttu-id="6fc9c-126">La creación de subclases de un control existente es otra manera de crear un control personalizado.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-126">Subclassing an existing control is another way to create a custom control.</span></span> <span data-ttu-id="6fc9c-127">El procedimiento de subclase puede modificar los comportamientos seleccionados del control procesando los mensajes que afectan a los comportamientos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-127">The subclass procedure can alter selected behaviors of the control by processing those messages that affect the selected behaviors.</span></span> <span data-ttu-id="6fc9c-128">El resto de mensajes pasan al procedimiento de ventana original para el control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-128">All other messages pass to the original window procedure for the control.</span></span> <span data-ttu-id="6fc9c-129">Por ejemplo, una aplicación puede mostrar un mapa de bits pequeño junto al texto en un control de edición de una sola línea de solo lectura mediante la subclase del control y el procesamiento del mensaje de [**\_ dibujo de WM**](/windows/desktop/gdi/wm-paint) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-129">For example, an application can display a small bitmap next to the text in a read-only, single-line edit control by subclassing the control and processing the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) message.</span></span> <span data-ttu-id="6fc9c-130">Para obtener más información, vea [About Window Procedures](/windows/desktop/winmsg/about-window-procedures) and [Subclassing Controls](subclassing-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6fc9c-130">For more information, see [About Window Procedures](/windows/desktop/winmsg/about-window-procedures) and [Subclassing Controls](subclassing-overview.md).</span></span>

## <a name="implementing-an-application-defined-window-class"></a><span data-ttu-id="6fc9c-131">Implementar una clase de ventana Application-Defined</span><span class="sxs-lookup"><span data-stu-id="6fc9c-131">Implementing an Application-Defined Window Class</span></span>

<span data-ttu-id="6fc9c-132">Para crear un control que no esté basado explícitamente en un control existente, la aplicación debe crear y registrar una clase de ventana.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-132">To create a control that is not explicitly based on an existing control, the application must create and register a window class.</span></span> <span data-ttu-id="6fc9c-133">El proceso para registrar una clase de ventana definida por la aplicación para un control personalizado es igual que registrar una clase para una ventana normal.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-133">The process for registering an application-defined window class for a custom control is the same as registering a class for an ordinary window.</span></span> <span data-ttu-id="6fc9c-134">Para crear un control personalizado, especifique el nombre de la clase de ventana en la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) o en una plantilla de cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-134">To create a custom control, specify the name of the window class in the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or in a dialog box template.</span></span> <span data-ttu-id="6fc9c-135">Cada clase debe tener un nombre único, un procedimiento de ventana correspondiente y otra información.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-135">Each class must have a unique name, a corresponding window procedure, and other information.</span></span>

<span data-ttu-id="6fc9c-136">Como mínimo, el procedimiento de ventana dibuja el control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-136">At a minimum, the window procedure draws the control.</span></span> <span data-ttu-id="6fc9c-137">Si una aplicación utiliza el control para permitir que el usuario escriba información, el procedimiento de ventana también procesa los mensajes de entrada desde el teclado y el mouse y envía mensajes de notificación a la ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-137">If an application uses the control to let the user type information, the window procedure also processes input messages from the keyboard and mouse and sends notification messages to the parent window.</span></span> <span data-ttu-id="6fc9c-138">Además, si el control admite mensajes de control, el procedimiento de ventana procesa los mensajes que le envía la ventana primaria u otras ventanas.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-138">In addition, if the control supports control messages, the window procedure processes messages sent to it by the parent window or other windows.</span></span> <span data-ttu-id="6fc9c-139">Por ejemplo, los controles suelen procesar el mensaje de [**WM \_ GETDLGCODE**](/windows/desktop/dlgbox/wm-getdlgcode) enviado por cuadros de diálogo para dirigir un cuadro de diálogo para procesar la entrada del teclado de una manera determinada.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-139">For example, controls often process the [**WM\_GETDLGCODE**](/windows/desktop/dlgbox/wm-getdlgcode) message sent by dialog boxes to direct a dialog box to process keyboard input in a given way.</span></span>

<span data-ttu-id="6fc9c-140">El procedimiento de ventana de un control definido por la aplicación debe procesar cualquier mensaje de control predefinido en la tabla siguiente si el mensaje afecta a la operación del control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-140">The window procedure for an application-defined control should process any predefined control message in the following table if the message affects the operation of the control.</span></span>



| <span data-ttu-id="6fc9c-141">Message</span><span class="sxs-lookup"><span data-stu-id="6fc9c-141">Message</span></span>                                          | <span data-ttu-id="6fc9c-142">Recomendación</span><span class="sxs-lookup"><span data-stu-id="6fc9c-142">Recommendation</span></span>                                                                                                                                                                                                                                  |
|--------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6fc9c-143">**GETDLGCODE de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-143">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)       | <span data-ttu-id="6fc9c-144">Procesa si el control usa las teclas entrar, ESC, TAB o de dirección.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-144">Process if the control uses the ENTER, ESC, TAB, or arrow keys.</span></span> <span data-ttu-id="6fc9c-145">La función [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) envía este mensaje a los controles de un cuadro de diálogo para determinar si se deben procesar las claves o pasarlas al control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-145">The [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) function sends this message to controls in a dialog box to determine whether to process the keys or pass them to the control.</span></span> |
| [<span data-ttu-id="6fc9c-146">**GETFONT de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-146">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)             | <span data-ttu-id="6fc9c-147">Procesar si el mensaje de [**WM \_ SETFONT**](/windows/desktop/winmsg/wm-setfont) también se ha procesado.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-147">Process if the [**WM\_SETFONT**](/windows/desktop/winmsg/wm-setfont) message is also processed.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="6fc9c-148">**GETTEXT de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-148">**WM\_GETTEXT**</span></span>](/windows/desktop/winmsg/wm-gettext)             | <span data-ttu-id="6fc9c-149">Procesa si el texto del control no es igual que el título especificado por la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-149">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="6fc9c-150">**GETTEXTLENGTH de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-150">**WM\_GETTEXTLENGTH**</span></span>](/windows/desktop/winmsg/wm-gettextlength) | <span data-ttu-id="6fc9c-151">Procesa si el texto del control no es igual que el título especificado por la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-151">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="6fc9c-152">**KILLFOCUS de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-152">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)       | <span data-ttu-id="6fc9c-153">Proceso si el control muestra un símbolo de intercalación, un rectángulo de foco u otro elemento para indicar que tiene el foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-153">Process if the control displays a caret, a focus rectangle, or another item to indicate that it has the input focus.</span></span>                                                                                                                            |
| [<span data-ttu-id="6fc9c-154">**SETFOCUS de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-154">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)         | <span data-ttu-id="6fc9c-155">Proceso si el control muestra un símbolo de intercalación, un rectángulo de foco u otro elemento para indicar que tiene el foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-155">Process if the control displays a caret, a focus rectangle, or another item to indicate that it has the input focus.</span></span>                                                                                                                            |
| [<span data-ttu-id="6fc9c-156">**SETTEXT de WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-156">**WM\_SETTEXT**</span></span>](/windows/desktop/winmsg/wm-settext)             | <span data-ttu-id="6fc9c-157">Procesa si el texto del control no es igual que el título especificado por la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-157">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="6fc9c-158">**WM \_**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-158">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)             | <span data-ttu-id="6fc9c-159">Procesa si el control muestra texto.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-159">Process if the control displays text.</span></span> <span data-ttu-id="6fc9c-160">El sistema envía este mensaje al crear un cuadro de diálogo que tenga el \_ estilo de DS SETFONT.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-160">The system sends this message when creating a dialog box that has the DS\_SETFONT style.</span></span>                                                                                                                  |



 

<span data-ttu-id="6fc9c-161">Los mensajes de control definidos por la aplicación son específicos del control dado y se deben enviar explícitamente al control mediante una función [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) o [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-161">Application-defined control messages are specific to the given control and must be explicitly sent to the control by using a [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) or [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) function.</span></span> <span data-ttu-id="6fc9c-162">El valor numérico de cada mensaje debe ser único y no debe entrar en conflicto con los valores de otros mensajes de ventana.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-162">The numeric value for each message must be unique and must not conflict with the values of other window messages.</span></span> <span data-ttu-id="6fc9c-163">Para asegurarse de que los valores de mensaje definidos por la aplicación no entren en conflicto, una aplicación debe crear cada valor agregando un número único al valor de [**\_ usuario de WM**](/windows/desktop/winmsg/wm-user) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-163">To ensure that application-defined message values do not conflict, an application should create each value by adding a unique number to the [**WM\_USER**](/windows/desktop/winmsg/wm-user) value.</span></span>

## <a name="sending-notifications-from-a-control"></a><span data-ttu-id="6fc9c-164">Enviar notificaciones desde un control</span><span class="sxs-lookup"><span data-stu-id="6fc9c-164">Sending Notifications from a Control</span></span>

<span data-ttu-id="6fc9c-165">Es posible que sea necesario que los controles personalizados envíen notificaciones de eventos a la ventana primaria para que la aplicación host pueda responder a estos eventos.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-165">Custom controls might be required to send notifications of events to the parent window so that the host application can respond to these events.</span></span> <span data-ttu-id="6fc9c-166">Por ejemplo, una vista de lista personalizada puede enviar una notificación cuando el usuario selecciona un elemento y otra notificación cuando se hace doble clic en un elemento.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-166">For example, a custom list view might send a notification when the user selects an item, and another notification when an item is double-clicked.</span></span>

<span data-ttu-id="6fc9c-167">Las notificaciones se envían [**como \_ comandos de WM**](/windows/desktop/menurc/wm-command) o mensajes de [**\_ notificación de WM**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-167">Notifications are sent as [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) messages.</span></span> <span data-ttu-id="6fc9c-168">**WM \_** Los mensajes de notificación contienen más información que los mensajes de **\_ comandos de WM** .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-168">**WM\_NOTIFY** messages carry more information than **WM\_COMMAND** messages.</span></span>

<span data-ttu-id="6fc9c-169">El identificador de control es un número único que la aplicación usa para identificar el control que envía el mensaje.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-169">The control identifier is a unique number the application uses to identify the control sending the message.</span></span> <span data-ttu-id="6fc9c-170">La aplicación establece el identificador de un control cuando crea el control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-170">The application sets the identifier for a control when it creates the control.</span></span> <span data-ttu-id="6fc9c-171">La aplicación especifica el identificador en el parámetro *hMenu* de la función [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) o en el miembro **ID** de la estructura [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-171">The application specifies the identifier either in the *hMenu* parameter of the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or in the **id** member of the [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) structure.</span></span>

<span data-ttu-id="6fc9c-172">Dado que el propio control no establece el identificador de control, el control debe recuperar el identificador antes de poder enviar mensajes de notificación.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-172">Because the control itself does not set the control identifier, the control must retrieve the identifier before it can send notification messages.</span></span> <span data-ttu-id="6fc9c-173">Un control debe usar la función [**GetDlgCtrlID**](/windows/desktop/api/winuser/nf-winuser-getdlgctrlid) para recuperar su propio identificador de control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-173">A control must use the [**GetDlgCtrlID**](/windows/desktop/api/winuser/nf-winuser-getdlgctrlid) function to retrieve its own control identifier.</span></span> <span data-ttu-id="6fc9c-174">Aunque el identificador de control se especifica como el identificador de menú cuando se crea el control, la función [**GetMenu**](/windows/desktop/api/winuser/nf-winuser-getmenu) no se puede usar para recuperar el identificador.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-174">Although the control identifier is specified as the menu handle when the control is created, the [**GetMenu**](/windows/desktop/api/winuser/nf-winuser-getmenu) function cannot be used to retrieve the identifier.</span></span> <span data-ttu-id="6fc9c-175">Como alternativa, un control puede recuperar el identificador del miembro **hMenu** de la estructura [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) mientras se procesa el mensaje [**de \_ creación de WM**](/windows/desktop/winmsg/wm-create) .</span><span class="sxs-lookup"><span data-stu-id="6fc9c-175">Alternatively, a control can retrieve the identifier from the **hMenu** member in the [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) structure while processing the [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) message.</span></span>

<span data-ttu-id="6fc9c-176">En los ejemplos siguientes, donde *hwndControl* es el identificador de la ventana de control y CN \_ VALUECHANGED es una definición de notificación personalizada, se muestran las dos formas de enviar una notificación específica del control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-176">The following examples, where *hwndControl* is the handle of the control window and CN\_VALUECHANGED is a custom notification definition, show the two ways of sending a control-specific notification.</span></span>


```
 // Send as WM_COMMAND.
SendMessage(GetParent(hwndControl), 
    WM_COMMAND,
    MAKEWPARAM(GetDlgCtrlID(hwndControl), CN_VALUECHANGED),
    (LPARAM)hwndControl);

// Send as WM_NOTIFY.           
NMHDR nmh;
nmh.code = CN_VALUECHANGED;
nmh.idFrom = GetDlgCtrlID(hwndControl);
nmh.hwndFrom = hwndControl;
SendMessage(GetParent(hwndControl), 
    WM_NOTIFY, 
    (WPARAM)hwndControl, 
    (LPARAM)&nmh);
```



<span data-ttu-id="6fc9c-177">Tenga en cuenta que la estructura [**NMHDR**](/windows/desktop/api/richedit/ns-richedit-nmhdr) puede formar parte de una estructura mayor definida por el control que contiene información adicional.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-177">Note that the [**NMHDR**](/windows/desktop/api/richedit/ns-richedit-nmhdr) structure can be part of a larger control-defined structure that contains additional information.</span></span> <span data-ttu-id="6fc9c-178">En el ejemplo, los valores antiguos y nuevos del control pueden estar contenidos en esta estructura.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-178">In the example, the old and new values of the control might be contained in this structure.</span></span> <span data-ttu-id="6fc9c-179">(Estas estructuras extendidas se usan con muchas notificaciones estándar; por ejemplo, vea [LVN \_ INSERTITEM](lvn-insertitem.md), que usa la estructura [**NMLISTVIEW**](/windows/win32/api/commctrl/ns-commctrl-nmlistview) ).</span><span class="sxs-lookup"><span data-stu-id="6fc9c-179">(Such extended structures are used with many standard notifications; for example, see [LVN\_INSERTITEM](lvn-insertitem.md), which uses the [**NMLISTVIEW**](/windows/win32/api/commctrl/ns-commctrl-nmlistview) structure.)</span></span>

## <a name="accessibility"></a><span data-ttu-id="6fc9c-180">Accesibilidad</span><span class="sxs-lookup"><span data-stu-id="6fc9c-180">Accessibility</span></span>

<span data-ttu-id="6fc9c-181">Todos los controles comunes son compatibles con Microsoft Active Accessibility (MSAA), que permite el acceso mediante programación a aplicaciones de tecnología accesible como lectores de pantalla.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-181">All the common controls support Microsoft Active Accessibility (MSAA), which enables programmatic access by accessible-technology applications such as screen-readers.</span></span> <span data-ttu-id="6fc9c-182">MSAA también habilita la automatización de la interfaz de usuario, una tecnología más reciente, para interactuar con los controles.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-182">MSAA also enables UI Automation, a newer technology, to interact with controls.</span></span>

<span data-ttu-id="6fc9c-183">Los controles personalizados deben implementar la interfaz [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) (para admitir MSAA) o las interfaces de automatización de la interfaz de usuario, o ambas.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-183">Custom controls should implement either the [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) interface (to support MSAA) or the UI Automation interfaces, or both.</span></span> <span data-ttu-id="6fc9c-184">De lo contrario, los productos de tecnología accesible podrán obtener únicamente información muy limitada sobre la ventana de control, no tendrán acceso a las propiedades del control y no podrán desencadenar eventos en el control.</span><span class="sxs-lookup"><span data-stu-id="6fc9c-184">Otherwise, accessible-technology products will be able to obtain only very limited information about the control window, will not have access to the control's properties, and will be unable to trigger events in the control.</span></span>

<span data-ttu-id="6fc9c-185">Para obtener más información sobre cómo lograr el control accesible, vea [API de automatización de Windows](/windows/desktop/WinAuto/windows-automation-api-portal).</span><span class="sxs-lookup"><span data-stu-id="6fc9c-185">For more information about making your control accessible, see [Windows Automation API](/windows/desktop/WinAuto/windows-automation-api-portal).</span></span>

## <a name="related-topics"></a><span data-ttu-id="6fc9c-186">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6fc9c-186">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="6fc9c-187">**Vista**</span><span class="sxs-lookup"><span data-stu-id="6fc9c-187">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="6fc9c-188">Referencia de control general</span><span class="sxs-lookup"><span data-stu-id="6fc9c-188">General Control Reference</span></span>](common-control-reference.md)
</dt> <dt>

[<span data-ttu-id="6fc9c-189">Personalizar la apariencia de un control mediante el dibujo personalizado</span><span class="sxs-lookup"><span data-stu-id="6fc9c-189">Customizing a Control's Appearance Using Custom Draw</span></span>](custom-draw.md)
</dt> <dt>

[<span data-ttu-id="6fc9c-190">Mensajes de control</span><span class="sxs-lookup"><span data-stu-id="6fc9c-190">Control Messages</span></span>](control-messages.md)
</dt> <dt>

[<span data-ttu-id="6fc9c-191">Usar estilos visuales con controles de Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="6fc9c-191">Using Visual Styles with Owner-Drawn Controls</span></span>](using-visual-styles.md)
</dt> </dl>

 

 