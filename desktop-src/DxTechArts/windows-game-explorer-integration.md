---
title: Explorador de juegos de Windows para desarrolladores de juegos
description: En este artículo se describe el proceso de registro de un juego con el explorador de juegos y controles parentales en Windows Vista y Windows 7 mediante el nuevo esquema GDF.
ms.assetid: 628f14bf-2714-0d68-8267-4f7f48c2774a
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c7f59b90a23f407be3990a6a4e24b92d39e66852
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "105665855"
---
# <a name="windows-games-explorer-for-game-developers"></a><span data-ttu-id="996cd-103">Explorador de juegos de Windows para desarrolladores de juegos</span><span class="sxs-lookup"><span data-stu-id="996cd-103">Windows Games Explorer for Game Developers</span></span>

<span data-ttu-id="996cd-104">Windows Vista mejora la experiencia del usuario de juegos en Windows, incluyendo el explorador de juegos.</span><span class="sxs-lookup"><span data-stu-id="996cd-104">Windows Vista improves the user experience of gaming on Windows by including Games Explorer.</span></span> <span data-ttu-id="996cd-105">El explorador de juegos se expone en el menú Inicio de Windows Vista como carpeta juegos y proporciona una ubicación central para el acceso a los juegos.</span><span class="sxs-lookup"><span data-stu-id="996cd-105">Games Explorer is exposed in the Windows Vista Start Menu as the Games folder and provides a central location for accessing games.</span></span>

<span data-ttu-id="996cd-106">A partir de la versión de marzo de 2009 del SDK de DirectX, se usa un nuevo esquema de archivo de definición de juego (GDF) para admitir características de Windows 7, proveedor de juegos y fuente RSS, y IGameExplorer2.</span><span class="sxs-lookup"><span data-stu-id="996cd-106">Starting with the March 2009 release of the DirectX SDK, a new game definition file (GDF) schema is used to support features in Windows 7, Game Provider and RSS feed, and IGameExplorer2.</span></span> <span data-ttu-id="996cd-107">IGameExplorer2 es una nueva interfaz de Windows 7 que simplifica el proceso de integración de un juego con el explorador de juegos.</span><span class="sxs-lookup"><span data-stu-id="996cd-107">IGameExplorer2 is a new interface on Windows 7 that simplifies the process of integrating a game with Games Explorer.</span></span>

<span data-ttu-id="996cd-108">En este artículo se describe el proceso de registro de un juego con el explorador de juegos y controles parentales en Windows Vista y Windows 7 mediante el nuevo esquema GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-108">This article outlines the process of registering a game with Games Explorer and parental controls on Windows Vista and Windows 7 by using the new GDF schema.</span></span>

<span data-ttu-id="996cd-109">Contenido:</span><span class="sxs-lookup"><span data-stu-id="996cd-109">Contents:</span></span>

-   [<span data-ttu-id="996cd-110">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="996cd-110">Prerequisites</span></span>](#prerequisites)
-   [<span data-ttu-id="996cd-111">Integración con un instalador</span><span class="sxs-lookup"><span data-stu-id="996cd-111">Integrating with an Installer</span></span>](#integrating-with-an-installer)
-   [<span data-ttu-id="996cd-112">Proceso de integración</span><span class="sxs-lookup"><span data-stu-id="996cd-112">Integration Process</span></span>](#integration-process)
-   [<span data-ttu-id="996cd-113">Tareas del explorador de juegos</span><span class="sxs-lookup"><span data-stu-id="996cd-113">Games Explorer Tasks</span></span>](#games-explorer-tasks)
-   [<span data-ttu-id="996cd-114">Integración en InstallScript</span><span class="sxs-lookup"><span data-stu-id="996cd-114">Integrating into InstallScript</span></span>](#integrating-into-installscript)
-   [<span data-ttu-id="996cd-115">Integración en un paquete MSI</span><span class="sxs-lookup"><span data-stu-id="996cd-115">Integrating into an MSI Package</span></span>](#integrating-into-an-msi-package)
-   [<span data-ttu-id="996cd-116">Sugerencias de depuración</span><span class="sxs-lookup"><span data-stu-id="996cd-116">Debugging Tips</span></span>](#debugging-tips)
    -   [<span data-ttu-id="996cd-117">Prueba con código de ejemplo</span><span class="sxs-lookup"><span data-stu-id="996cd-117">Test with sample code</span></span>](#test-with-sample-code)
    -   [<span data-ttu-id="996cd-118">Asegúrese de que el juego se ha quitado correctamente</span><span class="sxs-lookup"><span data-stu-id="996cd-118">Make sure that your game was removed properly</span></span>](#make-sure-that-your-game-was-removed-properly)
    -   [<span data-ttu-id="996cd-119">Asegúrese de firmar con Authenticode</span><span class="sxs-lookup"><span data-stu-id="996cd-119">Be sure to sign using Authenticode</span></span>](#be-sure-to-sign-using-authenticode)
    -   [<span data-ttu-id="996cd-120">Asegúrese de que los controles parentales están disponibles</span><span class="sxs-lookup"><span data-stu-id="996cd-120">Be sure that parental controls are available</span></span>](#be-sure-that-parental-controls-are-available)
    -   [<span data-ttu-id="996cd-121">Comprobar que las tareas son del tipo correcto</span><span class="sxs-lookup"><span data-stu-id="996cd-121">Verify that tasks are of the correct type</span></span>](#verify-that-tasks-are-of-the-correct-type)
    -   [<span data-ttu-id="996cd-122">Comprobar los datos en el archivo binario GDF</span><span class="sxs-lookup"><span data-stu-id="996cd-122">Verify the data in GDF binary</span></span>](#verify-the-data-in-gdf-binary)
-   [<span data-ttu-id="996cd-123">Resumen</span><span class="sxs-lookup"><span data-stu-id="996cd-123">Summary</span></span>](#summary)

## <a name="prerequisites"></a><span data-ttu-id="996cd-124">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="996cd-124">Prerequisites</span></span>

<span data-ttu-id="996cd-125">Para poder integrar un juego en el explorador de juegos, debe crear un archivo de definición de juego (GDF).</span><span class="sxs-lookup"><span data-stu-id="996cd-125">Before you can integrate a game into Games Explorer, you must create a game definition file (GDF).</span></span> <span data-ttu-id="996cd-126">Un GDF es un archivo XML que contiene metadatos que describen el juego.</span><span class="sxs-lookup"><span data-stu-id="996cd-126">A GDF is an XML file that contains metadata that describes the game.</span></span> <span data-ttu-id="996cd-127">En la versión 2009 de marzo del SDK de DirectX, se ha agregado una sección para el proveedor de juegos, la fuente RSS y la tarea de juego al esquema GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-127">In the March 2009 release of the DirectX SDK, a section for game provider, RSS feed, and game task has been added to the GDF schema.</span></span> <span data-ttu-id="996cd-128">Para usar las instrucciones de este artículo, debe usar este nuevo formato GDF para crear el archivo GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-128">To use the instructions in this article, you must use this new GDF format to create your GDF file.</span></span>

<span data-ttu-id="996cd-129">Microsoft proporciona una herramienta para crear GDFs en el SDK de DirectX, el editor de archivos de definición de juego, para facilitar este proceso de creación.</span><span class="sxs-lookup"><span data-stu-id="996cd-129">Microsoft provides a tool for authoring GDFs in the DirectX SDK, Game Definition File Editor, to make this creation process easier.</span></span> <span data-ttu-id="996cd-130">Esta herramienta también ayuda a crear versiones localizadas de un GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-130">This tool also helps you create localized versions of a GDF.</span></span>

<span data-ttu-id="996cd-131">Una vez que se ha creado y localizado un GDF, debe encapsularse en una sección de recursos de un archivo binario (ya sea un ejecutable o un archivo DLL), junto con la miniatura y el icono del juego.</span><span class="sxs-lookup"><span data-stu-id="996cd-131">Once a GDF has been authored and localized, it must be encapsulated within a resource section of a binary file (either an executable or DLL), along with the game's thumbnail and icon.</span></span> <span data-ttu-id="996cd-132">GDF contiene todos los metadatos asociados al juego, incluida la valoración del juego.</span><span class="sxs-lookup"><span data-stu-id="996cd-132">The GDF contains all of the metadata associated with the game, including the game's rating.</span></span> <span data-ttu-id="996cd-133">El control parental de Windows usa la clasificación del juego para permitir que los padres controlen el acceso al juego.</span><span class="sxs-lookup"><span data-stu-id="996cd-133">Windows Parental Controls use the game's rating to allow parents to control access to the game.</span></span> <span data-ttu-id="996cd-134">El archivo binario que contiene GDF debe estar firmado digitalmente con un certificado Authenticode válido; de lo contrario, el explorador de juegos y el sistema de control parental omiten la clasificación del juego, ya que la información de clasificación no puede ser de confianza sin certificación.</span><span class="sxs-lookup"><span data-stu-id="996cd-134">The binary file which contains the GDF must be digitally signed with a valid Authenticode certificate; otherwise, Games Explorer and the parental control system ignores the game's rating, because the rating information cannot be trusted without certification.</span></span> <span data-ttu-id="996cd-135">Para obtener más información sobre cómo firmar código con Authenticode, vea [firma de Authenticode para desarrolladores de juegos](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="996cd-135">For more details about signing code with Authenticode, see [Authenticode Signing for Game Developers](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span></span>

## <a name="integrating-with-an-installer"></a><span data-ttu-id="996cd-136">Integración con un instalador</span><span class="sxs-lookup"><span data-stu-id="996cd-136">Integrating with an Installer</span></span>

<span data-ttu-id="996cd-137">Para simplificar la integración del explorador de juegos, el ejemplo GameUXInstallHelper proporciona una API común que se puede llamar en Windows XP, Windows Vista y Windows 7.</span><span class="sxs-lookup"><span data-stu-id="996cd-137">To simplify Games Explorer integration, the GameUXInstallHelper sample provides a common API that can be called on Windows XP, Windows Vista, and Windows 7.</span></span> <span data-ttu-id="996cd-138">Está diseñado para trabajar con scripts para el sistema de instalación de InstallShield y Wise, así como acciones personalizadas de MSI y herramientas de instalación personalizadas.</span><span class="sxs-lookup"><span data-stu-id="996cd-138">It is designed to work with scripts for InstallShield and Wise Installation System, as well as MSI custom actions and custom installation tools.</span></span> <span data-ttu-id="996cd-139">La detección del sistema operativo se controla dentro de este archivo DLL de ejemplo, por lo que el autor de la llamada no necesita preocuparse de si el cliente está ejecutando Windows XP, Windows Vista o Windows 7.</span><span class="sxs-lookup"><span data-stu-id="996cd-139">Detection of the operating system is handled inside this sample DLL, so the caller does not need to worry whether the client is running Windows XP, Windows Vista, or Windows 7.</span></span>

<span data-ttu-id="996cd-140">Las funciones exportadas por este archivo DLL son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="996cd-140">The functions exported by this DLL are the following:</span></span>

<dl> <dt>

<span data-ttu-id="996cd-141"><span id="GameExplorerInstallW"></span><span id="gameexplorerinstallw"></span><span id="GAMEEXPLORERINSTALLW"></span>**GameExplorerInstallW**</span><span class="sxs-lookup"><span data-stu-id="996cd-141"><span id="GameExplorerInstallW"></span><span id="gameexplorerinstallw"></span><span id="GAMEEXPLORERINSTALLW"></span>**GameExplorerInstallW**</span></span>
</dt> <dd>

<span data-ttu-id="996cd-142">Registra un juego con el explorador de juegos, dada una ruta de acceso al archivo binario GDF, una ruta de acceso completa a la carpeta donde está instalado el juego y el ámbito de instalación.</span><span class="sxs-lookup"><span data-stu-id="996cd-142">Registers a game with Games Explorer, given a path to the GDF binary, a full path to the folder where the game is installed, and the installation scope.</span></span>

</dd> <dt>

<span data-ttu-id="996cd-143"><span id="GameExplorerInstallA"></span><span id="gameexplorerinstalla"></span><span id="GAMEEXPLORERINSTALLA"></span>**GameExplorerInstallA**</span><span class="sxs-lookup"><span data-stu-id="996cd-143"><span id="GameExplorerInstallA"></span><span id="gameexplorerinstalla"></span><span id="GAMEEXPLORERINSTALLA"></span>**GameExplorerInstallA**</span></span>
</dt> <dd>

<span data-ttu-id="996cd-144">Registra un juego con el explorador de juegos. Versión ANSI de **GameExplorerInstallW**.</span><span class="sxs-lookup"><span data-stu-id="996cd-144">Registers a game with Games Explorer; ANSI version of **GameExplorerInstallW**.</span></span>

</dd> <dt>

<span data-ttu-id="996cd-145"><span id="GameExplorerUninstallW"></span><span id="gameexploreruninstallw"></span><span id="GAMEEXPLORERUNINSTALLW"></span>**GameExplorerUninstallW**</span><span class="sxs-lookup"><span data-stu-id="996cd-145"><span id="GameExplorerUninstallW"></span><span id="gameexploreruninstallw"></span><span id="GAMEEXPLORERUNINSTALLW"></span>**GameExplorerUninstallW**</span></span>
</dt> <dd>

<span data-ttu-id="996cd-146">Quita un juego del registro con el explorador de juegos, dada una ruta de acceso al archivo binario GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-146">Removes a game from registration with Games Explorer, given a path to the GDF binary.</span></span>

</dd> <dt>

<span data-ttu-id="996cd-147"><span id="GameExplorerUninstallA"></span><span id="gameexploreruninstalla"></span><span id="GAMEEXPLORERUNINSTALLA"></span>**GameExplorerUninstallA**</span><span class="sxs-lookup"><span data-stu-id="996cd-147"><span id="GameExplorerUninstallA"></span><span id="gameexploreruninstalla"></span><span id="GAMEEXPLORERUNINSTALLA"></span>**GameExplorerUninstallA**</span></span>
</dt> <dd>

<span data-ttu-id="996cd-148">Quita un juego del registro con el explorador de juegos. Versión ANSI de **GameExplorerUninstallW**.</span><span class="sxs-lookup"><span data-stu-id="996cd-148">Removes a game from registration with Games Explorer; ANSI version of **GameExplorerUninstallW**.</span></span>

</dd> <dt>

<span data-ttu-id="996cd-149"><span id="GameExplorerSetMSIProperties"></span><span id="gameexplorersetmsiproperties"></span><span id="GAMEEXPLORERSETMSIPROPERTIES"></span>**GameExplorerSetMSIProperties**</span><span class="sxs-lookup"><span data-stu-id="996cd-149"><span id="GameExplorerSetMSIProperties"></span><span id="gameexplorersetmsiproperties"></span><span id="GAMEEXPLORERSETMSIPROPERTIES"></span>**GameExplorerSetMSIProperties**</span></span>
</dt> <dd>

<span data-ttu-id="996cd-150">Configura las propiedades de CustomActionData para las acciones de una instalación personalizada diferida de MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-150">Configures the CustomActionData properties for the actions of an MSI deferred custom installation.</span></span> <span data-ttu-id="996cd-151">El uso de esta función se describe con más detalle más adelante en este artículo.</span><span class="sxs-lookup"><span data-stu-id="996cd-151">Usage of this function is described in detail later in this article.</span></span>

</dd> <dt>

<span data-ttu-id="996cd-152"><span id="GameExplorerInstallUsingMSI"></span><span id="gameexplorerinstallusingmsi"></span><span id="GAMEEXPLORERINSTALLUSINGMSI"></span>**GameExplorerInstallUsingMSI**</span><span class="sxs-lookup"><span data-stu-id="996cd-152"><span id="GameExplorerInstallUsingMSI"></span><span id="gameexplorerinstallusingmsi"></span><span id="GAMEEXPLORERINSTALLUSINGMSI"></span>**GameExplorerInstallUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="996cd-153">Agrega un juego al explorador de juegos. para su uso durante la instalación de una acción personalizada MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-153">Adds a game to Games Explorer; for use during an MSI custom action installation.</span></span>

</dd> <dt>

<span data-ttu-id="996cd-154"><span id="GameExplorerUninstallUsingMSI"></span><span id="gameexploreruninstallusingmsi"></span><span id="GAMEEXPLORERUNINSTALLUSINGMSI"></span>**GameExplorerUninstallUsingMSI**</span><span class="sxs-lookup"><span data-stu-id="996cd-154"><span id="GameExplorerUninstallUsingMSI"></span><span id="gameexploreruninstallusingmsi"></span><span id="GAMEEXPLORERUNINSTALLUSINGMSI"></span>**GameExplorerUninstallUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="996cd-155">Quitar un juego del explorador de juegos; para su uso durante la instalación de una acción personalizada MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-155">Remove a game from Games Explorer; for use during an MSI custom action installation.</span></span>

</dd> </dl>

<span data-ttu-id="996cd-156">Estas funciones se explican con más detalle en el encabezado GameUXInstallHelper. h.</span><span class="sxs-lookup"><span data-stu-id="996cd-156">These functions are further explained in the GameUXInstallHelper.h header.</span></span>

## <a name="integration-process"></a><span data-ttu-id="996cd-157">Proceso de integración</span><span class="sxs-lookup"><span data-stu-id="996cd-157">Integration Process</span></span>

<span data-ttu-id="996cd-158">Una vez que se han agregado el GDF y los archivos relacionados a un recurso binario, es posible integrar el juego con el explorador de juegos.</span><span class="sxs-lookup"><span data-stu-id="996cd-158">Once the GDF and related files have been added to a binary resource, it is then possible to integrate the game with Games Explorer.</span></span> <span data-ttu-id="996cd-159">El uso de **GameUXInstallHelper** simplificará el proceso de integración.</span><span class="sxs-lookup"><span data-stu-id="996cd-159">Using **GameUXInstallHelper** will simplify the integration process.</span></span> <span data-ttu-id="996cd-160">Para registrar el juego con el explorador de juegos, llame a **GameExplorerInstall** con una ruta de acceso al archivo binario GDF, una ruta de acceso completa a la carpeta donde está instalado el juego y el ámbito de instalación.</span><span class="sxs-lookup"><span data-stu-id="996cd-160">To register the game with Games Explorer, call the **GameExplorerInstall** with a path to the GDF binary, a full path to the folder where the game is installed, and the installation scope.</span></span> <span data-ttu-id="996cd-161">Para quitar el registro del juego, llame a **GameExplorerUninstall** con una ruta de acceso al archivo binario GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-161">To remove the game's registration, call **GameExplorerUninstall** with a path to the GDF binary.</span></span>

<span data-ttu-id="996cd-162">Tenga en cuenta que el proceso de eliminación solo quita una instalación única.</span><span class="sxs-lookup"><span data-stu-id="996cd-162">Note that the removal process only removes one unique installation.</span></span> <span data-ttu-id="996cd-163">Si se ha instalado un juego varias veces, este proceso debe repetirse para cada instalación única.</span><span class="sxs-lookup"><span data-stu-id="996cd-163">If a game has been installed multiple times, this process must be repeated for each unique installation.</span></span>

## <a name="games-explorer-tasks"></a><span data-ttu-id="996cd-164">Tareas del explorador de juegos</span><span class="sxs-lookup"><span data-stu-id="996cd-164">Games Explorer Tasks</span></span>

<span data-ttu-id="996cd-165">Las tareas del explorador de juegos aparecerán en el menú contextual de un elemento en el explorador de juegos.</span><span class="sxs-lookup"><span data-stu-id="996cd-165">Games Explorer tasks will appear in the context menu of an item in Games Explorer.</span></span> <span data-ttu-id="996cd-166">Las tareas se dividen en tareas de reproducción y tareas de soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="996cd-166">Tasks are divided into play tasks and support tasks.</span></span> <span data-ttu-id="996cd-167">Las tareas de reproducción inician un juego en un modo determinado, mientras que las tareas de soporte técnico sirven para cualquier otro propósito, como la vinculación a sitios Web.</span><span class="sxs-lookup"><span data-stu-id="996cd-167">Play tasks launch a game into a particular mode, while support tasks serve any other purpose, including linking to web sites.</span></span>

<span data-ttu-id="996cd-168">En Windows Vista, las tareas son simplemente accesos directos que se encuentran en carpetas específicas.</span><span class="sxs-lookup"><span data-stu-id="996cd-168">In Windows Vista, tasks are simply shortcuts that are located in specific folders.</span></span> <span data-ttu-id="996cd-169">Las tareas de reproducción y las tareas de soporte se almacenan en carpetas con los nombres correspondientes PlayTasks y SupportTasks.</span><span class="sxs-lookup"><span data-stu-id="996cd-169">Play tasks and support tasks are stored in folders with the corresponding names PlayTasks and SupportTasks.</span></span> <span data-ttu-id="996cd-170">GameUXInstallHelper puede leer la información de las tareas del juego desde el archivo binario GDF y crear todos los accesos directos automáticamente.</span><span class="sxs-lookup"><span data-stu-id="996cd-170">GameUXInstallHelper can read the game's task information from the GDF binary file and create all of the shortcuts automatically.</span></span>

<span data-ttu-id="996cd-171">En Windows 7, los accesos directos a las tareas no son necesarios, porque el explorador de juegos obtiene toda la información de la tarea directamente del archivo binario GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-171">In Windows 7, the shortcuts to the tasks are not needed, because Games Explorer obtains all of the task information directly from the GDF binary file.</span></span>

## <a name="integrating-into-installscript"></a><span data-ttu-id="996cd-172">Integración en InstallScript</span><span class="sxs-lookup"><span data-stu-id="996cd-172">Integrating into InstallScript</span></span>

<span data-ttu-id="996cd-173">La llamada a las API del explorador de juegos desde el InstallScript de InstallShield se facilita mediante el ejemplo GameUXInstallHelper.</span><span class="sxs-lookup"><span data-stu-id="996cd-173">Calling Games Explorer APIs from InstallShield's InstallScript is made easy by using the GameUXInstallHelper sample.</span></span> <span data-ttu-id="996cd-174">Los pasos necesarios para la integración con InstallShield son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="996cd-174">The steps required to integrate with InstallShield are as follows:</span></span>

1.  <span data-ttu-id="996cd-175">Abra un proyecto de InstallScript en el editor de InstallShield.</span><span class="sxs-lookup"><span data-stu-id="996cd-175">Open an InstallScript project in the InstallShield editor.</span></span>
2.  <span data-ttu-id="996cd-176">Agregue GameUXInstallHelper.dll al proyecto que se va a instalar en el directorio de destino.</span><span class="sxs-lookup"><span data-stu-id="996cd-176">Add GameUXInstallHelper.dll to the project to be installed to the target directory.</span></span>

    <span data-ttu-id="996cd-177">**Para agregar GameUXInstallHelper.dll a un proyecto de InstallScript:**</span><span class="sxs-lookup"><span data-stu-id="996cd-177">**To add GameUXInstallHelper.dll to an InstallScript project:**</span></span>

    1.  <span data-ttu-id="996cd-178">En la pestaña **Diseñador de instalación** , haga clic en datos de la **aplicación** en el panel de navegación de la izquierda.</span><span class="sxs-lookup"><span data-stu-id="996cd-178">On the **Installation Designer** tab, click **Application Data** in the navigation pane on the left.</span></span>
    2.  <span data-ttu-id="996cd-179">Haga clic en **archivos y carpetas** y busque en **las carpetas del equipo de origen** para buscar GameUXInstallerHelper.dll en **los archivos del equipo de origen**.</span><span class="sxs-lookup"><span data-stu-id="996cd-179">Click **Files and Folders** and browse in **Source computer's folders** to locate GameUXInstallerHelper.dll in **Source computer's files**.</span></span>

        <span data-ttu-id="996cd-180">La ubicación predeterminada para GameUXInstallerHelper.dll es DirectX SDK root \\ Samples \\ C++ \\ Misc \\ bin \\ x86.</span><span class="sxs-lookup"><span data-stu-id="996cd-180">The default location for GameUXInstallerHelper.dll is DirectX SDK root\\Samples\\C++\\Misc\\Bin\\x86.</span></span>

    3.  <span data-ttu-id="996cd-181">En **carpetas del equipo de destino**, haga clic en **carpeta de destino** de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="996cd-181">Under **Destination computer's folders**, click **Application Target Folder**.</span></span>
    4.  <span data-ttu-id="996cd-182">Arrastre GameUXInstallerHelper.dll desde **los archivos del equipo de origen** a **los archivos del equipo de destino**.</span><span class="sxs-lookup"><span data-stu-id="996cd-182">Drag GameUXInstallerHelper.dll from **Source computer's files** to **Destination computer's files**.</span></span>

3.  <span data-ttu-id="996cd-183">En el explorador de InstallScript, haga clic en el archivo InstallScript (normalmente Setup. RUL) que llama a la función DLL.</span><span class="sxs-lookup"><span data-stu-id="996cd-183">In the InstallScript explorer, click the InstallScript file (usually setup.rul) that calls the DLL function.</span></span>
4.  <span data-ttu-id="996cd-184">Pegue el siguiente InstallScript en el archivo:</span><span class="sxs-lookup"><span data-stu-id="996cd-184">Paste the following InstallScript into the file:</span></span>

    ``` syntax
    typedef GUID
    begin
    LONG  Data1;
    SHORT Data2;
    SHORT Data3;
    CHAR  Data4(8);
    end;

    prototype LONG GameUXInstallHelper.GameExplorerInstallW(WSTRING, WSTRING, NUMBER);
    prototype LONG GameUXInstallHelper.GameExplorerUninstallW(WSTRING);

    function OnMoved()

    WSTRING gdfbin[256];
    WSTRING path[256];
    NUMBER scope;

    begin

    if !MAINTENANCE then

    UseDLL( TARGETDIR ^ "GameUXInstallHelper.dll" );
    UseDLL( WINSYSDIR ^ "OLE32.dll" );

    path = TARGETDIR;
    gdfbin = TARGETDIR ^ "bin\\ExampleGame.exe";  // TODO: Change this to point to binary containing the GDF

    if ALLUSERS == 1 then
    scope = 3;
    else
    scope = 2;
    endif;

    GameUXInstallHelper.GameExplorerInstallW( gdfbin, path, scope);

    UnUseDLL( TARGETDIR ^ "GameUXInstallHelper.dll" );
    UnUseDLL( WINSYSDIR ^ "OLE32.dll" );

    endif;

    end;

    function OnMoving()

    WSTRING gdfbin[256];

    begin

    if MAINTENANCE && UNINST != "" then

    UseDLL( TARGETDIR ^ "GameUXInstallHelper.dll" );
    UseDLL( WINSYSDIR ^ "OLE32.dll" );

    gdfbin = path ^ "bin\\ExampleGame.exe";  // TODO: Change this to point to binary containing the GDF

    GameUXInstallHelper.GameExplorerUninstallW(gdfbin);
    UnUseDLL( TARGETDIR ^ "GameUXInstallHelper.dll" );
    UnUseDLL( WINSYSDIR ^ "OLE32.dll" );

    endif;

    end;
    ```

## <a name="integrating-into-an-msi-package"></a><span data-ttu-id="996cd-185">Integración en un paquete MSI</span><span class="sxs-lookup"><span data-stu-id="996cd-185">Integrating into an MSI Package</span></span>

<span data-ttu-id="996cd-186">La siguiente es una descripción de alto nivel de los pasos necesarios para llamar a las API del explorador de juegos mediante acciones personalizadas de MSI:</span><span class="sxs-lookup"><span data-stu-id="996cd-186">The following is a high-level description of the steps required to call the Games Explorer APIs using MSI custom actions:</span></span>

1.  <span data-ttu-id="996cd-187">Agregue una propiedad a la tabla de propiedades MSI denominada "RelativePathToGDF" que contenga la ruta de acceso relativa al archivo binario GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-187">Add a property to the MSI Property table called "RelativePathToGDF" containing the relative path to the GDF binary.</span></span>
2.  <span data-ttu-id="996cd-188">Después de la acción CostFinalize, llame a la función **SetMSIGameExplorerProperties** de GameUXInstallHelper dll en una acción personalizada inmediata para establecer las propiedades MSI adecuadas para las demás acciones personalizadas.</span><span class="sxs-lookup"><span data-stu-id="996cd-188">After the CostFinalize action, call the GameUXInstallHelper DLL function **SetMSIGameExplorerProperties** in an immediate custom action to set the appropriate MSI properties for the other custom actions.</span></span>
3.  <span data-ttu-id="996cd-189">Tras la instalación, desencadene una acción personalizada diferida después de la acción InstallFiles que llama a la función **AddToGameExplorerUsingMSI** de GameUXInstallHelper dll.</span><span class="sxs-lookup"><span data-stu-id="996cd-189">Upon installation, trigger a deferred custom action after the InstallFiles action that calls the GameUXInstallHelper DLL function **AddToGameExplorerUsingMSI**.</span></span> <span data-ttu-id="996cd-190">Si la instalación es para todos los usuarios, la acción personalizada debe establecer la marca msidbCustomActionTypeNoImpersonate; de lo contrario, no debe establecer esta marca.</span><span class="sxs-lookup"><span data-stu-id="996cd-190">If the installation is for all users, then the custom action must set the flag msidbCustomActionTypeNoImpersonate; otherwise, it must not set this flag.</span></span> <span data-ttu-id="996cd-191">Por lo tanto, se definen dos acciones personalizadas prácticamente idénticas: GameUXAddAsAdmin y GameUXAddAsCurUser.</span><span class="sxs-lookup"><span data-stu-id="996cd-191">Therefore, two nearly identical custom actions are defined: GameUXAddAsAdmin and GameUXAddAsCurUser.</span></span>
4.  <span data-ttu-id="996cd-192">Tras quitar la instalación, desencadene una acción personalizada diferida antes de la acción RemoveFiles que llama a la función GameUXInstallHelper DLL **RemoveFromGameExplorerUsingMSI**.</span><span class="sxs-lookup"><span data-stu-id="996cd-192">Upon removal of the installation, trigger a deferred custom action before the RemoveFiles action that calls the GameUXInstallHelper DLL function **RemoveFromGameExplorerUsingMSI**.</span></span> <span data-ttu-id="996cd-193">Si la instalación fue para todos los usuarios, la acción personalizada debe establecer la marca msidbCustomActionTypeNoImpersonate; de lo contrario, no debe establecer esta marca.</span><span class="sxs-lookup"><span data-stu-id="996cd-193">If the installation was for all users, then the custom action must set the flag msidbCustomActionTypeNoImpersonate; otherwise, it must not set this flag.</span></span> <span data-ttu-id="996cd-194">Por lo tanto, se definen dos acciones personalizadas prácticamente idénticas: GameUXRemoveAsAdmin y GameUXRemoveAsCurUser.</span><span class="sxs-lookup"><span data-stu-id="996cd-194">Therefore, two nearly identical custom actions are defined: GameUXRemoveAsAdmin and GameUXRemoveAsCurUser.</span></span>
5.  <span data-ttu-id="996cd-195">Defina las acciones personalizadas de reversión para controlar el caso en el que el usuario cancela la instalación o eliminación después de que ya se haya producido una de estas acciones personalizadas.</span><span class="sxs-lookup"><span data-stu-id="996cd-195">Define rollback custom actions to handle the case where the user cancels installing or removing after one of the these custom actions has already happened.</span></span> <span data-ttu-id="996cd-196">Esto da como resultado cuatro acciones personalizadas adicionales: GameUXRollBackAddAsAdmin, GameUXRollBackAddAsCurUser, GameUXRollBackRemoveAsAdmin y GameUXRollBackRemoveAsCurUser.</span><span class="sxs-lookup"><span data-stu-id="996cd-196">This results in an additional 4 custom actions: GameUXRollBackAddAsAdmin, GameUXRollBackAddAsCurUser, GameUXRollBackRemoveAsAdmin, and GameUXRollBackRemoveAsCurUser.</span></span>

<span data-ttu-id="996cd-197">Este procedimiento se describe en detalle en las siguientes instrucciones, que describen un proceso que se puede realizar mediante un editor MSI, como el editor orca que se encuentra en el SDK de la plataforma.</span><span class="sxs-lookup"><span data-stu-id="996cd-197">This procedure is described in detail in the following instructions, which describe a process that can be done using an MSI editor, such as the Orca editor found in the Platform SDK.</span></span> <span data-ttu-id="996cd-198">Algunos editores de MSI tienen asistentes que simplifican algunos de estos pasos de configuración.</span><span class="sxs-lookup"><span data-stu-id="996cd-198">Some MSI editors have wizards which simplify some of these configuration steps.</span></span>

<span data-ttu-id="996cd-199">**Para configurar un paquete MSI para la integración con el explorador de juegos**</span><span class="sxs-lookup"><span data-stu-id="996cd-199">**To configure an MSI package for integration with Games Explorer**</span></span>

1.  <span data-ttu-id="996cd-200">Abra el paquete MSI en orca.</span><span class="sxs-lookup"><span data-stu-id="996cd-200">Open the MSI package in Orca.</span></span>
2.  <span data-ttu-id="996cd-201">Agregue la fila que se muestra en la tabla siguiente a la tabla **binaria** del paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-201">Add the row shown in the following table to the **Binary** table in the MSI package.</span></span> 

    | <span data-ttu-id="996cd-202">Nombre</span><span class="sxs-lookup"><span data-stu-id="996cd-202">Name</span></span>   | <span data-ttu-id="996cd-203">Datos</span><span class="sxs-lookup"><span data-stu-id="996cd-203">Data</span></span>                                          |
    |--------|-----------------------------------------------|
    | <span data-ttu-id="996cd-204">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-204">GAMEUX</span></span> | <span data-ttu-id="996cd-205">Ruta de acceso al archivo DLL \\GameUXInstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="996cd-205">file path to the DLL\\GameUXInstallHelper.dll</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="996cd-206">Este archivo se incrustará en el paquete MSI, por lo que debe realizar este paso cada vez que vuelva a compilar GameUXInstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="996cd-206">This file will be embedded in the MSI package, so you must do this step every time you recompile GameUXInstallHelper.dll.</span></span>

     

3.  <span data-ttu-id="996cd-207">Agregue las filas que se muestran en la tabla siguiente a la tabla **CustomAction** en el paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-207">Add the rows shown in the following table to the **CustomAction** table in the MSI package.</span></span>

    | <span data-ttu-id="996cd-208">Acción</span><span class="sxs-lookup"><span data-stu-id="996cd-208">Action</span></span>                        | <span data-ttu-id="996cd-209">Tipo</span><span class="sxs-lookup"><span data-stu-id="996cd-209">Type</span></span>                                                                                                                                                                                                   | <span data-ttu-id="996cd-210">Source</span><span class="sxs-lookup"><span data-stu-id="996cd-210">Source</span></span> | <span data-ttu-id="996cd-211">Destino</span><span class="sxs-lookup"><span data-stu-id="996cd-211">Target</span></span>                         |
    |-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------|--------------------------------|
    | <span data-ttu-id="996cd-212">GameUXSetMSIProperties</span><span class="sxs-lookup"><span data-stu-id="996cd-212">GameUXSetMSIProperties</span></span>        | <span data-ttu-id="996cd-213">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span><span class="sxs-lookup"><span data-stu-id="996cd-213">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                                                        | <span data-ttu-id="996cd-214">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-214">GAMEUX</span></span> | <span data-ttu-id="996cd-215">SetMSIGameExplorerProperties</span><span class="sxs-lookup"><span data-stu-id="996cd-215">SetMSIGameExplorerProperties</span></span>   |
    | <span data-ttu-id="996cd-216">GameUXAddAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-216">GameUXAddAsAdmin</span></span>              | <span data-ttu-id="996cd-217">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="996cd-217">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="996cd-218">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-218">GAMEUX</span></span> | <span data-ttu-id="996cd-219">AddToGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-219">AddToGameExplorerUsingMSI</span></span>      |
    | <span data-ttu-id="996cd-220">GameUXAddAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-220">GameUXAddAsCurUser</span></span>            | <span data-ttu-id="996cd-221">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript = 1089</span><span class="sxs-lookup"><span data-stu-id="996cd-221">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript = 1089</span></span>                                                                      | <span data-ttu-id="996cd-222">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-222">GAMEUX</span></span> | <span data-ttu-id="996cd-223">AddToGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-223">AddToGameExplorerUsingMSI</span></span>      |
    | <span data-ttu-id="996cd-224">GameUXRollBackAddAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-224">GameUXRollBackAddAsAdmin</span></span>      | <span data-ttu-id="996cd-225">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span><span class="sxs-lookup"><span data-stu-id="996cd-225">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="996cd-226">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-226">GAMEUX</span></span> | <span data-ttu-id="996cd-227">RemoveFromGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-227">RemoveFromGameExplorerUsingMSI</span></span> |
    | <span data-ttu-id="996cd-228">GameUXRollBackAddAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-228">GameUXRollBackAddAsCurUser</span></span>    | <span data-ttu-id="996cd-229">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript = 1345</span><span class="sxs-lookup"><span data-stu-id="996cd-229">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript = 1345</span></span>                                      | <span data-ttu-id="996cd-230">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-230">GAMEUX</span></span> | <span data-ttu-id="996cd-231">RemoveFromGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-231">RemoveFromGameExplorerUsingMSI</span></span> |
    | <span data-ttu-id="996cd-232">GameUXRemoveAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-232">GameUXRemoveAsAdmin</span></span>           | <span data-ttu-id="996cd-233">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="996cd-233">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="996cd-234">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-234">GAMEUX</span></span> | <span data-ttu-id="996cd-235">RemoveFromGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-235">RemoveFromGameExplorerUsingMSI</span></span> |
    | <span data-ttu-id="996cd-236">GameUXRemoveAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-236">GameUXRemoveAsCurUser</span></span>         | <span data-ttu-id="996cd-237">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript = 1089</span><span class="sxs-lookup"><span data-stu-id="996cd-237">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript = 1089</span></span>                                                                      | <span data-ttu-id="996cd-238">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-238">GAMEUX</span></span> | <span data-ttu-id="996cd-239">RemoveFromGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-239">RemoveFromGameExplorerUsingMSI</span></span> |
    | <span data-ttu-id="996cd-240">GameUXRollBackRemoveAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-240">GameUXRollBackRemoveAsAdmin</span></span>   | <span data-ttu-id="996cd-241">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span><span class="sxs-lookup"><span data-stu-id="996cd-241">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="996cd-242">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-242">GAMEUX</span></span> | <span data-ttu-id="996cd-243">AddToGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-243">AddToGameExplorerUsingMSI</span></span>      |
    | <span data-ttu-id="996cd-244">GameUXRollBackRemoveAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-244">GameUXRollBackRemoveAsCurUser</span></span> | <span data-ttu-id="996cd-245">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript = 1345</span><span class="sxs-lookup"><span data-stu-id="996cd-245">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript = 1345</span></span>                                      | <span data-ttu-id="996cd-246">GAMEUX</span><span class="sxs-lookup"><span data-stu-id="996cd-246">GAMEUX</span></span> | <span data-ttu-id="996cd-247">AddToGameExplorerUsingMSI</span><span class="sxs-lookup"><span data-stu-id="996cd-247">AddToGameExplorerUsingMSI</span></span>      |

    

     

4.  <span data-ttu-id="996cd-248">Agregue los valores que se muestran para Action, condition y Sequence en la tabla siguiente a la tabla **InstallExecuteSequence** del paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-248">Add the values shown for Action, Condition, and Sequence in the following table to the **InstallExecuteSequence** table in the MSI package.</span></span>

    | <span data-ttu-id="996cd-249">Acción</span><span class="sxs-lookup"><span data-stu-id="996cd-249">Action</span></span>                        | <span data-ttu-id="996cd-250">Condición</span><span class="sxs-lookup"><span data-stu-id="996cd-250">Condition</span></span>                      | <span data-ttu-id="996cd-251">Secuencia</span><span class="sxs-lookup"><span data-stu-id="996cd-251">Sequence</span></span> | <span data-ttu-id="996cd-252">Notas</span><span class="sxs-lookup"><span data-stu-id="996cd-252">Notes</span></span>                                                                                                                                                                                            |
    |-------------------------------|--------------------------------|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="996cd-253">GameUXSetMSIProperties</span><span class="sxs-lookup"><span data-stu-id="996cd-253">GameUXSetMSIProperties</span></span>        |                                | <span data-ttu-id="996cd-254">1015</span><span class="sxs-lookup"><span data-stu-id="996cd-254">1015</span></span>     | <span data-ttu-id="996cd-255">El número de secuencia coloca la acción poco después de CostFinalize.</span><span class="sxs-lookup"><span data-stu-id="996cd-255">The sequence number places the action soon after CostFinalize.</span></span>                                                                                                                                   |
    | <span data-ttu-id="996cd-256">GameUXAddAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-256">GameUXAddAsAdmin</span></span>              | <span data-ttu-id="996cd-257">NO instalado y ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-257">NOT Installed AND ALLUSERS</span></span>     | <span data-ttu-id="996cd-258">4003</span><span class="sxs-lookup"><span data-stu-id="996cd-258">4003</span></span>     | <span data-ttu-id="996cd-259">Esta acción personalizada solo se producirá durante una instalación nueva para todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="996cd-259">This custom action will only happen during a fresh installation for all users.</span></span> <span data-ttu-id="996cd-260">El número de secuencia coloca la acción después de InstallFiles y después de la reversión.</span><span class="sxs-lookup"><span data-stu-id="996cd-260">The sequence number places the action after InstallFiles and after the rollbacks.</span></span>                                 |
    | <span data-ttu-id="996cd-261">GameUXAddAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-261">GameUXAddAsCurUser</span></span>            | <span data-ttu-id="996cd-262">NO está instalado y no es ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-262">NOT Installed AND NOT ALLUSERS</span></span> | <span data-ttu-id="996cd-263">4004</span><span class="sxs-lookup"><span data-stu-id="996cd-263">4004</span></span>     | <span data-ttu-id="996cd-264">Esta acción personalizada solo se producirá durante una instalación nueva para el usuario actual.</span><span class="sxs-lookup"><span data-stu-id="996cd-264">This custom action will only happen during a fresh installation for the current user only.</span></span> <span data-ttu-id="996cd-265">El número de secuencia coloca la acción después de InstallFiles y después de la reversión.</span><span class="sxs-lookup"><span data-stu-id="996cd-265">The sequence number places the action after InstallFiles and after the rollbacks.</span></span>                     |
    | <span data-ttu-id="996cd-266">GameUXRollBackAddAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-266">GameUXRollBackAddAsAdmin</span></span>      | <span data-ttu-id="996cd-267">NO instalado y ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-267">NOT Installed AND ALLUSERS</span></span>     | <span data-ttu-id="996cd-268">4001</span><span class="sxs-lookup"><span data-stu-id="996cd-268">4001</span></span>     | <span data-ttu-id="996cd-269">Esta acción personalizada solo se producirá cuando se cancele una instalación nueva para todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="996cd-269">This custom action will only happen when a fresh installation for all users is cancelled.</span></span> <span data-ttu-id="996cd-270">El número de secuencia coloca la acción después de InstallFiles y antes de agregar la acción personalizada.</span><span class="sxs-lookup"><span data-stu-id="996cd-270">The sequence number places the action after InstallFiles and before the Add custom action.</span></span>             |
    | <span data-ttu-id="996cd-271">GameUXRollBackAddAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-271">GameUXRollBackAddAsCurUser</span></span>    | <span data-ttu-id="996cd-272">NO está instalado y no es ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-272">NOT Installed AND NOT ALLUSERS</span></span> | <span data-ttu-id="996cd-273">4002</span><span class="sxs-lookup"><span data-stu-id="996cd-273">4002</span></span>     | <span data-ttu-id="996cd-274">Esta acción personalizada solo se producirá cuando se cancele una instalación nueva para el usuario actual.</span><span class="sxs-lookup"><span data-stu-id="996cd-274">This custom action will only happen when a fresh installation for the current user only is cancelled.</span></span> <span data-ttu-id="996cd-275">El número de secuencia coloca la acción después de InstallFiles y antes de agregar la acción personalizada.</span><span class="sxs-lookup"><span data-stu-id="996cd-275">The sequence number places the action after InstallFiles and before the Add custom action.</span></span> |
    | <span data-ttu-id="996cd-276">GameUXRemoveAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-276">GameUXRemoveAsAdmin</span></span>           | <span data-ttu-id="996cd-277">QUITAR ~ = "ALL" Y ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-277">REMOVE~="ALL" AND ALLUSERS</span></span>     | <span data-ttu-id="996cd-278">3452</span><span class="sxs-lookup"><span data-stu-id="996cd-278">3452</span></span>     | <span data-ttu-id="996cd-279">Esta acción personalizada solo se producirá durante la eliminación de todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="996cd-279">This custom action will only happen during removal for all users.</span></span> <span data-ttu-id="996cd-280">El número de secuencia coloca la acción directamente antes de RemoveFiles y después de la reversión.</span><span class="sxs-lookup"><span data-stu-id="996cd-280">The sequence number places the action directly before RemoveFiles and after the rollbacks.</span></span>                                     |
    | <span data-ttu-id="996cd-281">GameUXRemoveAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-281">GameUXRemoveAsCurUser</span></span>         | <span data-ttu-id="996cd-282">QUITAR ~ = "ALL" Y NO ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-282">REMOVE~="ALL" AND NOT ALLUSERS</span></span> | <span data-ttu-id="996cd-283">3453</span><span class="sxs-lookup"><span data-stu-id="996cd-283">3453</span></span>     | <span data-ttu-id="996cd-284">Esta acción personalizada solo se producirá durante la eliminación del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="996cd-284">This custom action will only happen during removal for the current user.</span></span> <span data-ttu-id="996cd-285">El número de secuencia coloca la acción directamente antes de RemoveFiles y después de la reversión.</span><span class="sxs-lookup"><span data-stu-id="996cd-285">The sequence number places the action directly before RemoveFiles and after the rollbacks.</span></span>                              |
    | <span data-ttu-id="996cd-286">GameUXRollBackRemoveAsAdmin</span><span class="sxs-lookup"><span data-stu-id="996cd-286">GameUXRollBackRemoveAsAdmin</span></span>   | <span data-ttu-id="996cd-287">QUITAR ~ = "ALL" Y ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-287">REMOVE~="ALL" AND ALLUSERS</span></span>     | <span data-ttu-id="996cd-288">3450</span><span class="sxs-lookup"><span data-stu-id="996cd-288">3450</span></span>     | <span data-ttu-id="996cd-289">Esta acción personalizada solo se producirá cuando se cancele la eliminación de todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="996cd-289">This custom action will only happen when removal for all users is cancelled.</span></span> <span data-ttu-id="996cd-290">El número de secuencia coloca la acción directamente antes de RemoveFiles y antes de la acción personalizada quitar.</span><span class="sxs-lookup"><span data-stu-id="996cd-290">The sequence number places the action directly before RemoveFiles and before the Remove custom action.</span></span>              |
    | <span data-ttu-id="996cd-291">GameUXRollBackRemoveAsCurUser</span><span class="sxs-lookup"><span data-stu-id="996cd-291">GameUXRollBackRemoveAsCurUser</span></span> | <span data-ttu-id="996cd-292">QUITAR ~ = "ALL" Y NO ALLUSERS</span><span class="sxs-lookup"><span data-stu-id="996cd-292">REMOVE~="ALL" AND NOT ALLUSERS</span></span> | <span data-ttu-id="996cd-293">3451</span><span class="sxs-lookup"><span data-stu-id="996cd-293">3451</span></span>     | <span data-ttu-id="996cd-294">Esta acción personalizada solo se producirá cuando se cancele la eliminación del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="996cd-294">This custom action will only happen when removal for the current user is cancelled.</span></span> <span data-ttu-id="996cd-295">El número de secuencia coloca la acción directamente antes de RemoveFiles y antes de la acción personalizada quitar.</span><span class="sxs-lookup"><span data-stu-id="996cd-295">The sequence number places the action directly before RemoveFiles and before the Remove custom action.</span></span>       |

    

     

5.  <span data-ttu-id="996cd-296">Agregue la fila que se muestra en la tabla siguiente a la tabla de propiedades del paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-296">Add the row shown in the following table to the Property table in the MSI package.</span></span>

    | <span data-ttu-id="996cd-297">Propiedad</span><span class="sxs-lookup"><span data-stu-id="996cd-297">Property</span></span>          | <span data-ttu-id="996cd-298">Value</span><span class="sxs-lookup"><span data-stu-id="996cd-298">Value</span></span>                                                         |
    |-------------------|---------------------------------------------------------------|
    | <span data-ttu-id="996cd-299">RelativePathToGDF</span><span class="sxs-lookup"><span data-stu-id="996cd-299">RelativePathToGDF</span></span> | <span data-ttu-id="996cd-300">\\nombre relativo de la ruta de acceso del archivo binario que contiene GDF</span><span class="sxs-lookup"><span data-stu-id="996cd-300">relative file path\\name of binary file that contains the GDF</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="996cd-301">La ubicación especificada por la ruta de acceso es relativa a la ubicación especificada por la ruta de instalación.</span><span class="sxs-lookup"><span data-stu-id="996cd-301">The location specified by the path is relative to the location specified by the installation path.</span></span> <span data-ttu-id="996cd-302">Por ejemplo, bin \\GDF.dll.</span><span class="sxs-lookup"><span data-stu-id="996cd-302">For example, bin\\GDF.dll.</span></span>

     

6.  <span data-ttu-id="996cd-303">Guarde el paquete MSI.</span><span class="sxs-lookup"><span data-stu-id="996cd-303">Save the MSI package.</span></span>

<span data-ttu-id="996cd-304">Para obtener información más detallada sobre los paquetes MSI y Windows Installer, vea [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="996cd-304">For more detailed information about MSI packages and Windows Installer, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="debugging-tips"></a><span data-ttu-id="996cd-305">Sugerencias de depuración</span><span class="sxs-lookup"><span data-stu-id="996cd-305">Debugging Tips</span></span>

<span data-ttu-id="996cd-306">A continuación se muestran algunas sugerencias para ayudar a depurar problemas al llamar a las API del explorador de juegos:</span><span class="sxs-lookup"><span data-stu-id="996cd-306">The following are some tips to help debug issues when calling Games Explorer APIs:</span></span>

### <a name="test-with-sample-code"></a><span data-ttu-id="996cd-307">Prueba con código de ejemplo</span><span class="sxs-lookup"><span data-stu-id="996cd-307">Test with sample code</span></span>

<span data-ttu-id="996cd-308">La compilación de la solución de ejemplo GameUXInstallHelper creará un GameUXInstallHelper.dll y un GDFInstall.exe.</span><span class="sxs-lookup"><span data-stu-id="996cd-308">Building the GameUXInstallHelper sample solution will create a GameUXInstallHelper.dll and a GDFInstall.exe.</span></span> <span data-ttu-id="996cd-309">La GDFInstall.exe es una aplicación de ejemplo que usa GameUXInstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="996cd-309">The GDFInstall.exe is a sample application that uses GameUXInstallHelper.dll.</span></span> <span data-ttu-id="996cd-310">Al ejecutar GDFInstall.exe se le preguntará si desea instalar o quitar un archivo binario de GDF del explorador de juegos.</span><span class="sxs-lookup"><span data-stu-id="996cd-310">Running GDFInstall.exe will prompt if you want install or remove a GDF binary from game explorer.</span></span> <span data-ttu-id="996cd-311">Puede probar el archivo binario de GDF pasándolo como el primer argumento de la línea de comandos para GDFInstall.exe.</span><span class="sxs-lookup"><span data-stu-id="996cd-311">You can test your GDF binary file by passing it in as the first command line arg to GDFInstall.exe.</span></span>

<span data-ttu-id="996cd-312">Si no tiene un archivo binario de GDF o no se puede instalar el suyo, pruebe a usar el GDF de ejemplo en el SDK de DirectX.</span><span class="sxs-lookup"><span data-stu-id="996cd-312">If you don't have a GDF binary or yours fails to install, try using the sample GDF in the DirectX SDK.</span></span> <span data-ttu-id="996cd-313">El ejemplo GDFExampleBinary se encuentra en el SDK de DirectX y es simplemente un archivo DLL que solo contiene un archivo GDF.</span><span class="sxs-lookup"><span data-stu-id="996cd-313">The GDFExampleBinary sample is found in the DirectX SDK and is just a DLL that only contains a GDF file.</span></span> <span data-ttu-id="996cd-314">También se incluye en el origen, su proyecto GDFMaker.</span><span class="sxs-lookup"><span data-stu-id="996cd-314">Also included in the source is its GDFMaker project.</span></span> <span data-ttu-id="996cd-315">Puede compilarlo y probarlo mediante GDFInstall.exe.</span><span class="sxs-lookup"><span data-stu-id="996cd-315">You can build it and test it using GDFInstall.exe.</span></span> <span data-ttu-id="996cd-316">También puede comparar su XML con el suyo para identificar exactamente dónde está el problema.</span><span class="sxs-lookup"><span data-stu-id="996cd-316">You can also compare the its XML to yours to pinpoint exactly where the issue is.</span></span>

### <a name="make-sure-that-your-game-was-removed-properly"></a><span data-ttu-id="996cd-317">Asegúrese de que el juego se ha quitado correctamente</span><span class="sxs-lookup"><span data-stu-id="996cd-317">Make sure that your game was removed properly</span></span>

<span data-ttu-id="996cd-318">Si el juego ya está instalado en el explorador de juegos, las siguientes llamadas a **IGameExplorer:: AddGame** devolverán E \_ producirá un error, por lo que debe asegurarse de que el juego no esté instalado antes de realizar las pruebas.</span><span class="sxs-lookup"><span data-stu-id="996cd-318">If the game is already installed in Games Explorer, then subsequent calls to **IGameExplorer::AddGame** will return E\_FAIL so make sure your game isn't installed before testing.</span></span> <span data-ttu-id="996cd-319">Esto también se aplica si instala GDF solo para el usuario actual e intenta instalar GDF para todos los usuarios.</span><span class="sxs-lookup"><span data-stu-id="996cd-319">This also applies if you install the GDF for only the current user and then try to install the GDF for all users.</span></span> <span data-ttu-id="996cd-320">Primero debe quitar el juego de los usuarios actuales antes de que **IGameExplorer:: AddGame** se realice correctamente.</span><span class="sxs-lookup"><span data-stu-id="996cd-320">You must first remove the game from the current users before **IGameExplorer::AddGame** will succeed.</span></span>

<span data-ttu-id="996cd-321">Si ejecuta **GDFInstall.exe enumeración**, la aplicación de ejemplo entrará en un modo diferente que enumerará todos los juegos del explorador de juegos instalados y le pedirá que los quite.</span><span class="sxs-lookup"><span data-stu-id="996cd-321">If you run **GDFInstall.exe enum**, the sample application will enter a different mode which will enumerate all of the installed Games Explorer games and prompt you to remove them.</span></span> <span data-ttu-id="996cd-322">También puede examinar y buscar en el registro en HKEY \_ local \_ Machine \\ software \\ Microsoft \\ Windows \\ CurrentVersion \\ GameUX para asegurarse de que el juego no está instalado para otro usuario del sistema.</span><span class="sxs-lookup"><span data-stu-id="996cd-322">You can also browse and search the registry in HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\GameUX to make sure that your game isn't installed for another user on the system.</span></span> <span data-ttu-id="996cd-323">Sin embargo, no modifique estos valores del registro para ningún otro propósito, ya que no se garantiza que sigan siendo compatibles en versiones futuras del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="996cd-323">However, do not alter these registry settings for any other purpose, as they are not guaranteed to remain compatible in future versions of the operating system.</span></span>

### <a name="be-sure-to-sign-using-authenticode"></a><span data-ttu-id="996cd-324">Asegúrese de firmar con Authenticode</span><span class="sxs-lookup"><span data-stu-id="996cd-324">Be sure to sign using Authenticode</span></span>

<span data-ttu-id="996cd-325">Si ha proporcionado una clasificación, pero no la ve en el explorador de juegos, asegúrese de que ha usado Authenticode para firmar el archivo ejecutable o DLL que contiene la clasificación.</span><span class="sxs-lookup"><span data-stu-id="996cd-325">If you have provided a rating, but are not seeing it in Games Explorer, make sure that you have used Authenticode to sign the executable or DLL file that contains the rating.</span></span> <span data-ttu-id="996cd-326">El explorador de juegos omite la información de clasificación en archivos sin firmar.</span><span class="sxs-lookup"><span data-stu-id="996cd-326">Games Explorer ignores ratings information in unsigned files.</span></span> <span data-ttu-id="996cd-327">Para obtener más información sobre Authenticode, consulte [firma Authenticode para desarrolladores de juegos](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="996cd-327">For more information about Authenticode, see [Authenticode Signing for Game Developers](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span></span>

### <a name="be-sure-that-parental-controls-are-available"></a><span data-ttu-id="996cd-328">Asegúrese de que los controles parentales están disponibles</span><span class="sxs-lookup"><span data-stu-id="996cd-328">Be sure that parental controls are available</span></span>

<span data-ttu-id="996cd-329">Asegúrese de que está probando controles parentales en una edición de Windows Vista que proporciona controles parentales: Home Basic, Home Premium o Ultimate.</span><span class="sxs-lookup"><span data-stu-id="996cd-329">Ensure that you are testing parental controls on an edition of Windows Vista that provides parental controls: Home Basic, Home Premium, or Ultimate.</span></span> <span data-ttu-id="996cd-330">Windows Vista Business y Windows Vista Enterprise no proporcionan controles parentales, sin embargo, si está probando en Windows Vista Ultimate y el equipo de pruebas está unido a un dominio, debe cambiar la configuración de una directiva de grupo para que el control parental sea visible.</span><span class="sxs-lookup"><span data-stu-id="996cd-330">Windows Vista Business and Windows Vista Enterprise do not provide parental controls however if you are testing on Windows Vista Ultimate, and the test computer is joined to a domain, you must change a group policy setting make parental controls visible.</span></span> <span data-ttu-id="996cd-331">Para ello, consulte [Introducción con el explorador de juegos](/previous-versions/windows/desktop/legacy/ee417682(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="996cd-331">To do this, see [Getting Started with Games Explorer](/previous-versions/windows/desktop/legacy/ee417682(v=vs.85)).</span></span>

### <a name="verify-that-tasks-are-of-the-correct-type"></a><span data-ttu-id="996cd-332">Comprobar que las tareas son del tipo correcto</span><span class="sxs-lookup"><span data-stu-id="996cd-332">Verify that tasks are of the correct type</span></span>

<span data-ttu-id="996cd-333">Si ha especificado tareas de soporte técnico que no aparecen en el explorador de juegos, compruebe que son todos los vínculos Web.</span><span class="sxs-lookup"><span data-stu-id="996cd-333">If you have specified support tasks that do not appear in Games Explorer, verify that they are all Web links.</span></span> <span data-ttu-id="996cd-334">Cualquier otra tarea de acceso directo debe crearse como tareas de reproducción.</span><span class="sxs-lookup"><span data-stu-id="996cd-334">Any other shortcut tasks must be created as play tasks.</span></span> <span data-ttu-id="996cd-335">Las tareas se describen anteriormente en este artículo en [tareas del explorador de juegos](#games-explorer-tasks).</span><span class="sxs-lookup"><span data-stu-id="996cd-335">Tasks are covered earlier in this article in [Games Explorer Tasks](#games-explorer-tasks).</span></span>

### <a name="verify-the-data-in-gdf-binary"></a><span data-ttu-id="996cd-336">Comprobar los datos en el archivo binario GDF</span><span class="sxs-lookup"><span data-stu-id="996cd-336">Verify the data in GDF binary</span></span>

<span data-ttu-id="996cd-337">GDFTrace.exe es una herramienta que se encuentra en el SDK de DirectX.</span><span class="sxs-lookup"><span data-stu-id="996cd-337">GDFTrace.exe is a tool found in the DirectX SDK.</span></span> <span data-ttu-id="996cd-338">Puede ejecutar GDFTrace.exe en el archivo binario de GDF y generará todos los metadatos de GDF contenidos en el archivo binario para cada idioma admitido para la validación rápida.</span><span class="sxs-lookup"><span data-stu-id="996cd-338">You can run GDFTrace.exe on your GDF binary and it will output all the GDF metadata contained in the binary for every supported language for quick validation.</span></span> <span data-ttu-id="996cd-339">También se muestran las advertencias sobre información que falta o está obsoleta.</span><span class="sxs-lookup"><span data-stu-id="996cd-339">It also displays any warnings about missing or outdated information.</span></span>

## <a name="summary"></a><span data-ttu-id="996cd-340">Resumen</span><span class="sxs-lookup"><span data-stu-id="996cd-340">Summary</span></span>

<span data-ttu-id="996cd-341">El explorador de juegos de Windows Vista proporciona una forma sencilla y personalizable de presentar su juego a los usuarios de Windows Vista, pero también requiere que registre el juego con el sistema durante el proceso de instalación.</span><span class="sxs-lookup"><span data-stu-id="996cd-341">Games Explorer in Windows Vista provides an easy, customizable way to present your game to users of Windows Vista, but it also requires you to register the game with the system during the installation process.</span></span> <span data-ttu-id="996cd-342">El ejemplo GameUXInstallHelper simplifica enormemente este proceso para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="996cd-342">The GameUXInstallHelper sample greatly simplifies this process for developers.</span></span>

 

 