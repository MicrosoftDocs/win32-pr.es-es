---
title: Referencias (AD DS)
description: Active Directory Domain Services mantener los datos de referencia en objetos crossRef almacenados en el contenedor de particiones (crossRefContainer) en el contenedor de configuración.
ms.assetid: e4d6cc8a-9c2c-4e0f-acca-e9ecdd5e879b
ms.tgt_platform: multiple
keywords:
- AD de referencias
- Active Directory, referencias
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f63c87fb0248d85ab20191296f9659eb58e460f6
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2020
ms.locfileid: "105656326"
---
# <a name="referrals-ad-ds"></a><span data-ttu-id="866f9-105">Referencias (AD DS)</span><span class="sxs-lookup"><span data-stu-id="866f9-105">Referrals (AD DS)</span></span>

<span data-ttu-id="866f9-106">Active Directory Domain Services mantener los datos de referencia en objetos [**crossRef**](/windows/desktop/ADSchema/c-crossref) almacenados en el contenedor de particiones ([**crossRefContainer**](/windows/desktop/ADSchema/c-crossrefcontainer)) en el contenedor de configuración.</span><span class="sxs-lookup"><span data-stu-id="866f9-106">Active Directory Domain Services maintain referral data in [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects stored in the partitions container ([**crossRefContainer**](/windows/desktop/ADSchema/c-crossrefcontainer)) in the configuration container.</span></span> <span data-ttu-id="866f9-107">En el tema [decidir dónde buscar](where-to-search.md) , las referencias se describen en el contexto de un dominio dentro de un árbol de dominios y la generación de referencias a dominios subordinados en una búsqueda de subárbol.</span><span class="sxs-lookup"><span data-stu-id="866f9-107">In the [Deciding Where to Search](where-to-search.md) topic, referrals are discussed in the context of a domain within a domain tree and the generation of referrals to subordinate domains on a subtree search.</span></span>

<span data-ttu-id="866f9-108">Active Directory Domain Services crear y mantener objetos [**crossRef**](/windows/desktop/ADSchema/c-crossref) para todos los dominios del bosque.</span><span class="sxs-lookup"><span data-stu-id="866f9-108">Active Directory Domain Services create and maintains [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects for all domains in the forest.</span></span> <span data-ttu-id="866f9-109">Además, hay objetos **crossRef** para los contenedores de configuración y de esquema.</span><span class="sxs-lookup"><span data-stu-id="866f9-109">In addition, there are **crossRef** objects for the configuration and schema containers.</span></span> <span data-ttu-id="866f9-110">Estos objetos **crossRef** se utilizan para generar referencias en respuesta a las consultas que solicitan datos sobre los objetos que existen en el bosque, pero no se incluyen en el servidor de directorio que controla la solicitud.</span><span class="sxs-lookup"><span data-stu-id="866f9-110">These **crossRef** objects are used to generate referrals in response to queries that request data about objects that exist in the forest, but not contained on the directory server handling the request.</span></span> <span data-ttu-id="866f9-111">Se denominan *referencias cruzadas internas*, porque hacen referencia a los dominios, esquemas y contenedores de configuración del bosque.</span><span class="sxs-lookup"><span data-stu-id="866f9-111">These are called *internal cross references*, because they refer to domains, schema, and configuration containers within the forest.</span></span>

<span data-ttu-id="866f9-112">Si no está habilitado el seguimiento de referencias y se realiza una búsqueda de subárbol, la búsqueda devolverá todos los objetos del dominio especificado que cumplan los criterios de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="866f9-112">If referral chasing is not enabled and a subtree search is performed, the search will return all objects within the specified domain that meet the search criteria.</span></span> <span data-ttu-id="866f9-113">La búsqueda también devolverá referencias a cualquier dominio subordinado que sea descendiente directo del dominio del servidor de directorio.</span><span class="sxs-lookup"><span data-stu-id="866f9-113">The search will also return referrals to any subordinate domains that are direct descendants of the directory server domain.</span></span> <span data-ttu-id="866f9-114">El cliente debe resolver las referencias enlazando a la ruta de acceso especificada por la referencia y enviando otra consulta.</span><span class="sxs-lookup"><span data-stu-id="866f9-114">The client must resolve the referrals by binding to the path specified by the referral and submitting another query.</span></span>

<span data-ttu-id="866f9-115">Si está activado el seguimiento de referencia y se realiza una búsqueda de subárbol, la API de LDAP subyacente intentará enlazar automáticamente con cualquier referencia y agregar los resultados de la búsqueda al conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="866f9-115">If referral chasing is turned on and a subtree search is performed, the underlying LDAP API will automatically attempt to bind to any referrals and add the search results to the result set.</span></span> <span data-ttu-id="866f9-116">En la mayoría de los casos, el seguimiento de la referencia será transparente para el autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="866f9-116">In most cases, the referral chasing will be transparent to the caller.</span></span> <span data-ttu-id="866f9-117">Si la referencia es a un objeto de un dominio o bosque diferente, la API de LDAP subyacente intentará utilizar las credenciales actuales para enlazar con el destino de la referencia.</span><span class="sxs-lookup"><span data-stu-id="866f9-117">If the referral is to an object in a different domain or forest, the underlying LDAP API will attempt to use the current credentials to bind to the target of the referral.</span></span> <span data-ttu-id="866f9-118">Si esto se realiza correctamente, el seguimiento de la referencia será transparente.</span><span class="sxs-lookup"><span data-stu-id="866f9-118">If this is successful, the referral chasing will be transparent.</span></span> <span data-ttu-id="866f9-119">Si no se realiza correctamente, se devolverá el código de error de referencia y de referencia.</span><span class="sxs-lookup"><span data-stu-id="866f9-119">If this is not successful, the referral and a referral error code will be returned.</span></span>

<span data-ttu-id="866f9-120">Para obtener más información sobre la configuración de las preferencias de búsqueda para el seguimiento de referencias, vea [especificar otras opciones de búsqueda](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="866f9-120">For more information about setting the referral chasing search preference, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span>

<span data-ttu-id="866f9-121">Además de las propiedades [**dnsRoot**](/windows/desktop/ADSchema/a-dnsroot) (nombre DNS del dominio) y [**NCName**](/windows/desktop/ADSchema/a-ncname) (nombre distintivo para el dominio), el objeto [**crossRef**](/windows/desktop/ADSchema/c-crossref) también contiene el **nETBIOSName** (nombre NetBIOS del dominio) y **trustParent** (nombre distintivo del objeto **crossRef** que representa las propiedades del dominio primario directo del dominio).</span><span class="sxs-lookup"><span data-stu-id="866f9-121">In addition to the [**dnsRoot**](/windows/desktop/ADSchema/a-dnsroot) (DNS name of the domain) and [**nCName**](/windows/desktop/ADSchema/a-ncname) (distinguished name for the domain) properties, the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object also contains the **nETBIOSName** (NetBIOS name of the domain) and **trustParent** (distinguished name for the **crossRef** object that represents the domain's direct parent domain) properties.</span></span>

<span data-ttu-id="866f9-122">Active Directory Domain Services también pueden tener *referencias cruzadas externas* que hacen referencia a objetos fuera del bosque.</span><span class="sxs-lookup"><span data-stu-id="866f9-122">Active Directory Domain Services can also have *external cross references* that refer to objects outside of the forest.</span></span> <span data-ttu-id="866f9-123">Un administrador debe agregar explícitamente las referencias cruzadas externas.</span><span class="sxs-lookup"><span data-stu-id="866f9-123">External cross references must be added explicitly by an administrator.</span></span> <span data-ttu-id="866f9-124">Tenga en cuenta que el servidor de destino de la referencia cruzada externa debe tener una raíz DNS; es decir, debe adherirse a RFC 2247.</span><span class="sxs-lookup"><span data-stu-id="866f9-124">Be aware that the target server of the external cross reference must have a DNS root; that is, it must adhere to RFC 2247.</span></span>

<span data-ttu-id="866f9-125">Una referencia cruzada externa hace referencia a un objeto de cualquier otro bosque, siempre que el nombre sea único en el bosque de destino.</span><span class="sxs-lookup"><span data-stu-id="866f9-125">An external cross reference refers to an object on any other forest, as long as the name is unique in the target forest.</span></span> <span data-ttu-id="866f9-126">Por ejemplo, las aplicaciones cliente LDAP que usa su empresa pueden enviar operaciones a los servidores de directorio para Fabrikam.com.</span><span class="sxs-lookup"><span data-stu-id="866f9-126">For example, LDAP client applications that are used by your company can submit operations to your directory servers for Fabrikam.com.</span></span> <span data-ttu-id="866f9-127">Cree un objeto [**crossRef**](/windows/desktop/ADSchema/c-crossref) para fabrikam.com.</span><span class="sxs-lookup"><span data-stu-id="866f9-127">You create a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object for Fabrikam.com.</span></span> <span data-ttu-id="866f9-128">Ahora, en lugar de devolver un error de objeto no encontrado, los servidores de directorio pueden devolver una referencia a un objeto en el dominio Fabrikam.com y los clientes pueden hacer el seguimiento de la referencia.</span><span class="sxs-lookup"><span data-stu-id="866f9-128">Now, instead of returning an Object Not Found error, your directory servers can return a referral to an object in the Fabrikam.com domain and the clients can chase the referral.</span></span> <span data-ttu-id="866f9-129">Por ejemplo, si tiene un objeto con el siguiente nombre distintivo:</span><span class="sxs-lookup"><span data-stu-id="866f9-129">For example, if you have an object with the following distinguished name:</span></span>


```C++
CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



<span data-ttu-id="866f9-130">Puede Agregar una referencia cruzada externa para un objeto con el nombre "ChildOfSomeObject".</span><span class="sxs-lookup"><span data-stu-id="866f9-130">You can add an external cross reference for an object with the name "ChildOfSomeObject".</span></span>


```C++
CN=ChildOfSomeObject,CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



<span data-ttu-id="866f9-131">Una búsqueda de subárbol que contenga "objeto" también devolverá una referencia a "ChildOfSomeObject".</span><span class="sxs-lookup"><span data-stu-id="866f9-131">A subtree search that contains "SomeObject" will also return a referral to "ChildOfSomeObject".</span></span> <span data-ttu-id="866f9-132">Tenga en cuenta que debe haber un servidor LDAP en la dirección especificada por la referencia (una de las propiedades del objeto [**crossRef**](/windows/desktop/ADSchema/c-crossref) ) y que este servidor LDAP debe proporcionar el espacio de nombres identificado por "ChildOfSomeObject".</span><span class="sxs-lookup"><span data-stu-id="866f9-132">Be aware that there must be an LDAP server at the address that is specified by the referral (one of the properties on the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object) and that this LDAP server must serve the namespace that is identified by "ChildOfSomeObject".</span></span>

<span data-ttu-id="866f9-133">Dado que los objetos [**crossRef**](/windows/desktop/ADSchema/c-crossref) se almacenan en el contenedor de configuración, cada controlador de dominio (DC) tiene una copia de todos los objetos **crossRef** .</span><span class="sxs-lookup"><span data-stu-id="866f9-133">Because [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects are stored in the configuration container, each domain controller (DC) has a copy of all **crossRef** objects.</span></span> <span data-ttu-id="866f9-134">Por lo tanto, cada DC contiene datos sobre cada dominio del bosque, así como sus relaciones superiores/subordinadas.</span><span class="sxs-lookup"><span data-stu-id="866f9-134">Therefore, every DC contains data about every domain in the forest as well as their superior/subordinate relationships.</span></span> <span data-ttu-id="866f9-135">Esto permite que cada controlador de dominio genere referencias a cualquier dominio del bosque y las referencias para los contenedores de dominio subordinado, de esquema o de configuración no explorados en una búsqueda de subárbol.</span><span class="sxs-lookup"><span data-stu-id="866f9-135">This enables each DC to generate referrals to any domain in the forest and referrals for unexplored subordinate domain, schema, or configuration containers on a subtree search.</span></span>

<span data-ttu-id="866f9-136">Para obtener más información sobre las referencias, vea:</span><span class="sxs-lookup"><span data-stu-id="866f9-136">For more information about referrals, see:</span></span>

-   [<span data-ttu-id="866f9-137">Cuándo se generan las referencias</span><span class="sxs-lookup"><span data-stu-id="866f9-137">When Referrals Are Generated</span></span>](when-referrals-are-generated.md)
-   [<span data-ttu-id="866f9-138">Crear una referencia externa</span><span class="sxs-lookup"><span data-stu-id="866f9-138">Creating an External Referral</span></span>](creating-an-external-referral.md)

<span data-ttu-id="866f9-139">Para obtener más información y un ejemplo de código que muestra cómo obtener el nombre distintivo del contenedor de particiones, consulte [el código de ejemplo para buscar el contenedor de particiones](example-code-for-locating-the-partitions-container.md).</span><span class="sxs-lookup"><span data-stu-id="866f9-139">For more information and a code example that shows how to obtain the distinguished name of the partitions container, see [Example Code for Locating the Partitions Container](example-code-for-locating-the-partitions-container.md).</span></span>

 

 