---
title: Efecto de origen de mapa de bits
description: Use el efecto de origen del mapa de bits para generar un ID2D1Image de un IWICBitmapSource para usarlo como entrada en un gráfico de efectos.
ms.assetid: 86646111-208A-4E6D-A28C-7B23A1742D24
keywords:
- efecto de origen de mapa de bits
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a439c94f0f520b318b3cb3511775dbec58b6e139
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/12/2020
ms.locfileid: "103905578"
---
# <a name="bitmap-source-effect"></a><span data-ttu-id="becdd-104">Efecto de origen de mapa de bits</span><span class="sxs-lookup"><span data-stu-id="becdd-104">Bitmap source effect</span></span>

<span data-ttu-id="becdd-105">Use el efecto de origen del mapa de bits para generar un [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) de un [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) para usarlo como entrada en un gráfico de efectos.</span><span class="sxs-lookup"><span data-stu-id="becdd-105">Use the bitmap source effect to generate an [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) from a [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) for use as an input in an effect graph.</span></span> <span data-ttu-id="becdd-106">Este efecto realiza el ajuste de escala y la rotación en la CPU.</span><span class="sxs-lookup"><span data-stu-id="becdd-106">This effect performs scaling and rotation on the CPU.</span></span> <span data-ttu-id="becdd-107">Opcionalmente, también puede generar un mipmap de memoria del sistema, que puede ser una optimización del rendimiento para escalar activamente imágenes muy grandes a diferentes resoluciones reducidas.</span><span class="sxs-lookup"><span data-stu-id="becdd-107">It can also optionally generate a system memory mipmap, which can be a performance optimization for actively scaling very large images at various reduced resolutions.</span></span>

> [!Note]  
> <span data-ttu-id="becdd-108">El efecto de origen del mapa de bits toma su entrada como una propiedad, no como una entrada de imagen.</span><span class="sxs-lookup"><span data-stu-id="becdd-108">The bitmap source effect takes its input as a property, not as an image input.</span></span> <span data-ttu-id="becdd-109">Debe usar el método [**SetValue**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) , no el método [**SetInput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) .</span><span class="sxs-lookup"><span data-stu-id="becdd-109">You must use the [**SetValue**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) method, not the [**SetInput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) method.</span></span> <span data-ttu-id="becdd-110">La propiedad *WicBitmapSource* es donde se especifican los datos de entrada de la imagen.</span><span class="sxs-lookup"><span data-stu-id="becdd-110">The *WicBitmapSource* property is where you specify the image input data.</span></span>

 

<span data-ttu-id="becdd-111">El CLSID para este efecto es CLSID \_ D2D1BitmapSource.</span><span class="sxs-lookup"><span data-stu-id="becdd-111">The CLSID for this effect is CLSID\_D2D1BitmapSource.</span></span>

-   [<span data-ttu-id="becdd-112">Propiedades del efecto</span><span class="sxs-lookup"><span data-stu-id="becdd-112">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="becdd-113">Modos de interpolación</span><span class="sxs-lookup"><span data-stu-id="becdd-113">Interpolation modes</span></span>](#interpolation-modes)
-   [<span data-ttu-id="becdd-114">Orientación</span><span class="sxs-lookup"><span data-stu-id="becdd-114">Orientation</span></span>](#orientation)
-   [<span data-ttu-id="becdd-115">Modos alfa</span><span class="sxs-lookup"><span data-stu-id="becdd-115">Alpha modes</span></span>](#alpha-modes)
-   [<span data-ttu-id="becdd-116">Comentarios:</span><span class="sxs-lookup"><span data-stu-id="becdd-116">Remarks</span></span>](#remarks)
-   [<span data-ttu-id="becdd-117">Requisitos</span><span class="sxs-lookup"><span data-stu-id="becdd-117">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="becdd-118">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="becdd-118">Related topics</span></span>](#related-topics)

## <a name="effect-properties"></a><span data-ttu-id="becdd-119">Propiedades del efecto</span><span class="sxs-lookup"><span data-stu-id="becdd-119">Effect properties</span></span>



| <span data-ttu-id="becdd-120">Enumeración de índice y nombre para mostrar</span><span class="sxs-lookup"><span data-stu-id="becdd-120">Display name and index enumeration</span></span>                                                          | <span data-ttu-id="becdd-121">Descripción</span><span class="sxs-lookup"><span data-stu-id="becdd-121">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="becdd-122">WicBitmapSource</span><span class="sxs-lookup"><span data-stu-id="becdd-122">WicBitmapSource</span></span><br/> <span data-ttu-id="becdd-123">D2D1 \_ BITMAPSOURCE \_ prop \_ \_ código fuente de mapa de bits WIC \_</span><span class="sxs-lookup"><span data-stu-id="becdd-123">D2D1\_BITMAPSOURCE\_PROP\_WIC\_BITMAP\_SOURCE</span></span><br/>         | <span data-ttu-id="becdd-124">Objeto [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) que contiene los datos de la imagen que se van a cargar.</span><span class="sxs-lookup"><span data-stu-id="becdd-124">The [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) containing the image data to be loaded.</span></span><br/> <span data-ttu-id="becdd-125">El tipo es [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span><span class="sxs-lookup"><span data-stu-id="becdd-125">The type is [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span></span><br/> <span data-ttu-id="becdd-126">El valor predeterminado es NULL.</span><span class="sxs-lookup"><span data-stu-id="becdd-126">The default value is NULL.</span></span><br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="becdd-127">Escala</span><span class="sxs-lookup"><span data-stu-id="becdd-127">Scale</span></span><br/> <span data-ttu-id="becdd-128">\_Escala D2D1 BITMAPSOURCE \_ prop \_</span><span class="sxs-lookup"><span data-stu-id="becdd-128">D2D1\_BITMAPSOURCE\_PROP\_SCALE</span></span><br/>                                 | <span data-ttu-id="becdd-129">La cantidad de escala en la dirección X e y.</span><span class="sxs-lookup"><span data-stu-id="becdd-129">The scale amount in the X and Y direction.</span></span> <span data-ttu-id="becdd-130">El efecto multiplica el ancho por el valor X y el alto por el valor Y.</span><span class="sxs-lookup"><span data-stu-id="becdd-130">The effect multiplies the width by the X value and the height by the Y value.</span></span> <span data-ttu-id="becdd-131">Esta propiedad es un vector D2D1 se \_ \_ define como: (escala X, escala y).</span><span class="sxs-lookup"><span data-stu-id="becdd-131">This property is a D2D1\_VECTOR\_2F defined as: (X scale, Y scale).</span></span> <span data-ttu-id="becdd-132">Las cantidades de escala son FLOAT, sin unidades y deben ser positivas o 0.</span><span class="sxs-lookup"><span data-stu-id="becdd-132">The scale amounts are FLOAT, unitless, and must be positive or 0.</span></span><br/> <span data-ttu-id="becdd-133">El tipo es D2D1 \_ Vector \_ 2F.</span><span class="sxs-lookup"><span data-stu-id="becdd-133">The type is D2D1\_VECTOR\_2F.</span></span><br/> <span data-ttu-id="becdd-134">El valor predeterminado es {1.0 f, 1.0 f}.</span><span class="sxs-lookup"><span data-stu-id="becdd-134">The default value is {1.0f, 1.0f}.</span></span><br/>                                                                           |
| <span data-ttu-id="becdd-135">InterpolationMode.</span><span class="sxs-lookup"><span data-stu-id="becdd-135">InterpolationMode.</span></span><br/> <span data-ttu-id="becdd-136">D2D1 \_ BITMAPSOURCE \_ prop ( \_ modo de interpolación) \_</span><span class="sxs-lookup"><span data-stu-id="becdd-136">D2D1\_BITMAPSOURCE\_PROP\_INTERPOLATION\_MODE</span></span><br/>      | <span data-ttu-id="becdd-137">El modo de interpolación usado para escalar la imagen.</span><span class="sxs-lookup"><span data-stu-id="becdd-137">The interpolation mode used to scale the image.</span></span> <span data-ttu-id="becdd-138">Vea [modos de interpolación](#interpolation-modes) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="becdd-138">See [Interpolation modes](#interpolation-modes) for more info.</span></span><br/> <span data-ttu-id="becdd-139">Si el modo deshabilita el mipmap, BitmapSouce almacenará en caché la imagen en la resolución determinada por las propiedades scale y EnableDPICorrection.</span><span class="sxs-lookup"><span data-stu-id="becdd-139">If the mode disables the mipmap, then BitmapSouce will cache the image at the resolution determined by the Scale and EnableDPICorrection properties.</span></span><br/> <span data-ttu-id="becdd-140">El tipo es D2D1 \_ BITMAPSOURCE \_ Interpolation \_ mode.</span><span class="sxs-lookup"><span data-stu-id="becdd-140">The type is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE.</span></span><br/> <span data-ttu-id="becdd-141">El valor predeterminado es D2D1 \_ BITMAPSOURCE \_ Interpolation \_ Mode \_ linear.</span><span class="sxs-lookup"><span data-stu-id="becdd-141">The default value is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR.</span></span><br/> |
| <span data-ttu-id="becdd-142">EnableDPICorrection</span><span class="sxs-lookup"><span data-stu-id="becdd-142">EnableDPICorrection</span></span><br/> <span data-ttu-id="becdd-143">D2D1 \_ BITMAPSOURCE \_ prop \_ habilitar \_ corrección de PPP \_</span><span class="sxs-lookup"><span data-stu-id="becdd-143">D2D1\_BITMAPSOURCE\_PROP\_ENABLE\_DPI\_CORRECTION</span></span><br/> | <span data-ttu-id="becdd-144">Si se establece en TRUE, el efecto escalará la imagen de entrada para convertir el valor de PPP indicado por [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) en el valor de PPP del contexto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="becdd-144">If you set this to TRUE, the effect will scale the input image to convert the DPI reported by [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) to the DPI of the device context.</span></span> <span data-ttu-id="becdd-145">El efecto usa el modo de interpolación que se establece con la propiedad InterpolationMode.</span><span class="sxs-lookup"><span data-stu-id="becdd-145">The effect uses the interpolation mode you set with the InterpolationMode property.</span></span> <span data-ttu-id="becdd-146">Si se establece en FALSE, el efecto usa un valor de PPP de 96,0 para la imagen de salida.</span><span class="sxs-lookup"><span data-stu-id="becdd-146">If you set this to FALSE, the effect uses a DPI of 96.0 for the output image.</span></span><br/> <span data-ttu-id="becdd-147">El tipo es BOOL.</span><span class="sxs-lookup"><span data-stu-id="becdd-147">The type is BOOL.</span></span><br/> <span data-ttu-id="becdd-148">El valor predeterminado es FALSE.</span><span class="sxs-lookup"><span data-stu-id="becdd-148">The default value is FALSE.</span></span><br/>   |
| <span data-ttu-id="becdd-149">AlphaMode</span><span class="sxs-lookup"><span data-stu-id="becdd-149">AlphaMode</span></span><br/> <span data-ttu-id="becdd-150">D2D1 \_ BITMAPSOURCE \_ prop \_ ( \_ modo alfa)</span><span class="sxs-lookup"><span data-stu-id="becdd-150">D2D1\_BITMAPSOURCE\_PROP\_ALPHA\_MODE</span></span><br/>                       | <span data-ttu-id="becdd-151">Modo alfa de la salida.</span><span class="sxs-lookup"><span data-stu-id="becdd-151">The alpha mode of the output.</span></span> <span data-ttu-id="becdd-152">Puede ser premultiplicado o recto.</span><span class="sxs-lookup"><span data-stu-id="becdd-152">This can be either premultiplied or straight.</span></span> <span data-ttu-id="becdd-153">Vea [modos alfa](#alpha-modes) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="becdd-153">See [Alpha modes](#alpha-modes) for more info.</span></span><br/> <span data-ttu-id="becdd-154">El tipo es D2D1 \_ BITMAPSOURCE \_ alpha \_ mode.</span><span class="sxs-lookup"><span data-stu-id="becdd-154">The type is D2D1\_BITMAPSOURCE\_ALPHA\_MODE.</span></span><br/> <span data-ttu-id="becdd-155">El valor predeterminado es D2D1 \_ BITMAPSOURCE \_ alpha \_ Mode \_ premultiplicado.</span><span class="sxs-lookup"><span data-stu-id="becdd-155">The default value is D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED.</span></span><br/>                                                                                                                                                              |
| <span data-ttu-id="becdd-156">Orientación</span><span class="sxs-lookup"><span data-stu-id="becdd-156">Orientation</span></span><br/> <span data-ttu-id="becdd-157">Orientación de D2D1 \_ BITMAPSOURCE \_ prop \_</span><span class="sxs-lookup"><span data-stu-id="becdd-157">D2D1\_BITMAPSOURCE\_PROP\_ORIENTATION</span></span><br/>                     | <span data-ttu-id="becdd-158">Operación de giro y/o rotación que se va a realizar en la imagen.</span><span class="sxs-lookup"><span data-stu-id="becdd-158">A flip and/or rotation operation to be performed on the image.</span></span> <span data-ttu-id="becdd-159">Vea [orientación](#orientation) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="becdd-159">See [Orientation](#orientation) for more info.</span></span><br/> <span data-ttu-id="becdd-160">El tipo es D2D1 \_ BITMAPSOURCE \_ Orientation.</span><span class="sxs-lookup"><span data-stu-id="becdd-160">The type is D2D1\_BITMAPSOURCE\_ORIENTATION.</span></span><br/> <span data-ttu-id="becdd-161">El valor predeterminado es D2D1 \_ BITMAPSOURCE \_ Orientation \_ default.</span><span class="sxs-lookup"><span data-stu-id="becdd-161">The default value is D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT.</span></span><br/>                                                                                                                                                                                 |



 

## <a name="interpolation-modes"></a><span data-ttu-id="becdd-162">Modos de interpolación</span><span class="sxs-lookup"><span data-stu-id="becdd-162">Interpolation modes</span></span>

<span data-ttu-id="becdd-163">El efecto se interpola mediante este modo cuando escala una imagen o cuando corrige el PPP.</span><span class="sxs-lookup"><span data-stu-id="becdd-163">The effect interpolates using this mode when it scales an image or when it corrects the DPI.</span></span> <span data-ttu-id="becdd-164">La CPU calcula los modos de interpolación que usa este efecto, no la GPU.</span><span class="sxs-lookup"><span data-stu-id="becdd-164">The interpolation modes this effect uses are calculated by the CPU, not the GPU.</span></span>



| <span data-ttu-id="becdd-165">Nombre</span><span class="sxs-lookup"><span data-stu-id="becdd-165">Name</span></span>                                                       | <span data-ttu-id="becdd-166">Descripción</span><span class="sxs-lookup"><span data-stu-id="becdd-166">Description</span></span>                                                                                                                                                                                                                          |
|------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="becdd-167">D2D1 \_ el \_ modo de interpolación BITMAPSOURCE \_ \_ más cercano \_</span><span class="sxs-lookup"><span data-stu-id="becdd-167">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_NEAREST\_NEIGHBOR</span></span> | <span data-ttu-id="becdd-168">Muestrea el punto único más cercano y lo usa.</span><span class="sxs-lookup"><span data-stu-id="becdd-168">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="becdd-169">No genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="becdd-169">Doesn't generate a mipmap.</span></span>                                                                                                                                                           |
| <span data-ttu-id="becdd-170">\_Modo de \_ interpolación D2D1 BITMAPSOURCE \_ \_ lineal</span><span class="sxs-lookup"><span data-stu-id="becdd-170">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR</span></span>            | <span data-ttu-id="becdd-171">Utiliza un ejemplo de cuatro puntos y una interpolación lineal.</span><span class="sxs-lookup"><span data-stu-id="becdd-171">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="becdd-172">No genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="becdd-172">Doesn't generate a mipmap.</span></span>                                                                                                                                                        |
| <span data-ttu-id="becdd-173">D2D1 \_ el \_ modo de interpolación BITMAPSOURCE \_ \_</span><span class="sxs-lookup"><span data-stu-id="becdd-173">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_CUBIC</span></span>             | <span data-ttu-id="becdd-174">Usa un kernel cúbico de ejemplo 16 para la interpolación.</span><span class="sxs-lookup"><span data-stu-id="becdd-174">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="becdd-175">No genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="becdd-175">Doesn't generate a mipmap.</span></span>                                                                                                                                                          |
| <span data-ttu-id="becdd-176">D2D1 \_ \_ modo de interpolación BITMAPSOURCE \_ \_ fant</span><span class="sxs-lookup"><span data-stu-id="becdd-176">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_FANT</span></span>              | <span data-ttu-id="becdd-177">Usa la interpolación fant de WIC, igual que la interfaz [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) .</span><span class="sxs-lookup"><span data-stu-id="becdd-177">Uses the WIC fant interpolation, the same as the [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) interface.</span></span> <span data-ttu-id="becdd-178">No genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="becdd-178">Doesn't generate a mipmap.</span></span>                                                                                       |
| <span data-ttu-id="becdd-179">D2D1 \_ BITMAPSOURCE \_ modo de interpolación \_ \_ MIP \_ lineal</span><span class="sxs-lookup"><span data-stu-id="becdd-179">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_MIPMAP\_LINEAR</span></span>    | <span data-ttu-id="becdd-180">Genera una cadena de mapas MIP en la memoria del sistema mediante la interpolación bilineal.</span><span class="sxs-lookup"><span data-stu-id="becdd-180">Generates mipmap chain in system memory using bilinear interpolation.</span></span> <span data-ttu-id="becdd-181">Para cada mipmap, el efecto se escala al múltiplo más cercano de 0,5 mediante la interpolación bilineal y, a continuación, escala la cantidad restante mediante la interpolación lineal.</span><span class="sxs-lookup"><span data-stu-id="becdd-181">For each mipmap the effect scales to the nearest multiple of 0.5 using bilinear interpolation and then scales the remaining amount using linear interpolation.</span></span> |



 

## <a name="orientation"></a><span data-ttu-id="becdd-182">Orientación</span><span class="sxs-lookup"><span data-stu-id="becdd-182">Orientation</span></span>

<span data-ttu-id="becdd-183">La propiedad Orientation se puede usar para aplicar una marca de orientación EXIF incrustada dentro de una imagen.</span><span class="sxs-lookup"><span data-stu-id="becdd-183">The Orientation property can be used to apply an EXIF orientation flag that is embedded within an image.</span></span>



| <span data-ttu-id="becdd-184">Nombre</span><span class="sxs-lookup"><span data-stu-id="becdd-184">Name</span></span>                                                                    | <span data-ttu-id="becdd-185">Descripción</span><span class="sxs-lookup"><span data-stu-id="becdd-185">Description</span></span>                                                        |
|-------------------------------------------------------------------------|--------------------------------------------------------------------|
| <span data-ttu-id="becdd-186">D2D1 \_ \_ valor predeterminado de orientación BITMAPSOURCE \_</span><span class="sxs-lookup"><span data-stu-id="becdd-186">D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT</span></span>                                | <span data-ttu-id="becdd-187">Predeterminada.</span><span class="sxs-lookup"><span data-stu-id="becdd-187">Default.</span></span> <span data-ttu-id="becdd-188">El efecto no cambia la orientación de la entrada.</span><span class="sxs-lookup"><span data-stu-id="becdd-188">The effect doesn't change the orientation of the input.</span></span>   |
| <span data-ttu-id="becdd-189">D2D1 \_ BITMAPSOURCE \_ orientación \_ horizontal voltear \_</span><span class="sxs-lookup"><span data-stu-id="becdd-189">D2D1\_BITMAPSOURCE\_ORIENTATION\_FLIP\_HORIZONTAL</span></span>                       | <span data-ttu-id="becdd-190">Voltea la imagen horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="becdd-190">Flips the image horizontally.</span></span>                                      |
| <span data-ttu-id="becdd-191">D2D1 \_ BITMAPSOURCE \_ orientación \_ \_ CLOCKWISE180</span><span class="sxs-lookup"><span data-stu-id="becdd-191">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180</span></span>                   | <span data-ttu-id="becdd-192">Gira la imagen a la derecha 180 grados.</span><span class="sxs-lookup"><span data-stu-id="becdd-192">Rotates the image clockwise 180 degrees.</span></span>                           |
| <span data-ttu-id="becdd-193">D2D1 \_ BITMAPSOURCE \_ orientación \_ girar \_ CLOCKWISE180 \_ voltear \_ horizontalmente</span><span class="sxs-lookup"><span data-stu-id="becdd-193">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="becdd-194">Gira la imagen a la derecha 180 grados y la voltea horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="becdd-194">Rotates the image clockwise 180 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="becdd-195">D2D1 \_ BITMAPSOURCE \_ orientación \_ girar \_ CLOCKWISE270 \_ voltear \_ horizontalmente</span><span class="sxs-lookup"><span data-stu-id="becdd-195">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="becdd-196">Gira la imagen a la derecha 270 grados y la voltea horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="becdd-196">Rotates the image clockwise 270 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="becdd-197">D2D1 \_ BITMAPSOURCE \_ orientación \_ \_ CLOCKWISE90</span><span class="sxs-lookup"><span data-stu-id="becdd-197">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90</span></span>                    | <span data-ttu-id="becdd-198">Gira la imagen a la derecha 90 grados.</span><span class="sxs-lookup"><span data-stu-id="becdd-198">Rotates the image clockwise 90 degrees.</span></span>                            |
| <span data-ttu-id="becdd-199">D2D1 \_ BITMAPSOURCE \_ orientación \_ girar \_ CLOCKWISE90 \_ voltear \_ horizontalmente</span><span class="sxs-lookup"><span data-stu-id="becdd-199">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90\_FLIP\_HORIZONTAL</span></span>  | <span data-ttu-id="becdd-200">Gira la imagen a la derecha 90 grados y la voltea horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="becdd-200">Rotates the image clockwise 90 degrees and flips it horizontally.</span></span>  |
| <span data-ttu-id="becdd-201">D2D1 \_ BITMAPSOURCE \_ orientación \_ \_ CLOCKWISE270</span><span class="sxs-lookup"><span data-stu-id="becdd-201">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270</span></span>                   | <span data-ttu-id="becdd-202">Gira la imagen a la derecha 270 grados.</span><span class="sxs-lookup"><span data-stu-id="becdd-202">Rotates the image clockwise 270 degrees.</span></span>                           |



 

<span data-ttu-id="becdd-203">Este fragmento de código muestra cómo convertir los valores de orientación EXIF (definidos en propkey. h) en \_ valores de orientación de D2D1 BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="becdd-203">This code snippet demonstrates how to convert from EXIF orientation values (defined in propkey.h) to D2D1\_BITMAPSOURCE\_ORIENTATION values.</span></span>


```C++
#include <propkey.h>
#include <d2d1effects.h>

D2D1_BITMAPSOURCE_ORIENTATION GetBitmapSourceOrientation(unsigned short PhotoOrientation)
{
       switch (PhotoOrientation)
       {
       case PHOTO_ORIENTATION_NORMAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       case PHOTO_ORIENTATION_FLIPHORIZONTAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE180:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180;
       case PHOTO_ORIENTATION_FLIPVERTICAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_TRANSPOSE: 
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE270:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90;
       case PHOTO_ORIENTATION_TRANSVERSE:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE90:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270;
       default:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       }
}
```



## <a name="alpha-modes"></a><span data-ttu-id="becdd-204">Modos alfa</span><span class="sxs-lookup"><span data-stu-id="becdd-204">Alpha modes</span></span>



| <span data-ttu-id="becdd-205">Nombre</span><span class="sxs-lookup"><span data-stu-id="becdd-205">Name</span></span>                                           | <span data-ttu-id="becdd-206">Descripción</span><span class="sxs-lookup"><span data-stu-id="becdd-206">Description</span></span>                                            |
|------------------------------------------------|--------------------------------------------------------|
| <span data-ttu-id="becdd-207">Premultiplicado por el \_ \_ modo alfa D2D1 BITMAPSOURCE \_ \_</span><span class="sxs-lookup"><span data-stu-id="becdd-207">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED</span></span> | <span data-ttu-id="becdd-208">La salida del efecto usa alfa premultiplicado.</span><span class="sxs-lookup"><span data-stu-id="becdd-208">The effect output uses premultiplied alpha.</span></span><br/> |
| <span data-ttu-id="becdd-209">D2D1 \_ BITMAPSOURCE \_ alpha \_ Mode \_ Straight</span><span class="sxs-lookup"><span data-stu-id="becdd-209">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_STRAIGHT</span></span>      | <span data-ttu-id="becdd-210">La salida del efecto usa alfa recto.</span><span class="sxs-lookup"><span data-stu-id="becdd-210">The effect output uses straight alpha.</span></span><br/>      |



 

## <a name="remarks"></a><span data-ttu-id="becdd-211">Observaciones</span><span class="sxs-lookup"><span data-stu-id="becdd-211">Remarks</span></span>

<span data-ttu-id="becdd-212">Para optimizar el rendimiento al usar WIC y [Direct2D](./direct2d-portal.md) juntos, debe usar [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) para convertir a un formato de píxel adecuado en función del escenario de la aplicación y la precisión nativa de la imagen.</span><span class="sxs-lookup"><span data-stu-id="becdd-212">To optimize performance when using WIC and [Direct2D](./direct2d-portal.md) together, you should use [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) to convert to an appropriate pixel format based your app s scenario and the image s native precision.</span></span>

<span data-ttu-id="becdd-213">En la mayoría de los casos, la canalización de la aplicación s [Direct2D](./direct2d-portal.md) solo requiere 8 bits por canal (BPC) de precisión, o la imagen solo proporciona una precisión de 8 bpc y, por lo tanto, debe convertir a GUID \_ WICPixelFormat32bppPBGRA.</span><span class="sxs-lookup"><span data-stu-id="becdd-213">In most cases, either your app s [Direct2D](./direct2d-portal.md) pipeline only requires 8 bits per channel (bpc) of precision, or the image only provides 8 bpc precision, and therefore you should convert to GUID\_WICPixelFormat32bppPBGRA.</span></span> <span data-ttu-id="becdd-214">Sin embargo, si desea aprovechar la precisión adicional que proporciona una imagen (por ejemplo, un archivo JPEG-XR o TIFF almacenado con una precisión superior a 8 bpc), debe usar un formato de píxel basado en RGBA.</span><span class="sxs-lookup"><span data-stu-id="becdd-214">However, if you want to take advantage of extra precision provided by an image (for example, a JPEG-XR or TIFF stored with greater than 8 bpc precision), you should use an RGBA-based pixel format.</span></span> <span data-ttu-id="becdd-215">En la tabla siguiente se proporcionan más detalles.</span><span class="sxs-lookup"><span data-stu-id="becdd-215">The below table provides more details.</span></span>



| <span data-ttu-id="becdd-216">Precisión deseada</span><span class="sxs-lookup"><span data-stu-id="becdd-216">Desired precision</span></span>   | <span data-ttu-id="becdd-217">Precisión nativa de la imagen</span><span class="sxs-lookup"><span data-stu-id="becdd-217">Native precision of the image</span></span> | <span data-ttu-id="becdd-218">Formato de píxel recomendado</span><span class="sxs-lookup"><span data-stu-id="becdd-218">Recommended pixel format</span></span>                |
|---------------------|-------------------------------|-----------------------------------------|
| <span data-ttu-id="becdd-219">8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="becdd-219">8 bits per channel</span></span>  | <span data-ttu-id="becdd-220"><= 8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="becdd-220"><= 8 bits per channel</span></span>      | <span data-ttu-id="becdd-221">GUID \_ WICPixelFormat32bppPBGRA</span><span class="sxs-lookup"><span data-stu-id="becdd-221">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="becdd-222">Lo más alto posible</span><span class="sxs-lookup"><span data-stu-id="becdd-222">As high as possible</span></span> | <span data-ttu-id="becdd-223"><= 8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="becdd-223"><= 8 bits per channel</span></span>      | <span data-ttu-id="becdd-224">GUID \_ WICPixelFormat32bppPBGRA</span><span class="sxs-lookup"><span data-stu-id="becdd-224">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="becdd-225">Lo más alto posible</span><span class="sxs-lookup"><span data-stu-id="becdd-225">As high as possible</span></span> | <span data-ttu-id="becdd-226">> 8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="becdd-226">> 8 bits per channel</span></span>       | <span data-ttu-id="becdd-227">Orden del canal RGBA, alfa premultiplicado</span><span class="sxs-lookup"><span data-stu-id="becdd-227">RGBA channel order, premultiplied alpha</span></span> |



 

<span data-ttu-id="becdd-228">Dado que muchos formatos de imagen admiten varios niveles de precisión, debe usar [**IWICBitmapSource:: GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) para obtener el formato de píxel nativo de la imagen y, a continuación, usar [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) para determinar cuántos bits por canal de precisión están disponibles para ese formato.</span><span class="sxs-lookup"><span data-stu-id="becdd-228">Because many image formats support multiple levels of precision, you should use [**IWICBitmapSource::GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) to obtain the image s native pixel format, and then use [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) to determine how many bits per channel of precision are available for that format.</span></span> <span data-ttu-id="becdd-229">Además, tenga en cuenta que no todo el hardware admite formatos de píxeles de alta precisión.</span><span class="sxs-lookup"><span data-stu-id="becdd-229">Also, note that not all hardware supports high precision pixel formats.</span></span> <span data-ttu-id="becdd-230">En estos casos, es posible que la aplicación necesite revertir al dispositivo de ALABEo para admitir alta precisión.</span><span class="sxs-lookup"><span data-stu-id="becdd-230">In those cases your app may need to fall back to the WARP device to support high precision.</span></span>

## <a name="requirements"></a><span data-ttu-id="becdd-231">Requisitos</span><span class="sxs-lookup"><span data-stu-id="becdd-231">Requirements</span></span>



| <span data-ttu-id="becdd-232">Requisito</span><span class="sxs-lookup"><span data-stu-id="becdd-232">Requirement</span></span> | <span data-ttu-id="becdd-233">Value</span><span class="sxs-lookup"><span data-stu-id="becdd-233">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="becdd-234">Cliente mínimo compatible</span><span class="sxs-lookup"><span data-stu-id="becdd-234">Minimum supported client</span></span> | <span data-ttu-id="becdd-235">Windows 8 y actualización de la plataforma para aplicaciones de escritorio de Windows 7 aplicaciones de la \[ \| tienda Windows\]</span><span class="sxs-lookup"><span data-stu-id="becdd-235">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="becdd-236">Servidor mínimo compatible</span><span class="sxs-lookup"><span data-stu-id="becdd-236">Minimum supported server</span></span> | <span data-ttu-id="becdd-237">Windows 8 y actualización de la plataforma para aplicaciones de escritorio de Windows 7 aplicaciones de la \[ \| tienda Windows\]</span><span class="sxs-lookup"><span data-stu-id="becdd-237">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="becdd-238">Encabezado</span><span class="sxs-lookup"><span data-stu-id="becdd-238">Header</span></span>                   | <span data-ttu-id="becdd-239">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="becdd-239">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="becdd-240">Biblioteca</span><span class="sxs-lookup"><span data-stu-id="becdd-240">Library</span></span>                  | <span data-ttu-id="becdd-241">d2d1. lib, dxguid. lib</span><span class="sxs-lookup"><span data-stu-id="becdd-241">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="becdd-242">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="becdd-242">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="becdd-243">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="becdd-243">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

