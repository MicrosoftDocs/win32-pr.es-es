---
description: Información general sobre las consideraciones para diseñar una aplicación que usa las interfaces de programación de aplicaciones (API) de StylusInput.
ms.assetid: cb68a6bb-dd38-4dfb-bbbb-b5d846e5aa0a
title: Consideraciones de diseño para la API de StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff526d8e073f00156730d79ea2caf1a02c5e5af2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104361336"
---
# <a name="design-considerations-for-the-stylusinput-api"></a><span data-ttu-id="7a99f-103">Consideraciones de diseño para la API de StylusInput</span><span class="sxs-lookup"><span data-stu-id="7a99f-103">Design Considerations for the StylusInput API</span></span>

<span data-ttu-id="7a99f-104">Las siguientes son consideraciones de diseño para la API de StylusInput.</span><span class="sxs-lookup"><span data-stu-id="7a99f-104">The following are design considerations for the StylusInput API.</span></span>

-   <span data-ttu-id="7a99f-105">Puede actualizar la propiedad [**WindowInputRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_windowinputrectangle) del objeto [**RealTimeStylus**](realtimestylus-class.md) y la propiedad [**ClipRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_cliprectangle) del objeto [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) mientras el lápiz está inactivo.</span><span class="sxs-lookup"><span data-stu-id="7a99f-105">You can update the [**WindowInputRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_windowinputrectangle) property of the [**RealTimeStylus**](realtimestylus-class.md) object and the [**ClipRectangle**](/windows/desktop/api/RTSCom/nf-rtscom-idynamicrenderer-get_cliprectangle) property of the [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object while the pen is down.</span></span> <span data-ttu-id="7a99f-106">Esto puede ser útil si desea tener un área de dibujo dinámica mientras la aplicación está recopilando entradas manuscritas.</span><span class="sxs-lookup"><span data-stu-id="7a99f-106">This can be useful when you want to have a dynamic drawing area while the application is collecting ink.</span></span>
-   <span data-ttu-id="7a99f-107">Para optimizar la reutilización y el mantenimiento del código de complemento, los complementos no deben realizar llamadas directamente a la aplicación, sino que deben usar el objeto [**CustomStylusData**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-customstylusdataadded) ([CustomeStylusData](/previous-versions/ms824747(v=msdn.10)) en código administrado) para comunicarse con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7a99f-107">To optimize reuse and maintenance of plug-in code, plug-ins should not make calls directly to the application but should use the [**CustomStylusData**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-customstylusdataadded) ([CustomeStylusData](/previous-versions/ms824747(v=msdn.10)) object in managed code) to communicate with the application.</span></span>
-   <span data-ttu-id="7a99f-108">Las colecciones de complementos del objeto [**RealTimeStylus**](realtimestylus-class.md) están ordenadas.</span><span class="sxs-lookup"><span data-stu-id="7a99f-108">The [**RealTimeStylus**](realtimestylus-class.md) object's plug-in collections are ordered.</span></span> <span data-ttu-id="7a99f-109">La posición relativa de los complementos dentro de estas colecciones puede ser muy importante.</span><span class="sxs-lookup"><span data-stu-id="7a99f-109">The relative position of your plug-ins within these collections can be very important.</span></span> <span data-ttu-id="7a99f-110">Por ejemplo, un complemento que modifica la información de paquetes debe agregarse probablemente a la colección de complementos sincrónicos antes de un complemento de representador dinámico.</span><span class="sxs-lookup"><span data-stu-id="7a99f-110">For example, a plug-in that modifies packet information should probably be added to the synchronous plug-in collection before a dynamic-renderer plug-in.</span></span>
-   <span data-ttu-id="7a99f-111">La capacidad de agregar datos de lápiz personalizados al flujo de datos del lápiz de Tablet PC debe usarse con moderación.</span><span class="sxs-lookup"><span data-stu-id="7a99f-111">The ability to add custom stylus data to the tablet pen's data stream should be used sparingly.</span></span> <span data-ttu-id="7a99f-112">Use esta característica solo si otro complemento necesita recibir esta información como parte del flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="7a99f-112">Use this feature only if another plug-in needs to receive this information as part of the data stream.</span></span> <span data-ttu-id="7a99f-113">Además, evite agregar datos de lápiz personalizados en respuesta a otros datos de lápiz personalizados que entran en el complemento, ya que esto puede crear un bucle infinito.</span><span class="sxs-lookup"><span data-stu-id="7a99f-113">Also, avoid adding custom stylus data in response to other custom stylus data coming into the plug-in, as this can create an infinite loop.</span></span>
-   <span data-ttu-id="7a99f-114">Las colecciones de complementos se pueden modificar mientras el objeto [**RealTimeStylus**](realtimestylus-class.md) está habilitado; sin embargo, esto puede dificultar el comportamiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7a99f-114">Plug-in collections can be modified while the [**RealTimeStylus**](realtimestylus-class.md) object is enabled; however, this can make the behavior of your application harder to predict.</span></span> <span data-ttu-id="7a99f-115">Cuando se agrega un complemento mientras el objeto **RealTimeStylus** está habilitado, el objeto **RealTimeStylus** llama a Microsoft. StylusInput. IStylusSyncPlugin del complemento.</span><span class="sxs-lookup"><span data-stu-id="7a99f-115">When a plug-in is added while the **RealTimeStylus** object is enabled, the **RealTimeStylus** object calls the plug-in's Microsoft.StylusInput.IStylusSyncPlugin.</span></span> <span data-ttu-id="7a99f-116">Método [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) (el método [Microsoft. StylusInput. IStylusSyncPlugin. RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) o [Microsoft. StylusInput. IStylusAsyncPlugin. RealTimeStylusEnabled](/previous-versions/ms824775(v=msdn.10)) en código administrado).</span><span class="sxs-lookup"><span data-stu-id="7a99f-116">[**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) method (either the [Microsoft.StylusInput.IStylusSyncPlugin.RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) or the [Microsoft.StylusInput.IStylusAsyncPlugin.RealTimeStylusEnabled](/previous-versions/ms824775(v=msdn.10)) method in managed code).</span></span> <span data-ttu-id="7a99f-117">Cuando se quita un complemento mientras el objeto **RealTimeStylus** está habilitado, el objeto **RealTimeStylus** llama al método [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) del complemento ( [Microsoft. StylusInput. IStylusSyncPlugin. RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) o el método [Microsoft. StylusInput. IStylusAsyncPlugin. RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) en código administrado).</span><span class="sxs-lookup"><span data-stu-id="7a99f-117">When a plug-in is removed while the **RealTimeStylus** object is enabled, the **RealTimeStylus** object calls the plug-in's [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) method (either the [Microsoft.StylusInput.IStylusSyncPlugin.RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) or the [Microsoft.StylusInput.IStylusAsyncPlugin.RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) method in managed code).</span></span> <span data-ttu-id="7a99f-118">Esto permite que el complemento mantenga su estado adecuado sin tener que comprobar la propiedad [**Enabled**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_enabled) del objeto **RealTimeStylus** . Cuando se agrega un complemento mientras el objeto **RealTimeStylus** está habilitado, es posible que los datos del complemento que recibe el complemento no contengan suficiente información para establecer adecuadamente el contexto de los datos iniciales.</span><span class="sxs-lookup"><span data-stu-id="7a99f-118">This allows the plug-in to maintain its proper state without having to check the [**Enabled**](/windows/desktop/api/RTSCom/nf-rtscom-irealtimestylus-get_enabled) property of the **RealTimeStylus** object.When a plug-in is added while the **RealTimeStylus** object is enabled, the plug-in data that the plug-in receives may not contain enough information to adequately establish the context of the initial data.</span></span> <span data-ttu-id="7a99f-119">Por ejemplo, el complemento que se acaba de agregar podría empezar a recibir datos de paquetes de un lápiz que es un trazo medio.</span><span class="sxs-lookup"><span data-stu-id="7a99f-119">For example, the newly added plug-in could start receiving packet data from a pen that is mid-stroke.</span></span> <span data-ttu-id="7a99f-120">Del mismo modo, cuando se quita un complemento mientras el objeto **RealTimeStylus** está habilitado, los datos del complemento que ha recibido el complemento pueden ser insuficientes para finalizar el procesamiento de los datos.</span><span class="sxs-lookup"><span data-stu-id="7a99f-120">Similarly, when a plug-in removed while the **RealTimeStylus** object is enabled, the plug-in data that the plug-in has received may be insufficient to finish processing the data.</span></span>
    > [!Note]  
    > <span data-ttu-id="7a99f-121">Para la estabilidad general, restablezca el estado interno de un complemento cuando se llame a su método [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) o [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) .</span><span class="sxs-lookup"><span data-stu-id="7a99f-121">For overall stability, reset a plug-in's internal state when either its [**RealTimeStylusEnabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusenabled) or [**RealTimeStylusDisabled**](/windows/desktop/api/RTSCom/nf-rtscom-istylusplugin-realtimestylusdisabled) method is called.</span></span>

     

-   <span data-ttu-id="7a99f-122">El objeto [**RealTimeStylus**](realtimestylus-class.md) produce una excepción si un complemento modifica la colección de complementos a la que está adjuntada.</span><span class="sxs-lookup"><span data-stu-id="7a99f-122">The [**RealTimeStylus**](realtimestylus-class.md) object throws an exception if a plug-in modifies the plug-in collection to which it is attached.</span></span> <span data-ttu-id="7a99f-123">Esto solo ocurre cuando el complemento lo hace mientras el objeto **RealTimeStylus** lo llama como miembro de esa colección.</span><span class="sxs-lookup"><span data-stu-id="7a99f-123">This happens only when the plug-in does so while it is being called by the **RealTimeStylus** object as a member of that collection.</span></span>

 

 
