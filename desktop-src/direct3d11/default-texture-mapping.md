---
title: Asignación de textura predeterminada
description: El uso de la asignación de texturas predeterminada reduce la copia y el uso de memoria mientras se comparten datos de imagen entre la GPU y la CPU.
ms.assetid: 77AF4BFA-09B5-4181-9408-002764F2A923
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f203c7590c3673d30315250b2b4ce2663e48c9c3
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104418710"
---
# <a name="default-texture-mapping"></a><span data-ttu-id="42473-103">Asignación de textura predeterminada</span><span class="sxs-lookup"><span data-stu-id="42473-103">Default Texture Mapping</span></span>

<span data-ttu-id="42473-104">El uso de la asignación de texturas predeterminada reduce la copia y el uso de memoria mientras se comparten datos de imagen entre la GPU y la CPU.</span><span class="sxs-lookup"><span data-stu-id="42473-104">The use of default texture mapping reduces copying and memory usage while sharing image data between the GPU and the CPU.</span></span> <span data-ttu-id="42473-105">Sin embargo, solo se debe usar en situaciones específicas.</span><span class="sxs-lookup"><span data-stu-id="42473-105">However, it should only be used in specific situations.</span></span> <span data-ttu-id="42473-106">El diseño de swizzle estándar evita copiar o permutación datos en varios diseños.</span><span class="sxs-lookup"><span data-stu-id="42473-106">The standard swizzle layout avoids copying or swizzling data in multiple layouts.</span></span>

-   [<span data-ttu-id="42473-107">Información general</span><span class="sxs-lookup"><span data-stu-id="42473-107">Overview</span></span>](#overview)
-   [<span data-ttu-id="42473-108">API D3D 11.3</span><span class="sxs-lookup"><span data-stu-id="42473-108">D3D11.3 APIs</span></span>](#d3d113-apis)
-   [<span data-ttu-id="42473-109">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="42473-109">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="42473-110">Información general</span><span class="sxs-lookup"><span data-stu-id="42473-110">Overview</span></span>

<span data-ttu-id="42473-111">La asignación de texturas predeterminadas no debe ser la primera opción para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="42473-111">Mapping default textures should not be the first choice for developers.</span></span> <span data-ttu-id="42473-112">Los desarrolladores deben codificar en primer lugar con la GPU discreta (es decir, no tienen acceso a la CPU para la mayoría de las texturas y se cargan con [**CopySubresourceRegion1**](/windows/desktop/api/D3D11_1/nf-d3d11_1-id3d11devicecontext1-copysubresourceregion1)).</span><span class="sxs-lookup"><span data-stu-id="42473-112">Developers should code in a discrete-GPU friendly way first (that is, do not have any CPU access for the majority of textures and upload with [**CopySubresourceRegion1**](/windows/desktop/api/D3D11_1/nf-d3d11_1-id3d11devicecontext1-copysubresourceregion1)).</span></span> <span data-ttu-id="42473-113">Sin embargo, en ciertos casos, la CPU y la GPU pueden interactuar con tanta frecuencia en los mismos datos, que la asignación de texturas predeterminadas resulta útil para ahorrar energía o para acelerar un diseño determinado en arquitecturas o adaptadores concretos.</span><span class="sxs-lookup"><span data-stu-id="42473-113">But, for certain cases, the CPU and GPU may interact so frequently on the same data, that mapping default textures becomes helpful to save power, or to speed up a particular design on particular adapters or architectures.</span></span> <span data-ttu-id="42473-114">Las aplicaciones deben detectar estos casos y optimizar las copias innecesarias.</span><span class="sxs-lookup"><span data-stu-id="42473-114">Applications should detect these cases and optimize out the unnecessary copies.</span></span>

<span data-ttu-id="42473-115">En D3D 11.3, las texturas creadas con \_ el diseño de textura D3D11 \_ \_ sin definir (un miembro de la enumeración de [**\_ \_ diseño de textura D3D11**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_texture_layout) ) y ningún acceso de CPU son las más eficaces para la representación y el muestreo de GPU frecuentes.</span><span class="sxs-lookup"><span data-stu-id="42473-115">In D3D11.3, textures created with D3D11\_TEXTURE\_LAYOUT\_UNDEFINED (one member of the [**D3D11\_TEXTURE\_LAYOUT**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_texture_layout) enum) and no CPU access are the most efficient for frequent GPU rendering and sampling.</span></span> <span data-ttu-id="42473-116">Cuando se realiza una prueba de rendimiento, esas texturas se deben comparar con el \_ diseño de textura D3D11 sin \_ \_ definir con el acceso a la CPU y con el D3D11 \_ \_ \_ de distribución de textura de 64 k \_ \_ SWIZZLE estándar con acceso de CPU y la \_ \_ \_ fila de diseño de textura D3D11 \_ principal para la compatibilidad entre adaptadores.</span><span class="sxs-lookup"><span data-stu-id="42473-116">When performance testing, those textures should be compared against D3D11\_TEXTURE\_LAYOUT\_UNDEFINED with CPU access, and D3D11\_TEXTURE\_LAYOUT\_64K\_STANDARD\_SWIZZLE with CPU access, and D3D11\_TEXTURE\_LAYOUT\_ROW\_MAJOR for cross-adapter support.</span></span>

<span data-ttu-id="42473-117">El uso de D3D11 \_ Texture \_ layout \_ undefined with CPU Access habilita los métodos [**WriteToSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-readfromsubresource), Map (lo que impide el acceso a [](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-unmap)la aplicación al puntero) y se anula la [**asignación**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) , pero puede sacrificar la eficacia del acceso a la GPU.</span><span class="sxs-lookup"><span data-stu-id="42473-117">Using D3D11\_TEXTURE\_LAYOUT\_UNDEFINED with CPU access enables the methods [**WriteToSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-readfromsubresource), [**Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) (precluding application access to pointer), and [**Unmap**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-unmap); but can sacrifice efficiency of GPU access.</span></span> <span data-ttu-id="42473-118">El uso \_ de D3D11 Texture \_ layout \_ 64k \_ estándar \_ SWIZZLE con acceso de CPU habilita **WriteToSubresource**, **ReadFromSubresource**, **map** (que devuelve un puntero válido a la aplicación) y se puede desasignar.</span><span class="sxs-lookup"><span data-stu-id="42473-118">Using D3D11\_TEXTURE\_LAYOUT\_64K\_STANDARD\_SWIZZLE with CPU access enables **WriteToSubresource**, **ReadFromSubresource**, **Map** (which returns a valid pointer to application), and **Unmap**.</span></span> <span data-ttu-id="42473-119">También puede sacrificar la eficacia del acceso a GPU más que el diseño de textura de D3D11 \_ \_ \_ sin definir con el acceso a la CPU.</span><span class="sxs-lookup"><span data-stu-id="42473-119">It can also sacrifice efficiency of GPU access more than D3D11\_TEXTURE\_LAYOUT\_UNDEFINED with CPU access.</span></span>

<span data-ttu-id="42473-120">En general, las aplicaciones deben crear la mayoría de las texturas como accesible solo para GPU y con el \_ diseño de textura D3D11 sin \_ \_ definir.</span><span class="sxs-lookup"><span data-stu-id="42473-120">In general, applications should create the majority of textures as GPU-only-accessible, and with D3D11\_TEXTURE\_LAYOUT\_UNDEFINED.</span></span>

<span data-ttu-id="42473-121">Antes de la característica de asignación de texturas predeterminadas, solo había un diseño normalizado para los datos multidimensionales: "lineal", también conocido como "principal de filas".</span><span class="sxs-lookup"><span data-stu-id="42473-121">Previous to the mapping default textures feature, there was only one standardized layout for multi-dimensional data: "linear", also known as "row-major".</span></span> <span data-ttu-id="42473-122">Las aplicaciones deben evitar las \_ texturas dinámicas de uso y almacenamiento provisional \_ cuando está disponible la opción asignar valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="42473-122">Applications should avoid USAGE\_STAGING and USAGE\_DYNAMIC textures when map default is available.</span></span> <span data-ttu-id="42473-123">Las \_ texturas dinámicas de uso y almacenamiento provisional \_ usan el diseño lineal.</span><span class="sxs-lookup"><span data-stu-id="42473-123">The USAGE\_STAGING and USAGE\_DYNAMIC textures use the linear layout.</span></span>

<span data-ttu-id="42473-124">D3D 11.3 (y D3D12) introduce un diseño estándar de datos multidimensionales.</span><span class="sxs-lookup"><span data-stu-id="42473-124">D3D11.3 (and D3D12) introduce a standard multi-dimensional data layout.</span></span> <span data-ttu-id="42473-125">Esto se hace para permitir que varias unidades de procesamiento operen en los mismos datos sin copiar los datos ni permutación los datos entre varios diseños.</span><span class="sxs-lookup"><span data-stu-id="42473-125">This is done to enable multiple processing units to operate on the same data without copying the data or swizzling the data between multiple layouts.</span></span> <span data-ttu-id="42473-126">Un diseño normalizado permite mejorar la eficacia a través de los efectos de la red y permite que los algoritmos realicen cortes cortos suponiendo un patrón determinado.</span><span class="sxs-lookup"><span data-stu-id="42473-126">A standardized layout enables efficiency gains through network effects and allows algorithms to make short-cuts assuming a particular pattern.</span></span>

<span data-ttu-id="42473-127">No obstante, tenga en cuenta que esta swizzle estándar es una característica de hardware y puede que no sea compatible con todas las GPU.</span><span class="sxs-lookup"><span data-stu-id="42473-127">Note though that this standard swizzle is a hardware feature, and may not be supported by all GPUs.</span></span>

## <a name="d3d113-apis"></a><span data-ttu-id="42473-128">API D3D 11.3</span><span class="sxs-lookup"><span data-stu-id="42473-128">D3D11.3 APIs</span></span>

<span data-ttu-id="42473-129">A diferencia de D3D12, D3D 11.3 no admite la asignación de texturas de forma predeterminada, por lo que debe consultar los datos de la [**\_ característica D3D11 \_ \_ D3D11 \_ OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2).</span><span class="sxs-lookup"><span data-stu-id="42473-129">Unlike D3D12, D3D11.3 does not supports texture mapping by default, so you need to query [**D3D11\_FEATURE\_DATA\_D3D11\_OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2).</span></span> <span data-ttu-id="42473-130">También será necesario consultar los swizzle estándar con una llamada a [**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) y comprobando el `StandardSwizzle64KBSupported` campo de **D3D11 de \_ datos de características \_ \_ D3D11 \_ OPTIONS2**.</span><span class="sxs-lookup"><span data-stu-id="42473-130">Standard swizzle will also need to be queried for with a call to [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) and checking the `StandardSwizzle64KBSupported` field of **D3D11\_FEATURE\_DATA\_D3D11\_OPTIONS2**.</span></span>

<span data-ttu-id="42473-131">Las siguientes API hacen referencia a la asignación de textura:</span><span class="sxs-lookup"><span data-stu-id="42473-131">The following APIs reference texture mapping:</span></span>

<span data-ttu-id="42473-132">Enumeraciones</span><span class="sxs-lookup"><span data-stu-id="42473-132">Enums</span></span>

-   <span data-ttu-id="42473-133">[**D3D11 \_ \_Diseño de textura**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_texture_layout) : controla el patrón swizzle de las texturas predeterminadas y habilita la compatibilidad con asignaciones en las texturas predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="42473-133">[**D3D11\_TEXTURE\_LAYOUT**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_texture_layout) : controls the swizzle pattern of default textures and enable map support on default textures.</span></span>
-   <span data-ttu-id="42473-134">[**D3D11 \_ CARACTERÍSTICA**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_feature) : hace referencia a [**D3D11 \_ \_ Data \_ D3D11 \_ OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2).</span><span class="sxs-lookup"><span data-stu-id="42473-134">[**D3D11\_FEATURE**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_feature) : references [**D3D11\_FEATURE\_DATA\_D3D11\_OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2).</span></span>
-   <span data-ttu-id="42473-135">[**D3D11 \_ \_ \_ Marca de copia de mosaicos**](/windows/desktop/api/D3D11_2/ne-d3d11_2-d3d11_tile_copy_flag) : contiene marcas para copiar los recursos en mosaico de swizzled en los búferes lineales y desde ellos.</span><span class="sxs-lookup"><span data-stu-id="42473-135">[**D3D11\_TILE\_COPY\_FLAG**](/windows/desktop/api/D3D11_2/ne-d3d11_2-d3d11_tile_copy_flag) : contains flags to copy swizzled tiled resources to and from linear buffers.</span></span>

<span data-ttu-id="42473-136">Estructuras</span><span class="sxs-lookup"><span data-stu-id="42473-136">Structures</span></span>

-   <span data-ttu-id="42473-137">[**D3D11 \_ TEXTURE2D \_ DESC1**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_texture2d_desc1) : describe una textura 2D.</span><span class="sxs-lookup"><span data-stu-id="42473-137">[**D3D11\_TEXTURE2D\_DESC1**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_texture2d_desc1) : describes a 2D texture.</span></span> <span data-ttu-id="42473-138">Tenga en cuenta la estructura de la \_ \_ aplicación auxiliar CD3D11 TEXTURE2D DESC1.</span><span class="sxs-lookup"><span data-stu-id="42473-138">Note the CD3D11\_TEXTURE2D\_DESC1 helper structure.</span></span>
-   <span data-ttu-id="42473-139">[**D3D11 \_ TEXTURE3D \_ DESC1**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_texture3d_desc1) : describe una textura 3D.</span><span class="sxs-lookup"><span data-stu-id="42473-139">[**D3D11\_TEXTURE3D\_DESC1**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_texture3d_desc1) : describes a 3D texture.</span></span> <span data-ttu-id="42473-140">Tenga en cuenta la estructura de la \_ \_ aplicación auxiliar CD3D11 TEXTURE3D DESC1.</span><span class="sxs-lookup"><span data-stu-id="42473-140">Note the CD3D11\_TEXTURE3D\_DESC1 helper structure.</span></span>

<span data-ttu-id="42473-141">Métodos</span><span class="sxs-lookup"><span data-stu-id="42473-141">Methods</span></span>

-   <span data-ttu-id="42473-142">[**ID3D11Device3:: CreateTexture2D1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11device3-createtexture2d1) : crea una matriz de texturas 2D.</span><span class="sxs-lookup"><span data-stu-id="42473-142">[**ID3D11Device3::CreateTexture2D1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11device3-createtexture2d1) : creates an array of 2D textures.</span></span>
-   <span data-ttu-id="42473-143">[**ID3D11Device3:: CreateTexture3D1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11device3-createtexture3d1) : crea una sola textura 3D.</span><span class="sxs-lookup"><span data-stu-id="42473-143">[**ID3D11Device3::CreateTexture3D1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11device3-createtexture3d1) : creates a single 3D texture.</span></span>
-   <span data-ttu-id="42473-144">[**ID3D11Device3:: WriteToSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-writetosubresource) : copia datos en una \_ textura predeterminada de uso de D3D11 \_ que se asignó mediante [**map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map).</span><span class="sxs-lookup"><span data-stu-id="42473-144">[**ID3D11Device3::WriteToSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-writetosubresource) : copies data into a D3D11\_USAGE\_DEFAULT texture which was mapped using [**Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map).</span></span>
-   <span data-ttu-id="42473-145">[**ID3D11Device3:: ReadFromSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-readfromsubresource) : copia datos de una \_ textura predeterminada del uso de D3D11 \_ que se asignó mediante [**map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map).</span><span class="sxs-lookup"><span data-stu-id="42473-145">[**ID3D11Device3::ReadFromSubresource**](/windows/desktop/api/d3d11_3/nf-d3d11_3-id3d11device3-readfromsubresource) : copies data from a D3D11\_USAGE\_DEFAULT texture which was mapped using [**Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map).</span></span>
-   <span data-ttu-id="42473-146">[**ID3D11DeviceContext:: Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) : obtiene un puntero a los datos contenidos en un subrecurso y deniega el acceso de la GPU a ese subrecurso.</span><span class="sxs-lookup"><span data-stu-id="42473-146">[**ID3D11DeviceContext::Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) : gets a pointer to the data contained in a subresource, and denies the GPU access to that subresource.</span></span>
-   <span data-ttu-id="42473-147">[**ID3D11DeviceContext::**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-unmap) desasignar: invalida el puntero a un recurso y vuelve a habilitar el acceso de la GPU a ese recurso.</span><span class="sxs-lookup"><span data-stu-id="42473-147">[**ID3D11DeviceContext::Unmap**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-unmap) : invalidates the pointer to a resource and reenables the GPU's access to that resource.</span></span>
-   <span data-ttu-id="42473-148">[**ID3D11Texture2D1:: GetDesc1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11texture2d1-getdesc1) : obtiene las propiedades de un recurso de textura 2D.</span><span class="sxs-lookup"><span data-stu-id="42473-148">[**ID3D11Texture2D1::GetDesc1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11texture2d1-getdesc1) : gets the properties of a 2D texture resource.</span></span>
-   <span data-ttu-id="42473-149">[**ID3D11Texture3D1:: GetDesc1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11texture3d1-getdesc1) : obtiene las propiedades de un recurso de textura 3D.</span><span class="sxs-lookup"><span data-stu-id="42473-149">[**ID3D11Texture3D1::GetDesc1**](/windows/desktop/api/D3D11_3/nf-d3d11_3-id3d11texture3d1-getdesc1) : gets the properties of a 3D texture resource.</span></span>

## <a name="related-topics"></a><span data-ttu-id="42473-150">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="42473-150">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="42473-151">Características de Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="42473-151">Direct3D 11.3 Features</span></span>](direct3d-11-3-features.md)
</dt> </dl>

 

 




