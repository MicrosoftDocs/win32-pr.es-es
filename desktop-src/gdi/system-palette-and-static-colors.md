---
description: Normalmente, las entradas de la paleta del sistema que el sistema reserva para los colores estáticos no se pueden cambiar.
ms.assetid: be258151-36cc-42ba-8005-ff9d8e59b894
title: Paleta del sistema y colores estáticos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 537bdc87fecdd055334b83a56b0a53f9999be94c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104985371"
---
# <a name="system-palette-and-static-colors"></a><span data-ttu-id="073c1-103">Paleta del sistema y colores estáticos</span><span class="sxs-lookup"><span data-stu-id="073c1-103">System Palette and Static Colors</span></span>

<span data-ttu-id="073c1-104">Normalmente, las entradas de la paleta del sistema que el sistema reserva para los colores estáticos no se pueden cambiar.</span><span class="sxs-lookup"><span data-stu-id="073c1-104">Ordinarily, the system palette entries that the system reserves for static colors cannot be changed.</span></span> <span data-ttu-id="073c1-105">Una aplicación puede invalidar este comportamiento predeterminado mediante el uso de la función [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) para reducir el número de entradas de color estáticas y, por lo tanto, aumentar el número de entradas de la paleta del sistema no utilizadas.</span><span class="sxs-lookup"><span data-stu-id="073c1-105">An application can override this default behavior by using the [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) function to reduce the number of static color entries and, thereby, increase the number of unused system palette entries.</span></span> <span data-ttu-id="073c1-106">Sin embargo, dado que cambiar los colores estáticos puede tener un efecto inmediato y drástico en todas las ventanas de la pantalla, una aplicación no debe llamar a **SetSystemPaletteUse**, a menos que tenga una ventana maximizada y el foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="073c1-106">However, because changing the static colors can have an immediate and dramatic effect on all windows on the display, an application should not call **SetSystemPaletteUse**, unless it has a maximized window and the input focus.</span></span>

<span data-ttu-id="073c1-107">Cuando una aplicación llama a [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) con el \_ valor nostatic de SYSPAL, el sistema libera todas las entradas reservadas excepto las dos, lo que permite que dichas entradas reciban nuevos valores de color cuando la aplicación se dé de la paleta lógica.</span><span class="sxs-lookup"><span data-stu-id="073c1-107">When an application calls [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) with the SYSPAL\_NOSTATIC value, the system frees all but two of the reserved entries, allowing those entries to receive new color values when the application subsequently realizes its logical palette.</span></span> <span data-ttu-id="073c1-108">Las dos entradas de color estáticas restantes permanecen reservadas y se establecen en blanco y negro.</span><span class="sxs-lookup"><span data-stu-id="073c1-108">The remaining two static color entries remain reserved and are set to white and black.</span></span> <span data-ttu-id="073c1-109">Una aplicación puede restaurar las entradas reservadas llamando a **SetSystemPaletteUse** con el \_ valor estático SYSPAL.</span><span class="sxs-lookup"><span data-stu-id="073c1-109">An application can restore the reserved entries by calling **SetSystemPaletteUse** with the SYSPAL\_STATIC value.</span></span> <span data-ttu-id="073c1-110">Puede detectar el uso actual de la paleta del sistema mediante la función [**GetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-getsystempaletteuse) .</span><span class="sxs-lookup"><span data-stu-id="073c1-110">It can discover the current system palette usage by using the [**GetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-getsystempaletteuse) function.</span></span>

<span data-ttu-id="073c1-111">Además, después de establecer el uso de la paleta del sistema en SYSPAL \_ nostatic, la aplicación debe darse de inmediato a su paleta lógica, llamar a la función [**GetSysColor**](/windows/win32/api/winuser/nf-winuser-getsyscolor) para guardar la configuración actual del color del sistema, llamar a la función [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) para establecer los colores del sistema en valores razonables usando blanco y negro y, por último, enviar el mensaje de [**WM \_ SYSCOLORCHANGE**](wm-syscolorchange.md) a otras ventanas de nivel superior para permitir</span><span class="sxs-lookup"><span data-stu-id="073c1-111">Furthermore, after setting the system palette usage to SYSPAL\_NOSTATIC, the application must immediately realize its logical palette, call the [**GetSysColor**](/windows/win32/api/winuser/nf-winuser-getsyscolor) function to save the current system color settings, call the [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) function to set the system colors to reasonable values using black and white, and finally send the [**WM\_SYSCOLORCHANGE**](wm-syscolorchange.md) message to other top-level windows to allow them to be redrawn with the new system colors.</span></span> <span data-ttu-id="073c1-112">Al establecer los colores del sistema mediante blanco y negro, la aplicación debe asegurarse de que los elementos adyacentes o superpuestos, como los bordes y los marcos de ventana, se establecen en blanco y negro, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="073c1-112">When setting system colors using black and white, the application should make sure adjacent or overlapping items, such as window frames and borders, are set to black and white, respectively.</span></span>

<span data-ttu-id="073c1-113">Antes de que la aplicación pierda el foco de entrada, cierre su ventana o finalice, debe llamar inmediatamente a [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) con el \_ valor estático SYSPAL, obtener la paleta lógica, restaurar los colores del sistema a sus valores anteriores y enviar el mensaje de [**\_ SYSCOLORCHANGE de WM**](wm-syscolorchange.md) .</span><span class="sxs-lookup"><span data-stu-id="073c1-113">Before the application loses the input focus, closes its window, or terminates, it must immediately call [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) with the SYSPAL\_STATIC value, realize its logical palette, restore the system colors to their previous values, and send the [**WM\_SYSCOLORCHANGE**](wm-syscolorchange.md) message.</span></span> <span data-ttu-id="073c1-114">El sistema envía un mensaje de [**\_ dibujo de WM**](wm-paint.md) a cualquier ventana afectada por un cambio de color del sistema.</span><span class="sxs-lookup"><span data-stu-id="073c1-114">The system sends a [**WM\_PAINT**](wm-paint.md) message to any window that is affected by a system color change.</span></span> <span data-ttu-id="073c1-115">Las aplicaciones que tienen pinceles que usan los colores del sistema existentes deben eliminar esos pinceles y volver a crearlos con los nuevos colores del sistema.</span><span class="sxs-lookup"><span data-stu-id="073c1-115">Applications that have brushes using the existing system colors should delete those brushes and re-create them using the new system colors.</span></span>

 

 
