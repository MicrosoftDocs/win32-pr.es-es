---
title: Diseño de propiedades, eventos y patrones de control personalizados
description: El diseño de una propiedad personalizada, un evento o un patrón de control debe ser útil en una amplia variedad de implementaciones de control.
ms.assetid: e4b224a0-3958-4ae7-96cb-fe6dc16511a7
keywords:
- Automatización de la interfaz de usuario, propiedades personalizadas
- Automatización de la interfaz de usuario, información general sobre eventos
- UI Automation, información general sobre los patrones de control
- Automatización de la interfaz de usuario, diseñar propiedades personalizadas
- Automatización de la interfaz de usuario, diseñar eventos
- Automatización de la interfaz de usuario, diseñar patrones de control
- Automatización de la interfaz de usuario, WinEvents
- propiedades personalizadas, diseñar
- eventos, diseñar
- eventos, WinEvents
- patrones de control, diseñar
- WinEvents
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 93e6973356fe6be922e73eef70e5107b6dcabe0a
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104420772"
---
# <a name="design-custom-properties-events-and-control-patterns"></a><span data-ttu-id="457c7-115">Diseño de propiedades, eventos y patrones de control personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-115">Design custom properties, events, and control patterns</span></span>

<span data-ttu-id="457c7-116">El diseño de una propiedad personalizada, un evento o un patrón de control debe ser útil en una amplia variedad de implementaciones de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-116">The design of a custom property, event, or control pattern should be useful in a wide variety of control implementations.</span></span> <span data-ttu-id="457c7-117">Los diseños específicos de la aplicación o de control que solo son útiles en escenarios limitados deben evitarse.</span><span class="sxs-lookup"><span data-stu-id="457c7-117">Control- or application-specific designs that are useful only in limited scenarios should be avoided.</span></span> <span data-ttu-id="457c7-118">El diseño debe seguir el ejemplo de las propiedades, los eventos y los patrones de control existentes de la automatización de la interfaz de usuario de Microsoft, que se especificaron cuidadosamente para satisfacer las necesidades de una amplia variedad de aplicaciones de accesibilidad y pruebas automatizadas.</span><span class="sxs-lookup"><span data-stu-id="457c7-118">The design should follow the example of the existing Microsoft UI Automation properties, events, and control patterns, which were carefully specified to meet the needs of a wide variety of accessibility and automated testing applications.</span></span>

<span data-ttu-id="457c7-119">La implementación de la especificación de una propiedad personalizada, evento o patrón de control implica la cooperación y el acuerdo de entidades en los lados del cliente y del proveedor, y requiere que ambas partes implementen la especificación de forma coherente.</span><span class="sxs-lookup"><span data-stu-id="457c7-119">Implementing the specification for a custom property, event, or control pattern involves the cooperation and agreement of parties on both the client and provider sides, and requires both parties to implement the specification consistently.</span></span> <span data-ttu-id="457c7-120">Se anima a las empresas a trabajar con organizaciones del sector como la [Alianza de interoperabilidad de accesibilidad (AIA)](https://www.atia.org/) para diseñar y publicar la especificación para la propiedad personalizada, el evento o el patrón de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-120">Companies are encouraged to work with industry organizations such as the [Accessibility Interoperability Alliance (AIA)](https://www.atia.org/) to design and publish the specification for the custom property, event, or control pattern.</span></span> <span data-ttu-id="457c7-121">De esta manera, se puede alcanzar el consenso y se puede garantizar la interoperabilidad con la amplia variedad de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="457c7-121">In this way, consensus can be reached and interoperability with the widest variety of applications can be ensured.</span></span>

<span data-ttu-id="457c7-122">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="457c7-122">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="457c7-123">Cuándo usar propiedades y eventos personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-123">When to Use Custom Properties and Events</span></span>](#when-to-use-custom-properties-and-events)
-   [<span data-ttu-id="457c7-124">Diseñar propiedades personalizadas</span><span class="sxs-lookup"><span data-stu-id="457c7-124">Designing Custom Properties</span></span>](#designing-custom-properties)
-   [<span data-ttu-id="457c7-125">Diseñar eventos personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-125">Designing Custom Events</span></span>](#designing-custom-events)
    -   [<span data-ttu-id="457c7-126">Eventos de automatización de la interfaz de usuario personalizados y WinEvents</span><span class="sxs-lookup"><span data-stu-id="457c7-126">Custom UI Automation Events and WinEvents</span></span>](#custom-ui-automation-events-and-winevents)
-   [<span data-ttu-id="457c7-127">Diseñar patrones de control personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-127">Designing Custom Control Patterns</span></span>](#designing-custom-control-patterns)
-   [<span data-ttu-id="457c7-128">Tipos de controles personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-128">Custom Control Types</span></span>](#custom-control-types)
-   [<span data-ttu-id="457c7-129">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="457c7-129">Related topics</span></span>](#related-topics)

## <a name="when-to-use-custom-properties-and-events"></a><span data-ttu-id="457c7-130">Cuándo usar propiedades y eventos personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-130">When to Use Custom Properties and Events</span></span>

<span data-ttu-id="457c7-131">Antes de crear una propiedad, un evento o un patrón de control personalizado, asegúrese de que la automatización de la interfaz de usuario no proporciona una solución existente.</span><span class="sxs-lookup"><span data-stu-id="457c7-131">Before creating a custom property, event, or control pattern, make sure that UI Automation does not provide an existing solution.</span></span> <span data-ttu-id="457c7-132">Por ejemplo, no es necesario crear un patrón de control "click" personalizado porque el patrón de control [Invoke](uiauto-implementinginvoke.md) ya describe esa funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="457c7-132">For example, creating a custom "Click" control pattern is not necessary because the [Invoke](uiauto-implementinginvoke.md) control pattern already describes that functionality.</span></span>

<span data-ttu-id="457c7-133">Si decide que se necesita una propiedad, un evento o un patrón de control personalizado, asegúrese de que no sea demasiado impreciso o genérico.</span><span class="sxs-lookup"><span data-stu-id="457c7-133">If you decide that a custom property, event, or control pattern is needed, make sure that it is not too vague or generic.</span></span> <span data-ttu-id="457c7-134">Por ejemplo, un patrón de control denominado "show" no es útil porque la visibilidad de un control se puede indicar mediante una propiedad Availability en el elemento, como [**UIA \_ IsExpandCollapsePatternAvailablePropertyId**](uiauto-control-pattern-availability-propids.md) o [**UIA \_ IsScrollItemPatternAvailablePropertyId**](uiauto-control-pattern-availability-propids.md).</span><span class="sxs-lookup"><span data-stu-id="457c7-134">For example, a control pattern called "Show" is not useful because the visibility of a control can be indicated by an availability property on the element, such as [**UIA\_IsExpandCollapsePatternAvailablePropertyId**](uiauto-control-pattern-availability-propids.md) or [**UIA\_IsScrollItemPatternAvailablePropertyId**](uiauto-control-pattern-availability-propids.md).</span></span>

<span data-ttu-id="457c7-135">Antes de implementar una solución personalizada, confirme cuidadosamente que es necesaria y, a continuación, diseñe la funcionalidad por completo.</span><span class="sxs-lookup"><span data-stu-id="457c7-135">Before implementing a custom solution, carefully confirm it is needed and then design the functionality completely.</span></span>

## <a name="designing-custom-properties"></a><span data-ttu-id="457c7-136">Diseñar propiedades personalizadas</span><span class="sxs-lookup"><span data-stu-id="457c7-136">Designing Custom Properties</span></span>

<span data-ttu-id="457c7-137">La automatización de la interfaz de usuario incluye dos tipos básicos de propiedades: las propiedades de los elementos de automatización y las propiedades del patrón de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-137">UI Automation includes two basic types of properties: automation element properties, and control pattern properties.</span></span> <span data-ttu-id="457c7-138">Las propiedades del elemento de automatización se componen de un conjunto común de propiedades, como name, AcceleratorKey y ClassName, que exponen todos los elementos de automatización de la interfaz de usuario, independientemente del tipo de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-138">The automation element properties consist of a common set of properties, such as Name, AcceleratorKey, and ClassName, that are exposed by all UI Automation elements, regardless of the control type.</span></span> <span data-ttu-id="457c7-139">Un control expone las propiedades de patrón de control a través de un patrón de control determinado.</span><span class="sxs-lookup"><span data-stu-id="457c7-139">Control pattern properties are exposed by a control through a particular control pattern.</span></span> <span data-ttu-id="457c7-140">Cada patrón de control tiene un conjunto correspondiente de propiedades de patrón de control que debe exponer el control.</span><span class="sxs-lookup"><span data-stu-id="457c7-140">Each control pattern has a corresponding set of control pattern properties that the control must expose.</span></span> <span data-ttu-id="457c7-141">Por ejemplo, un control que admite el patrón de control [Grid](uiauto-implementinggrid.md) expone las propiedades ColumnCount y RowCount.</span><span class="sxs-lookup"><span data-stu-id="457c7-141">For example, a control that supports the [Grid](uiauto-implementinggrid.md) control pattern exposes the ColumnCount and RowCount properties.</span></span>

<span data-ttu-id="457c7-142">Una propiedad de elemento de automatización personalizada o un patrón de control deben cumplir las siguientes directrices de diseño:</span><span class="sxs-lookup"><span data-stu-id="457c7-142">A custom automation element property or control pattern property should adhere to the following design guidelines:</span></span>

-   <span data-ttu-id="457c7-143">Una propiedad personalizada debe tener uno de los siguientes tipos de datos especificados por la enumeración [**UIAutomationType**](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-uiautomationtype) .</span><span class="sxs-lookup"><span data-stu-id="457c7-143">A custom property must have one of the following data types specified by the [**UIAutomationType**](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-uiautomationtype) enumeration.</span></span> <span data-ttu-id="457c7-144">No se admiten otros tipos de datos para las propiedades personalizadas.</span><span class="sxs-lookup"><span data-stu-id="457c7-144">No other data types are supported for custom properties.</span></span>
    -   <span data-ttu-id="457c7-145">**UIAutomationType \_ bool**</span><span class="sxs-lookup"><span data-stu-id="457c7-145">**UIAutomationType\_Bool**</span></span>
    -   <span data-ttu-id="457c7-146">**UIAutomationType \_ doble**</span><span class="sxs-lookup"><span data-stu-id="457c7-146">**UIAutomationType\_Double**</span></span>
    -   <span data-ttu-id="457c7-147">**\_Elemento UIAutomationType**</span><span class="sxs-lookup"><span data-stu-id="457c7-147">**UIAutomationType\_Element**</span></span>
    -   <span data-ttu-id="457c7-148">**UIAutomationType \_ int**</span><span class="sxs-lookup"><span data-stu-id="457c7-148">**UIAutomationType\_Int**</span></span>
    -   <span data-ttu-id="457c7-149">**\_Punto UIAutomationType**</span><span class="sxs-lookup"><span data-stu-id="457c7-149">**UIAutomationType\_Point**</span></span>
    -   <span data-ttu-id="457c7-150">**\_Cadena UIAutomationType**</span><span class="sxs-lookup"><span data-stu-id="457c7-150">**UIAutomationType\_String**</span></span>
-   <span data-ttu-id="457c7-151">Si la propiedad personalizada contiene datos de cadena ([**BSTR**](/previous-versions/windows/desktop/automat/bstr)), la especificación debe indicar si la propiedad es localizable (es decir, si la cadena se puede traducir en distintos idiomas de interfaz de usuario).</span><span class="sxs-lookup"><span data-stu-id="457c7-151">If the custom property contains string data ([**BSTR**](/previous-versions/windows/desktop/automat/bstr)), the specification must state whether the property is localizable (that is, whether the string can be translated into different UI languages).</span></span>
-   <span data-ttu-id="457c7-152">La propiedad personalizada no debe solaparse con las características o la funcionalidad de las propiedades existentes.</span><span class="sxs-lookup"><span data-stu-id="457c7-152">The custom property should not overlap with the features or functionality of existing properties.</span></span>

## <a name="designing-custom-events"></a><span data-ttu-id="457c7-153">Diseñar eventos personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-153">Designing Custom Events</span></span>

<span data-ttu-id="457c7-154">Las aplicaciones usan las notificaciones de eventos de UI Automation para responder a los cambios y las acciones que afectan a los elementos de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="457c7-154">Applications use UI Automation event notifications to respond to changes and actions involving UI items.</span></span> <span data-ttu-id="457c7-155">La mayoría de las propiedades tienen asociados eventos de cambio de propiedad que la automatización de la interfaz de usuario genera cuando cambia el valor de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="457c7-155">Most properties have associated property-changed events that UI Automation raises when the value of the property changes.</span></span> <span data-ttu-id="457c7-156">Si introduce una propiedad personalizada, debería considerar la posibilidad de introducir los eventos personalizados correspondientes que también pueden ser necesarios.</span><span class="sxs-lookup"><span data-stu-id="457c7-156">If you introduce a custom property, you should consider introducing any corresponding custom events that may also be needed.</span></span>

<span data-ttu-id="457c7-157">Un evento personalizado debe cumplir las siguientes directrices de diseño:</span><span class="sxs-lookup"><span data-stu-id="457c7-157">A custom event should adhere to the following design guidelines:</span></span>

-   <span data-ttu-id="457c7-158">El evento personalizado debe ser "sin estado".</span><span class="sxs-lookup"><span data-stu-id="457c7-158">The custom event must be "stateless."</span></span> <span data-ttu-id="457c7-159">No se puede asociar a una propiedad o un valor específicos.</span><span class="sxs-lookup"><span data-stu-id="457c7-159">It cannot be associated with a specific property or value.</span></span>
-   <span data-ttu-id="457c7-160">El evento personalizado no debe superponerse con la definición o el rol de ningún evento existente.</span><span class="sxs-lookup"><span data-stu-id="457c7-160">The custom event should not overlap with the definition or role of any existing event.</span></span>

### <a name="custom-ui-automation-events-and-winevents"></a><span data-ttu-id="457c7-161">Eventos de automatización de la interfaz de usuario personalizados y WinEvents</span><span class="sxs-lookup"><span data-stu-id="457c7-161">Custom UI Automation Events and WinEvents</span></span>

<span data-ttu-id="457c7-162">[WinEvents](winevents-infrastructure.md) son un mecanismo de comunicación y eventos de interprocesos útil en la plataforma de Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="457c7-162">[WinEvents](winevents-infrastructure.md) are a useful interprocess communication and eventing mechanism in the Microsoft Windows platform.</span></span> <span data-ttu-id="457c7-163">Sin embargo, la introducción de un nuevo identificador de WinEvent es arriesgado porque puede provocar colisiones con otras aplicaciones o con el sistema operativo, lo que provoca que el sistema se vuelva inestable.</span><span class="sxs-lookup"><span data-stu-id="457c7-163">However, introducing a new WinEvent ID is risky because it can cause collisions with other applications or the operating system, resulting in the system becoming unstable.</span></span> <span data-ttu-id="457c7-164">Para evitar colisiones, Microsoft ha definido varias categorías diferentes de WinEvents y, para cada categoría, ha definido uno o más rangos de valores para su uso como ID. de WinEvent.</span><span class="sxs-lookup"><span data-stu-id="457c7-164">To avoid collisions, Microsoft has defined several different categories of WinEvents and, for each category, has defined one or more ranges of values for use as WinEvent IDs.</span></span> <span data-ttu-id="457c7-165">Para obtener más información, consulte [asignación de identificadores de WinEvent](allocation-of-winevent-ids.md).</span><span class="sxs-lookup"><span data-stu-id="457c7-165">For more information, see [Allocation of WinEvent IDs](allocation-of-winevent-ids.md).</span></span>

<span data-ttu-id="457c7-166">Los eventos de automatización de la interfaz de usuario personalizados evitan conflictos asignando el identificador de evento internamente en el marco de automatización de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="457c7-166">Custom UI Automation events avoid conflicts by allocating the event ID internally in the UI Automation framework.</span></span>

## <a name="designing-custom-control-patterns"></a><span data-ttu-id="457c7-167">Diseñar patrones de control personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-167">Designing Custom Control Patterns</span></span>

<span data-ttu-id="457c7-168">Un patrón de control es una interfaz con propiedades, métodos y eventos que definen una parte de la funcionalidad discreta disponible en un elemento de automatización.</span><span class="sxs-lookup"><span data-stu-id="457c7-168">A control pattern is an interface with properties, methods, and events that define a discrete piece of functionality available from an automation element.</span></span> <span data-ttu-id="457c7-169">Los métodos de patrón de control permiten a los clientes de automatización de la interfaz de usuario manipular un aspecto determinado del control.</span><span class="sxs-lookup"><span data-stu-id="457c7-169">Control pattern methods allow UI Automation clients to manipulate a particular aspect of the control.</span></span> <span data-ttu-id="457c7-170">Las propiedades y los eventos del patrón de control proporcionan información sobre algún aspecto del control y proporcionan información sobre el estado del elemento de automatización que implementa el patrón de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-170">The control pattern properties and events provide information about some aspect of the control, and provide information about the state of the automation element that implements the control pattern.</span></span>

<span data-ttu-id="457c7-171">Un patrón de control personalizado debe cumplir las siguientes directrices de diseño:</span><span class="sxs-lookup"><span data-stu-id="457c7-171">A custom control pattern should adhere to the following design guidelines:</span></span>

-   <span data-ttu-id="457c7-172">Un patrón de control personalizado debe cubrir un escenario determinado.</span><span class="sxs-lookup"><span data-stu-id="457c7-172">A custom control pattern should cover a particular scenario.</span></span> <span data-ttu-id="457c7-173">Por ejemplo, el patrón de control [ItemContainer](uiauto-implementingitemcontainer.md) está diseñado para consultar un objeto contenido independientemente del estado de virtualización, pero no enumera o cuenta los objetos contenidos.</span><span class="sxs-lookup"><span data-stu-id="457c7-173">For example, the [ItemContainer](uiauto-implementingitemcontainer.md) control pattern is intended for querying a contained object regardless of the virtualization state, but it does not enumerate or count the contained objects.</span></span>
-   <span data-ttu-id="457c7-174">Un patrón de control personalizado no debe superponerse con las características de los patrones de control existentes.</span><span class="sxs-lookup"><span data-stu-id="457c7-174">A custom control pattern should not overlap with the features of existing control patterns.</span></span> <span data-ttu-id="457c7-175">Por ejemplo, los patrones de control [Invoke](uiauto-implementinginvoke.md) y [ExpandCollapse](uiauto-implementingexpandcollapse.md) no se deben combinar y presentar como un nuevo patrón de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-175">For example, the [Invoke](uiauto-implementinginvoke.md) and [ExpandCollapse](uiauto-implementingexpandcollapse.md) control patterns should not be combined and presented as a new control pattern.</span></span> <span data-ttu-id="457c7-176">Puede reutilizar los patrones de control existentes o definir escenarios únicos con nuevos patrones de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-176">Either reuse existing control patterns or define unique scenarios with new control patterns.</span></span>
-   <span data-ttu-id="457c7-177">Varios patrones de control personalizados se pueden diseñar juntos para admitir escenarios complejos.</span><span class="sxs-lookup"><span data-stu-id="457c7-177">Multiple custom control patterns can be designed together to support complex scenarios.</span></span> <span data-ttu-id="457c7-178">Por ejemplo, los patrones de control [Selection](uiauto-implementingselection.md) y [SelectionItem](uiauto-implementingselectionitem.md) funcionan juntos para admitir escenarios de selección de objetos generales.</span><span class="sxs-lookup"><span data-stu-id="457c7-178">For example, the [Selection](uiauto-implementingselection.md) and [SelectionItem](uiauto-implementingselectionitem.md) control patterns work together to support general object selection scenarios.</span></span>

## <a name="custom-control-types"></a><span data-ttu-id="457c7-179">Tipos de controles personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-179">Custom Control Types</span></span>

<span data-ttu-id="457c7-180">Aunque este tema se centra en cómo registrar propiedades, eventos y patrones de control personalizados de la automatización de la interfaz de usuario, también es posible introducir nuevos tipos de control.</span><span class="sxs-lookup"><span data-stu-id="457c7-180">Although this topic focuses on how to register custom UI Automation properties, events, and control patterns, it is also possible to introduce new control types.</span></span> <span data-ttu-id="457c7-181">A diferencia de las propiedades personalizadas, los eventos y los patrones de control, un tipo de control personalizado no se puede registrar mediante programación en tiempo de ejecución porque es realmente simplemente un valor potencial de la propiedad ControlType de automatización de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="457c7-181">Unlike custom properties, events, and control patterns, a custom control type cannot be registered programmatically at runtime because it is actually just a potential value of the UI Automation ControlType property.</span></span> <span data-ttu-id="457c7-182">Sin embargo, un identificador de tipo de control personalizado puede definirse, publicarse y estar disponible para que lo usen otros clientes y proveedores.</span><span class="sxs-lookup"><span data-stu-id="457c7-182">However, a custom control type ID can be defined, published, and made available for other clients and providers to use.</span></span> <span data-ttu-id="457c7-183">Para obtener más información sobre los tipos de control, vea [UI Automation Control Types Overview](uiauto-controltypesoverview.md).</span><span class="sxs-lookup"><span data-stu-id="457c7-183">For more information about control types, see [UI Automation Control Types Overview](uiauto-controltypesoverview.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="457c7-184">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="457c7-184">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="457c7-185">**Vista**</span><span class="sxs-lookup"><span data-stu-id="457c7-185">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="457c7-186">Registrar propiedades, eventos y patrones de control personalizados</span><span class="sxs-lookup"><span data-stu-id="457c7-186">Registering Custom Properties, Events, and Control Patterns</span></span>](uiauto-regcustompropseventpatterns.md)
</dt> <dt>

[<span data-ttu-id="457c7-187">Información general acerca de las propiedades de UI Automation</span><span class="sxs-lookup"><span data-stu-id="457c7-187">UI Automation Properties Overview</span></span>](uiauto-propertiesoverview.md)
</dt> <dt>

[<span data-ttu-id="457c7-188">Información general sobre eventos de UI Automation</span><span class="sxs-lookup"><span data-stu-id="457c7-188">UI Automation Events Overview</span></span>](uiauto-eventsoverview.md)
</dt> <dt>

[<span data-ttu-id="457c7-189">Información general acerca de los patrones de control de UI Automation</span><span class="sxs-lookup"><span data-stu-id="457c7-189">UI Automation Control Patterns Overview</span></span>](uiauto-controlpatternsoverview.md)
</dt> </dl>

 

 