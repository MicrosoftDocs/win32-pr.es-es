---
description: El uso correcto de la Directiva de restricción de software puede hacer que su empresa sea más ágil porque proporciona un marco proactivo para evitar problemas, en lugar de un marco reactivo que se basa en la alternativa costosa de restaurar un sistema después de que se haya producido un problema. La Directiva de restricción de software se presentó con la versión de Microsoft Windows XP para ayudar a proteger los sistemas de código desconocido y posiblemente peligroso. La Directiva de restricción ofrece un mecanismo en el que solo se proporciona acceso sin restricciones a un código de confianza a los privilegios de los usuarios. El código desconocido, que podría contener virus o código que entra en conflicto con los programas instalados actualmente, solo se puede ejecutar en un entorno restringido (a menudo denominado espacio aislado) en el que no se permite el acceso a ningún privilegio de usuario que tenga en cuenta la seguridad.
ms.assetid: 233483a0-ff16-4e21-a312-cc57a92124c3
title: Usar la Directiva de restricción de software en COM+
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3620aba8cce2859d76ba07c2fa9655dd9036bdbb
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104496307"
---
# <a name="using-the-software-restriction-policy-in-com"></a><span data-ttu-id="6ec60-106">Usar la Directiva de restricción de software en COM+</span><span class="sxs-lookup"><span data-stu-id="6ec60-106">Using the Software Restriction Policy in COM+</span></span>

<span data-ttu-id="6ec60-107">El uso correcto de la Directiva de restricción de software puede hacer que su empresa sea más ágil porque proporciona un marco proactivo para evitar problemas, en lugar de un marco reactivo que se basa en la alternativa costosa de restaurar un sistema después de que se haya producido un problema.</span><span class="sxs-lookup"><span data-stu-id="6ec60-107">Properly using the software restriction policy can make your business more agile because it provides a proactive framework for preventing problems, rather than a reactive framework that relies on the costly alternative of restoring a system after a problem has occurred.</span></span> <span data-ttu-id="6ec60-108">La Directiva de restricción de software se presentó con la versión de Microsoft Windows XP para ayudar a proteger los sistemas de código desconocido y posiblemente peligroso.</span><span class="sxs-lookup"><span data-stu-id="6ec60-108">The software restriction policy was introduced with the release of Microsoft Windows XP to help protect systems from unknown and possibly dangerous code.</span></span> <span data-ttu-id="6ec60-109">La Directiva de restricción ofrece un mecanismo en el que solo se proporciona acceso sin restricciones a un código de confianza a los privilegios de un usuario.</span><span class="sxs-lookup"><span data-stu-id="6ec60-109">The restriction policy provides a mechanism where only trusted code is given unrestricted access to a user's privileges.</span></span> <span data-ttu-id="6ec60-110">El código desconocido, que podría contener virus o código que entra en conflicto con los programas instalados actualmente, solo se puede ejecutar en un entorno restringido (a menudo denominado *espacio aislado*) en el que no se permite el acceso a ningún privilegio de usuario que tenga en cuenta la seguridad.</span><span class="sxs-lookup"><span data-stu-id="6ec60-110">Unknown code, which might contain viruses or code that conflicts with currently installed programs, is allowed to run only in a constrained environment (often called a *sandbox*) where it is disallowed from accessing any security-sensitive user privileges.</span></span>

<span data-ttu-id="6ec60-111">La Directiva de restricción de software depende de la asignación de niveles de confianza al código que se puede ejecutar en un sistema.</span><span class="sxs-lookup"><span data-stu-id="6ec60-111">The software restriction policy depends on assigning trust levels to the code that can run on a system.</span></span> <span data-ttu-id="6ec60-112">Actualmente, existen dos niveles de confianza: no restringido y no permitido.</span><span class="sxs-lookup"><span data-stu-id="6ec60-112">Currently, two trust levels exist: Unrestricted and Disallowed.</span></span> <span data-ttu-id="6ec60-113">Al código que tiene un nivel de confianza sin restricciones se le concede acceso no restringido a los privilegios del usuario, por lo que este nivel de confianza debe aplicarse solo al código de plena confianza.</span><span class="sxs-lookup"><span data-stu-id="6ec60-113">Code that has an Unrestricted trust level is given unrestricted access to the user's privileges, so this trust level should be applied only to fully trusted code.</span></span> <span data-ttu-id="6ec60-114">El código con un nivel de confianza no permitido no permite el acceso a ningún privilegio de usuario que tenga en cuenta la seguridad y solo puede ejecutarse en un espacio aislado que ayuda a evitar que el código sin restricciones cargue el código no permitido en su espacio de direcciones.</span><span class="sxs-lookup"><span data-stu-id="6ec60-114">Code with a Disallowed trust level is disallowed from accessing any security-sensitive user privileges and can run only in a sandbox that helps prevent Unrestricted code from loading the Disallowed code into its address space.</span></span>

<span data-ttu-id="6ec60-115">La configuración de la Directiva de restricción de software para un sistema se realiza a través de la herramienta administrativa Directiva de seguridad local, mientras que la configuración de la Directiva de restricción de aplicaciones COM+ individuales se realiza mediante programación o a través de la herramienta administrativa Servicios de componentes.</span><span class="sxs-lookup"><span data-stu-id="6ec60-115">Configuring the software restriction policy for a system is done through the Local Security Policy administrative tool, while the restriction policy configuration of individual COM+ applications is done either programmatically or through the Component Services administrative tool.</span></span> <span data-ttu-id="6ec60-116">Si no se especifica el nivel de confianza de la Directiva de restricción para una aplicación COM+, se usará la configuración de todo el sistema para determinar el nivel de confianza de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6ec60-116">If the restriction policy trust level is not specified for a COM+ application, the systemwide settings will be used to determine the application's trust level.</span></span> <span data-ttu-id="6ec60-117">La configuración de la Directiva de restricción de COM+ se debe coordinar cuidadosamente con la configuración de todo el sistema, ya que una aplicación COM+ que tiene un nivel de confianza sin restricciones solo puede cargar componentes con un nivel de confianza no restringido. una aplicación COM+ no permitida puede cargar componentes con cualquier nivel de confianza pero no puede tener acceso a todos los privilegios del usuario.</span><span class="sxs-lookup"><span data-stu-id="6ec60-117">The COM+ restriction policy settings must be carefully coordinated with the systemwide settings because a COM+ application that has an Unrestricted trust level can load only components with an Unrestricted trust level; a Disallowed COM+ application can load components with any trust level but cannot access all of the user's privileges.</span></span>

<span data-ttu-id="6ec60-118">Además de los niveles de confianza de la Directiva de restricción de software de las aplicaciones COM+ individuales, otras dos propiedades determinan cómo se utiliza la Directiva de restricción para todas las aplicaciones COM+.</span><span class="sxs-lookup"><span data-stu-id="6ec60-118">In addition to the software restriction policy trust levels of individual COM+ applications, two other properties determine how the restriction policy is used for all COM+ applications.</span></span> <span data-ttu-id="6ec60-119">Si [SRPRunningObjectChecks](/windows/desktop/com/srprunningobjectchecks) está habilitado, se comprueban los intentos de conexión a objetos en ejecución para comprobar los niveles de confianza adecuados.</span><span class="sxs-lookup"><span data-stu-id="6ec60-119">If [SRPRunningObjectChecks](/windows/desktop/com/srprunningobjectchecks) is enabled, attempts to connect to running objects will be checked for appropriate trust levels.</span></span> <span data-ttu-id="6ec60-120">El objeto en ejecución no puede tener un nivel de confianza menos estricto que el objeto de cliente.</span><span class="sxs-lookup"><span data-stu-id="6ec60-120">The running object cannot have a less stringent trust level than the client object.</span></span> <span data-ttu-id="6ec60-121">Por ejemplo, el objeto en ejecución no puede tener un nivel de confianza no permitido si el objeto de cliente tiene un nivel de confianza no restringido.</span><span class="sxs-lookup"><span data-stu-id="6ec60-121">For example, the running object cannot have a Disallowed trust level if the client object has an Unrestricted trust level.</span></span>

<span data-ttu-id="6ec60-122">La segunda propiedad determina el modo en que la Directiva de restricción de software controla las conexiones de activación como activador.</span><span class="sxs-lookup"><span data-stu-id="6ec60-122">The second property determines how the software restriction policy handles activate-as-activator connections.</span></span> <span data-ttu-id="6ec60-123">Si [SRPActivateAsActivatorChecks](/windows/desktop/com/srpactivateasactivatorchecks) está habilitado, el nivel de confianza configurado para el objeto de servidor se compara con el nivel de confianza del objeto de cliente y se utilizará el nivel de confianza más riguroso para ejecutar el objeto de servidor.</span><span class="sxs-lookup"><span data-stu-id="6ec60-123">If [SRPActivateAsActivatorChecks](/windows/desktop/com/srpactivateasactivatorchecks) is enabled, the trust level that is configured for the server object is compared with the trust level of the client object and the more stringent trust level will be used to run the server object.</span></span> <span data-ttu-id="6ec60-124">Si SRPActivateAsActivatorChecks no está habilitado, el objeto de servidor se ejecutará con el nivel de confianza del objeto de cliente, independientemente del nivel de confianza con el que se configuró.</span><span class="sxs-lookup"><span data-stu-id="6ec60-124">If SRPActivateAsActivatorChecks is not enabled, the server object will run with the trust level of the client object regardless of the trust level with which it was configured.</span></span> <span data-ttu-id="6ec60-125">De forma predeterminada, tanto SRPRunningObjectChecks como SRPActivateAsActivatorChecks están habilitados.</span><span class="sxs-lookup"><span data-stu-id="6ec60-125">By default, both SRPRunningObjectChecks and SRPActivateAsActivatorChecks are enabled.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6ec60-126">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6ec60-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6ec60-127">Autenticación de cliente</span><span class="sxs-lookup"><span data-stu-id="6ec60-127">Client Authentication</span></span>](client-authentication.md)
</dt> <dt>

[<span data-ttu-id="6ec60-128">Suplantación y delegación de cliente</span><span class="sxs-lookup"><span data-stu-id="6ec60-128">Client Impersonation and Delegation</span></span>](client-impersonation-and-delegation.md)
</dt> <dt>

[<span data-ttu-id="6ec60-129">Configuración de la Directiva de restricción de software</span><span class="sxs-lookup"><span data-stu-id="6ec60-129">Configuring the Software Restriction Policy</span></span>](configuring-the-software-restriction-policy.md)
</dt> <dt>

[<span data-ttu-id="6ec60-130">Seguridad de aplicaciones de biblioteca</span><span class="sxs-lookup"><span data-stu-id="6ec60-130">Library Application Security</span></span>](library-application-security.md)
</dt> <dt>

[<span data-ttu-id="6ec60-131">Seguridad de aplicaciones de niveles múltiples</span><span class="sxs-lookup"><span data-stu-id="6ec60-131">Multi-Tier Application Security</span></span>](multi-tier-application-security.md)
</dt> <dt>

[<span data-ttu-id="6ec60-132">Seguridad de componentes mediante programación</span><span class="sxs-lookup"><span data-stu-id="6ec60-132">Programmatic Component Security</span></span>](programmatic-component-security.md)
</dt> <dt>

[<span data-ttu-id="6ec60-133">Administración de la seguridad basada en roles</span><span class="sxs-lookup"><span data-stu-id="6ec60-133">Role-Based Security Administration</span></span>](role-based-security-administration.md)
</dt> </dl>

 

 
