---
description: Es importante que comprenda la estructura de DLL necesaria de un controlador de filtro (una implementación de la interfaz de IFilter).
ms.assetid: a2b5a813-573a-44d3-8780-99603e3246c1
title: Implementar controladores de filtro en Windows Search
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc5f326440b31b62ff5697274962f4d4a2cfe7c1
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105720336"
---
# <a name="implementing-filter-handlers-in-windows-search"></a><span data-ttu-id="e7408-103">Implementar controladores de filtro en Windows Search</span><span class="sxs-lookup"><span data-stu-id="e7408-103">Implementing Filter Handlers in Windows Search</span></span>

<span data-ttu-id="e7408-104">Es importante que comprenda la estructura de DLL necesaria de un controlador de filtro (una implementación de la interfaz de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) ).</span><span class="sxs-lookup"><span data-stu-id="e7408-104">It is important that you understand the required DLL structure of a filter handler (an implementation of the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface).</span></span>

<span data-ttu-id="e7408-105">Este tema se organiza de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="e7408-105">This topic is organized as follows:</span></span>

- [<span data-ttu-id="e7408-106">Implementación y exportación de los puntos de entrada de DLL</span><span class="sxs-lookup"><span data-stu-id="e7408-106">Implementing and Exporting the DLL Entry Points</span></span>](#implementing-and-exporting-the-dll-entry-points)
- [<span data-ttu-id="e7408-107">Implementar la clase IFilter y el generador de clases</span><span class="sxs-lookup"><span data-stu-id="e7408-107">Implementing the IFilter Class and Class Factory</span></span>](#implementing-the-ifilter-class-and-class-factory)
- [<span data-ttu-id="e7408-108">Heredar las interfaces COM</span><span class="sxs-lookup"><span data-stu-id="e7408-108">Inheriting the COM Interfaces</span></span>](#inheriting-the-com-interfaces)
- [<span data-ttu-id="e7408-109">Implementar los métodos de la interfaz COM</span><span class="sxs-lookup"><span data-stu-id="e7408-109">Implementing the COM Interface Methods</span></span>](#implementing-the-com-interface-methods)
  - [<span data-ttu-id="e7408-110">Métodos COM no implementados</span><span class="sxs-lookup"><span data-stu-id="e7408-110">COM Methods that are not Implemented</span></span>](#com-methods-that-are-not-implemented)
- [<span data-ttu-id="e7408-111">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="e7408-111">Additional Resources</span></span>](#additional-resources)
- [<span data-ttu-id="e7408-112">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e7408-112">Related topics</span></span>](#related-topics)

## <a name="implementing-and-exporting-the-dll-entry-points"></a><span data-ttu-id="e7408-113">Implementación y exportación de los puntos de entrada de DLL</span><span class="sxs-lookup"><span data-stu-id="e7408-113">Implementing and Exporting the DLL Entry Points</span></span>

<span data-ttu-id="e7408-114">Cada archivo dll de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) (indicado por Ifilter.dll en esta sección) debe implementar y exportar los siguientes puntos de entrada.</span><span class="sxs-lookup"><span data-stu-id="e7408-114">Each [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) DLL (denoted by Ifilter.dll in this section) must implement and export the following entry points.</span></span> <span data-ttu-id="e7408-115">Estos puntos de entrada se exportan normalmente mediante un archivo de definición de módulo (. def) para la interfaz **IFilter** o mediante la palabra clave **\_ \_ declspec (dllexport)** .</span><span class="sxs-lookup"><span data-stu-id="e7408-115">These entry points are typically exported using a module-definition (.def) file for the **IFilter** interface or by using the **\_\_declspec(dllexport)** keyword.</span></span> <span data-ttu-id="e7408-116">El archivo DLL se puede registrar para que esté en cualquier carpeta, pero normalmente reside en la carpeta% SystemRoot% \\ system32.</span><span class="sxs-lookup"><span data-stu-id="e7408-116">The DLL file can be registered to be in any folder, but it usually resides in the %SystemRoot%\\system32 folder.</span></span>

<span data-ttu-id="e7408-117">Los puntos de entrada de DLL se enumeran y describen en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="e7408-117">DLL entry points are listed and described in the following table.</span></span>

| <span data-ttu-id="e7408-118">Nombre de DLL</span><span class="sxs-lookup"><span data-stu-id="e7408-118">DLL name</span></span>                                                                                     | <span data-ttu-id="e7408-119">Descripción de DLL</span><span class="sxs-lookup"><span data-stu-id="e7408-119">DLL description</span></span>                                                                                                                                                                                                                                                                                                                                                                             |
|----------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e7408-120">DllRegisterServer</span><span class="sxs-lookup"><span data-stu-id="e7408-120">DllRegisterServer</span></span>](/windows/win32/api/olectl/nf-olectl-dllregisterserver)            | <span data-ttu-id="e7408-121">El punto de entrada de [DllRegisterServer](/windows/win32/api/olectl/nf-olectl-dllregisterserver) registra el archivo dll como un filtro en el registro.</span><span class="sxs-lookup"><span data-stu-id="e7408-121">The [DllRegisterServer](/windows/win32/api/olectl/nf-olectl-dllregisterserver) entry point registers the DLL as a filter in the registry.</span></span> <span data-ttu-id="e7408-122">Para registrar el archivo DLL, ejecute el programa regsvr32.exe con el nombre de archivo DLL de la interfaz [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) como argumento: `regsvr32.exe %SystemRoot%\system32\Ifilter.dll`</span><span class="sxs-lookup"><span data-stu-id="e7408-122">You register the DLL by running the regsvr32.exe program with the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface DLL file name as an argument: `regsvr32.exe %SystemRoot%\system32\Ifilter.dll`</span></span>                                              |
| [<span data-ttu-id="e7408-123">DllUnregisterServer (función)</span><span class="sxs-lookup"><span data-stu-id="e7408-123">DllUnregisterServer Function</span></span>](/windows/win32/api/olectl/nf-olectl-dllunregisterserver) | <span data-ttu-id="e7408-124">El punto de entrada de la [función DllUnregisterServer](/windows/win32/api/olectl/nf-olectl-dllunregisterserver) quita el archivo dll como un controlador persistente en el registro.</span><span class="sxs-lookup"><span data-stu-id="e7408-124">The [DllUnregisterServer Function](/windows/win32/api/olectl/nf-olectl-dllunregisterserver) entry point removes the DLL as a persistent handler in the registry.</span></span> <span data-ttu-id="e7408-125">Para anular el registro del archivo DLL, ejecute el programa regsvr32.exe con la `/u` marca: `regsvr32.exe /u %SystemRoot%\system32\Ifilter.dll`</span><span class="sxs-lookup"><span data-stu-id="e7408-125">You unregister the DLL by running the regsvr32.exe program with the `/u` flag: `regsvr32.exe /u %SystemRoot%\system32\Ifilter.dll`</span></span>                                                                                    |
| [<span data-ttu-id="e7408-126">DllGetClassObject (función)</span><span class="sxs-lookup"><span data-stu-id="e7408-126">DllGetClassObject Function</span></span>](/windows/win32/api/combaseapi/nf-combaseapi-dllgetclassobject)   | <span data-ttu-id="e7408-127">El cliente de indización de contenido llama al punto de entrada de la [función DllGetClassObject](/windows/win32/api/combaseapi/nf-combaseapi-dllgetclassobject) , a través del modelo de objetos componentes (com), para crear un objeto de generador de clases para la interfaz [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) y obtener un puntero a la interfaz del generador de clases de ese objeto.</span><span class="sxs-lookup"><span data-stu-id="e7408-127">The content indexing client calls the [DllGetClassObject Function](/windows/win32/api/combaseapi/nf-combaseapi-dllgetclassobject) entry point, through Component Object Model (COM), to create a class factory object for the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface and to get a pointer to the class factory interface of that object.</span></span>                                               |
| [<span data-ttu-id="e7408-128">DllCanUnloadNow, función</span><span class="sxs-lookup"><span data-stu-id="e7408-128">DllCanUnloadNow Function</span></span>](/windows/win32/api/combaseapi/nf-combaseapi-dllcanunloadnow)     | <span data-ttu-id="e7408-129">El cliente de indización de contenido llama al punto de entrada de la [función DllCanUnloadNow](/windows/win32/api/combaseapi/nf-combaseapi-dllcanunloadnow) , a través de com, para determinar si es posible descargar el archivo dll de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter)  .</span><span class="sxs-lookup"><span data-stu-id="e7408-129">The content-indexing client calls the [DllCanUnloadNow Function](/windows/win32/api/combaseapi/nf-combaseapi-dllcanunloadnow) entry point, through COM, to determine whether it is possible to unload the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter)  DLL.</span></span> <span data-ttu-id="e7408-130">La interfaz **IFilter** se descarga después de que no se utilice durante un intervalo de tiempo, según se especifica en el valor del registro FilterIdleTimeOut.</span><span class="sxs-lookup"><span data-stu-id="e7408-130">The **IFilter** interface is unloaded after it is unused for an interval of time, as specified by the FilterIdleTimeOut registry value.</span></span> |

## <a name="implementing-the-ifilter-class-and-class-factory"></a><span data-ttu-id="e7408-131">Implementar la clase IFilter y el generador de clases</span><span class="sxs-lookup"><span data-stu-id="e7408-131">Implementing the IFilter Class and Class Factory</span></span>

<span data-ttu-id="e7408-132">Por lo general, cada dll de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) implementa al menos dos clases, como CFilter y CFilterCF.</span><span class="sxs-lookup"><span data-stu-id="e7408-132">At least two classes, such as CFilter and CFilterCF, are typically implemented by each [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) DLL.</span></span> <span data-ttu-id="e7408-133">La clase CFilter genera el objeto de interfaz de **IFilter** que implementa la funcionalidad de filtrado de contenido.</span><span class="sxs-lookup"><span data-stu-id="e7408-133">The CFilter class produces the **IFilter** interface object that implements the content-filtering functionality.</span></span> <span data-ttu-id="e7408-134">Sus funciones miembro implementan los métodos de interfaz de la interfaz **IFilter** .</span><span class="sxs-lookup"><span data-stu-id="e7408-134">Its member functions implement the interface methods of the **IFilter** interface.</span></span> <span data-ttu-id="e7408-135">Cada clase **IFilter** requiere un identificador de clase único (CLSID), que genera el implementador de la interfaz de **IFilter** .</span><span class="sxs-lookup"><span data-stu-id="e7408-135">Each **IFilter** class requires a unique class identifier (CLSID), which the **IFilter** interface implementer generates.</span></span>

<span data-ttu-id="e7408-136">La clase CFilterCF genera el objeto de generador de clases para la interfaz [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) .</span><span class="sxs-lookup"><span data-stu-id="e7408-136">The CFilterCF class produces the class-factory object for the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface.</span></span> <span data-ttu-id="e7408-137">Se llama al generador de clases, a través de su interfaz de [interfaz IClassFactory](/windows/win32/api/unknwn/nn-unknwn-iclassfactory) , mediante el punto de entrada de la [función DllGetClassObject](/windows/win32/api/combaseapi/nf-combaseapi-dllgetclassobject) del archivo dll.</span><span class="sxs-lookup"><span data-stu-id="e7408-137">The class factory is called, through its [IClassFactory Interface](/windows/win32/api/unknwn/nn-unknwn-iclassfactory) interface, by the [DllGetClassObject Function](/windows/win32/api/combaseapi/nf-combaseapi-dllgetclassobject) entry point of the DLL.</span></span> <span data-ttu-id="e7408-138">La clase CFilterCF crea el objeto CFilter y devuelve un puntero a [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown).</span><span class="sxs-lookup"><span data-stu-id="e7408-138">The CFilterCF class creates the CFilter object and returns a pointer to [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown).</span></span> <span data-ttu-id="e7408-139">En casos más complejos, un **IFilter** puede implementar una jerarquía de clases en lugar de la clase CFilter única.</span><span class="sxs-lookup"><span data-stu-id="e7408-139">In more complex cases, an **IFilter** can implement a class hierarchy in place of the single CFilter class.</span></span>

## <a name="inheriting-the-com-interfaces"></a><span data-ttu-id="e7408-140">Heredar las interfaces COM</span><span class="sxs-lookup"><span data-stu-id="e7408-140">Inheriting the COM Interfaces</span></span>

<span data-ttu-id="e7408-141">Windows Search 3,0 y versiones posteriores requieren que se use [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream) por las siguientes razones:</span><span class="sxs-lookup"><span data-stu-id="e7408-141">Windows Search 3.0 and later require that you use [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream) for the following reasons:</span></span>

- <span data-ttu-id="e7408-142">Para garantizar el rendimiento y la compatibilidad futura.</span><span class="sxs-lookup"><span data-stu-id="e7408-142">To ensure performance and future compatibility.</span></span>
- <span data-ttu-id="e7408-143">Para ayudar a aumentar la seguridad.</span><span class="sxs-lookup"><span data-stu-id="e7408-143">To help increase security.</span></span> <span data-ttu-id="e7408-144">Los IFilters implementados con [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream) son más seguros porque el contexto en el que se ejecuta la interfaz de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) no necesita los derechos para abrir archivos en el disco o a través de la red.</span><span class="sxs-lookup"><span data-stu-id="e7408-144">IFilters implemented with [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream) are more secure because the context in which the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface runs does not need the rights to open files on the disk or over the network.</span></span>
- <span data-ttu-id="e7408-145">Aunque Windows Search solo usa [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream), la clase de interfaz de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) también puede heredar las implementaciones de interfaz de la interfaz [IPersistFile](/windows/win32/api/objidl/nn-objidl-ipersistfile) y/o [IPersistStorage](/windows/win32/api/objidl/nn-objidl-ipersiststorage) para la compatibilidad con versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="e7408-145">While Windows Search uses only [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream), the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface class can also inherit the [IPersistFile Interface](/windows/win32/api/objidl/nn-objidl-ipersistfile) and/or [IPersistStorage Interface](/windows/win32/api/objidl/nn-objidl-ipersiststorage) interface implementations for backward compatibility.</span></span>

<span data-ttu-id="e7408-146">Estas interfaces se declaran en archivos incluidos en el directorio de inclusión de mssdk \\ y tienen identificadores de interfaz predefinidos (IID).</span><span class="sxs-lookup"><span data-stu-id="e7408-146">These interfaces are declared in files included from the mssdk\\include directory and have pre-defined interface identifiers (IIDs).</span></span> <span data-ttu-id="e7408-147">El cliente de indización de contenido consulta la interfaz de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) a través de [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown) para determinar cuál de estas interfaces usar al filtrar el contenido.</span><span class="sxs-lookup"><span data-stu-id="e7408-147">The content-indexing client queries the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface through [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown) to determine which of these interfaces to use when filtering content.</span></span>

## <a name="implementing-the-com-interface-methods"></a><span data-ttu-id="e7408-148">Implementar los métodos de la interfaz COM</span><span class="sxs-lookup"><span data-stu-id="e7408-148">Implementing the COM Interface Methods</span></span>

<span data-ttu-id="e7408-149">La interfaz de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) implementa los métodos [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown) para la clase de interfaz de **IFilter** y el generador de clases de interfaz de **IFilter** .</span><span class="sxs-lookup"><span data-stu-id="e7408-149">The [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface implements the [IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown) methods for both the **IFilter** interface class and the **IFilter** interface-class factory.</span></span> <span data-ttu-id="e7408-150">En la tabla siguiente se enumeran, en orden vtable, las interfaces y los métodos específicos de la interfaz de **IFilter** que debe implementar la interfaz de **IFilter** .</span><span class="sxs-lookup"><span data-stu-id="e7408-150">The following table lists, in vtable order, the **IFilter** interface-specific interfaces and methods that the **IFilter** interface should implement.</span></span> <span data-ttu-id="e7408-151">La interfaz **IFilter** debe implementar al menos [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream), pero puede implementar interfaces derivadas de IPersist adicionales.</span><span class="sxs-lookup"><span data-stu-id="e7408-151">The **IFilter** interface must implement at least [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream), but can implement additional IPersist-derived interfaces.</span></span>

| <span data-ttu-id="e7408-152">Interfaz COM</span><span class="sxs-lookup"><span data-stu-id="e7408-152">COM interface</span></span>                                                                             | <span data-ttu-id="e7408-153">Método</span><span class="sxs-lookup"><span data-stu-id="e7408-153">Method</span></span>                                                                                                                                                                                                                                                                         |
|-------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e7408-154">IClassFactory (interfaz)</span><span class="sxs-lookup"><span data-stu-id="e7408-154">IClassFactory Interface</span></span>](/windows/win32/api/unknwn/nn-unknwn-iclassfactory)   | <span data-ttu-id="e7408-155">CreateInstance, Lockserver (</span><span class="sxs-lookup"><span data-stu-id="e7408-155">CreateInstance, LockServer</span></span>                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="e7408-156">Interfaz IClassFactory2</span><span class="sxs-lookup"><span data-stu-id="e7408-156">IClassFactory2 Interface</span></span>](/windows/win32/api/ocidl/nn-ocidl-iclassfactory2)  | <span data-ttu-id="e7408-157">GetLicInfo, RequestLicKey, CreateInstanceLic</span><span class="sxs-lookup"><span data-stu-id="e7408-157">GetLicInfo, RequestLicKey, CreateInstanceLic</span></span>                                                                                                                                                                                                                                   |
| [<span data-ttu-id="e7408-158">**Imaging**</span><span class="sxs-lookup"><span data-stu-id="e7408-158">**IFilter**</span></span>](/windows/win32/api/filter/nn-filter-ifilter)                                                        | <span data-ttu-id="e7408-159">[**IFilter:: init**](/windows/win32/api/filter/nf-filter-ifilter-init), [**IFilter:: GetChunk**](/windows/win32/api/filter/nf-filter-ifilter-getchunk), [**IFilter:: gettext**](/windows/win32/api/filter/nf-filter-ifilter-gettext), [**IFilter:: GetValue**](/windows/win32/api/filter/nf-filter-ifilter-getvalue), [**IFilter:: BindRegion**](/windows/win32/api/filter/nf-filter-ifilter-bindregion)</span><span class="sxs-lookup"><span data-stu-id="e7408-159">[**IFilter::Init**](/windows/win32/api/filter/nf-filter-ifilter-init), [**IFilter::GetChunk**](/windows/win32/api/filter/nf-filter-ifilter-getchunk), [**IFilter::GetText**](/windows/win32/api/filter/nf-filter-ifilter-gettext), [**IFilter::GetValue**](/windows/win32/api/filter/nf-filter-ifilter-getvalue), [**IFilter::BindRegion**](/windows/win32/api/filter/nf-filter-ifilter-bindregion)</span></span> |
| [<span data-ttu-id="e7408-160">IPersist (interfaz)</span><span class="sxs-lookup"><span data-stu-id="e7408-160">IPersist Interface</span></span>](/windows/desktop/api/objidl/nn-objidl-ipersist)               | <span data-ttu-id="e7408-161">GetClassID</span><span class="sxs-lookup"><span data-stu-id="e7408-161">GetClassID</span></span>                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="e7408-162">IPersistFile (interfaz)</span><span class="sxs-lookup"><span data-stu-id="e7408-162">IPersistFile Interface</span></span>](/windows/win32/api/objidl/nn-objidl-ipersistfile)    | <span data-ttu-id="e7408-163">IsDirty, cargar, guardar, SaveCompleted, GetCurFile</span><span class="sxs-lookup"><span data-stu-id="e7408-163">IsDirty, Load, Save, SaveCompleted, GetCurFile</span></span>                                                                                                                                                                                                                                 |
| [<span data-ttu-id="e7408-164">IPersistStorage (interfaz)</span><span class="sxs-lookup"><span data-stu-id="e7408-164">IPersistStorage Interface</span></span>](/windows/win32/api/objidl/nn-objidl-ipersiststorage) | <span data-ttu-id="e7408-165">IsDirty, cargar, guardar, GetSizeMax</span><span class="sxs-lookup"><span data-stu-id="e7408-165">IsDirty, Load, Save, GetSizeMax</span></span>                                                                                                                                                                                                                                                |
| [<span data-ttu-id="e7408-166">IPersistStream</span><span class="sxs-lookup"><span data-stu-id="e7408-166">IPersistStream</span></span>](/windows/win32/api/objidl/nn-objidl-ipersiststream)            | <span data-ttu-id="e7408-167">IsDirty, cargar, guardar, GetSizeMax</span><span class="sxs-lookup"><span data-stu-id="e7408-167">IsDirty, Load, Save, GetSizeMax</span></span>                                                                                                                                                                                                                                                |

<span data-ttu-id="e7408-168">En la página de referencia de cada método se especifican los parámetros y el comportamiento funcional de ese método.</span><span class="sxs-lookup"><span data-stu-id="e7408-168">The reference page for each method specifies the parameters and functional behavior for that method.</span></span> <span data-ttu-id="e7408-169">Cada página de referencia también proporciona los códigos de resultado que se van a implementar para ese método.</span><span class="sxs-lookup"><span data-stu-id="e7408-169">Each reference page also gives the result codes to implement for that method.</span></span> <span data-ttu-id="e7408-170">Las páginas de referencia de los métodos de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) proporcionan a los códigos específicos de la interfaz de los códigos de resultado de la [ \_ ITF de servicio](../com/codes-in-facility-itf.md) que se van a implementar, y el cliente de indización de contenido también puede controlar cualquiera de los códigos de resultado genéricos, como Facility \_ y Facility \_ Win32.</span><span class="sxs-lookup"><span data-stu-id="e7408-170">The reference pages for the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) methods give the interface-specific [Codes in FACILITY\_ITF](../com/codes-in-facility-itf.md) result codes to be implemented, and the content-indexing client can also handle any of the generic result codes, such as FACILITY\_NULL and FACILITY\_WIN32.</span></span> <span data-ttu-id="e7408-171">Para obtener más información, vea [estructura de los códigos de error com](../com/structure-of-com-error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="e7408-171">For more information, see [Structure of COM Error Codes](../com/structure-of-com-error-codes.md).</span></span>

### <a name="com-methods-that-are-not-implemented"></a><span data-ttu-id="e7408-172">Métodos COM no implementados</span><span class="sxs-lookup"><span data-stu-id="e7408-172">COM Methods that are not Implemented</span></span>

<span data-ttu-id="e7408-173">La interfaz [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) debe implementar al menos [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream), pero no es necesario implementar otras interfaces derivadas de IPersist.</span><span class="sxs-lookup"><span data-stu-id="e7408-173">The [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface must implement at least [IPersistStream](/windows/win32/api/objidl/nn-objidl-ipersiststream), but does not need to implement additional IPersist-derived interfaces.</span></span>

<span data-ttu-id="e7408-174">Windows Search no necesita implementar los métodos COM que se enumeran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="e7408-174">Windows Search does not need to implement the COM methods listed in the following table.</span></span>

| <span data-ttu-id="e7408-175">Método que no es necesario</span><span class="sxs-lookup"><span data-stu-id="e7408-175">Method that is not required</span></span>                               | <span data-ttu-id="e7408-176">Descripción</span><span class="sxs-lookup"><span data-stu-id="e7408-176">Description</span></span>                       |
|-----------------------------------------------------------|-----------------------------------|
| <span data-ttu-id="e7408-177">IPersistStream:: IsDirty</span><span class="sxs-lookup"><span data-stu-id="e7408-177">IPersistStream::IsDirty</span></span>                                   | <span data-ttu-id="e7408-178">Los filtros deben devolver E \_ NOTIMPL.</span><span class="sxs-lookup"><span data-stu-id="e7408-178">Filters should return E\_NOTIMPL.</span></span> |
| <span data-ttu-id="e7408-179">IPersistStream:: Save</span><span class="sxs-lookup"><span data-stu-id="e7408-179">IPersistStream::Save</span></span>                                      | <span data-ttu-id="e7408-180">Los filtros deben devolver E \_ NOTIMPL.</span><span class="sxs-lookup"><span data-stu-id="e7408-180">Filters should return E\_NOTIMPL.</span></span> |
| <span data-ttu-id="e7408-181">IPersistStream:: GetSizeMax</span><span class="sxs-lookup"><span data-stu-id="e7408-181">IPersistStream::GetSizeMax</span></span>                                | <span data-ttu-id="e7408-182">Los filtros deben devolver E \_ NOTIMPL.</span><span class="sxs-lookup"><span data-stu-id="e7408-182">Filters should return E\_NOTIMPL.</span></span> |
| [<span data-ttu-id="e7408-183">**IFilter:: BindRegion**</span><span class="sxs-lookup"><span data-stu-id="e7408-183">**IFilter::BindRegion**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-bindregion) | <span data-ttu-id="e7408-184">Los filtros deben devolver E \_ NOTIMPL.</span><span class="sxs-lookup"><span data-stu-id="e7408-184">Filters should return E\_NOTIMPL.</span></span> |

## <a name="additional-resources"></a><span data-ttu-id="e7408-185">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="e7408-185">Additional Resources</span></span>

- <span data-ttu-id="e7408-186">En el ejemplo de código [IFilterSample](-search-sample-ifiltersample.md) , disponible en [GitHub](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/WindowsSearch/IFilterSample), se muestra cómo crear una clase base de IFilter para implementar la interfaz [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) .</span><span class="sxs-lookup"><span data-stu-id="e7408-186">The [IFilterSample](-search-sample-ifiltersample.md) code sample, available on [GitHub](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/WindowsSearch/IFilterSample), demonstrates how to create an IFilter base class for implementing the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface.</span></span>
- <span data-ttu-id="e7408-187">Para obtener información general sobre el proceso de indización, vea [el proceso de indización](-search-indexing-process-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e7408-187">For an overview of the indexing process, see [The Indexing Process](-search-indexing-process-overview.md).</span></span>
- <span data-ttu-id="e7408-188">Para obtener información general sobre los tipos de archivo, consulte [tipos de archivo](../shell/fa-file-types.md).</span><span class="sxs-lookup"><span data-stu-id="e7408-188">For an overview of file types, see [File Types](../shell/fa-file-types.md).</span></span>
- <span data-ttu-id="e7408-189">Para consultar los atributos de Asociación de archivo para un tipo de archivo, consulte [PerceivedTypes, SystemFileAssociations y registro de aplicaciones](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="e7408-189">To query file association attributes for a file type, see [PerceivedTypes, SystemFileAssociations, and Application Registration](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e7408-190">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="e7408-190">Related topics</span></span>

[<span data-ttu-id="e7408-191">Desarrollar controladores de filtro</span><span class="sxs-lookup"><span data-stu-id="e7408-191">Developing Filter Handlers</span></span>](-search-ifilter-conceptual.md)

[<span data-ttu-id="e7408-192">Descripción de los controladores de filtro en Windows Search</span><span class="sxs-lookup"><span data-stu-id="e7408-192">Understanding Filter Handlers in Windows Search</span></span>](-search-ifilter-about.md)

[<span data-ttu-id="e7408-193">Prácticas recomendadas para crear controladores de filtro en Windows Search</span><span class="sxs-lookup"><span data-stu-id="e7408-193">Best Practices for Creating Filter Handlers in Windows Search</span></span>](-search-3x-wds-extidx-filters.md)

[<span data-ttu-id="e7408-194">Devolver propiedades de un controlador de filtro</span><span class="sxs-lookup"><span data-stu-id="e7408-194">Returning Properties from a Filter Handler</span></span>](-search-ifilter-property-filtering.md)

[<span data-ttu-id="e7408-195">Controladores de filtro que se distribuyen con Windows</span><span class="sxs-lookup"><span data-stu-id="e7408-195">Filter Handlers that Ship with Windows</span></span>](-search-ifilter-implementations.md)

[<span data-ttu-id="e7408-196">Registrar controladores de filtro</span><span class="sxs-lookup"><span data-stu-id="e7408-196">Registering Filter Handlers</span></span>](-search-ifilter-registering-filters.md)

[<span data-ttu-id="e7408-197">Probar controladores de filtro</span><span class="sxs-lookup"><span data-stu-id="e7408-197">Testing Filter Handlers</span></span>](-search-ifilter-testing-filters.md)
