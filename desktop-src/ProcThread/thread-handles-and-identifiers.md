---
description: Cuando se crea un nuevo subproceso mediante la función CreateThread o CreateRemoteThread, se devuelve un identificador al subproceso.
ms.assetid: ff91fe27-9773-4185-bc1e-57e897be3821
title: Identificadores e identificadores de subprocesos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 501d449bdb34d158ad14e52409967d4ef17f62f3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "103909673"
---
# <a name="thread-handles-and-identifiers"></a><span data-ttu-id="e9ac2-103">Identificadores e identificadores de subprocesos</span><span class="sxs-lookup"><span data-stu-id="e9ac2-103">Thread Handles and Identifiers</span></span>

<span data-ttu-id="e9ac2-104">Cuando se crea un nuevo subproceso mediante la función [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) o [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) , se devuelve un identificador al subproceso.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-104">When a new thread is created by the [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) or [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) function, a handle to the thread is returned.</span></span> <span data-ttu-id="e9ac2-105">De forma predeterminada, este identificador tiene derechos de acceso completo y, en función de la comprobación de acceso de seguridad, se puede usar en cualquiera de las funciones que aceptan un identificador de subproceso.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-105">By default, this handle has full access rights, and—subject to security access checking—can be used in any of the functions that accept a thread handle.</span></span> <span data-ttu-id="e9ac2-106">Este identificador lo pueden heredar los procesos secundarios, dependiendo del indicador de herencia especificado al crearlo.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-106">This handle can be inherited by child processes, depending on the inheritance flag specified when it is created.</span></span> <span data-ttu-id="e9ac2-107">El identificador se puede duplicar mediante [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle), lo que permite crear un identificador de subproceso con un subconjunto de derechos de acceso.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-107">The handle can be duplicated by [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle), which enables you to create a thread handle with a subset of the access rights.</span></span> <span data-ttu-id="e9ac2-108">El identificador es válido hasta que se cierra, incluso después de que se haya terminado el subproceso que representa.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-108">The handle is valid until closed, even after the thread it represents has been terminated.</span></span>

<span data-ttu-id="e9ac2-109">Las funciones [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) y [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) también devuelven un identificador que identifica de forma única el subproceso en todo el sistema.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-109">The [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) and [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) functions also return an identifier that uniquely identifies the thread throughout the system.</span></span> <span data-ttu-id="e9ac2-110">Un subproceso puede utilizar la función [**GetCurrentThreadId**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) para obtener su propio identificador de subproceso.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-110">A thread can use the [**GetCurrentThreadId**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) function to get its own thread identifier.</span></span> <span data-ttu-id="e9ac2-111">Los identificadores son válidos desde el momento en que se crea el subproceso hasta que el subproceso haya finalizado.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-111">The identifiers are valid from the time the thread is created until the thread has been terminated.</span></span> <span data-ttu-id="e9ac2-112">Tenga en cuenta que ningún identificador de subproceso nunca será 0.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-112">Note that no thread identifier will ever be 0.</span></span>

<span data-ttu-id="e9ac2-113">Si tiene un identificador de subproceso, puede obtener el identificador de subproceso mediante una llamada a la función [**OpenThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) .</span><span class="sxs-lookup"><span data-stu-id="e9ac2-113">If you have a thread identifier, you can get the thread handle by calling the [**OpenThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) function.</span></span> <span data-ttu-id="e9ac2-114">**OpenThread** permite especificar los derechos de acceso del identificador y si puede heredarse.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-114">**OpenThread** enables you to specify the handle's access rights and whether it can be inherited.</span></span>

<span data-ttu-id="e9ac2-115">Un subproceso puede usar la función [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) para recuperar un *pseudo identificador* de su propio objeto de subproceso.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-115">A thread can use the [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) function to retrieve a *pseudo handle* to its own thread object.</span></span> <span data-ttu-id="e9ac2-116">Este pseudo identificador solo es válido para el proceso de llamada; no se puede heredar ni duplicar para su uso por parte de otros procesos.</span><span class="sxs-lookup"><span data-stu-id="e9ac2-116">This pseudo handle is valid only for the calling process; it cannot be inherited or duplicated for use by other processes.</span></span> <span data-ttu-id="e9ac2-117">Para obtener el identificador real del subproceso, dado un pseudo identificador, utilice la función [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .</span><span class="sxs-lookup"><span data-stu-id="e9ac2-117">To get the real handle to the thread, given a pseudo handle, use the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function.</span></span>

<span data-ttu-id="e9ac2-118">Para enumerar los subprocesos de un proceso, utilice las funciones [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) y [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) .</span><span class="sxs-lookup"><span data-stu-id="e9ac2-118">To enumerate the threads of a process, use the [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) and [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) functions.</span></span>

 

 
