---
description: La función FindFirstPrinterChangeNotification crea un objeto de notificación de cambio y devuelve un identificador al objeto. Después, puede usar este identificador en una llamada a una de las funciones de espera para supervisar los cambios en la impresora o el servidor de impresión.
ms.assetid: 4155ef5c-cd96-4960-919b-d9a495bb73a5
title: Función FindFirstPrinterChangeNotification (winspool. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- FindFirstPrinterChangeNotification
api_type:
- DllExport
api_location:
- Spoolss.dll
ms.openlocfilehash: 2da6a2ae73aa5b987ea3b8f8789f81ed0b4cdf06
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104276783"
---
# <a name="findfirstprinterchangenotification-function"></a><span data-ttu-id="344a7-104">FindFirstPrinterChangeNotification función)</span><span class="sxs-lookup"><span data-stu-id="344a7-104">FindFirstPrinterChangeNotification function</span></span>

<span data-ttu-id="344a7-105">La función **FindFirstPrinterChangeNotification** crea un objeto de notificación de cambio y devuelve un identificador al objeto.</span><span class="sxs-lookup"><span data-stu-id="344a7-105">The **FindFirstPrinterChangeNotification** function creates a change notification object and returns a handle to the object.</span></span> <span data-ttu-id="344a7-106">Después, puede usar este identificador en una llamada a una de las funciones de espera para supervisar los cambios en la impresora o el servidor de impresión.</span><span class="sxs-lookup"><span data-stu-id="344a7-106">You can then use this handle in a call to one of the wait functions to monitor changes to the printer or print server.</span></span>

<span data-ttu-id="344a7-107">La llamada a **FindFirstPrinterChangeNotification** especifica el tipo de cambios que se van a supervisar.</span><span class="sxs-lookup"><span data-stu-id="344a7-107">The **FindFirstPrinterChangeNotification** call specifies the type of changes to be monitored.</span></span> <span data-ttu-id="344a7-108">Puede especificar un conjunto de condiciones para supervisar los cambios, un conjunto de campos de información de la impresora que se van a supervisar o ambos.</span><span class="sxs-lookup"><span data-stu-id="344a7-108">You can specify a set of conditions to monitor for changes, a set of printer information fields to monitor, or both.</span></span>

<span data-ttu-id="344a7-109">Una operación de espera en el identificador de notificación de cambio se realiza correctamente cuando se produce uno de los cambios especificados en la impresora o el servidor de impresión especificado.</span><span class="sxs-lookup"><span data-stu-id="344a7-109">A wait operation on the change notification handle succeeds when one of the specified changes occurs in the specified printer or print server.</span></span> <span data-ttu-id="344a7-110">A continuación, llame a la función [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) para recuperar información sobre el cambio y restablecer el objeto de notificación de cambios para su uso en la siguiente operación de espera.</span><span class="sxs-lookup"><span data-stu-id="344a7-110">You then call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to retrieve information about the change, and to reset the change notification object for use in the next wait operation.</span></span>

## <a name="syntax"></a><span data-ttu-id="344a7-111">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="344a7-111">Syntax</span></span>


```C++
HANDLE FindFirstPrinterChangeNotification(
  _In_     HANDLE hPrinter,
           DWORD  fdwFilter,
           DWORD  fdwOptions,
  _In_opt_ LPVOID pPrinterNotifyOptions
);
```



## <a name="parameters"></a><span data-ttu-id="344a7-112">Parámetros</span><span class="sxs-lookup"><span data-stu-id="344a7-112">Parameters</span></span>

<dl> <dt>

<span data-ttu-id="344a7-113">*hPrinter* \[ de\]</span><span class="sxs-lookup"><span data-stu-id="344a7-113">*hPrinter* \[in\]</span></span>
</dt> <dd>

<span data-ttu-id="344a7-114">Identificador de la impresora o del servidor de impresión que desea supervisar.</span><span class="sxs-lookup"><span data-stu-id="344a7-114">A handle to the printer or print server that you want to monitor.</span></span> <span data-ttu-id="344a7-115">Use la función [**OpenPrinter**](openprinter.md) o [**AddPrinter (**](addprinter.md) para recuperar un identificador de impresora.</span><span class="sxs-lookup"><span data-stu-id="344a7-115">Use the [**OpenPrinter**](openprinter.md) or [**AddPrinter**](addprinter.md) function to retrieve a printer handle.</span></span>

</dd> <dt>

<span data-ttu-id="344a7-116">*fdwFilter*</span><span class="sxs-lookup"><span data-stu-id="344a7-116">*fdwFilter*</span></span> 
</dt> <dd>

<span data-ttu-id="344a7-117">Las condiciones que harán que el objeto de notificación de cambios entre en un estado señalado.</span><span class="sxs-lookup"><span data-stu-id="344a7-117">The conditions that will cause the change notification object to enter a signaled state.</span></span> <span data-ttu-id="344a7-118">Una notificación de cambio se produce cuando se cumplen una o varias de las condiciones especificadas.</span><span class="sxs-lookup"><span data-stu-id="344a7-118">A change notification occurs when one or more of the specified conditions are met.</span></span> <span data-ttu-id="344a7-119">El parámetro *fdwFilter* puede ser cero si *PPrinterNotifyOptions* no es **null**.</span><span class="sxs-lookup"><span data-stu-id="344a7-119">The *fdwFilter* parameter can be zero if *pPrinterNotifyOptions* is non-**NULL**.</span></span>

<span data-ttu-id="344a7-120">Este parámetro puede ser uno o varios de los valores siguientes.</span><span class="sxs-lookup"><span data-stu-id="344a7-120">This parameter can be one or more of the following values.</span></span>



| <span data-ttu-id="344a7-121">Value</span><span class="sxs-lookup"><span data-stu-id="344a7-121">Value</span></span>                                                                                                                                                                                                              | <span data-ttu-id="344a7-122">Significado</span><span class="sxs-lookup"><span data-stu-id="344a7-122">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_CHANGE_FORM"></span><span id="printer_change_form"></span><dl> <span data-ttu-id="344a7-123"><dt>**\_formulario de cambio de impresora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-123"><dt>**PRINTER\_CHANGE\_FORM**</dt></span></span> </dl>                                   | <span data-ttu-id="344a7-124">Notifique cualquier cambio que se realice en un formulario.</span><span class="sxs-lookup"><span data-stu-id="344a7-124">Notify of any changes to a form.</span></span> <span data-ttu-id="344a7-125">Puede establecer esta marca general o una o más de las siguientes marcas específicas:</span><span class="sxs-lookup"><span data-stu-id="344a7-125">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="344a7-126">\_formulario para \_ Agregar y cambiar la impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-126">PRINTER\_CHANGE\_ADD\_FORM</span></span></dd> <dd><span data-ttu-id="344a7-127">\_formulario de \_ conjunto de cambios de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-127">PRINTER\_CHANGE\_SET\_FORM</span></span></dd> <dd><span data-ttu-id="344a7-128">\_formulario de \_ eliminación de cambio de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-128">PRINTER\_CHANGE\_DELETE\_FORM</span></span></dd> </dl>                                                                              |
| <span id="PRINTER_CHANGE_JOB"></span><span id="printer_change_job"></span><dl> <span data-ttu-id="344a7-129"><dt>**\_trabajo de cambio de impresora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-129"><dt>**PRINTER\_CHANGE\_JOB**</dt></span></span> </dl>                                      | <span data-ttu-id="344a7-130">Notifique cualquier cambio que se realice en un trabajo.</span><span class="sxs-lookup"><span data-stu-id="344a7-130">Notify of any changes to a job.</span></span> <span data-ttu-id="344a7-131">Puede establecer esta marca general o una o más de las siguientes marcas específicas:</span><span class="sxs-lookup"><span data-stu-id="344a7-131">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="344a7-132">\_ \_ Agregar trabajo de cambio de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-132">PRINTER\_CHANGE\_ADD\_JOB</span></span></dd> <dd><span data-ttu-id="344a7-133">\_trabajo de \_ conjunto de cambios de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-133">PRINTER\_CHANGE\_SET\_JOB</span></span></dd> <dd><span data-ttu-id="344a7-134">\_trabajo de \_ eliminación de cambio de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-134">PRINTER\_CHANGE\_DELETE\_JOB</span></span></dd> <dd><span data-ttu-id="344a7-135">\_trabajo de \_ escritura de cambio de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-135">PRINTER\_CHANGE\_WRITE\_JOB</span></span></dd> </dl>                                  |
| <span id="PRINTER_CHANGE_PORT"></span><span id="printer_change_port"></span><dl> <span data-ttu-id="344a7-136"><dt>**\_Puerto de cambio de impresora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-136"><dt>**PRINTER\_CHANGE\_PORT**</dt></span></span> </dl>                                   | <span data-ttu-id="344a7-137">Notifique cualquier cambio que se realice en un puerto.</span><span class="sxs-lookup"><span data-stu-id="344a7-137">Notify of any changes to a port.</span></span> <span data-ttu-id="344a7-138">Puede establecer esta marca general o una o más de las siguientes marcas específicas:</span><span class="sxs-lookup"><span data-stu-id="344a7-138">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="344a7-139">cambio de impresora- \_ \_ agregar \_ Puerto</span><span class="sxs-lookup"><span data-stu-id="344a7-139">PRINTER\_CHANGE\_ADD\_PORT</span></span></dd> <dd><span data-ttu-id="344a7-140">\_Puerto de \_ configuración de cambio de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-140">PRINTER\_CHANGE\_CONFIGURE\_PORT</span></span> </dd> <dd><span data-ttu-id="344a7-141">\_Puerto de \_ eliminación de cambio de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-141">PRINTER\_CHANGE\_DELETE\_PORT</span></span></dd> </dl>                                                                       |
| <span id="PRINTER_CHANGE_PRINT_PROCESSOR"></span><span id="printer_change_print_processor"></span><dl> <span data-ttu-id="344a7-142"><dt>**\_procesador de \_ impresión \_ cambiar impresora**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-142"><dt>**PRINTER\_CHANGE\_PRINT\_PROCESSOR**</dt></span></span> </dl> | <span data-ttu-id="344a7-143">Notifique cualquier cambio en un procesador de impresión.</span><span class="sxs-lookup"><span data-stu-id="344a7-143">Notify of any changes to a print processor.</span></span> <span data-ttu-id="344a7-144">Puede establecer esta marca general o una o más de las siguientes marcas específicas:</span><span class="sxs-lookup"><span data-stu-id="344a7-144">You can set this general flag or one or more of the following specific flags:</span></span> <br/> <dl> <dd><span data-ttu-id="344a7-145">cambio de impresora- \_ \_ agregar \_ procesador de impresión \_</span><span class="sxs-lookup"><span data-stu-id="344a7-145">PRINTER\_CHANGE\_ADD\_PRINT\_PROCESSOR</span></span> </dd> <dd><span data-ttu-id="344a7-146">cambio de impresora- \_ \_ eliminar \_ procesador de impresión \_</span><span class="sxs-lookup"><span data-stu-id="344a7-146">PRINTER\_CHANGE\_DELETE\_PRINT\_PROCESSOR</span></span></dd> </dl>                                                                                        |
| <span id="PRINTER_CHANGE_PRINTER"></span><span id="printer_change_printer"></span><dl> <span data-ttu-id="344a7-147"><dt>**\_impresora cambiar \_ impresora**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-147"><dt>**PRINTER\_CHANGE\_PRINTER**</dt></span></span> </dl>                          | <span data-ttu-id="344a7-148">Notifique cualquier cambio en una impresora.</span><span class="sxs-lookup"><span data-stu-id="344a7-148">Notify of any changes to a printer.</span></span> <span data-ttu-id="344a7-149">Puede establecer esta marca general o una o más de las siguientes marcas específicas:</span><span class="sxs-lookup"><span data-stu-id="344a7-149">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="344a7-150">cambio de impresora \_ \_ agregar \_ impresora</span><span class="sxs-lookup"><span data-stu-id="344a7-150">PRINTER\_CHANGE\_ADD\_PRINTER</span></span></dd> <dd><span data-ttu-id="344a7-151">\_impresora de \_ conjunto de cambios de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-151">PRINTER\_CHANGE\_SET\_PRINTER</span></span></dd> <dd><span data-ttu-id="344a7-152">cambio de impresora- \_ \_ eliminar \_ impresora</span><span class="sxs-lookup"><span data-stu-id="344a7-152">PRINTER\_CHANGE\_DELETE\_PRINTER</span></span></dd> <dd><span data-ttu-id="344a7-153">\_ \_ no se pudo cambiar la impresora \_ impresora de conexión \_</span><span class="sxs-lookup"><span data-stu-id="344a7-153">PRINTER\_CHANGE\_FAILED\_CONNECTION\_PRINTER</span></span></dd> </dl> |
| <span id="PRINTER_CHANGE_PRINTER_DRIVER"></span><span id="printer_change_printer_driver"></span><dl> <span data-ttu-id="344a7-154"><dt>**\_controlador de \_ impresora de cambio de impresora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-154"><dt>**PRINTER\_CHANGE\_PRINTER\_DRIVER**</dt></span></span> </dl>    | <span data-ttu-id="344a7-155">Notifique cualquier cambio en un controlador de impresora.</span><span class="sxs-lookup"><span data-stu-id="344a7-155">Notify of any changes to a printer driver.</span></span> <span data-ttu-id="344a7-156">Puede establecer esta marca general o una o más de las siguientes marcas específicas:</span><span class="sxs-lookup"><span data-stu-id="344a7-156">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="344a7-157">cambio de impresora- \_ \_ agregar \_ controlador de impresora \_</span><span class="sxs-lookup"><span data-stu-id="344a7-157">PRINTER\_CHANGE\_ADD\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="344a7-158">\_controlador de \_ impresora de conjunto de cambios de impresora \_ \_</span><span class="sxs-lookup"><span data-stu-id="344a7-158">PRINTER\_CHANGE\_SET\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="344a7-159">\_controlador de \_ impresora para eliminar el cambio de impresora \_ \_</span><span class="sxs-lookup"><span data-stu-id="344a7-159">PRINTER\_CHANGE\_DELETE\_PRINTER\_DRIVER</span></span></dd> </dl>                                   |
| <span id="PRINTER_CHANGE_ALL"></span><span id="printer_change_all"></span><dl> <span data-ttu-id="344a7-160"><dt>**\_cambiar \_ todo de impresora**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-160"><dt>**PRINTER\_CHANGE\_ALL**</dt></span></span> </dl>                                      | <span data-ttu-id="344a7-161">Notificar si se produce alguno de los cambios anteriores.</span><span class="sxs-lookup"><span data-stu-id="344a7-161">Notify if any of the preceding changes occur.</span></span><br/>                                                                                                                                                                                                                                                                                                                     |
| <span id="PRINTER_CHANGE_SERVER"></span><span id="printer_change_server"></span><dl> <span data-ttu-id="344a7-162"><dt>**\_servidor de cambios de impresora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-162"><dt>**PRINTER\_CHANGE\_SERVER**</dt></span></span> </dl>                             | <span data-ttu-id="344a7-163">Windows 7: notificar los cambios en el servidor.</span><span class="sxs-lookup"><span data-stu-id="344a7-163">Windows 7: Notify of any changes to the server.</span></span><br/> <span data-ttu-id="344a7-164">Esta marca no se incluye en los cambios supervisados mediante la configuración de la **impresora \_ cambiar \_ todos los** valores.</span><span class="sxs-lookup"><span data-stu-id="344a7-164">This flag is not included in the changes monitored by setting the **PRINTER\_CHANGE\_ALL** value.</span></span><br/>                                                                                                                                                                                                      |



 

<span data-ttu-id="344a7-165">Para obtener descripciones de las marcas más específicas de la tabla anterior, vea la función [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="344a7-165">For descriptions of the more specific flags in the preceding table, see the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function.</span></span>

</dd> <dt>

<span data-ttu-id="344a7-166">*fdwOptions*</span><span class="sxs-lookup"><span data-stu-id="344a7-166">*fdwOptions*</span></span> 
</dt> <dd>

<span data-ttu-id="344a7-167">Marca que determina la categoría de impresoras en las que funcionarán las notificaciones.</span><span class="sxs-lookup"><span data-stu-id="344a7-167">The flag that determines the category of printers for which notifications will work.</span></span>



| <span data-ttu-id="344a7-168">Value</span><span class="sxs-lookup"><span data-stu-id="344a7-168">Value</span></span>                                                                                                                                                                                                                                                               | <span data-ttu-id="344a7-169">Significado</span><span class="sxs-lookup"><span data-stu-id="344a7-169">Meaning</span></span>                                                                                                                                      |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_NOTIFY_CATEGORY_ALL"></span><span id="printer_notify_category_all"></span><dl> <span data-ttu-id="344a7-170"><dt>**Impresora \_ de NOTIFICACIÓN de \_ categoría \_ todos los**</dt> <dt>0x001000</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-170"><dt>**PRINTER\_NOTIFY\_CATEGORY\_ALL**</dt> <dt>0x001000</dt></span></span> </dl> | <span data-ttu-id="344a7-171">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) devuelve notificaciones para impresoras 2D y 3D.</span><span class="sxs-lookup"><span data-stu-id="344a7-171">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications for both 2D and 3D printers.</span></span><br/> |
| <span id="PRINTER_NOTIFY_CATEGORY_3D"></span><span id="printer_notify_category_3d"></span><dl> <span data-ttu-id="344a7-172"><dt>**Impresora \_ de Categoría de notificación en \_ \_ 3D**</dt> <dt>0x002000</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-172"><dt>**PRINTER\_NOTIFY\_CATEGORY\_3D**</dt> <dt>0x002000</dt></span></span> </dl>    | <span data-ttu-id="344a7-173">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) solo devuelve notificaciones para impresoras 3D.</span><span class="sxs-lookup"><span data-stu-id="344a7-173">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications only for 3D printers.</span></span><br/>        |



 

<span data-ttu-id="344a7-174">Cuando esta marca se establece en cero (0), **FindFirstPrinterChangeNotification** solo funcionará para las impresoras 2D.</span><span class="sxs-lookup"><span data-stu-id="344a7-174">When this flag is set to zero (0), **FindFirstPrinterChangeNotification** will only work for 2D printers.</span></span> <span data-ttu-id="344a7-175">Este es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="344a7-175">This is the default value.</span></span>

</dd> <dt>

<span data-ttu-id="344a7-176">*pPrinterNotifyOptions* \[ en, opcional\]</span><span class="sxs-lookup"><span data-stu-id="344a7-176">*pPrinterNotifyOptions* \[in, optional\]</span></span>
</dt> <dd>

<span data-ttu-id="344a7-177">Puntero a una estructura [**de \_ \_ Opciones de notificación de impresora**](printer-notify-options.md) .</span><span class="sxs-lookup"><span data-stu-id="344a7-177">A pointer to a [**PRINTER\_NOTIFY\_OPTIONS**](printer-notify-options.md) structure.</span></span> <span data-ttu-id="344a7-178">El miembro **pTypes** de esta estructura es una matriz de una o varias estructuras de tipo de opciones de notificación de [**impresora \_ \_ \_**](printer-notify-options-type.md) , cada una de las cuales especifica el campo de información de la impresora que se va a supervisar.</span><span class="sxs-lookup"><span data-stu-id="344a7-178">The **pTypes** member of this structure is an array of one or more [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md) structures, each of which specifies a printer information field to monitor.</span></span> <span data-ttu-id="344a7-179">Una notificación de cambio se produce cuando cambia uno o varios de los campos especificados.</span><span class="sxs-lookup"><span data-stu-id="344a7-179">A change notification occurs when one or more of the specified fields changes.</span></span> <span data-ttu-id="344a7-180">Cuando se produce un cambio, la función [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) puede recuperar la nueva información de la impresora.</span><span class="sxs-lookup"><span data-stu-id="344a7-180">When a change occurs, the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function can retrieve the new printer information.</span></span> <span data-ttu-id="344a7-181">Este parámetro puede ser **null** si *fdwFilter* es distinto de cero.</span><span class="sxs-lookup"><span data-stu-id="344a7-181">This parameter can be **NULL** if *fdwFilter* is nonzero.</span></span>

<span data-ttu-id="344a7-182">Para obtener una lista de los campos que se pueden supervisar, vea [**tipo de opciones de notificación de impresora \_ \_ \_**](printer-notify-options-type.md).</span><span class="sxs-lookup"><span data-stu-id="344a7-182">For a list of fields that can be monitored, see [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md).</span></span>

</dd> </dl>

## <a name="return-value"></a><span data-ttu-id="344a7-183">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="344a7-183">Return value</span></span>

<span data-ttu-id="344a7-184">Si la función se ejecuta correctamente, el valor devuelto es un identificador de un objeto de notificación de cambio asociado a la impresora o servidor de impresión especificado.</span><span class="sxs-lookup"><span data-stu-id="344a7-184">If the function succeeds, the return value is a handle to a change notification object associated with the specified printer or print server.</span></span>

<span data-ttu-id="344a7-185">Si se produce un error en la función, el valor devuelto es un valor de identificador no válido \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="344a7-185">If the function fails, the return value is INVALID\_HANDLE\_VALUE.</span></span>

## <a name="remarks"></a><span data-ttu-id="344a7-186">Observaciones</span><span class="sxs-lookup"><span data-stu-id="344a7-186">Remarks</span></span>

> [!Note]  
> <span data-ttu-id="344a7-187">Se trata de una función de bloqueo o sincrónica y podría no volver inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="344a7-187">This is a blocking or synchronous function and might not return immediately.</span></span> <span data-ttu-id="344a7-188">La rapidez con la que se devuelve esta función depende de factores en tiempo de ejecución, como el estado de la red, la configuración del servidor de impresión y los factores de implementación del controlador de impresora que son difíciles de predecir al escribir una aplicación.</span><span class="sxs-lookup"><span data-stu-id="344a7-188">How quickly this function returns depends on run-time factors such as network status, print server configuration, and printer driver implementation factors that are difficult to predict when writing an application.</span></span> <span data-ttu-id="344a7-189">Llamar a esta función desde un subproceso que administra la interacción con la interfaz de usuario podría hacer que parezca que la aplicación no responde.</span><span class="sxs-lookup"><span data-stu-id="344a7-189">Calling this function from a thread that manages interaction with the user interface could make the application appear to be unresponsive.</span></span>

 

<span data-ttu-id="344a7-190">Para supervisar una impresora o un servidor de impresión, llame a la función **FindFirstPrinterChangeNotification** y, a continuación, use el identificador de objeto de notificación de cambios devuelto en una llamada a una de las [funciones de espera](/windows/desktop/Sync/wait-functions).</span><span class="sxs-lookup"><span data-stu-id="344a7-190">To monitor a printer or print server, call the **FindFirstPrinterChangeNotification** function, then use the returned change notification object handle in a call to one of the [wait functions](/windows/desktop/Sync/wait-functions).</span></span> <span data-ttu-id="344a7-191">Una operación de espera en un objeto de notificación de cambios se cumple cuando el objeto de notificación de cambios entra en el estado señalado.</span><span class="sxs-lookup"><span data-stu-id="344a7-191">A wait operation on a change notification object is satisfied when the change notification object enters the signaled state.</span></span> <span data-ttu-id="344a7-192">El sistema señala el objeto cuando uno o varios de los cambios especificados por *fdwFilter* o *pPrinterNotifyOptions* se producen en la impresora supervisada o el servidor de impresión.</span><span class="sxs-lookup"><span data-stu-id="344a7-192">The system signals the object when one or more of the changes specified by *fdwFilter* or *pPrinterNotifyOptions* occurs in the monitored printer or print server.</span></span>

<span data-ttu-id="344a7-193">Cuando llame a **FindFirstPrinterChangeNotification**, *fdwFilter* debe ser distinto de cero o *pPrinterNotifyOptions* no debe ser **null**.</span><span class="sxs-lookup"><span data-stu-id="344a7-193">When you call **FindFirstPrinterChangeNotification**, either *fdwFilter* must be nonzero or *pPrinterNotifyOptions* must be non-**NULL**.</span></span> <span data-ttu-id="344a7-194">Si se especifican ambos, las notificaciones se producirán para ambos.</span><span class="sxs-lookup"><span data-stu-id="344a7-194">If both are specified, notifications will occur for both.</span></span>

<span data-ttu-id="344a7-195">Cuando se cumple una operación de espera en un objeto de notificación de cambio de impresora, llame a la función [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) para determinar la causa de la notificación.</span><span class="sxs-lookup"><span data-stu-id="344a7-195">When a wait operation on a printer change notification object is satisfied, call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to determine the cause of the notification.</span></span> <span data-ttu-id="344a7-196">En el caso de una condición especificada por *fdwFilter*, **FindNextPrinterChangeNotification** informa de la condición o condiciones que han cambiado.</span><span class="sxs-lookup"><span data-stu-id="344a7-196">For a condition specified by *fdwFilter*, **FindNextPrinterChangeNotification** reports the condition or conditions that changed.</span></span> <span data-ttu-id="344a7-197">En el caso de un campo de información de impresora especificado por *pPrinterNotifyOptions*, **FindNextPrinterChangeNotification** notifica el campo o los campos que han cambiado, así como la nueva información de estos campos.</span><span class="sxs-lookup"><span data-stu-id="344a7-197">For a printer information field specified by *pPrinterNotifyOptions*, **FindNextPrinterChangeNotification** reports the field or fields that changed as well as the new information for these fields.</span></span> <span data-ttu-id="344a7-198">**FindNextPrinterChangeNotification** también restablece el objeto de notificación de cambios en el estado no señalizado para que pueda usarlo en otra operación de espera para seguir supervisando la impresora o el servidor de impresión.</span><span class="sxs-lookup"><span data-stu-id="344a7-198">**FindNextPrinterChangeNotification** also resets the change notification object to the nonsignaled state so you can use it in another wait operation to continue monitoring the printer or print server.</span></span>

<span data-ttu-id="344a7-199">Con una excepción, no llame a la función [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) si el objeto de notificación de cambios no está en el estado señalado.</span><span class="sxs-lookup"><span data-stu-id="344a7-199">With one exception, do not call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function if the change notification object is not in the signaled state.</span></span> <span data-ttu-id="344a7-200">Si la función wait devuelve el valor de \_ tiempo de espera de espera, el objeto de cambio no está en el estado señalado.</span><span class="sxs-lookup"><span data-stu-id="344a7-200">If the wait function returns the value WAIT\_TIMEOUT, the change object is not in the signaled state.</span></span> <span data-ttu-id="344a7-201">Llame a la función **FindNextPrinterChangeNotification** solo si la función wait se realiza correctamente sin que se agote el tiempo de espera. La excepción es cuando se llama a **FindNextPrinterChangeNotification** con el \_ \_ bit de \_ actualización opciones de notificación de impresora establecido en el parámetro *pPrinterNotifyOptions* .</span><span class="sxs-lookup"><span data-stu-id="344a7-201">Call the **FindNextPrinterChangeNotification** function only if the wait function succeeds without timing out. The exception is when **FindNextPrinterChangeNotification** is called with the PRINTER\_NOTIFY\_OPTIONS\_REFRESH bit set in the *pPrinterNotifyOptions* parameter.</span></span>

<span data-ttu-id="344a7-202">Cuando ya no necesite el objeto de notificación de cambios, ciérrelo llamando a la función [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="344a7-202">When you no longer need the change notification object, close it by calling the [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) function.</span></span>

<span data-ttu-id="344a7-203">Los autores de llamadas de **FindFirstPrinterChangeNotification** deben asegurarse de que el identificador de la impresora que se pasa a **FindFirstPrinterChangeNotification** sigue siendo válido hasta que se llame a [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="344a7-203">Callers of **FindFirstPrinterChangeNotification** must ensure that the printer handle passed into **FindFirstPrinterChangeNotification** remains valid until [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) is called.</span></span> <span data-ttu-id="344a7-204">Si el identificador de impresora está cerrado antes del identificador de notificación de cambio de impresora, no se entregarán más notificaciones.</span><span class="sxs-lookup"><span data-stu-id="344a7-204">If the printer handle is closed before the printer change notification handle, further notifications will fail to be delivered.</span></span>

<span data-ttu-id="344a7-205">**FindFirstPrinterChangeNotification** no enviará notificaciones de cambio para las impresoras 3D a los identificadores de servidor.</span><span class="sxs-lookup"><span data-stu-id="344a7-205">**FindFirstPrinterChangeNotification** will not send change notifications for 3D printers to server handles.</span></span>

> [!Note]  
> <span data-ttu-id="344a7-206">En Windows XP con Service Pack 2 (SP2) y versiones posteriores, el Firewall de conexión a Internet (ICF) bloquea los puertos de impresora de forma predeterminada, pero se puede habilitar una excepción para compartir archivos e impresoras.</span><span class="sxs-lookup"><span data-stu-id="344a7-206">In Windows XP with Service Pack 2 (SP2) and later, the Internet Connection Firewall (ICF) blocks printer ports by default, but an exception for File and Print Sharing can be enabled.</span></span> <span data-ttu-id="344a7-207">Si un usuario realiza una conexión de impresora a otro equipo y la excepción no está habilitada, el usuario no recibirá las notificaciones de cambio de la impresora del servidor.</span><span class="sxs-lookup"><span data-stu-id="344a7-207">If a user makes a printer connection to another machine, and the exception is not enabled, then the user will not receive printer change notifications from the server.</span></span> <span data-ttu-id="344a7-208">Un administrador del equipo tendrá que habilitar la excepción.</span><span class="sxs-lookup"><span data-stu-id="344a7-208">A machine admin will have to enable exception.</span></span>

 

## <a name="requirements"></a><span data-ttu-id="344a7-209">Requisitos</span><span class="sxs-lookup"><span data-stu-id="344a7-209">Requirements</span></span>



| <span data-ttu-id="344a7-210">Requisito</span><span class="sxs-lookup"><span data-stu-id="344a7-210">Requirement</span></span> | <span data-ttu-id="344a7-211">Value</span><span class="sxs-lookup"><span data-stu-id="344a7-211">Value</span></span> |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="344a7-212">Cliente mínimo compatible</span><span class="sxs-lookup"><span data-stu-id="344a7-212">Minimum supported client</span></span><br/> | <span data-ttu-id="344a7-213">\[Solo aplicaciones de escritorio\] de Windows 2000 Professional</span><span class="sxs-lookup"><span data-stu-id="344a7-213">Windows 2000 Professional \[desktop apps only\]</span></span><br/>                                                |
| <span data-ttu-id="344a7-214">Servidor mínimo compatible</span><span class="sxs-lookup"><span data-stu-id="344a7-214">Minimum supported server</span></span><br/> | <span data-ttu-id="344a7-215">\[Solo aplicaciones de escritorio\] de Windows 2000 Server</span><span class="sxs-lookup"><span data-stu-id="344a7-215">Windows 2000 Server \[desktop apps only\]</span></span><br/>                                                      |
| <span data-ttu-id="344a7-216">Encabezado</span><span class="sxs-lookup"><span data-stu-id="344a7-216">Header</span></span><br/>                   | <dl> <span data-ttu-id="344a7-217"><dt>Winspool. h (incluir Windows. h)</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-217"><dt>Winspool.h (include Windows.h)</dt></span></span> </dl> |
| <span data-ttu-id="344a7-218">Biblioteca</span><span class="sxs-lookup"><span data-stu-id="344a7-218">Library</span></span><br/>                  | <dl> <span data-ttu-id="344a7-219"><dt>Winspool. lib</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-219"><dt>Winspool.lib</dt></span></span> </dl>                   |
| <span data-ttu-id="344a7-220">Archivo DLL</span><span class="sxs-lookup"><span data-stu-id="344a7-220">DLL</span></span><br/>                      | <dl> <span data-ttu-id="344a7-221"><dt>Spoolss.dll</dt></span><span class="sxs-lookup"><span data-stu-id="344a7-221"><dt>Spoolss.dll</dt></span></span> </dl>                    |



## <a name="see-also"></a><span data-ttu-id="344a7-222">Vea también</span><span class="sxs-lookup"><span data-stu-id="344a7-222">See also</span></span>

<dl> <dt>

[<span data-ttu-id="344a7-223">Impresión</span><span class="sxs-lookup"><span data-stu-id="344a7-223">Printing</span></span>](printdocs-printing.md)
</dt> <dt>

[<span data-ttu-id="344a7-224">Funciones de la API del administrador de trabajos de impresión</span><span class="sxs-lookup"><span data-stu-id="344a7-224">Print Spooler API Functions</span></span>](printing-and-print-spooler-functions.md)
</dt> <dt>

[<span data-ttu-id="344a7-225">**FindClosePrinterChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="344a7-225">**FindClosePrinterChangeNotification**</span></span>](findcloseprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="344a7-226">**FindNextPrinterChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="344a7-226">**FindNextPrinterChangeNotification**</span></span>](findnextprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="344a7-227">**OpenPrinter**</span><span class="sxs-lookup"><span data-stu-id="344a7-227">**OpenPrinter**</span></span>](openprinter.md)
</dt> <dt>

[<span data-ttu-id="344a7-228">**\_Opciones de notificación de impresora \_**</span><span class="sxs-lookup"><span data-stu-id="344a7-228">**PRINTER\_NOTIFY\_OPTIONS**</span></span>](printer-notify-options.md)
</dt> <dt>

[<span data-ttu-id="344a7-229">**\_tipo de \_ Opciones de notificación de impresora \_**</span><span class="sxs-lookup"><span data-stu-id="344a7-229">**PRINTER\_NOTIFY\_OPTIONS\_TYPE**</span></span>](printer-notify-options-type.md)
</dt> </dl>

 

