---
title: Conexiones de devolución de llamada
description: RAS admite conexiones en las que el servidor remoto se cuelga y, a continuación, vuelve a llamar al cliente para establecer la conexión.
ms.assetid: 25f0e84d-8900-4efe-b07d-59f25186c976
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9aabe3bf5503f16d7d27e44e02dc19ccb2a6f2e5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "103793516"
---
# <a name="callback-connections"></a><span data-ttu-id="02832-103">Conexiones de devolución de llamada</span><span class="sxs-lookup"><span data-stu-id="02832-103">Callback Connections</span></span>

<span data-ttu-id="02832-104">RAS admite conexiones en las que el servidor remoto se cuelga y, a continuación, vuelve a llamar al cliente para establecer la conexión.</span><span class="sxs-lookup"><span data-stu-id="02832-104">RAS supports connections in which the remote server hangs up and then calls back to the client to establish the connection.</span></span>

<span data-ttu-id="02832-105">Para cada usuario que se puede conectar a un servidor RAS, el servidor almacena un atributo de devolución de llamada que controla cómo se realiza la conexión.</span><span class="sxs-lookup"><span data-stu-id="02832-105">For each user that can connect to a RAS server, the server stores a callback attribute that controls how the connection is made.</span></span> <span data-ttu-id="02832-106">El atributo predeterminado es sin devolución de llamada, lo que significa que el usuario puede conectarse al servidor RAS sin una devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="02832-106">The default attribute is No Callback, which means that the user can connect to the RAS server without a callback.</span></span> <span data-ttu-id="02832-107">Como alternativa, el administrador del servidor RAS puede asignar a un usuario el atributo de devolución de llamada preestablecido o establecido por el llamador.</span><span class="sxs-lookup"><span data-stu-id="02832-107">Alternatively, the administrator of the RAS server can assign to a user either the Preset or Set-By-Caller callback attribute.</span></span>

<span data-ttu-id="02832-108">Para un usuario que tenga asignada la restricción preestablecida, el administrador especifica un número de teléfono al que el servidor RAS debe volver a llamar para establecer una conexión.</span><span class="sxs-lookup"><span data-stu-id="02832-108">For a user assigned the Preset restriction, the administrator specifies a phone number that the RAS server must call back to establish a connection.</span></span> <span data-ttu-id="02832-109">El usuario no puede especificar un número diferente y no se puede establecer la conexión sin una devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="02832-109">The user cannot specify a different number, and the connection cannot be made without a callback.</span></span>

<span data-ttu-id="02832-110">El administrador de conexiones de acceso remoto y el servidor remoto controlan automáticamente una operación de devolución de llamada preestablecida.</span><span class="sxs-lookup"><span data-stu-id="02832-110">A Preset callback operation is handled automatically by the Remote Access Connection Manager and the remote server.</span></span> <span data-ttu-id="02832-111">No es necesario que la aplicación cliente RAS haga nada más que proporcionar comentarios al usuario cuando se llama al controlador de notificación durante los distintos Estados de la operación de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="02832-111">The RAS client application does not need to do anything other than provide feedback to the user when the notification handler is called during the various states of the callback operation.</span></span>

<span data-ttu-id="02832-112">Un usuario al que se ha asignado el privilegio Set by Caller puede elegir conectarse con o sin devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="02832-112">A user assigned the Set By Caller privilege can choose to connect either with or without a callback.</span></span> <span data-ttu-id="02832-113">La llamada [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) usa el miembro **szCallbackNumber** de la estructura [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) para indicar la elección.</span><span class="sxs-lookup"><span data-stu-id="02832-113">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call uses the **szCallbackNumber** member of the [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure to indicate the choice.</span></span>

<span data-ttu-id="02832-114">El miembro **szCallbackNumber** puede simplemente especificar el número de devolución de llamada; o bien, para establecer la conexión sin una devolución de llamada, **szCallbackNumber** puede apuntar a una cadena vacía, "".</span><span class="sxs-lookup"><span data-stu-id="02832-114">The **szCallbackNumber** member can simply specify the callback number; or, to establish the connection without a callback, **szCallbackNumber** can point to an empty string, "".</span></span> <span data-ttu-id="02832-115">En cualquiera de estos casos, el administrador de conexiones de acceso remoto controla la operación de conexión automáticamente.</span><span class="sxs-lookup"><span data-stu-id="02832-115">In either of these cases, the Remote Access Connection Manager handles the connection operation automatically.</span></span> <span data-ttu-id="02832-116">Al igual que con una operación de devolución de llamada preestablecida, el cliente RAS no necesita realizar ninguna acción que no sea para proporcionar comentarios al usuario.</span><span class="sxs-lookup"><span data-stu-id="02832-116">As with a Preset callback operation, the RAS client does not need to perform any action other than to provide feedback to the user.</span></span>

<span data-ttu-id="02832-117">Si la llamada [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) habilita [los Estados en pausa](paused-states.md), **szCallbackNumber** puede apuntar a una cadena de asterisco, " \* ", para indicar que la operación de conexión debe entrar en pausa para permitir que el usuario escriba en el número de devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="02832-117">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call enables [paused states](paused-states.md), **szCallbackNumber** can point to an asterisk string, "\*", to indicate that the connection operation should enter a paused state to allow the user to type in the callback number.</span></span> <span data-ttu-id="02832-118">En este caso, la operación de conexión para un establecido por el usuario que realiza la llamada entra en un estado de pausa después de que el servidor remoto haya autenticado al usuario.</span><span class="sxs-lookup"><span data-stu-id="02832-118">In this case, the connection operation for a Set By Caller user enters a paused state after the remote server has authenticated the user.</span></span> <span data-ttu-id="02832-119">Durante el estado de pausa, el cliente RAS obtiene la entrada del número de devolución de llamada del usuario.</span><span class="sxs-lookup"><span data-stu-id="02832-119">During the paused state, the RAS client gets the callback number input from the user.</span></span> <span data-ttu-id="02832-120">Después, el cliente reanuda la operación de conexión realizando una segunda llamada **rasdial** en la que **szCallbackNumber** especifica el número proporcionado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="02832-120">The client then resumes the connection operation by making a second **RasDial** call in which **szCallbackNumber** specifies the number supplied by the user.</span></span>

> [!Note]  
> <span data-ttu-id="02832-121">Si los Estados pausados no están habilitados, hay un significado diferente cuando **szCallbackNumber** apunta a una cadena de asterisco, " \* ".</span><span class="sxs-lookup"><span data-stu-id="02832-121">If paused states are not enabled there is a different meaning when **szCallbackNumber** points to an asterisk string, "\*".</span></span> <span data-ttu-id="02832-122">En este caso, el asterisco indica que el número de devolución de llamada se almacena en el archivo de libreta de teléfonos especificado por la llamada [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="02832-122">In this case, the asterisk indicates that the callback number is stored in the phone-book file specified by the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>

 

<span data-ttu-id="02832-123">En el caso de una devolución de llamada, la llamada a [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) no devuelve hasta después de que el servidor haya llamado de nuevo al cliente.</span><span class="sxs-lookup"><span data-stu-id="02832-123">In the event of a callback, the call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) does not return until after the server has called back the client.</span></span>

 

 