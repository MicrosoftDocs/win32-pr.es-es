---
title: Ejemplo de analizador de escenario 2 con seguimiento de ETW
description: Para generar un informe de seguimiento de ETW para el componente de la API del servidor HTTP, ejecute los pasos que se muestran en el paso \ 0034; Generar un informe de seguimiento de ETW \ 0034; sección del escenario 1 ejemplo de tiempo de espera HTTP que usa el seguimiento ETW y comandos Netsh, pero reproduce el error específico de este escenario.
ms.assetid: 2ccd2927-8a64-40a8-a29b-4b680a942f7f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 866c566973b660e4e665226fbf9b4a266b086b6b
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "104077764"
---
# <a name="scenario-2-parser-example-using-etw-tracing"></a><span data-ttu-id="f6692-103">Escenario 2: ejemplo de analizador con seguimiento de ETW</span><span class="sxs-lookup"><span data-stu-id="f6692-103">Scenario 2: Parser Example Using ETW Tracing</span></span>

<span data-ttu-id="f6692-104">Para generar un informe de seguimiento de ETW para el componente de API de servidor HTTP, ejecute los pasos que se muestran en la sección "generación de un informe de seguimiento de ETW" del [escenario 1: ejemplo de tiempo de espera de http mediante el seguimiento de ETW y comandos Netsh](scenario-1--http-timeout-example-using-etw-tracing-and-netsh-commands.md), pero reproduzca el error específico de este escenario.</span><span class="sxs-lookup"><span data-stu-id="f6692-104">To generate an ETW trace report for the HTTP Server API component, run the steps as shown in the "Generating an ETW Trace Report" section of [Scenario 1: HTTP Timeout Example Using ETW Tracing and Netsh Commands](scenario-1--http-timeout-example-using-etw-tracing-and-netsh-commands.md), but reproduce the error specific to this scenario.</span></span> <span data-ttu-id="f6692-105">En este ejemplo, se tiene acceso a la aplicación web desde un equipo cliente, lo que da lugar a que se muestre el mensaje "400 Bad Request" en el cliente.</span><span class="sxs-lookup"><span data-stu-id="f6692-105">In this example, access the web application from a client machine, resulting in the "400 bad request" message being shown on the client.</span></span> <span data-ttu-id="f6692-106">Estos pasos se ejecutan en el servidor desde que se hospeda la aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="f6692-106">These steps are run on the server since it is hosting the web application.</span></span>

## <a name="viewing-the-trace-and-diagnosing"></a><span data-ttu-id="f6692-107">Ver el seguimiento y el diagnóstico</span><span class="sxs-lookup"><span data-stu-id="f6692-107">Viewing the Trace and Diagnosing</span></span>

<span data-ttu-id="f6692-108">El archivo CSV resultante para seguimientos se puede ver en Excel o en cualquier herramienta que admita el formato CSV.</span><span class="sxs-lookup"><span data-stu-id="f6692-108">The resulting CSV file for traces can be viewed in Excel or any tool that supports the CSV format.</span></span> <span data-ttu-id="f6692-109">En la tabla 2 siguiente se muestran fragmentos de un archivo de seguimiento de ejemplo (httptrace.csv).</span><span class="sxs-lookup"><span data-stu-id="f6692-109">Table 2 below shows excerpts from a sample trace file (httptrace.csv).</span></span> <span data-ttu-id="f6692-110">En el informe de seguimiento, la columna "nivel" muestra una entrada con un valor de "2", que representa un error.</span><span class="sxs-lookup"><span data-stu-id="f6692-110">In the trace report, the "Level" column shows an entry with a value of "2", which represents an error.</span></span> <span data-ttu-id="f6692-111">Como se indicó anteriormente, el componente de la API del servidor HTTP sigue los niveles de ETW definidos en el artículo [LevelType](../wes/eventmanifestschema-leveltype-complextype.md)tipo complejo tipo complejo.</span><span class="sxs-lookup"><span data-stu-id="f6692-111">As noted above, the HTTP Server API component follows the ETW Levels defined in the article [LevelType Complex Type Complex Type](../wes/eventmanifestschema-leveltype-complextype.md).</span></span>

<span data-ttu-id="f6692-112">Los niveles de ETW incluyen: 1 crítico; 2 error; 3 ADVERTENCIA; 4 información; 5 detallado.</span><span class="sxs-lookup"><span data-stu-id="f6692-112">The ETW levels include: 1 Critical; 2 Error; 3 Warning; 4 Informational; 5 Verbose.</span></span>

<span data-ttu-id="f6692-113">Con este error, el tipo de evento (columna de tipo) notifica "ParseRequestFailed".</span><span class="sxs-lookup"><span data-stu-id="f6692-113">With this error, the event type (Type column) reports "ParseRequestFailed".</span></span> <span data-ttu-id="f6692-114">En las columnas siguientes del evento ParseRequestFailed, vemos una entrada "InvalidHost".</span><span class="sxs-lookup"><span data-stu-id="f6692-114">In the subsequent columns for the ParseRequestFailed event, we see an "InvalidHost" entry.</span></span> <span data-ttu-id="f6692-115">Esta entrada significa que el host identificado en la solicitud HTTP es incorrecto, según el protocolo HTTP.</span><span class="sxs-lookup"><span data-stu-id="f6692-115">This entry means that the identified host in the HTTP Request is incorrect, according the HTTP protocol.</span></span> <span data-ttu-id="f6692-116">Tenga en cuenta que la columna con la entrada "InvalidHost" no se incluye en la tabla por razones de brevedad y para evitar el extracto de columnas no contiguas.</span><span class="sxs-lookup"><span data-stu-id="f6692-116">Note the column with the "InvalidHost" entry is not included in the table for the sake of brevity and to avoid excerpting noncontiguous columns.</span></span>

<span data-ttu-id="f6692-117">Para corregir este problema de análisis, el cliente web se debe corregir para que sea compatible con la RFC de HTTP.</span><span class="sxs-lookup"><span data-stu-id="f6692-117">To fix this parsing issue, the web client should be corrected to be compliant with the HTTP RFC.</span></span> 

| <span data-ttu-id="f6692-118">Nombre del evento</span><span class="sxs-lookup"><span data-stu-id="f6692-118">Event name</span></span>                    | <span data-ttu-id="f6692-119">Tipo</span><span class="sxs-lookup"><span data-stu-id="f6692-119">Type</span></span>               | <span data-ttu-id="f6692-120">Id. de evento</span><span class="sxs-lookup"><span data-stu-id="f6692-120">Event ID</span></span> | <span data-ttu-id="f6692-121">Versión</span><span class="sxs-lookup"><span data-stu-id="f6692-121">Version</span></span> | <span data-ttu-id="f6692-122">Canal</span><span class="sxs-lookup"><span data-stu-id="f6692-122">Channel</span></span> | <span data-ttu-id="f6692-123">Nivel</span><span class="sxs-lookup"><span data-stu-id="f6692-123">Level</span></span> |
|-------------------------------|--------------------|----------|---------|---------|-------|
| <span data-ttu-id="f6692-124">Eventtracer</span><span class="sxs-lookup"><span data-stu-id="f6692-124">EventTrace</span></span>                    | <span data-ttu-id="f6692-125">Encabezado</span><span class="sxs-lookup"><span data-stu-id="f6692-125">Header</span></span>             | <span data-ttu-id="f6692-126">0</span><span class="sxs-lookup"><span data-stu-id="f6692-126">0</span></span>        | <span data-ttu-id="f6692-127">2</span><span class="sxs-lookup"><span data-stu-id="f6692-127">2</span></span>       | <span data-ttu-id="f6692-128">0</span><span class="sxs-lookup"><span data-stu-id="f6692-128">0</span></span>       | <span data-ttu-id="f6692-129">0</span><span class="sxs-lookup"><span data-stu-id="f6692-129">0</span></span>     |
| <span data-ttu-id="f6692-130">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="f6692-130">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="f6692-131">AddUrl</span><span class="sxs-lookup"><span data-stu-id="f6692-131">AddUrl</span></span>             | <span data-ttu-id="f6692-132">31</span><span class="sxs-lookup"><span data-stu-id="f6692-132">31</span></span>       | <span data-ttu-id="f6692-133">0</span><span class="sxs-lookup"><span data-stu-id="f6692-133">0</span></span>       | <span data-ttu-id="f6692-134">16</span><span class="sxs-lookup"><span data-stu-id="f6692-134">16</span></span>      | <span data-ttu-id="f6692-135">4</span><span class="sxs-lookup"><span data-stu-id="f6692-135">4</span></span>     |
| <span data-ttu-id="f6692-136">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="f6692-136">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="f6692-137">ConnConnect</span><span class="sxs-lookup"><span data-stu-id="f6692-137">ConnConnect</span></span>        | <span data-ttu-id="f6692-138">21</span><span class="sxs-lookup"><span data-stu-id="f6692-138">21</span></span>       | <span data-ttu-id="f6692-139">0</span><span class="sxs-lookup"><span data-stu-id="f6692-139">0</span></span>       | <span data-ttu-id="f6692-140">16</span><span class="sxs-lookup"><span data-stu-id="f6692-140">16</span></span>      | <span data-ttu-id="f6692-141">4</span><span class="sxs-lookup"><span data-stu-id="f6692-141">4</span></span>     |
| <span data-ttu-id="f6692-142">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="f6692-142">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="f6692-143">ConnIdAssgn</span><span class="sxs-lookup"><span data-stu-id="f6692-143">ConnIdAssgn</span></span>        | <span data-ttu-id="f6692-144">22</span><span class="sxs-lookup"><span data-stu-id="f6692-144">22</span></span>       | <span data-ttu-id="f6692-145">0</span><span class="sxs-lookup"><span data-stu-id="f6692-145">0</span></span>       | <span data-ttu-id="f6692-146">16</span><span class="sxs-lookup"><span data-stu-id="f6692-146">16</span></span>      | <span data-ttu-id="f6692-147">4</span><span class="sxs-lookup"><span data-stu-id="f6692-147">4</span></span>     |
| <span data-ttu-id="f6692-148">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="f6692-148">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="f6692-149">RecvReq</span><span class="sxs-lookup"><span data-stu-id="f6692-149">RecvReq</span></span>            | <span data-ttu-id="f6692-150">1</span><span class="sxs-lookup"><span data-stu-id="f6692-150">1</span></span>        | <span data-ttu-id="f6692-151">0</span><span class="sxs-lookup"><span data-stu-id="f6692-151">0</span></span>       | <span data-ttu-id="f6692-152">16</span><span class="sxs-lookup"><span data-stu-id="f6692-152">16</span></span>      | <span data-ttu-id="f6692-153">4</span><span class="sxs-lookup"><span data-stu-id="f6692-153">4</span></span>     |
| <span data-ttu-id="f6692-154">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="f6692-154">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="f6692-155">ParseRequestFailed</span><span class="sxs-lookup"><span data-stu-id="f6692-155">ParseRequestFailed</span></span> | <span data-ttu-id="f6692-156">52</span><span class="sxs-lookup"><span data-stu-id="f6692-156">52</span></span>       | <span data-ttu-id="f6692-157">0</span><span class="sxs-lookup"><span data-stu-id="f6692-157">0</span></span>       | <span data-ttu-id="f6692-158">16</span><span class="sxs-lookup"><span data-stu-id="f6692-158">16</span></span>      | <span data-ttu-id="f6692-159">2</span><span class="sxs-lookup"><span data-stu-id="f6692-159">2</span></span>     |
| <span data-ttu-id="f6692-160">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="f6692-160">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="f6692-161">LogFileWrite</span><span class="sxs-lookup"><span data-stu-id="f6692-161">LogFileWrite</span></span>       | <span data-ttu-id="f6692-162">51</span><span class="sxs-lookup"><span data-stu-id="f6692-162">51</span></span>       | <span data-ttu-id="f6692-163">0</span><span class="sxs-lookup"><span data-stu-id="f6692-163">0</span></span>       | <span data-ttu-id="f6692-164">16</span><span class="sxs-lookup"><span data-stu-id="f6692-164">16</span></span>      | <span data-ttu-id="f6692-165">4</span><span class="sxs-lookup"><span data-stu-id="f6692-165">4</span></span>     |



 

<span data-ttu-id="f6692-166">Tabla 2: extractos de un informe de seguimiento de ejemplo para un problema de análisis</span><span class="sxs-lookup"><span data-stu-id="f6692-166">Table 2: Excerpts from a Sample Trace Report for a Parsing Issue</span></span>

 

 