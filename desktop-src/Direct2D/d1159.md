---
title: Topología de lista de comandos no válida D1159
ms.assetid: 1cd2f085-8dff-4140-bed9-7509961ff4c8
description: Una lista de comandos no puede hacer referencia a efectos que forman parte de gráficos de efecto que consumen la lista de comandos.
keywords:
- D1159 Topología de lista de comandos no válida Direct2D
topic_type:
- apiref
api_name:
- D1159 Invalid Commandlist Topology
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.custom: seodec18
ms.openlocfilehash: 62175967c8bd5b2ec7d7fa26847f9731da9d15d7
ms.sourcegitcommit: b6fe9acffad983c14864b8fe0296f6025cb1f961
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/26/2021
ms.locfileid: "107999512"
---
# <a name="d1159-invalid-commandlist-topology"></a><span data-ttu-id="1a3a6-104">D1159: Topología de lista de comandos no válida</span><span class="sxs-lookup"><span data-stu-id="1a3a6-104">D1159: Invalid Commandlist Topology</span></span>

<span data-ttu-id="1a3a6-105">Una lista de comandos no puede hacer referencia a efectos que forman parte de gráficos de efecto que consumen la lista de comandos.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-105">A command list cannot reference effects which are part of effect graphs that consume the command list.</span></span>





 

## <a name="possible-causes"></a><span data-ttu-id="1a3a6-106">Causas posibles</span><span class="sxs-lookup"><span data-stu-id="1a3a6-106">Possible Causes</span></span>

<span data-ttu-id="1a3a6-107">Al rellenar una lista de comandos, una aplicación puede incluir una llamada a ID2D1DeviceContext::D rawImage.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-107">While populating a command list, an application may include a call to ID2D1DeviceContext::DrawImage.</span></span> <span data-ttu-id="1a3a6-108">ID2D1DeviceContext::D rawImage se puede usar para dibujar mapas de bits, efectos o listas de comandos.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-108">ID2D1DeviceContext::DrawImage may be used to draw bitmaps, effects or command lists.</span></span> <span data-ttu-id="1a3a6-109">Como consecuencia, es posible sintácticamente que una llamada ID2D1DeviceContext::D rawImage intente dibujar una lista de comandos mientras esa misma lista de comandos está establecida como destino.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-109">As a consequence, it is syntactically possible for an ID2D1DeviceContext::DrawImage call to attempt to draw a command list while that same command list is set as a target.</span></span> <span data-ttu-id="1a3a6-110">Sin embargo, las listas de comandos de referencia propia de esta manera no son válidas.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-110">Self-referencing command lists in this manner, however, is not valid.</span></span> <span data-ttu-id="1a3a6-111">Direct2D identificará los casos en los que esto ocurre e informará de un error, y la capa de depuración mostrará este mensaje.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-111">Direct2D will identify cases in which this occurs and report an error, and the debug layer will output this message.</span></span>

## <a name="possible-fixes"></a><span data-ttu-id="1a3a6-112">Posibles correcciones</span><span class="sxs-lookup"><span data-stu-id="1a3a6-112">Possible Fixes</span></span>

<span data-ttu-id="1a3a6-113">Al rellenar una lista de comandos, asegúrese de que un contexto de dispositivo no emite ninguna operación que consuma esa misma lista de comandos.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-113">While populating a command list, ensure that a device context does not issue any operation which consumes that same command list.</span></span> <span data-ttu-id="1a3a6-114">La manera más obvia en que esto puede ocurrir es llamar a ID2D1DeviceContext::D rawImage con la misma lista de comandos que se establece como destino.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-114">The most obvious way in which this can happen is to call ID2D1DeviceContext::DrawImage with the same command list which is set as the target.</span></span> <span data-ttu-id="1a3a6-115">Sin embargo, también hay formas menos obvias en las que esto puede ocurrir: id2D1DeviceContext::D rawImage puede hacer referencia a un gráfico de efectos y un nodo del gráfico de efectos puede intentar consumir la lista de comandos de destino.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-115">However, there are also less obvious ways in which this may occur: an ID2D1DeviceContext::DrawImage may refer to an effect graph, and one node in the effect graph may attempt to consume the target command list.</span></span> <span data-ttu-id="1a3a6-116">Asegúrese de que las listas de comandos se rellenan correctamente antes de su uso y de que las llamadas a ID2D1DeviceContext::SetTarget hacen referencia al destino previsto.</span><span class="sxs-lookup"><span data-stu-id="1a3a6-116">Ensure that command lists are populated correctly before use, and that calls to ID2D1DeviceContext::SetTarget refer to the intended target.</span></span>

 

 




