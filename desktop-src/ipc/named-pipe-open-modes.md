---
description: El servidor de canalización especifica los modos de acceso de la canalización, superposición y escritura a través en el parámetro dwOpenMode de la función CreateNamedPipe. Los clientes de canalización pueden especificar estos modos abiertos para los identificadores de canalización mediante la función CreateFile.
ms.assetid: 88824566-93c7-4941-a4fc-3a7ae9a332a4
title: Modos de apertura de canalización con nombre
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97f51d41ea98a47a269634b06ccdad869bd649fa
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104002888"
---
# <a name="named-pipe-open-modes"></a><span data-ttu-id="92d9f-104">Modos de apertura de canalización con nombre</span><span class="sxs-lookup"><span data-stu-id="92d9f-104">Named Pipe Open Modes</span></span>

<span data-ttu-id="92d9f-105">El servidor de canalización especifica los modos de acceso de la canalización, superposición y escritura a través en el parámetro *dwOpenMode* de la función [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) .</span><span class="sxs-lookup"><span data-stu-id="92d9f-105">The pipe server specifies the pipe access, overlap, and write-through modes in the *dwOpenMode* parameter of the [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) function.</span></span> <span data-ttu-id="92d9f-106">Los clientes de canalización pueden especificar estos modos abiertos para los identificadores de canalización mediante la función [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) .</span><span class="sxs-lookup"><span data-stu-id="92d9f-106">The pipe clients can specify these open modes for their pipe handles using the [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function.</span></span>

## <a name="access-mode"></a><span data-ttu-id="92d9f-107">Modo de acceso</span><span class="sxs-lookup"><span data-stu-id="92d9f-107">Access Mode</span></span>

<span data-ttu-id="92d9f-108">Establecer el modo de acceso de canalización es equivalente a especificar el acceso de lectura o escritura asociado a los identificadores del servidor de canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-108">Setting the pipe access mode is equivalent to specifying read or write access associated with the pipe server's handles.</span></span> <span data-ttu-id="92d9f-109">En la tabla siguiente se muestra el derecho de acceso genérico equivalente para cada modo de acceso que se puede especificar con [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea).</span><span class="sxs-lookup"><span data-stu-id="92d9f-109">The following table shows the equivalent generic access right for each access mode you can specify with [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea).</span></span>



| <span data-ttu-id="92d9f-110">Modo de acceso</span><span class="sxs-lookup"><span data-stu-id="92d9f-110">Access mode</span></span>            | <span data-ttu-id="92d9f-111">Derecho de acceso genérico equivalente</span><span class="sxs-lookup"><span data-stu-id="92d9f-111">Equivalent generic access right</span></span> |
|------------------------|---------------------------------|
| <span data-ttu-id="92d9f-112">\_entrada de acceso de canalización \_</span><span class="sxs-lookup"><span data-stu-id="92d9f-112">PIPE\_ACCESS\_INBOUND</span></span>  | <span data-ttu-id="92d9f-113">\_lectura genérica</span><span class="sxs-lookup"><span data-stu-id="92d9f-113">GENERIC\_READ</span></span>                   |
| <span data-ttu-id="92d9f-114">acceso de CANALización \_ \_ saliente</span><span class="sxs-lookup"><span data-stu-id="92d9f-114">PIPE\_ACCESS\_OUTBOUND</span></span> | <span data-ttu-id="92d9f-115">\_escritura genérica</span><span class="sxs-lookup"><span data-stu-id="92d9f-115">GENERIC\_WRITE</span></span>                  |
| <span data-ttu-id="92d9f-116">\_dúplex de acceso de canalización \_</span><span class="sxs-lookup"><span data-stu-id="92d9f-116">PIPE\_ACCESS\_DUPLEX</span></span>   | <span data-ttu-id="92d9f-117">\_ \| escritura genérica de lectura genérica \_</span><span class="sxs-lookup"><span data-stu-id="92d9f-117">GENERIC\_READ \| GENERIC\_WRITE</span></span> |



 

<span data-ttu-id="92d9f-118">Si el servidor de canalización crea una canalización con acceso de CANALización de \_ \_ entrada, la canalización es de solo lectura para el servidor de canalización y para el cliente de canalización de solo escritura.</span><span class="sxs-lookup"><span data-stu-id="92d9f-118">If the pipe server creates a pipe with PIPE\_ACCESS\_INBOUND, the pipe is read-only for the pipe server and write-only for the pipe client.</span></span> <span data-ttu-id="92d9f-119">Si el servidor de canalización crea una canalización con acceso de CANALización de \_ \_ salida, la canalización es de solo escritura para el servidor de canalización y de solo lectura para el cliente de canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-119">If the pipe server creates a pipe with PIPE\_ACCESS\_OUTBOUND, the pipe is write-only for the pipe server and read-only for the pipe client.</span></span> <span data-ttu-id="92d9f-120">Una canalización creada con \_ \_ dúplex de acceso de canalización es de lectura y escritura para el servidor de canalización y el cliente de canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-120">A pipe created with PIPE\_ACCESS\_DUPLEX is read/write for both the pipe server and the pipe client.</span></span>

<span data-ttu-id="92d9f-121">Los clientes de canalización con [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) para conectarse a una canalización con nombre deben especificar un derecho de acceso en el parámetro *dwDesiredAccess* que sea compatible con el modo de acceso especificado por el servidor de canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-121">Pipe clients using [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) to connect to a named pipe must specify an access right in the *dwDesiredAccess* parameter that is compatible with the access mode specified by the pipe server.</span></span> <span data-ttu-id="92d9f-122">Por ejemplo, un cliente debe especificar \_ acceso de lectura genérico para abrir un identificador de una canalización que el servidor de canalización creado con acceso de canalización de \_ \_ salida.</span><span class="sxs-lookup"><span data-stu-id="92d9f-122">For example, a client must specify GENERIC\_READ access to open a handle for a pipe that the pipe server created with PIPE\_ACCESS\_OUTBOUND.</span></span> <span data-ttu-id="92d9f-123">Los modos de acceso deben ser los mismos para todas las instancias de una canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-123">The access modes must be the same for all instances of a pipe.</span></span>

<span data-ttu-id="92d9f-124">Para leer los atributos de canalización, como el modo de lectura o el modo de bloqueo, el identificador de canalización debe tener el \_ derecho de acceso leer atributos de archivo \_ ; para escribir atributos de canalización, el identificador de canalización debe tener el \_ derecho de acceso a los atributos de escritura de archivo \_ .</span><span class="sxs-lookup"><span data-stu-id="92d9f-124">To read pipe attributes such as the read mode or blocking mode, the pipe handle must have the FILE\_READ\_ATTRIBUTES access right; to write pipe attributes, the pipe handle must have the FILE\_WRITE\_ATTRIBUTES access right.</span></span> <span data-ttu-id="92d9f-125">Estos derechos de acceso se pueden combinar con el derecho de acceso genérico que sea adecuado para la canalización: \_ lectura genérica con \_ \_ atributos de escritura de archivo para una canalización de solo lectura o \_ escritura genérica con \_ \_ atributos de lectura de archivo para una canalización de solo escritura.</span><span class="sxs-lookup"><span data-stu-id="92d9f-125">These access rights can be combined with the generic access right that is appropriate for the pipe: GENERIC\_READ with FILE\_WRITE\_ATTRIBUTES for a read-only pipe, or GENERIC\_WRITE with FILE\_READ\_ATTRIBUTES for a write-only pipe.</span></span> <span data-ttu-id="92d9f-126">Restringir los derechos de acceso de esta manera proporciona una mejor seguridad para la canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-126">Restricting access rights in this way provides better security for the pipe.</span></span>

## <a name="overlapped-mode"></a><span data-ttu-id="92d9f-127">Modo superpuesto</span><span class="sxs-lookup"><span data-stu-id="92d9f-127">Overlapped Mode</span></span>

<span data-ttu-id="92d9f-128">En el modo superpuesto, las funciones que realizan operaciones de lectura, escritura y conexión largas pueden volver inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="92d9f-128">In overlapped mode, functions performing lengthy read, write, and connect operations can return immediately.</span></span> <span data-ttu-id="92d9f-129">Esto permite que el subproceso realice otras operaciones mientras se ejecuta en segundo plano una operación que lleva mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="92d9f-129">This enables the thread to perform other operations while a time-consuming operation is executing in the background.</span></span> <span data-ttu-id="92d9f-130">Para especificar el modo superpuesto, use la marca de la marca de archivo \_ \_ superpuesta.</span><span class="sxs-lookup"><span data-stu-id="92d9f-130">To specify overlapped mode, use the FILE\_FLAG\_OVERLAPPED flag.</span></span> <span data-ttu-id="92d9f-131">Para obtener más información, vea [entrada y salida sincrónica y superpuesta](synchronous-and-overlapped-input-and-output.md).</span><span class="sxs-lookup"><span data-stu-id="92d9f-131">For more information, see [Synchronous and Overlapped Input and Output](synchronous-and-overlapped-input-and-output.md).</span></span>

<span data-ttu-id="92d9f-132">La función [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) permite que el cliente de canalización establezca el modo superpuesto ( \_ \_ superpuesto de marca de archivo) para sus controladores de canalización mediante el parámetro *dwFlagsAndAttributes* .</span><span class="sxs-lookup"><span data-stu-id="92d9f-132">The [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function allows the pipe client to set overlapped mode (FILE\_FLAG\_OVERLAPPED) for its pipe handles using the *dwFlagsAndAttributes* parameter.</span></span>

## <a name="write-through-mode"></a><span data-ttu-id="92d9f-133">Modo de Write-Through</span><span class="sxs-lookup"><span data-stu-id="92d9f-133">Write-Through Mode</span></span>

<span data-ttu-id="92d9f-134">Especifique el modo de escritura a través con escritura de marcador de archivo \_ \_ \_ a través.</span><span class="sxs-lookup"><span data-stu-id="92d9f-134">Specify write-through mode with FILE\_FLAG\_WRITE\_THROUGH.</span></span> <span data-ttu-id="92d9f-135">Este modo solo afecta a las operaciones de escritura en canalizaciones de tipo byte entre clientes de canalización y servidores de canalización en equipos diferentes.</span><span class="sxs-lookup"><span data-stu-id="92d9f-135">This mode affects only write operations to byte-type pipes between pipe clients and pipe servers on different computers.</span></span> <span data-ttu-id="92d9f-136">En el modo de escritura a través, las funciones que escriben en una canalización con nombre no vuelven hasta que los datos se transmiten a través de la red y al búfer de la canalización en el equipo remoto.</span><span class="sxs-lookup"><span data-stu-id="92d9f-136">In write-through mode, the functions that write to a named pipe do not return until the data is transmitted across the network and into the pipe's buffer on the remote computer.</span></span> <span data-ttu-id="92d9f-137">El modo de escritura es útil para las aplicaciones que requieren sincronización para cada operación de escritura.</span><span class="sxs-lookup"><span data-stu-id="92d9f-137">Write-through mode is useful for applications that require synchronization for every write operation.</span></span>

<span data-ttu-id="92d9f-138">Si el modo de escritura no está habilitado, el sistema mejora la eficacia de las operaciones de red mediante el almacenamiento en búfer de los datos hasta que haya acumulado un número mínimo de bytes o hasta que haya transcurrido un período de tiempo máximo.</span><span class="sxs-lookup"><span data-stu-id="92d9f-138">If write-through mode is not enabled, the system enhances the efficiency of network operations by buffering data until a minimum number of bytes have accumulated or until a maximum time period has elapsed.</span></span> <span data-ttu-id="92d9f-139">El almacenamiento en búfer permite al sistema combinar varias operaciones de escritura en una única transmisión de red.</span><span class="sxs-lookup"><span data-stu-id="92d9f-139">Buffering enables the system to combine multiple write operations into a single network transmission.</span></span> <span data-ttu-id="92d9f-140">Esto significa que una operación de escritura se puede completar correctamente después de que el sistema Coloque los datos en el búfer de salida, pero antes de que el sistema lo transmita a través de la red.</span><span class="sxs-lookup"><span data-stu-id="92d9f-140">This means that a write operation can be successfully completed after the system puts the data in the outbound buffer, but before the system transmits it across the network.</span></span>

<span data-ttu-id="92d9f-141">La función [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) permite que el cliente de canalización establezca el modo de escritura a través ( \_ escritura de marca de archivo \_ \_ a través) para sus controladores de canalización mediante el parámetro *dwFlagsAndAttributes* .</span><span class="sxs-lookup"><span data-stu-id="92d9f-141">The [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function allows the pipe client to set write-through mode (FILE\_FLAG\_WRITE\_THROUGH) for its pipe handles using the *dwFlagsAndAttributes* parameter.</span></span> <span data-ttu-id="92d9f-142">No se puede cambiar el modo de escritura a través de un identificador de canalización una vez creado el identificador de canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-142">The write-through mode of a pipe handle cannot be changed after the pipe handle has been created.</span></span> <span data-ttu-id="92d9f-143">El modo de escritura diferida puede ser diferente para los identificadores de servidor y de cliente en la misma instancia de canalización.</span><span class="sxs-lookup"><span data-stu-id="92d9f-143">The write-through mode can be different for server and client handles to the same pipe instance.</span></span>

<span data-ttu-id="92d9f-144">Un cliente de canalización puede utilizar la función [**SetNamedPipeHandleState**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-setnamedpipehandlestate) para controlar el número de bytes y el período de tiempo de espera antes de la transmisión para una canalización en la que se deshabilita el modo de escritura a través.</span><span class="sxs-lookup"><span data-stu-id="92d9f-144">A pipe client can use the [**SetNamedPipeHandleState**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-setnamedpipehandlestate) function to control the number of bytes and the time-out period before transmission for a pipe on which write-through mode is disabled.</span></span> <span data-ttu-id="92d9f-145">En el caso de una canalización de solo lectura, el identificador de canalización debe abrirse con los derechos de acceso GENÉRICOs de \_ lectura y escritura de archivo \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="92d9f-145">For a read-only pipe, the pipe handle must be opened with the GENERIC\_READ and FILE\_WRITE\_ATTRIBUTES access rights.</span></span>

 

 
