---
description: Obtenga información sobre cómo construir un PrintTicket genérico, en caso de que el documento PrintCapabilities del dispositivo no esté disponible.
ms.assetid: 1f991b6b-8443-4234-ad46-dc4220e34c5c
title: Crear un printticket genérico
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 69e611205663138b9cc3c0d3cd315c2c19d2d7e6
ms.sourcegitcommit: 5d4e99f4c8f42f5f543e52cb9beb9fb13ec56c5f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/19/2021
ms.locfileid: "112409528"
---
# <a name="creating-a-generic-printticket"></a><span data-ttu-id="7aea7-103">Crear un printticket genérico</span><span class="sxs-lookup"><span data-stu-id="7aea7-103">Creating a Generic PrintTicket</span></span>

<span data-ttu-id="7aea7-104">Este tema no es actual.</span><span class="sxs-lookup"><span data-stu-id="7aea7-104">This topic is not current.</span></span> <span data-ttu-id="7aea7-105">Para obtener la información más reciente, vea [La especificación de esquema de impresión](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="7aea7-105">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="7aea7-106">Si el documento PrintCapabilities del dispositivo no está disponible o si el dispositivo de destino es desconocido, debe construir un PrintTicket genérico.</span><span class="sxs-lookup"><span data-stu-id="7aea7-106">If the PrintCapabilities document for the device is unavailable, or if the target device is unknown, you should construct a generic PrintTicket.</span></span> <span data-ttu-id="7aea7-107">Dado que no hay ningún documento PrintCapabilities que proporciona un conjunto de elementos Feature y Option, o parámetros, las instancias admitidas de estos tipos de elementos deben obtenerse directamente de las palabras clave de esquema de impresión.</span><span class="sxs-lookup"><span data-stu-id="7aea7-107">Because there is no PrintCapabilities document that provides a set of Feature and Option elements, or parameters, the supported instances of these element types must be obtained directly from the Print Schema Keywords.</span></span>

<span data-ttu-id="7aea7-108">Los pasos que se muestran en la lista siguiente se deben usar al crear un PrintTicket genérico.</span><span class="sxs-lookup"><span data-stu-id="7aea7-108">The steps shown in the following list should be used when you create a generic PrintTicket.</span></span>

1.  <span data-ttu-id="7aea7-109">Cree un documento XML vacío que contenga la raíz PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-109">Create an empty XML document that contains the PrintTicket root.</span></span> <span data-ttu-id="7aea7-110">Asigne un prefijo de espacio de nombres al espacio de nombres Esquema de impresión.</span><span class="sxs-lookup"><span data-stu-id="7aea7-110">Assign a namespace prefix to the Print Schema namespace.</span></span> <span data-ttu-id="7aea7-111">Especifique la versión del esquema.</span><span class="sxs-lookup"><span data-stu-id="7aea7-111">Specify the Schema version.</span></span>

2.  <span data-ttu-id="7aea7-112">Examine las instancias de característica en las palabras clave de esquema de impresión y determine cuál de ellas desea definir en su PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-112">Examine the Feature instances in the Print Schema Keywords and determine which of these you want defined in your PrintTicket.</span></span> <span data-ttu-id="7aea7-113">Agregue estas instancias de características a PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-113">Add these Feature instances to your PrintTicket.</span></span> <span data-ttu-id="7aea7-114">Al transferir una subfeature, debe transferir la característica primaria y conservar la relación de elementos primarios y secundarios entre la característica y la subfeature en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-114">When you transfer a subfeature, you must transfer the parent Feature, and preserve the parent-child relationship between the Feature and subfeature in the PrintTicket.</span></span>

    <span data-ttu-id="7aea7-115">Para cada instancia de característica que transfiera, determine qué instancias de option son aplicables a su PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-115">For each Feature instance that you transfer, determine which Option instances are applicable to your PrintTicket.</span></span> <span data-ttu-id="7aea7-116">Desde este conjunto de instancias option, transfiera cada instancia de Option completa tal como aparece en el esquema de impresión y, a continuación, quite todas las instancias de propiedad que estén presentes, con la posible excepción de las que tienen importancia para printticket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-116">From this set of Option instances, transfer each entire Option instance as it appears in the Print Schema, and then remove any Property instances that are present, with the possible exception of those that have significance to your PrintTicket.</span></span> <span data-ttu-id="7aea7-117">Mantenga todas las instancias de ScoredProperty y asegúrese de conservar su ubicación. son una parte intrínseca de la definición de opción.</span><span class="sxs-lookup"><span data-stu-id="7aea7-117">Keep all of the ScoredProperty instances, making sure that you preserve their location; they are an intrinsic part of the Option definition.</span></span>

3.  <span data-ttu-id="7aea7-118">También puede agregar instancias de propiedad a cualquier ScoredProperty.</span><span class="sxs-lookup"><span data-stu-id="7aea7-118">You may also add Property instances to any ScoredProperty.</span></span> <span data-ttu-id="7aea7-119">Los elementos de propiedad solo son aplicables si el proveedor PrintTicket admite explícitamente su uso.</span><span class="sxs-lookup"><span data-stu-id="7aea7-119">Property elements are applicable only if the PrintTicket provider explicitly supports their use.</span></span> <span data-ttu-id="7aea7-120">Cada proveedor debe documentar el propósito y el uso de todas las instancias de propiedad admitidas.</span><span class="sxs-lookup"><span data-stu-id="7aea7-120">Each provider should document the purpose and use of all supported Property instances.</span></span> <span data-ttu-id="7aea7-121">Dado que no tiene idea de qué proveedor procesará PrintTicket, es posible que desee anexar solo las instancias de propiedad que son compatibles explícitamente con el proveedor PrintTicket del sistema.</span><span class="sxs-lookup"><span data-stu-id="7aea7-121">Because you have no idea which provider will process the PrintTicket, you might wish to append only the Property instances that are explicitly supported by the system PrintTicket provider.</span></span>

4.  <span data-ttu-id="7aea7-122">Si las palabras clave de esquema de impresión establecen la propiedad SelectionType en PickMany para una característica determinada, puede seleccionar más de una opción para esa característica, siempre que la opción designada como IdentityOption no sea una de las seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="7aea7-122">If the Print Schema Keywords set the SelectionType Property to PickMany for a particular Feature, you may select more than one Option for that Feature, provided that the Option designated as IdentityOption is not one of those selected.</span></span> <span data-ttu-id="7aea7-123">IdentityOption en el esquema de impresión tiene el mismo efecto que la opción None en los archivos PPD postscript y los archivos GPD unidrv; sirve como no operativo.</span><span class="sxs-lookup"><span data-stu-id="7aea7-123">IdentityOption in the Print Schema has the same effect as the None option in Postscript PPD files and Unidrv GPD files; it serves as a no-op.</span></span>

5.  <span data-ttu-id="7aea7-124">Examine las palabras clave de esquema de impresión para las instancias de ParameterDef que se deben inicializar en printticket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-124">Examine the Print Schema Keywords for ParameterDef instances that should be initialized in your PrintTicket.</span></span> <span data-ttu-id="7aea7-125">Para cada instancia de ParameterDef de este tipo, seleccione el valor que se usará en la instancia ParameterInit en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-125">For each such ParameterDef instance, select the Value to be used in the ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="7aea7-126">Este valor debe ser del tipo de datos correcto, debe estar dentro del intervalo definido en la instancia de ParameterDef y debe cumplir todos los demás requisitos especificados en la instancia de ParameterDef.</span><span class="sxs-lookup"><span data-stu-id="7aea7-126">This Value must be of the correct data type, must fall within the range defined in the ParameterDef instance, and must meet all of the other requirements specified in the ParameterDef instance.</span></span> <span data-ttu-id="7aea7-127">Use una instancia parameterInit para inicializar el parámetro en el valor que ha seleccionado.</span><span class="sxs-lookup"><span data-stu-id="7aea7-127">Use a ParameterInit instance to initialize the parameter to the Value you have selected.</span></span>

    <span data-ttu-id="7aea7-128">Si va a desarrollar un componente de interfaz de usuario (UI), diseñe los métodos de generación PrintTicket para que los usuarios puedan escribir el valor del elemento ParameterInit.</span><span class="sxs-lookup"><span data-stu-id="7aea7-128">If you are developing a user interface (UI) component, design your PrintTicket generation methods so that users can enter the Value for the ParameterInit element.</span></span> <span data-ttu-id="7aea7-129">Además, el método de entrada de la interfaz de usuario debe observar y cumplir las restricciones de entrada especificadas por el elemento ParameterDef asociado.</span><span class="sxs-lookup"><span data-stu-id="7aea7-129">In addition, the UI entry method should observe and comply with any input restrictions specified by the associated ParameterDef element.</span></span>

6.  <span data-ttu-id="7aea7-130">Examine el contenido de cada instancia de Option que aparece en PrintTicket para ver si hay repeticiones de ParameterRef.</span><span class="sxs-lookup"><span data-stu-id="7aea7-130">Examine the contents of each Option instance that appears in the PrintTicket for occurrences of ParameterRef.</span></span> <span data-ttu-id="7aea7-131">Si aún no aparece una instancia de ParameterInit correspondiente en PrintTicket, siga el paso anterior para crear una instancia de ParameterInit en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-131">If a corresponding ParameterInit instance does not already appear in the PrintTicket, follow the previous step to create a ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="7aea7-132">El propósito de esta instancia parameterInit es inicializar el parámetro al que hace referencia la instancia ParameterRef.</span><span class="sxs-lookup"><span data-stu-id="7aea7-132">The purpose of this ParameterInit instance is to initialize the parameter referenced by the ParameterRef instance.</span></span>

7.  <span data-ttu-id="7aea7-133">Tenga en cuenta que es posible que el dispositivo que procesa el trabajo no admita todas las características especificadas en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-133">Keep in mind that the device that processes the job might not support every Feature specified in the PrintTicket.</span></span> <span data-ttu-id="7aea7-134">Tenga en cuenta también que una característica con nombre podría ser compatible, pero una opción especificada de esa característica podría no ser.</span><span class="sxs-lookup"><span data-stu-id="7aea7-134">Keep in mind also, that a named Feature might be supported, but a specified Option of that Feature might not be.</span></span> <span data-ttu-id="7aea7-135">Las mismas advertencias se aplican a los parámetros.</span><span class="sxs-lookup"><span data-stu-id="7aea7-135">The same caveats apply to parameters.</span></span> <span data-ttu-id="7aea7-136">Incluso si un dispositivo admite un parámetro con nombre, es posible que el valor especificado en la instancia ParameterInit no esté dentro del intervalo válido para el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7aea7-136">Even if a device supports a named parameter, the Value specified in the ParameterInit instance might not be within the valid range for the device.</span></span>

8.  <span data-ttu-id="7aea7-137">Examine las palabras clave de esquema de impresión para las instancias de propiedad que deben estar presentes en printticket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-137">Examine the Print Schema Keywords for Property instances that must be present in your PrintTicket.</span></span> <span data-ttu-id="7aea7-138">Agregue una instancia de Property para cada una de ellas a PrintTicket y proporcione un valor adecuado para ella mediante el tipo de elemento Value.</span><span class="sxs-lookup"><span data-stu-id="7aea7-138">Add a Property instance for each of these to your PrintTicket, and provide a suitable value for it using the Value element type.</span></span> <span data-ttu-id="7aea7-139">Asegúrese de que las instancias de propiedad se encuentran correctamente dentro de PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-139">Make sure that Property instances are located properly within the PrintTicket.</span></span> <span data-ttu-id="7aea7-140">Asegúrese de consultar el esquema PrintTicket en lugar del esquema PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="7aea7-140">Make sure that you consult the PrintTicket Schema rather than the PrintCapabilities Schema.</span></span>

9.  <span data-ttu-id="7aea7-141">Examine las instancias de propiedad opcionales definidas en el esquema PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-141">Examine the optional Property instances defined in the PrintTicket Schema.</span></span> <span data-ttu-id="7aea7-142">Si hay alguna de estas instancias de propiedad que debe estar en printticket, crámelas en printticket.</span><span class="sxs-lookup"><span data-stu-id="7aea7-142">If there are any such Property instances that should be in your PrintTicket, create them in your PrintTicket.</span></span>

10. <span data-ttu-id="7aea7-143">Los elementos secundarios del mismo tipo de elemento no pueden anidar en una profundidad de más de 10 elementos.</span><span class="sxs-lookup"><span data-stu-id="7aea7-143">Children of the same element type may not nest to a depth of more than 10 elements.</span></span> <span data-ttu-id="7aea7-144">Esta regla se aplica de forma independiente a cada tipo de elemento que se puede definir.</span><span class="sxs-lookup"><span data-stu-id="7aea7-144">This rule applies independently to each type of element that can be defined.</span></span>

> [!Note]  
> <span data-ttu-id="7aea7-145">El contenido XML de PrintTicket DEBE codificarse mediante UTF-8 o UTF-16.</span><span class="sxs-lookup"><span data-stu-id="7aea7-145">PrintTicket XML content MUST be encoded using either UTF-8 or UTF-16.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="7aea7-146">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="7aea7-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7aea7-147">Especificación de esquema de impresión</span><span class="sxs-lookup"><span data-stu-id="7aea7-147">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



