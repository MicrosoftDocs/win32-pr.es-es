---
description: Las propiedades se representan mediante identificadores conocidos como identificadores de propiedad (PID).
ms.assetid: a773c7b3-a1a2-4cce-ae5f-b54217ea06f4
title: Descripción de los controladores de propiedades
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 564d6f8bd325e649ff1356869932521d8c1cd885
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104276209"
---
# <a name="understanding-property-handlers"></a><span data-ttu-id="4e98c-103">Descripción de los controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="4e98c-103">Understanding Property Handlers</span></span>

<span data-ttu-id="4e98c-104">Las propiedades se representan mediante identificadores conocidos como identificadores de propiedad (PID).</span><span class="sxs-lookup"><span data-stu-id="4e98c-104">Properties are represented by IDs known as property identifiers (PIDs).</span></span> <span data-ttu-id="4e98c-105">Cada propiedad debe tener un identificador único global (GUID).</span><span class="sxs-lookup"><span data-stu-id="4e98c-105">Each property MUST have a globally unique identifier (GUID).</span></span> <span data-ttu-id="4e98c-106">Este identificador está compuesto de un GUID, que representa una colección de propiedades denominada un conjunto de propiedades más una cadena o un entero de 32 bits para identificar la propiedad dentro del conjunto.</span><span class="sxs-lookup"><span data-stu-id="4e98c-106">This identifier consists of a GUID, representing a collection of properties called a property set plus either a string or a 32-bit integer to identify the property within the set.</span></span> <span data-ttu-id="4e98c-107">Si se utiliza la forma de entero de ID, se considera que los valores 0x00000000, 0xFFFFFFFF y 0xFFFFFFFE no son válidos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-107">If the integer form of ID is used, the values 0x00000000, 0xFFFFFFFF, and 0xFFFFFFFE are considered invalid.</span></span> <span data-ttu-id="4e98c-108">Los proveedores pueden garantizar que sus propiedades se definen de forma única al colocarlas en un conjunto de propiedades definido por sus propios GUID.</span><span class="sxs-lookup"><span data-stu-id="4e98c-108">Vendors can guarantee that their properties are uniquely defined by placing them in a property set defined by their own GUIDs.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4e98c-109">Es fundamental que defina las propiedades con cuidado y de forma estratégica para la primera versión del esquema.</span><span class="sxs-lookup"><span data-stu-id="4e98c-109">It is critical that you define properties carefully and strategically for the first release of the schema.</span></span> <span data-ttu-id="4e98c-110">Cualquier cambio en las propiedades personalizadas (como el ancho de columna o el tipo de propiedad) no se reflejará en la base de datos después de que se haya registrado un esquema.</span><span class="sxs-lookup"><span data-stu-id="4e98c-110">Any changes to custom properties (such as column width or property type) will not be reflected in the database after a schema has been registered.</span></span> <span data-ttu-id="4e98c-111">La única manera de que estos cambios se reconozcan después de que el esquema se haya registrado una vez en un sistema sería volver a generar el índice y, a continuación, registrar el nuevo esquema, o bien registrar el esquema y, a continuación, crear una nueva propiedad (que consta de un nombre canónico y un PKEY) para cada versión de subequent; por ejemplo `PKEY_GroupName_PropertyNameV2` , `PKEY_GroupName_PropertyNameV3` , y así sucesivamente).</span><span class="sxs-lookup"><span data-stu-id="4e98c-111">The only way to have these changes recognized after the schema has been registered once on a system would be either to rebuild the index and then register the new schema, or to register the schema and then create a new property (which consists of a canonical name and a PKEY) for each subequent release; for example `PKEY_GroupName_PropertyNameV2`, `PKEY_GroupName_PropertyNameV3`, and so forth).</span></span> <span data-ttu-id="4e98c-112">No se recomienda crear nuevas propiedades de esta manera, ya que varias columnas extrañas pueden afectar al rendimiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="4e98c-112">We do not recommend creating new properties in this manner, because multiple extraneous columns may impact system performance.</span></span>

 

<span data-ttu-id="4e98c-113">Este tema se organiza de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="4e98c-113">This topic is organized as follows:</span></span>

-   [<span data-ttu-id="4e98c-114">Metadatos</span><span class="sxs-lookup"><span data-stu-id="4e98c-114">Metadata</span></span>](#metadata)
    -   [<span data-ttu-id="4e98c-115">Abrir metadatos</span><span class="sxs-lookup"><span data-stu-id="4e98c-115">Open Metadata</span></span>](#open-metadata)
-   [<span data-ttu-id="4e98c-116">Acerca de los controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="4e98c-116">About Property Handlers</span></span>](#about-property-handlers)
-   [<span data-ttu-id="4e98c-117">Tecnología heredada</span><span class="sxs-lookup"><span data-stu-id="4e98c-117">Legacy Technology</span></span>](#legacy-technology)
-   [<span data-ttu-id="4e98c-118">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="4e98c-118">Related topics</span></span>](#related-topics)

## <a name="metadata"></a><span data-ttu-id="4e98c-119">Metadatos</span><span class="sxs-lookup"><span data-stu-id="4e98c-119">Metadata</span></span>

<span data-ttu-id="4e98c-120">En Windows Vista y versiones posteriores, un nuevo sistema de propiedades basado en metadatos es fundamental para organizar elementos como archivos, correo electrónico y contactos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-120">In Windows Vista and later, a new property system based on metadata is central to organizing items such as files, e-mail, and contacts.</span></span> <span data-ttu-id="4e98c-121">En este nuevo sistema de propiedades, se pueden buscar elementos en función de sus metadatos y los usuarios pueden leer o escribir esos metadatos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-121">In this new property system, items can be searched based on their metadata, and users can read or write that metadata.</span></span> <span data-ttu-id="4e98c-122">Los metadatos de este sistema se representan mediante un conjunto extensible de *propiedades* implementadas como pares de nombre/valor.</span><span class="sxs-lookup"><span data-stu-id="4e98c-122">Metadata in this system is represented by an extensible set of *properties* implemented as name/value pairs.</span></span>

<span data-ttu-id="4e98c-123">En Windows Vista y versiones posteriores, un amplio conjunto de propiedades cubre las características específicas de los elementos, como fotos, música, documentos, mensajes, contactos y archivos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-123">In Windows Vista and later, an extensive set of properties covers the specifics of items such as photos, music, documents, messages, contacts, and files.</span></span> <span data-ttu-id="4e98c-124">Los fabricantes de software independientes (ISV) pueden introducir sus propias propiedades en la plataforma si ninguna propiedad existente satisface sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="4e98c-124">Independent software vendors (ISVs) can introduce their own properties to the platform if no existing property meets their needs.</span></span>

### <a name="open-metadata"></a><span data-ttu-id="4e98c-125">Abrir metadatos</span><span class="sxs-lookup"><span data-stu-id="4e98c-125">Open Metadata</span></span>

<span data-ttu-id="4e98c-126">El sistema de propiedades de Windows Vista y versiones posteriores es un sistema de metadatos abierto.</span><span class="sxs-lookup"><span data-stu-id="4e98c-126">The property system in Windows Vista and later is an open metadata system.</span></span> <span data-ttu-id="4e98c-127">Un formato de archivo almacena cualquier propiedad que se le haya asignado y expone ese valor cuando se consulta, independientemente de su relevancia o significado.</span><span class="sxs-lookup"><span data-stu-id="4e98c-127">A file format stores any property assigned to it and exposes that value when queried, regardless of relevance or meaning.</span></span> <span data-ttu-id="4e98c-128">Esto permite a los desarrolladores de terceros adjuntar propiedades adicionales al archivo sin necesidad de un cambio en el controlador de propiedad asociado a él.</span><span class="sxs-lookup"><span data-stu-id="4e98c-128">This enables third-party developers to attach extra properties to the file without requiring a change in the property handler associated with it.</span></span> <span data-ttu-id="4e98c-129">Los metadatos abiertos son un concepto eficaz.</span><span class="sxs-lookup"><span data-stu-id="4e98c-129">Open metadata is a powerful concept.</span></span> <span data-ttu-id="4e98c-130">Para obtener más información sobre cómo admitir los metadatos abiertos para un formato de archivo basado en XML, vea "compatibilidad con metadatos abiertos" en [inicializar controladores de propiedades](./building-property-handlers-property-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="4e98c-130">For more information about how to support open metadata for an XML-based file format, see "Supporting Open Metadata" in [Initializing Property Handlers](./building-property-handlers-property-handlers.md).</span></span>

> [!Note]  
> <span data-ttu-id="4e98c-131">Los controladores de propiedades siempre se asocian a tipos de archivo específicos; por lo tanto, si el formato de archivo contiene propiedades que requieren un controlador de propiedades personalizado, debe registrar siempre una extensión de nombre de archivo única para cada formato de archivo.</span><span class="sxs-lookup"><span data-stu-id="4e98c-131">Property handlers are always associated with specific file types; thus, if your file format contains properties that require a custom property handler, you should always register a unique file name extension for each file format.</span></span>

 

## <a name="about-property-handlers"></a><span data-ttu-id="4e98c-132">Acerca de los controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="4e98c-132">About Property Handlers</span></span>

<span data-ttu-id="4e98c-133">En Windows Vista y versiones posteriores, Windows tiene un sistema de propiedades extensible para almacenar y recuperar metadatos en los archivos y elementos de datos a los que se tiene acceso.</span><span class="sxs-lookup"><span data-stu-id="4e98c-133">In Windows Vista and later, Windows has an extensible property system for storing and retrieving metadata in the files and data items that you access.</span></span> <span data-ttu-id="4e98c-134">El explorador de Windows y el sistema de Windows Search, junto con otras aplicaciones, utilizan controladores de propiedades para leer y modificar estos metadatos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-134">Windows Explorer and the Windows Search system, along with other applications, use property handlers to read and modify this metadata.</span></span> <span data-ttu-id="4e98c-135">Si es un desarrollador que posee un tipo de archivo específico, debe registrar un controlador de propiedades para proporcionar al sistema de propiedades acceso a los metadatos de los archivos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-135">If you are a developer who owns a specific file type, you should register a property handler to give the property system access to the metadata in your files.</span></span> <span data-ttu-id="4e98c-136">En algunos casos, es posible que pueda usar un controlador de propiedades existente que pueda leer y comprender el formato de archivo y sus propiedades. en otros casos, puede que necesite desarrollar un nuevo controlador de propiedades para el tipo de archivo.</span><span class="sxs-lookup"><span data-stu-id="4e98c-136">In some cases, you might be able to use an existing property handler that can read and understand your file format and its properties; in other cases, you might need to develop a new property handler for your file type.</span></span>

<span data-ttu-id="4e98c-137">El primer paso para escribir un controlador de propiedades es considerar qué propiedades admite el tipo de archivo.</span><span class="sxs-lookup"><span data-stu-id="4e98c-137">The first step in writing a property handler is to consider what properties your file type supports.</span></span> <span data-ttu-id="4e98c-138">Los valores de propiedad se almacenan en el flujo de archivo, principalmente para habilitar la transferencia.</span><span class="sxs-lookup"><span data-stu-id="4e98c-138">Property values are stored in the file stream, primarily to enable transportability.</span></span> <span data-ttu-id="4e98c-139">Cuando los valores de propiedad se almacenan en el propio archivo, tal como están en este sistema, un usuario puede copiar un archivo en otro equipo, una unidad flash USB u otro sistema de archivos, o bien enviar el archivo como datos adjuntos de correo electrónico, las propiedades viajan con el archivo y no se pierden ni se pierden.</span><span class="sxs-lookup"><span data-stu-id="4e98c-139">When the property values are stored in the file itself, as they are in this system, a user can copy a file to another computer, a USB flash drive, or another file system, or sends the file as an e-mail attachment, the properties travel with the file and never get out of sync or lost.</span></span> <span data-ttu-id="4e98c-140">Por lo tanto, si el formato de archivo admite el almacenamiento de información adicional, es mejor almacenar las propiedades en el propio archivo.</span><span class="sxs-lookup"><span data-stu-id="4e98c-140">Therefore, if the file format supports storing extra information, it is best to store the properties in the file itself.</span></span>

<span data-ttu-id="4e98c-141">El siguiente paso consiste en determinar qué propiedades debe proporcionar el archivo.</span><span class="sxs-lookup"><span data-stu-id="4e98c-141">The next step is to determine which properties the file should provide.</span></span> <span data-ttu-id="4e98c-142">En principio, puede pensar que un conjunto limitado de propiedades es adecuado.</span><span class="sxs-lookup"><span data-stu-id="4e98c-142">You might initially think that a limited set of properties is adequate.</span></span> <span data-ttu-id="4e98c-143">Un archivo de audio podría admitir solo propiedades relacionadas con el audio y finalizar allí.</span><span class="sxs-lookup"><span data-stu-id="4e98c-143">An audio file could support only audio-related properties and end there.</span></span> <span data-ttu-id="4e98c-144">Sin embargo, ese archivo de audio puede ser un registro de una sesión de un tribunal de justicia, archivado por una empresa judicial.</span><span class="sxs-lookup"><span data-stu-id="4e98c-144">However, that audio file could be a recording of a session of a court of law, archived by a law firm.</span></span> <span data-ttu-id="4e98c-145">En ese caso, el bufete de la ley querrá asociar otras propiedades que no sean de audio a este archivo, como el número de caso.</span><span class="sxs-lookup"><span data-stu-id="4e98c-145">In that case, the law firm would certainly want to associate other non-audio properties with this file, such as the case number.</span></span> <span data-ttu-id="4e98c-146">Es posible que el proveedor del formato de archivo de audio no pueda determinar todos los escenarios en los que nunca se usará su formato.</span><span class="sxs-lookup"><span data-stu-id="4e98c-146">The provider of the audio file format cannot possibly determine all of the scenarios in which their format will ever be used.</span></span> <span data-ttu-id="4e98c-147">Por lo tanto, deben considerar la posibilidad de habilitar el almacenamiento global de cualquier propiedad arbitraria compatible con el sistema de propiedades.</span><span class="sxs-lookup"><span data-stu-id="4e98c-147">They should therefore consider enabling blanket storage of any arbitrary property supported by the property system.</span></span>

## <a name="legacy-technology"></a><span data-ttu-id="4e98c-148">Tecnología heredada</span><span class="sxs-lookup"><span data-stu-id="4e98c-148">Legacy Technology</span></span>

<span data-ttu-id="4e98c-149">La tecnología de secuencias secundarias del sistema de archivos de Microsoft Windows NT (NTFS) se desarrolló para admitir la persistencia de información adicional con el archivo a través de un conjunto de flujos alternativo en la capa del sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-149">Microsoft Windows NT File System (NTFS) secondary stream technology was developed to support the persistence of extra information with the file through an alternate stream set at the file system layer.</span></span> <span data-ttu-id="4e98c-150">Es posible que se pregunte por qué esas secuencias secundarias no se usan como método principal para almacenar propiedades, especialmente con la compatibilidad con metadatos abiertos.</span><span class="sxs-lookup"><span data-stu-id="4e98c-150">One might wonder why those secondary streams are not used as the main method to store properties, especially with open metadata support.</span></span> <span data-ttu-id="4e98c-151">El motivo principal es la portabilidad de esta información adicional.</span><span class="sxs-lookup"><span data-stu-id="4e98c-151">The primary reason is the transportability of this extra information.</span></span> <span data-ttu-id="4e98c-152">Desafortunadamente, estas secuencias alternativas se quitan en muchos escenarios, como la compatibilidad con el almacenamiento en caché del lado cliente (CSC), el envío de archivos como datos adjuntos y la copia de archivos en un almacén que no es NTFS.</span><span class="sxs-lookup"><span data-stu-id="4e98c-152">Unfortunately, these alternate streams are removed in many scenarios including client-side caching support (CSC), sending files as attachments, and copying files to a non-NTFS store.</span></span>

<span data-ttu-id="4e98c-153">Las secuencias secundarias no proporcionan una solución sólida en la que se garantiza que las propiedades viajan con el archivo y, por lo tanto, el sistema de propiedades de Windows Vista no proporciona un mecanismo integrado que aprovecha las secuencias NTFS secundarias para el almacenamiento de propiedades.</span><span class="sxs-lookup"><span data-stu-id="4e98c-153">Secondary streams do not provide a robust solution in which properties are guaranteed to travel with the file, and hence, the Windows Vista property system does not provide a built-in mechanism that exploits the secondary NTFS streams for property storage.</span></span> <span data-ttu-id="4e98c-154">También se recomienda encarecidamente que los ISV creen controladores de propiedades que usen secuencias secundarias para el almacenamiento de propiedades.</span><span class="sxs-lookup"><span data-stu-id="4e98c-154">ISVs are also highly discouraged from building property handlers that use secondary streams for the storage of properties.</span></span> <span data-ttu-id="4e98c-155">Por supuesto, hay escenarios en los que las secuencias secundarias de NTFS son adecuadas, especialmente cuando las aplicaciones pueden garantizar que el archivo con el que están tratando siempre se almacenan en un volumen NTFS y no se recorren como resultado de la interacción del usuario final.</span><span class="sxs-lookup"><span data-stu-id="4e98c-155">Of course there are scenarios where NTFS secondary streams are appropriate, particularly when applications can guarantee that the file they are dealing with is always stored in an NTFS volume and will not travel as a result of end user interaction.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4e98c-156">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="4e98c-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4e98c-157">Usar nombres de tipo</span><span class="sxs-lookup"><span data-stu-id="4e98c-157">Using Kind Names</span></span>](./building-property-handlers-user-friendly-kind-names.md)
</dt> <dt>

[<span data-ttu-id="4e98c-158">Usar listas de propiedades</span><span class="sxs-lookup"><span data-stu-id="4e98c-158">Using Property Lists</span></span>](./building-property-handlers-property-lists.md)
</dt> <dt>

[<span data-ttu-id="4e98c-159">Inicializar controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="4e98c-159">Initializing Property Handlers</span></span>](./building-property-handlers-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="4e98c-160">Registrar y distribuir controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="4e98c-160">Registering and Distributing Property Handlers</span></span>](./prophand-reg-dist.md)
</dt> <dt>

[<span data-ttu-id="4e98c-161">Prácticas recomendadas y preguntas más frecuentes sobre controladores de propiedades</span><span class="sxs-lookup"><span data-stu-id="4e98c-161">Property Handler Best Practices and FAQ</span></span>](./prophand-bestprac-faq.md)
</dt> </dl>

 

 
