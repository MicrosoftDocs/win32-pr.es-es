---
description: Rectángulos de origen y de destino en representadores de vídeo
ms.assetid: fdddbffb-c44f-4364-9e2e-b721ba39c74f
title: Rectángulos de origen y de destino en representadores de vídeo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 556aea6aad22e5ea6df61c74ed0a46d2e3984d67
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "104537557"
---
# <a name="source-and-target-rectangles-in-video-renderers"></a><span data-ttu-id="6fa84-103">Rectángulos de origen y de destino en representadores de vídeo</span><span class="sxs-lookup"><span data-stu-id="6fa84-103">Source and Target Rectangles in Video Renderers</span></span>

<span data-ttu-id="6fa84-104">Existen tres tamaños en las estructuras de formato [**videoinfo**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfo), [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader)y [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) de los tipos de medios de vídeo.</span><span class="sxs-lookup"><span data-stu-id="6fa84-104">There are three sizes found in the [**VIDEOINFO**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfo), [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader), and [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) format structures of video media types.</span></span> <span data-ttu-id="6fa84-105">En este artículo se explica lo que son y cómo funcionan.</span><span class="sxs-lookup"><span data-stu-id="6fa84-105">This article explains what they are and how they work.</span></span>

<span data-ttu-id="6fa84-106">En primer lugar, hay un tamaño en el miembro **bmiHeader** de estas estructuras.</span><span class="sxs-lookup"><span data-stu-id="6fa84-106">First, there is a size in the **bmiHeader** member of these structures.</span></span> <span data-ttu-id="6fa84-107">El miembro **bmiHeader** es una estructura [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) con sus propios miembros de ancho y alto, **BmiHeader. biwidth** y **bmiHeader. biheight**.</span><span class="sxs-lookup"><span data-stu-id="6fa84-107">The **bmiHeader** member is a [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure with its own width and height members, **bmiHeader.biWidth** and **bmiHeader.biHeight**.</span></span>

<span data-ttu-id="6fa84-108">En segundo lugar, hay un rectángulo en el miembro **rcSource** de estas estructuras; y por último, hay un rectángulo en el miembro **rcTarget** de estas estructuras.</span><span class="sxs-lookup"><span data-stu-id="6fa84-108">Second, there is a rectangle in the **rcSource** member of these structures; and last, there is a rectangle in the **rcTarget** member of these structures.</span></span>

<span data-ttu-id="6fa84-109">Suponga que tiene dos filtros, A y B, y que estos filtros están conectados entre sí (a a la izquierda, o ascendente y B a la derecha o descendente) con un determinado tipo de medio de vídeo.</span><span class="sxs-lookup"><span data-stu-id="6fa84-109">Assume you have two filters, A and B, and that these filters are connected to each other (A on the left, or upstream, and B on the right, or downstream) with a certain video media type.</span></span>

<span data-ttu-id="6fa84-110">Los búferes que pasan entre los filtros A y B tienen el tamaño (**bmiHeader. biwidth**, **BmiHeader. biheight**).</span><span class="sxs-lookup"><span data-stu-id="6fa84-110">The buffers that pass between filters A and B have the size (**bmiHeader.biWidth**, **bmiHeader.biHeight**).</span></span> <span data-ttu-id="6fa84-111">El filtro A debe tomar una parte de su vídeo de entrada determinado por **rcSource** y ajustar el vídeo para rellenar la parte **rcTarget** del búfer.</span><span class="sxs-lookup"><span data-stu-id="6fa84-111">Filter A should take a portion of its input video determined by **rcSource** and stretch that video to fill the **rcTarget** portion of the buffer.</span></span> <span data-ttu-id="6fa84-112">La parte del vídeo de entrada que se va a usar se basa en el modo en que **rcSource** se compara con el tamaño (**biwidth**, **biheight**) del tipo de medio que filtra a y B conectado originalmente con.</span><span class="sxs-lookup"><span data-stu-id="6fa84-112">The portion of the input video to use is based on how **rcSource** compares to the (**biWidth**, **biHeight**) size of the media type that filters A and B originally connected with.</span></span> <span data-ttu-id="6fa84-113">Si **rcSource** está vacío, el filtro A usa todo el vídeo de entrada.</span><span class="sxs-lookup"><span data-stu-id="6fa84-113">If **rcSource** is empty, filter A uses its entire input video.</span></span> <span data-ttu-id="6fa84-114">Si **rcTarget** está vacío, el filtro A llena todo el búfer de salida.</span><span class="sxs-lookup"><span data-stu-id="6fa84-114">If **rcTarget** is empty, filter A fills the entire output buffer.</span></span>

<span data-ttu-id="6fa84-115">Por ejemplo, suponga que el filtro A está recibiendo datos de vídeo de 160 x 120 píxeles.</span><span class="sxs-lookup"><span data-stu-id="6fa84-115">For example, assume filter A is receiving video data that is 160 x 120 pixels.</span></span> <span data-ttu-id="6fa84-116">Supongamos también que el filtro a está conectado al filtro B con el siguiente tipo de medio.</span><span class="sxs-lookup"><span data-stu-id="6fa84-116">Assume also that filter A is connected to filter B with the following media type.</span></span>

-   <span data-ttu-id="6fa84-117">(**biwidth**, **biheight**): 320, 240</span><span class="sxs-lookup"><span data-stu-id="6fa84-117">(**biWidth**, **biHeight**): 320, 240</span></span>
-   <span data-ttu-id="6fa84-118">**rcSource**: (0, 0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="6fa84-118">**rcSource**: (0, 0, 0, 0)</span></span>
-   <span data-ttu-id="6fa84-119">**rcTarget**: (0, 0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="6fa84-119">**rcTarget**: (0, 0, 0, 0)</span></span>

<span data-ttu-id="6fa84-120">Esto significa que el filtro A ajustará el vídeo que recibe en 2 en las direcciones x e y, y rellenará un búfer de salida 320 x 240.</span><span class="sxs-lookup"><span data-stu-id="6fa84-120">This means that filter A will stretch the video it receives by 2 in both the x and y directions, and fill a 320 x 240 output buffer.</span></span>

<span data-ttu-id="6fa84-121">Como otro ejemplo, suponga que el filtro A está recibiendo datos de vídeo 160 x 120 y que está conectado al filtro B con el siguiente tipo de medio.</span><span class="sxs-lookup"><span data-stu-id="6fa84-121">As another example, assume filter A is receiving 160 x 120 video data, and that it is connected to filter B with the following media type.</span></span>

-   <span data-ttu-id="6fa84-122">(**biwidth**, **biheight**): 320, 240</span><span class="sxs-lookup"><span data-stu-id="6fa84-122">(**biWidth**, **biHeight**): 320, 240</span></span>
-   <span data-ttu-id="6fa84-123">**rcSource**: (0, 0, 160, 240)</span><span class="sxs-lookup"><span data-stu-id="6fa84-123">**rcSource**: (0, 0, 160, 240)</span></span>
-   <span data-ttu-id="6fa84-124">**rcTarget**: (0, 0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="6fa84-124">**rcTarget**: (0, 0, 0, 0)</span></span>

<span data-ttu-id="6fa84-125">El miembro **rcSource** es relativo al tamaño del búfer conectado de 320, 240.</span><span class="sxs-lookup"><span data-stu-id="6fa84-125">The **rcSource** member is relative to the connected buffer size of 320, 240.</span></span> <span data-ttu-id="6fa84-126">Dado que el valor de **rcSource** especificado (0, 0, 160, 240) es la mitad izquierda del búfer, el filtro A tomará la mitad izquierda de su vídeo de entrada o la parte (0, 0, 80, 120) y extenderá el vídeo a un tamaño de (320, 240) (en 4 en la dirección x y 2 en la dirección y) y rellenando el búfer de salida 320 x 240.</span><span class="sxs-lookup"><span data-stu-id="6fa84-126">Because the specified **rcSource** (0, 0, 160, 240) is the left half of the buffer, filter A will take the left half of its input video, or the (0, 0, 80, 120) portion, and stretch the video to a size of (320, 240) (by 4 in the x direction, and by 2 in the y direction) and filling the 320 x 240 output buffer.</span></span>

<span data-ttu-id="6fa84-127">Ahora Supongamos que el filtro A llama a [**CBaseAllocator:: getBuffer**](cbaseallocator-getbuffer.md)y que el ejemplo multimedia devuelto tiene un tipo de archivo multimedia adjunto, lo que significa que el filtro B desea que el filtro a proporcione un tamaño o tipo de vídeo diferente del que ha proporcionado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="6fa84-127">Now assume that filter A calls [**CBaseAllocator::GetBuffer**](cbaseallocator-getbuffer.md), and the media sample returned has a media type attached to it, signifying that filter B wants filter A to provide a different size or kind of video than it has previously been providing.</span></span> <span data-ttu-id="6fa84-128">Supongamos que el nuevo tipo de medio es:</span><span class="sxs-lookup"><span data-stu-id="6fa84-128">Assume the new media type is:</span></span>

-   <span data-ttu-id="6fa84-129">(**biwidth**, **biheight**): 640, 480</span><span class="sxs-lookup"><span data-stu-id="6fa84-129">(**biWidth**, **biHeight**): 640, 480</span></span>
-   <span data-ttu-id="6fa84-130">**rcSource**: (0, 0, 160, 120)</span><span class="sxs-lookup"><span data-stu-id="6fa84-130">**rcSource**: (0, 0, 160, 120)</span></span>
-   <span data-ttu-id="6fa84-131">**rcTarget**: (0, 0, 80, 60)</span><span class="sxs-lookup"><span data-stu-id="6fa84-131">**rcTarget**: (0, 0, 80, 60)</span></span>

<span data-ttu-id="6fa84-132">Esto significa que el ejemplo multimedia tiene un búfer con un tamaño de 640 x 480.</span><span class="sxs-lookup"><span data-stu-id="6fa84-132">This means that the media sample has a buffer that is 640 x 480 in size.</span></span> <span data-ttu-id="6fa84-133">El miembro **rcSource** es relativo al tipo de medio conectado original (320, 240) al nuevo tipo de medio (640, 480), por lo que **rcSource** especifica que la esquina superior izquierda (25%) del vídeo de entrada que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="6fa84-133">The **rcSource** member is relative to the original connected media type (320, 240) not to the new media type of (640, 480), so **rcSource** specifies that the top-left corner (25%) of the input video is to be used.</span></span> <span data-ttu-id="6fa84-134">Esta parte del vídeo de entrada se coloca en los píxeles superior izquierdo (80, 60) del búfer de salida 640 x 480, según se especifica en **rcTarget** de (0, 0, 80, 60).</span><span class="sxs-lookup"><span data-stu-id="6fa84-134">This portion of the input video is placed in the top-left (80, 60) pixels of the 640 x 480 output buffer, as specified by **rcTarget** of (0, 0, 80, 60).</span></span> <span data-ttu-id="6fa84-135">Dado que el filtro A recibe el vídeo 160 x 120, la esquina superior izquierda del vídeo de entrada es una pieza (80, 60), el mismo tamaño del mapa de bits de salida y no se requiere ninguna ampliación.</span><span class="sxs-lookup"><span data-stu-id="6fa84-135">Because filter A is receiving 160 x 120 video, the top-left corner of the input video is an (80, 60) piece, the same size of the output bitmap, and no stretching is required.</span></span>

<span data-ttu-id="6fa84-136">El filtro A no colocará ningún dato en los demás píxeles del búfer de salida y dejará esos bits intactos.</span><span class="sxs-lookup"><span data-stu-id="6fa84-136">Filter A will place no data in the other pixels of the output buffer, and will leave those bits untouched.</span></span> <span data-ttu-id="6fa84-137">El miembro **rcSource** está limitado por el **ancho** y el **bialto** del tipo de medio conectado original entre los filtros A y B, y **RcTarget** está limitado por el nuevo **biwidth** y el **alto** de la muestra multimedia.</span><span class="sxs-lookup"><span data-stu-id="6fa84-137">The **rcSource** member is bounded by the **biWidth** and **biHeight** of the original connected media type between filters A and B, and **rcTarget** is bounded by the new **biWidth** and **biHeight** of the media sample.</span></span> <span data-ttu-id="6fa84-138">En el ejemplo anterior, **rcSource** no pudo superar los límites de (0, 0, 320, 240) y **rcTarget** no pudo superar los límites de (0,0, 640, 480).</span><span class="sxs-lookup"><span data-stu-id="6fa84-138">In the preceding example, **rcSource** could not go outside the boundaries of (0, 0, 320, 240) and **rcTarget** could not go outside the boundaries of (0, 0, 640, 480).</span></span>

 

 



