---
description: El modelo de seguridad de Microsoft Windows le permite controlar el acceso a los objetos de proceso. Para obtener más información sobre la seguridad, vea modelo de Access-Control.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Seguridad del proceso y derechos de acceso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 668520a6f4e0eb8a81b55418033ff583bce8bddf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105677840"
---
# <a name="process-security-and-access-rights"></a><span data-ttu-id="e5da5-104">Seguridad del proceso y derechos de acceso</span><span class="sxs-lookup"><span data-stu-id="e5da5-104">Process Security and Access Rights</span></span>

<span data-ttu-id="e5da5-105">El modelo de seguridad de Microsoft Windows le permite controlar el acceso a los objetos de proceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-105">The Microsoft Windows security model enables you to control access to process objects.</span></span> <span data-ttu-id="e5da5-106">Para obtener más información sobre la seguridad, vea [modelo de control de acceso](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="e5da5-106">For more information about security, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="e5da5-107">Cuando un usuario inicia sesión, el sistema recopila un conjunto de datos que identifica de forma única al usuario durante el proceso de autenticación y lo almacena en un [token de acceso](../secauthz/access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="e5da5-107">When a user logs in, the system collects a set of data that uniquely identifies the user during the authentication process, and stores it in an [access token](../secauthz/access-tokens.md).</span></span> <span data-ttu-id="e5da5-108">Este token de acceso describe el contexto de seguridad de todos los procesos asociados al usuario.</span><span class="sxs-lookup"><span data-stu-id="e5da5-108">This access token describes the security context of all processes associated with the user.</span></span> <span data-ttu-id="e5da5-109">El contexto de seguridad de un proceso es el conjunto de credenciales proporcionadas al proceso o la cuenta de usuario que creó el proceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-109">The security context of a process is the set of credentials given to the process or the user account that created the process.</span></span>

<span data-ttu-id="e5da5-110">Puede usar un token para especificar el contexto de seguridad actual para un proceso mediante la función [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) .</span><span class="sxs-lookup"><span data-stu-id="e5da5-110">You can use a token to specify the current security context for a process using the [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) function.</span></span> <span data-ttu-id="e5da5-111">Puede especificar un [descriptor de seguridad](../secauthz/security-descriptors.md) para un proceso cuando llame a la función [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)o [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) .</span><span class="sxs-lookup"><span data-stu-id="e5da5-111">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a process when you call the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), or [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) function.</span></span> <span data-ttu-id="e5da5-112">Si especifica **null**, el proceso obtiene un descriptor de seguridad predeterminado.</span><span class="sxs-lookup"><span data-stu-id="e5da5-112">If you specify **NULL**, the process gets a default security descriptor.</span></span> <span data-ttu-id="e5da5-113">Las ACL del descriptor de seguridad predeterminado de un proceso proceden del token principal o de suplantación del creador.</span><span class="sxs-lookup"><span data-stu-id="e5da5-113">The ACLs in the default security descriptor for a process come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="e5da5-114">Para recuperar el descriptor de seguridad de un proceso, llame a la función [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="e5da5-114">To retrieve a process's security descriptor, call the [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="e5da5-115">Para cambiar el descriptor de seguridad de un proceso, llame a la función [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="e5da5-115">To change a process's security descriptor, call the [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="e5da5-116">Los derechos de acceso válidos para los objetos de proceso incluyen los [derechos de acceso estándar](../secauthz/standard-access-rights.md) y algunos derechos de acceso específicos del proceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-116">The valid access rights for process objects include the [standard access rights](../secauthz/standard-access-rights.md) and some process-specific access rights.</span></span> <span data-ttu-id="e5da5-117">En la tabla siguiente se enumeran los derechos de acceso estándar utilizados por todos los objetos.</span><span class="sxs-lookup"><span data-stu-id="e5da5-117">The following table lists the standard access rights used by all objects.</span></span>

| <span data-ttu-id="e5da5-118">Value</span><span class="sxs-lookup"><span data-stu-id="e5da5-118">Value</span></span>                           | <span data-ttu-id="e5da5-119">Significado</span><span class="sxs-lookup"><span data-stu-id="e5da5-119">Meaning</span></span>                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e5da5-120">**Eliminar** (0x00010000L)</span><span class="sxs-lookup"><span data-stu-id="e5da5-120">**DELETE** (0x00010000L)</span></span>        | <span data-ttu-id="e5da5-121">Necesario para eliminar el objeto.</span><span class="sxs-lookup"><span data-stu-id="e5da5-121">Required to delete the object.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="e5da5-122">**Leer \_ CONTROL** (0x00020000L)</span><span class="sxs-lookup"><span data-stu-id="e5da5-122">**READ\_CONTROL** (0x00020000L)</span></span> | <span data-ttu-id="e5da5-123">Necesario para leer la información del descriptor de seguridad del objeto, sin incluir la información en la SACL.</span><span class="sxs-lookup"><span data-stu-id="e5da5-123">Required to read information in the security descriptor for the object, not including the information in the SACL.</span></span> <span data-ttu-id="e5da5-124">Para leer o escribir la SACL, debe solicitar el derecho de acceso de **\_ \_ seguridad del sistema de acceso** .</span><span class="sxs-lookup"><span data-stu-id="e5da5-124">To read or write the SACL, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="e5da5-125">Para obtener más información, consulte [derechos de acceso de SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="e5da5-125">For more information, see [SACL Access Right](../secauthz/sacl-access-right.md).</span></span> |
| <span data-ttu-id="e5da5-126">**Sincronizar** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="e5da5-126">**SYNCHRONIZE** (0x00100000L)</span></span>   | <span data-ttu-id="e5da5-127">Derecho a utilizar el objeto para la sincronización.</span><span class="sxs-lookup"><span data-stu-id="e5da5-127">The right to use the object for synchronization.</span></span> <span data-ttu-id="e5da5-128">Esto permite a un subproceso esperar hasta que el objeto se encuentra en el estado señalado.</span><span class="sxs-lookup"><span data-stu-id="e5da5-128">This enables a thread to wait until the object is in the signaled state.</span></span>                                                                                                                                                                |
| <span data-ttu-id="e5da5-129">**Escribir \_ DAC** (0x00040000L)</span><span class="sxs-lookup"><span data-stu-id="e5da5-129">**WRITE\_DAC** (0x00040000L)</span></span>    | <span data-ttu-id="e5da5-130">Necesario para modificar la DACL en el descriptor de seguridad para el objeto.</span><span class="sxs-lookup"><span data-stu-id="e5da5-130">Required to modify the DACL in the security descriptor for the object.</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="e5da5-131">**Escribir \_ PROPIETARIO** (0x00080000L)</span><span class="sxs-lookup"><span data-stu-id="e5da5-131">**WRITE\_OWNER** (0x00080000L)</span></span>  | <span data-ttu-id="e5da5-132">Necesario para cambiar el propietario del descriptor de seguridad para el objeto.</span><span class="sxs-lookup"><span data-stu-id="e5da5-132">Required to change the owner in the security descriptor for the object.</span></span>                                                                                                                                                                                                                  |



 

<span data-ttu-id="e5da5-133">En la tabla siguiente se enumeran los derechos de acceso específicos del proceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-133">The following table lists the process-specific access rights.</span></span>



| <span data-ttu-id="e5da5-134">Value</span><span class="sxs-lookup"><span data-stu-id="e5da5-134">Value</span></span>                                             | <span data-ttu-id="e5da5-135">Significado</span><span class="sxs-lookup"><span data-stu-id="e5da5-135">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e5da5-136">**PROCESAR \_ todo el \_ acceso**</span><span class="sxs-lookup"><span data-stu-id="e5da5-136">**PROCESS\_ALL\_ACCESS**</span></span>                          | <span data-ttu-id="e5da5-137">Todos los derechos de acceso posibles para un objeto de proceso. **Windows Server 2003 y Windows XP:** El tamaño de la marca **procesar \_ todo el \_ acceso** aumentó en Windows Server 2008 y Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="e5da5-137">All possible access rights for a process object.**Windows Server 2003 and Windows XP:** The size of the **PROCESS\_ALL\_ACCESS** flag increased on Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="e5da5-138">Si una aplicación compilada para Windows Server 2008 y Windows Vista se ejecuta en Windows Server 2003 o Windows XP, la marca **procesar \_ todo el \_ acceso** es demasiado grande y la función que especifica esta marca produce un **error con \_ acceso \_ denegado**.</span><span class="sxs-lookup"><span data-stu-id="e5da5-138">If an application compiled for Windows Server 2008 and Windows Vista is run on Windows Server 2003 or Windows XP, the **PROCESS\_ALL\_ACCESS** flag is too large and the function specifying this flag fails with **ERROR\_ACCESS\_DENIED**.</span></span> <span data-ttu-id="e5da5-139">Para evitar este problema, especifique el conjunto mínimo de derechos de acceso necesarios para la operación.</span><span class="sxs-lookup"><span data-stu-id="e5da5-139">To avoid this problem, specify the minimum set of access rights required for the operation.</span></span> <span data-ttu-id="e5da5-140">Si se debe usar **procesar \_ todo el \_ acceso** , establezca \_ Win32 \_ WinNT en el sistema operativo mínimo de destino de la aplicación (por ejemplo, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ).</span><span class="sxs-lookup"><span data-stu-id="e5da5-140">If **PROCESS\_ALL\_ACCESS** must be used, set \_WIN32\_WINNT to the minimum operating system targeted by your application (for example, `#define _WIN32_WINNT _WIN32_WINNT_WINXP`).</span></span> <span data-ttu-id="e5da5-141">Para obtener más información, consulte [uso de los encabezados de Windows](../winprog/using-the-windows-headers.md).</span><span class="sxs-lookup"><span data-stu-id="e5da5-141">For more information, see [Using the Windows Headers](../winprog/using-the-windows-headers.md).</span></span> <br/> |
| <span data-ttu-id="e5da5-142">**Proceso \_ de CREAR \_ proceso** (0x0080)</span><span class="sxs-lookup"><span data-stu-id="e5da5-142">**PROCESS\_CREATE\_PROCESS** (0x0080)</span></span>             | <span data-ttu-id="e5da5-143">Se requiere para crear un proceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-143">Required to create a process.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="e5da5-144">**Proceso \_ de CREAR \_ subproceso** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="e5da5-144">**PROCESS\_CREATE\_THREAD** (0x0002)</span></span>              | <span data-ttu-id="e5da5-145">Se requiere para crear un subproceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-145">Required to create a thread.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="e5da5-146">**Proceso \_ de \_Identificador DUP** (0x0040)</span><span class="sxs-lookup"><span data-stu-id="e5da5-146">**PROCESS\_DUP\_HANDLE** (0x0040)</span></span>                 | <span data-ttu-id="e5da5-147">Necesario para duplicar un identificador mediante [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).</span><span class="sxs-lookup"><span data-stu-id="e5da5-147">Required to duplicate a handle using [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="e5da5-148">**Proceso \_ de \_Información de consulta** (0x0400)</span><span class="sxs-lookup"><span data-stu-id="e5da5-148">**PROCESS\_QUERY\_INFORMATION** (0x0400)</span></span>          | <span data-ttu-id="e5da5-149">Necesario para recuperar determinada información sobre un proceso, como el token, el código de salida y la clase de prioridad (vea [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).</span><span class="sxs-lookup"><span data-stu-id="e5da5-149">Required to retrieve certain information about a process, such as its token, exit code, and priority class (see [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="e5da5-150">**Proceso \_ de \_ \_ Información limitada de consulta** (0x1000)</span><span class="sxs-lookup"><span data-stu-id="e5da5-150">**PROCESS\_QUERY\_LIMITED\_INFORMATION** (0x1000)</span></span> | <span data-ttu-id="e5da5-151">Necesario para recuperar cierta información sobre un proceso (vea [**API GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)).</span><span class="sxs-lookup"><span data-stu-id="e5da5-151">Required to retrieve certain information about a process (see [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)).</span></span> <span data-ttu-id="e5da5-152">Un identificador que tiene el derecho de acceso **\_ \_ información de consulta de proceso** se concede automáticamente a la **\_ \_ \_ información limitada** de la consulta de proceso.**Windows Server 2003 y Windows XP:** este derecho de acceso no se admite.</span><span class="sxs-lookup"><span data-stu-id="e5da5-152">A handle that has the **PROCESS\_QUERY\_INFORMATION** access right is automatically granted **PROCESS\_QUERY\_LIMITED\_INFORMATION**.**Windows Server 2003 and Windows XP:** This access right is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="e5da5-153">**Proceso \_ de ESTABLECER \_ información** (0x0200)</span><span class="sxs-lookup"><span data-stu-id="e5da5-153">**PROCESS\_SET\_INFORMATION** (0x0200)</span></span>            | <span data-ttu-id="e5da5-154">Necesario para establecer determinada información sobre un proceso, como su clase de prioridad (vea [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).</span><span class="sxs-lookup"><span data-stu-id="e5da5-154">Required to set certain information about a process, such as its priority class (see [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="e5da5-155">**Proceso \_ de ESTABLECER \_ cuota** (0x0100)</span><span class="sxs-lookup"><span data-stu-id="e5da5-155">**PROCESS\_SET\_QUOTA** (0x0100)</span></span>                  | <span data-ttu-id="e5da5-156">Necesario para establecer los límites de memoria mediante [**SetProcessWorkingSetSize**](/windows/desktop/api/WinBase/nf-winbase-setprocessworkingsetsize).</span><span class="sxs-lookup"><span data-stu-id="e5da5-156">Required to set memory limits using [**SetProcessWorkingSetSize**](/windows/desktop/api/WinBase/nf-winbase-setprocessworkingsetsize).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="e5da5-157">**Proceso \_ de SUSPENDEr \_ reanudar** (0x0800)</span><span class="sxs-lookup"><span data-stu-id="e5da5-157">**PROCESS\_SUSPEND\_RESUME** (0x0800)</span></span>             | <span data-ttu-id="e5da5-158">Necesario para suspender o reanudar un proceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-158">Required to suspend or resume a process.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="e5da5-159">**Proceso \_ de FINALIZAR** (0x0001)</span><span class="sxs-lookup"><span data-stu-id="e5da5-159">**PROCESS\_TERMINATE** (0x0001)</span></span>                   | <span data-ttu-id="e5da5-160">Necesario para finalizar un proceso mediante [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).</span><span class="sxs-lookup"><span data-stu-id="e5da5-160">Required to terminate a process using [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="e5da5-161">**Proceso \_ de \_Operación de VM** (0x0008)</span><span class="sxs-lookup"><span data-stu-id="e5da5-161">**PROCESS\_VM\_OPERATION** (0x0008)</span></span>               | <span data-ttu-id="e5da5-162">Necesario para realizar una operación en el espacio de direcciones de un proceso (vea [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) y [**writeprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).</span><span class="sxs-lookup"><span data-stu-id="e5da5-162">Required to perform an operation on the address space of a process (see [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) and [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="e5da5-163">**Proceso \_ de Máquina virtual \_ leída** (0x0010)</span><span class="sxs-lookup"><span data-stu-id="e5da5-163">**PROCESS\_VM\_READ** (0x0010)</span></span>                    | <span data-ttu-id="e5da5-164">Necesario para leer la memoria de un proceso mediante [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).</span><span class="sxs-lookup"><span data-stu-id="e5da5-164">Required to read memory in a process using [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="e5da5-165">**Proceso \_ de \_Escritura de VM** (0x0020)</span><span class="sxs-lookup"><span data-stu-id="e5da5-165">**PROCESS\_VM\_WRITE** (0x0020)</span></span>                   | <span data-ttu-id="e5da5-166">Necesario para escribir en la memoria de un proceso mediante [**writeprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).</span><span class="sxs-lookup"><span data-stu-id="e5da5-166">Required to write to memory in a process using [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="e5da5-167">**Sincronizar** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="e5da5-167">**SYNCHRONIZE** (0x00100000L)</span></span>                     | <span data-ttu-id="e5da5-168">Es necesario esperar a que el proceso termine de usar las [funciones de espera](../sync/wait-functions.md).</span><span class="sxs-lookup"><span data-stu-id="e5da5-168">Required to wait for the process to terminate using the [wait functions](../sync/wait-functions.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

<span data-ttu-id="e5da5-169">Para abrir un identificador de otro proceso y obtener derechos de acceso completo, debe habilitar el privilegio **SeDebugPrivilege** .</span><span class="sxs-lookup"><span data-stu-id="e5da5-169">To open a handle to another process and obtain full access rights, you must enable the **SeDebugPrivilege** privilege.</span></span> <span data-ttu-id="e5da5-170">Para obtener más información, consulte [cambiar privilegios en un token](../secbp/changing-privileges-in-a-token.md).</span><span class="sxs-lookup"><span data-stu-id="e5da5-170">For more information, see [Changing Privileges in a Token](../secbp/changing-privileges-in-a-token.md).</span></span>

<span data-ttu-id="e5da5-171">El identificador devuelto por la función [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) tiene acceso de proceso al objeto de proceso **\_ \_** .</span><span class="sxs-lookup"><span data-stu-id="e5da5-171">The handle returned by the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) function has **PROCESS\_ALL\_ACCESS** access to the process object.</span></span> <span data-ttu-id="e5da5-172">Cuando se llama a la función [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) , el sistema comprueba los [derechos de acceso](../secauthz/access-rights-and-access-masks.md) solicitados en la DACL en el descriptor de seguridad del proceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-172">When you call the [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) function, the system checks the requested [access rights](../secauthz/access-rights-and-access-masks.md) against the DACL in the process's security descriptor.</span></span> <span data-ttu-id="e5da5-173">Cuando se llama a la función [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) , el sistema devuelve un pseudohandle con el acceso máximo que la DACL permite al autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="e5da5-173">When you call the [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) function, the system returns a pseudohandle with the maximum access that the DACL allows to the caller.</span></span>

<span data-ttu-id="e5da5-174">Puede solicitar el derecho de acceso de **\_ \_ seguridad del sistema de acceso** a un objeto de proceso si desea leer o escribir la SACL del objeto.</span><span class="sxs-lookup"><span data-stu-id="e5da5-174">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a process object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="e5da5-175">Para obtener más información, consulte derechos [de acceso de las listas de control de acceso (ACL)](../secauthz/access-control-lists.md) y [SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="e5da5-175">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>

> [!WARNING]
> <span data-ttu-id="e5da5-176">Un proceso que tenga algunos de los derechos de acceso que se indican aquí puede usarlos para obtener otros derechos de acceso.</span><span class="sxs-lookup"><span data-stu-id="e5da5-176">A process that has some of the access rights noted here can use them to gain other access rights.</span></span> <span data-ttu-id="e5da5-177">Por ejemplo, si el proceso a tiene un identificador para el proceso B con acceso de **\_ \_ identificador DUP de proceso** , puede duplicar el pseudo identificador del proceso b. Esto crea un identificador que tiene acceso máximo al proceso B. Para obtener más información sobre los pseudo controladores, vea [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).</span><span class="sxs-lookup"><span data-stu-id="e5da5-177">For example, if process A has a handle to process B with **PROCESS\_DUP\_HANDLE** access, it can duplicate the pseudo handle for process B. This creates a handle that has maximum access to process B. For more information on pseudo handles, see [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).</span></span>

 

## <a name="protected-processes"></a><span data-ttu-id="e5da5-178">Procesos protegidos</span><span class="sxs-lookup"><span data-stu-id="e5da5-178">Protected Processes</span></span>

<span data-ttu-id="e5da5-179">Windows Vista incorpora *procesos protegidos* para mejorar la compatibilidad con Rights Management digitales.</span><span class="sxs-lookup"><span data-stu-id="e5da5-179">Windows Vista introduces *protected processes* to enhance support for Digital Rights Management.</span></span> <span data-ttu-id="e5da5-180">El sistema restringe el acceso a los procesos protegidos y a los subprocesos de los procesos protegidos.</span><span class="sxs-lookup"><span data-stu-id="e5da5-180">The system restricts access to protected processes and the threads of protected processes.</span></span>

<span data-ttu-id="e5da5-181">No se permiten los siguientes derechos de acceso estándar desde un proceso a un proceso protegido:</span><span class="sxs-lookup"><span data-stu-id="e5da5-181">The following standard access rights are not allowed from a process to a protected process:</span></span>

- <span data-ttu-id="e5da5-182">**DELETE**</span><span class="sxs-lookup"><span data-stu-id="e5da5-182">**DELETE**</span></span>  
- <span data-ttu-id="e5da5-183">**CONTROL de lectura \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-183">**READ\_CONTROL**</span></span>  
- <span data-ttu-id="e5da5-184">**ESCRIBIR \_ DAC**</span><span class="sxs-lookup"><span data-stu-id="e5da5-184">**WRITE\_DAC**</span></span>  
- <span data-ttu-id="e5da5-185">**propietario de escritura \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-185">**WRITE\_OWNER**</span></span>  

<span data-ttu-id="e5da5-186">No se permiten los siguientes derechos de acceso específicos desde un proceso a un proceso protegido:</span><span class="sxs-lookup"><span data-stu-id="e5da5-186">The following specific access rights are not allowed from a process to a protected process:</span></span>

- <span data-ttu-id="e5da5-187">**PROCESAR \_ todo el \_ acceso**</span><span class="sxs-lookup"><span data-stu-id="e5da5-187">**PROCESS\_ALL\_ACCESS**</span></span>  
- <span data-ttu-id="e5da5-188">**proceso de creación de procesos \_ \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-188">**PROCESS\_CREATE\_PROCESS**</span></span>  
- <span data-ttu-id="e5da5-189">**PROCESO de \_ creación de \_ subproceso**</span><span class="sxs-lookup"><span data-stu-id="e5da5-189">**PROCESS\_CREATE\_THREAD**</span></span>  
- <span data-ttu-id="e5da5-190">**PROCESAR \_ \_ identificador DUP**</span><span class="sxs-lookup"><span data-stu-id="e5da5-190">**PROCESS\_DUP\_HANDLE**</span></span>  
- <span data-ttu-id="e5da5-191">**PROCESAR \_ información de consulta \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-191">**PROCESS\_QUERY\_INFORMATION**</span></span>  
- <span data-ttu-id="e5da5-192">**\_información del conjunto de procesos \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-192">**PROCESS\_SET\_INFORMATION**</span></span>  
- <span data-ttu-id="e5da5-193">**\_cuota de conjunto de procesos \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-193">**PROCESS\_SET\_QUOTA**</span></span>  
- <span data-ttu-id="e5da5-194">**\_operación procesar máquina virtual \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-194">**PROCESS\_VM\_OPERATION**</span></span>  
- <span data-ttu-id="e5da5-195">**PROCESAR \_ lectura de VM \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-195">**PROCESS\_VM\_READ**</span></span>  
- <span data-ttu-id="e5da5-196">**PROCESAR \_ escritura de máquina virtual \_**</span><span class="sxs-lookup"><span data-stu-id="e5da5-196">**PROCESS\_VM\_WRITE**</span></span>  

<span data-ttu-id="e5da5-197">Se presentó el derecho **procesar \_ \_ \_ información limitada** de la consulta para proporcionar acceso a un subconjunto de la información disponible a través de la **\_ \_ información de consulta del proceso**.</span><span class="sxs-lookup"><span data-stu-id="e5da5-197">The **PROCESS\_QUERY\_LIMITED\_INFORMATION** right was introduced to provide access to a subset of the information available through **PROCESS\_QUERY\_INFORMATION**.</span></span>
