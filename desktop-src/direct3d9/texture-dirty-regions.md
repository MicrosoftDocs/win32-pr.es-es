---
description: Las aplicaciones pueden optimizar qué subconjunto de una textura se copia especificando &\# 0034; sucio&\# 0034; regiones en las texturas.
ms.assetid: 102081bc-d5d5-4ec1-b935-00d4eda8f470
title: Regiones desfasadas de textura (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35e3f1ce350a2728c99c49455b5fb8b638c47d10
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/06/2021
ms.locfileid: "105705237"
---
# <a name="texture-dirty-regions-direct3d-9"></a><span data-ttu-id="8f93a-103">Regiones desfasadas de textura (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8f93a-103">Texture Dirty Regions (Direct3D 9)</span></span>

<span data-ttu-id="8f93a-104">Las aplicaciones pueden optimizar qué subconjunto de una textura se copia especificando regiones "desfasadas" en las texturas.</span><span class="sxs-lookup"><span data-stu-id="8f93a-104">Applications can optimize which subset of a texture is copied by specifying "dirty" regions on textures.</span></span> <span data-ttu-id="8f93a-105">Solo las regiones marcadas como desfasadas se copian mediante una llamada a [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).</span><span class="sxs-lookup"><span data-stu-id="8f93a-105">Only those regions marked as dirty are copied by a call to [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).</span></span> <span data-ttu-id="8f93a-106">Sin embargo, las regiones desfasadas se pueden expandir para optimizar la alineación.</span><span class="sxs-lookup"><span data-stu-id="8f93a-106">However, the dirty regions may be expanded to optimize alignment.</span></span> <span data-ttu-id="8f93a-107">Cuando se crea una textura, se considera que la textura completa se ha modificado.</span><span class="sxs-lookup"><span data-stu-id="8f93a-107">When a texture is created, the entire texture is considered dirty.</span></span> <span data-ttu-id="8f93a-108">Solo las siguientes operaciones afectan al estado de modificación de una textura:</span><span class="sxs-lookup"><span data-stu-id="8f93a-108">Only the following operations affect the dirty state of a texture:</span></span>

-   <span data-ttu-id="8f93a-109">Agregar una región desfasada a una textura.</span><span class="sxs-lookup"><span data-stu-id="8f93a-109">Adding a dirty region to a texture.</span></span>
-   <span data-ttu-id="8f93a-110">Bloquear algún búfer de la textura.</span><span class="sxs-lookup"><span data-stu-id="8f93a-110">Locking some buffer in the texture.</span></span> <span data-ttu-id="8f93a-111">Esta operación agrega la región bloqueada como una región desfasada.</span><span class="sxs-lookup"><span data-stu-id="8f93a-111">This operation adds the locked region as a dirty region.</span></span> <span data-ttu-id="8f93a-112">La aplicación puede desactivar esta actualización automática de la región desfasada si tiene un mejor conocimiento de las regiones desfasadas reales.</span><span class="sxs-lookup"><span data-stu-id="8f93a-112">The application can turn off this automatic dirty region update if it has better knowledge of the actual dirty regions.</span></span>
-   <span data-ttu-id="8f93a-113">El uso de un nivel de superficie de la textura como un destino en [**IDirect3DDevice9:: UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) marca toda la textura como desfasada.</span><span class="sxs-lookup"><span data-stu-id="8f93a-113">Using a surface level of the texture as a destination in [**IDirect3DDevice9::UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="8f93a-114">El uso de la textura como un origen en [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) borra todas las regiones desfasadas en la textura de origen.</span><span class="sxs-lookup"><span data-stu-id="8f93a-114">Using the texture as a source in [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) clears all the dirty regions on the source texture.</span></span>
-   <span data-ttu-id="8f93a-115">Usar [**IDirect3DSurface9:: GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) para devolver un contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8f93a-115">Using [**IDirect3DSurface9::GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) to return a device context.</span></span>
-   <span data-ttu-id="8f93a-116">Al llamar a [**IDirect3DBaseTexture9:: GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) , la textura completa se marca como desfasada.</span><span class="sxs-lookup"><span data-stu-id="8f93a-116">Calling [**IDirect3DBaseTexture9::GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="8f93a-117">Al llamar a [**IDirect3DBaseTexture9:: SetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) , la textura completa se marca como desfasada.</span><span class="sxs-lookup"><span data-stu-id="8f93a-117">Calling [**IDirect3DBaseTexture9::SetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) marks the entire texture as dirty.</span></span>

<span data-ttu-id="8f93a-118">Las regiones desfasadas se establecen en el nivel superior de una textura mipmapped y [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) puede expandir la región desfasada hacia abajo en la cadena MIP para minimizar el número de bytes copiados para cada subnivel.</span><span class="sxs-lookup"><span data-stu-id="8f93a-118">Dirty regions are set on the top level of a mipmapped texture, and [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) can expand the dirty region down the mip chain in order to minimize the number of bytes copied for each sublevel.</span></span> <span data-ttu-id="8f93a-119">Tenga en cuenta que las coordenadas de la región desfasada de subnivel se redondean hacia afuera, es decir, sus partes fraccionarias se redondean hacia el borde más cercano de la textura.</span><span class="sxs-lookup"><span data-stu-id="8f93a-119">Note that the sublevel dirty region coordinates are rounded outward, that is, their fractional parts are rounded toward the nearest edge of the texture.</span></span>

<span data-ttu-id="8f93a-120">Dado que cada tipo de textura tiene distintos tipos de regiones desfasadas, hay métodos en cada tipo de textura.</span><span class="sxs-lookup"><span data-stu-id="8f93a-120">Because each type of texture has different types of dirty regions, there are methods on each texture type.</span></span> <span data-ttu-id="8f93a-121">las texturas 2D usan rectángulos modificados y cuadros de uso de texturas de volumen.</span><span class="sxs-lookup"><span data-stu-id="8f93a-121">2D textures use dirty rectangle, and volume textures use boxes.</span></span>

-   [<span data-ttu-id="8f93a-122">**IDirect3DCubeTexture9::AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="8f93a-122">**IDirect3DCubeTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-adddirtyrect)
-   [<span data-ttu-id="8f93a-123">**IDirect3DTexture9::AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="8f93a-123">**IDirect3DTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dtexture9-adddirtyrect)
-   [<span data-ttu-id="8f93a-124">**IDirect3DVolumeTexture9::AddDirtyBox**</span><span class="sxs-lookup"><span data-stu-id="8f93a-124">**IDirect3DVolumeTexture9::AddDirtyBox**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dvolumetexture9-adddirtybox)

<span data-ttu-id="8f93a-125">Si se pasan **valores NULL** para los parámetros PDirtyRect o pDirtyBox de los métodos anteriores, se expande la región desfasada para cubrir toda la textura.</span><span class="sxs-lookup"><span data-stu-id="8f93a-125">Passing **NULL** for the pDirtyRect or pDirtyBox parameters for the above methods expands the dirty region to cover the entire texture.</span></span>

<span data-ttu-id="8f93a-126">Cada método de bloqueo puede tomar D3DLOCK \_ no hay ninguna \_ actualización no actualizada \_ , lo que impide que se produzcan cambios en el estado modificado de la textura.</span><span class="sxs-lookup"><span data-stu-id="8f93a-126">Each lock method can take D3DLOCK\_NO\_DIRTY\_UPDATE, which prevents any changes to the dirty state of the texture.</span></span> <span data-ttu-id="8f93a-127">Para obtener más información, consulte [bloqueo de recursos (Direct3D 9)](locking-resources.md).</span><span class="sxs-lookup"><span data-stu-id="8f93a-127">For more information, see [Locking Resources (Direct3D 9)](locking-resources.md).</span></span>

<span data-ttu-id="8f93a-128">Si hay disponible más información sobre el conjunto real de regiones que se cambian durante una operación de bloqueo, las aplicaciones deben usar la \_ actualización D3DLOCK no \_ Dirty \_ .</span><span class="sxs-lookup"><span data-stu-id="8f93a-128">When more information about the true set of regions that are changed during a lock operation is available, applications should use D3DLOCK\_NO\_DIRTY\_UPDATE.</span></span> <span data-ttu-id="8f93a-129">Tenga en cuenta que un bloqueo o una copia en un subnivel de textura únicamente (es decir, sin bloqueo ni copia en el nivel superior) no actualiza las regiones desfasadas para esa textura.</span><span class="sxs-lookup"><span data-stu-id="8f93a-129">Note that a lock or a copy to a texture sublevel only (that is, without locking or copying to the top level) does not update the dirty regions for that texture.</span></span> <span data-ttu-id="8f93a-130">Las aplicaciones suponen la misma responsabilidad para actualizar las regiones desfasadas cuando bloquean los niveles inferiores sin bloquear el nivel superior.</span><span class="sxs-lookup"><span data-stu-id="8f93a-130">Applications assume the same responsibility for updating dirty regions when they lock lower levels without locking the topmost level.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8f93a-131">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="8f93a-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8f93a-132">Conceptos básicos de la texturización</span><span class="sxs-lookup"><span data-stu-id="8f93a-132">Basic Texturing Concepts</span></span>](basic-texturing-concepts.md)
</dt> </dl>

 

 
