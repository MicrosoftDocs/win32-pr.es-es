---
title: Información general sobre el árbol de la UI Automation
description: Los productos de tecnología de asistencia y scripts de prueba navegan por el árbol de automatización de la interfaz de usuario de Microsoft para recopilar información sobre la interfaz de usuario y sus elementos.
ms.assetid: f3afe258-baa7-41b5-a27e-cdc94b467d73
keywords:
- Automatización de la interfaz de usuario, información general del árbol
- Automatización de la interfaz de usuario, vista de árbol
- Automatización de la interfaz de usuario, vista sin formato del árbol
- Automatización de la interfaz de usuario, vista de control de árbol
- Automatización de la interfaz de usuario, vista de contenido de árbol
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c76bc9aa6568a3f4d63194d35ff0c7d8f59510c3
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "103903371"
---
# <a name="ui-automation-tree-overview"></a><span data-ttu-id="ed607-108">Información general sobre el árbol de la UI Automation</span><span class="sxs-lookup"><span data-stu-id="ed607-108">UI Automation Tree Overview</span></span>

<span data-ttu-id="ed607-109">Los productos de tecnología de asistencia y scripts de prueba navegan por el árbol de automatización de la interfaz de usuario de Microsoft para recopilar información sobre la interfaz de usuario y sus elementos.</span><span class="sxs-lookup"><span data-stu-id="ed607-109">Assistive technology products and test scripts navigate the Microsoft UI Automation tree to gather information about the UI and its elements.</span></span>

<span data-ttu-id="ed607-110">En el árbol de automatización de la interfaz de usuario es un elemento raíz que representa la ventana del escritorio de Windows ("el escritorio") y cuyos elementos secundarios representan ventanas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ed607-110">In the UI Automation tree is a root element that represents the Windows desktop window ("the desktop") and whose child elements represent application windows.</span></span> <span data-ttu-id="ed607-111">Cada uno de estos elementos secundarios puede contener elementos que representan partes de la interfaz de usuario, como menús, botones, barras de herramientas y cuadros de lista.</span><span class="sxs-lookup"><span data-stu-id="ed607-111">Each of these child elements can contain elements that represent pieces of the UI, such as menus, buttons, toolbars, and list boxes.</span></span> <span data-ttu-id="ed607-112">Estos elementos pueden contener elementos, como elementos de lista.</span><span class="sxs-lookup"><span data-stu-id="ed607-112">These elements can contain elements, such as list items.</span></span>

<span data-ttu-id="ed607-113">El árbol de automatización de la interfaz de usuario no es una estructura fija.</span><span class="sxs-lookup"><span data-stu-id="ed607-113">The UI Automation tree is not a fixed structure.</span></span> <span data-ttu-id="ed607-114">Rara vez se percibe en su totalidad, ya que podría contener miles de elementos.</span><span class="sxs-lookup"><span data-stu-id="ed607-114">It is seldom seen in its totality because it might contain thousands of elements.</span></span> <span data-ttu-id="ed607-115">Las partes del árbol de automatización de la interfaz de usuario se compilan como un cliente las necesita y la estructura del árbol cambia a medida que se agregan, se mueven o se quitan elementos.</span><span class="sxs-lookup"><span data-stu-id="ed607-115">Parts of the UI Automation tree are built as a client needs them, and the structure of the tree changes as elements are added, moved, or removed.</span></span>

<span data-ttu-id="ed607-116">Los proveedores de UI Automation admiten el árbol de automatización de la interfaz de usuario implementando la navegación entre los elementos de un fragmento.</span><span class="sxs-lookup"><span data-stu-id="ed607-116">UI Automation providers support the UI Automation tree by implementing navigation among items in a fragment.</span></span> <span data-ttu-id="ed607-117">Un fragmento es un subárbol completo de elementos de un marco de trabajo determinado y tiene un elemento raíz (llamado *raíz de fragmento*) que normalmente se hospeda en una ventana.</span><span class="sxs-lookup"><span data-stu-id="ed607-117">A fragment is a complete subtree of elements from a particular framework, and has a root element (called the *fragment root*) that is typically hosted in a window.</span></span>

<span data-ttu-id="ed607-118">Los proveedores no están preocupados por la navegación de un control a otro.</span><span class="sxs-lookup"><span data-stu-id="ed607-118">Providers are not concerned with navigation from one control to another.</span></span> <span data-ttu-id="ed607-119">Lo administra el núcleo de automatización de la interfaz de usuario, que utiliza información de los proveedores de ventanas predeterminados.</span><span class="sxs-lookup"><span data-stu-id="ed607-119">This is managed by the UI Automation core, which uses information from the default window providers.</span></span>

<span data-ttu-id="ed607-120">En este tema se incluyen las siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="ed607-120">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="ed607-121">Vistas del árbol de automatización de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="ed607-121">Views of the UI Automation Tree</span></span>](#views-of-the-ui-automation-tree)
    -   [<span data-ttu-id="ed607-122">Vista sin formato</span><span class="sxs-lookup"><span data-stu-id="ed607-122">Raw View</span></span>](#raw-view)
    -   [<span data-ttu-id="ed607-123">Vista de control</span><span class="sxs-lookup"><span data-stu-id="ed607-123">Control View</span></span>](#control-view)
    -   [<span data-ttu-id="ed607-124">Vista de contenido</span><span class="sxs-lookup"><span data-stu-id="ed607-124">Content View</span></span>](#content-view)
-   [<span data-ttu-id="ed607-125">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ed607-125">Related topics</span></span>](#related-topics)

## <a name="views-of-the-ui-automation-tree"></a><span data-ttu-id="ed607-126">Vistas del árbol de automatización de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="ed607-126">Views of the UI Automation Tree</span></span>

<span data-ttu-id="ed607-127">El árbol de automatización de la interfaz de usuario se puede filtrar para crear vistas que contienen solo los elementos de automatización de la interfaz de usuario que son pertinentes para un cliente determinado.</span><span class="sxs-lookup"><span data-stu-id="ed607-127">The UI Automation tree can be filtered to create views that contain only those UI Automation elements that are relevant for a particular client.</span></span> <span data-ttu-id="ed607-128">Este enfoque permite a los clientes personalizar la estructura que se presenta a través de la automatización de la interfaz de usuario para sus necesidades concretas.</span><span class="sxs-lookup"><span data-stu-id="ed607-128">This approach allows clients to customize the structure that is presented through UI Automation to their particular needs.</span></span>

<span data-ttu-id="ed607-129">El cliente puede personalizar la vista mediante el ámbito y el filtrado.</span><span class="sxs-lookup"><span data-stu-id="ed607-129">The client can customize the view by scoping and by filtering.</span></span> <span data-ttu-id="ed607-130">El ámbito define el alcance de la vista, empezando por un elemento base.</span><span class="sxs-lookup"><span data-stu-id="ed607-130">Scoping is defining the extent of the view, starting from a base element.</span></span> <span data-ttu-id="ed607-131">Por ejemplo, la aplicación podría querer encontrar solo elementos secundarios directos del escritorio o todos los descendientes de una ventana de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ed607-131">For example, the application might want to find only direct children of the desktop, or all descendants of an application window.</span></span> <span data-ttu-id="ed607-132">El filtrado define los tipos de elementos que se incluyen en la vista.</span><span class="sxs-lookup"><span data-stu-id="ed607-132">Filtering is defining the types of elements that are included in the view.</span></span>

<span data-ttu-id="ed607-133">Los proveedores de automatización de la interfaz de usuario admiten el filtrado mediante la definición de propiedades en los elementos, incluidas las propiedades [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) y [**IUIAutomationElement:: IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) .</span><span class="sxs-lookup"><span data-stu-id="ed607-133">UI Automation providers support filtering by defining properties on elements, including the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) and [**IUIAutomationElement::IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) properties.</span></span>

<span data-ttu-id="ed607-134">La automatización de la interfaz de usuario proporciona tres vistas predeterminadas: vista sin formato, vista de control y vista de contenido.</span><span class="sxs-lookup"><span data-stu-id="ed607-134">UI Automation provides three default views: raw view, control view, and content view.</span></span> <span data-ttu-id="ed607-135">Estas vistas se definen mediante el tipo de filtrado realizado.</span><span class="sxs-lookup"><span data-stu-id="ed607-135">These views are defined by the type of filtering performed.</span></span> <span data-ttu-id="ed607-136">La aplicación define el ámbito de cualquier vista.</span><span class="sxs-lookup"><span data-stu-id="ed607-136">The scope of any view is defined by the application.</span></span> <span data-ttu-id="ed607-137">La aplicación puede aplicar otros filtros en las propiedades; por ejemplo, para incluir solo los controles habilitados en una vista de control.</span><span class="sxs-lookup"><span data-stu-id="ed607-137">The application can apply other filters on properties; for example, to include only enabled controls in a control view.</span></span>

### <a name="raw-view"></a><span data-ttu-id="ed607-138">Vista sin formato</span><span class="sxs-lookup"><span data-stu-id="ed607-138">Raw View</span></span>

<span data-ttu-id="ed607-139">La vista sin formato del árbol de automatización de la interfaz de usuario es el árbol completo de elementos de automatización para los que el escritorio es la raíz.</span><span class="sxs-lookup"><span data-stu-id="ed607-139">The raw view of the UI Automation tree is the full tree of automation elements for which the desktop is the root.</span></span> <span data-ttu-id="ed607-140">La vista sin formato sigue estrechamente la estructura de programación nativa de una aplicación y es la vista más detallada disponible.</span><span class="sxs-lookup"><span data-stu-id="ed607-140">The raw view closely follows the native programmatic structure of an application, and is the most detailed view available.</span></span> <span data-ttu-id="ed607-141">También es la base sobre la que se crean las otras vistas del árbol.</span><span class="sxs-lookup"><span data-stu-id="ed607-141">It is also the base on which the other views of the tree are built.</span></span> <span data-ttu-id="ed607-142">Dado que esta vista depende del marco de interfaz de usuario subyacente, la vista sin formato de un botón Windows Presentation Foundation (WPF) tiene una vista sin formato diferente de la de un botón de Microsoft Win32.</span><span class="sxs-lookup"><span data-stu-id="ed607-142">Because this view depends on the underlying UI framework, the raw view of a Windows Presentation Foundation (WPF) button has a different raw view than a Microsoft Win32 button.</span></span>

<span data-ttu-id="ed607-143">La vista sin formato se obtiene buscando elementos sin especificar propiedades o usando [**IUIAutomation:: RawViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_rawviewwalker) para obtener una interfaz [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) para navegar por el árbol.</span><span class="sxs-lookup"><span data-stu-id="ed607-143">The raw view is obtained by searching for elements without specifying properties or by using the [**IUIAutomation::RawViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_rawviewwalker) to get an [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) interface for navigating the tree.</span></span>

### <a name="control-view"></a><span data-ttu-id="ed607-144">Vista de control</span><span class="sxs-lookup"><span data-stu-id="ed607-144">Control View</span></span>

<span data-ttu-id="ed607-145">La vista de control es un subconjunto de la vista sin formato.</span><span class="sxs-lookup"><span data-stu-id="ed607-145">The control view is a subset of the raw view.</span></span> <span data-ttu-id="ed607-146">Incluye solo los elementos de la interfaz de usuario que tienen la propiedad [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) establecida en **true**.</span><span class="sxs-lookup"><span data-stu-id="ed607-146">It includes only those UI items that have the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) property set to **TRUE**.</span></span>

<span data-ttu-id="ed607-147">La vista de control incluye los elementos de la interfaz de usuario que proporcionan información al usuario o permiten al usuario realizar una acción.</span><span class="sxs-lookup"><span data-stu-id="ed607-147">The control view includes the UI items that provide information to the user or enable the user to perform an action.</span></span> <span data-ttu-id="ed607-148">Estos son los elementos de interfaz de usuario que son más interesantes para las aplicaciones de pruebas automatizadas.</span><span class="sxs-lookup"><span data-stu-id="ed607-148">These are the UI items that are most interesting to automated testing applications.</span></span>

<span data-ttu-id="ed607-149">La vista de control también incluye elementos de interfaz de usuario no interactivos que contribuyen a la estructura lógica de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="ed607-149">The control view also includes noninteractive UI items that contribute to the logical structure of the UI.</span></span> <span data-ttu-id="ed607-150">Estos incluyen contenedores de elementos, como encabezados de vista de lista, barras de herramientas, menús y la barra de estado.</span><span class="sxs-lookup"><span data-stu-id="ed607-150">These include item containers such as list view headers, toolbars, menus, and the status bar.</span></span> <span data-ttu-id="ed607-151">Otros elementos no interactivos que aparecen en la vista de control son gráficos con información y texto estático en un cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ed607-151">Other noninteractive items that appear in the control view are graphics with information and static text in a dialog box.</span></span>

<span data-ttu-id="ed607-152">Los elementos no interactivos que se usan solo con fines de diseño o decorativos, como los paneles que se usan para colocar controles en un cuadro de diálogo, no aparecen en la vista de control.</span><span class="sxs-lookup"><span data-stu-id="ed607-152">Noninteractive items used only for layout or decorative purposes, such as panels used to lay out controls in a dialog box, do not appear in the control view.</span></span>

<span data-ttu-id="ed607-153">La vista de control del árbol de automatización de la interfaz de usuario se asigna estrechamente a la estructura de la interfaz de usuario que percibe un usuario final.</span><span class="sxs-lookup"><span data-stu-id="ed607-153">The control view of the UI Automation tree closely maps to the UI structure perceived by an end user.</span></span> <span data-ttu-id="ed607-154">Esto hace que el producto de tecnología de ayuda sea más fácil para describir la interfaz de usuario para el usuario final y ayudar a que el usuario final interactúe con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="ed607-154">This makes it easier for the assistive technology product to describe the UI to the end user and help that end user interact with the application.</span></span>

<span data-ttu-id="ed607-155">La vista de control se obtiene buscando elementos que tengan la propiedad [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) establecida en true o usando [**ControlViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_controlviewwalker) para obtener una interfaz [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) para navegar por el árbol.</span><span class="sxs-lookup"><span data-stu-id="ed607-155">The control view is obtained by searching for elements that have the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) property set to true, or by using [**ControlViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_controlviewwalker) to get an [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) interface for navigating the tree.</span></span>

### <a name="content-view"></a><span data-ttu-id="ed607-156">Vista de contenido</span><span class="sxs-lookup"><span data-stu-id="ed607-156">Content View</span></span>

<span data-ttu-id="ed607-157">La vista de contenido del árbol de automatización de la interfaz de usuario es un subconjunto de la vista de control.</span><span class="sxs-lookup"><span data-stu-id="ed607-157">The content view of the UI Automation tree is a subset of the control view.</span></span> <span data-ttu-id="ed607-158">Incluye solo los elementos de la interfaz de usuario que tienen la propiedad [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) y [**IUIAutomationElement:: IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) establecida en **true**.</span><span class="sxs-lookup"><span data-stu-id="ed607-158">It includes only those UI items that have both the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) and the [**IUIAutomationElement::IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) property set to **TRUE**.</span></span>

<span data-ttu-id="ed607-159">La vista de contenido contiene elementos de interfaz de usuario que transmiten la información real en una interfaz de usuario, incluidos los elementos de la interfaz de usuario que pueden recibir el foco del teclado y algún texto que no es una etiqueta en un elemento de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="ed607-159">The content view contains UI items that convey the actual information in a user interface, including UI items that can receive keyboard focus and some text that is not a label on a UI item.</span></span> <span data-ttu-id="ed607-160">Estos son los elementos de interfaz de usuario que son más interesantes para una aplicación de lector de pantalla.</span><span class="sxs-lookup"><span data-stu-id="ed607-160">These are the UI items that are most interesting to a screen reader application.</span></span> <span data-ttu-id="ed607-161">Por ejemplo, los valores de un cuadro combinado desplegable aparecen en la vista de contenido porque los valores representan información utilizada por un usuario final.</span><span class="sxs-lookup"><span data-stu-id="ed607-161">For example, the values in a drop-down combo box appear in the content view because the values represent information being used by an end user.</span></span>

<span data-ttu-id="ed607-162">En la vista de contenido, un cuadro combinado y un cuadro de lista se representan como una colección de elementos de la interfaz de usuario donde se puede seleccionar uno o varios elementos.</span><span class="sxs-lookup"><span data-stu-id="ed607-162">In the content view, a combo box and a list box are both represented as a collection of UI items where one, or more than one, item can be selected.</span></span> <span data-ttu-id="ed607-163">El hecho de que un elemento esté siempre abierto y un elemento puede expandirse y contraerse es irrelevante en la vista de contenido porque está diseñado para mostrar los datos, o el contenido, que se presentan al usuario.</span><span class="sxs-lookup"><span data-stu-id="ed607-163">The fact that one item is always open and one item can expand and collapse is irrelevant in the content view because it is designed to show the data, or content, that is being presented to the user.</span></span>

<span data-ttu-id="ed607-164">La vista de contenido se obtiene mediante la búsqueda de elementos que tienen la propiedad [**IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) y la propiedad [**CurrentIsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) establecida en **true**, o bien mediante [**IUIAutomation:: ContentViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_contentviewwalker) para obtener una interfaz [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) para navegar por el árbol.</span><span class="sxs-lookup"><span data-stu-id="ed607-164">The content view is obtained by searching for elements that have both the [**IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) and the [**CurrentIsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) property set to **TRUE**, or by using [**IUIAutomation::ContentViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_contentviewwalker) to get an [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) interface for navigating the tree.</span></span>

<span data-ttu-id="ed607-165">En las siguientes imágenes se muestran las diferencias entre la vista de control y la vista de contenido.</span><span class="sxs-lookup"><span data-stu-id="ed607-165">The following images show the differences between the control view and content view.</span></span> <span data-ttu-id="ed607-166">La primera imagen muestra un cuadro combinado simple con tres elementos en la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="ed607-166">The first image shows a simple combo box with three items in the dropdown list.</span></span> <span data-ttu-id="ed607-167">La segunda imagen muestra cómo aparecen los elementos de la interfaz de usuario del cuadro combinado en las vistas de control y contenido de la aplicación UISpy.exe.</span><span class="sxs-lookup"><span data-stu-id="ed607-167">The second image shows how the combo box UI items appear in the control and content views of the UISpy.exe application.</span></span>

![captura de pantalla de un cuadro combinado simple con tres elementos desplegables](images/combobox.png)

![captura de pantalla de la aplicación de UISpy con las vistas de control y contenido de los elementos del cuadro combinado](images/treeviews.jpg)

## <a name="related-topics"></a><span data-ttu-id="ed607-170">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="ed607-170">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="ed607-171">**Vista**</span><span class="sxs-lookup"><span data-stu-id="ed607-171">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="ed607-172">Crear el objeto CUIAutomation</span><span class="sxs-lookup"><span data-stu-id="ed607-172">Creating the CUIAutomation Object</span></span>](uiauto-creatingcuiautomation.md)
</dt> <dt>

[<span data-ttu-id="ed607-173">Obtener elementos de UI Automation</span><span class="sxs-lookup"><span data-stu-id="ed607-173">Obtaining UI Automation Elements</span></span>](uiauto-obtainingelements.md)
</dt> <dt>

[<span data-ttu-id="ed607-174">Fundamentos de UI Automation</span><span class="sxs-lookup"><span data-stu-id="ed607-174">UI Automation Fundamentals</span></span>](entry-uiautocore-overview.md)
</dt> </dl>

 

 




