---
title: Rasterización conservadora de Direct3D 12
description: La rasterización conservadora agrega cierta certeza a la representación en píxeles, lo que resulta útil en especial a los algoritmos de detección de colisiones.
ms.assetid: 081199AD-1702-4EC8-95AD-B1148C676199
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e4fae3489d54ab7b6b7abfda56f54dd8d970962
ms.sourcegitcommit: cba7f424a292fd7f3a8518947b9466439b455419
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/23/2019
ms.locfileid: "104549187"
---
# <a name="direct3d-12-conservative-rasterization"></a><span data-ttu-id="0218b-103">Rasterización conservadora de Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="0218b-103">Direct3D 12 Conservative Rasterization</span></span>

<span data-ttu-id="0218b-104">La rasterización conservadora agrega cierta certeza a la representación en píxeles, lo que resulta útil en especial a los algoritmos de detección de colisiones.</span><span class="sxs-lookup"><span data-stu-id="0218b-104">Conservative Rasterization adds some certainty to pixel rendering, which is helpful in particular to collision detection algorithms.</span></span>

-   [<span data-ttu-id="0218b-105">Información general</span><span class="sxs-lookup"><span data-stu-id="0218b-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="0218b-106">Interacciones con la canalización</span><span class="sxs-lookup"><span data-stu-id="0218b-106">Interactions with the pipeline</span></span>](#interactions-with-the-pipeline)
    -   [<span data-ttu-id="0218b-107">Interacción de las reglas de rasterización</span><span class="sxs-lookup"><span data-stu-id="0218b-107">Rasterization Rules interaction</span></span>](#rasterization-rules-interaction)
    -   [<span data-ttu-id="0218b-108">Interacción con muestreo múltiple</span><span class="sxs-lookup"><span data-stu-id="0218b-108">Multisampling interaction</span></span>](#multisampling-interaction)
    -   [<span data-ttu-id="0218b-109">Interacción con SampleMask</span><span class="sxs-lookup"><span data-stu-id="0218b-109">SampleMask interaction</span></span>](#samplemask-interaction)
    -   [<span data-ttu-id="0218b-110">Interacción de prueba de profundidad/estarcido</span><span class="sxs-lookup"><span data-stu-id="0218b-110">Depth/Stencil Test interaction</span></span>](#depthstencil-test-interaction)
    -   [<span data-ttu-id="0218b-111">Interacción de píxeles de la aplicación auxiliar</span><span class="sxs-lookup"><span data-stu-id="0218b-111">Helper Pixel interaction</span></span>](#helper-pixel-interaction)
    -   [<span data-ttu-id="0218b-112">Interacción de la cobertura de salida</span><span class="sxs-lookup"><span data-stu-id="0218b-112">Output Coverage interaction</span></span>](#output-coverage-interaction)
    -   [<span data-ttu-id="0218b-113">Interacción con InputCoverage</span><span class="sxs-lookup"><span data-stu-id="0218b-113">InputCoverage interaction</span></span>](#inputcoverage-interaction)
    -   [<span data-ttu-id="0218b-114">Interacción con InnerCoverage</span><span class="sxs-lookup"><span data-stu-id="0218b-114">InnerCoverage interaction</span></span>](#innercoverage-interaction)
    -   [<span data-ttu-id="0218b-115">Interacción de interpolación de atributos</span><span class="sxs-lookup"><span data-stu-id="0218b-115">Attribute Interpolation interaction</span></span>](#attribute-interpolation-interaction)
    -   [<span data-ttu-id="0218b-116">Interacción de recorte</span><span class="sxs-lookup"><span data-stu-id="0218b-116">Clipping interaction</span></span>](#clipping-interaction)
    -   [<span data-ttu-id="0218b-117">Interacción de distancia del clip</span><span class="sxs-lookup"><span data-stu-id="0218b-117">Clip Distance interaction</span></span>](#clip-distance-interaction)
    -   [<span data-ttu-id="0218b-118">Interacción de rasterización independiente de destino</span><span class="sxs-lookup"><span data-stu-id="0218b-118">Target Independent Rasterization interaction</span></span>](#target-independent-rasterization-interaction)
    -   [<span data-ttu-id="0218b-119">Interacción de topología de primitivas de IA</span><span class="sxs-lookup"><span data-stu-id="0218b-119">IA Primitive Topology interaction</span></span>](#ia-primitive-topology-interaction)
    -   [<span data-ttu-id="0218b-120">Interacción de consultas</span><span class="sxs-lookup"><span data-stu-id="0218b-120">Query interaction</span></span>](#query-interaction)
    -   [<span data-ttu-id="0218b-121">Interacción del estado de culling</span><span class="sxs-lookup"><span data-stu-id="0218b-121">Cull State interaction</span></span>](#cull-state-interaction)
    -   [<span data-ttu-id="0218b-122">Interacción con IsFrontFace</span><span class="sxs-lookup"><span data-stu-id="0218b-122">IsFrontFace interaction</span></span>](#isfrontface-interaction)
    -   [<span data-ttu-id="0218b-123">Interacción de los modos de relleno</span><span class="sxs-lookup"><span data-stu-id="0218b-123">Fill Modes interaction</span></span>](#fill-modes-interaction)
-   [<span data-ttu-id="0218b-124">Detalles de implementación</span><span class="sxs-lookup"><span data-stu-id="0218b-124">Implementation details</span></span>](#implementation-details)
-   [<span data-ttu-id="0218b-125">Resumen de API</span><span class="sxs-lookup"><span data-stu-id="0218b-125">API summary</span></span>](#api-summary)
-   [<span data-ttu-id="0218b-126">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0218b-126">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="0218b-127">Información general</span><span class="sxs-lookup"><span data-stu-id="0218b-127">Overview</span></span>

<span data-ttu-id="0218b-128">La rasterización conservadora significa que se rasterizan todos los píxeles que están al menos parcialmente incluidos en una primitiva representada, lo que significa que se invoca el sombreador de píxeles.</span><span class="sxs-lookup"><span data-stu-id="0218b-128">Conservative Rasterization means that all pixels that are at least partially covered by a rendered primitive are rasterized, which means that the pixel shader is invoked.</span></span> <span data-ttu-id="0218b-129">El comportamiento normal es el muestreo, que no se usa si está habilitada la rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="0218b-129">Normal behavior is sampling, which is not used if Conservative Rasterization is enabled.</span></span>

<span data-ttu-id="0218b-130">La rasterización conservadora es útil en una serie de situaciones, como la certeza de la detección de colisiones, la selección de la oclusión y la representación en mosaico.</span><span class="sxs-lookup"><span data-stu-id="0218b-130">Conservative Rasterization is useful in a number of situations, including for certainty in collision detection, occlusion culling, and tiled rendering.</span></span>

<span data-ttu-id="0218b-131">Por ejemplo, en la siguiente ilustración se muestra un triángulo verde representado mediante la rasterización conservadora, tal como aparecería en el rasterizador (es decir, con coordenadas de vértice de punto fijo 16,8).</span><span class="sxs-lookup"><span data-stu-id="0218b-131">For example, the following figure shows a green triangle rendered using Conservative Rasterization, as it would appear in the rasterizer (that is, using 16.8 fixed point vertex coordinates).</span></span> <span data-ttu-id="0218b-132">El área marrón se conoce como "región de incertidumbre", una región conceptual que representa los límites extendidos del triángulo, necesaria para garantizar que la primitiva en el rasterizador es conservadora con respecto a las coordenadas de vértice de punto flotante originales.</span><span class="sxs-lookup"><span data-stu-id="0218b-132">The brown area is known as an "uncertainty region" - a conceptual region that represents the extended bounds of the triangle, required to ensure the primitive in the rasterizer is conservative with respect to the original floating point vertex coordinates.</span></span> <span data-ttu-id="0218b-133">Los cuadrados rojos de cada vértice muestran cómo se calcula la región de incertidumbre: como un cuadrado de barrido.</span><span class="sxs-lookup"><span data-stu-id="0218b-133">The red squares at each vertex shows how the uncertainty region is calculated: as a swept square.</span></span>

<span data-ttu-id="0218b-134">Los cuadrados grises grandes muestran los píxeles que se representarán.</span><span class="sxs-lookup"><span data-stu-id="0218b-134">The large gray squares show the pixels that will be rendered.</span></span> <span data-ttu-id="0218b-135">Los cuadrados de color rosa muestran los píxeles representados mediante la "regla superior izquierda", que entran en juego cuando el borde del triángulo cruza el borde de los píxeles.</span><span class="sxs-lookup"><span data-stu-id="0218b-135">The pink squares show pixels rendered using the "Top-Left Rule", which comes into play as the edge of the triangle crosses the edge of the pixels.</span></span> <span data-ttu-id="0218b-136">Puede haber falsos positivos (píxeles establecidos que no deberían haber) que el sistema normalmente, pero no siempre seleccionará.</span><span class="sxs-lookup"><span data-stu-id="0218b-136">There can be false positives (pixels set that should not have been) which the system will normally but not always cull.</span></span>

![la regla superior izquierda](images/conservative-rasterization-0.png)

## <a name="interactions-with-the-pipeline"></a><span data-ttu-id="0218b-138">Interacciones con la canalización</span><span class="sxs-lookup"><span data-stu-id="0218b-138">Interactions with the pipeline</span></span>

### <a name="rasterization-rules-interaction"></a><span data-ttu-id="0218b-139">Interacción de las reglas de rasterización</span><span class="sxs-lookup"><span data-stu-id="0218b-139">Rasterization Rules interaction</span></span>

<span data-ttu-id="0218b-140">En el modo de rasterización conservador, las reglas de rasterización se aplican de la misma manera que cuando no se habilita el modo de rasterización conservadora con las excepciones para la regla de Top-Left, descrita anteriormente y cobertura de píxeles.</span><span class="sxs-lookup"><span data-stu-id="0218b-140">In Conservative Rasterization mode, Rasterization Rules apply the same way as when Conservative Rasterization mode is not enabled with exceptions for the Top-Left Rule, described above, and Pixel Coverage.</span></span> <span data-ttu-id="0218b-141">16,8 Fixed-Point se debe usar la precisión del rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-141">16.8 Fixed-Point Rasterizer precision must be used.</span></span>

<span data-ttu-id="0218b-142">Los píxeles que no se tratarían si el hardware usara coordenadas de vértices de punto flotante completas solo se pueden incluir si se encuentran dentro de una región de incertidumbre no más de la mitad de un píxel en el dominio de punto fijo.</span><span class="sxs-lookup"><span data-stu-id="0218b-142">Pixels that would not be covered if hardware was using full floating point vertex coordinates may only be included if they are within an uncertainty region no larger half a pixel in the fixed point domain.</span></span> <span data-ttu-id="0218b-143">Se espera que el hardware futuro llegue a la región de incertidumbre apretada especificada en el nivel 2.</span><span class="sxs-lookup"><span data-stu-id="0218b-143">Future hardware is expected to reach the tightened uncertainty region specified in Tier 2.</span></span> <span data-ttu-id="0218b-144">Tenga en cuenta que este requisito evita que los triángulos de astillas se extiendan más de lo necesario.</span><span class="sxs-lookup"><span data-stu-id="0218b-144">Note that this requirement prevents sliver triangles from extending further than necessary.</span></span>

<span data-ttu-id="0218b-145">También se aplica una región de incertidumbre válida similar `InnerCoverage` , pero es más estrecha, ya que no hay implementaciones que requieran una región de incertidumbre más grande para este caso.</span><span class="sxs-lookup"><span data-stu-id="0218b-145">A similar valid uncertainty region applies to `InnerCoverage` as well, but it is tighter since no implementations require a larger uncertainty region for this case.</span></span> <span data-ttu-id="0218b-146">Consulte [interacción de InnerCoverage](#innercoverage-interaction) para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="0218b-146">See [InnerCoverage interaction](#innercoverage-interaction) for more detail.</span></span>

<span data-ttu-id="0218b-147">Las regiones de incertidumbre interna y externa deben ser mayores o iguales que el tamaño de la mitad de la cuadrícula de subpíxeles, o 1/512 de un píxel, en el dominio de punto fijo.</span><span class="sxs-lookup"><span data-stu-id="0218b-147">Inner and outer uncertainty regions must be greater than or equal to the size of half the sub-pixel grid, or 1/512 of a pixel, in the fixed point domain.</span></span> <span data-ttu-id="0218b-148">Esta es la región de incertidumbre mínima válida.</span><span class="sxs-lookup"><span data-stu-id="0218b-148">This is the minimum valid uncertainty region.</span></span> <span data-ttu-id="0218b-149">1/512 procede de la representación de coordenadas del rasterizador de punto fijo 16,8 y la regla de redondeo a la más cercana que se aplica cuando se convierten coordenadas de vértices de punto flotante en las coordenadas de punto fijo de 16,8.</span><span class="sxs-lookup"><span data-stu-id="0218b-149">1/512 comes from the 16.8 fixed point Rasterizer coordinate representation and the round-to-nearest rule that applies when converting floating point vertex coordinates to 16.8 fixed point coordinates.</span></span> <span data-ttu-id="0218b-150">1/512 puede cambiar si cambia la precisión del rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-150">1/512 can change if the Rasterizer precision changes.</span></span> <span data-ttu-id="0218b-151">Si una implementación implementa esta región de incertidumbre mínima, debe seguir la regla de Top-Left cuando el borde o la esquina de la región de incertidumbre cae a lo largo del borde o la esquina de un píxel.</span><span class="sxs-lookup"><span data-stu-id="0218b-151">If an implementation implements this minimum uncertainty region, then they must follow the Top-Left Rule when an edge or corner of the uncertainty region falls along the edge or corner of a pixel.</span></span> <span data-ttu-id="0218b-152">Los bordes recortados de la región de incertidumbre deben tratarse como el vértice más cercano, lo que significa que cuenta como dos bordes: los dos que se unen en el vértice asociado.</span><span class="sxs-lookup"><span data-stu-id="0218b-152">The clipped edges of the uncertainty region should be treated as the closest vertex, meaning that it counts as two edges: the two that join at the associated vertex.</span></span> <span data-ttu-id="0218b-153">Top-Left regla es necesaria cuando se usa la región de incertidumbre mínima, ya que, si no es así, una implementación de rasterización conservadora no podría rasterizar los píxeles que se podrían cubrir cuando el modo de rasterización conservador esté deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="0218b-153">Top-Left Rule is required when the minimum uncertainty region is used because if it is not, then a Conservative Rasterization implementation would fail to rasterize pixels that could be covered when Conservative Rasterization mode is disabled.</span></span>

<span data-ttu-id="0218b-154">En el diagrama siguiente se muestra una región de incertidumbre externa válida que se genera mediante el barrido de un cuadrado alrededor de los bordes de la primitiva en el dominio de punto fijo (es decir, los vértices se han cuantificado por la representación de punto fijo 16,8).</span><span class="sxs-lookup"><span data-stu-id="0218b-154">The following diagram illustrates a valid outer uncertainty region produced by sweeping a square around the edges of the primitive in the fixed point domain (i.e. the vertices have been quantized by the 16.8 fixed point representation).</span></span> <span data-ttu-id="0218b-155">Las dimensiones de este cuadrado se basan en el tamaño de la región de incertidumbre externa válida: para 1/2 de un píxel, el cuadrado es 1 píxel en ancho y alto, para 1/512 de un píxel, el cuadrado es 1/256 de un píxel en ancho y alto.</span><span class="sxs-lookup"><span data-stu-id="0218b-155">The dimensions of this square are based on the valid outer uncertainty region size: for the 1/2 of a pixel, the square is 1 pixel in width and height, for 1/512 of a pixel, the square is 1/256 of a pixel in width and height.</span></span> <span data-ttu-id="0218b-156">El triángulo verde representa un primitivo determinado, la línea de puntos rojo representa el límite de la rasterización conservadora sobreestimada, los cuadrados negros sólidos representan el cuadrado que se barre a lo largo de los bordes primitivos, y el área de la caja de la incertidumbre externa es la región de incertidumbre externa:</span><span class="sxs-lookup"><span data-stu-id="0218b-156">The green triangle represents a given primitive, the red dotted line represents the bound on Overestimated Conservative Rasterization, the solid black squares represent the square that is swept along the primitive edges, and the blue checkered area is the outer uncertainty region:</span></span>

![región de incertidumbre externa.](images/outercoverage.jpg)

### <a name="multisampling-interaction"></a><span data-ttu-id="0218b-158">Interacción con muestreo múltiple</span><span class="sxs-lookup"><span data-stu-id="0218b-158">Multisampling interaction</span></span>

<span data-ttu-id="0218b-159">Independientemente del número de muestras en las  / superficies **DepthStencil** de RenderTarget (o de si se está usando o no *ForcedSampleCount* ), todas las muestras se describen para los píxeles rasterizados por la rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="0218b-159">Regardless of the number of samples in **RenderTarget**/**DepthStencil** surfaces (or whether *ForcedSampleCount* is being used or not), all samples are covered for pixels rasterized by Conservative Rasterization.</span></span> <span data-ttu-id="0218b-160">Las ubicaciones de ejemplo individuales no se comprueban si se encuentran en el primitivo o no.</span><span class="sxs-lookup"><span data-stu-id="0218b-160">Individual sample locations are not tested for whether they fall in the primitive or not.</span></span>

### <a name="samplemask-interaction"></a><span data-ttu-id="0218b-161">Interacción con SampleMask</span><span class="sxs-lookup"><span data-stu-id="0218b-161">SampleMask interaction</span></span>

<span data-ttu-id="0218b-162">El estado del rasterizador *SampleMask* se aplica de la misma manera que cuando la rasterización conservadora no está habilitada para `InputCoverage` , pero no afecta a `InnerCoverage` (es decir, no se AND'ed en una entrada declarada con `InnerCoverage` ).</span><span class="sxs-lookup"><span data-stu-id="0218b-162">The *SampleMask* Rasterizer State applies the same way as when Conservative Rasterization is not enabled for `InputCoverage`, but does not affect `InnerCoverage` (i.e. it is not AND’ed into an input declared with `InnerCoverage`).</span></span> <span data-ttu-id="0218b-163">Esto se debe `InnerCoverage` a que no está relacionado con si se enmascaran los ejemplos de MSAA: 0 `InnerCoverage` solo significa que no se garantiza que el píxel esté totalmente incluido, y no que no se actualizará ningún ejemplo.</span><span class="sxs-lookup"><span data-stu-id="0218b-163">This is because `InnerCoverage` is unrelated to whether MSAA samples are masked out: 0 `InnerCoverage` only means that the pixel is not guaranteed to be fully covered, not that no samples will be updated.</span></span>

### <a name="depthstencil-test-interaction"></a><span data-ttu-id="0218b-164">Interacción de prueba de profundidad/estarcido</span><span class="sxs-lookup"><span data-stu-id="0218b-164">Depth/Stencil Test interaction</span></span>

<span data-ttu-id="0218b-165">Las pruebas de profundidad y estarcido se comprueban para un píxel con rasterización conservadora de la misma manera que si todas las muestras se incluyen cuando la rasterización conservadora no está habilitada.</span><span class="sxs-lookup"><span data-stu-id="0218b-165">Depth/Stencil Testing proceeds for a conservatively rasterized pixel the same way as if all samples are covered when Conservative Rasterization is not enabled.</span></span>

<span data-ttu-id="0218b-166">Continuar con todos los ejemplos que se incluyen pueden provocar la extrapolación de profundidad, que es válida y se debe fijar en la ventanilla tal y como se especifica cuando no se habilita la rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="0218b-166">Proceeding with all samples covered can cause Depth Extrapolation, which is valid and must be clamped to the viewport as specified when Conservative Rasterization is not enabled.</span></span> <span data-ttu-id="0218b-167">Esto es similar a cuando se usan los modos de interpolación de frecuencia de píxeles en **RenderTarget** con un recuento de muestras mayor que 1, aunque en el caso de una rasterización conservadora, es el valor de profundidad que entra en la prueba de profundidad de la función fija que se puede extrapolar.</span><span class="sxs-lookup"><span data-stu-id="0218b-167">This is similar to when pixel-frequency interpolation modes are used on a **RenderTarget** with sample count greater than 1, although in the case of Conservative Rasterization, it is the depth value going into the fixed function depth test that can be extrapolated.</span></span>

<span data-ttu-id="0218b-168">El comportamiento de selección de profundidad temprana con la extrapolación de profundidad es indefinido.</span><span class="sxs-lookup"><span data-stu-id="0218b-168">Early Depth culling behavior with Depth Extrapolation is undefined.</span></span> <span data-ttu-id="0218b-169">Esto se debe a que algunos de los hardware de selección de profundidad de nivel temprano no admiten correctamente los valores de profundidad extrapolada.</span><span class="sxs-lookup"><span data-stu-id="0218b-169">This is because some Early Depth culling hardware cannot properly support extrapolated depth values.</span></span> <span data-ttu-id="0218b-170">Sin embargo, el comportamiento de selección de profundidad temprana en la presencia de la extrapolación de profundidad es problemático incluso con hardware que puede admitir valores de profundidad extrapolada.</span><span class="sxs-lookup"><span data-stu-id="0218b-170">However, Early Depth culling behavior in the presence of Depth Extrapolation is problematic even with hardware that can support extrapolated depth values.</span></span> <span data-ttu-id="0218b-171">Este problema se puede solucionar si se fija la profundidad de entrada del sombreador de píxeles a los valores de profundidad mínimo y máximo de la primitiva que se está rasterizando y escribiendo el valor en `oDepth` (el registro de profundidad de salida del sombreador de píxeles).</span><span class="sxs-lookup"><span data-stu-id="0218b-171">This issue can be worked around by clamping the Pixel Shader input depth to the min and max depth values of the primitive being rasterized and writing that value to `oDepth` (the pixel shader output depth register).</span></span> <span data-ttu-id="0218b-172">Las implementaciones son necesarias para deshabilitar la selección de profundidad temprana en este caso, debido a la `oDepth` escritura.</span><span class="sxs-lookup"><span data-stu-id="0218b-172">Implementations are required to disable Early Depth culling in this case, due to the `oDepth` write.</span></span>

### <a name="helper-pixel-interaction"></a><span data-ttu-id="0218b-173">Interacción de píxeles de la aplicación auxiliar</span><span class="sxs-lookup"><span data-stu-id="0218b-173">Helper Pixel interaction</span></span>

<span data-ttu-id="0218b-174">Las reglas de píxeles auxiliares se aplican de la misma manera que cuando la rasterización conservadora no está habilitada.</span><span class="sxs-lookup"><span data-stu-id="0218b-174">Helper Pixel rules apply the same way as when Conservative Rasterization is not enabled.</span></span> <span data-ttu-id="0218b-175">Como parte de esto, todos los píxeles, incluidos los píxeles de la aplicación auxiliar, deben notificarse con `InputCoverage` exactitud tal y como se especifica en la `InputCoverage` sección interacción.</span><span class="sxs-lookup"><span data-stu-id="0218b-175">As part of this, all pixels including Helper Pixels must report `InputCoverage` accurately as specified in the `InputCoverage` interaction section.</span></span> <span data-ttu-id="0218b-176">Por lo tanto, el informe 0 de píxeles totalmente no cubiertos.</span><span class="sxs-lookup"><span data-stu-id="0218b-176">So fully non-covered pixels report 0 coverage.</span></span>

### <a name="output-coverage-interaction"></a><span data-ttu-id="0218b-177">Interacción de la cobertura de salida</span><span class="sxs-lookup"><span data-stu-id="0218b-177">Output Coverage interaction</span></span>

<span data-ttu-id="0218b-178">La cobertura de salida ( `oMask` ) se comporta para un píxel con rasterización conservadora tal como hace cuando la rasterización conservadora no está habilitada con todos los ejemplos cubiertos.</span><span class="sxs-lookup"><span data-stu-id="0218b-178">Output Coverage (`oMask`) behaves for a conservatively rasterized pixel as it does when Conservative Rasterization is not enabled with all samples covered.</span></span>

### <a name="inputcoverage-interaction"></a><span data-ttu-id="0218b-179">Interacción con InputCoverage</span><span class="sxs-lookup"><span data-stu-id="0218b-179">InputCoverage interaction</span></span>

<span data-ttu-id="0218b-180">En el modo de rasterización conservador, este registro de entrada se rellena como si todos los ejemplos se trataran cuando no se habilita la rasterización conservadora para un píxel determinado con rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="0218b-180">In Conservative Rasterization mode, this input register is populated as if all samples are covered when Conservative Rasterization is not enabled for a given conservatively rasterized pixel.</span></span> <span data-ttu-id="0218b-181">Es decir, se aplican todas las interacciones existentes (por ejemplo, se aplica *SampleMask* ) y los primeros n bits de `InputCoverage` la LSB se establecen en 1 para un píxel con rasterización conservadora, dado una muestra n por  píxel y/o búfer de **DepthStencil** enlazado en la **fusión de salida**, o una *ForcedSampleCount* de ejemplo n.</span><span class="sxs-lookup"><span data-stu-id="0218b-181">That is to say, all existing interactions apply (e.g. *SampleMask* is applied), and the first n bits in `InputCoverage` from the LSB are set to 1 for a conservatively rasterized pixel, given an n sample per pixel **RenderTarget** and/or **DepthStencil** buffer bound at the **Output Merger**, or an n sample *ForcedSampleCount*.</span></span> <span data-ttu-id="0218b-182">El resto de los bits son 0.</span><span class="sxs-lookup"><span data-stu-id="0218b-182">The rest of the bits are 0.</span></span>

<span data-ttu-id="0218b-183">Esta entrada está disponible en un sombreador independientemente del uso de la rasterización conservadora, aunque la rasterización conservadora cambia su comportamiento para mostrar solo todos los ejemplos incluidos (o ninguno para los píxeles auxiliares).</span><span class="sxs-lookup"><span data-stu-id="0218b-183">This input is available in a shader regardless of the use of Conservative Rasterization, though Conservative Rasterization changes its behavior to only show all samples covered (or none for Helper Pixels).</span></span>

### <a name="innercoverage-interaction"></a><span data-ttu-id="0218b-184">Interacción con InnerCoverage</span><span class="sxs-lookup"><span data-stu-id="0218b-184">InnerCoverage interaction</span></span>

<span data-ttu-id="0218b-185">Esta característica es necesaria para y solo está disponible en el nivel 3.</span><span class="sxs-lookup"><span data-stu-id="0218b-185">This feature is required by, and only available in, Tier 3.</span></span> <span data-ttu-id="0218b-186">El tiempo de ejecución producirá un error en la creación del sombreador para los sombreadores que utilizan este modo cuando una implementación admite un nivel inferior al nivel 3.</span><span class="sxs-lookup"><span data-stu-id="0218b-186">The runtime will fail shader creation for shaders that use this mode when an implementation supports a Tier less than Tier 3.</span></span>

<span data-ttu-id="0218b-187">El sombreador de píxeles tiene un valor de generación de sistema entero escalar de 32 bits disponible: `InnerCoverage` .</span><span class="sxs-lookup"><span data-stu-id="0218b-187">The Pixel Shader has a 32-bit scalar integer System Generate Value available: `InnerCoverage`.</span></span> <span data-ttu-id="0218b-188">Se trata de un campo de bits con un bit 0 de LSB establecido en 1 para un píxel determinado con rasterización conservadora, solo cuando se garantiza que ese píxel está completamente dentro del primitivo actual.</span><span class="sxs-lookup"><span data-stu-id="0218b-188">This is a bit-field that has bit 0 from the LSB set to 1 for a given conservatively rasterized pixel, only when that pixel is guaranteed to be entirely inside the current primitive.</span></span> <span data-ttu-id="0218b-189">El resto de bits de registro de entrada debe establecerse en 0 cuando no se establece el bit 0, pero no están definidos cuando el bit 0 está establecido en 1 (esencialmente, este campo de bits representa un valor booleano en el que false debe ser exactamente 0, pero true puede ser cualquier valor distinto de cero (es decir, bit 0 establecido).</span><span class="sxs-lookup"><span data-stu-id="0218b-189">All other input register bits must be set to 0 when bit 0 is not set, but are undefined when bit 0 is set to 1 (essentially, this bit-field represents a Boolean value where false must be exactly 0, but true can be any odd (i.e. bit 0 set) non-zero value).</span></span> <span data-ttu-id="0218b-190">Esta entrada se utiliza para la información de rasterización conservadora subestimada.</span><span class="sxs-lookup"><span data-stu-id="0218b-190">This input is used for underestimated Conservative Rasterization information.</span></span> <span data-ttu-id="0218b-191">Informa al sombreador de píxeles si el píxel actual está completamente dentro de la geometría.</span><span class="sxs-lookup"><span data-stu-id="0218b-191">It informs the Pixel Shader whether the current pixel lies completely inside the geometry.</span></span>

<span data-ttu-id="0218b-192">Este debe tener en cuenta el error de ajuste en resoluciones mayores o iguales que la resolución en la que está funcionando el dibujo actual.</span><span class="sxs-lookup"><span data-stu-id="0218b-192">This must account for snapping error at resolutions greater than or equal to the resolution at which the current Draw is operating.</span></span> <span data-ttu-id="0218b-193">No debe haber falsos positivos (estableciendo `InnerCoverage` bits cuando el píxel no está totalmente incluido en los errores de ajuste en resoluciones mayores o iguales que la resolución en la que está funcionando el dibujo actual), pero se permiten falsos negativos.</span><span class="sxs-lookup"><span data-stu-id="0218b-193">There must not be false positives (setting `InnerCoverage` bits when the pixel is not fully covered for any snapping error at resolutions greater than or equal to the resolution at which the current Draw is operating), but false negatives are allowed.</span></span> <span data-ttu-id="0218b-194">En Resumen, la implementación no debe identificar incorrectamente los píxeles como están totalmente descritos, lo que no sería con coordenadas de vértices de punto flotante completas en el rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-194">In summary, the implementation must not incorrectly identify pixels as fully covered that would not be with full floating point vertex coordinates in the Rasterizer.</span></span>

<span data-ttu-id="0218b-195">Los píxeles que se tratarán totalmente si el hardware estaba usando coordenadas de vértices de punto flotante completas solo se pueden omitir si se intersecan con la región de incertidumbre interna, que no debe ser mayor que el tamaño de la cuadrícula de subpíxeles, o 1/256 de un píxel, en el dominio de punto fijo.</span><span class="sxs-lookup"><span data-stu-id="0218b-195">Pixels that would be fully covered if hardware was using full floating point vertex coordinates may only be omitted if they intersect the inner uncertainty region, which must be no larger than the size of the sub-pixel grid, or 1/256 of a pixel, in the fixed point domain.</span></span> <span data-ttu-id="0218b-196">Dicho de otro modo, los píxeles que están completamente dentro del límite interno de la región de incertidumbre interna deben estar marcados como totalmente descritos.</span><span class="sxs-lookup"><span data-stu-id="0218b-196">Said another way, pixels entirely within the inner boundary of the inner uncertainty region must be marked as fully covered.</span></span> <span data-ttu-id="0218b-197">El límite interno de la región de incertidumbre se ilustra en el diagrama siguiente por la línea de puntos negro en negrita.</span><span class="sxs-lookup"><span data-stu-id="0218b-197">The inner boundary of the uncertainty region is illustrated in the diagram below by the bold black dotted line.</span></span> <span data-ttu-id="0218b-198">1/256 procede de la representación de coordenadas del rasterizador de punto fijo 16,8, que puede cambiar si cambia la precisión del rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-198">1/256 comes from the 16.8 fixed point Rasterizer coordinate representation, which can change if the Rasterizer precision changes.</span></span> <span data-ttu-id="0218b-199">Esta región de incertidumbre es suficiente para tener en cuenta el error de ajuste provocado por la conversión de coordenadas de vértices de punto flotante en coordenadas de vértice de punto fijo en el rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-199">This uncertainty region is enough to account for snapping error caused by the conversion of floating point vertex coordinates to fixed point vertex coordinates in the Rasterizer.</span></span>

<span data-ttu-id="0218b-200">Los mismos requisitos de la región de incertidumbre mínima de 1/512 definidos en reglas de rasterización también se aplican aquí.</span><span class="sxs-lookup"><span data-stu-id="0218b-200">The same 1/512 minimum uncertainty region requirements defined in Rasterization Rules interaction apply here as well.</span></span>

<span data-ttu-id="0218b-201">En el diagrama siguiente se muestra una región de incertidumbre interna válida que se genera mediante el barrido de un cuadrado alrededor de los bordes de la primitiva en el dominio de punto fijo (es decir, los vértices se han cuantificado por la representación de punto fijo 16,8).</span><span class="sxs-lookup"><span data-stu-id="0218b-201">The following diagram illustrates a valid inner uncertainty region produced by sweeping a square around the edges of the primitive in the fixed point domain (i.e. the vertices have been quantized by the 16.8 fixed point representation).</span></span> <span data-ttu-id="0218b-202">Las dimensiones de este cuadrado se basan en el tamaño de la región de incertidumbre interna válida: para 1/256 de un píxel, el cuadrado es 1/128 de un píxel en ancho y alto.</span><span class="sxs-lookup"><span data-stu-id="0218b-202">The dimensions of this square are based on the valid inner uncertainty region size: for 1/256 of a pixel, the square is 1/128 of a pixel in width and height.</span></span> <span data-ttu-id="0218b-203">El triángulo verde representa un primitivo determinado, mientras que la línea de puntos negros en negrita representa el límite de la región de incertidumbre interna, los cuadrados negros sólidos representan el cuadrado que se barre a lo largo de los bordes primitivos y el área de la incertidumbre de color naranja es la región de incertidumbre interna:</span><span class="sxs-lookup"><span data-stu-id="0218b-203">The green triangle represents a given primitive, the bold black dotted line represents the boundary of the inner uncertainty region, the solid black squares represent the square that is swept along the primitive edges, and the orange checkered area is the inner uncertainty region:</span></span>

![reqion de incertidumbre interna.](images/innercoverage.jpg)

<span data-ttu-id="0218b-205">El uso de `InnerCoverage` no afecta a si un píxel se rasteriza de manera conservadora, es decir, el uso de uno de estos `InputCoverage` modos no afecta a qué píxeles se rasterizan cuando se habilita el modo de rasterización conservador.</span><span class="sxs-lookup"><span data-stu-id="0218b-205">The use of `InnerCoverage` does not affect whether a pixel is conservatively rasterized, i.e. using one of these `InputCoverage` modes does not affect which pixels are rasterized when Conservative Rasterization mode is enabled.</span></span> <span data-ttu-id="0218b-206">Por lo tanto, cuando `InnerCoverage` se usa y el sombreador de píxeles está procesando un píxel que no está completamente incluido en la geometría, su valor será 0, pero la invocación del sombreador de píxeles tendrá las muestras actualizadas.</span><span class="sxs-lookup"><span data-stu-id="0218b-206">Therefore, when `InnerCoverage` is used and the Pixel Shader is processing a pixel that is not completely covered by the geometry its value will be 0, but the Pixel Shader invocation will have samples updated.</span></span> <span data-ttu-id="0218b-207">Es diferente de cuando `InputCoverage` es 0, lo que significa que no se actualizará ningún ejemplo.</span><span class="sxs-lookup"><span data-stu-id="0218b-207">This is different from when `InputCoverage` is 0, meaning that no samples will be updated.</span></span>

<span data-ttu-id="0218b-208">Esta entrada es mutuamente excluyente con `InputCoverage` : no se pueden usar ambos.</span><span class="sxs-lookup"><span data-stu-id="0218b-208">This input is mutually exclusive with `InputCoverage` : both cannot be used.</span></span>

<span data-ttu-id="0218b-209">Para tener acceso a `InnerCoverage` , se debe declarar como un componente único de uno de los registros de entrada del sombreador de píxeles.</span><span class="sxs-lookup"><span data-stu-id="0218b-209">To access `InnerCoverage`, it must be declared as a single component out of one of the Pixel Shader input registers.</span></span> <span data-ttu-id="0218b-210">El modo de interpolación en la declaración debe ser constante (no se aplica la interpolación).</span><span class="sxs-lookup"><span data-stu-id="0218b-210">The interpolation mode on the declaration must be constant (interpolation does not apply).</span></span>

<span data-ttu-id="0218b-211">El `InnerCoverage` campo de bits no se ve afectado por las pruebas de profundidad/estarcido, ni tampoco por el estado de rasterizador *SampleMask* .</span><span class="sxs-lookup"><span data-stu-id="0218b-211">The `InnerCoverage` bit-field is not affected by depth/stencil tests, nor is it ANDed with the *SampleMask* Rasterizer state.</span></span>

<span data-ttu-id="0218b-212">Esta entrada solo es válida en el modo de rasterización conservador.</span><span class="sxs-lookup"><span data-stu-id="0218b-212">This input is only valid in Conservative Rasterization mode.</span></span> <span data-ttu-id="0218b-213">Cuando no se habilita la rasterización conservadora, `InnerCoverage` genera un valor indefinido.</span><span class="sxs-lookup"><span data-stu-id="0218b-213">When Conservative Rasterization is not enabled, `InnerCoverage` produces an undefined value.</span></span>

<span data-ttu-id="0218b-214">Las invocaciones del sombreador de píxeles provocadas por la necesidad de píxeles de aplicación auxiliar, pero que de otro modo no están incluidos en la primitiva, deben tener el `InnerCoverage` registro establecido en 0.</span><span class="sxs-lookup"><span data-stu-id="0218b-214">Pixel Shader invocations caused by the need for Helper Pixels, but otherwise not covered by the primitive, must have the `InnerCoverage` register set to 0.</span></span>

### <a name="attribute-interpolation-interaction"></a><span data-ttu-id="0218b-215">Interacción de interpolación de atributos</span><span class="sxs-lookup"><span data-stu-id="0218b-215">Attribute Interpolation interaction</span></span>

<span data-ttu-id="0218b-216">Los modos de interpolación de atributos no cambian y continúan de la misma manera que cuando la rasterización conservadora no está habilitada, donde se usan los vértices con escala de ventanilla y conversión de punto fijo.</span><span class="sxs-lookup"><span data-stu-id="0218b-216">Attribute interpolation modes are unchanged and proceed the same way as when Conservative Rasterization is not enabled, where the viewport-scaled and fixed-point-converted vertices are used.</span></span> <span data-ttu-id="0218b-217">Dado que se consideran todas las muestras de un píxel con rasterización conservadora, es válido para la extrapolación de los valores, de forma similar a cuando se usan los modos de interpolación de frecuencia de píxeles en **RenderTarget** con un recuento de muestras mayor que 1.</span><span class="sxs-lookup"><span data-stu-id="0218b-217">Because all samples in a conservatively rasterized pixel are considered covered, it is valid for values to be extrapolated, similar to when pixel-frequency interpolation modes are used on a **RenderTarget** with sample count greater than 1.</span></span> <span data-ttu-id="0218b-218">Los modos de interpolación centroide producen resultados idénticos al modo de interpolación no centroide correspondiente; la noción de centroide no tiene sentido en este escenario, donde la cobertura de ejemplo solo es Full o 0.</span><span class="sxs-lookup"><span data-stu-id="0218b-218">Centroid interpolation modes produce results identical to the corresponding non-centroid interpolation mode; the notion of centroid is meaningless in this scenario – where sample coverage is only either full or 0.</span></span>

<span data-ttu-id="0218b-219">La rasterización conservadora permite que los triángulos degenerados generen invocaciones del sombreador de píxeles; por lo tanto, los triángulos degenerados deben usar los valores asignados al vértice 0 para todos los valores interpolados.</span><span class="sxs-lookup"><span data-stu-id="0218b-219">Conservative Rasterization allows for degenerate triangles to produce Pixel Shader invocations, therefore, degenerate triangles must use the values assigned to Vertex 0 for all interpolated values.</span></span>

### <a name="clipping-interaction"></a><span data-ttu-id="0218b-220">Interacción de recorte</span><span class="sxs-lookup"><span data-stu-id="0218b-220">Clipping interaction</span></span>

<span data-ttu-id="0218b-221">Cuando está habilitado el modo de rasterización conservador y se deshabilita el clip de profundidad (cuando el estado del rasterizador *DepthClipEnable* está establecido en false), puede haber variaciones en la interpolación de atributos para los segmentos de una primitiva que se encuentran fuera del 0 <= z <= w, dependiendo de la implementación: los valores constantes se utilizan desde un punto en el que el primitivo intersecta con el plano pertinente (Near o Far) o la interpolación de atributos se comporta como cuando el modo de rasterización conservador está deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="0218b-221">When Conservative Rasterization mode is enabled and depth clip is disabled (when the *DepthClipEnable* Rasterizer State is set to FALSE), there may be variances in attribute interpolation for segments of a primitive that fall outside the 0 <= z <= w range, depending on implementation: either constant values are used from a point where the primitive intersects the relevant plane (near or far), or attribute interpolation behaves as when Conservative Rasterization mode is disabled.</span></span> <span data-ttu-id="0218b-222">Sin embargo, el comportamiento del valor de profundidad es el mismo, independientemente del modo de rasterización conservador, es decir, los primitivos que se encuentran fuera del intervalo de profundidad deben seguir teniendo el valor del límite más cercano del intervalo de profundidad de la ventanilla.</span><span class="sxs-lookup"><span data-stu-id="0218b-222">However, the depth value behavior is the same regardless of Conservative Rasterization mode, i.e. primitives that fall outside of the depth range must still be given the value of the nearest limit of the viewport depth range.</span></span> <span data-ttu-id="0218b-223">El comportamiento de interpolación de atributo dentro del 0 <= z <= el intervalo de w debe permanecer sin cambios.</span><span class="sxs-lookup"><span data-stu-id="0218b-223">Attribute interpolation behavior inside the 0 <= z <= w range must remain unchanged.</span></span>

### <a name="clip-distance-interaction"></a><span data-ttu-id="0218b-224">Interacción de distancia del clip</span><span class="sxs-lookup"><span data-stu-id="0218b-224">Clip Distance interaction</span></span>

<span data-ttu-id="0218b-225">La distancia del clip es válida cuando el modo de rasterización conservador está habilitado y se comporta para un píxel con rasterización conservadora, tal como se hace cuando la rasterización conservadora no está habilitada con todos los ejemplos que se incluyen.</span><span class="sxs-lookup"><span data-stu-id="0218b-225">Clip Distance is valid when Conservative Rasterization mode is enabled, and behaves for a conservatively rasterized pixel as it does when Conservative Rasterization is not enabled with all samples covered.</span></span>

<span data-ttu-id="0218b-226">Tenga en cuenta que la rasterización conservadora puede producir la extrapolación de la coordenada del vértice W, lo que puede dar lugar a W <= 0.</span><span class="sxs-lookup"><span data-stu-id="0218b-226">Note that Conservative Rasterization can cause extrapolation of the W vertex coordinate, which may cause W <= 0.</span></span> <span data-ttu-id="0218b-227">Esto podría provocar que las implementaciones de la distancia de los clips por píxel funcionen en una distancia de recorte que se ha dividido entre un valor W no válido.</span><span class="sxs-lookup"><span data-stu-id="0218b-227">This could cause per-pixel Clip Distance implementations to operate on a Clip Distance that has been Perspective Divided by an invalid W value.</span></span> <span data-ttu-id="0218b-228">Las implementaciones de la distancia de clip deben protegerse contra la invocación de rasterización para los píxeles en los que la coordenada de vértices W <= 0 (por ejemplo, debido a la extrapolación en el modo de rasterización conservador).</span><span class="sxs-lookup"><span data-stu-id="0218b-228">Clip Distance implementations must guard against invoking rasterization for pixels where vertex coordinate W <= 0 (e.g. due to extrapolation when in Conservative Rasterization mode).</span></span>

### <a name="target-independent-rasterization-interaction"></a><span data-ttu-id="0218b-229">Interacción de rasterización independiente de destino</span><span class="sxs-lookup"><span data-stu-id="0218b-229">Target Independent Rasterization interaction</span></span>

<span data-ttu-id="0218b-230">El modo de rasterización conservador es compatible con la rasterización independiente de destino (TIR).</span><span class="sxs-lookup"><span data-stu-id="0218b-230">Conservative Rasterization mode is compatible with Target Independent Rasterization (TIR).</span></span> <span data-ttu-id="0218b-231">Se aplican las reglas y restricciones de TIR, comparando un píxel con rasterización conservadora como si se trataran todos los ejemplos.</span><span class="sxs-lookup"><span data-stu-id="0218b-231">TIR rules and restrictions apply, behaving for a conservatively rasterized pixel as if all samples are covered.</span></span>

### <a name="ia-primitive-topology-interaction"></a><span data-ttu-id="0218b-232">Interacción de topología de primitivas de IA</span><span class="sxs-lookup"><span data-stu-id="0218b-232">IA Primitive Topology interaction</span></span>

<span data-ttu-id="0218b-233">La rasterización conservadora no se define para los primitivos de línea o punto.</span><span class="sxs-lookup"><span data-stu-id="0218b-233">Conservative Rasterization is not defined for line or point primitives.</span></span> <span data-ttu-id="0218b-234">Por lo tanto, las topologías primitivas que especifican puntos o líneas producen un comportamiento indefinido si se alimentan a la unidad de rasterizador cuando se habilita la rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="0218b-234">Therefore, Primitive Topologies that specify points or lines produce undefined behavior if they are fed to the rasterizer unit when Conservative Rasterization is enabled.</span></span>

<span data-ttu-id="0218b-235">La validación de la capa de depuración comprueba que las aplicaciones no usan estas topologías primitivas.</span><span class="sxs-lookup"><span data-stu-id="0218b-235">The debug layer validation verifies applications do not use these Primitive Topologies.</span></span>

### <a name="query-interaction"></a><span data-ttu-id="0218b-236">Interacción de consultas</span><span class="sxs-lookup"><span data-stu-id="0218b-236">Query interaction</span></span>

<span data-ttu-id="0218b-237">En el caso de un píxel con rasterización conservadora, las consultas se comportan de la misma manera que cuando la rasterización conservadora no está habilitada cuando se incluyen todas las muestras.</span><span class="sxs-lookup"><span data-stu-id="0218b-237">For a conservatively rasterized pixel, queries behave as they do when Conservative Rasterization is not enabled when all samples are covered.</span></span> <span data-ttu-id="0218b-238">Por ejemplo, para un píxel con rasterización conservadora, las estadísticas de tipo de consulta D3D12 \_ \_ y las \_ \_ \_ \_ estadísticas de canalización de tipo de consulta D3D12 \_ (del [**\_ \_ tipo de consulta D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_type)) deben comportarse tal y como lo harían si la rasterización conservadora no estuviera habilitada cuando se cubran todas las muestras.</span><span class="sxs-lookup"><span data-stu-id="0218b-238">For example, for a conservatively rasterized pixel, D3D12\_QUERY\_TYPE\_OCCLUSION and D3D12\_QUERY\_TYPE\_PIPELINE\_STATISTICS (from [**D3D12\_QUERY\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_query_type)) must behave as they would when Conservative Rasterization is not enabled when all samples are covered.</span></span>

<span data-ttu-id="0218b-239">Las invocaciones del sombreador de píxeles deben incrementarse para cada píxel con rasterización conservadora en el modo de rasterización conservador.</span><span class="sxs-lookup"><span data-stu-id="0218b-239">Pixel Shader invocations should increment for every conservatively rasterized pixel in Conservative Rasterization mode.</span></span>

### <a name="cull-state-interaction"></a><span data-ttu-id="0218b-240">Interacción del estado de culling</span><span class="sxs-lookup"><span data-stu-id="0218b-240">Cull State interaction</span></span>

<span data-ttu-id="0218b-241">Todos los Estados de selección son válidos en el modo de rasterización conservador y siguen las mismas reglas que cuando la rasterización conservadora no está habilitada.</span><span class="sxs-lookup"><span data-stu-id="0218b-241">All Cull States are valid in Conservative Rasterization mode and follow the same rules as when Conservative Rasterization is not enabled.</span></span>

<span data-ttu-id="0218b-242">Al comparar la rasterización conservadora entre resoluciones a sí misma o sin rasterización conservadora habilitada, existe la posibilidad de que algunos primitivos puedan tener una falta de coincidencia (es decir, uno hacia atrás, el otro frente).</span><span class="sxs-lookup"><span data-stu-id="0218b-242">When comparing Conservative Rasterization across resolutions to itself or without Conservative Rasterization enabled, there is the possibility that some primitives may have mismatched facedness (i.e. one back facing, the other front facing).</span></span> <span data-ttu-id="0218b-243">Las aplicaciones pueden evitar esta incertidumbre mediante \_ el uso \_ \_ del modo de selección de D3D12 no (en el [**\_ \_ modo de selección de D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_cull_mode)) y no usar el valor generado por el `IsFrontFace` sistema.</span><span class="sxs-lookup"><span data-stu-id="0218b-243">Applications can avoid this uncertainty by using D3D12\_CULL\_MODE\_NONE (from [**D3D12\_CULL\_MODE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_cull_mode)) and not using the `IsFrontFace` System Generated Value.</span></span>

### <a name="isfrontface-interaction"></a><span data-ttu-id="0218b-244">Interacción con IsFrontFace</span><span class="sxs-lookup"><span data-stu-id="0218b-244">IsFrontFace interaction</span></span>

<span data-ttu-id="0218b-245">El `IsFrontFace` valor generado por el sistema es válido para su uso en el modo de rasterización conservador y sigue el comportamiento definido cuando no se habilita la rasterización conservadora.</span><span class="sxs-lookup"><span data-stu-id="0218b-245">The `IsFrontFace` System Generated Value is valid to use in Conservative Rasterization mode, and follows the behavior defined when Conservative Rasterization is not enabled.</span></span>

### <a name="fill-modes-interaction"></a><span data-ttu-id="0218b-246">Interacción de los modos de relleno</span><span class="sxs-lookup"><span data-stu-id="0218b-246">Fill Modes interaction</span></span>

<span data-ttu-id="0218b-247">El único [**modo de \_ relleno \_ D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_fill_mode) válido para la rasterización conservadora es D3D12 \_ Fill \_ Solid, cualquier otro modo de relleno es un parámetro no válido para el estado de rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-247">The only valid [**D3D12\_FILL\_MODE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_fill_mode) for Conservative Rasterization is D3D12\_FILL\_SOLID, any other fill mode is an invalid parameter for the Rasterizer State.</span></span>

<span data-ttu-id="0218b-248">Esto se debe a que la especificación funcional de D3D12 especifica que el modo de relleno de trama de alambre debe convertir los bordes de triángulo en líneas y seguir las reglas de rasterización de línea y el comportamiento de rasterización de líneas conservadora no se ha definido.</span><span class="sxs-lookup"><span data-stu-id="0218b-248">This is because D3D12 functional specification specifies that wireframe fill mode should convert triangle edges to lines and follow the line rasterization rules and conservative line rasterization behavior has not been defined.</span></span>

## <a name="implementation-details"></a><span data-ttu-id="0218b-249">Detalles de la implementación</span><span class="sxs-lookup"><span data-stu-id="0218b-249">Implementation details</span></span>

<span data-ttu-id="0218b-250">El tipo de rasterización compatible con Direct3D 12 a veces se conoce como "rasterización conservadora sobreestimada".</span><span class="sxs-lookup"><span data-stu-id="0218b-250">The type of rasterization supported in Direct3D 12 is sometimes referred to as "Overestimated Conservative Rasterization".</span></span> <span data-ttu-id="0218b-251">También existe el concepto de "rasterización conservadora desestimada", lo que significa que solo se rasterizan los píxeles que están totalmente incluidos en una primitiva representada.</span><span class="sxs-lookup"><span data-stu-id="0218b-251">There is also the concept of "Underestimated Conservative Rasterization", which means that only pixels that are fully covered by a rendered primitive are rasterized.</span></span> <span data-ttu-id="0218b-252">La información de rasterización conservadora subestimada está disponible a través del sombreador de píxeles mediante el uso de datos de cobertura de entrada y solo está disponible la rasterización conservadora sobreestimada como modo de rasterización.</span><span class="sxs-lookup"><span data-stu-id="0218b-252">Underestimated Conservative Rasterization information is available through the pixel shader through the use of input coverage data, and only overestimated Conservative Rasterization is available as a rasterizing mode.</span></span>

<span data-ttu-id="0218b-253">Si alguna parte de una primitiva se superpone a un píxel, ese píxel se considerará tratado y se rasterizará.</span><span class="sxs-lookup"><span data-stu-id="0218b-253">If any part of a primitive overlaps a pixel, then that pixel is considered covered and is then rasterized.</span></span> <span data-ttu-id="0218b-254">Cuando un borde o esquina de una primitiva cae a lo largo del borde o la esquina de un píxel, la aplicación de la "regla superior izquierda" es específica de la implementación.</span><span class="sxs-lookup"><span data-stu-id="0218b-254">When an edge or corner of a primitive falls along the edge or corner of a pixel, the application of the "top-left rule" is implementation-specific.</span></span> <span data-ttu-id="0218b-255">Sin embargo, para las implementaciones que admiten triángulos degenerados, un triángulo degenerado a lo largo de un borde o una esquina debe cubrir al menos un píxel.</span><span class="sxs-lookup"><span data-stu-id="0218b-255">However, for implementations that support degenerate triangles, a degenerate triangle along an edge or corner must cover at least one pixel.</span></span>

<span data-ttu-id="0218b-256">Las implementaciones de rasterización conservadora pueden variar en hardware diferente y generar falsos positivos, lo que significa que pueden decidir incorrectamente que los píxeles están incluidos.</span><span class="sxs-lookup"><span data-stu-id="0218b-256">Conservative Rasterization implementations can vary on different hardware, and do produce false positives, meaning that they can incorrectly decide that pixels are covered.</span></span> <span data-ttu-id="0218b-257">Esto puede deberse a detalles específicos de la implementación, como los errores primitivos de aumento o ajuste inherentes a las coordenadas de vértices de punto fijo utilizadas en la rasterización.</span><span class="sxs-lookup"><span data-stu-id="0218b-257">This can occur because of implementation-specific details like primitive growing or snapping errors inherent in the fixed-point vertex coordinates used in rasterization.</span></span> <span data-ttu-id="0218b-258">La razón por la que los falsos positivos (con respecto a las coordenadas de vértices de punto fijo) son válidos es que se necesita una cantidad de falsos positivos para permitir que una implementación realice la evaluación de cobertura en los vértices con ajuste de nivel (es decir, las coordenadas de vértices que se han convertido desde el punto flotante al punto fijo 16,8 usado en el rasterizador), pero</span><span class="sxs-lookup"><span data-stu-id="0218b-258">The reason false positives (with respect to fixed point vertex coordinates) are valid is because some amount of false positives are needed to allow an implementation to do coverage evaluation against post-snapped vertices (i.e. vertex coordinates that have been converted from floating point to the 16.8 fixed-point used in the rasterizer), but honor the coverage produced by the original floating point vertex coordinates.</span></span>

<span data-ttu-id="0218b-259">Las implementaciones de rasterización conservadora no producen falsos negativos con respecto a las coordenadas de vértices de punto flotante para primitivas posteriores al ajuste no generadas: Si alguna parte de una primitiva se superpone a cualquier parte de un píxel, ese píxel se rasteriza.</span><span class="sxs-lookup"><span data-stu-id="0218b-259">Conservative Rasterization implementations do not produce false negatives with respect to the floating-point vertex coordinates for non-degenerate post-snap primitives: if any part of a primitive overlaps any part of a pixel, then that pixel is rasterized.</span></span>

<span data-ttu-id="0218b-260">Los triángulos degenerados (índices duplicados en un búfer de índice o colineales en 3D), o se convierten en degenerados después de la conversión de punto fijo (vértices colineales en el rasterizador), pueden o no ser reactivados; ambos son comportamientos válidos.</span><span class="sxs-lookup"><span data-stu-id="0218b-260">Triangles that are degenerate (duplicate indices in an index buffer or collinear in 3D), or become degenerate after fixed-point conversion (collinear vertices in the rasterizer), may or may not be culled; both are valid behaviors.</span></span> <span data-ttu-id="0218b-261">Los triángulos degenerados se deben tener en cuenta hacia atrás, por lo que si una aplicación requiere un comportamiento concreto, puede utilizar la selección de la parte trasera o la prueba para orientarse hacia delante.</span><span class="sxs-lookup"><span data-stu-id="0218b-261">Degenerate triangles must be considered back facing, so if a specific behavior is required by an application, it can use back-face culling or test for front facing.</span></span> <span data-ttu-id="0218b-262">Los triángulos degenerados usan los valores asignados al vértice 0 para todos los valores interpolados.</span><span class="sxs-lookup"><span data-stu-id="0218b-262">Degenerate triangles use the values assigned to Vertex 0 for all interpolated values.</span></span>

<span data-ttu-id="0218b-263">Hay tres niveles de compatibilidad de hardware, además de la posibilidad de que el hardware no sea compatible con esta característica.</span><span class="sxs-lookup"><span data-stu-id="0218b-263">There are three tiers of hardware support, in addition to the possibility that the hardware does not support this feature.</span></span>

-   <span data-ttu-id="0218b-264">El nivel 1 aplica una región de incertidumbre de 1/2 píxeles como máximo y no admite la degeneración posterior al ajuste.</span><span class="sxs-lookup"><span data-stu-id="0218b-264">Tier 1 enforces a maximum 1/2 pixel uncertainty region and does not support post-snap degenerates.</span></span> <span data-ttu-id="0218b-265">Esto es adecuado para la representación en mosaico, un Atlas de textura, la generación de mapas ligeros y las instantáneas de subpíxeles.</span><span class="sxs-lookup"><span data-stu-id="0218b-265">This is good for tiled rendering, a texture atlas, light map generation and sub-pixel shadow maps.</span></span>
-   <span data-ttu-id="0218b-266">El nivel 2 reduce la región de incertidumbre máxima a 1/256 y requiere que se devuelvan las desgeneraciones posteriores a la instantánea.</span><span class="sxs-lookup"><span data-stu-id="0218b-266">Tier 2 reduces the maximum uncertainty region to 1/256 and requires post-snap degenerates not be culled.</span></span> <span data-ttu-id="0218b-267">Este nivel es útil para la aceleración del algoritmo basado en la CPU (por ejemplo, voxelization).</span><span class="sxs-lookup"><span data-stu-id="0218b-267">This tier is helpful for CPU-based algorithm acceleration (such as voxelization).</span></span>
-   <span data-ttu-id="0218b-268">El nivel 3 mantiene una región de incertidumbre 1/256 máxima y agrega compatibilidad con la cobertura de entrada interna.</span><span class="sxs-lookup"><span data-stu-id="0218b-268">Tier 3 maintains a maximum 1/256 uncertainty region and adds support for inner input coverage.</span></span> <span data-ttu-id="0218b-269">La cobertura de entrada interna agrega el nuevo valor `SV_InnerCoverage` al lenguaje de sombreado de alto nivel (HLSL).</span><span class="sxs-lookup"><span data-stu-id="0218b-269">Inner input coverage adds the new value `SV_InnerCoverage` to High Level Shading Language (HLSL).</span></span> <span data-ttu-id="0218b-270">Se trata de un entero escalar de 32 bits que se puede especificar en la entrada a un sombreador de píxeles y que representa la información de rasterización conservadora subestimada (es decir, si se garantiza que un píxel está totalmente incluido).</span><span class="sxs-lookup"><span data-stu-id="0218b-270">This is a 32-bit scalar integer that can be specified on input to a pixel shader, and represents the underestimated Conservative Rasterization information (that is, whether a pixel is guaranteed-to-be-fully covered).</span></span> <span data-ttu-id="0218b-271">Este nivel es útil para la selección de la oclusión.</span><span class="sxs-lookup"><span data-stu-id="0218b-271">This tier is helpful for occlusion culling.</span></span>

## <a name="api-summary"></a><span data-ttu-id="0218b-272">API summary</span><span class="sxs-lookup"><span data-stu-id="0218b-272">API summary</span></span>

<span data-ttu-id="0218b-273">Los siguientes métodos, estructuras, enumeraciones y clases auxiliares hacen referencia a la rasterización conservadora:</span><span class="sxs-lookup"><span data-stu-id="0218b-273">The following methods, structures, enums, and helper classes reference Conservative Rasterization:</span></span>

-   <span data-ttu-id="0218b-274">[**D3D12 \_ RASTERIZAdor \_ DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_rasterizer_desc) : estructura que contiene la descripción del rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-274">[**D3D12\_RASTERIZER\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_rasterizer_desc) : structure holding the rasterizer description.</span></span>
-   <span data-ttu-id="0218b-275">[**D3D12 \_ \_ \_ Modo de rasterización conservador**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_conservative_rasterization_mode) : valores de enumeración para el modo (activado o desactivado).</span><span class="sxs-lookup"><span data-stu-id="0218b-275">[**D3D12\_CONSERVATIVE\_RASTERIZATION\_MODE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_conservative_rasterization_mode) : enum values for the mode (on or off).</span></span>
-   <span data-ttu-id="0218b-276">[**D3D12 \_ \_Opciones de \_ D3D12 \_ de datos de características**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_d3d12_options) : estructura que contiene el nivel de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="0218b-276">[**D3D12\_FEATURE\_DATA\_D3D12\_OPTIONS**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_d3d12_options) : structure holding the tier of support.</span></span>
-   <span data-ttu-id="0218b-277">[**D3D12 \_ \_ \_ Nivel de rasterización conservador**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_conservative_rasterization_tier) : valores de enumeración para cada nivel de soporte del hardware.</span><span class="sxs-lookup"><span data-stu-id="0218b-277">[**D3D12\_CONSERVATIVE\_RASTERIZATION\_TIER**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_conservative_rasterization_tier) : enum values for each tier of support by the hardware.</span></span>
-   <span data-ttu-id="0218b-278">[**CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) : método para tener acceso a las características admitidas.</span><span class="sxs-lookup"><span data-stu-id="0218b-278">[**CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) : method to access the supported features.</span></span>
-   <span data-ttu-id="0218b-279">[**CD3DX12 \_ RASTERIZAdor \_ DESC**](cd3dx12-rasterizer-desc.md) : clase auxiliar para crear descripciones de rasterizador.</span><span class="sxs-lookup"><span data-stu-id="0218b-279">[**CD3DX12\_RASTERIZER\_DESC**](cd3dx12-rasterizer-desc.md) : helper class for creating rasterizer descriptions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0218b-280">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0218b-280">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0218b-281">Tutoriales de vídeo de aprendizaje avanzado de DirectX: rasterización conservadora</span><span class="sxs-lookup"><span data-stu-id="0218b-281">DirectX advanced learning video tutorials : Conservative Rasterization</span></span>](https://www.youtube.com/watch?v=zL0oSY_YmDY)
</dt> <dt>

[<span data-ttu-id="0218b-282">Vistas ordenadas de rasterizador</span><span class="sxs-lookup"><span data-stu-id="0218b-282">Rasterizer Ordered Views</span></span>](rasterizer-order-views.md)
</dt> <dt>

[<span data-ttu-id="0218b-283">Representación</span><span class="sxs-lookup"><span data-stu-id="0218b-283">Rendering</span></span>](rendering.md)
</dt> </dl>

 

 




