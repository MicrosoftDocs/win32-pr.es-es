---
description: A continuación se proporciona una guía paso a paso para empezar a trabajar con la programación de Windows Sockets.
ms.assetid: 905cd5bc-44af-4d3f-841a-9e9a2700a785
title: Introducción con Winsock
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 43751663a637fafb2eec453a48c329ff8e4499f2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105696381"
---
# <a name="getting-started-with-winsock"></a><span data-ttu-id="cc20a-103">Introducción con Winsock</span><span class="sxs-lookup"><span data-stu-id="cc20a-103">Getting Started with Winsock</span></span>

<span data-ttu-id="cc20a-104">A continuación se proporciona una guía paso a paso para empezar a trabajar con la programación de Windows Sockets.</span><span class="sxs-lookup"><span data-stu-id="cc20a-104">The following is a step-by-step guide to getting started with Windows Sockets programming.</span></span> <span data-ttu-id="cc20a-105">Está diseñado para proporcionar una descripción de las funciones básicas de Winsock y las estructuras de datos, y de cómo funcionan en conjunto.</span><span class="sxs-lookup"><span data-stu-id="cc20a-105">It is designed to provide an understanding of basic Winsock functions and data structures, and how they work together.</span></span>

<span data-ttu-id="cc20a-106">La aplicación de cliente y servidor que se usa para la ilustración es un cliente y un servidor muy básicos.</span><span class="sxs-lookup"><span data-stu-id="cc20a-106">The client and server application that is used for illustration is a very basic client and server.</span></span> <span data-ttu-id="cc20a-107">En los ejemplos incluidos en el kit de desarrollo de software (SDK) de Microsoft Windows se incluyen ejemplos de código más avanzados.</span><span class="sxs-lookup"><span data-stu-id="cc20a-107">More advanced code examples are included in the samples included with the Microsoft Windows Software Development Kit (SDK).</span></span>

<span data-ttu-id="cc20a-108">Los primeros pasos son los mismos para las aplicaciones de cliente y de servidor.</span><span class="sxs-lookup"><span data-stu-id="cc20a-108">The first few steps are the same for both client and server applications.</span></span>

-   [<span data-ttu-id="cc20a-109">Acerca de los servidores y clientes</span><span class="sxs-lookup"><span data-stu-id="cc20a-109">About Servers and Clients</span></span>](about-clients-and-servers.md)
-   [<span data-ttu-id="cc20a-110">Crear una aplicación de Winsock básica</span><span class="sxs-lookup"><span data-stu-id="cc20a-110">Creating a Basic Winsock Application</span></span>](creating-a-basic-winsock-application.md)
-   [<span data-ttu-id="cc20a-111">Inicializando Winsock</span><span class="sxs-lookup"><span data-stu-id="cc20a-111">Initializing Winsock</span></span>](initializing-winsock.md)

<span data-ttu-id="cc20a-112">En las secciones siguientes se describen los pasos restantes para crear una aplicación cliente Winsock.</span><span class="sxs-lookup"><span data-stu-id="cc20a-112">The following sections describe the remaining steps for creating a Winsock client application.</span></span>

-   [<span data-ttu-id="cc20a-113">Crear un socket para el cliente</span><span class="sxs-lookup"><span data-stu-id="cc20a-113">Creating a Socket for the Client</span></span>](creating-a-socket-for-the-client.md)
-   [<span data-ttu-id="cc20a-114">Conexión a un socket</span><span class="sxs-lookup"><span data-stu-id="cc20a-114">Connecting to a Socket</span></span>](connecting-to-a-socket.md)
-   [<span data-ttu-id="cc20a-115">Enviar y recibir datos en el cliente</span><span class="sxs-lookup"><span data-stu-id="cc20a-115">Sending and Receiving Data on the Client</span></span>](sending-and-receiving-data-on-the-client.md)
-   [<span data-ttu-id="cc20a-116">Desconectar el cliente</span><span class="sxs-lookup"><span data-stu-id="cc20a-116">Disconnecting the Client</span></span>](disconnecting-the-client.md)

<span data-ttu-id="cc20a-117">En las secciones siguientes se describen los pasos restantes para crear una aplicación de servidor Winsock.</span><span class="sxs-lookup"><span data-stu-id="cc20a-117">The following sections describe the remaining steps for creating a Winsock server application.</span></span>

-   [<span data-ttu-id="cc20a-118">Crear un socket para el servidor</span><span class="sxs-lookup"><span data-stu-id="cc20a-118">Creating a Socket for the Server</span></span>](creating-a-socket-for-the-server.md)
-   [<span data-ttu-id="cc20a-119">Enlazar un socket</span><span class="sxs-lookup"><span data-stu-id="cc20a-119">Binding a Socket</span></span>](binding-a-socket.md)
-   [<span data-ttu-id="cc20a-120">Escuchar en un socket</span><span class="sxs-lookup"><span data-stu-id="cc20a-120">Listening on a Socket</span></span>](listening-on-a-socket.md)
-   [<span data-ttu-id="cc20a-121">Aceptación de una conexión</span><span class="sxs-lookup"><span data-stu-id="cc20a-121">Accepting a Connection</span></span>](accepting-a-connection.md)
-   [<span data-ttu-id="cc20a-122">Recibir y enviar datos en el servidor</span><span class="sxs-lookup"><span data-stu-id="cc20a-122">Receiving and Sending Data on the Server</span></span>](receiving-and-sending-data-on-the-server.md)
-   [<span data-ttu-id="cc20a-123">Desconectar el servidor</span><span class="sxs-lookup"><span data-stu-id="cc20a-123">Disconnecting the Server</span></span>](disconnecting-the-server.md)

<span data-ttu-id="cc20a-124">Código fuente completo de estos ejemplos básicos.</span><span class="sxs-lookup"><span data-stu-id="cc20a-124">The complete source code for these basic examples.</span></span>

-   [<span data-ttu-id="cc20a-125">Ejecución del ejemplo de código de servidor y cliente Winsock</span><span class="sxs-lookup"><span data-stu-id="cc20a-125">Running the Winsock Client and Server Code Sample</span></span>](finished-server-and-client-code.md)
-   [<span data-ttu-id="cc20a-126">Completar el código de cliente Winsock</span><span class="sxs-lookup"><span data-stu-id="cc20a-126">Complete Winsock Client Code</span></span>](complete-client-code.md)
-   [<span data-ttu-id="cc20a-127">Completar el código del servidor Winsock</span><span class="sxs-lookup"><span data-stu-id="cc20a-127">Complete Winsock Server Code</span></span>](complete-server-code.md)

## <a name="advanced-winsock-samples"></a><span data-ttu-id="cc20a-128">Ejemplos avanzados de Winsock</span><span class="sxs-lookup"><span data-stu-id="cc20a-128">Advanced Winsock Samples</span></span>

<span data-ttu-id="cc20a-129">En el Windows SDK se incluyen varios ejemplos de servidor y cliente Winsock más avanzados.</span><span class="sxs-lookup"><span data-stu-id="cc20a-129">Several more advanced Winsock client and server samples are included with the Windows SDK.</span></span> <span data-ttu-id="cc20a-130">De forma predeterminada, el código fuente de ejemplo de Winsock se instala en el directorio siguiente mediante el Windows SDK para Windows 7:</span><span class="sxs-lookup"><span data-stu-id="cc20a-130">By default, the Winsock sample source code is installed in the following directory by the Windows SDK for Windows 7:</span></span>

<span data-ttu-id="cc20a-131">*C: \\ archivos de programa \\ Microsoft SDK \\ Windows \\ v 7.0 \\ Samples \\ NetDs \\ Winsock*</span><span class="sxs-lookup"><span data-stu-id="cc20a-131">*C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0\\Samples\\NetDs\\winsock*</span></span>

<span data-ttu-id="cc20a-132">En versiones anteriores del Windows SDK, el número de versión de la ruta de acceso anterior cambiaría.</span><span class="sxs-lookup"><span data-stu-id="cc20a-132">On earlier versions of the Windows SDK, the version number in the above path would change.</span></span> <span data-ttu-id="cc20a-133">Por ejemplo, el código fuente del ejemplo Winsock se instala en el directorio predeterminado siguiente mediante el Windows SDK para Windows Vista</span><span class="sxs-lookup"><span data-stu-id="cc20a-133">For example, the Winsock sample source code is installed in the following default directory by the Windows SDK for Windows Vista</span></span>

<span data-ttu-id="cc20a-134">*C: \\ archivos de programa \\ Microsoft SDK \\ Windows \\ v 6.0 \\ Samples \\ NetDs \\ Winsock*</span><span class="sxs-lookup"><span data-stu-id="cc20a-134">*C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0\\Samples\\NetDs\\winsock*</span></span>

<span data-ttu-id="cc20a-135">Los ejemplos más avanzados que se enumeran a continuación en orden de mayor a menor rendimiento se encuentran en los siguientes directorios:</span><span class="sxs-lookup"><span data-stu-id="cc20a-135">The more advanced samples listed below in order from higher to lower performance are found in the following directories:</span></span>

-   <span data-ttu-id="cc20a-136">IOCP</span><span class="sxs-lookup"><span data-stu-id="cc20a-136">iocp</span></span>

    <span data-ttu-id="cc20a-137">Este directorio contiene tres programas de ejemplo que usan puertos de finalización de e/s.</span><span class="sxs-lookup"><span data-stu-id="cc20a-137">This directory contains three sample programs that use I/O completion ports.</span></span> <span data-ttu-id="cc20a-138">Los programas incluyen un servidor Winsock (iocpserver) que usa la función [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept) , un servidor Winsock (iocpserverex) que usa la función [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) y un cliente Winsock simple multiproceso (iocpclient) que se usa para probar cualquiera de estos servidores.</span><span class="sxs-lookup"><span data-stu-id="cc20a-138">The programs include a Winsock server (iocpserver) that uses the [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept) function, a Winsock server (iocpserverex) that uses the [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) function, and a simple multithreaded Winsock client (iocpclient) used to test either of these servers.</span></span> <span data-ttu-id="cc20a-139">Los programas de servidor admiten la conexión de varios clientes a través de TCP/IP y el envío de búferes de datos de tamaño arbitrario que el servidor devuelve al cliente.</span><span class="sxs-lookup"><span data-stu-id="cc20a-139">The server programs support multiple clients connecting via TCP/IP and sending arbitrary sized data buffers which the server then echoes back to the client.</span></span> <span data-ttu-id="cc20a-140">Para mayor comodidad, se desarrolló un sencillo programa cliente, iocpclient, para conectarse y enviar datos continuamente al servidor para recargarlos con varios subprocesos.</span><span class="sxs-lookup"><span data-stu-id="cc20a-140">For convenience, a simple client program, iocpclient, was developed to connect and continually send data to the server to stress it using multiple threads.</span></span> <span data-ttu-id="cc20a-141">Los servidores Winsock que usan puertos de finalización de e/s proporcionan la mayor capacidad de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="cc20a-141">Winsock servers that use I/O completion ports provide the most performance capability.</span></span>

-   <span data-ttu-id="cc20a-142">superpone</span><span class="sxs-lookup"><span data-stu-id="cc20a-142">overlap</span></span>

    <span data-ttu-id="cc20a-143">Este directorio contiene un programa de servidor de ejemplo que usa e/s superpuesta.</span><span class="sxs-lookup"><span data-stu-id="cc20a-143">This directory contains a sample server program that uses overlapped I/O.</span></span> <span data-ttu-id="cc20a-144">El programa de ejemplo utiliza la función [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) y la e/s superpuesta para controlar de forma eficaz varias solicitudes de conexión asincrónica de clientes.</span><span class="sxs-lookup"><span data-stu-id="cc20a-144">The sample program uses the [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) function and overlapped I/O to handle multiple asynchronous connection requests from clients effectively.</span></span> <span data-ttu-id="cc20a-145">El servidor utiliza la función **AcceptEx** para multiplexar diferentes conexiones de cliente en una aplicación Win32 de un solo subproceso.</span><span class="sxs-lookup"><span data-stu-id="cc20a-145">The server uses the **AcceptEx** function to multiplex different client connections in a single-threaded Win32 application.</span></span> <span data-ttu-id="cc20a-146">El uso de e/s superpuestas permite una mayor escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="cc20a-146">Using overlapped I/O allows for greater scalability.</span></span>

-   <span data-ttu-id="cc20a-147">WSAPoll</span><span class="sxs-lookup"><span data-stu-id="cc20a-147">WSAPoll</span></span>

    <span data-ttu-id="cc20a-148">Este directorio contiene un programa de ejemplo básico que muestra el uso de la función [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) .</span><span class="sxs-lookup"><span data-stu-id="cc20a-148">This directory contains a basic sample program that demonstrates the use of the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="cc20a-149">El programa de cliente y de servidor combinado no es de bloqueo y usa la función **WSAPoll** para determinar cuándo es posible enviar o recibir sin bloqueos.</span><span class="sxs-lookup"><span data-stu-id="cc20a-149">The combined client and server program are non-blocking and use the **WSAPoll** function to determine when it is possible to send or receive without blocking.</span></span> <span data-ttu-id="cc20a-150">Este ejemplo es más para la ilustración y no es un servidor de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="cc20a-150">This sample is more for illustration and is not a high-performance server.</span></span>

-   <span data-ttu-id="cc20a-151">simple</span><span class="sxs-lookup"><span data-stu-id="cc20a-151">simple</span></span>

    <span data-ttu-id="cc20a-152">Este directorio contiene tres programas de ejemplo básicos que muestran el uso de varios subprocesos por un servidor.</span><span class="sxs-lookup"><span data-stu-id="cc20a-152">This directory contains three basic sample programs that demonstrate the use of multiple threads by a server.</span></span> <span data-ttu-id="cc20a-153">Los programas incluyen un servidor TCP/UDP simple (simple), un servidor solo TCP ( \_ ioctl sencillo) que usa la función [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) en una aplicación de consola Win32 para admitir varias solicitudes de cliente y un programa TCP/UDP de cliente (simplec) para probar los servidores.</span><span class="sxs-lookup"><span data-stu-id="cc20a-153">The programs include a simple TCP/UDP server (simples), a TCP-only server (simples\_ioctl) that uses the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function in a Win32 console application to support multiple client requests, and a client TCP/UDP program (simplec) for testing the servers.</span></span> <span data-ttu-id="cc20a-154">Los servidores muestran el uso de varios subprocesos para administrar varias solicitudes de cliente.</span><span class="sxs-lookup"><span data-stu-id="cc20a-154">The servers demonstrates the use of multiple threads to handle multiple client requests.</span></span> <span data-ttu-id="cc20a-155">Este método tiene problemas de escalabilidad, ya que se crea un subproceso independiente para cada solicitud de cliente.</span><span class="sxs-lookup"><span data-stu-id="cc20a-155">This method has scalability issues since a separate thread is created for each client request.</span></span>

-   <span data-ttu-id="cc20a-156">accept</span><span class="sxs-lookup"><span data-stu-id="cc20a-156">accept</span></span>

    <span data-ttu-id="cc20a-157">Este directorio contiene un programa de cliente y un servidor de ejemplo básico.</span><span class="sxs-lookup"><span data-stu-id="cc20a-157">This directory contains a basic sample server and client program.</span></span> <span data-ttu-id="cc20a-158">El servidor muestra el uso de una aceptación sin bloqueo mediante la función [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) o la aceptación asincrónica mediante la función [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) .</span><span class="sxs-lookup"><span data-stu-id="cc20a-158">The server demonstrates the use of either non-blocking accept using the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function or asynchronous accept using the [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) function.</span></span> <span data-ttu-id="cc20a-159">Este ejemplo es más para la ilustración y no es un servidor de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="cc20a-159">This sample is more for illustration and is not a high-performance server.</span></span>

 

 
