---
title: Cuadro de diálogo Color
description: Muestra un cuadro de diálogo modal que permite al usuario elegir un valor de color específico.
ms.assetid: 248586b5-5068-4021-8407-56eb79243789
keywords:
- entrada de usuario, biblioteca de cuadros de diálogo comunes
- capturar la entrada del usuario, la biblioteca de cuadros de diálogo comunes
- Biblioteca de cuadros de diálogo comunes
- cuadros de diálogo comunes
- Cuadro de diálogo Color
- Color parcial (cuadro de diálogo)
- Color completo (cuadro de diálogo)
- cuadro de diálogo personalizar color
- Modelo de color RGB
- Modelo de color HSL
- matiz saturación luminosidad (HSL)
- HSL (luminosidad de saturación de matiz)
- RGB (rojo verde azul)
- azul verde rojo (RGB)
- enlaces, color (cuadro de diálogo)
- cuadros de diálogo predefinidos
- cuadros de diálogo, color
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4bb90150f49ea7bed4edac53af40ba89e0459946
ms.sourcegitcommit: 56f8e4d5119e5018363fa2dc3472cdff203c6913
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/19/2020
ms.locfileid: "104567925"
---
# <a name="color-dialog-box"></a><span data-ttu-id="27027-120">Cuadro de diálogo Color</span><span class="sxs-lookup"><span data-stu-id="27027-120">Color Dialog Box</span></span>

<span data-ttu-id="27027-121">Muestra un cuadro de diálogo modal que permite al usuario elegir un valor de color específico.</span><span class="sxs-lookup"><span data-stu-id="27027-121">Displays a modal dialog box that allows the user to choose a specific color value.</span></span> <span data-ttu-id="27027-122">El usuario puede elegir un color de un conjunto de paletas de colores básico o personalizado.</span><span class="sxs-lookup"><span data-stu-id="27027-122">The user can choose a color from either a set of basic or custom color palettes.</span></span> <span data-ttu-id="27027-123">Como alternativa, el usuario puede generar un valor de color mediante la modificación de los valores de color RGB o Hue, saturación y luminosidad (HSL) de la interfaz de usuario del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="27027-123">Alternatively, the user can generate a color value by modifying the RGB or hue, saturation, luminosity (HSL) color values of the dialog box user interface.</span></span> <span data-ttu-id="27027-124">El cuadro de diálogo **color** devuelve el valor RGB del color seleccionado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="27027-124">The **Color** dialog box returns the RGB value of the color selected by the user.</span></span>

<span data-ttu-id="27027-125">Puede crear y mostrar un cuadro de diálogo de **color** inicializando una estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) y pasando la estructura a la función [**las choosecolor.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="27027-125">You create and display a **Color** dialog box by initializing a [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure and passing the structure to the [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function.</span></span> <span data-ttu-id="27027-126">Al establecer distintos valores de parámetro para la estructura **las choosecolor.** , puede afectar al modo en que se muestra el cuadro de diálogo color.</span><span class="sxs-lookup"><span data-stu-id="27027-126">By setting different parameter values for the **CHOOSECOLOR** structure, you can affect how the Color dialog box appears.</span></span> <span data-ttu-id="27027-127">Por ejemplo, puede mostrar una versión de la interfaz de usuario completa o parcial del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="27027-127">For example, you can display either a full or partial user interface version of the dialog box.</span></span> <span data-ttu-id="27027-128">En la ilustración siguiente se muestra la versión completa de la interfaz de usuario del cuadro de diálogo **color** .</span><span class="sxs-lookup"><span data-stu-id="27027-128">The following illustration shows the full user interface version of the **Color** dialog box.</span></span>

![cuadro de diálogo de colores](images/colordialogboxxp.png)

<span data-ttu-id="27027-130">Si el usuario hace clic en el botón **Aceptar** , [**las choosecolor.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) devuelve **true**.</span><span class="sxs-lookup"><span data-stu-id="27027-130">If the user clicks the **OK** button, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **TRUE**.</span></span> <span data-ttu-id="27027-131">El miembro **rgbResult** de la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) contiene el valor de color RGB del color seleccionado por el usuario.</span><span class="sxs-lookup"><span data-stu-id="27027-131">The **rgbResult** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure contains the RGB color value of the color selected by the user.</span></span> <span data-ttu-id="27027-132">El valor de color RGB especifica las intensidades de los colores rojo, verde y azul individuales que componen el color seleccionado.</span><span class="sxs-lookup"><span data-stu-id="27027-132">The RGB color value specifies the intensities of the individual red, green, and blue colors that make up the selected color.</span></span> <span data-ttu-id="27027-133">Los valores individuales van del 0 al 255.</span><span class="sxs-lookup"><span data-stu-id="27027-133">The individual values range from 0 through 255.</span></span> <span data-ttu-id="27027-134">Use las macros [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue)y [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) para extraer colores individuales de un valor de color RGB.</span><span class="sxs-lookup"><span data-stu-id="27027-134">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue), and [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) macros to extract individual colors from an RGB color value.</span></span>

<span data-ttu-id="27027-135">Si el usuario cancela el cuadro de diálogo de **color** o se produce un error, [**las choosecolor.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) devuelve **false** y no se define el miembro **rgbResult** .</span><span class="sxs-lookup"><span data-stu-id="27027-135">If the user cancels the **Color** dialog box or an error occurs, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **FALSE** and the **rgbResult** member is not defined.</span></span> <span data-ttu-id="27027-136">Para determinar la causa del error, llame a la función [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) para recuperar el valor de error extendido.</span><span class="sxs-lookup"><span data-stu-id="27027-136">To determine the cause of the error, call the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="27027-137">En esta sección se describen los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="27027-137">The following subjects are covered in this section</span></span>

-   [<span data-ttu-id="27027-138">Cuadros de diálogo de color completo y parcial</span><span class="sxs-lookup"><span data-stu-id="27027-138">Full and Partial Color Dialog Boxes</span></span>](#full-and-partial-color-dialog-boxes)
-   [<span data-ttu-id="27027-139">Personalización del cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-139">Customizing the Color Dialog Box</span></span>](#customizing-the-color-dialog-box)
    -   [<span data-ttu-id="27027-140">Para proporcionar una plantilla personalizada para el cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-140">To provide a custom template for the Color dialog box</span></span>](#to-provide-a-custom-template-for-the-color-dialog-box)
    -   [<span data-ttu-id="27027-141">Para habilitar un procedimiento de enlace para el cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-141">To enable a hook procedure for the Color dialog box</span></span>](#to-enable-a-hook-procedure-for-the-color-dialog-box)
-   [<span data-ttu-id="27027-142">Modelos de color utilizados por el cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-142">Color Models Used by the Color Dialog Box</span></span>](#color-models-used-by-the-color-dialog-box)
    -   [<span data-ttu-id="27027-143">Modelo de color RGB</span><span class="sxs-lookup"><span data-stu-id="27027-143">RGB Color Model</span></span>](#rgb-color-model)
    -   [<span data-ttu-id="27027-144">Modelo de color HSL</span><span class="sxs-lookup"><span data-stu-id="27027-144">HSL Color Model</span></span>](#hsl-color-model)
    -   [<span data-ttu-id="27027-145">Convertir valores HSL en valores RGB</span><span class="sxs-lookup"><span data-stu-id="27027-145">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

## <a name="full-and-partial-color-dialog-boxes"></a><span data-ttu-id="27027-146">Cuadros de diálogo de color completo y parcial</span><span class="sxs-lookup"><span data-stu-id="27027-146">Full and Partial Color Dialog Boxes</span></span>

<span data-ttu-id="27027-147">El cuadro de diálogo color tiene una versión completa y una versión parcial de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="27027-147">The Color dialog box has a full version and a partial version of the user interface.</span></span> <span data-ttu-id="27027-148">La versión completa incluye los controles básicos y tiene controles adicionales que permiten al usuario crear colores personalizados.</span><span class="sxs-lookup"><span data-stu-id="27027-148">The full version includes the basic controls and has additional controls that allow the user to create custom colors.</span></span> <span data-ttu-id="27027-149">La versión parcial tiene controles que muestran las paletas de colores básicas y personalizadas desde las que el usuario puede seleccionar un valor de color.</span><span class="sxs-lookup"><span data-stu-id="27027-149">The partial version has controls that display the basic and custom color palettes from which the user can select a color value.</span></span>

<span data-ttu-id="27027-150">La versión parcial del cuadro de diálogo color incluye un botón **definir colores personalizados** .</span><span class="sxs-lookup"><span data-stu-id="27027-150">The partial version of the Color dialog box includes a **Define Custom Colors** button.</span></span> <span data-ttu-id="27027-151">El usuario puede hacer clic en este botón para mostrar la versión completa.</span><span class="sxs-lookup"><span data-stu-id="27027-151">The user can click this button to display the full version.</span></span> <span data-ttu-id="27027-152">Puede dirigir el cuadro de diálogo color para mostrar siempre la versión completa estableciendo la marca **\_ FULLOPEN de CC** en el miembro **Flags** de la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="27027-152">You can direct the Color dialog box to always display the full version by setting the **CC\_FULLOPEN** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="27027-153">Para evitar que el usuario cree colores personalizados, puede establecer la marca **\_ PREVENTFULLOPEN de CC** para deshabilitar el botón **definir colores personalizados** .</span><span class="sxs-lookup"><span data-stu-id="27027-153">To prevent the user from creating custom colors, you can set the **CC\_PREVENTFULLOPEN** flag to disable the **Define Custom Colors** button.</span></span>

<span data-ttu-id="27027-154">Los colores básicos representan una selección de los colores disponibles en el dispositivo especificado.</span><span class="sxs-lookup"><span data-stu-id="27027-154">The basic colors represent a selection of the colors available on the specified device.</span></span> <span data-ttu-id="27027-155">El número real de colores mostrados viene determinado por el controlador de pantalla.</span><span class="sxs-lookup"><span data-stu-id="27027-155">The actual number of colors displayed is determined by the display driver.</span></span> <span data-ttu-id="27027-156">Por ejemplo, un controlador VGA muestra 48 colores y un controlador de pantalla monocromo muestra solo 16.</span><span class="sxs-lookup"><span data-stu-id="27027-156">For example, a VGA driver displays 48 colors, and a monochrome display driver displays only 16.</span></span>

<span data-ttu-id="27027-157">Los colores personalizados son los que se especifican o que el usuario crea.</span><span class="sxs-lookup"><span data-stu-id="27027-157">The custom colors are those that you specify or that the user creates.</span></span> <span data-ttu-id="27027-158">Al crear un cuadro de diálogo de color, debe usar el miembro **lpCustColors** de la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) para especificar los valores iniciales de los 16 colores personalizados.</span><span class="sxs-lookup"><span data-stu-id="27027-158">When you create a Color dialog box, you must use the **lpCustColors** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to specify the initial values for the 16 custom colors.</span></span> <span data-ttu-id="27027-159">Si está abierta la versión completa del cuadro de diálogo color, el usuario puede crear un color personalizado mediante uno de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="27027-159">If the full version of the Color dialog box is open, the user can create a custom color by one the following methods:</span></span>

-   <span data-ttu-id="27027-160">Mover el cursor en el control de espectro de color y el control deslizante de luminosidad</span><span class="sxs-lookup"><span data-stu-id="27027-160">Moving the cursor in the color spectrum control and the luminosity slide control</span></span>
-   <span data-ttu-id="27027-161">Escribir valores RGB en los controles de edición **rojo**, **verde** y **azul**</span><span class="sxs-lookup"><span data-stu-id="27027-161">Typing RGB values in the **Red**, **Green**, and **Blue** edit controls</span></span>
-   <span data-ttu-id="27027-162">Escribir valores HSL en los controles **Hue**, **SAT** y **Lum** Edit</span><span class="sxs-lookup"><span data-stu-id="27027-162">Typing HSL values in the **Hue**, **Sat**, and **Lum** edit controls</span></span>

<span data-ttu-id="27027-163">Para agregar un nuevo color personalizado a la presentación de los colores personalizados, el usuario puede hacer clic en el botón **Agregar a los colores personalizados** .</span><span class="sxs-lookup"><span data-stu-id="27027-163">To add a new custom color to the custom colors display, the user can click the **Add to Custom Colors** button.</span></span> <span data-ttu-id="27027-164">Esto también hace que el cuadro de diálogo copie el valor RGB del nuevo color en el elemento correspondiente de la matriz a la que señala el miembro **lpCustColors** .</span><span class="sxs-lookup"><span data-stu-id="27027-164">This also causes the dialog box to copy the RGB value of the new color to the corresponding element in the array pointed to by the **lpCustColors** member.</span></span> <span data-ttu-id="27027-165">Para conservar los nuevos colores personalizados entre las llamadas a [**las choosecolor.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)), debe asignar la memoria estática para la matriz.</span><span class="sxs-lookup"><span data-stu-id="27027-165">To preserve new custom colors between calls to [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)), you should allocate static memory for the array.</span></span> <span data-ttu-id="27027-166">Para obtener más información sobre los modelos de color RGB y HSL, vea [modelos de color utilizados por el cuadro de diálogo color](#color-models-used-by-the-color-dialog-box).</span><span class="sxs-lookup"><span data-stu-id="27027-166">For more information about the RGB and HSL color models, see [Color Models Used by the Color Dialog Box](#color-models-used-by-the-color-dialog-box).</span></span>

## <a name="customizing-the-color-dialog-box"></a><span data-ttu-id="27027-167">Personalización del cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-167">Customizing the Color Dialog Box</span></span>

<span data-ttu-id="27027-168">Para personalizar un cuadro de diálogo de color, puede utilizar cualquiera de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="27027-168">To customize a Color dialog box, you can use any of the following methods:</span></span>

-   <span data-ttu-id="27027-169">Especificar valores en la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) al crear el cuadro de diálogo</span><span class="sxs-lookup"><span data-stu-id="27027-169">Specify values in the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure when you create the dialog box</span></span>
-   <span data-ttu-id="27027-170">Proporcionar una plantilla personalizada</span><span class="sxs-lookup"><span data-stu-id="27027-170">Provide a custom template</span></span>
-   <span data-ttu-id="27027-171">Proporcionar un procedimiento de enlace</span><span class="sxs-lookup"><span data-stu-id="27027-171">Provide a hook procedure</span></span>

<span data-ttu-id="27027-172">Puede modificar la apariencia y el comportamiento del cuadro de diálogo color estableciendo marcas en el miembro **Flags** de la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="27027-172">You can modify the appearance and behavior of the Color dialog box by setting flags in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="27027-173">Por ejemplo, puede establecer la marca **CC \_ SOLIDCOLOR** para dirigir el cuadro de diálogo para mostrar solo colores sólidos.</span><span class="sxs-lookup"><span data-stu-id="27027-173">For example, you can set the **CC\_SOLIDCOLOR** flag to direct the dialog box to display only solid colors.</span></span> <span data-ttu-id="27027-174">Para hacer que el cuadro de diálogo Seleccione inicialmente un color que no sea el negro, establezca la marca **\_ RGBINIT de CC** y especifique un color en el miembro **rgbResult** .</span><span class="sxs-lookup"><span data-stu-id="27027-174">To cause the dialog box to initially select a color other than black, set the **CC\_RGBINIT** flag and specify a color in the **rgbResult** member.</span></span>

<span data-ttu-id="27027-175">Puede proporcionar una plantilla personalizada para el cuadro de diálogo color, por ejemplo, si desea incluir controles adicionales que sean únicos para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="27027-175">You can provide a custom template for the Color dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="27027-176">La función [**las choosecolor.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) usa la plantilla personalizada en lugar de la plantilla predeterminada.</span><span class="sxs-lookup"><span data-stu-id="27027-176">The [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function uses your custom template in place of the default template.</span></span>

### <a name="to-provide-a-custom-template-for-the-color-dialog-box"></a><span data-ttu-id="27027-177">Para proporcionar una plantilla personalizada para el cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-177">To provide a custom template for the Color dialog box</span></span>

1.  <span data-ttu-id="27027-178">Cree la plantilla personalizada modificando la plantilla predeterminada especificada en el archivo color. Dlg.</span><span class="sxs-lookup"><span data-stu-id="27027-178">Create the custom template by modifying the default template specified in the Color.dlg file.</span></span> <span data-ttu-id="27027-179">Los identificadores de control que se usan en la plantilla de cuadro de diálogo color predeterminado se definen en el archivo color. Dlg.</span><span class="sxs-lookup"><span data-stu-id="27027-179">The control identifiers used in the default Color dialog template are defined in the Color.dlg file.</span></span>
2.  <span data-ttu-id="27027-180">Use la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) para habilitar la plantilla de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="27027-180">Use the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="27027-181">Si la plantilla personalizada es un recurso de una aplicación o una biblioteca de vínculos dinámicos, establezca la marca **\_ ENABLETEMPLATE de CC** en el miembro **Flags** .</span><span class="sxs-lookup"><span data-stu-id="27027-181">If your custom template is a resource in an application or dynamic link library, set the **CC\_ENABLETEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="27027-182">Use los miembros **hInstance** y **lpTemplateName** de la estructura para identificar el nombre del módulo y del recurso.</span><span class="sxs-lookup"><span data-stu-id="27027-182">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>

        <span data-ttu-id="27027-183">-O bien-</span><span class="sxs-lookup"><span data-stu-id="27027-183">-Or-</span></span>

    -   <span data-ttu-id="27027-184">Si la plantilla personalizada ya está en la memoria, establezca la marca **\_ ENABLETEMPLATEHANDLE de CC** .</span><span class="sxs-lookup"><span data-stu-id="27027-184">If your custom template is already in memory, set the **CC\_ENABLETEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="27027-185">Use el miembro **hInstance** para identificar el objeto de memoria que contiene la plantilla.</span><span class="sxs-lookup"><span data-stu-id="27027-185">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="27027-186">Puede proporcionar un procedimiento de enlace [**CCHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) para el cuadro de diálogo color.</span><span class="sxs-lookup"><span data-stu-id="27027-186">You can provide a [**CCHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) hook procedure for the Color dialog box.</span></span> <span data-ttu-id="27027-187">El procedimiento de enlace puede procesar los mensajes enviados al cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="27027-187">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="27027-188">También puede utilizar mensajes registrados para controlar el comportamiento del cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="27027-188">It can also use registered messages to control the behavior of the dialog box.</span></span> <span data-ttu-id="27027-189">Si usa una plantilla personalizada para definir controles adicionales, debe proporcionar un procedimiento de enlace para procesar la entrada para los controles.</span><span class="sxs-lookup"><span data-stu-id="27027-189">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

### <a name="to-enable-a-hook-procedure-for-the-color-dialog-box"></a><span data-ttu-id="27027-190">Para habilitar un procedimiento de enlace para el cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-190">To enable a hook procedure for the Color dialog box</span></span>

1.  <span data-ttu-id="27027-191">Establezca la **marca \_ ENABLEHOOK de CC** en el miembro **Flags** de la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="27027-191">Set the **CC\_ENABLEHOOK** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span>
2.  <span data-ttu-id="27027-192">Especifique la dirección del procedimiento de enlace en el miembro **lpfnHook** .</span><span class="sxs-lookup"><span data-stu-id="27027-192">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="27027-193">Después de procesar el mensaje de [**\_ INITDIALOG de WM**](wm-initdialog.md) , el procedimiento de cuadro de diálogo envía un mensaje de **WM \_ INITDIALOG** al procedimiento de enlace.</span><span class="sxs-lookup"><span data-stu-id="27027-193">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="27027-194">El parámetro *lParam* de este mensaje es un puntero a la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) que se usa para inicializar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="27027-194">The *lParam* parameter of this message is a pointer to the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure used to initialize the dialog box.</span></span>

<span data-ttu-id="27027-195">El cuadro de diálogo envía el mensaje registrado [**COLOROKSTRING**](colorokstring.md) al procedimiento de enlace cuando el usuario hace clic en el botón **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="27027-195">The dialog box sends the [**COLOROKSTRING**](colorokstring.md) registered message to the hook procedure when the user clicks the **OK** button.</span></span> <span data-ttu-id="27027-196">El procedimiento de enlace puede rechazar el color seleccionado y forzar que el cuadro de diálogo permanezca abierto devolviendo cero cuando recibe este mensaje.</span><span class="sxs-lookup"><span data-stu-id="27027-196">The hook procedure can reject the selected color and force the dialog box to remain open by returning zero when it receives this message.</span></span> <span data-ttu-id="27027-197">El procedimiento de enlace puede hacer que el cuadro de diálogo Seleccione un color determinado mediante el envío del mensaje registrado [**SETRGBSTRING**](setrgbstring.md) al cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="27027-197">The hook procedure can force the dialog box to select a particular color by sending the [**SETRGBSTRING**](setrgbstring.md) registered message to the dialog box.</span></span> <span data-ttu-id="27027-198">Para usar estos mensajes registrados, debe pasar las constantes **COLOROKSTRING** y **SETRGBSTRING** a la función [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) para obtener un identificador de mensaje.</span><span class="sxs-lookup"><span data-stu-id="27027-198">To use these registered messages, you must pass the **COLOROKSTRING** and **SETRGBSTRING** constants to the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function to get a message identifier.</span></span> <span data-ttu-id="27027-199">A continuación, puede utilizar el identificador para detectar y procesar los mensajes enviados desde el cuadro de diálogo, o para enviar mensajes al cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="27027-199">You can then use the identifier to detect and process messages sent from the dialog box, or to send messages to the dialog box.</span></span>

## <a name="color-models-used-by-the-color-dialog-box"></a><span data-ttu-id="27027-200">Modelos de color utilizados por el cuadro de diálogo color</span><span class="sxs-lookup"><span data-stu-id="27027-200">Color Models Used by the Color Dialog Box</span></span>

<span data-ttu-id="27027-201">La extensión de colores personalizados del cuadro de diálogo color permite al usuario especificar un color con los valores RGB o HSL.</span><span class="sxs-lookup"><span data-stu-id="27027-201">The custom colors extension of the Color dialog box allows the user to specify a color using RGB or HSL values.</span></span> <span data-ttu-id="27027-202">Sin embargo, la estructura [**las choosecolor.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) solo usa valores RGB para informar de los colores creados o seleccionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="27027-202">However, the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure uses only RGB values to report the colors created or selected by the user.</span></span>

-   [<span data-ttu-id="27027-203">Modelo de color RGB</span><span class="sxs-lookup"><span data-stu-id="27027-203">RGB Color Model</span></span>](#rgb-color-model)
-   [<span data-ttu-id="27027-204">Modelo de color HSL</span><span class="sxs-lookup"><span data-stu-id="27027-204">HSL Color Model</span></span>](#hsl-color-model)
-   [<span data-ttu-id="27027-205">Convertir valores HSL en valores RGB</span><span class="sxs-lookup"><span data-stu-id="27027-205">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

### <a name="rgb-color-model"></a><span data-ttu-id="27027-206">Modelo de color RGB</span><span class="sxs-lookup"><span data-stu-id="27027-206">RGB Color Model</span></span>

<span data-ttu-id="27027-207">El modelo RGB se usa para designar los colores de las pantallas y otros dispositivos que emiten luz.</span><span class="sxs-lookup"><span data-stu-id="27027-207">The RGB model is used to designate colors for displays and other devices that emit light.</span></span> <span data-ttu-id="27027-208">Los valores de rojo, verde y azul válidos van de 0 a 255, donde 0 indica la intensidad mínima y 255 indica la intensidad máxima.</span><span class="sxs-lookup"><span data-stu-id="27027-208">Valid red, green, and blue values range from 0 through 255, with 0 indicating minimum intensity and 255 indicating maximum intensity.</span></span> <span data-ttu-id="27027-209">En la ilustración siguiente se muestra cómo se pueden combinar los colores primarios rojo, verde y azul para producir cuatro colores adicionales.</span><span class="sxs-lookup"><span data-stu-id="27027-209">The following illustration shows how the primary colors red, green, and blue can be combined to produce four additional colors.</span></span> <span data-ttu-id="27027-210">(En el caso de los dispositivos de visualización, el color negro se produce cuando los valores rojo, verde y azul están establecidos en 0.</span><span class="sxs-lookup"><span data-stu-id="27027-210">(For display devices, the color black results when the red, green, and blue values are set to 0.</span></span> <span data-ttu-id="27027-211">En la tecnología de pantalla, el color negro es la ausencia de todos los colores.)</span><span class="sxs-lookup"><span data-stu-id="27027-211">In display technology, black is the absence of all colors.)</span></span>

![círculos rojo, verde y azul](images/rgbcolormodel.png)

<span data-ttu-id="27027-213">En la tabla siguiente se enumeran ocho colores del modelo RGB y sus valores RGB asociados.</span><span class="sxs-lookup"><span data-stu-id="27027-213">The following table lists eight colors of the RGB model and their associated RGB values.</span></span>



| <span data-ttu-id="27027-214">Color</span><span class="sxs-lookup"><span data-stu-id="27027-214">Color</span></span>   | <span data-ttu-id="27027-215">Valores RGB</span><span class="sxs-lookup"><span data-stu-id="27027-215">RGB values</span></span>    |
|---------|---------------|
| <span data-ttu-id="27027-216">Rojo</span><span class="sxs-lookup"><span data-stu-id="27027-216">Red</span></span>     | <span data-ttu-id="27027-217">255, 0, 0</span><span class="sxs-lookup"><span data-stu-id="27027-217">255, 0, 0</span></span>     |
| <span data-ttu-id="27027-218">Verde</span><span class="sxs-lookup"><span data-stu-id="27027-218">Green</span></span>   | <span data-ttu-id="27027-219">0, 255, 0</span><span class="sxs-lookup"><span data-stu-id="27027-219">0, 255, 0</span></span>     |
| <span data-ttu-id="27027-220">Azul</span><span class="sxs-lookup"><span data-stu-id="27027-220">Blue</span></span>    | <span data-ttu-id="27027-221">0, 0, 255</span><span class="sxs-lookup"><span data-stu-id="27027-221">0, 0, 255</span></span>     |
| <span data-ttu-id="27027-222">Cian</span><span class="sxs-lookup"><span data-stu-id="27027-222">Cyan</span></span>    | <span data-ttu-id="27027-223">0, 255, 255</span><span class="sxs-lookup"><span data-stu-id="27027-223">0, 255, 255</span></span>   |
| <span data-ttu-id="27027-224">Fucsia</span><span class="sxs-lookup"><span data-stu-id="27027-224">Magenta</span></span> | <span data-ttu-id="27027-225">255, 0, 255</span><span class="sxs-lookup"><span data-stu-id="27027-225">255, 0, 255</span></span>   |
| <span data-ttu-id="27027-226">Amarillo</span><span class="sxs-lookup"><span data-stu-id="27027-226">Yellow</span></span>  | <span data-ttu-id="27027-227">255, 255, 0</span><span class="sxs-lookup"><span data-stu-id="27027-227">255, 255, 0</span></span>   |
| <span data-ttu-id="27027-228">Blanco</span><span class="sxs-lookup"><span data-stu-id="27027-228">White</span></span>   | <span data-ttu-id="27027-229">255, 255, 255</span><span class="sxs-lookup"><span data-stu-id="27027-229">255, 255, 255</span></span> |
| <span data-ttu-id="27027-230">Negro</span><span class="sxs-lookup"><span data-stu-id="27027-230">Black</span></span>   | <span data-ttu-id="27027-231">0, 0, 0</span><span class="sxs-lookup"><span data-stu-id="27027-231">0, 0, 0</span></span>       |



 

<span data-ttu-id="27027-232">El sistema almacena los colores internos como valores RGB de 32 bits que tienen el formato hexadecimal siguiente: 0x00bbggrr.</span><span class="sxs-lookup"><span data-stu-id="27027-232">The system stores internal colors as 32-bit RGB values that have the following hexadecimal form: 0x00bbggrr.</span></span>

<span data-ttu-id="27027-233">El byte de orden inferior contiene un valor para la intensidad relativa de rojo; el segundo byte contiene un valor para Green; y el tercer byte contiene un valor para Blue.</span><span class="sxs-lookup"><span data-stu-id="27027-233">The low-order byte contains a value for the relative intensity of red; the second byte contains a value for green; and the third byte contains a value for blue.</span></span> <span data-ttu-id="27027-234">El byte de orden superior debe ser cero.</span><span class="sxs-lookup"><span data-stu-id="27027-234">The high-order byte must be zero.</span></span>

<span data-ttu-id="27027-235">Puede usar la macro [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) para obtener un valor RGB basado en las intensidades especificadas para los componentes rojo, verde y azul.</span><span class="sxs-lookup"><span data-stu-id="27027-235">You can use the [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) macro to get an RGB value based on specified intensities for the red, green, and blue components.</span></span> <span data-ttu-id="27027-236">Use las macros [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue)y [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) para extraer colores individuales de un valor de color RGB.</span><span class="sxs-lookup"><span data-stu-id="27027-236">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue), and [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) macros to extract individual colors from an RGB color value.</span></span>

### <a name="hsl-color-model"></a><span data-ttu-id="27027-237">Modelo de color HSL</span><span class="sxs-lookup"><span data-stu-id="27027-237">HSL Color Model</span></span>

<span data-ttu-id="27027-238">El cuadro de diálogo color proporciona controles para especificar los valores HSL.</span><span class="sxs-lookup"><span data-stu-id="27027-238">The Color dialog box provides controls for specifying HSL values.</span></span> <span data-ttu-id="27027-239">En la ilustración siguiente se muestra el control de espectro de color y el control de diapositiva de luminosidad que aparecen en el cuadro de diálogo color.</span><span class="sxs-lookup"><span data-stu-id="27027-239">The following illustration shows the color spectrum control and the luminosity slide control that appear in the Color dialog box.</span></span> <span data-ttu-id="27027-240">La ilustración también muestra los intervalos de valores que el usuario puede especificar con estos controles.</span><span class="sxs-lookup"><span data-stu-id="27027-240">The illustration also shows the ranges of values the user can specify with these controls.</span></span>

![gama de colores y escala de luminosidad](images/colordialogranges.png)

<span data-ttu-id="27027-242">En el cuadro de diálogo color, los valores de saturación y luminosidad deben estar en el intervalo comprendido entre 0 y 240 y el valor de matiz debe estar en el intervalo comprendido entre 0 y 239.</span><span class="sxs-lookup"><span data-stu-id="27027-242">In the Color dialog box, the saturation and luminosity values must be in the range 0 through 240, and the hue value must be in the range 0 through 239.</span></span>

### <a name="converting-hsl-values-to-rgb-values"></a><span data-ttu-id="27027-243">Convertir valores HSL en valores RGB</span><span class="sxs-lookup"><span data-stu-id="27027-243">Converting HSL Values to RGB Values</span></span>

<span data-ttu-id="27027-244">El procedimiento de cuadro de diálogo proporcionado en Comdlg32.dll para el cuadro de diálogo color contiene código que convierte los valores HSL en los valores RGB correspondientes.</span><span class="sxs-lookup"><span data-stu-id="27027-244">The dialog box procedure provided in Comdlg32.dll for the Color dialog box contains code that converts HSL values to the corresponding RGB values.</span></span> <span data-ttu-id="27027-245">En la tabla siguiente se enumeran los ocho colores del modelo RGB y sus valores HSL y RGB asociados.</span><span class="sxs-lookup"><span data-stu-id="27027-245">The following table lists eight colors of the RGB model and their associated HSL and RGB values.</span></span>



| <span data-ttu-id="27027-246">Color</span><span class="sxs-lookup"><span data-stu-id="27027-246">Color</span></span>   | <span data-ttu-id="27027-247">HSL (valores)</span><span class="sxs-lookup"><span data-stu-id="27027-247">HSL values</span></span>      | <span data-ttu-id="27027-248">Valores RGB</span><span class="sxs-lookup"><span data-stu-id="27027-248">RGB values</span></span>      |
|---------|-----------------|-----------------|
| <span data-ttu-id="27027-249">Rojo</span><span class="sxs-lookup"><span data-stu-id="27027-249">Red</span></span>     | <span data-ttu-id="27027-250">(0, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="27027-250">(0, 240, 120)</span></span>   | <span data-ttu-id="27027-251">(255, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="27027-251">(255, 0, 0)</span></span>     |
| <span data-ttu-id="27027-252">Amarillo</span><span class="sxs-lookup"><span data-stu-id="27027-252">Yellow</span></span>  | <span data-ttu-id="27027-253">(40, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="27027-253">(40, 240, 120)</span></span>  | <span data-ttu-id="27027-254">(255, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="27027-254">(255, 255, 0)</span></span>   |
| <span data-ttu-id="27027-255">Verde</span><span class="sxs-lookup"><span data-stu-id="27027-255">Green</span></span>   | <span data-ttu-id="27027-256">(80, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="27027-256">(80, 240, 120)</span></span>  | <span data-ttu-id="27027-257">(0, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="27027-257">(0, 255, 0)</span></span>     |
| <span data-ttu-id="27027-258">Cian</span><span class="sxs-lookup"><span data-stu-id="27027-258">Cyan</span></span>    | <span data-ttu-id="27027-259">(120, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="27027-259">(120, 240, 120)</span></span> | <span data-ttu-id="27027-260">(0, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="27027-260">(0, 255, 255)</span></span>   |
| <span data-ttu-id="27027-261">Azul</span><span class="sxs-lookup"><span data-stu-id="27027-261">Blue</span></span>    | <span data-ttu-id="27027-262">(160, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="27027-262">(160, 240, 120)</span></span> | <span data-ttu-id="27027-263">(0, 0, 255)</span><span class="sxs-lookup"><span data-stu-id="27027-263">(0, 0, 255)</span></span>     |
| <span data-ttu-id="27027-264">Fucsia</span><span class="sxs-lookup"><span data-stu-id="27027-264">Magenta</span></span> | <span data-ttu-id="27027-265">(200, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="27027-265">(200, 240, 120)</span></span> | <span data-ttu-id="27027-266">(255, 0, 255)</span><span class="sxs-lookup"><span data-stu-id="27027-266">(255, 0, 255)</span></span>   |
| <span data-ttu-id="27027-267">Blanco</span><span class="sxs-lookup"><span data-stu-id="27027-267">White</span></span>   | <span data-ttu-id="27027-268">(0, 0, 240)</span><span class="sxs-lookup"><span data-stu-id="27027-268">(0, 0, 240)</span></span>     | <span data-ttu-id="27027-269">(255, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="27027-269">(255, 255, 255)</span></span> |
| <span data-ttu-id="27027-270">Negro</span><span class="sxs-lookup"><span data-stu-id="27027-270">Black</span></span>   | <span data-ttu-id="27027-271">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="27027-271">(0, 0, 0)</span></span>       | <span data-ttu-id="27027-272">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="27027-272">(0, 0, 0)</span></span>       |



 

 

 
