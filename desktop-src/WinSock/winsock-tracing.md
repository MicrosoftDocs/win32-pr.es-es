---
description: Seguimiento de Winsock
ms.assetid: 0c430fc2-28e7-4537-a887-4c36d24fedee
title: Seguimiento de Winsock
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 803be6220d4d2d440811033786b0f043fab0ff9d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105715101"
---
# <a name="winsock-tracing"></a><span data-ttu-id="b201d-103">Seguimiento de Winsock</span><span class="sxs-lookup"><span data-stu-id="b201d-103">Winsock Tracing</span></span>

## <a name="introduction"></a><span data-ttu-id="b201d-104">Introducción</span><span class="sxs-lookup"><span data-stu-id="b201d-104">Introduction</span></span>

<span data-ttu-id="b201d-105">El seguimiento de Winsock es una característica de solución de problemas que se puede habilitar en los archivos binarios de venta directa para realizar un seguimiento de determinados eventos de Windows socket con una sobrecarga mínima.</span><span class="sxs-lookup"><span data-stu-id="b201d-105">Winsock tracing is a troubleshooting feature that can be enabled in retail binaries to trace certain Windows socket events with minimal overhead.</span></span> <span data-ttu-id="b201d-106">El objetivo de agregar el seguimiento comercial a Windows Sockets es permitir una mejor funcionalidad de diagnóstico para desarrolladores y soporte técnico.</span><span class="sxs-lookup"><span data-stu-id="b201d-106">The goal of adding retail tracing to Windows Sockets is to allow for better diagnostic capabilities for developers and product support.</span></span> <span data-ttu-id="b201d-107">El seguimiento de eventos de red Winsock admite operaciones de socket de seguimiento para aplicaciones IPv4 e IPv6.</span><span class="sxs-lookup"><span data-stu-id="b201d-107">Winsock network event tracing supports tracing socket operations for IPv4 and IPv6 applications.</span></span> <span data-ttu-id="b201d-108">El seguimiento de cambios del catálogo Winsock admite los cambios de seguimiento realizados en el catálogo Winsock por proveedores de servicios por capas (LSP).</span><span class="sxs-lookup"><span data-stu-id="b201d-108">Winsock catalog change tracing supports tracing changes made to the Winsock catalog by layered service providers (LSPs).</span></span> <span data-ttu-id="b201d-109">El seguimiento de Winsock es compatible con Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="b201d-109">Winsock tracing is supported on Windows Vista and later.</span></span>

> [!Note]  
> <span data-ttu-id="b201d-110">Los proveedores de servicios superpuestos están desusados.</span><span class="sxs-lookup"><span data-stu-id="b201d-110">Layered Service Providers are deprecated.</span></span> <span data-ttu-id="b201d-111">A partir de Windows 8 y Windows Server 2012, use la [plataforma de filtrado de Windows](../fwp/windows-filtering-platform-start-page.md).</span><span class="sxs-lookup"><span data-stu-id="b201d-111">Starting with Windows 8 and Windows Server 2012, use [Windows Filtering Platform](../fwp/windows-filtering-platform-start-page.md).</span></span>

 

<span data-ttu-id="b201d-112">Cuando se produce un error inesperado en un socket, la pista principal para diagnosticar el problema es el código de error devuelto.</span><span class="sxs-lookup"><span data-stu-id="b201d-112">When an unexpected error occurs on a socket, the main clue to diagnose the problem is the error code returned.</span></span> <span data-ttu-id="b201d-113">Con mucha frecuencia, el código de error devuelto no explica por qué se produjo el error, especialmente cuando el transporte de red subyacente inicia el error.</span><span class="sxs-lookup"><span data-stu-id="b201d-113">Very often, the returned error code does not explain why the error happened, especially when the error is initiated by the underlying network transport.</span></span> <span data-ttu-id="b201d-114">El seguimiento de Winsock proporciona un nivel de seguimiento más detallado que puede registrar información adicional para detectar daños en el búfer y aplicaciones mal escritas.</span><span class="sxs-lookup"><span data-stu-id="b201d-114">Winsock tracing provides a more verbose tracing level which can log additional information to catch buffer corruption and poorly written applications.</span></span>

<span data-ttu-id="b201d-115">El seguimiento de Winsock usa el seguimiento de eventos para Windows (ETW), un servicio de seguimiento de alta velocidad y de uso general que proporciona el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="b201d-115">Winsock tracing uses Event Tracing for Windows (ETW), a general-purpose, high-speed tracing facility provided by the operating system.</span></span> <span data-ttu-id="b201d-116">Mediante el uso de un mecanismo de almacenamiento en búfer y registro implementado en el kernel, ETW proporciona un mecanismo de seguimiento para los eventos generados por las aplicaciones de modo de usuario y los controladores de dispositivos de modo kernel.</span><span class="sxs-lookup"><span data-stu-id="b201d-116">Using a buffering and logging mechanism implemented in the kernel, ETW provides a tracing mechanism for events raised by both user-mode applications and kernel-mode device drivers.</span></span> <span data-ttu-id="b201d-117">Además, ETW ofrece la posibilidad de habilitar y deshabilitar el registro de forma dinámica, lo que facilita la realización de un seguimiento detallado en entornos de producción sin necesidad de reinicios o reinicios de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="b201d-117">Additionally, ETW gives you the ability to enable and disable logging dynamically, making it easy to perform detailed tracing in production environments without requiring reboots or application restarts.</span></span> <span data-ttu-id="b201d-118">El mecanismo de registro utiliza búferes que un subproceso de escritura asincrónica escribe en el disco.</span><span class="sxs-lookup"><span data-stu-id="b201d-118">The logging mechanism uses buffers that are written to disk by an asynchronous writer thread.</span></span> <span data-ttu-id="b201d-119">Esto permite que las aplicaciones de servidor a gran escala escriban eventos con una perturbación mínima.</span><span class="sxs-lookup"><span data-stu-id="b201d-119">This allows large-scale server applications to write events with minimum disturbance.</span></span> <span data-ttu-id="b201d-120">ETW se presentó por primera vez en Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="b201d-120">ETW was first introduced on Windows 2000.</span></span> <span data-ttu-id="b201d-121">Se ha agregado compatibilidad con el seguimiento de Winsock mediante ETW en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="b201d-121">Support for Winsock tracing using ETW was added on Windows Vista and later.</span></span> <span data-ttu-id="b201d-122">Para obtener información general sobre ETW, vea [mejorar la depuración y el ajuste del rendimiento con ETW](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw).</span><span class="sxs-lookup"><span data-stu-id="b201d-122">For general information on ETW, see [Improve Debugging And Performance Tuning With ETW](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw).</span></span>

<span data-ttu-id="b201d-123">El seguimiento de Winsock solo se puede habilitar en el nivel de sistema operativo para todos los procesos y subprocesos que se ejecutan en un equipo.</span><span class="sxs-lookup"><span data-stu-id="b201d-123">Winsock tracing can only be enabled at the operating system level for all processes and threads running on a computer.</span></span> <span data-ttu-id="b201d-124">Actualmente no se puede habilitar el seguimiento de Winsock para un único proceso o subproceso.</span><span class="sxs-lookup"><span data-stu-id="b201d-124">Winsock tracing currently cannot be enabled for just a single process or thread.</span></span> <span data-ttu-id="b201d-125">Cuando se habilita el seguimiento de eventos de red Winsock, se realiza un seguimiento de todas las aplicaciones de socket (IPv4 e IPv6) de un equipo.</span><span class="sxs-lookup"><span data-stu-id="b201d-125">When Winsock network event tracing is enabled, all socket applications (both IPv4 and IPv6) on a computer are traced.</span></span>

<span data-ttu-id="b201d-126">En los temas siguientes se describe con más detalle el seguimiento de Winsock:</span><span class="sxs-lookup"><span data-stu-id="b201d-126">The following topics describe Winsock tracing in more detail:</span></span>

-   [<span data-ttu-id="b201d-127">Niveles de seguimiento de Winsock</span><span class="sxs-lookup"><span data-stu-id="b201d-127">Winsock Tracing Levels</span></span>](winsock-tracing-levels.md)
-   [<span data-ttu-id="b201d-128">Control de seguimiento de Winsock</span><span class="sxs-lookup"><span data-stu-id="b201d-128">Control of Winsock Tracing</span></span>](control-of-winsock-tracing.md)
-   [<span data-ttu-id="b201d-129">Detalles de seguimiento de eventos de red Winsock</span><span class="sxs-lookup"><span data-stu-id="b201d-129">Winsock Network Event Tracing Details</span></span>](winsock-tracing-event-details.md)
-   [<span data-ttu-id="b201d-130">Detalles de seguimiento de cambios de catálogo Winsock</span><span class="sxs-lookup"><span data-stu-id="b201d-130">Winsock Catalog Change Tracing Details</span></span>](winsock-layered-service-provider-tracing-event-details.md)

## <a name="related-topics"></a><span data-ttu-id="b201d-131">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="b201d-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b201d-132">Mejorar la depuración y el ajuste del rendimiento con ETW</span><span class="sxs-lookup"><span data-stu-id="b201d-132">Improve Debugging And Performance Tuning With ETW</span></span>](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw)
</dt> <dt>

[<span data-ttu-id="b201d-133">Funciones de depuración y seguimiento</span><span class="sxs-lookup"><span data-stu-id="b201d-133">Debug and Trace Facilities</span></span>](debug-and-trace-facilities-2.md)
</dt> </dl>

 

 
