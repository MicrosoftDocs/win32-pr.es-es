---
title: Dispositivos y tipos de datos
description: Dispositivos y tipos de datos
ms.assetid: 46247983-19c3-4c7a-a615-ba6cd8bd3289
keywords:
- audio de onda, abrir dispositivos de salida
- 'onda: interfaz de audio, abrir dispositivos de salida'
- apertura de los dispositivos de salida de audio de onda
- audio de onda, consulta de dispositivos de salida
- 'onda: interfaz de audio, consulta de dispositivos de salida'
- consultar los dispositivos de salida de onda-audio
- audio de la onda, identificadores de dispositivo
- 'onda: interfaz de audio y controladores de dispositivo'
- audio de la onda, identificadores de dispositivo
- 'onda: interfaz de audio, identificadores de dispositivo'
- audio de la onda, tipos de datos de salida
- 'onda: interfaz de audio, tipos de datos de salida'
- audio de una onda, formatos de datos
- 'onda: interfaz de audio, formatos de datos'
- escribir datos de audio de onda
- audio de onda, escritura de datos
- 'onda: interfaz de audio, escritura de datos'
- Onda PCM-datos de audio
- audio de una onda, datos PCM
- 'onda: interfaz de audio, datos PCM'
- audio de onda, cerrar dispositivos de salida
- 'onda: interfaz de audio, cierre de dispositivos de salida'
- 'cerrar la onda: dispositivos de salida de audio'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 29561a74695fb8bde950e2e75a430803a1a0351b
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "105651368"
---
# <a name="devices-and-data-types"></a><span data-ttu-id="d633a-126">Dispositivos y tipos de datos</span><span class="sxs-lookup"><span data-stu-id="d633a-126">Devices and Data Types</span></span>

<span data-ttu-id="d633a-127">En esta sección se describe cómo trabajar con dispositivos de audio de forma de onda y se incluye información sobre cómo abrirlos, cerrarlos y consultarlos en busca de sus capacidades.</span><span class="sxs-lookup"><span data-stu-id="d633a-127">This section describes working with waveform-audio devices, and includes information on how to open, close and query them for their capabilities.</span></span> <span data-ttu-id="d633a-128">También se describe cómo realizar un seguimiento de los dispositivos de un sistema mediante el uso de identificadores de dispositivo e identificadores de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-128">It also describes how to keep track of the devices in a system by using device handles and device identifiers.</span></span>

## <a name="opening-waveform-audio-output-devices"></a><span data-ttu-id="d633a-129">Apertura de Waveform-Audio dispositivos de salida</span><span class="sxs-lookup"><span data-stu-id="d633a-129">Opening Waveform-Audio Output Devices</span></span>

<span data-ttu-id="d633a-130">Use la función [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) para abrir un dispositivo de salida de onda y audio para la reproducción.</span><span class="sxs-lookup"><span data-stu-id="d633a-130">Use the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a waveform-audio output device for playback.</span></span> <span data-ttu-id="d633a-131">Esta función abre el dispositivo asociado al identificador de dispositivo especificado y devuelve un identificador del dispositivo abierto escribiendo el identificador de una ubicación de memoria especificada.</span><span class="sxs-lookup"><span data-stu-id="d633a-131">This function opens the device associated with the specified device identifier and returns a handle of the open device by writing the handle of a specified memory location.</span></span>

<span data-ttu-id="d633a-132">Algunos equipos multimedia tienen varios dispositivos de salida de onda-audio.</span><span class="sxs-lookup"><span data-stu-id="d633a-132">Some multimedia computers have multiple waveform-audio output devices.</span></span> <span data-ttu-id="d633a-133">A menos que desee abrir un dispositivo de salida de onda de onda específico en un sistema, debe usar la \_ marca del asignador de onda para el identificador de dispositivo al abrir un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-133">Unless you want to open a specific waveform-audio output device in a system, you should use the WAVE\_MAPPER flag for the device identifier when you open a device.</span></span> <span data-ttu-id="d633a-134">La función **waveOutOpen** elige el dispositivo en el sistema que es mejor capaz de reproducir el formato de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="d633a-134">The **waveOutOpen** function chooses the device in the system that is best able to play the specified data format.</span></span>

## <a name="querying-audio-devices"></a><span data-ttu-id="d633a-135">Consultar dispositivos de audio</span><span class="sxs-lookup"><span data-stu-id="d633a-135">Querying Audio Devices</span></span>

<span data-ttu-id="d633a-136">Windows proporciona las siguientes funciones para determinar el número de dispositivos de un tipo determinado que están disponibles en un sistema.</span><span class="sxs-lookup"><span data-stu-id="d633a-136">Windows provides the following functions to determine how many devices of a certain type are available in a system.</span></span>



| <span data-ttu-id="d633a-137">Función</span><span class="sxs-lookup"><span data-stu-id="d633a-137">Function</span></span>                                       | <span data-ttu-id="d633a-138">Descripción</span><span class="sxs-lookup"><span data-stu-id="d633a-138">Description</span></span>                                                                  |
|------------------------------------------------|------------------------------------------------------------------------------|
| [<span data-ttu-id="d633a-139">**auxGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="d633a-139">**auxGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs)         | <span data-ttu-id="d633a-140">Recupera el número de dispositivos de salida auxiliares presentes en el sistema.</span><span class="sxs-lookup"><span data-stu-id="d633a-140">Retrieves the number of auxiliary output devices present in the system.</span></span>      |
| [<span data-ttu-id="d633a-141">**waveInGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="d633a-141">**waveInGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)   | <span data-ttu-id="d633a-142">Recupera el número de dispositivos de entrada de audio de onda presentes en el sistema.</span><span class="sxs-lookup"><span data-stu-id="d633a-142">Retrieves the number of waveform-audio input devices present in the system.</span></span>  |
| [<span data-ttu-id="d633a-143">**waveOutGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="d633a-143">**waveOutGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) | <span data-ttu-id="d633a-144">Recupera el número de dispositivos de salida de onda y audio presentes en el sistema.</span><span class="sxs-lookup"><span data-stu-id="d633a-144">Retrieves the number of waveform-audio output devices present in the system.</span></span> |



 

<span data-ttu-id="d633a-145">Los dispositivos de audio se identifican mediante un identificador de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-145">Audio devices are identified by a device identifier.</span></span> <span data-ttu-id="d633a-146">El identificador de dispositivo se determina implícitamente a partir del número de dispositivos presentes en un sistema.</span><span class="sxs-lookup"><span data-stu-id="d633a-146">The device identifier is determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="d633a-147">Los identificadores de dispositivo van desde cero hasta uno menos que el número de dispositivos presentes.</span><span class="sxs-lookup"><span data-stu-id="d633a-147">Device identifiers range from zero to one less than the number of devices present.</span></span> <span data-ttu-id="d633a-148">Por ejemplo, si hay dos dispositivos de salida de onda-audio en un sistema, los identificadores de dispositivo válidos son 0 y 1.</span><span class="sxs-lookup"><span data-stu-id="d633a-148">For example, if there are two waveform-audio output devices in a system, valid device identifiers are 0 and 1.</span></span>

<span data-ttu-id="d633a-149">Después de determinar el número de dispositivos de un tipo determinado que están presentes en un sistema, puede usar una de las siguientes funciones para consultar las capacidades de cada dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-149">After you determine how many devices of a certain type are present in a system, you can use one of the following functions to query the capabilities of each device.</span></span>



| <span data-ttu-id="d633a-150">Función</span><span class="sxs-lookup"><span data-stu-id="d633a-150">Function</span></span>                                       | <span data-ttu-id="d633a-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="d633a-151">Description</span></span>                                                             |
|------------------------------------------------|-------------------------------------------------------------------------|
| [<span data-ttu-id="d633a-152">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="d633a-152">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | <span data-ttu-id="d633a-153">Recupera las capacidades de un dispositivo de salida auxiliar especificado.</span><span class="sxs-lookup"><span data-stu-id="d633a-153">Retrieves the capabilities of a specified auxiliary output device.</span></span>      |
| [<span data-ttu-id="d633a-154">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="d633a-154">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | <span data-ttu-id="d633a-155">Recupera las capacidades de un dispositivo de entrada de onda-audio especificado.</span><span class="sxs-lookup"><span data-stu-id="d633a-155">Retrieves the capabilities of a specified waveform-audio input device.</span></span>  |
| [<span data-ttu-id="d633a-156">**waveOutGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="d633a-156">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | <span data-ttu-id="d633a-157">Recupera las capacidades de un dispositivo de salida de onda-audio especificado.</span><span class="sxs-lookup"><span data-stu-id="d633a-157">Retrieves the capabilities of a specified waveform-audio output device.</span></span> |



 

<span data-ttu-id="d633a-158">Cada una de estas funciones rellena una estructura con información sobre las capacidades de un dispositivo especificado.</span><span class="sxs-lookup"><span data-stu-id="d633a-158">Each of these functions fills a structure with information about the capabilities of a specified device.</span></span> <span data-ttu-id="d633a-159">En la tabla siguiente se enumeran las estructuras que corresponden a cada una de estas funciones.</span><span class="sxs-lookup"><span data-stu-id="d633a-159">The following table lists the structures that correspond to each of these functions.</span></span>



|                                                |                                    |
|------------------------------------------------|------------------------------------|
| <span data-ttu-id="d633a-160">Función</span><span class="sxs-lookup"><span data-stu-id="d633a-160">Function</span></span>                                       | <span data-ttu-id="d633a-161">Estructura</span><span class="sxs-lookup"><span data-stu-id="d633a-161">Structure</span></span>                          |
| [<span data-ttu-id="d633a-162">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="d633a-162">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | [<span data-ttu-id="d633a-163">**AUXCAPS**</span><span class="sxs-lookup"><span data-stu-id="d633a-163">**AUXCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-auxcaps)         |
| [<span data-ttu-id="d633a-164">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="d633a-164">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | [<span data-ttu-id="d633a-165">**WAVEINCAPS**</span><span class="sxs-lookup"><span data-stu-id="d633a-165">**WAVEINCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveincaps)   |
| [<span data-ttu-id="d633a-166">**waveOutGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="d633a-166">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | [<span data-ttu-id="d633a-167">**WAVEOUTCAPS**</span><span class="sxs-lookup"><span data-stu-id="d633a-167">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) |



 

<span data-ttu-id="d633a-168">Los formatos estándar se enumeran en el miembro **dwFormats** de la estructura **WAVEOUTCAPS** .</span><span class="sxs-lookup"><span data-stu-id="d633a-168">Standard formats are listed in the **dwFormats** member of the **WAVEOUTCAPS** structure.</span></span> <span data-ttu-id="d633a-169">Los dispositivos de audio de onda pueden admitir formatos no estándar.</span><span class="sxs-lookup"><span data-stu-id="d633a-169">Waveform-audio devices can support nonstandard formats.</span></span> <span data-ttu-id="d633a-170">Para determinar si un dispositivo admite un formato determinado (estándar o no estándar), puede llamar a la función [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) con la marca de consulta de formato de onda \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="d633a-170">To determine whether a particular format (standard or nonstandard) is supported by a device, you can call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function with the WAVE\_FORMAT\_QUERY flag.</span></span> <span data-ttu-id="d633a-171">Esta marca no abre el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-171">This flag does not open the device.</span></span> <span data-ttu-id="d633a-172">El formato en cuestión se especifica en la estructura [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) señalada por el parámetro *Pwfx* pasado a **waveOutOpen**.</span><span class="sxs-lookup"><span data-stu-id="d633a-172">You specify the format in question in the [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure pointed to by the *pwfx* parameter passed to **waveOutOpen**.</span></span>

<span data-ttu-id="d633a-173">La función de onda: los dispositivos de salida de audio varían en función de las capacidades que admiten.</span><span class="sxs-lookup"><span data-stu-id="d633a-173">Waveform-audio output devices vary in the capabilities they support.</span></span> <span data-ttu-id="d633a-174">El miembro **dwSupport** de la estructura [**WAVEOUTCAPS**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) indica si un dispositivo admite tales capacidades como cambios de volumen y de tono.</span><span class="sxs-lookup"><span data-stu-id="d633a-174">The **dwSupport** member of the [**WAVEOUTCAPS**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) structure indicates whether a device supports such capabilities as volume and pitch changes.</span></span>

## <a name="device-handles-and-device-identifiers"></a><span data-ttu-id="d633a-175">Identificadores de dispositivo e identificadores de dispositivo</span><span class="sxs-lookup"><span data-stu-id="d633a-175">Device Handles and Device Identifiers</span></span>

<span data-ttu-id="d633a-176">Cada función que abre un dispositivo de audio especifica un identificador de dispositivo, un puntero a una ubicación de memoria y algunos parámetros que son únicos para cada tipo de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-176">Each function that opens an audio device specifies a device identifier, a pointer to a memory location, and some parameters that are unique to each type of device.</span></span> <span data-ttu-id="d633a-177">La ubicación de memoria se rellena con un identificador de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-177">The memory location is filled with a device handle.</span></span> <span data-ttu-id="d633a-178">Use este identificador de dispositivo para identificar el dispositivo de audio abierto al llamar a otras funciones de audio.</span><span class="sxs-lookup"><span data-stu-id="d633a-178">Use this device handle to identify the open audio device when calling other audio functions.</span></span>

<span data-ttu-id="d633a-179">La diferencia entre los identificadores y los identificadores de los dispositivos de audio es sutil pero importante:</span><span class="sxs-lookup"><span data-stu-id="d633a-179">The difference between identifiers and handles for audio devices is subtle but important:</span></span>

-   <span data-ttu-id="d633a-180">Los identificadores de dispositivo se determinan implícitamente desde el número de dispositivos presentes en un sistema.</span><span class="sxs-lookup"><span data-stu-id="d633a-180">Device identifiers are determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="d633a-181">Este número se obtiene mediante la función [**auxGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs), [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)o [**waveOutGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) .</span><span class="sxs-lookup"><span data-stu-id="d633a-181">This number is obtained by using the [**auxGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs), [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs), or [**waveOutGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) function.</span></span>
-   <span data-ttu-id="d633a-182">Se devuelven los identificadores de dispositivo cuando se abren controladores de dispositivos mediante la función [**waveInOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) o [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) .</span><span class="sxs-lookup"><span data-stu-id="d633a-182">Device handles are returned when device drivers are opened by using the [**waveInOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) or [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function.</span></span>

<span data-ttu-id="d633a-183">No hay funciones que abran o cierren dispositivos de audio auxiliares.</span><span class="sxs-lookup"><span data-stu-id="d633a-183">There are no functions that open or close auxiliary audio devices.</span></span> <span data-ttu-id="d633a-184">Los dispositivos de audio auxiliares no deben abrirse y cerrarse como los dispositivos de audio de forma de onda porque no hay ninguna transferencia de datos continua asociada a ellos.</span><span class="sxs-lookup"><span data-stu-id="d633a-184">Auxiliary audio devices need not be opened and closed like waveform-audio devices because there is no continuous data transfer associated with them.</span></span> <span data-ttu-id="d633a-185">Todas las funciones de audio auxiliares usan identificadores de dispositivo para identificar dispositivos.</span><span class="sxs-lookup"><span data-stu-id="d633a-185">All auxiliary audio functions use device identifiers to identify devices.</span></span>

## <a name="waveform-audio-output-data-types"></a><span data-ttu-id="d633a-186">Waveform-Audio tipos de datos de salida</span><span class="sxs-lookup"><span data-stu-id="d633a-186">Waveform-Audio Output Data Types</span></span>

<span data-ttu-id="d633a-187">Los siguientes tipos de datos se definen para las funciones de salida de audio de onda.</span><span class="sxs-lookup"><span data-stu-id="d633a-187">The following data types are defined for waveform-audio output functions.</span></span>



| <span data-ttu-id="d633a-188">Tipo</span><span class="sxs-lookup"><span data-stu-id="d633a-188">Type</span></span>                                 | <span data-ttu-id="d633a-189">Descripción</span><span class="sxs-lookup"><span data-stu-id="d633a-189">Description</span></span>                                                                                                                                                   |
|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d633a-190">**HWAVEOUT**</span><span class="sxs-lookup"><span data-stu-id="d633a-190">**HWAVEOUT**</span></span>                         | <span data-ttu-id="d633a-191">Identificador de un dispositivo de salida de onda de audio abierto.</span><span class="sxs-lookup"><span data-stu-id="d633a-191">Handle to an open waveform-audio output device.</span></span>                                                                                                               |
| [<span data-ttu-id="d633a-192">**WAVEFORMATEX**</span><span class="sxs-lookup"><span data-stu-id="d633a-192">**WAVEFORMATEX**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) | <span data-ttu-id="d633a-193">Estructura que especifica los formatos de datos admitidos por un dispositivo de entrada de audio de forma de onda determinado.</span><span class="sxs-lookup"><span data-stu-id="d633a-193">Structure that specifies the data formats supported by a particular waveform-audio input device.</span></span> <span data-ttu-id="d633a-194">Esta estructura también se usedfor los dispositivos de entrada de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="d633a-194">This structure is also usedfor waveform-audio input devices.</span></span> |
| [<span data-ttu-id="d633a-195">**WAVEHDR**</span><span class="sxs-lookup"><span data-stu-id="d633a-195">**WAVEHDR**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr)           | <span data-ttu-id="d633a-196">Estructura utilizada como encabezado para un bloque de datos de entrada de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="d633a-196">Structure used as a header for a block of waveform-audio input data.</span></span> <span data-ttu-id="d633a-197">Esta estructura también se utiliza para los dispositivos de entrada de audio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="d633a-197">This structure is also used for waveform-audio input devices.</span></span>                            |
| [<span data-ttu-id="d633a-198">**WAVEOUTCAPS**</span><span class="sxs-lookup"><span data-stu-id="d633a-198">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps)   | <span data-ttu-id="d633a-199">Estructura usada para consultar las capacidades de un dispositivo de salida de onda de audio determinado.</span><span class="sxs-lookup"><span data-stu-id="d633a-199">Structure used to query the capabilities of a particular waveform-audio output device.</span></span>                                                                        |



 

## <a name="specifying-waveform-audio-data-formats"></a><span data-ttu-id="d633a-200">Especificar formatos de datos de Waveform-Audio</span><span class="sxs-lookup"><span data-stu-id="d633a-200">Specifying Waveform-Audio Data Formats</span></span>

<span data-ttu-id="d633a-201">Cuando llame a la función [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) para abrir un controlador de dispositivo para la reproducción o para consultar si el controlador admite un formato de datos determinado, use el parámetro *pwfx* para especificar un puntero a una estructura [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) que contenga el formato de datos de audio de forma de onda solicitado.</span><span class="sxs-lookup"><span data-stu-id="d633a-201">When you call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a device driver for playback or to query whether the driver supports a particular data format, use the *pwfx* parameter to specify a pointer to a [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure containing the requested waveform-audio data format.</span></span> <span data-ttu-id="d633a-202">**WAVEFORMATEX** sustituye a las estructuras [**WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-waveformat) y [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) .</span><span class="sxs-lookup"><span data-stu-id="d633a-202">**WAVEFORMATEX** supersedes the [**WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-waveformat) and [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) structures.</span></span>

<span data-ttu-id="d633a-203">En el caso de los datos de audio que se separan en más de dos canales o tiene un tamaño de muestra que no es múltiplo de 8, debe utilizar [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span><span class="sxs-lookup"><span data-stu-id="d633a-203">For audio data that is separated into more than two channels or has a sample size that is not a multiple of 8, you should use [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span> <span data-ttu-id="d633a-204">Esta estructura simplemente configura los bytes adicionales a los que apunta el miembro **cbSize** de **WAVEFORMATEX** para proporcionar información adicional sobre el formato.</span><span class="sxs-lookup"><span data-stu-id="d633a-204">This structure simply configures the extra bytes pointed to by the **cbSize** member of **WAVEFORMATEX** to give extra information about the format.</span></span> <span data-ttu-id="d633a-205">**WAVEFORMATEXTENSIBLE** se puede convertir en **WAVEFORMATEX**.</span><span class="sxs-lookup"><span data-stu-id="d633a-205">**WAVEFORMATEXTENSIBLE** can be cast as **WAVEFORMATEX**.</span></span>

<span data-ttu-id="d633a-206">También hay dos formatos de Portapapeles que puede usar para representar datos de audio: CF \_ Wave y CF \_ riff.</span><span class="sxs-lookup"><span data-stu-id="d633a-206">There are also two clipboard formats you can use to represent audio data: CF\_WAVE and CF\_RIFF.</span></span> <span data-ttu-id="d633a-207">Use el formato de onda de CF \_ para representar los datos en uno de los formatos estándar, como el PCM de 11 kHz o 22 kHz.</span><span class="sxs-lookup"><span data-stu-id="d633a-207">Use the CF\_WAVE format to represent data in one of the standard formats, such as 11 kHz or 22 kHz PCM.</span></span> <span data-ttu-id="d633a-208">Use el \_ formato CF riff para representar formatos de datos más complejos que no se pueden representar como archivos de audio de forma de onda estándar.</span><span class="sxs-lookup"><span data-stu-id="d633a-208">Use the CF\_RIFF format to represent more complex data formats that cannot be represented as standard waveform-audio files.</span></span>

## <a name="writing-waveform-audio-data"></a><span data-ttu-id="d633a-209">Escribir datos de Waveform-Audio</span><span class="sxs-lookup"><span data-stu-id="d633a-209">Writing Waveform-Audio Data</span></span>

<span data-ttu-id="d633a-210">Después de abrir correctamente un controlador de dispositivo de salida de onda de audio, puede empezar a reproducir un sonido.</span><span class="sxs-lookup"><span data-stu-id="d633a-210">After successfully opening a waveform-audio output device driver, you can begin playing a sound.</span></span> <span data-ttu-id="d633a-211">Windows proporciona la función [**waveOutWrite**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) para enviar bloques de datos a dispositivos de salida de onda-audio.</span><span class="sxs-lookup"><span data-stu-id="d633a-211">Windows provides the [**waveOutWrite**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) function for sending data blocks to waveform-audio output devices.</span></span>

<span data-ttu-id="d633a-212">Use la estructura [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) para especificar el bloque de datos de audio de onda que está enviando con **waveOutWrite**.</span><span class="sxs-lookup"><span data-stu-id="d633a-212">Use the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure to specify the waveform-audio data block you are sending using **waveOutWrite**.</span></span> <span data-ttu-id="d633a-213">Esta estructura contiene un puntero a un bloque de datos bloqueado, la longitud del bloque de datos y algunas marcas.</span><span class="sxs-lookup"><span data-stu-id="d633a-213">This structure contains a pointer to a locked data block, the length of the data block, and some flags.</span></span> <span data-ttu-id="d633a-214">Este bloque de datos debe estar preparado antes de usarlo; para obtener información sobre cómo preparar un bloque de datos, vea [bloques de datos de audio](audio-data-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="d633a-214">This data block must be prepared before you use it; for information about preparing a data block, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

<span data-ttu-id="d633a-215">Después de enviar un bloque de datos a un dispositivo de salida mediante **waveOutWrite**, debe esperar hasta que el controlador de dispositivo termine con el bloque de datos antes de liberarlo.</span><span class="sxs-lookup"><span data-stu-id="d633a-215">After you send a data block to an output device by using **waveOutWrite**, you must wait until the device driver is finished with the data block before freeing it.</span></span> <span data-ttu-id="d633a-216">Si va a enviar varios bloques de datos, debe supervisar la finalización de los bloques de datos para saber cuándo enviar bloques adicionales.</span><span class="sxs-lookup"><span data-stu-id="d633a-216">If you are sending multiple data blocks, you must monitor the completion of data blocks to know when to send additional blocks.</span></span> <span data-ttu-id="d633a-217">Para obtener más información acerca de los bloques de datos, consulte [bloques de datos de audio](audio-data-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="d633a-217">For more information about data blocks, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

## <a name="pcm-waveform-audio-data-format"></a><span data-ttu-id="d633a-218">Formato de datos de Waveform-Audio PCM</span><span class="sxs-lookup"><span data-stu-id="d633a-218">PCM Waveform-Audio Data Format</span></span>

<span data-ttu-id="d633a-219">El miembro **lpData** de la estructura [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) pointsetts a los ejemplos de datos de audio de onda.</span><span class="sxs-lookup"><span data-stu-id="d633a-219">The **lpData** member of the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure pointsetts to the waveform-audio data samples.</span></span> <span data-ttu-id="d633a-220">En el caso de los datos PCM de 8 bits, cada ejemplo se representa mediante un único byte de datos sin signo.</span><span class="sxs-lookup"><span data-stu-id="d633a-220">For 8-bit PCM data, each sample is represented by a single unsigned data byte.</span></span> <span data-ttu-id="d633a-221">Para los datos PCM de 16 bits, cada ejemplo se representa mediante un valor con signo de 16 bits.</span><span class="sxs-lookup"><span data-stu-id="d633a-221">For 16-bit PCM data, each sample is represented by a 16-bit signed value.</span></span> <span data-ttu-id="d633a-222">En la tabla siguiente se resumen los valores máximo, mínimo y punto medio de los datos de audio de onda y de onda PCM.</span><span class="sxs-lookup"><span data-stu-id="d633a-222">The following table summarizes the maximum, minimum, and midpoint values for PCM waveform-audio data.</span></span>



|             |                 |                  |                |
|-------------|-----------------|------------------|----------------|
| <span data-ttu-id="d633a-223">Formato de datos</span><span class="sxs-lookup"><span data-stu-id="d633a-223">Data format</span></span> | <span data-ttu-id="d633a-224">Valor máximo</span><span class="sxs-lookup"><span data-stu-id="d633a-224">Maximum value</span></span>   | <span data-ttu-id="d633a-225">Valor mínimo</span><span class="sxs-lookup"><span data-stu-id="d633a-225">Minimum value</span></span>    | <span data-ttu-id="d633a-226">Valor de punto medio</span><span class="sxs-lookup"><span data-stu-id="d633a-226">Midpoint value</span></span> |
| <span data-ttu-id="d633a-227">PCM de 8 bits</span><span class="sxs-lookup"><span data-stu-id="d633a-227">8-bit PCM</span></span>   | <span data-ttu-id="d633a-228">255 (0xFF)</span><span class="sxs-lookup"><span data-stu-id="d633a-228">255 (0xFF)</span></span>      | <span data-ttu-id="d633a-229">0</span><span class="sxs-lookup"><span data-stu-id="d633a-229">0</span></span>                | <span data-ttu-id="d633a-230">128 (0x80)</span><span class="sxs-lookup"><span data-stu-id="d633a-230">128 (0x80)</span></span>     |
| <span data-ttu-id="d633a-231">PCM de 16 bits</span><span class="sxs-lookup"><span data-stu-id="d633a-231">16-bit PCM</span></span>  | <span data-ttu-id="d633a-232">32.767 (0x7FFF)</span><span class="sxs-lookup"><span data-stu-id="d633a-232">32,767 (0x7FFF)</span></span> | <span data-ttu-id="d633a-233">– 32.768 (0x8000)</span><span class="sxs-lookup"><span data-stu-id="d633a-233">–32,768 (0x8000)</span></span> | <span data-ttu-id="d633a-234">0</span><span class="sxs-lookup"><span data-stu-id="d633a-234">0</span></span>              |



 

## <a name="pcm-data-packing"></a><span data-ttu-id="d633a-235">Empaquetado de datos PCM</span><span class="sxs-lookup"><span data-stu-id="d633a-235">PCM Data Packing</span></span>

<span data-ttu-id="d633a-236">El orden de los bytes de datos varía entre los formatos de 8 y 16 bits, y entre los formatos mono y estéreo.</span><span class="sxs-lookup"><span data-stu-id="d633a-236">The order of the data bytes varies between 8-bit and 16-bit formats and between mono and stereo formats.</span></span> <span data-ttu-id="d633a-237">En la lista siguiente se describe el empaquetado de datos para los distintos formatos de datos de audio de onda de onda PCM.</span><span class="sxs-lookup"><span data-stu-id="d633a-237">The following list describes data packing for the different PCM waveform-audio data formats.</span></span>



| <span data-ttu-id="d633a-238">Forma de onda PCM: formato de audio</span><span class="sxs-lookup"><span data-stu-id="d633a-238">PCM waveform-audio format</span></span> | <span data-ttu-id="d633a-239">Descripción</span><span class="sxs-lookup"><span data-stu-id="d633a-239">Description</span></span>                                                                                                                                                                                                                                                                                                                                     |
|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d633a-240">mono de 8 bits</span><span class="sxs-lookup"><span data-stu-id="d633a-240">8-bit mono</span></span>                | <span data-ttu-id="d633a-241">Cada ejemplo es 1 byte que corresponde a un solo canal de audio.</span><span class="sxs-lookup"><span data-stu-id="d633a-241">Each sample is 1 byte that corresponds to a single audio channel.</span></span> <span data-ttu-id="d633a-242">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, etc.</span><span class="sxs-lookup"><span data-stu-id="d633a-242">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span>                                                                                                                                                                                                                           |
| <span data-ttu-id="d633a-243">estéreo de 8 bits</span><span class="sxs-lookup"><span data-stu-id="d633a-243">8-bit stereo</span></span>              | <span data-ttu-id="d633a-244">Cada ejemplo tiene 2 bytes.</span><span class="sxs-lookup"><span data-stu-id="d633a-244">Each sample is 2 bytes.</span></span> <span data-ttu-id="d633a-245">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, etc.</span><span class="sxs-lookup"><span data-stu-id="d633a-245">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="d633a-246">Para cada ejemplo, el primer byte es el canal 0 (el canal izquierdo) y el segundo byte es el canal 1 (el canal derecho).</span><span class="sxs-lookup"><span data-stu-id="d633a-246">For each sample, the first byte is channel 0 (the left channel) and the second byte is channel 1 (the right channel).</span></span>                                                                                                                                               |
| <span data-ttu-id="d633a-247">mono de 16 bits</span><span class="sxs-lookup"><span data-stu-id="d633a-247">16-bit mono</span></span>               | <span data-ttu-id="d633a-248">Cada ejemplo tiene 2 bytes.</span><span class="sxs-lookup"><span data-stu-id="d633a-248">Each sample is 2 bytes.</span></span> <span data-ttu-id="d633a-249">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, etc.</span><span class="sxs-lookup"><span data-stu-id="d633a-249">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="d633a-250">En cada ejemplo, el primer byte es el byte de orden inferior del canal 0 y el segundo byte es el byte de orden superior del canal 0.</span><span class="sxs-lookup"><span data-stu-id="d633a-250">For each sample, the first byte is the low-order byte of channel 0 and the second byte is the high-order byte of channel 0.</span></span>                                                                                                                                         |
| <span data-ttu-id="d633a-251">estéreo de 16 bits</span><span class="sxs-lookup"><span data-stu-id="d633a-251">16-bit stereo</span></span>             | <span data-ttu-id="d633a-252">Cada ejemplo es 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="d633a-252">Each sample is 4 bytes.</span></span> <span data-ttu-id="d633a-253">El ejemplo 1 va seguido de los ejemplos 2, 3, 4, etc.</span><span class="sxs-lookup"><span data-stu-id="d633a-253">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="d633a-254">En cada ejemplo, el primer byte es el byte de orden inferior del canal 0 (canal izquierdo). el segundo byte es el byte de orden superior del canal 0; el tercer byte es el byte de orden inferior del canal 1 (canal derecho). y el cuarto byte es el byte de orden superior del canal 1.</span><span class="sxs-lookup"><span data-stu-id="d633a-254">For each sample, the first byte is the low-order byte of channel 0 (left channel); the second byte is the high-order byte of channel 0; the third byte is the low-order byte of channel 1 (right channel); and the fourth byte is the high-order byte of channel 1.</span></span> |
| <span data-ttu-id="d633a-255">Otros</span><span class="sxs-lookup"><span data-stu-id="d633a-255">Others</span></span>                    | <span data-ttu-id="d633a-256">Cada ejemplo se encuentra en un bloque que es un múltiplo de 4 bytes, pero los ejemplos pueden no estar alineados por bytes.</span><span class="sxs-lookup"><span data-stu-id="d633a-256">Each sample is contained in a block that is a multiple of 4 bytes, but the samples may be non-byte-aligned.</span></span> <span data-ttu-id="d633a-257">La organización de los canales se especifica mediante una máscara.</span><span class="sxs-lookup"><span data-stu-id="d633a-257">The arrangement of channels is specified by a mask.</span></span> <span data-ttu-id="d633a-258">Para obtener más información, vea [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span><span class="sxs-lookup"><span data-stu-id="d633a-258">For more information, see [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span>                                                                                                 |



 

## <a name="closing-waveform-audio-output-devices"></a><span data-ttu-id="d633a-259">Cerrar Waveform-Audio dispositivos de salida</span><span class="sxs-lookup"><span data-stu-id="d633a-259">Closing Waveform-Audio Output Devices</span></span>

<span data-ttu-id="d633a-260">Después de completar la reproducción de la forma de onda, llame a [**waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) para cerrar el dispositivo de salida.</span><span class="sxs-lookup"><span data-stu-id="d633a-260">After waveform-audio playback is complete, call [**waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) to close the output device.</span></span> <span data-ttu-id="d633a-261">Si se llama a **waveOutClose** mientras se reproduce un archivo de audio de forma de onda, se produce un error en la operación de cierre y la función devuelve un código de error que indica que el dispositivo no se cerró.</span><span class="sxs-lookup"><span data-stu-id="d633a-261">If **waveOutClose** is called while a waveform-audio file is playing, the close operation fails and the function returns an error code indicating that the device was not closed.</span></span> <span data-ttu-id="d633a-262">Si no desea esperar a que finalice la reproducción antes de cerrar el dispositivo, llame a la función [**waveOutReset**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) antes de cerrar.</span><span class="sxs-lookup"><span data-stu-id="d633a-262">If you do not want to wait for playback to end before closing the device, call the [**waveOutReset**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) function before closing.</span></span> <span data-ttu-id="d633a-263">Esto finaliza la reproducción y permite que el dispositivo se cierre.</span><span class="sxs-lookup"><span data-stu-id="d633a-263">This ends playback and allows the device to be closed.</span></span> <span data-ttu-id="d633a-264">Asegúrese de usar la función [**waveOutUnprepareHeader**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) para limpiar la preparación en todos los bloques de datos antes de cerrar el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d633a-264">Be sure to use the [**waveOutUnprepareHeader**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) function to clean up the preparation on all data blocks before closing the device.</span></span>

 

 