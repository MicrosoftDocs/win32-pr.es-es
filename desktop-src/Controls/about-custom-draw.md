---
title: Acerca de Draw personalizado
description: Esta sección contiene información general sobre la funcionalidad de dibujo personalizado y proporciona información conceptual sobre cómo una aplicación puede admitir el dibujo personalizado.
ms.assetid: dd104661-1e0c-4569-9753-817bcded1894
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 121a4df5aa6fab222a5c4387ebdcfba51a7977b2
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/09/2020
ms.locfileid: "104488441"
---
# <a name="about-custom-draw"></a><span data-ttu-id="0a019-103">Acerca de Draw personalizado</span><span class="sxs-lookup"><span data-stu-id="0a019-103">About Custom Draw</span></span>

<span data-ttu-id="0a019-104">Esta sección contiene información general sobre la funcionalidad de dibujo personalizado y proporciona información conceptual sobre cómo una aplicación puede admitir el dibujo personalizado.</span><span class="sxs-lookup"><span data-stu-id="0a019-104">This section contains general information about custom draw functionality and provides a conceptual overview of how an application can support custom draw.</span></span> <span data-ttu-id="0a019-105">Actualmente, los controles siguientes admiten la funcionalidad de dibujo personalizada:</span><span class="sxs-lookup"><span data-stu-id="0a019-105">Currently, the following controls support custom draw functionality:</span></span>

-   <span data-ttu-id="0a019-106">Controles de encabezado</span><span class="sxs-lookup"><span data-stu-id="0a019-106">Header controls</span></span>
-   <span data-ttu-id="0a019-107">Controles de vista de lista</span><span class="sxs-lookup"><span data-stu-id="0a019-107">List-view controls</span></span>
-   <span data-ttu-id="0a019-108">Rebar (controles)</span><span class="sxs-lookup"><span data-stu-id="0a019-108">Rebar controls</span></span>
-   <span data-ttu-id="0a019-109">Controles de la barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="0a019-109">Toolbar controls</span></span>
-   <span data-ttu-id="0a019-110">Controles ToolTip</span><span class="sxs-lookup"><span data-stu-id="0a019-110">Tooltip controls</span></span>
-   <span data-ttu-id="0a019-111">Controles TrackBar</span><span class="sxs-lookup"><span data-stu-id="0a019-111">Trackbar controls</span></span>
-   <span data-ttu-id="0a019-112">Controles de vista de árbol</span><span class="sxs-lookup"><span data-stu-id="0a019-112">Tree-view controls</span></span>

<!-- -->

-   [<span data-ttu-id="0a019-113">Acerca de los mensajes de notificación de dibujo personalizados</span><span class="sxs-lookup"><span data-stu-id="0a019-113">About Custom Draw Notification Messages</span></span>](#about-custom-draw-notification-messages)
-   [<span data-ttu-id="0a019-114">Dibujar ciclos, fases de dibujo y mensajes de notificación</span><span class="sxs-lookup"><span data-stu-id="0a019-114">Paint Cycles, Drawing Stages, and Notification Messages</span></span>](#paint-cycles-drawing-stages-and-notification-messages)
-   [<span data-ttu-id="0a019-115">Sacar provecho de los servicios de dibujo personalizados</span><span class="sxs-lookup"><span data-stu-id="0a019-115">Taking Advantage of Custom Draw Services</span></span>](#taking-advantage-of-custom-draw-services)
    -   [<span data-ttu-id="0a019-116">Respuesta a la notificación del problema</span><span class="sxs-lookup"><span data-stu-id="0a019-116">Responding to the prepaint notification</span></span>](#responding-to-the-prepaint-notification)
    -   [<span data-ttu-id="0a019-117">Solicitud de notificaciones específicas del elemento</span><span class="sxs-lookup"><span data-stu-id="0a019-117">Requesting item-specific notifications</span></span>](#requesting-item-specific-notifications)
    -   [<span data-ttu-id="0a019-118">Dibujo del elemento</span><span class="sxs-lookup"><span data-stu-id="0a019-118">Drawing the item yourself</span></span>](#drawing-the-item-yourself)
    -   [<span data-ttu-id="0a019-119">Cambiar fuentes y colores</span><span class="sxs-lookup"><span data-stu-id="0a019-119">Changing fonts and colors</span></span>](#changing-fonts-and-colors)
-   [<span data-ttu-id="0a019-120">Dibujo personalizado con controles de List-View y Tree-View</span><span class="sxs-lookup"><span data-stu-id="0a019-120">Custom Draw With List-View and Tree-View Controls</span></span>](#custom-draw-with-list-view-and-tree-view-controls)
    -   [<span data-ttu-id="0a019-121">Dibujo personalizado con controles de List-View</span><span class="sxs-lookup"><span data-stu-id="0a019-121">Custom Draw With List-View Controls</span></span>](#custom-draw-with-list-view-controls)
-   [<span data-ttu-id="0a019-122">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0a019-122">Related topics</span></span>](#related-topics)

## <a name="about-custom-draw-notification-messages"></a><span data-ttu-id="0a019-123">Acerca de los mensajes de notificación de dibujo personalizados</span><span class="sxs-lookup"><span data-stu-id="0a019-123">About Custom Draw Notification Messages</span></span>

<span data-ttu-id="0a019-124">Todos los controles comunes que admiten Draw personalizado envían códigos de notificación [ \_ CUSTOMDRAW nm](nm-customdraw.md) en puntos específicos durante las operaciones de dibujo.</span><span class="sxs-lookup"><span data-stu-id="0a019-124">All common controls that support custom draw send [NM\_CUSTOMDRAW](nm-customdraw.md) notification codes at specific points during drawing operations.</span></span> <span data-ttu-id="0a019-125">Estos códigos de notificación describen las operaciones de dibujo que se aplican a todo el control y a las operaciones de dibujo específicas de los elementos del control.</span><span class="sxs-lookup"><span data-stu-id="0a019-125">These notification codes describe drawing operations that apply to the entire control as well as drawing operations specific to items within the control.</span></span> <span data-ttu-id="0a019-126">Al igual que muchos códigos de notificación, las \_ notificaciones de nm CUSTOMDRAW se envían como mensajes de [**\_ notificación de WM**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="0a019-126">Like many notification codes, NM\_CUSTOMDRAW notifications are sent as [**WM\_NOTIFY**](wm-notify.md) messages.</span></span>

<span data-ttu-id="0a019-127">El parámetro *lParam* de una notificación de dibujo personalizada será la dirección de una estructura [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) o una estructura específica del control que contenga una estructura **NMCUSTOMDRAW** como primer miembro.</span><span class="sxs-lookup"><span data-stu-id="0a019-127">The *lParam* parameter of a custom draw notification will be the address of an [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) structure or a control-specific structure that contains an **NMCUSTOMDRAW** structure as its first member.</span></span> <span data-ttu-id="0a019-128">En la tabla siguiente se muestra la relación entre los controles y las estructuras que usan.</span><span class="sxs-lookup"><span data-stu-id="0a019-128">The following table illustrates the relationship between the controls and the structures they use.</span></span>



| <span data-ttu-id="0a019-129">Estructura</span><span class="sxs-lookup"><span data-stu-id="0a019-129">Structure</span></span>                                | <span data-ttu-id="0a019-130">Usado por</span><span class="sxs-lookup"><span data-stu-id="0a019-130">Used by</span></span>                              |
|------------------------------------------|--------------------------------------|
| [<span data-ttu-id="0a019-131">**NMCUSTOMDRAW**</span><span class="sxs-lookup"><span data-stu-id="0a019-131">**NMCUSTOMDRAW**</span></span>](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw)     | <span data-ttu-id="0a019-132">Rebar, TrackBar y controles de encabezado</span><span class="sxs-lookup"><span data-stu-id="0a019-132">Rebar, trackbar, and header controls</span></span> |
| [<span data-ttu-id="0a019-133">**NMLVCUSTOMDRAW**</span><span class="sxs-lookup"><span data-stu-id="0a019-133">**NMLVCUSTOMDRAW**</span></span>](/windows/win32/api/commctrl/ns-commctrl-nmlvcustomdraw) | <span data-ttu-id="0a019-134">Controles de vista de lista</span><span class="sxs-lookup"><span data-stu-id="0a019-134">List-view controls</span></span>                   |
| [<span data-ttu-id="0a019-135">**NMTBCUSTOMDRAW**</span><span class="sxs-lookup"><span data-stu-id="0a019-135">**NMTBCUSTOMDRAW**</span></span>](/windows/desktop/api/Commctrl/ns-commctrl-nmtbcustomdraw) | <span data-ttu-id="0a019-136">Controles de la barra de herramientas</span><span class="sxs-lookup"><span data-stu-id="0a019-136">Toolbar controls</span></span>                     |
| [<span data-ttu-id="0a019-137">**NMTTCUSTOMDRAW**</span><span class="sxs-lookup"><span data-stu-id="0a019-137">**NMTTCUSTOMDRAW**</span></span>](/windows/win32/api/commctrl/ns-commctrl-nmttcustomdraw) | <span data-ttu-id="0a019-138">Controles ToolTip</span><span class="sxs-lookup"><span data-stu-id="0a019-138">Tooltip controls</span></span>                     |
| [<span data-ttu-id="0a019-139">**NMTVCUSTOMDRAW**</span><span class="sxs-lookup"><span data-stu-id="0a019-139">**NMTVCUSTOMDRAW**</span></span>](/windows/win32/api/commctrl/ns-commctrl-nmtvcustomdraw) | <span data-ttu-id="0a019-140">Controles de vista de árbol</span><span class="sxs-lookup"><span data-stu-id="0a019-140">Tree-view controls</span></span>                   |



 

## <a name="paint-cycles-drawing-stages-and-notification-messages"></a><span data-ttu-id="0a019-141">Dibujar ciclos, fases de dibujo y mensajes de notificación</span><span class="sxs-lookup"><span data-stu-id="0a019-141">Paint Cycles, Drawing Stages, and Notification Messages</span></span>

<span data-ttu-id="0a019-142">Al igual que todas las aplicaciones de Windows, los controles comunes se dibujan y borran de forma periódica en función de los mensajes recibidos del sistema o de otras aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="0a019-142">Like all Windows applications, common controls periodically paint and erase themselves based on messages received from the system or other applications.</span></span> <span data-ttu-id="0a019-143">El proceso de dibujar o borrar un control se denomina *ciclo de pintura*.</span><span class="sxs-lookup"><span data-stu-id="0a019-143">The process of a control painting or erasing itself is called a *paint cycle*.</span></span> <span data-ttu-id="0a019-144">Los controles que admiten los códigos de notificación de envío de dibujo [nm \_ CUSTOMDRAW](nm-customdraw.md) personalizados periódicamente a través de cada ciclo de pintura.</span><span class="sxs-lookup"><span data-stu-id="0a019-144">Controls that support custom draw send [NM\_CUSTOMDRAW](nm-customdraw.md) notification codes periodically through each paint cycle.</span></span> <span data-ttu-id="0a019-145">Este código de notificación está acompañado por una estructura [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) u otra estructura que contiene una estructura **NMCUSTOMDRAW** como su primer miembro.</span><span class="sxs-lookup"><span data-stu-id="0a019-145">This notification code is accompanied by an [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) structure or another structure that contains an **NMCUSTOMDRAW** structure as its first member.</span></span>

<span data-ttu-id="0a019-146">Una parte de la información que contiene la estructura [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) es la fase actual del ciclo de pintura.</span><span class="sxs-lookup"><span data-stu-id="0a019-146">One piece of information that the [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) structure contains is the current stage of the paint cycle.</span></span> <span data-ttu-id="0a019-147">Esto se conoce como la *fase de dibujo* y se representa mediante el valor del miembro **dwDrawStage** de la estructura.</span><span class="sxs-lookup"><span data-stu-id="0a019-147">This is referred to as the *draw stage* and is represented by the value in the structure's **dwDrawStage** member.</span></span> <span data-ttu-id="0a019-148">Un control informa A su elemento primario sobre cuatro fases básicas de Draw.</span><span class="sxs-lookup"><span data-stu-id="0a019-148">A control informs its parent about four basic draw stages.</span></span> <span data-ttu-id="0a019-149">Estas fases de dibujo básicas o globales se representan en la estructura mediante los siguientes valores de marca (definidos en commctrl. h).</span><span class="sxs-lookup"><span data-stu-id="0a019-149">These basic, or global, draw stages are represented in the structure by the following flag values (defined in Commctrl.h).</span></span>



| <span data-ttu-id="0a019-150">Valores de la fase de dibujo global</span><span class="sxs-lookup"><span data-stu-id="0a019-150">Global draw stage values</span></span> | <span data-ttu-id="0a019-151">Descripción</span><span class="sxs-lookup"><span data-stu-id="0a019-151">Description</span></span>                        |
|--------------------------|------------------------------------|
| <span data-ttu-id="0a019-152">CDDS \_</span><span class="sxs-lookup"><span data-stu-id="0a019-152">CDDS\_PREPAINT</span></span>           | <span data-ttu-id="0a019-153">Antes de que comience el ciclo de pintura.</span><span class="sxs-lookup"><span data-stu-id="0a019-153">Before the paint cycle begins.</span></span>     |
| <span data-ttu-id="0a019-154">CDDS \_ POSTpaint</span><span class="sxs-lookup"><span data-stu-id="0a019-154">CDDS\_POSTPAINT</span></span>          | <span data-ttu-id="0a019-155">Una vez completado el ciclo de pintura.</span><span class="sxs-lookup"><span data-stu-id="0a019-155">After the paint cycle is complete.</span></span> |
| <span data-ttu-id="0a019-156">CDDS \_ PREborrar</span><span class="sxs-lookup"><span data-stu-id="0a019-156">CDDS\_PREERASE</span></span>           | <span data-ttu-id="0a019-157">Antes de que comience el ciclo de borrado.</span><span class="sxs-lookup"><span data-stu-id="0a019-157">Before the erase cycle begins.</span></span>     |
| <span data-ttu-id="0a019-158">CDDS \_ POSTborrar</span><span class="sxs-lookup"><span data-stu-id="0a019-158">CDDS\_POSTERASE</span></span>          | <span data-ttu-id="0a019-159">Una vez completado el ciclo de borrado.</span><span class="sxs-lookup"><span data-stu-id="0a019-159">After the erase cycle is complete.</span></span> |



 

<span data-ttu-id="0a019-160">Cada uno de los valores anteriores se puede combinar con la \_ marca del elemento CDDS para especificar las fases de dibujo específicas de los elementos.</span><span class="sxs-lookup"><span data-stu-id="0a019-160">Each of the preceding values can be combined with the CDDS\_ITEM flag to specify draw stages specific to items.</span></span> <span data-ttu-id="0a019-161">Por comodidad, commctrl. h contiene los siguientes valores específicos del elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-161">For convenience, Commctrl.h contains the following item-specific values.</span></span>



| <span data-ttu-id="0a019-162">Valores de fase de dibujo específicos del elemento</span><span class="sxs-lookup"><span data-stu-id="0a019-162">Item-specific draw stage values</span></span> | <span data-ttu-id="0a019-163">Descripción</span><span class="sxs-lookup"><span data-stu-id="0a019-163">Description</span></span>                                                                                                                                                                                                                                                                         |
|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0a019-164">CDDS \_ ITEMPREPAINT</span><span class="sxs-lookup"><span data-stu-id="0a019-164">CDDS\_ITEMPREPAINT</span></span>              | <span data-ttu-id="0a019-165">Antes de que se dibuje un elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-165">Before an item is drawn.</span></span>                                                                                                                                                                                                                                                            |
| <span data-ttu-id="0a019-166">CDDS \_ ITEMPOSTPAINT</span><span class="sxs-lookup"><span data-stu-id="0a019-166">CDDS\_ITEMPOSTPAINT</span></span>             | <span data-ttu-id="0a019-167">Después de dibujar un elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-167">After an item has been drawn.</span></span>                                                                                                                                                                                                                                                       |
| <span data-ttu-id="0a019-168">CDDS \_ ITEMPREERASE</span><span class="sxs-lookup"><span data-stu-id="0a019-168">CDDS\_ITEMPREERASE</span></span>              | <span data-ttu-id="0a019-169">Antes de que se borre un elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-169">Before an item is erased.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="0a019-170">CDDS \_ ITEMPOSTERASE</span><span class="sxs-lookup"><span data-stu-id="0a019-170">CDDS\_ITEMPOSTERASE</span></span>             | <span data-ttu-id="0a019-171">Una vez borrado un elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-171">After an item has been erased.</span></span>                                                                                                                                                                                                                                                      |
| <span data-ttu-id="0a019-172">subelemento CDDS \_</span><span class="sxs-lookup"><span data-stu-id="0a019-172">CDDS\_SUBITEM</span></span>                   | <span data-ttu-id="0a019-173">[Versiones de control comunes](common-control-versions.md) 4,71.</span><span class="sxs-lookup"><span data-stu-id="0a019-173">[Common Control Versions](common-control-versions.md) 4.71.</span></span> <span data-ttu-id="0a019-174">Marca combinada con CDDS \_ ITEMPREPAINT o CDDS \_ ITEMPOSTPAINT si se está dibujando un subelemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-174">Flag combined with CDDS\_ITEMPREPAINT or CDDS\_ITEMPOSTPAINT if a subitem is being drawn.</span></span> <span data-ttu-id="0a019-175">Solo se establecerá si [**CDRF \_ NOTIFYITEMDRAW**](cdrf-constants.md) se devuelve desde CDDS \_ PREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-175">This will only be set if [**CDRF\_NOTIFYITEMDRAW**](cdrf-constants.md) is returned from CDDS\_PREPAINT.</span></span> |



 

<span data-ttu-id="0a019-176">La aplicación debe procesar el código de notificación [nm \_ CUSTOMDRAW](nm-customdraw.md) y, a continuación, devolver un valor específico que informa al control de lo que debe hacer.</span><span class="sxs-lookup"><span data-stu-id="0a019-176">Your application must process the [NM\_CUSTOMDRAW](nm-customdraw.md) notification code and then return a specific value that informs the control what it must do.</span></span> <span data-ttu-id="0a019-177">Vea las secciones siguientes para obtener más información sobre estos valores devueltos.</span><span class="sxs-lookup"><span data-stu-id="0a019-177">See the following sections for more information about these return values.</span></span>

## <a name="taking-advantage-of-custom-draw-services"></a><span data-ttu-id="0a019-178">Sacar provecho de los servicios de dibujo personalizados</span><span class="sxs-lookup"><span data-stu-id="0a019-178">Taking Advantage of Custom Draw Services</span></span>

<span data-ttu-id="0a019-179">La clave para aprovechar la funcionalidad de dibujo personalizada es responder a los códigos de notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) que envía un control.</span><span class="sxs-lookup"><span data-stu-id="0a019-179">The key to harnessing custom draw functionality is in responding to the [NM\_CUSTOMDRAW](nm-customdraw.md) notification codes that a control sends.</span></span> <span data-ttu-id="0a019-180">Los valores devueltos que envía la aplicación en respuesta a estas notificaciones determinan el comportamiento del control para ese ciclo de pintura.</span><span class="sxs-lookup"><span data-stu-id="0a019-180">The return values your application sends in response to these notifications determine the control's behavior for that paint cycle.</span></span>

<span data-ttu-id="0a019-181">Esta sección contiene información sobre cómo la aplicación puede usar los valores de devolución de notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) para determinar el comportamiento del control.</span><span class="sxs-lookup"><span data-stu-id="0a019-181">This section contains information about how your application can use [NM\_CUSTOMDRAW](nm-customdraw.md) notification return values to determine the control's behavior.</span></span>

<span data-ttu-id="0a019-182">Los detalles se dividen en los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="0a019-182">Details are broken into the following topics:</span></span>

-   [<span data-ttu-id="0a019-183">Respuesta a la notificación del problema</span><span class="sxs-lookup"><span data-stu-id="0a019-183">Responding to the prepaint notification</span></span>](#responding-to-the-prepaint-notification)
-   [<span data-ttu-id="0a019-184">Solicitud de notificaciones específicas del elemento</span><span class="sxs-lookup"><span data-stu-id="0a019-184">Requesting item-specific notifications</span></span>](#requesting-item-specific-notifications)
-   [<span data-ttu-id="0a019-185">Dibujo del elemento</span><span class="sxs-lookup"><span data-stu-id="0a019-185">Drawing the item yourself</span></span>](#drawing-the-item-yourself)
-   [<span data-ttu-id="0a019-186">Cambiar fuentes y colores</span><span class="sxs-lookup"><span data-stu-id="0a019-186">Changing fonts and colors</span></span>](#changing-fonts-and-colors)

### <a name="responding-to-the-prepaint-notification"></a><span data-ttu-id="0a019-187">Respuesta a la notificación del problema</span><span class="sxs-lookup"><span data-stu-id="0a019-187">Responding to the prepaint notification</span></span>

<span data-ttu-id="0a019-188">Al principio de cada ciclo de pintura, el control envía el código de notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) , especificando el \_ valor de CDDS en el miembro **DWDRAWSTAGE** de la estructura de nm CUSTOMDRAW que lo acompaña \_ .</span><span class="sxs-lookup"><span data-stu-id="0a019-188">At the beginning of each paint cycle, the control sends the [NM\_CUSTOMDRAW](nm-customdraw.md) notification code, specifying the CDDS\_PREPAINT value in the **dwDrawStage** member of the accompanying NM\_CUSTOMDRAW structure.</span></span> <span data-ttu-id="0a019-189">El valor que devuelve la aplicación a esta primera notificación determina cómo y cuándo envía el control notificaciones de dibujo personalizadas posteriores para el resto del ciclo de pintura.</span><span class="sxs-lookup"><span data-stu-id="0a019-189">The value that your application returns to this first notification dictates how and when the control sends subsequent custom draw notifications for the rest of that paint cycle.</span></span> <span data-ttu-id="0a019-190">La aplicación puede devolver una combinación de las marcas siguientes en respuesta a la primera notificación.</span><span class="sxs-lookup"><span data-stu-id="0a019-190">Your application can return a combination of the following flags in response to the first notification.</span></span>



| <span data-ttu-id="0a019-191">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="0a019-191">Return value</span></span>            | <span data-ttu-id="0a019-192">Efecto</span><span class="sxs-lookup"><span data-stu-id="0a019-192">Effect</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0a019-193">CDRF \_ predeterminado</span><span class="sxs-lookup"><span data-stu-id="0a019-193">CDRF\_DODEFAULT</span></span>         | <span data-ttu-id="0a019-194">El control se dibujará por sí mismo.</span><span class="sxs-lookup"><span data-stu-id="0a019-194">The control will draw itself.</span></span> <span data-ttu-id="0a019-195">No enviará más notificaciones de [nm \_ CUSTOMDRAW](nm-customdraw.md) para este ciclo de pintura.</span><span class="sxs-lookup"><span data-stu-id="0a019-195">It will not send additional [NM\_CUSTOMDRAW](nm-customdraw.md) notifications for this paint cycle.</span></span> <span data-ttu-id="0a019-196">Esta marca no se puede usar con ningún otro marcador.</span><span class="sxs-lookup"><span data-stu-id="0a019-196">This flag cannot be used with any other flag.</span></span>                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="0a019-197">CDRF \_</span><span class="sxs-lookup"><span data-stu-id="0a019-197">CDRF\_DOERASE</span></span>           | <span data-ttu-id="0a019-198">El control solo dibujará el fondo.</span><span class="sxs-lookup"><span data-stu-id="0a019-198">The control will only draw the background.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="0a019-199">CDRF \_ NEWFONT</span><span class="sxs-lookup"><span data-stu-id="0a019-199">CDRF\_NEWFONT</span></span>           | <span data-ttu-id="0a019-200">La aplicación especificó una nueva fuente para el elemento; el control usará la nueva fuente.</span><span class="sxs-lookup"><span data-stu-id="0a019-200">Your application specified a new font for the item; the control will use the new font.</span></span> <span data-ttu-id="0a019-201">Para obtener más información sobre cómo cambiar las fuentes, consulte [cambiar fuentes y colores](#changing-fonts-and-colors).</span><span class="sxs-lookup"><span data-stu-id="0a019-201">For more information on changing fonts, see [Changing fonts and colors](#changing-fonts-and-colors).</span></span> <span data-ttu-id="0a019-202">Esto sucede cuando **dwDrawStage** es igual a CDDS \_ ITEMPREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-202">This occurs when **dwDrawStage** equals CDDS\_ITEMPREPAINT.</span></span>                                                                                                                                                                                                       |
| <span data-ttu-id="0a019-203">CDRF \_ NOTIFYITEMDRAW</span><span class="sxs-lookup"><span data-stu-id="0a019-203">CDRF\_NOTIFYITEMDRAW</span></span>    | <span data-ttu-id="0a019-204">El control notificará al elemento primario de cualquier operación de dibujo específica del elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-204">The control will notify the parent of any item-specific drawing operations.</span></span> <span data-ttu-id="0a019-205">Enviará los códigos de notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) antes y después de que dibuje los elementos. Esto sucede cuando **dwDrawStage** es igual a CDDS \_ PREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-205">It will send [NM\_CUSTOMDRAW](nm-customdraw.md) notification codes before and after it draws items.This occurs when **dwDrawStage** equals CDDS\_PREPAINT.</span></span>                                                                                                                                                                                                                       |
| <span data-ttu-id="0a019-206">CDRF \_ NOTIFYPOSTERASE</span><span class="sxs-lookup"><span data-stu-id="0a019-206">CDRF\_NOTIFYPOSTERASE</span></span>   | <span data-ttu-id="0a019-207">El control notificará al elemento primario después de borrar un elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-207">The control will notify the parent after erasing an item.</span></span> <span data-ttu-id="0a019-208">Esto sucede cuando **dwDrawStage** es igual a CDDS \_ PREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-208">This occurs when **dwDrawStage** equals CDDS\_PREPAINT.</span></span>                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="0a019-209">CDRF \_ NOTIFYPOSTPAINT</span><span class="sxs-lookup"><span data-stu-id="0a019-209">CDRF\_NOTIFYPOSTPAINT</span></span>   | <span data-ttu-id="0a019-210">El control enviará una notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) cuando se complete el ciclo de dibujo para todo el control.</span><span class="sxs-lookup"><span data-stu-id="0a019-210">The control will send an [NM\_CUSTOMDRAW](nm-customdraw.md) notification when the painting cycle for the entire control is complete.</span></span> <span data-ttu-id="0a019-211">Esto sucede cuando **dwDrawStage** es igual a CDDS \_ PREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-211">This occurs when **dwDrawStage** equals CDDS\_PREPAINT.</span></span>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="0a019-212">CDRF \_ NOTIFYSUBITEMDRAW</span><span class="sxs-lookup"><span data-stu-id="0a019-212">CDRF\_NOTIFYSUBITEMDRAW</span></span> | <span data-ttu-id="0a019-213">[Versión 4,71](common-control-versions.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-213">[Version 4.71](common-control-versions.md).</span></span> <span data-ttu-id="0a019-214">La aplicación recibirá una notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) con **dwDrawStage** establecida en CDDS \_ ITEMPREPAINT \| CDDS \_ SubItem antes de que se dibuje cada subelemento de vista de lista.</span><span class="sxs-lookup"><span data-stu-id="0a019-214">Your application will receive an [NM\_CUSTOMDRAW](nm-customdraw.md) notification with **dwDrawStage** set to CDDS\_ITEMPREPAINT \| CDDS\_SUBITEM before each list-view subitem is drawn.</span></span> <span data-ttu-id="0a019-215">Después, puede especificar la fuente y el color de cada subelemento por separado o devolver [**CDRF de \_ forma predeterminada**](cdrf-constants.md) para el procesamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="0a019-215">You can then specify font and color for each subitem separately or return [**CDRF\_DODEFAULT**](cdrf-constants.md) for default processing.</span></span> <span data-ttu-id="0a019-216">Esto sucede cuando **dwDrawStage** es igual a CDDS \_ ITEMPREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-216">This occurs when **dwDrawStage** equals CDDS\_ITEMPREPAINT.</span></span> |
| <span data-ttu-id="0a019-217">CDRF \_ SKIPDEFAULT</span><span class="sxs-lookup"><span data-stu-id="0a019-217">CDRF\_SKIPDEFAULT</span></span>       | <span data-ttu-id="0a019-218">La aplicación dibujó el elemento manualmente.</span><span class="sxs-lookup"><span data-stu-id="0a019-218">Your application drew the item manually.</span></span> <span data-ttu-id="0a019-219">El control no dibujará el elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-219">The control will not draw the item.</span></span> <span data-ttu-id="0a019-220">Esto sucede cuando **dwDrawStage** es igual a CDDS \_ ITEMPREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-220">This occurs when **dwDrawStage** equals CDDS\_ITEMPREPAINT.</span></span>                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="0a019-221">CDRF \_ SKIPPOSTPAINT</span><span class="sxs-lookup"><span data-stu-id="0a019-221">CDRF\_SKIPPOSTPAINT</span></span>     | <span data-ttu-id="0a019-222">El control no dibujará el rectángulo de foco alrededor de un elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-222">The control will not draw the focus rectangle around an item.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                 |



 

### <a name="requesting-item-specific-notifications"></a><span data-ttu-id="0a019-223">Solicitud de notificaciones específicas del elemento</span><span class="sxs-lookup"><span data-stu-id="0a019-223">Requesting item-specific notifications</span></span>

<span data-ttu-id="0a019-224">Si la aplicación devuelve [**CDRF \_ NOTIFYITEMDRAW**](cdrf-constants.md) a la notificación de dibujo personalizado del prepintado inicial, el control enviará notificaciones para cada elemento que dibuje durante dicho ciclo.</span><span class="sxs-lookup"><span data-stu-id="0a019-224">If your application returns [**CDRF\_NOTIFYITEMDRAW**](cdrf-constants.md) to the initial prepaint custom draw notification, the control will send notifications for each item it draws during that paint cycle.</span></span> <span data-ttu-id="0a019-225">Estas notificaciones específicas del elemento tendrán el valor CDDS \_ ITEMPREPAINT en el miembro **dwDrawStage** de la estructura [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) adjunta.</span><span class="sxs-lookup"><span data-stu-id="0a019-225">These item-specific notifications will have the CDDS\_ITEMPREPAINT value in the **dwDrawStage** member of the accompanying [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) structure.</span></span> <span data-ttu-id="0a019-226">Puede solicitar que el control envíe otra notificación cuando termine de dibujar el elemento devolviendo [**CDRF \_ NOTIFYPOSTPAINT**](cdrf-constants.md) a estas notificaciones específicas del elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-226">You can request that the control send another notification when it is finished drawing the item by returning [**CDRF\_NOTIFYPOSTPAINT**](cdrf-constants.md) to these item-specific notifications.</span></span> <span data-ttu-id="0a019-227">De lo contrario, se devuelve [**CDRF de \_ forma predeterminada**](cdrf-constants.md) y el control no notificará a la ventana primaria hasta que empiece a dibujar el elemento siguiente.</span><span class="sxs-lookup"><span data-stu-id="0a019-227">Otherwise, return [**CDRF\_DODEFAULT**](cdrf-constants.md) and the control will not notify the parent window until it starts to draw the next item.</span></span>

### <a name="drawing-the-item-yourself"></a><span data-ttu-id="0a019-228">Dibujo del elemento</span><span class="sxs-lookup"><span data-stu-id="0a019-228">Drawing the item yourself</span></span>

<span data-ttu-id="0a019-229">Si la aplicación dibuja todo el elemento, se devuelve [**CDRF \_ SKIPDEFAULT**](cdrf-constants.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-229">If your application draws the entire item, return [**CDRF\_SKIPDEFAULT**](cdrf-constants.md).</span></span> <span data-ttu-id="0a019-230">Esto permite al control omitir los elementos que no necesita dibujar, con lo que se reduce la sobrecarga del sistema.</span><span class="sxs-lookup"><span data-stu-id="0a019-230">This allows the control to skip items that it does not need to draw, thereby decreasing system overhead.</span></span> <span data-ttu-id="0a019-231">Tenga en cuenta que devolver este valor significa que el control no dibujará ninguna parte del elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-231">Keep in mind that returning this value means the control will not draw any portion of the item.</span></span>

### <a name="changing-fonts-and-colors"></a><span data-ttu-id="0a019-232">Cambiar fuentes y colores</span><span class="sxs-lookup"><span data-stu-id="0a019-232">Changing fonts and colors</span></span>

<span data-ttu-id="0a019-233">La aplicación puede usar Draw personalizado para cambiar la fuente de un elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-233">Your application can use custom draw to change an item's font.</span></span> <span data-ttu-id="0a019-234">Simplemente seleccione el HFONT que desee en el contexto de dispositivo especificado por el miembro **HDC** de la estructura [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) asociada a la notificación de dibujo personalizada.</span><span class="sxs-lookup"><span data-stu-id="0a019-234">Simply select the HFONT you want into the device context specified by the **hdc** member of the [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) structure associated with the custom draw notification.</span></span> <span data-ttu-id="0a019-235">Dado que la fuente que seleccione puede tener distintas métricas que la fuente predeterminada, asegúrese de incluir el bit [**CDRF \_ NEWFONT**](cdrf-constants.md) en el valor devuelto del mensaje de notificación.</span><span class="sxs-lookup"><span data-stu-id="0a019-235">Since the font you select might have different metrics than the default font, make sure you include the [**CDRF\_NEWFONT**](cdrf-constants.md) bit in the return value for the notification message.</span></span> <span data-ttu-id="0a019-236">Para obtener más información sobre el uso de esta funcionalidad, consulte el código de ejemplo en [uso de Draw personalizado](using-custom-draw.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-236">For more information on using this functionality, see the sample code in [Using Custom Draw](using-custom-draw.md).</span></span> <span data-ttu-id="0a019-237">La fuente que especifica la aplicación se usa para mostrar ese elemento cuando no está seleccionado.</span><span class="sxs-lookup"><span data-stu-id="0a019-237">The font that your application specifies is used to display that item when it is not selected.</span></span> <span data-ttu-id="0a019-238">El dibujo personalizado no permite cambiar los atributos de fuente de los elementos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="0a019-238">Custom draw does not allow you to change the font attributes for selected items.</span></span>

<span data-ttu-id="0a019-239">Para cambiar los colores de texto de todos los controles que admiten el dibujo personalizado excepto la vista de lista y la vista de árbol, simplemente establezca los colores de fondo y texto que desee en el contexto de dispositivo proporcionado en la estructura de notificación de dibujo personalizada con las funciones [**SetTextColor**](/windows/desktop/api/wingdi/nf-wingdi-settextcolor) y [**SetBkColor**](/windows/desktop/api/wingdi/nf-wingdi-setbkcolor) .</span><span class="sxs-lookup"><span data-stu-id="0a019-239">To change text colors for all controls that support custom draw except for the list view and tree view, simply set the desired text and background colors in the device context supplied in the custom draw notification structure with the [**SetTextColor**](/windows/desktop/api/wingdi/nf-wingdi-settextcolor) and [**SetBkColor**](/windows/desktop/api/wingdi/nf-wingdi-setbkcolor) functions.</span></span> <span data-ttu-id="0a019-240">Para modificar los colores de texto en la vista de lista o en la vista de árbol, debe colocar los valores de color deseados en los miembros **clrText** y **clrTextBk** de la estructura [**NMLVCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmlvcustomdraw) o [**NMTVCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmtvcustomdraw) .</span><span class="sxs-lookup"><span data-stu-id="0a019-240">To modify the text colors in the list view or tree view, you need to place the desired color values in the **clrText** and **clrTextBk** members of the [**NMLVCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmlvcustomdraw) or [**NMTVCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmtvcustomdraw) structure.</span></span>

> [!Note]  
> <span data-ttu-id="0a019-241">Antes de la [versión 6,0](common-control-versions.md) de los controles comunes, las barras de herramientas omiten la marca [**\_ NEWFONT de CDRF**](cdrf-constants.md) .</span><span class="sxs-lookup"><span data-stu-id="0a019-241">Prior to [Version 6.0](common-control-versions.md) of the common controls, toolbars ignore the [**CDRF\_NEWFONT**](cdrf-constants.md) flag.</span></span> <span data-ttu-id="0a019-242">La versión 6,0 admite la marca **\_ NEWFONT de CDRF** y se puede usar para seleccionar una fuente diferente para la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="0a019-242">Version 6.0 supports the **CDRF\_NEWFONT** flag, and you can use it to select a different font for the toolbar.</span></span> <span data-ttu-id="0a019-243">Sin embargo, no se puede cambiar el color de una barra de herramientas cuando está activo un estilo visual.</span><span class="sxs-lookup"><span data-stu-id="0a019-243">However, you cannot change a toolbar's color when a visual style is active.</span></span> <span data-ttu-id="0a019-244">Para cambiar el color de una barra de herramientas en la versión 6,0, primero debe deshabilitar los estilos visuales mediante una llamada a [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme) y no especificar ningún estilo visual:</span><span class="sxs-lookup"><span data-stu-id="0a019-244">To change a toolbar's color in Version 6.0, you must first disable visual styles by calling [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme) and specifying no visual style:</span></span>

 


```
SetWindowTheme (hwnd, "", "");
```



## <a name="custom-draw-with-list-view-and-tree-view-controls"></a><span data-ttu-id="0a019-245">Dibujo personalizado con controles de List-View y Tree-View</span><span class="sxs-lookup"><span data-stu-id="0a019-245">Custom Draw With List-View and Tree-View Controls</span></span>

<span data-ttu-id="0a019-246">La mayoría de los controles comunes se pueden controlar en esencia de la misma manera.</span><span class="sxs-lookup"><span data-stu-id="0a019-246">Most common controls can be handled in essentially the same way.</span></span> <span data-ttu-id="0a019-247">Sin embargo, los controles de vista de lista y de vista de árbol tienen algunas características que requieren un enfoque algo diferente para el dibujo personalizado.</span><span class="sxs-lookup"><span data-stu-id="0a019-247">However, the list-view and tree-view controls have some features that require a somewhat different approach to custom draw.</span></span>

<span data-ttu-id="0a019-248">En la [versión 5,0](common-control-versions.md), estos dos controles pueden mostrar texto recortado si cambia la fuente devolviendo [**CDRF \_ NEWFONT**](cdrf-constants.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-248">For [Version 5.0](common-control-versions.md), these two controls may display clipped text if you change the font by returning [**CDRF\_NEWFONT**](cdrf-constants.md).</span></span> <span data-ttu-id="0a019-249">Este comportamiento es necesario para la compatibilidad con versiones anteriores de los controles comunes.</span><span class="sxs-lookup"><span data-stu-id="0a019-249">This behavior is necessary for backward compatibility with earlier versions of the common controls.</span></span> <span data-ttu-id="0a019-250">Si desea cambiar la fuente de un control de vista de lista o de árbol, obtendrá mejores resultados si envía un mensaje [**\_ SETVERSION de CCM**](ccm-setversion.md) con el valor de *wParam* establecido en 5 antes de agregar elementos al control.</span><span class="sxs-lookup"><span data-stu-id="0a019-250">If you want to change the font of a list-view or tree-view control, you will get better results if you send a [**CCM\_SETVERSION**](ccm-setversion.md) message with the *wParam* value set to 5 before adding any items to the control.</span></span> <span data-ttu-id="0a019-251">Para obtener un ejemplo de un control de vista de árbol que usa Draw personalizado, vea el artículo de Knowledge base sobre el [ejemplo: CustDTv ilustra el uso de Draw personalizado en un TreeView (Q248496)]( https://support.microsoft.com/default.aspx?scid=kb;EN-US;q248496).</span><span class="sxs-lookup"><span data-stu-id="0a019-251">For an example of a tree-view control that uses custom draw see Knowledge Base article [SAMPLE: CustDTv Illustrates Custom Draw in a TreeView (Q248496)]( https://support.microsoft.com/default.aspx?scid=kb;EN-US;q248496).</span></span>

### <a name="custom-draw-with-list-view-controls"></a><span data-ttu-id="0a019-252">Dibujo personalizado con controles de List-View</span><span class="sxs-lookup"><span data-stu-id="0a019-252">Custom Draw With List-View Controls</span></span>

<span data-ttu-id="0a019-253">Dado que los controles de vista de lista tienen subelementos y varios modos de presentación, deberá controlar la notificación de [ \_ CUSTOMDRAW nm](nm-customdraw.md) de forma ligeramente diferente a la de los demás controles comunes.</span><span class="sxs-lookup"><span data-stu-id="0a019-253">Because list-view controls have subitems and multiple display modes, you will need to handle the [NM\_CUSTOMDRAW](nm-customdraw.md) notification somewhat differently than for the other common controls.</span></span>

<span data-ttu-id="0a019-254">En el modo de informe, utilice el procedimiento siguiente.</span><span class="sxs-lookup"><span data-stu-id="0a019-254">For report mode, use the following procedure.</span></span>

1.  <span data-ttu-id="0a019-255">La primera [notificación \_ CUSTOMDRAW de nm](nm-customdraw.md) tendrá el miembro **DwDrawStage** de la estructura [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) asociada establecida en CDDS \_ PREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-255">The first [NM\_CUSTOMDRAW](nm-customdraw.md) notification will have the **dwDrawStage** member of the associated [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) structure set to CDDS\_PREPAINT.</span></span> <span data-ttu-id="0a019-256">Devuelve [**CDRF \_ NOTIFYITEMDRAW**](cdrf-constants.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-256">Return [**CDRF\_NOTIFYITEMDRAW**](cdrf-constants.md).</span></span>
2.  <span data-ttu-id="0a019-257">Después recibirá una notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) con **dwDrawStage** establecido en CDDS \_ ITEMPREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-257">You will then receive an [NM\_CUSTOMDRAW](nm-customdraw.md) notification with **dwDrawStage** set to CDDS\_ITEMPREPAINT.</span></span> <span data-ttu-id="0a019-258">Si especifica nuevas fuentes o colores y devuelve [**CDRF \_ NEWFONT**](cdrf-constants.md), se cambiarán todos los subelementos del elemento.</span><span class="sxs-lookup"><span data-stu-id="0a019-258">If you specify new fonts or colors and return [**CDRF\_NEWFONT**](cdrf-constants.md), all subitems of the item will be changed.</span></span> <span data-ttu-id="0a019-259">Si en su lugar desea controlar cada subelemento por separado, devuelva [**CDRF \_ NOTIFYSUBITEMDRAW**](cdrf-constants.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-259">If you want instead to handle each subitem separately, return [**CDRF\_NOTIFYSUBITEMDRAW**](cdrf-constants.md).</span></span>
3.  <span data-ttu-id="0a019-260">Si ha devuelto [**CDRF \_ NOTIFYSUBITEMDRAW**](cdrf-constants.md) en el paso anterior, recibirá una notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) para cada SUBelemento con **dwDrawStage** establecido en CDDS \_ SubItem \| CDDS \_ ITEMPREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-260">If you returned [**CDRF\_NOTIFYSUBITEMDRAW**](cdrf-constants.md) in the previous step, you will then receive an [NM\_CUSTOMDRAW](nm-customdraw.md) notification for each subitem with **dwDrawStage** set to CDDS\_SUBITEM \| CDDS\_ITEMPREPAINT.</span></span> <span data-ttu-id="0a019-261">Para cambiar la fuente o el color de ese subelemento, especifique una nueva fuente o color y devuelva [**CDRF \_ NEWFONT**](cdrf-constants.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-261">To change the font or color for that subitem, specify a new font or color and return [**CDRF\_NEWFONT**](cdrf-constants.md).</span></span>

<span data-ttu-id="0a019-262">En el caso de los modos de iconos grandes, iconos pequeños y listas, use el procedimiento siguiente.</span><span class="sxs-lookup"><span data-stu-id="0a019-262">For the large icon, small icon, and list modes, use the following procedure.</span></span>

1.  <span data-ttu-id="0a019-263">La primera [notificación \_ CUSTOMDRAW de nm](nm-customdraw.md) tendrá el miembro **DwDrawStage** de la estructura [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) asociada establecida en CDDS \_ PREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-263">The first [NM\_CUSTOMDRAW](nm-customdraw.md) notification will have the **dwDrawStage** member of the associated [**NMCUSTOMDRAW**](/windows/win32/api/commctrl/ns-commctrl-nmcustomdraw) structure set to CDDS\_PREPAINT.</span></span> <span data-ttu-id="0a019-264">Devuelve [**CDRF \_ NOTIFYITEMDRAW**](cdrf-constants.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-264">Return [**CDRF\_NOTIFYITEMDRAW**](cdrf-constants.md).</span></span>
2.  <span data-ttu-id="0a019-265">Después recibirá una notificación de [nm \_ CUSTOMDRAW](nm-customdraw.md) con **dwDrawStage** establecido en CDDS \_ ITEMPREPAINT.</span><span class="sxs-lookup"><span data-stu-id="0a019-265">You will then receive an [NM\_CUSTOMDRAW](nm-customdraw.md) notification with **dwDrawStage** set to CDDS\_ITEMPREPAINT.</span></span> <span data-ttu-id="0a019-266">Puede cambiar las fuentes o los colores de un elemento especificando nuevas fuentes y colores y devolviendo [**CDRF \_ NEWFONT**](cdrf-constants.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-266">You can change the fonts or colors of an item by specifying new fonts and colors and returning [**CDRF\_NEWFONT**](cdrf-constants.md).</span></span> <span data-ttu-id="0a019-267">Dado que estos modos no tienen subelementos, no recibirá ninguna notificación adicional de NM \_ CUSTOMDRAW.</span><span class="sxs-lookup"><span data-stu-id="0a019-267">Because these modes do not have subitems, you will not receive any additional NM\_CUSTOMDRAW notifications.</span></span>

<span data-ttu-id="0a019-268">Para obtener un ejemplo de un controlador de notificación de la vista de lista [ \_ CUSTOMDRAW nm](nm-customdraw.md) , vea [usar Draw personalizado](using-custom-draw.md).</span><span class="sxs-lookup"><span data-stu-id="0a019-268">For an example of a list-view [NM\_CUSTOMDRAW](nm-customdraw.md) notification handler, see [Using Custom Draw](using-custom-draw.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="0a019-269">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="0a019-269">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="0a019-270">**Vista**</span><span class="sxs-lookup"><span data-stu-id="0a019-270">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="0a019-271">Usar Draw personalizado</span><span class="sxs-lookup"><span data-stu-id="0a019-271">Using Custom Draw</span></span>](using-custom-draw.md)
</dt> <dt>

[<span data-ttu-id="0a019-272">Referencia de dibujo personalizada</span><span class="sxs-lookup"><span data-stu-id="0a019-272">Custom Draw Reference</span></span>](custom-draw-reference.md)
</dt> <dt>

<span data-ttu-id="0a019-273">**Otros recursos**</span><span class="sxs-lookup"><span data-stu-id="0a019-273">**Other Resources**</span></span>
</dt> <dt>

[<span data-ttu-id="0a019-274">EJEMPLO: CustDTv ilustra el dibujo personalizado en una vista de árbol (Q248496)</span><span class="sxs-lookup"><span data-stu-id="0a019-274">SAMPLE: CustDTv Illustrates Custom Draw in a TreeView (Q248496)</span></span>]( https://support.microsoft.com/default.aspx?scid=kb;EN-US;q248496)
</dt> </dl>

 

 