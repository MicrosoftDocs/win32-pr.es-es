---
description: Las API de StylusInput permiten interactuar con el flujo de datos del lápiz de Tablet PC. Para interactuar con el flujo de datos, agregue un objeto RealTimeStylus a la aplicación y agregue complementos al objeto RealTimeStylus.
ms.assetid: 88bab0ab-df9f-4813-9a9f-9a137813f0b4
title: Arquitectura de las API de StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: eeda6a6a0269e8306aed6a6b6de4c1bbe33bc46f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104156744"
---
# <a name="architecture-of-the-stylusinput-apis"></a><span data-ttu-id="fe2cb-104">Arquitectura de las API de StylusInput</span><span class="sxs-lookup"><span data-stu-id="fe2cb-104">Architecture of the StylusInput APIs</span></span>

<span data-ttu-id="fe2cb-105">Las API de StylusInput permiten interactuar con el flujo de datos del lápiz de Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-105">The StylusInput APIs allow you to interact with the tablet pen data stream.</span></span> <span data-ttu-id="fe2cb-106">Para interactuar con el flujo de datos, agregue un objeto [**RealTimeStylus**](realtimestylus-class.md) a la aplicación y agregue complementos al objeto **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-106">To interact with the data stream add a [**RealTimeStylus**](realtimestylus-class.md) object to your application, and add plug-ins to the **RealTimeStylus** object.</span></span>

<span data-ttu-id="fe2cb-107">Se proporcionan dos complementos en las API de StylusInput.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-107">Two plug-ins are provided in the StylusInput APIs.</span></span> <span data-ttu-id="fe2cb-108">El objeto [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) implementa la interfaz [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-108">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface.</span></span> <span data-ttu-id="fe2cb-109">El objeto **DynamicRenderer** representa la entrada de lápiz en tiempo real, a medida que se dibuja.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-109">The **DynamicRenderer** object renders the ink in real time, as it is being drawn.</span></span> <span data-ttu-id="fe2cb-110">El objeto [**GestureRecognizer**](gesturerecognizer-class.md) implementa las interfaces **IStylusSyncPlugin** y [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-110">The [**GestureRecognizer**](gesturerecognizer-class.md) object implements the **IStylusSyncPlugin** and [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interfaces.</span></span> <span data-ttu-id="fe2cb-111">El objeto **GestureRecognizer** reconoce los gestos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-111">The **GestureRecognizer** object recognizes application gestures.</span></span>

## <a name="definitions"></a><span data-ttu-id="fe2cb-112">Definiciones</span><span class="sxs-lookup"><span data-stu-id="fe2cb-112">Definitions</span></span>

<span data-ttu-id="fe2cb-113">Los siguientes términos se usan en las secciones que describen las API de StylusInput:</span><span class="sxs-lookup"><span data-stu-id="fe2cb-113">The following terms are used in the sections describing the StylusInput APIs:</span></span>

<span data-ttu-id="fe2cb-114">Complemento sincrónico</span><span class="sxs-lookup"><span data-stu-id="fe2cb-114">Synchronous plug-in</span></span>

<span data-ttu-id="fe2cb-115">Una clase que implementa la interfaz [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-115">A class that implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface.</span></span> <span data-ttu-id="fe2cb-116">Normalmente, el objeto [**RealTimeStylus**](realtimestylus-class.md) llama directamente a los complementos sincrónicos.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-116">Synchronous plug-ins are generally called directly by the [**RealTimeStylus**](realtimestylus-class.md) object.</span></span>

<span data-ttu-id="fe2cb-117">Complemento asincrónico</span><span class="sxs-lookup"><span data-stu-id="fe2cb-117">Asynchronous plug-in</span></span>

<span data-ttu-id="fe2cb-118">Una clase que implementa la interfaz [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-118">A class that implements the [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface.</span></span> <span data-ttu-id="fe2cb-119">En general, se llama a los complementos asincrónicos en el subproceso de la interfaz de usuario (IU) de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-119">Asynchronous plug-ins are generally called on the application's user interface (UI) thread.</span></span>

<span data-ttu-id="fe2cb-120">Colección de complementos sincrónicos</span><span class="sxs-lookup"><span data-stu-id="fe2cb-120">Synchronous plug-in collection</span></span>

<span data-ttu-id="fe2cb-121">Colección [StylusSyncPluginCollection](/previous-versions/ms824788(v=msdn.10)) , que es una colección ordenada de objetos [IStylusSyncPlugin](/previous-versions/ms824751(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-121">A [StylusSyncPluginCollection](/previous-versions/ms824788(v=msdn.10)) collection, which is an ordered collection of [IStylusSyncPlugin](/previous-versions/ms824751(v=msdn.10)) objects.</span></span> <span data-ttu-id="fe2cb-122">Normalmente, una colección de complementos sincrónicos hace referencia a la colección asignada a la propiedad [SyncPluginCollection](/previous-versions/ms824833(v=msdn.10)) de un objeto [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-122">A synchronous plug-in collection usually refers to the collection assigned to the [SyncPluginCollection](/previous-versions/ms824833(v=msdn.10)) property of a [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) object.</span></span> <span data-ttu-id="fe2cb-123">Solo se pueden agregar complementos sincrónicos a una colección de complementos sincrónicos.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-123">Only synchronous plug-ins may be added to a synchronous plug-in collection.</span></span>

<span data-ttu-id="fe2cb-124">Colección de complementos asincrónica</span><span class="sxs-lookup"><span data-stu-id="fe2cb-124">Asynchronous plug-in collection</span></span>

<span data-ttu-id="fe2cb-125">Colección [StylusAsyncPluginCollection](/previous-versions/ms824808(v=msdn.10)) , que es una colección ordenada de objetos [IStylusAsyncPlugin](/previous-versions/ms824768(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-125">A [StylusAsyncPluginCollection](/previous-versions/ms824808(v=msdn.10)) collection, which is an ordered collection of [IStylusAsyncPlugin](/previous-versions/ms824768(v=msdn.10)) objects.</span></span> <span data-ttu-id="fe2cb-126">Normalmente, una colección de complementos asincrónica hace referencia a la colección asignada a la propiedad [AsyncPluginCollection](/previous-versions/ms824831(v=msdn.10)) de un objeto [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-126">An asynchronous plug-in collection usually refers to the collection assigned to the [AsyncPluginCollection](/previous-versions/ms824831(v=msdn.10)) property of a [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) object.</span></span> <span data-ttu-id="fe2cb-127">Solo se pueden agregar complementos asincrónicos a una colección de complementos asincrónica.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-127">Only asynchronous plug-ins may be added to an asynchronous plug-in collection.</span></span>

## <a name="synchronous-and-asynchronous-plug-ins"></a><span data-ttu-id="fe2cb-128">Complementos sincrónicos y asincrónicos</span><span class="sxs-lookup"><span data-stu-id="fe2cb-128">Synchronous and Asynchronous Plug-ins</span></span>

<span data-ttu-id="fe2cb-129">El objeto [**RealTimeStylus**](realtimestylus-class.md) está diseñado para proporcionar acceso en tiempo real al flujo de datos desde un lápiz de Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-129">The [**RealTimeStylus**](realtimestylus-class.md) object is designed to provide real-time access to the data stream from a tablet pen.</span></span> <span data-ttu-id="fe2cb-130">Cree o use complementos sincrónicos para tareas que requieran acceso en tiempo real al flujo de datos y que se despidan computacionalmente, por ejemplo, para el filtrado de paquetes.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-130">Create or use synchronous plug-ins for tasks that require real-time access to the data stream and are computationally undemanding, such as for packet filtering.</span></span> <span data-ttu-id="fe2cb-131">Cree o use complementos asincrónicos para tareas que no requieran acceso en tiempo real al flujo de datos, por ejemplo, para crear y almacenar los trazos en un objeto [**InkDisp**](inkdisp-class.md) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-131">Create or use asynchronous plug-ins for tasks that do not require real-time access to the data stream, such as for creating and storing strokes in an [**InkDisp**](inkdisp-class.md) object.</span></span>

<span data-ttu-id="fe2cb-132">Es posible que algunas tareas estén exigiendo cálculo, pero que requieran acceso en tiempo real al flujo de datos, como el reconocimiento de gestos de varios trazos.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-132">Certain tasks may be computationally demanding yet require real-time access to the data stream, such as multistroke gesture recognition.</span></span> <span data-ttu-id="fe2cb-133">Para satisfacer estas necesidades, las API de StylusInput proporcionan un modelo [**RealTimeStylus**](realtimestylus-class.md) en cascada que le permite usar dos objetos **RealTimeStylus** , cada uno de los cuales se ejecuta en su propio subproceso.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-133">To address these needs, the StylusInput APIs provide a cascaded [**RealTimeStylus**](realtimestylus-class.md) model that allows you to use two **RealTimeStylus** objects, each running on its own thread.</span></span> <span data-ttu-id="fe2cb-134">Para obtener más información sobre el modelo **RealTimeStylus** en cascada, vea [el modelo RealTimeStylus en cascada](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="fe2cb-134">For more information about the cascaded **RealTimeStylus** model, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

<span data-ttu-id="fe2cb-135">Para obtener más información sobre cómo usar y crear complementos, consulte [trabajar con las API de StylusInput](working-with-the-stylusinput-apis.md).</span><span class="sxs-lookup"><span data-stu-id="fe2cb-135">For more information about using and creating plug-ins, see [Working with the StylusInput APIs](working-with-the-stylusinput-apis.md).</span></span>

## <a name="the-tablet-pen-data-stream"></a><span data-ttu-id="fe2cb-136">El flujo de datos del lápiz de Tablet PC</span><span class="sxs-lookup"><span data-stu-id="fe2cb-136">The Tablet Pen Data Stream</span></span>

<span data-ttu-id="fe2cb-137">El objeto [**RealTimeStylus**](realtimestylus-class.md) tiene dos colas internas que llevan los datos del lápiz de Tablet PC, la cola de entrada y la cola de salida.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-137">The [**RealTimeStylus**](realtimestylus-class.md) object has two internal queues that carry the tablet pen data, the input queue and the output queue.</span></span> <span data-ttu-id="fe2cb-138">Los datos del lápiz se convierten en instancias de las clases del espacio de nombres [Microsoft. StylusInput. PluginData](/previous-versions/ms823992(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-138">The pen data is converted into instances of the classes in the [Microsoft.StylusInput.PluginData](/previous-versions/ms823992(v=msdn.10)) namespace.</span></span> <span data-ttu-id="fe2cb-139">En la lista siguiente se describe cómo el objeto **RealTimeStylus** controla los datos del lápiz de Tablet PC:</span><span class="sxs-lookup"><span data-stu-id="fe2cb-139">The following list describes how the **RealTimeStylus** object handles the tablet pen data:</span></span>

<span data-ttu-id="fe2cb-140">El objeto [**RealTimeStylus**](realtimestylus-class.md) comprueba primero los objetos de datos de complemento en su cola de entrada y después desde el flujo de datos del lápiz de Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-140">The [**RealTimeStylus**](realtimestylus-class.md) object checks for plug-in data objects first on its input queue and then from the tablet pen data stream.</span></span>

<span data-ttu-id="fe2cb-141">El objeto [**RealTimeStylus**](realtimestylus-class.md) envía un objeto de datos de complemento a los objetos de su colección de complementos sincrónicos.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-141">The [**RealTimeStylus**](realtimestylus-class.md) object sends one plug-in data object to the objects in its synchronous plug-in collection.</span></span> <span data-ttu-id="fe2cb-142">Cada complemento sincrónico puede agregar datos a la cola de entrada o de salida.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-142">Each synchronous plug-in can add data to either the input or output queue.</span></span>

<span data-ttu-id="fe2cb-143">Una vez que el objeto de datos del complemento se ha enviado a todos los miembros de la colección de complementos sincrónicos, el objeto de datos del complemento se coloca en la cola de salida del objeto [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-143">After the plug-in data object has been sent to all members of the synchronous plug-in collection, the plug-in data object is placed on the [**RealTimeStylus**](realtimestylus-class.md) object's output queue.</span></span>

<span data-ttu-id="fe2cb-144">A continuación, el objeto [**RealTimeStylus**](realtimestylus-class.md) comprueba el siguiente objeto de datos del complemento que se va a procesar.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-144">The [**RealTimeStylus**](realtimestylus-class.md) object then checks for the next plug-in data object to process.</span></span>

<span data-ttu-id="fe2cb-145">Mientras que la cola de salida del objeto [**RealTimeStylus**](realtimestylus-class.md) contiene datos, el objeto **RealTimeStylus** envía un objeto de datos de complemento desde su cola de salida a los objetos de su colección de complementos asincrónica.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-145">While the [**RealTimeStylus**](realtimestylus-class.md) object's output queue contains data, the **RealTimeStylus** object sends one plug-in data object from its output queue to the objects in its asynchronous plug-in collection.</span></span> <span data-ttu-id="fe2cb-146">Cada complemento asincrónico puede agregar datos a la cola de entrada o de salida.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-146">Each asynchronous plug-in can add data to either the input or output queue.</span></span> <span data-ttu-id="fe2cb-147">Sin embargo, dado que los complementos asincrónicos se ejecutan en el subproceso de la interfaz de usuario, los datos se agregan a la cola en relación con los datos de lápiz actuales que procesa el objeto **RealTimeStylus** y no con respecto a los datos que procesa el complemento asincrónico.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-147">However, because the asynchronous plug-ins run on the UI thread, the data is added to the queue in relation to the current pen data the **RealTimeStylus** object is processing, and not in relation to the data that the asynchronous plug-in is processing.</span></span>

<span data-ttu-id="fe2cb-148">En el diagrama siguiente se ilustra el flujo de datos del lápiz de Tablet PC a través del objeto [**RealTimeStylus**](realtimestylus-class.md) y sus colecciones de complementos.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-148">The following diagram illustrates the flow of tablet pen data through the [**RealTimeStylus**](realtimestylus-class.md) object and its plug-in collections.</span></span>

![flujo de datos del lápiz de Tablet PC a través del objeto RealTimeStylus y sus colecciones de complementos](images/5a698bc9-833b-4b24-9fa2-70be0ca61032.gif)

<span data-ttu-id="fe2cb-150">En este diagrama, los círculos con la etiqueta "A" y "B" representan los datos del lápiz de Tablet PC que ya se han agregado a la cola de salida del objeto [**RealTimeStylus**](realtimestylus-class.md) y que todavía no se han enviado a la colección de complementos asincrónica.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-150">In this diagram, the circles labeled "A" and "B" represent tablet pen data that has already been added to the [**RealTimeStylus**](realtimestylus-class.md) object's output queue and that has not yet been sent to the asynchronous plug-in collection.</span></span> <span data-ttu-id="fe2cb-151">El círculo con la etiqueta "C" representa los datos del lápiz de Tablet PC que está procesando actualmente el objeto **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-151">The circle labeled "C" represents the tablet pen data that the **RealTimeStylus** object is currently processing.</span></span> <span data-ttu-id="fe2cb-152">Se envía a la colección de complementos sincrónicos y se coloca en la cola de salida.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-152">It is sent to the synchronous plug-in collection and placed on the output queue.</span></span> <span data-ttu-id="fe2cb-153">El círculo vacío representa la posición en la cola de salida donde se agregan los datos futuros del lápiz de Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="fe2cb-153">The empty circle represents the position in the output queue where future tablet pen data is added.</span></span>

<span data-ttu-id="fe2cb-154">Para obtener más información sobre cómo se agregan datos específicos a la cola y se procesan, vea [datos de complemento y la clase RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="fe2cb-154">For more information about how specific data is added to the queue and processed, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

## <a name="the-stylusinput-apis"></a><span data-ttu-id="fe2cb-155">Las API de StylusInput</span><span class="sxs-lookup"><span data-stu-id="fe2cb-155">The StylusInput APIs</span></span>

<span data-ttu-id="fe2cb-156">Las API de StylusInput residen principalmente en los espacios de nombres [Microsoft. StylusInput](/previous-versions/ms824750(v=msdn.10)) y [Microsoft. StylusInput. PluginData](/previous-versions/ms823992(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-156">The StylusInput APIs reside primarily in the [Microsoft.StylusInput](/previous-versions/ms824750(v=msdn.10)) and [Microsoft.StylusInput.PluginData](/previous-versions/ms823992(v=msdn.10)) namespaces.</span></span> <span data-ttu-id="fe2cb-157">Sin embargo, las API de StylusInput también hacen referencia a algunas clases del espacio de nombres [Microsoft. Ink](/previous-versions/ms826516(v=msdn.10)) , como la clase [tableta](/previous-versions/ms827783(v=msdn.10)) , la colección [TabletPropertyDescriptionCollection](/previous-versions/ms827760(v=msdn.10)) y las enumeraciones [ApplicationGesture](/previous-versions/ms827547(v=msdn.10)) y [SystemGesture](/previous-versions/ms827134(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="fe2cb-157">However, the StylusInput APIs also reference some classes in the [Microsoft.Ink](/previous-versions/ms826516(v=msdn.10)) namespace, such as the [Tablet](/previous-versions/ms827783(v=msdn.10)) class, the [TabletPropertyDescriptionCollection](/previous-versions/ms827760(v=msdn.10)) collection, and the [ApplicationGesture](/previous-versions/ms827547(v=msdn.10)) and [SystemGesture](/previous-versions/ms827134(v=msdn.10)) enumerations.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fe2cb-158">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="fe2cb-158">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="fe2cb-159">[**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="fe2cb-159">[**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85))</span></span>
</dt> <dt>

[<span data-ttu-id="fe2cb-160">**GestureRecognizer**</span><span class="sxs-lookup"><span data-stu-id="fe2cb-160">**GestureRecognizer**</span></span>](gesturerecognizer-class.md)
</dt> <dt>

[<span data-ttu-id="fe2cb-161">**RealTimeStylus**</span><span class="sxs-lookup"><span data-stu-id="fe2cb-161">**RealTimeStylus**</span></span>](realtimestylus-class.md)
</dt> <dt>

[<span data-ttu-id="fe2cb-162">**IStylusAsyncPlugin**</span><span class="sxs-lookup"><span data-stu-id="fe2cb-162">**IStylusAsyncPlugin**</span></span>](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin)
</dt> <dt>

[<span data-ttu-id="fe2cb-163">**IStylusSyncPlugin**</span><span class="sxs-lookup"><span data-stu-id="fe2cb-163">**IStylusSyncPlugin**</span></span>](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin)
</dt> <dt>

[<span data-ttu-id="fe2cb-164">Trabajar con las API de StylusInput</span><span class="sxs-lookup"><span data-stu-id="fe2cb-164">Working with the StylusInput APIs</span></span>](working-with-the-stylusinput-apis.md)
</dt> <dt>

[<span data-ttu-id="fe2cb-165">El modelo RealTimeStylus en cascada</span><span class="sxs-lookup"><span data-stu-id="fe2cb-165">The Cascaded RealTimeStylus Model</span></span>](the-cascaded-realtimestylus-model.md)
</dt> </dl>

 

 
