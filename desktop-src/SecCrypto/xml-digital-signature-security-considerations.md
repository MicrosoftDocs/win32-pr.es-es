---
description: Las aplicaciones que firman y comprueban las firmas digitales XML se deben escribir de acuerdo con las siguientes prácticas recomendadas para evitar ataques de denegación de servicio, pérdida de datos y riesgo de información privada.
ms.assetid: aa972946-9860-49c1-ae94-3f315684c291
title: Consideraciones de seguridad de las firmas digitales XML
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e54b4c5f3f863e0bc84172a7507bfe8609e2df7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105688180"
---
# <a name="xml-digital-signature-security-considerations"></a><span data-ttu-id="574e1-103">Consideraciones de seguridad de las firmas digitales XML</span><span class="sxs-lookup"><span data-stu-id="574e1-103">XML Digital Signature Security Considerations</span></span>

<span data-ttu-id="574e1-104">Las aplicaciones que firman y comprueban las firmas digitales XML se deben escribir de acuerdo con las siguientes prácticas recomendadas para evitar ataques de denegación de servicio, pérdida de datos y riesgo de información privada.</span><span class="sxs-lookup"><span data-stu-id="574e1-104">Applications that sign and verify XML digital signatures should be written according to the following best practices to avoid denial of service attacks, data loss, and compromise of private information.</span></span> <span data-ttu-id="574e1-105">La siguiente lista proporciona instrucciones generales; sin embargo, se recomienda a los desarrolladores que realicen análisis de seguridad adicionales específicos de sus aplicaciones y revisen los procedimientos recomendados de firmas digitales más recientes publicados por el W3C.</span><span class="sxs-lookup"><span data-stu-id="574e1-105">The list below provides general guidance; however, developers are encouraged to perform additional security analysis specific to their applications and review the latest digital signatures best practices published by the W3C.</span></span>

-   [<span data-ttu-id="574e1-106">Comprobar la confianza de la clave de firma</span><span class="sxs-lookup"><span data-stu-id="574e1-106">Verify trust of the signing key</span></span>](#verify-trust-of-the-signing-key)
-   [<span data-ttu-id="574e1-107">Compruebe primero la clave de firma y valide SignedInfo y, a continuación, valide las referencias</span><span class="sxs-lookup"><span data-stu-id="574e1-107">First verify the signing key and validate SignedInfo, then validate references</span></span>](#first-verify-the-signing-key-and-validate-signedinfo-then-validate-references)
-   [<span data-ttu-id="574e1-108">Usar el conjunto mínimo de algoritmos de canonización y transformaciones necesarias</span><span class="sxs-lookup"><span data-stu-id="574e1-108">Use the minimal set of canonicalization algorithms and transforms required</span></span>](#use-the-minimal-set-of-canonicalization-algorithms-and-transforms-required)
-   [<span data-ttu-id="574e1-109">Asegurarse de que los URI de destino apuntan a destinos dentro del ámbito esperado</span><span class="sxs-lookup"><span data-stu-id="574e1-109">Ensure target URIs point to destinations within the expected scope</span></span>](#ensure-target-uris-point-to-destinations-within-the-expected-scope)
-   [<span data-ttu-id="574e1-110">Comprobar que la firma ha comprobado los datos consumidos por la aplicación</span><span class="sxs-lookup"><span data-stu-id="574e1-110">Verify the data consumed by the application is verified by the signature</span></span>](#verify-the-data-consumed-by-the-application-is-verified-by-the-signature)
-   [<span data-ttu-id="574e1-111">Siga las mejores prácticas criptográficas</span><span class="sxs-lookup"><span data-stu-id="574e1-111">Follow best cryptographic practices</span></span>](#follow-best-cryptographic-practices)

## <a name="verify-trust-of-the-signing-key"></a><span data-ttu-id="574e1-112">Comprobar la confianza de la clave de firma</span><span class="sxs-lookup"><span data-stu-id="574e1-112">Verify trust of the signing key</span></span>

<span data-ttu-id="574e1-113">Asegúrese de que la clave de firma sea de confianza comprobando el certificado [*X. 509*](../secgloss/x-gly.md) correspondiente (y la cadena de certificados) incluido en el mensaje firmado.</span><span class="sxs-lookup"><span data-stu-id="574e1-113">Ensure that the signing key is trusted by verifying the corresponding [*X.509*](../secgloss/x-gly.md) certificate (and certificate chain) included in the signed message.</span></span> <span data-ttu-id="574e1-114">Como alternativa, la confianza en la clave de firma se puede establecer en un modo fuera de banda, como un administrador que configure un conjunto de claves de confianza o una aplicación que consulte un servicio de confianza a través de un canal seguro.</span><span class="sxs-lookup"><span data-stu-id="574e1-114">Alternately, trust in the signing key can be established in an out-of-band fashion, such as an administrator configuring a set of trusted keys, or an application querying a trusted service over a secure channel.</span></span>

## <a name="first-verify-the-signing-key-and-validate-signedinfo-then-validate-references"></a><span data-ttu-id="574e1-115">Compruebe primero la clave de firma y valide SignedInfo y, a continuación, valide las referencias</span><span class="sxs-lookup"><span data-stu-id="574e1-115">First verify the signing key and validate SignedInfo, then validate references</span></span>

<span data-ttu-id="574e1-116">Compruebe la confianza en la clave de firma y la integridad del elemento **SignedInfo** antes de validar las referencias.</span><span class="sxs-lookup"><span data-stu-id="574e1-116">Verify trust in the signing key and the integrity of the **SignedInfo** element prior to validating references.</span></span> <span data-ttu-id="574e1-117">Del mismo modo, las aplicaciones deben validar los elementos de **manifiesto** antes de resolver las referencias contenidas en los elementos de **manifiesto** .</span><span class="sxs-lookup"><span data-stu-id="574e1-117">Similarly, applications should validate **Manifest** elements prior to resolving references contained in the **Manifest** elements.</span></span> <span data-ttu-id="574e1-118">Los elementos de **referencia** permiten la especificación de URI de destino, transformaciones y algoritmos de canonización.</span><span class="sxs-lookup"><span data-stu-id="574e1-118">**Reference** elements allow the specification of target URIs, transforms, and canonicalization algorithms.</span></span> <span data-ttu-id="574e1-119">Si no se valida, estos campos se pueden usar para crear denegación de servicio, pérdida de datos u otros ataques.</span><span class="sxs-lookup"><span data-stu-id="574e1-119">If not validated, these fields can potentially be used to create denial of service, data loss, or other attacks.</span></span>

## <a name="use-the-minimal-set-of-canonicalization-algorithms-and-transforms-required"></a><span data-ttu-id="574e1-120">Usar el conjunto mínimo de algoritmos de canonización y transformaciones necesarias</span><span class="sxs-lookup"><span data-stu-id="574e1-120">Use the minimal set of canonicalization algorithms and transforms required</span></span>

<span data-ttu-id="574e1-121">XSLT y XPATH no se deben usar dentro de elementos no autenticados, como **KeyInfo**.</span><span class="sxs-lookup"><span data-stu-id="574e1-121">XSLT and XPATH should not be used within unauthenticated elements, such as **KeyInfo**.</span></span> <span data-ttu-id="574e1-122">Si una aplicación requiere el uso de XPath, restrinja el conjunto de expresiones XPATH permitidas para solo las que utilizan los ejes antecesores o propios y no calcule el valor de cadena de los elementos.</span><span class="sxs-lookup"><span data-stu-id="574e1-122">If an application requires use of XPath, constrain the set of XPATH expressions allowed to only those that use the ancestor or self axes and do not compute the string value of elements.</span></span> <span data-ttu-id="574e1-123">De forma predeterminada, CryptXML admite un conjunto limitado de algoritmos de canonización (vea URI admitidos en [algoritmos criptográficos de firma digital XML](xml-digital-signature-cryptographic-algorithms.md)).</span><span class="sxs-lookup"><span data-stu-id="574e1-123">By default, CryptXML supports a limited set of canonicalization algorithms (see supported URIs in [XML Digital Signature Cryptographic Algorithms](xml-digital-signature-cryptographic-algorithms.md)).</span></span> <span data-ttu-id="574e1-124">Los desarrolladores pueden implementar transformaciones adicionales o algoritmos de canonización para su uso dentro de su aplicación.</span><span class="sxs-lookup"><span data-stu-id="574e1-124">Developers can implement additional transforms or canonicalization algorithms for use within their application.</span></span> <span data-ttu-id="574e1-125">Sin embargo, el uso de algoritmos complejos crea la posibilidad de ataques de denegación de servicio o de las características de rechazo de una firma.</span><span class="sxs-lookup"><span data-stu-id="574e1-125">However, the use of complex algorithms creates the possibility of denial of service attacks or of breaking a signature's repudiation characteristics.</span></span> <span data-ttu-id="574e1-126">En los casos en los que la aplicación requiera transformaciones, limite el número de transformaciones que se pueden especificar por referencia al número más alto requerido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="574e1-126">In cases where transforms are required by the application, limit the number of transforms that can be specified per reference to the highest number required by the application.</span></span> <span data-ttu-id="574e1-127">Esta práctica mitiga los ataques de denegación de servicio en función del uso excesivo de las transformaciones.</span><span class="sxs-lookup"><span data-stu-id="574e1-127">This practice mitigates denial of service attacks based on excessive use of transforms.</span></span>

## <a name="ensure-target-uris-point-to-destinations-within-the-expected-scope"></a><span data-ttu-id="574e1-128">Asegurarse de que los URI de destino apuntan a destinos dentro del ámbito esperado</span><span class="sxs-lookup"><span data-stu-id="574e1-128">Ensure target URIs point to destinations within the expected scope</span></span>

<span data-ttu-id="574e1-129">Las aplicaciones deben limitar los URI de destino al ámbito más pequeño requerido por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="574e1-129">Applications should limit target URIs to the smallest scope required by the application.</span></span> <span data-ttu-id="574e1-130">Por ejemplo, se espera que los URI apunten a los destinos del mismo documento, a los archivos de un directorio de destino específico o a ubicaciones de red dentro de un dominio DNS específico.</span><span class="sxs-lookup"><span data-stu-id="574e1-130">For example, URIs might be expected to point to destinations within the same document, files in a specific target directory, or network locations within a specific DNS domain.</span></span> <span data-ttu-id="574e1-131">Los URI establecidos por un atacante para que apunten fuera del dominio esperado pueden hacer que una aplicación recupere contenido malintencionado, envíe solicitudes HTTP malintencionadas (posiblemente con cadenas de consulta) o que las aplicaciones se autentiquen en servidores malintencionados.</span><span class="sxs-lookup"><span data-stu-id="574e1-131">URIs set by an attacker to point outside the expected domain could cause an application to retrieve malicious content, send malicious HTTP requests (possibly containing query strings), or cause applications to authenticate to malicious servers.</span></span>

## <a name="verify-the-data-consumed-by-the-application-is-verified-by-the-signature"></a><span data-ttu-id="574e1-132">Comprobar que la firma ha comprobado los datos consumidos por la aplicación</span><span class="sxs-lookup"><span data-stu-id="574e1-132">Verify the data consumed by the application is verified by the signature</span></span>

<span data-ttu-id="574e1-133">Si la aplicación valida la clave de firma y los elementos **SignedInfo** y **Reference** , pero la aplicación consume datos importantes a los que no hace referencia la firma, la firma no proporciona ninguna protección significativa.</span><span class="sxs-lookup"><span data-stu-id="574e1-133">If the application validates the signing key and the **SignedInfo** and **Reference** elements, but the application consumes important data not referenced by the signature, the signature provides no meaningful protection.</span></span> <span data-ttu-id="574e1-134">El significado semántico de una firma puede variar en función de la posición de la firma dentro del documento.</span><span class="sxs-lookup"><span data-stu-id="574e1-134">The semantic meaning of a signature may vary based on the signature's position within the document.</span></span> <span data-ttu-id="574e1-135">Se recomienda que las aplicaciones comprueben la posición de la firma dentro de un documento.</span><span class="sxs-lookup"><span data-stu-id="574e1-135">Applications are encouraged to check the position of the signature within a document.</span></span> <span data-ttu-id="574e1-136">Además, Compruebe la posición de los nombres de elementos y datos a los que se hace referencia para mitigar los ataques de ajuste y sustitución.</span><span class="sxs-lookup"><span data-stu-id="574e1-136">Additionally, check the position of referenced data and element names to mitigate substitution and wrapping attacks.</span></span>

## <a name="follow-best-cryptographic-practices"></a><span data-ttu-id="574e1-137">Siga las mejores prácticas criptográficas</span><span class="sxs-lookup"><span data-stu-id="574e1-137">Follow best cryptographic practices</span></span>

<span data-ttu-id="574e1-138">Los algoritmos criptográficos se vuelven más débiles con el tiempo a medida que se detectan nuevos ataques y se pone a disposición más potencia de computación.</span><span class="sxs-lookup"><span data-stu-id="574e1-138">Cryptographic algorithms become weaker over time as new attacks are discovered and more computing power becomes available.</span></span> <span data-ttu-id="574e1-139">No codifique de forma rígida los identificadores o tamaños de clave de los algoritmos criptográficos en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="574e1-139">Do not hard code cryptographic algorithm identifiers or key sizes into your applications.</span></span> <span data-ttu-id="574e1-140">Para obtener una lista completa de las prácticas criptográficas más adecuadas, consulte Michael Howard y Steve Lipner, "estándares criptográficos mínimos de SDL", en *el ciclo de vida de desarrollo de seguridad* (Redmond, Washington: Microsoft Press, 2006), 251 – 258.</span><span class="sxs-lookup"><span data-stu-id="574e1-140">For a more complete list of best cryptographic practices, see Michael Howard and Steve Lipner, "SDL Minimum Cryptographic Standards," in *The Security Development Lifecycle* (Redmond, Washington: Microsoft Press, 2006), 251–258.</span></span>

<span data-ttu-id="574e1-141">Se pueden encontrar prácticas recomendadas adicionales en el sitio web de W3C: https://www.w3.org .</span><span class="sxs-lookup"><span data-stu-id="574e1-141">Additional best practices can be found on the W3C website: https://www.w3.org.</span></span>

> [!Note]  
> <span data-ttu-id="574e1-142">Es posible que estos recursos no estén disponibles en algunos idiomas y países o regiones.</span><span class="sxs-lookup"><span data-stu-id="574e1-142">These resources may not be available in some languages and countries or regions.</span></span>

 

 

 
