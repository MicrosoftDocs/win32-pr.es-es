---
description: En la tabla siguiente se describen \_ las opciones de socket UDP de IPPROTO que se aplican a los sockets creados para las familias de direcciones IPv4 e IPv6 (AF \_ inet y AF \_ inet6) con el parámetro Protocol a la función socket especificada como UDP (IPPROTO \_ UDP).
ms.assetid: 579448a1-22af-488f-a1f5-97ba69a15524
title: Opciones de socket IPPROTO_UDP
ms.topic: article
ms.date: 10/02/2019
ms.openlocfilehash: 6f1f25ebae34d7db4290ab23bbf799fc0e0b68df
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/22/2021
ms.locfileid: "105708774"
---
# <a name="ipproto_udp-socket-options"></a><span data-ttu-id="51ab0-103">\_Opciones de socket UDP de IPPROTO</span><span class="sxs-lookup"><span data-stu-id="51ab0-103">IPPROTO\_UDP socket options</span></span>

<span data-ttu-id="51ab0-104">En la tabla siguiente se describen las opciones de socket **\_ UDP de IPPROTO** que se aplican a los sockets creados para las familias de direcciones IPv4 e IPv6 (AF \_ inet y AF \_ inet6) con el parámetro *Protocol* a la función [**socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) especificada como UDP (IPPROTO \_ UDP).</span><span class="sxs-lookup"><span data-stu-id="51ab0-104">The following table describes **IPPROTO\_UDP** socket options that apply to sockets created for the IPv4 and IPv6 address families (AF\_INET and AF\_INET6) with the *protocol* parameter to the [**socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) function specified as UDP (IPPROTO\_UDP).</span></span> <span data-ttu-id="51ab0-105">Consulte las páginas de referencia de [**la función**](/windows/win32/api/winsock/nf-winsock-setsockopt) [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) y el valor de My para obtener más información sobre cómo obtener y establecer las opciones de socket.</span><span class="sxs-lookup"><span data-stu-id="51ab0-105">See the [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) and [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) function reference pages for more information on getting and setting socket options.</span></span>

<span data-ttu-id="51ab0-106">Para enumerar los protocolos y detectar las propiedades admitidas de cada protocolo instalado, use la función [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols)o [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) .</span><span class="sxs-lookup"><span data-stu-id="51ab0-106">To enumerate protocols and discover supported properties for each installed protocol, use the [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols), or [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) function.</span></span>

## <a name="options"></a><span data-ttu-id="51ab0-107">Opciones</span><span class="sxs-lookup"><span data-stu-id="51ab0-107">Options</span></span>

| <span data-ttu-id="51ab0-108">Opción</span><span class="sxs-lookup"><span data-stu-id="51ab0-108">Option</span></span> | <span data-ttu-id="51ab0-109">Obtener</span><span class="sxs-lookup"><span data-stu-id="51ab0-109">Get</span></span> | <span data-ttu-id="51ab0-110">Set</span><span class="sxs-lookup"><span data-stu-id="51ab0-110">Set</span></span> | <span data-ttu-id="51ab0-111">Tipo Optval</span><span class="sxs-lookup"><span data-stu-id="51ab0-111">Optval type</span></span> | <span data-ttu-id="51ab0-112">Descripción</span><span class="sxs-lookup"><span data-stu-id="51ab0-112">Description</span></span> |
|-|-|-|-|-|
| <span data-ttu-id="51ab0-113">Cobertura de la \_ suma de comprobación UDP \_ (Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="51ab0-113">UDP\_CHECKSUM\_COVERAGE (ws2tcpip.h)</span></span> | <span data-ttu-id="51ab0-114">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-114">yes</span></span> | <span data-ttu-id="51ab0-115">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-115">yes</span></span> | <span data-ttu-id="51ab0-116">DWORD (booleano)</span><span class="sxs-lookup"><span data-stu-id="51ab0-116">DWORD (boolean)</span></span> | <span data-ttu-id="51ab0-117">Cuando **es true**, los datagramas UDP se envían con una suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="51ab0-117">When **TRUE**, UDP datagrams are sent with a checksum.</span></span> |
| <span data-ttu-id="51ab0-118">Nocomprobaciones de UDP \_ (Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="51ab0-118">UDP\_NOCHECKSUM (ws2tcpip.h)</span></span> | <span data-ttu-id="51ab0-119">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-119">yes</span></span> | <span data-ttu-id="51ab0-120">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-120">yes</span></span> | <span data-ttu-id="51ab0-121">DWORD (booleano)</span><span class="sxs-lookup"><span data-stu-id="51ab0-121">DWORD (boolean)</span></span> | <span data-ttu-id="51ab0-122">Si **es true**, se envían datagramas UDP con la suma de comprobación de cero.</span><span class="sxs-lookup"><span data-stu-id="51ab0-122">When **TRUE**, UDP datagrams are sent with the checksum of zero.</span></span> <span data-ttu-id="51ab0-123">Requerido para los proveedores de servicios.</span><span class="sxs-lookup"><span data-stu-id="51ab0-123">Required for service providers.</span></span> <span data-ttu-id="51ab0-124">Si un proveedor de servicios no tiene un mecanismo para deshabilitar el cálculo de la suma de comprobación UDP, puede que simplemente almacene esta opción sin realizar ninguna acción.</span><span class="sxs-lookup"><span data-stu-id="51ab0-124">If a service provider does not have a mechanism to disable UDP checksum calculation, it may simply store this option without taking any action.</span></span> <span data-ttu-id="51ab0-125">Esta opción no es compatible con IPv6.</span><span class="sxs-lookup"><span data-stu-id="51ab0-125">This option is not supported for IPv6.</span></span> |
| <span data-ttu-id="51ab0-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef. h; include Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="51ab0-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="51ab0-127">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-127">yes</span></span> | <span data-ttu-id="51ab0-128">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-128">yes</span></span> | <span data-ttu-id="51ab0-129">DWORD</span><span class="sxs-lookup"><span data-stu-id="51ab0-129">DWORD</span></span> | <span data-ttu-id="51ab0-130">Cuando se establece en un valor distinto de cero, varios datagramas recibidos se pueden fusionar en un solo búfer de mensajes antes de que se indiquen a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51ab0-130">When set to a non-zero value, multiple received datagrams may be coalesced into a single message buffer before being indicated to your application.</span></span> <span data-ttu-id="51ab0-131">El valor de la opción representa el tamaño máximo del mensaje en bytes para los mensajes fusionados que se pueden indicar a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="51ab0-131">The option value represents the maximum message size in bytes for coalesced messages that can be indicated to your application.</span></span> <span data-ttu-id="51ab0-132">Todavía se pueden indicar los mensajes no fusionados con un tamaño mayor que el valor de opción.</span><span class="sxs-lookup"><span data-stu-id="51ab0-132">Un-coalesced messages larger than the option value may still be indicated.</span></span> <span data-ttu-id="51ab0-133">El valor predeterminado es 0 (sin fusión).</span><span class="sxs-lookup"><span data-stu-id="51ab0-133">The default value is 0 (no coalescing).</span></span> <span data-ttu-id="51ab0-134">Los datagramas solo se fusionarán si se originan en la misma dirección de origen y puerto.</span><span class="sxs-lookup"><span data-stu-id="51ab0-134">Datagrams will only be coalesced if they originated from the same source address and port.</span></span> <span data-ttu-id="51ab0-135">Todos los datagramas fusionados tendrán el mismo tamaño &mdash; , excepto el último, que puede ser menor.</span><span class="sxs-lookup"><span data-stu-id="51ab0-135">All datagrams coalesced will be of the same size&mdash;except the last datagram, which may be smaller.</span></span> <span data-ttu-id="51ab0-136">Si su aplicación desea recuperar los tamaños de los datagramas (excepto el último, que puede diferir) que se fusionó, debe usar una API de recepción que admita información de control (como [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span><span class="sxs-lookup"><span data-stu-id="51ab0-136">If your application wants to retrieve the datagram sizes (except the last datagram, which may differ) that were coalesced, you must use a receive API that supports control information (such as [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span></span> <span data-ttu-id="51ab0-137">El tamaño de todos los mensajes, excepto el último, se puede encontrar en el mensaje de control de **UDP_COALESCED_INFO** , que es de tipo DWORD.</span><span class="sxs-lookup"><span data-stu-id="51ab0-137">The size of all but the last message can be found in the **UDP_COALESCED_INFO** control message, which is of type DWORD.</span></span> <span data-ttu-id="51ab0-138">Para la seguridad de tipos, la aplicación debe usar las funciones [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) y [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) en lugar de la opción socket directamente.</span><span class="sxs-lookup"><span data-stu-id="51ab0-138">For type safety, your application should use the [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) and [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) functions instead of the socket option directly.</span></span> |
| <span data-ttu-id="51ab0-139">UDP_SEND_MSG_SIZE (ws2ipdef. h; include Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="51ab0-139">UDP_SEND_MSG_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="51ab0-140">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-140">yes</span></span> | <span data-ttu-id="51ab0-141">sí</span><span class="sxs-lookup"><span data-stu-id="51ab0-141">yes</span></span> | <span data-ttu-id="51ab0-142">DWORD</span><span class="sxs-lookup"><span data-stu-id="51ab0-142">DWORD</span></span> | <span data-ttu-id="51ab0-143">Cuando se establece en un valor distinto de cero, los búferes enviados por la aplicación se dividen en varios mensajes por la pila de red.</span><span class="sxs-lookup"><span data-stu-id="51ab0-143">When set to a non-zero value, buffers sent by your application are broken down into multiple messages by the networking stack.</span></span> <span data-ttu-id="51ab0-144">El valor de la opción representa el tamaño de cada mensaje desactivado.</span><span class="sxs-lookup"><span data-stu-id="51ab0-144">The option value represents the size of each broken-down message.</span></span> <span data-ttu-id="51ab0-145">El valor de la opción se representa en bytes.</span><span class="sxs-lookup"><span data-stu-id="51ab0-145">The option value is represented in bytes.</span></span> <span data-ttu-id="51ab0-146">El tamaño del último segmento puede ser menor que el valor de la opción.</span><span class="sxs-lookup"><span data-stu-id="51ab0-146">The last segment's size may be less than the value of the option.</span></span> <span data-ttu-id="51ab0-147">El valor predeterminado es 0 (sin segmentación).</span><span class="sxs-lookup"><span data-stu-id="51ab0-147">The default value is 0 (no segmentation).</span></span> <span data-ttu-id="51ab0-148">La aplicación debe establecer un valor que sea menor que la MTU de la ruta de acceso a los destinos para evitar la fragmentación de IP.</span><span class="sxs-lookup"><span data-stu-id="51ab0-148">Your application should set a value that is lower than the MTU of the path to the destination(s) in order to avoid IP fragmentation.</span></span> <span data-ttu-id="51ab0-149">Para la seguridad de tipos, la aplicación debe usar las funciones [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) y [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) en lugar de la opción socket directamente.</span><span class="sxs-lookup"><span data-stu-id="51ab0-149">For type safety, your application should use the [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) and [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) functions instead of the socket option directly.</span></span> |

## <a name="legacy-windows-support-for-ipproto_udp-options"></a><span data-ttu-id="51ab0-150">Compatibilidad de Windows heredada con \_ las opciones de UDP de IPPROTO</span><span class="sxs-lookup"><span data-stu-id="51ab0-150">Legacy Windows support for IPPROTO\_UDP options</span></span>

<span data-ttu-id="51ab0-151">**UDP \_ de La \_ cobertura** de la suma de comprobación no está disponible en Windows 2000 y en Windows NT4.</span><span class="sxs-lookup"><span data-stu-id="51ab0-151">**UDP\_CHECKSUM\_COVERAGE** is unavailable on Windows 2000 and on Windows NT4.</span></span> <span data-ttu-id="51ab0-152">**UDP \_ de La \_ cobertura** de la suma de comprobación y la **\_ nocomprobaciones UDP** no están disponibles en Windows 9x/me.</span><span class="sxs-lookup"><span data-stu-id="51ab0-152">**UDP\_CHECKSUM\_COVERAGE** and **UDP\_NOCHECKSUM** are unavailable on Windows 9x/Me.</span></span> 

## <a name="remarks"></a><span data-ttu-id="51ab0-153">Observaciones</span><span class="sxs-lookup"><span data-stu-id="51ab0-153">Remarks</span></span>

<span data-ttu-id="51ab0-154">En el kit de desarrollo de software (SDK) de Microsoft Windows publicado para Windows Vista y versiones posteriores, la organización de los archivos de encabezado ha cambiado y el nivel de **\_ UDP de IPPROTO** se define en el archivo de encabezado *Ws2def. h* que se incluye automáticamente en el archivo de encabezado *WinSock2. h* .</span><span class="sxs-lookup"><span data-stu-id="51ab0-154">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and **IPPROTO\_UDP** level is defined in the *Ws2def.h* header file which is automatically included in the *Winsock2.h* header file.</span></span> <span data-ttu-id="51ab0-155">Las opciones de socket **\_ UDP de IPPROTO** se definen en el archivo de encabezado *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="51ab0-155">The **IPPROTO\_UDP** socket options are defined in the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="51ab0-156">El archivo de encabezado *Ws2def. h* nunca debe usarse directamente.</span><span class="sxs-lookup"><span data-stu-id="51ab0-156">The *Ws2def.h* header file should never be used directly.</span></span>

## <a name="requirements"></a><span data-ttu-id="51ab0-157">Requisitos</span><span class="sxs-lookup"><span data-stu-id="51ab0-157">Requirements</span></span>

| <span data-ttu-id="51ab0-158">Requisito</span><span class="sxs-lookup"><span data-stu-id="51ab0-158">Requirement</span></span> | <span data-ttu-id="51ab0-159">Value</span><span class="sxs-lookup"><span data-stu-id="51ab0-159">Value</span></span> |
|-|-|
| <span data-ttu-id="51ab0-160">Encabezado</span><span class="sxs-lookup"><span data-stu-id="51ab0-160">Header</span></span><br/> | <dl> <span data-ttu-id="51ab0-161"><dt>ws2ipdef. h (incluye Ws2tcpip. h) y Ws2tcpip. h</dt> <dt>WinSock2. h en Windows Server 2003, Windows XP y Windows 2000</dt></span><span class="sxs-lookup"><span data-stu-id="51ab0-161"><dt>ws2ipdef.h (include ws2tcpip.h), and ws2tcpip.h</dt> <dt>Winsock2.h on Windows Server 2003, Windows XP, and Windows 2000</dt></span></span> </dl> |
