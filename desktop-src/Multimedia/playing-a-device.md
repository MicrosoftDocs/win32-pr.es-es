---
title: Reproducir un dispositivo
description: Reproducir un dispositivo
ms.assetid: 48d83e06-9e6e-498b-ad9b-0b66f235db25
keywords:
- Comando MCI_PLAY
- MCIAVI ventana de reproducción
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f73d8b6539e842a1ffa632ed1efae5c2c8d3cda1
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "103995254"
---
# <a name="playing-a-device"></a><span data-ttu-id="7b598-105">Reproducir un dispositivo</span><span class="sxs-lookup"><span data-stu-id="7b598-105">Playing a Device</span></span>

<span data-ttu-id="7b598-106">El comando [**Play**](play.md) ([**MCI \_ Play**](mci-play.md)) empieza a reproducir un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7b598-106">The [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)) command starts playing a device.</span></span> <span data-ttu-id="7b598-107">Sin marcas, este comando empieza a reproducirse desde la posición actual y se reproduce hasta que se interrumpe el comando o hasta que se alcanza el final del medio o el archivo.</span><span class="sxs-lookup"><span data-stu-id="7b598-107">Without any flags, this command starts playing from the current position and plays until the command is interrupted or until the end of the media or file is reached.</span></span> <span data-ttu-id="7b598-108">Después de la reproducción, la posición actual se encuentra al final del medio.</span><span class="sxs-lookup"><span data-stu-id="7b598-108">After playback, the current position is at the end of the media.</span></span> <span data-ttu-id="7b598-109">También puede usar el comando [**Seek**](seek.md) ([**MCI \_ Seek**](mci-seek.md)) para cambiar la posición actual.</span><span class="sxs-lookup"><span data-stu-id="7b598-109">You can also use the [**seek**](seek.md) ([**MCI\_SEEK**](mci-seek.md)) command to change the current position.</span></span>

<span data-ttu-id="7b598-110">La mayoría de los dispositivos que admiten el comando **Play** también admiten las marcas "desde" (MCI \_ desde) y "hasta" (MCI \_ hasta).</span><span class="sxs-lookup"><span data-stu-id="7b598-110">Most devices that support the **play** command also support the "from" (MCI\_FROM) and "to" (MCI\_TO) flags.</span></span> <span data-ttu-id="7b598-111">Estas marcas indican la posición en la que el dispositivo debe iniciarse y dejar de reproducirse.</span><span class="sxs-lookup"><span data-stu-id="7b598-111">These flags indicate the position at which the device should start and stop playing.</span></span> <span data-ttu-id="7b598-112">Por ejemplo, el siguiente comando reproduce un disco de audio de CD desde el principio de la primera pista mediante la función [**mciSendString**](/previous-versions//dd757161(v=vs.85)) :</span><span class="sxs-lookup"><span data-stu-id="7b598-112">For example, the following command plays a CD audio disc from the beginning of the first track using the [**mciSendString**](/previous-versions//dd757161(v=vs.85)) function:</span></span>


```C++
mciSendString("play cdaudio from 0", lpszReturnString, 
    lstrlen(lpszReturnString), NULL);
```



<span data-ttu-id="7b598-113">Algunos tipos de dispositivos amplían este comando para aprovechar las capacidades de un dispositivo determinado.</span><span class="sxs-lookup"><span data-stu-id="7b598-113">Some device types extend this command to exploit the capabilities of a particular device.</span></span> <span data-ttu-id="7b598-114">Por ejemplo, el comando [**reproducir**](play.md) para el tipo de dispositivo de **videodisco** incluye las marcas "rápida" (MCI \_ Vd \_ Play \_ Fast), "lenta" (MCI \_ Vd \_ Play \_ Slow) y "SCAN" (MCI \_ Vd \_ Play \_ Scan).</span><span class="sxs-lookup"><span data-stu-id="7b598-114">For example, the [**play**](play.md) command for the **videodisc** device type includes the "fast" (MCI\_VD\_PLAY\_FAST) , "slow" (MCI\_VD\_PLAY\_SLOW), and "scan" (MCI\_VD\_PLAY\_SCAN) flags.</span></span>

> [!Note]  
> <span data-ttu-id="7b598-115">Las unidades asignadas al valor de posición dependen del formato de hora que usa el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7b598-115">The units assigned to the position value depend on the time format used by the device.</span></span> <span data-ttu-id="7b598-116">Cada dispositivo tiene un formato de hora predeterminado, pero debe especificar el formato de hora mediante el comando [**set**](set.md) ([**\_ set de MCI**](mci-set.md)) antes de emitir cualquier comando que use valores de posición.</span><span class="sxs-lookup"><span data-stu-id="7b598-116">Each device has a default time format, but you should specify the time format by using the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command before issuing any commands that use position values.</span></span>

 

## <a name="playing-an-avi-file"></a><span data-ttu-id="7b598-117">Reproducir un archivo AVI</span><span class="sxs-lookup"><span data-stu-id="7b598-117">Playing an AVI File</span></span>

<span data-ttu-id="7b598-118">Los archivos de vídeo en Windows se componen de al menos dos flujos de datos intercalados: una secuencia de vídeo (gráfica) y una secuencia de audio.</span><span class="sxs-lookup"><span data-stu-id="7b598-118">Video files in Windows are made up of at least two interleaved data streams: a video (pictorial) stream and an audio stream.</span></span> <span data-ttu-id="7b598-119">Puede reproducir fácilmente estos archivos de audio y vídeo intercalado (AVI) mediante comandos MCI.</span><span class="sxs-lookup"><span data-stu-id="7b598-119">You can easily play these audio-video interleaved (AVI) files by using MCI commands.</span></span> <span data-ttu-id="7b598-120">En las secciones siguientes se describe la reproducción de archivos AVI.</span><span class="sxs-lookup"><span data-stu-id="7b598-120">The following sections discuss playing AVI files.</span></span>

## <a name="setting-up-an-mciavi-playback-window"></a><span data-ttu-id="7b598-121">Configuración de una ventana de reproducción de MCIAVI</span><span class="sxs-lookup"><span data-stu-id="7b598-121">Setting Up an MCIAVI Playback Window</span></span>

<span data-ttu-id="7b598-122">La aplicación puede especificar las siguientes opciones para definir la ventana de reproducción para reproducir un archivo AVI:</span><span class="sxs-lookup"><span data-stu-id="7b598-122">Your application can specify the following options to define the playback window for playing an AVI file:</span></span>

-   <span data-ttu-id="7b598-123">Use la ventana emergente predeterminada del controlador MCIAVI.</span><span class="sxs-lookup"><span data-stu-id="7b598-123">Use the MCIAVI driver's default pop-up window.</span></span>
-   <span data-ttu-id="7b598-124">Especifique una ventana primaria y un estilo de ventana que el controlador MCIAVI pueda utilizar para crear la ventana de reproducción.</span><span class="sxs-lookup"><span data-stu-id="7b598-124">Specify a parent window and window style that the MCIAVI driver can use to create the playback window.</span></span>
-   <span data-ttu-id="7b598-125">Especifique una ventana de reproducción para el controlador MCIAVI que se usará para la reproducción.</span><span class="sxs-lookup"><span data-stu-id="7b598-125">Specify a playback window for the MCIAVI driver to use for playback.</span></span>
-   <span data-ttu-id="7b598-126">Reproducir el archivo AVI en una pantalla completa.</span><span class="sxs-lookup"><span data-stu-id="7b598-126">Play the AVI file on a full-screen display.</span></span>

<span data-ttu-id="7b598-127">Si la aplicación no especifica ninguna opción de ventana, el controlador MCIAVI crea una ventana predeterminada para la reproducción de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="7b598-127">If your application does not specify any window options, the MCIAVI driver creates a default window for playing the sequence.</span></span> <span data-ttu-id="7b598-128">El controlador crea esta ventana de reproducción para el comando [**abrir**](open.md) ([**MCI \_ abierto**](mci-open.md)), pero no muestra la ventana hasta que la aplicación envía un comando para mostrar la ventana o reproducir el archivo.</span><span class="sxs-lookup"><span data-stu-id="7b598-128">The driver creates this playback window for the [**open**](open.md) ([**MCI\_OPEN**](mci-open.md)) command, but it does not display the window until your application sends a command to either display the window or play the file.</span></span> <span data-ttu-id="7b598-129">Esta ventana de reproducción predeterminada es una ventana emergente con un borde de ajuste de tamaño, una barra de título, un marco grueso, un menú **ventana** y un botón minimizar.</span><span class="sxs-lookup"><span data-stu-id="7b598-129">This default playback window is a pop-up window with a sizing border, title bar, a thick frame, a **window** menu, and a Minimize button.</span></span>

<span data-ttu-id="7b598-130">La aplicación también puede especificar un identificador de ventana principal y un estilo de ventana cuando emite el comando **abrir** .</span><span class="sxs-lookup"><span data-stu-id="7b598-130">Your application can also specify a parent window handle and a window style when it issues the **open** command.</span></span> <span data-ttu-id="7b598-131">En este caso, el controlador MCIAVI crea una ventana basada en estas especificaciones en lugar de la ventana emergente predeterminada.</span><span class="sxs-lookup"><span data-stu-id="7b598-131">In this case, the MCIAVI driver creates a window based on these specifications instead of the default pop-up window.</span></span> <span data-ttu-id="7b598-132">La aplicación puede especificar cualquier estilo de ventana disponible para la función [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindowa) .</span><span class="sxs-lookup"><span data-stu-id="7b598-132">Your application can specify any window style available for the [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindowa) function.</span></span> <span data-ttu-id="7b598-133">Los estilos que requieren una ventana primaria, como WS \_ Child, deben incluir un identificador de ventana principal.</span><span class="sxs-lookup"><span data-stu-id="7b598-133">Styles that require a parent window, such as WS\_CHILD, should include a parent window handle.</span></span>

<span data-ttu-id="7b598-134">La aplicación también puede crear su propia ventana y proporcionar el identificador al controlador MCIAVI mediante el comando [**Window**](window.md) ([**\_ ventana de MCI**](mci-window.md)).</span><span class="sxs-lookup"><span data-stu-id="7b598-134">Your application can also create its own window and supply the handle to the MCIAVI driver by using the [**window**](window.md) ([**MCI\_WINDOW**](mci-window.md)) command.</span></span> <span data-ttu-id="7b598-135">El controlador MCIAVI usa esta ventana en lugar de crear una propia.</span><span class="sxs-lookup"><span data-stu-id="7b598-135">The MCIAVI driver uses this window instead of creating one of its own.</span></span>

<span data-ttu-id="7b598-136">Cuando el controlador MCIAVI crea la ventana de reproducción u obtiene un identificador de ventana de la aplicación, no muestra la ventana hasta que la aplicación reproduce la secuencia o bien envía un comando para mostrar la ventana.</span><span class="sxs-lookup"><span data-stu-id="7b598-136">When the MCIAVI driver creates the playback window or obtains a window handle from your application, it does not display the window until your application either plays the sequence or sends a command to display the window.</span></span> <span data-ttu-id="7b598-137">La aplicación puede usar el comando de **ventana** para mostrar la ventana sin reproducir la secuencia.</span><span class="sxs-lookup"><span data-stu-id="7b598-137">Your application can use the **window** command to display the window without playing the sequence.</span></span> <span data-ttu-id="7b598-138">Por ejemplo, el siguiente comando muestra la ventana mediante [**mciSendString**](/previous-versions//dd757161(v=vs.85)):</span><span class="sxs-lookup"><span data-stu-id="7b598-138">For example, the following command displays the window using [**mciSendString**](/previous-versions//dd757161(v=vs.85)):</span></span>


```C++
mciSendString("window movie state show", lpszReturnString,
    lstrlen(lpszReturnString), NULL);
```



<span data-ttu-id="7b598-139">En este ejemplo, "Movie" es un alias para el dispositivo de vídeo digital.</span><span class="sxs-lookup"><span data-stu-id="7b598-139">In this example, "movie" is an alias for the digital-video device.</span></span>

<span data-ttu-id="7b598-140">La aplicación también puede reproducir una pantalla completa de archivos AVI.</span><span class="sxs-lookup"><span data-stu-id="7b598-140">Your application can also play an AVI file full-screen.</span></span> <span data-ttu-id="7b598-141">Para reproducir una pantalla completa, modifique el comando [**reproducir**](play.md) ([**MCI \_ Play**](mci-play.md)) con la marca "pantalla completa" (MCI \_ MCIAVI \_ Play \_ fullscreen).</span><span class="sxs-lookup"><span data-stu-id="7b598-141">To play full-screen, modify the [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)) command with the "fullscreen" (MCI\_MCIAVI\_PLAY\_FULLSCREEN) flag.</span></span> <span data-ttu-id="7b598-142">Cuando la aplicación usa esta marca, el controlador MCIAVI usa un formato de pantalla completa de 320 x 240 píxeles para reproducir la secuencia.</span><span class="sxs-lookup"><span data-stu-id="7b598-142">When your application uses this flag, the MCIAVI driver uses a 320- by 240-pixel full-screen format for playing the sequence.</span></span> <span data-ttu-id="7b598-143">Por ejemplo, el siguiente comando reproduce la pantalla completa del archivo abierto (con "Movie" como alias):</span><span class="sxs-lookup"><span data-stu-id="7b598-143">For example, the following command plays the opened file full-screen (using "movie" as an alias):</span></span>


```C++
mciSendString("play movie fullscreen", lpszReturnString,
    lstrlen(lpszReturnString), NULL);
```



## <a name="changing-the-playback-state-for-an-avi-file"></a><span data-ttu-id="7b598-144">Cambiar el estado de reproducción de un archivo AVI</span><span class="sxs-lookup"><span data-stu-id="7b598-144">Changing the Playback State for an AVI file</span></span>

<span data-ttu-id="7b598-145">La aplicación puede usar el comando [**Buscar**](seek.md) ([**MCI \_ Seek**](mci-seek.md)) para mover la posición actual al principio, al final o a una posición arbitraria en un archivo AVI.</span><span class="sxs-lookup"><span data-stu-id="7b598-145">Your application can use the [**seek**](seek.md) ([**MCI\_SEEK**](mci-seek.md)) command to move the current position to the beginning, the end, or an arbitrary position in an AVI file.</span></span> <span data-ttu-id="7b598-146">Hay dos modos de búsqueda para el controlador MCIAVI: exacto e inexacto.</span><span class="sxs-lookup"><span data-stu-id="7b598-146">There are two seek modes for the MCIAVI driver: exact and inexact.</span></span> <span data-ttu-id="7b598-147">La aplicación puede cambiar el modo de búsqueda mediante el comando [**set**](set.md) ([**\_ set de MCI**](mci-set.md)).</span><span class="sxs-lookup"><span data-stu-id="7b598-147">Your application can change the seek mode by using the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command.</span></span> <span data-ttu-id="7b598-148">Cuando se usa **set** "Seek Exactly on", el controlador MCIAVI busca exactamente en el marco que especifica la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7b598-148">When you use **set** "seek exactly on", the MCIAVI driver seeks exactly to the frame your application specifies.</span></span> <span data-ttu-id="7b598-149">Esto puede producir un retraso si el archivo se comprime temporalmente y la aplicación no especifica un fotograma clave.</span><span class="sxs-lookup"><span data-stu-id="7b598-149">This might cause a delay if the file is temporally compressed and your application does not specify a key frame.</span></span> <span data-ttu-id="7b598-150">Cuando se usa **set** "Seek Exactly OFF", el controlador MCIAVI busca el fotograma clave más cercano en un archivo comprimido temporalmente.</span><span class="sxs-lookup"><span data-stu-id="7b598-150">When you use **set** "seek exactly off", the MCIAVI driver seeks to the nearest key frame in a temporally compressed file.</span></span>

<span data-ttu-id="7b598-151">Algunos comandos de MCI permiten que la aplicación modifique la reproducción de un archivo AVI de otras maneras.</span><span class="sxs-lookup"><span data-stu-id="7b598-151">Some MCI commands let your application alter the playback of an AVI file in other ways.</span></span> <span data-ttu-id="7b598-152">Por ejemplo, un archivo AVI se reproduce de forma predeterminada a su velocidad normal, pero la aplicación puede aumentar o disminuir esta velocidad mediante el uso de la marca "Speed" con el comando **set** .</span><span class="sxs-lookup"><span data-stu-id="7b598-152">For example, an AVI file, by default, plays at its normal speed, but your application can increase or decrease this speed by using the "speed" flag with the **set** command.</span></span> <span data-ttu-id="7b598-153">En el caso de los archivos AVI, es habitual un valor de velocidad de 1000.</span><span class="sxs-lookup"><span data-stu-id="7b598-153">For AVI files, a speed value of 1000 is typical.</span></span> <span data-ttu-id="7b598-154">Por lo tanto, para reproducir una película a la mitad de su velocidad normal, la aplicación puede usar el **conjunto** de comandos "Movie Speed 500". como alternativa, puede usar **set** "Movie Speed 2000" para reproducir la secuencia a la doble velocidad normal.</span><span class="sxs-lookup"><span data-stu-id="7b598-154">Thus, to play a movie at half its typical speed, your application can use the command **set** "movie speed 500"; alternatively, it can use **set** "movie speed 2000" to play the sequence at twice its normal speed.</span></span>

<span data-ttu-id="7b598-155">El comando [**SetAudio**](setaudio.md) ([**MCI \_ SetAudio**](mci-setaudio.md)) permite que la aplicación controle la parte de audio de un archivo AVI.</span><span class="sxs-lookup"><span data-stu-id="7b598-155">The [**setaudio**](setaudio.md) ([**MCI\_SETAUDIO**](mci-setaudio.md)) command lets your application control the audio portion of an AVI file.</span></span> <span data-ttu-id="7b598-156">La aplicación puede silenciar el audio durante la reproducción o, en el caso de varios archivos de secuencia de audio, seleccionar la secuencia de audio que se reproduce.</span><span class="sxs-lookup"><span data-stu-id="7b598-156">Your application can mute audio during playback or, in the case of multiple audio stream files, select the audio stream that is played.</span></span>

<span data-ttu-id="7b598-157">El controlador MCIAVI tiene un cuadro de diálogo para controlar algunas de sus opciones de reproducción.</span><span class="sxs-lookup"><span data-stu-id="7b598-157">The MCIAVI driver has a dialog box to control some of its playback options.</span></span> <span data-ttu-id="7b598-158">Algunas de las opciones disponibles para el usuario incluyen la selección de reproducción orientada a ventanas o de pantalla completa, la selección del modo de búsqueda y la ampliación de la imagen.</span><span class="sxs-lookup"><span data-stu-id="7b598-158">Some of the options available to the user include selecting window-oriented or full-screen playback, selecting the seek mode, and zooming the image.</span></span> <span data-ttu-id="7b598-159">La aplicación puede tener MCIAVI Mostrar este cuadro de diálogo mediante el comando [**configurar**](configure.md) ([**MCI \_ Configure**](mci-configure.md)).</span><span class="sxs-lookup"><span data-stu-id="7b598-159">Your application can have MCIAVI display this dialog box by using the [**configure**](configure.md) ([**MCI\_CONFIGURE**](mci-configure.md)) command.</span></span>

## <a name="stream-handlers"></a><span data-ttu-id="7b598-160">Controladores de secuencias</span><span class="sxs-lookup"><span data-stu-id="7b598-160">Stream Handlers</span></span>

<span data-ttu-id="7b598-161">Los datos de un archivo AVI se tratan como una serie de secuencias.</span><span class="sxs-lookup"><span data-stu-id="7b598-161">The data in an AVI file is treated as a series of streams.</span></span> <span data-ttu-id="7b598-162">Un archivo AVI normalmente contiene un flujo de audio y vídeo, y también puede haber un flujo personalizado que contiene texto u otros datos personalizados.</span><span class="sxs-lookup"><span data-stu-id="7b598-162">An AVI file typically contains an audio and video stream, and there might also be a custom stream that contains text or some other custom data.</span></span> <span data-ttu-id="7b598-163">El controlador MCIAVI puede usar controladores diferentes para estos flujos de datos.</span><span class="sxs-lookup"><span data-stu-id="7b598-163">The MCIAVI driver can use different handlers for these data streams.</span></span> <span data-ttu-id="7b598-164">Para obtener más información sobre los archivos AVI personalizados, vea [controladores personalizados de archivos y secuencias](custom-file-and-stream-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="7b598-164">For more information about custom AVI files, see [Custom File and Stream Handlers](custom-file-and-stream-handlers.md).</span></span>

 

 