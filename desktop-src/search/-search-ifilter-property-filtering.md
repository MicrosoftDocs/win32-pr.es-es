---
description: Las propiedades se extraen de los elementos mediante controladores de propiedad registrados o mediante filtros registrados para tipos de archivo específicos. Un controlador de filtro (una implementación de la interfaz IFilter) puede interpretar el contenido de un tipo de archivo de varias maneras.
ms.assetid: 6701d151-c36f-43e5-929b-9831c5ce5823
title: Devolver propiedades de un controlador de filtro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4df0bfc811176e9b0672dbcbe4ef4f04f3c3a6f2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105720335"
---
# <a name="returning-properties-from-a-filter-handler"></a><span data-ttu-id="77bd8-104">Devolver propiedades de un controlador de filtro</span><span class="sxs-lookup"><span data-stu-id="77bd8-104">Returning Properties from a Filter Handler</span></span>

<span data-ttu-id="77bd8-105">Las propiedades se extraen de los elementos mediante controladores de propiedad registrados o mediante filtros registrados para tipos de archivo específicos.</span><span class="sxs-lookup"><span data-stu-id="77bd8-105">Properties are extracted from items using registered property handlers, or using filters registered for specific file types.</span></span> <span data-ttu-id="77bd8-106">Un controlador de filtro (una implementación de la interfaz [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) ) puede interpretar el contenido de un tipo de archivo de varias maneras.</span><span class="sxs-lookup"><span data-stu-id="77bd8-106">A filter handler (an implementation of the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface) can interpret the contents of a file type in any number of ways.</span></span>

<span data-ttu-id="77bd8-107">Este tema se organiza de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="77bd8-107">This topic is organized as follows:</span></span>

- [<span data-ttu-id="77bd8-108">Filtrado de propiedades</span><span class="sxs-lookup"><span data-stu-id="77bd8-108">Property Filtering</span></span>](#returning-properties-from-a-filter-handler)
  - [<span data-ttu-id="77bd8-109">Limitaciones de tamaño de propiedad</span><span class="sxs-lookup"><span data-stu-id="77bd8-109">Property Size Limitations</span></span>](#property-size-limitations)
- [<span data-ttu-id="77bd8-110">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="77bd8-110">Additional Resources</span></span>](#additional-resources)
- [<span data-ttu-id="77bd8-111">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="77bd8-111">Related topics</span></span>](#related-topics)

## <a name="property-filtering"></a><span data-ttu-id="77bd8-112">Filtrado de propiedades</span><span class="sxs-lookup"><span data-stu-id="77bd8-112">Property Filtering</span></span>

<span data-ttu-id="77bd8-113">En la tabla siguiente se enumeran los procedimientos recomendados para el filtrado de propiedades.</span><span class="sxs-lookup"><span data-stu-id="77bd8-113">Best practices for property filtering are listed in the following table.</span></span>

| <span data-ttu-id="77bd8-114">Método</span><span class="sxs-lookup"><span data-stu-id="77bd8-114">Method</span></span>                                                | <span data-ttu-id="77bd8-115">Descripción</span><span class="sxs-lookup"><span data-stu-id="77bd8-115">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="77bd8-116">**IFilter:: init**</span><span class="sxs-lookup"><span data-stu-id="77bd8-116">**IFilter::Init**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-init)      | <span data-ttu-id="77bd8-117">Devuelve la enumeración de [**\_ marcas de IFILTER**](/windows/win32/api/filter/ne-filter-ifilter_flags) .</span><span class="sxs-lookup"><span data-stu-id="77bd8-117">Returns the [**IFILTER\_FLAGS**](/windows/win32/api/filter/ne-filter-ifilter_flags) enumeration.</span></span> <span data-ttu-id="77bd8-118">Si el miembro de *\_ \_ \_ propiedades OLE de marcadores de IFILTER* de esta enumeración está establecido en uno, la búsqueda de Windows usa las interfaces de interfaces [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) y [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) para enumerar y tener acceso a las propiedades de tipo de valor externo.</span><span class="sxs-lookup"><span data-stu-id="77bd8-118">If the *IFILTER\_FLAGS\_OLE\_PROPERTIES* member of this enumeration is set to one, then Windows Search uses the [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) and [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) interfaces interfaces to enumerate and access external value-type properties.</span></span> |
| [<span data-ttu-id="77bd8-119">**IFilter:: GetChunk**</span><span class="sxs-lookup"><span data-stu-id="77bd8-119">**IFilter::GetChunk**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-getchunk) | <span data-ttu-id="77bd8-120">Devuelve información de un documento en "fragmentos" con el tipo de fragmento (texto o valor), el nombre y la configuración regional.</span><span class="sxs-lookup"><span data-stu-id="77bd8-120">Returns information from a document in "chunks" with chunk type (text or value), name, and locale.</span></span> <span data-ttu-id="77bd8-121">Un fragmento contiene una propiedad de documento.</span><span class="sxs-lookup"><span data-stu-id="77bd8-121">A chunk contains one document property.</span></span>                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="77bd8-122">**IFilter:: GetText**</span><span class="sxs-lookup"><span data-stu-id="77bd8-122">**IFilter::GetText**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-gettext)   | <span data-ttu-id="77bd8-123">Obtiene una propiedad de tipo de texto de un fragmento.</span><span class="sxs-lookup"><span data-stu-id="77bd8-123">Gets a text-type property from a chunk.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="77bd8-124">**IFilter:: GetValue**</span><span class="sxs-lookup"><span data-stu-id="77bd8-124">**IFilter::GetValue**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-getvalue) | <span data-ttu-id="77bd8-125">Obtiene una propiedad de tipo de valor de un fragmento.</span><span class="sxs-lookup"><span data-stu-id="77bd8-125">Gets a value-type property from a chunk.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                        |

<span data-ttu-id="77bd8-126">En la ilustración siguiente se muestra un documento de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="77bd8-126">The following illustration shows an example document.</span></span> <span data-ttu-id="77bd8-127">La propiedad de tipo de valor externo `DocTitle` (obtenida con los métodos de las interfaces [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) y [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) ) y la propiedad de tipo de valor interno `Book` (obtenida como resultado de una implementación de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) personalizada) describen el documento como un todo.</span><span class="sxs-lookup"><span data-stu-id="77bd8-127">The external value-type property `DocTitle` (obtained using methods of the [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) and [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) interfaces) and the internal value-type property `Book` (obtained as a result of a custom [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) implementation) describe the document as a whole.</span></span> <span data-ttu-id="77bd8-128">Propiedades de tipo de texto `Contents` y `Chapter` describen el contenido del documento.</span><span class="sxs-lookup"><span data-stu-id="77bd8-128">The text-type properties `Contents` and `Chapter` describe the content of the document.</span></span> <span data-ttu-id="77bd8-129">Al procesar este documento, el controlador de filtro (una implementación de la interfaz de **IFilter** ) identifica y extrae estas propiedades.</span><span class="sxs-lookup"><span data-stu-id="77bd8-129">When processing this document, the filter handler (an implementation of the **IFilter** interface) identifies and extracts these properties.</span></span>

![diagrama que muestra los elementos de un documento típico](images/ifilterpropertyextraction.png)

### <a name="property-size-limitations"></a><span data-ttu-id="77bd8-131">Limitaciones de tamaño de propiedad</span><span class="sxs-lookup"><span data-stu-id="77bd8-131">Property Size Limitations</span></span>

<span data-ttu-id="77bd8-132">Hay dos limitaciones posibles para el tamaño de la propiedad:</span><span class="sxs-lookup"><span data-stu-id="77bd8-132">There are two potential limitations to property size:</span></span>

- <span data-ttu-id="77bd8-133">El tamaño máximo de datos que la búsqueda de Windows acepta por archivo.</span><span class="sxs-lookup"><span data-stu-id="77bd8-133">The maximum size of data that Windows Search accepts per file.</span></span>
- <span data-ttu-id="77bd8-134">Tamaño máximo por propiedad tal y como se define en el archivo de descripción de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="77bd8-134">The maximum size per property as defined in the property description file.</span></span>

<span data-ttu-id="77bd8-135">Actualmente, Windows Search no utiliza el tamaño de propiedad definido al calcular la cantidad de datos que acepta de un elemento.</span><span class="sxs-lookup"><span data-stu-id="77bd8-135">Currently, Windows Search does not use the defined property size when calculating the amount of data it accepts from an item.</span></span> <span data-ttu-id="77bd8-136">En su lugar, el límite que usa Windows Search es el producto del tamaño del archivo y el `MaxGrowFactor` (tamaño de archivo N \* MaxGrowFactor) leído del registro.</span><span class="sxs-lookup"><span data-stu-id="77bd8-136">Instead, the limit Windows Search uses is the product of the size of the file and the `MaxGrowFactor` (file size N \* MaxGrowFactor) read from the registry.</span></span> <span data-ttu-id="77bd8-137">El valor predeterminado `MaxGrowFactor` es cuatro.</span><span class="sxs-lookup"><span data-stu-id="77bd8-137">The default `MaxGrowFactor` is four.</span></span>

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Gathering Manager
            MaxGrowFactor
```

<span data-ttu-id="77bd8-138">Por lo tanto, si el tipo de archivo tiende a ser pequeño en tamaño total pero tiene propiedades más grandes, es posible que Windows Search no acepte todos los datos de propiedad que desea emitir.</span><span class="sxs-lookup"><span data-stu-id="77bd8-138">Consequently, if your file type tends to be small in total size but have larger properties, Windows Search may not accept all the property data you want to emit.</span></span> <span data-ttu-id="77bd8-139">Sin embargo, puede aumentar el `MaxGrowFactor` para que se adapte a sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="77bd8-139">However, you can increase the `MaxGrowFactor` to suit your needs.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="77bd8-140">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="77bd8-140">Additional Resources</span></span>

- <span data-ttu-id="77bd8-141">En el ejemplo de código [IFilterSample](-search-sample-ifiltersample.md) , disponible en [GitHub](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/WindowsSearch/IFilterSample), se muestra cómo crear una clase base de IFilter para implementar la interfaz [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) .</span><span class="sxs-lookup"><span data-stu-id="77bd8-141">The [IFilterSample](-search-sample-ifiltersample.md) code sample, available on [GitHub](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/WindowsSearch/IFilterSample), demonstrates how to create an IFilter base class for implementing the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface.</span></span>
- <span data-ttu-id="77bd8-142">Para obtener información general sobre el proceso de indización, vea [el proceso de indización](-search-indexing-process-overview.md).</span><span class="sxs-lookup"><span data-stu-id="77bd8-142">For an overview of the indexing process, see [The Indexing Process](-search-indexing-process-overview.md).</span></span>
- <span data-ttu-id="77bd8-143">Para obtener información general sobre los tipos de archivo, consulte [tipos de archivo](../shell/fa-file-types.md).</span><span class="sxs-lookup"><span data-stu-id="77bd8-143">For an overview of file types, see [File Types](../shell/fa-file-types.md).</span></span>
- <span data-ttu-id="77bd8-144">Para consultar los atributos de Asociación de archivo para un tipo de archivo, consulte [PerceivedTypes, SystemFileAssociations y registro de aplicaciones](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="77bd8-144">To query file association attributes for a file type, see [PerceivedTypes, SystemFileAssociations, and Application Registration](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)).</span></span>
- <span data-ttu-id="77bd8-145">Para obtener información general sobre las propiedades y los controladores de propiedades, así como una lista de propiedades del sistema que puede usar para los formatos de archivo, vea [desarrollar controladores de propiedades para Windows Search](-search-3x-wds-extidx-propertyhandlers.md).</span><span class="sxs-lookup"><span data-stu-id="77bd8-145">For an overview of properties and property handlers, and a list of system properties that you can use for your file formats, see [Developing Property Handlers for Windows Search](-search-3x-wds-extidx-propertyhandlers.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="77bd8-146">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="77bd8-146">Related topics</span></span>

[<span data-ttu-id="77bd8-147">Desarrollar controladores de filtro</span><span class="sxs-lookup"><span data-stu-id="77bd8-147">Developing Filter Handlers</span></span>](-search-ifilter-conceptual.md)

[<span data-ttu-id="77bd8-148">Acerca de los controladores de filtro en Windows Search</span><span class="sxs-lookup"><span data-stu-id="77bd8-148">About Filter Handlers in Windows Search</span></span>](-search-ifilter-about.md)

[<span data-ttu-id="77bd8-149">Prácticas recomendadas para crear controladores de filtro en Windows Search</span><span class="sxs-lookup"><span data-stu-id="77bd8-149">Best Practices for Creating Filter Handlers in Windows Search</span></span>](-search-3x-wds-extidx-filters.md)

[<span data-ttu-id="77bd8-150">Controladores de filtro que se distribuyen con Windows</span><span class="sxs-lookup"><span data-stu-id="77bd8-150">Filter Handlers that Ship with Windows</span></span>](-search-ifilter-implementations.md)

[<span data-ttu-id="77bd8-151">Implementar controladores de filtro en Windows Search</span><span class="sxs-lookup"><span data-stu-id="77bd8-151">Implementing Filter Handlers in Windows Search</span></span>](-search-ifilter-constructing-filters.md)

[<span data-ttu-id="77bd8-152">Registrar controladores de filtro</span><span class="sxs-lookup"><span data-stu-id="77bd8-152">Registering Filter Handlers</span></span>](-search-ifilter-registering-filters.md)

[<span data-ttu-id="77bd8-153">Probar controladores de filtro</span><span class="sxs-lookup"><span data-stu-id="77bd8-153">Testing Filter Handlers</span></span>](-search-ifilter-testing-filters.md)
