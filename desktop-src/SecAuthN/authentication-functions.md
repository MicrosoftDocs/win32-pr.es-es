---
description: Enumera las funciones que se usan en las API de autenticación.
ms.assetid: 946ab34a-f52a-4720-8516-cdcae2883d9b
title: Funciones de autenticación
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c3634996aa7217e88dab81dd65e5f61cbd8c015a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "103814763"
---
# <a name="authentication-functions"></a>Funciones de autenticación

Las funciones de autenticación se clasifican según el uso de la manera siguiente:

-   [Funciones SSPI](#sspi-functions)
    -   [Administración de paquetes](#package-management)
    -   [Administración de credenciales](#credential-management)
    -   [Administración de contexto](#context-management)
    -   [Compatibilidad con mensajes](#message-support)
-   [Funciones implementadas por SSP/APs](#functions-implemented-by-sspaps)
-   [Funciones implementadas por SSP/APs en modo de usuario](#functions-implemented-by-user-mode-sspaps)
-   [Funciones de LSA llamadas por SSP/APs](#lsa-functions-called-by-sspaps)
-   [Funciones de LSA llamadas por SSP/APs en modo de usuario](#lsa-functions-called-by-user-mode-sspaps)
-   [Funciones de exportación de GINA](#gina-export-functions)
-   [Funciones de usuario de inicio de sesión](#logon-user-functions)
-   [Funciones de compatibilidad con Winlogon](#winlogon-support-functions)
-   [Funciones de proveedor de red](#network-provider-functions)
    -   [Funciones implementadas por los proveedores de red](#functions-implemented-by-network-providers)
    -   [Funciones de soporte](#winlogon-support-functions)
    -   [Funciones de notificación de conexión](#connection-notification-functions)
-   [Funciones de inicio de sesión LSA](#lsa-logon-functions)
-   [Funciones implementadas por paquetes de autenticación](#functions-implemented-by-authentication-packages)
-   [Funciones de LSA llamadas por paquetes de autenticación](#lsa-functions-called-by-authentication-packages)
-   [Funciones de subautenticación](#subauthentication-functions)
-   [Funciones de administración de credenciales](#credentials-management-functions)
    -   [Funciones de interfaz de usuario de administración de credenciales](#credentials-management-ui-functions)
    -   [Funciones de administración de credenciales de bajo nivel](#low-level-credentials-management-functions)
    -   [Funciones de notificación de administración de credenciales](#credential-management-notification-functions)
-   [Funciones de tarjeta inteligente](#smart-card-functions)
-   [Funciones SASL](#sasl-functions)
-   [Otras funciones](#other-functions)

## <a name="sspi-functions"></a>Funciones SSPI

Las funciones de la interfaz del proveedor de compatibilidad para seguridad (SSPI) se dividen en las siguientes categorías principales.

-   [Administración de paquetes](#package-management)

    Funciones que enumeran los [*paquetes de seguridad*](/windows/desktop/SecGloss/s-gly) disponibles y seleccionan un paquete.

-   [Administración de credenciales](#credential-management)

    Funciones que crean y trabajan con identificadores para las [*credenciales*](/windows/desktop/SecGloss/c-gly) de las [*entidades*](/windows/desktop/SecGloss/p-gly)de seguridad.

-   [Administración de contexto](#context-management)

    Funciones que usan identificadores de credenciales para crear un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).

-   [Compatibilidad con mensajes](#message-support)

    Funciones que usan contextos de seguridad para garantizar la [*integridad*](/windows/desktop/SecGloss/i-gly) del mensaje y la [*privacidad*](/windows/desktop/SecGloss/p-gly) durante los intercambios de mensajes a través de la conexión segura. La integridad se consigue mediante la firma de mensajes y la comprobación de la firma. La privacidad se consigue a través del cifrado y descifrado de mensajes.

### <a name="package-management"></a>Administración de paquetes

Las funciones de administración de paquetes SSPI inician un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly), enumeran los paquetes disponibles y consultan los atributos de un paquete de seguridad. Las siguientes funciones SSPI proporcionan servicios de administración para los paquetes de seguridad.



| Función                                                       | Descripción                                                                                                                                                                                                                                                                                                                            |
|----------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**EnumerateSecurityPackages**](/windows/desktop/api/Sspi/nf-sspi-enumeratesecuritypackagesa) | Enumera los paquetes de seguridad disponibles y sus capacidades.<br/>                                                                                                                                                                                                                                                                   |
| [**InitSecurityInterface**](/windows/desktop/api/Sspi/nf-sspi-initsecurityinterfacea)         | Recupera un puntero a una tabla de envío del proveedor de compatibilidad para seguridad (SSP).<br/>                                                                                                                                                                                                                                                    |
| [**QuerySecurityPackageInfo**](/windows/desktop/api/Sspi/nf-sspi-querysecuritypackageinfoa)   | Recupera información sobre un paquete de [*seguridad*](/windows/desktop/SecGloss/s-gly)especificado. Esta información incluye los límites de los tamaños de la información de autenticación, [*las credenciales*](/windows/desktop/SecGloss/c-gly)y los contextos.<br/> |



 

### <a name="credential-management"></a>Administración de credenciales

Las funciones de administración de credenciales SSPI proporcionan un identificador de [*credenciales*](/windows/desktop/SecGloss/c-gly) , una referencia a un objeto de seguridad opaco, para obtener acceso a una entidad de seguridad. El objeto de seguridad es opaco porque la aplicación solo tiene acceso al identificador y no al contenido real de la estructura.

Todas las referencias al contenido de un contexto de credenciales son a través del identificador del objeto y el [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) desreferencia el identificador para tener acceso a los detalles de las credenciales. Un identificador de credencial es un valor de 64 bits entre {0x00000000, 0x00000000} y {0xFFFFFFFF, 0xFFFFFFFE}.

Las aplicaciones usan el identificador de credenciales con funciones de [Administración de contexto](#context-management) para crear un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).

Las funciones de administración de credenciales también liberan identificadores de credenciales y consultan los [*atributos*](/windows/desktop/SecGloss/a-gly) de [*las credenciales*](/windows/desktop/SecGloss/c-gly). En la actualidad, el nombre asociado a una credencial es el único atributo que se puede consultar.

Las siguientes funciones se usan con la administración de credenciales.



| Función                                                                         | Descripción                                                                                                                                                                                                                                       |
|----------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AcquireCredentialsHandle (general)**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) | Adquiere un identificador a las credenciales preexistentes de una entidad de seguridad especificada.<br/>                                                                                                                                                             |
| [**ExportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext)                           | Exporta un contexto de seguridad a un búfer de contexto.<br/>                                                                                                                                                                                      |
| [**FreeCredentialsHandle**](/windows/desktop/api/Sspi/nf-sspi-freecredentialshandle)                           | Libera un identificador de credenciales y los recursos asociados.<br/>                                                                                                                                                                                 |
| [**ImportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-importsecuritycontexta)                           | Importa un contexto de seguridad exportado mediante [**ExportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) en el proceso actual.<br/>                                                                                                          |
| [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa)                 | Recupera los [*atributos*](/windows/desktop/SecGloss/a-gly) de una [*credencial*](/windows/desktop/SecGloss/c-gly), como el nombre asociado a la credencial.<br/> |



 

### <a name="context-management"></a>Administración de contexto

Las funciones de administración de contexto SSPI crean y usan [*contextos de seguridad*](/windows/desktop/SecGloss/s-gly).

En un vínculo de comunicación, el cliente y el servidor cooperan para crear un contexto de seguridad compartido. Tanto el cliente como el servidor usan el contexto de seguridad con funciones de [compatibilidad con mensajes](#message-support) para garantizar la [*integridad*](/windows/desktop/SecGloss/i-gly) del mensaje y la [*privacidad*](/windows/desktop/SecGloss/p-gly) durante la conexión.

Los contextos de seguridad son objetos de seguridad opacos. La información del contexto de seguridad no está disponible para la aplicación. Las funciones de administración de contexto crean y usan identificadores de contexto y el paquete de seguridad desreferencia el identificador de contexto para tener acceso a su contenido de seguridad.

Un identificador de contexto es un valor de 64 bits entre {0x00000000, 0x00000000} y {0xFFFFFFFF, 0xFFFFFFFE}.

Las siguientes funciones se usan con la administración de contexto.



| Función                                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                                                        |
|------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AcceptSecurityContext (general)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext)         | Lo utiliza un servidor para crear un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly) basado en un mensaje opaco recibido de un cliente.<br/>                                                                                                                                                                                                      |
| [**ApplyControlToken**](/windows/desktop/api/Sspi/nf-sspi-applycontroltoken)                                     | Aplica un mensaje de seguridad adicional a un contexto de seguridad existente.<br/>                                                                                                                                                                                                                                                                                                                |
| [**CompleteAuthToken**](/windows/desktop/api/Sspi/nf-sspi-completeauthtoken)                                     | Completa un token de autenticación. Esta función la usan los protocolos, como DCE, que necesitan revisar la información de seguridad después de que la aplicación de transporte haya actualizado algunos parámetros de mensaje.<br/>                                                                                                                                                                                   |
| [**DeleteSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritycontext)                             | Libera un contexto de seguridad y los recursos asociados.<br/>                                                                                                                                                                                                                                                                                                                                      |
| [**FreeContextBuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer)                                     | Libera un búfer de memoria asignado por un paquete de seguridad.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**ImpersonateSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-impersonatesecuritycontext)                   | Suplanta el contexto de seguridad para que aparezca como el cliente del sistema.<br/>                                                                                                                                                                                                                                                                                                                |
| [**InitializeSecurityContext (general)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) | Lo usa un cliente para iniciar un contexto de seguridad mediante la generación de un mensaje opaco para pasarlo a un servidor.<br/>                                                                                                                                                                                                                                                                               |
| [**QueryContextAttributes (general)**](/windows/win32/api/sspi/nf-sspi-querycontextattributesa)       | Permite que una aplicación de transporte consulte un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) para determinados [*atributos*](/windows/desktop/SecGloss/a-gly) de un [*contexto*](/windows/desktop/SecGloss/c-gly)de seguridad.<br/>                                                         |
| [**QuerySecurityContextToken**](/windows/desktop/api/Sspi/nf-sspi-querysecuritycontexttoken)                     | Obtiene el [*token de acceso*](/windows/desktop/SecGloss/a-gly) para un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly) del cliente y lo usa directamente.<br/>                                                                                                                                                |
| [**SetContextAttributes**](/windows/desktop/api/Sspi/nf-sspi-setcontextattributesa)                               | Permite que una aplicación de transporte establezca [*los atributos*](/windows/desktop/SecGloss/a-gly) de un [*contexto*](/windows/desktop/SecGloss/c-gly) de seguridad para un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly). Esta función solo es compatible con el paquete de seguridad Schannel.<br/> |
| [**RevertSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-revertsecuritycontext)                             | Permite que un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) interrumpa la suplantación del autor de la llamada y restaure su propio contexto de [*seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                      |



 

### <a name="message-support"></a>Compatibilidad con mensajes

Las funciones de compatibilidad con mensajes SSPI permiten a una aplicación transmitir y recibir mensajes resistentes a manipulaciones y cifrar y descifrar mensajes. Estas funciones funcionan con uno o más búferes que contienen un mensaje y con un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly) creado por las funciones de [Administración de contexto](#context-management) . El comportamiento de las funciones difiere en función de si se usa una conexión, un [*datagrama*](/windows/desktop/SecGloss/d-gly)o un contexto de secuencia. Para obtener una descripción de estas diferencias, vea [semántica de contexto SSPI](sspi-context-semantics.md).

Las funciones siguientes proporcionan compatibilidad con la seguridad de los mensajes.



| Función                                                     | Descripción                                                                                                                                                                                                                                          |
|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**DecryptMessage (general)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) | Descifra un mensaje cifrado utilizando la clave de [*sesión*](/windows/desktop/SecGloss/s-gly) de un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).<br/> |
| [**EncryptMessage (general)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) | Cifra un mensaje mediante la clave de sesión de un contexto de seguridad.<br/>                                                                                                                                                                      |
| [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature)                       | Genera una suma de comprobación criptográfica del mensaje y también incluye información de secuenciación para evitar la pérdida de mensajes o la inserción.<br/>                                                                                                         |
| [**VerifySignature**](/windows/desktop/api/Sspi/nf-sspi-verifysignature)                   | Comprueba la firma de un mensaje recibido firmado por el remitente mediante la función [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature) .<br/>                                                                                                  |



 

## <a name="functions-implemented-by-sspaps"></a>Funciones implementadas por SSP/APs

Las siguientes funciones las implementan los [paquetes de seguridad](#sspi-functions) contenidos en los paquetes de autenticación del proveedor de [*compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) / [](/windows/desktop/SecGloss/a-gly) (SSP/APS).

En las tablas siguientes, el primer conjunto de funciones se implementa mediante los paquetes de seguridad SSP/AP de Windows XP. El segundo conjunto de funciones solo se implementa por parte de los paquetes de seguridad SSP/AP.

La [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) tiene acceso a estas funciones mediante la estructura de la tabla de la [**\_ función \_ SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) proporcionada por la función [**SpLsaModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn) de SSP/AP.

Las siguientes funciones las implementan todos los paquetes de autenticación.



| Función                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LsaApCallPackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package)                       | Lo llama la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) cuando una aplicación de inicio de sesión con una conexión de confianza a la LSA llama a la función [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) y especifica el identificador del paquete de autenticación.<br/> |
| [**LsaApCallPackagePassthrough**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package_passthrough) | La función de envío para las solicitudes de inicio de sesión de paso a través enviadas a la función [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) .<br/>                                                                                                                                                                                                            |
| [**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))     | Lo llama la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) cuando una aplicación con una conexión que no es de confianza a la LSA llama a la función [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) y especifica el identificador del paquete de autenticación.<br/>   |
| [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package)           | Lo llama una vez por la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) durante la inicialización del sistema para proporcionar al paquete de autenticación la oportunidad de inicializarse.<br/>                                                                                                       |
| [**LsaApLogonTerminated**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_terminated)               | Se usa para notificar a un paquete de autenticación cuando finaliza una sesión de inicio de sesión. Una sesión de inicio de sesión finaliza cuando se elimina el último token que hace referencia A la sesión de inicio de sesión.<br/>                                                                                                                                                                                          |
| [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)                           | Autentica las credenciales de inicio de sesión de un usuario.<br/>                                                                                                                                                                                                                                                                                                                   |
| [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)                       | Autentica las credenciales de inicio de sesión de un usuario.<br/>                                                                                                                                                                                                                                                                                                                   |
| [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)                     | Se usa para autenticar un intento de inicio de sesión de usuario en el inicio de sesión inicial del usuario. Se establece una nueva sesión de inicio de sesión para el usuario y se devuelve la información de validación del usuario.<br/>                                                                                                                                                                                |



 

Los paquetes de seguridad SSP/AP implementan las siguientes funciones adicionales.



| Función                                                             | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**SpAcceptCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptcredentialsfn)                   | Lo llama la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) para pasar el [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) de todas las [*credenciales*](/windows/desktop/SecGloss/c-gly) almacenadas para la [*entidad de seguridad*](/windows/desktop/SecGloss/s-gly)autenticada.<br/> |
| [**SpAcceptLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)             | Función de distribución de servidor que se usa para crear un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly) compartido por un servidor y un cliente.<br/>                                                                                                                                                                                                                                                                                                                  |
| [**SpAcquireCredentialsHandle**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacquirecredentialshandlefn)     | Se llama para obtener un identificador de [*las credenciales*](/windows/desktop/SecGloss/c-gly)de una entidad de seguridad.<br/>                                                                                                                                                                                                                                                                                                                                                              |
| [**SpAddCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spaddcredentialsfn)                         | Se usa para agregar [*credenciales*](/windows/desktop/SecGloss/c-gly) para una [*entidad de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                              |
| [**SpApplyControlToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spapplycontroltokenfn)                   | Aplica un token de control a un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly). La [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) no llama a esta función actualmente.<br/>                                                                                                                                                                              |
| [**SpDeleteContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspdeletecontextfn)                           | Elimina un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                                                |
| [**SpDeleteCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spdeletecredentialsfn)                   | Elimina [*las credenciales*](/windows/desktop/SecGloss/c-gly) de [*la*](/windows/desktop/SecGloss/s-gly) lista de credenciales [*principales*](/windows/desktop/SecGloss/p-gly) o [*adicionales*](/windows/desktop/SecGloss/s-gly) de un paquete de seguridad.<br/>                                               |
| [**SpFreeCredentialsHandle**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spfreecredentialshandlefn)           | Libera [*las credenciales*](/windows/desktop/SecGloss/c-gly) adquiridas llamando a la función [**SpAcquireCredentialsHandle**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacquirecredentialshandlefn) .<br/>                                                                                                                                                                                                                                                                                                 |
| [**SpGetCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcredentialsfn)                         | Recupera las credenciales del usuario.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**SpGetExtendedInformation**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetextendedinformationfn)         | Proporciona información extendida sobre un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                    |
| [**SpGetInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetinfofn)                                       | Proporciona información general sobre el [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly), como su nombre y sus capacidades.<br/>                                                                                                                                                                                                                                                                                                                |
| [**SpGetUserInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetuserinfofn)                               | Recupera información sobre una [*sesión*](/windows/desktop/SecGloss/s-gly)de inicio de sesión.<br/>                                                                                                                                                                                                                                                                                                                                                                                 |
| [**SPInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitializefn)                                 | La [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) llama una vez a este método para proporcionar un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) con información de seguridad general y una tabla de envío de funciones de soporte.<br/>                                                                                                                                          |
| [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn)                 | La función de distribución de cliente que se usa para establecer un [*contexto de seguridad*](/windows/desktop/SecGloss/c-gly) entre un servidor y un cliente.<br/>                                                                                                                                                                                                                                                                                                                               |
| [**SpQueryContextAttributes**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycontextattributesfn)         | Recupera los atributos de un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                            |
| [**SpQueryCredentialsAttributes**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycredentialsattributesfn) | Recupera los atributos de una [*credencial*](/windows/desktop/SecGloss/c-gly).<br/>                                                                                                                                                                                                                                                                                                                                                                           |
| [**SpSaveCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsavecredentialsfn)                       | Guarda una [*credencial complementaria*](/windows/desktop/SecGloss/s-gly) en el objeto de usuario.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [**SpSetExtendedInformation**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsetextendedinformationfn)         | Establece la información extendida sobre el [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                      |
| [**SpShutdown**](/previous-versions/windows/desktop/legacy/aa380183(v=vs.85))                                     | Realiza cualquier limpieza necesaria antes de que se descargue el SSP/AP.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**SslCrackCertificate**](/windows/desktop/api/Schannel/nf-schannel-sslcrackcertificate)                   | Devuelve una estructura [**X509Certificate**](/windows/desktop/api/Schannel/ns-schannel-x509certificate) con la información contenida en el [*BLOB*](/windows/desktop/SecGloss/b-gly)de certificado especificado.<br/>                                                                                                                                                                                                                                                                                                  |
| [**SslEmptyCache**](/windows/desktop/api/Schannel/nf-schannel-sslemptycachea)                               | Quita la cadena especificada de la memoria caché de Schannel.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**SslFreeCertificate**](/windows/desktop/api/Schannel/nf-schannel-sslfreecertificate)                     | Libera un certificado asignado por una llamada anterior a la función [**SslCrackCertificate**](/windows/desktop/api/Schannel/nf-schannel-sslcrackcertificate) .<br/>                                                                                                                                                                                                                                                                                                                                                                |



 

## <a name="functions-implemented-by-user-mode-sspaps"></a>Funciones implementadas por SSP/APs en modo de usuario

Las siguientes funciones las implementan los paquetes de autenticación del [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) / [](/windows/desktop/SecGloss/a-gly) (SSP/APS) que se pueden cargar en aplicaciones cliente/servidor.

Un SSP/AP indica que implementa las funciones de modo de usuario devolviendo **true** en el parámetro *MappedContext* de las funciones [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn) y [**SpAcceptLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn) . El lado cliente de una aplicación de nivel de transporte usa la función **SpInitLsaModeContext** , mientras que **SpAcceptLsaModeContext** se usa en el lado del servidor.

La carga de un SSP/AP en el proceso de cliente o de servidor se controla mediante el archivo DLL del proveedor de seguridad, ya sea Security.dll o Secur32.dll. La DLL del proveedor de seguridad carga el SSP/AP buscando la dirección de la función [**SpUserModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spusermodeinitializefn) implementada por SSP/AP y llamándola. Esta función devuelve un conjunto de tablas que contienen punteros a las funciones de modo de usuario implementadas en cada [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly).

Una vez que se carga SSP/AP en el proceso de cliente o de servidor, la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) copiará la información de contexto de seguridad (devuelta por [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn) o [**SpAcceptLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)) y cualquier dato adicional relacionado con el contexto en el proceso y llamará a la función [**SpInitUserModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitusermodecontextfn) del paquete de seguridad.

Las aplicaciones cliente/servidor acceden a la funcionalidad de modo de usuario mediante una llamada a funciones de la [interfaz del proveedor de compatibilidad con seguridad](sspi.md) (SSPI). La DLL del proveedor de seguridad asigna las funciones SSPI mediante la [**tabla de \_ \_ funciones de \_ usuario SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table) suministrada por el paquete.



| Función                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**SpCompleteAuthToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spcompleteauthtokenfn)                 | Completa un token de autenticación. <br/> Implementa la función [**CompleteAuthToken**](/windows/desktop/api/Sspi/nf-sspi-completeauthtoken) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**SpDeleteContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspdeletecontextfn)                         | Elimina un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).<br/> Implementa la función [**DeleteSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritycontext) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                       |
| [**SpExportSecurityContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spexportsecuritycontextfn)         | Exporta un contexto de seguridad a otro proceso.<br/> Implementa la función [**ExportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**SpFormatCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spformatcredentialsfn)                 | Da formato a [*las credenciales*](/windows/desktop/SecGloss/c-gly) que se almacenan en un objeto de usuario.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**SpGetContextToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcontexttokenfn)                     | Obtiene el token que se va a suplantar.<br/> Lo utiliza la función [**ImpersonateSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-impersonatesecuritycontext) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**SpImportSecurityContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spimportsecuritycontextfn)         | Importa un contexto de seguridad de otro proceso.<br/> Implementa la función [**ImportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-importsecuritycontexta) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**SpInitUserModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitusermodecontextfn)             | Crea un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly) de modo de usuario a partir de un contexto en modo de [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) empaquetado.<br/>                                                                                                                                                                                                                                                                                                 |
| [**SpInstanceInit**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinstanceinitfn)                           | Inicializa los paquetes de seguridad de modo de usuario en un SSP/AP.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**SpMakeSignature**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspmakesignaturefn)                         | Genera una [*firma*](/windows/desktop/SecGloss/d-gly) basada en el mensaje y el [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly)especificados.<br/> Implementa la función [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature) de SSPI.<br/>                                                                                                                                                                                                                                                    |
| [**SpMarshallSupplementalCreds**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spmarshallsupplementalcredsfn) | Convierte [*las credenciales complementarias*](/windows/desktop/SecGloss/s-gly) de un formato público a un formato adecuado para las llamadas a procedimientos locales.<br/>                                                                                                                                                                                                                                                                                                                                                                          |
| [**SpQueryContextAttributes**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycontextattributesfn)       | Recupera los atributos de un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).<br/> Implementa la función [**QueryContextAttributes (general)**](/windows/win32/api/sspi/nf-sspi-querycontextattributesa) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                             |
| [**SpSealMessage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsealmessagefn)                             | Cifra un mensaje intercambiado entre un cliente y un servidor.<br/> Implementa la función [**EncryptMessage (general)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**SpUnsealMessage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spunsealmessagefn)                         | Descifra un mensaje que se cifró previamente con la función [**SpSealMessage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsealmessagefn) .<br/> Implementa la función [**DecryptMessage (general)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                    |
| [**SpUserModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spusermodeinitializefn)               | Se le llama [](/windows/desktop/SecGloss/s-gly)cuando un / archivo dll de [*paquete de autenticación*](/windows/desktop/SecGloss/a-gly) del proveedor de compatibilidad para seguridad (SSP/AP) se carga en el espacio de proceso de una aplicación cliente/servidor. Esta función proporciona las tablas de la [**tabla de funciones de usuario de SECPKG \_ \_ \_**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table) para cada [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) en el archivo dll SSP/AP.<br/> |
| [**SpVerifySignature**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspverifysignaturefn)                     | Comprueba que el mensaje recibido es correcto de acuerdo con la [*firma*](/windows/desktop/SecGloss/d-gly).<br/> Implementa la función [**VerifySignature**](/windows/desktop/api/Sspi/nf-sspi-verifysignature) de SSPI.<br/>                                                                                                                                                                                                                                                                                                                                   |



 

## <a name="lsa-functions-called-by-sspaps"></a>Funciones de LSA llamadas por SSP/APs

La [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) proporciona las siguientes funciones a los [*paquetes de seguridad*](/windows/desktop/SecGloss/s-gly) implementados en los paquetes de autenticación del [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) / [](/windows/desktop/SecGloss/a-gly) (SSP/APS). Las funciones están disponibles en la estructura de la tabla de la [**\_ \_ función \_ LSA SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) y se puede llamar mientras el SSP/AP se carga en el espacio de proceso de LSA. Las siguientes funciones están disponibles para todos los APs.



| Función                                             | Descripción                                                                                                                       |
|------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| [**AddCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)               | Agrega [*credenciales*](/windows/desktop/SecGloss/c-gly)de usuario.<br/>                         |
| [**AllocateClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) | Asigna memoria en el espacio de direcciones del cliente del paquete.<br/>                                                         |
| [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)           | Asigna memoria en el montón. La información que se pasa a la LSA se espera que se asigne mediante esta función.<br/> |
| [**CopyFromClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_from_client_buffer) | Copia información del espacio de direcciones de un proceso de cliente en un búfer del proceso actual.<br/>                    |
| [**CopyToClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_to_client_buffer)     | Copia información de un búfer en el proceso actual en el espacio de direcciones de un proceso de cliente.<br/>                         |
| [**CreateLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_logon_session)     | Crea sesiones de inicio de sesión.<br/>                                                                                                |
| [**DeleteCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_credential)         | Elimina las credenciales del usuario.<br/>                                                                                              |
| [**DeleteLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_logon_session)     | Elimina una sesión de inicio de sesión LSA.<br/>                                                                                          |
| [**FreeClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_client_buffer)         | Libera memoria en el espacio de direcciones del cliente del paquete.<br/>                                                             |
| [**FreeLsaHeap**](/windows/win32/api/ntlsa/nc-ntlsa-lsa_free_lsa_heap)                   | Desasigna la memoria del montón asignada previamente por [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap).<br/>                            |
| [**GetCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_credentials)             | Recupera las credenciales asociadas a una sesión de inicio de sesión.<br/>                                                                 |



 

Las siguientes funciones están disponibles para SSP/APs.



| Función                                                 | Descripción                                                                                                                                                                                                                                                                                                                                                        |
|----------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AllocateSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_shared_memory)     | Asigna una sección de memoria compartida.<br/>                                                                                                                                                                                                                                                                                                                   |
| [**AuditAccountLogon**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_audit_account_logon)           | Crea registros de auditoría para los inicios de sesión incorrectos.<br/>                                                                                                                                                                                                                                                                                                             |
| [**AuditLogon**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_audit_logon)                         | Crea una traza de auditoría para una sesión de inicio de sesión.<br/>                                                                                                                                                                                                                                                                                                             |
| [**CallPackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_package)                       | Llama a un paquete.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [**CallPackageEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_packageex)                   | Llama a otro paquete.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**CallPackagePassthrough**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_package_passthrough) | Llama a un paquete de seguridad de otro.<br/>                                                                                                                                                                                                                                                                                                                |
| [**CancelNotification**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_cancel_notification)         | Cancela la notificación de eventos especiales.<br/>                                                                                                                                                                                                                                                                                                                |
| [**ClientCallback**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_client_callback)                 | Permite que un paquete de seguridad invoque una función en el proceso del cliente.<br/> Para un prototipo de función [**ClientCallback**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_client_callback) , vea prototipo de la [*función ClientCallback*](/previous-versions/windows/desktop/legacy/aa374759(v=vs.85)).<br/>                                                                                                              |
| [**CloseSamUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_close_sam_user)                     | Cierra un identificador de una entrada de base de datos del administrador de cuentas de seguridad.<br/>                                                                                                                                                                                                                                                                                          |
| [**ConvertAuthDataToToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_convert_auth_data_to_token) | Convierte los datos de autorización en un token de usuario.<br/>                                                                                                                                                                                                                                                                                                            |
| [**CrackSingleName**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_crack_single_name)               | Convierte un nombre de un formato a otro.<br/>                                                                                                                                                                                                                                                                                                             |
| [**CreateSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_shared_memory)         | Crea una sección de memoria compartida entre los clientes y el SSP/AP.<br/>                                                                                                                                                                                                                                                                                      |
| [**CreateThread**](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_create_thread)                     | Crea un nuevo subproceso.<br/>                                                                                                                                                                                                                                                                                                                                   |
| [**CreateToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_token)                       | Crea un token.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [**DeleteSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_shared_memory)         | Elimina una sección de la memoria compartida.<br/>                                                                                                                                                                                                                                                                                                                     |
| [**DuplicateHandle**](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_duplicate_handle)               | Duplica un identificador.<br/>                                                                                                                                                                                                                                                                                                                                    |
| [**FreeReturnBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_lsa_heap)             | Libera un búfer asignado por la LSA.<br/>                                                                                                                                                                                                                                                                                                                    |
| [**FreeSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_shared_memory)             | Libera una sección de la memoria compartida.<br/>                                                                                                                                                                                                                                                                                                                       |
| [**GetAuthDataForUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_auth_data_for_user)         | Recupera los datos de autorización de una cuenta de usuario.<br/>                                                                                                                                                                                                                                                                                                        |
| [**GetCallInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_call_info)                       | Recupera información sobre la llamada de función más reciente.<br/>                                                                                                                                                                                                                                                                                              |
| [**GetClientInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_client_info)                   | Recupera información sobre el proceso de usuario del paquete de seguridad.<br/>                                                                                                                                                                                                                                                                                        |
| [**GetUserAuthData**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_user_auth_data)               | Devuelve los datos de autorización de un usuario.<br/>                                                                                                                                                                                                                                                                                                              |
| **GetUserCredentials**                                   | Sin implementar todavía.                                                                                                                                                                                                                                                                                                                                               |
| [**ImpersonateClient**](/previous-versions/windows/desktop/legacy/aa375494(v=vs.85))           | Lo llaman los [*paquetes de seguridad*](/windows/desktop/SecGloss/s-gly) para suplantar al usuario del paquete.<br/>                                                                                                                                                                                                          |
| [**MapBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_map_buffer)                           | Asigna una estructura [**SecBuffer**](/windows/desktop/api/Sspi/ns-sspi-secbuffer) en el espacio de direcciones del paquete de autenticación del [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) / [](/windows/desktop/SecGloss/a-gly) (SSP/AP).<br/>              |
| [**OpenSamUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_open_sam_user)                       | Recupera un identificador de una cuenta de usuario en la base de datos del [*Administrador de cuentas de seguridad*](/windows/desktop/SecGloss/s-gly) (SAM).<br/>                                                                                                                                                               |
| [**RegisterNotification**](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_register_notification)     | Proporciona un mecanismo por el que se notifica al [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) . La notificación puede producirse a intervalos fijos, cuando se señala un objeto de evento o durante ciertos eventos del sistema.<br/>                                                                                          |
| **SaveSupplementalCredentials**                          | Obsoleto. No debe usarse.<br/>                                                                                                                                                                                                                                                                                                                                   |
| [**UnloadPackage**](/previous-versions/windows/desktop/legacy/aa380520(v=vs.85))                   | Descarga un paquete de autenticación del [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) / [](/windows/desktop/SecGloss/a-gly) (SSP/AP).<br/>                                                                                 |
| [**UpdateCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_update_primary_credentials)           | Proporciona un mecanismo para que un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) notifique a otros paquetes que las [*credenciales*](/windows/desktop/SecGloss/c-gly) de una [*sesión*](/windows/desktop/SecGloss/s-gly) de inicio de sesión han cambiado.<br/> |



 

## <a name="lsa-functions-called-by-user-mode-sspaps"></a>Funciones de LSA llamadas por SSP/APs en modo de usuario

Un [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) en un paquete de autenticación del [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) / [](/windows/desktop/SecGloss/a-gly) (SSP/AP) que se ejecuta en un proceso de modo de usuario puede usar los punteros de la tabla de [**\_ \_ funciones dll de SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_dll_functions) para tener acceso a las siguientes funciones.



| Función                                     | Estado de PSDK                                                                                                                                                                                        |
|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85))         | Asigna memoria para los búferes que se devuelven a la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA).<br/> |
| [**FreeHeap**](/previous-versions/windows/desktop/legacy/aa375418(v=vs.85))                 | Libera memoria previamente asignada mediante [**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85)).<br/>                                                                                               |
| [**RegisterCallback**](/previous-versions/windows/desktop/legacy/aa379372(v=vs.85)) | Registra funciones de devolución de llamada de modo usuario.<br/>                                                                                                                                                 |



 

## <a name="gina-export-functions"></a>Funciones de exportación de GINA

Un archivo dll de [*Gina*](/windows/desktop/SecGloss/g-gly) debe exportar las siguientes funciones.

> [!Note]  
> Los archivos dll de GINA se omiten en Windows Vista.

 



| Función                                                                 | Descripción                                                                                                                                                                                                                                                                                                                                                                                     |
|--------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**WlxActivateUserShell**](/windows/desktop/api/Winwlx/nf-winwlx-wlxactivateusershell)                     | Activa el programa de Shell de usuario.<br/>                                                                                                                                                                                                                                                                                                                                                    |
| [**WlxDisplayLockedNotice**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaylockednotice)                 | Permite que GINA muestre información sobre el bloqueo, como quién bloqueó la estación de trabajo y cuándo se bloqueó.<br/>                                                                                                                                                                                                                                                                    |
| [**WlxDisplaySASNotice**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaysasnotice)                       | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función cuando ningún usuario ha iniciado sesión.<br/>                                                                                                                                                                                                                                                            |
| [**WlxDisplayStatusMessage**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaystatusmessage)               | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función cuando el archivo dll de Gina debe mostrar un mensaje.<br/>                                                                                                                                                                                                                                           |
| [**WlxGetConsoleSwitchCredentials**](/windows/desktop/api/Winwlx/nf-winwlx-wlxgetconsoleswitchcredentials) | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función para leer las credenciales del usuario que ha iniciado sesión actualmente para transferirlas de forma transparente a una sesión de destino.<br/>                                                                                                                                                                                |
| [**WlxGetStatusMessage**](/windows/desktop/api/Winwlx/nf-winwlx-wlxgetstatusmessage)                       | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función para obtener el mensaje de estado que muestra el archivo dll de Gina.<br/>                                                                                                                                                                                                                            |
| [**WlxInitialize**](/windows/desktop/api/Winwlx/nf-winwlx-wlxinitialize)                                   | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función una vez por cada estación de ventana presente en el equipo. Actualmente, el sistema operativo admite una estación de ventana por estación de trabajo.<br/>                                                                                                                                                    |
| [**WlxIsLockOk**](/windows/desktop/api/Winwlx/nf-winwlx-wlxislockok)                                       | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función antes de intentar bloquear la estación de trabajo.<br/>                                                                                                                                                                                                                                            |
| [**WlxIsLogoffOk**](/windows/desktop/api/Winwlx/nf-winwlx-wlxislogoffok)                                   | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función cuando el usuario inicia una operación de cierre de sesión.<br/>                                                                                                                                                                                                                                           |
| [**WlxLoggedOnSAS**](/windows/desktop/api/Winwlx/nf-winwlx-wlxloggedonsas)                                 | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función cuando recibe un evento de [*secuencia de atención segura*](/windows/desktop/SecGloss/s-gly) (SAS) mientras el usuario ha iniciado sesión y la estación de trabajo no está bloqueada.<br/>                                                           |
| [**WlxLoggedOutSAS**](/windows/desktop/api/Winwlx/nf-winwlx-wlxloggedoutsas)                               | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función cuando recibe un evento de [*secuencia de atención segura*](/windows/desktop/SecGloss/s-gly) (SAS) mientras ningún usuario ha iniciado sesión.<br/>                                                                                              |
| [**WlxLogoff**](/windows/desktop/api/Winwlx/nf-winwlx-wlxlogoff)                                           | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función para notificar a la gina de una operación de cierre de sesión en esta estación de trabajo, lo que permite que Gina realice cualquier operación de cierre de sesión que sea necesaria.<br/>                                                                                                                                                |
| [**WlxNegotiate**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnegotiate)                                     | La función [**WlxNegotiate**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnegotiate) debe implementarse mediante un archivo dll de [*Gina*](/windows/desktop/SecGloss/g-gly) de reemplazo. Esta es la primera llamada realizada por [*Winlogon*](/windows/desktop/SecGloss/w-gly) al archivo dll de Gina. **WlxNegotiate** permite que Gina Compruebe que admite la versión instalada de Winlogon.<br/> |
| [**WlxNetworkProviderLoad**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnetworkproviderload)                 | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función para recopilar información de identificación y autenticación válida.<br/>                                                                                                                                                                                                                       |
| [**WlxRemoveStatusMessage**](/windows/desktop/api/Winwlx/nf-winwlx-wlxremovestatusmessage)                 | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función para indicar a la dll de Gina que deje de mostrar el mensaje de estado.<br/>                                                                                                                                                                                                                           |
| [**WlxScreenSaverNotify**](/windows/desktop/api/Winwlx/nf-winwlx-wlxscreensavernotify)                     | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función inmediatamente antes de que se active un protector de pantalla, lo que permite que Gina interactúe con el programa del protector de pantalla.<br/>                                                                                                                                                                          |
| [**WlxShutdown**](/windows/desktop/api/Winwlx/nf-winwlx-wlxshutdown)                                       | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función justo antes de cerrarse, lo que permite que Gina realice cualquier tarea de apagado, como la expulsión de una [*tarjeta inteligente*](/windows/desktop/SecGloss/s-gly) de un [*lector*](/windows/desktop/SecGloss/r-gly).<br/>                          |
| [**WlxStartApplication**](/windows/desktop/api/Winwlx/nf-winwlx-wlxstartapplication)                       | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función cuando el sistema necesita que se inicie una aplicación en el [*contexto*](/windows/desktop/SecGloss/c-gly) del usuario.<br/>                                                                                                                                        |
| [**WlxWkstaLockedSAS**](/windows/desktop/api/Winwlx/nf-winwlx-wlxwkstalockedsas)                           | [*Winlogon*](/windows/desktop/SecGloss/w-gly) llama a esta función cuando recibe una [*secuencia de atención segura*](/windows/desktop/SecGloss/s-gly) (SAS) y la estación de trabajo está bloqueada.<br/>                                                                                                 |



 

## <a name="logon-user-functions"></a>Funciones de usuario de inicio de sesión

Las siguientes funciones proporcionan la capacidad de iniciar sesión en un usuario.



| Función                                 | Descripción                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LogonUser**](/windows/desktop/api/Winbase/nf-winbase-logonusera)           | Intenta iniciar una sesión de usuario en el equipo local.<br/>                                                                                                                                                                                                                                                                                                |
| [**LogonUserEx**](/windows/desktop/api/Winbase/nf-winbase-logonuserexa)       | Intenta iniciar una sesión de usuario en el equipo local. Esta función es una versión extendida de la función [**LogonUser**](/windows/desktop/api/Winbase/nf-winbase-logonusera) y recupera información sobre el [*identificador de seguridad*](/windows/desktop/SecGloss/s-gly) (SID) del usuario que ha iniciado sesión, el perfil y los límites de cuota.<br/>         |
| [**LogonUserExExW**](logonuserexexw.md) | La función [**LogonUserExExW**](logonuserexexw.md) intenta iniciar una sesión de usuario en el equipo local. Esta función no se declara en un encabezado público y no tiene asociada ninguna biblioteca de importación. Debe utilizar las funciones [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya) y [**GetProcAddress**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress) para vincular dinámicamente a Advapi32.dll.<br/> |



 

## <a name="winlogon-support-functions"></a>Funciones de compatibilidad con Winlogon

[*Gina*](/windows/desktop/SecGloss/g-gly) Los archivos dll pueden llamar a las siguientes funciones de compatibilidad de [*Winlogon*](/windows/desktop/SecGloss/w-gly) .

> [!Note]  
> Los archivos dll de GINA se omiten en Windows Vista.

 



| Función                                                                     | Llamado por GINA                                                                                                                                                                                                                                                                                                                                                                                                              |
|------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**WlxAssignShellProtection**](/windows/win32/api/winwlx/nc-winwlx-pwlx_assign_shell_protection)                 | Lo llama [*Gina*](/windows/desktop/SecGloss/g-gly) para asignar protección al programa de Shell de un usuario que ha iniciado sesión recientemente.<br/>                                                                                                                                                                                                                                                                    |
| [**WlxChangePasswordNotify**](/windows/win32/api/winwlx/nc-winwlx-pwlx_change_password_notify)                   | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para indicar que ha cambiado una contraseña.<br/>                                                                                                                                                                                                                                                                                                  |
| [**WlxChangePasswordNotifyEx**](/windows/win32/api/winwlx/nc-winwlx-pwlx_change_password_notify_ex)               | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para indicar a un proveedor de red específico (o a todos los proveedores de red) que una contraseña ha cambiado.<br/>                                                                                                                                                                                                                                             |
| [**WlxCloseUserDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_close_user_desktop)                           | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para cerrar un escritorio de usuario alternativo y limpiar después de cerrar el escritorio.<br/>                                                                                                                                                                                                                                                            |
| [**WlxCreateUserDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_create_user_desktop)                         | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para crear escritorios de aplicaciones alternativos para el usuario.<br/>                                                                                                                                                                                                                                                                                  |
| [**WlxDialogBox**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box)                                         | Lo llama [*Gina*](/windows/desktop/SecGloss/g-gly) para crear un cuadro de diálogo modal a partir de una plantilla de cuadro de diálogo.<br/>                                                                                                                                                                                                                                                                            |
| [**WlxDialogBoxIndirect**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_indirect)                         | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para crear un cuadro de diálogo modal a partir de una plantilla de cuadro de diálogo en memoria.<br/>                                                                                                                                                                                                                                                                      |
| [**WlxDialogBoxIndirectParam**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_indirect_param)               | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para inicializar los controles del cuadro de diálogo y, a continuación, crear un cuadro de diálogo modal a partir de una plantilla de cuadro de diálogo en la memoria.<br/>                                                                                                                                                                                                                              |
| [**WlxDialogBoxParam**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_param)                               | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para inicializar los controles de cuadro de diálogo y, a continuación, crear un cuadro de diálogo modal desde un recurso de plantilla de cuadro de diálogo.<br/>                                                                                                                                                                                                                               |
| [**WlxDisconnect**](/windows/win32/api/winwlx/nc-winwlx-pwlx_disconnect)                                       | Lo llama un archivo DLL de GINA de reemplazo si está habilitado Terminal Services. [*Gina*](/windows/desktop/SecGloss/g-gly) llama a esta función para desconectarse de una sesión de red Terminal Services.<br/>                                                                                                                                                                                                     |
| [**WlxGetOption**](/windows/win32/api/winwlx/nc-winwlx-pwlx_get_option)                                         | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para recuperar el valor actual de una opción.<br/>                                                                                                                                                                                                                                                                                             |
| [**WlxGetSourceDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_get_source_desktop)                           | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para determinar el nombre y el identificador del escritorio que era el actual antes de que [*Winlogon*](/windows/desktop/SecGloss/w-gly) cambiara al escritorio Winlogon.<br/>                                                                                                                                                    |
| [**WlxMessageBox**](/windows/win32/api/winwlx/nc-winwlx-pwlx_message_box)                                       | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para crear, mostrar y utilizar un cuadro de mensaje.<br/>                                                                                                                                                                                                                                                                                          |
| [**WlxQueryClientCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_client_credentials)               | Lo llama un archivo DLL de GINA de reemplazo si está habilitado Terminal Services. GINA llama a esta función para recuperar las credenciales de clientes de Terminal Services remotos que no usan una licencia de conector de Internet.<br/>                                                                                                                                                                                                     |
| [**WlxQueryConsoleSwitchCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_consoleswitch_credentials) | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para leer las credenciales transferidas desde el Winlogon de la sesión temporal al Winlogon de la sesión de destino.<br/>                                                                                                                                                                                                              |
| [**WlxQueryInetConnectorCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_ic_credentials) | Lo llama un archivo DLL de GINA de reemplazo si está habilitado Terminal Services. [*Gina*](/windows/desktop/SecGloss/g-gly) llama a esta función para determinar si el servidor de Terminal Server usa las licencias del conector de Internet y para recuperar la información de [*las credenciales*](/windows/desktop/SecGloss/c-gly) .<br/>                                                             |
| [**WlxQueryTerminalServicesData**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_terminal_services_data)         | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para recuperar Terminal Services información de configuración de usuario después de que un usuario haya iniciado sesión.<br/>                                                                                                                                                                                                                                                |
| [**WlxSasNotify**](/windows/win32/api/winwlx/nc-winwlx-pwlx_sas_notify)                                         | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para notificar a [*Winlogon*](/windows/desktop/SecGloss/w-gly) de un evento de [*secuencia de atención segura*](/windows/desktop/SecGloss/s-gly) (SAS).<br/>                                                                                                    |
| [**WlxSetContextPointer**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_context_pointer)                         | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para especificar el puntero de [*contexto*](/windows/desktop/SecGloss/c-gly) que [*Winlogon*](/windows/desktop/SecGloss/w-gly) pasa como primer parámetro a todas las llamadas futuras a las funciones gina.<br/>                                                                                       |
| [**WlxSetOption**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_option)                                         | Lo llama [*Gina*](/windows/desktop/SecGloss/g-gly) para establecer el valor de una opción.<br/>                                                                                                                                                                                                                                                                                                          |
| [**WlxSetReturnDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_return_desktop)                           | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para especificar el escritorio de aplicación alternativo al que [*Winlogon*](/windows/desktop/SecGloss/w-gly) cambiará cuando se complete la función de procesamiento de eventos de la [*secuencia de atención segura*](/windows/desktop/SecGloss/s-gly) (SAS) actual.<br/> |
| [**WlxSetTimeout**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_timeout)                                       | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para cambiar el tiempo de espera asociado a un cuadro de diálogo. El tiempo de espera predeterminado es de dos minutos.<br/>                                                                                                                                                                                                                                               |
| [**WlxSwitchDesktopToUser**](/windows/win32/api/winwlx/nc-winwlx-pwlx_switch_desktop_to_user)                     | [*Gina*](/windows/desktop/SecGloss/g-gly) lo llama para cambiar al escritorio de la aplicación.<br/>                                                                                                                                                                                                                                                                                                   |
| [**WlxSwitchDesktopToWinlogon**](/windows/win32/api/winwlx/nc-winwlx-pwlx_switch_desktop_to_winlogon)             | Permite al archivo dll de [*Gina*](/windows/desktop/SecGloss/g-gly) cambiar al escritorio de [*Winlogon*](/windows/desktop/SecGloss/w-gly) .<br/>                                                                                                                                                                                                                                  |
| [**WlxUseCtrlAltDel**](/windows/win32/api/winwlx/nc-winwlx-pwlx_use_ctrl_alt_del)                                 | Lo llama [*Gina*](/windows/desktop/SecGloss/g-gly) para indicar a [*Winlogon*](/windows/desktop/SecGloss/w-gly) que use la combinación de teclas Ctrl + Alt + Supr estándar como una [*secuencia de atención segura*](/windows/desktop/SecGloss/s-gly) (SAS).<br/>                                                           |
| [**WlxWin31Migrate**](/windows/win32/api/winwlx/nc-winwlx-pwlx_win31_migrate)                                   | Lo llama un archivo DLL de GINA de reemplazo si está habilitado Terminal Services. [*Gina*](/windows/desktop/SecGloss/g-gly) llama a esta función para completar la instalación del cliente de Terminal Services.<br/>                                                                                                                                                                                                      |



 

## <a name="network-provider-functions"></a>Funciones de proveedor de red

En los temas siguientes se proporciona información de referencia para las funciones de proveedor de red.



| Tema                                      | Descripción                                                                                                                                                                                                                                                                                         |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Funciones implementadas por los proveedores de red | Funciones de detalles que pueden ser implementadas por proveedores de red.<br/>                                                                                                                                                                                                                          |
| Funciones de soporte                          | Detalla una función implementada por el sistema operativo y a la que pueden llamar los proveedores de red.<br/>                                                                                                                                                                                   |
| Funciones de notificación de conexión          | Funciones de detalles implementadas por aplicaciones que necesitan recibir notificaciones del [*enrutador de varios proveedores*](/windows/desktop/SecGloss/m-gly) (MPR) cuando un recurso de red está conectado o desconectado.<br/> |



 

### <a name="functions-implemented-by-network-providers"></a>Funciones implementadas por los proveedores de red

Los proveedores de red pueden implementar las siguientes funciones. La única función que los proveedores de red deben admitir es [**NPGetCaps**](/windows/desktop/api/Npapi/nf-npapi-npgetcaps).



| Función                                                         | Descripción                                                                                                                                                                                                           |
|------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**NPAddConnection**](/windows/desktop/api/Npapi/nf-npapi-npaddconnection)                       | Conecta un dispositivo local a un recurso de red.<br/>                                                                                                                                                             |
| [**NPAddConnection3**](/windows/desktop/api/Npapi/nf-npapi-npaddconnection3)                     | Conecta un dispositivo local a un recurso de red.<br/>                                                                                                                                                             |
| [**NPCancelConnection**](/windows/desktop/api/Npapi/nf-npapi-npcancelconnection)                 | Desconecta una conexión de red.<br/>                                                                                                                                                                          |
| [**NPCloseEnum**](/windows/desktop/api/Npapi/nf-npapi-npcloseenum)                               | Cierra una enumeración.<br/>                                                                                                                                                                                     |
| [**NPDeviceMode**](/windows/desktop/api/Npapi/nf-npapi-npdevicemode)                             | Especifica la ventana primaria de un dispositivo. Esta ventana es propietaria de los cuadros de diálogo que se originan desde el dispositivo.<br/>                                                                                                 |
| [**NPDirectoryNotify**](/windows/desktop/api/Npapi/nf-npapi-npdirectorynotify)                   | Notifica a la red el proveedor de ciertas operaciones de directorio.<br/>                                                                                                                                             |
| [**NPEnumResource**](/windows/desktop/api/Npapi/nf-npapi-npenumresource)                         | Realiza una enumeración basada en un identificador devuelto por [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum).<br/>                                                                                                                    |
| [**NPFormatNetworkName**](/windows/desktop/api/Npapi/nf-npapi-npformatnetworkname)               | Da formato a un nombre de red en un formato específico del proveedor para su presentación en un control.<br/>                                                                                                                             |
| [**NPGetCaps**](/windows/desktop/api/Npapi/nf-npapi-npgetcaps)                                   | Devuelve información acerca de los servicios que se admiten en la red.<br/>                                                                                                                                     |
| [**NPGetConnection**](/windows/desktop/api/Npapi/nf-npapi-npgetconnection)                       | Recupera información acerca de una conexión.<br/>                                                                                                                                                                  |
| [**NPGetConnection3**](/windows/desktop/api/Npapi/nf-npapi-npgetconnection3)                     | Recupera información sobre una conexión de red, incluso si está actualmente desconectada.<br/>                                                                                                                    |
| [**NPGetConnectionPerformance**](/windows/desktop/api/Npapi/nf-npapi-npgetconnectionperformance) | Devuelve información sobre el rendimiento esperado de una conexión utilizada para obtener acceso a un recurso de red. La solicitud solo puede ser para un recurso de red que está conectado actualmente.<br/>                          |
| [**NPGetDirectoryType**](/windows/desktop/api/Npapi/nf-npapi-npgetdirectorytype)                 | Determina el tipo de un directorio de red.<br/>                                                                                                                                                                |
| [**NPGetPropertyText**](/windows/desktop/api/Npapi/nf-npapi-npgetpropertytext)                   | Recupera los nombres de los botones que se van a agregar a un cuadro de diálogo de propiedades para un recurso de red.<br/>                                                                                                                     |
| [**NPGetResourceInformation**](/windows/desktop/api/Npapi/nf-npapi-npgetresourceinformation)     | Separa la parte de un recurso de red al que se tiene acceso a través de la API de WNet desde el elemento al que se tiene acceso a través de las API específicas del tipo de recurso.<br/>                                                                  |
| [**NPGetResourceParent**](/windows/desktop/api/Npapi/nf-npapi-npgetresourceparent)               | Recupera el elemento primario de un recurso de red especificado en la jerarquía de exploración.<br/>                                                                                                                              |
| [**NPGetUniversalName**](/windows/desktop/api/Npapi/nf-npapi-npgetuniversalname)                 | Recupera el nombre universal de un recurso de red. La función [**NPGetUniversalName**](/windows/desktop/api/Npapi/nf-npapi-npgetuniversalname) puede recuperar este nombre universal en formato UNC o en el formato de nombre remoto anterior.<br/>      |
| [**NPGetUser**](/windows/desktop/api/Npapi/nf-npapi-npgetuser)                                   | Recupera el valor del nombre de usuario predeterminado actual o el nombre de usuario que se usa para establecer una conexión de red.<br/>                                                                                              |
| [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum)                                 | Abre una enumeración de recursos de red o conexiones existentes. Se debe llamar a la función [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum) para obtener un identificador válido para una enumeración.<br/>                               |
| [**NPPropertyDialog**](/windows/desktop/api/Npapi/nf-npapi-nppropertydialog)                     | Se llama cuando el usuario hace clic en un botón agregado mediante la función [**NPPropertyDialog**](/windows/desktop/api/Npapi/nf-npapi-nppropertydialog) . Solo se llama a la función **NPPropertyDialog** para las propiedades de red de archivos y directorios.<br/> |
| [**NPSearchDialog**](/windows/desktop/api/Npapi/nf-npapi-npsearchdialog)                         | Permite a los proveedores de red proporcionar su propia forma de exploración y búsqueda, más allá de la vista jerárquica presentada en el cuadro de diálogo de **conexión** .<br/>                                                          |



 

### <a name="support-functions"></a>Funciones de soporte

El sistema operativo implementa la función siguiente y los proveedores de red pueden llamarla.



| Función                                     | Descripción                                                                                                                               |
|----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| [**WNetSetLastError**](/windows/desktop/api/Npapi/nf-npapi-wnetsetlasterrora) | Establece la información de error extendida. Los proveedores de red deben llamar a esta función en lugar de a [**SetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-setlasterror).<br/> |



 

### <a name="connection-notification-functions"></a>Funciones de notificación de conexión

Las siguientes funciones las implementan las aplicaciones que necesitan recibir notificaciones del [*enrutador de varios proveedores*](/windows/desktop/SecGloss/m-gly) (MPR) cuando un recurso de red está conectado o desconectado. Para obtener más información sobre cómo escribir una aplicación que reciba notificaciones de este tipo, consulte [recibir notificaciones de conexión](receiving-connection-notifications.md).



| Función                                           | Descripción                                                                                                                                                                                                                   |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AddConnectNotify**](/windows/desktop/api/Npapi/nf-npapi-addconnectnotify)       | Se llama antes y después de cada operación de agregar conexión ([**WNetAddConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnectiona), [**WNetAddConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection2a)y [**WNetAddConnection3**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection3a)).<br/> |
| [**CancelConnectNotify**](/windows/desktop/api/Npapi/nf-npapi-cancelconnectnotify) | Se llama antes y después de cada operación de cancelación de conexión ([**WNetCancelConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnectiona) o [**WNetCancelConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnection2a)).<br/>                                       |



 

## <a name="lsa-logon-functions"></a>Funciones de inicio de sesión LSA

Las siguientes funciones de autenticación de la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) autentican a los usuarios y inician sesión, y proporcionan información de la sesión de inicio de sesión.



| Función                                                                   | Descripción                                                                                                                                                                                                                                           |
|----------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage)       | Solicita un servicio específico del paquete de un paquete de autenticación.<br/>                                                                                                                                                                        |
| [**LsaConnectUntrusted**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaconnectuntrusted)                         | Establece una conexión que no es de confianza con la LSA.<br/>                                                                                                                                                                                            |
| [**LsaDeregisterLogonProcess**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaderegisterlogonprocess)             | Desconecta de la LSA y libera los recursos asignados al contexto del autor de la llamada.<br/>                                                                                                                                                            |
| [**LsaEnumerateLogonSessions**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratelogonsessions)             | Recupera los [*identificadores únicos locales*](/windows/desktop/SecGloss/l-gly) (LUID) de las sesiones de inicio de sesión existentes.<br/>                                                              |
| [**LsaFreeReturnBuffer**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsafreereturnbuffer)                         | Libera la memoria asignada para un búfer devuelto a un llamador.<br/>                                                                                                                                                                                  |
| [**LsaGetLogonSessionData**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsagetlogonsessiondata)                   | Recupera información sobre una sesión de inicio de sesión especificada.<br/>                                                                                                                                                                                     |
| [**LsaLogonUser**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalogonuser)                                       | Autentica los datos de inicio de sesión de usuario con credenciales almacenadas. Si se realiza correctamente, crea una nueva sesión de inicio de sesión y devuelve un token de usuario.<br/>                                                                                                          |
| [**LsaLookupAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupauthenticationpackage)   | Obtiene el identificador único de un paquete de autenticación.<br/>                                                                                                                                                                                |
| [**LsaQueryDomainInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaquerydomaininformationpolicy) | Recupera información de dominio del objeto de [**Directiva**](/windows/desktop/SecMgmt/policy-object) .<br/>                                                                                                                                                         |
| [**LsaQueryForestTrustInformation**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaqueryforesttrustinformation)   | Recupera información de confianza de bosque para el objeto [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) de la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) especificado.<br/> |
| [**LsaRegisterLogonProcess**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaregisterlogonprocess)                 | Establece una conexión con el servidor LSA y comprueba que el autor de la llamada es una aplicación de inicio de sesión.<br/>                                                                                                                                            |
| [**LsaSetDomainInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetdomaininformationpolicy)     | Establece la información del dominio en el objeto de [**Directiva**](/windows/desktop/SecMgmt/policy-object) .<br/>                                                                                                                                                                |
| [**LsaSetForestTrustInformation**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetforesttrustinformation)       | establece la información de confianza de bosque para un objeto [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) de la [*entidad de seguridad local*](/windows/desktop/SecGloss/l-gly) especificado.<br/>    |



 

## <a name="functions-implemented-by-authentication-packages"></a>Funciones implementadas por paquetes de autenticación

Los paquetes de autenticación personalizados deben implementar estas funciones, a las que llama la [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA). Estas funciones se implementan mediante los \_ paquetes de autenticación MSV1 0 y Kerberos proporcionados por Microsoft.



| Función                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LsaApCallPackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package)                       | Se llama cuando el identificador del paquete de autenticación se ha especificado en una llamada a [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) mediante una aplicación que usa una conexión de confianza.<br/> Esta función proporciona una manera de que las aplicaciones de inicio de sesión se comuniquen directamente con los paquetes de autenticación.<br/>                         |
| [**LsaApCallPackagePassthrough**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package_passthrough) | Se le llama cuando el identificador del paquete de autenticación se ha especificado en una llamada a [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) para una solicitud de inicio de sesión de paso a través.<br/>                                                                                                                                                                  |
| [**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))     | Se llama cuando el identificador del paquete de autenticación se ha especificado en una llamada a [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) por una aplicación que usa una conexión que no es de confianza. Esta función se usa para comunicarse con los procesos que no tienen el privilegio SeTcbPrivilege.<br/>                                             |
| [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package)           | Se llama durante la inicialización del sistema para permitir que el paquete de autenticación realice las tareas de inicialización.<br/>                                                                                                                                                                                                                                                   |
| [**LsaApLogonTerminated**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_terminated)               | Se le llama cuando finaliza una sesión de inicio de sesión para permitir que el paquete de autenticación libere los recursos asignados para la sesión de inicio de sesión.<br/>                                                                                                                                                                                                                                |
| [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)                           | Se llama cuando el paquete de autenticación se ha especificado en una llamada a [**LsaLogonUser**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalogonuser). Esta función autentica los datos [*de inicio de sesión de una entidad de seguridad*](/windows/desktop/SecGloss/s-gly) .<br/>                                                                                           |
| [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)                       | Idéntico a [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user) , excepto que devuelve el nombre de la estación de trabajo con fines de auditoría.<br/> Un paquete de autenticación puede implementar [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user), [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)o [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2). No es necesario implementarlos todos.<br/> |
| [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)                     | Idéntico a [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex) , excepto que devuelve las credenciales principales y complementarias de la entidad de seguridad. Un paquete de autenticación puede implementar [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user), **LsaApLogonUserEx** o [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2). No es necesario implementarlos todos.<br/>          |



 

## <a name="lsa-functions-called-by-authentication-packages"></a>Funciones de LSA llamadas por paquetes de autenticación

Se puede llamar a las siguientes funciones de [*autoridad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) desde un paquete de autenticación personalizado. Cuando LSA llama a [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package) para inicializar el paquete, pasa una tabla de funciones de soporte técnico.



| Función                                             | Descripción                                                                                                                   |
|------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [**AddCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)               | Agrega credenciales a una sesión de inicio de sesión.<br/>                                                                               |
| [**AllocateClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) | Asigna un búfer en el espacio de direcciones del cliente.<br/>                                                                  |
| [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)           | Asigna los búferes que se deben devolver desde el paquete de autenticación a la LSA.<br/>                                |
| [**CopyFromClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_from_client_buffer) | Copia el contenido de un búfer en el espacio de direcciones del cliente en un búfer local.<br/>                                 |
| [**CopyToClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_to_client_buffer)     | Copia el contenido de un búfer local en el espacio de direcciones del cliente.<br/>                                             |
| [**CreateLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_logon_session)     | Lo usan los paquetes de autenticación para crear una sesión de inicio de sesión.<br/>                                                         |
| [**DeleteCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_credential)         | Elimina una credencial existente.<br/>                                                                                    |
| [**DeleteLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_logon_session)     | Limpia todas las sesiones de inicio de sesión creadas mientras se determina si la información de autenticación de un usuario es legítima.<br/>  |
| [**FreeClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_client_buffer)         | Libera un búfer de cliente previamente asignado con la función [**AllocateClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) .<br/> |
| [**FreeLsaHeap**](/windows/win32/api/ntlsa/nc-ntlsa-lsa_free_lsa_heap)                   | Libera los búferes asignados previamente mediante la función [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap) .<br/>               |
| [**GetCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_credentials)             | Recupera las credenciales previamente almacenadas en caché por [**AddCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential).<br/>                                 |



 

## <a name="subauthentication-functions"></a>Funciones de subautenticación

Los paquetes de autenticación proporcionados por Microsoft pueden llamar a las siguientes funciones de subautenticación para proporcionar autenticación adicional de inicio de sesión creada por el usuario.



| Función                                                                  | Descripción                                                                           |
|---------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| [**Msv1 \_ 0SubAuthenticationFilter**](/windows/desktop/api/Subauth/nf-subauth-msv1_0subauthenticationfilter)   | Realiza la autenticación de inicio de sesión de usuario específica de los controladores de dominio.<br/> |
| [**Msv1 \_ 0SubAuthenticationRoutine**](/windows/desktop/api/Subauth/nf-subauth-msv1_0subauthenticationroutine) | Realiza la autenticación específica del cliente y del servidor.<br/>                            |



 

## <a name="credentials-management-functions"></a>Funciones de administración de credenciales

En los temas siguientes se proporciona información de referencia para las funciones de administración de credenciales.



| Tema                                        | Descripción                                                                                                                                |
|----------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| Funciones de interfaz de usuario de administración de credenciales          | Funciones de detalles usadas para la interfaz de usuario de administración de credenciales.<br/>                                                                           |
| Funciones de administración de credenciales de bajo nivel   | Funciones de detalles que se usan para la administración de credenciales de bajo nivel.<br/>                                                                    |
| Funciones de notificación de administración de credenciales | Funciones de detalles que implementan los administradores de credenciales para recibir notificaciones cuando cambia la información de autenticación.<br/> |



 

### <a name="credentials-management-ui-functions"></a>Funciones de interfaz de usuario de administración de credenciales

Las siguientes son funciones de interfaz de usuario de administración de credenciales.



| Función                                                                       | Descripción                                                                                                                                                                                                    |
|--------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CredUICmdLinePromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduicmdlinepromptforcredentialsa) | Solicitar y aceptar la información de credenciales de usuario de un usuario que trabaja en un programa de línea de comandos.<br/>                                                                                                   |
| [**CredUIConfirmCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduiconfirmcredentialsa)                   | Confirme la validez de las credenciales devueltas por [**CredUIPromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforcredentialsa) o [**CredUICmdLinePromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduicmdlinepromptforcredentialsa).<br/> |
| [**CredUIParseUserName**](/windows/desktop/api/WinCred/nf-wincred-creduiparseusernamea)                             | Extraiga el dominio y el nombre de la cuenta de usuario de un nombre de usuario completo.<br/>                                                                                                                          |
| [**CredUIPromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforcredentialsa)               | Muestra un cuadro de diálogo que acepta información de credenciales de un usuario.<br/>                                                                                                                              |
| [**CredUIPromptForWindowsCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforwindowscredentialsa) | Crea y muestra un cuadro de diálogo configurable que permite a los usuarios proporcionar información de credenciales mediante cualquier proveedor de credenciales instalado en el equipo local.<br/>                                 |
| [**CredUIReadSSOCredW**](/windows/desktop/api/WinCred/nf-wincred-creduireadssocredw)                               | Recupera el nombre de usuario de una credencial de inicio de sesión único.<br/>                                                                                                                                              |
| [**CredUIStoreSSOCredW**](/windows/desktop/api/WinCred/nf-wincred-creduistoressocredw)                             | Almacena una credencial de inicio de sesión único.<br/>                                                                                                                                                                   |



 

### <a name="low-level-credentials-management-functions"></a>Funciones de administración de credenciales de bajo nivel

Las siguientes son funciones de administración de credenciales de bajo nivel.



| Función                                                                 | Descripción                                                                                                                                                                                                                              |
|--------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CredDelete**](/windows/desktop/api/WinCred/nf-wincred-creddeletea)                                         | Eliminar una credencial del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                            |
| [**CredEnumerate**](/windows/desktop/api/WinCred/nf-wincred-credenumeratea)                                   | Enumerar las credenciales en el conjunto de credenciales de un usuario.<br/>                                                                                                                                                                             |
| [**CredFindBestCredential**](/windows/desktop/api/WinCred/nf-wincred-credfindbestcredentiala)                 | Busca en la base de datos de [Administración de credenciales](credentials-management.md) (CredMan) el conjunto de credenciales genéricas que están asociadas a la sesión de inicio de sesión actual y que mejor coinciden con el recurso de destino especificado.<br/> |
| [**CredFree**](/windows/desktop/api/WinCred/nf-wincred-credfree)                                             | Libere la memoria usada para un búfer devuelto por cualquiera de las funciones de administración de credenciales.<br/>                                                                                                                                    |
| [**CredGetSessionTypes**](/windows/desktop/api/WinCred/nf-wincred-credgetsessiontypes)                       | Recupera la persistencia máxima admitida por la sesión de inicio de sesión actual.<br/>                                                                                                                                                      |
| [**CredGetTargetInfo**](/windows/desktop/api/WinCred/nf-wincred-credgettargetinfoa)                           | Recupera toda la información de nombre de destino conocida para un recurso con nombre.<br/>                                                                                                                                                              |
| [**CredIsMarshaledCredential**](/windows/desktop/api/WinCred/nf-wincred-credismarshaledcredentiala)           | Determina si una cadena de nombre de usuario especificada es una credencial serializada previamente calculada por [**CredMarshalCredential**](/windows/desktop/api/WinCred/nf-wincred-credmarshalcredentiala).<br/>                                                                     |
| [**CredIsProtected**](/windows/desktop/api/WinCred/nf-wincred-credisprotecteda)                               | Especifica si las credenciales especificadas se cifran mediante una llamada anterior a la función [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta) .<br/>                                                                                              |
| [**CredMarshalCredential**](/windows/desktop/api/WinCred/nf-wincred-credmarshalcredentiala)                   | Transformar una credencial en una cadena de texto.<br/>                                                                                                                                                                                    |
| [**CredPackAuthenticationBuffer**](/windows/desktop/api/WinCred/nf-wincred-credpackauthenticationbuffera)     | Convierte un nombre de usuario y una contraseña de cadena en un búfer de autenticación.<br/>                                                                                                                                                       |
| [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta)                                       | Cifra las credenciales especificadas para que solo el contexto de seguridad actual pueda descifrarlas.<br/>                                                                                                                                |
| [**CredRead**](/windows/desktop/api/WinCred/nf-wincred-credreada)                                             | Leer una credencial del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                              |
| [**CredReadDomainCredentials**](/windows/desktop/api/WinCred/nf-wincred-credreaddomaincredentialsa)           | Leer las credenciales de dominio del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                    |
| [**CredRename**](/windows/desktop/api/WinCred/nf-wincred-credrenamea)                                         | Cambiar el nombre de una credencial del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                            |
| [**CredUnmarshalCredential**](/windows/desktop/api/WinCred/nf-wincred-credunmarshalcredentiala)               | Vuelva a transformar una cadena de credenciales serializada en su forma de no serialización.<br/>                                                                                                                                                      |
| [**CredUnPackAuthenticationBuffer**](/windows/desktop/api/WinCred/nf-wincred-credunpackauthenticationbuffera) | Convierte un búfer de autenticación devuelto por una llamada a la función [**CredUIPromptForWindowsCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforwindowscredentialsa) en un nombre de usuario y una contraseña de cadena.<br/>                                     |
| [**CredUnprotect**](/windows/desktop/api/WinCred/nf-wincred-credunprotecta)                                   | Descifra las credenciales que se cifraron previamente mediante la función [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta) .<br/>                                                                                                                 |
| [**CredWrite**](/windows/desktop/api/WinCred/nf-wincred-credwritea)                                           | Cree una nueva credencial o modifique una credencial existente en el conjunto de credenciales de un usuario.<br/>                                                                                                                                         |
| [**CredWriteDomainCredentials**](/windows/desktop/api/WinCred/nf-wincred-credwritedomaincredentialsa)         | Escriba las credenciales de dominio en el conjunto de credenciales de un usuario.<br/>                                                                                                                                                                         |



 

### <a name="credential-management-notification-functions"></a>Funciones de notificación de administración de credenciales

Los administradores de credenciales implementan las siguientes funciones para recibir notificaciones cuando cambia la información de autenticación.



| Función                                                 | Descripción                                                                                                                                                    |
|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**NPLogonNotify**](/windows/desktop/api/Npapi/nf-npapi-nplogonnotify)                   | MPR llama a esta función para notificar al administrador de credenciales que se ha producido un evento de inicio de sesión, lo que permite al administrador de credenciales devolver un script de inicio de sesión.<br/> |
| [**NPPasswordChangeNotify**](/windows/desktop/api/Npapi/nf-npapi-nppasswordchangenotify) | MPR llama a esta función para notificar al administrador de credenciales de un evento de cambio de contraseña.<br/>                                                                |



 

## <a name="smart-card-functions"></a>Funciones de tarjeta inteligente

El SDK de tarjeta inteligente proporciona las siguientes funciones.



| Función                                                                             | Descripción                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetOpenCardName**](/windows/desktop/api/Winscard/nf-winscard-getopencardnamea)                                           | Reemplazado por [**SCardUIDlgSelectCard**](/windows/desktop/api/Winscard/nf-winscard-scarduidlgselectcarda), que muestra el cuadro de diálogo **tarjeta inteligente seleccionada** .<br/>                                                                               |
| [**SCardAccessStartedEvent**](/windows/desktop/api/Winscard/nf-winscard-scardaccessstartedevent)                           | Obtiene un identificador de evento cuando se señala el inicio de un administrador de recursos de tarjeta inteligente.                                                                                                                                 |
| [**SCardAddReaderToGroup**](/windows/desktop/api/Winscard/nf-winscard-scardaddreadertogroupa)                               | Agrega un [*lector*](/windows/desktop/SecGloss/r-gly) a un grupo de lectores.                                                                                                                       |
| [**SCardAudit**](/windows/desktop/api/Winscard/nf-winscard-scardaudit)                                                     | Escribe mensajes de evento en el registro de aplicación de Windows Microsoft-Windows-SmartCard-Audit/Authentication.                                                                                                               |
| [**SCardBeginTransaction**](/windows/desktop/api/Winscard/nf-winscard-scardbegintransaction)                               | Inicia una [*transacción*](/windows/desktop/SecGloss/t-gly).                                                                                                                        |
| [**SCardCancel**](/windows/desktop/api/Winscard/nf-winscard-scardcancel)                                                   | Finaliza todas las acciones pendientes en un [*contexto*](/windows/desktop/SecGloss/c-gly).                                                                                                 |
| **SCardCancelTransaction**                                                           | Reservado para uso futuro.                                                                                                                                                                                             |
| [**SCardConnect**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta)                                                 | Establece una conexión entre la aplicación que realiza la llamada y una tarjeta inteligente.                                                                                                                                           |
| [**SCardControl**](/windows/desktop/api/Winscard/nf-winscard-scardcontrol)                                                 | Obtiene el control directo del lector después de llamar a [**SCardConnect**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta) .                                                                                                                              |
| [**SCardDisconnect**](/windows/desktop/api/Winscard/nf-winscard-scarddisconnect)                                           | Finaliza una conexión entre la aplicación que realiza la llamada y una tarjeta inteligente.                                                                                                                                            |
| [**SCardEndTransaction**](/windows/desktop/api/Winscard/nf-winscard-scardendtransaction)                                   | Completa una [*transacción*](/windows/desktop/SecGloss/t-gly).                                                                                                                     |
| [**SCardEstablishContext**](/windows/desktop/api/Winscard/nf-winscard-scardestablishcontext)                               | Establece un [*contexto de Resource Manager*](/windows/desktop/SecGloss/r-gly) para tener acceso a la base de datos de tarjetas inteligentes.                                      |
| [**SCardForgetCardType**](/windows/desktop/api/Winscard/nf-winscard-scardforgetcardtypea)                                   | Quita una tarjeta inteligente definida previamente del [*subsistema de tarjeta inteligente*](/windows/desktop/SecGloss/s-gly).                                                     |
| [**SCardForgetReader**](/windows/desktop/api/Winscard/nf-winscard-scardforgetreadera)                                       | Quita un lector definido previamente del subsistema de tarjeta inteligente.                                                                                                                                                   |
| [**SCardForgetReaderGroup**](/windows/desktop/api/Winscard/nf-winscard-scardforgetreadergroupa)                             | Quita un grupo de lectores definido previamente del subsistema de tarjeta inteligente.                                                                                                                                             |
| [**SCardFreeMemory**](/windows/desktop/api/Winscard/nf-winscard-scardfreememory)                                           | Libera la memoria asignada por el administrador de recursos.                                                                                                                                                                       |
| [**SCardGetAttrib**](/windows/desktop/api/Winscard/nf-winscard-scardgetattrib)                                             | Obtiene los atributos del lector actual a partir de un [*lector*](/windows/desktop/SecGloss/r-gly)determinado, un controlador o una [*tarjeta inteligente*](/windows/desktop/SecGloss/s-gly). |
| [**SCardGetCardTypeProviderName**](/windows/desktop/api/Winscard/nf-winscard-scardgetcardtypeprovidernamea)                 | Obtiene el nombre del proveedor dado un nombre de tarjeta y un tipo de proveedor.                                                                                                                                                          |
| [**SCardGetDeviceTypeId**](/windows/desktop/api/Winscard/nf-winscard-scardgetdevicetypeida)                                 | Obtiene el identificador de tipo de dispositivo del lector de tarjeta para el nombre de lector dado. Esta función no afecta al estado del lector.                                                                                 |
| [**SCardGetProviderId**](/windows/desktop/api/Winscard/nf-winscard-scardgetproviderida)                                     | Obtiene el identificador (GUID) del proveedor de [*servicios principal*](/windows/desktop/SecGloss/p-gly) de una tarjeta inteligente.                                       |
| [**SCardGetReaderDeviceInstanceId**](/windows/win32/api/winscard/nf-winscard-scardgetreaderdeviceinstanceida)             | Obtiene el identificador de instancia de dispositivo del lector de tarjeta para el nombre de lector dado. Esta función no afecta al estado del lector.                                                                             |
| [**SCardGetReaderIcon**](/windows/win32/api/winscard/nf-winscard-scardgetreadericona)                                     | Obtiene un icono del lector de tarjeta inteligente para el nombre de un lector determinado.                                                                                                                                                     |
| [**SCardGetStatusChange**](/windows/desktop/api/Winscard/nf-winscard-scardgetstatuschangea)                                 | Bloquea la ejecución hasta que cambia el estado de los lectores.                                                                                                                                                                |
| [**SCardGetTransmitCount**](/windows/desktop/api/Winscard/nf-winscard-scardgettransmitcount)                               | Recupera el número de operaciones de transmisión que se han completado desde que se insertó el lector de tarjeta especificado.                                                                                                        |
| [**SCardIntroduceCardType**](/windows/desktop/api/Winscard/nf-winscard-scardintroducecardtypea)                             | Introduce una nueva tarjeta inteligente en el subsistema de [*tarjeta inteligente*](/windows/desktop/SecGloss/s-gly) .                                                                                       |
| [**SCardIntroduceReader**](/windows/desktop/api/Winscard/nf-winscard-scardintroducereadera)                                 | Introduce un nuevo lector en el subsistema de tarjeta inteligente.                                                                                                                                                                 |
| [**SCardIntroduceReaderGroup**](/windows/desktop/api/Winscard/nf-winscard-scardintroducereadergroupa)                       | Introduce un nuevo grupo de lectores en el subsistema de tarjeta inteligente.                                                                                                                                                           |
| [**SCardIsValidContext**](/windows/desktop/api/Winscard/nf-winscard-scardisvalidcontext)                                   | Comprueba un identificador de contexto de tarjeta inteligente.                                                                                                                                                                                |
| [**SCardListCards**](/windows/desktop/api/Winscard/nf-winscard-scardlistcardsa)                                             | Proporciona una lista de tarjetas inteligentes ya introducidas en el subsistema.                                                                                                                                                  |
| [**SCardListInterfaces**](/windows/desktop/api/Winscard/nf-winscard-scardlistinterfacesa)                                   | Proporciona una lista de interfaces suministradas por una tarjeta inteligente determinada.                                                                                                                                                        |
| [**SCardListReaderGroups**](/windows/desktop/api/Winscard/nf-winscard-scardlistreadergroupsa)                               | Proporciona una lista de grupos de lector ya introducidos en el subsistema.                                                                                                                                                |
| [**SCardListReaders**](/windows/desktop/api/Winscard/nf-winscard-scardlistreadersa)                                         | Proporciona una lista de los lectores ya introducidos en el subsistema.                                                                                                                                                      |
| [**SCardListReadersWithDeviceInstanceId**](/windows/win32/api/winscard/nf-winscard-scardlistreaderswithdeviceinstanceida) | Obtiene la lista de lectores que han proporcionado un identificador de instancia de dispositivo. Esta función no afecta al estado del lector.                                                                                     |
| [**SCardLocateCards**](/windows/desktop/api/Winscard/nf-winscard-scardlocatecardsa)                                         | Busca las tarjetas que coinciden con una [*cadena ATR*](/windows/desktop/SecGloss/a-gly)determinada.                                                                                               |
| [**SCardLocateCardsByATR**](/windows/desktop/api/Winscard/nf-winscard-scardlocatecardsbyatra)                               | Busca las tarjetas que coinciden con una [*cadena ATR*](/windows/desktop/SecGloss/a-gly)determinada.                                                                                               |
| [**SCardReadCache**](/windows/desktop/api/Winscard/nf-winscard-scardreadcachea)                                             | Recupera la parte del valor de un par nombre-valor de la memoria caché global mantenida por la [tarjeta inteligente administrador de recursos](smart-card-resource-manager.md).                                                             |
| [**SCardReconnect**](/windows/desktop/api/Winscard/nf-winscard-scardreconnect)                                             | Restablece una conexión existente desde la aplicación que realiza la llamada a la tarjeta inteligente.                                                                                                                                 |
| [**SCardReleaseContext**](/windows/desktop/api/Winscard/nf-winscard-scardreleasecontext)                                   | Cierra un contexto de [*Resource Manager*](/windows/desktop/SecGloss/r-gly)establecido.                                                                    |
| [**SCardReleaseStartedEvent**](/windows/desktop/api/Winscard/nf-winscard-scardreleasestartedevent)                         | Disminuye el recuento de referencias para un identificador adquirido mediante la función [**SCardAccessStartedEvent**](/windows/desktop/api/Winscard/nf-winscard-scardaccessstartedevent) .                                                                               |
| [**SCardRemoveReaderFromGroup**](/windows/desktop/api/Winscard/nf-winscard-scardremovereaderfromgroupa)                     | Quita un lector de un grupo de lectores existente.                                                                                                                                                                      |
| [**SCardSetAttrib**](/windows/desktop/api/Winscard/nf-winscard-scardsetattrib)                                             | Establece un atributo de lector determinado.                                                                                                                                                                                       |
| [**SCardSetCardTypeProviderName**](/windows/desktop/api/Winscard/nf-winscard-scardsetcardtypeprovidernamea)                 | Establece el nombre del proveedor para un nombre de tarjeta y un tipo de proveedor.                                                                                                                                                            |
| [**SCardStatus**](/windows/desktop/api/Winscard/nf-winscard-scardstatusa)                                                   | Obtiene el [*Estado*](/windows/desktop/SecGloss/s-gly) actual de un lector.                                                                                                                      |
| [**SCardTransmit**](/windows/desktop/api/Winscard/nf-winscard-scardtransmit)                                               | Envía una solicitud de servicio a una tarjeta inteligente.                                                                                                                                                                             |
| [**SCardUIDlgSelectCard**](/windows/desktop/api/Winscard/nf-winscard-scarduidlgselectcarda)                                 | Muestra el cuadro de diálogo **seleccionar tarjeta** inteligente.                                                                                                                                                                  |
| [**SCardWriteCache**](/windows/desktop/api/Winscard/nf-winscard-scardwritecachea)                                           | Escribe un par nombre-valor de una tarjeta inteligente en la memoria caché global mantenida por la [tarjeta inteligente administrador de recursos](smart-card-resource-manager.md).                                                                     |



 

## <a name="sasl-functions"></a>Funciones SASL

El SASL (SASL) proporciona las siguientes funciones.



| Functions                                                              | Descripción                                                                                                                                                                      |
|------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**SaslAcceptSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-saslacceptsecuritycontext)         | Encapsula una llamada estándar a la función [**AcceptSecurityContext (general)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) de SSPI e incluye la creación de cookies de servidor SASL.              |
| [**SaslEnumerateProfiles**](/windows/desktop/api/Sspi/nf-sspi-saslenumerateprofilesa)                 | Enumera los paquetes que proporcionan una interfaz SASL.                                                                                                                                |
| [**SaslGetContextOption**](/windows/desktop/api/Sspi/nf-sspi-saslgetcontextoption)                   | Recupera la propiedad especificada del contexto SASL especificado.                                                                                                                  |
| [**SaslGetProfilePackage**](/windows/desktop/api/Sspi/nf-sspi-saslgetprofilepackagea)                 | Devuelve la información de paquete para el paquete especificado.                                                                                                                       |
| [**SaslIdentifyPackage**](/windows/desktop/api/Sspi/nf-sspi-saslidentifypackagea)                     | Devuelve el prefijo Negotiate que coincide con el búfer de negociación SASL especificado.                                                                                                 |
| [**SaslInitializeSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-saslinitializesecuritycontexta) | Encapsula una llamada estándar a la función InitializeSecurityContext de SSPI [**(general)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) y procesa las cookies de servidor SASL del servidor. |
| [**SaslSetContextOption**](/windows/desktop/api/Sspi/nf-sspi-saslsetcontextoption)                   | Establece el valor de la propiedad especificada para el contexto SASL especificado.                                                                                                         |



 

## <a name="other-functions"></a>Otras funciones

Estas son otras funciones que se usan para la autenticación.



| Función                                                                   | Descripción                                                                                                                                                                                                                                                                                                                                                        |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AddSecurityPackage**](/windows/desktop/api/Sspi/nf-sspi-addsecuritypackagea)                           | Agrega un [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) a la lista de proveedores admitidos por [Microsoft Negotiate](microsoft-negotiate.md).<br/>                                                                                                                              |
| [**ChangeAccountPassword**](/windows/desktop/api/Sspi/nf-sspi-changeaccountpassworda)                     | Cambia la contraseña de una cuenta de dominio de Windows mediante el [proveedor de compatibilidad de seguridad](sspi.md)especificado.<br/>                                                                                                                                                                                                                                         |
| [**CredMarshalTargetInfo**](/windows/desktop/api/NTSecPkg/nf-ntsecpkg-credmarshaltargetinfo)                     | Serializa el destino especificado en una matriz de valores de byte.<br/>                                                                                                                                                                                                                                                                                           |
| [**DeleteSecurityPackage**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritypackagea)                     | Elimina un [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) de la lista de proveedores admitidos por [Microsoft Negotiate](microsoft-negotiate.md).<br/>                                                                                                                         |
| [**LsaManageSidNameMapping**](/previous-versions/windows/desktop/legacy/jj902653(v=vs.85))                 | Agrega o quita asignaciones de SID/nombre del conjunto de asignaciones registrado con el servicio de búsqueda de LSA.<br/>                                                                                                                                                                                                                                                          |
| [**LsaOpenPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaopenpolicy)                                     | Abre un identificador para el objeto de [**Directiva**](/windows/desktop/SecMgmt/policy-object) en un sistema local o remoto.<br/>                                                                                                                                                                                                                                                          |
| [**LsaQueryInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaqueryinformationpolicy)             | Recupera información sobre un objeto de [**Directiva**](/windows/desktop/SecMgmt/policy-object) .<br/>                                                                                                                                                                                                                                                                              |
| [**LsaSetInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetinformationpolicy)                 | Modifica la información de un objeto de [**Directiva**](/windows/desktop/SecMgmt/policy-object) .<br/>                                                                                                                                                                                                                                                                                  |
| [**NPFMXEditPerm**](/windows/desktop/api/Npapi/nf-npapi-npfmxeditperm)                                     | Permite a los proveedores de red proporcionar sus propios cuadros de diálogo del editor de permisos.<br/>                                                                                                                                                                                                                                                                             |
| [**NPFMXGetPermCaps**](/windows/desktop/api/Npapi/nf-npapi-npfmxgetpermcaps)                               | Recupera las capacidades del editor de permisos. El valor devuelto es una máscara de máscara que indica cuál de los elementos de menú de **seguridad** del administrador de archivos se va a habilitar.<br/>                                                                                                                                                                               |
| [**NPFMXGetPermHelp**](/windows/desktop/api/Npapi/nf-npapi-npfmxgetpermhelp)                               | Recupera el archivo de ayuda y el contexto de ayuda de los cuadros de diálogo del editor de permisos cuando se selecciona un elemento de menú en el menú **seguridad** del administrador de archivos y se presiona F1.<br/>                                                                                                                                                                                 |
| [**SpGetCredUIContextFn**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcreduicontextfn)                       | Recupera información de contexto de un proveedor de credenciales.<br/>                                                                                                                                                                                                                                                                                               |
| [**SpLsaModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn)                         | Proporciona la LSA con punteros a las funciones implementadas por cada [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly) en el archivo dll SSP/PA.<br/>                                                                                                                                                               |
| [**SpQueryMetaDataFn**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerymetadatafn)                             | Obtiene los metadatos de un [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) (SSP) cuando se inicia un contexto de [*seguridad*](/windows/desktop/SecGloss/c-gly).<br/>                                                                                      |
| [**SpUpdateCredentialsFn**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spupdatecredentialsfn)                     | Actualiza las credenciales asociadas al contexto especificado.<br/>                                                                                                                                                                                                                                                                                          |
| [**SspiCompareAuthIdentities**](/windows/desktop/api/Sspi/nf-sspi-sspicompareauthidentities)             | Compara las dos credenciales especificadas.<br/>                                                                                                                                                                                                                                                                                                                 |
| [**SspiCopyAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspicopyauthidentity)                       | Crea una copia de la estructura de credenciales opacas especificada.<br/>                                                                                                                                                                                                                                                                                            |
| [**SspiDecryptAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspidecryptauthidentity)                 | Descifra la credencial cifrada especificada.<br/>                                                                                                                                                                                                                                                                                                            |
| [**SspiEncodeAuthIdentityAsStrings**](/windows/desktop/api/Sspi/nf-sspi-sspiencodeauthidentityasstrings) | Codifica la identidad de autenticación especificada como tres cadenas.<br/>                                                                                                                                                                                                                                                                                         |
| [**SspiEncodeStringsAsAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspiencodestringsasauthidentity) | Codifica un conjunto de tres cadenas de credenciales como una estructura de identidad de autenticación.<br/>                                                                                                                                                                                                                                                                      |
| [**SspiEncryptAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspiencryptauthidentity)                 | Cifra la estructura de identidad especificada.<br/>                                                                                                                                                                                                                                                                                                              |
| [**SspiExcludePackage**](/windows/desktop/api/Sspi/nf-sspi-sspiexcludepackage)                           | Crea una nueva estructura de identidad que es una copia de la estructura de identidad especificada modificada para excluir el [*proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly) (SSP) especificado.<br/>                                                                                              |
| [**SspiFreeAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspifreeauthidentity)                       | Libera la memoria asignada para la estructura de identidad especificada.<br/>                                                                                                                                                                                                                                                                                        |
| [**SspiGetCredUIContext**](/windows/desktop/api/Sspi/nf-sspi-sspigetcreduicontext)                       | Recupera información de contexto de un proveedor de credenciales.<br/>                                                                                                                                                                                                                                                                                               |
| [**SspiGetTargetHostName**](/windows/desktop/api/Sspi/nf-sspi-sspigettargethostname)                     | Obtiene el nombre de host asociado al destino especificado.<br/>                                                                                                                                                                                                                                                                                                |
| [**SspiIsAuthIdentityEncrypted**](/windows/desktop/api/Sspi/nf-sspi-sspiisauthidentityencrypted)         | Indica si la estructura de identidad especificada está cifrada.<br/>                                                                                                                                                                                                                                                                                        |
| [**SspiIsPromptingNeeded**](/windows/desktop/api/Sspi/nf-sspi-sspiispromptingneeded)                     | Indica si un error devuelto después de una llamada a la función [**InitializeSecurityContext**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) o [**AcceptSecurityContext**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) requiere una llamada adicional a la función [**SspiPromptForCredentials**](/windows/desktop/api/Sspi/nf-sspi-sspipromptforcredentialsa) .<br/>                      |
| [**SspiLocalFree**](/windows/desktop/api/Sspi/nf-sspi-sspilocalfree)                                     | Libera la memoria asociada al búfer especificado.<br/>                                                                                                                                                                                                                                                                                                  |
| [**SspiMarshalAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspimarshalauthidentity)                 | Serializa la estructura de identidad especificada en una matriz de bytes.<br/>                                                                                                                                                                                                                                                                                          |
| [**SspiPrepareForCredRead**](/windows/desktop/api/Sspi/nf-sspi-sspiprepareforcredread)                   | Genera un nombre de destino y un tipo de credencial a partir de la estructura de identidad especificada.<br/>                                                                                                                                                                                                                                                                      |
| [**SspiPrepareForCredWrite**](/windows/desktop/api/Sspi/nf-sspi-sspiprepareforcredwrite)                 | Genera valores a partir de una estructura de identidad que se pueden pasar como valores de parámetros en una llamada a la función [**CredWrite**](/windows/desktop/api/WinCred/nf-wincred-credwritea) .<br/>                                                                                                                                                                                                    |
| [**SspiPromptForCredentials**](/windows/desktop/api/Sspi/nf-sspi-sspipromptforcredentialsa)               | Permite que una aplicación de la [*interfaz del proveedor de compatibilidad para seguridad*](/windows/desktop/SecGloss/s-gly)(SSPI) solicite al usuario que escriba las credenciales.<br/>                                                                                                                           |
| [**SspiUnmarshalAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspiunmarshalauthidentity)             | Deserializa la matriz de valores de bytes especificada en una estructura de identidad.<br/>                                                                                                                                                                                                                                                                             |
| [**SspiUnmarshalCredUIContext**](/windows/desktop/api/Sspi/nf-sspi-sspiunmarshalcreduicontext)           | Deserializa la información de credenciales obtenida por un proveedor de credenciales durante una llamada anterior al método [**ICredentialProvider:: SetSerialization**](/windows/win32/api/credentialprovider/nf-credentialprovider-icredentialprovider-setserialization) .<br/>                                                                                                                                                    |
| [**SspiUpdateCredentials**](/windows/desktop/api/Sspi/nf-sspi-sspiupdatecredentials)                     | Actualiza las credenciales asociadas al contexto especificado.<br/>                                                                                                                                                                                                                                                                                          |
| [**SspiValidateAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspivalidateauthidentity)               | Indica si la estructura de identidad especificada es válida.<br/>                                                                                                                                                                                                                                                                                            |
| [**SspiZeroAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspizeroauthidentity)                       | Rellena el bloque de memoria asociado a la estructura de identidad especificada con ceros.<br/>                                                                                                                                                                                                                                                                  |
| [**WlxQueryTsLogonCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_ts_logon_credentials)           | Lo llama un archivo dll de [*Gina*](/windows/desktop/SecGloss/g-gly) de reemplazo para recuperar información de [*credenciales*](/windows/desktop/SecGloss/c-gly) si está habilitado Terminal Services. Después, el archivo DLL de GINA puede usar esta información para rellenar automáticamente un cuadro de inicio de sesión e intentar iniciar la sesión del usuario.<br/> |



 

 

