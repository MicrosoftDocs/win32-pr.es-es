---
description: La multidifusión IP se encuentra en la categoría de plano de datos no raíz y plano de control no raíz.
ms.assetid: 474a1c7f-0ece-4192-a2d9-6e2f3df2ac02
title: Multidifusión IP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3bf9469822ae974b7c616b7904f9dc7120682acb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105705607"
---
# <a name="ip-multicast"></a><span data-ttu-id="f027e-103">Multidifusión IP</span><span class="sxs-lookup"><span data-stu-id="f027e-103">IP Multicast</span></span>

<span data-ttu-id="f027e-104">La multidifusión IP se encuentra en la categoría de plano de datos no raíz y plano de control no raíz.</span><span class="sxs-lookup"><span data-stu-id="f027e-104">IP multicast falls into the category of nonrooted data plane and nonrooted control plane.</span></span> <span data-ttu-id="f027e-105">Todas las aplicaciones desempeñan un rol hoja.</span><span class="sxs-lookup"><span data-stu-id="f027e-105">All applications play a leaf role.</span></span> <span data-ttu-id="f027e-106">Actualmente, la mayoría de las implementaciones de multidifusión IP usan un conjunto de opciones de socket propuesto por Steve Deering a Internet Engineering Task Force (IETF).</span><span class="sxs-lookup"><span data-stu-id="f027e-106">Currently, most IP multicast implementations use a set of socket options proposed by Steve Deering to the Internet Engineering Task Force (IETF).</span></span> <span data-ttu-id="f027e-107">Por lo tanto, hay cinco operaciones disponibles:</span><span class="sxs-lookup"><span data-stu-id="f027e-107">Five operations are thus made available:</span></span>

-   <span data-ttu-id="f027e-108">\_TTL de multidifusión IP \_ : establece el período de vida y controla el ámbito de una sesión de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="f027e-108">IP\_MULTICAST\_TTL—Sets time-to-live, controls scope of a multicast session.</span></span>
-   <span data-ttu-id="f027e-109">IP \_ Multicast \_ If: determina la interfaz que se va a utilizar para la multidifusión.</span><span class="sxs-lookup"><span data-stu-id="f027e-109">IP\_MULTICAST\_IF—Determines interface to be used for multicasting.</span></span>
-   <span data-ttu-id="f027e-110">IP \_ Add \_ MEMBERSHI: combina una sesión de multidifusión especificada.</span><span class="sxs-lookup"><span data-stu-id="f027e-110">IP\_ADD\_MEMBERSHI —Joins a specified multicast session.</span></span>
-   <span data-ttu-id="f027e-111">\_Pertenencia \_ al grupo de direcciones IP: quita una sesión de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="f027e-111">IP\_DROP\_MEMBERSHIP—Drops out of a multicast session.</span></span>
-   <span data-ttu-id="f027e-112">\_Bucle de multidifusión IP \_ : controla el bucle invertido de tráfico de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="f027e-112">IP\_MULTICAST\_LOOP—Controls loopback of multicast traffic.</span></span>

<span data-ttu-id="f027e-113">Establecer el período de vida de un socket de multidifusión IP se asigna directamente a mediante el \_ \_ código de comando de ámbito de multidifusión de SiO para [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl).</span><span class="sxs-lookup"><span data-stu-id="f027e-113">Setting the time-to-live for an IP-multicast socket maps directly to using the SIO\_MULTICAST\_SCOPE command code for [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl).</span></span>

<span data-ttu-id="f027e-114">El método para determinar la interfaz IP que se va a utilizar para la multidifusión es a través de una opción de socket específica de TCP/IP, tal y como se describe en el anexo de Windows Sockets 2 Protocol-Specific.</span><span class="sxs-lookup"><span data-stu-id="f027e-114">The method for determining the IP interface to be used for multicasting is through a TCP/IP-specific socket option as described in the Windows Sockets 2 Protocol-Specific Annex.</span></span> <span data-ttu-id="f027e-115">Las tres operaciones restantes se describen bien con la semántica de Windows Sockets 2 que se describe aquí.</span><span class="sxs-lookup"><span data-stu-id="f027e-115">The remaining three operations are covered well with the Windows Sockets 2 semantics described here.</span></span>

<span data-ttu-id="f027e-116">La aplicación abriría sockets con \_ marcas hoja c/d \_ en [**WSASocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa).</span><span class="sxs-lookup"><span data-stu-id="f027e-116">The application would open sockets with c\_leaf/d\_leaf flags in [**WSASocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa).</span></span> <span data-ttu-id="f027e-117">Usaría [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) para agregarse a un grupo de multidifusión en la interfaz predeterminada designada para las operaciones de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="f027e-117">It would use [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to add itself to a multicast group on the default interface designated for multicast operations.</span></span> <span data-ttu-id="f027e-118">Si la marca de **WSAJoinLeaf** indica que este socket solo es un remitente, la operación de Unión es esencialmente una no operativa y no es necesario enviar mensajes IGMP.</span><span class="sxs-lookup"><span data-stu-id="f027e-118">If the flag in **WSAJoinLeaf** indicates that this socket is only a sender, then the join operation is essentially a no-op and no IGMP messages need to be sent.</span></span> <span data-ttu-id="f027e-119">De lo contrario, se envía un paquete IGMP al enrutador para indicar intereses en la recepción de paquetes enviados a la dirección de multidifusión especificada.</span><span class="sxs-lookup"><span data-stu-id="f027e-119">Otherwise, an IGMP packet is sent out to the router to indicate interests in receiving packets sent to the specified multicast address.</span></span> <span data-ttu-id="f027e-120">Dado que la aplicación creó \_ sockets de hoja de c hoja/d especiales \_ que solo se usan para realizar la multidifusión, se utilizaría la función [**closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket) estándar para quitar de la sesión de multidifusión.</span><span class="sxs-lookup"><span data-stu-id="f027e-120">Since the application created special c\_leaf/d\_leaf sockets used only for performing multicast, the standard [**closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket) function would be used to drop out of the multicast session.</span></span> <span data-ttu-id="f027e-121">El \_ \_ código de comando de intercalación de Multipoint de SiO para [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) proporciona un mecanismo de control genérico para determinar si los datos enviados en un \_ socket de hoja d de un esquema Multipoint no raíz también se pueden recibir en el mismo Socket.</span><span class="sxs-lookup"><span data-stu-id="f027e-121">The SIO\_MULTIPOINT\_LOOPBACK command code for [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) provides a generic control mechanism for determining whether data sent on a d\_leaf socket in a nonrooted multipoint scheme can also be received on the same socket.</span></span>

> [!Note]  
> <span data-ttu-id="f027e-122">La versión de Winsock de la \_ opción de bucle de multidifusión IP \_ es semánticamente diferente de la versión de UNIX de la \_ opción de bucle de multidifusión IP \_ :</span><span class="sxs-lookup"><span data-stu-id="f027e-122">The Winsock version of the IP\_MULTICAST\_LOOP option is semantically different than the UNIX version of the IP\_MULTICAST\_LOOP option:</span></span>

 

-   <span data-ttu-id="f027e-123">En Winsock, la \_ opción de bucle de multidifusión IP \_ solo se aplica a la ruta de acceso de recepción.</span><span class="sxs-lookup"><span data-stu-id="f027e-123">In Winsock, the IP\_MULTICAST\_LOOP option applies only to the receive path.</span></span>
-   <span data-ttu-id="f027e-124">En la versión de UNIX, la \_ opción de bucle de multidifusión IP \_ se aplica a la ruta de acceso de envío.</span><span class="sxs-lookup"><span data-stu-id="f027e-124">In the UNIX version, the IP\_MULTICAST\_LOOP option applies to the send path.</span></span>

<span data-ttu-id="f027e-125">Por ejemplo, las aplicaciones que se activan y desactivan (que son más fáciles de supervisar que X e y) se unen al mismo grupo en la misma interfaz; la aplicación en establece la \_ \_ opción de bucle de multidifusión IP en, la aplicación desactivada establece la \_ opción de bucle de multidifusión IP \_ desactivada.</span><span class="sxs-lookup"><span data-stu-id="f027e-125">For example, applications ON and OFF (which are easier to track than X and Y) join the same group on the same interface; application ON sets the IP\_MULTICAST\_LOOP option on, application OFF sets the IP\_MULTICAST\_LOOP option off.</span></span> <span data-ttu-id="f027e-126">Si ON y OFF son aplicaciones Winsock, OFF puede enviar a ON, pero ON no se puede enviar a OFF.</span><span class="sxs-lookup"><span data-stu-id="f027e-126">If ON and OFF are Winsock applications, OFF can send to ON, but ON cannot sent to OFF.</span></span> <span data-ttu-id="f027e-127">Por el contrario, si ON y OFF son aplicaciones UNIX, ON puede enviar a OFF, pero OFF no puede enviar a ON.</span><span class="sxs-lookup"><span data-stu-id="f027e-127">In contrast, if ON and OFF are UNIX applications, ON can send to OFF, but OFF cannot send to ON.</span></span>

 

 



