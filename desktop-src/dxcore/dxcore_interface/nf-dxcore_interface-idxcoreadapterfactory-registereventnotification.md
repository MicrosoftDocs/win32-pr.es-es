---
title: IDXCoreAdapterFactory::RegisterEventNotification
description: Registra para recibir notificaciones de condiciones específicas de un adaptador DXCore o de una lista de adaptadores.
ms.localizationpriority: low
ms.topic: reference
ms.date: 06/20/2019
ms.openlocfilehash: 3643fbb01fc955049c297a577f18d4d276e73f46
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/20/2020
ms.locfileid: "104488083"
---
# <a name="idxcoreadapterfactoryregistereventnotification-method"></a><span data-ttu-id="78c70-103">IDXCoreAdapterFactory:: RegisterEventNotification (método)</span><span class="sxs-lookup"><span data-stu-id="78c70-103">IDXCoreAdapterFactory::RegisterEventNotification method</span></span>

<span data-ttu-id="78c70-104">Registra para recibir notificaciones de condiciones específicas de un adaptador DXCore o de una lista de adaptadores.</span><span class="sxs-lookup"><span data-stu-id="78c70-104">Registers to receive notifications of specific conditions from a DXCore adapter or adapter list.</span></span> <span data-ttu-id="78c70-105">Para obtener instrucciones de programación y ejemplos de código, vea [uso de DXCore para enumerar los adaptadores](../dxcore-enum-adapters.md).</span><span class="sxs-lookup"><span data-stu-id="78c70-105">For programming guidance, and code examples, see [Using DXCore to enumerate adapters](../dxcore-enum-adapters.md).</span></span>

## <a name="syntax"></a><span data-ttu-id="78c70-106">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="78c70-106">Syntax</span></span>

```cpp
virtual HRESULT STDMETHODCALLTYPE RegisterEventNotification(
  _In_ IUnknown *dxCoreObject,
  DXCoreNotificationType notificationType,
  _In_ PFN_DXCORE_NOTIFICATION_CALLBACK callbackFunction,
  _In_opt_ void *callbackContext,
  _Out_ uint32_t *eventCookie) = 0;
```

## <a name="parameters"></a><span data-ttu-id="78c70-107">Parámetros</span><span class="sxs-lookup"><span data-stu-id="78c70-107">Parameters</span></span>

### <a name="dxcoreobject-in"></a><span data-ttu-id="78c70-108">dxCoreObject [in]</span><span class="sxs-lookup"><span data-stu-id="78c70-108">dxCoreObject [in]</span></span>

<span data-ttu-id="78c70-109">Tipo: **[IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown)\***</span><span class="sxs-lookup"><span data-stu-id="78c70-109">Type: **[IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown)\***</span></span>

<span data-ttu-id="78c70-110">El objeto DXCore ([IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) o [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md)) cuyas notificaciones se están suscribiendo.</span><span class="sxs-lookup"><span data-stu-id="78c70-110">The DXCore object ([IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) or [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md)) whose notifications you're subscribing to.</span></span>

### <a name="notificationtype"></a><span data-ttu-id="78c70-111">notificationType</span><span class="sxs-lookup"><span data-stu-id="78c70-111">notificationType</span></span>

<span data-ttu-id="78c70-112">Tipo: **[DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md)**</span><span class="sxs-lookup"><span data-stu-id="78c70-112">Type: **[DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md)**</span></span>

<span data-ttu-id="78c70-113">El tipo de notificación para el que se está registrando.</span><span class="sxs-lookup"><span data-stu-id="78c70-113">The type of notification that you're registering for.</span></span> <span data-ttu-id="78c70-114">Vea la tabla en [DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md) para obtener información sobre los tipos válidos con qué tipos de objetos.</span><span class="sxs-lookup"><span data-stu-id="78c70-114">See the table in [DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md) for info about what types are valid with which kinds of objects.</span></span>

### <a name="callbackfunction-in"></a><span data-ttu-id="78c70-115">callbackFunction [in]</span><span class="sxs-lookup"><span data-stu-id="78c70-115">callbackFunction [in]</span></span>

<span data-ttu-id="78c70-116">Tipo: **[PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md)**</span><span class="sxs-lookup"><span data-stu-id="78c70-116">Type: **[PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md)**</span></span>

<span data-ttu-id="78c70-117">Un puntero a una función de devolución de llamada (implementada por la aplicación), al que llama el objeto DXCore para los eventos de notificación.</span><span class="sxs-lookup"><span data-stu-id="78c70-117">A pointer to a callback function (implemented by your application), which is called by the DXCore object for notification events.</span></span> <span data-ttu-id="78c70-118">Para la firma de la función, vea [PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md).</span><span class="sxs-lookup"><span data-stu-id="78c70-118">For the signature of the function, see [PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md).</span></span>

### <a name="callbackcontext-in"></a><span data-ttu-id="78c70-119">callbackContext [in]</span><span class="sxs-lookup"><span data-stu-id="78c70-119">callbackContext [in]</span></span>

<span data-ttu-id="78c70-120">Tipo: **void \***</span><span class="sxs-lookup"><span data-stu-id="78c70-120">Type: **void\***</span></span>

<span data-ttu-id="78c70-121">Un puntero opcional a un objeto que contiene información de contexto.</span><span class="sxs-lookup"><span data-stu-id="78c70-121">An optional pointer to an object containing context info.</span></span> <span data-ttu-id="78c70-122">Este objeto se pasa a la función de devolución de llamada cuando se genera la notificación.</span><span class="sxs-lookup"><span data-stu-id="78c70-122">This object is passed to your callback function when the notification is raised.</span></span>

### <a name="eventcookie-out"></a><span data-ttu-id="78c70-123">eventCookie [out]</span><span class="sxs-lookup"><span data-stu-id="78c70-123">eventCookie [out]</span></span>

<span data-ttu-id="78c70-124">Tipo: **uint32_t \***</span><span class="sxs-lookup"><span data-stu-id="78c70-124">Type: **uint32_t\***</span></span>

<span data-ttu-id="78c70-125">Puntero a un valor de **uint32_t** .</span><span class="sxs-lookup"><span data-stu-id="78c70-125">A pointer to a **uint32_t** value.</span></span> <span data-ttu-id="78c70-126">Si se realiza correctamente, la función desreferencia el puntero y establece el valor en un valor de cookie distinto de cero que representa este registro.</span><span class="sxs-lookup"><span data-stu-id="78c70-126">If successful, the function dereferences the pointer and sets the value to a non-zero cookie value representing this registration.</span></span> <span data-ttu-id="78c70-127">Use este valor de cookie para anular el registro de la notificación mediante una llamada a [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span><span class="sxs-lookup"><span data-stu-id="78c70-127">Use this cookie value to unregister from the notification by calling [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span></span> <span data-ttu-id="78c70-128">Vea **Comentarios**.</span><span class="sxs-lookup"><span data-stu-id="78c70-128">See **Remarks**.</span></span>

<span data-ttu-id="78c70-129">Si no se realiza correctamente, la función desreferencia el puntero y establece el valor en cero, lo que representa un valor de cookie no válido.</span><span class="sxs-lookup"><span data-stu-id="78c70-129">If unsuccessful, the function dereferences the pointer and sets the value to zero, which represents an invalid cookie value.</span></span>

## <a name="returns"></a><span data-ttu-id="78c70-130">Devoluciones</span><span class="sxs-lookup"><span data-stu-id="78c70-130">Returns</span></span>

<span data-ttu-id="78c70-131">Tipo: **[HRESULT](../../com/structure-of-com-error-codes.md)**</span><span class="sxs-lookup"><span data-stu-id="78c70-131">Type: **[HRESULT](../../com/structure-of-com-error-codes.md)**</span></span>

<span data-ttu-id="78c70-132">Si la función se ejecuta correctamente, devuelve **S_OK**.</span><span class="sxs-lookup"><span data-stu-id="78c70-132">If the function succeeds, it returns **S_OK**.</span></span> <span data-ttu-id="78c70-133">De lo contrario, devuelve un [código de error](../../com/com-error-codes-10.md) [**HRESULT**](../../com/structure-of-com-error-codes.md) .</span><span class="sxs-lookup"><span data-stu-id="78c70-133">Otherwise, it returns an [**HRESULT**](../../com/structure-of-com-error-codes.md) [error code](../../com/com-error-codes-10.md).</span></span>

|<span data-ttu-id="78c70-134">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="78c70-134">Return value</span></span>|<span data-ttu-id="78c70-135">Descripción</span><span class="sxs-lookup"><span data-stu-id="78c70-135">Description</span></span>|
|-|-|
|<span data-ttu-id="78c70-136">DXGI_ERROR_INVALID_CALL</span><span class="sxs-lookup"><span data-stu-id="78c70-136">DXGI_ERROR_INVALID_CALL</span></span>|<span data-ttu-id="78c70-137">*notificationType* no es compatible con el sistema operativo (SO).</span><span class="sxs-lookup"><span data-stu-id="78c70-137">*notificationType* is unsupported by the operating system (OS).</span></span>|
|<span data-ttu-id="78c70-138">E_INVALIDARG</span><span class="sxs-lookup"><span data-stu-id="78c70-138">E_INVALIDARG</span></span>|<span data-ttu-id="78c70-139">`nullptr` se proporcionó para *dxCoreObject*, o si se proporcionó una combinación de *notificationType* y *dxCoreObject* no válida.</span><span class="sxs-lookup"><span data-stu-id="78c70-139">`nullptr` was provided for *dxCoreObject*, or if an invalid *notificationType* and *dxCoreObject* combination was provided.</span></span>|
|<span data-ttu-id="78c70-140">E_POINTER</span><span class="sxs-lookup"><span data-stu-id="78c70-140">E_POINTER</span></span>|<span data-ttu-id="78c70-141">`nullptr` se proporcionó para *callbackFunction* o *eventCookie*.</span><span class="sxs-lookup"><span data-stu-id="78c70-141">`nullptr` was provided for either *callbackFunction* or *eventCookie*.</span></span>|

## <a name="remarks"></a><span data-ttu-id="78c70-142">Observaciones</span><span class="sxs-lookup"><span data-stu-id="78c70-142">Remarks</span></span>

<span data-ttu-id="78c70-143">Use **RegisterEventNotification** para registrarse para los eventos generados por las interfaces [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md) e [IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) .</span><span class="sxs-lookup"><span data-stu-id="78c70-143">You use **RegisterEventNotification** to register for events raised by [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md) and [IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) interfaces.</span></span> <span data-ttu-id="78c70-144">Se admiten estos tipos de notificación.</span><span class="sxs-lookup"><span data-stu-id="78c70-144">These notification types are supported.</span></span>

|[<span data-ttu-id="78c70-145">DXCoreNotificationType</span><span class="sxs-lookup"><span data-stu-id="78c70-145">DXCoreNotificationType</span></span>](./ne-dxcore_interface-dxcorenotificationtype.md)|<span data-ttu-id="78c70-146">*DxCoreObject* admitido</span><span class="sxs-lookup"><span data-stu-id="78c70-146">Supported *dxCoreObject*</span></span>|<span data-ttu-id="78c70-147">Notas</span><span class="sxs-lookup"><span data-stu-id="78c70-147">Notes</span></span>|
|-|-|-|
|<span data-ttu-id="78c70-148">AdapterListStale</span><span class="sxs-lookup"><span data-stu-id="78c70-148">AdapterListStale</span></span>|<span data-ttu-id="78c70-149">**IDXCoreAdapterList**</span><span class="sxs-lookup"><span data-stu-id="78c70-149">**IDXCoreAdapterList**</span></span>|<span data-ttu-id="78c70-150">Indica que ha cambiado la lista de adaptadores que cumplen los criterios de filtro.</span><span class="sxs-lookup"><span data-stu-id="78c70-150">Indicates that the list of adapters meeting your filter criteria has changed.</span></span> <span data-ttu-id="78c70-151">Si la lista de adaptadores está obsoleta en el momento del registro, la devolución de llamada se llama inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="78c70-151">If the adapter list is stale at the time of registration, then your callback is immediately called.</span></span> <span data-ttu-id="78c70-152">Esta devolución de llamada se produce como máximo una vez por registro.</span><span class="sxs-lookup"><span data-stu-id="78c70-152">This callback occurs at most one time per registration.</span></span>|
|<span data-ttu-id="78c70-153">AdapterNoLongerValid</span><span class="sxs-lookup"><span data-stu-id="78c70-153">AdapterNoLongerValid</span></span>|<span data-ttu-id="78c70-154">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="78c70-154">**IDXCoreAdapter**</span></span>|<span data-ttu-id="78c70-155">Indica que el adaptador ya no es válido.</span><span class="sxs-lookup"><span data-stu-id="78c70-155">Indicates that the adapter is no longer valid.</span></span> <span data-ttu-id="78c70-156">Si el adaptador no es válido en el momento del registro, la devolución de llamada se llama inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="78c70-156">If the adapter is invalid at registration time, then your callback is immediately called.</span></span>|
|<span data-ttu-id="78c70-157">AdapterBudgetChange</span><span class="sxs-lookup"><span data-stu-id="78c70-157">AdapterBudgetChange</span></span>|<span data-ttu-id="78c70-158">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="78c70-158">**IDXCoreAdapter**</span></span>|<span data-ttu-id="78c70-159">Indica que se ha producido un evento de presupuesto de memoria y que se debe llamar a [IDXCoreAdapter:: QueryState](./nf-dxcore_interface-idxcoreadapter-querystate.md) (con [DXCoreAdapterState:: AdapterMemoryBudget](./ne-dxcore_interface-dxcoreadapterstate.md)) para evaluar el estado actual del presupuesto de memoria.</span><span class="sxs-lookup"><span data-stu-id="78c70-159">Indicates that a memory budgeting event has occurred, and that you should call [IDXCoreAdapter::QueryState](./nf-dxcore_interface-idxcoreadapter-querystate.md) (with [DXCoreAdapterState::AdapterMemoryBudget](./ne-dxcore_interface-dxcoreadapterstate.md)) to evaluate the current memory budget state.</span></span> <span data-ttu-id="78c70-160">Tras el registro, siempre se producirá una devolución de llamada inicial para que pueda consultar el estado inicial.</span><span class="sxs-lookup"><span data-stu-id="78c70-160">Upon registration, an initial callback will always occur to allow you to query the initial state.</span></span>|
|<span data-ttu-id="78c70-161">AdapterHardwareContentProtectionTeardown</span><span class="sxs-lookup"><span data-stu-id="78c70-161">AdapterHardwareContentProtectionTeardown</span></span>|<span data-ttu-id="78c70-162">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="78c70-162">**IDXCoreAdapter**</span></span>|<span data-ttu-id="78c70-163">Indica que debe volver a evaluar el estado actual de la sesión de cifrado. por ejemplo, al llamar a [ID3D11VideoContext1:: CheckCryptoSessionStatus](/windows/win32/api/d3d11_1/nf-d3d11_1-id3d11videocontext1-checkcryptosessionstatus) para determinar el impacto del montaje de hardware de una interfaz [ID3D11CryptoSession](/windows/win32/api/d3d11/nn-d3d11-id3d11cryptosession) específica.</span><span class="sxs-lookup"><span data-stu-id="78c70-163">Indicates that you should re-evaluate the current crypto session status; for example, by calling [ID3D11VideoContext1::CheckCryptoSessionStatus](/windows/win32/api/d3d11_1/nf-d3d11_1-id3d11videocontext1-checkcryptosessionstatus) to determine the impact of the hardware teardown for a specific [ID3D11CryptoSession](/windows/win32/api/d3d11/nn-d3d11-id3d11cryptosession) interface.</span></span> <span data-ttu-id="78c70-164">Tras el registro, siempre se producirá una devolución de llamada inicial para que pueda consultar el estado inicial.</span><span class="sxs-lookup"><span data-stu-id="78c70-164">Upon registration, an initial callback will always occur to allow you to query the initial state.</span></span>|

<span data-ttu-id="78c70-165">La llamada a la función que se proporciona en *callbackFunction* se realiza de forma asincrónica en un subproceso en segundo plano mediante DXCore cuando se produce el evento detectado.</span><span class="sxs-lookup"><span data-stu-id="78c70-165">A call to the function that you provide in *callbackFunction* is made asynchronously on a background thread by DXCore when the detected event occurs.</span></span> <span data-ttu-id="78c70-166">No se garantiza que el orden o la temporización de las devoluciones de llamada &mdash; puedan producirse en cualquier orden, o incluso simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="78c70-166">No guarantee is made as to the ordering or timing of callbacks&mdash;multiple callbacks may occur in any order, or even simultaneously.</span></span> <span data-ttu-id="78c70-167">Incluso es posible que se invoque la devolución de llamada antes de que se haya completado **RegisterEventNotification** .</span><span class="sxs-lookup"><span data-stu-id="78c70-167">It's even possible for your callback to be invoked before **RegisterEventNotification** has completed.</span></span> <span data-ttu-id="78c70-168">En ese caso, DXCore garantiza que el *eventCookie* se establece antes de que se llame a la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="78c70-168">In that case, DXCore guarantees that your *eventCookie* is set before your callback is called.</span></span> <span data-ttu-id="78c70-169">Se serializarán varias devoluciones de llamada para un registro específico en orden.</span><span class="sxs-lookup"><span data-stu-id="78c70-169">Multiple callbacks for a specific registration will be serialized in order.</span></span>

<span data-ttu-id="78c70-170">Las devoluciones de llamada pueden producirse en cualquier momento hasta que llame a [UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md)y se complete.</span><span class="sxs-lookup"><span data-stu-id="78c70-170">Callbacks may occur at any time until you call [UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), and it completes.</span></span> <span data-ttu-id="78c70-171">Las devoluciones de llamada se producen en sus propios subprocesos y puede realizar llamadas a la API DXCore en esos subprocesos, incluido **UnregisterEventNotification**.</span><span class="sxs-lookup"><span data-stu-id="78c70-171">Callbacks occur on their own threads, and you may make calls into the DXCore API on those threads, including **UnregisterEventNotification**.</span></span> <span data-ttu-id="78c70-172">Sin embargo, no debe liberar la última referencia a *dxCoreObject* en este subproceso.</span><span class="sxs-lookup"><span data-stu-id="78c70-172">However, you must not release the last reference to the *dxCoreObject* on this thread.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="78c70-173">Antes de destruir el objeto DXCore representado por el argumento *dxCoreObject* pasado a **RegisterEventNotification**, debe usar el valor de cookie para anular el registro de ese objeto de las notificaciones llamando a [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span><span class="sxs-lookup"><span data-stu-id="78c70-173">Before you destroy the DXCore object represented by the *dxCoreObject* argument passed to **RegisterEventNotification**, you must use the cookie value to unregister that object from notifications by calling [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span></span> <span data-ttu-id="78c70-174">Si no lo hace, se produce una excepción grave cuando se detecta la situación.</span><span class="sxs-lookup"><span data-stu-id="78c70-174">If you don't do that, then a fatal exception is raised when the situation is detected.</span></span>

## <a name="see-also"></a><span data-ttu-id="78c70-175">Vea también</span><span class="sxs-lookup"><span data-stu-id="78c70-175">See also</span></span>

<span data-ttu-id="78c70-176">[IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md), [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md), [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), [referencia de DXCore](../dxcore-reference.md), [uso de DXCore para enumerar los adaptadores](../dxcore-enum-adapters.md)</span><span class="sxs-lookup"><span data-stu-id="78c70-176">[IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md), [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md), [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), [DXCore Reference](../dxcore-reference.md), [Using DXCore to enumerate adapters](../dxcore-enum-adapters.md)</span></span>