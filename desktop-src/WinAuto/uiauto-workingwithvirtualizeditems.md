---
title: Trabajar con elementos virtualizados
description: En este tema se describe cómo usar la funcionalidad proporcionada por los patrones de control ItemContainer y VirtualizedItem para buscar y recuperar información acerca de los elementos virtualizados.
ms.assetid: e1898ba0-5ffa-4c61-b378-c7ef7c4a2c52
keywords:
- clientes, elementos virtualizados de automatización de la interfaz de usuario
- clientes, elementos virtualizados
- clientes, patrones de control
- clientes, patrones de control de VirtualizedItem
- clientes, patrones de control de ItemContainer
- clientes, patrones de control VirtualizedItem de UI Automation
- clientes, patrones de control de UI Automation
- clientes, patrones de control ItemContainer de UI Automation
- Automatización de la interfaz de usuario, elementos virtualizados
- Automatización de la interfaz de usuario, patrones de control
- Automatización de la interfaz de usuario, patrones de control VirtualizedItem
- Automatización de la interfaz de usuario, patrones de control ItemContainer
- Patrones de control de VirtualizedItem
- Patrones de control de ItemContainer
- patrones de control, VirtualizedItem
- patrones de control, ItemContainer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cb29232b06304079ad5b9dfdfb589ad510a5b51f
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104357454"
---
# <a name="working-with-virtualized-items"></a><span data-ttu-id="5774a-119">Trabajar con elementos virtualizados</span><span class="sxs-lookup"><span data-stu-id="5774a-119">Working with Virtualized Items</span></span>

<span data-ttu-id="5774a-120">En este tema se describe cómo usar la funcionalidad proporcionada por los patrones de control [ItemContainer](uiauto-implementingitemcontainer.md) y [VirtualizedItem](uiauto-implementingvirtualizeditem.md) para buscar y recuperar información acerca de los elementos virtualizados.</span><span class="sxs-lookup"><span data-stu-id="5774a-120">This topic describes how to use functionality provided by the [ItemContainer](uiauto-implementingitemcontainer.md) and [VirtualizedItem](uiauto-implementingvirtualizeditem.md) control patterns to find and retrieve information about virtualized items.</span></span>

-   [<span data-ttu-id="5774a-121">Información general sobre la virtualización</span><span class="sxs-lookup"><span data-stu-id="5774a-121">Overview of Virtualization</span></span>](#overview-of-virtualization)
-   [<span data-ttu-id="5774a-122">Cómo un control admite la virtualización</span><span class="sxs-lookup"><span data-stu-id="5774a-122">How a Control Supports Virtualization</span></span>](#how-a-control-supports-virtualization)
-   [<span data-ttu-id="5774a-123">Cómo los clientes buscan y obtienen elementos virtualizados</span><span class="sxs-lookup"><span data-stu-id="5774a-123">How Clients Find and Realize Virtualized Items</span></span>](#how-clients-find-and-realize-virtualized-items)
-   [<span data-ttu-id="5774a-124">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="5774a-124">Example</span></span>](#example)
-   [<span data-ttu-id="5774a-125">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="5774a-125">Related topics</span></span>](#related-topics)

## <a name="overview-of-virtualization"></a><span data-ttu-id="5774a-126">Información general sobre la virtualización</span><span class="sxs-lookup"><span data-stu-id="5774a-126">Overview of Virtualization</span></span>

<span data-ttu-id="5774a-127">Los controles que contienen un gran número de elementos secundarios pueden utilizar la virtualización para administrar de forma eficaz los elementos.</span><span class="sxs-lookup"><span data-stu-id="5774a-127">Controls that contain a large number of child items can use virtualization to efficiently manage the items.</span></span> <span data-ttu-id="5774a-128">Con la virtualización, el control mantiene toda la información en memoria solo para un subconjunto de elementos en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="5774a-128">With virtualization, the control maintains full information in memory for only a subset of items at any given time.</span></span> <span data-ttu-id="5774a-129">Normalmente, el subconjunto incluye solo los elementos que están visibles actualmente para el usuario.</span><span class="sxs-lookup"><span data-stu-id="5774a-129">Typically, the subset includes only those items that are currently visible to the user.</span></span> <span data-ttu-id="5774a-130">La información completa sobre los elementos virtualizados restantes se mantiene en el almacenamiento y se carga en la memoria, o se realiza, como lo necesita el control, por ejemplo, a medida que los nuevos elementos se vuelven visibles para el usuario.</span><span class="sxs-lookup"><span data-stu-id="5774a-130">Full information about the remaining virtualized items is kept in storage and is loaded into memory, or realized, as the control needs it, for example, as new items become visible to the user.</span></span>

<span data-ttu-id="5774a-131">Los controles que usan la virtualización representan un desafío porque solo los elementos realizados están totalmente disponibles como elementos de automatización de la interfaz de usuario de Microsoft en el árbol de automatización de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="5774a-131">Controls that use virtualization represent a challenge because only realized items are fully available as Microsoft UI Automation elements in the UI Automation tree.</span></span> <span data-ttu-id="5774a-132">Los elementos virtualizados no existen en el árbol, por lo que la información acerca de ellos no está disponible para los clientes.</span><span class="sxs-lookup"><span data-stu-id="5774a-132">Virtualized items do not exist in the tree, so information about them is not available to clients.</span></span> <span data-ttu-id="5774a-133">Para recuperar información sobre los elementos virtualizados, los clientes necesitan una manera de forzar la automatización de la interfaz de usuario para que pase la solicitud para obtener los elementos del control.</span><span class="sxs-lookup"><span data-stu-id="5774a-133">To retrieve information about virtualized items, clients need a way to force UI Automation to pass the request to realize the items to the control.</span></span> <span data-ttu-id="5774a-134">Una vez que se han realizado los elementos, la automatización de la interfaz de usuario puede crear elementos de automatización de la interfaz de usuario para ellos.</span><span class="sxs-lookup"><span data-stu-id="5774a-134">After the items have been realized, UI Automation can create UI Automation elements for them.</span></span> <span data-ttu-id="5774a-135">La automatización de la interfaz de usuario incluye dos patrones de control para que los clientes puedan trabajar con elementos virtualizados: [ItemContainer](uiauto-implementingitemcontainer.md) y [VirtualizedItem](uiauto-implementingvirtualizeditem.md).</span><span class="sxs-lookup"><span data-stu-id="5774a-135">UI Automation includes two control patterns to enable clients to work with virtualized items: [ItemContainer](uiauto-implementingitemcontainer.md) and [VirtualizedItem](uiauto-implementingvirtualizeditem.md).</span></span>

## <a name="how-a-control-supports-virtualization"></a><span data-ttu-id="5774a-136">Cómo un control admite la virtualización</span><span class="sxs-lookup"><span data-stu-id="5774a-136">How a Control Supports Virtualization</span></span>

<span data-ttu-id="5774a-137">Cualquier control que pueda contener elementos virtualizados debe admitir el patrón de control [ItemContainer](uiauto-implementingitemcontainer.md) .</span><span class="sxs-lookup"><span data-stu-id="5774a-137">Any control that can contain virtualized items must support the [ItemContainer](uiauto-implementingitemcontainer.md) control pattern.</span></span> <span data-ttu-id="5774a-138">Además, cualquier elemento que se pueda virtualizar debe admitir el patrón de control [VirtualizedItem](uiauto-implementingvirtualizeditem.md) .</span><span class="sxs-lookup"><span data-stu-id="5774a-138">Further, any item that can be virtualized must support the [VirtualizedItem](uiauto-implementingvirtualizeditem.md) control pattern.</span></span> <span data-ttu-id="5774a-139">La funcionalidad que exponen los patrones de control ItemContainer y VirtualizedItem es accesible para los clientes a través de las interfaces [**IUIAutomationItemContainerPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationitemcontainerpattern) y [**IUIAutomationVirtualizedItemPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationvirtualizeditempattern) .</span><span class="sxs-lookup"><span data-stu-id="5774a-139">The functionality that is exposed by the ItemContainer and VirtualizedItem control patterns is accessible to clients through the [**IUIAutomationItemContainerPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationitemcontainerpattern) and [**IUIAutomationVirtualizedItemPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationvirtualizeditempattern) interfaces.</span></span>

## <a name="how-clients-find-and-realize-virtualized-items"></a><span data-ttu-id="5774a-140">Cómo los clientes buscan y obtienen elementos virtualizados</span><span class="sxs-lookup"><span data-stu-id="5774a-140">How Clients Find and Realize Virtualized Items</span></span>

<span data-ttu-id="5774a-141">Los clientes pueden usar el método [**IUIAutomationItemContainerPattern:: FindItemByProperty**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationitemcontainerpattern-finditembyproperty) para buscar elementos secundarios en el contenedor basándose en el valor de una propiedad determinada.</span><span class="sxs-lookup"><span data-stu-id="5774a-141">Clients can use the [**IUIAutomationItemContainerPattern::FindItemByProperty**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationitemcontainerpattern-finditembyproperty) method to search for child items in the container based on the value of a particular property.</span></span> <span data-ttu-id="5774a-142">El método también puede recuperar el primer elemento del contenedor o el elemento que sigue al elemento especificado.</span><span class="sxs-lookup"><span data-stu-id="5774a-142">The method can also retrieve the first item in the container or the item that follows the specified item.</span></span> <span data-ttu-id="5774a-143">Si se encuentra un elemento secundario coincidente, **FindItemByProperty** recupera una interfaz [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) para el elemento.</span><span class="sxs-lookup"><span data-stu-id="5774a-143">If a matching child item is found, the **FindItemByProperty** retrieves an [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) interface for the item.</span></span> <span data-ttu-id="5774a-144">Sin embargo, si el elemento secundario está virtualizado, la interfaz **IUIAutomationElement** es un marcador de posición.</span><span class="sxs-lookup"><span data-stu-id="5774a-144">However, if the child item is virtualized, the **IUIAutomationElement** interface is a placeholder.</span></span> <span data-ttu-id="5774a-145">El error de [**\_ \_ ELEMENTNOTAVAILABLE UIA E**](uiauto-error-codes.md) se produce cuando el cliente intenta usar la interfaz **IUIAutomationElement** para recuperar los valores de propiedad o llamar a métodos que todavía no están disponibles.</span><span class="sxs-lookup"><span data-stu-id="5774a-145">The [**UIA\_E\_ELEMENTNOTAVAILABLE**](uiauto-error-codes.md) error occurs when the client attempts to use the **IUIAutomationElement** interface to retrieve property values or call methods that are not yet available.</span></span> <span data-ttu-id="5774a-146">Las propiedades o los métodos que están disponibles a través de un marcador de posición dependen de la implementación del control.</span><span class="sxs-lookup"><span data-stu-id="5774a-146">Which properties or methods are available through a placeholder depends on the control implementation.</span></span> <span data-ttu-id="5774a-147">El único requisito para un marcador de posición es admitir la interfaz [**IUIAutomationVirtualizedItemPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationvirtualizeditempattern) .</span><span class="sxs-lookup"><span data-stu-id="5774a-147">The only requirement for a placeholder is to support the [**IUIAutomationVirtualizedItemPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationvirtualizeditempattern) interface.</span></span>

<span data-ttu-id="5774a-148">El [**error \_ \_ ELEMENTNOTAVAILABLE de UIA E**](uiauto-error-codes.md) es una indicación al cliente de que un elemento se puede virtualizar.</span><span class="sxs-lookup"><span data-stu-id="5774a-148">The [**UIA\_E\_ELEMENTNOTAVAILABLE**](uiauto-error-codes.md) error is an indication to the client that an item may be virtualized.</span></span> <span data-ttu-id="5774a-149">El cliente debe responder recuperando la interfaz [**IUIAutomationVirtualizedItemPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationvirtualizeditempattern) para el elemento y, a continuación, obteniendo el elemento llamando al método [**IUIAutomationVirtualizedItemPattern:: Observate**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationvirtualizeditempattern-realize) .</span><span class="sxs-lookup"><span data-stu-id="5774a-149">The client should respond by retrieving the [**IUIAutomationVirtualizedItemPattern**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationvirtualizeditempattern) interface for the item, and then realizing the item by calling the [**IUIAutomationVirtualizedItemPattern::Realize**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationvirtualizeditempattern-realize) method.</span></span> <span data-ttu-id="5774a-150">Si esto se realiza correctamente, la interfaz [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) es totalmente funcional con todas las propiedades adecuadas disponibles.</span><span class="sxs-lookup"><span data-stu-id="5774a-150">If this succeeds, the [**IUIAutomationElement**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationelement) interface is fully functional with all appropriate properties available.</span></span>

<span data-ttu-id="5774a-151">Dependiendo de la implementación del control, la llamada a [**IUIAutomationVirtualizedItemPattern::**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationvirtualizeditempattern-realize) provisión puede hacer que el control desplace el elemento a la vista.</span><span class="sxs-lookup"><span data-stu-id="5774a-151">Depending on the control implementation, calling [**IUIAutomationVirtualizedItemPattern::Realize**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationvirtualizeditempattern-realize) may cause the control to scroll the item into view.</span></span> <span data-ttu-id="5774a-152">Sin embargo, un cliente no debe basarse en el desplazamiento de elementos en la vista o en visible.</span><span class="sxs-lookup"><span data-stu-id="5774a-152">However, a client should not rely on the item scrolling into view or made visible.</span></span> <span data-ttu-id="5774a-153">Para asegurarse de que el elemento está visible, el cliente puede utilizar el método [**IUIAutomationScrollItemPattern:: ScrollIntoView**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationscrollitempattern-scrollintoview) .</span><span class="sxs-lookup"><span data-stu-id="5774a-153">To ensure that the item is visible, the client can use the [**IUIAutomationScrollItemPattern::ScrollIntoView**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationscrollitempattern-scrollintoview) method.</span></span>

## <a name="example"></a><span data-ttu-id="5774a-154">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="5774a-154">Example</span></span>

<span data-ttu-id="5774a-155">Para ver un ejemplo de código que muestra cómo usar la compatibilidad con la automatización de la interfaz de usuario para la virtualización, consulte [Cómo recuperar un elemento virtualizado](uiauto-howto-retrieve-virtualized-item.md).</span><span class="sxs-lookup"><span data-stu-id="5774a-155">For example code that shows how to use the UI Automation support for virtualization, see [How to Retrieve a Virtualized Item](uiauto-howto-retrieve-virtualized-item.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="5774a-156">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="5774a-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5774a-157">Información general acerca de los patrones de control de UI Automation</span><span class="sxs-lookup"><span data-stu-id="5774a-157">UI Automation Control Patterns Overview</span></span>](uiauto-controlpatternsoverview.md)
</dt> </dl>

 

 




