---
description: La primera función CryptoAPI llamada por una aplicación que usa cualquier API criptográfica es la función CryptAcquireContext.
ms.assetid: ad1ff45c-7d02-431b-a287-e9db765476ce
title: Contextos de proveedor de servicios criptográficos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df20df528b0ba0c385c7ab690436351d918f1521
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104154087"
---
# <a name="cryptographic-service-provider-contexts"></a><span data-ttu-id="0e809-103">Contextos de proveedor de servicios criptográficos</span><span class="sxs-lookup"><span data-stu-id="0e809-103">Cryptographic Service Provider Contexts</span></span>

<span data-ttu-id="0e809-104">La primera función [*CryptoAPI*](../secgloss/c-gly.md) llamada por una aplicación que usa cualquier API criptográfica es la función [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) .</span><span class="sxs-lookup"><span data-stu-id="0e809-104">The first [*CryptoAPI*](../secgloss/c-gly.md) function called by an application that uses any cryptographic APIs is the [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) function.</span></span> <span data-ttu-id="0e809-105">Esta función devuelve un identificador a un CSP determinado que incluye la especificación de un [*contenedor de claves*](../secgloss/k-gly.md) determinado dentro del CSP.</span><span class="sxs-lookup"><span data-stu-id="0e809-105">This function returns a handle to a particular CSP which includes the specification of a particular [*key container*](../secgloss/k-gly.md) within the CSP.</span></span> <span data-ttu-id="0e809-106">Este contenedor de claves es un contenedor de claves solicitado específicamente o es el contenedor de claves predeterminado para el usuario que ha iniciado sesión actualmente.</span><span class="sxs-lookup"><span data-stu-id="0e809-106">This key container is either a specifically requested key container or it is the default key container for the currently logged-on user.</span></span>

<span data-ttu-id="0e809-107">[**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) también puede crear un nuevo contenedor de claves.</span><span class="sxs-lookup"><span data-stu-id="0e809-107">[**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) can also create a new key container.</span></span> <span data-ttu-id="0e809-108">Para obtener más información, vea [el ejemplo c programa: crear un contenedor de claves y generar claves](example-c-program-creating-a-key-container-and-generating-keys.md) y [programa c de ejemplo: uso de CryptAcquireContext](example-c-program-using-cryptacquirecontext.md).</span><span class="sxs-lookup"><span data-stu-id="0e809-108">For more information, see [Example C Program: Creating a Key Container and Generating Keys](example-c-program-creating-a-key-container-and-generating-keys.md) and [Example C Program: Using CryptAcquireContext](example-c-program-using-cryptacquirecontext.md).</span></span>

<span data-ttu-id="0e809-109">Un [*proveedor de servicios criptográficos*](../secgloss/c-gly.md) (CSP) tiene un nombre y un tipo.</span><span class="sxs-lookup"><span data-stu-id="0e809-109">A [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) has both a name and a type.</span></span> <span data-ttu-id="0e809-110">Por ejemplo, el nombre de uno de los CSP incluidos actualmente con el sistema operativo es [proveedor de servicios criptográficos básicos de Microsoft](microsoft-base-cryptographic-provider.md).</span><span class="sxs-lookup"><span data-stu-id="0e809-110">For example, the name of one of the CSPs currently shipped with the operating system is [Microsoft Base Cryptographic Provider](microsoft-base-cryptographic-provider.md).</span></span> <span data-ttu-id="0e809-111">Es un proveedor de tipo [ \_ \_ completo de Prov RSA](prov-rsa-full.md) .</span><span class="sxs-lookup"><span data-stu-id="0e809-111">It is a [PROV\_RSA\_FULL](prov-rsa-full.md) type provider.</span></span> <span data-ttu-id="0e809-112">El nombre de cada proveedor es único; el tipo de proveedor no es.</span><span class="sxs-lookup"><span data-stu-id="0e809-112">The name of each provider is unique; the provider type is not.</span></span>

<span data-ttu-id="0e809-113">Cuando una aplicación llama a [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) para obtener un identificador de CSP, especifica un tipo de proveedor y, opcionalmente, un nombre de proveedor.</span><span class="sxs-lookup"><span data-stu-id="0e809-113">When an application calls [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to obtain a CSP handle, it specifies a provider type and, optionally, a provider name.</span></span> <span data-ttu-id="0e809-114">Si se especifican un tipo y un nombre, la función carga el CSP con el tipo de proveedor y el nombre de proveedor coincidentes.</span><span class="sxs-lookup"><span data-stu-id="0e809-114">If both a type and a name are specified, the function loads the CSP with the matching provider type and provider name.</span></span> <span data-ttu-id="0e809-115">La función devuelve el identificador del CSP que proporciona acceso al CSP y a un contenedor de [*claves*](../secgloss/k-gly.md) dentro del CSP.</span><span class="sxs-lookup"><span data-stu-id="0e809-115">The function returns the CSP's handle which provides access to both the CSP and to a [*key container*](../secgloss/k-gly.md) within the CSP.</span></span>

<span data-ttu-id="0e809-116">Cuando una aplicación llama a [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) y especifica un tipo de proveedor pero ningún nombre de proveedor, la función busca un proveedor con nombre, comprobando primero una lista de proveedores con nombre predeterminados asociados al usuario que ha iniciado sesión y, si se produce un error, de una lista de proveedores con nombre predeterminados asociados al equipo.</span><span class="sxs-lookup"><span data-stu-id="0e809-116">When an application calls [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) and specifies a provider type but no provider name, the function looks for a named provider, first checking a list of default named providers associated with the logged-on user and, if that fails, from a list of default named providers associated with the computer.</span></span> <span data-ttu-id="0e809-117">Una vez determinado el nombre del proveedor, la función **CryptAcquireContext** busca el CSP para ese proveedor, lo carga y devuelve su identificador.</span><span class="sxs-lookup"><span data-stu-id="0e809-117">After the provider name has been determined, the **CryptAcquireContext** function searches for the CSP for that provider, loads it, and returns its handle.</span></span>

<span data-ttu-id="0e809-118">Cuando haya terminado de usar un identificador de CSP, suéltelo llamando a la función [**CryptReleaseContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptreleasecontext) .</span><span class="sxs-lookup"><span data-stu-id="0e809-118">When you have finished using a CSP handle, release it by calling the [**CryptReleaseContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptreleasecontext) function.</span></span>

 

 
