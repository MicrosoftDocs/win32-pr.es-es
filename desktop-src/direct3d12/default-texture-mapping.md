---
title: Optimizaciones de la CPU de las texturas accesibles y estándar swizzle
description: Las GPU de arquitectura de memoria universal (UMA) ofrecen algunas ventajas de eficiencia frente a las GPU discretas, especialmente cuando se optimizan para dispositivos móviles.
ms.assetid: 26C41948-9625-4786-BBDF-552D1F8A2437
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 47725702676d385d607fa87533680b9ffe0fc0df
ms.sourcegitcommit: 294c5ab750c46b5100bb2c84ef6c33ef7266c54b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 07/15/2020
ms.locfileid: "104549137"
---
# <a name="uma-optimizations-cpu-accessible-textures-and-standard-swizzle"></a><span data-ttu-id="738fd-103">Optimizaciones de UMA: texturas accesibles por CPU y swizzle estándar</span><span class="sxs-lookup"><span data-stu-id="738fd-103">UMA Optimizations: CPU Accessible Textures and Standard Swizzle</span></span>

<span data-ttu-id="738fd-104">Las GPU de arquitectura de memoria universal (UMA) ofrecen algunas ventajas de eficiencia frente a las GPU discretas, especialmente cuando se optimizan para dispositivos móviles.</span><span class="sxs-lookup"><span data-stu-id="738fd-104">Universal Memory Architecture (UMA) GPUs offer some efficiency advantages over discrete GPUs, especially when optimizing for mobile devices.</span></span> <span data-ttu-id="738fd-105">La concesión de recursos de acceso de CPU cuando la GPU es UMA puede reducir la cantidad de copia que se produce entre la CPU y la GPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-105">Giving resources CPU access when the GPU is UMA can reduce the amount of copying that occurs between CPU and GPU.</span></span> <span data-ttu-id="738fd-106">Aunque no se recomienda que las aplicaciones proporcionen acceso a la CPU a todos los recursos de los diseños de UMA, existen oportunidades para mejorar las eficiencias proporcionando el acceso a la CPU de los recursos correctos.</span><span class="sxs-lookup"><span data-stu-id="738fd-106">While we don’t recommend applications blindly give CPU access to all resources on UMA designs, there are opportunities to improve efficiencies by giving the right resources CPU access.</span></span> <span data-ttu-id="738fd-107">A diferencia de las GPU discretas, la CPU puede tener técnicamente un puntero a todos los recursos a los que puede tener acceso la GPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-107">Unlike discrete GPUs, the CPU can technically have a pointer to all resources that the GPU can access.</span></span>

-   [<span data-ttu-id="738fd-108">Información general sobre las texturas accesibles de la CPU</span><span class="sxs-lookup"><span data-stu-id="738fd-108">Overview of CPU accessible textures</span></span>](#overview-of-cpu-accessible-textures)
-   [<span data-ttu-id="738fd-109">Información general de swizzle estándar</span><span class="sxs-lookup"><span data-stu-id="738fd-109">Overview of Standard Swizzle</span></span>](#overview-of-standard-swizzle)
-   [<span data-ttu-id="738fd-110">API</span><span class="sxs-lookup"><span data-stu-id="738fd-110">APIs</span></span>](#apis)
-   [<span data-ttu-id="738fd-111">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="738fd-111">Related topics</span></span>](#related-topics)

## <a name="overview-of-cpu-accessible-textures"></a><span data-ttu-id="738fd-112">Información general sobre las texturas accesibles de la CPU</span><span class="sxs-lookup"><span data-stu-id="738fd-112">Overview of CPU accessible textures</span></span>

<span data-ttu-id="738fd-113">Las texturas accesibles por CPU, en la canalización de gráficos, son una característica de la arquitectura UMA, lo que permite que las CPU tengan acceso de lectura y escritura a las texturas.</span><span class="sxs-lookup"><span data-stu-id="738fd-113">CPU accessible textures, in the graphics pipeline, are a feature of UMA architecture, enabling CPUs read and write access to textures.</span></span> <span data-ttu-id="738fd-114">En las GPU discretas más comunes, la CPU no tiene acceso a las texturas de la canalización de gráficos.</span><span class="sxs-lookup"><span data-stu-id="738fd-114">On the more common discrete GPUs, the CPU does not have access to textures in the graphics pipeline.</span></span>

<span data-ttu-id="738fd-115">El Consejo de prácticas recomendadas generales para las texturas es dar cabida a las GPU discretas, lo que suele implicar seguir los procesos de [carga de datos de textura a través de búferes](upload-and-readback-of-texture-data.md), resumidos como:</span><span class="sxs-lookup"><span data-stu-id="738fd-115">The general best practice advice for textures is to accommodate discrete GPUs, which typically involves following the processes in [Uploading Texture Data Through Buffers](upload-and-readback-of-texture-data.md), summarized as:</span></span>

-   <span data-ttu-id="738fd-116">No tener acceso a la CPU para la mayoría de las texturas.</span><span class="sxs-lookup"><span data-stu-id="738fd-116">Not having any CPU access for the majority of textures.</span></span>
-   <span data-ttu-id="738fd-117">Establecer el diseño de textura en el \_ diseño de textura D3D12 \_ \_ desconocido.</span><span class="sxs-lookup"><span data-stu-id="738fd-117">Setting the texture layout to D3D12\_TEXTURE\_LAYOUT\_UNKNOWN.</span></span>
-   <span data-ttu-id="738fd-118">Carga de las texturas en la GPU con [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion).</span><span class="sxs-lookup"><span data-stu-id="738fd-118">Uploading the textures to the GPU with [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion).</span></span>

<span data-ttu-id="738fd-119">Sin embargo, en algunos casos, la CPU y la GPU pueden interactuar con tanta frecuencia en los mismos datos, que las texturas de asignación resultan útiles para ahorrar energía o para acelerar un diseño determinado en adaptadores o arquitecturas determinados.</span><span class="sxs-lookup"><span data-stu-id="738fd-119">However, for certain cases, the CPU and GPU may interact so frequently on the same data, that mapping textures becomes helpful to save power, or to speed up a particular design on particular adapters or architectures.</span></span> <span data-ttu-id="738fd-120">Las aplicaciones deben detectar estos casos y optimizar las copias innecesarias.</span><span class="sxs-lookup"><span data-stu-id="738fd-120">Applications should detect these cases and optimize out the unnecessary copies.</span></span> <span data-ttu-id="738fd-121">En este caso, para obtener el mejor rendimiento, considere lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="738fd-121">In this case, for best performance consider the following:</span></span>

-   <span data-ttu-id="738fd-122">Solo empiece a entretener el mejor rendimiento de la asignación de texturas cuando la arquitectura de datos de características de D3D12:: Uma sea TRUE. [**\_ \_ \_**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_architecture)</span><span class="sxs-lookup"><span data-stu-id="738fd-122">Only start entertaining the better performance of mapping textures when [**D3D12\_FEATURE\_DATA\_ARCHITECTURE**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_architecture)::UMA is TRUE.</span></span> <span data-ttu-id="738fd-123">A continuación, preste atención a *CacheCoherentUMA* si decide qué propiedades de la memoria caché de la CPU elegir en el montón.</span><span class="sxs-lookup"><span data-stu-id="738fd-123">Then pay attention to *CacheCoherentUMA* if deciding which CPU cache properties to choose on the heap.</span></span>

-   <span data-ttu-id="738fd-124">Aprovechar el acceso a la CPU para las texturas es más complicado que en el caso de los búferes.</span><span class="sxs-lookup"><span data-stu-id="738fd-124">Leveraging CPU access for textures is more complicated than for buffers.</span></span> <span data-ttu-id="738fd-125">Los diseños de textura más eficaces para las GPU no suelen ser principales de las filas \_ .</span><span class="sxs-lookup"><span data-stu-id="738fd-125">The most efficient texture layouts for GPUs are rarely row\_major.</span></span> <span data-ttu-id="738fd-126">De hecho, algunas GPU solo pueden admitir \_ texturas principales de fila al copiar los datos de textura.</span><span class="sxs-lookup"><span data-stu-id="738fd-126">In fact, some GPUs can only support row\_major textures when copying texture data around.</span></span>

-   <span data-ttu-id="738fd-127">Las GPU de UMA deben beneficiarse universalmente de una optimización simple para reducir los tiempos de carga de nivel.</span><span class="sxs-lookup"><span data-stu-id="738fd-127">UMA GPUs should universally benefit from a simple optimization to reduce level-load times.</span></span> <span data-ttu-id="738fd-128">Después de reconocer UMA, la aplicación puede optimizar el [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion) inicial para rellenar las texturas que la GPU no va a modificar.</span><span class="sxs-lookup"><span data-stu-id="738fd-128">After recognizing UMA, the application can optimize out the initial [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion) to populate textures that the GPU will not modify.</span></span> <span data-ttu-id="738fd-129">En lugar de crear la textura en un montón con el \_ tipo de montón D3D12 \_ \_ predeterminado y calcular las referencias de los datos de textura a través de, la aplicación puede usar [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) para evitar comprender el diseño de textura real.</span><span class="sxs-lookup"><span data-stu-id="738fd-129">Instead of creating the texture in a heap with D3D12\_HEAP\_TYPE\_DEFAULT, and marshalling the texture data through, the application can use [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) to avoid understanding the actual texture layout.</span></span>

-   <span data-ttu-id="738fd-130">En D3D12, las texturas creadas con \_ diseño de texturas de D3D12 \_ \_ desconocidos y sin acceso de CPU son las más eficaces para la representación y el muestreo frecuente de la GPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-130">In D3D12, textures created with D3D12\_TEXTURE\_LAYOUT\_UNKNOWN and no CPU access are the most efficient for frequent GPU rendering and sampling.</span></span> <span data-ttu-id="738fd-131">Cuando se prueba el rendimiento, esas texturas se deben comparar con el \_ diseño de textura D3D12 \_ \_ desconocido con el acceso a la CPU y con el \_ estándar D3D12 \_ \_ de diseño de textura \_ SWIZZLE con acceso a la CPU y la \_ \_ \_ fila de diseño de textura D3D12 \_ principal para la compatibilidad entre adaptadores.</span><span class="sxs-lookup"><span data-stu-id="738fd-131">When performance testing, those textures should be compared against D3D12\_TEXTURE\_LAYOUT\_UNKNOWN with CPU access, and D3D12\_TEXTURE\_LAYOUT\_STANDARD\_SWIZZLE with CPU access, and D3D12\_TEXTURE\_LAYOUT\_ROW\_MAJOR for cross-adapter support.</span></span>

-   <span data-ttu-id="738fd-132">El uso \_ \_ del diseño de textura D3D12 \_ desconocido con el acceso a la CPU habilita los métodos [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), Map (lo que impide [](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap)el acceso a la aplicación al puntero) y se anula la [**asignación**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) , pero puede sacrificar la eficacia del acceso a la GPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-132">Using D3D12\_TEXTURE\_LAYOUT\_UNKNOWN with CPU access enables the methods [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) (precluding application access to pointer), and [**Unmap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap); but can sacrifice efficiency of GPU access.</span></span>

-   <span data-ttu-id="738fd-133">El uso \_ de D3D12 Texture \_ layout \_ estándar \_ SWIZZLE con acceso de CPU habilita [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), [**map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) (que devuelve un puntero válido a la [](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap)aplicación) y se puede desasignar.</span><span class="sxs-lookup"><span data-stu-id="738fd-133">Using D3D12\_TEXTURE\_LAYOUT\_STANDARD\_SWIZZLE with CPU access enables [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) (which returns a valid pointer to application), and [**Unmap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap).</span></span> <span data-ttu-id="738fd-134">También puede sacrificar la eficacia del acceso a GPU más que el diseño de textura de D3D12 \_ \_ \_ desconocido con el acceso a la CPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-134">It can also sacrifice the efficiency of GPU access more than D3D12\_TEXTURE\_LAYOUT\_UNKNOWN with CPU access.</span></span>

## <a name="overview-of-standard-swizzle"></a><span data-ttu-id="738fd-135">Información general de swizzle estándar</span><span class="sxs-lookup"><span data-stu-id="738fd-135">Overview of Standard Swizzle</span></span>

<span data-ttu-id="738fd-136">D3D12 (y D3D 11.3) introducen un diseño estándar de datos multidimensionales.</span><span class="sxs-lookup"><span data-stu-id="738fd-136">D3D12 (and D3D11.3) introduce a standard multi-dimensional data layout.</span></span> <span data-ttu-id="738fd-137">Esto se hace para permitir que varias unidades de procesamiento operen en los mismos datos sin copiar los datos ni permutación los datos entre varios diseños.</span><span class="sxs-lookup"><span data-stu-id="738fd-137">This is done to enable multiple processing units to operate on the same data without copying the data or swizzling the data between multiple layouts.</span></span> <span data-ttu-id="738fd-138">Un diseño normalizado permite mejorar la eficacia a través de los efectos de la red y permite que los algoritmos realicen cortes cortos suponiendo un patrón determinado.</span><span class="sxs-lookup"><span data-stu-id="738fd-138">A standardized layout enables efficiency gains through network effects and allows algorithms to make short-cuts assuming a particular pattern.</span></span>

<span data-ttu-id="738fd-139">Para obtener una descripción detallada de los diseños de texturas, consulte [**D3D12 \_ Texture \_ layout**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout).</span><span class="sxs-lookup"><span data-stu-id="738fd-139">For a detailed description of the texture layouts, refer to [**D3D12\_TEXTURE\_LAYOUT**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout).</span></span>

<span data-ttu-id="738fd-140">No obstante, tenga en cuenta que esta swizzle estándar es una característica de hardware y puede que no sea compatible con todas las GPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-140">Note though that this standard swizzle is a hardware feature, and may not be supported by all GPUs.</span></span>

<span data-ttu-id="738fd-141">Para obtener información general sobre permutación, consulte [la curva de orden Z](https://en.wikipedia.org/wiki/Z-order_curve).</span><span class="sxs-lookup"><span data-stu-id="738fd-141">For background information on swizzling, refer to [Z-order curve](https://en.wikipedia.org/wiki/Z-order_curve).</span></span>

## <a name="apis"></a><span data-ttu-id="738fd-142">API</span><span class="sxs-lookup"><span data-stu-id="738fd-142">APIs</span></span>

<span data-ttu-id="738fd-143">A diferencia de D3D 11.3, D3D12 admite la asignación de texturas de forma predeterminada, por lo que no es necesario consultar [**\_ \_ \_ \_ las opciones D3D12**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_d3d12_options)de los datos de la característica D3D12.</span><span class="sxs-lookup"><span data-stu-id="738fd-143">Unlike D3D11.3, D3D12 supports texture mapping by default, so there is no need to query [**D3D12\_FEATURE\_DATA\_D3D12\_OPTIONS**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_d3d12_options).</span></span> <span data-ttu-id="738fd-144">Sin embargo, D3D12 no siempre admite swizzle estándar: para consultar esta característica, se necesitará una llamada a [**CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) y se comprobará el campo *StandardSwizzle64KBSupported* de **D3D12 \_ \_ \_ \_ Opciones** de D3D12 de datos de características.</span><span class="sxs-lookup"><span data-stu-id="738fd-144">However D3D12 does not always support standard swizzle - this feature will need to be queried for with a call to [**CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) and checking the *StandardSwizzle64KBSupported* field of **D3D12\_FEATURE\_DATA\_D3D12\_OPTIONS**.</span></span>

<span data-ttu-id="738fd-145">Las siguientes API hacen referencia a la asignación de textura:</span><span class="sxs-lookup"><span data-stu-id="738fd-145">The following APIs reference texture mapping:</span></span>

<span data-ttu-id="738fd-146">Enumeraciones</span><span class="sxs-lookup"><span data-stu-id="738fd-146">Enums</span></span>

-   <span data-ttu-id="738fd-147">[**D3D12 \_ \_Diseño de textura**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout) : controla el patrón swizzle de las texturas predeterminadas y habilita la compatibilidad con asignaciones en texturas accesibles de la CPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-147">[**D3D12\_TEXTURE\_LAYOUT**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout) : controls the swizzle pattern of default textures and enable map support on CPU accessible textures.</span></span>

<span data-ttu-id="738fd-148">Estructuras</span><span class="sxs-lookup"><span data-stu-id="738fd-148">Structures</span></span>

-   <span data-ttu-id="738fd-149">[**D3D12 \_ \_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_resource_desc) . del recurso: describe un recurso, como una textura, que es una estructura que se usa con mucha frecuencia.</span><span class="sxs-lookup"><span data-stu-id="738fd-149">[**D3D12\_RESOURCE\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_resource_desc) : describes a resource, such as a texture, this is an extensively used structure.</span></span>
-   <span data-ttu-id="738fd-150">[**D3D12 \_ HEAP \_ DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_heap_desc) : describe un montón.</span><span class="sxs-lookup"><span data-stu-id="738fd-150">[**D3D12\_HEAP\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_heap_desc) : describes a heap.</span></span>

<span data-ttu-id="738fd-151">Métodos</span><span class="sxs-lookup"><span data-stu-id="738fd-151">Methods</span></span>

-   <span data-ttu-id="738fd-152">[**ID3D12Device:: CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource) : crea un único recurso y un montón de respaldo del tamaño y la alineación correctos.</span><span class="sxs-lookup"><span data-stu-id="738fd-152">[**ID3D12Device::CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource) : creates a single resource and backing heap of the right size and alignment.</span></span>
-   <span data-ttu-id="738fd-153">[**ID3D12Device:: CreateHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap) : crea un montón para un búfer o textura.</span><span class="sxs-lookup"><span data-stu-id="738fd-153">[**ID3D12Device::CreateHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap) : creates a heap for a buffer or texture.</span></span>
-   <span data-ttu-id="738fd-154">[**ID3D12Device:: CreatePlacedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createplacedresource) : crea un recurso que se coloca en un montón específico, normalmente un método más rápido para crear un recurso que [**CreateHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap).</span><span class="sxs-lookup"><span data-stu-id="738fd-154">[**ID3D12Device::CreatePlacedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createplacedresource) : creates a resource that is placed in a specific heap, usually a faster method of creating a resource than [**CreateHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap).</span></span>
-   <span data-ttu-id="738fd-155">[**ID3D12Device:: CreateReservedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createreservedresource) : crea un recurso que está reservado pero que todavía no se ha confirmado ni colocado en un montón.</span><span class="sxs-lookup"><span data-stu-id="738fd-155">[**ID3D12Device::CreateReservedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createreservedresource) : creates a resource that is reserved but not yet committed or placed in a heap.</span></span>
-   <span data-ttu-id="738fd-156">[**ID3D12CommandQueue:: UpdateTileMappings**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) : actualiza las asignaciones de ubicaciones de iconos en recursos en mosaico a ubicaciones de memoria en un montón de recursos.</span><span class="sxs-lookup"><span data-stu-id="738fd-156">[**ID3D12CommandQueue::UpdateTileMappings**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) : updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span>
-   <span data-ttu-id="738fd-157">[**ID3D12Resource:: Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) : obtiene un puntero a los datos especificados en el recurso y deniega el acceso de la GPU al subrecurso.</span><span class="sxs-lookup"><span data-stu-id="738fd-157">[**ID3D12Resource::Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) : gets a pointer to the specified data in the resource, and denies the GPU access to the subresource.</span></span>
-   <span data-ttu-id="738fd-158">[**ID3D12Resource:: GetDesc**](id3d12resource-getdesc.md) : obtiene las propiedades del recurso.</span><span class="sxs-lookup"><span data-stu-id="738fd-158">[**ID3D12Resource::GetDesc**](id3d12resource-getdesc.md) : gets the resource properties.</span></span>
-   <span data-ttu-id="738fd-159">[**ID3D12Heap:: GetDesc**](id3d12heap-getdesc.md) obtiene las propiedades del montón.</span><span class="sxs-lookup"><span data-stu-id="738fd-159">[**ID3D12Heap::GetDesc**](id3d12heap-getdesc.md) gets the heap properties.</span></span>
-   <span data-ttu-id="738fd-160">[**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) : copia datos de una textura que se asignó mediante [**map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span><span class="sxs-lookup"><span data-stu-id="738fd-160">[**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) : copies data from a texture which was mapped using [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span></span>
-   <span data-ttu-id="738fd-161">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) : copia los datos en una textura que se asignó mediante [**map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span><span class="sxs-lookup"><span data-stu-id="738fd-161">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) : copies data into a texture which was mapped using [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span></span>

<span data-ttu-id="738fd-162">Los recursos y los montones primarios tienen requisitos de alineación:</span><span class="sxs-lookup"><span data-stu-id="738fd-162">Resources and parent heaps have alignment requirements:</span></span>

-   <span data-ttu-id="738fd-163">D3D12 \_ \_ \_ \_ \_ : alineación de ubicación de recursos de MSAA predeterminada (4MB) para texturas de varios ejemplos.</span><span class="sxs-lookup"><span data-stu-id="738fd-163">D3D12\_DEFAULT\_MSAA\_RESOURCE\_PLACEMENT\_ALIGNMENT (4MB) for multi-sample textures.</span></span>
-   <span data-ttu-id="738fd-164">D3D12 \_ \_ \_ \_ : alineación de ubicación de recursos predeterminada (64 KB) para texturas y búferes de ejemplo únicos.</span><span class="sxs-lookup"><span data-stu-id="738fd-164">D3D12\_DEFAULT\_RESOURCE\_PLACEMENT\_ALIGNMENT (64KB) for single sample textures and buffers.</span></span>
-   <span data-ttu-id="738fd-165">La copia de Subrecursos lineal debe estar alineada con la alineación de colocación de datos de textura de D3D12 \_ \_ \_ \_ (512 bytes), con un paso de fila alineado con la alineación de tono de datos de D3D12 \_ \_ \_ \_ (256 bytes).</span><span class="sxs-lookup"><span data-stu-id="738fd-165">Linear subresource copying must be aligned to D3D12\_TEXTURE\_DATA\_PLACEMENT\_ALIGNMENT (512 bytes), with row pitch being aligned to D3D12\_TEXTURE\_DATA\_PITCH\_ALIGNMENT (256 bytes).</span></span>
-   <span data-ttu-id="738fd-166">Las vistas de búfer de constantes se deben alinear con la \_ alineación de colocación de datos de búfer constante D3D12 \_ \_ \_ \_ (256 bytes).</span><span class="sxs-lookup"><span data-stu-id="738fd-166">Constant buffer views must be aligned to D3D12\_CONSTANT\_BUFFER\_DATA\_PLACEMENT\_ALIGNMENT (256 bytes).</span></span>

<span data-ttu-id="738fd-167">Las texturas menores que 64 KB se deben procesar a través de [**CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource).</span><span class="sxs-lookup"><span data-stu-id="738fd-167">Textures smaller than 64KB should be processed through [**CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource).</span></span>

<span data-ttu-id="738fd-168">Con las texturas dinámicas (texturas que cambian cada fotograma), la CPU escribirá linealmente en el montón de carga, seguida de una operación de copia de GPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-168">With dynamic textures (textures that change every frame) the CPU will write linearly to the upload heap, followed by a GPU copy operation.</span></span>

<span data-ttu-id="738fd-169">Normalmente, para crear recursos dinámicos, cree un búfer grande en un montón de carga (consulte [subasignación dentro de búferes](large-buffers.md)).</span><span class="sxs-lookup"><span data-stu-id="738fd-169">Typically to create dynamic resources create a large buffer in an upload heap (refer to [Suballocation Within Buffers](large-buffers.md)).</span></span> <span data-ttu-id="738fd-170">Para crear recursos de almacenamiento provisional, cree un búfer grande en un montón de readback.</span><span class="sxs-lookup"><span data-stu-id="738fd-170">To create staging resources, create a large buffer in a readback heap.</span></span> <span data-ttu-id="738fd-171">Para crear recursos estáticos predeterminados, cree recursos adyacentes en un montón predeterminado.</span><span class="sxs-lookup"><span data-stu-id="738fd-171">To create default static resources, create adjacent resources in a default heap.</span></span> <span data-ttu-id="738fd-172">Para crear recursos con alias predeterminados, cree recursos superpuestos en un montón predeterminado.</span><span class="sxs-lookup"><span data-stu-id="738fd-172">To create default aliased resources, create overlapping resources in a default heap.</span></span>

<span data-ttu-id="738fd-173">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) y [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) reorganizan los datos de textura entre un diseño de fila principal y un diseño de recursos sin definir.</span><span class="sxs-lookup"><span data-stu-id="738fd-173">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) and [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) rearrange texture data between a row-major layout and an undefined resource layout.</span></span> <span data-ttu-id="738fd-174">La operación es sincrónica, por lo que la aplicación debe tener en cuenta la programación de la CPU.</span><span class="sxs-lookup"><span data-stu-id="738fd-174">The operation is synchronous, so the application should keep CPU scheduling in mind.</span></span> <span data-ttu-id="738fd-175">La aplicación siempre puede dividir la copia en regiones más pequeñas o programar esta operación en otra tarea.</span><span class="sxs-lookup"><span data-stu-id="738fd-175">The application can always break up the copying into smaller regions or schedule this operation in another task.</span></span> <span data-ttu-id="738fd-176">Las operaciones de copia de la CPU no admiten los recursos de MSAA y los recursos de estarcido de profundidad con diseños de recursos opacos y se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="738fd-176">MSAA resources and depth-stencil resources with opaque resource layouts are not supported by these CPU copy operations, and will cause a failure.</span></span> <span data-ttu-id="738fd-177">Tampoco se admiten los formatos que no tienen un tamaño de elemento de potencia de dos y también producirán un error.</span><span class="sxs-lookup"><span data-stu-id="738fd-177">Formats which don’t have a power-of-two element size are also not supported and will also cause a failure.</span></span> <span data-ttu-id="738fd-178">Se pueden producir códigos de retorno de memoria insuficiente.</span><span class="sxs-lookup"><span data-stu-id="738fd-178">Out of memory return codes can occur.</span></span>

## <a name="related-topics"></a><span data-ttu-id="738fd-179">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="738fd-179">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="738fd-180">**Constantes básicas**</span><span class="sxs-lookup"><span data-stu-id="738fd-180">**Core Constants**</span></span>](constants.md)
</dt> <dt>

[<span data-ttu-id="738fd-181">**ID3D12Heap**</span><span class="sxs-lookup"><span data-stu-id="738fd-181">**ID3D12Heap**</span></span>](/windows/desktop/api/d3d12/nn-d3d12-id3d12heap)
</dt> <dt>

[<span data-ttu-id="738fd-182">Enlace de recursos</span><span class="sxs-lookup"><span data-stu-id="738fd-182">Resource Binding</span></span>](resource-binding.md)
</dt> </dl>

 

 




