---
description: 'Para admitir una operación de copia de seguridad incremental o diferencial, un solicitante debe hacer lo siguiente:'
ms.assetid: a77700e3-8217-460e-bec9-1041d03eec41
title: Rol de solicitante en copias de seguridad incrementales y diferenciales de VSS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 718a5a0b22d9cc1cfa31404b3a0ac71a3a07731f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105696978"
---
# <a name="requester-role-in-vss-incremental-and-differential-backups"></a><span data-ttu-id="91b79-103">Rol de solicitante en copias de seguridad incrementales y diferenciales de VSS</span><span class="sxs-lookup"><span data-stu-id="91b79-103">Requester Role in VSS Incremental and Differential Backups</span></span>

<span data-ttu-id="91b79-104">Para admitir una operación de copia de seguridad [*incremental*](vssgloss-i.md) o [*diferencial*](vssgloss-d.md) , un solicitante debe hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="91b79-104">To support an [*incremental*](vssgloss-i.md) or [*differential*](vssgloss-d.md) backup operation, a requester must do the following:</span></span>

1.  <span data-ttu-id="91b79-105">Determine qué grado de compatibilidad con el escritor está disponible (mediante [**IVssBackupComponents:: GetWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) para obtener acceso a la información de los documentos de metadatos del escritor), en concreto, para determinar qué esquema de copia de seguridad se admite ([**\_ \_ esquema de copia de seguridad de VSS**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema)).</span><span class="sxs-lookup"><span data-stu-id="91b79-105">Determine what degree of writer support is available (using [**IVssBackupComponents::GetWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) to get access to information in Writer Metadata Documents)—in particular, determine which backup schema are supported ([**VSS\_BACKUP\_SCHEMA**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema)).</span></span>
2.  <span data-ttu-id="91b79-106">Establezca un estado de copia de seguridad adecuado.</span><span class="sxs-lookup"><span data-stu-id="91b79-106">Set an appropriate backup state.</span></span>
3.  <span data-ttu-id="91b79-107">Obtener especificaciones de nivel de archivo y de conjunto de archivos para una copia de seguridad incremental o diferencial.</span><span class="sxs-lookup"><span data-stu-id="91b79-107">Obtain file and file set level specifications for an incremental or differential backup.</span></span>
4.  <span data-ttu-id="91b79-108">Realice la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="91b79-108">Perform the backup.</span></span>

## <a name="requester-determination-of-incremental-and-differential-support-and-configuration"></a><span data-ttu-id="91b79-109">Determinación del solicitante de compatibilidad y configuración incremental y diferencial</span><span class="sxs-lookup"><span data-stu-id="91b79-109">Requester Determination of Incremental and Differential Support and Configuration</span></span>

<span data-ttu-id="91b79-110">Un solicitante debe obtener información sobre la compatibilidad del escritor antes de seleccionar los componentes para su inclusión en una copia de seguridad incremental o diferencial, o bien establecer su propio estado.</span><span class="sxs-lookup"><span data-stu-id="91b79-110">A requester needs to obtain information about writer support prior to selecting components for inclusion in an incremental or differential backup or setting its own state.</span></span>

<dl> <dt>

<span data-ttu-id="91b79-111"><span id="Determining_Writer_Support"></span><span id="determining_writer_support"></span><span id="DETERMINING_WRITER_SUPPORT"></span>Determinar la compatibilidad del escritor</span><span class="sxs-lookup"><span data-stu-id="91b79-111"><span id="Determining_Writer_Support"></span><span id="determining_writer_support"></span><span id="DETERMINING_WRITER_SUPPORT"></span>Determining Writer Support</span></span>
</dt> <dd>

<span data-ttu-id="91b79-112">Un solicitante determina si un escritor determinado admite copias de seguridad incrementales o diferenciales de VSS mediante la recuperación de la máscara del esquema de copia de seguridad del escritor mediante el método [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema) .</span><span class="sxs-lookup"><span data-stu-id="91b79-112">A requester determines if a given writer supports VSS incremental or differential backups by retrieving the writer's backup schema mask using the [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema) method.</span></span>

<span data-ttu-id="91b79-113">La máscara del esquema de copia de seguridad de un escritor que admite técnicas incrementales o diferenciales de VSS contendrá la diferencia de VSS **\_ BS \_ incremental** o de **VSS \_ BS \_**, o ambos.</span><span class="sxs-lookup"><span data-stu-id="91b79-113">The backup schema mask of a writer supporting VSS incremental or differential techniques will contain either **VSS\_BS\_INCREMENTAL** or **VSS\_BS\_DIFFERENTIAL**, or both.</span></span> <span data-ttu-id="91b79-114">Los escritores también pueden indicar restricciones en su participación con la marca **\_ \_ \_ \_ diferencial incremental exclusiva de VSS BS** .</span><span class="sxs-lookup"><span data-stu-id="91b79-114">Writers may also indicate restrictions on their participation with the **VSS\_BS\_EXCLUSIVE\_INCREMENTAL\_DIFFERENTIAL** flag.</span></span> <span data-ttu-id="91b79-115">(Consulte [**\_ \_ esquema de copia de seguridad de VSS**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) para obtener más información sobre los esquemas de copia de seguridad).</span><span class="sxs-lookup"><span data-stu-id="91b79-115">(See [**VSS\_BACKUP\_SCHEMA**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) for more information on backup schemas).</span></span>

</dd> <dt>

<span data-ttu-id="91b79-116"><span id="Setting_Requester_Backup_State"></span><span id="setting_requester_backup_state"></span><span id="SETTING_REQUESTER_BACKUP_STATE"></span>Establecer el estado de copia de seguridad del solicitante</span><span class="sxs-lookup"><span data-stu-id="91b79-116"><span id="Setting_Requester_Backup_State"></span><span id="setting_requester_backup_state"></span><span id="SETTING_REQUESTER_BACKUP_STATE"></span>Setting Requester Backup State</span></span>
</dt> <dd>

<span data-ttu-id="91b79-117">Un solicitante indica que una copia de seguridad es una copia de seguridad incremental o diferencial mediante la configuración de un tipo de copia de seguridad en la diferencia **\_ \_ incremental** de VSS BT o en la **\_ \_ diferencial de VSS BT** mediante el método [**IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) antes de generar un evento [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) .</span><span class="sxs-lookup"><span data-stu-id="91b79-117">A requester indicates that a backup is an incremental or differential backup by setting a backup type to either **VSS\_BT\_INCREMENTAL** or **VSS\_BT\_DIFFERENTIAL** using the [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) method prior to generating a [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event.</span></span>

<span data-ttu-id="91b79-118">El método [**IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) también se usa para indicar si el solicitante proporciona [*compatibilidad parcial con archivos*](vssgloss-p.md), que se usa con frecuencia para implementar ciertas operaciones de copia de seguridad y restauración incrementales.</span><span class="sxs-lookup"><span data-stu-id="91b79-118">The [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) method is also used to indicate whether the requester provides [*partial file support*](vssgloss-p.md), which is frequently used to implement certain incremental backup and restore operations.</span></span>

</dd> </dl>

## <a name="getting-writer-specifications-for-incremental-and-differential-backups"></a><span data-ttu-id="91b79-119">Obtener especificaciones de escritor para copias de seguridad incrementales y diferenciales</span><span class="sxs-lookup"><span data-stu-id="91b79-119">Getting Writer Specifications for Incremental and Differential Backups</span></span>

<span data-ttu-id="91b79-120">La información de especificación de copia de seguridad de archivos de nivel de conjunto de archivos ([**\_ tipo de copia de \_ \_ seguridad \_ de especificación de archivo VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) contenida en el documento de metadatos del escritor de cada escritor está disponible para su examen después de la devolución correcta de [**IVssBackupComponents:: GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span><span class="sxs-lookup"><span data-stu-id="91b79-120">The file-set-level file backup specification information ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) contained in each writer's Writer Metadata Document is available for examination after the successful return of [**IVssBackupComponents::GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span></span>

<span data-ttu-id="91b79-121">Sin embargo, un escritor puede agregar [*archivos diferenciados*](vssgloss-d.md) o pedir [*compatibilidad con archivos parciales*](vssgloss-p.md) hasta que el control del evento de [*instantáneas*](vssgloss-p.md) sea correcto.</span><span class="sxs-lookup"><span data-stu-id="91b79-121">However, a writer can add [*differenced files*](vssgloss-d.md) or ask for [*partial file support*](vssgloss-p.md) until its successful handling of the [*PostSnapshot*](vssgloss-p.md) event.</span></span>

<span data-ttu-id="91b79-122">La especificación de compatibilidad con archivos diferenciados y archivos parciales puede invalidar el tipo de copia de seguridad de especificación de archivo, por lo que es posible que los solicitantes deseen aplazar un análisis completo de todas las especificaciones del escritor sobre las copias de seguridad incrementales y diferenciales hasta después de la devolución correcta de [**IVssBackupComponents::P repareforbackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup).</span><span class="sxs-lookup"><span data-stu-id="91b79-122">Differenced file and partial file support specification can override the file specification backup type, so requesters may want to defer a full analysis of all writer specifications about incremental and differential backups until after the successful return of [**IVssBackupComponents::PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup).</span></span>

<dl> <dt>

<span data-ttu-id="91b79-123"><span id="Getting_File_Backup_Specification_Information"></span><span id="getting_file_backup_specification_information"></span><span id="GETTING_FILE_BACKUP_SPECIFICATION_INFORMATION"></span>Obtención de información de especificación de copias de seguridad de archivos</span><span class="sxs-lookup"><span data-stu-id="91b79-123"><span id="Getting_File_Backup_Specification_Information"></span><span id="getting_file_backup_specification_information"></span><span id="GETTING_FILE_BACKUP_SPECIFICATION_INFORMATION"></span>Getting File Backup Specification Information</span></span>
</dt> <dd>

<span data-ttu-id="91b79-124">La información de especificación de copia de seguridad de archivos de nivel de conjunto de archivos ([**\_ tipo de copia de \_ \_ seguridad \_ de especificación de archivo de VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) se incluye en el documento de metadatos del escritor de cada escritor y se puede examinar inmediatamente después de la devolución correcta de [**IVssBackupComponents:: GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span><span class="sxs-lookup"><span data-stu-id="91b79-124">The file-set-level file backup specification information ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) is contained in each writer's Writer Metadata Document, and can be examined immediately after the successful return of [**IVssBackupComponents::GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span></span>

<span data-ttu-id="91b79-125">Los solicitantes deben obtener las máscaras de especificación de copia de seguridad de archivos ([**tipo de \_ copia de \_ \_ seguridad \_ de especificación de archivo de VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) para cada conjunto de archivos de los componentes de un escritor que se van a incluir en la copia de seguridad incremental o diferencial, independientemente de si el componente se incluyó [*explícita*](vssgloss-e.md) o [*implícitamente*](vssgloss-i.md) .</span><span class="sxs-lookup"><span data-stu-id="91b79-125">Requesters must obtain file backup specification masks ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) for every file set of each of a writer's components to be included in the incremental or differential backup, regardless of whether the component was [*explicitly*](vssgloss-e.md) or [*implicitly*](vssgloss-i.md) included.</span></span>

<span data-ttu-id="91b79-126">Un solicitante puede determinar qué documento de metadatos del escritor de escritores se debe consultar mediante [**IVssBackupComponents:: GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) y [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span><span class="sxs-lookup"><span data-stu-id="91b79-126">A requester can determine which writers' Writer Metadata Document must be queried by using [**IVssBackupComponents::GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) and [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span></span> <span data-ttu-id="91b79-127">La instancia de la interfaz [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) devuelta por **IVssBackupComponents:: GetWriterComponents** proporciona información del escritor a través del método [**IVssWriterComponentsExt:: GetWriterInfo**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getwriterinfo) .</span><span class="sxs-lookup"><span data-stu-id="91b79-127">The instance of the [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) interface returned by **IVssBackupComponents::GetWriterComponents** provides writer information through the [**IVssWriterComponentsExt::GetWriterInfo**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getwriterinfo) method.</span></span>

<span data-ttu-id="91b79-128">El solicitante obtiene información de componentes a través de instancias de la interfaz [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) correspondiente a un componente incluido administrado por un escritor determinado mediante [**IVssExamineWriterMetadata:: getComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getcomponent).</span><span class="sxs-lookup"><span data-stu-id="91b79-128">The requester obtains component information through instances of the [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) interface corresponding to an included component managed by a given writer by using [**IVssExamineWriterMetadata::GetComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getcomponent).</span></span>

<span data-ttu-id="91b79-129">La información sobre los conjuntos de archivos administrados por el componente correspondiente a la interfaz [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) se obtiene mediante llamadas a [**IVssWMComponent:: GetFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getfile), [**IVssWMComponent:: GetDatabaseFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabasefile)o [**IVssWMComponent:: GetDatabaseLogFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile) (según corresponda).</span><span class="sxs-lookup"><span data-stu-id="91b79-129">The information about file sets managed by the component corresponding to the [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) interface is obtained by calls to [**IVssWMComponent::GetFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getfile), [**IVssWMComponent::GetDatabaseFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabasefile), or [**IVssWMComponent::GetDatabaseLogFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile) (as appropriate).</span></span>

<span data-ttu-id="91b79-130">Estas llamadas pueden devolver instancias de la interfaz [**IVssWMFiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc) para cada uno de los conjuntos de archivos de un componente.</span><span class="sxs-lookup"><span data-stu-id="91b79-130">These calls can return instances of the [**IVssWMFiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc) interface for each of a component's file sets.</span></span>

<span data-ttu-id="91b79-131">El tipo de copia de seguridad de especificación de archivo de un conjunto de archivos se obtiene llamando a [**IVssWMFiledesc:: GetBackupTypeMask**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswmfiledesc-getbackuptypemask).</span><span class="sxs-lookup"><span data-stu-id="91b79-131">A file set's file specification backup type is obtained by calling [**IVssWMFiledesc::GetBackupTypeMask**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswmfiledesc-getbackuptypemask).</span></span>

</dd> <dt>

<span data-ttu-id="91b79-132"><span id="Getting_Partial_File_and_Differenced_File_Information"></span><span id="getting_partial_file_and_differenced_file_information"></span><span id="GETTING_PARTIAL_FILE_AND_DIFFERENCED_FILE_INFORMATION"></span>Obtención de información de archivos parciales y de diferencias</span><span class="sxs-lookup"><span data-stu-id="91b79-132"><span id="Getting_Partial_File_and_Differenced_File_Information"></span><span id="getting_partial_file_and_differenced_file_information"></span><span id="GETTING_PARTIAL_FILE_AND_DIFFERENCED_FILE_INFORMATION"></span>Getting Partial File and Differenced File Information</span></span>
</dt> <dd>

<span data-ttu-id="91b79-133">Un solicitante obtiene información de archivos parciales y de diferencias a través de la interfaz [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) .</span><span class="sxs-lookup"><span data-stu-id="91b79-133">A requester obtains partial file and differenced file information through the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface.</span></span>

<span data-ttu-id="91b79-134">Un solicitante puede recorrer en iteración todos los escritores incluidos en una copia de seguridad mediante [**IVssBackupComponents:: GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) y [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span><span class="sxs-lookup"><span data-stu-id="91b79-134">A requester can iterate over all writers included in a backup using [**IVssBackupComponents::GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) and [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span></span>

<span data-ttu-id="91b79-135">La instancia de una interfaz [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) devuelta por [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents) proporciona acceso a todas las instancias de la interfaz [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) correspondiente a los componentes [*incluidos explícitamente*](vssgloss-e.md) de un escritor determinado a través de los métodos [**IVssWriterComponentsExt:: getComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponent) y [**IVssWriterComponentsExt:: GetComponentCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponentcount) .</span><span class="sxs-lookup"><span data-stu-id="91b79-135">The instance of an [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) interface returned by [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents) provides access to all instances of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface corresponding to a given writer's [*explicitly included*](vssgloss-e.md) components through the [**IVssWriterComponentsExt::GetComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponent) and [**IVssWriterComponentsExt::GetComponentCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponentcount) methods.</span></span>

<span data-ttu-id="91b79-136">Un solicitante tendrá que recorrer todas las instancias de [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) para todos los escritores cuyo esquema sea compatible con la copia de seguridad incremental o diferencial, es decir, los escritores cuya máscara de esquema de copia de seguridad, tal como la devuelve [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), incluye el servicio de **VSS \_ BS \_ incremental** cuando el tipo de copia de seguridad **es \_ \_** **\_ \_ incremental de VSS BT** o la **diferencia de VSS \_ BS \_**</span><span class="sxs-lookup"><span data-stu-id="91b79-136">A requester will need to go through all instances of [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) for all writers whose schema support the incremental or differential backup—that is, writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_INCREMENTAL** when the backup type is **VSS\_BT\_INCREMENTAL**, or **VSS\_BS\_DIFFERENTIAL** when the backup type is **VSS\_BS\_DIFFERENTIAL**.</span></span>

<span data-ttu-id="91b79-137">La información de los archivos parciales se obtiene mediante una llamada a [**IVssComponent:: GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount) y [**IVssComponent:: GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile) (consulte [trabajar con archivos parciales](working-with-partial-files.md)).</span><span class="sxs-lookup"><span data-stu-id="91b79-137">Partial file information is obtained by calling [**IVssComponent::GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount) and [**IVssComponent::GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile) (see [Working with Partial Files](working-with-partial-files.md)).</span></span>

<span data-ttu-id="91b79-138">Para los sistemas de escritura que admiten operaciones de copia de seguridad en función de los datos de última modificación de un archivo (escritores cuya máscara de esquema de copia de seguridad, tal como la devuelve [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), incluye la **\_ \_ última \_ modificación de VSS BS**), la información de archivos diferenciados se obtiene llamando a [**IVssComponent:: GetDifferencedFilesCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfilescount) y [**IVssComponent:: GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile).</span><span class="sxs-lookup"><span data-stu-id="91b79-138">For writers that support backup operations on the basis of a file's last modification data (writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_LAST\_MODIFY**), differenced file information is obtained by calling [**IVssComponent::GetDifferencedFilesCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfilescount) and [**IVssComponent::GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile).</span></span>

<span data-ttu-id="91b79-139">Tenga en cuenta que los archivos diferenciados pueden ser archivos nuevos, es decir, archivos que no son miembros de ningún archivo establecido actualmente en el documento de metadatos del escritor de un escritor determinado.</span><span class="sxs-lookup"><span data-stu-id="91b79-139">Note that differenced files may be new files—that is, files that are not members of any file set currently in a given writer's Writer Metadata Document.</span></span>

<span data-ttu-id="91b79-140">Los solicitantes no deben encontrar los archivos incluidos tanto para las operaciones de archivo parciales como para los archivos diferenciados.</span><span class="sxs-lookup"><span data-stu-id="91b79-140">Requesters should not find files included both for partial file operations and as differenced files.</span></span> <span data-ttu-id="91b79-141">Si un solicitante detecta este tipo de circunstancias, debe devolver y registrar un error del escritor.</span><span class="sxs-lookup"><span data-stu-id="91b79-141">If a requester does encounter such a circumstance, it should return and log a writer error.</span></span>

<span data-ttu-id="91b79-142">Un solicitante puede seguir optando por continuar con la copia de seguridad de los archivos del escritor problemático, pero en ese caso debe hacerlo de acuerdo con la especificación que se encuentra en la información sobre el archivo diferenciado.</span><span class="sxs-lookup"><span data-stu-id="91b79-142">A requester may still choose to proceed with backing up the problematic writer's files, but in that case should do so according to the specification found in the differenced file information.</span></span>

</dd> </dl>

## <a name="implementing-incremental-or-differential-backups"></a><span data-ttu-id="91b79-143">Implementar copias de seguridad incrementales o diferenciales</span><span class="sxs-lookup"><span data-stu-id="91b79-143">Implementing Incremental or Differential Backups</span></span>

<span data-ttu-id="91b79-144">Antes de implementar una copia de seguridad, los solicitantes deben tener información sobre qué escritores admiten una copia de seguridad [*incremental*](vssgloss-i.md) o [*diferencial*](vssgloss-d.md) , todas las operaciones de archivos parciales solicitadas, todos los archivos diferenciados y el tipo de copia de seguridad de especificación de archivo de todos los demás archivos.</span><span class="sxs-lookup"><span data-stu-id="91b79-144">Prior to implementing a backup, requesters should have information about which writers support an [*incremental*](vssgloss-i.md) or [*differential*](vssgloss-d.md) backup, all requested partial file operations, all differenced files, and the file specification backup type of all other files.</span></span>

<dl> <dt>

<span data-ttu-id="91b79-145"><span id="Nonsupporting_Writers"></span><span id="nonsupporting_writers"></span><span id="NONSUPPORTING_WRITERS"></span>Escritores no compatibles</span><span class="sxs-lookup"><span data-stu-id="91b79-145"><span id="Nonsupporting_Writers"></span><span id="nonsupporting_writers"></span><span id="NONSUPPORTING_WRITERS"></span>Nonsupporting Writers</span></span>
</dt> <dd>

<span data-ttu-id="91b79-146">Los escritores cuyo esquema no admiten la copia de seguridad incremental o diferencial (escritores cuya máscara de esquema de copia de seguridad, tal y como la devuelven [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), incluye **VSS \_ BS \_ incremental** cuando el tipo de copia de seguridad es de **VSS \_ BT \_ incremental** o no incluye la **\_ \_ diferencia diferencial de VSS BS** cuando el tipo de copia de seguridad es el **\_ \_ diferencial de VSS**</span><span class="sxs-lookup"><span data-stu-id="91b79-146">Writers whose schema do not support the incremental or differential backup (writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_INCREMENTAL** when the backup type is **VSS\_BT\_INCREMENTAL** or does not include **VSS\_BS\_DIFFERENTIAL** when the backup type is **VSS\_BS\_DIFFERENTIAL**) cannot provide any direct support to an incremental or differential backup operation.</span></span>

<span data-ttu-id="91b79-147">Esto no significa necesariamente que los datos de los escritores no vayan a participar en una operación de copia de seguridad incremental o diferencial.</span><span class="sxs-lookup"><span data-stu-id="91b79-147">This does not necessarily mean that the writers' data will not be involved in an incremental or differential backup operation.</span></span> <span data-ttu-id="91b79-148">Sin embargo, la elección de lo que se debe hacer es a discreción del solicitante.</span><span class="sxs-lookup"><span data-stu-id="91b79-148">However, the choice of what to do is at the discretion of the requester.</span></span> <span data-ttu-id="91b79-149">El solicitante puede realizar cualquiera de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="91b79-149">The requester can do any of the following:</span></span>

-   <span data-ttu-id="91b79-150">Hacer copia de seguridad de archivos que no pertenecen a los escritores que no son compatibles (lo indican claramente al usuario)</span><span class="sxs-lookup"><span data-stu-id="91b79-150">Back up no files belonging to the nonsupporting writers (clearly indicate this to the user)</span></span>
-   <span data-ttu-id="91b79-151">Copia de seguridad de todos los archivos de escritores que no son compatibles</span><span class="sxs-lookup"><span data-stu-id="91b79-151">Back up all the files of nonsupporting writers</span></span>
-   <span data-ttu-id="91b79-152">Realice una copia de seguridad incremental con los datos del sistema de archivos y los registros de historial propios del solicitante.</span><span class="sxs-lookup"><span data-stu-id="91b79-152">Perform an incremental backup using file system data and the requester's own history logs.</span></span>

<span data-ttu-id="91b79-153">La última alternativa debe usarse con gran cuidado y solo si el solicitante entiende si los escritores implicados pueden admitir copias de seguridad incrementales o diferenciales y restauraciones de datos independientes del mecanismo de VSS.</span><span class="sxs-lookup"><span data-stu-id="91b79-153">The last alternative should be used with great care, and only if the requester understands if the writers involved can support incremental or differential backup and restoration of data independent of the VSS mechanism.</span></span>

</dd> <dt>

<span data-ttu-id="91b79-154"><span id="Supporting_Writers"></span><span id="supporting_writers"></span><span id="SUPPORTING_WRITERS"></span>Escritores compatibles</span><span class="sxs-lookup"><span data-stu-id="91b79-154"><span id="Supporting_Writers"></span><span id="supporting_writers"></span><span id="SUPPORTING_WRITERS"></span>Supporting Writers</span></span>
</dt> <dd>

<span data-ttu-id="91b79-155">Un solicitante debe procesar (en orden) todos los [*archivos diferenciados*](vssgloss-d.md)del escritor, administrar las solicitudes de [*archivos parciales*](vssgloss-p.md) y, a continuación, hacer una copia de seguridad de los archivos restantes según el tipo de copia de seguridad de especificación de archivo ([**\_ tipo de copia de \_ \_ seguridad \_**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)de especificación de archivo de VSS).</span><span class="sxs-lookup"><span data-stu-id="91b79-155">A requester needs to process (in order) all of a writer's [*differenced files*](vssgloss-d.md), then handle any [*partial file*](vssgloss-p.md) requests, and then back up remaining files according to their file specification backup type ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)).</span></span>

1.  <span data-ttu-id="91b79-156">**Copia de seguridad de archivos diferenciados:**</span><span class="sxs-lookup"><span data-stu-id="91b79-156">**Backing up Differenced Files:**</span></span>

    <span data-ttu-id="91b79-157">Para escritores que admiten operaciones de copia de seguridad en función de los datos de última modificación (escritores cuya máscara de esquema de copia de seguridad, tal como la devuelve [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), incluye la **\_ \_ última \_ modificación de VSS BS**), un solicitante utiliza la ruta de acceso, la especificación de archivo y la información de marca de recursividad devuelta por [**IVssComponent:: GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) para generar una lista de archivos</span><span class="sxs-lookup"><span data-stu-id="91b79-157">For writers that support backup operations on the basis of last modification data (writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_LAST\_MODIFY**), a requester uses the path, file specification, and recursion flag information returned by [**IVssComponent::GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) to generate a list of files as candidates for incremental backup or restore.</span></span>

    <span data-ttu-id="91b79-158">[**IVssComponent:: GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) también puede devolver una hora de última modificación (expresada como una estructura [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) ).</span><span class="sxs-lookup"><span data-stu-id="91b79-158">[**IVssComponent::GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) can also return a time of last modification (expressed as a [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) structure).</span></span>

    <span data-ttu-id="91b79-159">Si la hora de la última modificación proporcionada por el sistema de escritura es distinta de cero, el solicitante la usa como base (en lugar de la información del sistema de archivos o los datos almacenados propios del solicitante) para determinar si el archivo debe incluirse en la copia de seguridad [*incremental*](vssgloss-i.md) o [*diferencial*](vssgloss-d.md) .</span><span class="sxs-lookup"><span data-stu-id="91b79-159">If the last modification time supplied by the writer is nonzero, then the requester uses it as the basis (rather than file system information or the requester's own stored data) for determining if the file should be included in the [*incremental*](vssgloss-i.md) or [*differential*](vssgloss-d.md) backup.</span></span>

    <span data-ttu-id="91b79-160">Por ejemplo, si la hora de la última modificación de un archivo devuelta por el escritor era:</span><span class="sxs-lookup"><span data-stu-id="91b79-160">For instance, if a file's last modification time as returned by the writer was:</span></span>

    -   <span data-ttu-id="91b79-161">Después de la última copia de seguridad completa, el archivo debe estar incluido en las copias de seguridad incrementales y diferenciales.</span><span class="sxs-lookup"><span data-stu-id="91b79-161">After the last full backup, the file should be included in both incremental and differential backups.</span></span>
    -   <span data-ttu-id="91b79-162">Después de la última copia de seguridad completa, pero antes de la última copia de seguridad incremental, el archivo debe incluirse en las operaciones de copia de seguridad incremental, pero no en las copias de seguridad diferenciales.</span><span class="sxs-lookup"><span data-stu-id="91b79-162">After the last full backup but prior to the last incremental backup, the file should be included in incremental backup operations, but not differential backups.</span></span>

    <span data-ttu-id="91b79-163">Si la hora de la última modificación proporcionada por el escritor es cero, el solicitante debe utilizar la información del sistema de archivos y sus propios datos almacenados para determinar la hora de modificación del archivo diferenciado.</span><span class="sxs-lookup"><span data-stu-id="91b79-163">If the last modification time supplied by the writer is zero, then the requester must use file system information and its own stored data to determine the modification time of the differenced file.</span></span>

2.  <span data-ttu-id="91b79-164">**Uso de operaciones de archivo parciales:**</span><span class="sxs-lookup"><span data-stu-id="91b79-164">**Using Partial File Operations:**</span></span>

    <span data-ttu-id="91b79-165">Si un escritor ha solicitado que se realice una copia de seguridad de un archivo mediante una operación de archivo parcial, el solicitante usa la información de desplazamiento de archivo para guardar los segmentos de archivo indicados en el medio de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="91b79-165">If a writer has requested that a file be backed up using a partial file operation, the requester uses the file offset information to save the indicated file segments to backup media.</span></span> <span data-ttu-id="91b79-166">(Consulte [trabajar con archivos parciales](working-with-partial-files.md) para obtener más información sobre las operaciones de archivos parciales).</span><span class="sxs-lookup"><span data-stu-id="91b79-166">(See [Working with Partial Files](working-with-partial-files.md) for more information on partial file operations).</span></span>

    <span data-ttu-id="91b79-167">Como se indicó anteriormente, un escritor no debe designar un archivo como un archivo diferenciado y como participante en una operación de archivo parcial.</span><span class="sxs-lookup"><span data-stu-id="91b79-167">As noted above, a writer should not designate a file both as a differenced file and as a participant in a partial file operation.</span></span> <span data-ttu-id="91b79-168">Si un solicitante detecta este tipo de circunstancias, debe devolver y registrar un error del escritor.</span><span class="sxs-lookup"><span data-stu-id="91b79-168">If a requester does encounter such a circumstance, it should return and log a writer error.</span></span>

    <span data-ttu-id="91b79-169">Un solicitante puede seguir optando por continuar con la copia de seguridad de los archivos del escritor problemático, pero en ese caso debe hacerlo de acuerdo con la especificación que se encuentra en la información sobre el archivo diferenciado.</span><span class="sxs-lookup"><span data-stu-id="91b79-169">A requester may still choose to proceed with backing up the problematic writer's files, but in that case should do so according to the specification found in the differenced file information.</span></span>

3.  <span data-ttu-id="91b79-170">**Trabajando con el tipo de copia de seguridad de especificación de archivo:**</span><span class="sxs-lookup"><span data-stu-id="91b79-170">**Working with File Specification Backup Type:**</span></span>

    <span data-ttu-id="91b79-171">Una vez procesados todos los archivos diferenciados y las operaciones de archivos parciales, el solicitante procesa ahora todos los archivos restantes en su conjunto de copia de seguridad en función del tipo de copia de seguridad de especificación de archivo (tipo de copia de seguridad de especificación de [**\_ archivo \_ \_ \_ VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)).</span><span class="sxs-lookup"><span data-stu-id="91b79-171">Having processed all differenced files and partial file operations, the requester now processes all remaining files in its backup set on the basis of their file specification backup type ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)).</span></span>

    <span data-ttu-id="91b79-172">Hay tres valores de "copia de seguridad necesaria" de la enumeración de [**\_ tipo de copia de \_ \_ seguridad \_ de especificación de archivo de VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) que afectan a las copias de seguridad diferenciales e incrementales:</span><span class="sxs-lookup"><span data-stu-id="91b79-172">There are three "backup required" values of the [**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) enumeration that affect differential and incremental backups:</span></span>

    -   <span data-ttu-id="91b79-173">VSS \_ FSBT \_ todas las \_ copias de seguridad \_ necesarias</span><span class="sxs-lookup"><span data-stu-id="91b79-173">VSS\_FSBT\_ALL\_BACKUP\_REQUIRED</span></span>
    -   <span data-ttu-id="91b79-174">se \_ \_ requiere la copia de seguridad incremental FSBT de VSS \_ \_</span><span class="sxs-lookup"><span data-stu-id="91b79-174">VSS\_FSBT\_INCREMENTAL\_BACKUP\_REQUIRED</span></span>
    -   <span data-ttu-id="91b79-175">se \_ \_ requiere la \_ copia de seguridad diferencial FSBT \_ de VSS</span><span class="sxs-lookup"><span data-stu-id="91b79-175">VSS\_FSBT\_DIFFERENTIAL\_BACKUP\_REQUIRED</span></span>

    <span data-ttu-id="91b79-176">Hay tres valores de "se requiere la instantánea":</span><span class="sxs-lookup"><span data-stu-id="91b79-176">There are three "shadow copy required" values:</span></span>

    -   <span data-ttu-id="91b79-177">VSS \_ FSBT \_ todas las \_ instantáneas \_ necesarias</span><span class="sxs-lookup"><span data-stu-id="91b79-177">VSS\_FSBT\_ALL\_SNAPSHOT\_REQUIRED</span></span>
    -   <span data-ttu-id="91b79-178">se \_ \_ requiere la instantánea incremental FSBT de VSS \_ \_</span><span class="sxs-lookup"><span data-stu-id="91b79-178">VSS\_FSBT\_INCREMENTAL\_SNAPSHOT\_REQUIRED</span></span>
    -   <span data-ttu-id="91b79-179">se \_ \_ requiere la \_ instantánea \_ diferencial FSBT de VSS</span><span class="sxs-lookup"><span data-stu-id="91b79-179">VSS\_FSBT\_DIFFERENTIAL\_SNAPSHOT\_REQUIRED</span></span>

    <span data-ttu-id="91b79-180">Los conjuntos de archivos etiquetados con un tipo de copia de seguridad de especificación de archivo de "instantánea necesaria" indican que un solicitante debe copiar datos de una instantánea al realizar operaciones de copia de seguridad INCREMENTAl, diferencial o de todos (lo que incluye operaciones incrementales y diferenciales).</span><span class="sxs-lookup"><span data-stu-id="91b79-180">File sets tagged with a file specification backup type of "shadow copy required" indicate that a requester needs to copy data from a shadow copy when performing INCREMENTAL, DIFFERENTIAL, or ALL (which includes both incremental and differential operations) backup operations.</span></span>

    <span data-ttu-id="91b79-181">La marca "se requiere copia de seguridad", que se aplica a las operaciones de copia de seguridad INCREMENTAl, diferencial o todas, indica que el escritor espera que haya una copia de la versión actual del conjunto de archivos disponible después de la restauración de cualquier operación de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="91b79-181">The "backup required" flag, applied to INCREMENTAL, DIFFERENTIAL, or ALL backup operations, indicates that the writer expects a copy of the current version of the file set to be available following the restore of any backup operation.</span></span> <span data-ttu-id="91b79-182">Por lo general, esto significa que si un conjunto de archivos se etiqueta con "se requiere copia de seguridad", un solicitante copiará todos sus miembros en el medio de copia de seguridad durante una copia de seguridad incremental o diferencial, independientemente de Cuándo se haya producido la última copia de seguridad o modificación.</span><span class="sxs-lookup"><span data-stu-id="91b79-182">Typically, this means that if a file set is tagged with "backup required," a requester will copy all its members to backup media during an incremental or differential backup, regardless of when their backup or modification last occurred.</span></span>

    <span data-ttu-id="91b79-183">De forma predeterminada, los conjuntos de archivos se agregan a los componentes con un tipo de copia de seguridad de especificación de archivo de VSS \_ FSBT \_ All \_ backup \_ required \| VSS \_ FSBT \_ All \_ Snapshot \_ required.</span><span class="sxs-lookup"><span data-stu-id="91b79-183">By default, file sets are added to components with a file specification backup type of VSS\_FSBT\_ALL\_BACKUP\_REQUIRED \| VSS\_FSBT\_ALL\_SNAPSHOT\_REQUIRED.</span></span> <span data-ttu-id="91b79-184">Por lo tanto, a menos que un escritor establezca explícitamente el tipo de copia de seguridad de especificación de archivo, de lo contrario, los solicitantes tendrán que copiar los archivos no controlados por operaciones de archivo parcial o archivos diferenciados designados en la mayoría de los conjuntos de archivos normalmente se copiarán en su totalidad en medios de copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="91b79-184">Therefore, unless a writer explicitly sets the file specification backup type otherwise, requesters will need to copy those files not handled by partial file operations or designated differenced files in most file sets will typically be copied in their entirety to backup media.</span></span>

</dd> <dt>

<span data-ttu-id="91b79-185"><span id="Backup_Stamps"></span><span id="backup_stamps"></span><span id="BACKUP_STAMPS"></span>Marcas de copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="91b79-185"><span id="Backup_Stamps"></span><span id="backup_stamps"></span><span id="BACKUP_STAMPS"></span>Backup Stamps</span></span>
</dt> <dd>

<span data-ttu-id="91b79-186">Los escritores que admiten sellos de copias de seguridad (marca de tiempo de VSS \_ BS \_ ) pueden optar por generar información de marca de copia de seguridad que se usará para admitir operaciones de copia de seguridad y restauración incrementales y diferenciales.</span><span class="sxs-lookup"><span data-stu-id="91b79-186">Writers that support backup stamps (VSS\_BS\_TIMESTAMP) may choose to generate backup stamp information to be used to support future incremental and differential backup and restore operations.</span></span>

<span data-ttu-id="91b79-187">El formato y la información contenidos en las cadenas que contienen información de marca de copia de seguridad son privados para el escritor que los genera. el solicitante no sabe cómo procesar esta información.</span><span class="sxs-lookup"><span data-stu-id="91b79-187">The format and information contained in strings containing backup stamp information are private to the writer that generates them; the requester does not know how to process this information.</span></span>

<span data-ttu-id="91b79-188">Los escritores de soporte almacenan el sello de copia de seguridad en el documento componentes de copia de seguridad como una cadena mediante el método [**IVssComponent:: SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) .</span><span class="sxs-lookup"><span data-stu-id="91b79-188">Supporting writers store the backup stamp in the Backup Components Document as a string by using the [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) method.</span></span>

<span data-ttu-id="91b79-189">El rol del solicitante en el control de la información de marca de copia de seguridad es (si existe) para que esté disponible para el escritor llamando a [**IVssBackupComponents:: SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp) en una operación de restauración o copia de seguridad futura.</span><span class="sxs-lookup"><span data-stu-id="91b79-189">The requester's role in handling backup stamp information is (if it exists) to make it available to the writer by calling [**IVssBackupComponents::SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp) in a future backup or restore operation.</span></span>

</dd> </dl>

 

 
