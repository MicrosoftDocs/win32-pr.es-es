---
title: Funciones de administración de replicación y controlador de dominio
description: Este tema contiene una lista de funciones que se usan para la administración de la replicación y el controlador de dominio.
ms.assetid: a92783c2-ffb8-473e-8484-1c05ca5453ff
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 00660658874bad4e34a8f6917e08289007cec4d7
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/17/2020
ms.locfileid: "104077539"
---
# <a name="domain-controller-and-replication-management-functions"></a><span data-ttu-id="c1000-103">Funciones de administración de replicación y controlador de dominio</span><span class="sxs-lookup"><span data-stu-id="c1000-103">Domain Controller and Replication Management Functions</span></span>

<span data-ttu-id="c1000-104">Las funciones del controlador de dominio (DC) y de administración de replicación proporcionan herramientas para buscar datos acerca de un controlador de dominio, convertir los nombres de los objetos de red entre diferentes formatos, manipular nombres principales de servicio (SPN) y agentes de servicios de directorio (DSA), y administrar la replicación de servidores.</span><span class="sxs-lookup"><span data-stu-id="c1000-104">The domain controller (DC) and replication management functions provide tools for finding data about a DC, converting the names of network objects between different formats, manipulating service principal names (SPNs) and directory service agents (DSAs), and managing replication of servers.</span></span> <span data-ttu-id="c1000-105">Las funciones siguientes permiten a los desarrolladores trabajar con controladores de dominio, replicación y el servicio de directorio:</span><span class="sxs-lookup"><span data-stu-id="c1000-105">The following functions enable developers to work with domain controllers, replication, and the directory service:</span></span>

-   [<span data-ttu-id="c1000-106">**DsAddSidHistory**</span><span class="sxs-lookup"><span data-stu-id="c1000-106">**DsAddSidHistory**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsaddsidhistorya)
-   [<span data-ttu-id="c1000-107">**DsBind**</span><span class="sxs-lookup"><span data-stu-id="c1000-107">**DsBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda)
-   [<span data-ttu-id="c1000-108">**DsBindingSetTimeout**</span><span class="sxs-lookup"><span data-stu-id="c1000-108">**DsBindingSetTimeout**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindingsettimeout)
-   [<span data-ttu-id="c1000-109">**DsBindToISTG**</span><span class="sxs-lookup"><span data-stu-id="c1000-109">**DsBindToISTG**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindtoistga)
-   [<span data-ttu-id="c1000-110">**DsBindWithCred**</span><span class="sxs-lookup"><span data-stu-id="c1000-110">**DsBindWithCred**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda)
-   [<span data-ttu-id="c1000-111">**DsBindWithSpn**</span><span class="sxs-lookup"><span data-stu-id="c1000-111">**DsBindWithSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspna)
-   [<span data-ttu-id="c1000-112">**DsBindWithSpnEx**</span><span class="sxs-lookup"><span data-stu-id="c1000-112">**DsBindWithSpnEx**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspnexa)
-   [<span data-ttu-id="c1000-113">**DsClientMakeSpnForTargetServer**</span><span class="sxs-lookup"><span data-stu-id="c1000-113">**DsClientMakeSpnForTargetServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsclientmakespnfortargetservera)
-   [<span data-ttu-id="c1000-114">**DsCrackNames**</span><span class="sxs-lookup"><span data-stu-id="c1000-114">**DsCrackNames**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dscracknamesa)
-   [<span data-ttu-id="c1000-115">**DsCrackSpn**</span><span class="sxs-lookup"><span data-stu-id="c1000-115">**DsCrackSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackspna)
-   [<span data-ttu-id="c1000-116">**DsCrackUnquotedMangledRdn**</span><span class="sxs-lookup"><span data-stu-id="c1000-116">**DsCrackUnquotedMangledRdn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackunquotedmangledrdna)
-   [<span data-ttu-id="c1000-117">**DsFreeDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="c1000-117">**DsFreeDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreedomaincontrollerinfoa)
-   [<span data-ttu-id="c1000-118">**DsFreeNameResult**</span><span class="sxs-lookup"><span data-stu-id="c1000-118">**DsFreeNameResult**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreenameresulta)
-   [<span data-ttu-id="c1000-119">**DsFreePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="c1000-119">**DsFreePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreepasswordcredentials)
-   [<span data-ttu-id="c1000-120">**DsFreeSchemaGuidMap**</span><span class="sxs-lookup"><span data-stu-id="c1000-120">**DsFreeSchemaGuidMap**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreeschemaguidmapa)
-   [<span data-ttu-id="c1000-121">**DsFreeSpnArray**</span><span class="sxs-lookup"><span data-stu-id="c1000-121">**DsFreeSpnArray**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreespnarraya)
-   [<span data-ttu-id="c1000-122">**DsGetDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="c1000-122">**DsGetDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetdomaincontrollerinfoa)
-   [<span data-ttu-id="c1000-123">**DsGetRdnW**</span><span class="sxs-lookup"><span data-stu-id="c1000-123">**DsGetRdnW**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsgetrdnw)
-   [<span data-ttu-id="c1000-124">**DsGetSpn**</span><span class="sxs-lookup"><span data-stu-id="c1000-124">**DsGetSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetspna)
-   [<span data-ttu-id="c1000-125">**DsInheritSecurityIdentity**</span><span class="sxs-lookup"><span data-stu-id="c1000-125">**DsInheritSecurityIdentity**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsinheritsecurityidentitya)
-   [<span data-ttu-id="c1000-126">**DsIsMangledDn**</span><span class="sxs-lookup"><span data-stu-id="c1000-126">**DsIsMangledDn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangleddna)
-   [<span data-ttu-id="c1000-127">**DsIsMangledRdnValue**</span><span class="sxs-lookup"><span data-stu-id="c1000-127">**DsIsMangledRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangledrdnvaluea)
-   [<span data-ttu-id="c1000-128">**DsListDomainsInSite**</span><span class="sxs-lookup"><span data-stu-id="c1000-128">**DsListDomainsInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistdomainsinsitea)
-   [<span data-ttu-id="c1000-129">**DsListInfoForServer**</span><span class="sxs-lookup"><span data-stu-id="c1000-129">**DsListInfoForServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistinfoforservera)
-   [<span data-ttu-id="c1000-130">**DsListRoles**</span><span class="sxs-lookup"><span data-stu-id="c1000-130">**DsListRoles**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistrolesa)
-   [<span data-ttu-id="c1000-131">**DsListServersForDomainInSite**</span><span class="sxs-lookup"><span data-stu-id="c1000-131">**DsListServersForDomainInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversfordomaininsitea)
-   [<span data-ttu-id="c1000-132">**DsListServersInSite**</span><span class="sxs-lookup"><span data-stu-id="c1000-132">**DsListServersInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversinsitea)
-   [<span data-ttu-id="c1000-133">**DsListSites**</span><span class="sxs-lookup"><span data-stu-id="c1000-133">**DsListSites**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistsitesa)
-   [<span data-ttu-id="c1000-134">**DsMakePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="c1000-134">**DsMakePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmakepasswordcredentialsa)
-   [<span data-ttu-id="c1000-135">**DsMakeSpn**</span><span class="sxs-lookup"><span data-stu-id="c1000-135">**DsMakeSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsmakespna)
-   [<span data-ttu-id="c1000-136">**DsMapSchemaGuids**</span><span class="sxs-lookup"><span data-stu-id="c1000-136">**DsMapSchemaGuids**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmapschemaguidsa)
-   [<span data-ttu-id="c1000-137">**DsQuerySitesByCost**</span><span class="sxs-lookup"><span data-stu-id="c1000-137">**DsQuerySitesByCost**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesbycosta)
-   [<span data-ttu-id="c1000-138">**DsQuerySitesFree**</span><span class="sxs-lookup"><span data-stu-id="c1000-138">**DsQuerySitesFree**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesfree)
-   [<span data-ttu-id="c1000-139">**DsQuoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="c1000-139">**DsQuoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsquoterdnvaluea)
-   [<span data-ttu-id="c1000-140">**DsRemoveDsDomain**</span><span class="sxs-lookup"><span data-stu-id="c1000-140">**DsRemoveDsDomain**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsdomaina)
-   [<span data-ttu-id="c1000-141">**DsRemoveDsServer**</span><span class="sxs-lookup"><span data-stu-id="c1000-141">**DsRemoveDsServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsservera)
-   [<span data-ttu-id="c1000-142">**DsReplicaAdd**</span><span class="sxs-lookup"><span data-stu-id="c1000-142">**DsReplicaAdd**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda)
-   [<span data-ttu-id="c1000-143">**DsReplicaConsistencyCheck**</span><span class="sxs-lookup"><span data-stu-id="c1000-143">**DsReplicaConsistencyCheck**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaconsistencycheck)
-   [<span data-ttu-id="c1000-144">**DsReplicaDel**</span><span class="sxs-lookup"><span data-stu-id="c1000-144">**DsReplicaDel**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela)
-   [<span data-ttu-id="c1000-145">**DsReplicaFreeInfo**</span><span class="sxs-lookup"><span data-stu-id="c1000-145">**DsReplicaFreeInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicafreeinfo)
-   [<span data-ttu-id="c1000-146">**DsReplicaGetInfo**</span><span class="sxs-lookup"><span data-stu-id="c1000-146">**DsReplicaGetInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfow)
-   [<span data-ttu-id="c1000-147">**DsReplicaGetInfo2**</span><span class="sxs-lookup"><span data-stu-id="c1000-147">**DsReplicaGetInfo2**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfo2w)
-   [<span data-ttu-id="c1000-148">**DsReplicaModify**</span><span class="sxs-lookup"><span data-stu-id="c1000-148">**DsReplicaModify**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya)
-   [<span data-ttu-id="c1000-149">**DsReplicaSync**</span><span class="sxs-lookup"><span data-stu-id="c1000-149">**DsReplicaSync**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca)
-   [<span data-ttu-id="c1000-150">**DsReplicaSyncAll**</span><span class="sxs-lookup"><span data-stu-id="c1000-150">**DsReplicaSyncAll**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla)
-   [<span data-ttu-id="c1000-151">**DsReplicaUpdateRefs**</span><span class="sxs-lookup"><span data-stu-id="c1000-151">**DsReplicaUpdateRefs**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa)
-   [<span data-ttu-id="c1000-152">**DsReplicaVerifyObjects**</span><span class="sxs-lookup"><span data-stu-id="c1000-152">**DsReplicaVerifyObjects**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaverifyobjectsa)
-   [<span data-ttu-id="c1000-153">**DsServerRegisterSpn**</span><span class="sxs-lookup"><span data-stu-id="c1000-153">**DsServerRegisterSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsserverregisterspna)
-   [<span data-ttu-id="c1000-154">**DsUnBind**</span><span class="sxs-lookup"><span data-stu-id="c1000-154">**DsUnBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda)
-   [<span data-ttu-id="c1000-155">**DsUnquoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="c1000-155">**DsUnquoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsunquoterdnvaluea)
-   [<span data-ttu-id="c1000-156">**DsWriteAccountSpn**</span><span class="sxs-lookup"><span data-stu-id="c1000-156">**DsWriteAccountSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dswriteaccountspna)
-   <span data-ttu-id="c1000-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c1000-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span></span>

<span data-ttu-id="c1000-158">La mayoría de estas funciones requieren un identificador enlazado al servicio de directorio.</span><span class="sxs-lookup"><span data-stu-id="c1000-158">Most of these functions require a handle bound to the directory service.</span></span> <span data-ttu-id="c1000-159">Las funciones [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) y [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) inician una sesión RPC con un controlador de dominio determinado y, a continuación, enlazan un identificador al servicio de directorio y devuelven el identificador.</span><span class="sxs-lookup"><span data-stu-id="c1000-159">The [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) and [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) functions start an RPC session with a particular domain controller, then they bind a handle to the directory service and return the handle.</span></span> <span data-ttu-id="c1000-160">Cuando ya no se necesite el identificador, utilice la función [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) para finalizar la sesión RPC y desenlazar el controlador.</span><span class="sxs-lookup"><span data-stu-id="c1000-160">When the handle is no longer required, use the [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) function to end the RPC session and unbind the handle.</span></span>

<span data-ttu-id="c1000-161">La replicación se produce entre un servidor de origen y un servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="c1000-161">Replication occurs between a source server and a destination server.</span></span> <span data-ttu-id="c1000-162">Un servidor de origen mantiene una lista de los servidores de destino en los que se debe replicar y un servidor de destino mantiene una lista de los servidores de origen desde los que recibe la replicación.</span><span class="sxs-lookup"><span data-stu-id="c1000-162">A source server maintains a list of destination servers to which it should replicate, and a destination server maintains a list of source servers from which it receives replication.</span></span> <span data-ttu-id="c1000-163">Use la función [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) para agregar a la lista de servidores de origen en un servidor de destino y use la función [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) para quitar las referencias de la lista de servidores de origen en un servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="c1000-163">Use the [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) function to add to the list of source servers on a destination server, and use the [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) function to remove references from the source server list on a destination server.</span></span> <span data-ttu-id="c1000-164">La función [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) se puede usar para cambiar una referencia de servidor de origen existente en un servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="c1000-164">The [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) function may be used to change an existing source server reference on a destination server.</span></span> <span data-ttu-id="c1000-165">Para cambiar la lista de servidores de destino en un servidor de origen, use la función [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) .</span><span class="sxs-lookup"><span data-stu-id="c1000-165">To change the list of destination servers on a source server, use the [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) function.</span></span>

<span data-ttu-id="c1000-166">La replicación real se realiza mediante las funciones [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) y [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) .</span><span class="sxs-lookup"><span data-stu-id="c1000-166">Actual replication is performed by the [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) and [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) functions.</span></span> <span data-ttu-id="c1000-167">La función **DsReplicaSync** sincroniza un servidor de destino específico con un solo servidor de origen.</span><span class="sxs-lookup"><span data-stu-id="c1000-167">The **DsReplicaSync** function synchronizes a specific destination server with a single source server.</span></span> <span data-ttu-id="c1000-168">Utilice la función **DsReplicaSyncAll** para sincronizar un servidor de destino con todos los demás servidores del sitio.</span><span class="sxs-lookup"><span data-stu-id="c1000-168">Use the **DsReplicaSyncAll** function to synchronize a destination server with all other servers in the site.</span></span>

 

 