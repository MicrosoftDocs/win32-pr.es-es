---
description: En este tema se describen alternativas al uso de la API NTFS transaccional (TxF) en escenarios de uso comunes.
ms.assetid: 9ee26e7e-990e-4cd3-8180-f0fcaac2b752
title: Alternativas al uso de NTFS transaccional
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cc69974f27abfba0323ea4d3f16a720e5e99e69d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105687278"
---
# <a name="alternatives-to-using-transactional-ntfs"></a><span data-ttu-id="7d993-103">Alternativas al uso de NTFS transaccional</span><span class="sxs-lookup"><span data-stu-id="7d993-103">Alternatives to using Transactional NTFS</span></span>

-   [<span data-ttu-id="7d993-104">Descripción</span><span class="sxs-lookup"><span data-stu-id="7d993-104">Abstract</span></span>](#abstract)
-   [<span data-ttu-id="7d993-105">Introducción</span><span class="sxs-lookup"><span data-stu-id="7d993-105">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="7d993-106">Alternativas a TxF por escenario</span><span class="sxs-lookup"><span data-stu-id="7d993-106">Alternatives to TxF by Scenario</span></span>](#alternatives-to-txf-by-scenario)
-   [<span data-ttu-id="7d993-107">Aplicaciones que actualizan un solo archivo con datos de tipo "documento"</span><span class="sxs-lookup"><span data-stu-id="7d993-107">Applications updating a single file with "document-like" data</span></span>](#applications-updating-a-single-file-with-document-like-data)
-   [<span data-ttu-id="7d993-108">Aplicaciones que realizan actualizaciones en varios archivos o en el subárbol del registro</span><span class="sxs-lookup"><span data-stu-id="7d993-108">Applications performing updates to multiple files and/or to the registry hive</span></span>](#applications-performing-updates-to-multiple-files-andor-to-the-registry-hive)
-   [<span data-ttu-id="7d993-109">Aplicaciones que administran un conjunto de datos estructurados</span><span class="sxs-lookup"><span data-stu-id="7d993-109">Applications managing a set of structured data</span></span>](#applications-managing-a-set-of-structured-data)
-   [<span data-ttu-id="7d993-110">Aplicaciones con transacciones que implican archivos en un volumen NTFS local y tablas en una base de datos SQL externa</span><span class="sxs-lookup"><span data-stu-id="7d993-110">Applications with Transactions involving files on a local NTFS volume and Tables in an external SQL database</span></span>](#applications-with-transactions-involving-files-on-a-local-ntfs-volume-and-tables-in-an-external-sql-database)
-   [<span data-ttu-id="7d993-111">Cerrando & acción recomendada</span><span class="sxs-lookup"><span data-stu-id="7d993-111">Closing & Recommended Action</span></span>](/windows)

## <a name="abstract"></a><span data-ttu-id="7d993-112">Descripción breve</span><span class="sxs-lookup"><span data-stu-id="7d993-112">Abstract</span></span>

<span data-ttu-id="7d993-113">Microsoft recomienda encarecidamente que los desarrolladores investiguen el uso de las alternativas descritas (o en algunos casos, investigue otras alternativas) en lugar de adoptar una plataforma de API que puede no estar disponible en versiones futuras de Windows.</span><span class="sxs-lookup"><span data-stu-id="7d993-113">Microsoft strongly recommends developers investigate utilizing the discussed alternatives (or in some cases, investigate other alternatives) rather than adopting an API platform which may not be available in future versions of Windows.</span></span>

## <a name="introduction"></a><span data-ttu-id="7d993-114">Introducción</span><span class="sxs-lookup"><span data-stu-id="7d993-114">Introduction</span></span>

<span data-ttu-id="7d993-115">TxF se incorporó con Windows Vista como un medio para introducir transacciones de archivos atómicos en Windows.</span><span class="sxs-lookup"><span data-stu-id="7d993-115">TxF was introduced with Windows Vista as a means to introduce atomic file transactions to Windows.</span></span> <span data-ttu-id="7d993-116">Permite a los desarrolladores de Windows tener atomicidad transaccional para las operaciones de archivo en las transacciones con un solo archivo, en las transacciones que implican varios archivos y en las transacciones que abarcan varios orígenes, como el registro (a través de TxR) y las bases de datos (como SQL).</span><span class="sxs-lookup"><span data-stu-id="7d993-116">It allows for Windows developers to have transactional atomicity for file operations in transactions with a single file, in transactions involving multiple files, and in transactions spanning multiple sources – such as the Registry (through TxR), and databases (such as SQL).</span></span> <span data-ttu-id="7d993-117">Aunque TxF es un conjunto eficaz de API, ha habido un interés muy limitado para desarrolladores en esta plataforma de API desde Windows Vista principalmente debido a su complejidad y a diferentes matices que los desarrolladores deben tener en cuenta como parte del desarrollo de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="7d993-117">While TxF is a powerful set of APIs, there has been extremely limited developer interest in this API platform since Windows Vista primarily due to its complexity and various nuances which developers need to consider as part of application development.</span></span> <span data-ttu-id="7d993-118">Como resultado, Microsoft está pensando en dejar de usar las API de TxF en una versión futura de Windows para centrar los esfuerzos de desarrollo y mantenimiento en otras características y API que tienen más valor para una mayoría mayor de clientes.</span><span class="sxs-lookup"><span data-stu-id="7d993-118">As a result, Microsoft is considering deprecating TxF APIs in a future version of Windows to focus development and maintenance efforts on other features and APIs which have more value to a larger majority of customers.</span></span> <span data-ttu-id="7d993-119">En la siguiente sección se describen métodos alternativos de ejemplo para obtener resultados similares como TxF para varios tipos de escenarios de aplicación.</span><span class="sxs-lookup"><span data-stu-id="7d993-119">The next section describes sample alternative methods to achieve similar results as TxF would for several types of application scenarios.</span></span>

## <a name="alternatives-to-txf-by-scenario"></a><span data-ttu-id="7d993-120">Alternativas a TxF por escenario</span><span class="sxs-lookup"><span data-stu-id="7d993-120">Alternatives to TxF by Scenario</span></span>

<span data-ttu-id="7d993-121">Con las limitaciones descritas anteriormente, los desarrolladores deben investigar alternativas a TxF para abarcar los escenarios de aplicación que no se cumplen con TxF.</span><span class="sxs-lookup"><span data-stu-id="7d993-121">With the limitations described above, developers should investigate alternatives to TxF to cover application scenarios which are not met by TxF.</span></span> <span data-ttu-id="7d993-122">Aquí se describen algunas alternativas sugeridas a los usos comunes de TxF para que los desarrolladores tengan en cuenta.</span><span class="sxs-lookup"><span data-stu-id="7d993-122">Discussed here are some suggested alternatives to common uses of TxF for developers to consider.</span></span> <span data-ttu-id="7d993-123">Tenga en cuenta que esta lista no es exhaustiva ni completa.</span><span class="sxs-lookup"><span data-stu-id="7d993-123">Note that this list is neither exhaustive nor complete.</span></span>

## <a name="applications-updating-a-single-file-with-document-like-data"></a><span data-ttu-id="7d993-124">Aplicaciones que actualizan un solo archivo con datos de tipo "documento"</span><span class="sxs-lookup"><span data-stu-id="7d993-124">Applications updating a single file with "document-like" data</span></span>

<span data-ttu-id="7d993-125">Muchas aplicaciones que se ocupan de los datos de tipo "documento" tienden a cargar todo el documento en la memoria, operar en él y, a continuación, escribirlo de nuevo para guardar los cambios.</span><span class="sxs-lookup"><span data-stu-id="7d993-125">Many applications which deal with "document-like" data tend to load the entire document into memory, operate on it, and then write it back out to save the changes.</span></span> <span data-ttu-id="7d993-126">La atomicidad necesaria aquí es que los cambios se aplican completamente o no se aplican en absoluto, ya que un estado incoherente representaría el archivo dañado.</span><span class="sxs-lookup"><span data-stu-id="7d993-126">The needed atomicity here is that the changes either are completely applied or not applied at all, as an inconsistent state would render the file corrupt.</span></span> <span data-ttu-id="7d993-127">Un enfoque común consiste en escribir el documento en un nuevo archivo y, a continuación, reemplazar el archivo original por el nuevo.</span><span class="sxs-lookup"><span data-stu-id="7d993-127">A common approach is to write the document to a new file, then replace the original file with the new one.</span></span> <span data-ttu-id="7d993-128">Un método para hacerlo es con la API de [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) .</span><span class="sxs-lookup"><span data-stu-id="7d993-128">One method to do this is with the [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) API.</span></span>

## <a name="applications-performing-updates-to-multiple-files-andor-to-the-registry-hive"></a><span data-ttu-id="7d993-129">Aplicaciones que realizan actualizaciones en varios archivos o en el subárbol del registro</span><span class="sxs-lookup"><span data-stu-id="7d993-129">Applications performing updates to multiple files and/or to the registry hive</span></span>

<span data-ttu-id="7d993-130">Hay muchas aplicaciones que necesitan realizar una actualización de forma atómica en un conjunto de archivos y en el registro.</span><span class="sxs-lookup"><span data-stu-id="7d993-130">There are many applications which need to atomically perform an update to a set of files and to the registry.</span></span> <span data-ttu-id="7d993-131">Este escenario se logra normalmente a través de una aplicación de instalador, como Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="7d993-131">This scenario is most commonly achieved through an installer application, such as Windows Installer.</span></span> <span data-ttu-id="7d993-132">Para obtener más información sobre Windows Installer, consulte [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="7d993-132">For more information on Windows Installer, please refer to [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="applications-managing-a-set-of-structured-data"></a><span data-ttu-id="7d993-133">Aplicaciones que administran un conjunto de datos estructurados</span><span class="sxs-lookup"><span data-stu-id="7d993-133">Applications managing a set of structured data</span></span>

<span data-ttu-id="7d993-134">Muchas aplicaciones administran algún conjunto de estructuras de datos de propiedad de tipos diferentes como un medio para almacenar datos.</span><span class="sxs-lookup"><span data-stu-id="7d993-134">Many applications manage some set of proprietary data structures of varying types as a means to store data.</span></span> <span data-ttu-id="7d993-135">Un desafío importante para estas aplicaciones es el proceso de mantenimiento de la integridad de punteros o referencias internos si se produce un error durante una operación de actualización.</span><span class="sxs-lookup"><span data-stu-id="7d993-135">A significant challenge for these applications is the process of maintaining the integrity of internal pointers/references if a failure occurs during an update operation.</span></span> <span data-ttu-id="7d993-136">Crear el mecanismo para esto es realmente un "problema" y, por lo tanto, la mayoría de las aplicaciones confiarán en un servidor de base de datos real para administrar su conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="7d993-136">Creating the mechanism for this is indeed a "hard problem", and therefore most applications will rely on a true database server to manage their dataset.</span></span>

<span data-ttu-id="7d993-137">Dos sugerencias para ayudar a administrar los datos estructurados son:</span><span class="sxs-lookup"><span data-stu-id="7d993-137">Two suggestions to help manage structured data are:</span></span>

-   <span data-ttu-id="7d993-138">Microsoft proporciona la bandeja de entrada del motor de almacenamiento extensible (ESE) en Windows para permitir que las aplicaciones realicen operaciones de recuperación y actualización de datos con transacciones.</span><span class="sxs-lookup"><span data-stu-id="7d993-138">Microsoft provides the Extensible Storage Engine (ESE) inbox in Windows to enable applications to perform transacted data update and retrieval operations.</span></span> <span data-ttu-id="7d993-139">Para obtener más información sobre el motor de almacenamiento extensible (ESE), vea <https://msdn.microsoft.com/library/gg269259.aspx> .</span><span class="sxs-lookup"><span data-stu-id="7d993-139">For more information on the Extensible Storage Engine (ESE), please see <https://msdn.microsoft.com/library/gg269259.aspx>.</span></span>
-   <span data-ttu-id="7d993-140">En el caso de las aplicaciones que requieren un proveedor de bases de datos más eficaz, sólido y escalable, se recomienda que los clientes consideren la posibilidad de usar la característica FileStream disponible con Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7d993-140">For applications that require a more powerful, robust, and scalable database provider, it is recommended that customers consider using the Filestream feature available with Microsoft SQL Server.</span></span> <span data-ttu-id="7d993-141">Para obtener más información sobre las secuencias de FileStream de SQL, vea <https://technet.microsoft.com/library/bb933993.aspx> .</span><span class="sxs-lookup"><span data-stu-id="7d993-141">For more information on SQL Filestreams, please see <https://technet.microsoft.com/library/bb933993.aspx>.</span></span>

## <a name="applications-with-transactions-involving-files-on-a-local-ntfs-volume-and-tables-in-an-external-sql-database"></a><span data-ttu-id="7d993-142">Aplicaciones con transacciones que implican archivos en un volumen NTFS local y tablas en una base de datos SQL externa</span><span class="sxs-lookup"><span data-stu-id="7d993-142">Applications with Transactions involving files on a local NTFS volume and Tables in an external SQL database</span></span>

<span data-ttu-id="7d993-143">Hay clases de aplicaciones que tienen necesidades de conjunto de datos grandes, o deben tener atomicidad transaccional en una operación que implica una base de datos externa y un almacenamiento local.</span><span class="sxs-lookup"><span data-stu-id="7d993-143">There are classes of applications which either have large dataset needs, or need to have transactional atomicity in an operation involving an external database and local storage.</span></span> <span data-ttu-id="7d993-144">En este escenario, se recomienda encarecidamente que los desarrolladores consideren el uso de Filestreams de SQL para realizar operaciones de archivos transaccionales.</span><span class="sxs-lookup"><span data-stu-id="7d993-144">For this scenario, it is highly recommended that developers consider using SQL Filestreams to perform transactional file operations.</span></span> <span data-ttu-id="7d993-145">Para obtener más información sobre las secuencias de FileStream de SQL, vea <https://technet.microsoft.com/library/bb933993.aspx> .</span><span class="sxs-lookup"><span data-stu-id="7d993-145">For more information on SQL Filestreams, please see <https://technet.microsoft.com/library/bb933993.aspx>.</span></span>

## <a name="closing--recommended-action"></a><span data-ttu-id="7d993-146">Cerrando & acción recomendada</span><span class="sxs-lookup"><span data-stu-id="7d993-146">Closing & Recommended Action</span></span>

<span data-ttu-id="7d993-147">TxF es un conjunto complejo y de matices de API que no suelen usar las aplicaciones de terceros.</span><span class="sxs-lookup"><span data-stu-id="7d993-147">TxF is a complex and nuanced set of APIs which are not commonly used by 3rd party applications.</span></span> <span data-ttu-id="7d993-148">Con la posibilidad de que estas API no estén disponibles en versiones futuras de Windows y el hecho de que haya más medios alternativos para lograr muchos de los escenarios para los que se desarrolló TxF, Microsoft recomienda encarecidamente a los desarrolladores que investiguen esos medios alternativos en lugar de crear una dependencia en TxF en sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="7d993-148">With the possibility that these APIs may not be available in future versions of Windows, and the fact that there are simpler alternative means to achieve many of the scenarios which TxF was developed for, Microsoft strongly recommends developers to investigate those alternative means instead of creating a dependency on TxF in their applications.</span></span>

 

 
