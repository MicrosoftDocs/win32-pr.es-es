---
description: Un uso típico de los componentes transitivos es preparar un producto para reinstalar durante una actualización del sistema.
ms.assetid: 73677573-945f-4646-89d8-93e28f7856fe
title: Uso de componentes transitivos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35982aafd486a62ce8560e507b8b6caf88e32591
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/05/2021
ms.locfileid: "104003474"
---
# <a name="using-transitive-components"></a><span data-ttu-id="82274-103">Uso de componentes transitivos</span><span class="sxs-lookup"><span data-stu-id="82274-103">Using Transitive Components</span></span>

<span data-ttu-id="82274-104">Un uso típico de los componentes transitivos es preparar un producto para reinstalar durante una actualización del sistema.</span><span class="sxs-lookup"><span data-stu-id="82274-104">A typical use for transitive components is to prepare a product to reinstall during a system upgrade.</span></span> <span data-ttu-id="82274-105">El autor del paquete de instalación especifica los componentes que se deben intercambiar durante una actualización del sistema como si tuviera el atributo transitivo.</span><span class="sxs-lookup"><span data-stu-id="82274-105">The author of the installation package specifies those components that need to be swapped out during a system upgrade as having the transitive attribute.</span></span> <span data-ttu-id="82274-106">Cuando el usuario actualiza el sistema posteriormente, se debe volver a instalar el producto.</span><span class="sxs-lookup"><span data-stu-id="82274-106">When the user later upgrades the system, the product must be reinstalled.</span></span> <span data-ttu-id="82274-107">Tras la reinstalación, el instalador quita los componentes anteriores e instala los componentes posteriores, sin tener que instalar todo el producto.</span><span class="sxs-lookup"><span data-stu-id="82274-107">Upon this reinstall, the installer removes the earlier components and installs the later components, without having to install the entire product.</span></span>

<span data-ttu-id="82274-108">**Para incluir dos componentes transitivos en el paquete de instalación**</span><span class="sxs-lookup"><span data-stu-id="82274-108">**To include two transitive components in the installation package**</span></span>

1.  <span data-ttu-id="82274-109">Incluya ambos componentes transitivos en el paquete de instalación.</span><span class="sxs-lookup"><span data-stu-id="82274-109">Include both transitive components in the installation package.</span></span>
2.  <span data-ttu-id="82274-110">Cree ambos componentes transitivos en la [tabla de componentes](component-table.md) igual que los componentes normales.</span><span class="sxs-lookup"><span data-stu-id="82274-110">Author both transitive components into the [Component table](component-table.md) the same as regular components.</span></span> <span data-ttu-id="82274-111">Cada componente transitivo debe tener su propio GUID único especificado en la columna ComponentId.</span><span class="sxs-lookup"><span data-stu-id="82274-111">Each transitive component must have its own unique GUID specified in the ComponentId column.</span></span>
3.  <span data-ttu-id="82274-112">Incluya el bit **msidbComponentAttributesTransitive** en la columna Attributes de la tabla de componentes para cada componente transitivo.</span><span class="sxs-lookup"><span data-stu-id="82274-112">Include the **msidbComponentAttributesTransitive** bit in the Attributes column of the Component table for each transitive component.</span></span> <span data-ttu-id="82274-113">Si se establece este bit, el instalador vuelve a evaluar el valor de la instrucción en la columna condición tras una reinstalación.</span><span class="sxs-lookup"><span data-stu-id="82274-113">If this bit is set, the installer reevaluates the value of the statement in the Condition column upon a reinstall.</span></span>

    <span data-ttu-id="82274-114">Si el valor era previamente false y ha cambiado a true, el instalador instala el componente.</span><span class="sxs-lookup"><span data-stu-id="82274-114">If the value was previously False and has changed to True, the installer installs the component.</span></span>

    <span data-ttu-id="82274-115">Si el valor era previamente true y ha cambiado a false, el instalador quita el componente aunque el componente tenga otros productos como clientes.</span><span class="sxs-lookup"><span data-stu-id="82274-115">If the value was previously True and has changed to False the installer removes the component even if the component has other products as clients.</span></span>

    > [!Note]  
    > <span data-ttu-id="82274-116">A menos que se establezca el bit transitivo, el componente permanece habilitado una vez instalado aunque la instrucción condicional se evalúe como false en una instalación posterior del mantenimiento del producto.</span><span class="sxs-lookup"><span data-stu-id="82274-116">Unless the transitive bit is set, the component remains enabled once installed even if the conditional statement evaluates to False on a subsequent maintenance installation of the product.</span></span> <span data-ttu-id="82274-117">Las condiciones deben basarse únicamente en los Estados de los equipos.</span><span class="sxs-lookup"><span data-stu-id="82274-117">The conditions must be based only on computer states.</span></span> <span data-ttu-id="82274-118">No use con condiciones basadas en los Estados de usuario o las propiedades establecidas en la línea de comandos, ya que esto puede hacer que el instalador requiera una reinstalación del producto en cada uso por parte de un usuario diferente.</span><span class="sxs-lookup"><span data-stu-id="82274-118">Do not use with conditions based on user states or properties set on the command line because this can cause the installer to require a reinstallation of the product on each use by a different user.</span></span>

     

4.  <span data-ttu-id="82274-119">Escriba expresiones condicionales complementarias en los campos condición de la tabla de control, de modo que cuando la condición del primer componente transitiva cambie a false, la condición del segundo componente transitivo cambie a true.</span><span class="sxs-lookup"><span data-stu-id="82274-119">Enter complementary conditional expressions into the Condition fields of the Control table such that when the condition on the first transitive component changes to False the condition on the second transitive component changes to True.</span></span> <span data-ttu-id="82274-120">Esto da como resultado la eliminación del primer componente y la instalación del segundo componente después de la reinstalación de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="82274-120">This results in the removal of the first component and installation of the second component upon reinstallation of the application.</span></span>

<span data-ttu-id="82274-121">Es necesario volver a instalar el producto para cambiar los componentes transitivos.</span><span class="sxs-lookup"><span data-stu-id="82274-121">A reinstallation of the product is necessary to switch the transitive components.</span></span> <span data-ttu-id="82274-122">Por lo tanto, los autores de paquetes deben proporcionar a los usuarios un método para reinstalar el producto y establecer los modos de la propiedad [**REINSTALLMODE**](reinstallmode.md) .</span><span class="sxs-lookup"><span data-stu-id="82274-122">Package authors therefore need to provide users with a method for reinstalling the product and for setting the modes of the [**REINSTALLMODE**](reinstallmode.md) property.</span></span> <span data-ttu-id="82274-123">Básicamente, hay tres maneras de desencadenar la reinstalación:</span><span class="sxs-lookup"><span data-stu-id="82274-123">There are basically three ways to trigger the reinstallation:</span></span>

-   <span data-ttu-id="82274-124">Ejecute y configure la reinstalación a través de la interfaz de usuario mediante la creación de un paquete que use la interfaz de usuario [*completa*](f-gly.md).</span><span class="sxs-lookup"><span data-stu-id="82274-124">Run and configure the reinstallation through the user interface by authoring a package that uses the [*full UI*](f-gly.md).</span></span>
-   <span data-ttu-id="82274-125">Ejecute la reinstalación desde la línea de comandos mediante **msiexec/f** y seleccione los modos en la lista para la opción de la [línea de comandos](command-line-options.md) **/f** .</span><span class="sxs-lookup"><span data-stu-id="82274-125">Run the reinstallation from the command line by using **msiexec /f** and select the modes from the list for the **/f** [command line option](command-line-options.md).</span></span>
-   <span data-ttu-id="82274-126">Haga que la aplicación llame a [**MsiReInstallProduct**](/windows/desktop/api/Msi/nf-msi-msireinstallproducta) o [**MsiReInstallFeature**](/windows/desktop/api/Msi/nf-msi-msireinstallfeaturea).</span><span class="sxs-lookup"><span data-stu-id="82274-126">Have the application call [**MsiReInstallProduct**](/windows/desktop/api/Msi/nf-msi-msireinstallproducta) or [**MsiReInstallFeature**](/windows/desktop/api/Msi/nf-msi-msireinstallfeaturea).</span></span>

<span data-ttu-id="82274-127">El bit solo debe usarse con condiciones basadas en Estados de equipos.</span><span class="sxs-lookup"><span data-stu-id="82274-127">The bit should only be used with conditions based on computer states.</span></span> <span data-ttu-id="82274-128">No use con condiciones basadas en los Estados de usuario o las propiedades establecidas en la línea de comandos, ya que esto puede hacer que el instalador requiera una reinstalación del producto en cada uso por parte de un usuario diferente.</span><span class="sxs-lookup"><span data-stu-id="82274-128">Do not use with conditions based on user states or properties set on the command line because this can cause the installer to require a reinstallation of the product on each use by a different user.</span></span>

> [!Note]
> <span data-ttu-id="82274-129">A menos que se establezca el bit transitivo en la columna Attributes para un componente, el componente permanece habilitado una vez instalado aunque la instrucción condicional de la columna condition se evalúe como false en una instalación de mantenimiento posterior del producto.</span><span class="sxs-lookup"><span data-stu-id="82274-129">Unless the Transitive bit in the Attributes column is set for a component, the component remains enabled once installed even if the conditional statement in the Condition column evaluates to False on a subsequent maintenance installation of the product.</span></span>
> 
> <span data-ttu-id="82274-130">En la mayoría de los casos, si una aplicación incluye componentes transitivos, Windows Installer requiere que el origen de la aplicación repare o actualice la aplicación.</span><span class="sxs-lookup"><span data-stu-id="82274-130">In most cases, if an application includes transitive components, Windows Installer requires the application's source to repair or upgrade the application.</span></span> <span data-ttu-id="82274-131">En estos casos, el CD-ROM de restauración del sistema enviado por un fabricante de equipos originales no funciona y es necesario proporcionar un origen de instalación real para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="82274-131">In these cases, the system restoration CD-ROM shipped by an original equipment manufacturer does not work and an actual installation source for the application needs to be provided.</span></span>

 

 

 



