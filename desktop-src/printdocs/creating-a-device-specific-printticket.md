---
description: Obtenga información sobre cómo crear un PrintTicket específico del dispositivo, que tiene como destino un dispositivo determinado y es portátil en varios dispositivos.
ms.assetid: 487f294f-dfe0-48f8-9077-06c55c3af8f1
title: Crear un Device-Specific PrintTicket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 497b825bd875ada534c8c467cd18d90f2db9a2a7
ms.sourcegitcommit: 5d4e99f4c8f42f5f543e52cb9beb9fb13ec56c5f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/19/2021
ms.locfileid: "112409557"
---
# <a name="creating-a-device-specific-printticket"></a><span data-ttu-id="6ee8b-103">Crear un Device-Specific PrintTicket</span><span class="sxs-lookup"><span data-stu-id="6ee8b-103">Creating a Device-Specific PrintTicket</span></span>

<span data-ttu-id="6ee8b-104">Este tema no es actual.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-104">This topic is not current.</span></span> <span data-ttu-id="6ee8b-105">Para obtener la información más reciente, vea [La especificación de esquema de impresión](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="6ee8b-105">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="6ee8b-106">Un PrintTicket específico del dispositivo tiene como destino un dispositivo determinado y, por lo tanto, no suele ser portátil en varios dispositivos.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-106">A device-specific PrintTicket targets a particular device and is therefore not generally portable across multiple devices.</span></span>

<span data-ttu-id="6ee8b-107">Los pasos que se muestran en la lista siguiente se deben usar al crear un PrintTicket específico del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-107">The steps shown in the following list should be used when you create a device-specific PrintTicket.</span></span>

1.  <span data-ttu-id="6ee8b-108">Obtenga un documento PrintCapabilities que contenga solo las instancias de características pertinentes para el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-108">Obtain a PrintCapabilities document containing only the relevant Feature instances for the device.</span></span> <span data-ttu-id="6ee8b-109">Solicite un documento PrintCapabilities predeterminado.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-109">Request a default PrintCapabilities document.</span></span> <span data-ttu-id="6ee8b-110">Esto no requiere que especifique un PrintTicket de entrada porque los atributos de dispositivo (instancias y parámetros de característica y opción) que se usan para construir printTicket son independientes de la configuración.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-110">This does not require you to specify an input PrintTicket because the device attributes (Feature and Option instances and parameters) that are used to construct the PrintTicket are independent of the configuration.</span></span>

2.  <span data-ttu-id="6ee8b-111">Cree un documento XML vacío que contenga la raíz PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-111">Create an empty XML document containing the PrintTicket root.</span></span> <span data-ttu-id="6ee8b-112">Asigne un prefijo de espacio de nombres al espacio de nombres Esquema de impresión y asigne prefijos para todos los demás espacios de nombres que usará PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-112">Assign a namespace prefix to the Print Schema namespace, and assign prefixes for all other namespaces that will be used by the PrintTicket.</span></span> <span data-ttu-id="6ee8b-113">Especifique la versión del esquema PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-113">Specify the PrintTicket Schema version.</span></span>

3.  <span data-ttu-id="6ee8b-114">Puede definir la configuración en PrintTicket para todas las instancias de Feature y ParameterDef notificadas en el documento PrintCapabilities, o solo las que le interesen.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-114">You may define settings in the PrintTicket for every Feature and ParameterDef instance reported in the PrintCapabilities document, or only those of interest to you.</span></span> <span data-ttu-id="6ee8b-115">Si se presenta un PrintTicket parcial a la interfaz PrintTicket, los valores predeterminados se proporcionan automáticamente para las instancias de Feature y ParameterDef omitidas durante la validación de PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-115">If a partial PrintTicket is presented to the PrintTicket interface, defaults are automatically provided for omitted Feature and ParameterDef instances during PrintTicket validation.</span></span>

4.  <span data-ttu-id="6ee8b-116">Examine el documento PrintCapabilities para las instancias de características y determine cuál de ellas desea definir en printticket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-116">Examine the PrintCapabilities document for Feature instances and determine which of these you want defined in your PrintTicket.</span></span> <span data-ttu-id="6ee8b-117">Agregue estas instancias de características a PrintTicket, pero no transfiera el contenido de las instancias de características a su PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-117">Add these Feature instances to the PrintTicket, but do not transfer the contents of the Feature instances to your PrintTicket.</span></span> <span data-ttu-id="6ee8b-118">Si transfiere una subfeature, también se debe transferir la característica primaria y la relación de elementos primarios y secundarios se debe conservar en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-118">If you transfer a subfeature, the parent Feature must also be transferred, and the parent-child relationship must be preserved in the PrintTicket.</span></span>

    <span data-ttu-id="6ee8b-119">Para cada característica que transfiera, determine qué instancias de Option son aplicables a su PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-119">For each Feature that you transfer, determine which Option instances are applicable to your PrintTicket.</span></span> <span data-ttu-id="6ee8b-120">Transfiera toda la opción tal como se define en el documento PrintCapabilities y, a continuación, quite las instancias de propiedad que estén presentes.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-120">Transfer the entire Option as defined in the PrintCapabilities document, and then remove any Property instances that are present.</span></span> <span data-ttu-id="6ee8b-121">Las instancias property se usan en documentos PrintCapabilities, pero no sirven para ningún propósito en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-121">The Property instances are used within PrintCapabilities documents, but serve no purpose in the PrintTicket.</span></span> <span data-ttu-id="6ee8b-122">Mantenga todas las instancias de ScoredProperty y asegúrese de conservar su ubicación. son una parte intrínseca de la definición de opción.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-122">Keep all of the ScoredProperty instances, making sure that you preserve their location; they are an intrinsic part of the Option definition.</span></span>

5.  <span data-ttu-id="6ee8b-123">También puede agregar instancias de propiedad a cualquier instancia de ScoredProperty.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-123">You may also add Property instances to any ScoredProperty instance.</span></span> <span data-ttu-id="6ee8b-124">Las instancias de propiedad solo se usan si el proveedor PrintTicket admite explícitamente su uso.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-124">Property instances are used only if the PrintTicket provider explicitly supports their use.</span></span> <span data-ttu-id="6ee8b-125">Cada proveedor debe documentar el propósito y el uso de todas las instancias de propiedad admitidas.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-125">Each provider should document the purpose and use of all supported Property instances.</span></span> <span data-ttu-id="6ee8b-126">Tenga en cuenta que, durante la validación, se quitan todas las instancias de propiedad contenidas en una instancia de Option, a menos que el proveedor PrintCapabilities o PrintTicket de destino reconozca el espacio de nombres de la propiedad, y se encuentra una opción candidata en el documento PrintCapabilities cuyas instancias scoredProperty coinciden perfectamente con las definidas en la opción de referencia.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-126">Note that during validation, any Property instances contained within an Option instance are stripped off, unless the namespace of the Property is recognized by the target PrintCapabilities or PrintTicket provider, and a candidate Option is found in the PrintCapabilities document whose ScoredProperty instances perfectly match those defined in the reference Option.</span></span>

6.  <span data-ttu-id="6ee8b-127">Si las palabras clave de esquema de impresión establecen la propiedad SelectionType en PickMany para una característica determinada, puede seleccionar más de una opción para esa característica, siempre que la opción designada como IdentityOption no sea una de las seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-127">If the Print Schema Keywords set the SelectionType Property to PickMany for a particular Feature, you may select more than one Option for that Feature, provided that the Option designated as IdentityOption is not one of those selected.</span></span> <span data-ttu-id="6ee8b-128">IdentityOption en el esquema de impresión tiene el mismo efecto que la opción None en los archivos PPD postscript y los archivos GPD unidrv; sirve como no operativo.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-128">IdentityOption in the Print Schema has the same effect as the None option in Postscript PPD files and Unidrv GPD files; it serves as a no-op.</span></span>

7.  <span data-ttu-id="6ee8b-129">Examine el documento PrintCapabilities para ver las instancias de ParameterDef que se deben establecer en printticket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-129">Examine the PrintCapabilities document for ParameterDef instances that should be set in your PrintTicket.</span></span> <span data-ttu-id="6ee8b-130">Para cada instancia de ParameterDef, seleccione un valor que se usará en la instancia ParameterInit en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-130">For each such ParameterDef instance, select a Value to be used in the ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="6ee8b-131">Este valor debe ser del tipo de datos correcto y debe estar dentro del intervalo definido en la instancia de ParameterDef y debe cumplir todos los demás requisitos especificados en la instancia de ParameterDef.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-131">This Value must be of the correct data type and must fall within the range defined in the ParameterDef instance, and must meet all of the other requirements specified in the ParameterDef instance.</span></span> <span data-ttu-id="6ee8b-132">Use una instancia parameterInit para inicializar el parámetro en el valor que ha seleccionado.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-132">Use a ParameterInit instance to initialize the parameter to the Value you have selected.</span></span>

8.  <span data-ttu-id="6ee8b-133">Examine el contenido de cada instancia de Option que aparece en PrintTicket para ver si hay repeticiones de instancias parameterRef.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-133">Examine the contents of each Option instance that appears in the PrintTicket for occurrences of ParameterRef instances.</span></span> <span data-ttu-id="6ee8b-134">Si aún no aparece una instancia de ParameterInit correspondiente en PrintTicket, siga el paso anterior para crear una instancia de ParameterInit en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-134">If a corresponding ParameterInit instance does not already appear in the PrintTicket, follow the previous step to create a ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="6ee8b-135">El propósito de esta instancia parameterInit es inicializar el parámetro al que hace referencia la instancia ParameterRef.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-135">The purpose of this ParameterInit instance is to initialize the parameter referenced by the ParameterRef instance.</span></span>

9.  <span data-ttu-id="6ee8b-136">Tenga en cuenta que los conflictos de restricciones pueden impedir que el dispositivo aplique la configuración que ha especificado en PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-136">Keep in mind that constraint conflicts might prevent the device from applying the configuration you have specified in the PrintTicket.</span></span> <span data-ttu-id="6ee8b-137">Si es necesario, el proceso de validación modifica la configuración definida en PrintTicket a una que está libre de conflictos.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-137">If necessary, the validation process modifies the configuration defined in the PrintTicket to one that is free of conflicts.</span></span>

10. <span data-ttu-id="6ee8b-138">Examine las palabras clave de esquema de impresión para las instancias de propiedad que deben estar presentes en printticket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-138">Examine the Print Schema Keywords for Property instances that must be present in your PrintTicket.</span></span> <span data-ttu-id="6ee8b-139">Agregue una instancia de Property a PrintTicket para cada que sea necesario y proporcione un valor adecuado para ella mediante el tipo de elemento Value.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-139">Add a Property instance to your PrintTicket for each that is required, and provide a suitable value for it using the Value element type.</span></span> <span data-ttu-id="6ee8b-140">Asegúrese de que las instancias de propiedad se encuentran correctamente dentro de PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-140">Make sure that Property instances are located properly within the PrintTicket.</span></span>

11. <span data-ttu-id="6ee8b-141">Examine las instancias de propiedad opcionales en el esquema PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-141">Examine the optional Property instances in the PrintTicket Schema.</span></span> <span data-ttu-id="6ee8b-142">Si hay alguna de estas instancias de propiedad que debe estar en printticket, crámelas en printticket.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-142">If there are any such Property instances that should be in your PrintTicket, create them in your PrintTicket.</span></span>

12. <span data-ttu-id="6ee8b-143">También puede agregar instancias de propiedad definidas de forma privada en el nivel raíz, o a cualquier instancia de característica, opción o propiedad.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-143">You may also add privately-defined Property instances at the root level, or to any Feature, Option, or Property instance.</span></span> <span data-ttu-id="6ee8b-144">Sin embargo, tenga en cuenta que estas instancias de propiedad definidas de forma privada se quitan durante la validación, a menos que el proveedor PrintCapabilities o PrintTicket de destino reconozca el espacio de nombres al que pertenecen.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-144">Note however, that these privately-defined Property instances are stripped off during validation, unless the namespace they belong to is recognized by the target PrintCapabilities or PrintTicket provider.</span></span> <span data-ttu-id="6ee8b-145">Además, las instancias de propiedad que aparecen en cualquier lugar dentro de una instancia de Opción se quitan durante la validación, a menos que el documento PrintCapabilities contenga una opción que sea una coincidencia perfecta.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-145">In addition, Property instances that appear anywhere within an Option instance are stripped off during validation, unless the PrintCapabilities document contains an Option that is a perfect match.</span></span> <span data-ttu-id="6ee8b-146">Dos instancias de Option son una coincidencia perfecta si cada ScoredProperty de una instancia de Option tiene una propiedad ScoredProperty correspondiente en la otra, y los valores de las instancias scoredProperty son los mismos.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-146">Two Option instances are a perfect match if every ScoredProperty in one Option instance has a corresponding ScoredProperty in the other, and the Values of the ScoredProperty instances are the same.</span></span> <span data-ttu-id="6ee8b-147">Consulte el esquema privado del proveedor PrintTicket para obtener una lista de las instancias de propiedad privada reconocidas y sus usos.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-147">Consult the PrintTicket provider's Private Schema for a list of recognized private Property instances and their uses.</span></span>

13. <span data-ttu-id="6ee8b-148">Los elementos secundarios del mismo tipo de elemento no pueden anidar en una profundidad de más de 10 elementos.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-148">Children of the same element type may not nest to a depth of more than 10 elements.</span></span> <span data-ttu-id="6ee8b-149">Esta regla se aplica de forma independiente a cada tipo de elemento que se puede definir.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-149">This rule applies independently to each type of element that can be defined.</span></span>

> [!Note]  
> <span data-ttu-id="6ee8b-150">El contenido XML de PrintTicket DEBE codificarse mediante UTF-8 o UTF-16.</span><span class="sxs-lookup"><span data-stu-id="6ee8b-150">PrintTicket XML content MUST be encoded using either UTF-8 or UTF-16.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="6ee8b-151">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6ee8b-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6ee8b-152">Especificación de esquema de impresión</span><span class="sxs-lookup"><span data-stu-id="6ee8b-152">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



