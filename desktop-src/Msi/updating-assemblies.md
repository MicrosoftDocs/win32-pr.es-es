---
description: La información de este tema identifica las directrices recomendadas para actualizar ensamblados con Windows Installer revisiones.
ms.assetid: 60c70d48-aae2-4ea5-a880-ac9e2c83c28c
title: Actualizar ensamblados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35b185a9943ba20c81a1fa3431dd590eb05648c9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104083471"
---
# <a name="updating-assemblies"></a><span data-ttu-id="f6402-103">Actualizar ensamblados</span><span class="sxs-lookup"><span data-stu-id="f6402-103">Updating Assemblies</span></span>

<span data-ttu-id="f6402-104">La información de este tema identifica las directrices recomendadas para actualizar ensamblados con Windows Installer revisiones.</span><span class="sxs-lookup"><span data-stu-id="f6402-104">The information in this topic identifies the recommended guidelines for updating assemblies using Windows Installer patches.</span></span>

<span data-ttu-id="f6402-105">Los autores de las actualizaciones de ensamblados pueden utilizar las siguientes directrices, que se aplican a todos los tipos de ensamblados:</span><span class="sxs-lookup"><span data-stu-id="f6402-105">Authors of assembly updates can use the following guidelines, which apply to all types of assemblies:</span></span>

-   <span data-ttu-id="f6402-106">El método recomendado para actualizar un ensamblado es cambiar el nombre seguro del ensamblado en la [tabla MsiAssemblyName](msiassemblyname-table.md).</span><span class="sxs-lookup"><span data-stu-id="f6402-106">The recommended method for updating an assembly is to change the strong name of the assembly in the [MsiAssemblyName table](msiassemblyname-table.md).</span></span> <span data-ttu-id="f6402-107">La nueva versión del ensamblado puede ser proporcionada por un componente nuevo o por el mismo componente que proporciona la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="f6402-107">The new assembly version can be provided by a new component or by the same component that provides the old version.</span></span>
-   <span data-ttu-id="f6402-108">Si el mismo componente proporciona la nueva versión de ensamblado, no cambie el tipo de ensamblado de un ensamblado .NET Framework a un ensamblado Win32 o viceversa.</span><span class="sxs-lookup"><span data-stu-id="f6402-108">If the new assembly version is provided by the same component, do not change the assembly type from a .NET Framework assembly to a Win32 assembly or vice versa.</span></span>
-   <span data-ttu-id="f6402-109">Si todas las aplicaciones del sistema deben usar el ensamblado actualizado, debe implementar un ensamblado de directiva.</span><span class="sxs-lookup"><span data-stu-id="f6402-109">If all applications on the system must use the updated assembly, you should deploy a policy assembly.</span></span> <span data-ttu-id="f6402-110">Un ensamblado de directivas puede redirigir las aplicaciones del sistema para usar la nueva versión de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-110">A policy assembly can redirect applications on the system to use the new assembly version.</span></span> <span data-ttu-id="f6402-111">Los ensamblados de Directiva se deben proporcionar mediante la creación de un nuevo componente.</span><span class="sxs-lookup"><span data-stu-id="f6402-111">Policy assemblies should be provided by creating a new component.</span></span>
-   <span data-ttu-id="f6402-112">Se requiere Windows Installer 3,0 o posterior para desinstalar las actualizaciones de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-112">Windows Installer 3.0 or later is required to uninstall assembly updates.</span></span> <span data-ttu-id="f6402-113">Para obtener más información, consulte [quitar revisiones](removing-patches.md).</span><span class="sxs-lookup"><span data-stu-id="f6402-113">For more information, see [Removing Patches](removing-patches.md).</span></span>
-   <span data-ttu-id="f6402-114">La versión más reciente del ensamblado debe contener la misma versión o versiones posteriores de los archivos de los ensamblados publicados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f6402-114">The newer version of the assembly should contain the same or higher versions of files from previously released assemblies.</span></span>
-   <span data-ttu-id="f6402-115">Windows Installer 3,0 puede atender .NET Framework y ensamblados Win32 mediante un reemplazo de archivo completo o una actualización Delta más pequeña.</span><span class="sxs-lookup"><span data-stu-id="f6402-115">Windows Installer 3.0 can service .NET Framework and Win32 assemblies by a complete file replacement or by a smaller delta update.</span></span> <span data-ttu-id="f6402-116">Para obtener más información, consulte [reducir el tamaño](reducing-patch-size.md)de la revisión.</span><span class="sxs-lookup"><span data-stu-id="f6402-116">For more information, see [Reducing Patch Size](reducing-patch-size.md).</span></span>
-   <span data-ttu-id="f6402-117">Si la actualización cambia el nombre seguro del ensamblado, se necesita la tabla [MsiPatchOldAssemblyFile](msipatcholdassemblyfile-table.md) y la tabla [MsiPatchOldAssemblyName](msipatcholdassemblyname-table.md) si el paquete de revisión no tiene una tabla [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="f6402-117">If your update changes the strong name of the assembly, the [MsiPatchOldAssemblyFile](msipatcholdassemblyfile-table.md) table and [MsiPatchOldAssemblyName](msipatcholdassemblyname-table.md) table are required if the patch package does not have a [MsiPatchSequence](msipatchsequence-table.md) table.</span></span> <span data-ttu-id="f6402-118">La tabla MsiPatchOldAssemblyFile y la tabla MsiPatchOldAssemblyName no son necesarias si el paquete de revisión tiene información de secuenciación de revisiones en una tabla MsiPatchSequence.</span><span class="sxs-lookup"><span data-stu-id="f6402-118">The MsiPatchOldAssemblyFile table and MsiPatchOldAssemblyName table are not required if the patch package has patch sequencing information in a MsiPatchSequence table.</span></span>
-   <span data-ttu-id="f6402-119">Antes de lanzar una nueva revisión, probarla con todas las revisiones publicadas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f6402-119">Before releasing a new patch, test the patch by applying it with all previously released patches.</span></span>

## <a name="updating-win32-assemblies"></a><span data-ttu-id="f6402-120">Actualizar ensamblados Win32</span><span class="sxs-lookup"><span data-stu-id="f6402-120">Updating Win32 Assemblies</span></span>

<span data-ttu-id="f6402-121">Utilice las siguientes directrices para actualizar ensamblados Win32:</span><span class="sxs-lookup"><span data-stu-id="f6402-121">Use the following guidelines when you update Win32 assemblies:</span></span>

-   <span data-ttu-id="f6402-122">Cambie el nombre seguro del nuevo ensamblado que se especifica en la [tabla MsiAssemblyName](msiassemblyname-table.md).</span><span class="sxs-lookup"><span data-stu-id="f6402-122">Change the strong name of the new assembly that is specified in the [MsiAssemblyName table](msiassemblyname-table.md).</span></span>
-   <span data-ttu-id="f6402-123">Si desea que la aplicación utilice siempre la nueva versión del ensamblado sin que afecte a la versión de ensamblado utilizada por otras aplicaciones del sistema, utilice el mismo componente para que contenga la nueva versión de ensamblado que usó para la versión anterior del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-123">If you want your application to always use the new version of the assembly without affecting the assembly version used by other applications on the system, use the same component to contain the new assembly version that you used for the old assembly version.</span></span> <span data-ttu-id="f6402-124">Mantenga el mismo ComponentId en la tabla de [componentes](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="f6402-124">Keep the same ComponentId in the [Component](component-table.md) table.</span></span> <span data-ttu-id="f6402-125">Después de revisar la aplicación, solo contiene una referencia a la nueva versión del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-125">After your application is patched, it only holds a reference to the new version of the assembly.</span></span> <span data-ttu-id="f6402-126">La versión anterior del ensamblado puede permanecer con la nueva versión en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="f6402-126">The old version of the assembly can remain with the new version in the global assembly cache.</span></span> <span data-ttu-id="f6402-127">Esto no afecta a otras aplicaciones del sistema que usan la versión anterior del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-127">This does not affect other applications on the system that use the old version of the assembly.</span></span> <span data-ttu-id="f6402-128">Cuando se usa el mismo componente para las versiones nuevo y anterior del ensamblado, la actualización puede ser una revisión Delta más pequeña.</span><span class="sxs-lookup"><span data-stu-id="f6402-128">When the same component is used for both the new and old versions of the assembly, your update can be a smaller delta patch.</span></span>
-   <span data-ttu-id="f6402-129">Si la nueva versión del ensamblado no es compatible con todos los sistemas en los que desea instalar la aplicación, puede instalar las versiones nuevas y antiguas del ensamblado como ensamblados en paralelo.</span><span class="sxs-lookup"><span data-stu-id="f6402-129">If the new version of the assembly is not compatible with all the systems that you want to install your application on, you can install the new and old versions of the assembly as side-by-side assemblies.</span></span> <span data-ttu-id="f6402-130">Para instalar ambas versiones de ensamblado en paralelo, cree un componente nuevo que contenga la nueva versión de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-130">To install both assembly versions side-by-side, create a new component to contain the new assembly version.</span></span> <span data-ttu-id="f6402-131">El ComponentId de la tabla de [componentes](component-table.md) para el nuevo componente debe ser diferente del ComponentID del componente con la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="f6402-131">The ComponentId in the [Component](component-table.md) table for the new component should be different from the ComponentId of the component with the old version.</span></span> <span data-ttu-id="f6402-132">Después de revisar la aplicación, contiene referencias a ambas versiones de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-132">After your application is patched, it holds references to both assembly versions.</span></span> <span data-ttu-id="f6402-133">A continuación, la aplicación se puede dirigir a la versión compatible del ensamblado mediante un manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f6402-133">Then the application can be directed to the compatible version of the assembly by a manifest.</span></span> <span data-ttu-id="f6402-134">Cuando se usan componentes diferentes para las versiones nuevas y anteriores del ensamblado, la actualización utiliza el reemplazo de archivos completo.</span><span class="sxs-lookup"><span data-stu-id="f6402-134">When different components are used for the new and old versions of the assembly, your update uses complete file replacement.</span></span>

## <a name="updating-net-framework-assemblies"></a><span data-ttu-id="f6402-135">Actualizar ensamblados de .NET Framework</span><span class="sxs-lookup"><span data-stu-id="f6402-135">Updating .NET Framework Assemblies</span></span>

<span data-ttu-id="f6402-136">Utilice las siguientes directrices para actualizar .NET Framework ensamblados.</span><span class="sxs-lookup"><span data-stu-id="f6402-136">Use the following guidelines when you update .NET Framework assemblies.</span></span>

-   <span data-ttu-id="f6402-137">Cambie el nombre seguro del nuevo ensamblado que se especifica en la [tabla MsiAssemblyName](msiassemblyname-table.md).</span><span class="sxs-lookup"><span data-stu-id="f6402-137">Change the strong name of the new assembly that is specified in the [MsiAssemblyName table](msiassemblyname-table.md).</span></span>
-   <span data-ttu-id="f6402-138">Si desea que la aplicación utilice siempre la nueva versión del ensamblado sin que afecte a la versión de ensamblado utilizada por otras aplicaciones del sistema, cambie el nombre seguro del nuevo ensamblado que se especifica en la [tabla MsiAssemblyName](msiassemblyname-table.md)y use el mismo componente para que contenga la nueva versión de ensamblado que usó para la versión anterior del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-138">If you want your application to always use the new version of the assembly without affecting the assembly version used by other applications on the system, change the strong name of the new assembly that is specified in the [MsiAssemblyName table](msiassemblyname-table.md), and use the same component to contain the new assembly version that you used for the old assembly version.</span></span> <span data-ttu-id="f6402-139">Mantenga el mismo ComponentId en la tabla de [componentes](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="f6402-139">Keep the same ComponentId in the [Component](component-table.md) table.</span></span> <span data-ttu-id="f6402-140">Después de revisar la aplicación, solo contiene una referencia a la nueva versión del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-140">After your application is patched, it only holds a reference to the new version of the assembly.</span></span> <span data-ttu-id="f6402-141">La versión anterior del ensamblado puede permanecer con la nueva versión en la caché global.</span><span class="sxs-lookup"><span data-stu-id="f6402-141">The old version of the assembly can remain with the new version in the global cache.</span></span> <span data-ttu-id="f6402-142">Esto no afecta a otras aplicaciones del sistema que usan la versión anterior del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-142">This does not affect other applications on the system that use the old version of the assembly.</span></span> <span data-ttu-id="f6402-143">Cuando se usa el mismo componente para las versiones nuevo y anterior del ensamblado, la actualización puede ser una revisión Delta más pequeña.</span><span class="sxs-lookup"><span data-stu-id="f6402-143">When the same component is used for both the new and old versions of the assembly, your update can be a smaller delta patch.</span></span>
-   <span data-ttu-id="f6402-144">Si la nueva versión del ensamblado no es compatible con todos los sistemas en los que desea instalar la aplicación, puede instalar las versiones nuevas y antiguas del ensamblado como ensamblados en paralelo.</span><span class="sxs-lookup"><span data-stu-id="f6402-144">If the new version of the assembly is not compatible with all systems that you want to install your application on, you can install the new and old versions of the assembly as side-by-side assemblies.</span></span> <span data-ttu-id="f6402-145">Para instalar ambas versiones de ensamblado en paralelo, cambie el nombre seguro del nuevo ensamblado que se especifica en la [tabla MsiAssemblyName](msiassemblyname-table.md)y cree un componente nuevo que contenga la nueva versión de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-145">To install both assembly versions side-by-side, change the strong name of the new assembly that is specified in the [MsiAssemblyName table](msiassemblyname-table.md), and create a new component to contain the new assembly version.</span></span> <span data-ttu-id="f6402-146">El ComponentId de la tabla de [componentes](component-table.md) para el nuevo componente debe ser diferente del ComponentID del componente con la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="f6402-146">The ComponentId in the [Component](component-table.md) table for the new component should be different than the ComponentId of the component with the old version.</span></span> <span data-ttu-id="f6402-147">Después de revisar la aplicación, contiene referencias a ambas versiones de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-147">After your application is patched, it holds references to both assembly versions.</span></span> <span data-ttu-id="f6402-148">A continuación, la aplicación se puede dirigir a la versión compatible del ensamblado mediante un manifiesto.</span><span class="sxs-lookup"><span data-stu-id="f6402-148">The application can then be directed to the compatible version of the assembly by a manifest.</span></span> <span data-ttu-id="f6402-149">Cuando se usan componentes diferentes para las versiones nuevas y anteriores del ensamblado, la actualización utiliza el reemplazo de archivos completo.</span><span class="sxs-lookup"><span data-stu-id="f6402-149">When different components are used for the new and old versions of the assembly, your update uses complete file replacement.</span></span>
-   <span data-ttu-id="f6402-150">Una actualización en contexto sobrescribe la copia de un ensamblado de .NET Framework en la caché global de ensamblados.</span><span class="sxs-lookup"><span data-stu-id="f6402-150">An in-place update overwrites the copy of a .NET Framework Assembly in the global assembly cache.</span></span> <span data-ttu-id="f6402-151">Este tipo de actualización de ensamblado no cambia el nombre seguro del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="f6402-151">This type of assembly update does not change the strong name of the assembly.</span></span> <span data-ttu-id="f6402-152">Solo se cambia el valor del campo FileVersion de la [tabla MsiAssemblyName](msiassemblyname-table.md) .</span><span class="sxs-lookup"><span data-stu-id="f6402-152">Only the value in the FileVersion field of the [MsiAssemblyName table](msiassemblyname-table.md) is changed.</span></span> <span data-ttu-id="f6402-153">La actualización en contexto de un ensamblado de .NET Framework requiere .NET Framework 1,1 SP1 o posterior.</span><span class="sxs-lookup"><span data-stu-id="f6402-153">The in-place update of a .NET Framework Assembly requires .NET Framework 1.1 SP1 or greater.</span></span>
    > [!Note]  
    > <span data-ttu-id="f6402-154">El tipo en contexto de Update sobrescribe la copia del ensamblado en la memoria caché global y puede interrumpir otras aplicaciones si la nueva versión del ensamblado no es totalmente compatible con versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="f6402-154">The in-place type of update overwrites the copy of the assembly in the global cache, and can break other applications if the new version of the assembly is not completely backward compatible.</span></span> <span data-ttu-id="f6402-155">El método recomendado para actualizar un ensamblado es cambiar el nombre seguro del ensamblado en la [tabla MsiAssemblyName](msiassemblyname-table.md).</span><span class="sxs-lookup"><span data-stu-id="f6402-155">The recommended method for updating an assembly is to change the strong name of the assembly in the [MsiAssemblyName table](msiassemblyname-table.md).</span></span>

     

 

 



