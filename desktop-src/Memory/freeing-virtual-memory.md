---
description: La función VirtualFree desconfirma y libera las páginas de acuerdo con las reglas siguientes.
ms.assetid: 8fbd7960-f3f0-4326-ad1d-12b636c0039e
title: Liberar memoria virtual
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7628ed53f956d5cd13f0c7d2d1157443d529129
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105677358"
---
# <a name="freeing-virtual-memory"></a><span data-ttu-id="0f236-103">Liberar memoria virtual</span><span class="sxs-lookup"><span data-stu-id="0f236-103">Freeing Virtual Memory</span></span>

<span data-ttu-id="0f236-104">La función [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) desconfirma y libera las páginas según las siguientes reglas:</span><span class="sxs-lookup"><span data-stu-id="0f236-104">The [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) function decommits and releases pages according to the following rules:</span></span>

-   <span data-ttu-id="0f236-105">Anula la confirmación de una o varias páginas confirmadas, lo que cambia el estado de las páginas a reservado.</span><span class="sxs-lookup"><span data-stu-id="0f236-105">Decommits one or more committed pages, changing the state of the pages to reserved.</span></span> <span data-ttu-id="0f236-106">La desactivación de páginas libera el almacenamiento físico asociado con las páginas, lo que hace que esté disponible para que lo asigne cualquier proceso.</span><span class="sxs-lookup"><span data-stu-id="0f236-106">Decommitting pages releases the physical storage associated with the pages, making it available to be allocated by any process.</span></span> <span data-ttu-id="0f236-107">Cualquier bloque de páginas confirmadas se puede desasignar.</span><span class="sxs-lookup"><span data-stu-id="0f236-107">Any block of committed pages can be decommitted.</span></span>
-   <span data-ttu-id="0f236-108">Libera un bloque de una o varias páginas reservadas, lo que cambia el estado de las páginas a gratis.</span><span class="sxs-lookup"><span data-stu-id="0f236-108">Releases a block of one or more reserved pages, changing the state of the pages to free.</span></span> <span data-ttu-id="0f236-109">Al liberar un bloque de páginas, el proceso puede asignar el intervalo de direcciones reservadas.</span><span class="sxs-lookup"><span data-stu-id="0f236-109">Releasing a block of pages makes the range of reserved addresses available to be allocated by the process.</span></span> <span data-ttu-id="0f236-110">Las páginas reservadas solo se pueden liberar liberando todo el bloque que ha reservado inicialmente [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span><span class="sxs-lookup"><span data-stu-id="0f236-110">Reserved pages can be released only by freeing the entire block that was initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span></span>
-   <span data-ttu-id="0f236-111">Desconfirma y libera un bloque de una o varias páginas confirmadas simultáneamente, lo que cambia el estado de las páginas a gratis.</span><span class="sxs-lookup"><span data-stu-id="0f236-111">Decommits and releases a block of one or more committed pages simultaneously, changing the state of the pages to free.</span></span> <span data-ttu-id="0f236-112">El bloque especificado debe incluir el bloque completo inicialmente reservado por [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)y todas las páginas deben estar confirmadas actualmente.</span><span class="sxs-lookup"><span data-stu-id="0f236-112">The specified block must include the entire block initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), and all of the pages must be currently committed.</span></span>

<span data-ttu-id="0f236-113">Después de liberar o desasignar un bloque de memoria, nunca puede hacer referencia a él de nuevo.</span><span class="sxs-lookup"><span data-stu-id="0f236-113">After a memory block is released or decommitted, you can never refer to it again.</span></span> <span data-ttu-id="0f236-114">Toda la información que pueda haber estado en esa memoria quedará indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="0f236-114">Any information that may have been in that memory is gone forever.</span></span> <span data-ttu-id="0f236-115">Al intentar leer o escribir en una página libre, se produce una excepción de infracción de acceso.</span><span class="sxs-lookup"><span data-stu-id="0f236-115">Attempting to read from or write to a free page results in an access violation exception.</span></span> <span data-ttu-id="0f236-116">Si necesita información, no desconfirme ni libere memoria que contenga esa información.</span><span class="sxs-lookup"><span data-stu-id="0f236-116">If you require information, do not decommit or free memory containing that information.</span></span>

<span data-ttu-id="0f236-117">Para especificar que los datos de un intervalo de memoria ya no son de interés, llame a [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) con el **\_ restablecimiento** de memoria.</span><span class="sxs-lookup"><span data-stu-id="0f236-117">To specify that the data in a memory range is no longer of interest, call [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) with **MEM\_RESET**.</span></span> <span data-ttu-id="0f236-118">Las páginas no se leerán ni se escribirán en el archivo de paginación.</span><span class="sxs-lookup"><span data-stu-id="0f236-118">The pages will not be read from or written to the paging file.</span></span> <span data-ttu-id="0f236-119">Sin embargo, el bloque de memoria se puede volver a usar más adelante.</span><span class="sxs-lookup"><span data-stu-id="0f236-119">However, the memory block can be used again later.</span></span>

 

 
