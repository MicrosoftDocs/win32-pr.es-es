---
description: Suplentes y caracteres suplementarios
ms.assetid: 0dea39e2-a2b4-47fc-b44a-56af8ba1e346
title: Suplentes y caracteres suplementarios
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8d6b738955c8b8de4f6cb0ae43c78f86752a928
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "105652413"
---
# <a name="surrogates-and-supplementary-characters"></a><span data-ttu-id="07d65-103">Suplentes y caracteres suplementarios</span><span class="sxs-lookup"><span data-stu-id="07d65-103">Surrogates and Supplementary Characters</span></span>

<span data-ttu-id="07d65-104">Normalmente, las aplicaciones Windows usan UTF-16 para representar los datos de caracteres [Unicode](unicode.md) .</span><span class="sxs-lookup"><span data-stu-id="07d65-104">Windows applications normally use UTF-16 to represent [Unicode](unicode.md) character data.</span></span> <span data-ttu-id="07d65-105">El uso de 16 bits permite la representación directa de 65.536 caracteres únicos, pero este plano básico multilingüe (BMP) no es lo suficientemente grande como para abarcar todos los símbolos que se usan en los idiomas humanos.</span><span class="sxs-lookup"><span data-stu-id="07d65-105">The use of 16 bits allows direct representation of 65,536 unique characters, but this Basic Multilingual Plane (BMP) is not nearly enough to cover all the symbols used in human languages.</span></span> <span data-ttu-id="07d65-106">La versión 4,1 de Unicode incluye más de 97.000 caracteres, con más de 70.000 caracteres únicamente para chino.</span><span class="sxs-lookup"><span data-stu-id="07d65-106">Unicode version 4.1 includes over 97,000 characters, with over 70,000 characters for Chinese alone.</span></span>

<span data-ttu-id="07d65-107">El estándar Unicode ha establecido 16 "planos" adicionales de caracteres, cada uno de los cuales tiene el mismo tamaño que el BMP.</span><span class="sxs-lookup"><span data-stu-id="07d65-107">The Unicode standard has established 16 additional "planes" of characters, each the same size as the BMP.</span></span> <span data-ttu-id="07d65-108">Naturalmente, la mayoría de los puntos de código más allá del BMP todavía no tienen caracteres asignados, pero la definición de los planos permite que Unicode sea el potencial para definir 1.114.112 caracteres (es decir, 2 ¹ ⁶ \* 17 caracteres) dentro del intervalo de puntos de código de u + 0000 a u + 10FFFF.</span><span class="sxs-lookup"><span data-stu-id="07d65-108">Naturally, most code points beyond the BMP do not yet have characters assigned to them, but definition of the planes gives Unicode the potential to define 1,114,112 characters (that is, 2¹⁶ \* 17 characters) within the code point range U+0000 to U+10FFFF.</span></span> <span data-ttu-id="07d65-109">En el caso de UTF-16 para representar este conjunto de caracteres más grande, el estándar Unicode define "caracteres adicionales".</span><span class="sxs-lookup"><span data-stu-id="07d65-109">For UTF-16 to represent this larger set of characters, the Unicode Standard defines "supplementary characters".</span></span>

## <a name="about-supplementary-characters"></a><span data-ttu-id="07d65-110">Acerca de los caracteres adicionales</span><span class="sxs-lookup"><span data-stu-id="07d65-110">About Supplementary Characters</span></span>

<span data-ttu-id="07d65-111">Un carácter suplementario es un carácter que se encuentra más allá del BMP y un "suplente" es un valor de código UTF-16.</span><span class="sxs-lookup"><span data-stu-id="07d65-111">A supplementary character is a character located beyond the BMP, and a "surrogate" is a UTF-16 code value.</span></span> <span data-ttu-id="07d65-112">Para UTF-16, se requiere un "par suplente" para representar un único carácter suplementario.</span><span class="sxs-lookup"><span data-stu-id="07d65-112">For UTF-16, a "surrogate pair" is required to represent a single supplementary character.</span></span> <span data-ttu-id="07d65-113">El primer suplente (alto) es un valor de código de 16 bits comprendido entre U + D800 y U + DBFF.</span><span class="sxs-lookup"><span data-stu-id="07d65-113">The first (high) surrogate is a 16-bit code value in the range U+D800 to U+DBFF.</span></span> <span data-ttu-id="07d65-114">El segundo suplente (bajo) es un valor de código de 16 bits en el intervalo de U + DC00 a U + DFFF.</span><span class="sxs-lookup"><span data-stu-id="07d65-114">The second (low) surrogate is a 16-bit code value in the range U+DC00 to U+DFFF.</span></span> <span data-ttu-id="07d65-115">Mediante el mecanismo suplente, UTF-16 puede admitir todos los caracteres Unicode posibles 1.114.112.</span><span class="sxs-lookup"><span data-stu-id="07d65-115">Using the surrogate mechanism, UTF-16 can support all 1,114,112 potential Unicode characters.</span></span> <span data-ttu-id="07d65-116">Para obtener más información sobre los caracteres adicionales, los suplentes y los pares suplentes, consulte [el estándar Unicode](https://www.unicode.org/standard/standard.html).</span><span class="sxs-lookup"><span data-stu-id="07d65-116">For more details about supplementary characters, surrogates, and surrogate pairs, refer to [The Unicode Standard](https://www.unicode.org/standard/standard.html).</span></span>

> [!Note]  
> <span data-ttu-id="07d65-117">Windows 2000 incluye compatibilidad con la entrada básica, la salida y la ordenación simple de caracteres adicionales.</span><span class="sxs-lookup"><span data-stu-id="07d65-117">Windows 2000 introduces support for basic input, output, and simple sorting of supplementary characters.</span></span> <span data-ttu-id="07d65-118">Sin embargo, no todos los componentes del sistema son compatibles con los caracteres adicionales.</span><span class="sxs-lookup"><span data-stu-id="07d65-118">However, not all system components are compatible with supplementary characters.</span></span>

 

<span data-ttu-id="07d65-119">El sistema operativo admite caracteres adicionales de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="07d65-119">The operating system supports supplementary characters in the following ways:</span></span>

-   <span data-ttu-id="07d65-120">El formato 12 de la tabla CMAP de fuente OpenType es compatible directamente con el código de caracteres de 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="07d65-120">Format 12 of the OpenType font cmap table directly supports the 4-byte character code.</span></span> <span data-ttu-id="07d65-121">Para obtener más información, vea la [especificación de fuente OpenType](/typography/opentype/spec/).</span><span class="sxs-lookup"><span data-stu-id="07d65-121">For more information, see the [OpenType font specification](/typography/opentype/spec/).</span></span>
-   <span data-ttu-id="07d65-122">Windows admite [editores de métodos de entrada (IME)](../dxtecharts/installing-and-using-input-method-editors.md)habilitados para suplentes.</span><span class="sxs-lookup"><span data-stu-id="07d65-122">Windows supports surrogate-enabled [input method editors (IMEs)](../dxtecharts/installing-and-using-input-method-editors.md).</span></span>
-   <span data-ttu-id="07d65-123">La API de [Windows GDI](../gdi/windows-gdi.md) admite el formato 12 tablas de CMAP en fuentes para que los suplentes se puedan mostrar correctamente.</span><span class="sxs-lookup"><span data-stu-id="07d65-123">The [Windows GDI](../gdi/windows-gdi.md) API supports format 12 cmap tables in fonts so that surrogates can be displayed correctly.</span></span>
-   <span data-ttu-id="07d65-124">La API de [Uniscribe](uniscribe.md) admite caracteres adicionales.</span><span class="sxs-lookup"><span data-stu-id="07d65-124">The [Uniscribe](uniscribe.md) API supports supplementary characters.</span></span>
-   <span data-ttu-id="07d65-125">[Los controles de Windows](../controls/window-controls.md), incluidos [edición](../controls/edit-controls.md) y [edición enriquecida](../controls/rich-edit-controls.md), admiten caracteres complementarios.</span><span class="sxs-lookup"><span data-stu-id="07d65-125">[Windows controls](../controls/window-controls.md), including [Edit](../controls/edit-controls.md) and [Rich Edit](../controls/rich-edit-controls.md), support supplementary characters.</span></span>
-   <span data-ttu-id="07d65-126">El motor HTML admite páginas HTML que incluyen caracteres adicionales para mostrar, editar (a través de Outlook Express) y envío de formularios.</span><span class="sxs-lookup"><span data-stu-id="07d65-126">The HTML engine supports HTML pages that include supplementary characters for display, editing (through Outlook Express), and forms submission.</span></span>
-   <span data-ttu-id="07d65-127">La tabla de ordenación del sistema operativo admite caracteres adicionales.</span><span class="sxs-lookup"><span data-stu-id="07d65-127">The operating system sorting table supports supplementary characters.</span></span>

## <a name="general-guidelines-for-software-development-using-supplementary-characters"></a><span data-ttu-id="07d65-128">Directrices generales para el desarrollo de software mediante caracteres adicionales</span><span class="sxs-lookup"><span data-stu-id="07d65-128">General Guidelines for Software Development Using Supplementary Characters</span></span>

<span data-ttu-id="07d65-129">UTF-16 controla los caracteres complementarios como pares suplentes.</span><span class="sxs-lookup"><span data-stu-id="07d65-129">UTF-16 handles supplementary characters as surrogate pairs.</span></span> <span data-ttu-id="07d65-130">El sistema operativo procesa un par suplente de forma similar al modo en que procesa las marcas de no [espacio](using-nonspacing-characters-and-diacritics.md).</span><span class="sxs-lookup"><span data-stu-id="07d65-130">The operating system processes a surrogate pair similarly to the way it processes [nonspacing marks](using-nonspacing-characters-and-diacritics.md).</span></span> <span data-ttu-id="07d65-131">En el momento de la presentación, el par suplente se muestra como un glifo por medio de Uniscribe, como se indica en el estándar Unicode.</span><span class="sxs-lookup"><span data-stu-id="07d65-131">At display time, the surrogate pair displays as one glyph by means of Uniscribe, as prescribed by the Unicode Standard.</span></span>

<span data-ttu-id="07d65-132">Windows Vista presenta tres nuevas macros para ayudar a identificar los suplentes y los pares suplentes en cadenas UTF-16.</span><span class="sxs-lookup"><span data-stu-id="07d65-132">Windows Vista introduces three new macros to help identify surrogates and surrogate pairs in UTF-16 strings.</span></span> <span data-ttu-id="07d65-133">Se [**trata de \_ un \_ suplente alto**](/windows/win32/api/Winnls/nf-winnls-is_high_surrogate), [**es un \_ \_ suplente bajo**](/windows/win32/api/Winnls/nf-winnls-is_low_surrogate)y [**es un \_ \_ par suplente**](/windows/win32/api/Winnls/nf-winnls-is_surrogate_pair).</span><span class="sxs-lookup"><span data-stu-id="07d65-133">These are [**IS\_HIGH\_SURROGATE**](/windows/win32/api/Winnls/nf-winnls-is_high_surrogate), [**IS\_LOW\_SURROGATE**](/windows/win32/api/Winnls/nf-winnls-is_low_surrogate), and [**IS\_SURROGATE\_PAIR**](/windows/win32/api/Winnls/nf-winnls-is_surrogate_pair).</span></span>

<span data-ttu-id="07d65-134">Las aplicaciones admiten automáticamente los caracteres adicionales si admiten Unicode y usan controles del sistema y funciones de la API estándar, como [**ExtTextOut**](/windows/win32/api/wingdi/nf-wingdi-exttextouta) y [**DrawText**](/windows/win32/api/winuser/nf-winuser-drawtext).</span><span class="sxs-lookup"><span data-stu-id="07d65-134">Applications automatically support supplementary characters if they support Unicode and use system controls and standard API functions, such as [**ExtTextOut**](/windows/win32/api/wingdi/nf-wingdi-exttextouta) and [**DrawText**](/windows/win32/api/winuser/nf-winuser-drawtext).</span></span> <span data-ttu-id="07d65-135">Por lo tanto, si la aplicación usa controles del sistema estándar o utiliza llamadas generales de tipo [**ExtTextOut**](/windows/win32/api/wingdi/nf-wingdi-exttextouta)para mostrar, los caracteres adicionales deben funcionar sin ninguna codificación especial.</span><span class="sxs-lookup"><span data-stu-id="07d65-135">Thus, if your application uses standard system controls or uses general [**ExtTextOut**](/windows/win32/api/wingdi/nf-wingdi-exttextouta)-type calls to display, supplementary characters should work without any special coding.</span></span>

<span data-ttu-id="07d65-136">Las aplicaciones que implementan su propia compatibilidad de edición mediante la utilización de las posiciones del glifo de una manera personalizada pueden utilizar unipose para todo el procesamiento de texto.</span><span class="sxs-lookup"><span data-stu-id="07d65-136">Applications that implement their own editing support by working out glyph positions in a customized way can use Uniscribe for all text processing.</span></span> <span data-ttu-id="07d65-137">Uniscribe tiene funciones independientes para tratar con el procesamiento de scripts complejos, como la presentación de texto, la prueba de posicionamiento y el movimiento del cursor.</span><span class="sxs-lookup"><span data-stu-id="07d65-137">Uniscribe has separate functions to deal with complex script processing, such as text display, hit testing, and cursor movement.</span></span> <span data-ttu-id="07d65-138">Una aplicación debe llamar a las funciones de Uniscribe específicamente para obtener estas características avanzadas.</span><span class="sxs-lookup"><span data-stu-id="07d65-138">An application must call the Uniscribe functions specifically to get these advanced features.</span></span> <span data-ttu-id="07d65-139">Tenga en cuenta que las aplicaciones que usan las funciones de Uniscribe son totalmente multilingües, pero esto impone una reducción del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="07d65-139">Note that applications using the Uniscribe functions are fully multilingual, but this imposes a performance penalty.</span></span> <span data-ttu-id="07d65-140">Por lo tanto, algunas aplicaciones deben realizar su propio procesamiento de caracteres adicionales.</span><span class="sxs-lookup"><span data-stu-id="07d65-140">Thus some applications should do their own processing of supplementary characters.</span></span>

<span data-ttu-id="07d65-141">Dado que el mecanismo suplente para representar los caracteres complementarios está bien definido, la aplicación puede incluir código para controlar el procesamiento de texto suplente UTF-16.</span><span class="sxs-lookup"><span data-stu-id="07d65-141">Because the surrogate mechanism to represent supplementary characters is well-defined, your application can include code to handle UTF-16 surrogate text processing.</span></span> <span data-ttu-id="07d65-142">Cuando la aplicación encuentra un valor UTF-16 separado desde el intervalo suplente menor reservado (un suplente bajo) o el intervalo suplente superior (un suplente alto), el valor debe ser una mitad de un par suplente.</span><span class="sxs-lookup"><span data-stu-id="07d65-142">When the application encounters a separated UTF-16 value from either the lower reserved surrogate range (a low surrogate) or the upper reserved surrogate range (a high surrogate), the value must be one half of a surrogate pair.</span></span> <span data-ttu-id="07d65-143">Por lo tanto, la aplicación puede detectar un par suplente realizando una comprobación de intervalo simple.</span><span class="sxs-lookup"><span data-stu-id="07d65-143">Thus, the application can detect a surrogate pair by doing simple range checking.</span></span> <span data-ttu-id="07d65-144">Si encuentra un valor UTF-16 en el intervalo inferior o superior, debe realizar un seguimiento del ancho de bit de 1 16 hacia atrás o hacia delante para obtener el resto del carácter.</span><span class="sxs-lookup"><span data-stu-id="07d65-144">If it encounters a UTF-16 value in the lower or upper range, it must track backward or forward one 16-bit width to get the rest of the character.</span></span> <span data-ttu-id="07d65-145">Al escribir la aplicación, tenga en cuenta que [**CharNext**](/windows/win32/api/winuser/nf-winuser-charnexta) y [**CharPrev**](/windows/win32/api/winuser/nf-winuser-charpreva) se mueven por puntos de código de 16 bits, no por pares suplentes.</span><span class="sxs-lookup"><span data-stu-id="07d65-145">When writing your application, keep in mind that [**CharNext**](/windows/win32/api/winuser/nf-winuser-charnexta) and [**CharPrev**](/windows/win32/api/winuser/nf-winuser-charpreva) move by 16-bit code points, not by surrogate pairs.</span></span>

> [!Note]  
> <span data-ttu-id="07d65-146">Los puntos de código suplente independientes tienen un suplente alto sin un suplente bajo adyacente, o viceversa.</span><span class="sxs-lookup"><span data-stu-id="07d65-146">Standalone surrogate code points have either a high surrogate without an adjacent low surrogate, or vice versa.</span></span> <span data-ttu-id="07d65-147">Estos puntos de código no son válidos y no se admiten.</span><span class="sxs-lookup"><span data-stu-id="07d65-147">These code points are invalid and are not supported.</span></span> <span data-ttu-id="07d65-148">Su comportamiento es indefinido.</span><span class="sxs-lookup"><span data-stu-id="07d65-148">Their behavior is undefined.</span></span>

 

<span data-ttu-id="07d65-149">Si está desarrollando una fuente o un proveedor de IME, tenga en cuenta que los sistemas operativos anteriores a Windows XP deshabilitan la compatibilidad con caracteres adicionales de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="07d65-149">If you are developing a font or IME provider, note that pre-Windows XP operating systems disable supplementary character support by default.</span></span> <span data-ttu-id="07d65-150">Windows XP y versiones posteriores habilitan los caracteres complementarios de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="07d65-150">Windows XP and later enable supplementary characters by default.</span></span> <span data-ttu-id="07d65-151">Si proporciona un paquete de fuentes y IME que requiere caracteres adicionales, la aplicación debe establecer los siguientes valores del registro:</span><span class="sxs-lookup"><span data-stu-id="07d65-151">If you provide a font and IME package that requires supplementary characters, your application must set the following registry values:</span></span>


```C++
[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\LanguagePack]
SURROGATE=(REG_DWORD)0x00000002

[HKEY_CURRENT_USER\Software\Microsoft\Internet Explorer\International\Scripts\42]
IEFixedFontName=[Surrogate Font Face Name]
IEPropFontName=[Surrogate Font Face Name]
```



## <a name="related-topics"></a><span data-ttu-id="07d65-152">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="07d65-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="07d65-153">Juegos de caracteres</span><span class="sxs-lookup"><span data-stu-id="07d65-153">Character Sets</span></span>](character-sets.md)
</dt> </dl>

 

 
