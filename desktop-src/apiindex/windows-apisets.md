---
description: Los conjuntos de API son grupos funcionales de las API de Win32 en el sistema operativo principal. Proporcionan una separación arquitectónica de la DLL de host en la que se define una API de Win32 determinada y el grupo funcional al que pertenece la API.
title: Conjuntos de API de Windows
ms.topic: article
ms.date: 10/14/2020
ms.openlocfilehash: 15c8e6ad8124abf06e6ab3c2a8ca2bcd83772855
ms.sourcegitcommit: db89157e3be911fdce2e543e99faa31fb2403bc8
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/18/2020
ms.locfileid: "104488615"
---
# <a name="windows-api-sets"></a><span data-ttu-id="10a7c-104">Conjuntos de API de Windows</span><span class="sxs-lookup"><span data-stu-id="10a7c-104">Windows API sets</span></span>

<span data-ttu-id="10a7c-105">Todas las versiones de Windows 10 comparten una base común de componentes del sistema operativo que se denomina *sistema operativo principal* (en algunos contextos, esta base común también se denomina *OneCore*).</span><span class="sxs-lookup"><span data-stu-id="10a7c-105">All versions of Windows 10 share a common base of OS components that is called the *core OS* (in some contexts this common base is also called *OneCore*).</span></span> <span data-ttu-id="10a7c-106">En los componentes principales del sistema operativo, las API de Win32 están organizadas en grupos funcionales denominados *conjuntos de API*.</span><span class="sxs-lookup"><span data-stu-id="10a7c-106">In core OS components, Win32 APIs are organized into functional groups called *API sets*.</span></span>

<span data-ttu-id="10a7c-107">El propósito de un conjunto de API es proporcionar una separación arquitectónica de la DLL de host en la que se implementa una API de Win32 determinada y el contrato funcional al que pertenece la API.</span><span class="sxs-lookup"><span data-stu-id="10a7c-107">The purpose of an API set is to provide an architectural separation from the host DLL in which a given Win32 API is implemented and the functional contract to which the API belongs.</span></span> <span data-ttu-id="10a7c-108">El desacoplamiento que proporcionan los conjuntos de API entre la implementación y los contratos ofrece muchas ventajas de ingeniería para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="10a7c-108">The decoupling that API sets provide between implementation and contracts offers many engineering advantages for developers.</span></span> <span data-ttu-id="10a7c-109">En concreto, el uso de conjuntos de API en el código puede mejorar la compatibilidad con todos los dispositivos de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="10a7c-109">In particular, using API sets in your code can improve compatibility with all Windows 10 devices.</span></span>

<span data-ttu-id="10a7c-110">Los conjuntos de API abordan específicamente los escenarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="10a7c-110">API sets specifically address the following scenarios:</span></span>

- <span data-ttu-id="10a7c-111">Aunque el alcance completo de la API de Win32 es compatible con los equipos, solo hay un subconjunto de la API de Win32 disponible en otros dispositivos con Windows 10, como HoloLens, Xbox y otros dispositivos que ejecutan Windows 10X.</span><span class="sxs-lookup"><span data-stu-id="10a7c-111">Although the full breadth of the Win32 API is supported on PCs, only a subset of the Win32 API is available on other Windows 10 devices such as HoloLens, Xbox, and other devices running Windows 10x.</span></span> <span data-ttu-id="10a7c-112">El nombre del conjunto de API proporciona un mecanismo de consulta para detectar correctamente si una API está disponible en cualquier dispositivo determinado.</span><span class="sxs-lookup"><span data-stu-id="10a7c-112">The API set name provides a query mechanism to cleanly detect whether an API is available on any given device.</span></span>

- <span data-ttu-id="10a7c-113">Algunas implementaciones de API de Win32 existen en archivos DLL con nombres diferentes en distintos dispositivos de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="10a7c-113">Some Win32 API implementations exist in DLLs with different names across different Windows 10 devices.</span></span> <span data-ttu-id="10a7c-114">El uso de nombres de conjuntos de API en lugar de nombres de DLL al detectar la disponibilidad de API y retrasar la carga de API proporcionan una ruta correcta a la implementación independientemente de dónde se implemente realmente la API.</span><span class="sxs-lookup"><span data-stu-id="10a7c-114">Using API set names instead of DLL names when detecting API availability and delay loading APIs provide a correct route to the implementation no matter where the API is actually implemented.</span></span>

<span data-ttu-id="10a7c-115">Para obtener más información, consulte [operación del cargador de conjunto de API](api-set-loader-operation.md) y [detectar disponibilidad del conjunto de API](detect-api-set-availability.md).</span><span class="sxs-lookup"><span data-stu-id="10a7c-115">For more details, see [API set loader operation](api-set-loader-operation.md) and [Detect API set availability](detect-api-set-availability.md).</span></span>

## <a name="linking-to-umbrella-libraries"></a><span data-ttu-id="10a7c-116">Vincular a bibliotecas de paraguas</span><span class="sxs-lookup"><span data-stu-id="10a7c-116">Linking to umbrella libraries</span></span>

<span data-ttu-id="10a7c-117">Para facilitar la restricción del código a las API de Win32 que se admiten en el sistema operativo principal, se proporciona una serie de *bibliotecas de paraguas*.</span><span class="sxs-lookup"><span data-stu-id="10a7c-117">To make it easier to restrict your code to Win32 APIs that are supported in the core OS, we provide a series of *umbrella libraries*.</span></span> <span data-ttu-id="10a7c-118">Por ejemplo, una biblioteca de paraguas denominada OneCore. lib proporciona las exportaciones para el subconjunto de las API de Win32 que son comunes a todos los dispositivos de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="10a7c-118">For example, an umbrella library named OneCore.lib provides the exports for the subset of Win32 APIs that are common to all Windows 10 devices.</span></span>

<span data-ttu-id="10a7c-119">Las API de una biblioteca paraguas se pueden implementar en un intervalo de módulos.</span><span class="sxs-lookup"><span data-stu-id="10a7c-119">The APIs in an umbrella library may be implemented across a range of modules.</span></span> <span data-ttu-id="10a7c-120">La biblioteca de paraguas abstrae esos detalles, lo que hace que el código sea más portátil entre las versiones y los dispositivos de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="10a7c-120">The umbrella library abstracts those details away from you, making your code more portable across Windows 10 versions and devices.</span></span> <span data-ttu-id="10a7c-121">En lugar de vincular a bibliotecas como Kernel32. lib y advapi32. lib, simplemente vincule la aplicación de escritorio o el controlador con la biblioteca de paraguas que contiene el conjunto de API principales del sistema operativo que le interesan.</span><span class="sxs-lookup"><span data-stu-id="10a7c-121">Instead of linking to libraries such as kernel32.lib and advapi32.lib, simply link your desktop app or driver with the umbrella library that contains the set of core OS APIs that you're interested in.</span></span>

<span data-ttu-id="10a7c-122">Para obtener más información, consulte [bibliotecas de paraguas de Windows](windows-umbrella-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="10a7c-122">For more details, see [Windows umbrella libraries](windows-umbrella-libraries.md).</span></span>

## <a name="api-set-contract-names"></a><span data-ttu-id="10a7c-123">Nombres de contrato del conjunto de API</span><span class="sxs-lookup"><span data-stu-id="10a7c-123">API set contract names</span></span>

<span data-ttu-id="10a7c-124">Los conjuntos de API se identifican mediante un nombre de contrato seguro que sigue estas convenciones estándar reconocidas por el cargador de la biblioteca.</span><span class="sxs-lookup"><span data-stu-id="10a7c-124">API sets are identified by a strong contract name that follows these standard conventions recognized by the library loader.</span></span> 

- <span data-ttu-id="10a7c-125">El nombre debe comenzar con la **API de cadena-** o **ext-**.</span><span class="sxs-lookup"><span data-stu-id="10a7c-125">The name must begin either with the string **api-** or **ext-**.</span></span> 
    - <span data-ttu-id="10a7c-126">Los nombres que comienzan por **API-** representan las API que se garantiza que existen en todas las versiones de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="10a7c-126">Names that begin with **api-** represent APIs that are guaranteed to exist on all Windows 10 versions.</span></span>
    - <span data-ttu-id="10a7c-127">Nombres que comienzan por **EXT:** representan API que pueden no existir en todas las versiones de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="10a7c-127">Names that begin with **ext-** represent APIs that may not exist on all Windows 10 versions.</span></span>
- <span data-ttu-id="10a7c-128">El nombre debe terminar con la secuencia **l \<n\> - \<n\> - \<n\>**, donde **n** consta de dígitos decimales.</span><span class="sxs-lookup"><span data-stu-id="10a7c-128">The name must end with the sequence **l\<n\>-\<n\>-\<n\>**, where **n** consists of decimal digits.</span></span>
- <span data-ttu-id="10a7c-129">El cuerpo del nombre puede ser caracteres alfanuméricos o guiones ( **-** ).</span><span class="sxs-lookup"><span data-stu-id="10a7c-129">The body of the name can be alphanumeric characters, or dashes (**-**).</span></span>
- <span data-ttu-id="10a7c-130">El nombre distingue mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="10a7c-130">The name is case insensitive.</span></span>

<span data-ttu-id="10a7c-131">Estos son algunos ejemplos de nombres de contrato de conjunto de API:</span><span class="sxs-lookup"><span data-stu-id="10a7c-131">Here are some examples of API set contract names:</span></span>

- <span data-ttu-id="10a7c-132">**API-MS-WIN-Core-UMS-L1-1-0**</span><span class="sxs-lookup"><span data-stu-id="10a7c-132">**api-ms-win-core-ums-l1-1-0**</span></span>
- <span data-ttu-id="10a7c-133">**EXT-MS-WIN-com-ole32-L1-1-5**</span><span class="sxs-lookup"><span data-stu-id="10a7c-133">**ext-ms-win-com-ole32-l1-1-5**</span></span>
- <span data-ttu-id="10a7c-134">**EXT-MS-WIN-Ntuser-Window-L1-1-0**</span><span class="sxs-lookup"><span data-stu-id="10a7c-134">**ext-ms-win-ntuser-window-l1-1-0**</span></span>
- <span data-ttu-id="10a7c-135">**EXT-MS-WIN-Ntuser-Window-L1-1-1**</span><span class="sxs-lookup"><span data-stu-id="10a7c-135">**ext-ms-win-ntuser-window-l1-1-1**</span></span>

<span data-ttu-id="10a7c-136">Puede usar un nombre de conjunto de API en el contexto de una operación de cargador como [LoadLibrary](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) o [P/Invoke](/dotnet/standard/native-interop/pinvoke) en lugar de un nombre de módulo DLL para garantizar una ruta correcta a la implementación, independientemente de dónde se implemente realmente la API en el dispositivo actual.</span><span class="sxs-lookup"><span data-stu-id="10a7c-136">You can use an API set name in the context of a loader operation such as [LoadLibrary](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) or [P/Invoke](/dotnet/standard/native-interop/pinvoke) instead of a DLL module name to ensure a correct route to the implementation no matter where the API is actually implemented on the current device.</span></span> <span data-ttu-id="10a7c-137">Sin embargo, cuando lo haga, debe anexar el **archivo String. dll** al final del nombre del contrato.</span><span class="sxs-lookup"><span data-stu-id="10a7c-137">However, when you do this you must append the string **.dll** at the end of the contract name.</span></span> <span data-ttu-id="10a7c-138">Este es un requisito del cargador para que funcione correctamente y no se considera realmente una parte del nombre del contrato.</span><span class="sxs-lookup"><span data-stu-id="10a7c-138">This is a requirement of the loader to function properly, and is not considered actually a part of the contract name.</span></span> <span data-ttu-id="10a7c-139">Aunque los nombres de contrato aparecen de forma similar a los nombres de los archivos DLL en este contexto, son fundamentalmente diferentes de los nombres de los módulos DLL y no hacen referencia directa a un archivo en el disco.</span><span class="sxs-lookup"><span data-stu-id="10a7c-139">Although contract names appear similar to DLL names in this context, they are fundamentally different from DLL module names and do not directly refer to a file on disk.</span></span>

<span data-ttu-id="10a7c-140">A excepción de anexar el **archivo String. dll** en las operaciones del cargador, los nombres de contrato del conjunto de API se deben considerar como un identificador inmutable que se corresponda con una versión específica del contrato.</span><span class="sxs-lookup"><span data-stu-id="10a7c-140">Except for appending the string **.dll** in loader operations, API set contract names should be considered an immutable identifier that corresponds to a specific contract version.</span></span>

## <a name="identifying-api-sets-for-win32-apis"></a><span data-ttu-id="10a7c-141">Identificación de los conjuntos de API para las API Win32</span><span class="sxs-lookup"><span data-stu-id="10a7c-141">Identifying API sets for Win32 APIs</span></span>

<span data-ttu-id="10a7c-142">Para identificar si una API de Win32 determinada pertenece a un conjunto de API, revise la tabla de requisitos en la documentación de referencia de la API.</span><span class="sxs-lookup"><span data-stu-id="10a7c-142">To identify whether a particular Win32 API belongs to an API set, review the requirements table in the reference documentation for the API.</span></span> <span data-ttu-id="10a7c-143">Si la API pertenece a un conjunto de API, la tabla de requisitos del artículo enumera el nombre del conjunto de API y la versión de Windows en la que se presentó la API por primera vez en el conjunto de API.</span><span class="sxs-lookup"><span data-stu-id="10a7c-143">If the API belongs to an API set, the requirements table in the article lists the API set name and the Windows version in which the API was first introduced to the API set.</span></span> <span data-ttu-id="10a7c-144">Para obtener ejemplos de las API que pertenecen a un conjunto de API, consulte estos artículos:</span><span class="sxs-lookup"><span data-stu-id="10a7c-144">For examples of APIs that belong to an API set, see these articles:</span></span>

- [<span data-ttu-id="10a7c-145">AllowSetForegroundWindow</span><span class="sxs-lookup"><span data-stu-id="10a7c-145">AllowSetForegroundWindow</span></span>](/windows/win32/api/winuser/nf-winuser-allowsetforegroundwindow)
- [<span data-ttu-id="10a7c-146">FindWindowsEx</span><span class="sxs-lookup"><span data-stu-id="10a7c-146">FindWindowsEx</span></span>](/windows/win32/api/winuser/nf-winuser-findwindowexa)
- [<span data-ttu-id="10a7c-147">GetClassFile</span><span class="sxs-lookup"><span data-stu-id="10a7c-147">GetClassFile</span></span>](/windows/win32/api/objbase/nf-objbase-getclassfile)

## <a name="in-this-section"></a><span data-ttu-id="10a7c-148">En esta sección</span><span class="sxs-lookup"><span data-stu-id="10a7c-148">In this section</span></span>

* [<span data-ttu-id="10a7c-149">Operación de cargador del conjunto de API</span><span class="sxs-lookup"><span data-stu-id="10a7c-149">API set loader operation</span></span>](api-set-loader-operation.md)
* [<span data-ttu-id="10a7c-150">Detección de disponibilidad del conjunto de API</span><span class="sxs-lookup"><span data-stu-id="10a7c-150">Detect API set availability</span></span>](detect-api-set-availability.md)
* [<span data-ttu-id="10a7c-151">Bibliotecas de paraguas de Windows</span><span class="sxs-lookup"><span data-stu-id="10a7c-151">Windows umbrella libraries</span></span>](windows-umbrella-libraries.md)