---
description: Una familia de imágenes es un grupo de una o varias imágenes actualizadas de un producto que se han actualizado a la versión más reciente.
ms.assetid: 06a77b35-b593-47e6-9083-46a6b65b7481
title: Tabla ImageFamilies (Patchwiz.dll)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 33ece99e3c42626eb2155f16f2198703dc31b682
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104001435"
---
# <a name="imagefamilies-table-patchwizdll"></a><span data-ttu-id="600d2-103">Tabla ImageFamilies (Patchwiz.dll)</span><span class="sxs-lookup"><span data-stu-id="600d2-103">ImageFamilies Table (Patchwiz.dll)</span></span>

<span data-ttu-id="600d2-104">Una familia de imágenes es un grupo de una o varias imágenes actualizadas de un producto que se han actualizado a la versión más reciente.</span><span class="sxs-lookup"><span data-stu-id="600d2-104">An image family is a group of one or more upgraded images of a product that have been updated to the most recent version.</span></span> <span data-ttu-id="600d2-105">Cada imagen actualizada solo puede pertenecer a una familia.</span><span class="sxs-lookup"><span data-stu-id="600d2-105">Each upgraded image can belong to only one family.</span></span> <span data-ttu-id="600d2-106">Las imágenes actualizadas que pertenecen a una familia de imágenes comparten uno o varios archivos.</span><span class="sxs-lookup"><span data-stu-id="600d2-106">Upgraded images belonging to an image family share one or more files.</span></span> <span data-ttu-id="600d2-107">Cada familia de imágenes tiene su propio archivo. cab en el archivo. MSP que contiene las revisiones binarias y los nuevos archivos necesarios para actualizar las diferencias entre los archivos de destino y los actualizados.</span><span class="sxs-lookup"><span data-stu-id="600d2-107">Each image family has its own cabinet file in the .msp file containing the binary patches and new files needed to update the differences between target and upgraded files.</span></span> <span data-ttu-id="600d2-108">El archivo. cab no Replica las revisiones binarias y los nuevos archivos usados por los archivos compartidos.</span><span class="sxs-lookup"><span data-stu-id="600d2-108">The cabinet file does not replicate the binary patches and new files used by the shared files.</span></span>

<span data-ttu-id="600d2-109">Se requiere una tabla ImageFamilies que contenga al menos un registro en cada base de datos de creación de revisiones (archivo. PCP).</span><span class="sxs-lookup"><span data-stu-id="600d2-109">An ImageFamilies table containing at least one record is required in every patch creation database (.pcp file).</span></span> <span data-ttu-id="600d2-110">La función [UiCreatePatchPackageEx](uicreatepatchpackageex--patchwiz-dll-.md) usa esta tabla.</span><span class="sxs-lookup"><span data-stu-id="600d2-110">This table is used by the [UiCreatePatchPackageEx](uicreatepatchpackageex--patchwiz-dll-.md) function.</span></span>

<span data-ttu-id="600d2-111">La tabla ImageFamilies contiene la información de revisión que se va a agregar a la [tabla de medios](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="600d2-111">The ImageFamilies table contains the patching information that is to be added to the [Media table](media-table.md).</span></span> <span data-ttu-id="600d2-112">Una revisión agrega una entrada a la tabla de medios.</span><span class="sxs-lookup"><span data-stu-id="600d2-112">A patch adds one entry to the Media table.</span></span> <span data-ttu-id="600d2-113">Cada registro de las tablas de ImageFamilies hace referencia a un grupo de imágenes de producto relacionadas que se han actualizado a la versión más reciente del producto.</span><span class="sxs-lookup"><span data-stu-id="600d2-113">Each record in the ImageFamilies tables refers to a group of related product images that have been updated to the most recent version of the product.</span></span>

<span data-ttu-id="600d2-114">La tabla ImageFamilies tiene las columnas siguientes.</span><span class="sxs-lookup"><span data-stu-id="600d2-114">The ImageFamilies table has the following columns.</span></span> <span data-ttu-id="600d2-115">Se puede utilizar un valor null en las columnas MediaSrcPropName, MediaDiskId y FileSequenceStart si la revisión se aplica con Windows Installer y Patchwiz.dll versión 2,0.</span><span class="sxs-lookup"><span data-stu-id="600d2-115">A null value can be used in the MediaSrcPropName, MediaDiskId, and FileSequenceStart columns if the patch is applied with Windows Installer and Patchwiz.dll version 2.0.</span></span>



| <span data-ttu-id="600d2-116">Columna</span><span class="sxs-lookup"><span data-stu-id="600d2-116">Column</span></span>            | <span data-ttu-id="600d2-117">Tipo</span><span class="sxs-lookup"><span data-stu-id="600d2-117">Type</span></span>    | <span data-ttu-id="600d2-118">Clave</span><span class="sxs-lookup"><span data-stu-id="600d2-118">Key</span></span> | <span data-ttu-id="600d2-119">Nullable</span><span class="sxs-lookup"><span data-stu-id="600d2-119">Nullable</span></span> |
|-------------------|---------|-----|----------|
| <span data-ttu-id="600d2-120">Familia</span><span class="sxs-lookup"><span data-stu-id="600d2-120">Family</span></span>            | <span data-ttu-id="600d2-121">text</span><span class="sxs-lookup"><span data-stu-id="600d2-121">text</span></span>    | <span data-ttu-id="600d2-122">Y</span><span class="sxs-lookup"><span data-stu-id="600d2-122">Y</span></span>   | <span data-ttu-id="600d2-123">N</span><span class="sxs-lookup"><span data-stu-id="600d2-123">N</span></span>        |
| <span data-ttu-id="600d2-124">MediaSrcPropName</span><span class="sxs-lookup"><span data-stu-id="600d2-124">MediaSrcPropName</span></span>  | <span data-ttu-id="600d2-125">text</span><span class="sxs-lookup"><span data-stu-id="600d2-125">text</span></span>    |     | <span data-ttu-id="600d2-126">Y</span><span class="sxs-lookup"><span data-stu-id="600d2-126">Y</span></span>        |
| <span data-ttu-id="600d2-127">MediaDiskId</span><span class="sxs-lookup"><span data-stu-id="600d2-127">MediaDiskId</span></span>       | <span data-ttu-id="600d2-128">integer</span><span class="sxs-lookup"><span data-stu-id="600d2-128">integer</span></span> |     | <span data-ttu-id="600d2-129">Y</span><span class="sxs-lookup"><span data-stu-id="600d2-129">Y</span></span>        |
| <span data-ttu-id="600d2-130">FileSequenceStart</span><span class="sxs-lookup"><span data-stu-id="600d2-130">FileSequenceStart</span></span> | <span data-ttu-id="600d2-131">integer</span><span class="sxs-lookup"><span data-stu-id="600d2-131">integer</span></span> |     | <span data-ttu-id="600d2-132">Y</span><span class="sxs-lookup"><span data-stu-id="600d2-132">Y</span></span>        |
| <span data-ttu-id="600d2-133">DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="600d2-133">DiskPrompt</span></span>        | <span data-ttu-id="600d2-134">text</span><span class="sxs-lookup"><span data-stu-id="600d2-134">text</span></span>    |     | <span data-ttu-id="600d2-135">Y</span><span class="sxs-lookup"><span data-stu-id="600d2-135">Y</span></span>        |
| <span data-ttu-id="600d2-136">VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="600d2-136">VolumeLabel</span></span>       | <span data-ttu-id="600d2-137">text</span><span class="sxs-lookup"><span data-stu-id="600d2-137">text</span></span>    |     | <span data-ttu-id="600d2-138">Y</span><span class="sxs-lookup"><span data-stu-id="600d2-138">Y</span></span>        |



 

## <a name="columns"></a><span data-ttu-id="600d2-139">Columnas</span><span class="sxs-lookup"><span data-stu-id="600d2-139">Columns</span></span>

<dl> <dt>

<span data-ttu-id="600d2-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Familia</span><span class="sxs-lookup"><span data-stu-id="600d2-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Family</span></span>
</dt> <dd>

<span data-ttu-id="600d2-141">El valor especificado en este campo es un identificador de un grupo de imágenes de producto relacionadas que se han actualizado a la versión más reciente del producto.</span><span class="sxs-lookup"><span data-stu-id="600d2-141">The value entered in this field is an identifier for a group of related product images that have been updated to the most recent version of the product.</span></span> <span data-ttu-id="600d2-142">Limitado a un total de 8 caracteres alfanuméricos o de subrayado.</span><span class="sxs-lookup"><span data-stu-id="600d2-142">Limited to a total of 8 alphanumeric characters or underscores.</span></span> <span data-ttu-id="600d2-143">El instalador inserta una secuencia de archivos. cab en el archivo de revisión de Windows Installer (archivo. msp) de cada familia de la tabla.</span><span class="sxs-lookup"><span data-stu-id="600d2-143">The installer embeds a cabinet stream in the Windows Installer patch file (.msp file) for each family in the table.</span></span> <span data-ttu-id="600d2-144">El archivo. cab contiene las revisiones binarias y los nuevos archivos necesarios para actualizar una imagen de destino en una imagen actualizada del producto.</span><span class="sxs-lookup"><span data-stu-id="600d2-144">The cabinet contains the binary patches and new files required to update a target image into an upgraded image of the product.</span></span> <span data-ttu-id="600d2-145">El instalador precede el nombre de familia con el \_ archivo CAB \_ de PCW para generar el nombre de flujo del archivador que entra en el campo del archivo. cab de la nueva entrada de la [tabla de medios](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="600d2-145">The installer prefixes the family name with PCW\_CAB\_ to generate the cabinet's stream name it enters into the Cabinet field of the new [Media table](media-table.md) entry.</span></span>

</dd> <dt>

<span data-ttu-id="600d2-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>MediaSrcPropName</span><span class="sxs-lookup"><span data-stu-id="600d2-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>MediaSrcPropName</span></span>
</dt> <dd>

<span data-ttu-id="600d2-147">Valor especificado en el campo de origen de la nueva entrada de [tabla de medios](media-table.md) de la imagen actualizada.</span><span class="sxs-lookup"><span data-stu-id="600d2-147">The value entered into the Source field of the new [Media table](media-table.md) entry of the upgraded image.</span></span> <span data-ttu-id="600d2-148">Este campo solo puede ser null si usa la versión 2,0 de Patchwiz.dll y si MinimumRequiredMsiVersion en la tabla de [propiedades (Patchwiz.dll)](properties-table-patchwiz-dll-.md) está establecido en 200.</span><span class="sxs-lookup"><span data-stu-id="600d2-148">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="600d2-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>MediaDiskId</span><span class="sxs-lookup"><span data-stu-id="600d2-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>MediaDiskId</span></span>
</dt> <dd>

<span data-ttu-id="600d2-150">El instalador especifica este valor en el campo dipatine del nuevo registro de la [tabla de medios](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="600d2-150">The installer enters this value into the DiskId field of the new [Media table](media-table.md) record.</span></span> <span data-ttu-id="600d2-151">El valor del dipatine debe ser mayor que el del paquete de destino actual.</span><span class="sxs-lookup"><span data-stu-id="600d2-151">The DiskID value must be greater than any current DiskID in the target package.</span></span> <span data-ttu-id="600d2-152">El límite de MediaDiskId es 32767.</span><span class="sxs-lookup"><span data-stu-id="600d2-152">The limit for MediaDiskId is 32767.</span></span> <span data-ttu-id="600d2-153">Este campo solo puede ser null si usa la versión 2,0 de Patchwiz.dll y si MinimumRequiredMsiVersion en la tabla de [propiedades (Patchwiz.dll)](properties-table-patchwiz-dll-.md) está establecido en 200.</span><span class="sxs-lookup"><span data-stu-id="600d2-153">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="600d2-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>FileSequenceStart</span><span class="sxs-lookup"><span data-stu-id="600d2-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>FileSequenceStart</span></span>
</dt> <dd>

<span data-ttu-id="600d2-155">Este campo es el número de secuencia del archivo de inicio.</span><span class="sxs-lookup"><span data-stu-id="600d2-155">This field is the sequence number for the starting file.</span></span> <span data-ttu-id="600d2-156">Este mismo número de secuencia de archivo no debe existir en dos revisiones para el mismo producto.</span><span class="sxs-lookup"><span data-stu-id="600d2-156">This same file sequence number must not exist in two patches for the same product.</span></span> <span data-ttu-id="600d2-157">Para garantizar esto, el valor de este campo debe ser mayor que todos los números de secuencia usados en revisiones anteriores o en el paquete de instalación original.</span><span class="sxs-lookup"><span data-stu-id="600d2-157">To ensure this, the value in this field must be greater than all sequence numbers used in previous patches or in the original installation package.</span></span> <span data-ttu-id="600d2-158">El número de secuencia más alto de una revisión puede determinarse agregando el número total de entradas del archivo. cab de la revisión al número FileSequenceStart de esa revisión.</span><span class="sxs-lookup"><span data-stu-id="600d2-158">The greatest sequence number in a patch can be determined by adding the total number of entries in the patch cabinet file to the FileSequenceStart number for that patch.</span></span> <span data-ttu-id="600d2-159">Una manera de determinar esto es examinar el archivo. DDF generado por [Patchwiz.dll](patchwiz-dll.md) durante la creación de la revisión.</span><span class="sxs-lookup"><span data-stu-id="600d2-159">One way to determine this is to look at the .ddf file generated by [Patchwiz.dll](patchwiz-dll.md) during the creation of the patch.</span></span> <span data-ttu-id="600d2-160">El límite de FileSequenceStart es 32767.</span><span class="sxs-lookup"><span data-stu-id="600d2-160">The limit for FileSequenceStart is 32767.</span></span> <span data-ttu-id="600d2-161">Este campo solo puede ser null si usa la versión 2,0 de Patchwiz.dll y si MinimumRequiredMsiVersion en la tabla de [propiedades (Patchwiz.dll)](properties-table-patchwiz-dll-.md) está establecido en 200.</span><span class="sxs-lookup"><span data-stu-id="600d2-161">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="600d2-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="600d2-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span></span>
</dt> <dd>

<span data-ttu-id="600d2-163">El instalador especifica este valor en el campo DiskPrompt del nuevo registro de la [tabla de medios](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="600d2-163">The installer enters this value into the DiskPrompt field of the new [Media table](media-table.md) record.</span></span>

</dd> <dt>

<span data-ttu-id="600d2-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="600d2-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span></span>
</dt> <dd>

<span data-ttu-id="600d2-165">El instalador especifica este valor en el campo VolumeLabel del nuevo registro multimedia.</span><span class="sxs-lookup"><span data-stu-id="600d2-165">The installer enters this value into the VolumeLabel field of the new Media record.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="600d2-166">Observaciones</span><span class="sxs-lookup"><span data-stu-id="600d2-166">Remarks</span></span>

<span data-ttu-id="600d2-167">La revisión agrega el nombre del archivador en el archivo. MSP al campo Cabinet del nuevo registro agregado a la tabla de [medios](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="600d2-167">The patch adds the name of the cabinet in the .msp file to the Cabinet field of the new record added to the [Media table](media-table.md).</span></span> <span data-ttu-id="600d2-168">Dado que es un archivo. cab incrustado, el nombre tiene como prefijo un \# carácter ' '.</span><span class="sxs-lookup"><span data-stu-id="600d2-168">Because it is an embedded cabinet, the name is prefixed with a '\#' character.</span></span> <span data-ttu-id="600d2-169">La revisión agrega una propiedad al campo de origen del nuevo registro en la tabla de medios.</span><span class="sxs-lookup"><span data-stu-id="600d2-169">The patch adds a property to the Source field of the new record in the Media table.</span></span> <span data-ttu-id="600d2-170">Dos revisiones no pueden tener la misma propiedad Source.</span><span class="sxs-lookup"><span data-stu-id="600d2-170">No two patches may have the same source property.</span></span>

<span data-ttu-id="600d2-171">Los archivos que se comparten dentro de la familia de imágenes deben tener la misma clave de tabla de archivo en cada imagen actualizada de la familia.</span><span class="sxs-lookup"><span data-stu-id="600d2-171">The files that are shared within the image family must have the same file table key in each upgraded image of the family.</span></span> <span data-ttu-id="600d2-172">Todas las claves de tabla de archivos compartidas entre las imágenes actualizadas deben representar el mismo archivo y deben ser idénticas en todas las imágenes actualizadas.</span><span class="sxs-lookup"><span data-stu-id="600d2-172">Any file table keys shared among the upgraded images must represent the same file and must be identical in all the upgraded images.</span></span> <span data-ttu-id="600d2-173">La clave de la tabla de archivos es el valor especificado en la columna archivo de la [tabla archivo](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="600d2-173">The file table key is the value entered in the File column of the [File table](file-table.md).</span></span>

<span data-ttu-id="600d2-174">El límite de MediaDiskId y FileSequenceStart es 32767.</span><span class="sxs-lookup"><span data-stu-id="600d2-174">The limit for MediaDiskId and FileSequenceStart is 32767.</span></span> <span data-ttu-id="600d2-175">Para aumentar este límite, exporte la tabla ImageFamilies a un archivo. IDT con [Msidb.exe](msidb-exe.md) y cambie el tipo de columna de i2 a I4, o de i2 a I4, y, a continuación, importe el archivo. IDT de nuevo a la base de datos. PCP.</span><span class="sxs-lookup"><span data-stu-id="600d2-175">To increase this limit export the ImageFamilies table to an .idt file with [Msidb.exe](msidb-exe.md) and change the column type from i2 to i4, or from I2 to I4, and then import the .idt file back into the .pcp database.</span></span> <span data-ttu-id="600d2-176">Las transformaciones y revisiones no se pueden crear entre dos paquetes que tienen tipos de columna diferentes.</span><span class="sxs-lookup"><span data-stu-id="600d2-176">Transforms and patches cannot be created between two packages having different column types.</span></span>

 

 



