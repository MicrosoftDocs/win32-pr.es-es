---
description: Para recuperar datos del registro, una aplicación normalmente enumera las subclaves de una clave hasta que encuentra una determinada y, a continuación, recupera los datos del valor o de los valores asociados a él.
ms.assetid: ce4be388-5506-4d01-a73c-33372ef4ccd7
title: Recuperar datos del registro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 45d8dd6f6e4d667cf2760c7cba441200755fb6c3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104083296"
---
# <a name="retrieving-data-from-the-registry"></a><span data-ttu-id="1991c-103">Recuperar datos del registro</span><span class="sxs-lookup"><span data-stu-id="1991c-103">Retrieving Data from the Registry</span></span>

<span data-ttu-id="1991c-104">Para recuperar datos del registro, una aplicación normalmente enumera las subclaves de una clave hasta que encuentra una determinada y, a continuación, recupera los datos del valor o de los valores asociados a él.</span><span class="sxs-lookup"><span data-stu-id="1991c-104">To retrieve data from the registry, an application typically enumerates the subkeys of a key until it finds a particular one and then retrieves data from the value or values associated with it.</span></span> <span data-ttu-id="1991c-105">Una aplicación puede llamar a la función [**RegEnumKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regenumkeyexa) para enumerar las subclaves de una clave determinada.</span><span class="sxs-lookup"><span data-stu-id="1991c-105">An application can call the [**RegEnumKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regenumkeyexa) function to enumerate the subkeys of a given key.</span></span>

<span data-ttu-id="1991c-106">Para recuperar datos detallados sobre una subclave determinada, una aplicación puede llamar a la función [**RegQueryInfoKey**](/windows/desktop/api/Winreg/nf-winreg-regqueryinfokeya) .</span><span class="sxs-lookup"><span data-stu-id="1991c-106">To retrieve detailed data about a particular subkey, an application can call the [**RegQueryInfoKey**](/windows/desktop/api/Winreg/nf-winreg-regqueryinfokeya) function.</span></span> <span data-ttu-id="1991c-107">La función [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity) recupera una copia del descriptor de seguridad que protege una clave.</span><span class="sxs-lookup"><span data-stu-id="1991c-107">The [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity) function retrieves a copy of the security descriptor protecting a key.</span></span>

<span data-ttu-id="1991c-108">Una aplicación puede usar la función [**RegEnumValue**](/windows/desktop/api/Winreg/nf-winreg-regenumvaluea) para enumerar los valores de una clave determinada y la función [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) para recuperar un valor determinado para una clave.</span><span class="sxs-lookup"><span data-stu-id="1991c-108">An application can use the [**RegEnumValue**](/windows/desktop/api/Winreg/nf-winreg-regenumvaluea) function to enumerate the values for a given key, and [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) function to retrieve a particular value for a key.</span></span> <span data-ttu-id="1991c-109">Una aplicación normalmente llama a **RegEnumValue** para determinar los nombres de valor y luego a **RegQueryValueEx** para recuperar los datos de los nombres.</span><span class="sxs-lookup"><span data-stu-id="1991c-109">An application typically calls **RegEnumValue** to determine the value names and then **RegQueryValueEx** to retrieve the data for the names.</span></span>

<span data-ttu-id="1991c-110">La función [**RegQueryMultipleValues**](/windows/desktop/api/Winreg/nf-winreg-regquerymultiplevaluesa) recupera el tipo y los datos de una lista de nombres de valor asociados a una clave del registro abierta.</span><span class="sxs-lookup"><span data-stu-id="1991c-110">The [**RegQueryMultipleValues**](/windows/desktop/api/Winreg/nf-winreg-regquerymultiplevaluesa) function retrieves the type and data for a list of value names associated with an open registry key.</span></span> <span data-ttu-id="1991c-111">Esta función es útil para los proveedores de claves dinámicas porque garantiza la coherencia de los datos mediante la recuperación de varios valores en una operación atómica.</span><span class="sxs-lookup"><span data-stu-id="1991c-111">This function is useful for dynamic key providers because it assures consistency of data by retrieving multiple values in an atomic operation.</span></span>

<span data-ttu-id="1991c-112">Dado que otras aplicaciones pueden cambiar los datos en un valor del registro entre el momento en que la aplicación puede leer un valor y usarlo, es posible que tenga que asegurarse de que la aplicación tiene los datos más recientes.</span><span class="sxs-lookup"><span data-stu-id="1991c-112">Because other applications can change the data in a registry value between the time your application can read a value and use it, you may need to ensure your application has the latest data.</span></span> <span data-ttu-id="1991c-113">Puede usar la función [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) para notificar al subproceso que realiza la llamada cuando haya cambios en los atributos o en el contenido de una clave del registro, o si se elimina la clave.</span><span class="sxs-lookup"><span data-stu-id="1991c-113">You can use the [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) function to notify the calling thread when there are changes to the attributes or contents of a registry key, or if the key is deleted.</span></span> <span data-ttu-id="1991c-114">La función señala un objeto de evento para notificar al autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="1991c-114">The function signals an event object to notify the caller.</span></span> <span data-ttu-id="1991c-115">Si el subproceso que llama a **RegNotifyChangeKeyValue** se cierra, el evento se señala y se detiene la supervisión de la clave del registro.</span><span class="sxs-lookup"><span data-stu-id="1991c-115">If the thread that calls **RegNotifyChangeKeyValue** exits, the event is signaled and the monitoring of the registry key is stopped.</span></span>

<span data-ttu-id="1991c-116">Puede controlar o especificar qué cambios se deben notificar mediante el uso de un filtro o marca de notificación.</span><span class="sxs-lookup"><span data-stu-id="1991c-116">You can control or specify what changes should be reported through the use of a notify filter or flag.</span></span> <span data-ttu-id="1991c-117">Normalmente, los cambios se registran mediante la señalización de un evento que se especifica en la función.</span><span class="sxs-lookup"><span data-stu-id="1991c-117">Usually, changes are reported by signaling an event that you specify to the function.</span></span> <span data-ttu-id="1991c-118">Tenga en cuenta que la función [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) no funciona con los identificadores remotos.</span><span class="sxs-lookup"><span data-stu-id="1991c-118">Note that the [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) function does not work with remote handles.</span></span>

<span data-ttu-id="1991c-119">Para supervisar las operaciones del registro con más detalle, vea [**Registry**](/windows/desktop/ETW/registry).</span><span class="sxs-lookup"><span data-stu-id="1991c-119">To monitor registry operations in more detail, see [**Registry**](/windows/desktop/ETW/registry).</span></span>

 

 
