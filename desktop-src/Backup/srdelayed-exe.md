---
title: Srdelayed.exe
description: Es posible que las aplicaciones que realizan operaciones de restauración de estado del sistema al principio del sistema operativo no puedan usar las funciones de administración de archivos para quitar, eliminar o establecer el nombre corto de determinados archivos del sistema.
ms.assetid: cedeb48e-bc1d-48d1-9bee-0b8b0132c3e5
keywords:
- Copia de seguridad de Srdelayed.exe
- Copia de seguridad de recuperación de estado del sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5a5f6b281c07f5b0ad8d6cd7e59b4f93ec9208a5
ms.sourcegitcommit: 46376be61d3fa308f9b1a06d7e2fa122a39755af
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/10/2020
ms.locfileid: "104488459"
---
# <a name="srdelayedexe"></a><span data-ttu-id="3935b-105">Srdelayed.exe</span><span class="sxs-lookup"><span data-stu-id="3935b-105">Srdelayed.exe</span></span>

<span data-ttu-id="3935b-106">Es posible que las aplicaciones que realizan operaciones de restauración de estado del sistema al principio del sistema operativo no puedan usar las funciones de administración de archivos para quitar, eliminar o establecer el nombre corto de determinados archivos del sistema.</span><span class="sxs-lookup"><span data-stu-id="3935b-106">Applications that perform system state restore operations early in the startup of the operating system may be unable to use the file management functions to move, delete, or set the short name of certain system files.</span></span> <span data-ttu-id="3935b-107">Srdelayed.exe es un archivo ejecutable, proporcionado con la característica Copias de seguridad de Windows Server (WSB) en Windows Server 2008, que puede permitir que las aplicaciones de recuperación del estado del sistema muevan, eliminen y establezcan el nombre corto de los archivos del sistema.</span><span class="sxs-lookup"><span data-stu-id="3935b-107">Srdelayed.exe is an executable file, provided with the Windows Server Backup (WSB) feature in Windows Server 2008, that can enable system state recovery applications to move, delete, and set the short name of system files.</span></span>

<span data-ttu-id="3935b-108">La herramienta Srdelayed está pensada para las aplicaciones de recuperación del estado del sistema; no reemplaza las funciones de administración de archivos.</span><span class="sxs-lookup"><span data-stu-id="3935b-108">The Srdelayed tool is intended for system state recovery applications; it does not replace the file management functions.</span></span> <span data-ttu-id="3935b-109">Esta herramienta solo se debe usar cuando la aplicación no puede cambiar, eliminar o establecer el nombre corto de un archivo del sistema mediante las funciones [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa), [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)y [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) .</span><span class="sxs-lookup"><span data-stu-id="3935b-109">This tool should be used only when the application is unable to move, delete, or set the short name of a system file using the [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa), [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea), and [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) functions.</span></span> <span data-ttu-id="3935b-110">Durante el reinicio y la restauración del estado del sistema, la restauración del sistema utiliza Srdelayed.exe y la herramienta de línea de comandos wbadmin.exe para moverse, eliminar y establecer el nombre corto en ciertos archivos del sistema.</span><span class="sxs-lookup"><span data-stu-id="3935b-110">During a system state restore and restart, Srdelayed.exe is used by System Restore and the wbadmin.exe command-line tool to move, delete, and set the short name on certain system files.</span></span> <span data-ttu-id="3935b-111">Por tanto, Srdelayed puede ser útil para los desarrolladores que requieren la capacidad de restaurar estos archivos del sistema en sus propias aplicaciones de recuperación de estado del sistema.</span><span class="sxs-lookup"><span data-stu-id="3935b-111">Srdelayed may therefore be useful to developers that require the capability to restore these system files in their own system state recovery applications.</span></span>

<span data-ttu-id="3935b-112">Srdelayed puede realizar las siguientes operaciones:</span><span class="sxs-lookup"><span data-stu-id="3935b-112">Srdelayed can perform the following operations:</span></span>

-   <span data-ttu-id="3935b-113">Una operación de movimiento de archivo similar a la función [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa) con el retraso de MOVEFILE hasta la marca de **\_ \_ \_ reinicio**</span><span class="sxs-lookup"><span data-stu-id="3935b-113">A move file operation similar to the [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa) function with the **MOVEFILE\_DELAY\_UNTIL\_REBOOT** flag</span></span>
-   <span data-ttu-id="3935b-114">Operación de eliminación de archivo similar a la función [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)</span><span class="sxs-lookup"><span data-stu-id="3935b-114">A delete file operation similar to the [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea) function</span></span>
-   <span data-ttu-id="3935b-115">Una operación set de nombre corto similar a la función [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea)</span><span class="sxs-lookup"><span data-stu-id="3935b-115">A set short-name operation similar to the [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) function</span></span>

<span data-ttu-id="3935b-116">Para usar Srdelayed, la aplicación requiere la ruta de acceso completa a la ubicación del archivo de Srdelayed.exe y la ruta de acceso completa a un archivo de texto Unicode que ha creado para que contenga la información que necesita la herramienta para realizar todas las operaciones de administración de archivos que se solicitan.</span><span class="sxs-lookup"><span data-stu-id="3935b-116">To use Srdelayed, your application requires the full path to the location of the Srdelayed.exe file and the full path to a Unicode text file that you have authored to contain the information the tool needs to perform all the file management operations being requested.</span></span> <span data-ttu-id="3935b-117">La aplicación es responsable de garantizar que este archivo de texto no contiene solicitudes redundantes para una operación y que controla cualquier ordenación necesaria de las operaciones de administración de archivos.</span><span class="sxs-lookup"><span data-stu-id="3935b-117">Your application is responsible for ensuring that this text file does not contain redundant requests for an operation and that it handles any required ordering of the file management operations.</span></span> <span data-ttu-id="3935b-118">Por ejemplo, como una carpeta debe estar vacía para eliminarse, la aplicación debe asegurarse de que el archivo de texto especifica la eliminación de todos los archivos dentro de la carpeta antes de solicitar que se elimine la carpeta.</span><span class="sxs-lookup"><span data-stu-id="3935b-118">For example, because a folder must be empty to be deleted, your application needs to ensure that the text file specifies the removal of all files inside the folder before requesting the folder be deleted.</span></span>

<span data-ttu-id="3935b-119">Si la entrada **SetupExecute** aún no existe en el registro, la aplicación debe crear una entrada de tipo **reg \_ multi \_ SZ** denominada **SetupExecute** en la siguiente clave del registro: **HKEY \_ local \_ Machine** \\ **System** \\ **CurrentControlSet** \\ **control** \\ **Session Manager**.</span><span class="sxs-lookup"><span data-stu-id="3935b-119">If the **SetupExecute** entry does not already exist in the registry, your application needs to create a **REG\_MULTI\_SZ** type entry named **SetupExecute** under the following registry key: **HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Control**\\**Session Manager**.</span></span>

<span data-ttu-id="3935b-120">La aplicación debe usar el siguiente formato para establecer el valor de **SetupExecute** en la ruta de acceso completa a la ubicación del archivo de Srdelayed.exe y la ruta de acceso completa a la ubicación del archivo de texto.</span><span class="sxs-lookup"><span data-stu-id="3935b-120">Your application should use the following format to set the value of **SetupExecute** to the full path to the location of the Srdelayed.exe file and the full path to the location of the text file.</span></span> <span data-ttu-id="3935b-121">Anteponga el prefijo " \\ \\ ?? \\ " a la ruta de acceso del archivo de texto, como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="3935b-121">Prefix "\\\\??\\" to the path of the text file, as follows:</span></span>

<span data-ttu-id="3935b-122">*Ruta de acceso completa a Srdelayed.exe* \\ \\ ? \\ *Ruta de acceso completa al archivo de texto*</span><span class="sxs-lookup"><span data-stu-id="3935b-122">*Full Path to Srdelayed.exe* \\\\??\\*Full Path to Text file*</span></span>  


<span data-ttu-id="3935b-123">Por ejemplo, el siguiente valor de **SetupExecute** indica que el Srdelayed.exe se encuentra en la carpeta system32 y el archivo de texto se denomina DelayedOperations:</span><span class="sxs-lookup"><span data-stu-id="3935b-123">For example, the following value for **SetupExecute** indicates that the Srdelayed.exe is located in the System32 folder and the text file is named DelayedOperations:</span></span>

<span data-ttu-id="3935b-124">C: \\ Windows \\ system32 \\srdelayed.exe \\ \\ ?? \\ C: \\ temp \\ DelayedOperations</span><span class="sxs-lookup"><span data-stu-id="3935b-124">C:\\Windows\\System32\\srdelayed.exe \\\\??\\C:\\temp\\DelayedOperations</span></span>  


<span data-ttu-id="3935b-125">Los espacios en la ruta de acceso y el nombre deben estar codificados en hexadecimal.</span><span class="sxs-lookup"><span data-stu-id="3935b-125">Spaces in the path and name should be hexadecimal encoded.</span></span> <span data-ttu-id="3935b-126">Por ejemplo, para *los archivos de programa*, codifique la ruta de acceso como " \\ \\ ?? \\ \\a.dll C:Program%20Files ".</span><span class="sxs-lookup"><span data-stu-id="3935b-126">For example, for *Program Files*, encode the path as "\\\\??\\C:Program%20Files\\a.dll".</span></span>

<span data-ttu-id="3935b-127">Cuando se está restaurando el registro o el sistema tras el reinicio, la aplicación debe asegurarse de que **SetupExecute** se escribe en el subárbol del registro correcto.</span><span class="sxs-lookup"><span data-stu-id="3935b-127">When the registry or system is being restored upon restart, your application needs to ensure that **SetupExecute** gets written in the correct registry hive.</span></span> <span data-ttu-id="3935b-128">La recuperación del registro se realiza antes de que se ejecute Srdelayed.exe.</span><span class="sxs-lookup"><span data-stu-id="3935b-128">Recovery of the registry is performed before Srdelayed.exe is run.</span></span> <span data-ttu-id="3935b-129">La aplicación debe escribir **SetupExecute** en la versión recuperada del registro, ya que se trata de la versión que se lee.</span><span class="sxs-lookup"><span data-stu-id="3935b-129">The application needs to write **SetupExecute** into the recovered version of the registry because this is the version that is read.</span></span>

## <a name="format-for-the-srdelayed-input-file"></a><span data-ttu-id="3935b-130">Formato del archivo de entrada Srdelayed</span><span class="sxs-lookup"><span data-stu-id="3935b-130">Format for the Srdelayed Input File</span></span>

<span data-ttu-id="3935b-131">Toda la información que Srdelayed necesita para realizar operaciones de administración de archivos se especifica como una cadena de caracteres Unicode en un archivo de texto Unicode.</span><span class="sxs-lookup"><span data-stu-id="3935b-131">All the information Srdelayed needs to perform file management operations is specified as a string of Unicode characters in a Unicode text file.</span></span> <span data-ttu-id="3935b-132">La cadena de caracteres Unicode se divide en registros en los que cada uno de ellos se divide en cuatro campos.</span><span class="sxs-lookup"><span data-stu-id="3935b-132">The string of Unicode characters is partitioned into records that are themselves each partitioned into four fields.</span></span> <span data-ttu-id="3935b-133">Cada registro especifica un único archivo de movimiento, eliminación de archivo o establecimiento de nombre corto.</span><span class="sxs-lookup"><span data-stu-id="3935b-133">Each record specifies a single move file, delete file, or set short-name operation.</span></span> <span data-ttu-id="3935b-134">Los cuatro campos de cada registro contienen los parámetros de la operación.</span><span class="sxs-lookup"><span data-stu-id="3935b-134">The four fields of each record contain the parameters for the operation.</span></span> <span data-ttu-id="3935b-135">Srdelayed.exe realiza cada operación en el orden en que se producen los registros en la cadena.</span><span class="sxs-lookup"><span data-stu-id="3935b-135">Srdelayed.exe performs each operation in the order that their records occur in the string.</span></span> <span data-ttu-id="3935b-136">La aplicación debe comprobar si hay registros duplicados en este archivo y quitar los duplicados.</span><span class="sxs-lookup"><span data-stu-id="3935b-136">Your application should check for any duplicate records in this file and remove the duplicates.</span></span>

<span data-ttu-id="3935b-137">La cadena siguiente muestra el formato de un archivo que solicita dos operaciones y que consta de dos registros.</span><span class="sxs-lookup"><span data-stu-id="3935b-137">The following string illustrates the format for a file requesting two operations and consisting of two records.</span></span> <span data-ttu-id="3935b-138">Cada campo de parámetro termina con un solo carácter L ' \\ 0 '.</span><span class="sxs-lookup"><span data-stu-id="3935b-138">Each parameter field ends with a single L'\\0' character.</span></span> <span data-ttu-id="3935b-139">Un registro se compone de cuatro campos consecutivos.</span><span class="sxs-lookup"><span data-stu-id="3935b-139">A record is composed of four consecutive fields.</span></span> <span data-ttu-id="3935b-140">\\Se anexa un carácter L ' 0 ' adicional al final de todos los registros.</span><span class="sxs-lookup"><span data-stu-id="3935b-140">An additional single L'\\0' character is appended to the end of all records.</span></span>

`<ParamA1>L'\0'<ParamA2>L'\0'<ParamA3>L'\0'<ParamA4>L'\0'<ParamB1>L'\0'<ParamB2>L'\0'<ParamB3>L'\0'<ParamB4>L'\0'L'\0'`  
`|-----------------------RecordA------------------------|------------------------RecordB------------------------|`  


<span data-ttu-id="3935b-141">El significado de los campos de parámetros primero, segundo, tercero y cuarto depende de si el registro describe una operación de desplazamiento, eliminación o establecimiento de nombre corto.</span><span class="sxs-lookup"><span data-stu-id="3935b-141">The meaning of the first, second, third, and fourth parameter fields depends on whether the record describes a move, delete, or set short-name operation.</span></span>

## <a name="format-for-a-move-file-record"></a><span data-ttu-id="3935b-142">Formato de un registro de movimiento de archivo</span><span class="sxs-lookup"><span data-stu-id="3935b-142">Format for a Move File Record</span></span>

<span data-ttu-id="3935b-143">El campo 1 lo identifica como una solicitud para trasladar un archivo.</span><span class="sxs-lookup"><span data-stu-id="3935b-143">Field 1 identifies this as a request to move a file.</span></span> <span data-ttu-id="3935b-144">El valor de este campo siempre es L "MoveFile" y distingue mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="3935b-144">The value in this field is always L"MoveFile" and is case sensitive.</span></span>

<span data-ttu-id="3935b-145">El campo 2 especifica la ubicación de origen del archivo.</span><span class="sxs-lookup"><span data-stu-id="3935b-145">Field 2 specifies the source location of the file.</span></span> <span data-ttu-id="3935b-146">La operación Srdelayed Move File no permite mover una carpeta.</span><span class="sxs-lookup"><span data-stu-id="3935b-146">The Srdelayed move file operation does not support moving a folder.</span></span> <span data-ttu-id="3935b-147">Se debe especificar un archivo en este campo.</span><span class="sxs-lookup"><span data-stu-id="3935b-147">A file must be specified in this field.</span></span> <span data-ttu-id="3935b-148">El valor de este campo es la ruta de acceso completa del archivo que se anexa a " \\ \\ ?? \\ " a menos que la ruta de acceso incluya un identificador único global (GUID), que usa " \\ \\ ? \\ " como prefijo.</span><span class="sxs-lookup"><span data-stu-id="3935b-148">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="3935b-149">Quite " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="3935b-149">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="3935b-150">El campo 3 especifica el destino del archivo.</span><span class="sxs-lookup"><span data-stu-id="3935b-150">Field 3 specifies the destination of the file.</span></span> <span data-ttu-id="3935b-151">La operación de movimiento de archivo solo funciona dentro de un volumen.</span><span class="sxs-lookup"><span data-stu-id="3935b-151">The move file operation works only within a volume.</span></span> <span data-ttu-id="3935b-152">El origen y el destino deben estar en el mismo volumen.</span><span class="sxs-lookup"><span data-stu-id="3935b-152">The source and destination must be on the same volume.</span></span> <span data-ttu-id="3935b-153">El valor de este campo es la ruta de acceso completa del archivo que se anexa a " \\ \\ ?? \\ " a menos que la ruta de acceso incluya un identificador único global (GUID), que usa " \\ \\ ? \\ " como prefijo.</span><span class="sxs-lookup"><span data-stu-id="3935b-153">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="3935b-154">Quite " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="3935b-154">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="3935b-155">El campo 4 recibe información de estado de Srdelayed.</span><span class="sxs-lookup"><span data-stu-id="3935b-155">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="3935b-156">El valor de este campo debe establecerse en L "NotExecuted" para un nuevo registro.</span><span class="sxs-lookup"><span data-stu-id="3935b-156">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="3935b-157">En el ejemplo siguiente se hace referencia al archivo por la ruta de acceso de la unidad.</span><span class="sxs-lookup"><span data-stu-id="3935b-157">The following example references the file by drive path.</span></span> <span data-ttu-id="3935b-158">Si la ruta de acceso y el nombre del origen es C: \\ Stage \\a.dll, este registro solicita que Srdelayed lo mueva a c: \\ temp \\a.dll.</span><span class="sxs-lookup"><span data-stu-id="3935b-158">If the path and name of the source is C:\\Stage\\a.dll, this record requests that Srdelayed move it to C:\\temp\\a.dll.</span></span>

<span data-ttu-id="3935b-159">MoveFile \\ \\ ?? \\ C: \\ fase \\a.dll \\ \\ ?? \\ C: \\ temp \\a.dll NotExecuted</span><span class="sxs-lookup"><span data-stu-id="3935b-159">MoveFile \\\\??\\C:\\Stage\\a.dll \\\\??\\C:\\temp\\a.dll NotExecuted</span></span>  


<span data-ttu-id="3935b-160">En el ejemplo siguiente se hace referencia al archivo por la ruta de acceso del GUID del volumen.</span><span class="sxs-lookup"><span data-stu-id="3935b-160">The following example references the file by volume GUID path.</span></span> <span data-ttu-id="3935b-161">Si la ruta de acceso y el nombre del origen es \\ \\ ? \\ \\a.dll de la fase de volumen {26a21bda-a627-11d7-9931-806e6f6e6963} \\ , este registro solicita que Srdelayed lo mueva a \\ \\ ? \\ Volumen {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\a.dll</span><span class="sxs-lookup"><span data-stu-id="3935b-161">If the path and name of the source is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\Stage\\a.dll, this record requests that Srdelayed move it to \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\a.dll</span></span>

 <span data-ttu-id="3935b-162">MoveFile \\ \\ ?? \\a.dll de la fase de Volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ \\ \\ \\ ? \\ Volumen {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\a.dll NotExecuted</span><span class="sxs-lookup"><span data-stu-id="3935b-162">MoveFile \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\Stage\\a.dll \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\a.dll NotExecuted</span></span>  


## <a name="format-for-a-delete-file-record"></a><span data-ttu-id="3935b-163">Formato de un registro de eliminación de archivo</span><span class="sxs-lookup"><span data-stu-id="3935b-163">Format for a Delete File Record</span></span>

<span data-ttu-id="3935b-164">El campo 1 lo identifica como una solicitud para eliminar un archivo.</span><span class="sxs-lookup"><span data-stu-id="3935b-164">Field 1 identifies this as a request to delete a file.</span></span> <span data-ttu-id="3935b-165">El valor de este campo siempre es L "DeleteFile" y distingue mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="3935b-165">The value in this field is always L"DeleteFile" and is case sensitive.</span></span>

<span data-ttu-id="3935b-166">El campo 2 no se usa.</span><span class="sxs-lookup"><span data-stu-id="3935b-166">Field 2 is unused.</span></span> <span data-ttu-id="3935b-167">El valor de este campo debe establecerse en L "sin usar".</span><span class="sxs-lookup"><span data-stu-id="3935b-167">The value in this field should be set to L"Unused".</span></span>

<span data-ttu-id="3935b-168">El campo 3 especifica el archivo que se va a quitar.</span><span class="sxs-lookup"><span data-stu-id="3935b-168">Field 3 specifies the file to be removed.</span></span> <span data-ttu-id="3935b-169">Una carpeta debe estar vacía para quitarse.</span><span class="sxs-lookup"><span data-stu-id="3935b-169">A folder must be empty to be removed.</span></span> <span data-ttu-id="3935b-170">Use las operaciones de eliminación de archivos para quitar todos los archivos de la carpeta antes de quitar la carpeta.</span><span class="sxs-lookup"><span data-stu-id="3935b-170">Use delete file operations to remove all files in the folder before removing the folder.</span></span> <span data-ttu-id="3935b-171">El valor de este campo es la ruta de acceso completa del archivo que se anexa a " \\ \\ ?? \\ " a menos que la ruta de acceso incluya un identificador único global (GUID), que usa " \\ \\ ? \\ " como prefijo.</span><span class="sxs-lookup"><span data-stu-id="3935b-171">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="3935b-172">Quite " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="3935b-172">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="3935b-173">El campo 4 recibe información de estado de Srdelayed.</span><span class="sxs-lookup"><span data-stu-id="3935b-173">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="3935b-174">El valor de este campo debe establecerse en L "NotExecuted" para un nuevo registro.</span><span class="sxs-lookup"><span data-stu-id="3935b-174">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="3935b-175">En el ejemplo siguiente se hace referencia al archivo por la ruta de acceso de la unidad.</span><span class="sxs-lookup"><span data-stu-id="3935b-175">The following example references the file by drive path.</span></span> <span data-ttu-id="3935b-176">Si la ruta de acceso y el nombre son C: \\ temp \\b.dll, este registro solicita que Srdelayed elimine el archivo.</span><span class="sxs-lookup"><span data-stu-id="3935b-176">If the path and name is C:\\temp\\b.dll, this record requests that Srdelayed delete the file.</span></span>

<span data-ttu-id="3935b-177">¿No se usa DeleteFile \\ \\ ? \\ C: \\ temp \\b.dll NotExecuted</span><span class="sxs-lookup"><span data-stu-id="3935b-177">DeleteFile Unused \\\\??\\C:\\temp\\b.dll NotExecuted</span></span>  


<span data-ttu-id="3935b-178">En el ejemplo siguiente se hace referencia al archivo por GUID de volumen.</span><span class="sxs-lookup"><span data-stu-id="3935b-178">The following example references the file by volume GUID.</span></span> <span data-ttu-id="3935b-179">Si la ruta de acceso y el nombre es \\ \\ ? \\ Volumen {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\b.dll, este registro solicita que Srdelayed Quite el archivo.</span><span class="sxs-lookup"><span data-stu-id="3935b-179">If the path and name is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\b.dll, this record requests that Srdelayed remove the file.</span></span>

<span data-ttu-id="3935b-180">¿No se usa DeleteFile \\ \\ ? \\ Volumen {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\b.dll\\ NotExecuted</span><span class="sxs-lookup"><span data-stu-id="3935b-180">DeleteFile Unused \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\b.dll\\ NotExecuted</span></span>  


## <a name="format-for-set-short-name-record"></a><span data-ttu-id="3935b-181">Formato para Set Short-Name registro</span><span class="sxs-lookup"><span data-stu-id="3935b-181">Format for Set Short-Name Record</span></span>

<span data-ttu-id="3935b-182">El campo 1 lo identifica como una solicitud para establecer el nombre corto de un archivo.</span><span class="sxs-lookup"><span data-stu-id="3935b-182">Field 1 identifies this as a request to set a file's short name.</span></span> <span data-ttu-id="3935b-183">El valor de este campo siempre es L "SetFileShortName" y distingue mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="3935b-183">The value in this field is always L"SetFileShortName" and is case sensitive.</span></span>

<span data-ttu-id="3935b-184">El campo 2 especifica el nombre corto.</span><span class="sxs-lookup"><span data-stu-id="3935b-184">Field 2 specifies the short name.</span></span>

<span data-ttu-id="3935b-185">Campo de campo 3 especifica la ruta de acceso y el nombre largo para recibir el nombre corto.</span><span class="sxs-lookup"><span data-stu-id="3935b-185">Field 3 field specifies the path and long name to receive the short name.</span></span> <span data-ttu-id="3935b-186">El valor de este campo es la ruta de acceso y el nombre largo del archivo que se anexa a " \\ \\ ?? \\ " a menos que la ruta de acceso incluya un identificador único global (GUID), que usa " \\ \\ ? \\ " como prefijo.</span><span class="sxs-lookup"><span data-stu-id="3935b-186">The value for this field is the path and long name of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="3935b-187">Quite " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="3935b-187">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="3935b-188">El campo 4 recibe información de estado de Srdelayed.</span><span class="sxs-lookup"><span data-stu-id="3935b-188">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="3935b-189">El valor de este campo debe establecerse en L "NotExecuted" para un nuevo registro.</span><span class="sxs-lookup"><span data-stu-id="3935b-189">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="3935b-190">En el ejemplo siguiente se hace referencia al archivo por la ruta de acceso de la unidad.</span><span class="sxs-lookup"><span data-stu-id="3935b-190">The following example references the file by drive path.</span></span> <span data-ttu-id="3935b-191">Si la ruta de acceso y el nombre del archivo es C: \\ temp \\ShortFileName.dll, este registro solicita que el archivo reciba un nombre corto, shortn ~1.dll.</span><span class="sxs-lookup"><span data-stu-id="3935b-191">If the path and name of the file is C:\\temp\\ShortFileName.dll, this record requests that the file receive a short name, ShortN~1.dll.</span></span>

<span data-ttu-id="3935b-192">SetFileShortName Shortn ~1.dll \\ \\ ?? \\ C: \\ temp \\ShortFileName.dll NotExecuted</span><span class="sxs-lookup"><span data-stu-id="3935b-192">SetFileShortName ShortN~1.dll \\\\??\\C:\\temp\\ShortFileName.dll NotExecuted</span></span>  


<span data-ttu-id="3935b-193">En el ejemplo siguiente se hace referencia al archivo por GUID de volumen.</span><span class="sxs-lookup"><span data-stu-id="3935b-193">The following example references the file by volume GUID.</span></span> <span data-ttu-id="3935b-194">Si la ruta de acceso y el nombre del archivo son \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\ShortFileName.dll\\ , este registro solicita que el archivo reciba un nombre corto, shortn ~1.dll.</span><span class="sxs-lookup"><span data-stu-id="3935b-194">If the path and name of the file is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\ShortFileName.dll\\, this record requests that the file receive a short name, ShortN~1.dll.</span></span>

<span data-ttu-id="3935b-195">SetFileShortName Shortn ~1.dll \\ \\ ?? \\ Volumen {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\ShortFileName.dll\\ NotExecuted</span><span class="sxs-lookup"><span data-stu-id="3935b-195">SetFileShortName ShortN~1.dll \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\ShortFileName.dll\\ NotExecuted</span></span>  


## <a name="srdelayed-operations-status"></a><span data-ttu-id="3935b-196">Estado de las operaciones de Srdelayed</span><span class="sxs-lookup"><span data-stu-id="3935b-196">Srdelayed Operations Status</span></span>

<span data-ttu-id="3935b-197">Srdelayed escribe la cadena L "SC =*xxxxxxx*" en el cuarto campo de cada registro del archivo de texto, donde *xxxxxxx* es un valor hexadecimal que indica el estado de la operación solicitada.</span><span class="sxs-lookup"><span data-stu-id="3935b-197">Srdelayed writes the string L"SC=*xxxxxxx*" into the fourth field of each record of the text file, where *xxxxxxx* is a hexadecimal that indicates the status of the requested operation.</span></span> <span data-ttu-id="3935b-198">Un valor de cero indica que la operación se realizó correctamente.</span><span class="sxs-lookup"><span data-stu-id="3935b-198">A value of zero indicates the operation succeeded.</span></span>

<span data-ttu-id="3935b-199">Srdelayed crea una clave del registro denominada **SystemRestore** en **HKEY \_ local \_ Machine** \\ **software** \\ **Microsoft** \\ **Windows NT** \\ **CurrentVersion** para registrar el resultado de toda la operación de restauración.</span><span class="sxs-lookup"><span data-stu-id="3935b-199">Srdelayed creates a registry key named **SystemRestore** under **HKEY\_LOCAL\_MACHINE**\\**Software**\\**Microsoft**\\**Windows NT**\\**CurrentVersion** to log the outcome of the entire restore operation.</span></span> <span data-ttu-id="3935b-200">Si Srdelayed realiza todas las operaciones solicitadas con éxito, el nombre RestoreStatusResult se escribe bajo esta clave con un valor cero.</span><span class="sxs-lookup"><span data-stu-id="3935b-200">If Srdelayed performs all the requested operations with success, the name RestoreStatusResult is written under this key with a zero value.</span></span> <span data-ttu-id="3935b-201">Si Srdelayed no puede realizar ninguna de las operaciones solicitadas, los nombres RestoreStatusResult y RestoreStatusDetails se escriben en esta clave con valores distintos de cero.</span><span class="sxs-lookup"><span data-stu-id="3935b-201">If Srdelayed is unable to perform any of the requested operations, the names RestoreStatusResult and RestoreStatusDetails are written under this key with nonzero values.</span></span> <span data-ttu-id="3935b-202">El nombre RestoreStatusDetails se escribe bajo esta clave solo si Srdelayed no puede realizar ninguna operación solicitada.</span><span class="sxs-lookup"><span data-stu-id="3935b-202">The name RestoreStatusDetails is written under this key only if Srdelayed is unable to perform any requested operations.</span></span> <span data-ttu-id="3935b-203">Si una operación para establecer el nombre corto de un archivo no se realiza correctamente, Srdelayed continúa con la siguiente operación.</span><span class="sxs-lookup"><span data-stu-id="3935b-203">If an operation to set the short name of a file is unsuccessful, Srdelayed continues to the next operation.</span></span> <span data-ttu-id="3935b-204">Srdelayed considera que las operaciones de archivo y eliminación de archivos son críticas y no continúan si una operación de movimiento o eliminación no se realiza correctamente.</span><span class="sxs-lookup"><span data-stu-id="3935b-204">Srdelayed considers the move file and delete file operations to be critical and does not continue if a move or delete operation is unsuccessful.</span></span>

 

 