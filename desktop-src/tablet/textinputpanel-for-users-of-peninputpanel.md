---
description: La versión de Windows Vista incluye un nuevo objeto de programación para el panel de entrada de Tablet PC que proporciona una nueva gama de posibilidades de cómo una aplicación puede usar e interactuar con el panel de entrada.
ms.assetid: 539f41d3-5fb8-4e20-99ba-0d5af1f0cc54
title: TextInputPanel para los usuarios de PenInputPanel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 14ed213db49427d997f0ea1dda414cf1a6a0c2d4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104361414"
---
# <a name="textinputpanel-for-users-of-peninputpanel"></a><span data-ttu-id="2c97d-103">TextInputPanel para los usuarios de PenInputPanel</span><span class="sxs-lookup"><span data-stu-id="2c97d-103">TextInputPanel for Users of PenInputPanel</span></span>

<span data-ttu-id="2c97d-104">La versión de Windows Vista incluye un nuevo objeto de programación para el panel de entrada de Tablet PC que proporciona una nueva gama de posibilidades de cómo una aplicación puede usar e interactuar con el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-104">The release of Windows Vista includes a new programmability object for the Tablet PC Input Panel that provides a new range of possibility for how an application can use and interact with Input Panel.</span></span> <span data-ttu-id="2c97d-105">Por primera vez, los desarrolladores de aplicaciones pueden colocar el In-Place icono del panel de entrada para alinearlo con un cuadro de texto o colocarlo en la esquina de una superficie de entrada de lápiz de cliente para ofrecer acceso a un modo de entrada alternativo.</span><span class="sxs-lookup"><span data-stu-id="2c97d-105">For the first time application developers can position the In-Place Input Panel Icon to line up with a text box or place it in the corner of a customer inking surface to offer access to an alternative input mode.</span></span> <span data-ttu-id="2c97d-106">Los desarrolladores tienen el mismo control sobre la posición cuando el icono del panel de entrada se expande en el In-Place panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-106">Developers have the same control over positioning once the Input Panel Icon is expanded into the In-Place Input Panel.</span></span> <span data-ttu-id="2c97d-107">Esto hace posible garantizar que el panel de entrada de In-Place nunca se superponga a los elementos clave de la interfaz de usuario en el diseño de una aplicación ni siquiera a redistribuir la interfaz de usuario de una aplicación para crear espacio para el In-Place panel de entrada y, a continuación, colocarlo en el espacio reservado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-107">This makes it possible to assure the In-Place Input Panel never overlaps with key user interface elements in an application's layout or even to reflow an application's user interface to make space for the In-Place Input Panel and then place it in the reserved space.</span></span> <span data-ttu-id="2c97d-108">El nuevo modelo de programación incluye compatibilidad para algo más que el posicionamiento, aunque los desarrolladores también pueden personalizar el área de entrada, el modo de corrección y muchas otras propiedades del panel de entrada para adaptar la experiencia de entrada de texto en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-108">The new programmability model includes support for more than just positioning though, developers can also customize the input area, correction mode, and many other properties of Input Panel to tailor make the text entry experience in an application.</span></span> <span data-ttu-id="2c97d-109">Por último, por primera vez, es posible que una aplicación reciba la tinta de usuario, además del texto reconocido, asociada a las inserciones de texto del panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-109">Lastly, for the first time it is possible for an application to receive the user ink, in addition to the recognized text, associated with text insertions from Input Panel.</span></span> <span data-ttu-id="2c97d-110">Esto permite nuevos escenarios de aplicación, como la entrada manuscrita en los registros de seguimiento de cambios y la posibilidad de que los usuarios puedan editar o ver la entrada de lápiz en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-110">This enables new application scenarios including ink in change tracking logs and allowing users to edit or view ink in the application.</span></span> <span data-ttu-id="2c97d-111">Estas nuevas características de programación son el resultado directo de los comentarios que Microsoft ha recibido sobre el caso del desarrollador del panel de entrada y representa el primer paso hacia la integración más estrecha de las aplicaciones y el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-111">These new programmability features are the direct result of feedback Microsoft has received about the Input Panel developer story and represent the first step toward tighter integration of applications and Input Panel.</span></span>

<span data-ttu-id="2c97d-112">Con el fin de proporcionar este modelo de programación de panel de entrada enriquecido, el mecanismo existente para interactuar mediante programación con el panel de entrada, el objeto [**PenInputPanel**](peninputpanel-class.md) , está en desuso y se reemplaza por el nuevo objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-112">In order to provide this enriched Input Panel programmability model the existing mechanism for programmatically interacting with Input Panel, the [**PenInputPanel**](peninputpanel-class.md) object, is being deprecated and replaced by the new [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object.</span></span> <span data-ttu-id="2c97d-113">Además de proporcionar nuevas características de programación, el objeto **TextInputPanel** también proporciona cerca de todas las capacidades de programación del objeto **PenInputPanel** .</span><span class="sxs-lookup"><span data-stu-id="2c97d-113">In addition to providing new programmability features, the **TextInputPanel** object also provides close to all of the programmatic capabilities of the **PenInputPanel** object.</span></span> <span data-ttu-id="2c97d-114">El objeto **TextInputPanel** se incluye en Windows Vista y en el kit para desarrolladores de software de Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="2c97d-114">The **TextInputPanel** object is included in both Windows Vista and the Windows Vista Software Developer Kit.</span></span> <span data-ttu-id="2c97d-115">El objeto **TextInputPanel** solo es compatible con el panel de entrada de Windows Vista y no se puede usar con el panel de entrada de Windows XP Service Pack 2 o posterior.</span><span class="sxs-lookup"><span data-stu-id="2c97d-115">The **TextInputPanel** object is only compatible with the Windows Vista Input Panel and cannot be used with the Windows XP Service Pack 2 or older Input Panel.</span></span> <span data-ttu-id="2c97d-116">La aplicación que se escribió previamente para usar el objeto **PenInputPanel** continuará funcionando con el panel de entrada de Windows Vista; sin embargo, al escribir nuevos programadores de Tablet aplicaciones, se recomienda encarecidamente usar el nuevo objeto **TextInputPanel** en lugar del objeto **PenInputPanel** en desuso.</span><span class="sxs-lookup"><span data-stu-id="2c97d-116">Application that were previously written to use the **PenInputPanel** object will continue to work with the Windows Vista Input Panel, however, when writing new Tablet applications developers are strongly encouraged to use the new **TextInputPanel** object instead of the deprecated **PenInputPanel** object.</span></span>

<span data-ttu-id="2c97d-117">Cada una de las opciones de programación del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) se puede aplicar en cada campo de texto.</span><span class="sxs-lookup"><span data-stu-id="2c97d-117">Each of the programmability options of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object can be applied on a per text field basis.</span></span> <span data-ttu-id="2c97d-118">Esto se logra asociando una instancia del objeto **TextInputPanel** mediante la propiedad [**AttachedEditWindow**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_attachededitwindow) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-118">This is accomplished by attaching an instance of the **TextInputPanel** object using the [**AttachedEditWindow**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_attachededitwindow) property.</span></span> <span data-ttu-id="2c97d-119">La propiedad se debe establecer en el identificador de ventana para el campo de texto.</span><span class="sxs-lookup"><span data-stu-id="2c97d-119">The property should be set to the window handle for the text field.</span></span>

> [!Note]  
> <span data-ttu-id="2c97d-120">: Algunas de las propiedades y métodos que se describen a continuación se aplican cuando el panel de entrada está en el modo de interacción en contexto y no cuando el panel de entrada está en el modo de interacción flotante o acoplada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-120">: Several of the properties and methods describe below apply when Input Panel is in the in-place interaction mode and not when Input Panel is in the floating or docked interaction mode.</span></span> <span data-ttu-id="2c97d-121">El modo de interacción en contexto es el comportamiento del panel de entrada, donde colocar el foco en un campo editable hace que el icono del panel de entrada aparezca junto al campo y al puntear en el icono del panel de entrada, se expanda el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-121">The in-place interaction mode is the Input Panel behavior where placing focus in an editable field causes the Input Panel Icon to appear next to the field, and tapping on the Input Panel Icon causes Input Panel to expand.</span></span> <span data-ttu-id="2c97d-122">Los métodos y propiedades que solo se aplican cuando el panel de entrada está en el modo de interacción en contexto contienen ' InPlace ' en el nombre de método o propiedad.</span><span class="sxs-lookup"><span data-stu-id="2c97d-122">The methods and properties that only apply when Input Panel is in the in-place interaction mode all contain 'InPlace' in the method or property name.</span></span>

 

## <a name="control-of-input-panel-icon-and-input-panel-visibility"></a><span data-ttu-id="2c97d-123">Control del icono del panel de entrada y visibilidad del panel de entrada</span><span class="sxs-lookup"><span data-stu-id="2c97d-123">Control of Input Panel Icon and Input Panel Visibility</span></span>

<span data-ttu-id="2c97d-124">El primer aspecto del panel de entrada para el que los desarrolladores de aplicaciones tienen más control en Windows Vista es su visibilidad.</span><span class="sxs-lookup"><span data-stu-id="2c97d-124">The first aspect of Input Panel which application developers have more control over in Windows Vista is its visibility.</span></span> <span data-ttu-id="2c97d-125">Con el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) es posible controlar la visibilidad del panel de entrada In-Place de tres maneras.</span><span class="sxs-lookup"><span data-stu-id="2c97d-125">Using the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object it is possible to control the visibility of the In-Place Input Panel in three ways.</span></span> <span data-ttu-id="2c97d-126">Con una combinación de propiedades y métodos, una aplicación puede determinar si el In-Place panel de entrada muestra, cuando se muestra el panel de entrada In-Place, y si aparece primero como el icono del panel de entrada o se muestra inmediatamente expandido.</span><span class="sxs-lookup"><span data-stu-id="2c97d-126">With a combination of properties and methods an application can determine if the In-Place Input Panel shows, when the In-Place Input Panel shows, and whether it appears first as the Input Panel Icon or immediately shows expanded.</span></span> <span data-ttu-id="2c97d-127">Mediante la combinación de estas técnicas para controlar la visibilidad con las técnicas para controlar el posicionamiento descrito en la sección siguiente, es posible que los desarrolladores de aplicaciones creen puntos de inicio personalizados y flujos de trabajo personalizados mediante el panel de entrada de In-Place en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-127">By combining these techniques for controlling visibility with the techniques for controlling positioning discussed in the next section it is possible for application developers to create custom launch points and custom work flows using the In-Place Input Panel in an application.</span></span>

> [!Note]  
> <span data-ttu-id="2c97d-128">Las propiedades y los métodos que se describen en esta sección solo se aplican cuando el panel de entrada está en el modo de interacción de In-Place.</span><span class="sxs-lookup"><span data-stu-id="2c97d-128">The properties and methods discussed in this section only apply when Input Panel is in the In-Place interaction mode.</span></span>

 

<span data-ttu-id="2c97d-129">En primer lugar, es posible evitar que los In-Place panel de entrada y el icono del panel de entrada aparezcan al establecer la propiedad [**InPlaceVisibleOnFocus**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplacevisibleonfocus) en **false**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-129">First and most basically, it is possible to prevent the In-Place Input Panel and the Input Panel Icon from ever appearing by setting the [**InPlaceVisibleOnFocus**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplacevisibleonfocus) property to **false**.</span></span> <span data-ttu-id="2c97d-130">Si se establece en **true** , se revierte al sistema predeterminado que aparece cuando sea posible, siempre y cuando el usuario o el Directiva de grupo no haya deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-130">Setting it to **true** reverts it to the system default of appearing when possible, provided it has not been disabled by the user or Group Policy.</span></span> <span data-ttu-id="2c97d-131">Esta opción es útil para las aplicaciones que incluyen soluciones de entrada de texto personalizadas como alternativa al panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-131">This option is useful for applications that include custom text entry solutions as an alternative to Input Panel.</span></span>

<span data-ttu-id="2c97d-132">En segundo lugar, al establecer la propiedad [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) , un desarrollador puede especificar qué estado en contexto, tal y como se especifica en la enumeración [**InPlaceState**](/windows/win32/api/peninputpanel/ne-peninputpanel-inplacestate) , el In-Place panel de entrada aparece en cuando el foco se coloca en un campo de texto.</span><span class="sxs-lookup"><span data-stu-id="2c97d-132">Second, by setting the [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) property a developer can specify which in-place state, as specified by the [**InPlaceState**](/windows/win32/api/peninputpanel/ne-peninputpanel-inplacestate) enumeration, the In-Place Input Panel appears in when focus is placed in a text field.</span></span> <span data-ttu-id="2c97d-133">El valor predeterminado del sistema es que el panel de entrada de In-Place aparezca en el estado de desplazamiento a menos que el panel de entrada ya esté visible en el estado expandido, en cuyo caso el panel de entrada permanece expandido.</span><span class="sxs-lookup"><span data-stu-id="2c97d-133">The system default is for the In-Place Input Panel to appear in the hover state unless Input Panel is already visible in the expanded state, in which case Input Panel remains expanded.</span></span> <span data-ttu-id="2c97d-134">Al establecer la propiedad **DefaultInPlaceState** en **InPlaceState \_ expanded** , el In-Place panel de entrada siempre aparece expandido, en lugar de que el icono del panel de entrada aparezca primero y, a continuación, requiriendo que el usuario puntee en el icono del panel de entrada antes de que se expanda el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-134">Setting the **DefaultInPlaceState** property to **InPlaceState\_Expanded** causes the In-Place Input Panel to always appear expanded, rather than the Input Panel Icon appearing first and then requiring the user to tap the Input Panel Icon before Input Panel expands.</span></span> <span data-ttu-id="2c97d-135">Las otras dos opciones son **InPlaceState \_ auto**, que es el comportamiento predeterminado del sistema y **InPlaceState \_ HoverTarget** , que siempre hace que aparezca el icono del panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-135">The other two options are **InPlaceState\_Auto**, which is the system default behavior and **InPlaceState\_HoverTarget** which always causes the Input Panel Icon to appear.</span></span> <span data-ttu-id="2c97d-136">La capacidad de especificar que el panel de entrada de In-Place siempre aparece expandido es nuevo con el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) y no es posible mediante el objeto [**PenInputPanel**](peninputpanel-class.md) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-136">The ability to specify that the In-Place Input Panel always appear expanded is new with the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object and not possible using the [**PenInputPanel**](peninputpanel-class.md) object.</span></span> <span data-ttu-id="2c97d-137">En la ilustración siguiente se muestra el In-Place icono del panel de entrada y los Estados expandidos del panel.</span><span class="sxs-lookup"><span data-stu-id="2c97d-137">The following illustration shows the In-Place Input Panel icon and expanded states of the panel.</span></span>

![icono del panel de entrada en contexto y Estados expandidos](images/8ce866b6-9a45-499f-a3d1-95a1d34d6402.jpg)

<span data-ttu-id="2c97d-139">Además de poder controlar el estado en contexto, también es posible que un desarrollador determine el estado en contexto en un momento dado mediante la obtención de la propiedad [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-139">In addition to being able to control the in-place state, it is also possible for a developer to determine the in-place state at a given moment by getting the [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) property.</span></span> <span data-ttu-id="2c97d-140">El valor de **CurrentInPlaceState** es igual a [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) cuando el panel de entrada no está visible, excepto cuando **DefaultInPlaceState** es **InPlaceState \_ auto** en cuyo caso el **CurrentInPlaceState** se convierte en **InPlaceState \_ HoverTarget**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-140">The **CurrentInPlaceState** is equal to [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) when Input Panel is not visible, except when the **DefaultInPlaceState** is **InPlaceState\_Auto** in which case the **CurrentInPlaceState** becomes **InPlaceState\_HoverTarget**.</span></span> <span data-ttu-id="2c97d-141">Los eventos de [**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging)  /  [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged) se pueden usar para realizar un seguimiento del estado de visibilidad del panel de entrada In-Place.</span><span class="sxs-lookup"><span data-stu-id="2c97d-141">The [**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging) / [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged) events can be used to keep track on the In-Place Input Panel's visibility state.</span></span>

<span data-ttu-id="2c97d-142">Por último, un desarrollador puede hacer que el In-Place panel de entrada se oculte o se muestre con el método [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-142">Lastly, a developer can force the In-Place Input Panel to hide or show using the [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) method.</span></span> <span data-ttu-id="2c97d-143">Si el desarrollador ha establecido previamente la propiedad [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) , el panel de entrada aparece en el estado especificado cuando se fuerza a mostrar.</span><span class="sxs-lookup"><span data-stu-id="2c97d-143">If the developer has previously set the [**DefaultInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) property, Input Panel appears in the specified state when forced to show.</span></span> <span data-ttu-id="2c97d-144">Una aplicación solo se permite ocultar o mostrar el panel de entrada In-Place cuando el foco está actualmente en la ventana a la que está asociado el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) y cuando el usuario no tiene abierto el panel de entrada en otro modo de interacción, como acoplado o flotante.</span><span class="sxs-lookup"><span data-stu-id="2c97d-144">An application is only permitted to hide or show the In-Place Input Panel when focus is currently in the window the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is attached to and when the user does not have Input Panel open in another interaction mode, such as docked or floating.</span></span> <span data-ttu-id="2c97d-145">La capacidad de forzar el In-Place panel de entrada para ocultar o mostrar también es nueva con el objeto **TextInputPanel** y no es posible mediante el objeto [**PenInputPanel**](peninputpanel-class.md) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-145">The ability to force the In-Place Input Panel to hide or show is also new with the **TextInputPanel** object and not possible using the [**PenInputPanel**](peninputpanel-class.md) object.</span></span>

<span data-ttu-id="2c97d-146">Estas opciones proporcionan a los desarrolladores de aplicaciones un mayor control sobre cuándo aparece el In-Place panel de entrada y en qué estado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-146">These options give application developers fine grain control over when the In-Place Input Panel appears and in what state.</span></span> <span data-ttu-id="2c97d-147">Al personalizar el estado local predeterminado y controlar la visibilidad local de forma independiente de los cambios de foco, un desarrollador de aplicaciones puede crear un flujo de trabajo personalizado cuando el panel de entrada responde a la configuración de la aplicación o a la entrada del usuario en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-147">By customizing the default in-place state and controlling the in-place visibility independently of focus changes an application developer can create a custom work flow when Input Panel responds to either application settings or user input into an application.</span></span>

## <a name="absolute-positioning-of-input-panel-icon-and-input-panel"></a><span data-ttu-id="2c97d-148">Posición absoluta del icono del panel de entrada y del panel de entrada</span><span class="sxs-lookup"><span data-stu-id="2c97d-148">Absolute Positioning of Input Panel Icon and Input Panel</span></span>

<span data-ttu-id="2c97d-149">Posiblemente, la nueva característica más atractiva que se encuentra en el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) es el posicionamiento absoluto del panel de entrada In-Place.</span><span class="sxs-lookup"><span data-stu-id="2c97d-149">Possibly the most compelling new feature found in the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is absolute positioning of the In-Place Input Panel.</span></span> <span data-ttu-id="2c97d-150">Con esta nueva funcionalidad, un desarrollador de aplicaciones puede garantizar que el In-Place panel de entrada no se superponga a uno o varios elementos visuales clave en un diseño de aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-150">With this new capability an application developer can ensure that the In-Place Input Panel does not overlap with one or more key visual elements in an application layout.</span></span> <span data-ttu-id="2c97d-151">Con el objeto [**PenInputPanel**](peninputpanel-class.md) , era posible colocar el In-Place panel de entrada en relación con un campo de texto basado en un desplazamiento; sin embargo, el panel de entrada se ajustaría a sí mismo para mantener en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="2c97d-151">Using the [**PenInputPanel**](peninputpanel-class.md) object it was possible to position the In-Place Input Panel relative to a text field based on an offset, however, Input Panel would still adjust itself to keep on the screen.</span></span> <span data-ttu-id="2c97d-152">Por primera vez en vista, una aplicación puede colocar el In-Place panel de entrada en una posición absoluta mediante las coordenadas de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="2c97d-152">For the first time in Vista an application can position the In-Place Input Panel at an absolute position using screen coordinates.</span></span> <span data-ttu-id="2c97d-153">Además, la responsabilidad de mantener el panel de entrada en la pantalla se deja al desarrollador de la aplicación, por lo que se elimina la posibilidad de que el panel de entrada se coloque automáticamente y parezca que se cambie de posición aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-153">Additionally, the responsibility of keeping Input Panel on the screen is left to the application developer therefore removing the chance that Input Panel will automatically, and seemingly randomly, reposition itself.</span></span>

> [!Note]  
> <span data-ttu-id="2c97d-154">Las propiedades y los métodos que se describen en esta sección solo se aplican cuando el panel de entrada está en el modo de interacción de In-Place.</span><span class="sxs-lookup"><span data-stu-id="2c97d-154">The properties and methods discussed in this section only apply when Input Panel is in the In-Place interaction mode.</span></span>

 

<span data-ttu-id="2c97d-155">Los dos métodos principales necesarios para colocar de forma absoluta el In-Place panel de entrada son [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) y [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition).</span><span class="sxs-lookup"><span data-stu-id="2c97d-155">The two primary methods necessary for absolutely positioning the In-Place Input Panel are [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) and [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition).</span></span> <span data-ttu-id="2c97d-156">El primero se usa para especificar la ubicación del In-Place panel de entrada y el segundo se usa para especificar la ubicación del icono del panel de entrada para el panel de entrada In-Place.</span><span class="sxs-lookup"><span data-stu-id="2c97d-156">The first is used to specify the location of the In-Place Input Panel and the second is used to specify the location of the Input Panel Icon for the In-Place Input Panel.</span></span> <span data-ttu-id="2c97d-157">Si una aplicación decide solo establecer la ubicación del icono del panel de entrada y no la ubicación del In-Place panel de entrada, el panel de entrada In-Place aparece en la ubicación predeterminada determinada por el sistema.</span><span class="sxs-lookup"><span data-stu-id="2c97d-157">If an application chooses to only set the Input Panel Icon location and not the location of the In-Place Input Panel, then the In-Place Input Panel appears in the default location determined by the system.</span></span> <span data-ttu-id="2c97d-158">Del mismo modo, si una aplicación cambia la posición del panel de entrada In-Place pero no el icono del panel de entrada, el icono del panel de entrada aparece en la ubicación predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-158">Similarly if an application repositions the In-Place Input Panel but not the Input Panel Icon, the Input Panel Icon appears in the default location.</span></span> <span data-ttu-id="2c97d-159">La ubicación se especifica en coordenadas de pantalla.</span><span class="sxs-lookup"><span data-stu-id="2c97d-159">Location is specified in screen coordinates.</span></span> <span data-ttu-id="2c97d-160">El punto real que se está colocando es la esquina superior izquierda del icono del panel de entrada o del panel de entrada sin la combinación de corrección expandida.</span><span class="sxs-lookup"><span data-stu-id="2c97d-160">The actual point being positioned is the upper left corner of the Input Panel Icon or Input Panel with no Correction Comb expanded.</span></span> <span data-ttu-id="2c97d-161">Cuando se expande la combinación de correcciones, el punto que se está colocando no cambia.</span><span class="sxs-lookup"><span data-stu-id="2c97d-161">When the Correction Comb is expanded, the point being positioned does not change.</span></span> <span data-ttu-id="2c97d-162">(Consulte la figura 2 a continuación) No hay ninguna restricción en la que el panel de entrada de In-Place y el icono del panel de entrada In-Place pueden ser lugares y es responsabilidad de las aplicaciones que llaman a estos métodos para mantenerlos en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="2c97d-162">(See Figure 2 below)There are no restricts on where the In-Place Input Panel and the In-Place Input Panel Icon can be places and it is the responsibility of the applications calling these methods to keep them on the screen.</span></span> <span data-ttu-id="2c97d-163">Ambos métodos son sincrónicos, lo que significa que la posición se produce antes de que se devuelva el método.</span><span class="sxs-lookup"><span data-stu-id="2c97d-163">Both methods are synchronous, meaning positioning occurs before the method returns.</span></span> <span data-ttu-id="2c97d-164">En el caso de que el panel de entrada ya esté abierto en el modo de interacción flotante o acoplada, se producirá un error al intentar colocar el In-Place panel de entrada o el icono del panel de entrada In-Place.</span><span class="sxs-lookup"><span data-stu-id="2c97d-164">In the case where Input Panel is already open in the floating or docked interaction mode, an attempt to position the In-Place Input Panel or the In-Place Input Panel Icon fails.</span></span> <span data-ttu-id="2c97d-165">Además, los métodos producen un error si la ventana asociada al objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) no tiene actualmente el foco.</span><span class="sxs-lookup"><span data-stu-id="2c97d-165">Additionally the methods fail if the window attached to the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object does not currently have focus.</span></span>

<span data-ttu-id="2c97d-166">Una llamada a [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) o [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition) no hace que se muestre automáticamente el In-Place panel de entrada o el icono del panel de entrada, simplemente establece la posición de la próxima vez que se muestran.</span><span class="sxs-lookup"><span data-stu-id="2c97d-166">A call to [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) or [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition) does not automatically cause the In-Place Input Panel or Input Panel Icon to show, it simply sets the position for the next time they are shown.</span></span> <span data-ttu-id="2c97d-167">La llamada a [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) se puede usar para forzar que se muestren inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-167">Calling [**SetInPlaceVisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) can be used to force them to show immediately.</span></span>

![medidas del panel de entrada en contexto](images/0c67a77a-5d2f-489f-9357-b8a168d024d3.jpg)

<span data-ttu-id="2c97d-169">Al colocar el In-Place el panel de entrada que calcula si va a salir de la pantalla puede ser un poco complicado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-169">When positioning the In-Place Input Panel calculating whether it will go off the screen can be a little tricky.</span></span> <span data-ttu-id="2c97d-170">Para facilitar este proceso, hay varias propiedades del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) que se pueden usar para simplificar este proceso.</span><span class="sxs-lookup"><span data-stu-id="2c97d-170">To make this process easier, there are several properties of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object that can be used to simplify this process.</span></span> <span data-ttu-id="2c97d-171">Juntas, estas propiedades y eventos se pueden usar para determinar el tamaño exacto del In-Place panel de entrada en todos sus Estados:</span><span class="sxs-lookup"><span data-stu-id="2c97d-171">Together these properties and event can be used to determine the exact size of the In-Place Input Panel in all of its states:</span></span>

-   <span data-ttu-id="2c97d-172">[**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle): esta propiedad proporciona el rectángulo delimitador del In-Place panel de entrada cuando se muestra el área de entrada más grande para el idioma de entrada actual.</span><span class="sxs-lookup"><span data-stu-id="2c97d-172">[**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle)– This property provides the bounding rectangle for the In-Place Input Panel when the largest input area for the current input language is showing.</span></span> <span data-ttu-id="2c97d-173">Si el panel de escritura o el panel de caracteres se determinan en el área de entrada más grande, se incluye el alto del botón Insertar.</span><span class="sxs-lookup"><span data-stu-id="2c97d-173">If the Writing Pad or Character Pad are determined to the largest input area, then the height of the Insert button is included.</span></span> <span data-ttu-id="2c97d-174">No incluye el alto de la combinación de correcciones. Cuando el In-Place panel de entrada crece automáticamente [](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging),  /  se activa el par de eventos InPlaceSizeChanging [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged) y el valor de esta propiedad se actualiza para incluir el área de escritura adicional o la línea de escritura.</span><span class="sxs-lookup"><span data-stu-id="2c97d-174">It does not include the height of the Correction Comb. When the In-Place Input Panel auto grows, [**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging) / [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged) event pair is fired and the value of this property is updated to include the additional writing area or writing line.</span></span>
-   <span data-ttu-id="2c97d-175">[**PopUpCorrectionHeight**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_popupcorrectionheight): esta propiedad especifica el alto de la combinación de correcciones posterior a la inserción cuando se coloca sobre el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-175">[**PopUpCorrectionHeight**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_popupcorrectionheight)– This property specifies the height of the Post-Insertion Correction Comb when it is positioned above Input Panel.</span></span> <span data-ttu-id="2c97d-176">Para obtener el alto completo del panel de entrada de In-Place con el peine de corrección posterior a la inserción extraído, agregue el alto de [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) a **PopUpCorrectionHeight**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-176">To get the full height of the In-Place Input Panel with the Post-Insertion Correction Comb popped-up, add the height of the [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) to the **PopUpCorrectionHeight**.</span></span>

<span data-ttu-id="2c97d-177">Como alternativa más sencilla a establecer la posición absoluta de la In-Place el panel de entrada y el icono del panel de entrada, una aplicación solo puede especificar si el In-Place panel de entrada tiene como valor predeterminado el que aparece por encima o por debajo de un campo de entrada de texto.</span><span class="sxs-lookup"><span data-stu-id="2c97d-177">As a simpler alternative to setting the absolute position of the In-Place Input Panel and Input Panel Icon, an application can just specify whether the In-Place Input Panel defaults to appearing above or below a text entry field.</span></span> <span data-ttu-id="2c97d-178">De este modo, es posible evitar la superposición de elementos en el diseño de la aplicación de una manera más controlada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-178">In this way it is possible to avoid overlapping elements in the application layout in a more loosely controlled manner.</span></span> <span data-ttu-id="2c97d-179">Para ello, la aplicación establece [**PreferredInPlaceDirection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_preferredinplacedirection) en **InPlaceDirection \_ Bottom** o **InPlaceDirection \_ Top**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-179">To do this the application sets the [**PreferredInPlaceDirection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_preferredinplacedirection) to **InPlaceDirection\_Bottom** or **InPlaceDirection\_Top**.</span></span> <span data-ttu-id="2c97d-180">La propiedad es una preferencia porque el In-Place panel de entrada invalida la preferencia establecida por la aplicación cuando sea necesario para mantener el panel de entrada en la pantalla.</span><span class="sxs-lookup"><span data-stu-id="2c97d-180">The property is a preference because the In-Place Input Panel overrides the preference set by the application when necessary to keep Input Panel on the screen.</span></span> <span data-ttu-id="2c97d-181">El valor predeterminado del sistema es colocar el In-Place panel de entrada debajo de un campo de texto cuando sea posible y, de lo contrario, colocarlo encima.</span><span class="sxs-lookup"><span data-stu-id="2c97d-181">The system default is to position the In-Place Input Panel below a text field when possible and otherwise to position it above.</span></span> <span data-ttu-id="2c97d-182">Al establecer **PreferredInPlaceDirection** en **InPlaceDirection \_** , se restaura automáticamente el valor predeterminado del sistema.</span><span class="sxs-lookup"><span data-stu-id="2c97d-182">Setting the **PreferredInPlaceDirection** to **InPlaceDirection\_Auto** restores the system default.</span></span>

<span data-ttu-id="2c97d-183">Juntos, las propiedades, los métodos y los eventos del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) proporcionan a los desarrolladores el control necesario sobre el In-Place panel de entrada para poder colocar de forma inteligente el In-Place panel de entrada y el icono del panel de entrada en un diseño de aplicación, de modo que no interrumpan el flujo de diseño y, en algunos casos, pueden aparecer integrados.</span><span class="sxs-lookup"><span data-stu-id="2c97d-183">Together the properties, methods and events of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object give developers the necessary control over the In-Place Input Panel to be able to cleverly position the In-Place Input Panel and Input Panel Icon in an application layout so they do not disrupt the layout flow and in some case may appear integrated.</span></span> <span data-ttu-id="2c97d-184">Este nuevo nivel de control es una gran victoria para el diseño de aplicaciones de Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="2c97d-184">This new level of control is a big win for Tablet application design.</span></span>

## <a name="access-to-the-three-input-panel-areas-writing-pad-character-pad-and-keyboard"></a><span data-ttu-id="2c97d-185">Acceso a las tres áreas del panel de entrada: panel de escritura, panel de caracteres y teclado</span><span class="sxs-lookup"><span data-stu-id="2c97d-185">Access to the Three Input Panel Areas: Writing Pad, Character Pad and Keyboard</span></span>

<span data-ttu-id="2c97d-186">El panel de entrada tiene tres áreas de entrada, el panel de escritura, el panel de caracteres y el teclado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-186">Input Panel has three input areas, the Writing Pad, Character Pad, and Keyboard.</span></span> <span data-ttu-id="2c97d-187">Con el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) , una aplicación puede especificar el área de entrada predeterminada que se muestra al usuario cuando se abre el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-187">Using the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object an application can specify the default input area that is shown to the user when Input Panel opens.</span></span> <span data-ttu-id="2c97d-188">La razón principal para que una aplicación lo haga es emparejar el área de entrada con el tipo de entrada de un campo específico.</span><span class="sxs-lookup"><span data-stu-id="2c97d-188">The main reason for an application to do so is to pair the input area with the input type of specific field.</span></span> <span data-ttu-id="2c97d-189">Por ejemplo, el panel de escritura es probablemente el más adecuado para rellenar un campo de comentarios, pero el teclado puede ser más conveniente para escribir un número de serie de producto que contenga números y letras.</span><span class="sxs-lookup"><span data-stu-id="2c97d-189">For example, the Writing Pad is probably best suited for filling out a comments field, but the Keyboard may be more convenient for entering a product serial number that contains both numbers and letters.</span></span> <span data-ttu-id="2c97d-190">Para especificar el área de entrada predeterminada, las aplicaciones establecen la propiedad [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) en una de las tres áreas de entrada, tal y como se define en la enumeración [**PanelInputArea**](/windows/win32/api/peninputpanel/ne-peninputpanel-panelinputarea) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-190">In order to specify the default input area an applications sets the [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) property to one of the three input areas as defined by the [**PanelInputArea**](/windows/win32/api/peninputpanel/ne-peninputpanel-panelinputarea) enumeration.</span></span> <span data-ttu-id="2c97d-191">En la ilustración siguiente se muestran las tres áreas de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-191">The following illustration shows the three input areas.</span></span>

![escritura, carácter y panel de entrada de teclado](images/3f1e3d03-88b9-478c-b12d-00d341bc8d5c.jpg)

<span data-ttu-id="2c97d-193">El área de entrada predeterminada del sistema es el panel de escritura para inglés, Francés, alemán, español, Italiano, Portugués, holandés y todos los demás idiomas de entrada latinos.</span><span class="sxs-lookup"><span data-stu-id="2c97d-193">The system default input area is the Writing Pad for English, French, German, Spanish, Italian, Portuguese, Dutch and all other Latin input languages.</span></span> <span data-ttu-id="2c97d-194">En el caso de los idiomas de entrada de Asia oriental, incluidos japonés, Chino y coreano, el área de entrada predeterminada es el panel de caracteres.</span><span class="sxs-lookup"><span data-stu-id="2c97d-194">For the East Asian input languages, including Japanese, Chinese, and Korean, the default input area is the Character Pad.</span></span> <span data-ttu-id="2c97d-195">Sin embargo, cuando el usuario cambia el área de entrada, invalida el área de entrada predeterminada para el idioma de entrada actual y se almacena como el nuevo valor predeterminado para ese idioma de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-195">However, when the user changes input area it overrides the default input area for the current input language and is stored as the new default for that input language.</span></span> <span data-ttu-id="2c97d-196">El teclado es el área de entrada predeterminada para los campos de contraseña, independientemente del idioma de entrada a menos que el usuario o la Directiva de grupo haya deshabilitado la seguridad de contraseña.</span><span class="sxs-lookup"><span data-stu-id="2c97d-196">The Keyboard is the default input area for password fields, regardless of the input language unless password security has been disabled by the user or group policy.</span></span> <span data-ttu-id="2c97d-197">En todos los casos, si se establece el área del panel de entrada predeterminado mediante programación, se invalida el valor predeterminado del sistema, a menos que el campo actual sea un campo de contraseña o el reconocedor de escritura a mano para el idioma de entrada actual no admita el área de entrada seleccionada mediante programación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-197">In all cases setting the default input panel area programmatically overrides the system default, unless the current field is a password field or the handwriting recognizer for the current input language does no support the programmatically selected input area.</span></span> <span data-ttu-id="2c97d-198">Al establecer la propiedad [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) en InPlaceDirection se restaura **\_ automáticamente** la configuración predeterminada del sistema.</span><span class="sxs-lookup"><span data-stu-id="2c97d-198">Setting the [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) property to **InPlaceDirection\_Auto** restores the system default settings.</span></span>

<span data-ttu-id="2c97d-199">Independientemente de si el área del panel de entrada predeterminada se ha establecido mediante programación o no, el usuario tiene la opción de cambiar el área del panel de entrada actual una vez abierto el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-199">Regardless of whether the default input panel area has been set programmatically, or not, the user has the option to change the current input panel area once Input Panel is open.</span></span> <span data-ttu-id="2c97d-200">Una vez que el usuario ha cambiado el área de entrada actual, la selección del usuario se conserva hasta que se cierra el panel de entrada o el usuario vuelve a cambiar la selección.</span><span class="sxs-lookup"><span data-stu-id="2c97d-200">After the user has changed the current input area, the user selection persists until Input Panel closes or the user changes the selection again.</span></span> <span data-ttu-id="2c97d-201">Después de cerrar y volver a abrir el panel de entrada, se vuelve a mostrar el área de entrada predeterminada mediante programación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-201">After Input Panel closes and reopens, the programmatically set default input area re-shows.</span></span>

<span data-ttu-id="2c97d-202">Dado que el área del panel de entrada actual puede ser diferente que el área del panel de entrada predeterminado, una aplicación puede consultar la propiedad [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) para determinar qué área de entrada está visible actualmente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-202">Since the current input panel area may be different that the default input panel area, an application can query the [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) property to determine which input area is currently visible.</span></span> <span data-ttu-id="2c97d-203">Si el panel de entrada no está visible actualmente, el área de entrada actual es igual al área de entrada predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-203">If Input Panel is not currently visible, the current input area is equal to the default input area.</span></span> <span data-ttu-id="2c97d-204">La propiedad **CurrentInputArea** nunca es igual a **PanelInputArea \_ auto**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-204">The **CurrentInputArea** property is never equal to **PanelInputArea\_Auto**.</span></span> <span data-ttu-id="2c97d-205">Si [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) es igual a **PanelInputArea \_ auto**, el **CurrentInputArea** es igual al último área de entrada que se muestra o el valor predeterminado del sistema para el idioma de entrada actual si nunca se ha mostrado el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-205">If the [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) is equal to **PanelInputArea\_Auto**, then the **CurrentInputArea** is equal to the last input area shown or the system default for the current input language if Input Panel has never been shown.</span></span>

<span data-ttu-id="2c97d-206">La principal diferencia entre la compatibilidad con el área de entrada que se encuentra en el objeto [**PenInputPanel**](peninputpanel-class.md) y la del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) es el hecho de que la aplicación tiene ahora la opción de establecer el área de entrada predeterminada en el panel de caracteres, además del teclado y el panel de escritura.</span><span class="sxs-lookup"><span data-stu-id="2c97d-206">The primary difference between the input area support found in the [**PenInputPanel**](peninputpanel-class.md) object and that of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is the fact that the application now has the option to set the default input area to the Character Pad, in addition to the Writing Pad and Keyboard.</span></span>

<span data-ttu-id="2c97d-207">Con las propiedades anteriores, una aplicación puede controlar el área de entrada del panel de entrada que se muestra en distintos campos y optimizar la experiencia de entrada de texto del usuario.</span><span class="sxs-lookup"><span data-stu-id="2c97d-207">Using the above properties an application can control the Input Panel input area shown in different fields and optimize the user's text input experience.</span></span> <span data-ttu-id="2c97d-208">Además, la aplicación puede mantener el conocimiento del área de entrada actual y tomar decisiones condicionales en función del área de entrada más adecuada para la tarea del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="2c97d-208">Additionally, the application can maintain awareness of the current input area and make conditional decisions according to which input area is best suited to the current user task.</span></span>

## <a name="detailed-information-about-input-panels-interaction-mode"></a><span data-ttu-id="2c97d-209">Información detallada sobre el modo de interacción del panel de entrada</span><span class="sxs-lookup"><span data-stu-id="2c97d-209">Detailed Information about Input Panel's Interaction Mode</span></span>

<span data-ttu-id="2c97d-210">Además de poder detectar el área de entrada actual del panel de entrada, también es posible detectar el modo de interacción actual: en contexto, acoplado o flotante.</span><span class="sxs-lookup"><span data-stu-id="2c97d-210">In additional to being able to detect Input Panel's current input area, it is also possible to detect the current interaction mode: In-Place, Docked or Floating.</span></span> <span data-ttu-id="2c97d-211">Puede ser importante que la aplicación conozca el modo de interacción actual para entender cómo interactúa el usuario con la aplicación o porque algunos métodos y propiedades del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) solo se aplican al modo de interacción In-Place.</span><span class="sxs-lookup"><span data-stu-id="2c97d-211">It may be important for the application to know the current interaction mode either to understand how the user is interacting with the application or because some methods and properties of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object only apply to the In-Place interaction mode.</span></span> <span data-ttu-id="2c97d-212">Por ejemplo, en la aplicación, retransmite los elementos de la interfaz de usuario existentes y coloca el In-Place panel de entrada sobre un área en blanco en sus interfaces de usuario debe comprobar para asegurarse de que el modo de interacción actual está en contexto antes de realizar los ajustes.</span><span class="sxs-lookup"><span data-stu-id="2c97d-212">For example in application the reflows existing user interface elements and then positions the In-Place Input Panel over a blank area in its user interfaces should check to make sure the current interaction mode is in-place before making adjustments.</span></span>

![modos de panel de entrada acoplado, flotante y en curso](images/98c8e96b-99b2-477a-9843-33b1fae7e75b.jpg)

<span data-ttu-id="2c97d-214">La propiedad [**CurrentInteractionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinteractionmode) del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) almacena el modo de interacción actual elegido por el usuario.</span><span class="sxs-lookup"><span data-stu-id="2c97d-214">The [**CurrentInteractionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinteractionmode) property, of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object, stores the current interaction mode as chosen by the user.</span></span> <span data-ttu-id="2c97d-215">Los modos posibles se definen mediante la enumeración [**InteractionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-interactionmode) como:</span><span class="sxs-lookup"><span data-stu-id="2c97d-215">The possible modes are defined by the [**InteractionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-interactionmode) enumeration as:</span></span>

<span data-ttu-id="2c97d-216">**InteractionMode \_ InPlace**: en el panel de entrada In-Place modo de interacción aparece al lado del campo de entrada de texto que tiene actualmente el foco.</span><span class="sxs-lookup"><span data-stu-id="2c97d-216">**InteractionMode\_InPlace**– In the In-Place interaction mode Input Panel appears next to the text entry field that currently has focus.</span></span> <span data-ttu-id="2c97d-217">De forma predeterminada, el icono del panel de entrada In-Place aparece cuando se coloca un punto de inserción en un campo de entrada de texto.</span><span class="sxs-lookup"><span data-stu-id="2c97d-217">By default, the In-Place Input Panel Icon appears when an insertion point is placed in a text entry field.</span></span> <span data-ttu-id="2c97d-218">Al puntear en el icono del panel de entrada, se expande el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-218">Tapping on the Input Panel Icon causes Input Panel to expand.</span></span> <span data-ttu-id="2c97d-219">El panel de entrada de In-Place solo está visible cuando un punto de inserción se encuentra en un campo editable.</span><span class="sxs-lookup"><span data-stu-id="2c97d-219">The In-Place Input Panel is only visible when an insertion point is in an editable field.</span></span>

<span data-ttu-id="2c97d-220">InteractionMode \_ float: el modo de interacción flotante es similar al modo de interacción de InPlace, salvo que no está asociado a un punto de inserción.</span><span class="sxs-lookup"><span data-stu-id="2c97d-220">InteractionMode\_Floating – The Floating interaction mode is similar to the InPlace interaction mode, except it is not tied to an insertion point.</span></span> <span data-ttu-id="2c97d-221">Para abrir el panel de entrada flotante, puntee en la ficha panel de entrada, que aparece de forma predeterminada en el borde izquierdo de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="2c97d-221">The Floating Input Panel is opened by tapping on the Input Panel tab which appears by default on the left edge of the screen.</span></span> <span data-ttu-id="2c97d-222">El panel de entrada flotante y la ficha panel de entrada se pueden arrastrar y colocar por el usuario.</span><span class="sxs-lookup"><span data-stu-id="2c97d-222">Both the Floating Input Panel and Input Panel tab can be dragged and repositioned by the user.</span></span> <span data-ttu-id="2c97d-223">En la posición del modo flotante, el control del panel de entrada se deja por completo en el usuario.</span><span class="sxs-lookup"><span data-stu-id="2c97d-223">In the floating mode positioning and control of Input Panel is left entirely to the user.</span></span>

<span data-ttu-id="2c97d-224">InteractionMode \_ DockedTop: en el panel de entrada Docked-Top modo de interacción aparece en la parte superior de la pantalla y se cambia el tamaño del escritorio activo, por lo que el panel de entrada no se superpone con ninguna otra ventana o elemento de la interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="2c97d-224">InteractionMode\_DockedTop – In the Docked-Top interaction mode Input Panel appears at the top of the screen and the active desktop is resized so Input Panel does not overlap with any other windows or UI elements.</span></span> <span data-ttu-id="2c97d-225">En el panel de entrada en modo acoplado no se pueden arrastrar ni mover.</span><span class="sxs-lookup"><span data-stu-id="2c97d-225">In the docked mode Input Panel cannot be dragged or moved around.</span></span>

<span data-ttu-id="2c97d-226">InteractionMode \_ DockedBottom: el modo de interacción Docked-Bottom es el mismo que el modo Docked-Top, excepto el panel de entrada aparece en la parte inferior de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="2c97d-226">InteractionMode\_DockedBottom – The Docked-Bottom interaction mode is the same as the Docked-Top mode except Input Panel appears at the bottom of the screen.</span></span>

<span data-ttu-id="2c97d-227">Cuando el panel de entrada no está visible, el modo de interacción actual está en contexto.</span><span class="sxs-lookup"><span data-stu-id="2c97d-227">When Input Panel is not visible, the current interaction mode is In-Place.</span></span>

<span data-ttu-id="2c97d-228">La publicación del modelo de interacción actual es otra forma en que el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) proporciona más información sobre el estado del panel de entrada de que está disponible en cualquier versión anterior.</span><span class="sxs-lookup"><span data-stu-id="2c97d-228">Publishing the current interaction model is another way the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object provides more information about the state of Input Panel than has been available in any previous version.</span></span>

## <a name="detailed-information-about-input-panels-correction-mode"></a><span data-ttu-id="2c97d-229">Información detallada sobre el modo de corrección del panel de entrada</span><span class="sxs-lookup"><span data-stu-id="2c97d-229">Detailed Information about Input Panel's Correction Mode</span></span>

<span data-ttu-id="2c97d-230">El aspecto final del panel de entrada que contiene el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) proporciona información detallada sobre el modo de corrección y su control.</span><span class="sxs-lookup"><span data-stu-id="2c97d-230">The final aspect of Input Panel that the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object gives you detailed information about and control of is the correction mode.</span></span> <span data-ttu-id="2c97d-231">Conocer el modo de corrección ayuda a las aplicaciones a determinar el tamaño actual del panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-231">Knowing the correction mode helps applications determine the current size of Input Panel.</span></span> <span data-ttu-id="2c97d-232">Controlar cómo la corrección posterior a la inserción se expande en una aplicación es una manera de personalizar la experiencia de corrección en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-232">Controlling how the Post-Insertion Correction expands in an application is one way to customize the correction experience in an application.</span></span>

<span data-ttu-id="2c97d-233">Hay dos modos básicos en los que puede aparecer la combinación de correcciones: la inserción previa y la posterior a la inserción.</span><span class="sxs-lookup"><span data-stu-id="2c97d-233">There are two basic modes the Correction Comb can appear in: Pre-Insertion and the Post-Insertion.</span></span> <span data-ttu-id="2c97d-234">La combinación de correcciones previas a la inserción se usa para corregir el texto antes de insertarlo en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-234">The Pre-Insertion Correction Comb is used to correct text before inserting it into an application.</span></span> <span data-ttu-id="2c97d-235">Para activarla, puntee en el texto pendiente que aparece debajo de la línea base en el panel de escritura como las tintas del usuario.</span><span class="sxs-lookup"><span data-stu-id="2c97d-235">It is activated by tapping on the pending text that appear below the baseline in the Writing Pad as the user inks.</span></span> <span data-ttu-id="2c97d-236">La combinación de correcciones posterior a la inserción se usa para corregir texto después de que se haya insertado en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-236">The Post-Insertion Correction Comb is used to correct text after it has been inserted into an application.</span></span> <span data-ttu-id="2c97d-237">Se activa colocando el punto de inserción en o seleccionando texto que se insertó previamente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-237">It is activated by placing the insertion point in or selecting text that was previously inserted.</span></span> <span data-ttu-id="2c97d-238">Además de los dos modos básicos, hay varias variaciones sobre cómo puede aparecer la combinación de correcciones posteriores a la inserción.</span><span class="sxs-lookup"><span data-stu-id="2c97d-238">Beyond the two basic modes, there are several variations on how the Post-Insertion Correction Comb can appear.</span></span> <span data-ttu-id="2c97d-239">En primer lugar, puede aparecer por encima o por debajo del panel de entrada y el segundo puede aparecer contraído o expandido.</span><span class="sxs-lookup"><span data-stu-id="2c97d-239">First it can appear either above or below Input Panel and second it can appear collapsed or expanded.</span></span> <span data-ttu-id="2c97d-240">En el estado contraído, la combinación de corrección posterior a la inserción solo muestra una lista de alternativas.</span><span class="sxs-lookup"><span data-stu-id="2c97d-240">In the collapsed state the Post-Insertion Correction Comb only shows a list of alternates.</span></span> <span data-ttu-id="2c97d-241">En el estado expandido, incluye tanto las alternativas como un área para volver a escribir la palabra.</span><span class="sxs-lookup"><span data-stu-id="2c97d-241">In the expanded state it includes both the alternates and an area to rewrite the word.</span></span>

![corrección del panel de entrada COMB, pre y post Insert](images/6cc627de-fc15-4721-9f6a-7e1517d9e650.jpg)

<span data-ttu-id="2c97d-243">La propiedad [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) permite que una aplicación determine la configuración actual de la combinación de correcciones. Los valores posibles de esta propiedad, tal y como se definen en las enumeraciones de [**CorrectionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-correctionmode) son: **NotVisible**, **preinsert**, **PostInsertionCollapsed** y **PostInsertionExpanded**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-243">The [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) property allows an application to determine the current configuration of the Correction Comb. The possible values of this property as defined by the [**CorrectionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-correctionmode) enumerations are: **NotVisible**, **PreInsertion**, **PostInsertionCollapsed**, and **PostInsertionExpanded**.</span></span> <span data-ttu-id="2c97d-244">Cuando no hay ningún panel de entrada o peine de corrección visible, **CurrentCorrectionMode** es **NotVisible**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-244">When no Input Panel or Correction Comb is visible, the **CurrentCorrectionMode** is **NotVisible**.</span></span>

<span data-ttu-id="2c97d-245">De forma predeterminada, el sistema muestra el barrido de corrección posterior a la inserción expandido cuando el selecciona texto corregible y lo muestra contraído cuando el punto de inserción se coloca en texto corregible.</span><span class="sxs-lookup"><span data-stu-id="2c97d-245">By default the system shows the Post-Insertion Correction Comb expanded when the selects correctable text and shows it collapsed when the insertion point is placed in correctable text.</span></span> <span data-ttu-id="2c97d-246">Una aplicación puede especificar dónde se debe mostrar siempre el peine de corrección posterior a la inserción si se establece la propiedad [**ExpandPostInsertionCorrection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_expandpostinsertioncorrection) en **true**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-246">An application can specify where the Post-Insertion Correction Comb should always show expanded by setting the [**ExpandPostInsertionCorrection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_expandpostinsertioncorrection) property to **true**.</span></span> <span data-ttu-id="2c97d-247">El valor predeterminado del sistema es **false**.</span><span class="sxs-lookup"><span data-stu-id="2c97d-247">The system default is **false**.</span></span> <span data-ttu-id="2c97d-248">Cuando la propiedad **ExpandPostInsertionCorrection** se usa junto con la interfaz [**IHandWrittenTextInsertion**](/windows/desktop/api/peninputpanel/nn-peninputpanel-ihandwrittentextinsertion) , un desarrollador de aplicaciones puede Agregar de forma económica compatibilidad de corrección a las aplicaciones que no la recibirán automáticamente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-248">When the **ExpandPostInsertionCorrection** property is used in conjunction with the [**IHandWrittenTextInsertion**](/windows/desktop/api/peninputpanel/nn-peninputpanel-ihandwrittentextinsertion) interface an application developer can cheaply add correction support to applications that would not get it automatically.</span></span>

<span data-ttu-id="2c97d-249">El seguimiento y el control del estado de corrección del panel de entrada es una de las numerosas características nuevas del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) que hacen posible una mayor integración con el panel de entrada y la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-249">Tracking and controlling the correction state of the Input Panel is one of the many new features of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object that make tighter Input Panel and application integration possible.</span></span>

## <a name="event-notification-before-and-after-the-event-occurs"></a><span data-ttu-id="2c97d-250">Notificación de eventos antes y después de que se produzca el evento</span><span class="sxs-lookup"><span data-stu-id="2c97d-250">Event Notification Before and After the Event Occurs</span></span>

<span data-ttu-id="2c97d-251">Otro aspecto de la programación del panel de entrada que se ha mejorado considerablemente en el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) es el modelo de evento.</span><span class="sxs-lookup"><span data-stu-id="2c97d-251">Another aspect of Input Panel programmability that is greatly improved in the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is the event model.</span></span> <span data-ttu-id="2c97d-252">Ahora, en lugar de generar solo eventos que señalan un cambio en el estado del panel de entrada después de que se haya producido el cambio, se envían eventos independientes antes y después de que se produzca el cambio.</span><span class="sxs-lookup"><span data-stu-id="2c97d-252">Now instead of only raising events signaling a change in Input Panel's state after the change has occurred there are separate events sent before and after the change occurs.</span></span> <span data-ttu-id="2c97d-253">Los eventos que señalan el inicio de un evento contienen verbos del tiempo en el pasado, como ' cambiar ' o ' insertar ', mientras que los eventos que señalan la finalización de un evento contienen verbos pasados en el pasado, como ' Changed ' o ' inserted '.</span><span class="sxs-lookup"><span data-stu-id="2c97d-253">Events signaling the start of an event contain present tense verbs such as 'Changing' or 'Inserting', while events signaling the conclusion of an event contain past tense verbs such as 'Changed' or 'Inserted'.</span></span>

<span data-ttu-id="2c97d-254">Este modelo de eventos permite que una aplicación reaccione ante un cambio antes o cuando se produce.</span><span class="sxs-lookup"><span data-stu-id="2c97d-254">This event model makes it possible for an application to react to a change before or as it occurs.</span></span> <span data-ttu-id="2c97d-255">El panel de entrada no podrá continuar con un cambio o reanudarse después del cambio hasta que se hayan completado los controladores de eventos para todos los eventos.</span><span class="sxs-lookup"><span data-stu-id="2c97d-255">Input Panel is blocked from proceeding with a change or resuming after change until the event handlers for all events have completed.</span></span> <span data-ttu-id="2c97d-256">Estos eventos son sincrónicos y, de este modo, una aplicación puede retrasar un cambio hasta que ha terminado de reaccionar.</span><span class="sxs-lookup"><span data-stu-id="2c97d-256">These events are synchronous and in this way an application can delay a change until it has finished reacting.</span></span> <span data-ttu-id="2c97d-257">Sin embargo, el tiempo en que un controlador de eventos se ejecuta en el panel de entrada deja de estar accesible para el usuario y puede aparecer bloqueado, por lo que es importante que el controlador de eventos funcione correctamente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-257">However, the time where an event handler is executing Input Panel becomes inaccessible to the user and may appear hung, therefore it is important that event handler perform well.</span></span> <span data-ttu-id="2c97d-258">Sin embargo, no es posible que una aplicación impida o cancele un evento.</span><span class="sxs-lookup"><span data-stu-id="2c97d-258">However, it is not possible for an application to prevent or cancel an event.</span></span> <span data-ttu-id="2c97d-259">Todos los parámetros de evento son de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="2c97d-259">All event parameters are read-only.</span></span> <span data-ttu-id="2c97d-260">A continuación se muestra una descripción de los seis pares de eventos del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) :</span><span class="sxs-lookup"><span data-stu-id="2c97d-260">Below is a description of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object's six event pairs:</span></span>

-   <span data-ttu-id="2c97d-261">[**InPlaceStateChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanging)  /  [**InPlaceStateChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanged): notificación de que el estado en contexto está a punto de o ha cambiado de Hover a expandido o viceversa.</span><span class="sxs-lookup"><span data-stu-id="2c97d-261">[**InPlaceStateChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanging) / [**InPlaceStateChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanged)– Notification that the in-place state is about to or has just switched from hover to expanded or vice versa.</span></span> <span data-ttu-id="2c97d-262">Los parámetros son el estado en contexto nuevo y antiguo.</span><span class="sxs-lookup"><span data-stu-id="2c97d-262">Parameters are the new and old in-place state.</span></span> <span data-ttu-id="2c97d-263">Coincidencias con un cambio en el valor de la propiedad [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-263">Coincidences with a change in the value of the [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) property.</span></span>
-   <span data-ttu-id="2c97d-264">[**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging)  /  [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged): se indica cuando el tamaño del panel de entrada In-Place está a punto de cambiar o ha cambiado debido a un cambio de tamaño del usuario, el crecimiento automático o un cambio de área de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-264">[**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging) / [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged)– Indicated when the In-Place Input Panel size is about to change or has changed due to a user resize, auto growth, or an input area change.</span></span> <span data-ttu-id="2c97d-265">Los parámetros son el rectángulo delimitador nuevo y antiguo.</span><span class="sxs-lookup"><span data-stu-id="2c97d-265">Parameters are the new and old bounding rectangle.</span></span> <span data-ttu-id="2c97d-266">Coincidencias con un cambio en el valor de la propiedad [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-266">Coincidences with a change in the value of the [**InPlaceBoundingRectangle**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) property.</span></span>
-   <span data-ttu-id="2c97d-267">[**InputAreaChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanging)  /  [**InputAreaChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanged): informa cuando el área de entrada del panel de entrada está a punto de cambiar o ha cambiado de a la otra de las tres áreas de entrada posibles: panel de escritura, panel de caracteres o teclado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-267">[**InputAreaChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanging) / [**InputAreaChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanged)– Reports when the Input Panel input area is about to change or has changed from to the other of the three possible input areas: Writing Pad, Character Pad or Keyboard.</span></span> <span data-ttu-id="2c97d-268">Los parámetros son el área de entrada nueva y la antigua.</span><span class="sxs-lookup"><span data-stu-id="2c97d-268">Parameters are the new and old input area.</span></span> <span data-ttu-id="2c97d-269">Coincide con un cambio en el valor de la propiedad [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea)</span><span class="sxs-lookup"><span data-stu-id="2c97d-269">Coincides with a change in the value of the [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) property</span></span>
-   <span data-ttu-id="2c97d-270">[**CorrectionModeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanging)  /  [**CorrectionModeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanged): notificación de que el modo de corrección está a punto de cambiar o ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-270">[**CorrectionModeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanging) / [**CorrectionModeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanged)– Notification that the correction mode is about to change or has changed.</span></span> <span data-ttu-id="2c97d-271">Los posibles modos de corrección son: no visible, inserción previa, contraído posterior a la inserción y expandido.</span><span class="sxs-lookup"><span data-stu-id="2c97d-271">Possible correction modes are: not visible, Pre-Insertion, Post-Insertion collapsed, and Post-Insertion expanded.</span></span> <span data-ttu-id="2c97d-272">Los parámetros son el modo de corrección nuevo y el antiguo.</span><span class="sxs-lookup"><span data-stu-id="2c97d-272">Parameters are the new and old correction mode.</span></span> <span data-ttu-id="2c97d-273">Coincide con un cambio en el valor de la propiedad [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-273">Coincides with a change in the value of the [**CurrentCorrectionMode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) property.</span></span>
-   <span data-ttu-id="2c97d-274">[**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging)  /  [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged): indica si la visibilidad del panel de entrada In-Place está a punto de cambiar o ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="2c97d-274">[**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging) / [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged)– Indicates when the In-Place Input Panel visibility is about to change or has changed.</span></span> <span data-ttu-id="2c97d-275">Los parámetros son la visibilidad nueva y la antigua.</span><span class="sxs-lookup"><span data-stu-id="2c97d-275">Parameters are the new and old visibility.</span></span> <span data-ttu-id="2c97d-276">Una nueva visibilidad de **false** significa que el In-Place panel de entrada no está abierto, pero no impide que el panel de entrada esté visible en el modo de interacción flotante o acoplada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-276">A new visibility of **false** means the In-Place Input Panel is not open, but does not preclude Input Panel being visible in the Floating or Docked interaction mode.</span></span>
-   <span data-ttu-id="2c97d-277">[**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting)  /  [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted): indica cuándo se va a insertar o insertar texto del panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-277">[**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting) / [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted)– Indicates when text is about to be inserted or has been inserted from Input Panel.</span></span> <span data-ttu-id="2c97d-278">El parámetro es una matriz de objetos [**InkDisp**](inkdisp-class.md) , cada uno de los cuales contiene una línea de la tinta y el texto que componen la inserción.</span><span class="sxs-lookup"><span data-stu-id="2c97d-278">Parameter is an array of [**InkDisp**](inkdisp-class.md) objects, each containing a line of the ink and text that make up the insertion.</span></span> <span data-ttu-id="2c97d-279">Más información sobre este evento en la sección siguiente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-279">More on this event in the next section.</span></span>

<span data-ttu-id="2c97d-280">Estos eventos proporcionan a las aplicaciones información esencial sobre los cambios en el panel de entrada y les permiten reaccionar en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="2c97d-280">These events provide applications with essential information about changes in Input Panel and allow them to react accordingly.</span></span> <span data-ttu-id="2c97d-281">De nuevo, el cambio en el modelo de eventos del panel de entrada representa un paso para una mejor interacción entre las aplicaciones y el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-281">Again the change in the Input Panel event model represents a step toward better interaction between applications and Input Panel.</span></span>

## <a name="support-for-collecting-the-ink-and-text-entered-in-input-panel"></a><span data-ttu-id="2c97d-282">Compatibilidad para recopilar la tinta y el texto especificados en el panel de entrada</span><span class="sxs-lookup"><span data-stu-id="2c97d-282">Support for Collecting the Ink and Text Entered in Input Panel</span></span>

<span data-ttu-id="2c97d-283">Por último, pero no menos importante, una nueva característica muy eficaz del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) es la capacidad de obtener el objeto de entrada manuscrita para el texto escrito a través del panel de entrada fuera del panel de entrada en el momento en que se inserta el texto en una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-283">Last but certainly not least, one very powerful new feature of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object is the ability to get the ink object for text entered via Input Panel out of Input Panel at the time the text is inserted into an application.</span></span> <span data-ttu-id="2c97d-284">Se trata de una característica solicitada a menudo para el seguimiento de cambios y el mantenimiento de los registros.</span><span class="sxs-lookup"><span data-stu-id="2c97d-284">This has been an often requested feature for the purpose of change tracking and record keeping.</span></span> <span data-ttu-id="2c97d-285">También permite que las aplicaciones usen la entrada manuscrita en su interfaz de usuario como un elemento estático o con una superficie de entrada manuscrita personalizada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-285">It also allows applications to make use of the ink in their UI either as a static element or with a custom inking surface.</span></span>

<span data-ttu-id="2c97d-286">Para recibir el objeto [**InkDisp**](inkdisp-class.md) para el texto escrito a través del panel de entrada, una aplicación debe registrarse para recibir los eventos [**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting) o [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted) generados por el objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) .</span><span class="sxs-lookup"><span data-stu-id="2c97d-286">In order to receive the [**InkDisp**](inkdisp-class.md) object for text entered via Input Panel, an application must register to receive the [**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting) or [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted) events generated by the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object.</span></span> <span data-ttu-id="2c97d-287">El evento **TextInserting** se activa inmediatamente antes de que se inserte texto del panel de entrada en una aplicación y el texto no se inserta hasta que se completan todos los controladores de eventos.</span><span class="sxs-lookup"><span data-stu-id="2c97d-287">The **TextInserting** event is fired immediately before text is inserted from Input Panel into an application and the text does not insert until all event handlers complete.</span></span> <span data-ttu-id="2c97d-288">El evento **TextInserted** se activa inmediatamente después de que se inserte la prueba.</span><span class="sxs-lookup"><span data-stu-id="2c97d-288">The **TextInserted** event fires immediately after test is inserted.</span></span> <span data-ttu-id="2c97d-289">El único parámetro para el evento **TextInserting** y **TextInserted** es una matriz de objetos **InkDisp** que incluye un objeto **InkDisp** para cada línea de texto insertada en el panel de entrada.</span><span class="sxs-lookup"><span data-stu-id="2c97d-289">The only parameter for both the **TextInserting** and **TextInserted** event is an array of **InkDisp** objects which includes one **InkDisp** object for each line of text inserted from Input Panel.</span></span> <span data-ttu-id="2c97d-290">Nota: el panel de entrada está inactivo mientras los controladores de eventos se están ejecutando y puede parecer que no responde al usuario, por lo que es importante hacer que estos controladores de eventos sean ligeros y asegurarse de que se ejecutan rápidamente.</span><span class="sxs-lookup"><span data-stu-id="2c97d-290">Note: Input Panel is inactive while the event handlers are running and may appear hung to the user, therefore it is important to make these event handlers light weight and make sure they execute quickly.</span></span> <span data-ttu-id="2c97d-291">Además, una aplicación no debe crear un controlador para este evento a menos que tenga un uso específico de la información, ya que hay un costo de rendimiento asociado al hacerlo.</span><span class="sxs-lookup"><span data-stu-id="2c97d-291">Additionally, an application should not create a handler for this event unless it has a specific use for the information since there is a performance cost associated with doing so.</span></span> <span data-ttu-id="2c97d-292">El panel de entrada solo calcula las referencias de los datos de tinta si hay una aplicación que solicita los datos; de lo contrario, el panel de entrada puede omitir esta operación costosa.</span><span class="sxs-lookup"><span data-stu-id="2c97d-292">Input Panel only marshals the ink data if there is an application requesting the data, otherwise, Input Panel can skip this costly operation.</span></span> <span data-ttu-id="2c97d-293">Los parámetros de los eventos **TextInserting** y **TextInserted** son de solo lectura, lo que significa que no es posible que las aplicaciones cambien el texto insertado antes de que se inserten en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-293">The parameters of both the **TextInserting** and **TextInserted** events are read-only, meaning it is not possible for applications to change inserted text before it is inserted into the application.</span></span>

<span data-ttu-id="2c97d-294">Las posibilidades de que las aplicaciones puedan hacer con esta nueva funcionalidad son generales y no es más fácil de usar.</span><span class="sxs-lookup"><span data-stu-id="2c97d-294">The possibilities for what applications can do with this new functionality are broad and it could not be simpler to use.</span></span> <span data-ttu-id="2c97d-295">Permitir que las aplicaciones recopilen texto y entrada de lápiz reconocidos a través del panel de entrada es simplemente otra manera en que se mejora la historia del desarrollador del panel de entrada en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="2c97d-295">Allow recognized text and ink entered via Input Panel to be collected by applications is just another way Input Panel's developer story is improved in Windows Vista.</span></span>

## <a name="conclusion"></a><span data-ttu-id="2c97d-296">Conclusión</span><span class="sxs-lookup"><span data-stu-id="2c97d-296">Conclusion</span></span>

<span data-ttu-id="2c97d-297">En general, el caso de programación del panel de entrada de Tablet PC se ha mejorado enormemente con la introducción del objeto [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) en Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="2c97d-297">Overall, the programmability story for the Tablet PC Input Panel is greatly improved with the introduction of the [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) object in Windows Vista.</span></span> <span data-ttu-id="2c97d-298">Con el objeto **TextInputPanel** , los desarrolladores de aplicaciones tienen un mayor control y más información sobre el panel de entrada de estado en la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="2c97d-298">By using the **TextInputPanel** object, application developers have greater control and more information about the state Input Panel in previous release.</span></span> <span data-ttu-id="2c97d-299">Como resultado, se recomienda encarecidamente que los desarrolladores de aplicaciones que creen nuevas aplicaciones de Tablet PC o actualicen aplicaciones existentes utilicen el objeto **TextInputPanel** en lugar del objeto [**PenInputPanel**](peninputpanel-class.md) en desuso.</span><span class="sxs-lookup"><span data-stu-id="2c97d-299">As a result application developers building new Tablet PC applications or updating existing applications are strongly encouraged to use the **TextInputPanel** object instead of the now deprecated [**PenInputPanel**](peninputpanel-class.md) object.</span></span> <span data-ttu-id="2c97d-300">Además, la compatibilidad con nuevas características, como el posicionamiento absoluto del panel de entrada y el icono del panel de entrada, y la capacidad de la aplicación para recibir el texto del reconocedor y la entrada manuscrita introducida a través del panel de entrada permiten la nueva funcionalidad y los escenarios de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2c97d-300">Additionally, support for new features such as absolute positioning of Input Panel and the Input Panel icon, and the ability for application to receive both recognizer text and ink entered via Input Panel enable new application functionality and scenarios.</span></span> <span data-ttu-id="2c97d-301">La inclusión de estas características y otras están en respuesta directa a los comentarios de los desarrolladores y marca los primeros pasos para la integración completa del panel de entrada con las aplicaciones de Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="2c97d-301">The inclusion of these features and several others are in direct response to developer feedback and mark the first steps toward full integration of Input Panel with Tablet PC applications.</span></span> <span data-ttu-id="2c97d-302">En última instancia, la expansión de la funcionalidad de la aplicación de Tablet PC es una gran victoria tanto para los desarrolladores de aplicaciones como para la plataforma de Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="2c97d-302">Ultimately, expanding the Tablet PC application functionality is a big win for both application developers and the Tablet PC platform.</span></span>

 

 



