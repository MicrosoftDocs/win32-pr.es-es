---
description: Las versiones de 64 bits de Windows 7 y Windows Server 2008 R2 y versiones posteriores de Windows admiten más de 64 procesadores lógicos en un único equipo. Esta funcionalidad no está disponible en las versiones de 32 bits de Windows.
ms.assetid: c627ac0f-96e8-48b5-9103-4316f487e173
title: Grupos de procesadores
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cebc5b9ab1b386847b6561a9f6322c2fca0e2ae5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104082648"
---
# <a name="processor-groups"></a><span data-ttu-id="d0de4-104">Grupos de procesadores</span><span class="sxs-lookup"><span data-stu-id="d0de4-104">Processor Groups</span></span>

<span data-ttu-id="d0de4-105">Las versiones de 64 bits de Windows 7 y Windows Server 2008 R2 y versiones posteriores de Windows admiten más de 64 procesadores lógicos en un único equipo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-105">The 64-bit versions of Windows 7 and Windows Server 2008 R2 and later versions of Windows support more than 64 logical processors on a single computer.</span></span> <span data-ttu-id="d0de4-106">Esta funcionalidad no está disponible en las versiones de 32 bits de Windows.</span><span class="sxs-lookup"><span data-stu-id="d0de4-106">This functionality is not available on 32-bit versions of Windows.</span></span>

<span data-ttu-id="d0de4-107">Los sistemas con más de un procesador físico o sistemas con procesadores físicos que tienen varios núcleos proporcionan el sistema operativo con varios procesadores lógicos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-107">Systems with more than one physical processor or systems with physical processors that have multiple cores provide the operating system with multiple logical processors.</span></span> <span data-ttu-id="d0de4-108">Un *procesador lógico* es un motor de proceso lógico desde la perspectiva del sistema operativo, la aplicación o el controlador.</span><span class="sxs-lookup"><span data-stu-id="d0de4-108">A *logical processor* is one logical computing engine from the perspective of the operating system, application or driver.</span></span> <span data-ttu-id="d0de4-109">Un *núcleo* es una unidad de procesador, que puede estar formada por uno o varios procesadores lógicos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-109">A *core* is one processor unit, which can consist of one or more logical processors.</span></span> <span data-ttu-id="d0de4-110">Un *procesador físico* puede estar formado por uno o varios núcleos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-110">A *physical processor* can consist of one or more cores.</span></span> <span data-ttu-id="d0de4-111">Un procesador físico es igual que un paquete de procesador, un socket o una CPU.</span><span class="sxs-lookup"><span data-stu-id="d0de4-111">A physical processor is the same as a processor package, a socket, or a CPU.</span></span>

<span data-ttu-id="d0de4-112">La compatibilidad con sistemas que tienen más de 64 procesadores lógicos se basa en el concepto de *grupo de procesadores*, que es un conjunto estático de hasta 64 procesadores lógicos que se trata como una única entidad de programación.</span><span class="sxs-lookup"><span data-stu-id="d0de4-112">Support for systems that have more than 64 logical processors is based on the concept of a *processor group*, which is a static set of up to 64 logical processors that is treated as a single scheduling entity.</span></span> <span data-ttu-id="d0de4-113">Los grupos de procesadores se numeran a partir de 0.</span><span class="sxs-lookup"><span data-stu-id="d0de4-113">Processor groups are numbered starting with 0.</span></span> <span data-ttu-id="d0de4-114">Los sistemas con menos de 64 procesadores lógicos siempre tienen un solo grupo, grupo 0.</span><span class="sxs-lookup"><span data-stu-id="d0de4-114">Systems with fewer than 64 logical processors always have a single group, Group 0.</span></span>

<span data-ttu-id="d0de4-115">**Windows server 2008, Windows Vista, Windows server 2003 y Windows XP:** No se admiten los grupos de procesadores.</span><span class="sxs-lookup"><span data-stu-id="d0de4-115">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** Processor groups are not supported.</span></span>

<span data-ttu-id="d0de4-116">Cuando se inicia el sistema, el sistema operativo crea grupos de procesadores y asigna procesadores lógicos a los grupos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-116">When the system starts, the operating system creates processor groups and assigns logical processors to the groups.</span></span> <span data-ttu-id="d0de4-117">Si el sistema es capaz de agregar procesadores en caliente, el sistema operativo permite el espacio en grupos para los procesadores que pueden llegar mientras el sistema se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="d0de4-117">If the system is capable of hot-adding processors, the operating system allows space in groups for processors that might arrive while the system is running.</span></span> <span data-ttu-id="d0de4-118">El sistema operativo minimiza el número de grupos de un sistema.</span><span class="sxs-lookup"><span data-stu-id="d0de4-118">The operating system minimizes the number of groups in a system.</span></span> <span data-ttu-id="d0de4-119">Por ejemplo, un sistema con procesadores lógicos 128 tendría dos grupos de procesadores con procesadores 64 en cada grupo, no cuatro grupos con 32 procesadores lógicos en cada grupo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-119">For example, a system with 128 logical processors would have two processor groups with 64 processors in each group, not four groups with 32 logical processors in each group.</span></span>

<span data-ttu-id="d0de4-120">Para mejorar el rendimiento, el sistema operativo tiene en cuenta el emplazamiento físico al asignar procesadores lógicos a grupos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-120">For better performance, the operating system takes physical locality into account when assigning logical processors to groups.</span></span> <span data-ttu-id="d0de4-121">Todos los procesadores lógicos de un núcleo, y todos los núcleos de un procesador físico, se asignan al mismo grupo, si es posible.</span><span class="sxs-lookup"><span data-stu-id="d0de4-121">All of the logical processors in a core, and all of the cores in a physical processor, are assigned to the same group, if possible.</span></span> <span data-ttu-id="d0de4-122">Los procesadores físicos que están físicamente cercanos entre sí se asignan al mismo grupo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-122">Physical processors that are physically close to one another are assigned to the same group.</span></span> <span data-ttu-id="d0de4-123">Un nodo NUMA se asigna a un único grupo a menos que la capacidad del nodo supere el tamaño máximo del grupo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-123">A NUMA node is assigned to a single group unless the capacity of the node exceeds the maximum group size.</span></span> <span data-ttu-id="d0de4-124">Para obtener más información, consulte [compatibilidad con Numa](numa-support.md).</span><span class="sxs-lookup"><span data-stu-id="d0de4-124">For more information, see [NUMA Support](numa-support.md).</span></span>

<span data-ttu-id="d0de4-125">En sistemas con 64 o menos procesadores, las aplicaciones existentes funcionarán correctamente sin modificaciones.</span><span class="sxs-lookup"><span data-stu-id="d0de4-125">On systems with 64 or fewer processors, existing applications will operate correctly without modification.</span></span> <span data-ttu-id="d0de4-126">Las aplicaciones que no llamen a ninguna función que use máscaras de afinidad de procesador o números de procesador funcionarán correctamente en todos los sistemas, independientemente del número de procesadores.</span><span class="sxs-lookup"><span data-stu-id="d0de4-126">Applications that do not call any functions that use processor affinity masks or processor numbers will operate correctly on all systems, regardless of the number of processors.</span></span> <span data-ttu-id="d0de4-127">Para funcionar correctamente en sistemas con más de 64 procesadores lógicos, es posible que sea necesario modificar los siguientes tipos de aplicaciones:</span><span class="sxs-lookup"><span data-stu-id="d0de4-127">To operate correctly on systems with more than 64 logical processors, the following kinds of applications might require modification:</span></span>

-   <span data-ttu-id="d0de4-128">Las aplicaciones que administran, mantienen o muestran información por procesador para todo el sistema deben modificarse para admitir más de 64 procesadores lógicos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-128">Applications that manage, maintain, or display per-processor information for the entire system must be modified to support more than 64 logical processors.</span></span> <span data-ttu-id="d0de4-129">Un ejemplo de este tipo de aplicación es el administrador de tareas de Windows, que muestra la carga de trabajo de cada procesador del sistema.</span><span class="sxs-lookup"><span data-stu-id="d0de4-129">An example of such an application is Windows Task Manager, which displays the workload of each processor in the system.</span></span>
-   <span data-ttu-id="d0de4-130">Las aplicaciones para las que el rendimiento es fundamental y que se pueden escalar eficazmente más allá de 64 procesadores lógicos se deben modificar para ejecutarse en dichos sistemas.</span><span class="sxs-lookup"><span data-stu-id="d0de4-130">Applications for which performance is critical and that can scale efficiently beyond 64 logical processors must be modified to run on such systems.</span></span> <span data-ttu-id="d0de4-131">Por ejemplo, las aplicaciones de base de datos podrían beneficiarse de las modificaciones.</span><span class="sxs-lookup"><span data-stu-id="d0de4-131">For example, database applications might benefit from modifications.</span></span>
-   <span data-ttu-id="d0de4-132">Si una aplicación utiliza un archivo DLL que tiene estructuras de datos por procesador y el archivo DLL no se ha modificado para admitir más de 64 procesadores lógicos, todos los subprocesos de la aplicación que llaman a las funciones exportadas por el archivo DLL deben estar asignados al mismo grupo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-132">If an application uses a DLL that has per-processor data structures, and the DLL has not been modified to support more than 64 logical processors, all threads in the application that call functions exported by the DLL must be assigned to the same group.</span></span>

<span data-ttu-id="d0de4-133">De forma predeterminada, una aplicación está restringida a un único grupo, que debe proporcionar una gran capacidad de procesamiento para la aplicación típica.</span><span class="sxs-lookup"><span data-stu-id="d0de4-133">By default, an application is constrained to a single group, which should provide ample processing capability for the typical application.</span></span> <span data-ttu-id="d0de4-134">Inicialmente, el sistema operativo asigna cada proceso a un único grupo de forma Round Robin a través de los grupos del sistema.</span><span class="sxs-lookup"><span data-stu-id="d0de4-134">The operating system initially assigns each process to a single group in a round-robin manner across the groups in the system.</span></span> <span data-ttu-id="d0de4-135">Un proceso comienza su ejecución asignada a un grupo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-135">A process begins its execution assigned to one group.</span></span> <span data-ttu-id="d0de4-136">El primer subproceso de un proceso se ejecuta inicialmente en el grupo al que se asigna el proceso.</span><span class="sxs-lookup"><span data-stu-id="d0de4-136">The first thread of a process initially runs in the group to which the process is assigned.</span></span> <span data-ttu-id="d0de4-137">Cada subproceso recién creado se asigna al mismo grupo que el subproceso que lo creó.</span><span class="sxs-lookup"><span data-stu-id="d0de4-137">Each newly created thread is assigned to the same group as the thread that created it.</span></span>

<span data-ttu-id="d0de4-138">Una aplicación que requiere el uso de varios grupos para que pueda ejecutarse en más de 64 procesadores debe determinar explícitamente dónde ejecutar sus subprocesos y es responsable de establecer las afinidades del procesador de los subprocesos en los grupos deseados.</span><span class="sxs-lookup"><span data-stu-id="d0de4-138">An application that requires the use of multiple groups so that it can run on more than 64 processors must explicitly determine where to run its threads and is responsible for setting the threads' processor affinities to the desired groups.</span></span> <span data-ttu-id="d0de4-139">La marca [heredar \_ \_ afinidad primaria](process-creation-flags.md) se puede usar para especificar un proceso primario (que puede ser diferente del proceso actual) desde el que se va a generar la afinidad para un nuevo proceso.</span><span class="sxs-lookup"><span data-stu-id="d0de4-139">The [INHERIT\_PARENT\_AFFINITY](process-creation-flags.md) flag can be used to specify a parent process (which can be different than the current process) from which to generate the affinity for a new process.</span></span> <span data-ttu-id="d0de4-140">Si el proceso se está ejecutando en un grupo único, puede leer y modificar su afinidad mediante [**GetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) y [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) mientras permanezca en el mismo grupo; Si se modifica la afinidad del proceso, se aplica la nueva afinidad a sus subprocesos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-140">If the process is running in a single group, it can read and modify its affinity using [**GetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) and [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) while remaining in the same group; if the process affinity is modified, the new affinity is applied to its threads.</span></span>

<span data-ttu-id="d0de4-141">La afinidad de un subproceso se puede especificar en la creación mediante el atributo de [**afinidad de grupo de \_ atributos de subprocesos \_ \_ \_**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-updateprocthreadattribute) extendidos con la función [**CreateRemoteThreadEx**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethreadex) .</span><span class="sxs-lookup"><span data-stu-id="d0de4-141">A thread's affinity can be specified at creation using the [**PROC\_THREAD\_ATTRIBUTE\_GROUP\_AFFINITY**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-updateprocthreadattribute) extended attribute with the [**CreateRemoteThreadEx**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethreadex) function.</span></span> <span data-ttu-id="d0de4-142">Una vez creado el subproceso, se puede cambiar su afinidad llamando a [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) o [**SetThreadGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-setthreadgroupaffinity).</span><span class="sxs-lookup"><span data-stu-id="d0de4-142">After the thread is created, its affinity can be changed by calling [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) or [**SetThreadGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-setthreadgroupaffinity).</span></span> <span data-ttu-id="d0de4-143">Si un subproceso se asigna a un grupo diferente del proceso, se actualiza la afinidad del proceso para incluir la afinidad del subproceso y el proceso se convierte en un proceso de varios grupos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-143">If a thread is assigned to a different group than the process, the process's affinity is updated to include the thread's affinity and the process becomes a multi-group process.</span></span> <span data-ttu-id="d0de4-144">Se deben realizar más cambios de afinidad para los subprocesos individuales; no se puede modificar la afinidad de un proceso de varios grupos mediante [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask).</span><span class="sxs-lookup"><span data-stu-id="d0de4-144">Further affinity changes must be made for individual threads; a multi-group process's affinity cannot be modified using [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask).</span></span> <span data-ttu-id="d0de4-145">La función [**GetProcessGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-getprocessgroupaffinity) recupera el conjunto de grupos al que se asignan un proceso y sus subprocesos.</span><span class="sxs-lookup"><span data-stu-id="d0de4-145">The [**GetProcessGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-getprocessgroupaffinity) function retrieves the set of groups to which a process and its threads are assigned.</span></span>

<span data-ttu-id="d0de4-146">Para especificar la afinidad para todos los procesos asociados a un objeto de trabajo, utilice la función [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) con la clase de información **JobObjectGroupInformation** o **JobObjectGroupInformationEx** .</span><span class="sxs-lookup"><span data-stu-id="d0de4-146">To specify affinity for all processes associated with a job object, use the [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) function with the **JobObjectGroupInformation** or **JobObjectGroupInformationEx** information class.</span></span>

<span data-ttu-id="d0de4-147">Un procesador lógico se identifica por su número de grupo y su número de procesador relativo al grupo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-147">A logical processor is identified by its group number and its group-relative processor number.</span></span> <span data-ttu-id="d0de4-148">Se representa mediante una estructura [**de \_ número de procesador**](/windows/desktop/api/WinNT/ns-winnt-processor_number) .</span><span class="sxs-lookup"><span data-stu-id="d0de4-148">This is represented by a [**PROCESSOR\_NUMBER**](/windows/desktop/api/WinNT/ns-winnt-processor_number) structure.</span></span> <span data-ttu-id="d0de4-149">Los números de procesador numéricos usados por funciones heredadas son relativos al grupo.</span><span class="sxs-lookup"><span data-stu-id="d0de4-149">Numeric processor numbers used by legacy functions are group-relative.</span></span>

<span data-ttu-id="d0de4-150">Para obtener una descripción de los cambios en la arquitectura del sistema operativo para admitir más de 64 procesadores, consulte las notas del producto [que admiten sistemas que tienen más de 64 procesadores](https://www.microsoft.com/whdc/system/Sysinternals/MoreThan64proc.mspx).</span><span class="sxs-lookup"><span data-stu-id="d0de4-150">For a discussion of operating system architecture changes to support more than 64 processors, see the white paper [Supporting Systems That Have More Than 64 Processors](https://www.microsoft.com/whdc/system/Sysinternals/MoreThan64proc.mspx).</span></span>

<span data-ttu-id="d0de4-151">Para obtener una lista de las nuevas funciones y estructuras que admiten grupos de procesadores, consulte [novedades en procesos y subprocesos](what-s-new-in-processes-and-threads.md).</span><span class="sxs-lookup"><span data-stu-id="d0de4-151">For a list of new functions and structures that support processor groups, see [What's New in Processes and Threads](what-s-new-in-processes-and-threads.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="d0de4-152">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="d0de4-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d0de4-153">Varios procesadores</span><span class="sxs-lookup"><span data-stu-id="d0de4-153">Multiple Processors</span></span>](multiple-processors.md)
</dt> <dt>

[<span data-ttu-id="d0de4-154">Compatibilidad con NUMA</span><span class="sxs-lookup"><span data-stu-id="d0de4-154">NUMA Support</span></span>](numa-support.md)
</dt> </dl>

 

 
