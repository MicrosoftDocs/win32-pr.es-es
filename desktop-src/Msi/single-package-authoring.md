---
description: Un paquete de uso doble es un paquete Windows Installer 5,0 que se ha creado para ser capaz de instalar una aplicación en el contexto de instalación por usuario o por equipo.
ms.assetid: b2da9fba-8fdf-48fa-a662-6b3eee1bfe87
title: Creación de un solo paquete
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 87c22b9be930be2d2178ea4efb7ba1538320823a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "105678145"
---
# <a name="single-package-authoring"></a><span data-ttu-id="4f915-103">Creación de un solo paquete</span><span class="sxs-lookup"><span data-stu-id="4f915-103">Single Package Authoring</span></span>

<span data-ttu-id="4f915-104">Un paquete de uso doble es un paquete Windows Installer 5,0 que se ha creado para ser capaz de instalar una aplicación en el [contexto de instalación](installation-context.md)por usuario o por equipo.</span><span class="sxs-lookup"><span data-stu-id="4f915-104">A dual-purpose package is a Windows Installer 5.0 package that has been authored to be capable of installing an application in either the per-user or per-machine [installation context](installation-context.md).</span></span> <span data-ttu-id="4f915-105">Los programadores de configuración que usan un paquete de uso doble para su aplicación pueden proporcionar a sus usuarios una selección de contexto de instalación en el momento de la instalación y pueden quitar las solicitudes de credenciales de UAC de las instalaciones por usuario en Windows 7 o Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="4f915-105">Setup developers that use a dual-purpose package for their application can provide their users with a choice of installation context at installation time and can remove UAC credential prompts from per-user installations on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="4f915-106">El desarrollo de un paquete de doble Windows Installer 5,0 para la instalación en Windows 7 y Windows Server 2008 R2 se denomina creación de un solo paquete.</span><span class="sxs-lookup"><span data-stu-id="4f915-106">The development of a dual-purpose Windows Installer 5.0 package for installation on Windows 7 and Windows Server 2008 R2 is referred to as single package authoring.</span></span>

<span data-ttu-id="4f915-107">Puede empezar a desarrollar paquetes de doble finalidad para Windows 7 y Windows Server 2008 R2 mediante Windows Installer 5,0, la propiedad [**MSIINSTALLPERUSER**](msiinstallperuser.md) , la propiedad [**AllUsers**](allusers.md) y las carpetas conocidas y los registros del [Shell de Windows](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="4f915-107">You can begin to develop dual-purpose packages for Windows 7 and Windows Server 2008 R2 by using Windows Installer 5.0, the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property, the [**ALLUSERS**](allusers.md) property, and the per-user capable known folders and registrations of the [Windows Shell](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85)).</span></span> <span data-ttu-id="4f915-108">Cuando Windows Installer 5,0 instala un paquete de uso dual en el contexto por usuario en Windows 7 o Windows Server 2008 R2, el instalador dirige las entradas del registro y de archivos a las ubicaciones por usuario y no muestra las solicitudes de UAC para las credenciales.</span><span class="sxs-lookup"><span data-stu-id="4f915-108">When Windows Installer 5.0 installs a dual-purpose package in the per-user context on Windows 7 or Windows Server 2008 R2, the installer directs file and registry entries to per-user locations and does not display UAC prompts for credentials.</span></span> <span data-ttu-id="4f915-109">Cuando Windows Installer 5,0 instala un paquete de uso dual en el contexto por equipo, el instalador dirige los archivos y las entradas del registro a las ubicaciones por equipo y solicita las credenciales de UAC para confirmar que el usuario tiene privilegios suficientes para instalar software para todos los usuarios del equipo.</span><span class="sxs-lookup"><span data-stu-id="4f915-109">When Windows Installer 5.0 installs a dual-purpose package in the per-machine context, the installer directs files and registry entries to per-machine locations and prompts for UAC credentials to confirm that the user has sufficient privileges to install software for all users of the computer.</span></span> <span data-ttu-id="4f915-110">Una vez Windows Installer 5,0 instala una aplicación, utiliza el mismo contexto de instalación para todas las actualizaciones, reparaciones o desinstalación posteriores de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4f915-110">Once Windows Installer 5.0 installs an application, it uses the same installation context for all subsequent updates, repairs, or removal of the application.</span></span>

<span data-ttu-id="4f915-111">**[Windows Installer 4,5 o anterior](not-supported-in-windows-installer-4-5.md):** no se admiten la propiedad [**MSIINSTALLPERUSER**](msiinstallperuser.md) y las versiones por usuario de las carpetas a las que hacen referencia las propiedades [**ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md)y [**CommonFiles64Folder**](commonfiles64folder.md) .</span><span class="sxs-lookup"><span data-stu-id="4f915-111">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** The [**MSIINSTALLPERUSER**](msiinstallperuser.md) property and per-user versions of folders referenced by the [**ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md), and [**CommonFiles64Folder**](commonfiles64folder.md) properties are not supported.</span></span> <span data-ttu-id="4f915-112">Las carpetas **FOLDERID \_ UserProgramFiles** y **FOLDERID \_ UserProgramFilesCommon** están disponibles a partir de Windows 7 y Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="4f915-112">The **FOLDERID\_UserProgramFiles** and **FOLDERID\_UserProgramFilesCommon** folders are available beginning with Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="4f915-113">Esto significa que las instalaciones desarrolladas para Windows Installer 4,5 o anteriores archivos directos y entradas del registro a FOLDERID \_ ProgramFiles, FOLDERID \_ PROGRAMFILESCOMMON, FOLDERID \_ ProgramFilesX64 y FOLDERID \_ ProgramFilesCommonX64.</span><span class="sxs-lookup"><span data-stu-id="4f915-113">This means installations developed for Windows Installer 4.5 or earlier direct files and registry entries to FOLDERID\_ProgramFiles, FOLDERID\_ProgramFilesCommon, FOLDERID\_ProgramFilesX64, and FOLDERID\_ProgramFilesCommonX64.</span></span> <span data-ttu-id="4f915-114">Dado que se trata de ubicaciones a las que pueden acceder otros usuarios del equipo, Windows Vista y los sistemas posteriores requieren que se muestren las credenciales de UAC.</span><span class="sxs-lookup"><span data-stu-id="4f915-114">Because these are locations accessible to other users of the computer, Windows Vista and later systems require the display of UAC prompts for credentials.</span></span>

<span data-ttu-id="4f915-115">Cuando un usuario instala un paquete de doble propósito creado para Windows Installer 5,0 con Windows Installer 4,5 o anterior, el instalador omite la propiedad [**MSIINSTALLPERUSER**](msiinstallperuser.md) .</span><span class="sxs-lookup"><span data-stu-id="4f915-115">When a user installs a dual-purpose package authored for Windows Installer 5.0 with Windows Installer 4.5 or earlier, the installer ignores the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property.</span></span> <span data-ttu-id="4f915-116">En este caso, la instalación puede dirigir archivos y entradas del registro a ubicaciones a las que pueden acceder otros usuarios y requerir que el sistema muestre solicitudes de UAC para las credenciales.</span><span class="sxs-lookup"><span data-stu-id="4f915-116">In this case, the installation can direct files and registry entries to locations accessible to other users and require the system to display UAC prompts for credentials.</span></span> <span data-ttu-id="4f915-117">Windows Installer 5,0 puede instalar un paquete que se desarrolló para Windows Installer 4,5 o anterior, sin embargo, la instalación dirige los archivos y las entradas del registro a ubicaciones accesibles para otros usuarios y requiere que el sistema muestre los mensajes de UAC para las credenciales.</span><span class="sxs-lookup"><span data-stu-id="4f915-117">Windows Installer 5.0 can install a package that was developed for Windows Installer 4.5 or earlier, however, the installation directs files and registry entries to locations accessible to other users and requires the system to display UAC prompts for credentials.</span></span>

## <a name="development-guidelines"></a><span data-ttu-id="4f915-118">Instrucciones de desarrollo</span><span class="sxs-lookup"><span data-stu-id="4f915-118">Development Guidelines</span></span>

<span data-ttu-id="4f915-119">Siga las instrucciones de creación de un único paquete para asegurarse de que el paquete se puede instalar en el contexto por usuario o por equipo.</span><span class="sxs-lookup"><span data-stu-id="4f915-119">Adhere to the following single-package authoring guidelines to ensure that the package can be installed in either the per-user or per-machine context.</span></span> <span data-ttu-id="4f915-120">Siga estas instrucciones para permitir al usuario elegir en el momento de la instalación una instalación por usuario o por equipo y para quitar las solicitudes de UAC de las instalaciones por usuario.</span><span class="sxs-lookup"><span data-stu-id="4f915-120">Follow these guidelines to enable the user to choose at installation time a per-user or per-machine installation and to remove UAC prompts from per-user installations.</span></span>

-   <span data-ttu-id="4f915-121">La instalación por usuario requiere Windows Installer 5,0 en Windows 7 o Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="4f915-121">Per-user installation requires Windows Installer 5.0 on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="4f915-122">Debe informar al usuario de que el paquete admite la instalación por equipo de la aplicación en versiones anteriores del sistema.</span><span class="sxs-lookup"><span data-stu-id="4f915-122">You should inform the user that the package supports per-machine installation of the application on earlier versions of the system.</span></span>
-   <span data-ttu-id="4f915-123">Inicialice los valores de las propiedades [**AllUsers**](allusers.md) y [**MSIINSTALLPERUSER**](msiinstallperuser.md) en la [tabla de propiedades](property-table.md) de su paquete de uso doble.</span><span class="sxs-lookup"><span data-stu-id="4f915-123">Initialize the values for the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties in the [Property Table](property-table.md) of your dual-purpose package.</span></span> <span data-ttu-id="4f915-124">Use el valor de **AllUsers** 2 y un valor de **MSIINSTALLPERUSER** de 1 como los valores iniciales.</span><span class="sxs-lookup"><span data-stu-id="4f915-124">Use **ALLUSERS** value of 2 and a **MSIINSTALLPERUSER** value of 1 as the initial values.</span></span> <span data-ttu-id="4f915-125">Esto especifica la instalación por usuario como la predeterminada para el paquete de doble propósito.</span><span class="sxs-lookup"><span data-stu-id="4f915-125">This specifies per-user installation as the default for the dual-purpose package.</span></span>
-   <span data-ttu-id="4f915-126">Considere la posibilidad de crear un cuadro de diálogo para la [interfaz de usuario](user-interface.md) del paquete de doble propósito que permite al usuario elegir el contexto en el momento de la instalación.</span><span class="sxs-lookup"><span data-stu-id="4f915-126">Consider authoring a dialog box for the [user interface](user-interface.md) of your dual-purpose package that enables the user to choose the context at installation time.</span></span> <span data-ttu-id="4f915-127">Cree los controles en este cuadro de diálogo personalizado para establecer los valores de las propiedades [**AllUsers**](allusers.md) y [**MSIINSTALLPERUSER**](msiinstallperuser.md) .</span><span class="sxs-lookup"><span data-stu-id="4f915-127">Author the controls on this custom dialog box to set the values of the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties.</span></span> <span data-ttu-id="4f915-128">En el caso del valor de **AllUsers** de 2, establezca **MSIINSTALLPERUSER** en un valor de 1 para especificar una instalación por usuario y establezca **MSIINSTALLPERUSER** en una cadena vacía ("") para especificar una instalación por equipo.</span><span class="sxs-lookup"><span data-stu-id="4f915-128">For the **ALLUSERS** value of 2, set **MSIINSTALLPERUSER** to a value of 1 to specify a per-user installation and set **MSIINSTALLPERUSER** to an empty string ("") to specify a per-machine installation.</span></span> <span data-ttu-id="4f915-129">Los usuarios también pueden establecer **AllUsers** y **MSIINSTALLPERUSER** en la línea de comandos si instalan el paquete desde la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="4f915-129">Users can also set the **ALLUSERS** and **MSIINSTALLPERUSER** on the command line if they install the package from the command line.</span></span>
-   <span data-ttu-id="4f915-130">Validar el paquete mediante [evaluadores de coherencia internos (CIEM)](internal-consistency-evaluators-ices.md).</span><span class="sxs-lookup"><span data-stu-id="4f915-130">Validate the package using [Internal Consistency Evaluators - ICEs](internal-consistency-evaluators-ices.md).</span></span> <span data-ttu-id="4f915-131">El paquete debe ser capaz de pasar la validación por [ICE105](ice-105.md) para que sea un paquete de uso dual válido.</span><span class="sxs-lookup"><span data-stu-id="4f915-131">The package must be able to pass validation by [ICE105](ice-105.md) to be a valid dual-purpose package.</span></span>
-   <span data-ttu-id="4f915-132">Use la tabla [del registro](registry-table.md) y la [tabla RemoveRegistry](removeregistry-table.md) para redirigir las entradas del registro a las partes por usuario del registro durante las instalaciones por usuario.</span><span class="sxs-lookup"><span data-stu-id="4f915-132">Use the [Registry Table](registry-table.md) and [RemoveRegistry Table](removeregistry-table.md) to redirect registry entries to the per-user parts of the registry during per-user installations.</span></span> <span data-ttu-id="4f915-133">En una instalación por usuario, las entradas del registro que tienen-1 en la columna raíz se redirigen al **\_ \_ usuario actual de HKEY** y, en una instalación por equipo, se dirigen a **HKEY \_ local \_ Machine**.</span><span class="sxs-lookup"><span data-stu-id="4f915-133">In a per-user installation, registry entries that have -1 in the Root column are redirected to **HKEY\_CURRENT\_USER**, and in a per-machine installation these are directed to **HKEY\_LOCAL\_MACHINE**.</span></span> <span data-ttu-id="4f915-134">En una instalación por usuario, las entradas del registro que tienen msidbRegistryRootClassesRoot (0) en la columna raíz se redirigen a  \\  \\ **las clases** de software HKCU y, en una instalación por equipo, se dirigen a \\  \\ **las clases** de software HKLM.</span><span class="sxs-lookup"><span data-stu-id="4f915-134">In a per-user installation, registry entries that have msidbRegistryRootClassesRoot (0) in the Root column are redirected to **HKCU**\\**Software**\\**Classes**, and in a per-machine installation, these are directed to **HKLM**\\**Software**\\**Classes**.</span></span>
-   <span data-ttu-id="4f915-135">Use la propiedad [**ProgramFilesFolder**](programfilesfolder.md) en la [tabla de directorios](directory-table.md) de paquetes de Windows Installer de [32 bits](32-bit-windows-installer-packages.md) para especificar las ubicaciones de los directorios que contienen componentes de 32 bits que no se comparten entre las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="4f915-135">Use the [**ProgramFilesFolder**](programfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components not shared across applications.</span></span> <span data-ttu-id="4f915-136">Cuando un usuario instala el paquete de uso doble mediante el contexto por equipo, estos componentes se guardan en la carpeta archivos de programa de las versiones de 32 bits de Windows y en la carpeta archivos de programa (x86) de las versiones de 64 bits del sistema.</span><span class="sxs-lookup"><span data-stu-id="4f915-136">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder on 32-bit versions of Windows and in the Program Files (x86) folder on 64-bit versions of the system.</span></span> <span data-ttu-id="4f915-137">Todos los usuarios pueden tener acceso a los componentes de estos directorios.</span><span class="sxs-lookup"><span data-stu-id="4f915-137">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="4f915-138">Cuando un usuario instala el paquete de doble propósito en Windows 7 o Windows Server 2008 R2 con el contexto por usuario, estos componentes se guardan en la carpeta programas del usuario actual (por ejemplo, en% LocalAppData% \\ Programs) y solo ese usuario puede tener acceso a ellos.</span><span class="sxs-lookup"><span data-stu-id="4f915-138">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="4f915-139">Use la propiedad [**CommonFilesFolder**](commonfilesfolder.md) de la [tabla de directorios](directory-table.md) de paquetes de Windows Installer de [32 bits](32-bit-windows-installer-packages.md) para especificar las ubicaciones de los directorios que contienen componentes de 32 bits compartidos entre aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="4f915-139">Use the [**CommonFilesFolder**](commonfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components shared across applications.</span></span> <span data-ttu-id="4f915-140">Cuando un usuario instala el paquete de uso doble mediante el contexto por equipo, estos componentes se guardan en la carpeta Archivos comunes y todos los usuarios pueden tener acceso a ellos.</span><span class="sxs-lookup"><span data-stu-id="4f915-140">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="4f915-141">Cuando un usuario instala el paquete de doble propósito en Windows 7 o Windows Server 2008 R2 con el contexto por usuario, estos componentes se guardan en la carpeta común del usuario actual (por ejemplo, en% LocalAppData% \\ Programs \\ Common) y solo ese usuario puede tener acceso a él.</span><span class="sxs-lookup"><span data-stu-id="4f915-141">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="4f915-142">Use la propiedad [**ProgramFiles64Folder**](programfiles64folder.md) de la [tabla de directorios](directory-table.md) de paquetes de Windows Installer de [64 bits](64-bit-windows-installer-packages.md) para especificar las ubicaciones de los directorios que contienen componentes de 64 bits que no se comparten entre las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="4f915-142">Use the [**ProgramFiles64Folder**](programfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components not shared across applications.</span></span> <span data-ttu-id="4f915-143">Cuando un usuario instala el paquete de uso doble mediante el contexto por equipo, estos componentes se guardan en la carpeta archivos de programa.</span><span class="sxs-lookup"><span data-stu-id="4f915-143">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder.</span></span> <span data-ttu-id="4f915-144">Todos los usuarios pueden tener acceso a los componentes de estos directorios.</span><span class="sxs-lookup"><span data-stu-id="4f915-144">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="4f915-145">Cuando un usuario instala el paquete de doble propósito en Windows 7 o Windows Server 2008 R2 con el contexto por usuario, estos componentes se guardan en la carpeta programas del usuario actual (por ejemplo, en% LocalAppData% \\ Programs) y solo ese usuario puede tener acceso a ellos.</span><span class="sxs-lookup"><span data-stu-id="4f915-145">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span> <span data-ttu-id="4f915-146">Para obtener más información acerca de la creación de un paquete para instalar una aplicación en sistemas operativos de 64 bits, consulte [Windows Installer en sistemas operativos de 64](windows-installer-on-64-bit-operating-systems.md)bits.</span><span class="sxs-lookup"><span data-stu-id="4f915-146">For more information about authoring a package to install an application on 64-bit operating systems, see [Windows Installer on 64-bit Operating Systems](windows-installer-on-64-bit-operating-systems.md).</span></span>
-   <span data-ttu-id="4f915-147">Use la propiedad [**CommonFiles64Folder**](commonfiles64folder.md) de la [tabla de directorios](directory-table.md) de paquetes de Windows Installer de [64 bits](64-bit-windows-installer-packages.md) para especificar las ubicaciones de los directorios que contienen componentes de 64 bits compartidos entre aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="4f915-147">Use the [**CommonFiles64Folder**](commonfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components shared across applications.</span></span> <span data-ttu-id="4f915-148">Cuando un usuario instala el paquete de uso doble mediante el contexto por equipo, estos componentes se guardan en la carpeta Archivos comunes y todos los usuarios pueden tener acceso a ellos.</span><span class="sxs-lookup"><span data-stu-id="4f915-148">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="4f915-149">Cuando un usuario instala el paquete de doble propósito en Windows 7 o Windows Server 2008 R2 con el contexto por usuario, estos componentes se guardan en la carpeta común del usuario actual (por ejemplo, en% LocalAppData% \\ Programs \\ Common) y solo ese usuario puede tener acceso a él.</span><span class="sxs-lookup"><span data-stu-id="4f915-149">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="4f915-150">Use las propiedades [**ProgramFilesFolder**](programfilesfolder.md) y [**CommonFilesFolder**](commonfilesfolder.md) en la [tabla de directorios](directory-table.md) de paquetes de Windows Installer de [64 bits](64-bit-windows-installer-packages.md) para especificar la ubicación de los directorios que contienen componentes de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="4f915-150">Use the [**ProgramFilesFolder**](programfilesfolder.md) and [**CommonFilesFolder**](commonfilesfolder.md) properties in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the location of directories containing 32-bit components.</span></span> <span data-ttu-id="4f915-151">Use nombres diferentes para las versiones de 32 bits y 64 bits de los componentes proporcionados con el mismo nombre, o bien Guarde las versiones en distintas carpetas.</span><span class="sxs-lookup"><span data-stu-id="4f915-151">Use different names for the 32-bit and 64-bit versions of any components provided with the same name, or alternatively, save the versions in different folders.</span></span> <span data-ttu-id="4f915-152">Por ejemplo, agregue información a la tabla del directorio para especificar la ubicación del directorio que contiene la versión de 32 bits como el nombre de la aplicación de nombre de \[ \] \\ *proveedor de ISV* de \\  \\ Program64FilesFolder x86 y la ubicación del directorio que contiene la versión de 64 bits como nombre de la aplicación nombre de \[ ISV de \] \\  \\  \\ x64.</span><span class="sxs-lookup"><span data-stu-id="4f915-152">For example, add information to the Directory table to specify the location of the directory containing the 32-bit version as \[ProgramFilesFolder\]\\*ISV Name*\\*Application Name*\\x86 and the location of the directory containing the 64-bit version as \[Program64FilesFolder\]\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="4f915-153">Después, una instalación por equipo guarda la versión de 32 bits en el nombre de la aplicación del nombre del ISV de archivos de programa (x86) \\  \\  \\ y guarda la versión de 64 bits en el nombre de la aplicación nombre del ISV de archivos de programa \\  \\  \\ x64.</span><span class="sxs-lookup"><span data-stu-id="4f915-153">A per-machine installation then saves the 32-bit version in Program Files(x86)\\*ISV Name*\\*Application Name*\\x86 and saves the 64-bit version in Program Files\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="4f915-154">Una instalación por usuario guarda la versión de 32 bits en% LocalAppData% Programs nombre de ISV nombre de \\ \\  \\ *aplicación* \\ x86 e instala la versión de 64 bits en% LocalAppData% programas nombre de proveedor de ISV nombre de \\ \\  \\ *aplicación* \\ .</span><span class="sxs-lookup"><span data-stu-id="4f915-154">A per-user installation saves the 32-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x86 and installs the 64-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x64.</span></span>
-   <span data-ttu-id="4f915-155">Almacene los datos de configuración de cada usuario para la aplicación en \\ usuarios nombre de usuario \\  \\ appdata.</span><span class="sxs-lookup"><span data-stu-id="4f915-155">Store per-user configuration data for the application under \\Users\\*username*\\AppData.</span></span>
-   <span data-ttu-id="4f915-156">Almacene las plantillas y los archivos generados por la aplicación en subcarpetas en \\ users \\ *username*.</span><span class="sxs-lookup"><span data-stu-id="4f915-156">Store templates and files generated by the application in subfolders under \\Users\\*username*.</span></span>
-   <span data-ttu-id="4f915-157">Si su aplicación usa extensiones de Shell, debe usar los puntos de [extensibilidad de Shell](https://msdn.microsoft.com/library/bb762762.aspx) compatibles con el usuario que están disponibles a partir de Windows 7 o windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="4f915-157">If your application uses shell extensions, you should use the per-user-capable [shell extensibility](https://msdn.microsoft.com/library/bb762762.aspx) points that are available beginning in Windows 7 or Windows Server 2008 R2.</span></span>
-   <span data-ttu-id="4f915-158">No use acciones personalizadas en el paquete que requieran privilegios elevados para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="4f915-158">Do not use custom actions in your package that require elevated privileges to run.</span></span> <span data-ttu-id="4f915-159">La tabla [CustomAction](customaction-table.md) no debe contener acciones personalizadas que se hayan marcado para ejecutarse con privilegios elevados.</span><span class="sxs-lookup"><span data-stu-id="4f915-159">The [CustomAction](customaction-table.md) table should contain no custom actions that have been marked to run with elevated privileges.</span></span> <span data-ttu-id="4f915-160">Para obtener más información sobre las acciones personalizadas elevadas, vea seguridad de la [acción personalizada](custom-action-security.md).</span><span class="sxs-lookup"><span data-stu-id="4f915-160">For more information about elevated custom actions, see [Custom Action Security](custom-action-security.md).</span></span>
-   <span data-ttu-id="4f915-161">No escriba en ninguna carpeta global del sistema.</span><span class="sxs-lookup"><span data-stu-id="4f915-161">Do not write in any global system folders.</span></span> <span data-ttu-id="4f915-162">La tabla del [directorio](directory-table.md) no debe contener una referencia a ninguna de las siguientes propiedades de la carpeta del sistema.</span><span class="sxs-lookup"><span data-stu-id="4f915-162">The [Directory](directory-table.md) table should not contain a reference to any of the following system folder properties.</span></span>

    <dl>

[<span data-ttu-id="4f915-163">**AdminToolsFolder**</span><span class="sxs-lookup"><span data-stu-id="4f915-163">**AdminToolsFolder**</span></span>](admintoolsfolder.md)  
    [<span data-ttu-id="4f915-164">**CommonAppDataFolder**</span><span class="sxs-lookup"><span data-stu-id="4f915-164">**CommonAppDataFolder**</span></span>](commonappdatafolder.md)  
    [<span data-ttu-id="4f915-165">**FontsFolder**</span><span class="sxs-lookup"><span data-stu-id="4f915-165">**FontsFolder**</span></span>](fontsfolder.md)  
    [<span data-ttu-id="4f915-166">**System16Folder**</span><span class="sxs-lookup"><span data-stu-id="4f915-166">**System16Folder**</span></span>](system16folder.md)  
    [<span data-ttu-id="4f915-167">**System64Folder**</span><span class="sxs-lookup"><span data-stu-id="4f915-167">**System64Folder**</span></span>](system64folder.md)  
    [<span data-ttu-id="4f915-168">**Carpetadelsistema**</span><span class="sxs-lookup"><span data-stu-id="4f915-168">**SystemFolder**</span></span>](systemfolder.md)  
    [<span data-ttu-id="4f915-169">**TempFolder**</span><span class="sxs-lookup"><span data-stu-id="4f915-169">**TempFolder**</span></span>](tempfolder.md)  
    [<span data-ttu-id="4f915-170">**WindowsFolder**</span><span class="sxs-lookup"><span data-stu-id="4f915-170">**WindowsFolder**</span></span>](windowsfolder.md)  
    [<span data-ttu-id="4f915-171">**WindowsVolume**</span><span class="sxs-lookup"><span data-stu-id="4f915-171">**WindowsVolume**</span></span>](windowsvolume.md)  
    </dl>

-   <span data-ttu-id="4f915-172">No instale un ensamblado de Common Language Runtime en la caché de ensamblados global (GAC). Para obtener más información sobre cómo instalar ensamblados en la caché global de ensamblados, vea [Agregar ensamblados a un paquete](adding-assemblies-to-a-package.md) e [Instalar ensamblados de Common Language Runtime](installation-of-common-language-runtime-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="4f915-172">Do not install a common language runtime assembly into the global assembly cache (GAC.) For more information about installing assemblies to the global assembly cache, see [Adding Assemblies to a Package](adding-assemblies-to-a-package.md) and [Installation of Common Language Runtime Assemblies](installation-of-common-language-runtime-assemblies.md).</span></span>
-   <span data-ttu-id="4f915-173">No instale ningún origen de datos ODBC.</span><span class="sxs-lookup"><span data-stu-id="4f915-173">Do not install any ODBC data sources.</span></span> <span data-ttu-id="4f915-174">No utilice la tabla [ODBCDataSource](odbcdatasource-table.md) para instalar un origen de datos.</span><span class="sxs-lookup"><span data-stu-id="4f915-174">Do not use the [ODBCDataSource](odbcdatasource-table.md) table to install a data source.</span></span>
-   <span data-ttu-id="4f915-175">No instale ningún servicio.</span><span class="sxs-lookup"><span data-stu-id="4f915-175">Do not install any services.</span></span> <span data-ttu-id="4f915-176">No use la tabla [ServiceInstall](serviceinstall-table.md) para instalar un servicio.</span><span class="sxs-lookup"><span data-stu-id="4f915-176">Do not use the [ServiceInstall](serviceinstall-table.md) table to install a service.</span></span>

## <a name="example"></a><span data-ttu-id="4f915-177">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="4f915-177">Example</span></span>

<span data-ttu-id="4f915-178">Un ejemplo de un paquete de doble propósito se proporciona en los [componentes de Windows SDK para Windows Installer desarrolladores](platform-sdk-components-for-windows-installer-developers.md) como PUASample1.msi de archivos.</span><span class="sxs-lookup"><span data-stu-id="4f915-178">An example of a dual-purpose package is provided in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md) as the file PUASample1.msi.</span></span> <span data-ttu-id="4f915-179">Si tiene el SDK actual, tiene acceso a todas las herramientas y los datos necesarios para reproducir el paquete de instalación de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="4f915-179">If you have the current SDK, you have access to all the tools and data necessary to reproduce the sample installation package.</span></span> <span data-ttu-id="4f915-180">Para obtener más información sobre este ejemplo, vea [ejemplo de creación de un solo paquete](single-package-authoring-example.md).</span><span class="sxs-lookup"><span data-stu-id="4f915-180">For more information about this example, see [Single Package Authoring Example](single-package-authoring-example.md).</span></span>

 

 
