---
title: Animar un carácter
description: Animar un carácter
ms.assetid: ed42de30-acac-41e8-bacb-4caaff254724
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ed47b30a9bcfcdb5e305b87ced5f02526ae0056
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/19/2020
ms.locfileid: "104077629"
---
# <a name="animating-a-character"></a><span data-ttu-id="71bcf-103">Animar un carácter</span><span class="sxs-lookup"><span data-stu-id="71bcf-103">Animating a Character</span></span>

<span data-ttu-id="71bcf-104">\[Microsoft Agent está en desuso a partir de Windows 7 y puede que no esté disponible en versiones posteriores de Windows.\]</span><span class="sxs-lookup"><span data-stu-id="71bcf-104">\[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.\]</span></span>

<span data-ttu-id="71bcf-105">Una vez cargado un carácter, puede usar varios métodos de Microsoft Agent para animar el carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-105">Once a character is loaded, you can use several of Microsoft Agent's methods for animating the character.</span></span> <span data-ttu-id="71bcf-106">El primero que se usa es normalmente el método [**Show**](show-method.md) .</span><span class="sxs-lookup"><span data-stu-id="71bcf-106">The first one you use is typically the [**Show**](show-method.md) method.</span></span> <span data-ttu-id="71bcf-107">**Mostrar** hace que el marco del carácter sea visible y reproduce la animación asignada al estado en el **que se muestra** el carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-107">**Show** makes the character's frame visible and plays the animation assigned to the character's **Showing** state.</span></span>

<span data-ttu-id="71bcf-108">Una vez que el marco del carácter esté visible, puede usar el método [**Play**](play-method.md) , especificando el nombre de una animación, para reproducir esa animación.</span><span class="sxs-lookup"><span data-stu-id="71bcf-108">Once the character's frame is visible, you can use the [**Play**](play-method.md) method, specifying the name of an animation, to play that animation.</span></span> <span data-ttu-id="71bcf-109">Los nombres de animación son específicos de una definición de caracteres.</span><span class="sxs-lookup"><span data-stu-id="71bcf-109">Animation names are specific to a character definition.</span></span> <span data-ttu-id="71bcf-110">A medida que se reproduce una animación, la forma de la ventana cambia para coincidir con la imagen del marco.</span><span class="sxs-lookup"><span data-stu-id="71bcf-110">As an animation plays, the shape of its window changes to match the image in the frame.</span></span> <span data-ttu-id="71bcf-111">Esto da como resultado una imagen gráfica móvil, o *Sprite*, que se muestra en la parte superior del escritorio y en todas las ventanas, o en el *orden z*.</span><span class="sxs-lookup"><span data-stu-id="71bcf-111">This results in a movable graphic image, or *sprite*, displayed on top of the desktop and all windows, or *z-order*.</span></span>

<span data-ttu-id="71bcf-112">Si el archivo del carácter está almacenado localmente, simplemente puede llamar al método [**Play**](play-method.md) .</span><span class="sxs-lookup"><span data-stu-id="71bcf-112">If the character's file is stored locally, you can simply call the [**Play**](play-method.md) method.</span></span> <span data-ttu-id="71bcf-113">En otros casos, como cuando se ha cargado un. Carácter ACF de un servidor HTTP, debe usar el método [**Get**](get-method.md) (o [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare)) para recuperar primero los datos de la animación.</span><span class="sxs-lookup"><span data-stu-id="71bcf-113">In other cases, such as when you have loaded an .ACF character from an HTTP server, you must use the [**Get**](get-method.md) (or [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare)) method to first retrieve the animation data.</span></span> <span data-ttu-id="71bcf-114">Esto hará que el agente solicite el archivo de animación del servidor y lo almacene en el búfer del explorador en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="71bcf-114">This will cause Agent to request the animation file from the server and store it in the browser's buffer on the local machine.</span></span>

<span data-ttu-id="71bcf-115">El método [**Speak**](speak-method.md) permite programar el carácter que se va a hablar, sincronizando automáticamente la salida de Lip.</span><span class="sxs-lookup"><span data-stu-id="71bcf-115">The [**Speak**](speak-method.md) method enables you to program the character to speak, automatically lip-syncing the output.</span></span> <span data-ttu-id="71bcf-116">En la sección salida de este documento se explican más detalles.</span><span class="sxs-lookup"><span data-stu-id="71bcf-116">Further details are covered in the Output section of this document.</span></span>

<span data-ttu-id="71bcf-117">Puede usar el método [**moveTo**](moveto-method.md) para colocar el carácter en una nueva ubicación.</span><span class="sxs-lookup"><span data-stu-id="71bcf-117">You can use the [**MoveTo**](moveto-method.md) method to position the character at a new location.</span></span> <span data-ttu-id="71bcf-118">Cuando se llama al método **moveTo** , el agente de Microsoft reproduce automáticamente la animación adecuada en función de la ubicación actual del carácter y, a continuación, mueve el fotograma del carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-118">When you call the **MoveTo** method, Microsoft Agent automatically plays the appropriate animation based on the character's current location, then moves the character's frame.</span></span> <span data-ttu-id="71bcf-119">Del mismo modo, cuando se llama a [**GestureAt**](gestureat-method.md), el agente de Microsoft reproduce la animación gesturing adecuada en función de la ubicación del carácter y la ubicación especificada en la llamada.</span><span class="sxs-lookup"><span data-stu-id="71bcf-119">Similarly, when you call [**GestureAt**](gestureat-method.md), Microsoft Agent plays the appropriate gesturing animation based on the character's location and the location specified in the call.</span></span>

<span data-ttu-id="71bcf-120">Para ocultar el carácter, llame al método [Hide](hide-method.md) .</span><span class="sxs-lookup"><span data-stu-id="71bcf-120">To hide the character, call the [Hide](hide-method.md) method.</span></span> <span data-ttu-id="71bcf-121">Esto reproduce automáticamente el carácter asociado al estado de **ocultación** del carácter y, a continuación, oculta el fotograma del carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-121">This automatically plays the character associated with the character's **Hiding** state, then hides the character's frame.</span></span> <span data-ttu-id="71bcf-122">Sin embargo, también puede ocultar o mostrar un carácter estableciendo la propiedad [**visible**](visible-property.md) del carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-122">However, you can also hide or show a character by setting the character's [**Visible**](visible-property.md) property.</span></span>

<span data-ttu-id="71bcf-123">El agente de Microsoft procesa todas las llamadas de animación, o *solicitudes*, de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="71bcf-123">Microsoft Agent processes all animation calls, or *requests*, asynchronously.</span></span> <span data-ttu-id="71bcf-124">Esto permite al código de la aplicación seguir controlando otros eventos mientras se procesa la solicitud.</span><span class="sxs-lookup"><span data-stu-id="71bcf-124">This enables your application's code to continue handling other events while the request is being processed.</span></span> <span data-ttu-id="71bcf-125">Por ejemplo, las llamadas al método [**Play**](play-method.md) colocan la animación en una cola para el carácter de modo que las animaciones se puedan reproducir secuencialmente.</span><span class="sxs-lookup"><span data-stu-id="71bcf-125">For example, calls to the [**Play**](play-method.md) method place the animation in a queue for the character so that the animations can be played sequentially.</span></span> <span data-ttu-id="71bcf-126">Sin embargo, esto significa que no se puede suponer que una llamada a otras funciones se ejecutará necesariamente después de la animación que sigue en el código.</span><span class="sxs-lookup"><span data-stu-id="71bcf-126">However, this means you cannot assume that a call to other functions will necessarily execute after an animation it follows in your code.</span></span> <span data-ttu-id="71bcf-127">Por ejemplo, normalmente, una instrucción que sigue a una llamada a **Play** o [**moveTo**](moveto-method.md) se ejecutará antes de que finalice la animación.</span><span class="sxs-lookup"><span data-stu-id="71bcf-127">For example, typically, a statement following a call to **Play** or [**MoveTo**](moveto-method.md) will execute before the animation finishes.</span></span>

<span data-ttu-id="71bcf-128">Puede sincronizar el código con animaciones en la cola de un carácter creando una referencia de objeto a la solicitud de animación y, cuando la animación se inicia o se completa, supervisando los eventos de [solicitud](the-request-object.md) que el servidor utiliza para notificar a los clientes el carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-128">You can synchronize your code with animations in a character's queue by creating an object reference to the animation request, and, when the animation starts or completes, monitoring the [Request](the-request-object.md) events that the server uses to notify clients of the character.</span></span> <span data-ttu-id="71bcf-129">Por ejemplo, si desea que aparezca un cuadro de mensaje cuando el carácter finaliza una animación, puede colocar la llamada del cuadro de mensaje en la subrutina de control de eventos de [**RequestComplete**](requestcomplete-event.md) , comprobando el identificador de solicitud determinado.</span><span class="sxs-lookup"><span data-stu-id="71bcf-129">For example, if you want a message box to appear when the character finishes an animation, you can put the message box call in your [**RequestComplete**](requestcomplete-event.md) event handling subroutine, checking for the particular request ID.</span></span>

<span data-ttu-id="71bcf-130">Cuando se oculta un carácter, el servidor no reproduce animaciones; sin embargo, todavía pone en cola y procesa la solicitud de animación (reproduce la animación) y pasa de nuevo el estado de la solicitud al cliente.</span><span class="sxs-lookup"><span data-stu-id="71bcf-130">When a character is hidden, the server does not play animations; however, it still queues and processes the animation request (plays the animation) and passes a request status back to the client.</span></span> <span data-ttu-id="71bcf-131">En el estado oculto, el carácter no puede ser de entrada-activo.</span><span class="sxs-lookup"><span data-stu-id="71bcf-131">In the hidden state, the character cannot become input-active.</span></span> <span data-ttu-id="71bcf-132">Sin embargo, si el usuario habla el nombre del carácter (cuando está habilitada la entrada de voz), el servidor muestra automáticamente el carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-132">However, if the user speaks the name of the character (when speech input is enabled), the server automatically shows the character.</span></span>

<span data-ttu-id="71bcf-133">Cuando la aplicación cliente carga varios caracteres al mismo tiempo, los servicios de animación de Microsoft Agent permiten animar los caracteres de forma independiente o usar los métodos [**Wait**](wait-method.md), [**Interrupt**](interrupt-method.md)o [**Stop**](stop-method.md) para sincronizar la animación entre sí.</span><span class="sxs-lookup"><span data-stu-id="71bcf-133">When your client application loads multiple characters at the same time, Microsoft Agent's animation services enable you to animate characters independently or use the [**Wait**](wait-method.md), [**Interrupt**](interrupt-method.md), or [**Stop**](stop-method.md) methods to synchronize their animation with each other.</span></span>

<span data-ttu-id="71bcf-134">El agente de Microsoft también reproduce otras animaciones automáticamente.</span><span class="sxs-lookup"><span data-stu-id="71bcf-134">Microsoft Agent also plays other animations automatically for you.</span></span> <span data-ttu-id="71bcf-135">Por ejemplo, si el estado del carácter no ha cambiado durante varios segundos, el agente comienza a reproducir animaciones asignadas a las animaciones de **ralentí** del carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-135">For example, if the character's state has not changed for several seconds, Agent begins playing animations assigned to the character's **Idling** animations.</span></span> <span data-ttu-id="71bcf-136">Del mismo modo, cuando la entrada de voz está habilitada, el agente desempeña las animaciones de **escucha** del carácter y, a continuación, **escucha** animaciones cuando se detecta un utterance.</span><span class="sxs-lookup"><span data-stu-id="71bcf-136">Similarly, when speech input is enabled, Agent plays the character's **Listening** animations and then **Hearing** animations when an utterance is detected.</span></span> <span data-ttu-id="71bcf-137">Estas animaciones administradas por el servidor se denominan *Estados* y se definen cuando se crea un carácter.</span><span class="sxs-lookup"><span data-stu-id="71bcf-137">These server-managed animations are called *states*, and are defined when a character is created.</span></span> <span data-ttu-id="71bcf-138">Para obtener más información, vea [diseñar caracteres para el agente de Microsoft](agent-states.md).</span><span class="sxs-lookup"><span data-stu-id="71bcf-138">For more information, see [Designing Characters for Microsoft Agent](agent-states.md).</span></span>

 

 