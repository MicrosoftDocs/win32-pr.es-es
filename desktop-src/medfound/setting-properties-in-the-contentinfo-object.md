---
description: Al crear un archivo ASF, el objeto ContentInfo debe conocer las características del contenido multimedia para que los distintos objetos de encabezado se rellenen con los valores correctos.
ms.assetid: 30e3c10b-1310-4194-8b83-221dfe73b03c
title: Establecer propiedades en el objeto ContentInfo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e386d5eb33dd1893b195a870425b2336ab9c316f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/07/2021
ms.locfileid: "104155320"
---
# <a name="setting-properties-in-the-contentinfo-object"></a><span data-ttu-id="75c70-103">Establecer propiedades en el objeto ContentInfo</span><span class="sxs-lookup"><span data-stu-id="75c70-103">Setting Properties in the ContentInfo Object</span></span>

<span data-ttu-id="75c70-104">Al crear un archivo ASF, el objeto ContentInfo debe conocer las características del contenido multimedia para que los distintos objetos de encabezado se rellenen con los valores correctos.</span><span class="sxs-lookup"><span data-stu-id="75c70-104">While creating an ASF file, the ContentInfo object needs to know the characteristics of the media content so that the various header objects are populated with the correct values.</span></span>

-   [<span data-ttu-id="75c70-105">Configuración relacionada con el contenido en el objeto ContentInfo</span><span class="sxs-lookup"><span data-stu-id="75c70-105">Content-Related Settings in the ContentInfo Object</span></span>](#content-related-settings-in-the-contentinfo-object)
-   [<span data-ttu-id="75c70-106">Configurar el objeto ContentInfo con la configuración del codificador</span><span class="sxs-lookup"><span data-stu-id="75c70-106">Configuring the ContentInfo Object with Encoder Settings</span></span>](#configuring-the-contentinfo-object-with-encoder-settings)
-   [<span data-ttu-id="75c70-107">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="75c70-107">Related topics</span></span>](#related-topics)

## <a name="content-related-settings-in-the-contentinfo-object"></a><span data-ttu-id="75c70-108">Configuración relacionada con el contenido en el objeto ContentInfo</span><span class="sxs-lookup"><span data-stu-id="75c70-108">Content-Related Settings in the ContentInfo Object</span></span>

<span data-ttu-id="75c70-109">Los valores de configuración de contenido son valores de secuencia que se incluyen en el perfil y especifican el identificador de flujo, el tipo de medio y los parámetros de cubo de fugas del receptor de medios.</span><span class="sxs-lookup"><span data-stu-id="75c70-109">Content configuration settings are stream settings, which are contained within the profile and specify the stream identifier, the media type, and the leaky bucket parameters for the media sink.</span></span> <span data-ttu-id="75c70-110">Una vez establecido el perfil en el objeto ContentInfo llamando a [**IMFASFContentInfo:: SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile), estos valores se reflejan en el objeto de encabezado ASF que se generó.</span><span class="sxs-lookup"><span data-stu-id="75c70-110">After the profile is set on the ContentInfo object by calling [**IMFASFContentInfo::SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile), these values are reflected in the ASF Header Object that was generated.</span></span> <span data-ttu-id="75c70-111">Para obtener información acerca de esta configuración, consulte [crear y configurar secuencias ASF](creating-and-configuring-asf-streams.md).</span><span class="sxs-lookup"><span data-stu-id="75c70-111">For information about these settings, see [Creating and Configuring ASF Streams](creating-and-configuring-asf-streams.md).</span></span>

## <a name="configuring-the-contentinfo-object-with-encoder-settings"></a><span data-ttu-id="75c70-112">Configurar el objeto ContentInfo con la configuración del codificador</span><span class="sxs-lookup"><span data-stu-id="75c70-112">Configuring the ContentInfo Object with Encoder Settings</span></span>

<span data-ttu-id="75c70-113">Los datos de audio o vídeo de medios digitales son complejos y ocupan grandes cantidades de memoria.</span><span class="sxs-lookup"><span data-stu-id="75c70-113">Digital media audio or video data is complex and takes up large amounts of memory.</span></span> <span data-ttu-id="75c70-114">En la mayoría de los casos, el audio y el vídeo se comprimen mediante codificadores antes de que se agreguen a un archivo ASF.</span><span class="sxs-lookup"><span data-stu-id="75c70-114">Under most circumstances, both audio and video are compressed by using encoders before being added to an ASF file.</span></span> <span data-ttu-id="75c70-115">En Media Foundation, los codificadores se implementan como [transformaciones Media Foundation](media-foundation-transforms.md) (MFTs) con una entrada y una salida.</span><span class="sxs-lookup"><span data-stu-id="75c70-115">In Media Foundation, encoders are implemented as [Media Foundation Transforms](media-foundation-transforms.md) (MFTs) with one input and one output.</span></span> <span data-ttu-id="75c70-116">Debe seleccionar el tipo de medio de salida según el tipo de medio del flujo de entrada y el tipo de codificación que elija para comprimir la secuencia.</span><span class="sxs-lookup"><span data-stu-id="75c70-116">You must select the output media type depending on the media type of the input stream and the encoding type you choose for compressing the stream.</span></span>

<span data-ttu-id="75c70-117">Antes de la sesión de codificación, el codificador debe configurarse mediante el establecimiento de las propiedades pertinentes según el tipo de codificación.</span><span class="sxs-lookup"><span data-stu-id="75c70-117">Before the encoding session, the encoder must be configured by setting the relevant properties depending on the type of encoding.</span></span>

<span data-ttu-id="75c70-118">Después de configurar el codificador, debe configurar el objeto ContentInfo con los valores del codificador porque el [multiplexor ASF](asf-multiplexer.md) y el receptor de medios ASF, que se inicializan con el objeto ContentInfo rellenado, usan valores como los valores del depósito de fugas para generar paquetes de datos ASF.</span><span class="sxs-lookup"><span data-stu-id="75c70-118">After configuring the encoder, you must configure the ContentInfo object with the encoder values because the [ASF Multiplexer](asf-multiplexer.md) and the ASF Media Sink, which are initialized with the populated ContentInfo object, use settings such as the leaky bucket values, to generate ASF data packets.</span></span> <span data-ttu-id="75c70-119">Los valores no se guardan en el objeto de encabezado ASF final.</span><span class="sxs-lookup"><span data-stu-id="75c70-119">The values are not saved in the final ASF Header Object.</span></span> <span data-ttu-id="75c70-120">La configuración de codificación se expone como propiedades.</span><span class="sxs-lookup"><span data-stu-id="75c70-120">The encoding settings are exposed as properties.</span></span> <span data-ttu-id="75c70-121">Para configurar el objeto ContentInfo con las propiedades del codificador, haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="75c70-121">To configure the ContentInfo object with the encoder properties, do the following:</span></span>

1.  <span data-ttu-id="75c70-122">Obtener un puntero al almacén de propiedades del codificador consultando directamente el codificador (interfaz [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) ) para la interfaz **IPropertyStore** .</span><span class="sxs-lookup"><span data-stu-id="75c70-122">Get a pointer to the encoder's property store by querying the encoder ([**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface) directly for the **IPropertyStore** interface.</span></span>
2.  <span data-ttu-id="75c70-123">Llame a [**IMFASFContentInfo:: GetEncodingConfigurationPropertyStore**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-getencodingconfigurationpropertystore).</span><span class="sxs-lookup"><span data-stu-id="75c70-123">Call [**IMFASFContentInfo::GetEncodingConfigurationPropertyStore**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-getencodingconfigurationpropertystore).</span></span> <span data-ttu-id="75c70-124">Para establecer las propiedades específicas de la secuencia, especifique el identificador de flujo en el parámetro *wStreamNumber* . en el caso de las propiedades de nivel de archivo, pase 0.</span><span class="sxs-lookup"><span data-stu-id="75c70-124">To set stream-specific properties, specify the stream identifier in the *wStreamNumber* parameter; for file-level properties, pass 0.</span></span> <span data-ttu-id="75c70-125">El parámetro *ppIStore* recibe un puntero a la interfaz **IPropertyStore** .</span><span class="sxs-lookup"><span data-stu-id="75c70-125">The *ppIStore* parameter receives a pointer to the **IPropertyStore** interface.</span></span> <span data-ttu-id="75c70-126">El almacén de propiedades recibido está vacío.</span><span class="sxs-lookup"><span data-stu-id="75c70-126">The received property store is empty.</span></span>
3.  <span data-ttu-id="75c70-127">Llame a **IPropertyStore:: GetValue** en el codificador y obtenga el valor de la propiedad especificando las constantes de clave de propiedad.</span><span class="sxs-lookup"><span data-stu-id="75c70-127">Call **IPropertyStore::GetValue** on the encoder and get the property value by specifying the property key constants.</span></span> <span data-ttu-id="75c70-128">Para obtener una lista completa de las propiedades de codificación, vea la [referencia de programación de códecs](/previous-versions//aa384554(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="75c70-128">For a complete list of encoding properties, see the [Codec Programming Reference](/previous-versions//aa384554(v=vs.85)).</span></span>
4.  <span data-ttu-id="75c70-129">Llame a **IPropertyStore:: SetValue** en el objeto ContentInfo para establecer la propiedad required en el almacén de propiedades.</span><span class="sxs-lookup"><span data-stu-id="75c70-129">Call **IPropertyStore::SetValue** on the ContentInfo object to set the required property in the property store.</span></span>
5.  <span data-ttu-id="75c70-130">Repita los pasos 3 y 4 para cada propiedad que desee establecer.</span><span class="sxs-lookup"><span data-stu-id="75c70-130">Repeat steps 3 and 4 for each property that you want to set.</span></span>

<span data-ttu-id="75c70-131">El receptor de medios ASF se puede crear mediante un objeto de activación mediante una llamada a [**MFCreateASFMediaSinkActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfmediasinkactivate).</span><span class="sxs-lookup"><span data-stu-id="75c70-131">The ASF media sink can be created by using an activation object by calling [**MFCreateASFMediaSinkActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfmediasinkactivate).</span></span> <span data-ttu-id="75c70-132">El nuevo objeto de receptor de medios se configura en función de la configuración específica del receptor de medios que se puede establecer en el almacén de propiedades del objeto ContentInfo.</span><span class="sxs-lookup"><span data-stu-id="75c70-132">The new media sink object is configured based on media sink-specific settings that can be set in the ContentInfo object's property store.</span></span> <span data-ttu-id="75c70-133">En la tabla siguiente se muestran las constantes de la propiedad del receptor multimedia ASF.</span><span class="sxs-lookup"><span data-stu-id="75c70-133">The following table shows the ASF media sink property constants.</span></span>



| <span data-ttu-id="75c70-134">Propiedad</span><span class="sxs-lookup"><span data-stu-id="75c70-134">Property</span></span>                                                                                                     | <span data-ttu-id="75c70-135">Descripción</span><span class="sxs-lookup"><span data-stu-id="75c70-135">Description</span></span>                                                                                                                                                                                                                                                                                           |
|--------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="75c70-136">**MFPKEY \_ \_ SENDTIME ASFMEDIASINK base \_**</span><span class="sxs-lookup"><span data-stu-id="75c70-136">**MFPKEY\_ASFMEDIASINK\_BASE\_SENDTIME**</span></span>](mfpkey-asfmediasink-base-sendtime-property.md)                   | <span data-ttu-id="75c70-137">La hora de envío indica cuándo se liberará la carga dentro del depósito de fugas.</span><span class="sxs-lookup"><span data-stu-id="75c70-137">The send time indicates when the payload inside the leaky bucket will be released.</span></span> <span data-ttu-id="75c70-138">Este valor de propiedad indica la primera hora de envío.</span><span class="sxs-lookup"><span data-stu-id="75c70-138">This property value indicates the first send time.</span></span> <span data-ttu-id="75c70-139">El multiplexor usa este valor para calcular las horas de envío posteriores para los paquetes generados y garantiza que los datos fluyen de forma permanente a través del depósito de fugas.</span><span class="sxs-lookup"><span data-stu-id="75c70-139">The multiplexer uses this value to calculate the subsequent send times for the generated packets and ensures that data flows steadily through the leaky bucket.</span></span> |
| [<span data-ttu-id="75c70-140">**\_velocidad de \_ bits de autoajuste de MFPKEY ASFMEDIASINK \_**</span><span class="sxs-lookup"><span data-stu-id="75c70-140">**MFPKEY\_ASFMEDIASINK\_AUTOADJUST\_BITRATE**</span></span>](mfpkey-asfmediasink-autoadjust-bitrate-property.md)         | <span data-ttu-id="75c70-141">Este valor **booleano** indica si el multiplexor debe ajustar la velocidad de bits automáticamente para asegurarse de que los datos no desbordan el depósito de fugas.</span><span class="sxs-lookup"><span data-stu-id="75c70-141">This **BOOL** value indicates whether the multiplexer needs to adjust the bit rate automatically to ensure that data does not overflow the leaky bucket.</span></span>                                                                                                                                              |
| [<span data-ttu-id="75c70-142">**MFPKEY \_ ASFMEDIASINK \_ DRMACTION**</span><span class="sxs-lookup"><span data-stu-id="75c70-142">**MFPKEY\_ASFMEDIASINK\_DRMACTION**</span></span>](mfpkey-asfmediasink-drmaction-property.md)                            | <span data-ttu-id="75c70-143">Esto indica la acción de DRM del receptor de medios ASF para la generación de archivos.</span><span class="sxs-lookup"><span data-stu-id="75c70-143">This indicates the ASF media sink DRM action for file generation.</span></span> <span data-ttu-id="75c70-144">En esta versión, solo se admite la transcodificación de DRM.</span><span class="sxs-lookup"><span data-stu-id="75c70-144">In this release, only DRM transcode is supported.</span></span>                                                                                                                                                                                   |
| [<span data-ttu-id="75c70-145">**MFPKEY \_ ASFSTREAMSINK \_ corregido \_ LEAKYBUCKET**</span><span class="sxs-lookup"><span data-stu-id="75c70-145">**MFPKEY\_ASFSTREAMSINK\_CORRECTED\_LEAKYBUCKET**</span></span>](mfpkey-asfstreamsink-corrected-leakybucket-property.md) | <span data-ttu-id="75c70-146">Esta propiedad se debe establecer cuando el codificador decide qué ventana de búfer y velocidad de bits se van a utilizar.</span><span class="sxs-lookup"><span data-stu-id="75c70-146">This property must be set when the encoder decides which buffer window and bit rate to use.</span></span> <span data-ttu-id="75c70-147">Para establecer estos valores, use la interfaz [**IWMCodecLeakyBucket**](/windows/desktop/api/wmcodecdsp/nn-wmcodecdsp-iwmcodecleakybucket) .</span><span class="sxs-lookup"><span data-stu-id="75c70-147">To set these values, use the [**IWMCodecLeakyBucket**](/windows/desktop/api/wmcodecdsp/nn-wmcodecdsp-iwmcodecleakybucket) interface.</span></span> <span data-ttu-id="75c70-148">Debe establecerse para cada secuencia del archivo ASF.</span><span class="sxs-lookup"><span data-stu-id="75c70-148">This must be set for each stream in the ASF file.</span></span>                                                     |



 

## <a name="related-topics"></a><span data-ttu-id="75c70-149">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="75c70-149">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="75c70-150">Escribir un objeto de encabezado ASF para un nuevo archivo</span><span class="sxs-lookup"><span data-stu-id="75c70-150">Writing an ASF Header Object for a New File</span></span>](writing-an-asf-header-object-for-a-new-file.md)
</dt> </dl>

 

 
