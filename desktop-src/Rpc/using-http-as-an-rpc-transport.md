---
title: Usar HTTP como transporte RPC
description: RPC a través de HTTP permite a los programas cliente utilizar Internet para ejecutar procedimientos proporcionados por programas de servidor en redes lejanas.
ms.assetid: b5062d70-7625-4a9f-a8c1-025ef8342fcb
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5860757a6c5df9937e77fc078df2526affb967fa
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/16/2019
ms.locfileid: "104486846"
---
# <a name="using-http-as-an-rpc-transport"></a><span data-ttu-id="1b6fa-103">Usar HTTP como transporte RPC</span><span class="sxs-lookup"><span data-stu-id="1b6fa-103">Using HTTP as an RPC Transport</span></span>

<span data-ttu-id="1b6fa-104">RPC a través de HTTP permite a los programas cliente utilizar Internet para ejecutar procedimientos proporcionados por programas de servidor en redes lejanas.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-104">RPC-over-HTTP enables client programs to use the Internet to execute procedures provided by server programs on distant networks.</span></span> <span data-ttu-id="1b6fa-105">RPC a través de HTTP tuneliza sus llamadas a través de un puerto HTTP establecido.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-105">RPC over HTTP tunnels its calls through an established HTTP port.</span></span> <span data-ttu-id="1b6fa-106">Por lo tanto, sus llamadas pueden cruzar los firewalls de red en las redes de cliente y de servidor.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-106">Thus, its calls can cross network firewalls on both the client and server networks.</span></span>

<span data-ttu-id="1b6fa-107">RPC a través de HTTP enruta sus llamadas al proxy RPC ubicado en la red del servidor RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-107">RPC over HTTP routes its calls to the RPC proxy located on the RPC server's network.</span></span> <span data-ttu-id="1b6fa-108">El proxy RPC establece y mantiene una conexión con el servidor RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-108">The RPC Proxy establishes and maintains a connection to the RPC server.</span></span> <span data-ttu-id="1b6fa-109">Actúa como un proxy, enviando llamadas a procedimientos remotos al servidor RPC y enviando las respuestas del servidor a través de Internet a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-109">It serves as a proxy, dispatching remote procedure calls to the RPC server and sending the server's replies back across the Internet to the client application.</span></span> <span data-ttu-id="1b6fa-110">Este proceso se ilustra en el diagrama siguiente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-110">This process is illustrated in the following diagram.</span></span>

![interacción entre un servidor RPC e Internet Information Server para RPC http](images/httprpc1.png)

<span data-ttu-id="1b6fa-112">El diagrama muestra un firewall en la red de la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-112">The diagram shows a firewall on the client application's network.</span></span> <span data-ttu-id="1b6fa-113">Esto no es necesario para que RPC a través de HTTP funcione.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-113">This is not required for RPC over HTTP to operate.</span></span> <span data-ttu-id="1b6fa-114">Sin embargo, si la red de cliente tiene un firewall, también necesitará un programa de servidor proxy como Microsoft Proxy Server.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-114">However, if the client network does have a firewall, it will also need a proxy server program such as Microsoft Proxy Server.</span></span>

<span data-ttu-id="1b6fa-115">Cuando el programa cliente emite una llamada a procedimiento remoto mediante HTTP como el transporte, la biblioteca en tiempo de ejecución de RPC en el cliente se pone en contacto con el proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-115">When the client program issues a remote procedure call using HTTP as the transport, the RPC run-time library on the client contacts the RPC proxy.</span></span> <span data-ttu-id="1b6fa-116">Dependiendo de si se pidió al cliente RPC que usara el puerto HTTP o HTTPS (HTTP con SSL) 80 o se usa el puerto 443, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-116">Depending on whether the RPC client was asked to use HTTP or HTTPS (HTTP with SSL) port 80 or port 443 is used, respectively.</span></span> <span data-ttu-id="1b6fa-117">El proxy RPC se pone en contacto con el programa de servidor RPC y establece una conexión TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-117">The RPC proxy contacts the RPC server program and establishes a TCP/IP connection.</span></span> <span data-ttu-id="1b6fa-118">El cliente y el proxy RPC mantienen su conexión HTTP o HTTPS a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-118">The client and the RPC proxy maintain their HTTP or HTTPS connection across the Internet.</span></span> <span data-ttu-id="1b6fa-119">La conexión HTTP o HTTPS del cliente con el proxy RPC puede pasar a través de un firewall (sujeto a los permisos de acceso adecuados) si está presente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-119">The client's HTTP or HTTPS connection to the RPC proxy can pass through a firewall (subject to appropriate access permissions) if one is present.</span></span> <span data-ttu-id="1b6fa-120">A continuación, el servidor puede ejecutar la llamada a procedimiento remoto y utilizar la conexión a través del proxy RPC para responder al cliente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-120">The server can then execute the remote procedure call and use the connection through the RPC proxy to reply to the client.</span></span> <span data-ttu-id="1b6fa-121">El proxy RPC es una extensión ISAPI que se ejecuta en el contexto de IIS.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-121">The RPC proxy is an ISAPI extension running in the context of IIS.</span></span>

<span data-ttu-id="1b6fa-122">Si el cliente o el servidor se desconecta por cualquier motivo, el proxy RPC lo detectará y finalizará la sesión RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-122">If either the client or the server disconnects for any reason, the RPC proxy will detect it and end the RPC session.</span></span> <span data-ttu-id="1b6fa-123">Siempre y cuando la sesión continúe, el proxy RPC mantendrá sus conexiones con el cliente y el servidor.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-123">As long as the session continues, the RPC proxy will maintain its connections to the client and the server.</span></span> <span data-ttu-id="1b6fa-124">Reenviará las llamadas de procedimiento remoto desde el cliente al servidor y enviará las respuestas del servidor al cliente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-124">It will forward remote procedure calls from the client to the server, and send replies from the server to the client.</span></span>

<span data-ttu-id="1b6fa-125">El programa cliente RPC puede canalizar sus llamadas RPC a través de Internet mediante la creación de un enlace de cadena con el formato:</span><span class="sxs-lookup"><span data-stu-id="1b6fa-125">The RPC client program can tunnel its RPC calls through the Internet by creating a string binding of the form:</span></span>

``` syntax
[object_uuid@]ncacn_http:rpc_server[endpoint,HttpProxy=proxy_server:http_port,RpcProxy=rpc_proxy:rpc_port,HttpConnectionOption=UseHttpProxy]
```

<span data-ttu-id="1b6fa-126">Donde:</span><span class="sxs-lookup"><span data-stu-id="1b6fa-126">Where:</span></span>

-   <span data-ttu-id="1b6fa-127">*el \_ UUID del objeto* especifica un UUID del objeto RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-127">*object\_uuid* specifies an RPC object UUID.</span></span> <span data-ttu-id="1b6fa-128">Para obtener más información, vea generación de UUID de [interfaz](generating-interface-uuids.md) y [UUID de cadena](string-uuid.md).</span><span class="sxs-lookup"><span data-stu-id="1b6fa-128">For more information, see [Generating Interface UUIDs](generating-interface-uuids.md) and [String UUID](string-uuid.md).</span></span>
-   <span data-ttu-id="1b6fa-129">**ncacn \_ http** selecciona la especificación de la secuencia de protocolos para RPC a través de http.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-129">**ncacn\_http** selects the protocol sequence specification for RPC over HTTP.</span></span> <span data-ttu-id="1b6fa-130">Para obtener más información, vea [constantes de secuencia de protocolo](protocol-sequence-constants.md) y enlace de [cadenas](string-binding.md).</span><span class="sxs-lookup"><span data-stu-id="1b6fa-130">For more information, see [Protocol Sequence Constants](protocol-sequence-constants.md) and [String Binding](string-binding.md).</span></span>
-   <span data-ttu-id="1b6fa-131">*el \_ servidor RPC* es la dirección de red del equipo que está ejecutando el proceso de servidor RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-131">*rpc\_server* is the network address of the computer that is executing the RPC server process.</span></span> <span data-ttu-id="1b6fa-132">La dirección del servidor debe especificarse en un formato visible y comprensible para el equipo proxy RPC, no para el cliente.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-132">The server address must be specified in a form visible and understandable by the RPC proxy computer, not by the client.</span></span> <span data-ttu-id="1b6fa-133">Dado que el cliente no se conecta directamente al servidor, no es necesario que pueda resolver el nombre del servidor o establecer una conexión con él.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-133">Since the client does not connect directly to the server, it does not need to be able to resolve the name of the server, or establish a connection to it.</span></span> <span data-ttu-id="1b6fa-134">El proxy RPC establecerá la conexión en nombre del cliente y, por tanto, *el \_ servidor RPC* debe ser un nombre reconocible por el proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-134">The RPC proxy will establish the connection on the client's behalf, and therefore, *rpc\_server* must be a name recognizable by the RPC proxy.</span></span>
-   <span data-ttu-id="1b6fa-135">*Endpoint* especifica el puerto TCP/IP que escucha el proceso de servidor RPC para las llamadas a procedimientos remotos.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-135">*endpoint* specifies the TCP/IP port that the RPC server process listens to for remote procedure calls.</span></span> <span data-ttu-id="1b6fa-136">Para obtener más información, vea [Buscar extremos](finding-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="1b6fa-136">For more information, see [Finding Endpoints](finding-endpoints.md).</span></span>
-   <span data-ttu-id="1b6fa-137">**HttpProxy** especifica opcionalmente un servidor proxy http en la red del cliente RPC, como Microsoft Proxy Server.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-137">**HttpProxy** optionally specifies an HTTP proxy server on the RPC client's network, such as Microsoft Proxy Server.</span></span> <span data-ttu-id="1b6fa-138">Si se selecciona un servidor proxy, no se especifica ningún número de puerto, el código auxiliar de RPC usa el puerto 80 de forma predeterminada si no se solicita SSL y el puerto 443 si se especifica SSL.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-138">If a proxy server is selected, no port number is specified, the RPC stub uses port 80 by default if SSL is not requested, and port 443 if SSL is specified.</span></span>
-   <span data-ttu-id="1b6fa-139">**RpcProxy** especifica la dirección y el número de puerto del equipo de IIS que actúa como proxy para el servidor RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-139">**RpcProxy** specifies the address and port number of the IIS computer that acts as a proxy to the RPC server.</span></span> <span data-ttu-id="1b6fa-140">Solo tiene que especificar esto si el proceso de servidor RPC reside en un equipo diferente del proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-140">You only need to specify this if the RPC server process resides on a different computer than the RPC proxy.</span></span> <span data-ttu-id="1b6fa-141">Si no especifica un número de puerto, el código auxiliar de cliente RPC utiliza de forma predeterminada el puerto 80 si no se especifica SSL y utiliza el puerto 443 si se especifica SSL (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="1b6fa-141">If you do not specify a port number, the RPC client stub by default uses port 80 if SSL is not specified, and uses port 443 if SSL (HTTPS) is specified.</span></span>
-   <span data-ttu-id="1b6fa-142">**HttpConnectionOption** opcionalmente permite dirigir el comportamiento de RPC al realizar conexiones http.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-142">**HttpConnectionOption** optionally allows you to direct RPC’s behavior when making HTTP connections.</span></span> <span data-ttu-id="1b6fa-143">El valor **UseHttpProxy** indica a RPC que enrute su tráfico a través del proxy http en todo momento, incluso cuando el cliente tiene establecidas las opciones de Internet en Internet Explorer para "omitir el servidor proxy para direcciones locales".</span><span class="sxs-lookup"><span data-stu-id="1b6fa-143">The **UseHttpProxy** value instructs RPC to route its traffic through the Http proxy at all times, including when the client has their Internet Options set in Internet Explorer to “Bypass proxy server for local addresses.”</span></span>

    <span data-ttu-id="1b6fa-144">Esta opción es compatible con Windows 7, Windows Server 2008 R2, Windows 8.1 y Windows Server 2012 R2 con KB2916915 instalado.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-144">This option is supported on Windows 7, Windows Server 2008 R2, Windows 8.1, and Windows Server 2012 R2 with KB2916915 installed.</span></span> <span data-ttu-id="1b6fa-145">Esta opción no se admite en Windows 8 y Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-145">This option is not supported on Windows 8 and Windows Server 2012.</span></span> <span data-ttu-id="1b6fa-146">Las aplicaciones pueden determinar si esta opción es compatible con el tiempo de ejecución de RPC comprobando el valor del registro **ConnectionOptionsFlag** situado en la siguiente clave del registro:</span><span class="sxs-lookup"><span data-stu-id="1b6fa-146">Applications can determine if this option is supported by the RPC runtime by checking the **ConnectionOptionsFlag** registry value located under the following registry key:</span></span>

    <span data-ttu-id="1b6fa-147">**HKEY \_ local \_ Machine \\ software \\ Microsoft \\ RPC**</span><span class="sxs-lookup"><span data-stu-id="1b6fa-147">**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Rpc**</span></span>

    <span data-ttu-id="1b6fa-148">Si se establece el bit 0 (LSB) de este valor del registro, se admite esta opción específica; de lo contrario, esta opción no es compatible con el tiempo de ejecución de RPC en el sistema.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-148">If the bit 0 (LSB) of this registry value is set, then this specific option is supported; otherwise, this option is not supported by the RPC runtime in the system.</span></span>

<span data-ttu-id="1b6fa-149">Para obtener más información sobre cómo crear enlaces de cadena, vea [enlazar y controlar](binding-and-handles.md).</span><span class="sxs-lookup"><span data-stu-id="1b6fa-149">For more information on creating string bindings, see [Binding and Handles](binding-and-handles.md).</span></span>

<span data-ttu-id="1b6fa-150">El programa de servidor RPC puede aceptar llamadas RPC por túnel escuchando en la \_ secuencia del protocolo http ncacn.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-150">The RPC server program can accept tunneled RPC calls by listening on the ncacn\_http protocol sequence.</span></span>

<span data-ttu-id="1b6fa-151">Microsoft tiene dos implementaciones principales de RPC a través de HTTP: la versión 1 y la versión 2.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-151">Microsoft has two major implementations of RPC over HTTP: Version 1 and Version 2.</span></span>

<span data-ttu-id="1b6fa-152">La versión 1 (llamada RPC a través de HTTP V1) se admite a través de Windows XP.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-152">Version 1 (called RPC over HTTP v1) is supported through Windows XP.</span></span> <span data-ttu-id="1b6fa-153">La versión 1 del proxy RPC se admite a través de Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-153">Version 1 of the RPC proxy is supported through Windows 2000.</span></span>

<span data-ttu-id="1b6fa-154">La versión 2 (llamada RPC a través de HTTP V2) es la versión actual.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-154">Version 2 (called RPC over HTTP v2) is the current version.</span></span>

<span data-ttu-id="1b6fa-155">Las dos versiones tienen capacidades diferentes y una interoperabilidad limitada.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-155">The two versions have different capabilities and limited interoperability.</span></span> <span data-ttu-id="1b6fa-156">Aquí se proporciona un resumen de las diferencias.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-156">A summary of the differences is provided here.</span></span> <span data-ttu-id="1b6fa-157">Para conocer las consideraciones de interoperabilidad, consulte [requisitos del sistema e interoperabilidad de RPC a través de http](system-requirements-and-interoperability-for-rpc-over-http.md).</span><span class="sxs-lookup"><span data-stu-id="1b6fa-157">For interoperability considerations, see [System Requirements and Interoperability for RPC over HTTP](system-requirements-and-interoperability-for-rpc-over-http.md).</span></span>

-   <span data-ttu-id="1b6fa-158">RPC a través de HTTP v1 requiere que el protocolo de túnel SSL esté habilitado en todos los servidores proxy o firewalls HTTP entre el cliente RPC a través de HTTP y el proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-158">RPC over HTTP v1 requires SSL Tunneling to be enabled on all HTTP proxies/firewalls between the RPC over HTTP client and the RPC proxy.</span></span> <span data-ttu-id="1b6fa-159">RPC a través de HTTP v1 intenta crear un túnel SSL a través del puerto 80 aunque los datos que envía no estén cifrados con SSL.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-159">RPC over HTTP v1 attempts to build an SSL Tunnel over port 80 even though the data it sends is not actually SSL-encrypted.</span></span> <span data-ttu-id="1b6fa-160">Los servidores proxy y los firewalls suelen rechazar dichas solicitudes, a menos que se configure explícitamente para permitirlos.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-160">Proxies and firewalls usually reject such requests unless explicitly configured to allow them.</span></span> <span data-ttu-id="1b6fa-161">RPC a través de HTTP V2 no tiene este requisito.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-161">RPC over HTTP v2 has no such requirement.</span></span>
-   <span data-ttu-id="1b6fa-162">RPC a través de HTTP v1 no puede establecer una sesión SSL en el proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-162">RPC over HTTP v1 cannot establish an SSL session to the RPC proxy.</span></span> <span data-ttu-id="1b6fa-163">RPC a través de HTTP V2 puede enviar todo el tráfico de RPC a través de HTTP dentro de una sesión SSL; de forma predeterminada, V2 requiere que los datos se envíen en una sesión SSL.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-163">The RPC over HTTP v2 can send all RPC over HTTP traffic within an SSL session; by default v2 requires the data be sent within an SSL session.</span></span>
-   <span data-ttu-id="1b6fa-164">RPC a través de HTTP v1 no se puede autenticar en el proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-164">RPC over HTTP v1 cannot authenticate to the RPC proxy.</span></span> <span data-ttu-id="1b6fa-165">RPC a través de HTTP V2 puede autenticarse; de forma predeterminada, V2 requiere autenticación en el proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-165">RPC over HTTP v2 can authenticate; by default v2 requires authentication to the RPC proxy.</span></span>
-   <span data-ttu-id="1b6fa-166">El proxy RPC v1 no funciona correctamente cuando el equipo IIS en el que está instalado forma parte de una granja de servidores Web.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-166">RPC proxy v1 does not operate correctly when the IIS machine on which it is installed is part of a web farm.</span></span> <span data-ttu-id="1b6fa-167">El proxy RPC V2 funciona correctamente cuando el equipo IIS en el que está instalado forma parte de una granja de servidores Web.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-167">RPC proxy v2 operates properly when the IIS machine on which it is installed is part of a web farm.</span></span>

> [!Note]  
> <span data-ttu-id="1b6fa-168">Si Microsoft Internet Explorer está instalado en el equipo del programa cliente y el cliente no especifica un **HttpProxy** en su enlace de cadena, el código auxiliar del cliente RPC buscará en el registro del equipo cliente una entrada **HttpProxy** .</span><span class="sxs-lookup"><span data-stu-id="1b6fa-168">If Microsoft Internet Explorer is installed on the client program's computer and your client does not specify an **HttpProxy** in its string binding, the RPC client stub will search the registry on the client computer for an **HttpProxy** entry.</span></span> <span data-ttu-id="1b6fa-169">Si encuentra uno, usará el proxy especificado en la entrada del registro.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-169">If it finds one, it will use the proxy specified in the registry entry.</span></span>

 

<span data-ttu-id="1b6fa-170">Supongamos, por ejemplo, que el programa cliente necesita conectarse a través de Internet a un servidor RPC en un equipo denominado Server7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-170">Suppose, for instance, your client program needs to connect across the Internet to an RPC server on a computer called Server7.microsoft.com.</span></span> <span data-ttu-id="1b6fa-171">Además, supongamos que el proxy RPC se ejecuta en Major7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-171">Further, suppose that the RPC proxy runs on Major7.microsoft.com.</span></span> <span data-ttu-id="1b6fa-172">El programa de servidor RPC escucha en el puerto 2225.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-172">The RPC server program listens to port 2225.</span></span> <span data-ttu-id="1b6fa-173">El cliente usaría el enlace de cadenas:</span><span class="sxs-lookup"><span data-stu-id="1b6fa-173">Your client would use the string binding:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[2225, RpcProxy=Major7.microsoft.com]
```

<span data-ttu-id="1b6fa-174">Si el proxy RPC puede resolver el nombre del servidor como Server7, sin necesidad de un nombre de dominio completo, también puede especificar:</span><span class="sxs-lookup"><span data-stu-id="1b6fa-174">If the RPC proxy can resolve the server name as Server7, without requiring a fully qualified domain name, you can also specify:</span></span>

``` syntax
ncacn_http:Server7 [2225, RpcProxy=Major7.microsoft.com]
```

<span data-ttu-id="1b6fa-175">Si la red del cliente usa un firewall y un servidor proxy de Internet denominado mi proxy, e Internet Explorer en el cliente no está configurado para usar ese proxy, deberá modificar el enlace de cadenas del cliente a:</span><span class="sxs-lookup"><span data-stu-id="1b6fa-175">If the client network uses a firewall and an Internet proxy server called myproxy, and Internet Explorer on the client is not configured to use that proxy, you would need to modify the client's string binding to:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[,HttpProxy=myproxy:80,RpcProxy=Major7.microsoft.com:80]
```

<span data-ttu-id="1b6fa-176">Esto indica al cliente que se conecte al programa de servidor RPC en Server7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-176">This directs the client to connect to the RPC server program on Server7.microsoft.com.</span></span> <span data-ttu-id="1b6fa-177">Para ello, el cliente usará primero el puerto 80 (o el puerto 443 si se usa SSL) para conectarse a mi proxy.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-177">To do this, the client will first use port 80 (or port 443 if SSL is used) to connect to myproxy.</span></span> <span data-ttu-id="1b6fa-178">Esto permitirá que el programa cliente tenga acceso a Internet.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-178">This will give the client program access to the Internet.</span></span> <span data-ttu-id="1b6fa-179">Mediante Internet, el programa cliente se conecta al proxy RPC en Major7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-179">Using the Internet, the client program next connects to the RPC proxy on Major7.microsoft.com.</span></span> <span data-ttu-id="1b6fa-180">El proxy RPC establecerá una conexión con el programa de servidor RPC que se ejecuta en Server7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-180">The RPC proxy will establish a connection to the RPC server program running on Server7.microsoft.com.</span></span>

<span data-ttu-id="1b6fa-181">Si la red del cliente usa un firewall y si no se puede tener acceso al proxy RPC directamente, para obtener una conexión establecida más rápido, el enlace de cadena del cliente se puede modificar para:</span><span class="sxs-lookup"><span data-stu-id="1b6fa-181">If the client network uses a firewall and if the RPC proxy cannot be reached directly, in order to get a connection established faster, the client string binding can be modified to:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[RpcProxy=Major7.microsoft.com:80,HttpConnectionOption=UseHttpProxy]
```

<span data-ttu-id="1b6fa-182">**HttpConnectionOption** permite dirigir el comportamiento de RPC al realizar conexiones http.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-182">The **HttpConnectionOption** allows you to direct RPC’s behavior when making HTTP connections.</span></span> <span data-ttu-id="1b6fa-183">El valor **UseHttpProxy** indica a RPC que enrute su tráfico a través del proxy http en todo momento, incluso cuando el cliente tiene establecidas las opciones de Internet en Internet Explorer para "omitir el servidor proxy para direcciones locales".</span><span class="sxs-lookup"><span data-stu-id="1b6fa-183">The **UseHttpProxy** value instructs RPC to route its traffic through the Http proxy at all times, including when the client has their Internet Options set in Internet Explorer to “Bypass proxy server for local addresses.”</span></span> <span data-ttu-id="1b6fa-184">Esto indica al cliente que se conecte forzosamente al proxy RPC a través del proxy http.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-184">This directs the client to forcefully connect to the RPC proxy through the Http proxy.</span></span> <span data-ttu-id="1b6fa-185">Esto acelera el tiempo de establecer una conexión, ya que omite cualquier retraso que busque el servidor RPC directamente antes de usar el proxy HTTP.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-185">This speeds up the time to establish a connection since it bypasses any delay searching for the RPC server directly prior to using the HTTP proxy.</span></span>

<span data-ttu-id="1b6fa-186">Si se usa la opción **HttpConnectionOption** e Internet Explorer en el cliente no está configurado para usar ese proxy http, pueden producirse errores en las conexiones con **\_ \_ \_ \_ las opciones de red no válidas de RPC**.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-186">If the **HttpConnectionOption** option is used and Internet Explorer on the client is not configured to use that Http proxy, connections may fail with **RPC\_S\_INVALID\_NETWORK\_OPTIONS**.</span></span>

<span data-ttu-id="1b6fa-187">La gran mayoría de los equipos de hoy en día se configuran para la exploración Web.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-187">The vast majority of computers today are configured for Web browsing.</span></span> <span data-ttu-id="1b6fa-188">Por lo tanto, la mayoría de los clientes no necesitan especificar el **HttpProxy**, porque se recuperará de la configuración de conectividad a Internet.</span><span class="sxs-lookup"><span data-stu-id="1b6fa-188">Therefore, most clients do not need to specify the **HttpProxy**, because it will be retrieved from Internet connectivity settings.</span></span>

 

 




