---
description: En este tema se proporciona información sobre las consideraciones de seguridad relacionadas con las características de soporte técnico internacional.
ms.assetid: 4034f479-ad29-4c6f-82c6-977f420c4d4d
title: 'Consideraciones de seguridad: características internacionales'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aeb9f8b849e9fb1a07f01031832449b9c9027ae5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2021
ms.locfileid: "104279355"
---
# <a name="security-considerations-international-features"></a><span data-ttu-id="6f711-103">Consideraciones de seguridad: características internacionales</span><span class="sxs-lookup"><span data-stu-id="6f711-103">Security Considerations: International Features</span></span>

<span data-ttu-id="6f711-104">En este tema se proporciona información sobre las consideraciones de seguridad relacionadas con las características de soporte técnico internacional.</span><span class="sxs-lookup"><span data-stu-id="6f711-104">This topic provides information about security considerations related to International Support features.</span></span> <span data-ttu-id="6f711-105">Puede usarlo como punto de partida y ver la documentación de la tecnología internacional de interés para las consideraciones de seguridad específicas de la tecnología.</span><span class="sxs-lookup"><span data-stu-id="6f711-105">You can use it as a starting point and then see the documentation for the international technology of interest for technology-specific security considerations.</span></span>

<span data-ttu-id="6f711-106">En este tema se incluyen las siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="6f711-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="6f711-107">Consideraciones de seguridad para las funciones de conversión de caracteres</span><span class="sxs-lookup"><span data-stu-id="6f711-107">Security Considerations for Character Conversion Functions</span></span>](#security-considerations-for-character-conversion-functions)
-   [<span data-ttu-id="6f711-108">Consideraciones de seguridad para las funciones de comparación</span><span class="sxs-lookup"><span data-stu-id="6f711-108">Security Considerations for Comparison Functions</span></span>](#security-considerations-for-comparison-functions)
-   [<span data-ttu-id="6f711-109">Consideraciones de seguridad para juegos de caracteres en nombres de archivo</span><span class="sxs-lookup"><span data-stu-id="6f711-109">Security Considerations for Character Sets in File Names</span></span>](#security-considerations-for-character-sets-in-file-names)
-   [<span data-ttu-id="6f711-110">Consideraciones de seguridad para nombres de dominio internacionalizados</span><span class="sxs-lookup"><span data-stu-id="6f711-110">Security Considerations for Internationalized Domain Names</span></span>](#security-considerations-for-internationalized-domain-names)
-   [<span data-ttu-id="6f711-111">Consideraciones de seguridad para las funciones ANSI</span><span class="sxs-lookup"><span data-stu-id="6f711-111">Security Considerations for ANSI Functions</span></span>](#security-considerations-for-ansi-functions)
-   [<span data-ttu-id="6f711-112">Consideraciones de seguridad para la normalización Unicode</span><span class="sxs-lookup"><span data-stu-id="6f711-112">Security Considerations for Unicode Normalization</span></span>](#security-considerations-for-unicode-normalization)

## <a name="security-considerations-for-character-conversion-functions"></a><span data-ttu-id="6f711-113">Consideraciones de seguridad para las funciones de conversión de caracteres</span><span class="sxs-lookup"><span data-stu-id="6f711-113">Security Considerations for Character Conversion Functions</span></span>

<span data-ttu-id="6f711-114">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) y [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) son las funciones de Unicode y de juego de caracteres que se usan con más frecuencia para convertir caracteres entre ANSI y Unicode.</span><span class="sxs-lookup"><span data-stu-id="6f711-114">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) are the Unicode and character set functions most commonly used to convert characters between ANSI and Unicode.</span></span> <span data-ttu-id="6f711-115">Estas funciones tienen el potencial de provocar riesgos de seguridad porque cuentan los elementos de los búferes de entrada y salida de manera diferente.</span><span class="sxs-lookup"><span data-stu-id="6f711-115">These functions have the potential of causing security risks because they count the elements of the input and output buffers differently.</span></span> <span data-ttu-id="6f711-116">Por ejemplo, [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) toma un búfer de entrada contado en bytes y coloca los caracteres convertidos en un búfer con el tamaño de los caracteres Unicode.</span><span class="sxs-lookup"><span data-stu-id="6f711-116">For example, [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) takes an input buffer counted in bytes and puts the converted characters into a buffer sized in Unicode characters.</span></span> <span data-ttu-id="6f711-117">Cuando la aplicación usa esta función, debe cambiar el tamaño de los búferes correctamente para evitar una saturación del búfer.</span><span class="sxs-lookup"><span data-stu-id="6f711-117">When your application uses this function, it must size the buffers correctly to avoid a buffer overrun.</span></span>

<span data-ttu-id="6f711-118">[**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) tiene como valor predeterminado la asignación "mejor ajuste" para las páginas de códigos, como 1252.</span><span class="sxs-lookup"><span data-stu-id="6f711-118">[**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) defaults to "best fit" mapping for code pages, such as 1252.</span></span> <span data-ttu-id="6f711-119">Sin embargo, este tipo de asignación permite varias representaciones de la misma cadena, lo que puede hacer que la aplicación sea vulnerable a ataques.</span><span class="sxs-lookup"><span data-stu-id="6f711-119">However, this type of mapping allows multiple representations of the same string, potentially leaving your application vulnerable to attack.</span></span> <span data-ttu-id="6f711-120">Por ejemplo, la letra mayúscula latina a con diéresis ("Ä") podría asignarse a la letra mayúscula latina a ("A"); un carácter Unicode en un idioma Asiático puede asignarse a una barra diagonal ("/").</span><span class="sxs-lookup"><span data-stu-id="6f711-120">For example, Latin capital letter A with dieresis ("Ä") might map to Latin capital letter A ("A"); a Unicode character in an Asian language might map to a slash ("/").</span></span> <span data-ttu-id="6f711-121">El uso de la \_ marca CT no \_ se recomiendan los \_ caracteres de ajuste no recomendado \_ es preferible desde una perspectiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="6f711-121">The use of the WC\_NO\_BEST\_FIT\_CHARS flag is preferred from a security perspective.</span></span>

<span data-ttu-id="6f711-122">Algunas páginas de códigos, por ejemplo, las páginas de códigos 5022x (ISO-2022-x), son intrínsecamente inseguras porque permiten varias representaciones de la misma cadena.</span><span class="sxs-lookup"><span data-stu-id="6f711-122">Some code pages, for example, the 5022x (iso-2022-x) code pages, are inherently insecure because they allow multiple representations of the same string.</span></span> <span data-ttu-id="6f711-123">El código escrito correctamente realiza comprobaciones de seguridad en el formato Unicode, pero estos tipos de páginas de códigos amplían la susceptibilidad de ataque de las aplicaciones y deben evitarse si es posible.</span><span class="sxs-lookup"><span data-stu-id="6f711-123">Properly written code performs security checks in the Unicode form, but these types of code pages expand the attack susceptibility of your applications and should be avoided if possible.</span></span>

## <a name="security-considerations-for-comparison-functions"></a><span data-ttu-id="6f711-124">Consideraciones de seguridad para las funciones de comparación</span><span class="sxs-lookup"><span data-stu-id="6f711-124">Security Considerations for Comparison Functions</span></span>

<span data-ttu-id="6f711-125">Las comparaciones de cadenas pueden presentar problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="6f711-125">String comparisons can potentially present security issues.</span></span> <span data-ttu-id="6f711-126">Dado que todas las funciones de comparación son ligeramente diferentes, una función podría notificar dos cadenas como iguales, mientras que otra podría considerarlas distintas.</span><span class="sxs-lookup"><span data-stu-id="6f711-126">Because all comparison functions are slightly different, one function might report two strings as equal, while another function might consider them distinct.</span></span> <span data-ttu-id="6f711-127">A continuación se muestran varias funciones que las aplicaciones pueden usar para comparar cadenas:</span><span class="sxs-lookup"><span data-stu-id="6f711-127">The following are several functions your applications can use to compare strings:</span></span>

-   <span data-ttu-id="6f711-128">[lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="6f711-128">[lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span> <span data-ttu-id="6f711-129">Compara dos cadenas de caracteres según las reglas de la configuración regional, sin distinción de mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="6f711-129">Compares two character strings according to the rules of the locale, without case-sensitivity.</span></span> <span data-ttu-id="6f711-130">La función compara las cadenas comprobando los primeros caracteres entre sí, los segundos entre sí, etc., hasta que encuentra una desigualdad o alcanza los extremos de las cadenas.</span><span class="sxs-lookup"><span data-stu-id="6f711-130">The function compares the strings by checking the first characters against each other, the second characters against each other, and so on, until it finds an inequality or reaches the ends of the strings.</span></span>
-   <span data-ttu-id="6f711-131">[lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa).</span><span class="sxs-lookup"><span data-stu-id="6f711-131">[lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa).</span></span> <span data-ttu-id="6f711-132">Compara cadenas mediante técnicas similares a las de [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="6f711-132">Compares strings using techniques similar to those of [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span> <span data-ttu-id="6f711-133">La única diferencia es que [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) realiza una comparación de cadenas que distingue entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="6f711-133">The only difference is that [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) performs a case-sensitive string comparison.</span></span>
-   <span data-ttu-id="6f711-134">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) (Windows Vista y versiones posteriores).</span><span class="sxs-lookup"><span data-stu-id="6f711-134">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) (Windows Vista and later).</span></span> <span data-ttu-id="6f711-135">Realice una comparación de cadenas en una configuración regional proporcionada por la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6f711-135">Perform a string comparison on an application-supplied locale.</span></span> <span data-ttu-id="6f711-136">[**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) es similar a [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), pero identifica una configuración regional por [el nombre de la configuración regional](locale-names.md) en lugar del [identificador de configuración regional](locale-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="6f711-136">[**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is similar to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), but it identifies a locale by [locale name](locale-names.md) instead of [locale identifier](locale-identifiers.md).</span></span> <span data-ttu-id="6f711-137">Estas funciones son similares a [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) y [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) , salvo que operan en una configuración regional específica en lugar de en una configuración regional seleccionada por el usuario.</span><span class="sxs-lookup"><span data-stu-id="6f711-137">These functions are similar to [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) except that they operate on a specific locale instead of a user-selected locale.</span></span>
-   <span data-ttu-id="6f711-138">[**Comparestringordinal (**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) (Windows Vista y versiones posteriores).</span><span class="sxs-lookup"><span data-stu-id="6f711-138">[**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) (Windows Vista and later).</span></span> <span data-ttu-id="6f711-139">Compara dos cadenas Unicode para probar la equivalencia binaria.</span><span class="sxs-lookup"><span data-stu-id="6f711-139">Compares two Unicode strings to test binary equivalence.</span></span> <span data-ttu-id="6f711-140">Excepto en el caso de que no se distinga entre mayúsculas y minúsculas, esta función no tiene en cuenta todas las equivalencias no binarias y comprueba la igualdad de todos los puntos de código, incluidos los puntos de código a los que no se les da ningún peso en los esquemas de [ordenación](sorting.md) lingüísticos.</span><span class="sxs-lookup"><span data-stu-id="6f711-140">Except for the option of being case-insensitive, this function disregards all non-binary equivalences, and tests all code points for equality, including code points that are not given any weight in linguistic [sorting](sorting.md) schemes.</span></span> <span data-ttu-id="6f711-141">Tenga en cuenta que las demás funciones de comparación mencionadas en este tema no prueban la igualdad de todos los puntos de código.</span><span class="sxs-lookup"><span data-stu-id="6f711-141">Note that the other comparison functions mentioned in this topic do not test all code points for equality.</span></span>
-   <span data-ttu-id="6f711-142">[**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) (Windows Vista y versiones posteriores).</span><span class="sxs-lookup"><span data-stu-id="6f711-142">[**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) (Windows Vista and later).</span></span> <span data-ttu-id="6f711-143">Busque una cadena Unicode en otra cadena Unicode.</span><span class="sxs-lookup"><span data-stu-id="6f711-143">Locate a Unicode string in another Unicode string.</span></span> <span data-ttu-id="6f711-144">[**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) es similar a [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), salvo que identifica una configuración regional mediante el nombre de configuración regional en lugar del identificador de configuración regional.</span><span class="sxs-lookup"><span data-stu-id="6f711-144">[**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) is similar to [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), except that it identifies a locale by locale name instead of locale identifier.</span></span>
-   <span data-ttu-id="6f711-145">[**FindStringOrdinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal) (Windows 7 y versiones posteriores).</span><span class="sxs-lookup"><span data-stu-id="6f711-145">[**FindStringOrdinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal) (Windows 7 and later).</span></span> <span data-ttu-id="6f711-146">Busca una cadena Unicode en otra cadena Unicode.</span><span class="sxs-lookup"><span data-stu-id="6f711-146">Locates one Unicode string in another Unicode string.</span></span> <span data-ttu-id="6f711-147">La aplicación debe usar esta función en lugar de [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) para todas las comparaciones no lingüísticas.</span><span class="sxs-lookup"><span data-stu-id="6f711-147">The application should use this function instead of [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) for all non-linguistic comparisons.</span></span>

<span data-ttu-id="6f711-148">Como [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) y [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) evalúa las cadenas carácter a carácter.</span><span class="sxs-lookup"><span data-stu-id="6f711-148">Like [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) evaluates strings character by character.</span></span> <span data-ttu-id="6f711-149">Sin embargo, muchos lenguajes tienen elementos de varios caracteres, por ejemplo, el elemento de dos caracteres "CH" en español tradicional.</span><span class="sxs-lookup"><span data-stu-id="6f711-149">However, many languages have multiple-character elements, for example, the two-character element "CH" in traditional Spanish.</span></span> <span data-ttu-id="6f711-150">Dado que [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) usa la configuración regional proporcionada por la aplicación para identificar elementos de varios caracteres y [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) y [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) usan la configuración regional del subproceso, es posible que las cadenas idénticas no se comparen como iguales.</span><span class="sxs-lookup"><span data-stu-id="6f711-150">Because [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) uses the locale furnished by the application to identify multiple-character elements and [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) use the thread locale, identical strings might not compare as equal.</span></span>

<span data-ttu-id="6f711-151">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) omite los caracteres no definidos y, por tanto, devuelve cero (que indica cadenas iguales) para muchos pares de cadenas que son bastante distintos.</span><span class="sxs-lookup"><span data-stu-id="6f711-151">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) ignores undefined characters, and thus returns zero (indicating equal strings) for many string pairs that are quite distinct.</span></span> <span data-ttu-id="6f711-152">Una cadena puede contener valores que no se asignan a ningún carácter o que contengan caracteres con semántica fuera del dominio de la aplicación, como los caracteres de control de una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="6f711-152">A string might contain values that do not map to any character or it might contain characters with semantics outside the domain of the application, such as control characters in a URL.</span></span> <span data-ttu-id="6f711-153">Las aplicaciones que utilizan esta función deben proporcionar controladores de error y cadenas de prueba para asegurarse de que son válidas antes de utilizarlas.</span><span class="sxs-lookup"><span data-stu-id="6f711-153">Applications using this function should provide error handlers and test strings to make sure that they are valid before using them.</span></span>

> [!Note]  
> <span data-ttu-id="6f711-154">En Windows Vista y versiones posteriores, [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) es similar a [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span><span class="sxs-lookup"><span data-stu-id="6f711-154">For Windows Vista and later, [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is similar to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span></span> <span data-ttu-id="6f711-155">Los problemas de seguridad son idénticos para estas funciones.</span><span class="sxs-lookup"><span data-stu-id="6f711-155">The security issues are identical for these functions.</span></span>

 

<span data-ttu-id="6f711-156">Se aplican problemas de seguridad similares a las funciones, como [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), que realizan comparaciones implícitas.</span><span class="sxs-lookup"><span data-stu-id="6f711-156">Similar security issues apply to functions, such as [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), that make implicit comparisons.</span></span> <span data-ttu-id="6f711-157">Dependiendo de las marcas que se establezcan, los resultados de llamar a [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) para buscar una cadena en otra cadena pueden diferir considerablemente.</span><span class="sxs-lookup"><span data-stu-id="6f711-157">Depending on the flags that are set, the results of calling [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) to search for one string within another string can differ considerably.</span></span>

> [!Note]  
> <span data-ttu-id="6f711-158">En Windows Vista y versiones posteriores, [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) es similar a [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring).</span><span class="sxs-lookup"><span data-stu-id="6f711-158">For Windows Vista and later, [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) is similar to [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring).</span></span> <span data-ttu-id="6f711-159">Los problemas de seguridad son idénticos para estas funciones.</span><span class="sxs-lookup"><span data-stu-id="6f711-159">The security issues are identical for these functions.</span></span>

 

## <a name="security-considerations-for-character-sets-in-file-names"></a><span data-ttu-id="6f711-160">Consideraciones de seguridad para juegos de caracteres en nombres de archivo</span><span class="sxs-lookup"><span data-stu-id="6f711-160">Security Considerations for Character Sets in File Names</span></span>

<span data-ttu-id="6f711-161">La página de códigos de Windows y los juegos de caracteres OEM utilizados en los sistemas de idioma japonés contienen el símbolo del yen (¥) en lugar de una barra diagonal inversa ( \\ ).</span><span class="sxs-lookup"><span data-stu-id="6f711-161">Windows code page and OEM character sets used on Japanese-language systems contain the Yen symbol (¥) instead of a backslash (\\).</span></span> <span data-ttu-id="6f711-162">Por lo tanto, el carácter del yen es un carácter prohibido para los sistemas de archivos NTFS y FAT.</span><span class="sxs-lookup"><span data-stu-id="6f711-162">Thus, the Yen character is a prohibited character for NTFS and FAT file systems.</span></span> <span data-ttu-id="6f711-163">Al asignar Unicode a una página de códigos en japonés, las funciones de conversión asignan la barra diagonal inversa (U + 005C) y el símbolo de yen Unicode normal (U + 00A5) a este mismo carácter.</span><span class="sxs-lookup"><span data-stu-id="6f711-163">When mapping Unicode to a Japanese-language code page, conversion functions map both backslash (U+005C) and the normal Unicode Yen symbol (U+00A5) to this same character.</span></span> <span data-ttu-id="6f711-164">Por motivos de seguridad, las aplicaciones no suelen permitir el carácter U + 00A5 en una cadena Unicode que podría convertirse para su uso como nombre de archivo FAT.</span><span class="sxs-lookup"><span data-stu-id="6f711-164">For security reasons, your applications should not typically allow the character U+00A5 in a Unicode string that might be converted for use as a FAT file name.</span></span>

## <a name="security-considerations-for-internationalized-domain-names"></a><span data-ttu-id="6f711-165">Consideraciones de seguridad para nombres de dominio internacionalizados</span><span class="sxs-lookup"><span data-stu-id="6f711-165">Security Considerations for Internationalized Domain Names</span></span>

<span data-ttu-id="6f711-166">Los nombres de dominio internacionalizados (IDN) se especifican mediante el grupo de trabajo [de red RFC 3490: internacionalización de nombres de dominio en las aplicaciones (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span><span class="sxs-lookup"><span data-stu-id="6f711-166">Internationalized Domain Names (IDNs) are specified by Network Working Group [RFC 3490: Internationalizing Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span></span> <span data-ttu-id="6f711-167">El estándar presenta una serie de problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="6f711-167">The standard introduces a number of security issues.</span></span>

<span data-ttu-id="6f711-168">Los glifos que representan ciertos caracteres de distintos scripts pueden ser similares o incluso idénticos.</span><span class="sxs-lookup"><span data-stu-id="6f711-168">Glyphs representing certain characters from different scripts might appear similar or even identical.</span></span> <span data-ttu-id="6f711-169">Por ejemplo, en muchas fuentes, no se distinguen las minúsculas ("a") de la letra latina minúscula a ("a").</span><span class="sxs-lookup"><span data-stu-id="6f711-169">For example, in many fonts, Cyrillic lowercase A ("a") is indistinguishable from Latin lowercase A ("a").</span></span> <span data-ttu-id="6f711-170">No hay ninguna manera de indicar visualmente que "example.com" y "example.com" son dos nombres de dominio diferentes, uno con latín en minúsculas en el nombre, el otro con una letra cirílica minúscula A. Un sitio host no escrupuloso puede utilizar esta ambigüedad visual para fingir que es otro sitio en un ataque de suplantación de identidad.</span><span class="sxs-lookup"><span data-stu-id="6f711-170">There is no way to tell visually that "example.com" and "example.com" are two different domain names,one with a Latin lowercase A in the name, the other with a Cyrillic lowercase A. An unscrupulous host site can use this visual ambiguity to pretend to be another site in a spoofing attack.</span></span>

<span data-ttu-id="6f711-171">El juego de caracteres extendidos que el IDNA permite para IDN también tiene potencial de suplantación de identidad en un script determinado.</span><span class="sxs-lookup"><span data-stu-id="6f711-171">The extended character set that IDNA allows for IDNs also has spoofing potential within a particular script.</span></span> <span data-ttu-id="6f711-172">Por ejemplo, hay un gran similitud entre el guión menos ("-" U + 002D). el guion ("-" U + 2010), el guion sin interrupción ("-" U + 2011), el guión de la figura ("\u2012" U + 2012), el guión en ("–" U + 2013) y el signo menos ("−" U + 2212).</span><span class="sxs-lookup"><span data-stu-id="6f711-172">For example, there is a strong resemblance among the hyphen-minus ("-" U+002D), the hyphen ("—" U+2010), the non-breaking hyphen ("‑" U+2011), the figure dash ("‒" U+2012), the en dash ("–" U+2013), and the minus sign ("−" U+2212).</span></span>

<span data-ttu-id="6f711-173">Se producen problemas similares con ciertas composiciones de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="6f711-173">Similar issues arise from certain compatibility compositions.</span></span> <span data-ttu-id="6f711-174">Por ejemplo, el número de carácter Unicode veinte STOP completo ("20.", U + 249B) se convierte en "20".</span><span class="sxs-lookup"><span data-stu-id="6f711-174">For example, the single Unicode character NUMBER TWENTY FULL STOP ("⒛", U+249B) is converted to "20."</span></span> <span data-ttu-id="6f711-175">(U + 0032 U + 0030 U + 002E) en un paso NamePrep, antes de la conversión a Punycode.</span><span class="sxs-lookup"><span data-stu-id="6f711-175">(U+0032 U+0030 U+002E) in a NamePrep step, prior to conversion to Punycode.</span></span> <span data-ttu-id="6f711-176">En otras palabras, esta composición inserta un punto (detención completa).</span><span class="sxs-lookup"><span data-stu-id="6f711-176">In other words, this composition inserts a period (full stop).</span></span> <span data-ttu-id="6f711-177">Estas composiciones tienen potencial de suplantación de identidad.</span><span class="sxs-lookup"><span data-stu-id="6f711-177">Such compositions have spoofing potential.</span></span>

<span data-ttu-id="6f711-178">La combinación de distintos scripts en un IDN no indica necesariamente la suplantación de identidad o la intención engañosa.</span><span class="sxs-lookup"><span data-stu-id="6f711-178">Mixing of different scripts in an IDN does not necessarily indicate spoofing or deceptive intent.</span></span> <span data-ttu-id="6f711-179">[Informe técnico \# 36: las consideraciones de seguridad de Unicode](https://www.unicode.org/reports/tr36/#international_domain_names) proporcionan varios ejemplos de IDN razonables que contienen una combinación de scripts, como XML-Документы. com ("Документы" es ruso para "documentos").</span><span class="sxs-lookup"><span data-stu-id="6f711-179">[Technical Report \#36: Unicode Security Considerations](https://www.unicode.org/reports/tr36/#international_domain_names) gives several examples of reasonable IDNs that contain a mix of scripts, such as XML-Документы.com ("Документы" is Russian for "documents").</span></span>

<span data-ttu-id="6f711-180">Los ataques de suplantación de identidad no están restringidos a IDN.</span><span class="sxs-lookup"><span data-stu-id="6f711-180">Spoofing attacks are not restricted to IDNs.</span></span> <span data-ttu-id="6f711-181">Por ejemplo, "rnicrosoft.com" es muy similar a "microsoft.com", pero es un nombre ASCII.</span><span class="sxs-lookup"><span data-stu-id="6f711-181">For example, "rnicrosoft.com" looks much like "microsoft.com", yet it is an ASCII name.</span></span> <span data-ttu-id="6f711-182">Además, se puede producir un ataque de suplantación de identidad por daños en un nombre.</span><span class="sxs-lookup"><span data-stu-id="6f711-182">Additionally, a spoofing attack can be made by corruption of a name.</span></span> <span data-ttu-id="6f711-183">Agregar etiquetas adicionales después de un nombre de marca bien conocido, o incluir el nombre de la marca en la ruta de acceso de una dirección URL etiquetada como segura, puede confundir a los usuarios inexpertos, independientemente del uso de IDN.</span><span class="sxs-lookup"><span data-stu-id="6f711-183">Adding extra labels after a well-known brand name, or including the brand name in the path of a URL labeled as secure, can confuse novice users, regardless of the use of the IDN.</span></span> <span data-ttu-id="6f711-184">En algunas configuraciones regionales, se requieren IDN y el formato Punycode de estos nombres no es aceptable, ya que hace que los nombres parezcan galimatíass.</span><span class="sxs-lookup"><span data-stu-id="6f711-184">For some locales, IDNs are required and the Punycode form of these names is unacceptable, since it makes the names look like gibberish.</span></span>

<span data-ttu-id="6f711-185">Para obtener más información sobre los problemas de seguridad que se mencionan aquí, además de un gran número de problemas relacionados con IDNA, consulte el [informe técnico \# 36: consideraciones de seguridad de Unicode](https://www.unicode.org/reports/tr36/#international_domain_names).</span><span class="sxs-lookup"><span data-stu-id="6f711-185">For more information about the security issues mentioned here, plus a large number of other issues relevant to IDNA, see [Technical Report \#36: Unicode Security Considerations](https://www.unicode.org/reports/tr36/#international_domain_names).</span></span> <span data-ttu-id="6f711-186">Junto con los debates detallados de los problemas de seguridad relacionados con IDNA, este informe ofrece sugerencias para tratar con los IDN sospechosos en las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="6f711-186">Along with detailed discussions of IDNA-related security issues, this report offers suggestions for dealing with suspect IDNs in your applications.</span></span>

## <a name="security-considerations-for-ansi-functions"></a><span data-ttu-id="6f711-187">Consideraciones de seguridad para las funciones ANSI</span><span class="sxs-lookup"><span data-stu-id="6f711-187">Security Considerations for ANSI Functions</span></span>

> [!Note]  
> <span data-ttu-id="6f711-188">Se recomienda usar Unicode en las aplicaciones globalizadas, especialmente las nuevas, si es posible.</span><span class="sxs-lookup"><span data-stu-id="6f711-188">You are recommended to use Unicode in your globalized applications, particularly new ones, if at all possible.</span></span> <span data-ttu-id="6f711-189">Solo debe usar funciones ANSI si tiene motivos invalidables para no usar Unicode, por ejemplo, la conformidad con un protocolo anterior que no admita Unicode.</span><span class="sxs-lookup"><span data-stu-id="6f711-189">You should use ANSI functions only if you have overriding reasons for not using Unicode, for example, conformance to an older protocol that does not support Unicode.</span></span>

 

<span data-ttu-id="6f711-190">Muchas funciones de compatibilidad con el idioma nacional (NLS), como [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) y [**GetCalendarInfo**](/windows/desktop/api/Winnls/nf-winnls-getcalendarinfoa), tienen versiones de ANSI específicas, en este caso, **GetLocaleInfoA** y **GetCalendarInfoA**, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="6f711-190">Many National Language Support (NLS) functions, such as [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) and [**GetCalendarInfo**](/windows/desktop/api/Winnls/nf-winnls-getcalendarinfoa), have specific ANSI versions, in this case, **GetLocaleInfoA** and **GetCalendarInfoA**, respectively.</span></span> <span data-ttu-id="6f711-191">Cuando la aplicación usa la versión ANSI de una función con un sistema operativo basado en Unicode, como Windows NT, Windows 2000, Windows XP o Windows Vista, la función puede producir un error o generar resultados indefinidos.</span><span class="sxs-lookup"><span data-stu-id="6f711-191">When your application uses the ANSI version of a function with a Unicode-based operating system, such as Windows NT, Windows 2000, Windows XP, or Windows Vista, the function can fail or produce undefined results.</span></span> <span data-ttu-id="6f711-192">Si tiene una razón convincente para usar funciones ANSI con este sistema operativo, asegúrese de que los datos que pasa la aplicación sean válidos para ANSI.</span><span class="sxs-lookup"><span data-stu-id="6f711-192">If you have a compelling reason to use ANSI functions with such an operating system, ensure that the data passed by your application is valid for ANSI.</span></span>

## <a name="security-considerations-for-unicode-normalization"></a><span data-ttu-id="6f711-193">Consideraciones de seguridad para la normalización Unicode</span><span class="sxs-lookup"><span data-stu-id="6f711-193">Security Considerations for Unicode Normalization</span></span>

<span data-ttu-id="6f711-194">Dado que la normalización Unicode puede cambiar la forma de una cadena, los mecanismos de seguridad o los algoritmos de validación de caracteres deben implementarse normalmente después de la normalización.</span><span class="sxs-lookup"><span data-stu-id="6f711-194">Since Unicode normalization can change the form of a string, security mechanisms or character validation algorithms should usually be implemented after normalization.</span></span> <span data-ttu-id="6f711-195">Por ejemplo, considere una aplicación con una interfaz web que acepte un nombre de archivo, pero que no acepte un nombre de ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="6f711-195">For example, consider an application with a Web interface that accepts a file name, but does not accept a path name.</span></span> <span data-ttu-id="6f711-196">Un cambio de ancho completo U + FF43 U + FF1A U + FF3C U + FF57 U + FF49 U + FF4E u + FF44 u + FF4F u + FF57 u + FF53 `(c : \ w i n d o w s)` cambia a u + 0063 u + 001A u + 003C u + 0077 u + 0069 u + 006E u + 0064 u + 006F u + 0077 con el `(c:\windows)` formato de la normalización de KC.</span><span class="sxs-lookup"><span data-stu-id="6f711-196">A full-width U+FF43 U+FF1A U+FF3C U+FF57 U+FF49 U+FF4E U+FF44 U+FF4F U+FF57 U+FF53 `(c : \ w i n d o w s)` changes to U+0063 U+001A U+003C U+0077 U+0069 U+006E U+0064 U+006F U+0077 U+0073 `(c:\windows)` with form KC normalization.</span></span> <span data-ttu-id="6f711-197">Si una aplicación comprueba la presencia de los caracteres de dos puntos y la barra diagonal inversa antes de implementar la normalización, el resultado puede ser un acceso de archivo involuntario.</span><span class="sxs-lookup"><span data-stu-id="6f711-197">If an application tests for the presence of the colon and backslash characters before it implements normalization, the result can be unintentional file access.</span></span>

<span data-ttu-id="6f711-198">Aunque la normalización Unicode es un elemento de proteger los sistemas operativos, recuerde que la normalización no es un reemplazo de una directiva de seguridad completa.</span><span class="sxs-lookup"><span data-stu-id="6f711-198">While Unicode normalization is an element in making operating systems secure, remember that normalization is not a replacement for a comprehensive security policy.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6f711-199">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="6f711-199">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6f711-200">Juegos de caracteres usados en nombres de archivo</span><span class="sxs-lookup"><span data-stu-id="6f711-200">Character Sets Used in File Names</span></span>](character-sets-used-in-file-names.md)
</dt> <dt>

[<span data-ttu-id="6f711-201">Convenciones para Prototipos de función</span><span class="sxs-lookup"><span data-stu-id="6f711-201">Conventions for Function Prototypes</span></span>](conventions-for-function-prototypes.md)
</dt> <dt>

[<span data-ttu-id="6f711-202">Controlar la ordenación en las aplicaciones</span><span class="sxs-lookup"><span data-stu-id="6f711-202">Handling Sorting in Your Applications</span></span>](handling-sorting-in-your-applications.md)
</dt> <dt>

[<span data-ttu-id="6f711-203">Administrar nombres de dominio internacionalizados (IDN)</span><span class="sxs-lookup"><span data-stu-id="6f711-203">Handling Internationalized Domain Names (IDNs)</span></span>](handling-internationalized-domain-names--idns.md)
</dt> <dt>

[<span data-ttu-id="6f711-204">Unicode</span><span class="sxs-lookup"><span data-stu-id="6f711-204">Unicode</span></span>](unicode.md)
</dt> </dl>

 

 
